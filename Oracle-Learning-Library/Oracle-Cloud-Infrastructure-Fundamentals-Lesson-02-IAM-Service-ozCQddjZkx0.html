<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Oracle Cloud Infrastructure Fundamentals - Lesson 02 - IAM Service | Coder Coacher - Coaching Coders</title><meta content="Oracle Cloud Infrastructure Fundamentals - Lesson 02 - IAM Service - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Oracle Cloud Infrastructure Fundamentals - Lesson 02 - IAM Service</b></h2><h5 class="post__date">2018-01-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ozCQddjZkx0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi everyone welcome to this lecture on
Oracle cloud infrastructure identity and
access management service also referred
to as I am service in this lecture we
will describe the key concepts and terms
used in the ion service ion service
basically lets you control who can
access your OCI account what services
and resources they can use and how they
can use these resources in a cloud a
resource is an object that you create
like your compute instances your
database instances etc there are five
key concepts you need to know in I am
principles users and groups policies and
compartments the last one compartment is
a unique OCN feature that we will look
into more details in the later slides so
what is a principle a principle is an
iamb entity that is allowed to interact
with OCI resources there are three key
principles that can authenticate and
interact with ocr-a resources and these
are root users
I am users and groups and instance
principles root user is associated with
the actual OCI account when you when you
sign up for OC I and cannot be
restricted in any way I am users and
groups are persistent identities that
can be controlled through the I am
service in fact users enforce principle
of least privilege so what that means is
users have no permissions until placed
in in one or more groups and those
particular groups having at least one
policy with permission to tenancy or a
compartment we will look into all these
in details in the later slides what are
in
principle which is the third kind of
principles which can be which is which
can be present in OCI so let me give an
example suppose that an application
running on an OSI a compute instance
needs to access an OSI I object storage
bucket a policy granting permission to
read and write that bucket can be
created and assigned to an iamb user and
the application can use the config file
and the key for that I am user to access
the object bucket the problem with this
approach is that the private key for the
user must be accessible to the
application and how does that work
probably you do that by storing the
piece in some sort of configuration file
on the instance the process for
obtaining the private key and storing it
in the configuration file is usually
usually complicated and a hindrance to
add to agile development so the solution
for this kind of of use cases is to use
something called instance of principles
to make API calls against OSI a services
without storing credentials in a config
file now there are a lot of details on
how this this this actually works using
something called dynamic groups which
have a set of matching rules and you
need policies etc we'll discuss all this
in the more advanced I am module but
remember using instance principle your
applications can make API calls against
other OCI services so from computer to
storage or database without storing
credentials in a configuration file so
what are tenants and compartment think
about a tenancy as equivalent of an
account so tenancy contains all your
OCIE resources now lieutenant C is
provisioned with a single top-level
compartment called the root compartment
but you can always create other
compartments so what are compartments
compartments and logical containers
which are used to organize an isolate
cloud resources now remember each
resource is in exactly one compartment
and you know the previous slide we
talked about any cloud any object in the
cloud is a resource
now compartments are global and logical
they are distinct from physical
containers or physical entities like
regions and availability domains now in
in compartments resources can be
connected or shared and we will look
into this example later on compartments
today can be renamed but they cannot be
deleted or moved and currently
compartments are only one level deep but
in the future they will be hierarchical
so what that means in the permissions in
a pirate compartment will be inherited
by child compartments now we look into
into into principles the three kind of
principles the root users users I am
users groups and instance principles and
we looked into tenancy and compartment
what is done let's look at
authentication and authorization the two
core concepts of any identity service so
the two ways I am I am service
authenticates a principle in OCI are
either by using a combination of
username and password or api signing
keys when you login to OC a console as a
root user or as any I am user you use a
username password combination so that's
one way you attenti Kate a principle the
other ring is when a program that
accesses the API with an I am user or
root user uses an API signing key so
that's another way where you can
authenticate a principle now what is
authorization the process of specifying
what actions an authenticated principle
can perform is called authorization so
authorization in in in ocre I am service
is done by defining specific privileges
in what we call policies and associating
them with principles
now policies support security principle
of least village so what that means is
by default users are not allowed to
perform any actions the policies cannot
be attached to users but only to groups
and there's a specific way in which
policies are written they are comprised
of one or more statements which specify
what groups can access what resources
and what level of access
users in that particular group have let
us look at the syntax of a policy here
so by default everything is a deny so
you have to allow certain actions to
happen so the the slide shows you the
syntax of policies there are three
things needed for policies and action or
work a resource type and whether the
policy is at the tenancy or the
compartment level furthermore I am
allows granular policies so they can be
applied at either the aggregate level or
the individual resource level and
policies though the syntax doesn't show
you here policies can also include
one or more conditions so they can be
conditional so let's look at it in a
little bit more detail so what does the
action mean here the word mean here so
therefore there are different kinds of
access which which can be which can be
defined in in in policies starting with
the full permission which has you know
the the group or the users can do you
know anything they want and that's the
manage verb then then as you go up your
your permissions are further long down
so managed means you can include you
know all you have all the permissions
use means you can update existing
resources but not create or delete
resources and so on and so forth
similarly now policies can be defined at
either the aggregate level so if you
want to give users access to everything
all the resources in your tenancy you
could just use something called all
resources and that gives access to to do
all the resources in your in your
tenancy but suppose you don't want to do
that let's say you have different
administrators for database for network
for compute what not so you could
actually define individual resource
types so you could have something called
a beta based family you could have
something called instance family and
furthermore the policies are very
granular so you could go down in an
instance family and you could you could
you could allow somebody to work with
images instance images but log down
although you other users so they cannot
create let's say new golden images right
so you have all the Flex
to define policies different define
different kind of actions defined
whether the policies are at the
aggregate level or at the individual
resource level now this slide here shows
you some examples so you know that if
you look at the second policy it says
Network admins can manage all the
resources for the for the network so
what you like for family but if you
don't want to do that you could say that
Network admins and only manage subnets
they cannot do other things right so you
you could you you have you have
flexibility in how you define your
policies so when you sign up for OC I
what happens when you sign up for OC I
you sign up as a as a root user remember
that's a principle which cannot be
restricted in any way now by default we
create an administrators group and we
put this user in the administrator group
because again remember we implement the
security principle of least privilege so
users cannot do anything by themselves
they have to be part of a group so we
put them in our administrators group and
we also create a root compartment now
this compartment is the top-level
compartment and all this cannot work
unless we define a policy so by default
we define a policy which allows this
group to manage all resources in in the
tenancy now the root users
administrative group and the root
compartments are all created at the time
of provisioning so you don't have to do
anything on your own
we do that for you now root compartment
and hold all the cloud resources so if
you want to put all your resources in
just the root compartment you could very
well do that but the best practice is to
create dedicated compartments for
different users and projects and let's
look at an example in the next slide so
this is very much evident in ena in a
service like virtual cloud network and
don't worry if you don't understand all
the concepts because we talked about
what should cloud network in the next
module but let's say as we were
discussing in the previous slide you
sign up for OCI you have a root user you
you get a group you know administrator
which is a group which is called
administer
and you get a root root compartment and
and the text in orange shows the
policies which was provide by default so
you can manage our resources as an
administrator right all this makes sense
Alade you have a group of people who are
network administrators let's say John
belongs to this group so what you would
do as a best practice is to create a
compartment call networks and you would
put all the network resources in this
particular compartment now this by
itself doesn't make any sense
you have let's say different projects
going on or initiatives going on within
the company let's say Bill is an
initiative where tom is an admin for
that initiative it can be anything you
you are implementing let's say a Big
Data project you are implementing let's
say you know you're working on some
machine learning application it can be
anything right so let's say tom is an
administrator and for the lack of better
word we call this a project he is
working on right so what we would do is
we would create a compartment let's say
a project to to contain all the
resources which Tom's project uses right
now
by itself you know groups and and
compartments are not useful unless you
define policies so you would define a
policy allowing John to manage virtual
network families so John can create a
virtual network he can delete it he can
update it he can he can create all the
components of a virtual cloud Network
here but all in this network compartment
nothing nothing beyond it now at the
same time Tom you don't want Tom to muck
around with with networking because
networking is a let's say a central IT
function so what you would do is you
would ask Tom to use the network which
is defined here not create his own
network because again he might not have
permissions to muck around with network
because by default let's see if he opens
up of a port or something it can be a
security nightmare so you don't want to
do that now at the same time you also
want John creates a network here but you
want John to test his network so you
want to give John permission to create
compute instances here so he can create
a compute instance he can ping external
you know the
servers for example he can you know he
can check whether his route tables are
working his routes are properly designed
and all that right so so he needs to be
able to spin up instances your
righteousness makes logical sense now at
the same time Tom here has access to
this whole compartment so he can manage
everything in this compartment right so
see let's see we say all resources here
so this is all perfect and for now right
so so John manages this compartment tom
manages this compartment he is John is
mostly come with Monique mostly
concerned with but with the network here
tom is concerned with the projects with
the country with the resources here with
one exception that he cannot create a
network he has to use the network which
exists here now see the beauty of this
model is John creates a network in his
network compartment but John cannot
terminate reboot or launch new instances
in this compartment because he has no
access to this compartment and he
doesn't care what users are creating in
their own compartments at the same time
Tom can launch an instance in this
compartment using the network which
exists in in in the network compartment
and Tom cannot launch instances in in
this compartment in the network
compartment so what have you have done
if you think about it the instance down
launched reside in the vzm from a
network topology standpoint but from an
access standpoint they are in the a
project compartment not the network's
compartment where the vcn is so it's
very important for you to understand
this separation of duties and this
logical isolation in order to you know
make sure we are meeting the security
goals we have with respect to the
compartment design right this will
become more clear as we go and do a
hands-on lab on a demo but this is an
important concept to grasp now another
important concept to keep in mind is the
I am services are all service resources
are all global so compartments users
groups and policies are global so you
can access them across all regions but
there is also this concept of a home
region
home region is where you signed up and
your subscription resides but you can
always subscribe to other regions so if
you look into my my console here this is
my tenancy so you can see my tenancy
name here I'm right now in the US
Ashburn region I can actually subscribe
to other other regions where I don't
really have current you don't have a
subscription so this Frankfort region I
am not subscribed to this region but I
can click on this subscribe button here
and now I can get subscription to to
Frankfurt another thing to keep in mind
is so that's all great for the I am you
I am I am resources but what about other
other resources within OC I so some of
them are regional none of them are
global first of all some of them are
regional and some of them are just ad
specific availability domain specific so
for example if you look up compute your
images from which you spin up your
instances are regional because you can
go into any of the three ATS and you can
spin up the same instances from the same
image of images so those are regional
but your instance and the volumes you
attach to your instances are any
specific and this again makes sense
because for for example for in four
volumes we make multiple copies within
the same data center so they cannot span
they cannot span a DS similarly for out
for a virtual cloud network the vcn is a
regional construct so you define VC and
at a region level but then your subnets
are are specific to an ad subnets cannot
span your ad so they have to live within
within the needy so this is an important
concept to keep in mind as you are
designing your applications you need to
you need to consider whether the the
regional global and the ad specific
resources for things like high
availability and disaster recovery when
you signup for Oracle cloud
infrastructure this is where you would
sign up you go to shop dot Oracle comm
and you can sign up or you can also use
we have a three hundred dollar free
credit for a month so you could go to
cloud.oracle.com slash try it and you
can sign up for Oracle cloud and Oracle
cloud
is part of that free trial when you have
been let's say you you you sign up
whether it's a trial or whether you sign
up with an actual trade card for you
know for long term usage you when you
sign up when you sign into the console
we have a region based a URL so for
example if your sentence if you're if
you're signing into the Ashburn region
you would use this particular URL here
now when you when you sign up you can of
course move into different regions you
can go from Ashburn to Phoenix or
Frankfort but that's your home region
where you sign up when you sign into
another key concept to keep in mind with
when dealing with I am particularly
particularly when you are writing your
applications or you are using a command
line interface is this concept of an
Oracle cloud identifier or what we call
as asset now this is the Oracle assigned
unique ID to every resource and there is
a fixed syntax for osek and it goes
something like this
Oh said one dot resource type dot r l
dot region and then there is a unique ID
and you can read here all of this have a
particular particular meaning and for
example anything you created in OCI has
an asset so the tendency you you get has
an OCD here right and you can see words
like tenancy which basically describe
that you know tell you that this is a
motion for tenancy if you're spinning up
an instance you get a similar asset but
there is an instance queue body in here
so it tells you that you know this is an
instance and it's also a region here
right
ai ad so you can see that this instance
belongs to iid
now this might not be might not seem
useful right now but as I said if you're
writing an application or you're using
command-line interface this is one of
the most important things you need to
know and you actually need to use this
so you know when you sign up into when
you sign into your console you can see
the tenancy ID here at the bottom of the
page when you spin up an instance you
can see you can see an instance oh sit
here if you click on this this this this
button here which shows which says show
the whole thing you will see the whole
whole
for the O's it here now just to
summarize this listen in this in this
lesson we we look at the key concepts of
I am service including principles users
groups policies and compartments we also
dive deep into policies and compartments
and how they work what for the best best
practices and finally we look at the
some of the key concepts like oh Sade
and whether the resources are global
region specific or ad specific thank you
for joining me for this lecture if you
have time please join me in the next
lecture where we go deep into the
individual services starting with the
virtual cloud network thank you very
much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>