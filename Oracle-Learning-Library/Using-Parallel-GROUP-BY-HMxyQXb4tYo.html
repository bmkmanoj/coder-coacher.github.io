<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Using Parallel GROUP BY | Coder Coacher - Coaching Coders</title><meta content="Using Parallel GROUP BY - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Using Parallel GROUP BY</b></h2><h5 class="post__date">2011-05-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HMxyQXb4tYo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello and welcome to this demonstration
we would like to show you the behavior
of the group by clothes when run
serially and in parallel here we are
connected to a database machine and the
first thing we want to do is to connect
under sequel + as the SOA user then we
set timing statistics on now we can
execute the statement itself a simple
group by closed on the order items table
you can see in the background that we
are using sequel monitoring from
Enterprise Manager to monitor the
execution of that sequel statement it
takes a while to execute this is the
first statement shown above here and we
are going to look at the execution plan
in detail now while the plan is loading
you can see that the statement was
executed
returning to the sequel monitoring page
the plan is now loaded and you can
clearly see that it was executed in
serial mode all rows in the order items
table are accessed through all of its
smashed partitions and the Asch group by
operator ash is the set of rows
returning from the scan into groups to
compute the sum in each of these groups
the view operator is just here to
materialize the sub query and finally
the salt aggregate there at all
retrieved a single row from the view it
just computes the result of applying the
count group function to the view this
does not involve any salts in reality
because the view is already sorted okay
let's go back to the main sequencing
page in Enterprise Manager and then
let's run the exact same query but this
time around in parallel the new query is
now executing you can see it in the
ground and he takes much less time to
complete this was just above nine second
while looking at this equal monitoring
page here the main difference with the
previous execution is if you look in the
parallel column here you can clearly see
that the statement was executed in
parallel using 8 as the degree of
parallelism now let's have a look at the
execution plan details the plan is
loading there you go now let's scroll
down to see it entirely here you can see
the three different roll types for the
various operators in the plan the
coordinator and the two sets of parallel
processes playing alternatively the
producers and consumers rolls the table
order items is can in parallel by one
set of processes while the aggregation
for the group by is done by the second
set the PX block heater at all Russell's
represents the splitting up of the table
into pieces called block rent granules
so as to divide the scan workload
between the parallel scan processes
while one process reads it's part of the
table it also sends the rows to the
table queue using the ash grew by and px
send hash or petals the pxn and PX
receive roses represent the pipe that
connects the two parallel sets as rows
flow from the pallets can they get
repartition through the hash table queue
called TQ 10000 in this case and then
read an aggregated by the second set
again the view appear at all better lies
the set query and the salt aggregate
operator is only processing the count
function the PX and QC row source
represents the aggregated value being
sent to the query coordinator in random
order through the second table queue
called TQ 10001 the QC then renders the
result to the query the PX coordinator
soles represent the query coordinator or
QC which controls and schedules the
parallel plan appearing below it in the
tree now let's look at other statistics
that are computed for this detail page
like the parallel tab here very
important thing is to make sure that for
each set and each processes the activity
is very ominous as you can see here
there is no dissymmetry between
processes the same is true also for the
second set where you can see that now
you also have this activity page as well
as values of the metrics which are
computed like CPU the number of i/os and
the fruit boot in terms of iOS the pga
use age and temporary spades used as
well now let's go back to the plan
itself to finish this demo and thank you
very much for listening</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>