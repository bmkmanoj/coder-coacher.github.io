<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Avoiding Java EE Application Design Traps to Achieve Effective Use of Cloud Computing | Coder Coacher - Coaching Coders</title><meta content="Avoiding Java EE Application Design Traps to Achieve Effective Use of Cloud Computing - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Avoiding Java EE Application Design Traps to Achieve Effective Use of Cloud Computing</b></h2><h5 class="post__date">2013-01-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/v85nGHdf6Ug" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">good night everybody my name is Albert
limbs but in Brazil I'm from Brazil if
Viron knows me as dr. Spock my nickname
Brasilia jump community I've adopted his
nickname a long long time ago and today
i'll talk about some tips and tricks
some items about java ee and cloud
computing I'm a Java developer and I'm
using the Java EE I've started 12 years
ago I have an experience with ja ja ve
spring platform and i'm a member of the
java community in brazil the largest
java community in brazil I help them
help then adopting a HSR specifically
age ser 314 about a jsf to point to
point to and today we'll talk &amp;amp; dunvale
involve you introduce himself later and
today the idea is show you some some
issues related to jolly and cloud
computing this project this session
started a some month ago when we we
discussed about java ee 7 new feature is
about cloud computing and we found some
gaps in java ee 7 this feature is for
cloud computing now we know that the
this feature is for cloud computer was
moved to java 8 then we prepared this
session to show some ideas some thoughts
we prepared about these features for
cloud computing with java ee then the
idea is show some tricks and trips and
some traps to avoid when using Java EE
or prepare or design a system for cloud
computing then we divided all session
today in this topic stin should talk
about the motivation and then up and
start with this motivation the idea is
show some challenges some concerns you
must take care when you develop an HIV
application and deploy in cloud
computing then then while we talk about
some tips and tricks deploying this
application cloud and we'll talk about
all some evaluating Java platforms
ourselves that you've evaluated to
define or construct our ideas or and
some tips tricks present presented here
and at the end based on our imagination
you propose some ideas like HIV adapter
for cloud cells or cloud providers one
different way a different way not using
a platform as a service to deploy Hawaii
in a infrastructure ourselves or a cloud
provider then the idea today is provide
you and all Java developers in the
architect with some food for thoughts
the ideas help you help order developers
to design a barrage of allocation and
deploy in cloud computing it's not a
definitive obviously of course it's not
a definitive guide to the development
but the idea is show some conclusions
from our study about the typical java
application that we need to port or move
from a local server inside your company
or inside a data center to a cloud
infrastructure from a cloud provider
then when this sturdy started this
session started when we made the first
question how cloud computer can affect
dictator the design of a java
application we feel the all new feature
is for java ee 7 and we've noticed that
some java in new features for cloud
computing what's foxed on and to provide
pass features or platform-as-a-service
features or a movie all gaps to provide
a platform does have some model for all
applications server with notes that the
new features are dedicated to remove
this gap from application server point
of view and allow an application server
provider install and an application
server in a platform you'll assign a nap
in a cloud provider and then provide a
application server as a platform where
you can buy that saves and install our
application but when we have build this
list of new features we've made the
first question and do you we asked
ourselves about the Disney future and
the following question what the java ee
7 specification or respect leading are
providing for our for for our for our
developers of java ee application what
new features what we need to do or make
different to deploy a java application
inside a cluster inside a cloud provider
or inside
platform-as-a-service then we found
something out some some challenges or
some gap in these new features in this
specification and you you tried to
document and is show you're here this
gap of on-the-job a specification then
we as a developer of a java application
must take care these gaps or these
challengers when we design a java
application or trying to port legacy a
java application to a cloud environment
then we start considering a java in a
cloud environment then we can start with
a infrastructure in service provided by
n a cloud provider for instance in wear
or Amazon Web saves when we install an
application server with a j-job little
machine on that computer of virtual
machine provided a cloud computer we
have a total control of the environment
and we can install application server a
database but when we have a total
control of this environment we will need
take care or make a or you need provide
some code to solve some issues inside
this environment for instance we need
concern about the elasticity how to deal
with elasticity or add your remove new
and nodes of virtual machine in this
environment where we need to take care
about the how to start and deploy that
application inside this environment when
we are responsible to install and put on
line one application server or all
application inside this environment but
some providers are developer the concept
of a plus
as ourselves when they take some
responsibility and then the idea is
provided this environment of a java
application server for us it reduce our
control obviously you must accept some
implementations provided by them then to
establish some issues for java
application we have used some platforms
ourselves on the market and see what is
the problem with this platform as a
service and the infrastructure is
ourselves then when we stall our
application in a provider of platform or
when we stall the application server in
this environment using application
server class fish weblogic or jboss
application application has access a lot
of selfies servers inside the
application looking this stack of
technologies here relational persistence
message service transaction cells
security resource cash and the component
model all these services are available
for our application when you use a job
application server we see equivalent
step from in from one infrastructure
service end up platforms ourselves when
you use this cloud provider we have a
relational database persistence message
selves monetary secured no sequel we see
here a gap a difference when you look to
Hawaii Enterprise Service but the main
difference here that established the
first gap where when we try to deploy
one java application a cloud service
cloud provider
is the API provided to access this
health looking for java ee services we
have accessed a bunch of AP is still
data API is like JP a JMS and GTA 4
message in relational database
transaction but when we look to the
cloud services oh sorry start again when
you look to the cloud saves we see Nance
non-standard api's for instance when you
use amazon web services we have a no
sequel database message provided by
amazon sqn or message queue of message
notification selves they provide a
specific API to access these subs then
when you try to developer or deploy a
Chevy application in that environmental
or in a violent cloud environment we
don't have access to this service
through a standard API or through the
Java EE application server we need to
access a specific API then we are
avoiding in that situation they study
service but I would like to see one day
one way to use the study of the API
providing access to the cloud to cloud
services for instance Jamie a JMS
communicated with Amazon sqn or Amazon
notification when we prepared this
session and prepared I stood about this
gap of a Java EE and the cloud provider
via infrastructure service all platforms
as the selves we denoted a gap between
a persistence model provided by Java EE
and the persistence model provided by
some cloud environments for instance in
oseco but now we know that java ee 8 is
planning to provide a API to access Java
to access to know sickle cells then we
eliminate this gap here but now when you
try to use a cloud computing some guys
say that is a good idea to use no seco
as storage to be sorry yes it's true but
it's not a service provided by a java
application server you must install that
a provider as a part of router your
application
I mean we are encouraged at the left
side GPAs API
no simple actually what the sunrise
there's a GD provided
using the hibernate okay okay in that
scenario need to use any specific
process provider GPA provider and then
you need to install that provide in our
application as a library okay you sure
you're right I know that yeah but in
that in that scenario you are not using
a service provider a java application
server you need to install a new library
inside your application and make a
specific configuration I know you are
using a GPA provided for dad ok Jimmy
provide a high by the gym as provider
it's gonna haunt you if you are using
message yes I know about it but I using
a service provided by application server
you are not using a service provided by
the cloud infrastructure
specify the provider you're right your
ID it's correct to you can substitute
the precepts pro implemented or provided
by application server installed in the
cloud provider by an order
implementation of GPA or JMS or another
service but you are changed substituting
the dead configuration for a specific
configuration you are not using the
application server or the out of the box
or what is provided by the application
server message is sent over a while ok
specifies the API you know right gurtej
assurance is it
okay yeah into the implementation okay
we evaluated these different providers
of platforms ourselves we'll try to
install a razavi application using
message service a simple application
like what is the name of the scrum toys
it's a thomas ave face is to demo
application embedded inside and netbeans
deployed in different platforms
ourselves to look what the service is
provided by this different occasion
serves in in in notes that difference
and the services and the gap provided by
each one and after analysis of this
environment platforms ourselves we've
found some challenges to discuss here
liar elasticity in this environment when
you use a cloud provider only through
the infrastructure service or install a
VPN inside a virtual machine an
application server you must take care
about the elasticity and take some
considerations that you show after
registered slide some deployment model
we see some platforms and services using
standard deployment model based on web
archiving enterprise archive but some
providers use a get basic model to
deploy application we take care about
the support to java III stack we see
some provides using the full stack and
order provides doesn't provide a full
stack neon or web profile provides only
a web container for instance don't care
toward jet and we take care some
about the appropriate our cells when I
talk about the proprietary size it means
services accident through appropriate
our API for instance amazon our SQL view
or Amazon notification that provide a
message cells and resource handling to
distribute the static information
through different regions or different
row zones and avoid the network traffic
and avoid to increase the cost of the
cloud provider when you access some
resource static resources inside the
application to illustrate the problem
related it to the elasticity one use to
an application server or you are
responsible to install an application
server install your application in a in
that environment I've prepared this
slide to the straight the idea when you
have a simple load balancer and a server
with your application and the
application server and you use it access
the server for instance using a stick
session to provide a way all requests
from that user you had wrecked to the
same server when the load increase more
user access your infrastructure who can
add more SEPs you not you not you don't
see any problem here we don't see
because it's a simple way to create a
new instance and start happy and new is
a solid application server and deploy
the application then when you increase
the when they load increasing on the
application you can add more sever but
consider this an eye when you have one
how to use a user distributed through 10
/
10 sever the problem begins when some
users log off of the application and you
can remove this session from these users
for instance consider scenario volume of
users log off of your application but
the remaining users are distributed
around your server now we must think
what we need to do to move all sessions
from the from the users around the
servers to one server and shoot it down
again sameera and shut down the 9th
server and keep one server in mind we
need to implement a way to move the
sessions from other servers and
concentrated once ever to turn off the
orders ever then it's a gap when you use
that application server when we are
responsible to install applications
every installer application the idea is
the platform as a service providers must
solve this problem or must take care
about it but when you are not using an
applica platform as a service where you
are as possible to install your
application server inside the
application you must remove we must take
care of and may be responsible for this
process to remove the sessions from all
waters ever and concentrate one to turn
up one sip idea that will be discussed
by then vow later in an order is Liza's
user a distributed cache but you must
use the careful at the disability cash
because you
otherwise you increase the network
communication between all know designing
inconsequential increase the cost of
your cloud infrastructure then the idea
is here is discuss and present some tips
and trick to avoid for instance the the
two gaps presented here in the previous
slides the first gap maybe the gap
between the Java EE services and cloud
cells and the elasticity problem when
you try to shut down some services and
you are responsible to provide the
application server infrastructure go
well hi good evening everybody my name
is Dana ball I'm a software architect at
Mattel resistant Brazilian company that
has products for banks in Brazil and
then now I present some tips and tricks
to to avoid some common issues in our
applications to that prevent the
effective use of cloud infrastructure so
on the first of all we will discuss
about typical je application a typical
je application has an application
deployed on tapenade gibberellins jav
java ee server and those application has
to access databases and integrate with
other applications so when we move this
application to cloud infrastructure we
have to choose if the database will be
moved to the cloud infrastructure to or
if it will remains inside the company
infrastructure so if it remains in the
account evening your
company for a structure we will have to
take care about the how the application
will you access the database the same
for the other applications that we have
to integrate to move the database who
are calling Phi structured is simpler
because the database is part of our
applications so when we move the
application to a cloud infrastructure is
an natural way to move the database
through the cloud infrastructure so so
this is not an issue but the other
applications that our application
depends with are more difficult to move
imagine we have a sales force
application on the cloud and we have the
product catalog inside your company so
move this application may be a legacy
application is not easy to to the cloud
so we have to handle this sort of
situation one thing that the cloud
providers provide to solve this issue is
provide a VPN a virtual private network
between the application and the server
where where the application is running
so it's not another ayesha batch this
approach has some traps so we have to
take to consider the cost for
communication because some providers
charge for the outer boundary
trafficking and we have sure to consider
the the delays for the communication
because now we have net internet
communication so how you handle this
situation is too it's a very important
to consider
yes the the Amazon for example charges
for this sort of communication but it is
not only the database going down but you
imagine your heaven in this scenario
sorry oops okay imagines you have this
in this scenario the app one inside you
are inflating your company
infrastructure and the application on
the cloud so the application have to
communicate with the IP 122 did
something so this outrebounded
trafficking is charged for the the
college provider so you have to check if
the your cloud provider charge for this
and the cost is entered the pros and
cons to do this communication yes it's
charges for this this is a pricing model
for this this so now let's talk about
elasticity let's use it isn't one main
character is to tell cloud computing and
closer apart apart so one of the
character ease that makes the cloudy
interesting is last seen so now i have
to this application and i have to i
think about doing this with a high last
key i'll ask away so one common pattern
is to put a load balancer in front of
the clients the clients application
client and this color village for the
technology is always horizontal so we
don't improve the harder so we spawn new
instance for the application when I span
multiple application instance is
necessary
to take care about the communication
because each application instance has to
communicate with the database and
communication with the other
applications so we have here example
what it looks like so it's kind of mess
in because we have this intrinsic
communication we have here a exponential
communication problem so now some Alaska
rest easy challenges here we discuss fun
main challenge is to up achieved the
elasticity stage management location
startup time complex communication
plague theory and research discovery for
the state management the best thing you
can do is make all your services
stateless so a stateless services when
you have state inside the server the
server have to reply and synchronize
these states with their other
application instances so state is a
poison for your application wing the
clowns so the idea is trying to design
your assistant using stateless services
one syrups that is very useful for this
goal is stateless ajb still it it's
tetta lazy gb are for nature estately so
we can we can use this wrath is other
strategy to achieve this goal the rest
when we have a rest servicing all the
stage is passage by parameters so we can
we have not to maintain the stage on in
the server and this increases the
ability to objectification to you too
works well in the clowns and this has an
advantage because we have up I standard
for je to use the rest services to
jax-rs so the best way to do is try to
remain using standard services and in
this strategy we had these Thunder
service other features all other things
we can use it to achieve it a good
logistic is try to use jsf features to
maintain the the session as stateless as
possible indeed we can you save the
stage into the client so the components
tree staging is saved into the client
side and each request a stage is sent to
the server so it's not storage into the
server but now we have a trap because
when we save this stage into the client
you we increase the trafficking so each
request must be must have the the
components tree included and each
response must be the company tree
included so the request and response are
increased you can use some techniques to
reducing the the trafficking in this
situation as you can compact will use it
traffic on competition so you can
transfer them better way but sometimes
it's not possible to remove this stage
from deck the server in those case you
can use a distributed cache solution
this is a good way to achieve the the
session replication with a low cost
there are a lot of products let's do
that make it in the mancation finish
span
coherence so you can choose one of these
those products and use the dis products
into your application and these services
those services are subject to a JSR so
it's mean I standardization process it's
plain it for j is seven so this for now
we don't have this high standard to
access those cash services but II to
this problem should be resolved in je
seven and one thing here to to keep an
eye is try be careful beware of the
configuration of those cash services
because the code the couchsurfers have
to exchange messages to maintain the
cash synchronized and those messages if
you send a message from uh no Gina zone
2 and all the others on our subjects to
charges because of the pricing model of
the cloud infrastructure providers other
thing you should consider is application
startup time as when the the server
receives a huge logie of a huge logie it
you have to respond new instances but if
you have the your application very huge
you with a lot of resources they start
up time for those now new instance will
be very slow so is not not good for your
application so the idea is try to reduce
the footprint for their application by
sparing the deployment your deployment
in deployment you into your application
deployment units put the static content
humid in the separate deploy materials
so you you
can apply this statue contingent
different server or you can you are not
instance and it's not necessarily to
span multiple server is a fork statue
accounting and you can choose a better
solution that is put the statue content
into account a delivery service so you
can use this servicing to make the this
statue advantage close to your clients
so your clients will not suffer for
Network latest and your application will
remain remain with a small footprint
other thing that's important is try to
remain try to use it as logic logic and
the research f usually lazy load as much
as possible because when you the thing
is you have to have your application up
as soon as possible so do eager and
lodging you you make your application
you inferring the quality of your
application now let's discuss up about a
little about the communication plaxton
the communication complexity is a big
problem for this this situation where we
have a lot of instance of our
application running so one strategy to
reduce the complexity is using messages
to integrate your applications so many
services architecture choice a good at
architecture choice to reduce a complex
complexity and create an atomic and
important services this serves those
services when they are atomic you they
realize
a complete business logic so when you
call their the serves the servicing will
completely do something and then potency
means we feel call the serves multiple
times the server will be able to ignore
the there are this second and the third
is cultured amazement the same serve
servicing if it's not allowed to be done
imagine if you're having an old friend
for the clowns and is no ouji for some
reason will be disconnected in
generating the era when the no chip
becomes alive again it you just must
send it the era without consider if the
data will be need to be sent or not if
the day ray is sent and the server
already handle the request the server we
will adjust you can order the call so
it's is simplified the the model of
communication and this is a statement
from the an Amazon document keep dynamic
data closer to the computer and stage
static data close to the user so the
idea is soon to break the data is in
part and try to make the enclosure who
will consume this data so consider
create database charts there is a
consideration about this issue it's
possible to hack to javis in the face
resource handling mechanism turn
resource mechanism when the Java Sea
deface generates the HTML for ref
component or stylesheet component to
auto JavaScript component it's possible
can the worry of 2.2
for new to the user base it on the
content delivery mechanism provided by
the called cloud several cloud provider
you know you could hack this mechanism
inside the shops of a face provide a new
resource in work to generate different
well an access static content near to
the user provided by the pond circle
okay thank you so we have here oops
those messing communication and now we
will replace the masking communication
with your message serves so it's very
pretty good it's little better in the
picture so it's a good idea to do this
thing other thing is when you have an
application like this infrastructure and
we have it for servers and imagining the
the we have to service me in one's own
and other service to serving others own
so this service to access the database
the cost to access the database modes
and must increase if you have this
database inside one's on or another one
thing you can do is use charging so with
it with charging use you can separate
the data into small charts and those
charts are put put in database instance
closer to do the the service that are
supposed to consume those those disdain
other thing is very important to
consider is research discovery so the
idea here is try to latch the server to
handle it the CGI is a very good
research to you to provide transparent
access to resources
and use the load balancers to access
internal research in this picture we
have it treat here we have four
applications and should choose for each
database we have database a database a
on server three and database B and C on
top of server two and four so how does
this application will know which
database each has you to access in this
crazy we can use a load balancer and
this load balancing the request will be
sent to the load button and the load
balancer will provide the access to the
correct data base here
yes
yeah actually the data the large bands
will know that the database will go down
and relax your request to other database
instance that's running yes
Oh
okay much there amazon have you're all
about yes you have the correct okay we
compare the data source pool with one IP
address the load balancer IP address the
pool don't care about the order the IP
address from each database in this case
amazon has a product called dynamic IP
that's so okay
yeah the synchronization is configured
in though into the database so the
database must be configured to
synchronize the instance and keep the
data synchronized the application is not
aware howdy how to which occurs sorry
ok
is this lunch though sorry no one more
oh where is my son okay sorry okay one
more almost there oops now okay
final considerations here prepare this
table to show some items we've evaluated
about the some java platform is
ourselves for instance Beanstalk around
openshift cloud vs roku jelastic from
foundry google app engine when you talk
about the java a full stack means
provides a full application server for
instance weblogic for oracle cloud or
jboss application server six or seven
for open shift but the order
applications for instance the local
provides a simple tomcat then it means a
web container then it doesn't mean web
profile here and you must take care
about it Cloud Foundry connected to the
spring framework spring framework don't
like Java your application server
obviously doesn't provide a full stack
or a gb components asian and then he
uses only a tomcat seven standard
deployment means a way to deploy weber
chi for enterprise archive Oh platform
yourselves provide a way to use this
standard deployment but some platforms
have you use a strategy to use git and
push code or pull code from a multiple
store to deploy and then use an amazing
at the server side this provider cloud
provider build the application and using
a strategy of continuous delivery make a
deploy inside the application no
standard API service means when you use
these platforms ourselves there is a
risk of a developer use a specific API
from
that provider for instance Beanstalk you
can use a specific API is to access
amazon sells what cloudbees runs on
amazon then there's the same risk here
and distributed cache means mechanism is
taller integrated in the application
server for instance korres inside the
Oracle cloud or in cloud base provides a
mechanism of distributed cache using a
memcache but all water provides use
memcache but not in a distributed
strategy to replicate the information
over across different nodes of the
application server last tips how idea is
a preferred to use a cloud provider that
provides a Java a full stack try to use
a CDI to abstract the resource location
and provide a component model spite of
you are using a web container based
cloud provider it's a good idea provide
for your application I studied component
model using a simple tomcat for instance
and try when possible avoid appropriate
our cloud cells to avoid a cloud
provider looking try to use the restala
receives the idea of this tip can do
leaders to a final consideration one
vision I don't know if it's a feasible
if it's a possible or not one day I
would like to see one application server
provider was on a type of kind of a
cloud adapter to adapt all java ee
services to our specific cloud service
for instance one glassfish for amazon
web sites we want specific up with a
specific adaptive mapping Java said the
face
s to notification or q steps provided by
amazon for instance or glassfish for
cloud or in any application server for
yas environment it's a little different
strategies of platformers ourselves the
application service provider you give us
a a way to deploy applications 711 vm
and map always standard Java services to
a specific service provided by a cloud
it's a an idea we have time until july
eight to discuss and try to make this
vision possible or not that's it thank
you for your patience your precious</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>