<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Oracle Enterprise Data Quality: CDS - Tailor an Address Clean Service | Coder Coacher - Coaching Coders</title><meta content="Oracle Enterprise Data Quality: CDS - Tailor an Address Clean Service - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Oracle Enterprise Data Quality: CDS - Tailor an Address Clean Service</b></h2><h5 class="post__date">2014-03-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ENH75g2JPMM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video I'm going to show you how
to adapt the interfaces for the address
clean web service within CBS so address
clean is it's running at the moment you
can see that here in the current tasks
window of the server console and let's
just have a look at how it works so I'm
going to go to the web service tester
and in the web service tester on the
Left I've added an address to be cleaned
it's 92 Stafford wrote that s address 1
the city is I've put in Sleaford SL e AF
Ord that's actually a typo there
shouldn't have Merlin for that in
deliberately and the postal code it's a
British address by the way BN 25 1 UA
and the country UK so let me hit Send
and let's see what the address clean
service does with that and mostly the
outputs on the right in just a moment so
there we go
it's being output and if I move down you
can see the city is being cleaned so
we've taken out the L that shouldn't
have been there C Ford so it's
recognized that it's added the admin
area that's the County East Sussex which
wasn't in the inputs and you can see the
a V full address here 92 Stafford Road
Seaford cleaned East Sussex added and
then the postal code being 25 1 UA and
it's it's verified there look as well so
you can see it's added some information
it's clean the address now in this
example I want to add 3 pieces of
information to the output that are not
currently there and this will entail
changing the interfaces so we're going
to tailor or customize the interfaces
for address clean those three pieces of
information I want to add are firstly
the original address that was entered
over here on the left so what we're
getting out at the moment is the cleaned
address that's great but let's say that
out of our service we also want the
original address which remember was
slightly different Sleaford with an L
rather than C food without the L and it
didn't have the admin area Sussex so
that's one piece of information on what
the original address as well as the
cleaned address and also in my art
I want to see separately the premise
number and in a separate field the
thoroughfare now we've got both those
pieces of information here they're
actually in address one premise number
92 thoroughfare Stafford Road but I want
them in separate fields as well so I'm
going to have to adapt the interface to
show those two pieces information in
separate fields and in a moment I'll
show you how we go about doing just that
okay so how do we go about adapting
tailoring the interfaces for the address
clean service well let's first of all
stop it running in the server console
let's cancel it and we'll shut down the
web service and now we can make changes
so we're going to the director interface
and let's start by looking at the job
that's often a good place to start to
understand what's going on so I'm in the
c.d.s the edq c.d.s project in the
project browser and there is the
real-time address clean job I've got
that selected there double-click it to
open it ok so what we notice here is
that the drop job has just one face but
within that face we have two processes
so this is the symbol for a process
these three sort of yellow balls
connected up clean address and then the
other process is clean address post
process and they're connected together
look and both of these processes use for
their inputs of their output a data
interface so this is the symbol for a
data interface so there's the input
there's the output from the first
process there's the input as the output
from the second process and we can see
the name of the data interface here as
well it's called address clean and it's
the same data interface look that's used
for the inputs and the outputs for both
processes so that data interface is
going to be key that's going to be one
of the things we need to change so we're
going to need to change that data
interface if necessary to add the three
new attributes that we want and then
also we're going to have to change
one of these processes to make sure
those attributes get populated and
lastly we'll have to change your web
service if you don't remember how data
interfaces work and what they're for do
go back and have a look at the
fundamentals course which includes some
information about that so I'm going to
assume you know basically how data
interfaces work and what they're used
for
anyway the data interface were
interested in is called address clean
now it's kind of a look at it in the
project browser still within the edq CVS
project will open up the data interfaces
node and there is the address clean data
interface and we'll double click it to
look at it and here are the output here
are the attributes associated with this
static data interface and if we just
scan down those you can see that they're
basically similar not quite the same but
similar to the ones that we saw in the
web service tester so for example we
have the address 1 here remember that
had both the premise and the
thoroughfare in it and obviously we want
most things separately and going further
down if we just look down there's the
verification code for example and there
is the full address ok and that contains
the cleaned address now we're going to
have to add to this data interface and
we'll have to add three attributes which
aren't here for the premise number on
its own for the thoroughfare on its own
and for the original address so let's do
that now to do it we're just going to
click the plus button here so let's add
them in and in fact we'll add them just
here let's call this one original
address before cleaning ok and then
we'll add another one which will call
premise number and finally one which
will call thoroughfare ok and we'll put
those just to just to keep them sort of
separate from everything else we'll put
them at the bottom of our data interface
the last three attributes so
I've added those three attributes okay
fine
so far now what we're going to have to
do now is have a look at the mapping so
data interface is really a template of
attributes and it needs to be mapped
either to a real-time web service or to
some stage data or whatever so it needs
to be mapped to if you like an actual
source or target of data and let's have
a quick look at the mapping here on the
output of the final process in the
address clean job so if we just give
that a double-click and as it opens you
can see there is the address clean data
interface associated with a writer and
it's the mapping here which is showing
us what that data interface is going to
push the data to and there's the mapping
and it's a mapping called real-time
address clean output real-time address
clean output okay so let's look at that
mapping if we go back over the data
interfaces on the left and we
right-click and we go to mappings here
then the mappings will open and there is
the mapping that sir we've just seen
I'll just make this a bit bigger
real-time address clean output now as
you'd expect the type is real-time as
opposed to stage data for example that
means that this mapping takes the the
the data from our data interface
template if you like and it pushes it
out to a web service and the name of the
web service we can actually see here as
well is address clean so if I double
click on this mapping you can see the
address clean web service on the right
now at the bottom here
here are my three new attributes that I
added and obviously I want to output
those to the web service so that they'll
actually come out we'll see them in the
web service tester but you know any
application
that you're integrating c.d.s with will
also have them but the problem is that
my web service does not include these
three attributes I haven't added them to
the web service yet so before I can map
them I need to add three attributes to
the address clean web service for the
original address the premise number and
the thoroughfares just cancel out of the
mapping for a moment and let's cancel
out of that dialog box let's go down
still within the DQ c.d.s project in the
project browser and let's just find the
web services there they are and there's
the address clean web service and let's
open that and we're going to do the same
thing that we did in the in the data
interface we're going to add three new
attributes which we'll call similar
things original address I think before
cleaning was what we called it and
secondly premise number and thirdly
thoroughfare there we go and lakes that
made a mistake there because I've added
those for input and I should have had
them for outputs let's just get rid of
them we'll go to the outputs that's
really what I wanted to do and let's
just add them here sorry about that so
original address before cleaning premise
number this can all be strings that's
fine and thoroughfare
okay good so there's our three
attributes added to the web service I've
added them to the data interface and
I've added them to the web service that
it talks to and now I need to map I need
to map those attributes from the data
interface to the web service so we go
back to the data interface mappings
there's our address clean data interface
right click Choose mappings
there's the mapping for output the
address clean real-time address clean
output mapping that maps to our web
service let's double click it to open it
now if I go to the bottom we can see
hopefully those three new fields in the
web service at the bottom of the data
interface which remember is just a
template again there are the three new
fields let's map them okay so address
original address - original address
premise number two premise number there
are effective thoroughfare it finish ok
so quite a lot of the job is is now done
in that sir we've adapted our data
interface we've adapted our web service
so we now have attributes for those
three fields that we wanted to output
three extra fields both in our data
interface and in our web service and
then that that's great but there's one
more thing we need to do which is that
we need to make sure that our processes
are populating those three fields
locally we're having the fields in this
we actually populate them right and we
do that in the processes so from the the
job here we can right click and open the
soap and the cleaner dress process first
so here we go and the the right-hand
side of this process hopefully there'll
be a writer there we go
and that's writing to the address clean
interface that's the data interface that
we've just been playing with and let's
open it there we are
and so we've got here the original
address field the premise number field
in the thoroughfare field and we need to
populate those but in order to do that
we're going to have to do some work
because here are the selected attributes
writing here the attributes we have over
on the right and if we just take a look
at this if I move down all of the
attributes added by the AV processor a
prefix with a V dot okay V dot country
name for example and if we look down
there we should see a V premise number
so that's fine we can add that one and
we can hook it up to the premise number
field in our data interface good that
one's done and if I go down a little bit
further
we'll see a V thoroughfare there we go
and we can hook that one off as well and
that's done too so it's there we go
so that's two of our three extra
attributes taken care of but if we look
through these attributes added by the AV
processor it does not add the original
address it doesn't give us that by
default and you know we have the
original address because it's in the
data that we input which we see on the
left here but it's in bits right we've
got the the potentially anyway the
address while address to address three
the app the city etc etc and we've got
those split up into different fields so
it's a bit messy probably we want to
output it in a single field so we're
gonna have to do a bit of work we'll
click OK on the writer configuration and
what we'll do in the process we'll just
do a sort of quick and messy fix and you
could do something a bit more elaborate
than this and a bit a bit cleaner if you
if you want to but I'll stick to quick
and messy for now so what I'm gonna do
is just in my process here I'm gonna add
in the transform the transformation
family I can catenate processor so you
can tell this is gonna be quick and
dirty I'm gonna hook it up to the writer
let's just put it over there it's forest
to the reader from the address clean
interface and I'm gonna take a minute
really clicking quick and dirty fix I'm
actually gonna take most of the input
fields all of the ones that will contain
anything to do with the address
so address 1 2 3 4 etc all of the
locality feels the city the admin area
are something that have been area the
country we won't bother with the allow
verification results and so on we'll
take all of those and we will
concatenate them into a field which
we'll call original address there we go
and in the options the separator string
let's just put in a comma obviously you
can choose which you have a string you
want to so that has hopefully just put
those fields from the original address
into a single field as simple as simple
as that
and now I'm going to do is make sure
that that output from the concatenate
processor gets into the rest of the
process so let's just sort of hook it up
here so it's in between the first and
second processes there and hopefully now
if I go back to the writer on the
right-hand side of this first process in
the job I can find it there we go a bit
of luck I'll see the original address as
there it is an added field that's
selected for writing there we go
and there it is at the bottom and let's
output that to our data interface done
we'll just save that okay good so that's
taken care of the first process we've
concatenated the original address
together but we have another process as
well and the output from the job comes
from the second process now we've
adapted the writer of the first process
what we're going to have to do now is
make sure the reader from the second
process picks up that extra data we've
added and make sure the writer from the
second process actually outputs it as
well so let's open this second process
from the job let's have a look at the
reader and let's look at what it's
reading in and you can see if I look at
the selected inputs for processing or
the process they do not include the
three added inputs so I need to select
them and now they do okay they're there
they're part of our new process our
second process as well so fine and all
we really want to do is make sure their
output so we'll just go to the the
writer on the end of this process which
is here okay
and in that writer we will select those
three and it feels original address
premise number and thoroughfare for
writing there they are at the bottom
here and in our data interface we've got
the three fields waiting for them that
we added earliest let's hook them up and
let's hit OK okay the safe that enclose
the process so let's just review what
we've done them so we started by looking
at the job we noted that there were two
processes in this job and that each of
them each of the two processes read from
and wrote to a data interface it's the
same Bator interface called address
clean and we further noted in the
mapping of the output from the job from
the second process in the job therefore
effectively from the job that we were
writing to a web service called address
clean okay so we've adapted that web
service we've added the three extra
attributes we needed we've adapted the
data interface we've added the three
extra attributes we needed there as well
we've made sure we made sure that we've
mapped from the data interface the
attribute template if you like to the
web service and then we've gone into
both of our processes now job and we've
made sure that those three fields are
being populated by the processes and
passed from the writer of the first
process to the reader of the second
prices and from the writer at the second
process to the web service so
theoretically that should be all we need
to do let's test it
let's close the address clean web
service as a job sorry let's go to the
server console and let's run that job so
there this real-time address clean or
just run it with a run label of test go
to current tasks and we should see it's
pretty quick to fire up there we go and
now for the acid test so let's get the
web service again get service in the web
service tester here and if we just look
at our outputs I'm hoping we'll see at
the bottom of those outputs there they
are the three new fields original
address before cleaning premise number
and thoroughfare now let's try our test
again so I'm gonna put in the same data
in the inputs on the left as before 92
Stafford Road and then we had in the
city remember we had Sleaford didn't we
with the L which was a typo deliberate
typo should be Seaford without the L and
the other data that we had in there was
I think the postal code which was BN 25
or one UA doesn't matter whether you put
the space in a lot and country UK so
we'll hit Send and that data will be go
off to our web service and the results
will come back on the right and we're
hoping that we see those three new
fields being populated so that's it so
now and here are the results so again
it's clean the city there for us it's
done all this good stuff put in the
admin area there and there's our cleaned
address as before with East Sussex in
and Seaford as opposed to sleep it but
if we go to the bottom now we can see
first of all there is the original
address 92 Stafford Road Sleaford with
an L without the Sussex being 25 1 UI UK
we've just got commas in where there
were empty attributes that we didn't use
in the inputs you could do some cleaning
in your process as I said this with
quick
fix to take those out I'd format it a
bit more nicely but below that we've got
the premise number now in its own field
and we've got the thoroughfare in its
own field as well okay so that's just an
example of how you can adapt a data
interface within a c.d.s service</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>