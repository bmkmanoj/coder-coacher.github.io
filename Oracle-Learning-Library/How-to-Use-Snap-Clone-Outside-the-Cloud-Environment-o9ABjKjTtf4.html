<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Use Snap Clone Outside the Cloud Environment | Coder Coacher - Coaching Coders</title><meta content="How to Use Snap Clone Outside the Cloud Environment - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Use Snap Clone Outside the Cloud Environment</b></h2><h5 class="post__date">2015-02-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/o9ABjKjTtf4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you
hi I'm peach I'm in a product manager
with the Enterprise Manager team in this
tutorial I'll show you how to use snap
clone to create a thin clone of a
database even when you're not using a
cloud environment often people think of
cloning is only important as a cloud
operation but as I'll show you soon
that's not the only place that cloning
can be important it's ideal for example
as a way to build environments for
proofs of concept test master creation
or indeed anywhere that you may need a
one-off clone with the clone and refresh
functionality you can clone from an
existing snapshot of a database or you
can choose to clone to a particular
point in time or scn not only that you
can integrate both masking and patching
for psu's in this flow as well once you
have created the clone you can then
refresh it from the source later with a
few clicks and finally once you're done
cloning through the user interface you
might then decide to clone and
refreshing a scripted manner using the
mcl I verbs provided for this you can
even schedule the cloning through am CLI
to occur at a time that suits you now
let's look at the details of what can
happen as part of this clone and refresh
flow on the left-hand side you can see
our production database in the example
I've got on the screen this is an 11 204
database running in a three node rack
environment with some are men backups
already taken so what can I do with this
database when I clone it firstly I can
mask sensitive data generally when you
take a copy of your production database
to another environment you want to mask
some of the data in a database such as
credit card numbers salary details and
so on the admin flow allows you to apply
a predefined masking format to your data
as it is cloned or indeed execute your
own custom sequel scripts to change the
data as you need to secondly I can
actually test patching as part of the
flow in the example i'm showing here I'm
cloning my 11 204 production database to
an 11 20 4.2 test environment thirdly I
can change the configuration as part of
the admin flow as well again in the
example i'm showing here on moving from
a three node rack environment in
production to a single instance test
environment finally if my underlying
storage supports copy-on-write
technology I can also take advantage of
that and take a snap or thin clone my
production environment where blocks are
only written to my test environment as
they are changed in production that
means I can build a lot more snap clones
and still require only a very small
percentage of the storage of my
production environment now that you know
all the capabilities we could use let's
walk through a demonstration of
performing some of this flow in this
example I'm just going to use snap clone
to clone the database to do that let's
log in to enterprise manager Cloud
Control 12c i'm going to log into
enterprise manager cloud control 12c as
a standard user that is not as a super
administrator firstly i need to select
the database to be cloned from the list
of databases shown on the databases home
page you can select any database that's
running on supported storage it doesn't
have to be a standby database but that
would be recommended for continuous
synchronization with production in this
case I'm using one called prod one st b
this particular database is a standby
database it's running on a netapp filer
i can see this play going to the storage
registration page if i click on the
netapp fowler here i can see the prod
one st b database is located on that
netapp fowler and i could see all the
files that are created for it on the
prod one st b database home page i go
through the provisioning menu to start
the cloning process notice we have three
options here for cloning because the
prod one st bede database resides on a
netapp filer enterprise manager is
recognized as i can take a snap clone of
the database in addition to the full
clone and clonedvd options you can see
as well i'm going to start the wizard to
create a snap clone database on the
source and destination step i need to
provide credentials for the source
database and the host containing the
oracle home for that database
for the source data time series region I
can either choose now which will take a
snapshot of the source database and
clone from it or prior point in time if
I select a prior point in time a list of
the existing snapshots for this database
is shown and I can choose any one of
these to use as a basis for creating
this claim if the snapshots are listed
in order of age with the oldest one on
top and more recent ones behind it for
this example I'll take this snapshot
once I've selected a snapshot I'm given
the option to change the exact point in
time or the scn I want to clone at if I
click in the time field itself I'm
showing the range of times I can specify
the lower bound here is the time
snapshot was taken and the upper bound
is a time when the next map shot was
taken I'll change the time to something
in between those two values now i need
to give the destination database a name
i'm going to call this in prod five so
i'll enter into global database name to
match that the city is automatically
determined for me from the global
database name although it could change
that if i wanted to notice i can specify
a single instance database iraq database
or Iraq one database here but in this
case i'll just use single instance next
I need to provide the Oracle home
location and hostname selecting the
Oracle home will also select the
matching hostname the Oracle home may
select here can be the same as the
source database at a higher PSU or
different pad set this allows me to test
the updated version without impacting
directly on the production environment
the final step on this page is to
provide the relevant credentials
you
figuration wizard step I need to provide
a mount point prefix and the amount of
writable space for the volumes that will
be used by the clown I'm going to use a
database name to make that easier to
identify which databases using this
particular mount point and change the
writable space the listener is already
selected for me so I just need to
provide the database credentials and
move on to the next step now I can
specify initialization parameters for
the database if I wish I'm going to
leave those that the defaults for now if
I have masking definition is defined to
mask sensitive data I can select which
one should be applied after databases
clone on the post processing step in
this example I haven't defined am asking
definition so I'm going to skip that
notice that I can also select pre and
post cloning scripts be executed here as
well as a sequel script to customize the
clone database you could use this sequel
script to provide a different masking
definition that you've custom written
for example I'm going to leave those
blank and move on to the next step on
the schedule step I can provide a
different name for the instance of the
deployment procedure if I want schedule
a procedure to run now which is a
default for later and choose
notification statuses that I can be
informed about I'm going to call the DP
instance thin prod five so i can
identify it and leave the rest of these
move on to the next step finally i can
review all the inputs to being provided
to the deployment procedure if i'm happy
with all this i can submit it the
procedure activity page shows me the
execution of the deployment procedure i
prefer to do and expand all and change
the refresh time to every 30 seconds so
don't have to manually keep refreshing
the page procedure takes a few minutes
to complete so i've deleted
part of the video for you you can see
the step here in the output where we
applied any PS users are available to be
applied as part of the deployment
procedure next I want to show you how
you can refresh this database
you
so let's move to the clone refresh
dashboard
now you may have noticed when I first
created this that I selected a time that
was some time back from where the
production day currently is so what this
is showing me here is that this
particular database is drifted by 15
days from the source database as a
result of the time I actually selected
if I want to remedy that I can simply
click on the refresh button here and
enterprise manager will take me through
the process of recreating this database
and here we are back on the same lizard
we walk through before in this case I'm
going to choose to refresh it to a more
recent point in time or a more recent
snapshot but year similar values for
everything else to the last time we went
through the wizard since there are no
changes to the wizard I'm not going to
bother recording that since we've
already been through at once once the
refresh is done I can go back to the
database home page and see the databases
come back up again I can now see the
history of the database on the phone and
refresh page so as you can see cloning
can be used as a way to build
environments for proofs of concept test
master creation or indeed anywhere that
you may need a one-off clone we've seen
it with the cloning refresh
functionality you can climb from an
existing snapshot of a database or you
can choose to clone to a particular
point in time or scn not only that you
can integrate both masking and patching
4ps using this flow as well once you've
created a clone you can then refresh it
from the source later with a few clicks
also while we haven't covered it in this
screen watch you can see use the mcl /
refresh database this verb only takes a
few inputs and makes refresh even
simpler it's ideal for DevOps or dev /
test type scenarios I'm p chairman
thanks so much for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>