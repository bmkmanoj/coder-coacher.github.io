<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Oracle CASB Cloud Service: Creating and Registering a Source AWS Account using an IAM Role | Coder Coacher - Coaching Coders</title><meta content="Oracle CASB Cloud Service: Creating and Registering a Source AWS Account using an IAM Role - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Oracle CASB Cloud Service: Creating and Registering a Source AWS Account using an IAM Role</b></h2><h5 class="post__date">2018-01-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/OkhrqDPHzNQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this walkthrough will show the creation
of the I am role in the source AWS
account configured in cross account
logging with a target account it will
also show the registration of the source
AWS account in Oracle Caspi cloud
service at this point in the
configuration it's assumed that cloud
trail has already been enabled and that
it's sending its logs to a local s3
bucket on the target account log in to
your source AWS account and navigate to
services under security identity and
compliance select I am
select rolls and then select create roll
to create a new monitoring role note
that this is different from a cross
account roll select another AWS account
this is required to be able to read the
s3 logs and so Oracle casts B cloud
service can assume this role to monitor
the AWS account you will be prompted for
the account ID and the external ID the
account ID is the Oracle Casspi cloud
service account ID the external ID is
generated during the registration
process
open a new tab and log in to your Oracle
Casspi cloud service on the dashboard
screen select add an app
select Amazon Web Services AWS and
navigate to the select an instance
screen name your AWS application
instance and then navigate to the select
monitoring type screen this is where you
will select which mode you want to
register your AWS instance into Oracle
Caspi cloud service here you will assign
a preexisting AWS policy to the I am
role you can register your AWS account
into Oracle Casspi cloud service in one
of two modes read-only and readwrite in
both modes your baseline your AWS
security controls in Oracle can be cloud
service any subsequent changes to the
security controls in AWS will generate
an alert in Oracle Caspi cloud service
in read write mode Oracle Casbah cloud
service can revert those changes back to
the baseline settings keeping your AWS
instance in compliance in read write
mode AWS requires Oracle Caspi cloud
service to have administrator access to
make these changes directly back into
your AWS account read-only mode requires
the read-only access policy if you
require read-only permissions on this I
am role select monitor only if you want
to reverse security control changes back
to the baseline automatically and your
security policies allow a sign in the
administrator access policy to this role
select monitor and push controls
navigate to the select security control
screen change the authentication type -
I am user role and copy the external ID
switch back to the tab with your AWS
account and enter the external ID
navigate to the attach policy screen
from where you can choose policies to
attach to your new role
if you chose monitor and push control
you must choose administrator access if
you selected monitor only enter
read-only access in the filter scroll to
the bottom and select the policy
give the roll a name and then create the
roll
then select the roll you just created at
the bottom expand the inline policies
bar
to create an inline policy choose custom
policy and click select give the policy
a name and enter the STS assumed role
statement here making sure the resource
is set to an asterisk now apply the
policy the first line is the role a RN
which is required to complete the
registration in Oracle Caspi cloud
service towards the bottom of the page
there are four tabs select trust
relationship under trusted entities is
the account number of Oracle Casbah
cloud service under conditions you'll
see the external ID that was generated
by Oracle cos B cloud service select
edit trust relationship if the Oracle
can be cloud service tenant times out or
you need to restart the AWS registration
process when you click to add the AWS
application the process will generate a
new external ID you'll need to replace
the value in the trust relationship with
the most current one to match Oracle
casts B cloud service
switch to the Cosby tab and enter the
role a RN you copied earlier slide the
collect logs from an external account
bar over to the right at this point in
the configuration it's assumed that
cloud trail has already been enabled and
that it's sending its logs to a local s3
bucket on the target account it is also
assumed that cross account logging has
been configured so the target accounts
s3 bucket has a modified policy to allow
source account cloud trail logs the
source accounts Cloud trail is sending
logs to the target accounts s3 bucket
and they cross account role has been
created in the target account for more
information on cross account logging
please review the cross account logging
video in this series enter in the name
of the cross account role you created in
the target account enter the account
number of the target account and then
test the credentials if all of the
configurations are correct
you'll be informed that their
credentials are valid submit your action
and you'll get notified that AWS is
going through its first data ingestion
in your Oracle Casspi cloud service
tenant navigate back to the dashboard
and you'll observe that this application
is going through initial data ingestion
congratulations you have successfully
registered a source AWS into Oracle
Casspi cloud service configured for
cross account logging with an I am role
thank you for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>