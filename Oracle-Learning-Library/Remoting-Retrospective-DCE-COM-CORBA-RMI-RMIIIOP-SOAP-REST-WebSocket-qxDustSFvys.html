<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Remoting Retrospective: DCE, COM, CORBA, RMI, RMI/IIOP, SOAP, REST, WebSocket | Coder Coacher - Coaching Coders</title><meta content="Remoting Retrospective: DCE, COM, CORBA, RMI, RMI/IIOP, SOAP, REST, WebSocket - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Remoting Retrospective: DCE, COM, CORBA, RMI, RMI/IIOP, SOAP, REST, WebSocket</b></h2><h5 class="post__date">2013-01-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qxDustSFvys" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so this is a Baath seven zero zero seven
in case you needed to know that and my
name is Harold Karr so we're going to
talk about remoting systems and so let's
start off with what is what is a
remoting system it's just something that
allows you to call services or methods
or procedures or functions on one
machine on another machine and without
really having to do much extra and you
don't have to know anything about the
other machine and that's kind of the
picture so you got your client app code
it talks to a remoting system and by
remoting system you know I mean DCE
CORBA are my are my IAP soap on and on
and on which is what we'll get into some
of the details of those systems and
they're the ones that responsible for
doing the work for you and then sending
on the network and doing the work on the
other side and then calling the code so
what goes on with all those systems well
before we go there I'll tell you a
little bit about myself to kind of give
you maybe confidence that I have
something some knowledge here and I did
that the University of Utah as part of
my graduate a thing called D C++ this
was in the late 80s early 90s we
actually the thing called concurrent
Utah scheme and then our funders
wouldn't pay us to do scheme anymore and
I volunteered to do C++ and so but
anyway I had to it had lots of things in
it but the two things that it had was
this DC gateway and DC value which er
basically turned out to be exactly what
Java used about four or five years later
for RMI where they have remote and
serializable and then I also did a thing
in the early 2000s when soap was coming
along because a lot of people in the
company as I was working for building
platforms say we got to build this brand
new soap platform I says you know we can
reuse our korba stuff because it's all
the same stuff it's presentation
and it's encoding its protocols and its
transport and some other things too and
I showed some architectures and didn't
do me any good they still build it
completely separate but it did give me
the soap job later so I guess I get that
did to me some career good but they
technically it was like well maybe not
so okay so let's actually jump in to
what are the characteristics of a
remoting system and this is kind of the
bigger picture usually you'll just see a
picture that looks like that one
you know remoting system does everything
for you forget don't worry about it so
we're going to break that down a little
bit further and show it so the first
thing is you've got your client side app
and it's got to talk to something and
generally in most remoting systems you
have some sort of objects or runtime
system that you talk to and
so you have some sort of proxies or
stubs has pretty much everybody used one
of these systems Korba or who hasn't
used a remoting system Oh
one person okay good that means your
life's been much easier so you have
these proxies and stubs and they're what
you are going to talk to and that allows
you to pretend like you're making a
remote procedure call or and it tells
you what data types you can actually
send on the wire then to actually get
the data types on the wire by wire I
mean the network you have to encode them
some way XML CDR
XR and XDR milli there's a million
acronyms for it and after you've encoded
the data your actual data that's the
important thing
you got to surround that data with some
protocol information like what message
is this what is this for is this a
request a response a fault all that kind
of stuff metadata and then finally you
write it out on the transport and a lot
of times people mix up protocol and
transport I think if you not you as a as
a user of a remoting system but the
writer of a remoting system if they're
fiddling with probe it's in the you know
like HTTP header bits then you're
dealing with a protocol once you
actually just grab something and send it
on something and you're not dealing with
the bits that's the transport like how
many of you have touched TCP frame
parameters over say you're really
low-level yeah yeah it's a little harder
from Java so so a transport is something
where you just send it on the i/o string
you don't touch any header bits or
anything like that so then it goes
across the wire and it may or may not
have support for things like attachments
etc and then it does the opposite
basically on the other side with one
extra bit which I'm calling a servant
locator here
and the servant locator we'll get into
that but it just means find the code
that's going to run this finally for me
and then there's a lot of other pieces
down below to the math indication to
security to sessions to directory
services to distributed garbage
collection to activating a service
making sure it's still still alive
that's what ping means and to code
mobility so you can ship code somewhere
if you don't need it if you don't have
it and you need to run it not
necessarily all those things are a good
thing I'm just saying they exist and
that's kind of what I'm trying to show
in this presentation is my view on the
pieces that are probably useful in the
long run and the ones that are not so
useful so you know it's been a long
learning curve to do remoting right and
we actually don't haven't done it right
yet but we're I think we're closer and I
just said this but it's in words so I
won't say it again though if you've seen
the slides later that helps so here's my
main point of the whole talk
there were RPC systems and that includes
DCED comm korba are my are my I up and
all that stuff and they basically were
simulating a single address machine they
had all sorts of stuff like if the thing
wasn't running it would start it for you
it would make sure that it's kept
running for you and so you could pretend
like it was just always there and that
was really not a good idea it's very
fragile
but people that's that's where they
started then believe it or not and this
is something I kind of learn putting
these slides together soap actually did
something good now remember I'm the soap
architect that's at Oracle so can't make
fun of it too much but no soaps a great
thing it is he's laughs he doesn't
believe me
but anyway soap did something in terms
of the specifications it really
concentrated on the wire protocols first
and it would left it if to everybody
else like figure out how you get stuff
out and off the wire but this is what it
looks like on the wire and that's really
the important thing is what's on the
wire and so that was that was a good
thing unfortunately there's some RPC
bits still in there and I'll go into
more details on that so then the next
thing is actually rest took it actually
another step further and in in a good
direction and that says not only do you
just think about the wire but you don't
want to think about it in terms of RPC
at all you just want to have this
message that you sent this document you
send it crust and that's what you deal
with is a document and that turns out to
be actually a better model for a lot of
things if you're writing embedding
controllers that's probably not the
model for you
are mice or something likes better but
if you're doing a document exchange this
is the one so there's still you know
when I have certain judgments but
there's also they have to be colored
with use cases and then there's
WebSockets which seems to be the latest
greatest thing and it's just TCP that's
all WebSockets is and so don't reinvent
everything the above and don't you
should use it for real-time events and
that's it if you start reinventing
everything above you're writing a lot of
code that you probably just don't need
to so I'll go into that so this all
comes down to so these things called the
eight fallacies of distributed computing
which some guys I think it was in the
80s
Peter Joyce and some others at Sun
Microsystems put out so they said you
know the network is reliable well that's
a fallacy we know it's not reliable
latency is zero bandwidth is infinite
all these things this it's just not true
what's kind of funny is then son did ONC
anyway which was their network computing
which basically made it look like you're
doing their procedure call in the same
machine so I think they broke all the
fallacies
even though they at least recognize they
were fallacies okay so let's dive in to
the first one I'm going to talk about DC
e and DC which started in the early
1900's by a consortium of people that
hated Sun literally a Sun had done you
know this UNIX five UNIX ss5 r4 right
and they wouldn't license it and stuff
so everybody said well you and and we'll
do this DCE thing and we'll make it so
our computers can talk to each other and
all these great things and we won't need
you at all so they did and their
function of DC is so you can
authenticate users and then call
resources or methods on other machines
so this is what the typical slide they
put out for DC the architecture this
shows that they're trying to make at a
single machine because they have
distributed file service so you can
pretend like when you access a file it's
right there even if it's you know who
knows where and that's maybe a good
thing maybe not a good thing I think in
most cases it's not a good thing
they have directory services so you can
look things up well you know there's
already a nest you need another layer on
top of that well maybe you do there's a
time service the time service is so you
can actually pretend like it's one big
computer all the computers networked
together and say this message you know
arrives five milliseconds late will and
forget it
you should just assume messages are
gonna arrive late and write your code so
it can handle those things not building
a time service management the whole
management thing you actually needed a
manager to put together your whole
system rather than just writing a web
service and calling it or putting it up
and letting people use it to there's
threads so you know if they had their
own portable threading model so there
was all that stuff we're really the
we're gonna focus on today is RPC they
also named security
they did security and they did security
really well so see I said the origin
it's the wrong direction
that's another slide of the same thing
this slide kind of makes it look like
it's all on one machine and that's kind
of the point of their architecture but
it's really on the network so you have
you know really the file server might be
somewhere else the administrator
somewhere else the time server it's a
security server okay whoops that was not
supposed to happen okay so the first
thing at the top of that one slide of
characteristics of remoting systems was
description and I actually didn't
mention that but so it'll or wisdom or
waddle or wiggle or any of those things
and this is what a DCE description looks
like and I won't go into any detail but
it's you can see it's got a little bit
more generally than what you'll see in
well actually wizzle's got this bit in
terms of capacity but so a basic it's a
recording it you know the whole world
function greet and this is how you call
it simple huh aren't you glad you don't
have to write this code anymore of
course maybe you do used to write C code
okay okay yep we got the hook so this
was all so you could write hello world
back and forth echo so wasn't
particularly easy the next thing was
your data types and this is just shows
you that you know in the ER it'll if you
said something was a boolean in dr is
their encoding type so it's called a
boolean and then you use in your C code
a thing called it'll underscore boolean
and what it translates into in C is an
unsigned char and a whole bunch of other
things and what they did with that
encoding is Matt but very specifically
to the bits so you knew and actually in
some respects that's a good thing in
some respects that's a bad thing you
know now everybody uses Jason now or or
x SD Jason is just like you got a string
and if it overflows on the machine that
you're receiving it on compared to the
one you're sitting in well that's your
tough luck you
if with xst at least it really does say
what the type is and you've got to
translate it right with with this it
also says very specifically what it is
and that it's both a good thing and a
bad thing good in that if you're writing
scientific computations in a distributed
network
you probably want that you don't want to
lose any information if you're doing a
lower back mobile app you probably
couldn't care less well unless you've
really deducted a lot for your bank
account then but I don't think that's it
so okay then the protocol that was the
bit you know all the surrounding bits
well I won't go into this but this is
what's going on in the DC header and
it's pretty frightening but of course
the only reason that's not frightening
we see soap is because it's a little bit
easier to read but not much okay and
they have a million transports DC so
that's good you know you can send it on
tcp UDP and a bunch of others i'm gonna
run through these now here's the thing
they said that's the DC got the best it
was security it's still a high point in
distributed computing and they had so
you coulda Finnick eight users with a
third party service that did the
authentication for you and then would
say give me a privilege so i can talk to
his particular computer and then the
computer can do access control list net
they also had pluggable security so you
could do it a different way if you
really wanted to it was all based on
Kerberos and I still say that is
actually one of the best efforts of
security and distributed computing and
it was the first I wasn't really at
first but it's really the first more
widespread one so here's the summary of
oops what happened I'm missing a slide
ok well I'll use this one so for the
summary for DC is you know they use
it'll for description they have a
compiler that takes it'll to see code or
I think sees the only one that I
actually know that DC worked with maybe
they had other language mapping C++ or
whatever but I'm not sure then they had
the data types you could send we're
basically what you could describe and
see they encoded it in a
binary type which unfortunately if you
want adoption you really don't want it
to define it Brian binary protocol it's
pretty much proven by experience that
for adoption you want a human-readable
protocol I mean every email was really
successful way before HTTP was around
and it was a human-readable protocol and
HD was very smart because it did the
same thing their transport is good
because it has a lot of them security is
great in DC it's a Scylla high point
sessions I'm not sure if they had any
sort don't do that to me is there a
technical guy here the tech guy it quit
working you know did something similar
to me last night
you know I think this thing just
completely died well while we wait for
the tech guy I'll get my computer out
and see if it does any better
I work really hard on these slides I'm
gonna be pissed okay let's see if I get
lucky kind of now I got to get it over
there so it actually works on this guy
plays now usually I just say detect
displays and then it magically grabs
together I thought it was dick tics
isn't that what it is
or
let's see if I can scoot this over so
okay my fake it I do not know why this
thing oh man I lost it
those
yeah
this is really sucks okay you know what
can you read it because I can't see it
on my screen and I can't get to it any
longer so I don't know what's going on
oh good let's see what happens that
doesn't work so real okay so let's just
do this sorry about this but and I can't
figure out why this is not grabbing the
right display and like you see that I
can't even see what you're saying I
can't even see and I can't get to it any
longer you know what I think I'm gonna
give up and just do this okay let's get
to where I was
so I really can't control this because I
can't get back to that window Bazaar
oops
okay oops whoa whoa okay okay I'm just
gonna go with what I got
can you read that okay yeah sorry for
that technical glitch anyway so where
was I
oh yeah so anyway it's got lots of stuff
and let's go on because I just lost some
time so the in Sun also had to do its
own DCE like thing called ONC and now I
got her I hate reading to the slides but
I can't see them so I don't know what
I'm talking about but you can see it had
it wasn't actually as good as DCE so the
next thing comes along is decom and
basically what microsoft did is he tried
that they tried the license DCE
from the open group and they had a
charter which would made it way too
expensive for Microsoft so they said
forget it
and they basically re-implemented it
from scratch isn't that what they did
with das - yes I guess they're pretty
good at that
anyway the main thing they did - besides
reimplemented then they added DCE was
remote procedure call so what they did
was instead of making an RPC they made
it object oriented so o P and of course
you know if you think about the time
period ECE was kind of before
object-oriented computing really got
going as a hot thing and then DC decom
by then it was too hot thing so they had
to do objects so they did that they also
did distributed garbage collection and
that get backs to that one
characteristics of distributed systems
which I say in general for most apps
being written today is a mistake you
don't want to be the roboting system you
don't want to be simulating
a single address machine and so by doing
distributed garbage collection when
somebody's you know when you've let go
of the reference and they do counting
and all this stuff then great it'll
clean up your your object for you and
that's way too fragile and you know
you're gonna have problems if you do
that so here's something we're gonna
deep dive in no that's just to show you
decomp and you'll see later when we get
to some of the other systems they look a
little simpler so so we won't go into
the nitty gritty this but it has all
sorts of fun stuff going on and that's
things like activation so if the service
isn't running it'll you know start it up
for you if the service is you know make
sure it stays alive even so if it dies
they were sending these pings it can
actually get it going again before you
even want it all sorts of cool things
but it's really more than most things
need ok now we're going to move on to
Cora but Cora also came along about the
same time as decom and said they'll add
DC stuff that's no good it's that's
procedure calls and everybody knows
procedure calls aren't cool objects are
cool so we got to do the same thing in
object-oriented style so the first thing
they did was define all this stuff in
korba one in object runner style but
notice that bold where it says no no
wire format Corbett actually defined a
whole bunch of specs and they had no
wire format defined so and it took him
till Corbett 2.0 1996 before they
actually like oh yeah I guess we want to
talk to each other so they figured out
they better do a protocol so they did
this gif gif II which is kind of an
abstract protocol and then it could map
to specific ones in the two main
specific ones there I awful mean the one
that goes on the internet and then a DC
e1 that existed because we wanted to
interrupt with DC also and there's a lot
of other things they defined like
particularly a lot of language mappings
for job effort for ADA for small talk
for C for C++ for a million languages
and that's both a good thing and a bad
thing okay so there's a lot more history
here and the ones that were oh yes so
there see there's a couple of men bulb
portable object adapter portable
interceptors and object reference
template I won't describe those but I
had the good fortune to be involved in
those the definition of those things
meaning as a friend told me once friends
don't let friends do standards take that
advice if you're ever invited to join a
standards team and so here's the core of
architecture and the main thing that I
want you to see on this one is the very
top thing where it says in our there's
the operation as in args and then it has
return value and out args that's another
mistake because it's trying to simulate
single machine things so when you have
passed by reference that's an out art
you know usually put in there you get a
reference and you get it back come on
really
just send the date and give it back you
don't have to pretend like it's you know
passed by reference and all this but
that's because that's the mindset you
know it's easy to make fun of it now but
the fact is it's it's really hard when
you're in a particular time you're in
the mindset of that time and to do
something different than that mindset is
difficult so even though I'm kind of
making jokes about this I made all these
mistakes laughing at myself so and this
is kind of another picture of the same
thing we've been looking at you know
you've got the client and it can talk to
Stubb's which are what they're called on
the client side or you can talk to this
dynamic interface a better speed up in
dynamic invocation interface just means
instead of having compiled stubs you can
just dynamically decide what you're
going to sin hopefully it's going to
match what the server wants but those
things are kind of good for if you want
to build intermediaries and then the or
B interface okay so let's go on so
here's the good of
Courbet here's the bed let's start with
the bed so ordy that's another one less
activation things so it's not running
it'll get it running for you it's
objects
well objects pretty much by definition
has state and i think that's another
thing we've learned over time is don't
put server-side state in your
distributed system so and it's also well
it's not leveraging the internet
protocols and it to be fair they were
quote kind of new HTTP was certainly new
about the same time as CORBA so and the
good thing is the language of mappings
because like I said if you need precise
precision you really need to know what's
on the wire what it turns into in your
language the data if you need if you
need for precision notice that's in the
oh I'm getting hit that's on the bad
column but notice it's also in the good
call it's bad because that's a lot of
work to do a language mapping and a lot
of probably for who knows 80 90 percent
have it's just really not that necessary
in terms of the data so the good part of
Corbett is the service description the
Idul descriptions turned out to be
useful the strong typing atomic
transactions po a poem poem means
portable object adapter that's the thing
that's going to find the code that
actually on the service side that's
going to run your service code and the
poet gives you a whole whole bunch of
ways to do that from using the same
object for everybody or lazily start
loading them you have a million
different ways and it turns out telcos
love that particular feature they use
that quite a bit
and the language mapping okay so there's
there's the Corbis summary there the
main thing it didn't have was the
distributed garbage collection and the
code mobility
okay so I think we said that let's go on
okay so our am I pretty much was a Java
only version of corporate or decom or in
that it's object-oriented you could do
it in job at the top and what you could
send across on the wire where the basic
types or any object that derive from
serializable
but you had to sometimes help the
serializer a little bit and the encoding
was no standard but they call that jr
and peek all i need to know that was
actually an official acronym but that's
what its kind of there and it went on
tcp if you use security used SSL but
nothing more than that and same thing
for authentication you could do SSL with
client off it had a registry it does
have code mobility which at one time
that seemed like a good idea I'm not so
sure anymore genie actually took
advantage of that quite a bit genie was
supposed to is kind of a core as RMI
plus plus and it was you could actually
using any protocol even just a raw TCP
connections say you know I want to talk
to you and it would download the stubs
that would know how to talk whatever
protocol it would with Java stubs and
then it would do this wouldn't it be
really relied on code mobility a lot but
Genie didn't really succeed that's for
sure
okay
okay so then Corbett came along the OMG
came along again says oh man just as we
were getting everybody to really pay
attention to us then Java comes and says
here's this better thing and everybody
loves Java that's so much easier to code
Ian which is true just from garbage
collection alone automatic garbage
collection but when they added the RM I
think oh man how do we get the people to
come back to us
so they did our my eye up and what that
meant is you could program in the RMI
programming model and what that is is
you just say you know you inherit from
remote object and instead you just
inherit from a different object and
suddenly it's rmii up and it talks ILP
uses the corbett data representations
and all that stuff so it seemed like a
great solution does anybody is are my
eye up you said you didn't do it
oh okay why it was there right it's kind
of Mount Everest er no I mean I will
yeah I'm joking but I you know we use
what we use a time because it's what you
it's in front of you sometimes we need
to use it it gets the job done user and
you find out later like oh shoot there
was a better tool but we ship it's too
late no one's ever done that right so
but anyway so they said okay we're gonna
make this our my IAP thing sudden will
get everybody to come back to Corbett
and it turned out to be a little
confusing to people because wait a
minute you already had Corbin Java it
was this thing that mapped it'll the
corporatist objects to Java objects and
but now you're saying you've got this
other thing called our my app which is
really Java to it'll so you could write
in Java to begin with and it would
translate into Corbett I mean you would
write in Java to begin with and it would
translate to Corbett it'll so other
people then on Corbett could reach into
your jaw new Java objects that way
and but you basically could write in
Java only and not have to think about it
the interesting idea I've definitely
worked on a few bugs in that system it
does have some hidden consequences and
that one there that hidden orb that one
is a killer because when you're sending
data particularly object byte value and
when you send it to the side and they
don't have that code it's got to get the
code and to get the code it's got to
talk to the orb
but the orb doesn't exist in rmii up in
are in regular corporate programming you
actually have to deal with the orb the
orbs the basically the the the interface
that you talk to you to set up all the
remoting stuff and the orb is invisible
in our my i/o but there has to be one oh
no no no oh good so and also not every
Korb object can translate to Java
it'll so that ones I'm not so sure if
I'd use that one but at least they
didn't have distributed garbage
collection okay let's move on so okay
now we're getting to something like who
actually work with now and this is
actually part of my main point so
everything we've talked to you up till
now has been really been this single
machine simulation more or less I mean
there's that's a broad categorization
and then telling you broad one you got
it have cavy it's left and right but
still there's a lot of stuff that's
trying to pretend like a single machine
which soap was the first system that
really did it says here remoting system
email is not a remoting system but it's
the first system says here are the wire
specs go build your systems and that's a
good thing because it actually got away
if there's no activation
there's no objects even though the name
of it was originally simple object s
access protocol of course they decided
later it wasn't object so it's just soap
it's not an acronym anymore actually let
me tell you another story about so it it
it actually the real reason soap exists
is because Java in the late 90s was just
eaten Microsoft's lunch and there one
what do we do man what do we do we gotta
get these people back oh wait a minute
what else is hot XML was really hot in
the late 90s early 2000 so he says I
know
let's turn XML into a remote protocol
and then you don't have to have Java on
the other side and everybody will come
back and start using Microsoft again and
then they they Barker's it really will
is it really anyway that's my take I
don't know if that's true but I think
there's something to that so but so but
they spit so be that as it may it
actually is a good thing in terms of the
evolution of remoting systems because it
really focuses on the wire
there's no objects to be seen there's no
directory to be seen sure there was a
thing called uddi but nobody uses it
there's no activation paying there's no
distributed garbage collection there's
no code mobility all that other stuff
because what you got is you've got some
service out there in the network you
don't have no control over it all you
can do is send it a message and
hopefully you'll get something back and
if you don't you better have code to
deal with the fact that it's not
responding and that is the way you have
to do distribute computing if you have
they try to make the infrastructure to
take care of all of that for you it's
too fragile it doesn't work so so anyway
soap is a good thing and is a good thing
except it still has the RPC pedigree and
that's this mindset and that is if you
you know look at it it has these things
called RPC encoding RPC literal doc
literal encoding and the RPC and RPC
literal is just what it says the RPC
makes it so you can make procedure calls
but you really don't want to do
procedure calls you want to send
documents so RPC lit says oh well if you
put one parameter to your call to your
method and it's an XML document
then we don't have to realize it because
you've already done it for us and then
doc little takes that another step
further so there's still you know some
trust in there and also a wisdom ports
inside a Wizzle they're kind of
essentially objects and the operations
are the methods or you know if you want
to be its RPC it's a function library
with a bunch of functions so it's it
still has some of that stuff left and
also in frameworks that use like jax-ws
in Java or.net you put an annotation on
an object and then it turns it into a
service for you
and that's easy and it's useful but it's
also RPC and there's nothing wrong with
it in the right place but I'm just in
terms of the kind of this picture I'm
painting leaving mark VC getting towards
wire protocol and finally when we get to
rest you'll see the next part don't want
to give it away it there is injects RPC
to be fair some interfaces that call
dispatch some provider that allow you to
actually work at the XML level so you
can deal with the payload and you don't
have to think about the other stuff but
they're hard to use now for soap the
main use case is security if to me
nowadays the main reason to use soap is
security and what it does really well
and our rest can't touch it and korba
can't touch it DCU can touch it but you
don't want to use DC so and that is it
has a thing called ws-trust this it
makes it so you can write security token
services and what a security token
services is a third party either you
wrote it or you can all go to somebody
else that is going to authenticate your
users you really don't want to have
every one of your services that you
write have to have the authentication
built in you really want that to be
decoupled from your actual service
that's doing the work so to allow that
the soap has this thing called ws-trust
that says this defines a protocol so the
client when it's tries to talk
to a service under the covers it'll
actually start talking to the STS to say
I needed to talk to that service give me
a security token so I can do that now
you'd have to write that code all your
code does is a regular our you know
remote method call but under the covers
it's doing this handshake with the STS
to get this token once it has that token
then it uses that and I'm some other
stuff to you know build public private
keys and it does encryption and signing
on the wire using ws-security and so in
that it that's indian security so even
if it goes to a router or ten routers or
load balancers or anything like that the
data is still encrypted nobody sees it
until it gets the very final destination
and that's where it's decrypted and
that's a good thing for if you're
writing banking software if you're
writing medical software that's sending
images back and forth of your patients
that kind of stuff you really want this
kind of indian security and you want the
strong identity so that's the main use
case for soap and it actually does it
really well with the caveat and it's
interoperable with the caveat that you
really need to stick with well-known
security types like mutual
authentication and stuff because the
minute you try to configure it somewhat
odd it's almost impossible to configure
dotnet and any java based system to do
that there it's possible that you'd
spend months doing it so you need to
stick with pretty much well known
security regimes okay so here's the soap
summary so you've got to any language at
the top you know you got c c++ anything
pretty much everybody does so and then
if you're using a framework yeah and
you've got something like jack's be that
is doing your data encoding for you and
or you might just be saying direct XML
documents when that actually goes on the
wire it might be just XML it might go
into some binary encoding like fast info
set
and for protocols there's HTTP which is
a standard soap over JMS is a standard
there's also some non-standard things
for TCP and WebSockets and they also has
support for attachments notice on all
the other slides you've probably noticed
but if you look back it didn't say
attachments hey you know you it there
was no concept of attachments but it
actually is levering it's leveraging
attachments and the things that's
leaving out are the directory the
distribute garbage garbage collection
the code mobility the activation ping
and I claimed those are good things to
leave out it also doesn't have a servant
locator and that is usually okay too
although if you're using oh I won't get
into it I don't that's extra so okay now
let's go on to that's the same thing in
words okay the next one okay so I'm
saying that rest is the second and
larger divergence from RPC and that is
it focuses on the data exchange and it
doesn't even define any wire protocols
right soap really is a protocol rest is
not a protocol it's already there it's
just using HTTP it's using email mime
types it uses DNS you know you give a
URL and it's DNS that you look things up
with I mean there's nothing there's no
soap specifications
it's just leveraging what's already
there and that's a good thing as you'll
hear from million rest guys because if
you send you know a get and you end up
at an intermediary that seemed that
saying it he can send you a cache copy
and rather they going all the way the
service and that's a good thing you
can't do that with soap there's no
description with rest there's a thing
called waddle but it's not widely used
there's no objects there's no directory
no activation no King no distributive
garbage collection no code mobility all
that's is good not to have I'm not
except for the description I think the
description could be used
and I think that's a whole you know what
people do when they write roast programs
is they go to the website that you want
to use them as a service and you go to
the thing and you read their description
as a human and then you hopefully do
what it says and that's it I think it
really could use a description language
so here's the arrest picture and for
security all you get with soap is SSL if
you wanted to do something like I said
the big use case for soap was is and n
security if you wanted to do end-to-end
security with wrist you would have to do
it at the application level the
framework can't do it for you because
it's just talking to rest and you were
actually in charge completely of what
goes into the body of the HTTP message
and there's there's no respect to get in
the way to do something for you
so if you want to encrypt it you've got
to encrypt it in your application level
and same thing on the other side and I
think you know there's a little bit of
stuff in OAuth you know I know all I
thought was originally things so you
could give out credentials to third
parties for a moment so they could look
at your contact list or something but I
hear there's some stuff about actually
using it as some sort of authentication
thing for wrists but I don't know a lot
of details about it so there's the rest
summary ok let's move on WebSockets
whoops I didn't mean to show that part
that you didn't read that did you
already said it though so what is
WebSockets anybody come to my talk
yesterday you okay well then you already
know the punch length check this out I
think that's the best description of
WebSockets coming you know people are a
little it's a new thing say the wait a
minute I've been told I should use wrist
instead of soap and I was told us you
use soap instead of Corbin now so stole
that was just supposed to use our minds
to the court wait now what's WebSockets
well here's WebSockets look the client
just talks to the transport there's no
buddy doing encoding for you there's
nobody doing protocols for you there's
nobody doing anything for you you talk
directly to the transport there's nobody
doing a syndication there's no video
insecurity there's nobody doing sessions
there's nobody doing anything for you
that's what I mean by WebSockets are
just TCP the way WebSockets works is the
views case for WebSockets is to replace
ad-hoc things like Ajax and things have
gone under the name like comment long
polling HD streaming and that is where
your client is trying to pretend like
it's a desktop app and it needs to you
know when the server something up the
servers just got to show up well you
can't do that with HTTP because it's a
request response protocol
whereas with like comet what it does is
you do a connection and then the server
holds on to it instead of sending a
response right away and then later when
an event happens it sends the response
and that's the event the real-time event
so it's just faking things or it might
keep a stream open and keep sending
multiple events down that stream and so
there's another thing besides WebSockets
in html5 called server sent events and
all server sent events do is
standardized common but besides that it
also has WebSockets and what that allows
you to do is WebSockets if you think
about HTTP a lot of people get confused
HTTP is still just TCP it opens up a TCP
connection and on top of it is the HD
protocol running through that transport
and it that's it and with WebSockets
what happens is the first message you
send on the TCP connection the first
HTTP message you send is this thing that
says I want to upgrade to WebSockets and
so if the server that receives that can
handle WebSockets it'll send back the
thing says yeah I can handle that and
then they do some other
and what happens is is then you have
access to the already existing TCP
input/output streams that were already
there there's no magic HDPE was running
on TCP it just says suddenly allows you
to actually get now at the TCP streams
and that connection stays open because
it doesn't get closed by the HTTP
protocol because you're not running that
protocol so at that point you have a
transport you don't have a protocol you
have the server
yeah the server yeah right yeah that
that's exactly the point you know you
now you've got this thing where you've
got these connections that stay open
it's really out a problem on the client
it's a problem on the server side
because now your server has to do
connection management you know with HTTP
it comes in it goes out connection goes
away by definition there's no connection
management with WebSockets suddenly the
server's gonna have to say oh man I've
got ten thousand open connections and I
can't handle any more so what do I do
well then you do these reaping
strategies like okay which one's the
least recently used and all that kind of
stuff and right well what happens
underneath the covers is who's ever
writing the WebSocket client
implementation needs the technique that
went away and then reestablish it's it I
don't know how WebSockets is gonna
really work out in practice with the
connection management because if you
want if it somebody gets rid of your
connection but the client really doesn't
want to keep getting events even if
event hasn't happened for two days they
want it'll try to re-establish the
connection so it'll be this ongoing
fight so for today my main point is is
WebSockets is just TCP it's not a
remoting system it's just a transport
and it could be useful for events
but I'm really not still sure how that's
going to work out in practice because of
connection management
so that's WebSockets oh I'm actually
over now
so here's WebSockets right what does it
have nothing
it's got Transport TCP and it's got
coupling super-tight because whatever
you send on the wire the only person
that's gonna see it and understand it is
yourself so that's really tight coupling
ok so here is the summary RPC is
basically trying to simulate their RPC
systems as they were done like the DD
common ik et cetera we're trying to
simulate single address machines that's
too fragile the wire things like soap
we're bitter because they got rid of
that part but so kept some of the RPC
things which is makes it not as useful
but not well I shouldn't say that was
useful it's just harder to use that it
needs to be in some respects but the
security building two soaps great the
document thing abreast is fantastic but
you don't get the same ended ended
security and WebSockets it's just a
transport it's nothing else you're on
your own 100% and I'll just leave you
with this so there is on the drawing
board the next big thing and I'm going
to talk about it next year at JavaOne if
I get accepted and but I'll give you a
sneak peek so make sure you all put on
your surveys you know like you want me
back so they make sure they and then if
you if you do that then this is what I'm
going to talk about that's the next best
thing I'm going to tell you how that
works and that's it thank you
yeah</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>