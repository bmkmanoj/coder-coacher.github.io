<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Manage and Monitor the Oracle ZFS Storage Appliance | Coder Coacher - Coaching Coders</title><meta content="How to Manage and Monitor the Oracle ZFS Storage Appliance - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Manage and Monitor the Oracle ZFS Storage Appliance</b></h2><h5 class="post__date">2014-10-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9W2eYLWV20g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi this is Darius Ankeny today I'm going
to talk to you about the general
management capabilities of the ZFS
storage appliance today we will first
dig into the buoy or what's commonly
called the browser user interface which
you see here this is all lives on the
appliance directly you don't need any
extra software servers to install any of
the management software it lives on the
appliances themself and it's accessed
directly over a web browser you don't
need any expand sheet any fancy client
software or anything like that you
simply point your browser to the IU
management IP address of the appliance
and begin to manage it you can use any
web browser whether it's Chrome Firefox
Safari Internet Explorer they all work
fine
when you first log into the appliance
this is the screen you typically see the
status screen this gives you a
high-level overview of what's going on
in the appliance so here we see a view
of at the very beginning a whole bunch
of graphs these are all powered by
dtrace analytics they show you both real
time and they show you historical so you
can see this little bar graph moving
down here on the disk that's the current
second here's the last 60 minutes the
last 24 hours the last seven days I can
click on any point in time and it'll
pull up the detailed graph for that
point so what I did click on was the
last seven days of disk activity so I
could see that here and it pulls it up
and we will drill into analytics in
another session in a more detailed
session but you can jump to it these
analytics are historical and real-time
as I mentioned the other thing you can
do with this screen is change the view
of it so this is the default view but
you can go into the settings and you can
change both the layout so and what order
these show and what protocols show and
what shows up here as well as the
thresholds themselves so you may have
noticed when I was just on this screen
there's little weather icons so it looks
like everything's pretty much sunny here
except for the disk it's partly cloudy
those are based on some default settings
we have for each of these different
analytics that you can set you need to
keep the defaults or custom
and it goes from sunny partly cloudy
cloudy all the way down to a cat five
hurricane so it gives you a much more
granular view of what's going on for a
particular protocol or a piece of
hardware on the box versus red yellow
green when you see red it may not mean
it may mean everything's bad or it may
mean that you know maybe the box is just
doing work so for instance you know in
your environment you may decide that if
it has a lightning bolt 85% utilize and
it's perfect that's what you want it is
very high utilization of the box and you
know it's just doing work which is good
means it's busy people are using it
other things you see on the screen are
some usage graphs of both pools in
memory so this shows you the disk pulls
themselves you know high-level overview
how much space there is how much has
been used so much available what type of
compression I have available and D dupe
how much is free and I can see if I had
multiple pools I'd see those here like I
click through them and view them all so
you see a high-level overview of the
memory in the box so it shows both cache
and remember that's being used for other
things as well in the box and then as we
scroll down you can see individual
services running on the box and whether
if they're green red or yellow those
typically would be green red yellow
because those are not threshold based
they're they're working or they're not
but if we did see a problem or we need
to turn something on like for instance
someone says hey FTP is not working like
come over here and see it's grayed which
means it's turned off I can come in here
click FTP come in here and basically
turn the service on it's a starting up
online go back to the status screen and
sure enough not a FTP is green you could
also see quick overview of hardware so
that shows you if there's any faults and
the hardware so if you had a bad dim or
bad CPU or bad disk or power supply it
would show you that here shows you a
general uptime view but if I had to say
it bower bad power supply click power
supply come in I would see what device
if I had multiple disc tray set see
those down here which device would have
you know the corresponding orange light
I could click that and then come in here
and see what drive is bad or power
supply whatever it is I could click the
power supply click the back and it would
highlight whatever one was red and I
would
oh it's the bottom one PSC PSU zero I
can tell the guy in the data center it's
the bottom power supply on this box I go
swap it out with the one that Oracle
just sent us one more last thing on this
status screen down at the bottom is the
recent alert so this shows you from the
alert log as things are happening that
you get alerted on you can see this here
and you can also these are hyperlinks
you can click those and that will take
you to the alert log if you want to see
more detail you click on the actual
individual event and find out more
detail about it moving on the
configuration screen the next tab we
review this is where you configure
things stuff you usually do once such as
configure an NFS service or directory
service or system settings such as phone
home it's not something you do all the
time every single day and so it's fairly
user intuitive of what you need to do
where storage is where we configure our
storage pools so you basically plug
discs in it becomes available in here
you can either create a new pool or add
it to existing pools it's very easy it's
hot plug and again very intuitive not a
lot of rocket science to this at all the
network tab is where we set up all of
our network settings on the box so here
you can see I'm on the routing tab I go
to configuration this would be for all
Ethernet type devices whether they're
one gig 10 gig or even InfiniBand as I
have here we support a full networking
stack on the appliance whether you need
VLAN tagging capability virtual NICs to
use lots of different subnets on the
same physical device as well as jumbo
frames if you need to some of that and
even LACP aggregation between switching
the the appliance itself the sand tab is
where we set up block device storage so
this would be for fibre channel and I
scuzzy typically and also SRP but you
come in here you set up the targets you
want the lens to be presented out of
then you assign initiators whether it's
either fiber channel or I scuzzy set
those up and you're good to go and
there'll be another module on that for
more detail uses but again it's fairly
self intuitive
cluster screen is where we'd see if we
actually had a cluster this box doesn't
have to be a cluster but it it's not
much different you just see another
control over here and you see what
resources that controller has so in an
active active scenario you would see
what pools it has and what network
interfaces it has over here the user tab
is where we create and handle
administrative users on the appliance so
you can have multiples of those as you
can see I have quite a few here you can
give them individual roles to control
their access if you want them to access
only a specific share or a specific
function on the share maybe you want
them to have a read-only access our
network admin has access to the network
tab and nothing else
you can do all that sort of here with
roles and user permissions preferences
tab there's not a lot here you can
change what screen you see on login as
well as people usually will use this ssh
public key to set up a public key for
either automated scripting or just easy
management over the CLI which we'll talk
about at the end of the video then the
alert tab there is a full alert facility
within the appliance so there's two
types of alert alert actions or tell me
if something's broken if something go
happens like for instance here's the
replication tab you can see there's an
alert log as I showed you earlier of
replication going on but you can also
have it send you emails you can have a
Sinnett SNMP trap a syslog message start
recording some analytics or even run a
script based on what's happening so
there's a full alert facility there as
well as threshold alerts threshold
alerts are based on the analytics
themselves from dtrace so performance
based analytics so for instance this one
that's defaulting here tell me if CPU
utilization exceeds 95 percent for at
least five minutes between 12:00
midnight and 6:00 a.m. and only during
the weekdays okay I want to know that
and if it repost this alert if it
happens for five minutes and again I can
do the same sort of actions I could do
on the previous one so lots of different
alerting facilities which are nice in
the appliance the next tab we'll cover
is the maintenance tab
now there's a few things you doing here
one you can see defaulted hardware and
see you know things like that if you're
having issues with hardware as the next
tab over is the system tab this is where
we update our system firmware so we go
to support oracle comm you log in with
your account that you get once you
become a customer then you're able to
download the firmware packages basically
click here upload them from your laptop
and they unpack and then they're
available our firmware updates are
usually all-inclusive and very easy to
upload and apply to a system problem tab
will tell you exactly that do you have
any problems the log tab there's all
sorts of logs you can see in the box
both alert logs fault log system logs
audit logs phone home logs the workflow
tab is where we create scripts to
automate things running on the appliance
the shares tab is where customers spend
most of their time this is where we set
up both projects and file systems in
Lunz projects themselves are basically
logical containers to hold multiple file
systems and Lunz within the same with
only what one entity then we can use the
projects to do a few things one we can
create general standards for a specific
project or group we can create snapshots
for an entire project and also replicate
an entire project so it gives us
consistency groups is essentially
another thing you could use these for
the analytics tab is where we do
individual analytics of the box to be
able to see a vast majority of analytics
the discount like I pulled up earlier
still there but you can there's
literally hundreds of thousands of
analytics you can drill down to and
detailed analytics session would be a
bit will be available as well to view
those by CPU cache analytics you know
data movement such as replication and
shadow migration full disk analytics all
way down to the individual drive level
memory analytics full Network analytics
across all the interfaces down to the
interface level and then over the
protocol so
both block you know fibrinolysis cozy as
well as all the file system protocols
that can get you extremely granular
views of what's going on such as you
know NFS three operations broken down by
an individual file name so if you were
running something like virtual machines
on here you could see the actual
individual I ops or bytes per second
that an individual virtual machine is
doing as it's running so extremely
granular easy to manage troubleshoot see
what's going on the appliance that's it
for the I'll overview this the one last
thing I wanted to show was this this is
the CLI so the CLI basically runs
exactly like the appliance itself you
can see here I'm in the configuration
services so which is identical to if I
were to click it on the web browser hey
I didn't LS and it shows me here's all
the services that shows me if they're
online if they're disabled that sort of
stuff so you can see earlier I had run
this and FTP was disabled early in the
video you show me enable it and now sure
enough it's now online but I anything I
can do in the Bui I can also do in the
CLI so that is it for this session thank
you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>