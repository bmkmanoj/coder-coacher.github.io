<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Confident Data Transfers with Apache Camel Security | Coder Coacher - Coaching Coders</title><meta content="Confident Data Transfers with Apache Camel Security - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Confident Data Transfers with Apache Camel Security</b></h2><h5 class="post__date">2013-02-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/YiG5_rGLapU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">my name is Dominic shadow and the
purpose of today's session is to give
you some ideas and show you some best
practices on how to secure your own
camera modes using cameras own features
but before we dive deeper into the topic
now let me ask you one or maybe two
questions who of you I'm sorry who of
you already secures his or her camera
boots when developing camera projects
okay and the next question would be who
view things about security and maybe put
some little thoughts into it okay glad
some more good you are here and well
camera makes us makes it really easy to
integrate various systems and if we look
at the tip of your camera object but
that's how we start we'll look at how
but systems we have to indicate that
services are there and then we connect
them and very often those systems either
have different security systems one is
based on spring security the other one
uses Apache sheilo and the next colour
ones do use their own independent
systems and we have to indicate it or
the other problem might be there's no
security in place at all and now we are
exposing those services to the internet
or over Internet to the world and we
have to think about security because
often these systems contain critical
business data you don't want to send to
everybody or may to make available to
everybody and what camera offers about
100 components you can use to integrate
your systems which makes it very easy to
expose or use a web service JMS RSS or
Twitter and every cab with elyse brings
in new versions and new components and
we have to think about security for
all those components and even if you
don't know all those components you can
easily imagine we need security which is
independent of the end point we are
sending the data to or which we are
calling it would be a lot of rug if we
have to update or change our security
implementation all the time we switch
the endpoint from let's a web service to
JMS so that's an important requirement
we have here security needs to be
independent of the selected component
and as you probably know camel can be
configured via XML or you can use trauma
fluent interface builder you can use
cruby or scala to build your roots and
you can mix those and security needs
more or less to be independent of that
of course if you switch from XML to
chama but you have to update it a little
bit because the configuration is
different but the main implementation
should remain the same as before and
since I am a fan of XML configuration
the following examples will be based on
XML but it will work with Java to that's
no problem security is available for xml
configuration and for java so in order
to get started i have prepared a little
demo and this is a really simple project
the only available route here is its a
href service which or employee in for
service which gets an employee ID will
forward the message to the HR service
which adds some master data to the
message and then its content based
routing depending on when you an
employee the accounting service gets
caught which adds your salary to the
message if you are manager special
accounting is code which adds your
salary and the celery of your whole team
just to differentiate a little bit so in
order to get started we need some users
here and since we are talking about
security
cryptography is very close and i will
use Alice Bob and of course Eva's
attacker the first two having real
employee IDs and a legitimate users to
call our web service and of course if
tries to attack this and to get
information from the web service so let
me switch to eclipse the wood itself is
very simple it's I want you to focus on
the security implementation here so
there's not too much going on in it we
have to seek SEF being exposed for web
service which contains only our employee
ID in this case and forwards the message
to HR which is a direct route and this
would simply called beam which adds some
master data in an employee object let's
more or less it for HR this value is
returned and then it depends when you
are manager which is a relatively easy
check if the job title in here um
contains manager you are manager in fact
so special accounting is called which
adds your salary and the celery of the
whole team and the whole message the
whole employee object is returned to the
caller if you are a normally employee
Eva only your salary is added and that's
it I've prepared a couple of unit tests
for us and they all look more or less
the same we have Ellis which cards with
her ID and we have pop which uses his ID
and of course we have Eve and since an
ID is easy to get and provides no
security but she knows the idea of Bob I
noticed the idea of Ellis and if we fire
that up
we just minimize you can see that bob is
the orange colored coat or with them
print out and that's the line we are
looking for bob has a cellular 5,000 and
the total is minus 1 which is the
default in this case to indicate it's
not said Ellis gets a little bit more
information and of course if gets all
the same information because nobody
Jack's better if is authenticated as
Ellis of us Bob so there's no security
in place and but that's a too busy
cameron project setup we don't care
about security at first and feel turn
back to the slides it's the point where
somebody mentions what's about security
in very often this happens when somebody
already stole the data so you notice hey
we have a problem here security or
critical data is now available to the
public which wasn't available before and
you have to change that and that's the
point where but somebody might bring up
yay let's use SSL as L is secure so it
has to protect our data right well a
little bit ssl i would even recommend
using yet for securing your initial web
server so the web service is called via
HTTPS and not HTTP that provides a
little bit security but if doesn't even
care whether she has to call an HTTP web
service on HTTP web service https web
service so ssl doesn't provide any
access control and we have to quickly
find another solution and of course
there is another solution you would be
disappointed if i send you home right
now so there are some better camel race
you can secure you later
and we just really need it because if
you look at a desired security level we
have our client expects our words to
have well we need something to fill the
class up and even if you add HTTPS to
the game here but that's only a tiny
little bit in the class left so camera
provides two main concepts here one is
called payload security which secures
the message content so if you're talking
about securing message content most of
you would probably think about
encryption that's the biggest part in
here but it's also possible to sign your
message and to secure the whole body but
that fills up the class only half so we
need a little bit more and well the rest
is done by a good security which
protects access to our hood so we check
whether or not a user or user group is
allowed to enter or call the root okay
let's get started with payload security
which protects as I said the message
content and as you know cam and simply
transport anything you can put in
objects binary data XML data a simple
thing as in the sample before camel
doesn't care and transport it from A to
B to C so this puts a lot of pressure on
the day the payload security features
camera provides and that's why camel
came up with two different data formats
one being the crypto data format the
other one being the XML security data
format and I'm talking about data
formats here because data from its are
independent of the component at the end
so if you switch your component from web
service to JMS the data format as
makiato okay so let's have a look at the
crypto later forward which is a little
bit
then the XML security data format and
decrypted data format is really flexible
it simply end lips or signs any data you
can put inside a camera message it
doesn't simply care about it and you can
use any crypto algorithm you find on
your system so whether it's symmetric a
symmetric hybrid clipped or doesn't care
and uses it the only limitation you have
in here is it affects the complete
message body so since crypto doesn't
really care about the content it's
always the message body which gets
encrypted or signed you do not have a
way to let's say hey let's enter up the
first part of the body and forget about
the rest that's not possible with the
crypto data format we will find a
solution for that soon so you all want
to know about the code that's a first
overview as an introduction i will show
you some more and upcoming demo crypto
needs to know whether using a symmetric
key on a symmetric key so if you are
using a symmetric key but you have to
define a crypto element containing
information about this key you have to
define a beam which assists in loading
this key and that's all a setup work you
need to do if you want to encrypt the
message but just call Marshall in the
part of the route you want to encrypt a
message if you want to decrypt it you
son Marshall that's it estimate leg
looks a little bit different only a
little bit and it's even easier to use
because the only thing you have to
specify is a pgp element which contains
either the private key or the public key
depending on whether you want to encrypt
or decrypt the message so it's
relatively easy you don't have to
configure be in which provides key store
loading or key loading PGP handles
everything for you an encryption and
decryption simply wrote
as before call Marshall and Ann Marshall
and reference the PGP element you want
to use that's it but almost for the
crypto data from it because signatures
are left and as you can see it looks
totally different first of all you have
to configure a beam which provides
access to the key store that's all for
setup work but if you want to sign your
message you send it to the endpoint
crypto sign and well if you look at the
body nothing happens what happens is you
get another header in the message camel
digital signature which contains the
hash value of your message so the body
is of course unchanged and the message
is sent back and then you want to verify
it so you call crypto verifiers endpoint
and you may be even more disappointed
because the only thing happy that
happens is this camel digital signature
header is removed from the message and
there's no other feedback which means
everything then find your signatures
valid so known feedback everything is
fine if verification failed you get a
signature exception you have to handle
that in your route so much for
introducing the cryptic component we
will have a look a closer look at it in
the upcoming demo but first let's check
out the xml security data from it and as
the name implies xml security it's 4x
and error messages only and you can only
encrypt messages there's no way to use
signatures using xml security inside
gamma there are w3c standard or
recommendation for xml signatures is
available but it's simply not available
in camel because i guess nobody ever
needed it so we can only encrypt
messages at the moment and we are
limited on
usage there are some symmetric ones
available based on aes and there are
some estimated ones available based on
our essay so not too many a lot of
restrictions for one data from it but
there's one really cool feature here and
this is you can encrypt specific parts
of your message so what you can do is
you can specify an XPath expression
which leads to one or more elements or
even element content and encrypt only
this part of the message and it brings
in another possibility you can enter
different parts of the message using
different algorithms so or using
different keys even so you can encrypt
one part of the message for service a
and one part of the message for service
be and you only have access to their
desired parts this is really cool
feature bits of course with wires yeah
you have an XML message and you can
provide an xpath expression leading to
the element configuration or use it of
XML security is a little bit easier in
case you are using an SME turkey but you
have to provide a keystore parameters
element which contains some information
about the keystore about the key you
money use and that's it symmetric ones
but you don't need this element
encryption and decryption more or less
work the same as before you simply call
Marshall within a secure XML element
containing some attributes which I will
show you in a minute and that's it your
message or your message part gets
encrypted so let's have a look at our
initial demo project and let's secure it
the first thing I want to do is but we
have this employee info service which
takes the message signs it and anklets
complete message body using crypto data
format
it then passes along the message to HR
which decodes the message verifies it
and then the same decision as before
it's made if your employee accounting
service gets called in this case we are
using XML encryption to encrypt only the
celery element send it back to the
employee info service and decrypted a
special accounting dr simply encrypts
the complete message and sends it back
to the employee info service so the
client receives the same plain text
message as before that's an important
point here and in my projects I always
try to do that because the client is now
independent of whatever you are doing in
the back end so it's important if you
have a web service that you secured with
ssl because in this part here at the
beginning before the employee info
service that it has unprotected so you
need to take other measurements into
account to do to achieve security so
let's look at eclipse I've prepared
another punch for that no come on
I don't know what happened to my mouse
there you go okay kamik context it looks
a little bit different now and it even
doesn't fit on the screen Anna so the
first part that's happening is we want
to sign our message so we are calling
crypto sign endpoint providing some key
store information which is HR store in
this case the alias for the key and the
password for the key storm and the sharp
here indicates hey that's a beam so beam
takes calf loading the key store and
what you can see here this is a simple
factor ravine spring so there's no
matching in here which loads the keys to
a new transit that's it so after this
point the message is signed the
signature headers printed out and that's
it now since a symmetric cryptography is
a little bit more interesting here and
symmetric the symmetric part is
commented out but it worked the same way
as the asymmetric one so we have an
element up here RSA encrypt which
provides the public key and simply
encrypts the message the second element
is used for decryption late and normally
you wouldn't integrate that into the
same route because well you would
encrypt your message in one part or in
one camera context and decrypted in the
other but since this is a demo project I
will do both on the same machine and in
the same chemical context so the
messages encrypted sent two hrs before
which simply and marshalls the message
prints out the decrypted body and sent
it to verification
and trust the proof that the signature
is indeed gone the camera digital
signature here will be empty and now
begins the really fun part because now
we are talking about xml security which
is a little bit but you have to
configure some attributes but it's
relatively easy to use because but you
specify hey we want to secure or only
the element content and not the element
itself so we uses using xpath expression
here and what you will see later is that
the celery element itself remains only
the element content is encrypted which
is a fantastic way if you want to pass
your XML document and well verify or
validate it against the schema you enter
the cipher algorithm we want to use and
you have to provide a pathways since we
are talking about symmetric encryption
key here and well that's the reason why
you don't have to configure any other
element you have to provide a pass place
for encryption and decryption in a real
life's emblem you would normally use a
symmetric encryption because providing
these passwords but it's a lot of work
and if you want to do it in the a
symmetric way it's more or less the same
you have to provide a key cipher
algorithm to encrypt the xml cipher
algorithm and you have to specify where
this key is coming from and well that's
the element i mentioned before keystore
parameters which simply points to a
normal trauma key store which contains
our key in here and as you can see in
this example I've mixed crypto data
format and XML security data format
that's perfect developed and it's
possible the only thing you have to do
never mix crypto and XML security key
stores so use one key store for XML
security and one key store for clip
the reason for this is Cameron has from
time to time problems loading the key so
if crypto is accessing the Keystone and
eczema security is accessing the keys to
it more or less the same time I've run
into various and very strange problems
so separate those key stores makes it
easier to handle anyway ok so the final
part is to decrypt the message again and
you have to provide the same information
as before in this case we wanted to air
to decrypt the cell array element only
the tests didn't change so let's fire
them up and but you will see of course a
lot of more data because we're talking
about XML right now and well the only
presentation of encrypted data is not
perfect in Eclipse so it looks a little
bit strange but what you can see in here
is this is the one the hidden part
that's the signature but the hash value
of your side message and then it gets
encrypted and that's only LG
presentation problem in Eclipse it looks
a little bit strange but it worked so we
are decrypting it again and as you can
see the mekinese here now the pre
presentation is lost
here this is the line I want to show you
the digital signature header is indeed
gone after verification and now we are
talking about XML and hearing in Sevilla
interesting part because we are
encrypting this elements content right
here and as you can see it's a lot of
data but the celery element remains the
same as before and only the element
content gets encrypted and decrypted
later it's more or less the same for
Ellis the only thing is well the whole
message gets encrypted and as you can
see the wood element even is gone so you
have to take that into account if you
are passing your XML data later if you
use XML encryption you still have valid
XML but all your elements of course gone
and what's about if well depending a
based on reason that the first part
didn't change so the message is send in
plain tanks back to her she still gets
all the information as before and even
pretending to be Alice didn't change it
all so our camera road is a little bit
more secure but we are not quite there
yet we have to do a little bit more and
before we dive deeper into that well
let's sum up what we've learned so far
we have two data formats crypto and xmas
acuity and of course you all want to
know when should I use which data format
which one is better it's hard to tell
and well the first decision you have to
make is do you want to enter it aside
because if you want to sign we can only
talk about crypto data format here but
then it depends on the data you want to
encrypt if you have XML data and if you
need to enter parts of the message use
XML security in all the other points or
problems i would use crypto data format
so only use X
security if you need xpath features to
encrypt only selected parts of the
message crypto is way more flexible and
provides much more functionality to
inflict any message you like so use XML
security if you have to even if I like
it more so the desired security level is
where half right now the glass is
filling up but we need to do a little
bit more yeah sure XML security is a
little bit slower simply because in
general you provide an XPath and if even
if you don't provide it well it has to
pass it a little bit since we need a
valid XML format or valid XML message
which has to be valid after encryption
too so the system needs to do a little
bit more I don't know how many percent
how much is it slower but channel crypto
is much better decrypted filter
like you a lot of emotion the question
was about how slow the encryption and
decryption all crypto data format
process gets and I've done some testing
with assembly project here an average
message took about 0.4 seconds in the
first sample without any security and
the sample here using all this crypto
XML security signatures to mod three
times the time so it's 1.2 but that's
not really representative because in a
normal project you won't mix up dead
many encryption and decryption processes
so yeah XML securities as I said is a
little bit slower but it's not that much
of a difference and it really depends on
your message to if you have a huge
message body well there's a huge amount
which has to be encrypted and decrypted
then it depends on the kind of algorithm
symmetric as fast as you know and there
are a lot of different parts which
influence the speed on that but of
course it slows down the overall
processing ok let's look at would
security our second topic in here and
what we want to achieve here is but we
want to restrict access to our words and
kick a leaf out so camera provides here
two possibilities to the first one is
spring security which you probably all
know and the second one is Apache shiho
these are the two components you can use
to restrict access to your roots of wood
parts and in opposite to the payload
security part before it's a decision you
have to make here you either can use
spring security or Apache Shiro you
cannot use both well you can but nobody
would because both components over the
same functionality so
the only thing you gain from using both
of you have to configure them two times
and that's not well the security level
race is not that much and so we have to
restrict ourselves on using one
component only spring security is a
little bit older in Apache camera and
well it's all about owls so you have to
create users you have to assign at least
one role to them and you are more or
less set the only thing left in your
route is you need some authorization
policy elements and well that's a little
bit of configuration drug inside XML but
it's relatively easy and what is left is
you need a username password token
inside your message header and camera
ratifies which user you are whether your
password is valid and whether you have
the correct role to access the root part
you born an excess and that's it
configuration in an overview
authorization policy elements normally
you have more than one you need an
access decision manager has been an
authentication manager which provides
users and words and that's all set up
work you have to do and then you have to
decide which routes are which cool parts
you want to protect and those parts are
surrounded by a policy element which
references the authorization policy
created before and that's it now cable
takes care of securing up just access to
the skirt part Apache Sheila more or
less provides the same functionality the
only big difference is the pet oshiro is
more about permissions than a ball rolls
but well you have to create permissions
meaning user eggs is allowed to access a
good set and to modify data set whatever
so permissions are a little bit
friend then rolls from before
configuration it's mostly done in XML
Sheila brings in another any file so
it's a little bit a mix-up you have one
part in XML one part in any file but
yeah that's the way it is it's not too
difficult and of course you had to add
another token to your message header in
order to providing information for camel
to check your user and your permissions
configuration therefore consists a list
of two files we have to signify with
username and roll information password
information in my case we have some
beans for permissions and some beans for
policies and then we have to protect the
root parts again using policy elements
and that's it so let's quickly jump into
the demo and what I've done here is this
demo is based on the initial sample so
there's no payload security in there the
only reason for that is to make it
easier to read what we will do is um
infra service will make sure hey you are
user so you are eat an employee or you
are manager before passing along the
message and then HR checks when you an
employee whether you are in fact an
employee manager the same thing the
following demo is divided into two parts
we have spring security first and then
Apache Shiro simply because you
shouldn't mix them and it makes it a
hell lot easier to read so let's get
back to eclipse and I've prepared
another branch for that
okay we'll start out with the chemical
text and what you can see is I've
provided free authorization policy
elements one for user one for manager
and one for employee user being the most
general one which will be checked at
first then manager okay and employee
depending or not whether you are manager
employee the authentication manager is
in December really simple that's not a
real life project because well you can
see the username password and
authorities in here listed in plain text
which you of course don't want to do but
spring security and apache she will
provide functionality to access ull up
your Active Directory your database
whatever you need okay so ignore the
exception block for a moment I will come
to that in a minute and the only thing
we have to do this we have to surround
the parts we want to protect with this
policy elements and let's turn up here
in the HR word in the accounting hood
and the special accounting and what you
have might have seen is this magic token
helper in here that's been that's
necessary when you are using apache cgf
because what i need is a token and
apache cigs f doesn't pass forward this
token so if I call an Apache see except
exposed web service the token in the
header or subject in the header well
this token gets cut off apache cigs f
doesn't forward this at the moment and I
guess they will change that in the
future so what you have to do is you
normally would have to use ws-security
and secure you message header containing
your username and your password since
i'm not talking about ws-security i
simply skip that part and
I'm passing along those credentials in
plain text which you two wouldn't want
to do in a real life project so all this
magic token helper does is it takes this
username and password and constructs a
subject there's no verification done at
this point whether or not your password
is correct or not it's only passed into
this subject which is then put into the
authentication header and that's it
camera takes care of the rest new route
and this is done here this point cannot
checks whether or not you could engines
are valid and whether or not you have to
collect rights for accessing this part
so let's call our unit tests and you
will see to failing unit tests in here
those are failing on purpose because
well Eve doesn't know Bob's password and
if that's no Alice's password so what's
returned here is an empty result the
test for that are different first of all
if we look at Bob the token is
completely missing or the user data is
completely missing so there's not Hogan
create it and in Alice's case the
password is empty and what happens is
well returned is service requires
authentication meaning hey the token is
not there I expect to token to check it
and the second one is username and
password are not correct and this is the
reason for this big exception block you
might have noticed before this exception
handling is optional you don't need to
do it but I recommend it the first one
is the most important one bad
credentials meaning hey user name and
password
are not correct for your user camera
authorization exception happens if the
token is missing at all and the last one
is spring security only you can check
access denied exceptions so for example
Bob tries to access a root part which
belongs to a manager which is not
allowed to do but of access denied
exception will happen and your exception
policy will contain the user or the role
that is required for this part and
that's it and as you can see Bob and LS
do work the same as before they are
properly authenticated they contain the
correct information that's spring
security now let's have a look at Apache
Sheila the camera context is a little
bit smaller hidden here because all the
configuration is done in beans eczema
which will show you in a minute that's
the same token helper because we are
still talking about the cgf web service
with the same policies so let's quickly
turn to means XML which contains an
awful lot of beans now and what you have
to do is you need such zero security
policy beans containing the Shiro any we
will look at that in a second a
passphrase in order to secure the
message header to encrypt it and to
decrypt it later we authenticate and you
need a set of permissions you can only
one wildcard permission in here which
allows you to read or get employee data
anything in there the employee part is a
little bit different you can have the
right to access accounting data your own
accounting data and the manager has the
right to access any accounting later and
that's reflected a
in the shear already so that's again a
relatively simple shear or any because
I'm hard coding my users and their
passwords in there but the most
important parts are the rules in here so
these permissions reflect the part in
the beam XML so a manager has the right
to access all employee data and any
accounting data and the employee has the
right to access all employee data and
his own accounting data these are the
permissions we set up in here and that's
more or less it so if you fry up two
tests with you will see again the same
two unit tests failing because if again
doesn't know Bob's employee ID and
password and more important she has no
clue about Alice's password there's more
big difference in here and that's the
exception block first of all the same
message is return service require
authentication and username and password
are not correct but there's one
important important part you should do
when using a pet Reshiram and that's the
first exception here incorrectly
dentures exception and unknown account
exception chilo close to different
exceptions depending on your username is
unknown or your password is not correct
and that's information you don't want to
expose to an attacker so you should
catch both those exceptions and
neutralize them with us throwing like
that it's not necessarily with spring
security because there's only one
exception in this case she rolled out
two exemptions to make sure you catch
that no such header is the same as
before the token is missing an
authorization exception the same as
before you don't have to access right
the rights to access this word part
and there's no possibility to find out
which permission is measuring missing as
before with spring security you simply
get information hate you don't have to
collect permission to access the root
and that's it so now we are extremely
happy because if isn't able to access
our world anymore and well again we have
two possibilities to secure our roots
and again you want to know which version
of which component is better it's even
more difficult to tell in this case
because the features are more or less
the same the configuration yeah it's a
little bit different but it's doable
systems meaning which back-end systems
you can attach a lab Active Directory
databases whatever you like but both
provide a lot of support for that and
the concepts but they differ a little
bit one is the whole based one is more
or less permission based so it's more or
less the same if you have the
possibility to choose among those
systems but use the system you know if
you have ever worked with spring
security keep on using it the same
applies to apache Shiro if you have
never used any system before I would
recommend spring security in my eyes
it's a little bit easier to use and
there's a little bit more documentation
and tutorials available out there it
doesn't mean an Apache or documentation
is bad it's catching up on spring
security but spring security in my eyes
is a little bit easier to first start
with performance mice um it slows down
processing a little bit but not as much
as before with payload security so in my
sample with spring security it hardly
didn't change at all processing was done
in about half a second in comparison to
see you
point four seconds without any security
apache shiva was a little bit slower
about 0.6 seconds but well that's within
the margin of error so it's too close to
call here and yay hourglass is finally
full so we are now able to protect our
data and access to our would but but
only if we combine it so i'm not going
to show you that now but to really
provide full security you would have to
combine payloads acuity android security
into one kanal context and as you can
easily imagine what your configuration
will go a lot you've seen it with
payload security configuration gets much
bigger before and you've seen it with
food security configuration gets bigger
there's no way around it but well you
can make your life a little bit easier
first of all limit yourself you would
only use one component anyway either
spring security or patricio but i
recommend limiting on data formats too
so normally start with the crypto data
format and only add XML security if you
really have to and of course protect
critical goods only do not protect
everything just because you can and the
technology is cool but take only the
parts you have to and think about this
early normally security tends to be
implemented at the latest possible
minute so five minutes before system
goes to production will think about
security and add a certain day or maybe
10 minutes we add a certain layer earned
it and hope for the best don't do this
with camel security well don't do it
with security at all but think about
security in the beginning identify the
good parts you're gonna secure and add
it later make your hootsburgh first
without security and add security then
because then if voting fails you know
it's the fault of security and you know
where you have to look at and even if
it's a lot of work and a lot of
configuration and a lot of stuff to
think about but we have to do it camera
transports critical business data we
make critical business systems
accessible to a hole bigger user base so
we have to protect our messages and we
have to protect our words and have a lot
of fun with that thank you everybody
happy no questions I take it your
example of possible based on education
was just that example if you have all
the authentication authentication
mechanisms of artists print security or
Shiro available so if we want to do
chili
something like that
the question was about security
mechanisms and which are available here
well yes more or less everything is
available you have to provide a token or
a subject in spring securities case and
how you create that is totally up to you
so my Sam reverse really just for sample
project make it easy to understand but
you can use anything you like in there
as long as you create the token in the
end xml security uses Apaches center
area the Apache xmas security
implementation which is a lot bigger
than the compare data from you have
available in here so Center Aereo
provides XML signatures but it's not
available in camera so it would be easy
to activate it i guess i don't know the
exact name bad bouncy castle is shipped
with it as provider so you can use this
yes i think about everyone work with
your key store you add the keystore
password that config file that would
never fly a lot of IT shots so fall back
yeah you can that's another part of
chemists acuity you can externalize your
configuration and you can use chase it
the Chama security I don't know that
whatever it's called in you can use that
to secure your pest but so you don't
have to provide your passwords in plain
text in your configuration files
oh so that's that's just a good reform
yeah in internal this security staffing
camel is well it's not that used as
often as you would like to have it used
so they are open to feature requests and
stuff like that just send them a message
other your favorite classes all the Java
code here was exactly as untouched you
know your example yes mark I am now the
only thing that changed in the examples
was for spring security in a pet ratio I
extended the unit tests provides us
username and password the beans itself
rare completely untouched I added the
token helper to create token and that's
it yeah the sample project is available
on github so if you want to have a look
at it now all potentials available and
the slides will be published of course
okay thanks again</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>