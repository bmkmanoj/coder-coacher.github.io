<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CloudStack Versus OpenStack Versus Eucalyptus: Lightning Strikes the IaaS Private Cloud | Coder Coacher - Coaching Coders</title><meta content="CloudStack Versus OpenStack Versus Eucalyptus: Lightning Strikes the IaaS Private Cloud - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CloudStack Versus OpenStack Versus Eucalyptus: Lightning Strikes the IaaS Private Cloud</b></h2><h5 class="post__date">2013-01-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/guj4HKv34MY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well thank you very much for coming
today my name is Daniel crane house key
and with business algorithms my lead
software engineer and a principal for
the company and today I'll be
introducing some
infrastructure-as-a-service
stacks which are free and open source so
if you're motivated you can even try
them out yourself before the end of the
day maybe yeah I want to say that this
this is a buff I'm going to be
presenting some prepared slides and
stuff but I'm trying to leave enough
time for people to just bust in with
questions or thoughts I'd love to hear
you know anybody else's opinions of one
stack versus the other and I'd actually
like to take a quick poll how many
people are from a company that's using
public or private cloud in any way shape
or form right now there you go that's a
lot how many of you personally are
working on the cloud related stuff
awesome Wow all right cool
ok yeah one other thing I guess I don't
know if the birds of a feather slides
are made available with the other slides
after a Java one is done but if you want
to copy on my slides come on up and just
leave me your email address or something
I'll be happy to send them to you so
let's get started all right well Amazon
Web Services they wrote the first page
in this book and you know it's been
pretty amazing
Amazon completely popularized the idea
of the cloud and it's really changed the
way a lot of people do business the way
they write software and of course a lot
of industry has kind of been hesitant
holding back because to go with Amazon
you're putting your company's possibly
sensitive data on someone else's servers
and as I just heard here and you know
another very good reason why people do
it is because maybe Amazon just
functionally doesn't offer everything
you know if it's a private cloud you can
control everything so there there are a
lot of reasons why private cloud has
become very attractive and right here I
have the top
three open-source contenders for that in
infrastructure at least ignoring
platform-as-a-service for now just
infrastructure today cloud stack
eucalyptus and OpenStack you know there
are other players specifically like
VMware but they're not open source so I
won't be talking about them and Amazon
virtual private cloud which
unfortunately I don't think I have time
to talk about today so what we will be
able to do is go through three the big
three and look at them from five
different points of view the
architecture that they give you what
it's like to install them and to be an
administrator on one of these stacks and
also look at - you know pretty key
features in any cloud is security and
high availability so just kind of think
to yourselves you know if maybe you
don't use cloud stack ask yourself if
you use one of the other stacks just
kind of think to yourself how is this
one similar or different better or worse
than what I'm currently using because
this is kind of all about comparison and
drawing drawing comparisons so I might
ask for some opinions after I finished
with cloud stack okay here's the model
of your data center this this is the
cloud stack model of your data center
that's really what it was originally was
just for data center automation and at
the top of the organization is the zone
and this is like an Amazon availability
zone US west u.s. east 1/2 and you know
that's your data center next layer below
that is the pod I like to use the word
rack you know you walk into a data
center you got six foot high racks of
blade servers and they might be on their
own subnets or something so that's why
they break it down into pod and below
that level is the clusters so maybe
you've got like so many blades in this
rack and they're all running the same
hypervisor software and that would be a
cluster and then one individual blade
you know maybe he's running just one you
know hypervisor that would be a host and
before I go any further I should
probably just
be explicit and define what a hypervisor
is you know it's a thin layer kind of
like an operating system that runs on
top of the real operating system of some
physical machine and it allows it to run
some some programs you know big programs
that essentially are mimicking a machine
it's a virtual machine that's what the
program is and so you could start with a
physical server that has 16 gigs of
physical RAM on it chop it up into eight
virtual machines VMs and each one would
have two gigs and that's kind of what
the purpose of the hypervisor is and you
know there's this theory that the cloud
is running on commodity hardware
commodity machines but really it takes a
pretty beefy machine to have 16 gigs of
ram and to chop it up like that but
anyway they look like commodity machines
when you're done virtually
another thing is storage storage is
really important the storage storage the
network are as just as important as the
the computer itself and so your cluster
wants to have some storage nearby so
imagine that you've got blade blade
blade you know and then below that is
another blade which is just filled with
an array of disks and that would be
primary storage and so here it's
relevant to the cluster so imagine that
you know you boot up an instance and
instead of having its route drive you
know like the slash root directory on
the machine with the hypervisor it's on
a machine that's next door so if the
hypervisor goes down you can migrate
those instances from the last snapshot
onto another blade and primary storage
is still good so also there's secondary
storage which is kind of for the whole
zone and this is where they have
snapshots templates so when you want to
boot up a VM cloud stack would just kind
of go through NFS to the secondary
storage and essentially start
downloading one of these is OS or boot
images just to have something to boot
with there's no object storage here so
if anyone's thinking Amazon s3 this is
what we call block storage so block
storage is kind of synonymous with like
storage area network ass and because
you're directly connecting to the disk
over the
at work you're not necessarily getting
straight to files that's kind of a
higher level so I won't go through this
in line by line but I kind of want you
to get a general picture that there's
maybe I just broke it up into seven
steps of what you might need to do to
install CloudStack and I have a blog
entry on the company site Bozell go comm
that kind of walks you through you know
a little bit more detail how to how to
make the cloud stack install go faster
but kind of the point I want to get
across is that it's a you're gonna see a
slide later where there's a lot more
stuff and so this is the simple medium
difficulty installation you always start
by making decisions that have nothing to
do with your cloud controller and that's
like right that first line building your
physical network choosing your storage
deciding what kind of hypervisors you
want to use you have to set all that
stuff up really before you start
installing your cloud controller and you
know once your physical stuff is set up
then you can actually download a tar.gz
upload it to the cloud node and run an
install script run another script to set
up the database and then you go through
the the web UI to kind of click the
button and say launch and you can do
this you don't need a million dollar
data censor if you just have two good
computers you can make one of them the
hypervisor and one of them the cloud
controller and you'll you'll be off and
running
and if you know what you're doing it
will still take a few hours because
there's a lot of downloading and sitting
around if everything goes well this is
what you'll see in cloud stack you know
it creates creates a row in the database
kind of for you all those things that I
described before like the zone the pod
you know the storage after all if the
cloud controller goes down you need all
that information persisted and at the
end it's ready to start spanning up some
VMs
thing is though oh sorry whoops this is
the this is the web console and I think
it's actually pretty slick I think it's
the best of the three just in terms of
having a GUI because you can do pretty
much anything that you need to do to
control your cloud stack from this
content from this web UI on the other
hand at the enterprise level for you
know making business run day in and day
out people don't really want to be
clicking in browser all day long even if
it is pretty so they like to have
scripts kind of automate things so by
popular demand they came up with this
cloud bridge which you can also download
and install for free what they did is
they said okay you write your your
script using the Amazon ec2 API with
stuff like easy to run instances and we
will translate it into or the cloud
bridge translates it into calls to the
native cloud stack restful api so I mean
I guess you could have always done this
without the cloud bridge but typically
system operations people aren't like
writing HTTP client scripts so this is
really a time saver and honestly the ec2
CLI is pretty well designed I mean it
just it gets done what it needs to get
done and so another advantage here is
that if you want to have a hybrid cloud
public and private you could have the
same scripts you run them on your public
side and also you could run them on the
private side going through cloud bridge
so it's kind of nice let's take a minute
to talk about security this is such a
huge topic I mean there's no way really
cover all of it so I'm just going to
talk about VLANs virtual LANs so the
network is just really huge because
security is such an important reason of
why people go to a private cloud and you
need help from your your hardware here
you need an enterprise class network
switch that can put VLAN tags on the
Ethernet frames that says ok this frame
is for VLAN 1 this frame is for VLAN 2
so if you've been thinking in your mind
what's my use case
why do we want to use this well here's
one and the idea is you let's say some
big company has a department with all
the financial information of its
customers Social Security numbers credit
card dates of birth and they've got
another department that's the marketing
arm and you know they're just reaching
out trying to win new customers and you
don't want any cross-pollination between
the two whether accidental or
intentional so a great way to achieve
that is by putting them on separate
virtual lands and you get some help from
your network hardware and you also get
some help here from directly from
CloudStack because it spins up a VM
which is a virtual router and it's going
to be on the hypervisor just like
another user VM but it's only known to
CloudStack and that controls like some
firewall rules and it also it looks at
the VLAN tags of the packets coming in
so this is what I'm going to call
baseline security though because pretty
much all three of these stacks offer
something like this you know the others
they're not necessarily doing the
virtual router is a separate VM but they
all pretty much offer this so I can't
really say that cloud stack is so much
better because of this but it's good
that that gives them all strong security
now let's think about high availability
this is like your service level
agreement where you say our servers are
going to be available 99.999% of the
time for whatever you need and how do
you do that so well with cloud stack
it's actually kind of simple because
it's a single web app it's a very big
complicated web app it's 100% Java EE
and it runs on Tomcat so it's very big
if you're actually like a developer on
cloud stack contributing source code the
cloud stack because it's so big and it's
doing so much all in one JVM but from a
systems perspective very simple so if
you want high availability you just get
three different workstations Tomcat on
each one cloud stack and put a load
balancer in front of them and now you're
getting three times the throughput on
your management traffic and you know
they discover each other they figure out
how to share the load
if one of them goes down you know the
information that it's working on is all
persisted out in the database so the
other two could pick up the load and
it's seamless you would that's the high
availability is because you get the
seamless transition if something goes
down in contrast we can kind of look at
these
well like the MySQL instances that I've
shown here in this example they are
they're redundant they're replicated so
there's only one MySQL that's accepting
requests at any point in time but it's
replicating all its data to the second
MySQL so if number one goes down this is
what would happen you say okay well we
go to number two to do that you have to
take the CloudStack instances down
reconfigure them point them to MySQL
number two make a backup MySQL number
three and bring it all back up
and so that is recovering from a
disaster but that is not high
availability so that's something that's
kind of out of control of cloud stack
because it's more in the domain of the
database and it just kind of goes to
show that what you have here is you know
it's a system and the cloud controller
is just one piece of that system so the
cloud controller is going to try to do
what it can to be highly available but
every single thing could be a point of
failure so really with you're installing
one of these and if high availability is
an absolute requirement you have to
leave it everything so okay summarizing
that the architecture of cloud stack is
a very monolithic it is a model of your
data center and so it did not natively
come with the object storage I should
point out that actually it has an
integration to object storage from
OpenStack because people wanted it so
much but we'll get to that
installation there's basically very
monolithic so there's not so many parts
to install I would still call it medium
difficulty administration there's got a
great UI it's also got the ec2 cloud
bridge and as far as security it's got a
good baseline of security including for
you know the virtual land and firewall
controls and we just talked about high
availability any thoughts on that so far
yeah what's up
yeah so the yeah the question was can
you use MySQL's high availability and
the answer is absolutely yes and so yeah
so I guess this is kind of more of an
illustration of you have to examine
every component and you can't just say
oh well cloud stack gives us high
availability we're done you know and so
you're totally right you got to use
MySQL's high availability and yeah
yes so the question was is there support
for multi-tenancy you know kind of this
is the the model that I would go through
for that where basically you put each
tenant on its own virtual land and
they've got in CloudStack the concept of
projects and users yeah I didn't put it
in the presentation but basically that's
another thing you would do is if there's
a tenant you you go to the UI or or how
I guess you probably have to do this
through the UI and you define an account
souvenir project and that's project is
going to be equal to ten at number one
and the users who can log in and
actually add resources or connect
resources in that they would be
restricted to what's in that tenant did
that kind of answer your question
yeah and actually I mean that kind of
opens up so the yeah I'm sorry I
apologize so the question there was can
you define the resources for each tenant
and that's actually kind of a nut that
that's really interesting because a lot
a lot of this you know the
administration the question of what's it
really like to have this as an
enterprise set up self-service is kind
of big because you might have one
department that's kind of the like the
site operations team and they might be
directly defining this but then maybe
the developer team you know like the
people who are working on apps through
the databases you might want to give
them the ability to do some self-service
where they say okay I need a VM you know
and so you can define a project with
specific network offering specific
compute offerings and they can get
what's in there and so that's kind of
the concept of I mean I don't know I'd
say that it works like super well
probably some more functionality could
be added there but that's kind of the
concept is you could define these things
so that someone could self-service who's
not directly an administrator on the
system so yeah
hmm so the question here is about the
scalability of the controller basically
how much management traffic can it
support and the management traffic is
actually probably going to be relatively
light like I take it back I guess like
the the controller side there's a lot of
heartbeat stuff going on there's not
like a lot of direct user to cloud
interaction going on like the
administrator you'll run scripts maybe
once a day or once in a while you might
have some automated stuff but I guess
most of the management traffic comes
down to heartbeats but they're kind of
lightweight packet lightweight packets
going back and forth where it's really
heavy is the storage because you'll be
transferring files and stuff across it
and so you know it's often suggested to
actually set up a completely separate
network with maybe bonded or redundant
network interface cards because the
storage traffic can code totally
overwhelm management traffic so tell you
what I'm gonna move on to the next one
but I love thank you very much for
asking questions think of some more when
we finish eucalyptus because eucalyptus
is next okay
eucalyptus so cloud stack was monolithic
and eucalyptus is in five pieces so
there's the cloud controller which is
one software at one app and one process
then there's a walrus which is object
storage then they've got this cluster
level which is really what cloud stack
called the zone they call it a cluster
so the cluster controller so for every
data center you're gonna have one
cluster controller you'll also have one
storage controller so this is kind of
where we see the difference that the
storage controllers for block level
stuff where you're saying here is a
here's my disk array that's my sand you
know and that's what the storage
controller cares about you know
attaching volumes and then walrus is
about object storage maybe I've got a
whole bunch of JPEGs and those are my
objects or something and then down at
the bottom the nodes so you're supposed
to have a lot of hypervisors because
that's what your cloud is about is
providing tons of VMs and each one of
them is gonna have a node controller
eucalyptus node controller in front of
it so that that
helps abstract out the different kinds
of hypervisors so that if you're going
to Zen or KVM the node controller will
know how to can you know relay the
commands of the cloud controller or the
cluster controller to the underlying
hypervisor something you will notice if
you start going through the
documentation for eucalyptus is that
they are totally trying to clone Amazon
Web Services clone is a nice word for
ripoff I guess but there there's like a
licensing agreement now between
eucalyptus and Amazon so they're they're
kind of allowed to proceed with this but
so it's kind of like if you want to have
a private cloud that is just like Amazon
well you're not going to get it but this
is they're trying to be pretty close I
mean Amazon offers a million specific
services like you know the Mechanical
Turk and RDS and everything and this
doesn't offer any of that but walrus is
clearly modeled after s3 the storage
controller is clearly modeled after EBS
you know attaching volumes to a VM and
then the command line scripting they've
got Yuka tools which is intended to
exactly replicate the functionality of
the ec2 API and it's a I think it's a
great API so as a result it's very easy
to kind of go back and forth and use the
command line tools for eucalyptus okay
so installation of eucalyptus again just
kind of the impression I want you to get
is hey that slide kind of looks like the
cloud stack slide you know and broke it
up into like seven or eight things and
you know at the beginning you always
have to choose your physical network I
mean and and your storage and plan out
your hypervisors you'll be doing that
before the cloud controller ever comes
into the picture and before because it's
kind of distributed broken up into five
parts you'll also be configuring your
firewalls so that they can communicate
with each other on all the ports they
like to communicate with the the five
components talking to each other and
then you get to this part which is kind
of slick when you're actually installing
the software and they've got and they've
you know they've got rpms
Debian packages and that makes it very
convenient to install but only in that
one step so when you get to that part of
the installation that's very nice
because you just say yum install XYZ or
you know apt to get XYZ and it goes
really fast but overall the installation
is still about the same level of
complexity as for cloud stack I'll just
kind of leave it at that for now okay
there's a web UI and it looks kind of
nice until you realize that it actually
doesn't do a whole lot the cloud stack
API or you I would let you control
everything about cloud stack but
eucalyptus really the most important
thing and in managing your cloud is are
the VMS the hypervisors you know the
stuff that's actually out there the
offering services to the users and you
can't see that in the web UI so as far
as I'm concerned it's useless but on the
other hand the yuka tools CLI is very
good and a lot of people are going to be
more motivated to you're more interested
in using scripting anyway and also
there's the other of these proprietary
or excuse me um paid SAS packages called
right scale and enstratus which will let
you deal with mixed clouds and it's got
a great those they have great you eyes
and you can totally monitor all your ap
your instances and your hypervisors
through that of course you have to pay
for that but if you already have a
license for it or if you think that you
know they're probably gonna want to do
it anyway then who cares if eucalyptus
doesn't have a great UI right so here's
just a quick look at Yuka tools and you
know I mean they really it was designed
from the ground up to be a match for ec2
so it's kind of like if you go to the
top and you change the ec2 down to e you
see a you know that there you go so I
mean it's cloned to use the nice word so
uh
let's talk about security now so it's
kind of got that same CloudStack
baseline I'll get a chance to I already
talked about virtual LANs and firewalls
I'll speak for a minute also about the
the PKI the public key infrastructure
and you know getting into your VM so
once the VM is running you want to log
in securely so SSH and that's a public
key infrastructure ease of the public
key and the private key you generated
yourself with open SSL and then the way
this works and it works the same way for
all these three Stax's you'll inject
your key into the instance as it's
starting up so that you can then log in
later without using a password because
SSH will just send its certificate over
and you know because you've injected it
into the instance it knows you and so
you know that's that's a good secure way
to get into your VMs similarly with the
API if you're running a command like ec2
run instances or ec2 stop instances you
want to make sure that whoever is
running those commands is authorized to
do so so that means that the way they do
that is the same way that Amazon does it
which is you get a x.509 public
certificate you know you sign your
request or really the script is going to
do that for you the command will do it
for you but that means that when
eucalyptus receives your command it says
ok you're authenticated and I see the
signature no one has tampered with this
message so you know I'll go ahead and
stop those instances and all three of
these do it yes what's your question
yeah so the question was is eucalyptus
the only one that does the ssh injection
I think really they all do it I think
it's kind of a standard standard thing
because when you start a VM you can
always pass like arguments to it and
pass data and they're all kind of
relying on the same hypervisors under
the hood and the hypervisor is really
the thing that does it so ok so moving
on from the baseline one thing that's
kind of unique about the way eucalyptus
handles security is because it's
distributed in five parts the same kind
of concept of authenticating the request
comes in because if the node controller
reports something back to the cloud
controller that would make the cloud
controller want to stop an instance you
know that's requires authentication I
mean someone could inadvertently or
intentionally send a command to do that
without authorization and so to make
sure that it knows that this is a real
node controller sending this request
when you're first installing eucalyptus
you register the components and there's
a script you run to register them so
that the cloud controller knows the
storage controller you know knows its ID
knows the node controller so that they
can pass in something unique about them
and this is this is pretty cool to kind
of take it from the devil's advocate
cynical point of view you could say that
this whole registration concept would
not have been necessary if they had not
split up their app into multiple
components so it's kind of like being
distributed is cool in one way but it
offers it makes some security holes in
another way so they fixed it anyway but
in the result I would say it does not
make it more secure it makes it equally
secure high availability the way
eucalyptus does high availability and
again this is promising everyone that
your cloud will always be there for you
they do it with this primary secondary
concept so your Cloud Controller storage
controller cluster controller and walrus
there will be separate nodes out there
running secondary instances of these
controllers getting updates so that they
have the same state as the primary
they're not active they don't service
any of the requests but they're ready to
step in if the primary fails you might
notice that the node controller is not
redundant and this is kind of on that
theory of the cloud that you know VMs
are expected to go down you know that's
the whole point
and so node controllers should be
expected to go down to another point I
want to make about this is that this
primary secondary thing it's not it's
not load balancing so it means you're
not necessarily doubling your throughput
on the management traffic just by having
to cloud controllers what you're doing
is you're giving yourself the ability to
failover and you know this kind of makes
things a little bit more complicated
because eucalyptus already wants you to
have a separate physical machine for
each one of these hosts and if you're
doing high availability you have to
double it yet again but I mean I guess
if you're committed to doing a large
cloud deployment maybe this is just a
drop in the bucket so one of the really
kind of interesting thing about high
availability is that this is redundancy
on the processes in memory so if the
process goes down another process can
step in but what about disks what about
your data so like the storage controller
and walrus you know if the walrus goes
down you can bring it up with another
walrus but what if the disk goes bad
walrus is still running right so
eucalyptus and cloud stack cloud stack
is the same way basically they are
relying on you to go to you know to deal
with your sand your storage area network
and make sure that your disk array is
redundant at the cluster level at the
secondary storage level because it's
it's not built-in so once again high
availability you got to look at anything
can be a single point of failure and you
really have to look at your whole your
whole hardware setup your whole network
yeah you had a question what's up
yeah so the question is about dr BD and
that is correct so dr BD which is the
last thing there on the slide is it's
just one of those berkeley pieces of
unix it's kind of like data it's it's
for synchronization of data across
different workstations and that is how
high availability is implemented is it
uses dr BD to kind of replicate session
state from one workstation to another
yeah did that answer your question
okay and that's that'll summarize
eucalyptus so there's you know there
were five main components and they're
trying real hard to mimic Amazon Web
Services yeah question yes
yeah so the question is about Geographic
this you know separation geographic
isolation for redundancy and high
availability and with Amazon you know
you can have that but you have to pay to
be in more regions you know or more
availability zones and I mean the answer
is pretty much it's the same way with
the public with a private cloud because
you know if you're gonna truly have high
availability you might want to think of
setting up two data centers and
geographically separate locations but
you know a multinational company that's
probably going to do this will certainly
be able to you know if they're serious
about high availability and you know
that's totally modeled each each
Geograph each data center is a cluster
in a eucalyptus cluster or a cloud stack
zone that's totally what is for okay oh
yeah so just to summarize eucalyptus
installation I'd say it's about the same
level of effort medium effort as cloud
stack administration they've got a
really strong collaboration with Amazon
as far as Yuka tools working exactly
like ec2 the security I'd say it's about
the same baseline that you get with
cloud stack it's just they do it they
need to go through this registration
model they get to reach that baseline
and high availability we just discussed
any other thoughts before I move to the
next one okay OpenStack
you know I love their logo the best I
think they have the best logo okay lots
of services so the OpenStack model is a
lot of related services so and this is
like the most distributed of any of the
ones that we've looked at and you know
CloudStack one big monolithic thing
eucalyptus in five pieces OpenStack lots
of pieces and so in the blue we have the
Nova family of services and those are
the ones that are kind of compute
related so Nova compute for bringing VMs
up and down
Nova volume for attaching block storage
Nova Network for you know doing firewall
and virtual and stuff over in the purple
we have Swift which is the object
storage kind of like walrus for
eucalyptus and the idea is that um you
know a tenant will have an account and
it categorizes the objects that it wants
in containers and then the Swift object
service actually has the object and
there's a swift proxy in front of all of
it which is like the Gateway for any
communication to the object store and
then when a VM is starting up it goes to
glance which has the images or maybe you
call them templates so when you want to
boot with something you go to glance
over on the left and the green these are
parts that were not written by OpenStack
but they are of course indispensable the
relational database and a messaging
system that Nova uses called rabbitmq at
the top is the web user interface which
they call horizon and at the bottom
Keystone for authentication and
authorization so I showed some
installation slides in for eucalyptus
and for cloud stack and they were kind
of the same
they both had like eight or so things
that you need to do and so there are a
lot more services here so the
installation is going to look kind of
like this a lot more things to do and
you know there's four keystone glance
nova swift storage
swift Roxie horizon each one you go in
you install that component you
reconfigure it because it's not set up
the way you're supposed to use it in
production then you have to manually
create the database populate the
database restart some services verify
that it worked then you go to the next
service and you do the same thing so you
know when you get the hang of it I guess
it goes easier but I think that the
automation could be a lot better
and it's it's kind of related to the
consortium nature of OpenStack OpenStack
is you know it's the most democratic
open-source II goodness of all the three
of these and you know democracy can be a
little messy and OpenStack is a pretty
good example of that so there are lots
of ways to install OpenStack you can use
some services not use others and so it's
kind of like if you like having lots of
options here you go here's horizon and
it's a pretty good UI you know you can
do pretty much most of what you need to
do you can you can monitor your
instances here like in cloud stack and
when you want to set up scripted stuff
to my great surprise you can use yuka
tools here so open source I mean it's
just they're all one big happy family so
OpenStack yeah they use they use yuka
tools but the thing is that OpenStack
was not really designed from the ground
up to to clone Amazon like eucalyptus
was so the compliance of using yuka
tools the you know they're not all gonna
100% work and because the underlying
command line interface which is called
Nova today you know just the commands
they work in different ways the concepts
and things they need to set up they're
just not a perfect match so you may need
to fall back to using Nova and you know
you probably won't be able to have one
set of scripts that totally works for
like real Amazon and OpenStack also
there are a bunch of older command line
clients which are now deprecated they're
just
hanging around to confuse people I think
Keystone security this this is kind of
slick I love diagrams like this and so
you know your client that wants to do
something with OpenStack like think
about this what is my client gonna do
I'm writing a client or where I want to
start and stop some v ends or I want to
get an image in and out of glance or I
want to get an object out of Swift
well like eucalyptus like cloud stack
when you first make that request your
client needs to have an x.509 public key
certificate just like communicating with
anything on ec2 you need to identify
yourself with public key infrastructure
you send its Keystone if you check out
Keystone gives you back a token which is
just a string of numbers and letters and
you then attach that as a request
parameter or the client is supposed to
attach that as a request parameter and
forwarded on to the service that it's
seeking information from well the
service is going to pass that token to
Keystone say who is this are they who
they say they are has their message been
tampered with since it was originally
sent if it checks out and if they're
authorized to do that service they
service the request send it back so does
this make OpenStack the most secure
platform you know at first I kind of
thought so because I mean they really
put a lot of engineering into this you
know and it touches every service this
is one I would say the most unified part
of OpenStack right here but I guess the
cynical side they started to think well
maybe it's exactly the same level of
security because they were totally you
know cloud stack doesn't need to do this
because it's monolithic you know
OpenStack needs to do this because it's
in a million pieces and there's so many
different requests coming and you need
to have a really strong authorization
and authentication mechanism and so I
would say that by doing this they are
equally secure so that's that's my two
cents
pretty slick though love those pictures
okay high availability so what high
availability means just kind of ask
yourself again what what do I want from
my high available high availability what
do I read what am I looking for you know
what am I trying to tell my customers
my users I want them to know that the
cloud is always going to work for them
that they can always upload their stuff
their apps are not gonna go down you
know and look at all these services now
think of what eucalyptus was doing
eucalyptus had a primary and a secondary
right what do you think this one's gonna
have how many of them offer a CH a uh oh
they don't um so Nova Network there's
this blog entry on the documentation
page for OpenStack where someone wrote
in and said that you can make Nova
Network you can prevent it from being a
single point of failure because really
it is because if you can't get your
network if you can't get through to the
VMS the network goes down then you can't
control them you can't get any input or
output out of them so that would be very
bad that would be a single point of
failure well if you instantiate this
Nova network on each hypervisor you have
high availability or rather you've
avoided high availability problems in
that particular domain but the thing is
it doesn't do this out of the box so if
you want to be an openstack developer
and kind of hack with it and stuff which
you probably would but you know it's
just you have to get in there and do
this and so it's not out of the box
you're managing high availability
yourself and you have to debug it and
test it yourself on the other hand
something I really love about OpenStack
is the way they do high availability and
Swift they've got this thing called the
ring where they're actually doing disk
replication let me show you what that
looks like so the ring is this mapping
from object IDs to physical locations on
disk and so they've divided up the disks
into these Swift logical partitions and
this isn't like a partition that you
normally think about this is a swift
concept so maybe each disk has like a
hundred partitions on it and they're
going to put every object in three
places so that means if a disk goes down
you're gonna your data is going to be
there you know and even in another
geographical location you know across
zones you can have this kind of
replication that's really cool cloud
stack and eucalyptus do not do that this
is solely OpenStack
unfortunately you know there's this
divide between the process level and the
disk level so they gave themselves disk
replication but they don't automatically
make the Swift processes redundant so if
your swift proxy goes down
who cares if your disk is redundant you
still can't get your objects so it's
like dang it they missed it you know you
can you can kind of get in there and
hack this stuff but again it's just it's
it's a development effort and it would
be so great if this was in there and
tested you know bullet-proofed by the
community but it's it's really not and
there are people who yeah what's your
question
yeah so the question is is it on the
roadmap for to basically fix the high
availability issues with OpenStack and I
would say it's not I mean I don't really
see evidence that the consortium has
momentum to make that happen I think
they should I think if they can make
Keystone because Keystone is like the
model for success here because it
unifies everything all the other
services so if they can do that they
could do something to unify all the
services for high availability but I
think that's the thing that's really
kicking them right now is this lack this
problem with high availability otherwise
it that and the fact that it's kind of
complex and there's not really one way
to do it it's I think it's got very
strong platform with a lot of pluses but
I keep coming up with all these negative
things to say about it so any other
questions on that yes I'm kind of used
up my time so let me just summarize this
the OpenStack architecture is is
fragmented which is the negative way of
saying it's highly distributed the
installation is difficult because of how
fragmented it is and similarly high
availability it kind of suffers because
it's with that many pieces it's hard to
come up with you know a true high
availability solution even though
they've got this really cool solution
for this for Swift data
and security it's got the same baseline
as the others and now just to kind of
show you all of them again
on one slide architecture cloud stack
was monolithic which had impacts on its
high availability and its installation
eucalyptus was kind of medium
distributed in five pieces and there
being a W Amazon OpenStack is in a ton
of pieces as a result the installation
for cloud stack and eucalyptus is kind
of medium level effort OpenStack more
difficult administration was they all
have a way to do the ec2 command-line
interface which is pretty important for
scripted automation security they all
have the same baseline they just do it
in different ways
eucalyptus they have component
registration OpenStack uses Keystone for
high availability cloud stack has this
multi node configuration which you can
load balanced eucalyptus does a primary
and a secondary for failover and
OpenStack they've got you know the swift
ring and I'm already kind of at the end
here so if I just want to repeat if
anyone wants to copy these slides just
come up and write your email address
down and and I'll be happy to send it so
thank you very much everybody
really enjoyed presenting</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>