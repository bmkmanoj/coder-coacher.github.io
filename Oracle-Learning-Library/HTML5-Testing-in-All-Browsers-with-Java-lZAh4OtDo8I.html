<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>HTML5 Testing in All Browsers with Java | Coder Coacher - Coaching Coders</title><meta content="HTML5 Testing in All Browsers with Java - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>HTML5 Testing in All Browsers with Java</b></h2><h5 class="post__date">2013-02-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/lZAh4OtDo8I" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">my name is Kevin Nilsson and we're all
here to learn about ways of testing in
all browsers and that's I think with
html5 and you know the great uptake
we've seen over the last few years this
is hopefully this is a very timely
session for everyone I've actually given
this talk it's actually been a while
since I've given this talk and at the
time it was you no html5 was really just
coming into play and that's where I
really got got interested in this but I
think today it's a valuable thing for
everybody so so while everybody was
walking in I had this puzzler up on the
board for folks to you know we're all
familiar with the the Java puzzlers and
you know what will come back to this in
a minute but look at this and you'll get
kind of some of the understanding of how
javascript is is difficult and you know
it's a very very simple one so so this
presentation just you guys know is is
part of the html5 rocks presentation
it's all done in html5 and it's a nice
if you haven't gone to the html5 rocks
website it's really great and I'm using
their kind of slide where instead of
like PowerPoint or keynote and it's it's
really nice but the you know none of you
probably want to use this it wasn't that
interesting but they have all the demos
of how to use all the features of html5
one slide at a time running live right
in in in the slide so with the code
examples and so I definitely recommend
people check out the html5 rocks slides
so so welcome everybody a little bit
about me i'm kevin olsen the vp of
engineering it just me and that's a
start up in Google startup labs we use
all Java technology where we can so it's
where spring-mvc shop and then we're
mostly in the mobile space so doing
native iphone and android applications a
little bit about me i'm a java champion
last year java one rock star
so hopefully everybody will submit their
feedback again today and and who knows
maybe we'll get lucky enough if that
will happen again I authored a book
several years ago web 20 fundamentals
and actually still a lot of relevant
stuff in there and I'm probably most
known in the valley and in around the
world for running three of the largest
user groups in Silicon Valley I run the
Java user group the javascript meetup
and the Google technology user group or
google developer group is what they call
those now so that's so I run about 30
free events a year and all of them are
kind of about this size yeah a lot of
fun and I guess the last note on there
is I'm not really a testing person you
know I'm an architect I come from a Java
background and then kind of moving you
know as things are hot moving from you
know doing Java server side to do in
Java Web to do an html5 jquery stuff and
then now I'm actually doing a lot of
android stuff so that's kind of the
progression so so here's what we're
going to talk about today a little bit
of where we're at in the web testing
overview some old-school ways of doing
things some of the more modern and some
of the next generation stuff which is
done with with qunit and tests warm this
is what i think is kind of the best
options out there and all of that is
kind of sewn together with Jenkins and I
assume most of you have experience with
Jenkins or know what it is or know what
Hudson is it's a really great tool will
be showing that a little bit later so I
kick things off kind of introducing this
as two puzzles right so one of the
best-selling books is the Java puzzler
and you always are just amazed with you
know what actually happens with the
particular line of code and and some of
the smartest people you know can never
figure it out well JavaScript there's
like puzzlers everywhere right and
that's not even like how it behaves in
different browsers but that's even
within one browser looking at a piece of
code you have no idea what's going to
happen and then that code is going to
run differently and every sick
a browser so HTML for specifically is
very ambiguous as to what can happen and
how things behave so so so JavaScript
has a lot of puzzlers so one of the
things i had up when you guys walked in
with this was it was this puzzler it's
kind of simple it looks like it says a
XYZ be XYZ XYZ right and how many of you
think that's the answer right obviously
none of you but do you have any ideas of
does anyone know what the answer is
anyone yeah very good anyone else agree
with him or disagree yeah i XYZ and why
is it a XYZ because I is global scope
okay so if you see here how I does not
have a VAR right we didn't decline it
declare it as a variable so JavaScript
by default is global scope so all these
variables that you use within your
methods here within your function sorry
when javascript within your functions
take global scope so so here I can show
you kind of just so that you guys
believe me so here's a queue unit tests
showing that that you know the diff of
what you expected was that and what you
actually got is something a little bit
different a little bit less so you know
I mean this is just a classic example
where you know you see how you'd expect
things to behave but they don't exactly
behave the same and this is qunit very
similar to j unit it's a really great
tool i really like it it was q unit
which i'll talk a little bit about later
but it was written as part of jquery you
know written by john rezac to as a
framework to test jquery so next thing i
want to jump into a little bit just to
give you some of this background is is
prefixes and what they are right so a
lot of times you see the the Mo's or or
the different WebKit prefixes in front
of your CSS which you
he kind of down here for transitions and
things like that and you know one of the
main objectives of html5 you know I met
with with Ian hixxy the the creator of
html5 and I said Ian you know what's
what's the main goal here what are you
really trying to solve and it wasn't new
features that you know all that was was
just icing on the cake but for him it
was about defining a non ambiguous spec
really fully defining how everything
should behave and you look at this and
you see what's really going on here so
what's going on here is the
traditionally what browser vendors would
do is they would launch their
implementation and then people would see
that it doesn't behave how it's supposed
to and then what would happen is things
like jQuery dojo prototype script oculus
would come along and try to like put an
API in front of these to standardize
these and then you're stuck with this
kind of broken implementation forever so
one of the things I did in html5 was to
make the spec not be ambiguous to try to
fully define every single thing out
there how it should behave in different
scenarios but then it leaves that that
next question of are the are the IE guys
going to implement that correctly
because they didn't get a hell of a lot
else correct all right so so that's what
we have prefixes they go out there you
can use this stuff today it's it's about
you know it is about the spec is still
moving but it's also about getting it
out in the wild with people before they
lock it in without the prefix in the
browser so so back to our fun here is
another puzzler the significantly
simpler so what is the length of my
variable or I guess I should have said
my array huh not too much sleep I get a
two month two week old baby what is it
somebody said four so we set for three
threes
400 absolutely right so both of you are
wrong or maybe both of your right
however glass half-empty glass half full
my glass is completely empty but yeah
and which browser do you know in IE the
length is yes so in ie8 in IE six seven
eight right the length of this is for in
all other WebKit browsers firefox chrome
zafar you name it the length of this is
three right and you think about this you
know people are testing their code and
they're a lot of times dynamically
generating these this kind of Jason or
JavaScript objects and you kind of add
an element nakama add an element in a
comma add an element in a comma I can't
tell you how many times I've seen this
right and do you know what the value is
of the fourth element I believe it's
undefined yeah it's undefined and I can
actually show you that oops um zoom out
so in chrome you can do the the option
command I or I don't know you get it
from the Tools menu or something but
down here you can go into the console
and I kind of doubt my ability to type
that so I'm going to paste that in let's
zoom in down here so you guys can see
and we'll put a so here I'm able to live
kind of code JavaScript which is kind of
fun and my variable length and it is
three but it's not always three so I was
going to bring like a netbook with me
and I ate to show you that it isn't
three but I felt too embarrassed to walk
around with the conference here with ie8
so if anyone has an IE 8 that they want
to confirm don't speak out pivots
anyway it's our evolution of the web
where we are right back in 91 you know
HTML HTML to kind of moving through we
started using CSS and JavaScript in 96
about the time I graduated high school
well I look much older I feel much a
whole regret in 97 HTML for cff to 2002
is probably where things started getting
interesting you know with CSS doing
table with web design and kind of in
2005 we're doing things we never thought
were possible with Ajax right and that
really kind of change the whole world
the web of not having to refresh the
entire page i know the oracle guys used
to call it partial page refresh and then
in 2009 aim was out there got excited
and an html5 was born with a lot of
really great stuff so no so let's shift
gears out of kind of the web and talk
about testing because that's what a lot
of this talk is it's sort of about and
it's you know why should developers we
use an automated testing right and you
know this stuff is really bleeding edge
right the implementations in the browser
are changing the specs are moving
developers are really just figuring out
how to do this right so I pulled the
room of how many of you are doing html5
or web stuff and it was so you know sort
of a five ten percent or doing it a
significant amount of time throughout
their day so so really that's you know
it's so bleeding edge and in both on the
technology size but also on developers
and what they're learning next big thing
is you know every time you check in a
line of code you're kind of taken this
risk you know and you know I had a boss
one time who wanted to push daily
updates into production and I kind of
say you know you know that's great to
get those features out there but why
don't we bundle them up and do a release
once a week
things like seems like that so that we
can do more regression more testing and
things like that but i think the real
answer to that is more you know we
should be doing something like
continuous deployment where tests are
automated right there there developers
don't have to think about them and make
that possible we'll talk a little bit
about that coming up soon another thing
that is really important about testing
is kind of early bug detection really
saves you time really saves you money
and really saves you embarrassments
right so if I'm writing code and then I
push a button and it runs a thousand
regressions within two seconds I know if
I've broke something else code tends to
be brittle a lot of dependencies a lot
of things that you really can't test and
if I write a line of code in 10 seconds
later it tells me it's broke I can fix
that right away if a day later it tells
me it's broke or will say an hour later
the cost is a little bit more i can
probably open up the file i can like
swig down my coffee i can probably get
my head back in it you know I've made a
context switch maybe I'm you know
calling my girlfriend all my wife
whatever you know and I got to get back
into it you start talking about a day
later you start talking QA cycles like
two weeks later the cost of that next it
becomes finger-pointing you know with
him it was him though it must have been
server-side it was in the browser it
worked yesterday I didn't change
anything we get all kinds of like inner
office politics working about who's bug
this is and making sure you know because
there's it brings in that embarrassment
factor also so anyway I think developers
should do test-driven development and
mostly for a lot of that right and
unless you verify your work speeds up
your development and the most important
thing for me at the bottom it lets you
move on to something else right if you
have something and you're the only one
who understands all the rules of how it
works
you know and no one has confidence to
write code if you have a good regression
sweet that is written by developers for
developers and integrate it into the
development process you can hire someone
in you know within two hours have them
writing code or typically you know
that's like a three-month proposition
and and what that means is is that
you're not going to be able to like get
someone's time who is who's valuable
because they're not going to be able to
spend three months learning your stuff
right so you want to be able to make it
as easy as possible for people to get in
and you have a lot more likelihood of
having someone like intelligent take
over your stuff so a little background
you want to talk about the difference
between manual testing and an automated
testing right so none of us want to be
monkeys right so every time I write a
line of code I really don't want to open
up a browser open up a mobile device be
clicking around kind of hunting for bugs
and see if this works and and this the
app becomes more and more complex gosh
it takes so much longer to do this and
you end up only testing that one feature
and I'm sure every single one of you has
has had huge regressions if they had no
idea what else was broke because of that
so another kind of interesting thing
here is is this google has this this
blog often referred to as testing on the
toilet and they put these little they
put these little things over the toilet
so you have some some interesting
reading and they have a whole series on
testing because they think it's so
important but the one of the the catch
phrases that they put on there sometimes
if his life is too short for manual
testing so it's definitely I don't want
to be a monkey and I'm sure you don't
either so the other thing we should talk
about is kind of unit test versus
integration test so unit test really
test that that deep internal peace and I
think when you're doing server-side i'm
sure most of you are familiar with unit
test when you're doing server started
stuff I think this is probably the most
important piece right but at least my
opinion is that when you're doing
client-side stuff a lot of times the
integration
tests are a lot more valuable than what
the unit tests are so I kind of
server-side I like to favor unit test
client side i like to favor integration
tests in the integration test is really
clicking on buttons looking at the
screen within with the values are in a
lot of times you're sort of black box
you don't really know for say what's
going on under the covers in there but I
think it provides a whole lot more value
so so here's some kind of pros and cons
manual testing is really great for
catching visual things you're never
going to see if your CSS lines up and in
things like that you can definitely text
like the sizes of things the biggest
downside is is it's extremely time
consuming so most people will tell me
you know people who work for me oh say
Kevin I don't have time to test my code
well you know you're going to have to
manually test that code a thousand times
in the next six months or you're going
to have to write a little script that
may be like 10 lines of code once so Tim
lines of code versus like a thousand
tons of clicking around being a monkey
for me it's an easy decision but it's
definitely hard you really have to push
hard to get get people doing that and
one of the things I do is I'd say like
you know when I close a juror card I
close something I say well it's not
closed it's not finished until there's
an automated test written for that
feature so that's one of one of the
things I do is management to try to help
things out and the last disadvantage
there is it's often skipped right so
people don't even test they just commit
and go and and you know that's what you
get so automated testing is really great
because it's a one-time cost it's a
whole lot less expensive it runs with no
effort once you've written that test and
it can be part of your process right if
you make it part of the process through
automation tools like Jenkins it just
happens people don't have to think about
it people don't forget because they
can't but it doesn't catch those visual
things so so you still have to kind of
try it out feel things out and things
like that so ways of doing
automation one of them is it build time
right Aunt May even Gradle all these
things unfortunately that can become I
don't know extremely annoying right
every time you're like like trying to
run your app you really don't want all
these regressions you know things are
broken you're not ready to commit you
don't you don't really want it to run at
that time it'd be nice if you could run
it at that time but you don't want it to
happen every single time she end up
wasting a lot of time another way is a
svn hook right so so you can do that
with part of fvn when you kind of check
in code like before you can check in
code it kind of runs these you know
it'll run this regression before it
actually lets it in and it's just very
nice because it lets you catch bugs
before you share them with others but
there's no way to wait for other
check-ins you know so sometimes you need
to check in a server side piece and a
client side piece but then my tester
running and it may run too often because
of that my preferred method is
continuous integration tools like
Jenkins Hudson cruise control and pro
you probably just want to use Jenkins
though but you know there's other
options out there if you if you'd like
bamboo as well but you know Jenkins is
probably the best option there and you
get all the advantages sharing things
before or you know checking things
before they share with others can wait
for a quiet period so after a check-in i
can say don't run this for another five
minutes and you can limit frequency and
things like that so you can run small
smoke tests with you check in once a day
once a week run more extensive tests so
here's kind of overview unit testing
versus integration testing unit testing
is really testing the building blocks
the deep internals may be private or
protected methods in java where
integration test is often with
dependencies it depends on a database it
depends on a service if you're doing
html5 and it really tests does this
whole thing work together as a whole
often kind of referred I kind of blur
the line between the integration
functional testing but but so there's
similar kind of things so old-school
testing I'm going to talk about next and
this
kind of how you feel like you're anyway
crash test dummy here so here's some old
tools that use in the past j/s unit it's
kind of not that good it's a portage a
unit to JavaScript it doesn't really
make sense really if you're if you're a
hardcore javascript jquery developer so
you know in java there's a rhino
implementation which is leveraged quite
a bit and i actually used it for web 10
stuff with a tool called canoe web test
and canoe web pest with rapper on papa
HTTP unit that was really nice lets you
do a little bit of groovy things like
that it's great so if you're just
getting started you don't really care if
it runs in all browsers this is a nice
solution where it runs in Java you never
have to launch a browser is that's a lot
of the difficulty is having browsers
kind of running throughout automation so
so this is a canary web test I highly
recommend if you are doing level 10 kind
of things and and you're not really you
know you're writing some administrative
pages you just want to make sure they
work here's kind of an exam an example
go to the URL google com verify that
there is the text google for the queue
for like the query say web test and
click the i'm feeling lucky button I
only feel lucky and verify that you got
the results for any web test so that's
an example of that your some not modern
testing and you guys can read this on
the slide some time but kind of lips
automating clicking things around so
selenium I'm sure everybody here has
heard of selenium right to Swain's a
really really great tool but I don't
recommend it so it some of the great
features about it or that it has a great
recorder so if you really have no idea
what you're doing and you're a monkey
this is one step better it kind of lets
you like click and drag around in your
app in record and it kind of records
into an HTML format that you can kind of
export so it records into an HTML table
right which I'll show in the next in the
next slide I maybe I'll show that here
and then you can kind of convert this
into
java so once you've heard into Java you
have no more clicking record there's no
more maintenance and this is like your
test format which is like open
google.com type in q hello world wait
for the text wiki p you know whatever it
is right so that's that's kind of what
it what it looks like not not so
interesting and problems with selenium
you know there is absolutely no support
for JavaScript so you have all your
javascript HTML 5 people and you tell
them to write Java or right you know it
doesn't make sense right Python things
like they don't want to do that you know
they're really in the JavaScript world
they want to be able to do things like
unit testing right and this is
completely a black box tool one of the
other biggest problems is you know
browsers right you can only run your
tests in one browser there are some
selenium our seats and some different
things but it really isn't designed you
know I can't take my android phone and
have my selenium test run on my android
phone I can't run it on a tablet you
know any of these other things that we
really want to do today so so now I want
to talk about qunit which is kind of the
the base of of how you can test in all
browsers mobile desktop you know all the
different browsers you like and we were
showing an example earlier of some-some
qunit here's a sample results sort of
different tests they were failing very
very similar to j unit reports if you if
you've looked at those really nice it
tells you the user agent you can click
into it you can rerun it you can rerun
only I didn't put the there's little
checkboxes you can put up here with it
with a different style sheet but it's
really great tool you can say only rerun
those that have failed right so here's
kind of an example of qunit so you can
kind of get a feel for it and later I'll
show this running in Jenkins with tests
warm and so I run these three examples
so it kind of looked through them the
first one is maybe another
ler is is 1 equal to the string 1 right
so everybody knows or maybe not
everybody knows but those are equal in
JavaScript so it's 2 equal to the string
2 yes it is ok so that's my first one we
want to kind of verify that in all
browsers right because we lift earlier
what would happen which I kind of show
here right so you can't really see the
red I think that Reds a little bit out
but the comma here and undefined at the
end and we talked about how I ate an
earlier the length here is for but in
other browsers it's it's three so the
the last example here is like a forced
failure right so this is a force failure
I just said ok you can also put true
here for false and the force failure
just so you can see kind of how it
reports failures along the way right so
let's look at these so here's a first
example with the you know it passes
here's a second example it passes
because I'm in chrome a real browser so
I see they'll know think is three not
four and then the last one we have this
forced failure I should have done a
different thing where you could see the
difference like you did in the other one
using equals rather than ok but you kind
of get the feel for what's going on
there right so queuing it's really nice
right this is jQuery these are closures
something that's finally coming to java
and yeah I could tell you a lot about
closure so my first meeting as a jug
leader my second meeting as a jug leader
was Neil gaffner giving the closure
proposal like six years ago so anyway
we've been very happy in the JavaScript
side for a long time so how do you run
these qunit right you have the
JavaScript so all you need to do is add
the Q unit j s there's an inject if you
want to do tests warm that's kind of the
optional piece for running it in all
browsers and then run your strip and
there's a stylesheet up here
qunit CSS that is required and that's
what gives you the styling so we'll talk
about this you can see all you have to
do is add a style sheet and then add a
div which I didn't talk about here of
where to put the results and it just
goes in and inject things into that div
based on its on its ID so so what are
the limitations or difficulties is it
requires a custom html5 or an HTML
webpage for running these tests so if
you're doing unit testing you really
have no way to to run that anyway so
it's kind of nice it's kind of a pro
where I define a page that lets me test
my internal functions but if you have
like a website it's kind of difficult so
one of the things that I do and this is
just an example of like a version of my
website that never went live but you can
put kind of we put like a question mark
at a query string test equals and then
it path to a test it's like a sequel
injection friend or sorry cross-site
scripting print but anyway and what it
does it you know i have a div at the
bottom here and a server-side kind of
been a JSP or something like that
freemarker template whatever it is I
inject the Q unit to run against your
page right in your page and nobody ever
sees that unless they add the query
string to run that particular test
another thing I want to talk about is
funk unit right so imagine you give me
your application be it web be a swing
whatever it is and I kind of take like a
robot and I click buttons as fast as
possible right I you know I type in you
know maybe we do some sort of type in a
state you know you type in your doing a
drop-down your type I it gives you
Illinois type see it gives you
California and as you're doing this
you're immediately verifying these
things or you know you're trying to run
a test right away as fast as you can
possibly click well it's not really
feasible right you click you have to
wait for the screen to paint you have to
wait for things to render so there's
something called funk unit which is part
of JavaScript MVC and
is a nice piece here called you no
visible and it's it's sort of like
saying you know I want to click I want
to tighten JavaScript this is an auto
complete test and I want to take the
input and click on it and then type
JavaScript I want to wait for sort of
this autocomplete item you know I want
to wait for this autocomplete item right
here sorry I'm having trouble my mouth
to be visible before I check its size
right I have to wait for when I for the
thing to drop down and become visible
append to has another thing so when
available and when true I kind of
extended it to add win true that does a
similar thing but function it's a lot
more I don't have that much experience
with it but it's a lot more popular you
should look at that so now let's talk
about how do we make this happen in all
browsers and what's the real next
generation right so here I just have
kind of the browsers but then now we
have you know android phones we have
iphones you know we have tablets and all
these devices and you really want it
just to sort of seamlessly run
everywhere right so let me introduce
test one so at the bottom you can see if
it's a little PHP app that runs is the
test swarm server and all your browser's
connect to it so all you have to do is
go to a URL you go to URL and say i
would like to help you test so if you
have nine different browsers you have
lots of phones if you have as many
android phones with me you're very lucky
you connect them all and different
versions you see here firefox 3 4 5 I
fix have an eight opera all these things
and when they are all connected anyone
who Sims a test to the test forum server
you start thinking about Jenkins and how
it can fit into this you can have an svn
hook you can have Jenkins get hooks you
know any kind of job you could do with a
cron job you make the submission to test
swarm and then it fires it off to all
those browsers they run the test for you
and then get the results and show them
back right in a centralized server and
so this is kind of what it looks like
this is an older picture they no longer
segment by operating system but they
used to they found this was a little
less useful now that kind of the
direction things are moving with chrome
adoption and things like that but
basically you can see all these browsers
so if you want to do like monkey testing
I say like every time you write a line
of code can you please test in all these
browsers you really can't do that it's
not manageable at all to do that so so
selenium versus test swarm pros and cons
you know test warm configuration there's
absolutely none you just go to a URL
that's all you need to do selenium it
tries to kind of launch a browser for
you it's kind of difficult their browser
support everything even mobile selenium
is kind of limited in just be able to
support a few black browsers both open
sores and I do recommend selenium I mean
if you you want something very simple
you're not making a huge investment it's
a good way to go but it doesn't really
get you where you want to be at least
not where I want to be JavaScript
support selenium sort of but test one is
really great an adoption unfortunately
test one's not that well adopted so
maybe maybe you guys will see them like
it and start using it so but i think
these click-and-drag tools always become
more more so what is Jenkins right so
Jenkins is a great tool it lets you
schedule builds kind of a you know cron
job style you can say every hour every
day every minute whatever you like you
can pull SCM or there's github pushes
commit hooks and things like that but
basically what it does is it runs jobs
for you so you can run a shell script
and do things you can compile Java code
which is most common you do all kinds of
things but what's really great is it has
a great plug-in framework inside of it
it's very easy to write plugins so I'll
to test warm and I said well I want
things to be scheduled periodically I
want easy reporting I want emails on
failures and I want it to run in all
browsers so I said how do i get my
jenkins to integrate with test warm and
so I wrote a plug-in right so here's the
the link the plug-in you guys can all
try it out it's really great it's one of
the official Jenkins plugins and it
really helps helps things out and I
definitely have a big thanks for kk back
there for helping me kind of push that
through to make it possible I talked to
him last night and so I got to the very
last step of making this available to
everyone and I had six more days until
my baby was supposed to be born and you
guys can fill in the blanks what
happened so I got everything done except
for the very last step I had some typos
somewhere it said authentication failure
and the kk the crater of hudson and
jenkins back there so big round of
applause for making that possible so so
do a quick demo here of showing you kind
of jenkins test form and and use them
together with a plugin that i wrote and
so hopefully this is a this is kind of
fun it was the first time i use imovie
since like I know four years ago java--
one thing so the first thing you do is
take all your browsers and enjoying the
swarm so all they do is go to one URL
right and you can see them all lined up
here chrome firefox safari android and
iphone and they're all kind of waiting
to run tests and how they do it is they
actually put an iframe inside the
browser so the outer browsers tests warm
and then there's an iframe you can
actually see it down here this is where
it looks different in this browser than
it does in these right so that's kind of
what it does and here you've got a
Jenkins job and I go into it i'm going
to configure and kind of show you so
there's past results of different
browsers so i have three test 123 the
three that we talked about i can disable
within my plug in some fail some pass
just kind of flowing around here for a
demo and
and you know that's that's kind of what
we have there so here I'll show you how
to configure that plug-in and the Wi-Fi
here never works and you guys know that
and so that's why it made a video so so
here's a the plug-in that I actually
have so sorry every year Oh back here
back here so we can kind of start here
so you can see kind of configuring that
you define the three tests the first
test and there's a URL to run my tests
and that's the same URL that I have
right here right so I can run it in my
one browser and then you see that passes
i can run this in this browser its exact
same URL so i take that same URL and i
say i want this run in all browser not
just this one and i can add a cache
cracker because you know sometimes
browser is the way that they work it
adds a query string at the end because
that was a nice feature that i found
over I've use this a lot and that helped
me another thing is you do all these
configurations of test1 test2 test3 and
then you have a known failure so you
want to be able to like just comment
that out kind of do and ignore add
ignore and j unit so if you just check
the little box here it will disable this
test for a little bit so that's actually
very very useful so here we're going in
and you configure the tap results and
there you can see the the one test
running so it's building and if you
watch down here you'll see it run in
this browser so there it's polling and
because test warm has an API there it
went so there it ran right so test form
has an API a JSON API that you can so
what I did was is I just pulled that
every 30 second set of configurable you
can tell how often to poll but I pulled
that and check for these results so here
you can see if you watch this this is
actually in the in the test form I
printed out a link out sorry in Jenkins
I print out a link to test one so that
you can see you can actually go into
test form right so I'm just doing a
quick rapper if you watch right in here
when I play
see that like it's loading it's waiting
it'sit's ran test three failed in chrome
test two past and test one is about to
run and so here it goes and it turns
green can't we see on the screen so well
but you can see it my student very well
so there you see oops kind of that
interesting piece here we'll go back
just a minute and you can see what
happens oops oh I'm so quick there it
here is test two which is the length of
the array and you can see in ie9 for
test passed one test was red and I ate
and that's where I ate thinks it's a
length of three I nine thinks it's the
length of it I did it method I ate
thinks it's for an i-9 texts and three
but it's a correct and the other and the
you know passing here in green green
green all the way across then you can
look at individual test results where
did it fail you can see here it failed
in ie8 and you can actually look at what
was the result the length was three so
really great test one is a great tool it
just doesn't provide the scheduling
ability the hooks into continuous
integration and it doesn't provide any
you know email ability so here I
actually print out the tap report
results right so I go ahead and show
them to you right inside of Jenkins
because this is what's going to go out
in your email so you can see one two
three tests ran you can see that example
ones or it's a little grainy you know it
was okay test result to was failing in
iee but passed in all these other
browsers android chrome safari five and
six and then the third one failed in all
browsers and passed and no I should
clean that up and make it an empty
string but but it doesn't really matter
and in the end result is a failure which
will give you red balls and we all want
blue balls with Jenkins so it will give
you red balls and then and then send you
those both email failure so here I'm
highlighting its aight aight and here
this one failed in all browsers and then
you look at the charts there it shows
here you can drill into if you click on
that chart you can look at the
individual results what they were
and this is the tap protocol it's a
standard protocol used by Python and all
kinds of people gives you a little bit
more power this is what it kind of looks
like gives you a little bit more power
than then what j unit does this was as
far as is what you can do that so some
of the other things uh oh what's that no
to some of the other things that I've
used in the past are you know I built
using the Jenkins API which here I can
kind of talk about you just go API Jason
or you can do API XML and you can
actually get the results of your jobs
which are passing which are failing it
kind of tells you a lot about that and
then I that and I use sun spots they
have like little LED lights and so I
could monitor all my builds at once and
see which ones are passing and which
ones are failing and it's kind of like a
mesh network so I put them all the
people to report to me have one on their
desk and they can see at any given time
like which tests are up and which tests
are down and and kind of watch things
I'm actually not doing that right now
but at my last job that I did a lot of
that it was actually very useful to know
at any given time I kind of walk in I
can see what's greener or what's red you
know another great thing that I've done
is you know I wrote a plug-in for
virtual box right if you're familiar
with virtualbox like a virtual
environment where i would use a single
boon to server and then have two
versions of windows right because i need
to test at the time i was testing in 10
browsers so I needed I a six seven eight
nine I needed you know chrome I needed
Safari you know all the different
versions you know four or five you know
six and what I actually did was is I
took the startup script in Windows and
had it in the startup script launch a
browser going to the URL to connect to
test warm right and really what this
allows you to do is is with Jenkin
integration with virtualbox it you can
just once a week say reboot these
browsers
once a night's a reboot these browsers
because you can't run tests against them
all the time there's actually a
virtualbox plugin that you could use
that's why I didn't really try to
publish my own but honestly I could
never make the darn thing worth so I
just wrote my own so maybe maybe maybe
others have had success but I didn't so
I just rolled my own but I didn't feel
like competing it is it probably would
have been faster if I just contacted the
developers so we got just a little bit
of time this does anyone have any
questions yeah headless know so what I
did you know at my previous job as I
walked around the office and i took all
the old machines i found people that had
10 machines in their desk is it guy have
one of those you know and I and that was
that was where I really started so I had
in my desk then I had 10 machines so I
could get all the IE because you can
really you can use IE tester but you can
really only have one version of ie you
really want to go back you know at least
27 maybe six seven eight you know
unfortunately that's what you have to do
right and so I'd stack these browsers up
and have them in the startup script to
launch and then I could just reboot them
and then eventually I got a little bit
smarter and that's where I started
working with virtualbox I can have a
single Lubuntu server running virtual
box and have four different verts
running at once and then I could reboot
the vert from Jenkins then when the it
would reboot it would launch all the
browsers and and I had a suite of 10
browsers because those were the
supported browsers by the financial
company i worked at so i actually had no
one who actually physically had to
connect but then when I wanted to just
you know before a release or something
like that I would launch it in all
browsers you know just have people
physically connect to a URL you
definitely don't have to have a person
present to connect you know a device
yeah so so you know test swarm runs a
lot of things you can actually use test
form to write selenium tests I use it to
write Q unit tests that's really what it
was originally kind of designed for so
you can write any kind of test that you
want in q unit in jquery and it will run
them in all browsers so that's a lot of
the idea noon so good yeah any other
questions anyone so I want to thank
everybody for coming out you're welcome
to connect to my tests warm server and
play around and you know look at that do
I have safari up so here's what I when I
go to the page it says you know hey
would you like to join the swarm because
we need your help and I have one chrome
and you type your name in here whoops
onus to build my name and now it starts
running tests right away so that's kind
of the general idea so I had test
waiting for this browser because i was
submitting test and automated fashion so
it's kind of fun and this is it so
thanks a lot everybody and hopefully
we'll see you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>