<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Small Embedded Java Platform for Robots | Coder Coacher - Coaching Coders</title><meta content="Small Embedded Java Platform for Robots - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Small Embedded Java Platform for Robots</b></h2><h5 class="post__date">2013-02-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-g7mv_ns1d4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">and let me introduce ourselves my name
is Dennis Mulder I am a software
engineer at Oracle working with
different small embedded stuff and right
now and this is a this is derek light he
is from San maps and engineering
services he is a great expert in
different ids fields including embedded
area so and as you can guess today they
are going to check and with a smaller
budet java platform is suitable for
robots development or not so first of
all before we start plunging into this
scene there is this information
carefully and this is an agenda some of
you can already be aware of smaller
budget Java almost a week ago as there
was an official release the first
version of some elaborate a Java under
the name Oracle Java me embedded 302 but
today we are not going to talk about
this release its features oh oh alright
future goals and they all this
information you can learn from sessions
space specifically specifically devoted
for it for example tomorrow you can
visit a particular session and we can
when we will give you a link treat at
the end of our talk what we are going to
talk about today is it while something
is wrong wrong okay hkk okay okay while
the first release of smaller body Java
was on its way of projected product
ization our team inside the vertical
decided to perform one research as the
goal of research was to determine
whether it is possible to run java on
where you where can only wear it in
truly constraint hardware so we choose
the particular microcontroller assembled
a very simple robot and developed an end
optimized java version and this
java version is totally based is fully
based on smaller by the Java companies
some of these companies already part of
the release of observe this 302 and some
of the companies will be available in an
upcoming releases and after we talked
about after we have finished visit talk
of our research we will talk a little
bit about sunsport project we can't pass
by this project because it's our pioneer
inside the vertical in small embedded
area and this project has a lot of
results great results and experience and
these results and experience are greatly
leveraged by small embedded Java right
now and of course at the end and we will
we will provide you with some
conclusions and we'll be glad to answer
on your questions so let's look at as i
said we choose the n microcontroller for
our investigation first of all we looked
at touch devices characteristics for
small embedded Jolla it can be any
microcontroller a system or chip or
other internet or seen whiz for example
with such a ram ram and cpu if you see
there is a high-level border for em or
rome in case of devices that has does
that have memory that exceeds 32
megabytes oracle office another one
product called Java Sea embedded so it's
not our area and today via and we work
only with the devices that has less
memory what is interesting about a lower
border for ram romo cpu frequency then I
then I only can say that it's flawed the
numbers you can see right now we're only
proved during our research and maybe in
several weeks so on months they can be
reduced so it's only current result okay
this is a microcontroller is that we
chose some of some of you maybe already
defined finir visit it's very popular
right now embed dev board is nxp LPC
1768 MC you need is you see it case
cortex-m sorry microprocessor or is 68
kilobyte over am but we during our
research we were leveraging only 32
kilobytes of RAM the other part of the
memory rule unused what else to say yeah
now a lot of dev boards a lot of MC use
provide you with support for such basic
peripherals like gpio ADC pwm and so on
so forth but it's great that more and
more vendors more start producing
microcontrollers these more advanced
peripherals like ethernet or Wi-Fi okay
and USB so on so forth in this
particular for this particular market
control you see that it has internet use
brain can support directly on a cheap
and what else what what else i want to
mention for you is surprise for this
microcontroller if not flood for the
microcontroller for the dev board the
embeds the dev board costs about 60
bucks encoding tax Texas thanks but if
you're great but its its intention is
only for development for tests on
something like this no more but if
you're going to make a product based on
for example cortex I'm seeing I'm sorry
microprocessor you can purchase a
separate cheap I separate em see you and
hear the cost starts from one box and
ten bucks so the price is much it's much
lower than if you buy an animate and n
dev board okay and then we after after
the microcontroller we both different
equipment it strike chases
Motors with motors two motors battery
model and different infrared sensors
remote receiver and controller and what
is the most interesting part these
software small embodies java's virtual
machine is optimized cldc each area it
has a lot of features in characteristics
that let it and to compete it on a small
embedded air in on this light you can
see on with several of them really the
least is greater here we present only
those characteristics that were used by
us boom during the investigation for
example for the first characteristics we
turned on new garbage collector for
small heaps and it shows better
performance for heaps this size less
than 256 kilobytes also it's graded our
virtual machine has direct support for
sample some to instruction sets
alternative byte code representation
allows us to reduce memory consumptions
in Rome or Ram area and the most
aggressive optimization that we don't
own is closed world model optimization
the main idea of Z septum ization is to
eliminate all unused code from your
final java library and not only the
court of your application but also the
court of for example vm or different
libraries a built of top of the vm i
additionally what to it here seal this
each I virtual machine is now on its way
of modernization this ability allows us
to assemble a particular simulation you
need for your product for your for your
particular case as an example for this
robot for our research which
don't optional Denmark dynamic compiler
class load and verified and it let us to
preserve about 50 kilobytes of overall
aesthetic aesthetic memory but anyway
it's it's great that we have for example
a virtual machines at platters lets us
to run a white coat on top of it but as
you know java is famous for its
libraries that they built on top of a
virtual machine and if you if we start
talking about embedded development area
and that it is absolutely extremely
necessary to have an API is that let you
that lets you get access to different
peripherals located on your hardware on
um see you for examples like gpio or pwm
when something like this and it's it's
great that small embedded java sigi is
called device access api and as you can
guess I this goal is to get you to
provide you with access to all the
peripherals like itit owns the device
and additionally you can you can use
different permissions mechanism to
control different to control extends
access to different peripherals and
resources and from the beginning we
start thinking about power control and
as it's very important part in embedded
a and as you see in case of power
control if you for example switch of
different peripherals it can let you to
piss off a bit more energy for later
usage among some well known and
supported peripherals that are included
in device 60ct I are the fold and you
can see on your screen the list is also
is not complete and there are only some
basic and well-known for example like
genetic output pins different serial
buses and p WM
and now let's talk about the demo here
we have this robot as you see on the
picture you can see in the picture them
embed their vote it's located right here
on top of the roof and we connected
different all the equipment together
here we have five infrared sensors as it
led a robot operate in automatic mode
and also we have a simple infrared
transmitter then let you control robot
like a TV set so no more the robot is
straightforward the application is very
simple so don't wait something
intelligent action from this robot as
the main idea of the instigation was to
put Java on this constraint a hardware
and to show that we can run not only
handle a kilo volt damn about something
like a real world application so let's
show how it moves John it on making move
forward nothing special and then for
example let him to move by himself
itself
ok
you don't have a backup
yeah so something like this but here you
can see a code sample from the robot
applications we use device success CPI
to get access to one PWM output beam and
several GPIO pins and below in the code
we use them to control robots engines
and to make the robot move forward or
backward and as a result after we have
finished with the port of Java on this
hardware and creating this demo we
calculated memory consumptions as you
see total dynamic footprint is about 20
kilos and only five kilos is a cop ID by
java java code as a seven kilos trait
are taken by embeds native libraries and
then total static footprint java here
takes a little bit more than half and if
to talk about java heap size for this
particular dama it's enough to have java
he frees eight kilo and no more it's
enough it is i see it can operate
without problems and his response is
quick so that's all about this
particular research and now I would like
to call Derek and he will tell you about
and took it about transport project so
fancy okay is this working yogi so we've
been working with in Sun lamps and then
orga labs in this space for quite a few
years really trying to get trying to
sell the idea that Java would be a very
powerful tool to program small embedded
devices and would open up lots of
hardware capabilities to ordinary Java
programmers which there are many many as
opposed to some very specialized
embedded C programmers I'm really
excited to see that the company is
taking this up as a real product now and
so we're going to talk about here is you
know the product is just
up and coming but to show some of the
other things that people were able to do
with some similar capabilities and the
research project that we had so I guess
one question I have is how many people
here I've heard of the sunspots or seen
the sun spots okay so its third or half
yeah I know so what it was is a research
in Oracle labs it had there's obviously
some research questions we had and you
know the first is can really take bring
the power of Java and the simplicity of
Java to allow people to sense interact
with the real world and some parts of
that or can you write embedded
applications in this space on the second
was could you write the embedded OS
itself the device drivers the interrupt
handling this the radio stack and things
like that in Java and as a related but
somewhat separate topic could you write
the JVM itself in Java and so we had the
sunspot project kind of looked at all
those questions and we ended up with
with an artifact of a set of hardware
and software and sdk for prototyping
things so it was based on the Java ME
cldc api's and then we designed some
transducer ap is that are similar in
scope to the device access ap is and
this is probably one of the only some
lab / Oracle labs research projects that
was actually also / a product that you
could buy in the company store which is
very confusing to management but we work
through that so the basic thing it's an
ARM processor based on the bottom board
there that also has a built-in radio
using an 802 dot 15 dot for radio
chipset it's a little low power low low
range radio then it had a pluggable
censor board that we provided a lot of
built-in sensors and in fact one of the
lessons learned oh thank you
there we go okay I will wave you can
extend my end one of the things that we
found sort of looking back at things it
was we had so many nice slick
peripherals we put on the demo censor
board that it sometimes overshadowed the
expansion capability that we also had
with GPIO pins you arts the SPI buses
etc so here's a couple of spots this is
them in real life there but small in
that picture we had some very simple
little demos or a lot of fun to run this
is a bouncing ball demo so use the
accelerometer to you know emulates
little physics simulations bouncing ball
two of them no you probably did notice
one that's turned on that they both turn
on blue this one realized there already
is a blue one blue also to change to
green and then you can do some things
like break the ball between them to know
the balls bouncing between these and if
you had three spots use bounce between
three if you had 27 spots that have also
been between these so it's a trivia
application it's a couple with pages of
code it's very simple to write and as a
demo it's right memorizing you just with
sister staring at these things
but in some sense perhaps if we had a
ship this is this with the wires hanging
out it would have also highly the fact
that in fact have the power in front of
this is actually all the things you
don't have to be constrained by what's
built in you can actually expand things
quite a bit and so these have been sold
and news thousands of these have been
been shipped the students and developers
across the world they used in many many
different kinds of projects from
environmental monitoring in jungles or
in the Bay Area naã¯ve there was a
project by the US government to I guess
reen a chiral eyes some of the
desalinization Salt Flats that were
around the Bay Area and they were trying
to they didn't want to release all the
salt at once but they wanted to monitor
things that a lot of education projects
a lot of very interesting and sometimes
bizarre art projects and it says useful
prototyping tool both for companies for
hobbyists and within Oracle itself so
some of the things we've used it within
Oracle are to monitor environmental
conditions within data centers or power
usage within data centers and then there
was a fears back some put together this
black box project old data center and a
shipping container and we outfitted
those with sunspots so as the device as
the containers are being shipped around
the world we get tracked to see if the
drivers at use of things and was like
driving over curbs and knocking servers
all over the place so that was kind of
funny the only thing that was actually
running while the container was in
motion and contract that so oh and this
a grab bag of a little project we had
the airplane like thing is actually a
model rocket so we saw were able to
track acceleration forces of rockets in
flight all kinds of robotics things the
things with the flag is the very useful
Morse code to signal flag translator in
case you needed that you know this is
things when the managers start
programming they come up with some
really amazing things and and that's one
of the fun things where the project is
sort of what people
did with with these things or things you
would never imagine some of the things
that will be like prototypes you can
imagine someone selling and some of them
are things like that that no one would
ever make for you but it was something
that somebody wanted and they could do
for themselves quite easily another
project that which is actually ongoing
right now is an internal prototype is a
container monitoring solution which
we're actually demoing here at open
world and at the Java embedded
conference tomorrow and if you go to
those conferences you can see them in
the demo areas so I have one here you
see that's a shipping container and that
one actually has two devices sticking
out the stick out the door through the
door seal and so this is a prototype
device it has satellite radio satellite
modem gsm modem GPS environmental
sensors for conditions inside the
container and also a bunch of sensors
that together do intrusion detection and
it's built this is the nice slick one
this is the prototype one which kind of
gives you a better sense of what's going
on a processor prototype but gsm modem
and gps device and they're communicating
this one is this communicating the
serial port and that it has a digital
out pin which sends a signal to turn
this on and off and it has a digital
input pin which then verifies that it's
been turned on or off and that's
actually enough those simple signals are
enough to do very elaborate applications
and then once you have the intrusion
device is on there then you can start
because you have java code running on
the device you can start doing some
sensor fusion to eliminate false alarms
for example we have some sensors that
monitor the door before the doors open
or not when the containers aren't
shipping that the containers can flex a
bit physically imagine going over a big
pothole or something and the dorset
actually can bounce open a
but what we combine the signals from the
door intrusion with accelerometer
readings it can realize how we just hit
in one massive bump the door has been
closed again it hasn't opened up again
we're not going to bother sending data
to the sending of false alarm which can
be quite expensive or bored because
they're filtering on the device we don't
have to do sort of emergency
communication back to the backend which
can cost in the case of satellite radios
can be quite expensive okay so back to
robots we've also been able to make a
whole wheat the community has built many
many robots based on java embedded job
of small devices and API was like the
device access API so my favorite is the
little red guy the robot i got from toys
r us and put a sunspot backpack on him
and a motor controller and he drives
around with a threatening sword that's
what about the the middle robot has like
a lake to robot of some sort the top one
in white is a room boats and I Robot
they forage occasionally says they sell
that one of the vacuum cleaner robots
without the vacuum cleaner and you can
program it to drive around remote
control of the sensor and then we had a
whole whole army of tank based robots at
a Java one a few years back at a
tutorial session there was a lot of fun
servility the Gothic they went to that
tutorial got to program the robots and
they were going all over the place and
finally one of the most exciting uses we
found for java and embedded space is
actually beyond providing the the Java
VM for the FIRST Robotics Competition so
this is one of the largest high school
robotics competitions in North America
if not the world on their thousands and
thousands of teams this culminates into
a world championship with about 20,000
people or so they don't quite fill up a
football stadium but it's a pretty
impressive crowd for for bunch of geeks
and you have teams of I can't actually
prove to you whether or not that that
team itself is running job in the robot
but about a third of the teams do and
it's just an amazing amount of work that
these kids are able to
to work in about six weeks to both build
the robot and program the robot and by
the way the program is don't have a
working robot for that until about week
five and a half right so they have to
they're always getting the short end of
the stick on these things so the fact
that they're able to use their job
experience that maybe they're getting
from school for the baby the AP computer
science classes and use some of that
experience now but certainly no embedded
software experience they're able to
develop robots that sometimes have
things like traction control automatic
target aiming systems it can be quite
quite elaborate and so there's a quite a
few lessons we've learned from the
sunspot at first a Java is indeed quite
capable of working on these small but
it's spaces and ordinary Java
programmers without much experience i
use reading some data sheets and looking
at some java api s can develop some
really interesting products we give job
of control of these interfaces it opens
up buys sometimes you know the
imagination is the limit on these things
it's really kind of wide open on what
you can do another lesson we learned is
if you think back to our original
research goals about writing so many
things in java and then that maybe that
isn't exactly the best thing to do we
would not write our radio stack and ipv6
stack and admission networking routing
perhaps in java if we're going to start
again there's a c library that does that
that's fine let's call it to that so so
conclusion for the talk wait what
happened wrong way there we go so small
and by the Javas is now escaped it's
coming out of the labs and it's going to
real products and we're really excited
to see that because you think about what
job has been used for for the last what
12 years now or more it's been used for
flinging bits across a network or
flipping pixels on the screen and now
you can actually use Java code to
interact with the real world the sense
interact and make things happen and the
device access API is a fairly simple but
powerful way to to make that happen
and then with the work that we showed
here with these small embed boards it
really lets Java hit certain price
points that that's never been had been
able to hit before and unless you make
just a wide variety of things including
robots so so that's it for group for the
repair parts do you have any questions
yes yeah so the sunspot devices are
still available on the Oracle store I
think for three hundred dollars through
four hundred dollars for a package of
two and a half sunspots yes so one of
the the half sunspot is actually the
controller board and the radio ship
without any sensors and without a
battery that's typically used as a
router to connect your your desktop to
the devices yeah yes
that's going to be a challenging charger
because they typically don't have as
much ram my pleasure it is still there
and soul and now we now is a CV fulfills
a task to run java on do it 12 to 20
kilobytes of RAM and so as you know
Audrina has much less than 12 20 yellows
and the flash maybe in the future but
not now now now it's not a realistic
task and it's sort of the microprocessor
level it's in older architecture the arm
the arm cortex chips are coming along
pretty well yes do questions when I
count on that so is the arm
microcontroller about the smalls that
you play mgs4 it or is there any other
controllers they're cheaper in small
okay remember a safe harbor statement we
don't promise anything in the future
okay but if we were I yeah I it wouldn't
it's not not targeted specifically an
arm but they a lot of the on products do
happen to be in what we see is a sweet
spot um also when I i'm working with c
or assembler on a microcontroller it's
relatively easy for me to calculate the
kind of response time i'm going to get
with an interrupt is it hard to
calculate what your response is going to
be
the job when you're handling meter up
some pins yeah part by the way you feel
free to talk about interrupts eventually
we don't know we don't provide any
support for interrupts Java levels you
know but during summer specific but but
while we approach in Java I want a
particular hardware for example on say
in by the board we have to work with
some internal process them and this
level we can use some native debuggers
debuggers for example provided by our
maza tools to to calculate the response
or something like this but it the device
access it guys well has api's that are
things like wait for wait for pin 7 ago
hi or refer to go go or whatever now
there's most likely gonna be some inner
processing happening under the hood
between there and like you say the
characterizing that latency is going to
be difficult so there could be things
that are there are time critical that
Jack see should still be pushed into
either into native code provided by the
platform or by yourself so just remember
Java is not a real time application
system that it's very difficult to still
alive honest unpredictable time some
political support it always has some
latency and so on so forth so and it
turns out for robots lynci hasn't been
an issue so even for the job of the
first robotics think we're using an
interpreted only vm with straight
forward GC nothing nothing fancy and it
and it's been working fine you can't get
in trouble if you allocate not wisely
but use a little caution it's okay now
has anybody here help their own projects
have done and java the embedded space
yes right okay oh no no okay yes yes so
did you want to do anything you'd like
to talk about it or share
I do Peppa with some robotics and
hardware control systems are like that
and so I've used java on arm go to Korea
it wasn't using you guys didn't support
arm it was another company in chem
presenting of the company ok I had a
software company about a decade back in
the home automation sector p.m. for
running the home automation side from
our was great was nice to hear that you
guys might be support yeah it's going to
be someone you printed it was about six
years ago so this was a jumpin spam it's
a process over there java printable
image in here the super bot with a
display ir sensor
Oh
it's a single-threaded believe it your
questions in front of just your lien
feel a little bit and would use the
serum protocol even coming from sensor
range been dependent on how many sensors
they had how much time it will take for
the you can come around okay but have
you said on the hard way it's pretty
fast you barely notice that VI side when
you sometimes doing a communication they
Jim if it goes so there's notes to play
away image the same so there's no
support for interrupt handle that well
there's the week for wait for police
work soon as an example for example I if
you want to not not interrupt but we
operate in least pneus some using listas
para Deacon so for example if you I want
to get notifications and the gpo GPIO
pin his change is really from 0 to 1 you
can subscribe great especially sundays
subscribe it and on a java it will it
will look like you get your some some
your function of the Disney Scott when
an event occurs but under the level and
internet if layer we process the space
Pacific interrupt and then construct and
even then send it on the Java layer so
this way so any other questions yes wait
asthmatics for this robot the tractor
robot no al available lift if you are a
way about microcontroller and Betty it's
available you can visit an embed dot o
RG and purchase it but the robot is only
our research internal product and not
not yet occurred at work in this moment
that's the a good example that I have ok
if there's nothing else we will wrap up
work in the beer bust up here just
answer questions until they kick us out</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>