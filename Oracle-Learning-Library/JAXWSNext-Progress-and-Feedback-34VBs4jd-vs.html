<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JAX-WS.Next: Progress and Feedback | Coder Coacher - Coaching Coders</title><meta content="JAX-WS.Next: Progress and Feedback - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JAX-WS.Next: Progress and Feedback</b></h2><h5 class="post__date">2013-02-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/34VBs4jd-vs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so thanks everybody for coming welcome
probably will be further welcome of my
name is Martin garage I'm a software
engineering manager responsible for
project Metro which includes Jack's be
and checks WS technologies and together
with nice chain with the technical lead
for web services we are both from Oracle
actually so in this talk is you kind of
expect this going to talk about what the
plans or thinking is
with respect to a jax-ws dot next I mean
jax-ws review of the jax-ws
specification so before we go any
further with that I again mentioned this
most famous slide from Jove an oracle
openworld we talk of any dates or any
future plans they cannot be incorporated
into any contract and so please don't
believe us that much this can be changed
anytime so the formality is behind us so
we divided the areas we wanted to talk
about into 22 items most likely so one
is kind of little bigger features which
we want to add to the jax-ws
specification and the other area is the
small details which are kind of but on
the other hand small details but very
important to make sure that whatever it
develop is a portable application so
we're so these are areas where jax-ws
either didn't specify anything or was a
great area to
we're things wearing weren't too much
clearer so going first through the
features the most common one in at least
that what we see on a metro forum or
jax-ws forum that's being validation how
many we mentioned it here even though it
more or less belongs two jugs be but
let's first just get us on the same page
for what being validation is so it's
basically implemented as implementation
of GSR 309 I mean this is a spec which
defines the bean validation and it
allows you to specify a set of
constraints on your objects either
through specifying or either through
through using the constraints which are
already present in the bean validation
specification or under such as those
things you see on this on the slide the
size for example or you can define your
own constraints such as I don't know a
phone number or something else some ID
for your database and stuff like that
ok
so
let me switch to my next slide so yeah
so this is like two ways so when you are
writing your Java classes and it has for
example they had not now annotation you
are able to on you should be able to get
this preserved in the schema and thus in
the in the whistle so in this case it
should be in a label equals false the
default is Anila book true and also the
other way around there are several
particles in the in the schema or
constraint which can be preserved
through the during the schema
compilation in your code such as you see
there when you want to specify multi
occurrence of some elements then this
can be represented by the size
annotations so that's the idea does the
main idea behind little bean validation
and it's supporting chucks be in charge
address
naturally cut out of it hard to hear
yeah so I mean this just adds another
set of constraints right now juggs v
doesn't handle for example the even even
if you do the schema validation Chuck's
be what's a display so jugs be right now
doesn't preserve the things in the code
so you have to do those schema
validation but that's not necessarily
what you want and it's not necessarily
you don't see the constraints in your
code so you don't know that this is kind
of what is expected in in your code I
mean what what is kind of expected from
this item so that's where this kind of
helps so you see it in the Java code
what the constraints in the schema are
and of course if you do the skin
validation that's it's like the
full-fledged
and you can correctly do anything more
than that
right so yeah so that's a good question
but I don't want to get like into
answering this because this is like
topic for more or less like discussion
and open item is this is not something
that's already in the spec and these are
just things that we want to discuss and
bring it bring into into this bag what
the actual result of the discussion will
be either so that's something I'd like
to leave open in this case that's why
I'm not getting into big details on this
human I know I pluggable I'll get little
bits into that but yeah i'll mention it
went when we get to some kind of plug
ability later okay so going further from
the bean validation be nomination turn
out to be really famous one so one
there's couple of RM there's a couple of
w star technologies that made it to the
jax-ws spec so like addressing or m tone
and there is a we think there's a place
for some additional technologies
technologies to get in there
specifically one which we would like to
mention is real other messaging so let's
say for example you would be able to
specify these quality of service
attributes on your web service through
let's say through the annotations at
most loans exactly once at least ones
which are kind of mutually exclusive so
that's kind of added that would be an
addition to the jugs a dual spec adding
the additional additional constraint or
additional quality of service which RM
provides the in order let's kind of
requires a little bit more thinking and
may require a little bit more support of
the programming model so that you are
able to work with the session that is
required in this case on the arm side so
the other the other technology or
basically when we think so it's usually
goes down
to Security Social Security is one of
the most important areas for so i would
say these days and that's the reason why
we think that it belongs to check w
specification and to make sure that you
are able to to implement a portable
secure web services so as you probably
are constantly aware the secure comm
security configuration is kind of huge
usually it goes down to like big policy
files so you cannot expect or I think we
cannot expect that there will be a
simple security annotation which would
just make things work just like that so
the other day would most like most
likely be or direct reference to some
kind of policy some kind of policy
expressions and definition of the of the
security for the jax-ws web services and
that goes down a little bit to
connecting the jax-ws specification is
also adding another WS stars packages
which is a policy the other potential
way I mean how to solve security in the
web service space or something that
we've been thinking about is the JSA 196
pluggable way however if we want to add
additional so this is little bit a
little bit issues if we would like to
add additional programming models to
jax-ws then Jessa 196 does not expect
that or it's not built to support that
such as the async support it's not not
prepared for this case so the additional
additional thing which we are thinking
about it's a jigsaw we actually I mean
we started think when it was planned for
JDK 8 but now it's moved to jdk 9 so
there's little more time for this so
there are several aspects to look into
this and the first one is currently the
service loading mechanism for four in
class loading mechanism in jax-ws does
not count with jigsaw and volure t so
that's one thing that needs to be
improved or something specified and so
this affect the way the
factories are all leads and the way the
providers the runtime is being looked up
and so the most likely solution for this
is to use the JDK default service loader
and keep the current implementation for
records compatibility because the JDK
service loader is going to be big so
friendly so that should basically
working both non-modular and modular JD
case but of course jigsaw specification
is still not done yet so things might
may change this in this area as well so
the other aspect to look into this is
too and we already started to sink my
 into latest modularized jax-ws and
rugby itself so the expectation or the
current plan is tube in the JDK to
modularize the things that go into JDK
through jax-ws by the finishing by
specification so jax-ws jugs be sage and
let me use one more will get their own
modules and with potential to be sort of
the take our pluggable in a better way
so that there's a possibility to replace
the module implementation underneath so
that goes a little bit too
question that has been asked before so
this open jigsaw will finally come in
the JDK 9 and it will end the endorsed
mice which mostly jugs being charged up
do this losers are living through so
yeah it was mostly the server side or in
general features going through the
client client side so there are several
use cases which would need some help
from the spike first one is the provider
selector feature where on the client
side you need to have a much more exact
way how to specify which which provider
is going to be used on client side sorry
provide also the run time let's say you
have a multiple multiple run times on
the on the client side so you should be
able to make sure that you pick up the
right right implementations on the
client side as well so let's kind of
small thing and so the additional thing
is with the connection conflict which is
missing on the on the client side sorry
this is especially useful when the waste
law is hidden behind like what they
secured by password or so also that you
are able to specify this connection
config in a portable portable way of
course we're talking about Judge Douglas
spec and be able to retrieve the retreat
the whistle lines required currently
this is like solvable so there's a
workaround that you basically download
with low and use it through the catalog
file and
these pieces bit by to specified of the
coin so the other issue which goes down
to the let's say the web service ref for
example annotation is the thread thread
safety safety and injection so in lets
you have a servlet and you specify the
web service right validation and that
way you are injecting injecting pop port
instance which is kind of unspecified in
jugs WS whether it's tries to achieve or
not so it's not thread-safe and you need
to basically use the synchronization to
to make sure that your code runs
properly so this is kind of thing that
needs to be clarified and specification
and potentially improved and the last
thing from the client side is the
binding curve provide it's the close of
all wear for multiple technologies or I
mean just for projects address by itself
it's useful to
make sure the planning provider
implements possible so that you are able
to free the resources this is useful for
especially when the ws some some of the
w star technologies are used underneath
like the reliable messaging or item some
some ups and other stuff which use more
resources in the regular jax-ws web
service so there are two ways how to
potentially okay
Oh
I mean yeah so that the documentation to
the web service ref annotation use the
well known for I don't have the exact
words but they're well-known
synchronization techniques to solve this
very thing that it's not fine it should
be handled in a more simple way Chuck's
w is part of the Java EE specification
and that expects that the coding should
be simpler and easier and learning curve
and everything should be not that status
as usual so this is kind of the end for
this I think yes the the implementation
I mean like a different container
implementation is allowed to use this
radical to solve this problem but the
issue we want to emphasize is that when
you are using the injection on the spec
level it doesn't guarantee the proxy you
inject is straight safe so very often
you will use such a injection for
example our service service is supposed
to be reset that you can have multiple
concurrent SS but the Pope proxy self is
not
so yeah that brings us to the what's a
couple of times already discussed topic
server-side us a saying in the jax-ws
and there are several ways i have to log
into this so one could say that it's
basically it's there it's there through
a non an animal addressing where
basically the container is expected to
send a response right away and then
serve the response to the addressed
addressed endpoint but so this is not
the full full icing that would solve the
problem of long-running async operations
so the other solution to this is to
provide some kind of response dispatch
interface which is then able to be used
for sending the response and I think
this was maybe even know like a
presented above time so why not by going
to deep dive into this one the other the
other potential way to solve it is to
use something that you see in the top
nut which is a x direction Saracen point
interface or
and by direction SEI with callback
interface and so this let me just keep
to the other slide this is more or less
how it looks like so these are basically
one way operations and the sei
implements one side and specifies the
callback interface for the other side
and then this is used for getting
getting be
there I sink while you back the trouble
little with this approach is that you
need to somehow maintain maintain the
state in some cases here and that brings
us to other the other topics which chan
is going to continue on such a stateful
state for web services
so I will continue to talk about some
new feature and also some aspect fixed
we want to do so the first thing staple
conversation are I think is that it has
been deferred to pay that the web
service should be stainless or staple
but regardless of this debate if we are
to make website is stable what kind of
API we can introduce currently they are
to come to similar API already in depth
in Java EE that we can look at to learn
something from their experience and the
first one you like a stable or second
beam and the second is the servlet
activity section the difference between
these two model is that stable is a B
itself is a if we present the kind
states that are the ECB itself is a life
cycle of the conversation the survey is
a little bit different a service it has
a session back that allow you to store
state in that session back so the
serving instance yourself doesn't leave
is there any Christ xev state so these
are kind of truth to the venting we can
borrow from previous experience and then
we can use that those two to produce
some something similar in investments
but for the HDD section actually in
destry's is already supported but that
you can use the web service context
injection and from the web service
content injection you get the message
contents and then you get the HD because
the founder you get the HD TV section it
looked like a long and dob hockey and
that is the first problem of this
working model the second is that because
it is a HTTP section if you understand
how the container work a little bit you
know this is going to be implemented by
using STD protocol means that for each
conversation or thats a session he
usually has identifier to identify this
section and HTTP implement the session
identifier for example and cookie which
is the HTTP protocol
and the reason you want to use web
services that you probably want to have
the session item that identifier to be
carryin on the sub header and but this
is not this is HTTP so we are thinking
about the last one is that instead of
using that long get get get to get the
HDD section we directly support a
session back directly from the Webster's
contest and also it's in we also
implemented it by using for example web
service protocol like wsl stressing so
we were using the debris is addressing
to carry the session identifier so this
is one of the choices we currently have
to support stable composition and the
other choice we have that is already
implemented in our is the supportive
model so this program model is a little
bit complicated in that not only define
your original service that to be stable
but you also need to define a kind of
dagger our instance manager to provide
the session identifier to provide the
instance identifier of that object so
for this case the book itself is the sta
sta first object that it has some state
you want to maintain across different
multiple requests that is the reveal
wonder and review a review and then you
get a list of you and thus the book puts
toe on the right hand side is that is
that instance manager I was talking
about the purpose of it is to so that
you can start this conversation and then
it provide identical identifier for that
space city stay stay object so the cold
look a little bit complicated but the
reason is that the putting of this over
the previous one is this program model
allow you to express reliefs start a
conversation and end a conversation if
you ever use the edge research you know
on the client side it doesn't kind of
pepper it's pretty way that I want to
start and I want to end it usually is
ended by sitting high up so this allows
you to more explicitly started and ended
because you it has a manager of that
John
Ernest that
the input
I guess I think that would be a good at
least on this example call one thing I
think we can remove is the last nine
aesthetic our staple web service manager
that like Hobbit can be removed but as I
say the purpose of this problem model
actually is to have to web service what
as a manager one other instance so if we
remove it is kind of going against of
purpose this guy like the in the eighth
ejb area we have that they all we need
is a be home or not is kind of similar
we wonder is pretty management on the
state and the next feature I want to
talk about it is done using raw XML in
your service M sub R is my
implementation it's kind of because web
service support afternoon so it's quite
common you want to use are directly use
that for example thumb element or stages
of element in your web service
implementation and the purpose is that
this object allow you to do some SML
century operation like s past or SLT to
read the inflammation from within the
XML and we already have these these
features since test our PC and incest
with we have the provider our interface
that you can implement so that you can
have the request and response in law xml
but they are to issue of the provider
first when you use provider is all xml
what i mean is that hot if I want the
request to be xml but the response i
want to control it using the test the
object this is actually very reasonable
because says ESP object is much easier
to construct then using the thumb and
packing wonders if I mean and but under
request I you want to use for example
access pass to read the XML involved
impulsive and eyes the first issue so
and the second issue is that provider
only have one method to implement this
call involved but it's very common your
web service will have multiple operation
for example you want a user and remove
user is to operation but provided only
have one method is called invoked and
when the soap request go into your
provider and you want to do the
operation dispatch the logic of
operation disparity is actually not that
straightforward you need to consider
several thing like waz tracing header
and HTTP soft action header and also the
payload signature is actually I rather
they lead to the to the test with
runtime from that and that's why we come
up with another idea of that you
implement the web service as you did
before like the sei style but it allows
you to use some element and sage element
and also other potential xml type in
your SEI so that it can be kind of you
can do both you can have the wrong type
parameter return type and also external
perimeter in return type and as I'm
going to talk about some public park fix
an ocular quotation of the current spent
a large amount of our existing issue we
have our data binding and I think that
is also because our current back cover
they are a lot of the content on
dividing and the most typical ones are
around the array and collection and the
correction here I'm actually
unexpectedly talking about Java that you
tilt at least you know if you want to
use other our collection type on web
services is actually not so supported so
that take this example that you kind of
a echo array most important thing to
know is that this is only the project of
visually supporting i would say in in
the format of tact literal read if you
want to use a pc literal or also call
our tactic there you're going to go into
some problem because from the specs are
they are they are a lot of easy to
support that and the second besides that
you besides the parklet left the other
issue is that the second i tender 483 if
you want to use now that because a
collection reference or a reference you
can assign it now or empty our
correctional in the array or a rate
containing only one night lights now
it's difficult to express these three
differences in when it is your eyes open
your eyes to xml that is why we want to
mention this if the null value or the MP
value is very important in your
application logic you have to be aware
this this has been an issue and the
other similar type that have similar
issue that you have to use in that
little Reb is java.util.map and as i
already mentioned you if you want to use
those type you better use that regret
but we already try to implement others
including other included support for
other croatian type in the our i asked
I'd experiment experimental feature but
is only supported when you are using the
are coupling test the implementation or
xvs be implementation so Cullen I allow
you to choose a DSS three actually it's
already three different data binding one
is the default neither the SBI second is
extreme art SP sir is the SEO and I
think one of you mentioned thing like
the castro in the xml being those
potentially could be implemented by the
by using different parking
and they are other more ordered by you
but they are all around using different
type on active life and the most most
important thing is that those type can
only be used inductive read
a journal issue we encounter is that are
we heard the requesting that one to
generate xml document oh and under we
stole and scheme out from javadoc the
issue for this feature is dead shebada
it only preserved in salt in the source
it doesn't filter in the bike oh but
most most of time to java to bestow the
whistle and spinach already from michael
and that's how people this is our to
implement and the second thing are we
already discussed a lot GOP in the beam
validation that you to support schema
validation and when we to support a pimp
attention is that intended to replace
the schema validation for i mean is that
if we want to introduce the schema
validation it should be covered most
validation the steamer constraint
feature other than being because there
could be some schema constraint that
cannot be translated to our baby
constraint and but an important issue
and schema validation to notice that
schema validation is a very expensive
operation because you need to load the
whole schema and also we also need to
know the whole xml in a memory in order
to the process so that is the most
important our issue i will say but i
know some of the security things require
our schema validation that is why i
think the schema validation property is
already implemented in most of the
proprietary implementation and the last
issue is the support passo fundo so
cuando is already a visually supported
in test with but important issue we have
encounter is that because then we have
someone and someone to what if I I want
to have both supply one and so banking
on the same with thought you already
from the same implementation
unfortunately currently current our test
which doesnt terrify and I don't think
you had
in any of the java implementation but he
already exists internet so you can say
this is something that angeles i believe
hobbiton ketchup and cry cry sighs ray
save I think we already discussed that
our previously and the most important
thing is that kind of is under
performance wise is very expensive to
create and the reason is expensive to
create is that you need to read a wizard
and that is something as a programmer
you probably need to be a wealth so to
walk around you we already suggests that
you can use the local file and use XML
hero redirect to the local file
and hopefully this is the best that's
what are the holders holders the problem
the holder is not only cosmetic we was
just not to use holder from Java to
whistle but when you are coding your web
service from Java crystal you should try
to avoid holder and the problem is not
only cosmetic but also functional
because holder assume passed by
reference when the test with wrong time
call your employ implementation but if
you're employing implementation for
example is deployed as an ejb it could
be kind of remote to the des amis wrong
time and the holder is not going to work
so but this is kind of HK is that not so
many people in country but I suspect
problem that we should not suggest using
border and the handle the enhancement
around handle we have been thinking
about you that currently handle or
handle change is attached to an end
point but I mean the employer handle
changes 121 prefer if I want to have a
global handle chain or application able
hand Roger and data activity for all the
web service within its application and
the other feature we have been thinking
about is the like for example operation
there behind origin because that can be
used to process some explicit sub-header
and for the global and application level
handle yet it can be walking around by
you by sure the handle configuration
that should be all we want to pop I lon
really press because they are clear are
too much so yep
please
that
okay our test is on the spec level
intezaar say something about pluggable
is I will say it tightly coupled with
the SB expect in a spec level but in the
implementation level chance please we
already provide spi that you can
implement but implement is VI is very
committed so I will suggest another way
another way is test we actually allow
you to do some some sort of like a
customs you're either or this riser that
probably something you can look at is
called XML adapter but if they actually
not adapting XML to a Java object that
you are looking for buddy a depth of
thing to a Java object you're looking
for so that may cover some of the use
case but if we stop then you probably
want to look at the SPI indentation by
is very complicated but besides the
specter of the chocks a blazar i already
provides the functionality to replace
jugs b RI with moxie yep
I know
Oh
possible
route
so you're talking about the clients all
right nice i proxy right yeah as I i
think i already mentioned in the slide
that the major issue is when you create
in the price tag proxy you need to read
the wisdom and very likely you can look
at you already talked to see if the
restore is remote remote means that we
saw is in the intention i if the
notation say that we sold occasion HTV
something that mean is remote so a
workaround for this is that you keep you
try to eat a user browser to install
that we store it as a local file and
then use SML parallel to delete the
director reading to local file however
that still means you need to read a file
it doesn't really solve all the problem
that's the first issue the second issue
in addition to reading of wisdom is that
crime epoxy usually need to create
something like a tasty contest and
recipe contest creation is expensive we
have been think we have been looking in
the first issue by not to read the
wisdom but there are a lot of debates on
that because some people think with our
web service always need to read a wisdom
because they have some fancy thing
policy that could be dynamically change
and wisdom they don't those those guy
doesn't allow us doesn't agree with us
that all the information we can please
up those meta data on the proxy
generating code if we can do that we can
remove the first item but the second
item is that creating the JSP contest
that is nice the non issue but if we can
have all these three removed or improved
at the startup time will be faster
however i would suggest you that you
have the you to catch the service object
and yes it's difficult to to improve the
performance but for the full of proxy
generative fun you should be fast yes
you can catch the party as well but
remember that the proxy is dismissive so
you probably want to put the posse
instance in a example out of the pool
for that
yes
um so maybe before we close it just in
if you have any strong opinions on any
of things we just shown or if you have
any other ideas and something comes to
your mind and the Metro the java.net
either violin issue or sent to the user
forum and we will try to get that into
consideration thank you very much for
entertaining</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>