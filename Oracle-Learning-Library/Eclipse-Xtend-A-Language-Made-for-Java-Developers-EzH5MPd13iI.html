<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Eclipse Xtend: A Language Made for Java Developers | Coder Coacher - Coaching Coders</title><meta content="Eclipse Xtend: A Language Made for Java Developers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Eclipse Xtend: A Language Made for Java Developers</b></h2><h5 class="post__date">2013-01-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/EzH5MPd13iI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">and want to welcome you to the session
about eclipse extent extend is a
programming language that is well made
for Java developers so it aims at making
our life as Java developers a pleasure
my name is Sebastian I'm from Germany
I'm a passionate software developer
working for item s item is a small world
medium sized consultancy company
specialized in the automotive market and
are in model driven software development
and I am mrs. a believer in open source
thus we a strategic member at the
Eclipse Foundation delegating a couple
of full-time commuters s well open
source software developers so the idea
is to will provide added value on top of
high quality open-source libraries one
of these commuters arm well it's me I'm
one of the co architects of the extend
programming language and yeah let's see
what what extent is and by the way if
there are any questions any time please
don't hesitate to us and we have a
couple of times and I'm more than happy
to to answer a question so sort of an
interactive session would be cool so
extend is a programming language that
runs on the JVM
in contrast to other languages it
compiles to JavaScript code so
everything is plain obvious to you as an
extend user can right see what the
compiler does and well you should ask
yourself at this point in time basically
every time when someone tells you that I
developed a new programming language why
the heck did they do that and that's a
good question and to answer that I want
to make a step back
well not literally but and take a look
at the Java programming language I have
to confess that I like the Java platform
as well as the language so I'm probably
one of the few guys here that develop
new languages that still like the Java
language why do I do that first and
foremost because while it's a
well-designed language powerful quite
readable things like that so don't get
confused by Java there are no surprises
basically there are top-notch IDs out
there so I claim the top three IDs in
the world first off the developments are
well targeting the Java language so
being at eclipse netbeans or JetBrains
IntelliJ IDEA or all these are really
powerful tools that simplify our daily
work there are others as well other
tools and other IDs being at profilers
back in time debuggers things like that
all this is available for Java which is
pretty awesome there's a humongous
amount of open-source libraries out
there which are quite high quality
libraries that basically solve any
imaginable technical problem that you
could encounter in a project so well you
could focus on the business things or
put it the other end you have to focus
on the business things because all the
other issues are already solved being it
mapping to databases or configuring were
dependency injection things like that
the community around Java is astonishing
so I used to say there's 10 million
developers out there now I learned there
are 9 million developers out there that
use Java so it's probably not a trend
but all these guys are quite familiar
with with the java language with with
its keywords its process cons and
whenever you encounter a situation where
you are surprised or is you see a stack
trace that you cannot figure out what it
actually well it was caused by you can
paste that thing into platforms like
stead o Stack Overflow comm and you will
get an answer so the community around
Java is really vibrant and
that is quite important and when you
think about using a programming language
so instead of using some esoteric
language in order to solve a particular
problem you should really consider well
can I staff my project with a enough SQL
developers if I want to solve something
or should I probably go with Java even
though that may not be technically the
ideal choice and last but not least are
not lip people claim that is it is not
well the most well-designed piece of
software in the world so there are
things like Java you to date often
quoted example or the collection lips
which are mutable per se and people find
immutable collections very important but
on the other hand all these nine million
people that are Java developers know how
to use this tunnel live and this is this
is a value that one should not throw
away so coming back to the question why
did they develop a new language why do
they want to well supersede Java or
replace Java and the answer as well
probably we don't want to do that we
just want to fix some issues that we
have in our daily work with Java and
those are mainly well rather obvious
things like string concatenation is a
pain in the ass with Java so there are
plenty of template languages out there
that address this issue so there that is
rather obvious this ceremonial syntax
that we have is Java so talking to the
compiler that you know well this is a
list of strings and create a new list
well it should be a list of strings and
then you loop over that and the loop
variable is of type a no surprise here
it's a of type string things like that
so the leg of type inference for example
is something that we want it to address
so what is extend in a nutshell it's a
statically typed language that uses a
powerful type inference mechanism that
is most importantly this is
crucial to to our strategy or to the
idea behind in segments or extent it's
hundred-percent compatible to the java
language so there's basically no not a
single gap no tricks no magic involved
everything translates to Java source
code so well obviously there cannot be
any magic involved so we use Javas type
system with all its dirty corners like
generics and things or they may not be
optimal but again nine million
developers out there have at least a
rather vague idea how that works and
well if it doesn't work as expected they
can well again go to things like stake
overflow or put a question mark extend
somewhere and incorporate other no
longer complain so extend uses Java
stipe system in order to be familiar and
therefore we can leverage all these
libraries out there directly without any
gaps or adaptor things another important
aspect of a language is the IDE support
and thinking about Java well I already
mentioned the top-notch ideas that exist
out there and what we wanted to allow is
implementing an IDE that can potentially
achieve the same quality standards as we
know from Java at ease so the syntax
should allow to to create powerful ideas
at all so they're putting things in the
other way around can sometimes be quite
hard for any developers so just simple
examples here if you declare a local
variable and you want to suggest a
variable name it's quite useful to know
the type in advance otherwise you cannot
suggest that the variable name may be a
list of string because it's not known at
that point and I have to say we are
pretty close to what we wanted to
achieve so the extent idea is already
very powerful you will see that by the
way there will be a lot of demo after
the
first a couple slides here but we wanted
to encourage as a functional programming
style so extent is not a functional
following language it's object-oriented
but we don't have a concept like a
statement so everything is an expression
everything can be put into expression
context like using an if or a switch
where otherwise only a method call would
be allowed in Java and from the
syntactic point we wanted to encourage
the the function of homing style as well
and how could we achieve net that is the
concept of extension methods if you has
an idea what extension methods are okay
well the name of language comes from
that our concept and extension methods
are means to extent the API of otherwise
closed classes so taking Java util
collections for example they have a very
well defined API and in Java eight they
do things like default methods in order
to extend that but there's often
functionality that is only relevant in a
certain context in a certain layer of
your application or for a certain client
of a class and in that context you can
extend the API as well by means of
extension methods you will see in the
demo how that looks like and practice
and our last but not least something
well we come from the language designers
we come from the domain-specific
language world and extension allowed to
interact with domain-specific languages
seamlessly as well in a similar way as
it allows to interact with Java and
these syntax should be flexible enough
to to create api's that allow two well
look like internal domain-specific
languages so to put it in a few words
what we achieved is something like a
clean fast and statically typed GUI
something that is not as scary as the
Scala type system and on the other hand
100% compatible with Java in both
directions and if you know CoffeeScript
it's for JavaScript what extent is for
Java so basically a nice syntactic way
to write Java classes since well we
compile to JavaScript
well I hope that this is big enough for
you guys in the back so this is an
eclipse 3.8 as it was released in
September so sweet all 8.1 or something
and who feels familiar with eclipse ok
so no more talk about perspective and
workspaces so it's a manila extend SDK
is installed here and what I want to do
now is well create a hello world program
no surprise so I create a new Java
project called it sample and in that
project I want to create a new extent
class package greeting class name
greeter and that should for us Java
developers look familiar
besides this arrow maka here tells me
that there's a library missing in this
project configuration so I have to put
the extend standard lip on the class
pass which is just a small set of Java
archives first and foremost we are we
used Google guavas utilities so did not
reinvent the wheel everywhere and then
there is this small library here with a
couple of classes I would say 25 that
contain these extension methods that you
will see later on so things that are
noteworthy is something that is not
there which is the visibility modifier
for classes who if you're created
recently a class on the top level that
was not public yeah I imagined that so
no hands go up we decided to use better
defaults than Java did classes are
public by default methods are public by
default
are private by default which will
reduces the amount of codes that you
have to write and/or it's not talking to
the compiler but having a readable means
of of source code here so let's add a
main method it looks familiar too to
Java as well and then we print alone
the famous HelloWorld now I can execute
this guy and no surprise there prints
will go to the console
how does it work under the hood I
already mentioned we compile to
JavaScript and this project and I will
show you where created a filter here to
not display the extension folder which
pretty much mirrors packets package
structure of the common source folder
and there is this class greeter here
that was compiled by the extend compiler
so pretty much but what wouldn't so
pretty much what you would expect we use
a utility function here this is from the
library that we just put on the class
pass and delegates to system.out.print
line so I can just use that in a context
where an expression is expected since
this version of print alone returns the
argument itself so that is the idea here
usually you would not need to have a
look at the source code but if you do it
may be cumbersome to navigate in the
project Explorer so this is generated
code for you you can always get an idea
what the compiler does and take a look
on
I hope this that is visible from the
back you can just select a piece of code
and it will highlight the region in the
generated code that must derive from
from the snippet here so that is the
basic idea behind having
a language that compiles to JavaScript
always being transparent no magic no
bytecode hazards and leveraging all the
compiler checks that the Java compiler
does for us which are quite powerful
what else
well this Eclipse workspace was not
entirely empty this in example project
material last year which could have been
created by means of new example extend
examples but I choose this version here
since there's something else in there
which is the second HelloWorld program
and this one will be the last sell
abroad for this demo VM
this time it's working in Java of X so I
can just show you what it does
creates even though with the button and
if I click the button it changed its
label but what is important about this
demo here is that we have an existing
Java library or framework like Java FX
and can directly work with this code so
we extend the Java FX application class
we use the idiomatic code and the main
method which is even documented
somewhere here I don't know I think in
the launch config there you see how
you'd have to write this code ok we did
that and we overrode a method called
start that takes a stage and so
configure that first and foremost we
allow to use the property notation in
order to invoke set methods like set
width and set height on order to invoke
get methods so as soon as your class as
follows the Java beans Convention which
most classes do surprisingly in the
world you can use the more readable
notation instead of explicit set and get
invocations mukade it create a new
border pain is a variable type and its
inferred from the right-hand side we
create a new button and last but not
least we invoke set on action and pass a
lambda expression to this method so even
though Landers may OQ and Java 8 they
are already available in extent and the
corresponding Java code is down here so
basically what this guy will be compiled
to is set on action with a new anonymous
class arm called well as its enormous it
has no name a new event handler which
happens to be an interface was exactly a
single abstract method is so called Sam
type and as soon as you have a same type
extent will automatically and for what
your lambda expression should look like
or what the type of the lambda
expression should be so in in our case
here we write a lambda expression that
will automatically be compiled to an
event handler with a method handle that
takes an action event I could make this
more explicit by means of selecting the
right action event and giving the
parameter a name so we could use that
your like event type but we don't need
to
it turns again out that many of these
methods in so called Sam types
take only a single argument and as soon
as we only take a single argument we can
do some arm I like the term syntactic
sugar who if you attended the cotton
talk um in the previous session nobody
okay I like the term syntactic sugar
because this is essentially syntactic
sugar what we do with lambda expressions
that take a single argument first of all
I could leave the type out so it will
figure out that event is of type action
event
okay that's convenient and I could
use another variable name which is it
did look like sham okay and it is
already colored in this purplish Eclipse
search keyword color actually it has a
special meaning and extend as soon as
you call a variable it you may leave the
receiver of a method invocation out so
it works similar to this instead of this
dot do stuff I can always wait do stuff
and instead of it dot do stuff I can
always write to stuff in extent and last
but not least it's a lot of pointless to
specify that the implicit name should
always be it we can do that for you so
we leave that out so this guy here is
calling it dot get event type as you can
see it on here so that so far about
lambdas are there any questions about
that
not yet okay so let's execute this again
this time in the debug mode yes I want
to say oh that is cool
let me just find some estate here so
what do we see we see the Eclipse Java
debugger which happens to stop in our
extant files and we can now step into
the corresponding Java code that we
invoke from extent inspect all the
settings here step out again we could
simply step over the extent methods and
if I'm in doubt what actually happens
under the hood I can even do something
like show me the Java source instead and
it will do so that is quite seamless
debugging experience between Java and
extent
sit play and finally stop again in in
the body of the lambda expression and
here we can even inspect while the to
give arguments so the action event has a
name it and the event type is action or
cool and I see that on the label so that
was debugging and sort of excursion
about lambda expressions and if you
happen to read my blog post by accident
about this session I promise to not sing
I will hold that promise but to do
something with beer and there's a
website called 99 bottles of beer or net
and they can find one thousand four
hundred and something implementations of
the very same program which prints the
lyrics of a song called 99 bottles of
beer and all these 1000 implementations
basically in different languages which
is quite interesting and one of these
implementations is this example here
this time I annotated a method with the
java rock j unit for a test annotation
so I can run this as a unit test and it
trends to the console the lyrics of the
song which goes like well 99 bottles of
beer on the wall and then there are and
sorry about that it's so tempting then
there are two special cases if only one
bottle is left we use on the world the
world one instead of seeing a little and
if no more bottles of PR are there's and
we will want to buy a new beer so that's
the implementation of like
I hope you won't get seasick from all
this perspective switches I happen to
become that from time to time let's walk
through the code I may not leave this
microphone here so I'll stick behind
well this program is implemented by
means of extends template expression so
love you has ever used a template
language in order to produce some output
like HTML source code or something quite
a few so you may have experienced that
templates are quite difficult to get
right from its perspective how do you
lay out the template in order to well
have a maintainable template expression
or template file and a nicely formatted
output so basically the question is
where do I put my whitespace in order to
get both right and when we try to answer
the to find an answer to the whitespace
question we came to the conclusion that
whitespace is not enough we need gray
space so we implemented something
similar to pythons indentation handling
in order to identify how to layout a
template and what the developer of the
template will meant when it when he did
so or C so what happens here is that let
me go back to the console that
everything started right at the left so
there's no indentation in the output
which is pretty much what I wanted to
achieve and the lyrics happen to require
a loop a for loop so we embedded a for
loop in this template and for loops are
traditionally indented in source code in
order to make the body or easier to to
find and things so readability
maintainability and this white space
here it's something that is only there
because we wanted the tongue
to become more readable thus it is not
appearing in the output but if I intend
this string here let's say by two spaces
it may be visible that the first two
characters have a gray background so
this is gray space and gray space is
relevant for the output today let's
execute this again and you see that the
second line is always indented by two
spaces and there's a rather smart
processing behind it which works quite
intuitive in practice so that is how
template expressions address the
whitespace problem by distinguishing
indentation relative to control
structures from all other indentation
questions about this template expression
there should be there's always a
question about template expressions
please yeah that is not the question
that I would expect it about but yes it
looks like the older expand language
there was a and the Orbis is and they
stood a problem in language called
expand which happens to use a very
similar notation in order to do
templates or actually that's a
predecessor off of extend and expand
used and we use as well these french
quotes here in order to embed
expressions into the template so there's
this French quote here and here we
invoke I minus 1 dot battles and the
coming question is how do I type these
guys and you could copy and paste them
but not that's not the answer or on the
Mac keyboard they are natively available
and it's not the answer either there's a
tool support for that I can use content
assist and it will invert the emaze for
me
and it is quite useful we are actually
thinking about finding an alternative
notation but they're quite neat because
actually nobody wants to write game ace
into it his output so they never need to
be escaped just really nice about those
characters another thing that is
interesting in this example here and
they actually two other things we have
an eye which is an integer and integer
the integer type does not happen to have
a method called bottles I know what
you're thinking every type should have a
method called bottles but it happens not
to be the case in Java so we added one
which looks and technically as if it was
available on java.lang integer but in
practice it's an extension method that's
what the orangish reddish-brownish
whatever color here indicates so this
method is actually defined in the class
bottle support down here now I have to
navigate to the top and import it as a
static extension into this file so what
happens the method bottles takes an INT
primitive as its first argument and
since we make this method available as
an extension method I can now put the
first argument before the method
selector so basically saying I dot
bottles instead of bottles parenthesis I
so what it's compiled to is visible in
in the hover so it's pretty much again
syntactic sugar but improves greatly
improves the readability of the
expression without polluting the
namespace of java.lang integer and
everywhere so it's only lexically
available as an extension method
well upper case bottles delegates lower
case bottles lower case bottles uses
which expression and that is something
that is really interesting here switch
is not a statement so everything is an
expression in extent thus I can directly
invoke a method on the result on the on
the will return value or something of
the switch expression so it may be a
string maybe a character sequence I want
it to be a string so I invoke two string
on that and last but not least upper
case bottles uses the extension method
to first wrapper which comes from the
extent library so there are a couple of
extensions that we make available on
Java standard types like while integer
big integer stream list iterable these
things any questions there are a couple
of more examples I will take this one
here it's about operator overloading
there was a time when operator
overloading was considered harmful
therefore you you have to write big
decimal dot add instead of big decimal
plus other thing well meanwhile it
turned out that operator overloading is
need so we allow that in extent which is
really cool from a syntactic point
because I can do things like this year
having strongly typed values like on 13
kilometers class 2,000 meters while
should equal 15 kilometers so the
extension method kilometer takes an
integer and returns an instance of
distance so this guy is imported here
the extender method meters works the
same way it returns an instance of
distance and now I have two instances of
distance and can add them by means of a
plus so it's a binary operation that I
can use here which is just an elias for
a plain vanilla method invocation method
name is operator underscore plus so
there's a mapping between operators and
method names and as soon as your types
expose it a method well that matches the
signature you can use a binary operation
instead which greatly improves the
readability
so does it look like in the
implementation I want to say open
declaration and here's my distance class
I have operator class which takes the
second distance and returns a new one
where my own length is added to the
other lengths
I can well of course use different types
in my arguments so I don't have to write
binary operations always for the same
types I can say multiply works for
distances on end integers or in order to
scale the length and down here are the
static factory methods that are imported
as extensions we don't have plus plus or
minus - since they introduce something
like I use a value now and change it
afterwards so it's quite a different
from from other method invocations
yeah questions about which operators are
available and the a couple of things I'm
not sure that I can show them right now
I will tell them later there are things
like the spaceship orbit spaceship
operator shift left shift right unsigned
shift things plus equals quite a few
things that are available that you can
use so we provide some default operators
like + x divide things that have a fixed
residence and there's something like
catch-all here's your own space of
operators that you can implement on your
types
it's a predefined set of operators nope
it's currently a predefined set so we
don't want it to have this well here's
my unicode namespace please make an
operator for everything so you picked a
few ones that we liked that looked funny
yeah just kidding yep x works pretty
much the same as distances so I have
factory methods that are imported as
extensions and I have operators
available and now comes the funny part
neither distance knows something about
time nor knows time something about
distance but well turns out that I have
something like speed available which
uses both so again I import a study
extension from the speed class here and
there's only a single method in that
class which is called a Pareto operator
divide static takes two arguments and
since it follows the naming convention I
can use that method again as a binary
expression here which is this divider
brighter so as soon as I have a distance
on the left side and it
on the right side I can use the divider
brighter in order to instantiate an
instance of speed which is pretty much
the same what happens here besides that
this age thing is just well in no
argument method this is a very nice way
to create but what the groovy guys
called ESL's so internal API is that are
very readable very concise very
expressive in a certain context other
questions about operator overloading or
extension methods so far yeah all this
is statically typed and if I say I
divide yeah I divide a distance by
another distance which is not
implemented you get something like
incompatible type expected time but
what's distance so the compiler will
pretty much figure out what's going on
if a few use different types yeah you
can have overloaded methods with
different divides like and it will do
the same thing as a Java compiler so
figuring out the best match and do that
at compile time another example
times running about internal DSL is this
one here which is an alternative to
template expressions like sometimes you
want to create it strongly typed data
structure in a readable manner in this
case it's an HTML Dom and what we do
here is a nice combination of extension
methods and closures in order to have a
very readable notation for object
instantiation so I I say I create my
route instance explicitly and then there
are a couple of extension methods
available on the HTML instance so
there's
a factory that allows to create well the
head or the body title things or text
and this is achieved by a nice
combination of extended imports here
which don't happen to have they can be
dynamic instead of static so you can
annotate or declare a field as an
extension field and make the methods
available on with the very same rule so
the method hat takes an HTML instance
and a closure and well it creates the
instance and and pass it that to the
closure but point is here that I can put
the instance of HTML as a receiver of
the head method and what happens here is
actually something like something like
this so I have a closure that takes an
HTML instance I have an extension method
called head and now I can use it dot hat
and send it can be well skipped you
achieve something very readable so that
is one part of the exceptional DSL
support being able to create very
creative expressive and powerful api's
by combining orthogonal concepts and
extent so there's nothing baked into the
language in order to achieve this year
this this thing is just the operator
double arrow for example so no magic
involved last example is about the
standard library and this point of my
slide that read functional programming
we encourage functional programming
people think about functional
programming when they think about
collections of so having a means to work
with collections Java util collections
in a more readable more concise more
powerful way than Java does
is something that basically every given
I am the Java successor programming
language it said we combine again
extension methods and closures in order
to achieve a more powerful API for Java
Java scalation types without tricking
them treating them more wrong changing
them in any way so what happens here
this is an example that reads sort of a
database file with movie data puts all
this movie information into a list and
we want to process that list do some
data binding on that so how's the list
created it's down here there's movies
which is a list of movies created by a
single expression this guy here so I say
I'm create a new file will ya take
guavas utility method in order to read
this reader into a list of strings map
this list of strings to a list of movies
where the argument type is a line so a
string and the string is split by the
separator and afterwards I get an
iterator and iterate all the columns in
that file in order to create a movie
instance so all these utilities that I
used here are either from the JDK or
from guava or from the extent loop and
afterwards I can do stuff like filter
the list and you see this some generics
kung-fu involved in the actual signature
and you to type inference you don't have
to hassle with that manually so I can
just say filter the list of movies I
know afterwards it's still an iterable
of movie get the size from that or here
or down here sort by some criteria so
that is a movie get rating actually
takes the top two of them extract the
number of votes and well reduce the
number of old sum that up to
some long value that is all possible due
to the extent library extensions that we
put here on the class pass yeah good
question the data annotation is
something experimental that we did in
the last release you can annotate a
class with a data and what it does at
compile time is creating a hashcode and
equals method marking your class as
immutable so you get a couple of setters
a couple of final fields and a
constructor which takes each of the
fields that you have listed as an
argument and the science and the values
so it's very convenient way to create a
mutable well they are not javabeans if
they are immutable but immutable pojos
with a couple of setters and and valid
equals and hashcode contract similar to
the scholar case class here and this is
a very nice question because it brings
me to the last point of this
presentation which is sort of something
even more experimental than the data
annotation and which has never been
demoed before so I've heard that all
this Oracle guy's praised to some demo
gods here so I won't do that but well
coming back to exceptional DSL support
and summing up what is possible is well
you saw that you can create some api's
that look rather creative that are
expressive powerful things like that so
that's the internal DSL stuff that you
may have heard about when there is
external results like a query language
it's more puzzle and process the input
somehow that is basically how long
Martin Fowler disquieted and his book
domain-specific languages turns out that
extend is based on a framework that
allows to create yourselves in a more
powerful way and all languages that are
created with this
rainberge it's called X text some right
here should be readable turns out that
extend into X nicely with all X
text-based Diesel's so pretty much what
you saw about calling out to Java
calling out to extend from Java at the
demo that doesn't matter
works the same way if you use X text
based domain-specific languages but
there's one thing more that falls into
the category of exceptional dsl support
which is annotations on steroids so if
you take a look at groovy ast
transformations probably heard about
those or if you think about how some
annotations are used in Java they are
sort of a way to attach additional
information to structures of a language
so marking a class as an entity some
something like that and then there is
since 1.5 and far improved in 1.6
something like annotation processing
this is taken from our Oracle
documentation so a notation processing
in a nutshell is basically a set of
reflective api's that are based on your
source code where you put your
annotations into you can query for the
types in that source file and create new
source files from that so basically take
this source code here I've compiled that
to a class now you can inspect the class
file and create other source code files
from that so let me compile those again
which implies that you cannot change the
way how your class that you annotated
itself is an impaired
of course there are ways and I've
learned yesterday and some buff that you
can even do cool tricks like introducing
a new superclass and the subclass and
basically eliminating your actual class
but there's something that I won't do
but ever what I want to do is of course
manipulate the annotated element itself
the annotated class annotated method
annotated parameters and this is
something that we are allowed to do in
extent since we have this intermediate
Java with presentation so we are
compiling from extent to java to java
bytecode and we are basically in full
control of what happens in the first
step so how do I transform how do it
compile the extend file to Java source
code and this is something that we call
an extend active annotations which
allowed to participate in the
compilation process life no need to
deploy anything you can do that life you
can enhance the derived source code and
you can apply constraints that are
directly evaluated in the editor and
give feedback to the user and I have a
couple of minutes left to give again a
demo and well great this time in this
eclipse here which is the experimental
one and there's a project called demo
which contains demos first one is a very
well the most simplistic example that I
came up with have was not too creative
it's about serialize ability and Java so
that is the most simple serializable
class it did not well yell at me so if I
leave this your version UID Eclipse will
complain that my class does not define
this your version already which is sort
of annoying because I'm not interested
in that at UID but for some reasons
probably for good reasons the compiler
is this is just an example of a
constrain that is applied that I don't
want to maintain or fulfill manually
every time so how does it look like if I
want to create a C eligible class in a
more concise way so having the
possibility to participate in the
compilation I have an extant file which
is called sample
I have the corresponding Java class and
I have a file with the extentsion macro
which is an annotation processing
language yeah so what does this oh we
can all see that so what happens you in
the macro file I define an annotation
called at serializable in the package
civilization and this annotation is
valid for well classes I could say it
it's valid for methods parameters all
that stuff things like that and whenever
the extreme compiler encounters such an
annotation it should process that thing
that is annotated which in our case is a
number of extent classes yeah there is
and for each of these classes I want to
do something which is this code snippet
here so take the class that was compiled
so find a Java class with the name of
the extent class so its extent type get
name in this package here basically find
me the corresponding Java class API is
still subject to change yeah
and what I want to do is at the
interface to the list of implemented
interfaces so I say super types plus
equals give me the type of serializable
that saves this guy and it's at the
annotation here and after I say if you
have probably recognized that was to
first that something changed on the
right-hand side so I get the
implementation thing here which is quite
ok but not what I actually want it to
have because I am
keen on this newer version UID thing
I've read that is important so I will do
that I could of course make something
like give me a value quotes your version
your ID which is along and I could save
that and I get something here but it
turns out that this your version here
you should be protected and final at
least that is what eclipse generates for
me so I want to validate that my
manually defines your version of a
fulfills these constraints so I can say
give me the members filtered by all
fields that have the name and I'm a port
hyper so I'd have this name here and
it's my field and if there is such a
field I want to validate that it's
static and final
so if field aesthetic or field is final
so now I have to say if not it's neither
static north or not final so that is
something that I want to do I want to
create an arrow marker on the field and
say has to be static and final and I hit
save and I get an error market without
any further ado which helps me that
something is wrong here
so okay so if it knows that this field
should be static and final it can of
course create that field for me and this
is what I prefer down here
so after I've added the supertype I want
to add a field and that is something
that I need to add dammit let's make
this full screen as far as I can so
create a field called serial version UID
of type long make that static makes that
final and this is preliminary but
compile the initializer as zero or
better wonder well it's a long so if I
save this guy and refresh the editor I
will see that it creates the rights you
know version you ready for me on the fly
so I could even put well some
sophisticated compute that thing from
the signature of the class and something
so so far so good
of course there are more powerful use
cases for that and so last demo here to
close all this manually in G yes there's
a question the annotation is a special
kind of annotation so it's a macro
annotation and as soon as they annotate
a structural concept with that macro
annotation the compiler will pick that
up and that is not hard until the
language extended serves on about arm
it's provided by an eclipse extension
point so you could even hook in to
extend by means of other compilation
participants doing something like all
the AJ unit for annotations require that
well at before class requires a static
thing with void and public and I want to
validate that that is possible as well
so GWT requires this three classes
everywhere Synchron
interface as in Cronus interface
implementation class synchronous
interface is slightly different from the
enclosing Cronus one and there's a
couple of tools that keep that in doing
for you but you have to use those tools
and what you could of course do is well
create an annotation called GWT service
and let that stuff happens having under
the hood for you so it will create a
synchronous interface from the public
signatures of the class csing interface
as well
copy the member declarations to that at
the implementation clause and that is
something that is powerful enough to
well create a very seamless experience
when you were working for example with
rivers like GWT that require you to have
a certain amount of abstractions in
place so how's that compiled to Java I
have this process string and a class
called tests and they get test interface
test interface async was this SM Quebec
here test interface with process string
and or the the actual implementation now
extends test interface and I can of
course do things like override string
process boolean PE and that is beat or
just drink or something and I will get
that here and the signature and the
interface and things like that
everything live so there was no
deployment or something involved I have
30 seconds left
no just kidding if you have any
questions I will be around here like
until Thursday
most likely in all this emerging
languages sessions or Java VM sessions
or at the coffee bar most likely at the
coffee bar so approach me and well ask
questions if you are curious or I don't
know thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>