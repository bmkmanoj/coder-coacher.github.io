<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building Serious JavaFX 2 Applications | Coder Coacher - Coaching Coders</title><meta content="Building Serious JavaFX 2 Applications - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Building Serious JavaFX 2 Applications</b></h2><h5 class="post__date">2013-02-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/gKU7ZeCNbqU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so good morning my name is Ellen beam
I'm working as freelancer since 1995
with Java I really enjoy that and what I
also did I used Java fixalot JavaFX
script even in diamon one of the strange
guys were actually like like that JavaFX
script was really nice right now we have
just Java in Java Vic's too and the
context of the talkers in one project we
had to build serious wing client with
view relative easy-to-use UI but
extremely complex back-end and I was
asked is swing the future okay it's not
the future where this is a maintenance
mode so okay we don't like that what we
can use okay we can use Java X but then
we had to integrate the Java fix project
with Jenkins and all the builds
integration test unit tests and the
problem was the developers when were not
that skilled so it was very new
technology and we wanted to build
something which is at least
understandable and just using NetBeans
and heck everything in one huge block
was not an option and most of the
tutorials were like that it's like put
as much as effect is only possible in
one single view and my customer told me
okay no effects you know we are serious
company nothing should spin no effects
just should work and should be lean and
easy to maintain and the problem with my
customers I had to sign several MBAs and
so I cannot show you their code but I
have an open source project which which
is somehow similar to the commercial
project so we will have code work
through through the project and the
advantages is open source Apache so you
can clone it from github afterwards and
just even contribute if you like so this
is the idea but it was the context and
as I started with Java fix to it the
problem was was also new with the
technology and for me was very important
that they can localize the air
was relatively quickly so I wanted to
separate the business logic and the
communication with the application
server from the presentation logic just
to localize the arrows easier so at the
beginning there was some threading issue
and service issue and it was really hard
to tell whose fault is it this is Java X
is this application server or most cases
this was my fault but in 10% of cases I
spent hours to debug the application to
owner late unrelated book so we can skip
that the first is I would just walk
through the slides and then walk through
the code so everything is on slide I
would like to show you an source code or
in XML if it's pom.xml and discuss it
with you so what I started with is I
just we just built a very very simple
prototype with NetBeans took about an
hour half an hour just to see how it
works how it looks like and we didn't
use scene builder because it wasn't
available at the time so we built the
whole UI from scratch and and then it's
okay then it is nice for this custom ant
task script and no one cares about that
I like NetBeans a lot but but I don't
like to be dependent on NetBeans so we
started to build with maven and then the
paint somehow started so I asked the
Java fix developers is there any maven
tasks no it isn't we have ant ok nice
then is fix one time in the repository
and no it isn't so this was the first
challenges it's relatively easy to
overcome so what you have to do you have
to to put the ethics runtime as a system
dependency to mail them so it's not a
big deal and shortly
since JDK one 7 update 6 Java X is
deployed with JRE so it is almost in
class path so now we don't even have to
push the library as a system system to
cope library you can use a maven
environment library to build with maven
JavaFX epic
without any profiles hex or setting so
it's very clean I will show you it later
in source code so signing the signing it
wasn't a problem from my customer I
built so light switch application and
monitors application server and I wanted
to have it in browser as well as
standalone and the problem with JavaFX
at the beginning was I had to use
threads a service and there was I think
it is fixed right now but at the
beginning it wasn't possible to start
this service without have assigned Web
Start application so I looked and that's
ok we have to automate the signing in
maven as well because I don't like to
bother with that it should be
automatically done
maven clean install and we get one jar
as output and you just use that just to
minimize if you I mean in enterprise
applications extremely important that
the automat are automate as much as
possible and just you know using 10
buttons NetBeans it's not optional also
not not option for me and not an option
to my customer so we automated
everything and deployment so I would
like to deploy it automatically as well
and the only thing is lacking right now
is I would like to publish it
automatically to github my personal
project a light switch not the customers
would be a lot of trouble but my project
and this is the only thing which is not
automated so then simple they came out
and the developers were not that skilled
but they were they had some experience
with Visual Basic and as they saw scene
builder say oh nice like Visual Basic ok
I don't know what the describe selling
strategy for symbol des is like visual
basic but somehow similar and the
problem with
what-you-see-is-what-you-get editors we
always have us the source code which is
generated is unusable and the next
problem is with such generators
sometimes in breaks and if it breaks you
cannot do nothing about about that for
instance NetBeans Matisse was great but
sometimes it broke for swing so on what
we did at about that we checked
everything in subversion if it broke we
just
dealers changes this was my solution the
problem was still very effective but it
was not perfect so as simple they came
out I was a little bit suspicious so I
got another code generator by the way
how it works is really interesting
it's totally different to NetBeans in
anything else I saw before I have to
admit it is kind like Matisse with
inversion of control this is my
understanding of that so what what the
scene builder only is I understand that
like creator of our XML file which is
used by a factory to create GUI so this
is my technical understanding of sin
build up the symbol that creates a
readable XML called F XML and as ethics
ml consists of everything to create
object graph so there is no code so and
then you have a class is called FX FX ml
loader and the loader you have to point
the loader to the XML file and you get
the root this is like the jframe no
jframe jpanel swings there's no the Java
X and you can you can just use that so
the next interesting question is how to
deal with business logic so everything
is not nice but I have lots of nodes and
I have no idea how to interact with the
node so we do like to implement logic as
well and this is very very nicely done
with scene bilder what happens you can
register in F XML your own controller
which is instantiated but startup and
maintained by the loader if you push a
button a method will be invoked on your
controller and a controller doesn't even
know that is used by the scene builder
of XML order and this is a really cool
trick because then you can just use any
class you would you want as controller
and afterwards use the XML order to
build the UI and in case it doesn't work
which is very important for me we can
just throw away that scene builder with
F XML and just create this scene graph
by hand so the risk is zero and
I was surprised by that I thought
another fancy tool with 500 transitions
and without any relevance for the
practice but it seems like I really like
the sim builder because if something
breaks I can fix it by myself and in
verse case I will just throw away the
affix ml design it another time by hand
and I have no no problems because the
controller is a regular poacher we show
later won a controller just annotated
with FX ml which really reminds me at at
inject in Java 6 so it was a nice is
like dependency injection actually my
proposal was just to use at inject
instead of F XML but didn't like that so
but this would be cleaner because with
the same model everywhere or at named so
testability what I so the complexity and
testability is not like we we need a
code coverage because my customer don't
care about that and then I don't carry
the code coverage my private project as
well the stability I mean what I would
like to do is to test justice server
communication just to be a to it to be
able to localize or encapsulate the
arrow and something breaks this is this
is really important to me because now
and you can do it absolutely with charm
of X and maintainability means lean code
not a lot of boilerplate but right as
long as little code as on it possible
and Java takes is very lean if you are
building business applications even if
you just all the effects on all the
transitions you give it out it is far
less code than swing and far easier to
understand as well for instance to bind
a poacher to our to a tutu or to a table
this is a matter of seconds I would say
in swing you have to build your own
model whatever in java fix is already
done car comes with the framework and
data binding is also great with some
limitations of course the limitations of
java vex but general limitations of data
binding so the first in the first
important thing is to separate the
presentation from the business logic so
I plan the next Java vex application
will be actually a FET client completely
but I would still like to separate the
business logic because it will parse
some things and will be really
complicated and I would like to keep it
separate so that I think there is no
excuse to do that because if you're
building something with Java eggs the
chances are high that in the next
project or on the same project your
customer will ask about GSF are they in
GWT or whatever so I think you you won't
end up with just single UI so this
separation is critical so just to build
you know encapsulate the CoreLogic
somewhere as photos on don't make Depot
just dependent on JavaFX like if you
have in Java six context you have some
some classes don't make the classes
dependent on GSM the same story okay but
what's interesting is the following
JavaFX is part of JDK and what this
means to me
there is no need to encapsulation
actually because if it if it's bundled
with JDK I think the experience shows it
will never disappear except with chicks
or something it could happen but so what
it means everything which is in Java of
X you can consider this as standard
belonging to JDK what it means you will
see later in my source code I use
properties from Java X in my
presentation logic without without
translating them to strings become
because my argument is if is a part of
JDK I just use it without thinking about
us the chances are very low that it will
disappear what can happen in future
probably something changes APA changes
or whatever but if lambda comes out in
JDK i18 I will also have to do something
about that you know but it's not like
you have to download an external
external library to use Java X which is
by the way great it's also why I always
prefer swing over SWT it is part of JDK
you can just use it right away so it's
the same story with Java bags so
decoupling and versioning one means so
usually most business services interact
with some kind of packet and what's
what's usually I mean in the last two
last two years I
just rest restful web services nothing
else just rest so there is a issue to
keep the clients comfortable what you
can do you can use for instance XML
serialization comes for free Jack's B
and the rest client jax-rs is going to
be standardized soon and to interact
with the backend so what I did I
a very old pattern called business
delegate and encapsulate within the
business delegate the whole interaction
with the backend
what business delegate is what business
delegate was was a crazy pattern was
interface implementation on Factory what
it now is is a single POJO which
encapsulates the jax-rs client to to
talk to the application server why that
because HTTP is not convenient to use
it's a lot easier to use our java class
instead of HTTP GET and parse all the
stuff and whatever okay give any
questions feel free to ask so should be
an interactive talk or is intended to be
so as already said F XML it is actually
I think it would be usable outside of
JavaFX I never tried that this is like I
think of that I don't know what they
know there was I think I was called XML
encoder and decoder in beans package you
could just pass a Java Bean and what did
what the encode and encode decoded did
previously to just invoke the getters
and setters the problem was that was the
XML was ugly so it was like you saw that
there's constructors involved then the
series of setters invocations worthy the
the order actually mattered and if FX ml
format is really nice and it comes with
code completion in NetBeans so in the
recent NetBeans you get code completion
epics ml so you can write XML you can
write sin builder or you can create the
graph by your own so actually the idea
is you always will have a kind of
Factory which creates a root element a
root view like panel this was exactly
the same case in NetBeans Matisse it was
generated code in a in a method which
was hidden but this method created all
the UI
and scene builder uses XML to two feet
ddd factory okay so this I hope this is
a thing there are some Java big skies
right here I hope I got it right as Java
developer what is actually to be because
for me I think at Japan at the beginning
was absolutely not clear what F XML
actually is and how to how to use it as
Java developer and what you can do but
we didn't but you could you could use a
controller logic encapsulate controller
or controller logic presentation logic
as actions in any language you would
like to and JavaScript console free
because JavaScript comes with JDK 1/6 +
1 7 as well so you could even write use
scripting languages to write controller
logic we didn't did it because I was
happy that the developers got Java so we
we started with something else I don't
know whether the project would be
successful
ok questions no questions
so then how to structure the D view and
there is a very old pattern called modal
view controller and it is nice pattern
everyone says yes but no one knows what
it actually happens behind the scenes so
I saw so many implementations and this
is like the architect comes and says ok
the controller decouples the model from
the view and we can replace the view and
we can replace the model now implement
that and they are asked about I don't
know 500 variants of this possibility
and from my perspective the assumptions
are totally wrong because in my business
apps wink apps I think I never saw a use
case where we had to replace a view
without changing the model if it's all
real it really depends so I mean in my
case when I show you as far as my my
open source application it is a more
likely because there are lots of charts
so I could replace a charge with a table
later but in a business form based
application if it starts as a form or a
table it will probably remain as a form
or table exactly the same in model the
model changes frequently because the
business
logic changes but I don't think the case
we'll just swap the models and say okay
it's a huge wind because I don't have to
touch the control and the view and I
mean with more than I des even if
something changes is the matter of one
single click and refactoring and all
classes are changed it's not like when
you spend the weeks you know to adjust
the models and views so model view
controller is nice but you can say I
you can always say we do MVC and
everyone would be happy and the top will
be over so but there is a
model-view-presenter pattern which is
very popular in Internet world although
this pattern was retired in 2006 but if
you look at search form all of you
presenter you will find lots of dotnet
examples then probably didn't recognize
pattern is no more alive so instead of
that there are three more patterns which
are more accurate and I like the pattern
that would like just to explain what I
do and and why they are there and the
motivation behind this is not to replace
and give you or replacing a model but
make the presenter or the view better
testable and in my case it's not like we
would like to test again but what we
really like to do is to - in case of an
error to localize the error more easy is
easily and this is only possible in case
the presentation logic is not
intermingled with business logic
okay so supervisor controller still
alive the sister pattern which was spin
off this was by the way by Martin Fowler
Martin Fowler defined these patterns and
actually a nice idea if you look if you
search for Martin Fowler supervising
controller you will find Vicki entries
with with this sequence diagrams and
class diagrams explain how to structure
the application it applies to swing JSF
and in or job of X or whatever so
supervising controller is a very
pragmatic way
so what supervisor control it is in I
would I think your Morris family I will
swing it would be like the action
performed call is implemented by the
you and translate it to something like
okie button pushed and their key button
pushes the method of the presenter so
it's not like the presenters polluted by
by swing or JavaFX code this is more
like the view handles all the events and
translates the the framework events to
business events so something like this
what do you gain by that first if you
look at the controller you see what
happens it's not like series of
anonymous classes action performs and
and all the handling code is like you
see okay button button not even bad me
okay cancel because button doesn't
method could be many as well so okay
cancel and you can of course write a
unit test and invoke the okay method
mock out the view and see what happens
so we did it partially for more complex
cases not for everything because we were
not test driven nothing it should just
work and we were happy and by the way in
this world do I distribution right now
and works perfectly so um so the present
to implement as little logic as possible
because it index was the service but the
basic idea is exactly that you are
pragmatic about that everything is
factored out in the single class and the
single class handles the high level
events and if you translates its
frameworks events to a two to their
present events okay
so passive view is an extremely radical
approach passive view is like the view
exposes just properties and their
presenter talks to the view does
everything is that like remote control
so the view does almost nothing so this
is passive view and presentation model
is like their control and maintain
maintains the whole state of the view
this would like if there were a text
field with the color red their presenter
would have the color embedded in as a
state and this goes too far so what we
did you use we used a pragmatic approach
with a little help of Java fix and
bindable attributes so it's really
simplified really simplified the
implementation of this pattern again I
will show you the source code later it's
just
discussion and Java vex binding so what
it actually means you can implement an
interface which exposes properties just
job of X types and bind direct to the
properties by the view but if you
doesn't know from where the properties
are coming and I had a lot this lot of
discussion with architects because it
told me look you are using Java X
properties and not Java types why are
not using business types and my answer
was always because it's JDK it comes
with Java
I will never abstract for from something
which is part of Java so um there's a
little bit discussion the what happens
then you can unit test everything
because if you muck out the interface
you can return whatever you like you can
you can create values on the fly
whatever if you if you mock out the view
you can integration test your back-end
and this is actually pretty nice because
what you gain is what bindable means you
could just say I don't know in my case
in the in the light fish case I just say
heap binds to heap property and it's
done it's a bi-directional binding
usually you will have you will need get
set an update or something far more
methods and what Java X does it narrows
the interface down to the 2d types which
is really nice so we are we are able to
eliminate lots of old swing code this is
what I mean the interface becomes
extremely narrow because you just
exposing the properties and don't have
to expose all the bookkeeping methods
okay so and there are really nice things
like Java fix services so there is a
Java concurrent tasks and Java vex
concurrent service and our bindable
wooden board means I can I can bind and
be interested on success for instance ok
in case the service is done just change
the state of something and what I use I
use Java X service and tasks to pull my
restful web services long calling so I
implemented long calling this
few lines of code with Java vex and to
get real-time notifications from the
Java 6 application server and by the way
it on the application server this was a
separate three oh the whole thing as our
about five lines of code with Java six
so it was another big deal but what I
needed on the client side is something
which caused the application server and
doesn't and doesn't interact with the UI
updates thread is the same story like it
was Swink and Java FX service does it
properly so it means what what it does
it starts as threads but this is managed
by Java fix runtime if something if
there is a side-effect if there is a
side-effect it would be applied
correctly in the UI update threat so
your your UI will remain consistent this
is this was actually really nice so and
by the way this is this is the service
with who forced me to sign the
application my open-source application
because it couldn't be run without
signing I was told it is fixed right now
ok and by the way a crazy idea I talked
with some Java fix engineers what I was
told that there are two threads one
thread which updates the MTD reads the
events queue and the other objects DUI
and there is a palace event which
updates properly on each pulse to you I
if this is the case you would need that
because what you could do you can just
change the state of the UI and then the
next pulses will be like a transaction
everything could be updated so this is
just the ideas I had to chat with some
engineers so this would be actually
really nice because then Java fix would
be actually thread safe so now slides
are over which is a good thing
so I have fun by the way NetBeans beta
is this out I saw a tweet before the
session but a little bit too risky to
install it so first let's start with the
phone so this is the palm out by the way
what the applications does is so what
you see here this is the WebKit browser
it connects to a glassfish and this is
monitor application so what I can do I
can start the monitoring remotely and
you will see in real time all the
changes of application server
transactions commits paranormal activity
some errors performance this is what I
hacked in the airplane this is new which
applications are sessions expired
session and we used it for stress
testing of Java six applications and we
just needed a UI and I hacked the UI the
first prototype in three hours in the
train between Frankfurt and Munich so it
was very limited a lot of time
and there is absolutely no skinning
nothing there's only one CSS which sets
the D place between and there's
animations come for free so I did
nothing for animating nothing there's
just everything is out-of-the-box
experience so this is the application
I'm talking about about so you can just
dumped all the servers what I would do
in the flight back to to Germany just
implement log viewer for GlassFish and
all the stuff but it's very easy to do
and for me it's important is as fast you
know if I would like to implement a
feature it should shepard happen in
minutes not in hours so how it works
so I have packages this delight view and
the commercial application has nothing
to do with monitoring it's more like
with finance but but the structure was
very similar first of all let's start
with a service so what does service does
this is a POJO there's nothing to do
with Java banks and it uses here the
restful client to get a snapshot so now
the snapshot is just a POJO a domain
object there's nothing nothing special
with that what I get for free XML
serialization so what doesn't mean on
the application server I have similar
object it doesn't have to be the same so
what again is decoupling I can build
here of new attributes test that without
changing the application server it won't
break it's a nature of Jack's piece
serialization and so I can test it with
main method so what I this is my first
test doesn't actually work I don't like
to start the application the way to the
next updates whether my my my service
actually works so it's nothing to do
with Java fix important to me because at
the beginning it actually didn't work
there was a glassfish back for long
polling so it was really essential to me
to be able to do something like this and
snapshot provider is the service and
this is the first interaction from Java
X and what it does it needs an URL and
it creates a task or the task does it
goes to the snapshot fecha and say ok I
would like to have the next snapshot and
this blocks because of long pointing so
it blocks forever so so now we have
real-time notification from application
server to Java vex because it blocks
forever however the application server
doesn't care about that because it's a
synchronous orbit so it doesn't consume
any resources and you can start several
hundreds of such monitoring clients
without without any impact on the
application server so the other what I'm
able to do I am able to register scripts
on the fly to build something like
channels for monitoring so why it's
interesting for you because this was
just fetch and in this case I have to
reduce
new script and delete script so order
see this is everything you need to to to
write an object to the backend and
already with the object there's a
typical business delegate so this is
just encapsulation of the functional
functionality and a script manager is
used directly by the presenter okay very
simple in typical business applications
you would have methods here which are
jax-rs or Cora or whatever independent
but it would encapsulate inside the
business logic what I did I didn't
implement it an interface and I didn't
implement it and in the factory because
there is no point ever that I will
replace the class with something else
and I'm able to test that because if I
use mojito mojito for instance I'm able
to mock out class as well so there will
be no point for me to implement an
interface in Factory except the travel
would be a little bit longer there time
to do something else
so questions about that so this is the
first thing the service is actually very
usable where is it it's like swing
invoke later not invoke later swing
worker so a little bit similar to swing
worker but easier to use and is bindable
so let's say work this guy is used
so interpret presented before I forgot
forget the snapshot is just a regular
project you see this everything which
comes from server is here which get as a
set as some business logic to make it
nicer but it's just a POJO which belongs
to presentation and there's totally
different object on the application
server so this is actually the idea they
have no details because it gets
decoupling for free which jax-rs
okay questions no questions so then
presenter I introduced an interface just
because of maintainability this is
strange things that I'm saying that but
in this case is really useful what it
does it it exposes everything which is
doable from the out from from so it
exposes the whole business logic as Java
X properties what's not so clean about
that is it's a little bit too long this
is okay for Mara for my for my example
it is that the whole the whole
functionality of the dashboard views so
actually so this is the dee-dee-dee-dee
presenter behind the dashboard and um in
business projects what we did we've
encapsulated such presenters so there is
one-to-one relation between the
presenter and the UI with a meaningful
name so like I don't know order
management or whatever okay there's not
like you introduced one interface with
500 methods completely wrong approach is
rather than building multiple presenters
with 10 methods and meaningful
meaningful meaningful name and what you
see right now this if you are using that
you will be JavaFX dependent what is a
good thing because of java fix
applications but i had a huge
discussions with the architects about
that said why you're exposing in the
service java fix properties because i
have because they are coming from jdk so
no problem with that
ok if you're using that there is no no
more abstraction so this is implemented
by the presenter class
it implements the dish for the attache
represent the bindings and our other
properties and everything is
instantiated it's just as simple new I
initialize here my listener
so only listener why that if I change
the URI in the WebKit this this changed
method despite it will be invoked and
the service is going to be restarted so
I will I will pull another Ori and right
now there is no endless restarting in
Java effects so what it means I build it
by myself this by the way of feature
requests as well in JIRA because right
now to build polling you have to restart
the service by your own say if you are
done restart if you are done restart
what I would like to have because long
polling is not that strange is to say ok
this is the interface just look forever
ok right now we need a view invocations
more but got a point so right now the
service is done and then is unusable so
you have to restart the server by the by
the way the service has different states
yeah it's like initialized working done
or canceled so if it's done it is done
so you have to restart the server in
order to come to the due to the initial
state and start fetching this is the
method which is actually interesting as
you see I'm creating the snapshot
provider here service start and I'm
binding the value property of the server
to change method and this is actually
the trick the trick if something arrives
from the server in real time the change
method is going to be involved and
snapshots added and snapshots here is
observable list is directly bound to the
table and the table was ready to go
nothing else to do so if we look for
instance at the snapshots table this is
the whole code
I passed the observer the list to the
table there is a cell value Factory and
what it does is I just give the name of
the property of my domain object and the
caption for the column and it's done so
what it means there is no model what it
actually does for reflection in invokes
get us from a domain object without any
anything else to do so you mean what I
did right now I put a new our new
arrival on each new arrival of the
snapshot from the summer I store it in
the list the list is bound to the table
and you are done
ok and the nice thing about this I just
reused my domain object and bound the
object directly to the table just the
overview will dissolve in the in the
bottom of the vacation um so there are
lots of other properties like commit
count cute connections everything you
saw in the dashboard so what's about
that as I told you before before before
the scene builder as I started with that
and then afterwards I build one UI with
a symbol that I will explain the dead as
well and there is the dashboard so and
now we are in the view so we this was a
presenter which cared about service
restarting and providing the values what
dashboard is the view the whole view
implemented what what is so actually
they're all panel and what you see there
lots of text field is the Ori browser
the browser snapshots are the charts and
I just used V box and H box
you could you could use a lot more but I
was lazy I just so used just horizontal
and then vertical positioning and the
interesting story is what I would I just
that these are the tabs I just put the
views inside and created a tabs and this
is my snapshot view and a snapshot view
what I did is just a regular Java class
it works pretty well doesn't inherit
from anything this was actually
the trick is justice Java class and
instead of all my views have a method
called view and this method returns to
route the chart so I can do whatever I
want in the class as long as it returns
the view and the view is bound to the
dashboard so what I could do I can just
provide another snapshot with other
chart it's cause you it gets embedded to
the 2d dashboard and this is a little
bit transition so I had some transitions
just for curiosity so what happens here
is in case you saw at the first time the
chart is gray gray out but if something
arrives is a nice transition that makes
the indicator charges active and this
happens in the activate method so and
all new entry here is getting called and
just the the the value of the charts
updated so this is what happens in the
Indus notes so and this is exactly what
we did in our application as well so
what we we encapsulate the views in
Hojo's and now now comes then a nice
trick if you have a syn builder the only
the only difference just instead of
creating my own chart here I would I
would call the F XML loader will return
the created chart there will be no
difference okay so I mean what I
actually could echo delete this code and
just return this what the XML loader
create okay our views are similar and
all views are as simple as us I'll show
you what the most simple one is the
browser the embedded browser which is
actually works as a WebKit it just -
listener and reduce the work down
listeners just for the progress bar and
nice story what I what I what I create
what I do here in the browser what you
can do you can interactively remove
elements for filters like buttons or you
can change the content of the of the
HTML file and this is the whole code
isn't not 100 lines of code with
progress bar and everything else
and the car is actually this webview
engine if you have the engine you can
set the Ori and you and you can in the
air of your own browser with three lines
of code so it was actually very very
easy to implement so now there is one UI
called scripts it looks exactly the same
except are using XML order inside so and
the only difference is I use the loader
the loader loads my scripts a fix ml and
the scripts if XML is stored
yeah
so this is my beautiful UI and what it
does what I needed is actually you can
you can you can send JavaScript to the
server and say I am NOT interested in
everything but just in case the number
of threads increases incrementally or
something like this and you need a UI
for that so I just say okay I just
create UI in the scene builder of course
beautiful very clean and and the
interesting story is I using here class
called script presenter and this is
exactly happens what what I told you
what I would like to do to use I would
like to use my own class the problem you
get just you won't see it in in in
applications without back-end actually
my presenter present and it's a
reference to the service otherwise it
won't be able to communicate with the
backend the problem is you don't get the
reference to the presenter you have to
ask the ethics ml loader for that and
this is exactly what should happen in
the source code otherwise your presenter
will do everything but you cannot
reorder you cannot get hold on there on
the under presenter because it was
created by the eff XML runtime so the
proof the solution is actually very
simple
so after loading and what you are going
to load you don't know what you get back
is the root and the root is a kind of
note everything is a note so you have no
reference to the actually loaded object
so what happens here loader I get root
this is the view what I return this load
I get controller and I get bank back my
own presenter and now I'm able to inject
the bindings to talk to the backend and
the presenter here is trust and a java
class with two annotation F XML and is
text field and text area with two names
name and content and now it's very
important that the name here corresponds
to the name in the scene build up so
what I try to propose is to have
something like name
but it was rejected because right now
you are forced to use the same names in
the symbol de and in the in the Java
code which is very good convention of a
configuration but in my opinion you will
have to have the chance to change that
so like JPA and everything else does
right now it's not impossible so I find
that gerra issue but so it was rejected
because not needed what's also a
limitation right now with with xml
controllers you can have only one
controller pair F XML view and I think
it is not that uncommon that you will
could have a huge dashboard so one view
and you would like to have multiple
presenters for that so right now it is
not possible to do that so there are you
can you can you can include but there is
no built-in support for that so it's
another huge deal but it'd be nice a
dwarf this is only my only criticism for
that everything works perfectly but the
naming and the ability to have multiple
named presenters within F XML so and
this is the whole presenter by the way
so what happens in safe I get a string
and say new script so I need the
reference to the fields which are
generated by scene builder in order to
fetch fetch the content from the from
the text fields okay so actually in this
case it greatly simplified my code
because without scene bilder I would
have exactly the same components and I
would need a method create view where it
creates the layout and the only
difference is that instead of creating
the way out I'm loading the layout which
is absolutely usable for business
applications the first time ever and now
whether you remember Eclipse IntelliJ or
or or NetBeans code generators as
abstinance other way around right code
was generated and you were dependent on
the code and this is exactly inverted so
it's like inversion of control so on the
loader loads the UI inject it creates
the controller
before that your controller talked to
the views of the controller is
completely decoupled from the generated
UI and there is a nice way with a fix ml
to to inject components or invoke
methods so in my case the method safe
verbs and I saw in the presentations
that you have to sometimes annotate a
fix ml i think only in case the method
is private right
yeah if the if the method where private
I would have to use ethics ml but it's
public because I would like to test it
so I never did in the methods but always
on attributes in order and by the way
this is model-view-presenter this is the
supervising controller pattern it's
exactly what I said so we have data
binding we have a controller which
remote controls the state of the of the
view what we can do here
I could disable enable the text fields
whatever you want the whole presentation
logic is encapsulated within the
presenter and this is very clean
separation of concerns very it's a lot
harder to achieve this week and it's
extremely hard to achieve we swing with
generated code okay so um
this is a alarm or something so looking
back at on on Megan so um what what the
hold maven project actually is a regular
Java project so a simple Jar deployment
so on what it it just maven plug-in in
order to set JDK to one seven so I just
wanted to to use JDK one seven the
latest
I started with one 601 seven because I
just like the syntactic sugar that's the
only the only reason for that
and now something interesting happened
so the previous version needed a profile
because I use the system property which
I use here right now but now comes the
trick the java home here is a maven
environment variable and it points to
JRE if it points to GRE you can bind to
JJ fig edge jf x runtime so you can
build with maven Java fix applications
without any hassle just by providing
system property with Java at home on
what it means if point in maven
strangely to the years re so may even
Java whole in maven is not Java home JDK
home is your evil exactly what we need
for Java X this was my last commitment
before that before Java fix was
distributed I had to point to a Java X
installation outside the JDK so I have
to use another variable which was not a
maven variable so I had to maintain my
own profile and start that with build
edge with maven minus P Java eggs or
something now I can just build it with
maven clean install so I need a question
we're going to this
perfect because Hudson if Hudson runs in
GDK 1:7 updates x+ vulvar if not you
have to operate that this would be
demise wouldn't change that just to make
Hudson working but I do just direct
because Java home is Java home and
Hudson is a java application so yeah
okay other questions so now Jersey is
just for Jack's arrest client will be
replaced with Jack's arrest - Oh J unit
mojito for tests nothing special here so
and what's interesting here what I am
doing right now I have one dependency
and don't like the dependency because it
comes with several jars so what I did
here I unpacking all the dependencies in
our huge jar and then can then there's
only one jar it's not easier to install
a lot easier to distribute lot lot
easier to distribute with web start and
then signing say only one jar works
perfectly with the maven dependency
plugin unpack dependencies extrude scope
system what it means I don't like to to
deploy Java fix another time and I would
like to to exclude j-unit mojito and so
forth
ok this was actually really nice then
I'm using right now the maven to link
and not maven to link
the Java fix packager and now the
strange thing happens the job of expeced
er is a native application could be ant
it could I could use an trunk but what I
did actually I brought it from command
line in a shell if it work I just copied
it to a maven Network in five minutes
so the strange thing is Java expeced jar
is stored in JDK not in JRE so what I'm
using here is the system environment
Java home from the system so NF dot Java
home points to Java home defined by the
system so this is a little bit unclean
but it verse okay and there is no way in
maven three at least
okay it could write a plugin of course
to make it happen with there is no
environment variable for jdk home in
maven strangely so and what this does it
creates a distributor pool jar and now
so now I'm done so what you saw is
exactly what happens it will create one
jar which you can start from
command-line Java on - jar the jar and
we'll just start this alright what I did
to show you the application and this can
be also distributed as web start what
also happens okay
yes you could you can use the main the
ant yep yeah so and then package native
commented out because it takes a while
what this does with there is one tag
- native it creates the native installer
and we use that and this is actually
great what it does it creates the
Installer from for Windows Mac or Linux
Linux I'm not sure about that but Megan
and Windows we tested that and it
packages to JRE as well so this is
self-contained so everything is needed
this is in make in the dmg or in Windows
in Excel in Windows you have to install
a tool I forgot about that this is open
source standard tool for Windows
installers you have to install it before
it works and of course if you run it on
Mac you get the Mac installer if you run
it on Windows you get our Windows
installer there is no way to get a
Windows installer buy from Mac of course
so and signing so I have to sign that if
car in case I would like to embedded it
in a browser
in order to be able to execute the
service and this is completely
encapsulated in jar signed a plugin and
what it just does is just signs the jar
okay
and this owes a nice trick so this is
what they show is just the client part I
have a server part as well
so what you usually do you set on the
server is distributed to the client so
what this Madon Madon a build does it
copies the installation from the job of
X to the Java 6 web app folder so it is
outer you get always a consistent
version so this this happens here this
is why I reference whitefish which is
the back end of the application so and
acceptance test what it means I can
start to Java fix application from from
the browser from the browser excuse me
from from from the ID
yeah this is what basically Mayville
just relatively simple and I mean this
is a little bit complicated because of
the installers what is really
straightforward it would be nice if we
had some standard maven plugin for that
it would be really nice but we don't
have it so this is the solution and
actually what you saw right now is a
light fish project so you can clone it
from github so you get exactly the same
source code with apache license so if
you go light light fish adenine and just
get clone is a petty license if you
don't like the license I can change it
no problem but Apache sounds cool and
BSD I always not choose okay everyone
does Apache so let's do Apache and again
it was not it's not a showcase I use it
for monitoring in my job I six
applications and I have to develop fast
because I don't like to bother with I
don't know in directions and it works
perfectly well and one a one developer
asked me why you didn't use Rafael GS
and JavaScript and I asked him were you
able to develop this in three hours so
no so ok it is the answer
ok it is not everything in three hours
but a skeleton what in three hours there
was a table in one chart this is what I
accomplished and everything else was
just because I had to develop the bank
of back-end as well so it was just a
proof of concept in three hours but
still I mean running application to
three hours is remarkable and he was a
JavaScript Eccles ok no way ok this is
the answer so if there is no way I have
no time so there was no open source ok
any questions I think we have five
minutes for questions
no questions everything crystal clear
yep
oh yeah yeah everything is generated
automatically the a website file
everything you need
if you had sometimes so the question is
whether the view has hard to reference
to the presenter depends which view
because if you look at the snapshot it
only is dependent on observable list so
if you go to the for instance the
snapshot no reference to the presenter
the snapshot table no reference to
present up this is the beauty of Java
things what I'm passing is just the
business attribute the view is
interesting in and there is no reference
to presenter but this is perfect for
tastic I was able to do tested charts
without having the back end
this happens in presenter very good
question by the way this is the way
and this isn't presented this is the the
job of the presenter to manage the views
yes
yeah
this is a mediator represent us all and
the beauty of that is I can mock out the
service in the presenter I can work out
the views I get a test the whole
presenter without the back end without
the views with everything whatever I
would like to do and in real world I
mean this is modification you will have
multiple presenters and probably one
would presenter for the whole
application logic for instance you will
have multiple forms if someone would
like to click the to close the
application usually deeper the view
presenter will notify the route
presenter I would like to close that and
it will notify all other all other girls
or guys pairen
if you could talk to the model via via
bindings as well but I did this in my
case it only happens in the scripta
where this was the controller which was
created by Singh builder this was the
case where it was loaded by fix ml Oda I
injected the presenter and yeah okay
private water okay okay how to test
privates so there is any of you have
mojito you can you can just use
injection for private I never did it did
that but you can do there is a framework
code called something with glass so you
can over override the private you can
build your own utility with the code
like field set accessible true set and
you are done and even captured in a
static method and what I wouldn't do it
I could leave it package wide package
wide visibility because the unit test
remains in the same package as the
presenter usually and you could make it
private but if it's packaged white what
can happen actually nothing because if
you will try to run it on Hudson sonar
and all the tools will complain you get
a major critical violation that someone
try to interact with a with with
non-public field or even with of you so
from prime attic what I try to achieve
just I leave the private so I can better
test app if it's not allowed for strange
reason and you cannot talk to the
architect or QA Department then I will
create my own axe with reflection
doesn't Germany very common so we know
it's stupid we have to do that ok if you
pay me a problem other questions then
the questions are getting better and
better
other questions
screams we have a very
straight spaces the river
data low impact
over
so the question was we have our system
where the data affects the presenter how
to deal with that but this is actually
does the presenter is this is changed
constantly with the data from the server
it is actually this pattern or you see
or are saying that the view changes the
present okay if the view is changing the
presenter there is on another challenge
which was a little bit out of scope is
validation field validation because if
you have fields what I tried I just
adjust you can have bindings and then
register as a listener if in case
there's the field is invalid you can
throw a runtime exception and catch that
this verse but binding you have to care
about validation and there's another
problem
if you validate very fine-grained it is
too early usually the user would expect
that you just feel the whole address and
push okay and not the validate you know
the street with the number because it's
not not complete a little bit more
changing was the same problem as in
swing and I would experiment with bean
validation it's a part of Java 6 but you
can just reuse it completely on the
client so there is just a set of pojos
for validation combine that with with by
Nick this would be my approach
okay you can use bean validation with
all the surveyors in fact the expert
group leader uses tests everything was
unit without firing the application unit
without firing the applications of at
all hibernate validate has one
implementation and the other is from
Apache I forgot that this is um yeah
forgotten to name from Apache track with
patient other questions so thank you and
sorry for no effects further I didn't</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>