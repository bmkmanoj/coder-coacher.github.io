<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Custom Charts | Coder Coacher - Coaching Coders</title><meta content="Custom Charts - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Custom Charts</b></h2><h5 class="post__date">2013-01-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/c8riVwFpbNQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the idea behind this session is to talk
about some of the ideas behind how you
can use the the charts that we have in
JavaFX and then actually extend those
because the the way that they've been
designed means that you do have the
ability to take the butt chart classes
that the actual charts are built on the
abstract classes and extend those so
that you can develop your own particular
charts that meet your own requirements
now we do give you a fairly rich set of
chance as it is but there are always
situations you'll find where you need
some different way of representing data
so it's nice to have the ability to
actually be able to customize the charts
that we have and also extend them in
ways that you need to do so we'll talk
about a number of different examples of
that as we go through now as usual we
have to have the obligatory legal slide
which says that you know this is just a
guess at what our general product
direction is going to be please don't
face any purchasing decisions on what
I'm going to tell you not sure you can
actually purchase what I'm going to tell
you but right so in terms of the agenda
we're going to talk about the basics of
the charts in JavaFX this is one of the
things that's really nice about JavaFX
and a big change from the way we did
things in swing is that we do actually
provide you with a set of chart controls
in swing you had like tables you had put
trees and things like that but there was
no simple way to represent data
graphically there was no control there
was no component that you could actually
use to represent data graphically
in jar FX if you want a pie chart you
don't have to write the graphics
yourself then simply take the data that
you've got give it to a pie chart object
form a node and have explained on the
screen so we'll talk about the basics of
the charts and JavaFX then we'll talk
about sheets because JavaFX
again big change between swing and
JavaFX is that almost all of the nodes
in jar FX can be styled using CSS so
talk through some of the details of how
you use the style sheets how you use the
individual elements and what kinds of
things you can do with the chance that
we've got there's a lot of flexibility
in terms of how you can style things
then we'll talk about the way that you
can extend charts and actually take the
base chart classes and add the
functionality that you need represent
data in different ways constructed at
the graphical parts of the elements that
you need and do all of that kind of work
and then we're going to talk about one
chart in particular this is one of the
charts that supplied as part of the
ensemble sample applications that we
provide so that you can see how things
work and that's an interesting example
of how you can extend the charts and add
new kinds of information so we're talk
through how that works and what's
actually been done in terms of the way
it works and also the styling that's
being used and then we're just kind of
wrap up at the end so let's talk about
the basics of charts in JavaFX so here
is a very simple example of a chart that
has been created using the sharp classes
in JavaFX it's just a line chart which
represents three sets of data now in
terms of the major components that
you've got there of the chart itself
there are three different things so one
is you've actually got the content
that's being represented in terms of the
lines that give you the data that's
being presented and then you've got a
title which obviously tells you what the
chart is actually presenting to you and
then you've got a legend which enables
you if you've got multiple sets of data
even if you've only got one set of data
to be able to distinguish what the the
different lines on the graph mean so you
can see okay the blue line is portfolio
3 the C it's probably difficult to tell
between the yellow and the green line
but you can see its portfolio one
portfolio two so we're a way of
informing the user of what the data
represents and the nice thing about that
is all these things are built into the
the chart notes so you don't have to add
that extra graphics you simply say
here's what I want to be the title
here's what I want to have as the labels
for the legend and it will do all of it
for you another really nice thing about
the JavaFX charts is that they have
animation built in and so if you do
things like changing the data or if you
add data if you remove data rather than
just jumping and suddenly you know you
drop one piece of data out into the line
changes position there's an animation
built-in so it will actually do a smooth
transition and make it appear you know
that the line is moving gradually rather
than jumping from one place to another
and that that's a really nice thing so
that you can actually see a lot more
sort of interesting visual effects one
thing about that is that when I first
started looking at charts and I saw that
we had animations built in I thought oh
that's good so what I'd really like to
do is change the way that it animates
things unfortunately you can't do that
directly so there's no property or way
of accessing the animation that's used
internally in the default charts now
I'll show you how you can apply
animations yourself using your own
charts but in terms of using the the
standard charts that are available you
can't just dig in and say okay I want to
change the animation what you have to do
is you can want to do that you'd have to
subclass the chart and then you'd have
to fiddle around with it a bit so it's
not quite straightforward is not like a
simple property that you can change
there are two types of charts in JavaFX
so there are two axes chance which
obviously this is an example of where
you have an X sorry x-axis and a y-axis
that represents to certain parts of the
data I mean there's anything else so
we've divided it into two groups one
which has two axes and one which doesn't
have two axes
from the point of view of the API that
you use it's really sort of divided into
three parts and you can sort to think of
this to some extent as sort of model
view controller but it's not quite on
the public side you have the ability to
skin the chart so this is how we can
describe the stylesheet we can describe
the individual parts of that stylesheet
and let the system know how we want to
style the various parts of the chart
itself then you've got the control which
is really saying okay how do isn't the
data to be represented what are we
actually going to do with that data in
terms of presenting up on the screen and
then we've got behavior which is what
happens when you do present the
information on the screen so there's
three different parts to that behavior
obviously is sort of like the animation
so that's like I say the private part of
the API where you can't directly change
that but the the control and the skin is
public so you can change those to have
different things happen
in terms of the actual API itself if we
look at the the different charts are
available everything comes from I
probably should have put a node at the
top but so everything is a node because
we need to put everything into our scene
graph but in terms of the charts itself
if we have a super class which is chart
which basically represents a visual
representation of the data that we want
to put on the screen so that's our sort
of most abstract concept in terms of a
chart then we subclass that for the XY
chart which represents the chart with
two axes and then we if we don't want a
chart which has two axes the only thing
that we support at the moment is a
standard chart is a pie chart but if you
want to create a different chart which
doesn't require two axes then you can
simply subclass chart and produce your
own version of that from the XY chart
point of view we have a number of
standard chart types that we can use in
terms of displaying data so there's an
area chart where you're representing the
the data as being the area underneath
the graph you can do a bar chart which
is the classic bar chart with the
different sizes and the bars to
represent the data bubble chart we've
actually got the the information not
just being the points on the graph but
also the size of the bubbles to
represent a further piece of data in
addition to the X and the y axis
you've got the line chart which is a
simple set of points that have connected
with lines so you can see the trend in
things I'm in a scatter chart which is
really simply points that you're putting
onto the graph to represent points of
data so that covers a very large range
of most people's requirements but as I
say if you want to do a different kind
of chart where again if you're using an
x and y axis and you want to do
something different then you can
subclass the XY chart and you can have
that use the functionality of a two axis
chart and the fact that you have an exit
in x-axis and a y-axis and then you can
overlay the necessary functionality that
you want on top of that
a little bit more data and each detail
about the XY chart what that consists of
is to sort of inner classes one of which
is data and that represents the data
that is going to be presented on the
chart so you're going to have
information about the x and the y values
and then there's also another value that
you can have as part of your data which
is called extra value so that is an
object reference so we can use that to
represent another piece of data now if
you think about a bubble chart you have
the X&amp;amp;Y position of the bubble but then
you also have the radius of the bubble
so the radius would be your extra value
there so you can represent that third
piece of data using the extra value so
it represents data point that we want to
plot on the graph and then what we get
is a node which we can access and that
will describe what the point that we're
putting on the graph is actually going
to look like so again if we want to do a
bubble sharp we're going to use a circle
with a radius which we represent by the
extra value we could also make that you
know and lips so if we wanted to have
two different values to represent the
the X&amp;amp;Y radius of our bubble we could do
that as well but we have a node which we
can use so we can completely change that
depending on how we want to represent
our data so for a bubble chart we can
use you know size of a circle for a
scatter chart we can use different
symbols to represent different pieces of
data for other charts that we're
developing we can use an arbitrary node
for the data that we're actually
presenting building on top of that we
then have the concept of another in a
class which is the idea of a series and
if you think about the the first chart
that I showed the example of where we
had three lines representing three
portfolios each of those is a series so
it's essentially a set of data that
we're graphing and that is the data that
is to be treated as a single set so in
the case of a lime chop that's the one
that will be joined together with a line
and then if you want to represent
multiple sets of data you actually add
multiple series of data to your chart so
it's very straightforward in terms of
how you use that I'm pretty logical
really so let's talk about how we can
use charts and style sheets in terms of
actually changing the look and feel of
the charts that we're using so in terms
of the the charts that we present all of
the visual elements of that chart are
represented by elements in the style
sheet and we have this thing called the
caspian style sheet which is the default
style sheet that was created for JavaFX
what that does is it sets all the
standard values for things and then if
you want to change that you can simply
provide your own style sheet and you can
override various values of the the
elements within the style sheet and then
load that into your application so that
when the application is presented you
know colors can change the size of
objects can change all the different
things that you can actually describe
using the style sheet in terms of the
individual elements there is the overall
element which is a chart clearly makes
sense then you have a chart content and
that is a pain not literally in the
sense that it's a pain displayed on the
screen and because you have a pain
obviously that is a node so you can
reference that and you can reference all
the qualities of a pain and subsequently
a node being its superclass so because
it is pain has all the same style
elements as a pain does and a node does
in terms of the chart title that is a
label so it has all of the style
elements that a label has so you can
change the font you can change the
stroke width you can change the color
just as you could any other label but we
represent it as the chart title
specifically chart legend because that's
a little bit more complicated you can
see we've got the the idea of you know
three different labels so the chart
legend item is a label and you can
change the font and so on
and then the chart legend items symbol
is a note and in this case what we've
used is sort of three circles to
represent the data but if you wanted to
do something more sophisticated because
it's a node you can replace it with
whatever you want so in theory you know
you could use images you know you could
even use a video if you wanted to as
your Legend symbol because it's just a
note so anything you can put in a node
you can put in your legend so just to
show a couple of examples of how you can
use that like I say you have the idea of
like it being a label so you can change
the font you can change the size and so
on but you can also change things like
the position so here what I've done is
I've set the FX title side to being
bottom and so rather than the the title
of the graph appearing at the top which
is a default position it actually is
presented at the bottom and then
similarly we can set the idea of the
legend being visible being true that's
actually a default so if you wanted to
you can turn that off if you don't want
to have a legend for your app or your
graph but also you can set the side
where the the legend is presented so
here rather than having the legend at
the bottom I've said put the legend on
the left of the graph so you've got
flexibility in how you can actually
arrange the items as well as how you
actually can present them
in terms of the XY chart there's a
number of other styling elements that
you can use what these are all billions
so you basically turn these things on or
off and in terms of like the first two
this alternative code column fill
visible and alternative row fill visible
what that does is it says if you've got
a number of rows in your rows or columns
in your graph if you set it to true then
it will use different colors for the
alternate rows or columns to give it a
slightly different effect so rather than
having just a one color underneath the
graph it will actually alternate the
colors of the different columns or the
different rows in order to give an
easier to view effect of the where the
the changes in the the rows and columns
are similarly you can say okay
horizontal gridlines visible vertical
gridlines visible and that allows you to
turn off or on either the vertical or
the horizontal lines in the grid so
again you could turn those lines off and
by using the alternate column or
alternate row visible things you can
have you can see where the changes
between the columns or the roads are but
you don't have explicit lines in the the
graph itself similarly you can set the
horizontal zero line vertical zero line
to be visible or invisible and that's
the the line that you're see along the
zero axis and you can actually set that
so it's visible or not
now if you want to get a little bit more
sophisticated you can actually start
fiddling with the the axes themselves
and this was something which actually
took me a while to figure out because I
was doing a simple application and what
I wanted to do is put a graph in my
application which is fine okay that was
easy but the problem I had was that I
wanted to use a black background so I
had a black background and then I put my
graph onto the black background and
straight away I couldn't see anything of
the axes because all the axes are done
into the dark gray so it didn't really
show up it did actually take me quite a
long time to figure out how to change
all the different elements of the that
the axes so that I could make them
visible on a black background one of the
things that it seems that it's I haven't
found a way of doing it is you can't do
this programmatically so within your
code you can set certain style elements
but it seems that because these are
nested style elements I couldn't find a
way easily I couldn't find a way at all
of changing this programmatically so if
you want to do something like this you
do have to use a style sheet to actually
change the the way the axes are
presented on the graph so what I've done
here as I've said okay let's change the
colors and also some of the sizes of the
axes here and what I've done if you look
at the the x-axis
you've got the axis label itself so if
you want to change that label again it's
because it's a label you can change the
font you can change the size stroke
width and so on in the case of the axis
what that would do is it will affect the
labels on the axis tick marks so we're
not talking about the label of the the
actual the whole axis is the label of
the tick mark and here what I've done is
I've said okay the axis we're looking at
change the tick mark label fill to be
blue now you have to change it to one
color so you're actually limited in
terms you can only change the all of the
labels you can't change one the X and
the y-axis to be different colors
similarly in terms of the tick marks so
yep there's access tick mark which is
the major tick mark and so you can
change the the stroke color for that to
be red you can change the stroke width
so you can make it slightly wider if you
want so it's more obvious
similarly the axis minor tick mark is
that the little ones in between again
you've got the ability to make those
visible or invisible and so you can just
say okay I want say set this to be green
and again change the stroke width to be
three points and makes it slightly wider
but this does allow you to have
flexibility over how you change the way
that the axes look and like I say if
you're trying to put it on a darker
background where the default colors
won't show up this is the way to do it
in terms of changing that
JavaFX will not look at the color of the
background and automatically go oh you
know there's a dark background let's use
white rather than black as the default
colors another thing that you can do is
in terms of scatter chart symbols so
these are things that are used in four
different series of data in a scatter
chart so you have like a cross in a
circle a diamond and so on which are
used to represent the different sets of
data and do all ones like I said then
are specified in the caspian style sheet
and then you can restyle them and
because the there's them the dash F X
shape element of a style sheet you can
use that to define a scalable vector
graphics path to say what particular
shape you want to have displayed to you
so here what we can do is say chart
symbol we're going to set to be bright
blue and in the shape that we're going
to use and we define a move to zero for
line to two for line 2 4 8 9 7 0 9 2 9 0
line 2 4 11 and then that stop so we'll
see how that works in a moment because
what I'm going to do now is switch to a
is that the big one she said that's the
tempo right so don't you see what you
just run this one just quickly so this
is just really showing the same chart
that I showed you where you've got the
okay
beep I did actually somebody to warn me
about that cuz I didn't pray to the demo
gods this morning because I said I'm not
using any hardware today so it's not
gonna be a problem
I'm gonna find that the whole building
will fall around me okay so that's just
a showing you the same example that we
showed before and that is based on a
style sheet so for example if I go into
in fact this is the sorry I've got here
so so if I want to change some of that I
could change let's change the tick mark
and make it slightly narrower
run so just show that hopefully yes yes
that makes it illegible okay but you get
the idea that we can change the color
very easily by changing the style sheet
so that was just a simple one there and
then we'll also look at the idea of the
scatter chart and in fact actually stop
back looking over so this is the the CSS
file bigger so you can see it so setting
the background color to red again and
then we've got the the idea of
specifying a scalable vector graphics
path that we want to actually have
displayed and then what I'll do is first
of all I'm just quickly going yeah
so if I just comment out the loading of
the style sheet first so we see how it
works so we get yellow dots for the
first one then we get green squares for
the next one blue diamonds blue crosses
blue triangles red circles okay so
that's just the default styling for the
individual elements so you get in a
scatter chart now if I apply the style
sheet by uncommon and then just to
remind you this is default color one
chart symbol and I run that again just
to make sure I change or get now so
we've still got the the option one
because remember in computer science we
count from zero rather than from one and
now for add a new series I get a red
tick mark so that's the restyled element
in the the style sheet so I set the
color to red and then I drew the scallop
vector graphics path was just drawing up
a tick mark so it just shows you that we
can change the symbol that we use for a
particular option in a scatter chart
just by changing the the starting point
okay
okay so if we if you look at extending
charts now there we go right
right so what I thought was okay let's
look at some examples to how we can
extend the existing charts and rather
than writing a whole new chart from
scratch and you know creating a whole
thing what can we do with the existing
charts and then extend them to give us
different functionality so I thought
okay let's look at the idea of some
simple drill down in a pie chart what we
want to do there is you want to say okay
if you've got a pie chart that's being
displayed on the screen if a user clicks
on one of the items in that we want Matt
to then drill down into a separate set
of data and redraw the pie chart based
on the data that is associated with that
particular piece of the pie so it's a
drill down activity now the thing about
the the pie chart is that in addition to
it being a node all of the the slices of
the pie are themselves nodes as well so
it's easy enough to say okay we can
reference all of those nodes by doing
slice a get node and then what we can do
is we can say okay and a mouse click
listener to that so when the user clicks
on it we want to actually do something
to change something and then in terms of
that particular event handler we're just
going to do my part my pie chart drill
down or into a different slice of data
and all that has to really do is just
reload the data for the pie chart and it
will redraw itself I'll show you an
example of that actually running in a
moment we're talk a little bit more
about that when I show to you in action
the other thought I think I thought of
is okay let's have a pie chart where we
can slide a piece of the pie out to
highlight it so if you were showing
people data you might want to actually
slide a piece of pie out so you can talk
about that particular information on its
own so the way I did that was okay so
you're gonna use an event handler and
what I had to do was to actually have a
look at the the code for pie chart in
order to figure out how it worked
that was easy because it's open source
so if you go to open J effects then you
can actually download the source code
for all the controls so I can actually
look at the source code for the pie
chart and figure out
what was actually happening underneath
and so you can get the region associated
with the pie slice and then you can use
a deprecated method little bit cheeky
but you can use deprecated method to get
the arc node because by default you get
a node which represents the piece of the
pie but you don't get the arc node so
it's it's kind of a little bit fiddly in
terms of the subclass so you can get the
the arc node for that particular slice
and then that will give you the start
angle where the slice starts and also
the length in terms of degrees that the
the pie the size is actually using then
you can use the radius combining with
that information you could say okay how
far do I want to move it and by knowing
the angle you can calculate which
direction you want to move it into which
gives you a translation in the X&amp;amp;Y
coordinates using simple trigonometry to
figure out a way to move it to and then
by using a timeline you can create an
animation you can slide the piece of pie
out you can slide the piece of pie back
in so again I'll show you a
demonstration of that in a moment the
other thing is because like I say all of
the different elements of the pie chart
are notes themselves
you can register listeners on those so
it's really very easy to do you know
whatever you really want to do so you
can do a click to indicate that you want
to drill down but you can just as easily
add something like a mouse-over event
handler so as you're moving the mouse
around you can highlight the particular
elements of the pie chart that you're
moving the mouse over you can do fade in
you can do fade out using time lines
obviously if you don't have keyboard
events associated with a particular
piece of the pie that's a little bit
harder because you've got to get focus
if you like for that particular note but
in theory I mean if you want to do a
little bit of you know conditional code
then you could certainly make that work
reasonably easily so let's have a quick
look at a demo of this
right so
in first
right so a drill-down pie-chart yeah
let's try that one first right so this
is the idea of a drill-down pie chart so
we've got a pie chart again this is one
of the this is actually one of the
ensemble demonstrations so you can you
can see the code for this in ensemble
and what we do is we've got the idea
that as we move over the element it
highlights it by using a red border
that's actually a style sheet thing so
we're using a style sheet to indicate
that the color of the edge to be
highlighted is red I mean what if I
click on that what that's going to do is
reload the pie chart with a set of new
set of data to indicate what we're
drilling down onto and we'll see that we
get a nice animation as it does that and
that's the built in animation
so that's the thing you can't change
easily you'd have to completely read
works with the pie chart unfortunately
no way of going straight back so you
have to run that again if you want to
see it in action but do that one more
time because it's nice and then if we
just click on that we get a nice swirly
animation where it uses time lines and
you know reproduces data so that's quite
a nice sort of simple and like I said is
a very simple thing because all you have
to do is replace the set of data that
the pie chart has with the new data of
the drill-down
section and all the animation is handled
for you so you literally just say set
the data to this and it happens
automatically so moveable pie chart and
just yeah just have a quick look at this
so this was the piece of pie thing so
what I had to do is use this
yeah so this is where I got the the
actual selected piece so as you can see
it's it's I've got a line for it because
it's a deprecated method which gives you
the shape associated with the particular
piece of things so it is a touch fiddly
because you have to cast that as an arc
so strictly speaking I should have an if
statement before that to verify that he
is an instance of arc before I do the
cast so I can avoid a cast cast
exception but because I know I'm working
with a pie chart I'm fairly safe that I
can do that and then you just calculate
the the angle of where you want to move
it to and then when you want to slide it
you work out the the different distances
and you set up those properties
associated with your piece that's the
the I use the center X in the center Y
property because of course it's an arc
so you know that you always want to move
it from the center and so that just
makes life easier because if you start
using the X and the y translation
because the the top left-hand corner of
each arc is not going to be in the
center of the pie it gets rather
complicated so by using this the center
of the arc it makes it a lot easier in
terms of actually doing the move and
then just do a timeline where you use
very the x and y values over time and
you get the the end result so if I run
that we'll see yeah so it's a pie chart
same idea we still got the same style
sheet but this time if I click on one of
the pie items it just slides it out and
then I can slide it back in again and so
same thing if I want to do no it's just
a nice little animation there one thing
I haven't I didn't do I mean it's it's a
minor thing but I should probably should
have done it to really sort of tidied up
is I didn't move the label associated
with the slice that I was moving out so
it probably would have been better to
move the label at the same time but that
would have been a few extra lines of
code because you can easily reference
the label from the the pie itself but it
just gives you an idea of what you can
do in terms of that and then again just
a simple example of the
the hover pie chart which is similar to
what we do for but this time rather than
using CSS to indicate that we've got a
red edge to it what we're doing is we're
using a timeline to fade in and fade out
the the different colors of that to you
highlight the particular one that you're
using so it's again fairly fairly simple
thing that you can do just show your
code for that quickly
yes that's the highlight code so it's
really just varying the opacity again
using a time line so you can change the
opacity there and then that's it that's
all you have to do and then it it just
works
so let's talk a little bit about the
idea of the candlestick chart once again
this is one of the charts that's
available in the ensemble package I
thought this is a good thing to look at
because it's a nice example of how you
can extend a chart and it saved me
having to think up a different way of
representing data so the idea behind
this is that if you think about trading
in shares training in shares has a
number of different pieces of
information available about each
particular part of the day or each day
so what you've got is you've got the
open price you've got the closed price
you've got the high price during the day
but the low price during the day those
could all be distinct pieces of data so
what we want to be able to do is to
represent this data on the screen
somehow now what you could do is you
could use a bubble chart so like I said
you could you could use the X&amp;amp;Y position
actually no you couldn't even do it with
that really very easily but anyway
you need some way of representing it on
the screen so what we're going to do is
use a lot of XY chart subclass it and
create our own way of representing the
data so what we have to do is obviously
in sub classing it we've got to override
the necessary methods that we need so
there's things like data item added data
item remove data item changed which need
to cope with a new piece of data because
we've now got and four pieces of data
for each element we need to process
those appropriately because we're not
dealing with just a single XY coordinate
we've got four pieces of data associated
with it we're also in those methods this
is where we can change the animation so
if we want animations to happen when for
example we change the data that's where
we put a timeline to to put in a new
animation so in the case of like the pie
chart if you really wanted to change the
the way it worked
what you could do is you could take the
the pie chart you could use the code or
understand from the code in open GFX
what data item changed or data item and
it does and then by overriding that
particular
in your own implementation you could put
a different animation in so there is a
way of changing the animation it's just
a bit complicated then you've also got
the idea of a series add Series removed
which is where you're adding a complete
new set of data that needs to be
represented on the screen and then
really that the one that does most of
the work is the idea of the layout plot
children and that's the thing where it
actually does the drawing of the the
elements on the screen that represent
the data and so updates the notes and
then you've also got the method which
changes the axis because if you start
adding more data and it changes the
range over which your data is is valid
then you may need to redraw the axis so
if you've got an axis that goes from 0
to 100 and you add an element that's 150
what you need to do is rescale the axis
so and then becomes zero to 200 so
that's a method that gets called in
order to do that and so you need to
override that method in your
implementation to make sure that it
works in the right way for your
particular data so in terms of the point
values we remember we had the extra
value as part of the XY chart data so we
had an X and a Y value and then we had
extra value extra value is an object
reference so it's easy enough to say
okay well it gives us an extra value but
we need two extra values so we do is
encapsulate that in a class and then we
can provide a reference to an object of
that type in our extra value so it's
easy enough you know we could store 2 3
however many pieces of data we want
using that extra value reference then we
create a separate class to use for the
date value like to say attach that to
the extra value and and that solves the
problem for us now in terms of this
particular graph we use style sheets
quite extensively and I will show you
how extensively that or what impact that
style she has on what you actually see
when I show you the demo a little bit so
here what we're doing is we're setting a
number of different things on our
particular things so
there's a number of these which are
specific to our chart that we've created
so things like demo bar fill being read
that's not part of the standard XY chart
style sheet so we're adding some style
sheet elements to our implementation of
the graph but then things like the the
background color we're using some linear
gradients to give us some nice pretty
things that we can see we've got
different insects for the background
we've got some padding and so on and
then we've also got a drop shadow effect
that we want to place on the actual
candle within the the candlestick graph
so if I show you the demo of this
right so this is science
right so this is just the the code for
the the candlestick gruff where we're
going to leave the stylesheet in for now
and then I just show you that running
see right so we see a nice fairly
complicated graph of data so what we've
got is we've got the idea that's
representing you know the high point the
low point open and the close value of
the the different data and then we also
got a line that connects the the
midpoints of those so we can see the
trend of the the price over time and so
on and we've also got the you know color
associated with the different candles to
represent two sets of data so we can
actually represent multiple sets of data
if we want there and and so on or
actually no I think that's is that no
it's not a two set of data that's I was
representing where we go up or where we
go down so green means we've gone up in
price red means we've gone down in price
so again it's adding more complexity to
the way that we've implemented it so
that's using the stylesheet and so we
get a nice good-looking graph everything
works very well if we take the style
sheet out that will not compile
right I remove the stylesheet' and run
this chart again we see that it looks
somewhat different so that's what it is
without the style sheet applied and you
can see how much impact having the style
she applied to it actually makes so it's
the same concept you know we've got the
same lines in there or the candle is the
same width as the line so we haven't
changed anything there we've got the
same line connecting things but it's
it's not giving us anywhere near as much
information as by using a stylesheet and
it's not giving us anywhere near as
useful a graph as if we actually have
the stylesheet implemented on top of
that so that's
good okay so okay just a want to do that
sorry
right so just to sort of wrap up then
genre fakes gives you a very powerful
set of graphs or charts so you've got
all the standard types that you would
expect like line charts bar charts pie
charts and so on so there's a lot of
ways of expressing data graphically to
your users and by combining that with
style sheets you can really do a lot in
terms of those standard charts but the
great thing is that even if you want to
do something more complicated and you've
got a different way that you want to
represent the data it's quite
straightforward to actually subclass the
necessary standards or efex
classes and generate your own one where
you can apply your own animations you
can apply style sheets as we saw with
the candlestick graph and so on you can
do all sorts of interesting things so
you can have the idea of drill down you
can do 3d graphs if you want in terms of
using you know you could use a
perspective transformation to give a 3d
effect to it with the the work that's
going on at the moment with the next
version of Java FX so jar FX 8 that will
include more 3d concepts into it as
proper 3d concepts so it'd be really
interesting to see what we can do with
representing data in true 3d once we can
start doing that in the easier way so it
makes charts a lot easier
I've only got one more slide so all I
need to get through okay so just a
places you can get more information
the ensemble sample applications as I
say it's got some very good examples how
to use the standard charts the
candlestick chart is included in that so
you can see how that works there's a
couple of very useful parts of the
JavaFX tutorial one of which is
specifically two charts and the other
talks about style sheets in general and
how they can be applied to not just
charts but other things and I've got to
say I've found that very useful the
JavaFX style sheet reference is valuable
if you're looking to do use style sheets
at any point because it does list all
the different elements that you can
style and tells you you know the
inheritance between the different notes
and so on and also FX experience comm is
a nice sort of it's a kind of
accumulation place where lots of blog
entries get listed and useful
information gets put up so if you're
interested in seeing what people are
doing with this then that's a great
place to go as well so I've got a bit of
time left so there's anybody got any
questions
well I suppose it depends on on what
you're trying to do because say if
you've got a very large set of data then
the graphs will work with that so that
there's no issue over how much data
you're trying to represent clearly the
more data you try and squeeze into a
smaller purple spiral screen but some of
the things that we also do is so if
you've got we can do lazy loading in
some parts so if this things are not
being displayed on the screen at a
particular given time so if you're doing
some scrolling across data then we can
do some lazy loading underneath to try
and optimize the way things work on that
so we have tried to optimize for very
large sets of data as far as possible
yes
yes um okay I will just quickly show you
yeah
so in
so this is default color one chart
symbol so what you could do is you could
just have default color 2 2 4 car 3 and
so on or different colored 0 and then
that would change the the symbols for
the different series so by default
they're I think eight different symbols
that they fight but using the style
sheet you could you could extend that if
you really wanted to to make multiple
symbols and use that within your chart
so that's one way of doing it yeah it
doesn't work past eight series know what
yes okay so but what you could do is you
could subclass and then extend it so
that you could you could force it to use
more than eight it would be nice if if
by defining style sheets you could might
go beyond eight yeah yeah
oh yes yes and yes that's one question
and does come up a lot it's logarithmic
scales in 2.2 we do now support
logarithmic scales so there is a way of
defining a logarithmic scale for a
particular axis on a chart but when you
create the axis you can define the scale
that you use and then you can also
change that as the data set is changed
so if you add data you can rescale the
axis dynamically but we do support logs
as well yeah
yeah we don't support that not at the
moment no yep
right right yeah
I know they're always trying to do
things like optimize performance on
things like that I don't honestly know
what we've done you can have jump
okay so
there you go there clear easy on sir
yeah
um well the way you could implement that
is because the chart is a note you can
simply pick up Mouse event so you could
actually pick up the mouse wheel events
for example and then all you need to do
is use an event handler and then you
scale the the charts yeah so you could
do that but that would not be too
difficult to do it I will say that I do
not know I was talking to one of the
engineers just the other day and you're
saying oh yeah do tell them about
logarithmic scales I've told you about
logarithmic scales I'm fortunate I don't
know how quite how they've implemented
it I haven't experimented with that in
terms of how it actually works
so I can't give you an answer for that
directly
I know that's something we are working
on is how to do that at the moment
you're gonna
thank you
I've not tried I'm not trying deploying
it as an applet I mean because it's just
running as Java
I wouldn't expect the performance to be
lower than if you're using as a
straightforward application because the
rendering is going to be the same
whether it's going from a web browser or
whether it's going from a an 800 native
app but a standard application so I
wouldn't expect to see any significant
difference in performance treemaps not
at the moment as far as I know no I'm
not well I mean you could over you can
design your own based on what we've got
here but I mean we have trees but not I
don't know about tree maps yeah okay
well thank you one more question
well you you could I think you can do
that because I'm trying to think you
should be able to get access to the
legend in which case you can get access
to the node within that which represents
the you probably have to look at the
code for one of the charts to find out
how it does it but I'm pretty sure that
you could reference the node which is
representing that particular in the
legend which represents that set of data
if you can get access to that node
you could simply put an event handler on
that for a mouse click and then use that
to turn on or off the data in the graph
so you could do that without I think
without too much work I haven't tried it
but I don't think it would be too hard
to do that
well because the the chemists if you
look at the candlestick chart because
that implements an XY chart completely
you're overriding the the draw method
coming one which actually redraws the
plots of the things so if you wanted to
join data then it's very easy because
within that method all you need to do is
figure out which points you want to join
up and then use draw a line between them
so we just part of your plot so you're
free to do whatever you want within the
plots do you see what I mean
okay well thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>