<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Best Practices for Cloud Identity in a Java EE--Enabled PaaS | Coder Coacher - Coaching Coders</title><meta content="Best Practices for Cloud Identity in a Java EE--Enabled PaaS - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Best Practices for Cloud Identity in a Java EE--Enabled PaaS</b></h2><h5 class="post__date">2013-01-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/vvAPid1iDrA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so welcome good morning to San Francisco
hit thirty in the morning I'm from
Chicago I work for red at and I'm part
of the jboss division some one of the
early developers of the jboss
application server you familiar with
jboss right you might have used it so I
I'm like the lead security architect for
jboss so jboss platforms and jboss suite
of projects and you know products so I'm
kind of the main security person for
that so let's go to the agenda I had a
show of hands from you here and it seems
like not many of you have actually used
the cloud environment right as much but
you encountered things like oh we need
Sam oh we need this identity management
we need this start right and you have
these questions every day so you know
this presentations kind of gives you a
lot of information about what's involved
with identity management security
identity and things like that and
hopefully you should have a few
takeaways from this presentation you
know which will enable you to make bit
better decisions when somebody asks you
to do something so I'm going to talk
about you know cloud identity and you
know tell you what's the concept of
identity and trust and then I'm going to
kind of very briefly tell you about a
platform as a service what is a java ee
enabled pass and we have an open we have
a platform as a service for developers
from read ad called open shift so I'm
going to tell you about that and this is
one of the classic problems that lakes
or industry which i denti management
standard to use you know this whole
bunch of them
and people like me out of trouble
getting our heads but the issue is at
the the crux all of these standards are
solving one problem and doing it one way
it's just I personally feel like the
security industry is kind of just
inventing new things the old reinventing
the wheel and you know starting new
things when you know you got to fix the
old things and things like that so I'll
talk about you know some guidelines that
be security practitioners use called
levels of assurance and then I will just
talk about best practices you know which
are just not for cloud but this is
applicable in your applications you know
enterprises and you know when some of
the challenges you might have and some
of the best practices and you know
things to watch out for a bunch of them
so hopefully if the demo guards have
woken up by eight thirty in the morning
you know I'll have a couple of demos to
just to you know get you a feel for what
I what's involved and I'll finally close
with you know some of the standards that
you should be no taking a look at or you
know you know just put it on your plate
to this monitor finally I live with the
resources so let's start with the
concept of identity interest yeah I'll
put it on SlideShare also i mean we are
open source company you think so itself
oh I should have put a legal this
another big disclaimer to know yeah
we're part of Jabbar's community you
know in open source our concept of
identity and trust what is an identity
interest how many of you are familiar
with Twitter right have you seen this
check mark this blue check mark it's
been there about for three years now so
that's the concept of Twitter verified
accounts so when I create
did this image it was in beta but I
don't know if they are made it like they
come out of beta but this is Twitter's
program to kind of assert that a
particular account belongs to a
particular person right so as examples
this is the official twitter account of
President Barack Obama I don't think he
has actually tweeted or anything as far
as I know probably once or twice you
might have done but this is official
even if he has is subordinates do it but
this is like official information coming
from the president's account and how do
we know that we know it through this
blue checkmark verified account right
there's a twitter account for the Queen
of England with no check mark and I
follow it it's pretty funny and we add
from Chicago for the mayor I forget what
it was like a spoof and it was very
funny there's going to be a book and
stuff it was so we have lot of you know
Twitter accounts which provide
entertainment but they don't really
belong to the people they are kind of
representing so this is Twitter's
program for verified account so when you
look at this the identity is President
Obama but what's the trust Twitter's
providing the trust with the blue check
sign so that is a very simple
differentiation you know so when you
have your driver's license the name of
the driver's license is your identity
but who is providing the trust that this
is valid it's the department of motor
vehicles or any kind of government ID so
there's a very subtle difference between
identity and trust and sometimes people
mix and match and so you just got to
know that so another example of you know
Twitter verified account Tim O'Reilly
with a pretty popular in the publishing
and in the open source world you know
this is this account so let's talk about
cloud environments so many of you said
like you haven't
actually no experience cloud
environments and some of you believe
Burt I mean it kind of started as a
fraud it's not fair for whatever you
want to call it but it's kind of mood
bastard and you know people were
primarily saying it's just like a
hosting environment it's no different
from a hosting environments definitely
but there are a lot of what do you say
types of cloud environments and the
economics of scale and the benefits that
a cloud environment might bring to you
you know outweighs all the concerns
basically so red at as a platform as a
service of environment and when I say
platform as a service it's a cloud
environment to run your applications you
don't have to worry about starting
stopping or studying like a.j java
application server or you know worry
about if the database has been started
and things like that so it's a an
integrated platform for you to run your
applications so open should buy a dad
and i want to point to the last
statement it's free so use it for
running your blocks or test applications
you know things that so it's a polyglot
platform as a service it allows you to
run multiple languages applications
people run their wordpress blocks and
open shift you know Ruby Perl Python PHP
or gorgeous but one thing that's
interesting is we provide full support
for java ee 6 in the cloud environment
so you have jboss application server a
full instance running in the cloud so
you can write any of your java ee 6
applications and also we have I think
you can use the jboss platform which is
more like a stable version of jboss also
and it's free so basically openshift
that's two concept a concept of gears
and a cartridge gears a space
a concept of resource allowed
allocations so how many you know how
much memory is allocated to you and how
much file space is allocated and you
know things like it's more like a
resource-constrained concept it's called
gears and cartridges is it's like you
have a Java cartridge that's like a
JBoss cartridge then you have a PHP
cartridge poll cartridge so it kind of
when you say create an application with
this cartridge it opens up all the you
know things for you like hooks for you
to deploy applications to start jboss
and if you are using PHP or pull the
appropriate environments is set up for
you so that's the concept of a cartridge
so let me show you
so it is available at openshift com
which kind of redirects to open shift or
reddit com and you can read it's free
auto scaling platform as a service for
applications basically
so many of you run like blocks or
something in the open like it we are
bolstered or something so I mean you can
use it down in an open shift to run your
blocks and stuff so kind of feel free of
course there are some you know resource
constraints that you are too kind of
meat and each person is allocated like
three gears so basically you can have
three application spaces within an
application space you can have multiple
web applications and stuff so you still
have like gear constraints more like a
resource constraints in the cloud
environment because it's a shared
environment right so classic question
which identity management standard is
relevant and what's your choice which
would you choose what's your favorite
Sam oh okay how do i if somebody says oh
do can you evaluate if we need sam'l if
you need or if you need open ID you know
if you need w / Kerberos they send that
how do you make the choice right how we
do start and the what we use is
something called nest 863 special
publication which has this concept of
levels of assurance so it defines four
levels of assurance and the first level
is wherein you have little or no
confidence about the asserted identity
if somebody comes and says this is nil
you know it can be an ill it may not be
an L you just say okay and they'll come
in and do whatever you want to do but
what you can do is you know depends on
the asserted identity so where's this
very little confidence in who this
person is so the technologies that fall
under this level one of level of
assurance are open ID and Roth and where
is this environment coming in from come
from your blocks and your forums right
you don't really care who it as you know
as long as they come with somebody
but you won't do any kind of banking or
any kind of enterprise type operations
with the level one identity basically so
level two is gives you a little more
confidence than level one there is some
confidence in the asserted identity and
password base mechanisms like a username
password fall under level two and if you
use sam'l assertions using a password
authentication mechanism it also falls
into level two so this is this is like a
you can say like a gold standard for you
know choosing identity management
standards and you will see security
practitioners use this term like level
of assurance a whole lot level 3 as we
you know go I up in the level 3 provides
very high confidence if an identity has
come in as saying an L we know that yes
it is an L right we have used multiple
mechanisms to kind of assert yes this is
no as an example I had to go to the
government agency in in Chicago with my
Illinois driver's license or the driver
fled yeah with matter i was like and the
government agencies say no you i need
your passport they wouldn't trust an
Illinois driver's license because you
know there's been a lot of forgery you
know things like that so they wouldn't
but they would trust a passport so again
you have to make a choice as to which
you know artifact you are willing to
choose and what's the what's the arm
that if you choose the wrong thing what
happens so you know all of these fall
under this levels of assurance so if you
are using like crypto tokens one-time
passwords you know usually you fall
under level three level four is when you
actually are in the military re not the
three-letter security agencies this is
like extremely you need to have extreme
high confidence on
the identity so like you know if you're
in like military or you know all these
classified environments you have
multiple levels of clearance right to do
things so that is where you are
operating at level four so they use you
know some type of PR like certificates
and some kind of smart cards no hardware
modules and things like that they need
extreme high assertion on the identity
so I've told you about all these four
levels now okay now how do you choose a
standard right you have to differentiate
between a community type environment and
a enterprise type environment so when
you talk about a community type
environment you are talking about forums
blogs you know so you just need level
one assurance the key here is it's at
Internet's care now if you want to kind
of you know assert the identities for
anybody in the world I mean we have like
seven billion people potentially like
seven billion people can come to your
website right for a community type setup
I mean it's a overkill to actually
ensure all of their all their
information is in your database or in
your data store and if you want to know
do password management you know all this
fun stuff that comes with security if
you want to do that for an Internet
scale setup it's going to be really mean
it's going to be an overkill and the
technologies that operate at this
internet scale is open ID and OAuth and
they also have something called a
decentralized set up there is no central
authority for identities right so if
you're going to use OAuth and use your
Facebook or Twitter now your application
may support Facebook Twitter Linkedin
there's no single Authority for identity
it's a decentralized set up the user
comes with its own identity but the key
here is internet scale it's like large
number of people and it's very
applicable in forums and blogs basically
somebody wants to leave a comment level
one of assurance it might use
you know open i do odd back environment
this may be relevant to some of you is
when you work in an enterprise setup now
you need at least level 2 assurance
level so you i mean one good standard to
use this summer right sam'l assertions
using password based authentication and
if you need level 3 or level for you
just use samer with PK I are you know
certificates x.509 certificates and you
can use like smart cards and you know
hardware based modules but this is where
you use in operate in an enterprise type
environment so these I mean these
guidelines kind of apply to cloud
environment too right so it's nothing
different from when you operating in a
non cloud environment and a cloud
environment you still have to make all
these choices when you're dealing with
within an enterprise I mean if you have
things like Active Directory or any of
these directory servers and they all
expose the Kerberos right so typically
in your enterprise you might be using
like Kerberos based authentication you
know curb so thats Kerberos kind of
works within a single domain WS trust
it's pretty useful within an enterprise
wherein you have like web services or if
you have ejb applications web
applications various types of
heterogeneous applications then you can
use WS trust and the key concept in w
stress is something called an SDS
security token server which issues
tokens and the standard token that and
STS issues is a sam'l assertion so
Samuel is kind of in my opinion is the
king of enterprise i dint emanage
mondani community side i think like what
is the upcoming standard that's probably
going to be popular and open ID connect
on
off of it okay best practices the fun
stuff right so user registration do you
agree that all security systems need
users but you need users so users can
come from your corporate identity store
or you need to dynamically register them
if you are if you have a community type
environment and if you allow like
external authentication you might want
to register them and if you want to
expose like a sign up service to your
application then you need to dynamically
register and how do you distinguish
between a bot and a human being there's
something called capture which doesn't
give when you provide like a sign up or
a login sheet you have to populate the
capture of filled with our third which
you know you're not going to make the
request to the server so that kind of
it's a very simple technology to kind of
keep away bots and there are lot of you
know password strength meter syndicators
available in like javascript libraries
for your applications you know so just
using those JavaScript libraries you can
provide those meters like indicators
like passwords weak strong you know
thanks leather the key concept in cloud
paradigms is the concept of cloud
directory right if you have a public
cloud wherein you have applications that
are shared among multiple user sorry the
public clouds shared among multiple
applications and we have the concept of
tenants so you have multiple tenants
sharing resources you know your memory
your server space and things like that
and and cloud if you are in the public
cloud well does the directory of users
stay is it going to stay in the cloud
you're going to keep all your user
information in the cloud what if your
cloud environment gets hacked and stuff
like that what happens or do
the directory inside your enterprise
right so you have to make a distinction
this is a classic problem we have in the
industry right now what we call like
identity provisioning how do you
provision users you know whether the
users there you keep a subset of the
user information in the cloud and keep
your master of store inside the
enterprise you know you have to make
those decisions that's one of the
classic problems we have in the cloud Oh
me know if you know the story of
linkedin password skating hat I mean
they did take some security measures it
wasn't that they kept things in the
clear text the last recent one was I
Triple E something like I run a few
hundred thousand hundred thousand
passwords we're in clear text or
something it got exposed from I Triple E
so in case if I Tripoli they had Jim the
passwords in here text but LinkedIn not
kept the passwords in clear text and
asked it but the thing is if you just
hash it it's acceptable to dictionary or
brute force attacks that's where they
know we lot of the patch what's called
expose because they're just asked it so
when you look at ashing it's a one-way
process you take a password hash it and
you get something called oh god what's
the tone you get a ash value but the
issue is if you have one password and a
particular ash algorithm you go to get
the same right so you can use something
called like a dictionary of hashes and
see ok that's the password you know
things like that or you can use a brute
force attacks Varian you can mix and
match the letters and you know to keep
trying so the key concept is you need to
salt it and what happens is salt brings
a randomness to the ashing mechanism so
you can append to the password or
prepend to the password and then a
you know then it prob
it's an additional level of security and
it the salt should be unique per user so
you know again the concept a minute you
have to figure out you know where do you
store the salt and things that assault
can still be in the user table for
example so the key concept is just don't
ash you need to salt and ash each pass
password reset is a big pain right
people forget their passwords and how
many passwords exist per user right so
it's you you basically can issue single
use tokens which have like 15 minute
validity and things like that kind you
can send it to an email so identity
management right the classic problem of
directories so if you have directories
of users where does it stay is it going
to be in the cloud or is it going to be
a corporate based and there's some make
some use cases where our systems where
you may have a hybrid of directory so
you have a cloud-based directory and you
have a corporate directory right you
need to figure out how to sync between
them and the classic problem of Legal &amp;amp;
Compliance right so you may have legal
issues based on your vertical if you are
dealing with some kind of health care
information or financial information
then probably your information should
not be in the public cloud that one but
when you say cloud somehow public clouds
you know coming to mind but you should
also know there is a concept of private
clouds right private clouds is still
within the realm of an enterprise but
they're using virtualization basically
so private club is it's really useful
for enterprises you know I mean it's no
different from your / our hosting
environments in your enterprise but some
of the legal compliance issues go away
with private clouds okay yours
it's an architecture that you may use
for directories so as you can see you
know your user store your databases
directories of users may sit inside your
corporate boundaries and you may have a
team managing it and it may be clustered
all the failover fun stuff it's all
available and you have corporate apps
that you know your users little
enterprise users your customers and your
internal employees may be using and you
may have partner applications that your
partners use like when I say partner
partner of your enterprise may be using
they all will have your classic
corporate access they're coming directly
to your you know it to your website and
accessing them but if you have a public
cloud environment right and if you are
exposing some kind of cloud services it
doesn't necessarily have to be your
cloud services you may be using
Salesforce use me you may be using
Google Docs you might be using what
other like WebEx you know all these you
know cloud services that need kind some
kind of authentication you know roles
and you know all this fun security stuff
so this architecture then comes into
your comes into play basically so so
that's when you have you know cloud axis
so one an arm set up that you may use is
you have an interface between your
corporate boundary and a public cloud
using a mutually authenticated SSL you
know a private link between the public
cloud and you corporate infrastructure
and you might use a rest based interface
and you basically have now facades
inside your public lot so even though
your authentication you're still going
back to enterprise through that link to
get the user information and you know
you like your stores may sitting be
sitting in the enterprise and this
can happen when you have when you have a
program to register users partners for a
long time and now you don't want to try
a new thing you know because if you have
invested a lot in your directories in
the enterprise with teams and investment
you don't want to just throw it away
right so this kind of you know works the
biggest problem that exists right now in
using cloud-based services is how do you
expose your directories to cloud
services how many of you use Salesforce
some of you use right right and you need
a mechanism to for your employees to use
Salesforce and use your corporate portal
somehow right so some of these
challenges come there okay can you get
away from username password how many of
you want to get away from username
password right what's the problem the
alternatives you know are all promising
but required some kind of setup right if
you go to put a retina scan or you go to
a fingerprint reader or whatever now you
are vacationing in Hawaii some Island
you know and suddenly you need to access
your corporate systems okay look for
your retina scanner you want to look for
your fingerprint reader password works
because it's something you know it's
very simple you know that's the beauty
of passwords we just cannot get away
from passwords and that's the problem
and so you have to kind of bring in an
additional factor of authentication
either through some kind of password
questions what we call knowledge-based
authentication you know something you
know and the questions bring in the
additional factor of authentication so
you guard I mean if you can't get away
from passwords you have to bring this in
this additional factor you can also use
something called one-time passwords if
you use gmail
most of the gmail users have got hacked
right so Jimmy I mean google has come
with this concept of two factor
authentication right so you can use your
mobile device and they have an
application on it and each time you go
to your gmail if the computer is not
trusted you will have to enter the code
right then you can sit rustic and
hopefully you will not get hacked trust
me on most of my friends have got gmail
and same goes to yahoo or any of you
three services you are using and if
you're using if you have a Kerberos base
set up you can use kerberos for your API
and stuff this is my personal favorite
external authentication if you are a
small or medium business with no proper
IT capabilities you know you don't want
to deal with password management
headaches how many times you forget your
password trust me every year at least
once a year you have to reset a password
or call someone right so you have
password management headaches why bother
if you have level one type of
application you don't need higher level
of assurance right you are running a
community a blog or something why don't
you just externalize that authentication
to Facebook Twitter and Google you don't
need their password right I don't care
about your password all I all i care is
facebook says yes this is sonya okay i
am going to accept facebook's you know
statement that this is a no or Google
statement or Twitter statement and just
let's move on you know so if you have a
simple like a e-commerce side you're
trying to sell some backs or some
t-shirts you know then there's going to
be a credit card right I mean somebody
is going to use a credit card there's
some level of security for you you know
is if you get if the if it's a bad
credit card then the credit card company
takes you no liability for that so we
are going to make all these choices
based on your levels of assurance and
you know password management is a huge
headache
for systems authorization you know you
have to figure out if you need like
coarse-grained authorization code screen
authorization typically uses like
role-based authorization like okay this
is an employee this is a salesperson and
when you say like okay what's this
resource like in the terms of java ee i
mean it's always coke screen it's always
for a web URL or a ejb method against a
role but you can't make fine-grained
authorization checks for things like a
junior trader cannot make trades for
about a million dollars you know things
like that so no context based
authorization let's support in hawaii
soz akmal is it's a standard from Oasis
and most of the Java EE providers have
support for its akmal through their
security settings I mean we provided to
through jboss application server toe and
you have the classic Achilles you know
its proprietary less you just code up
your system admin would have caught a
blip some analysts to provide
fine-grained authorization and a new
style that's emerging in an Internet
scale level one type environment is
fourth mobile devices how many of you
expose your applications to mobile
devices right the challenge is there is
no clear identity for a mobile device
right there's a semi d you change it you
put a new sim basically the phone as a
new user right so they're a iphone you
have like you da ID that's the unique
identifier and and from what i have
learned is the chips of their own ID so
you have to figure out which one you're
going to use for your registration so
something to remember when you're
dealing with registering mobile devices
if you're using mobile devices you know
typically use some form of tokens
and the standard that is emerging is so
odd to identity providers you know I
dental providers kind of our the central
source for identities rather than your
authentication be embedded inside your
application it makes sense to you know
use an external authentication source to
an identity provider will do the you
know authentication of the user and
sends back some kind of sam'l assertion
for example so in a cloud-based
environment are you have multiple
choices I mean you can have a central
identity provider for the entire
platform as a service so in the case of
openshift we might provide let's say a
central identity provider for all the
tenants Google does it with like Google
App Engine and Amazon as you know this
amazon I am capabilities basically
amazon is acting as the central identity
provider and google says you just check
this something in your deployment and
boom you are able to now take in like
all the Google users you know Gmail
users and stuff so basically in this
case the platform as a service is
providing an identity system for you so
central identity provider a global
directory service for all tenants all
applications but as a tenant you have
the flexibility to deploy own identity
provider for your application so if you
have about five applications that you
are putting in the cloud you can deploy
a single identity provider for your fire
application so this is like 10 and base
identity providers so now when you're
dealing with services like Salesforce or
Google Apps what they also provide
something called corporate delegation so
now you are using your corporate portals
but you see that you are able to go to
Salesforce seamlessly you know sign on
to Salesforce are you access your Google
Apps account what happens is Salesforce
and Google provide
abilities for your corporation to you
know authenticate with your own
corporate servers so you have to expose
authentication services which go back to
your enterprise directory and then send
back then you authenticate and send back
the user information to Salesforce
Google and how does the trust factor
come in you will need to sign in the
assertions with your certificate and
that is how Google trusts you because
there is a back channel or out of band
you know trust establishment between
your enterprise and Salesforce and
Google know so this is something that
you're going to see a lot so when you
are talking of a sam'l I mean you have
multiple applications and you identify
wider as access to an I dentist or and
you know so whenever a user tries to log
into a service provider application you
redirect to an identified and where you
do the authentication and your user
information is available there and then
they identify wider sense the user back
to the service provider and in this case
the identified ER is going to kind of
assert yes this is an L and I use
password based authentication so it will
be in a sam'l assertion and now level 1
level 2 level 3 right you those four
levels of assurance so if the identity
provider is u certificate based
authentication it can state in the sam'l
assertion that I used x509
authentication mechanism then it
immediately fall goes into level three
okay um how many of you is Twitter
mobile facebook apps right so it's all
happening through an API I read ordered
like six more than sixty percent of
sales force access happens through an
API not through their website more than
sixty percent right so now you have
have an additional Avenue for your users
to interact with your system and that
happens through an API so you fear of
eased any of these third-party
appalachians like your facebook
application in your phone your Twitter
Linkedin and stuff so what happens is
now it's all happening through an API
and now you need to kind of bring in a
token based system so there needs to be
a token attached for each invocation a
thing happening to the cloud and 0 are
two it is a good candidate right now
because it is a standard even though
there's been a lot of negativity around
it in the last few months I personally
feel it's it's going to be the standard
the reason is sales for support
microsoft supports it's google supports
its facebook support set twitter
supports it all the major corporations
of the world WebEx about said everybody
has adopted some flavor of roth so even
though there has been a lot of
negativity it's not I'm going to go and
we don't have alternate is right now so
various drafts and flavors of war two is
an operation right now and the beauty of
Roth or a token based system is the user
at full control over the approval and
revocation of access and this this I
notice a lot is when a mobile app
request permissions to your Facebook
account or your Twitter account why do
they need full access to your wall
postings and your friends and Friends
information right all you are trying to
all their try to do is assert who you
are that's it so if you have to figure
out as a user so what happens is you
know the liability is being transferred
from the application to user so when
you're talking about cloud services it's
a question of liabilities right
something bad happens you can you blame
so this alway people trying to push the
liabilities
hood of them to somebody else that's the
that's the play but if you notice that
you have provided like full access to
your Twitter account or something to a
particular application you can go and
revoke it and that application doesn't
have access to your password for that
service all it as is a token that you
approved that it interact with the
Twitter or LinkedIn write something to
make note before like Twitter allowed oh
or taxes you know it would like you like
something like your new apt i'm a poor
USA Today app on your mobile device
would ask for your username password to
a Twitter account so that you could
share a new story on your Twitter feed
you know so now you're giving your
username password to New York Times have
right but now what happens is after
Twitter said no more username passwords
for third party apps now they give you
this app wherein you log into it Twitter
and then you get this form or this
console which says like a New York Times
is requesting access to your Twitter
account would you approve yes or no if
you say yes the New York Times gets a
token from Twitter on your behalf to
make posts so but now you are not given
your password to new attacks
I think last year New York Times it's
complicated and New York Times was
actually serving a mall where through
their ads it's the beautiful world we
live and even though you're getting a
content from ssl HTTPS you have a secure
content you there's no requirement that
the sources on the page have to come
from a ssl this environment so if you
are using some ad environment that ads
may be serving you know some kind of
malware and viruses and things done so
you know people i mean like established
companies like reputable companies like
new york times have been affected not to
scare you but there's a lot involved in
all of this you know and and the
challenge of challenge for users to make
the decisions you know it's tough I mean
how do you if if there's an application
which just needs to take in your
username/password to find who you are
why does it need access to your
birthdate to your friends wall postings
their picture so you are do you have to
make the decision you know now Facebook
Twitter have pushed the liability on you
right things you need to so what
interactions what happens is first the
application has to register with the
server to get a client ID and secret and
this is like if you have let's say photo
sharing app on your mobile device and
now the photo sharing app registers with
Facebook and it gets its own client ID
and secret previously it was called
consumer key and consumer secret now the
resource owner that's me authorizes this
application for it to access let's say
my facebook account and you can it can
provide various scopes like email like
your name address birthdate so it can
ask for various scopes and you have to
authorize it and the application gets in
an authorization
code which has its own experience ladder
and which it saves it on its in its on
your mobile device and now whenever it
needs to post something on your behalf
to facebook twitter or something it's
going to use the authorization code to
get a get an access token and a refresh
token a refresh token helps the
application to get new access tokens on
expiring it's a bit in white but this is
the and shake and dance that happens
when you deal with the mobile app for
example dealing with Facebook liquid and
then the application provides token to
let us say Facebook then you get access
to the resource so I just have like a
simple demo to show but before that I
can you know answer any of your
questions like for a few minutes do you
have any questions
I mean I have a project called packet
link so we do provide like like a CDI
base security API and an award project
that's I don't use it in this demo but
it's available for you if you want to
use a i think i am actually showing it
in a time like it has a simple API yeah
i mean if you want to get token from an
award server you can use the client api
but if you want this year we have it as
part of a project ticket nigga ok let's
looks good ok
so i have a java ee like a double six
application with all the latest buzz
words like html5 you know things like
that as part of this project we have
called aero gear HC pause so i try to
access this application and it gave me
this form right when you look at this
this is a a user login / registration
page right so you can see i provide to
external services facebook and google
and you can sign up as a new user right
and you can sign in here so i'm going to
start with a bad user i'm going to try
to sign in it says authentication file
try again so you it's deployed in open
shift right now this application but I
can
so now it's signed in as this colleague
of mine whose name is Bruno and we have
allocated like admin and developer as
rolls right and then you can perform
some of the tasks on this application
this is like a to-do application and
this uses like html5 and rest jax-rs CDI
and you know it's deployed in the cloud
and I just wanted to show like some of
the things that you might see so do you
want to see how Facebook works right so
i'm going to log in with facebook
so it opened this page and you can see
it's saying login to a facebook account
with this is the application i
registered with facebook so it gave me a
client ID and secret so this app have
registered with facebook so facebook
knows who it is right so i'm going to
log in with my test account i have
Oh
hold on let me bring it here and try to
can see it it's asking a question to you
so I have logged into Facebook here that
is my test account right and it's saying
you are logging in to arrogate to do
open shift app as as myself right on it
this app will receive your basic
information and your email address right
so it's requesting two pieces of
information so i am going to do go to
app what happens boom it took some time
but it pulled in my name right from
facebook now I didn't provide my
password to this application so now this
app went from facebook and got my
information and in this case it only has
some a name and email address very good
app did ask for my birth date or any
kind of thing ok so I'm going to log out
as you can see cloud-based applications
can be can be slow based on your Wi-Fi
connection okay let us try Google
so in this case I'm we are using open ID
interaction in the case of Facebook we
were using OAuth interaction so in this
case we don't have to register with
google so it's going to use the URL as
the redirect and shows like to do this
app is asking for some information from
your google account right and that's my
gmail address if you want to know so i
am going to say don't remember this
approval but ask me every time and then
i'm going to allow google to actually
send my name and email address back to
disk ok it worked few minutes back
anyway I just am NOT going to but assume
that it works we have a bog knowing a
thing so your registration might be like
you know all of this fun stuff ok let me
show you the earth example so this is
the API wanted to see the client API
like registration client let me close
this so that so when you are registering
you to give up a registration location
endpoint like in this case I'm
registering with the local OAuth server
so you need to give your app name a few
are l ab description and then what you
get back from this registration is a
client ID and client secret and you can
store it locally and then you need to
get an authorization code from the wat
server and assuming the user says yes I
allow this application to access to my
facebook account then you get
authorization code and once you get the
authorization code you know you need to
have
the access tok on behalf of the user and
this is how the things work basic to say
Oh Otto workflow I told you about sam'l
based SSO so now assuming like I have
few applications running in the cloud
right have to web applications running
an open shift and and the tenant here is
anil sardana that's my space in open
space right it's my space to deploy
applications so deployed an identity
provider for myself and I'm going to
click an application called sales post
it's going to redirect to my identity
provider then go to just log in for it's
logged into my application so the
identified ER can be a single source for
your identity so I'm going to just use
it here sorry
and boo i'm going to go to the second
application called employ and boom I
should be logged in because i use my
identity provider and I've got SSO and
now I am going to just lock myself out
it's called global logout and it's going
to log me out and now if I go here and
do it has logged me out actually okay
so I'm going to show up in chef and this
is my openshift environment I'm going to
because that app throat that error right
so I want to restart it so it behaves
properly so I'm going to give my
password the Smeg goes to the directory
and it is hopefully gente catered
shouldn't take this long Wi-Fi okay when
it's doing with any questions last
minute I still I didn't go through like
crypto algorithms I left it hard not to
kind of burden you go ahead
no actually no cookie in this case what
happens is the identity provider
authenticates user and sensor sam'l
assertion and you create a local session
for the user log out the log outs
handled by the IDP it sends to like 10
log out if your 10 application sheets in
the background it sends log out like a
two-phase commit kind of scenario goes
no front channel front yeah you don't
see it it's so fast unless your Wi-Fi so
slow yeah in this case it restarted yeah
if you Wi-Fi slow you can see the things
happening yeah but yeah examples wherein
add my local laptop of local
applications I deep in Amazon Web
Services boom it does I'd and you it can
be anywhere as long as you get that set
up right you can do global logout
between multiple domains and it's it's
fun it's just it's a bit painful to set
up the questions I don't know if they
ask for feedback you know do provide
feedback maybe next year I'll I'd crypto
scaling yeah but the see the thing the
takeaway from this is just don't get
overwhelmed by security you know just
take a step back figure out what your
requirements are don't go by buzzwords
you know figure out what your
requirements are look at the levels of
assurance what type of app what type of
liabilities you have you know you have
to make a conscious decision after that
you know so security doesn't have to be
scary or complicated it just it gets a
bad rap you know basically people just
sit security I have my I've trouble
convincing our own people in our like in
our community to win or do security so
in its it it's a tough field basically
but hopefully with this presentation you
know you should have
some guidelines into you know what you
should be looking for you know
enterprises in hosting environment in
your cloud environment and do look for
my blog one second I have some resources
to show so the app is html5 CDI jax-rs
endpoint it's deployed on open chef you
know it does all this fun stuff relevant
standards 351 it's currently happening
it's mainly for attributes this is a
technical committee I laid at oasis for
identity management there's a use case
document you can use this is a brand-new
TC it's going to happen like soon for
authorization in the cloud some
resources pleased to go take a look at
my blog for resources and you can go to
my name for many of the presentations on
SlideShare and stuff hopefully I'll this
should be available through javab on
site and also i might probably put it on
SlideShare it's been a pleasure to you
know present to you i know it was the
first presentation of the day and you
still showed up it's probably i'm kind
of surprised how many people actually
show up to a security presentation which
means you know it's important to people
thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>