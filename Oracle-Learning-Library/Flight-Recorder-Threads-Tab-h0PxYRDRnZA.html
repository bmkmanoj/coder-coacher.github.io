<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Flight Recorder Threads Tab | Coder Coacher - Coaching Coders</title><meta content="Flight Recorder Threads Tab - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Flight Recorder Threads Tab</b></h2><h5 class="post__date">2013-11-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/h0PxYRDRnZA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi this is Mike and I'm going to be
demoing the threads tab from Java flight
recorder and I have the flight recorder
I've been using for some of my other
demos here pulled up and I have the
threads tab group highlighted there we
have the overview tab up you can see
here on this tab we're showing the cpu
usage chart at the top you can see it's
pretty low on this system but pretty
steady throughout and we can see how
many active threads both the system and
application there and that's basically
it for the overview tab hot threads is
similar to hot methods but instead of
focusing on methods of course it focuses
on threads so we can see here that event
queue was the top one was using we're
spending most of the time in that
application thread and so if I click on
that I can see which methods were being
called from that event queue thread and
we can see here I've got detailed list
of a number of different methods that
were called so once again you can go in
and get the I can right-click like so
expand the sub tree and get the detailed
call stack for that then the next tabs
I'm going to show here in a sec
contention and block instances it has to
do if your application has some sort of
a locking issue or contention issue so
this demo that I've been using
throughout this series doesn't really
have any of those so this is going to be
empty in most applications that don't
have any serve locking issues it'll be
blank like you see here so I'll show you
an example of one here just a second the
final one here that i wanted to show is
all the next to Layton sees which shows
where your application spends its time
waiting and most of that usually has to
do with thread sleeps or just general
waiting for the system to switch between
threads and that's all charted here
pretty straightforward stuff and then
finally we have the well not finally but
as far as this little recording we're
going to talk about you have a thread
dump tab that shows all the thread dumps
that were taken during your recording
and typically by default I think it
records that does it dump every minute
during the recording and then here's you
know it's just a big text window which
shows all the information about the
threads so you can always copy and paste
that and search it in a text editor or
whatever okay so i have another flight
recording and of course you can have
more than one open at a time and this is
from an application that's used to count
beans is what it does and you can see
here this has quite a little bit higher
i'm still pretty low but quite a little
higher cpu utilization throughout its
use and let's look at the content
contention tab and see what we see there
is this time we have it populated we
have a class here calm dat example that
be encounter and that one is having some
so it's showing the top blocking lock so
we're having some locking issues there
and you can see by me clicking on it I
can get a stack trace and see that the
excuse me let me expand that there we go
I can see that the count method is
causing most of my waiting in the
application and I can also click and see
which threads are causing excuse me are
causing the most having the hardest time
or with locks and related blocking
issues and this application has three
three different threads and you can see
it's fairly even though one thread is a
little bit higher than the other two and
once again similar we have block threads
and then blocking threads so it's all
all the same three and from this same
class so if i look at Layton sees you
probably won't remember but that we
didn't have a monitor blocked and that's
a pretty big percentage of our time
waiting so definitely something we'd
want to investigate if we looked into
that further and we can see if I click
on it I get a stack trace and once again
thats related to the same method so I'm
beginning to see a pattern here so then
if I click on the lock instances tab
you're going to see additional
information about locks and I can see
once again that's the same class and
once again we have a fairly long
duration there and the reason the time
is more if you notice that the recording
is only six minutes and this is actually
seven minutes and that has to do that we
have multiple threads waiting and you
can see once it going to have the class
there and then I've got once again the
thread trace showing what's going on I
can look into the details of what's
getting called by what and you can see
once again by threads which are the top
ones being are either blocking or in
this case blocking and we have threads
one two and three so I can go into my
source code and I probably want to take
a look at the count thread and see
what's going on what's causing my
walking / contention issues for this
application so that's what the threads
tab group is for
Oh</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>