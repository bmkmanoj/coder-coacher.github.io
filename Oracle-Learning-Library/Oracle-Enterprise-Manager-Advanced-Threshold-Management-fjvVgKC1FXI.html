<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Oracle Enterprise Manager: Advanced Threshold Management | Coder Coacher - Coaching Coders</title><meta content="Oracle Enterprise Manager: Advanced Threshold Management - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Oracle Enterprise Manager: Advanced Threshold Management</b></h2><h5 class="post__date">2016-12-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/fjvVgKC1FXI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to Oracle Enterprise Manager
video training series in this video
we'll talk about advanced racial
settings which is one of the framework
features in enterprise manager 13c my
name is utakata katsu i am one of the
product managers in enterprise manager
product management team
but what is advanced threshold why did
we introduce this feature so let me
quickly talk about this in high level
before going into the details the
problem with a traditional monitoring is
that the metric threshold either
critical or warning is static it is a
single fixed value per metric so it does
not handle the workload the variation
that can have in different time very
well so if you have a system that has
different workload in different time you
may miss a spike in the weekend right
here or you may want to run batch jobs
in the weekend to better utilize your
resources in that case you may get false
alerts from them so what you need is an
ability to set different threshold based
on time that runs different workloads
and the solution is to use advanced
thresholds basically the idea here is
that instead of having of fixed
threshold he allows you to specify
different threshold values for different
times to go with your workload patterns
such as day versus night or weekdays
versus weekend in the typical use case
for this feature is that when you have a
system that runs oil TP in the daytime
but runs bad jobs in evening and you
want to monitor the performance in this
case you may want to set lower threshold
at a daytime and higher threshold in
aiming another use case is that your
system or application may have fewer
activities during the weekend in this
case you can set lower threshold during
the weekend and higher in a weakness
either case the point is that you can
set two or more different thresholds for
a single metric based on time also
depends on expected work road running at
a time so this really is the basis of
the feature we have two threshold
options time based static threshold and
adaptive threshold which is a
self-adjusting option so starting from
the left side of the screen
we have time based static thresholds
this option allows you to manually set
multiple different threshold values per
single metric based on time such as day
and night or weekday and weekends also
with combination wisdom or even with
multiple shots and this will resolve the
problem of work row the variation in
different time and this is what we just
saw in the previous slide on top of that
at the right-hand side of the screen
another option we have is adaptive which
is a self-adjusting option and please
note that the time-based setting which
is just discussed in the left side of
the screen it's common in both options
adaptive just has Auto computing feature
on top of them so on top of one time
based option can do it provides an
ability to dynamically set thresholds
based on statistical target performance
so using this option the thresholds are
automatically computed by enterprise
manager based on the context of prior
observations of the specific metric in
the specific system basically it looks
up the historical performance data that
is captured during the baseline period
and comes up with the auto computed
threshold based on the criteria you
configured and the values are
periodically recomputed and dynamically
reapplied to go with your target
workload trend which may change over
time so this is keep moving and keeps
changing and one of the common use cases
of adaptive threshold is that when you
are using a monitoring template to push
out metric settings to multiple targets
in the standard settings when you create
a monitoring template metric threshold
is a fixed value and that will be pushed
out to all of your targets this means
all of your target are going to have the
same threshold value it does not
consider the work of the variation among
those targets which could be different
the adaptive stress should resolve this
problem of work with variation in
different targets for example you may
have a production host that you want to
keep the CPU low you may also have a no
production hosts which you run load
tests every evening so you may be okay
to have a higher CPU in the system and
you are applying a monitoring template
to those two targets in this case using
adaptive thresholds each target host
will have a different stress hold
automatically computed and applied based
on the workload in the each host so in
this example host a which is a
production host may have a lower
threshold and host p which is a
non-production host may have a higher
stress fold other use cases are more to
do with our legacy options which are
succeeded from the time when this was a
database feature so using this option
you can detect anomalies or abnormal
behaviors in the workload that are
caused by floor system performance or
you can use it to raise an alert when
the metric approaches or exceeds the
peak or average workload we will talk
about these use cases more in a later
slides so these are the two threshold
options but in fact most of the work
load variation use cases such as oltp vs
pats use case can be resolved by the
time-based option so our recommendation
is to start with the time based unless
you are already familiar with the
adaptive option and move on to adapted
only when needed here let me provide a
brief history of advanced threshold
settings this feature was originally the
database adaptive stress shows which was
first introduced in oracle database 10g
this later became a part of enterprise
manager however its capability was very
limited he only worked against selected
database metrics and the something was
done at a database server level not at
the asian level so apparently the only
supported target type was the database
it also required for users to prepare
for ewr baselines prior to configuring
the threshold so you had technical
requirement here as well in enterprise
manager 12 1000 for the feature evolved
into advanced racial settings and as we
already covered
we introduced to threshold options
time-based static and adapt it then this
was further enhanced in 13c with new
options and capabilities so in the new
settings the sampling is now done at
Asian level instead of the server level
which means now this is open to all
targets not just the database metrics we
also have a new baseline so aw our
baseline is no longer required basically
this is a new way versus the old way we
used to have in enterprise manager 13c
actually you can still see the server
advanced threshold settings which is the
old settings if you dig into the menu
but this exists only from the backward
compatibility reasons no further
enhancement can be expected from the
development so it is recommended to use
the new settings at the balance
threshold not alter so let's take a
closer look and adaptive stretch
adoption to recap what it does it
computes trishul values based on a
statistical performance information and
auto adjust to the target workload there
are three steps to configure first you
need to specify the threshold change
frequency then this is something that we
have already covered you can select
different stress holds based on time
such as day and night or weekdays and
weekends and this is the same setting
that we have in common with a time-based
static option then you can specify how
much data you want to collect for the
baseline this can be specified by the
trading a time period or most recent
time period from seven days to 28 days
so basically this is one week to four
weeks max once the time based settings
are set you can select the metrics and
register them and configure threshold
settings for each of those metrics and
there are three types of stressors
settings within adaptive thresholds
first option is the significance level
this option can be used when you want to
detect abnormal behaviors in your metric
perform
and there are other options percentage
of Max and percentage of the average
these options can be used when you want
to have an alert when a target workload
is approaching or exceeded its peak or
average workload and we will see more
details of each of these options in the
next few slides so the first stretch
hold option we have is a significance
level in the game this option can be
used when you want to know when a target
deviates from its normal behavior
basically it detects spikes from your
metric performance in the assumption
here is that when this happens you know
that was caused by other reasons in your
system somewhere so the metric itself is
not the culprit and because of that the
focus of the alerting for this option is
how unusual rather than how much and
this option is good for a metric that is
statistically stable at the normal time
of operations that shows high values
when the system is performing Tori so
for example response time metric in
database target type is traditionally a
good candidate for this setting and the
threshold is based on percentiles over
the baseline period so for example a
warning threshold can be set to 95
percentile what this means is that the
threshold is set where five percent of
the baseline values full outside of this
body and any current value which exceeds
this value triggers an alert so this can
be a little tricky but generally
speaking the higher the significance
level the fear alerts you may get in
other words the higher the percentile
the more conservative it becomes and
please note that this option only works
well with a statistically stable metrics
it won't work well with the metrics that
are now stable the next option we have
is percent of
Xmen thresholds unlike the significance
level special setting here we are now
looking for statistically unusual values
but rather looking for the values that
are approaching or exceeded the peak
workload which was observed over the
baseline period this threshold setting
allows you to set metrics wrestles
relative to the trim max body from the
baseline and please note that this is
not simply taking the greatest value
from the period that 99th percentile is
used to exclude certain spikes and that
is why we say this is a trained max body
therefore when you set the threshold
level two hundred percent that is the
99th percentile value measured over the
baseline and this could be lower than
the actual greatest body that was
measured during the period for example
you can set the critical threshold level
two hundred fifty percent and let's say
that trained max value from the baseline
was 1,000 so again this is not the clay
to spoil it is the 99th percentile value
that excludes 1% of bodies from the
period so there could be few spikes with
higher bodies that went off during the
period but those bodies are not counted
in so the calculation here is going to
be 1000 which is a trimmed max value
multiplies one hundred fifty percent
equals to 1500 so in this case the alert
will be triggered when the body exceeds
1500 and last one
we have percent of a great stretch hold
option and this is new in 13 see it is
similar to the percentage of maximum but
in this option the threshold can be set
related to the average value that was
measured over the baseline period and
this in fact is the only option in
adaptive threshold that is focused on
enterprise manager use cases so unlike
the previous two options which were
defined when the feature was a portable
database this option was introduced by
Enterprise Manager team for Enterprise
Manager users therefore this option is
the aim to cover more generic Enterprise
Manager customer use cases rather than
focusing on specific purposes like the
other two options so again in this
option the threshold is computed
relative to the average of the baseline
so if you set the threshold level
parameter one hundred percent that
equals to the average value for example
if the threshold level is set two
hundred fifty percent and if the average
value from the baseline is 1000 that is
1000 multiplies hundred fifty percent
equals to 1500 so the alert is triggered
when the value exceeds 1500 and the
setting that could make sense the many
metrics may be to set one hundred fifty
percent for critical and hundred twenty
percent for burning so these are the
three threshold settings in adaptive
threshold however we are seeing these
adaptable options a little tricky too
many users especially at the beginning
so our recommendation is not to look
into the threshold option details at the
beginning unless you are already
familiar with them but to start from one
of the settings we already have with any
option is fine but probably the percent
of average is a good one to start with
because it is more generic and easier
then you can use another threshold page
that provides a graphical user interface
to verify the threshold and here's a
screenshot of the analyst result page
once you configure advanced treshold for
a metric either time-based or adaptive
you can use this page to determine the
validity of the threshold that is
configured in this example I created an
adaptive stress showed for a host metric
cpu utilization
for the threshold option I use a
significance level and in the chart pink
line indicates the critical threshold
and as you can see it is not a straight
line equals up and down this is because
the change frequency is set by day and
night so the higher threshold is set to
the daytime and lower stress shoulder
set to the evenings and I can see spikes
goes off almost every morning and if I
want to cover them in a stress hold one
thing I can do is to change the
stressful settings to something else for
example percentage of maximum i can
change the parameters that i want to do
then click the preview button and you
see the chart is updated this is how we
would look like if you apply the change
actual change has not done it until you
press the Save button so you can try out
other options and if you like the change
you made you can save that in this
window and then apply to the metric
right away so this was analyzed
threshold feature it essentially
provides an easier option to configure
your adaptive stressful things so that
was an overview of advanced rashad
management for more information we have
online documentation available from the
URL showing in the screen it has more
explanation on each threshold options
and has use cases still so please take a
look at if you want to know more about
this feature this is the end of
recording of adaptive threshold
management presentation thank you for
listening</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>