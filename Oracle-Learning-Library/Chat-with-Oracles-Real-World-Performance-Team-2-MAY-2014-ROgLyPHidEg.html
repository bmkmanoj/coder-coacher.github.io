<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Chat with Oracle's Real World Performance Team - 2 MAY 2014 | Coder Coacher - Coaching Coders</title><meta content="Chat with Oracle's Real World Performance Team - 2 MAY 2014 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Chat with Oracle's Real World Performance Team - 2 MAY 2014</b></h2><h5 class="post__date">2014-05-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ROgLyPHidEg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you
is going to be recorded so people want
to come back later and listen to it they
certainly pen Andrew I'll leave it to
you now I've still got a minute or so
before the hour
you
you
you
you
you
well good morning this is eight o'clock
in San Francisco and we're opening up
the third of the sessions for real world
performance to talk about the video
series and generally just talk about
real-world performance as a subject we
have these these chats and I have a very
much but less structured the session
today because I really wanted to get
questions from the people out there in
the real world and and just be a little
bit more provocative and share some
ideas and share some react with my team
has been doing in the last two weeks and
to reinforce a lot of things that are
going on that we're documenting and
attempting to educate and show in the
real world video series just to show
that you know whilst you might see this
in a video serials and not believe it
exists where we actually do see it on a
daily basis and so I'm going to be a
little bit provocative today and I've
seen a few people and which is not
unknown and my team to do such a thing
and really what we want to do is get a
bit of a dialogue I'll be monitoring the
chats and so you have questions and
things like that I'll be really keen to
see them and you know we're just going
to go through the topics and a little
bit by bit and hopefully you know I'd
like to sort of make these events a
little bit more interactive rather than
one way product and hopefully we can do
some good stuff and the chefs and good
ideas and as I say I really like to see
it a bit more to two-way traffic and
perhaps we can provoke some ideas so
just to for those of the comp on to
these sessions for the first time and I
do apologize if people have SAT through
the other sessions and my name is Andrew
holds us being adorable what it seems
like forever and it's not in my entire
career but a great compliment and and I
run the real world performance team in
database development I'm
we cannot focus that the sort of
performance has experienced in the real
world actually no not esoteric or
academic performance just practical
real-world performance and you know I
were in the process as whereas we do
real work performance days and education
and when people ask me to talk about it
and I've come up with some some fairly
basic tenants of what contributes to
good performance and the behavior of
people trying to get good performance
and the way they work and one of the
things I can really say is the good
performance is rarely an accident people
don't suddenly land with good
performance on system and it's it's
usually a result of some people thinking
ahead getting ahead of the curve and
designing performance pretty much an
architect moving to the solution and the
number of times that poor performance is
associated with it with a philosophy to
retrofit performance after the
functional code has been done and it is
unbelievable so you know performance is
not an accident it rarely is an accident
and initial performance is goodbye lucky
rarely stays that way as the system
which the scroll up and something I was
also taught a long time in my junior
career and is after getting extremely
frustrated with a client and it seemed
to make the wrong decisions at every
point in time with the project as an
engineering level and people get the
systems they deserve if they don't apply
the effort in the right places and those
efforts that lack of effort is rewarded
by poor performance poor reliability and
frustration and you know it's it really
is a function of you get what you
deserve and if you if you embrace a
technology enjoy and don't have a new
this understand it it will be a
high-risk project and and then the last
thing is something that we're seeing in
a lot in performance where people are
saying
are good enough or it's good enough to
support the business and my experience
been good enough or to pop out it really
is it's not good enough next week and
and so really we need to refocus our
efforts and then performance engineers
to focus on excellence and efficiency
and getting the best out of the software
error in my heart where available to you
and this sort of a philosophy very often
puts us at odds with the NBA types who
do performance by NBA and we'll talk
about that a little bit later
and again I repeat you know we basically
now break down real world performance
projects into sort of three categories
and in terms of when we see a
performance problem with box the issues
and one of the first ones what we see is
incorrect use of the tools and products
it sounds the most obvious thing is we
use products correctly and in manatou
were meant to be designed and they would
perform for you and unfortunately and
the products aren't used correctly a lot
of the time and so performance surface
and the second issue is the big data
little Denker challenge really this is a
legacy particularly in the Oracle space
where people grew up learning how to
code oltp in operational systems where
the biggest amount of data that you
actually ever dealt with in a piece of
application code was a amount of data on
a screen which was pretty trivial but of
course now we're doing analytical
programs where we will be required to
profile terabytes of data and across the
algorithms dealing with large data set
efficiently compared to dealing with a
few rows are fundamentally different and
if we don't make that understanding and
then brief our architects haven't got a
grasp of it and the developers and
programmers haven't got about a grasp
with it they'll just go back to what
they know so oracle programmer that the
whole time building ltp systems will
basically write the same sort of code in
the constructs to deal with millions of
rows as they would with n rows
unfortunately and it's not a good way to
go forward and we're doing more
education on this and then the last
stuff is just dealing with the legacy of
debugging systems people try to improve
performance and certainly in America I
hear this term whack Amole which is
something I don't really understand
because I'm being English people this
basically just trying to whack the
symptoms out of sight and they're just
jumping from fixing symptom to symptoms
or symptom
and very often putting things in place
but they really have it never knew what
caused all symptoms and never knew the
problem and so we see this a lot this
moving to a solution so before people
have actually got to the point that they
actually figured out what the problem is
and a lot of busy work you know being
seen to do something to solve something
because we sort of symptom but not
really getting to the root cause the
simple and very often this is a function
of always being in a continual Russian
up and never think but it's really not
an excuse because the big gains come in
performance work from understanding what
the problem are and getting the
appropriate solution okay so the video
is released this week your name can put
some more on complete out the set best
pros programming and that's so we're
told a little bit of more about that
many would have worked out what's been
going on in real world performance so
including the set based programming and
and I reinforce what we spoke about last
time and you know very often we see
program is thinking row by row or object
by object and type processing because
it's kind of easy and we call it slow by
slow processing and you've just got to
start thinking about analogies in life
and you know if you were to have had a
requirement to load and validate and
manipulate 10 million rows would you
load validate manipulate 10 million rows
wall in one go or would you load
validate and manipulate one row and call
it in a tight loop 10 million times and
it sounds very easy to say that but if
we go back and look at a lot of our
applications we find that we write a
method to do it for one row and then
call it in a tight loop and it's
inherently slow although you may
actually make the code to do operate on
one row extremely efficient with
multiplier of a big number 10 with small
number school relates to her for being
number and I adopting asset base
technique where we Boutin's in bolt
techniques and the demos will show
different ways of achieving all corset
processing stepping through from no
separate processing to just using bolt
bolt access methods from the database
homegrown parallelism for the people
dividing that up and then just using
core parallelism within the database
which should be your panacea and to move
to and and you know this is very often
and the problem we see in these long
running backs tribesmen people tell me
that they've got a batch problems going
to write them nine hours and things like
that and as a result it's because it's
one server CPU and it's just running
serial so you know in terms of just
trying to look at some of the
multipliers and you can see that we're
doing a millisecond per row processed as
we bounced through to a million billion
trillion rose and we have a serial
process we get four trillion rose it's
not going to happen in you all on my
career it's just going to take too long
and so we need to start doing
alternative programming techniques to
just break out of this sort of cereal
row by row or object technique however
what we do actually see that a lot of
people try to do is create multiple
threads of activity then doing a row by
row program and what this tends to have
in fact is there's still thousands also
multiple orders of magnitude off on the
cpu costs but then suddenly that these
multiple threads of single row
programming stop contending with each
other in bechtel things in the shared
pool and the buffer cache and so they
don't scale very well and so really we
need to try and encourage them for right
true set based programming techniques
and we'll show those in the demos and to
exploit the core parallel as within the
database a sequel statement rather than
just running multiple secret statements
in parallel and application so lot of
food for thought it's done as a race
mechanism will be graceful demos off
against each other
going past it and with that in mind you
know just look at them and then start
prototyping yourself and start doing
some goal setting you know if you've got
a nine hour back job you know let's try
and get our heads around running them in
man as a set based program build a
prototype and see how quickly would make
execute it's all with good interesting
stuff and you know you your efforts are
usually rewarded by multiple orders of
magnitude performance increase and then
you become the expert and that becomes
even more interesting so what's really
been going on in real world performance
recently well it's been quite
interesting in terms of love Claire
couple of escalations and incidents that
they came to us which are fundamentally
the same problem associated with high
concurrency and applications oltp mixed
with batch systems and they basically
all showed the same fundamentals when
the system was not being that busy they
show plenty good performance there was
not a performance issue and however the
systems had acquired reputations for
being notoriously unreliable and falling
over and appearing to hang and have it
in many cases had to be restarted and
the these systems had all basically
suffered from a sort of bottom-up
debugging approach where people had
looked at the citizens of what will
happen on the performance was poor and
tried to fix the symptoms rather than
that look at the root cause of it now
the root cause of it was written on the
first page of the awr report which is if
you look at the amount of CPU seconds
and burnt per second and when that
number approaches or exceeds the number
of cores on the system you know you
basically have over subscribers you can
use in the bot the webex and as soon as
we get into the situation where we get
into CPU oversubscription we get into
queuing situation and a Dominican law of
diminishing returns and so we start
seeing the data pace starting to stall
and we start seeing well known parts of
the database showing up the statistics
and whether you are report and what we
start to see this extension log file
sync the actual lock bar rights hadn't
increased a much time the rights were
going through quickly but the log file
sinks who are increasing because it was
becoming increasingly harder to schedule
the process after it been put in a way
state waiting for a commit likewise when
we see oversubscription we tend the
latches and the new texts in the
shortfall all have tend to have a habit
of increasing increasing increasing
getting worse now the reason it gets
even worse is when we leaven will
absolutely and we can't acquire that
results we tend to spin in the more
seeking missiles now spinning and
burning more CPU cycles and I noble
scribus them put you on the sort of law
of diminishing returns so it was quite
interesting to see these things and yet
all the same mistakes have been made in
terms of people have been firing it all
wrong with a lateral something about log
passings trying to blame the i/o
subsystem in the back there's nothing
wrong with it at all it was just a
straight CPU of a subscription problem
and people were just victims have
bottom-up debugging and over processed
and it was quite ironic on one of the
sites we saw a number of sequel
statements that were running on the
system had Oh burned over a thousand CPU
second and those were the ones just
finishing in a hour aw Oracle I dread to
think how many had not even finish will
be more socially we didn't even get a
statistic on this and other things that
mitigate this led to this point was that
people was kind of in denial that they
were actually over process and because
they were looking at the cpe they were
looking at correlation of the operating
system they were net thread utilization
and thread utilization is not call your
for utilization so they basically had a
conflict between what was going on in
the awr report and not what they
perceived the operating system
statistics so we've been seeing quite a
few of these things it's funny how these
things come up in threes and literally
we've had three in the last few days and
it really has been a case of too much
bottom-up debugging unknown big picture
and recognizing and if you're
oversubscribed your skin see a lot of
simple we've showed this in some demos
and those that have been to our training
classes or real work from today's we've
demonstrated over subscription and what
actually happens the system as it
degrades so it really does happen in the
rural but it does take when you get
landed with these things a large amount
of clarity and ability to articulate to
the people what is going wrong with the
system and again this leads us into it
everybody at this point is always
looking to you for some magic button and
or silver bullet that you can press or
some alpha bit to be set to make
everything perfectly these cases of CPU
oversubscription there really is no not
much magic to it it takes the load up
the system so workload management
potential of resource management and
governing of processes or the real hard
work go and look at what's burning the
CPU and increase its efficiency and
again nobody really wants to get into
the hard work this wants a magic bit to
press and we never said that real-world
performance with Weeden it's always hard
work it's getting the data and affecting
the numbers and so if the CPUs getting
burnt find out what's burning it and
eliminate it or schedule it when the
system is less less busy such that we
don't over subscribe the system one of
the simplest way to deal with it but
again I don't see many people standing
up and trying to do this it tends to be
that over let's try and some more
patches and Fiddler's and parameters and
hopefully it'll get better
it's the tuning by hope again not tuning
by numbers what we have also noticed the
last couple of weeks is the list of
excuses for tolerating or going slow
this gets longer and longer and and it
comes back to what I said in the last
session really as a performance engineer
you are a change agent you are there to
initiate change in your organization and
initiate you and clothe initiate change
in set of participants to change the
performance profile of the system
however humans being humans and we all
other our own little teaspoons and turf
and these sort of things we find some
incredibly good excuses those technical
organizational and political actually
not doing anything and tolerating poor
performance and probably one of the most
common arms we've seen on one project
with this tolerance of just basically
not gathering the statistics correctly
on your data and in many cases they even
the sense that scattering mechanisms
that we used in version seven and eight
and sample sizes and haven't upgraded to
auto sample sizes and gather the
statistics correctly and and in many
cases we've shown orders of magnitude
improvement because suddenly when we're
getting good cardinality estimates we
get good execution plans on we get some
things go a lot faster but there's
always somebody in the back room saying
oh we tried we freely the girl and find
above and one sequel statement regressed
and so therefore these ones don't count
and it really is a case if you go to
compel okay and use the products as
there was designs they are an evolving
thing and yes there probably will be a
few sequel plan regressions but again if
you're a good real world performance
engineer you'll be able to get to the
teeth of them figure out why they
regress and basically allow yourself to
that again there's just a lot of people
making excuses and it's mainly fear they
don't want to do with things in
a different way everyone stress
themselves within the stretch themselves
it's going to cost some money but in the
long run it's going to cost them longer
people they're going to happen a trip
anyway and it's much better than will
rather than turn late these sort of
things the other thing is we have
noticed the trait and it has been within
Oracle and within client base is this
obsession for platform human bottom-up
analysis not actually looking at the big
picture again looking for the magic
parameter to set and really what has
happened is we see is that there's a
class of performance team or group or
for most organizations where there
really quickly with fiddling things
outside the application and because they
don't control that is well they've got
very little influence on the application
and they're happy to just try and fiddle
around with the environment make things
better and as a result they just
literally spend their whole life
fiddling and measure them and their goal
setting in terms of performance
improvement is not very high and in many
cases you've actually found that the
performance teams are the biggest
obstacle to program and in terms of big
picture performance games and they find
a lot of they very often they're the
buffer between us and the application
developers and stop is getting through
to them and they try to give a lot of
procedural reasons why what we suggest
why knock them down and they're often
this is well that will involve changing
coat and I'd like to write we need to
change code tips as the codes not fast
so why not change it and give us a lot
of basically what we call BS reason and
things and really what we found out is
that a lot of these performance teams
are getting really uncomfortable when we
come in because we're calling out things
that were big performance games that
they haven't found and so we're actually
finding many places with people with
performance on their resume is actually
the biggest problem that performance so
it's been quite interesting to see this
and any usually with a knife like this
by performance teams that are obsessed
running tests measuring numbers not
necessarily getting the root cause and
doing fiddling with things outside the
main code one and really you know if you
want to spend your whole life looking
for marginal gains you'll spend your
life on platform through if you want to
be a real work performance engineer
you're looking to the orders of
magnitude game and you're going to have
to start looking at code application
logic and seeing the whole problem
holistically it's also a lot more fun
and it's also a lot more value and it
comes back to what we're seeing what the
real role of a real world performance
engine it is to initiate change and
change in performance by orders of
magnitude if we just wanted to increase
things fractionally we will sit around
all that more little good work for us
and I think a lot of people have
actually based that very ones of sitting
around a lot of warlords you can use
speed up and then just migrate and
making them up there but will it really
what I smell might I wouldn't Borov
engineered that can make a big
difference on the same piece of hardware
and so it's been an interesting trade
until the last couple weeks okay again
you know the things we really ought to
look at as well people not looking at
the algorithms for data management and a
lot of people are just you know bunning
to keep your head down and politics and
fear is upsetting people you know what
not wanting to take risks and things
like that and performance is a
risk/reward thing if you don't make the
changes you won't go faster and better
you get at it you're more likely to call
out changes and you can guarantee the
performance gains and the last thing I
would like really like to see eliminated
from a lot of discussion is this
performance by men mba type mindset
trying to cross justified performance
increases and really always i hear this
people is is good enough for the
business if you were increase the
performance of your system by orders of
magnitude would you change the business
and this is where we can be innovative
and in many cases I sit down
speak to operation development and they
say oh it's good enough I said but don't
you want to create truly innovative and
pioneering products that are unique
within your space and they say yes we'll
make it faster then and so this is
really a relieve the challenge and I
tend to find that I get dragged in a lot
of meetings with a lot of talking more
doing and I tend to shut these meetings
short and so what are we changing and
what is our goals and I recommend people
start being a little bit more abrupt at
these women to say you know what are we
trying to change and what are our end
goals and why do we think numerically
those changes will make a difference and
focus on X engineering excellence you
know if you look at the painting
pioneering work done by other
engineering projects in the world there
was always a focus on excellence and you
know try and focus on that as much as
possible and we're so collecting we're
going to be opening up the website
fairly soon please collect your
real-world performance story so we can
actually start looking at who's doing
the better walk moment in the real world
and you know gives you a chance to
practice articulating numerically how
you improve performance and you know
we're looking to in 2015 you know stop
really a catalog of really good
real-world performance test cases in the
deal and chance to show how your company
is well breaking how you as an
individual is doing great reward
performance or a partner how they've
improved the performance of their
products using real-world performance
techniques so that point we've got a few
minutes left and that's what we've been
going on I think we have mobile session
in a couple of weeks and see we've got a
lot more participants this week than we
did last week we me i think it was
easter in europe and so everybody was on
the beach but if there's any questions
coming up through the chat line it would
be great to see them and i did get some
questions before the session
and I didn't really I intentionally
didn't really answer them because all of
them were of a platform fiddling nature
rather than a big picture real world
performance they all wanted to know what
the set parameters or fiddle this or you
know this this type of stuff and to be
honest it the rule points team is doing
less and less of this partly because
we're now working on the same piece of
hardware I an engineered system and to
be honest there's very little to touch
on that and the big gains are going to
be men at the application clothing and
correctness of the database level than
just fiddling around with parameters and
so for those unfortunately who aren't
working on engineered system there's
still you've still got a lot of system
integration work to do but again you
know are you just get setting up the
hardware's actually can get the best out
of it you know you aren't suddenly going
to get an order of magnitude of
performance out of a disk array if it's
working at ninety percent capacity it's
not you can't fiddle your own or around
you that's it so try and keep things in
perspective and on that side of things
so I don't know if we've got any
questions will be great there so I can
see some familiar names out there and
good to see old and and hopefully we can
meet up in it in a few more weeks and
blue I'd like to make this much more of
a two-way dialogue espanol
you
hello Andrew I apologize this isn't my
normal thing so something hiding up
there I listened but I don't believe so
are there any questions out there for
you you know unmute yourself and I feel
free to use the voice chat to ask a
question if you have one I'd say any
questions at this point in time
thank you very much for your
presentation I know I certainly enjoyed
it in fact it stirred up a lot about
similar discussions I've had with the go
lyrics team and caching so interesting
to see the same things presented in a
different light
all right I got some nice thank you
messages so if we don't get anything in
about that makes minute i'm going to
call it a day and I think we're back in
there in a couple more weeks I like to
play with Twitter and I'm sure Oracle
marketing will do the same and again if
you need to send me all the real world
performance group an email with some
questions and some topics you'd like and
you know let's see how it goes
and I'm going solitary but really we
should be finishing up the video
releases over the next month or so and
so that will be the completion of the
videos that we are and then over the
summer we're going to be building more
videos for more demos and more material
for impaired open world and in the real
world performance collapse and war
performance day we have we have some
interesting topics coming up for you and
and that that's where a sort of fine
tuning in the field at this point in
time and we're looking to launch those
at open world and then into the real
world training from that point onwards
and if there's things that we really
would like to see us cover again we are
barely reacted I i point out of the work
by the rule of threes if three people
asking me for a Copic independent of
each other we tend to get all over it
because we recognize that there's a
demand for that so at that point in time
I'm going to say goodbye and says in
Europe have been perfectly then but
those in Asia have a good night sleep
and / those and off my ferrets Friday
that work too hard and let's sell me in
a few weeks
very much there are these these
presentations are recorded this one
included I will shut down the recording
in just a moment there are a number of
mechanisms that these are presented and
you mentioned the Tuttle footer through
a channel this isn't my normal daily
gate so I don't know exactly how this
presentation was you know sort of
publicized but i will see if we can find
out and get this up to a broader
audience thank you everyone who attended
and thank you Andrew again I'm going to
stop the recording now and I'll give
everybody another minute or two if they
think of a late-breaking question to
feel free to ask it otherwise have a
danger said have a great remainder of
your day evening thanks off</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>