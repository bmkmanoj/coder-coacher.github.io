<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Griffon, Up Close and Personal | Coder Coacher - Coaching Coders</title><meta content="Griffon, Up Close and Personal - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Griffon, Up Close and Personal</b></h2><h5 class="post__date">2013-02-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Z1sft9sX5d0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I am it's always this is andres all me
right and everything we are going to see
in this session it's going to be at that
website yep so it's a it's a key triple
you can clone it you can follow all
these steps i will see you today all you
need to know about creep on
documentation download everything it's
engraved from framework org yeah sure oh
yeah sorry about that oh okay yep got it
nothing so next one what are we going to
do well I told under it says sometimes I
could come with crazy ideas and I said
to undress today we should try to do a
collaboration suit and it's really big
so we will try to do the prototype of
the module the contacts module when you
say its previous this is supposed to
take a lot of time it shouldn't because
it's a desktop application and we need
it for yesterday oh yeah so it shouldn't
take it so much time good well so that's
our application will here because a
great phone right so the first thing
that we want to do is download and
install a phone and so I guess some of
you already familiar with the framework
not then what we do is go to the website
and they're going to the download link
download the zip file install a
configuration environment variables and
then we can check the installation by
running the Griffin dash dash version
command now I've of course already have
it installed but yeah yes so there is
the download link there are different
options for you just download the seat
rgc rpn dmg you name it right once you
do it on packet then configure the
environment variables in this case one
of them has to be Griffin home which
points to the place where you unzip the
package
and the second is that you have to add
this parable and bin directory to your
path it's right there user local Griffin
bin this will enable the Griffin command
which is the one we're going to use to
verify that the installation is working
correctly and there we go latest version
is 110 least a few days ago for John one
now if you ever encounter a problem with
Griffin and if we ask you can you tell
us more about your environment this is
the command that you can use to tell us
what you're learning which version and
all that okay so well already have
Griffin installs so what will be an
except create application I think that's
great an application right so that's
easy as invoking the create a command
and we can pick a name for the
application i will going to choose
address book for this thing so let's
call it create app address book if any
audience anybody in the audience have
previous experience with grails you will
notice that the command line is why
familiar now for the rest of the talk
will make use of a regular text editor
but it doesn't mean that Griffin does
have AI de sport is excellent supporting
idea a good support in netbeans and if
you happen to use eclipse we don't have
yet a plugin but the Grail says das
wassup and source a few months ago and
then we can use it to create the Griffin
plugin for Eclipse I'm not saying
eclipse it doesn't it's not good
personally I'm a bi guy COC so yes that
that's always the look he works with yup
yeah best senator ever wears every
platform haha ok so we create the
application this will generate some
directories following a standard
combination there we go okay so let's
change into address book yes okay so
there is the application right now
and there oh yes little less yes there
we go some all the files that we can see
they're very important the Griffin app
directory where all the Griffin
components are allocated by
responsibility and by by name by naming
conventions and yes we will see some of
these files as we go along now for the
rest of the talk I'm going to switch to
the git repository that we already have
prepared so we can switch from different
steps so I have that application all
right here at the other tab you didn't
see anything so I have gained they put
the application in the in the pristine
State I can run the application because
it actually works though it will only
show a plane frame with a label say hey
put something here something amazing
maybe but that's good you create an
application and as soon as you created
you can run it yeah that's right I'll
bad you kidding you you just you can
actually see that this thing is working
I regard it so hey yes we are making use
of swing today I know that everybody has
been hearing about Java fix there are
options for using Griffin and Java
effects together we decided to stick
with swim because we know there's a lot
of pain creative swinging applications
and sewing applications will still be
considering legacy mode for a few more
years that's not the only tool kit
that's it it's not the only Tokido
Griffin supports such effects Griffin
swing and s ability there may be others
coming in the future that's good okay so
we have an application running okay so
it's going to be the contact so I think
we need a list of contacts and the
information of every and each contact so
let's make a list so let's put at least
where we go to all the contacts and
anything else perhaps a firm a foreign
to visualize the details okay so what
we're gonna do is well we had to lay out
components and if you have previous
experience working with seen you know
the way our components could be
difficult I think there's well who loves
great great back way out here I know
Donna does you're the only one you get
paid to it oh there you go well if you
are not getting paid to you straight
back layout and do yourself a favor and
use me clay yeah which is the one that
we're going to use today we once you
have me clay out install you can make
use of it in the views are one of the
components that we can make use of the
Griffin to install me clay out yeah but
that's easy just install the plugin we
have a meek little problem go directly
to the command line install install
plugin meekly out okay that's not you
notice that thing I'm running with a
Swiss keyboard believe me it's really
hard to switch within one another okay
so once you do this you have the meat
layout plug-in installed and and you're
up to go now I we're going to change to
the next step which already has that
install except number two okay and let's
see the application in all its glory so
so far nothing just install me clay out
yeah we can see that me Clara is right
there this a metafile that show us where
are the versions of Griffin and the
application that we will make use and
what are the different plugins that we
have right now so we only have to make
layout and swing alright and the
Persians and the version of course so I
set a Griffin app directory there we see
the different components segregated by
responsibility and we'll see first of
you so yeah I will select the view right
there and well that's groovy code I
think do you love groovy I know I do
they are options for building Griffin
applications with a hundred percent Java
in case that you are not able to use
groovy you are not allowed to use groovy
you can use Java okay so we will use
curry because it's just faster now we
have three components here we have one
on the left side which is the list that
will display the context then we have
some placeholder in the middle where we
put the form the contact details and
then lastly on the right side will have
some buttons that will run operations on
this context now why we saw me clear out
so we'll be able to call this node here
this is a simple way to define what are
the properties of the layout and any
constraints these are just the regular
constraints coming from weekly out
there's nothing new here so I can run
the application at this point and we
shall see a different view now ok at
least the layout so you talk about
plugins how much planes how many pornos
sorry how many points do you we have
about 170 for plugins for the moment in
the central repository of course other
people have built their own flow means
they haven't published them to the
central repo we can talk about
repositories anybody can publish its own
repository it's crazy so there is the
three elements here is the list is the
form which is on the moment empty and
some place where we put the buttons
right so baby steps that's a while
between the next baby stepping I need a
menu bar you want to see a menu bar here
on top I I need it you need it okay well
that's easy so if we go back to the view
we just had to somehow define that a
menu goes there okay and I guess that if
we put some menu items we can also put
some buttons there actually we need to
define which actions are we going to
perform with the contacts I guess the
basic actions create a new one save on a
16-1 delete a contact and probably print
everything that is there ok so for
actions so we have those things and we
want those sections in the menu items
and you wonder assume anything okay yeah
sure no problem that's easy we just go
to a step 3 and then we see it hahaha
hey he typed so I see very fast so
Karina many bars just a matter of
finding the proper notes
at the moment they are just empty they
will not react to any action whatsoever
and so the buttons as well you can use
any layout I make a use of Mick layout
again just because I like it and much
better than using grid in the moment so
let's run the application once more oh
by the way if you have any questions at
any time please feel feel free to stop
us and sm we will have softly time for a
question set hopefully kalyanam talk so
that's the only code I had to add to
create the menu bar yeah that's it
that's it that's it all right that's
good and there we go there's a menu
different actions and they are the
buttons course I click on them nothing
happens and if I click this thing
nothing happens now I can make these
things react yes question you don't see
it Oh bother you can see that ok
something we are in the menu I can move
around all the windows but now the mac
OS menu bar sorry about that that
there's the button ok I can change this
thing quite easily if I go here ok yes
and say well so we are going to react to
you let's change is the last one because
um you know is how we will be able to
see it action perform our ok as a
property let's do a simple print line
this will be dumped I just call it hello
and we put the same thing here and on
time ok well that's great goodbye well
let's let's run and see if actually yes
yeah she's right at first yep so you
were saying I'm going to have a problem
there we are we have repetition and I
don't like repetition and I think the
button and the menu item should do the
same thing should do the same thing ok
much see faq you feed us yeah good
goodbye and this one says hello right
perfect so you say something about Rio
use reusing the same actions well
fortunately this repetition yeah so
swing has an action abstraction
something that job has doesn't have yet
but if you happen to use groovy effects
then there is already an action
abstraction they're so nice point for
using groovy there will be later talkin
groovy effects but a gentleman over
there later in the day highly recommend
it so we can make use of actions yes and
this time I'm going to introduce a
second component which is a controller
in the controller you can define all
your actions and if you follow the
naming convention then these actions can
be used automatically in the views ok so
again conventions conventions are really
important yep going to reset for a
moment reset art because I going to undo
whatever I did ok so I wanted to change
to the next step ok and now we see
something different in the view we see
these variables that follow me some
names and end in action this is the
naming convention and these things are
harvested from the controller which is
right here notice that i can define
actions in a controller either using
crushers as we do in grails 13 or as
methods the last one which was also
interested in girls 20 it so happens
that we had these syntax since the early
days ok so we only need to do this and
then a magic will happen magic I'd like
that word yeah I love magic
okay there he goes okay and there is the
application once more so just the
actions will print out you say yeah i
think she'll be connected now if i go
again to dump on the menu says dump and
if i click it here also works yes so I
want now hotkeys or shortcuts because I
sometimes don't like to use the menu mmm
house ah no problem because we continue
following the naming conventions we can
externalize the names of the actions the
accelerators mnemonics icons tooltips
all these things can be put into an
external file and it's right here
messages well there's nothing there at
the moment so I'm going to check to the
next step well now we have something
there let's reduce it okay so there's a
naming convention that you need to
follow that is the full class name of
the controller then action this is a
specific then the name of the action has
to be uppercase so we saw we had new say
delete and dump action methods we just
take the action prefix if it has it and
then put cap the first layer in capitals
and then we compute any other properties
it could be the name the accelerator
mnemonic short icon or small icon large
icon short description long description
all these things are described as a
matter of fact it's a nice moment to
introduce the Griffin guy so the Griffon
guide is available to every single
Griffin distribution so you can read
luckily or if you want to read on an
over the network that's the address
written code hassle org guide latest and
it contains pretty much everything you
need to know about Griffin how to build
applications what is the application
lifecycle and even information on the
diff
commands which let me make this thing
with or whoo I'm doing we go there so
come online if you want to know more
information about the different commands
for example there was a created command
well this is what you can do right fully
browser alright so in there and you can
see why are the different properties
that we can set here my shortcuts those
will be your shortcuts let's run it
again now you notice that every time I
need to restart the application whether
I make a change this is something
different from Grails that while the
application is running you can make it
problem is that once you realize an UI
component is really hard to change it
but it so happens there is a J rebel
plug in some of the changes that you do
cut two controllers and models can be
hot reloaded you just told AJ rebel
plugin note the view but not w but it's
the business logic should be able to be
reloading that's okay so let's see the
menu ah there they are so you can you
can see the shark us there and if i
press command d she'll print out the lid
oh I did something weird no yeah you're
in the terminal also go back to the
application there that's it okay funky
and you divide that day sure so there we
are Oh shift command delete under the
action yeah I just learned a new command
for the show um so yeah now we had
circuits okay you know we speak Spanish
try to speak German so try yes I you
express a carny toys
try so if I want to see everything in
Spanish German uh well we can we already
have these things that they're
externalized so let's create a new file
that will have the definitions in
Spanish or the other languages put in
the right place follow the naming
conventions for setting all those things
in yeah we're just a file yeah here's a
file so notice that the naming
commission is pretty much the same one
but now for this particular actions we
want to override the default name we
will use the Spanish names of news level
save Sal bar and we also change the
accelerator so that they match what we
have here the German ones are also here
no II see hon Lucien off listen that's
right and yeah so we have changed out we
also have mnemonics and accelerators
over them and one thing that you might
remember from the UI is that each
element had a title and the titles are
also were in english now in the Spanish
words here we can see the translators
the translations in German and the
translations in Spanish Spanish so let's
run it in Spanish yeah what I have to
show how to make this thing how to hook
this up in the view ok yes that's
important previously we only have here
contacts but now if we grab hold of a
variable a share Bible called app we can
resolve messages and those are the
messages that we have them those files
so we're looking for a key that is
context of label and we can find it here
contact staff label that is contactos in
espana in spanish and if we do not
define what there is contacts in english
so if i run the application in the lets
say by specifying a system property just
for testing purposes language spanish
where's she will see different labels
now otherwise get us from the default 0
cal yes i have my default locale say
that's English even though I have a
Swiss keyboard so they made use are
different yeah yeah I will do but I
cannot do it for for the le domaine use
and then the titles are different and
say the buttons so let's try the german
one let's change that deal here yes we
have to run a little bit let's go huh
there we go now you notice here
something special we have home loads in
our file and so we're missing something
mmm well turns out that these files can
be processed with native to ascii so if
you have characters are the go beyond
the the ascii range it's just a matter
of encoding them and it should work now
i have that already set on the next step
so let's change steps so change to the
next step we were on step 6 alright so I
think well I can show it is random yes
please again
ok so the actions the button action the
menu bar it's stirred and we need to
start with the application domain yeah
so far we have a concert concentrated on
the view oh it's still there funny it
might be somewhere in some other option
well oh here's a farm now here's what
we're gonna do now but why do I have me
last name and address in English not
German that is because I didn't define a
German translation for this thing so if
you do not define something then the the
default way that up the messages will be
resolved by Griffin too pitiful will go
to the default an English you study for
and we will see in the UI how we set
these default messages in case something
is not there so you should never get
energies or grants message ok that's
good and here's the the basic
information for contact so Korean a
contact is just a matter of career than
simple pojo or in the case of groove is
a simple pogo yeah we're like to jump so
we show so far the Griffin app directory
where all of the components go bye-bye
responsibilities but you can have
additional sources now these sources may
not fall into any of these ten or
predefined components where do what did
you do with them well you can put it
inside source wayne and its answers main
you can put groovy files java files
anything goes there so here's our
contact pago pago has some properties
the name last name address company email
and fancy a string method and we also
make use of an AC transformation if you
were on our previous talk on Monday on
SD transformation then you know that
these transformation will generate an
equals and hashcode method for you which
follows the right conventions ok perfect
so we'll use this thing plus the view
yeah let's make it smaller there we go
now the center has more information now
we can see another mcclure yahoo we see
a for loop we trade
this lost property so we will get name
last name email and blah blah blah and
for each one of them will generate a key
so this is the key that should be
available in the messages files if it's
found them we'll grab the value if it's
not found when we asked get message this
is the default value that will get this
is why we get English when we run in
German and what we're doing here is
we've created a label on one side and a
text view on the other and by that we
will also make him binding here so that
whenever we write to one of the model
properties which I should also introduce
right now this is the third component
the model whenever we change one of
these properties then the text field
will reflect those changes as well now
this class is also observable thanks to
the st transformation called bindable
which was also Deemer on one on monday
and this was the first AC transformation
created ever ok so I just ran it yes
please for anything that's Spanish let's
run in a Spanish ok let's change that
and for this one in particular I know we
had translations for the labels right
there
okay there we go nice and tidy I didn't
define one for email in Spanish you took
it from English the English one is right
here if I don't define this thing
they'll it will not have a dash on it
because the property doesn't have a dash
that's the only reason all right so this
takes care of internationalization and
the the basic domain isn't it yes okay
so what's next what's next well we have
we need to create a list of contacts and
I need something useful and good okay so
let's models what's your experience with
working with liz models so so right of
course we can use class list one of the
best third-party libraries that exists
out there we work using the other Smith
layup so we have a plan you can see we
are a little bit bias within videos
because we really love these things so
you can install this place list and you
can do it in the same way as we did with
with weekly out if you know the plumbing
but now I don't know the plugin I need
to see the list you know not apply okay
well see see there's a command line tool
that we can use to look for the
Plumbing's but there is also a website
when you can see all the different
plugins and the information I get very
proud of that website yeah the website
is a grails application is open source
you can clone it you came for can you
can do anything and that's exactly how
you can run your own internal
repositories in your own organization if
it's behind the firewall and you need to
publish plugins to your different
teammates just download this thing run
it and off you go good yeah that's
that's pretty much it so first I'm going
to show the command line tools that we
have our disposal the first one is the
if you want to know what are the
different repositories that you have
access to then the command is called
Reaper repository now yeah you hit you
have to know okay yes we have to use so
how many repositories do I have I just
have Griffin local
we can add ah I know why okay the list
of plugins yep so the list of plugins
will be Griffin list plugins I'm only
going to my lip local Griffin repository
at the moment because I not rely on
network then let's make these sure
really here we have a list of all the
plugins that I have luckily that's the
name how many releases so information
about the heck what and employees that I
couldn't we have installed McClay out
and swing so you say that we want to see
place list yes yes I see Uganda plugins
okay yeah wait a few quite a few so we
can query please layout glitchless sorry
by doing plugin info place list now I
can also add a version number to it and
it will give me under the details for
that particular release for this one
that's the name some people information
where I can find the source code for the
plugin what's the license for the play
that's also very important and who are
the author so you can go and blame them
in this case it's me if it doesn't work
and you know where to send emails and we
have just one version that should work
with Griffin 095 and upwards this is
very important because when you see that
applauding doesn't work right with the
version that you're currently using this
then just check out that this is correct
okay the other option is to go to the
website which I have here artifacts
Griffin dash framework org
we can list all the plugins and see 174
at the moment and there they are some of
them here press list we click on it and
we have pretty much this information but
we also have documentation how to use
this thing one nice thing about this
this application is that is social so if
you want to leave comments please do so
if you want to see what are the authors
up to well this guy has released lots of
plug insist I feel and you can see his
twittering over there so any author is
free to do this thing and what's it nice
also interesting is that if I were to be
log in I could subscribe yes then let's
go to graceless again plugins placeless
let's go to jeane place list I can
receive notifications whenever a new
release is posted or I can tag this
thing if i want to or even I can grade
this thing out of this plugin sucks or
yeah this plugin is awesome yeah okay so
this is how we do it so we'll someplace
list and make use of it I already have
it prepared mice next step there we go
so the change is in the UI are making
use of an event this model events
listing let'slet's are just of several
lists like that once we have in javafx
so mattifier will believe that all
several listings effects were inspired
by place list don't quote me on that and
then on the model we have to define this
particular property contacts that's
right there just add contacts a.m. and
we will add a default element there so
that we know that well this thing is
actually connected so let's run the app
by the way there are many ways to run
the application I can just type app this
is a shortcut or I can even do just a
which will be resolved to
app this is quite familiar to what we
have in Grail which is a command target
expansion so let's do early yeah okay so
we should have the list the form the
actions everything beautiful do you want
to finish the application right now yes
oh so there's air that's it there's
something there but if I click on it
nothing happens so that's what you mean
by connecting this thing yeah okay let's
connect them so if I select something
here I shall see the values reflected on
the form if I change something on the
form then the body should be added here
right so let's do that step by step the
next step will be to just react to
selection changes so this is just a
standard swing stuff in the view we we
refers will make sure that a single
selection and then we raised her to
listeners whenever we press the enter
key we will change the selection or
whenever we double click on an element
we also change the selection we just
change one property in the model a
dentist and the interesting thing we're
just capturing what is the current
selected index and the zip then we go to
the model and there's that that selected
index property and that funky annotation
right there is another HD transformation
these are not decide away or an easy way
to add or register a property chain
listener so this closure right here has
that name selection updater will be
transformed into a property chain
listener so whenever you're when every
change selection if we have a selection
we grab the element and place all the
values of that thing into all my
properties and because the text fields
are bound we push the values directly to
the text fields okay
yes so let's see that so really easy
yeah we don't have to manually copy
everything we just relied on by me okay
not as fancy as you are FX binding
because we're relying on property chain
of and perfect chain listeners but is it
a good start so there we go once more I
will press enter once I have a selection
and yeah perfect but if I change
something here well nothing happens we
haven't connected things back so we had
to finish the actions really ok ok let's
do that ok so let's change to the next
step and of course we will be
interacting with the UI in some way yes
we have to implement them the actions
when I press new say delete so there are
no changes to the view Stacey the same
way no changes in the model stays in the
same way as a priest step the changes
come in the controller aware we have the
the action definitions remember we only
have print lines before so no now we
should we get the real meat obvious
thing ok so create a new one what does
it mean screw in the selection Wow yeah
how automatically because of the binding
then everything will be resolved and the
text fields will be clear just the just
what we need to do but we are affecting
the UI that's what what's what's
important thing that we had to take
control just exactly which is when you
work with swing you had to take care of
the event dispatcher you had to create
components in the event dispatch threat
and you have to read and write
properties of the UI components inside
the vent is faster right so that's what
static what we doing here every method
of every action in a controller is
automatically executed outside of the
event dispatcher because we assume that
most of the times you will
you will try to run long computations
right but then you had to come back to
the UI sometimes to update it right so
the next thing is that the model is a
special all the bindings that you have
attitude a model if they will reflect
changes to UI components they will do it
automatically inside the event
dispatcher there's nothing that you need
to do for other classes like like
Leslie's you had to update the event
list inside the events bastard so that's
why this method has a new HD
transformation applied to it we are
instructing the Griffin compiler to not
run this action automatically outside
the Venice password it will run in the
default red and the default red is the
one that published even if it's the
button that pushes the event it is the
event is pass rate so not in US needs to
be done saving a new element is just a
matter of grabbing the values that we
have for the model finding out if this
is a new contact if it's it then it
added to the list and if it's not then
we just update the values that we have
deleting a new element out that's
important and that's important that
portion remember the whole action is
executed outside live in dispatch threat
put that little block over there 923 to
the line 27 that is executed inside the
event this past red you seen Anna
synchronous code that is are keen to do
in swing utilities in Bach later aha
then the third action delete we clear
that selection and remove the element if
there is such selection again we are
just manipulating you I that's why we
use it in the default rate and the last
one if you can see it at the bottom it
just goes through the list of contacts
that prints each one of them now this
will rerun outside the event dispatch
strip so we're going to have a
responsive application yes for sure
that's great long gone are the days of
ugly rate rectangles and unresponsive
applications Griffin will try to do its
best to help you right well behaving
trading application still with freedom
if I want to skip yeah you have the
choice just an update things as you want
them
and there you go so i'll double click
here we know this thing used to work now
i will change this will change my name
as in the german pronunciation I know
why some people think that this is my
name so we'll save it you see over there
is different so let's create a new one
so that clears the selection let's add
it she'll sing matters well you write
the same address yeah and that's it
that's just leave it like that let's
save it and there is was because we
didn't define any email here let's put
it there well I showed nice keyboard the
sea and the white keys are our mix
change and I've been working with the
other kids so yeah come on brain yeah
there we go so let's save it again ah
this time you create a new one we may
have a bar ah yes probably the selection
wasn't updated correctly well we can
delete this one just make sure that is
selected and delete it there we go and
if we print all the contacts that we
have at the moment yeah only two perfect
oh we have uh yes we have to correct
that so what do we do go back to that
yeah but yes we don't have much no no no
but I mean how can we find this thing
testing yeah testing testing is
important yes so I realize find a bug
but yeah we just found the book today
and so we will not fix it but we have
something prepared for you which is
Griffin will run tests for you and it
either brunch set in unit mode or
integration mode we have one prepared
for integration mode that makes you
subject unit I guess all of you are
familiar with j unit so here is now this
unit test will boost wrap the
application up to a certain
base i think i mentioned that britain
the ivory application has a life cycle
so we will boost our the application up
to the start of phase where all the MSC
groups are being created all our basic
components are created but we don't see
any beach but so up to this point what
we do is grab an instance of such MBC
group make sure that none of the values
of the model are or none of the
properties on the model are have
something so they should be empty then
make a selection this should update the
values and make sure that the first
element inside that list has the right
value at the end finally we just remove
this particular embassy group we just
destroyed so we are in a clean state
let's run this thing there's another
command let's go clear Griffin test tab
and if I invoke it in this way it will
attempt to run all unit and integration
test there's only one test at the moment
so it doesn't matter what I do just what
will rob this one okay put that do yes
first start first stars uh-huh so there
we go it runs there's one integration
test its screen and says up in the
reports open target test reports HTML
index and there we see is actually green
it's okay perfect now well you can go
and be merry and do j unit tests and
that's it okay but I love Spock okay
anybody here has heard about Spock a few
so tomorrow there's going to be an
another talk on the groovy ecosystem
where I there a little bit deeper on
spot but we'll see today that Sparky sap
sap testing the ESL it's more than just
that testing framework is more like a
test in dsl let's change into the next
step which is step number ten we're
almost there we're almost there
and there I can see a new file over here
address book control a spec now is there
anything crazy about this code that
jumps to your eyes what about the method
name it is a string really long dream
and now these things are just block
labels but what Spock does is hijack the
groovy bytecode actually tells the
compiler hey you're no longer to charge
I'm in charge so i will do crazy things
with the app by Cole and my crazy things
I mean really good things and the code
that you see here is pretty much the
same code that we saw in the unit test
case but the way that this thing is
layout with a much much better like it
was behavior driven development I can
run this test only this one if I
instruct the test app command to just
run the spot tests the guide has
information how to run this thing
whether the different options for
running tests and segregating and just
running one then you can even drawn one
single test method of a test case if you
want to so there it goes runs a spark
test and it's a screen so we see the
results and there's our spec now and see
the method name much more descriptive
that's what a night that's one of the
advantages are definitely more coming
from Spock what they stood yes so far
yes okay so are we done let's return to
the application please curious no Brian
it please are you want to run the
application yes because I think I forgot
something okay that's not the
application yes okay last minute
requirement I need a confirm exit
dialogue oh don't we love last-minute
requirements SBI cha so there's he
actively as the application was more as
we left it and their know
so if I mistaking the click on quit
address book with my fat fingers uh-huh
you just want to prevent that I don't
have unsaved changes yes okay that's
easy what we do is rely on the
application lifecycle and make sure that
we react whenever the application is
about to shut down if we do this thing
in in swing plane things will be to add
a window listener and then so if we're
good to go right what if you have
multiple windows you have to add the
listener to every single window yes and
you have to take care of that manage
windows blah blah blah we do it for you
with briefing has a window manager it
also has this life cycle which is the
one that I want to make use of and that
if I go into the confirmation directory
where I did say these things but here's
where we have all the confirmation for
all the different embassy groups how we
configure abused and all that and run
ten configuration but there's this new
file called event Sudbury and this guy
will react to the application lifecycle
so when the application bootstraps it
will trigger some events and they were
placed in a lightweight event us anybody
can listen to these events and in this
case I'm just having a groovy script the
convention is on then the name of the
pant and then just give it a closure
with the right parameters so what we do
here is as the application starts I'm
going to raise their another guy which
is a shutdown handler so now whenever
the opportunity is about to quit it will
ask this shot that hander if it can shut
down can shut down shall return true or
false if it's true it continues its
false abort the shutdown sequence so we
put a dialogue there solely petals and
that's precisely what we do in there
right cool perfect so let's run any one
more any other event I can react yeah
well this is bootstrapping if you go to
the guy and see application review
application lifecycle there's
information about the life cycles
application events there we see the
different life cycle events that you can
react to there are some other events
that you can react you and anybody
pls any other component can publish
events and yes the guy will tell you how
to do this thing so okay here is let's
put the application and now let's quit
it now we have this thing okay we pray
and I'm saying the changes from being
discarded right that's right okay yes
second thoughts Madonna okay I think I
think for the timing it's great but
testing and healthy codes are my main
preoccupations so let's talk about
metrics uh yeah fortunately yes it's
easy to do test code metrics in in
groovy because PMD cobertura fine box
clever all these tools work with you
with Java Buddha also work with groovy
but there is one particular tool which
will be also be in the next dog called
narc this guy provides a static code
analysis for groovy code it's hard it's
not difficult someone told you that is
it's impossible to do this kind of stuff
for a dynamic language he didn't know
about Conor so I happy in this next step
the last step I find out is taken and we
will see now is that there should be two
new Plumbing's their code narc and code
coverage this guy will do code metrics
and this guy will do the code coverage
with covert we're so let's run all tests
again test app with a new flag and this
black is only available because we stole
the code coverage plugin if I really
want to be sure I can clean all
previously existing files so let's start
afresh this will run all tests the spark
and a unit test okay
there is all the plugins and run the
test there is first test unit second
test back there's cover Torah it has
opened it has create a new report so
let's open that right target test
reports over to our index HTML I believe
yes and there we have it we have some
green we have some red we have some red
because we haven't really exercised the
full application we can see that a model
it's pretty much fully cover even though
there are two red lines there the
controller well it's at zero we didn't
exercise a controller at all but yeah
and konark let's see how healthy our
code is installing the code nerd protein
adds a new command that we can call
corner this is of course described in
the documentation other plugin yes go to
the side yeah just go to the website and
see what are the different options that
you can tweak because we're using the
default configuration the default rules
of konark then it's a disgrace another
report target test report konark alright
konark yeah so we have six files three
of them have violations one of them says
I not make it I know making use of this
parameter on the metal shame on us and
on one on the test cases we are making
where define some variables will not
make it use of them shame on us she owes
its fine for the prototype because we
just finished in the less than an hour
now here's another nice thing that we
can do is that we can ask the Griffin
framework to tell us a little bit more
about our application how many files we
have on which types 190 lines 91 lines
of code 12 files segregated in all those
things nice so so I guess is this it yes
this is it a very simple application in
less than an hour with testing and
metrics and some fancy lists and layouts
yes yeah so this is what we
for swing and I said earlier that we
support different tool kits yes if you
were to cook if you want to create an
application using javafx it's just a
matter of if you have any question well
comments let us know if you don't he
will show you yeah can I can talk for
hours yes question oh so can I show you
what was the question deployment how you
do so careful do we do apply this thing
yes because right now we just play in
the sandbox isn't it you see that's a
great question yes say that we want to
package this thing as a sip that can be
distributed Linux or as a single jar or
in a plate of Western model I didn't
show you but if you want to run the
application in Webster mode just do this
as you want to run in as an applet
change the command now the default
setting for the package command is to
package the application in four ways sip
single jar applet and web start and
we'll do it in production mode which
means it will sign the jars using a real
certificate that you provide on all
things and also use pack 200 to compress
but because it takes too long I'm going
to specify that the commercial run in
the development environment so that it
doesn't sign and should be faster now
this is the same feature that you have
in grails running the command in
different environments so it's important
show for the fault we have four
different we have four different options
but there are more yes if that's nothing
so while that's working i'm going to
show you again on the plugin portal
let's go into I for installer and this
guy enables so this is another plug-in
that we can install right now this guy
enables universal starter through AC
pack or devient RPM your target linux
our dmg targeting OS x or even j smooth
your turn again windows that's just a
windows launch
that's that's another important thing
when we run the application here in mac
in the doc do you have it open no no
there is a nice icon over there that you
can barely see so which you just called
package you have these things over there
let's say sip it's right there the
applications right there so if i call it
from the command line tool that will be
dissed sip bin and i see the name of the
application its address book just
executed pump runs know the undersea i
can right over there apparently because
you can't even notice of course it is
you can change this heading to now if I
if does that answer your question so you
just saw this solid plugg and you get
more options as well so if I want to
create a Java fix space application then
there are a few things I have to do
maintenance I have only three minutes
but yeah so we all lost we also have
something called archetypes that lets
you booster up an application and
different way because we only have
created applications in the default way
the javafx archetype we are allowed you
to create applications based on javafx i
don't know if i have installed but
installing an archetype is as easy as
installed archetype javafx effects and
if you look to the portal there's a tab
here that says archetypes it will list
all the currently available archetypes
that we have I understand effects you
come and jump start take a look at that
you will lot yep so uh yeah offline too
that's worth here okay that's let's
change some settings here I'm offline
yes offline mode if you happen to work
on a plane or a train as I do this is
the options you want to set offline mode
so then you won't cure via the network
now I have network I will install the
JFX archetype because I didn't have it
locally Oh
I don't we should there we go so install
it now i can do think nixing brief phone
create app let's say cool but i will
specify the javafx archetype uh-huh
resolves quits app there we go installs
a curry effects project plug-in
installed the javafx plugin then we
change into the cool app yeah there we
have two different plugins here and
let's run it G is my alias for Griffin
course and a results to app so this is
my way to saying Griffin is already GA
ah another is yes it's because the
version of the JFX plugging i'm using so
uh who this is the snapchat i have so i
can do the following thing uninstall i'm
on install and store log in javafx i was
running some tests with jdk 7 when i
compile this version of the 08 snapshot
version but Dean released java fix
recently so let's do install and i want
to do it from the central repository
because i know that's where it's at
refunds and drop just to make sure i
could actually say that it latest
version but this should pull version 08
yes there we go downloads from the
network installs resolves latest
versions and let's run it again okay
what this is da and yeah just make sure
they actually will
wait it does work there we go see da
various job effects and Griffin working
together tada already thank you so this
is what we have for you guys and rattan
we have some gear ways if you want them
to are some Griffin pins and we have two
t-shirts for the best two questions
there are large yes oh you want a
condition okay you got it here's another
okay yes yes it could be right at that a
equals was not the right one well but if
I was based on the selection yeah but
yeah it's definitely we need to check
the ask but I think that in this case
was working based on the current
selection any method we created one this
selection was not really updated so i
think that the buck is a movie career a
new element we don't update the real
selection in the model itself
selectedindex property in the model was
not updated right awesome with the ex
works is really do the same work yes you
know if you change sec we can you use a
lift see to the message file so you can
reference like a flat one until that way
without their use so I did only have to
change the word one time is a factor
changes you know 37
well you had to change the key so the
keys for each element has to be yes okay
okay okay ah yes so the Griffon
application the Griffon uses it's a
different type while a helper type
called message source and there's a
default message source but you can hook
in your custom message source using a
custom message or factory everything in
Griffin that you have seen is highly
configurable yes another question you
can create visual components with this
thing yes as a matter of fact there is
one plugging here which is the dialogues
plugin there is dialogues this guy
provides a custom dial it's fine
dialogue like this one it's all an MVC
group so you can just run it in in
Griffin the way that you use it it's a
straightforward here's in the
documentation just call this a singleton
class and invoke the fine or the search
or replace on a text component and this
guy will automatically bring the new
custom component so you can create and
then make a plug-in and then this rivet
and of course you can build your own
plugins I can release plugins you can
package plugins you can do many many
things your local yep so hope you guys
have enjoyed the talk and you have for
the questions just search for the guys
that have the griffin t-shirt thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>