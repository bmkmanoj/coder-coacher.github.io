<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Migration of a Large Automation Solution to Oracle WebLogic Server | Coder Coacher - Coaching Coders</title><meta content="Migration of a Large Automation Solution to Oracle WebLogic Server - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Migration of a Large Automation Solution to Oracle WebLogic Server</b></h2><h5 class="post__date">2013-01-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/gEHTCLiYMqU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so I want to talk about the latest cool
features of Java but about more with
experience using Java in an industrial
automation project so I was not allowed
to get a permission of our customer to
be displayed as a reference because i
asked the deputy of the deputy and the
holidays but he he allowed me to say
it's a lot royal mail and the logistics
center in his role UK in london that's
our customer and we made a project with
him setting up a mail center and this
story is about migrating this software
of the mail center to a new generation
and having moved from borland
applications over to weblogic first
about myself i studied computer science
i'm a certified senior software
architect within siemens we have an
education program to qualify people
engineers to become certified senior
software architects where you acquire
certain skills and have a certain degree
of education internally of visions
events so my focus is about je
service-oriented architecture this is
process management and model torrent
software development one slide about
siemens my company I think Siemens is
also well-known in the field of
electrical engineering it has a 160
years history can be compared for
example with General Electric it's a big
organization and we have several sectors
it's about energy about healthcare
industry and I'm in the segment
infrastructure logistics where I'm here
placed and we have several products in
the area of airport solutions postal
solutions that's what I'm talking about
and there is also reading and coding
systems where OCR's of letters are taken
and the sorting process is in
lens by this OCR and then I'm located in
the department where it's about software
i fi t controlling these systems in a
sorting center or controlling this
systems in an airport Center and
providing the right information to the
right time and making the salting
decisions or manual operations so my
talk will be threefold I will give an
overview of the automation systems order
so yet you get it acquainted to the
industrial context where the software
solution is all about and then I focus
on the migration project and the issues
we have there and in the summary I will
wrap it up and give you some lessons
learned about applying je to an
industrial context so the overview we
build up for the customer an
international distribution center as I
mentioned throughout mail there we our
general contractor supplied the whole
building the material handling systems
the sorting systems all the IT
infrastructure and we as a subcontractor
provided the production control system
which controls everything in this in
this area so you can also see let like a
men manufacture execution system it's
not the primary control systems of the
of the mesh material handling and the
low level stuff but the high the high
level production control system which
controls all this stuff so the software
which controls the sorting center on a
logical level it provides IT support for
operational processes and realizes the
planning monitoring and reporting of
this plant so the goal of our customer
was to merge the different international
exchange centers which were in over all
over Great Britain to one place close
to where the mail flows out of the
country and comes into the country
that's at Heathrow Airport and by doing
this we wanted to increase also the
degree of automation because all these
different international mail centers
small centers have limited capabilities
in automation thereby decreasing also
the level of redundancy because you have
several things in different places
connection to to EDI systems and so on
to merge this in one place to have ease
of control of the whole management of
the mail operations increase the overall
efficiency and also increase the quality
of the international mail operations
because there is also an exchange of
money between the countries in the
international level for example if you
have in the postage is paid in a country
where the where the mail is originated
here but the revenue has to be shared
between the countries which which take
place in the whole in hold logistic
delivery chain so you have to really
take track of the amount of a mail
volume coming from the other countries
and make a correct calculation and
getting your revenues out of it also for
example if you have international mail
and need track-and-trace capabilities
you need to to do this in a central
place so i will give you several an
overview of the system in a logical way
so such an international distribution
center has two modes at least at our
customer there's one mode the expert
mode where the mail flows out of the
country you can see trucks arriving on
the on the right on the right hand side
with a mail from the different mail
centers the mail is put and processed in
the arrivals area there are the bags and
sacks are are opened and put on material
handling systems and directed to the
right places in the center where you
have different manual and automated
sorting machines then the mail is sorted
collected after these salting stations
and then move to the dispatch area where
the build ups are done for international
fly this is typically flight so you have
this this aluminum ml units where all
the stuff is packed into and then it
goes on a different lorries which go
directly to the airports and to the
loading areas there that's one direction
the other direction the lorries from the
from the airport would come in with
their you Elise they will be broken down
sort it to the country to the final
destinations in the country and then on
the dispatcher area collected two
different transports to the different
parts of the country so that's in
principle the way such an international
mail center work so we have two modes
and for example it it's now the work of
the pcs to to schedule this when do we
have import time when we do have export
time which resources are allocated what
are the places where the trucks are
built up whether you are these are
loaded and so on the row stirring of the
stuff and this is all done in the PCs
software so something to the history the
project started in two thousand so
that's quite a long time ago there was a
general contractor it was dematic drop
his town in us in Michigan and my part
of Siemens was a subcontractor which was
responsible of building the software
system
then siemens took over dematic so
siemens was suddenly in the inner in a
position of a general contractor at the
end the go life was planned for two
thousand three things did not work this
way of many reasons because it's it's
it's a real large project we had finally
the crosstalk operations in 2003 and the
final operations in between two thousand
two thousand five and two thousand six
so as I mentioned it's a highly
automated mail processing facility and
at least at that time it was the biggest
international parcel logistics center of
the world there are different male
categories we have the letters with the
flats and we have the packets and for
all these different streams you have
different material handling and sorting
systems father therefore the letters for
the mail you have a high diversity of
different male streams with different
service level agreements I would say you
have to inscribe mail you have in UK you
have a large variety of mail services
which you can have different stem pitch
and and and labels are put upon and the
software has to take into account this
is this rich diversity of mail streams
and during the project even more mail
streams were added so we come up to this
final 47 number of males dreams so we
have a high-performance distribution
logic and the quality of services in
focus because its international
spotlight where it's what it's very
critical if this fails if there is an
outage the whole mail will be stuck into
this mail center and will be of great
interest also in the press so it's a
business critical we have no there there
as you can imagine there are only few
few hours in the day where you may apply
a patch or my my exchange the software
so in principle is 24 hour 7 day
operation because there is nearly no
stop in flights going in and out and if
there's a stop in flights you can still
prepare for the early morning mail
so for us it was a challenge because it
was a very large project there is three
shift staff in a 40,000 square meters
building we have about two to three
hundred pupils per shift and these
peoples need the IT support we have
about nine millions of items per day
which are processed by the center and we
have 70 of 750 Road Transport 250
flights that we have for this we have
130 you will d loading devices for this
large aluminum containers where you load
the the freight to their to the aircraft
with nearly 2,000 roll containers 50,000
bags and so on we have many many
interfaces to the to the external world
as you can imagine for example EDI
interfaces where you get
pre-announcements from other countries
for that on this flight a certain amount
of mail arrived so you you know what
what comes up to use or you can decide
and plan in advance what what you're
going to do so about the material
handling automation equipment it's
really impressive i have only three
photos which gives you a slight
impression about about how this site
looks like seven induction lines 12
kilometers of conveying systems to
really large tilt tray sorter switch go
through the whole building it's like a
like a chameleon connecting everything
ten-letter sorting machines three flat
sorting machines cross belts otters
loading robots automated guided vehicles
which go through the plant security
screening systems of course you can
imagine if things go out of the country
you have to you have to inspect all the
stuff which goes into the into the plane
you have to x-ray that although all the
things would go out in the f in the
aircraft so in fact all mail which goes
out of this mail center has to be in
spare
goodbye the x-ray machines and the
system has to guarantee that this order
also happens it's a security critical
thing and that at that point so we have
67 different workplaces to support with
with our clients there 257 PC clients
with barcode scanners where someone is
scanning a sack and I have an example
for a screen of this workplace we have
handheld terminals which have also
dialogues on it which are effect Li are
the same as PC clients but using a
handheld device which was not so common
at that times today is much more much
more typical that you do this we have
document and label printers we have
scales where for example for revenue
protection purposes where you want to
ensure that the amount of mail that you
get is performer from a big from a big
mass mail sender you have to verify or
postal organizations want to verify if
the mail is really of the amount which
is indicated by the mass mailer so you
what you do typically you wait this and
then you compare and make statistics and
say is this in the range of what is what
is allowed for about 100,000 mail pieces
that this is also a one function the
system makes it makes sure that the
revenue of our customers really
protected and that he gets his revenue
so this is driven by a server farm with
at that moment 23 high performance
servers and about two terabyte of disk
storage which is now no nothing it was
in 2003 it was really it was a challenge
for us at least for us at today it's
nothing it's fact factor 10 or 20 hiram
AV even more so we have 72 business
logic components here and 23 interfaces
and communication services which we have
to implement so that's just an overview
of the functionality which we have in
this
stuff so we have a production planning
and control system we have to make
personal planning machine planning
production and process monitoring we
have cross functionalities for example
containers which flow in this in this
material heading system have to be
tracked we have to to identify we have
to control the material handling system
which is a subsystem with which is a
very important subsystem for example
which has to take care that every export
mail is going to an x-ray station we
have a dock in the art management system
for the for the truck arriving and this
part departing we have communication
system for example for you PU and other
customer legacy systems we have arrival
and dispatch monitoring and control so
we have to do have a workstation which
identifies the mail which is in the sex
which arrived you have to make up at
where you have to control the sorting
salting management is very important
because you have to load the right sort
plans to the machines at the right time
so mail sorting machine takes takes the
mail items looks at the identification
the address and decides in which outlet
to be sorted and in order that the
system is able to do this it has to have
a salt plan which it's a lookup table
which says which ID goes to which to
which direction and this is very
important that the rights or plants are
at the right machine at the right time
and this is a part of this planning
process then we have special services
like I already mentioned the revenue
protection for example mass mail waiting
wait the mail on a forum for a mass
mailer and verify if if it's in the
contract limits they have documented
ending you have many documents which
which come with this mail and documents
which have to be generated for for
sending the mail out you have to be
halfway bills and there for example if
insurance items you have you have to
list all these items in the inner in a
bill of letting you have tools for
example aviation security support this
is taking care of the
three machines and taking care of that
everything is going to the right x-ray
machine we have a process optimization
so we take all these figures out of out
of the process and make reports so for
next period of time when you go when it
goes to planning you now have to write
figures and know how to to make the
plans for the next for the next quarter
so it's very important to take all these
production figures to have the right
figures for predictive planning for the
future so just some just some slides
impressions this is the big shot the big
sato which I hope I have the right this
is a big speaks order which goes over
over the place it here you see the
armored units this aluminum stuff which
is loaded until you see some some manual
working places here here the sex arrived
here here the trays arrived and they are
merged into this X and here we have a
workplace which some some support from
the production control system which
gives you instructions to place it in
which sack and to scan it the right way
and so on so there's a picture
so this picture gives a last at last
functional overview we have the planning
system yeah planning system which plans
in advance and then in sensya is the
current day and we have here this
different let's not cannot see the
personal management the material
handling sort handling dispatch
management and so on is controlled by
this current day and the plans for the
next days and then the data which is
generated during execution of the
process is fed back to the monitoring
system and displayed at the supervisor
so he knows from today and can now
derive is planning for tomorrow and the
next periods so now let's focus a little
bit more on IT maybe you have not got a
little background about the system
what's it all about what see the
functionality is so we have this
production control system sitting on top
with its clients and the external
information systems connected to them to
here and we have on the bottom line this
whole material handling try handling and
control equipment and in between as we
have the letter sorting machines the
flattering machines staging equipment
and packet sodding and for every such
subsystem we have an area concentrator
which is acting as a proxy and
controlling controlling the operation of
the subordinate system for example the
subordinate systems may be implemented
using win cc or wonder there or whatever
you have as a as a control level
platform and then in between they are
the area concentrators which do the
interfacing to the production control
system that's one principle way the
system is built so some screens just to
give you an impression it's it's a
boring swing applications from today
point of view it's would be nice to to
to renovate this may be using JavaFX or
another nice GUI technology it's all
it's all rich clients there are no web
clients at that time
if some figures here and this is for
example this operator you is it's more
of 44 touch displays with big funds
because people which operating there
have have gloves in their hand and they
will scan this kind of label and they
will get instructions what to do for
example place a sec on this line or on
that line so alternative to this to this
UI are handheld devices for of course so
coming to system architecture of the pcs
the software is based on formerly j2ee
now j ee and i think it was one of the
first adoptions of je in an industrial
context architecture was laid in 2001
and we choose je before we use Kaaba and
hand coded pieces of software process
here process there we wanted to
integrate this and ensure that we can
scale up with a number of clients which
was impressive for us at that time for a
cup of five to six hundred rich clients
with an unknown for us not not so really
calculator will load on the system so we
said we have to use an architecture
which can scale and scale up with the
increasing customer demands at that time
we used a ball and application server
with eg be one dot 3 and how we add at
six r3e to be three which was migrated
to weblogic we have JMS will use sony mq
we also move the tool to weblogic where
the Kaaba a ball and visit broker Kaaba
communications still in fact as a link
to area concentrators we replace this
with jdk collar where business
intelligence for this reporting for this
taking all this data out of the system
with sa PPO it was customers choice to
to have this tool in place we have an
oracle DB we started with nine I in the
failsafe mode and
this 210g in a real application cluster
with first two and then three nodes this
was not part of this migration project
this was already in a scaling phase
after after the initial deployment it
was killed up to three nodes because the
customer bought I think about 100
additional handheld devices which
increase the load so we we added
application servers and we added a
separate rack note to it and we have the
storage area network I think fibre
channel at the time with an online
backup and HP server hardware and for
the handheld devices there is a jboss
application server which serving the
epic data Express or server this is a
something you get bundled comes with
simple at that time the the dispatcher
was this epic data expressive server
which has a JBoss inside we started with
jdk 103 and in part of the migration
project we moved to jdk six so this was
here the applications over form this is
presso clusters here this is a pts on on
five notes finally then different
additional clusters for for special
things like for the error concentrators
with the database and the backup system
and this is a separate cluster for
forecasting so you see this is now
weblogic and here the Oracle real
application cluster making an online
backup using data guard on that on a
separate machine and here we have also
oracle and sfp business objects for the
business analytics which is separate
it's good so the business analytics is
not going directly on the operational
database but the data is also replicated
to this to this special bi database and
then as a as a PPO excesses this
database so then we have here one
picture which shows the connection to
the outside world we have the mail
center we have the ml units where you
have
will you have also additional clients
for the PCs here in Heathrow and Gatwick
where you can do special things when
when late late mail arrives it will not
go to hear but it will directly go to
the to the ml units you can also enter
additional mail in mail 222 some to some
air mail unit device so you can if
something goes if you're too late to
directly go to the Emerald unit and put
put the mayor there on the other on the
plane now the customers also outhouses
when there is peak operation maybe for
before Christmas he rents or he has now
additional buildings which he calls out
houses where he temporarily makes a
temporary installation of PCs typically
you have here and makes additional build
up and sorting in this in this area to
expand his capabilities for her for a
temporary time and he has many many
legacy systems which have to be
connected for the DI system and internal
systems of the customer which you have
to interface so now we come to the
migration project overview the core of
of my talk so the goal was to extend the
lifetime and the maintainability of the
system so the system was in operation
for now nearly eight years and the
customer had to do something in order to
keep the system in a good shape so he
had to make the server hub server have
the upgrade because several were out of
out of out of guarantee he also has to
make a software upgrade that operating
software system upgrade he wanted to
introduce database replication in the
database as I as I mentioned with her
with a AJ high availability solution
dataguard solution there were also some
some other overhauls of a cargo control
system the start of the project was 2009
in August and we successfully got our
acceptance in April so this project was
was a half a year a little bit more
and now we have raised raising the level
of the software tool to a new level
where we can keep on going maintenance
which is a very good revenue for us it's
fall so for a customer very good thing
and he will get upgrades in our software
in a regular basis and we have a very
successful maintenance phase now with
him oops so what would what did we do we
upgrade it from borland old Borland
applications are which is now no longer
existent to weblogic application server
to 10 3 4 now we have to migrate up to
java 6 because our all all our software
was now on java 6 and 1 dot 4 was no
longer part of our our software where an
internal an internal component framework
recalled vc bundle we have to upgrade it
also adds and so he gets a really new
upgrade off of the whole staff we had an
ilok j view charts replacement with
jfreechart because we did not no longer
lead it and it was quite quite expensive
for maintenance and we did we did
upgrade the ilok cplex the suplexes used
in the forecasting part where you take
the actual data and trying to make a
forecast if you--if you reach your plans
for today if all the deadlines are made
and schedules and of course also we
upgraded to oracle 10g from from 9-1 the
maintenance project now is already
looking at 11g to upgrade i think maybe
next year we will upgrade to this
version as you also can see we are in a
business where the customer we have the
customers very conservative and we have
to provide long time maintenance which
is not so easy if you're using today's
frameworks because you get updates every
every half a year or even more and it's
very difficult to choose the right
pointer to take the right version of a
weblogic to take the right version and
patch set of an Oracle database this is
very very difficult and we often see
that the
open source and also commercial
off-the-shelf vendors are not aware of
using this in in the in industrial
context where you cannot upgrade just
every every half an ear our customer
will tell us are you crazy yeah we are
not allowed to go there and upgrade and
this is really never changed a running
system here you the customer will kill
you if you if you just upgrade out every
every every second month so this is also
something which is very important for us
to really know from Oracle the the the
roadmap and know which versions are in a
final final terminal release phase where
you can now trust and say okay I will
get the nail and other maintenance for
five years to to have a have a
successful maintenance business oops
wrong direction so i will go to the
details so we have a jdk upgrade from
1326 which frightened a little bit
because you have to imagine this this
big system which all its all its
software after going going life means it
has to work it it will not be allowed
that some something crashes or and is we
are not really able to test this at our
homes we can only test certain aspects
with simulators but it's in fact it's
you can attest the whole plan it's a
real real difficult thing so JDK upgrade
was was was quite easy we had some small
issues in swing there was some changes
but we get a really significant
performance gain this was really
interesting xml technology there were
some some small upgrades from checks p
which did not really bother we have with
jdbc there was a little problem with a
big big decimal change to the behavior
mapping to the database I think nothing
spectacular then we encountered a
problem which we did not we really did
not expect in our in our in our plan we
have this epic data server which
connects these handheld devices and
after after five six years it was out
face so we
there was one we could either replace it
with complete new technology or see how
we can to get this an Intel
interoperable again because the customer
did not want to change this 410 tell
devices say they are there has no money
for just replacing them towards your new
to a new version so we can only upgrade
it to jdk 1 dot 4 and then we have this
jdk six and jdk 103 interoperability in
with era my iop we did not expect that
it did not work so we really I think we
spend 11 months one person once in
investigating this problem looking how
to do is to do it and also we discovered
if we're using our my iop only gives us
interoperability but there is no
failover so then we discover that
weblogic supplies a the right client
library which does this just for us and
we did not know about that so I can if
if you have to do this this problem take
take a take a professional consultant
which has more knowledge and in this
area we did at that point we saved we
were we were ignorant about the problem
we thought we could save money not
asking one and the person was trying too
long on his own here so this is good
that that old libraries weblogic
provides libraries with interoperability
to a newer version so this is very good
so then we upgraded from borland to
weblogic that we have to know about that
we had to it's about installation it's
about clustering it's about data sources
it's about JMS and each be configuration
so that's that's a problem fields were
you where will provide some more details
so preparation is get training for
administrators and architects know about
the new product get initial consulting
so you you know what you're doing this
is very important and we did this of
course but not in every place so
configuration issues here it's about XA
data sources and drivers what is the
right data
to use normal data source multi data
source because we have a real
application cluster there are also
contradictions in advices from experts
from Oracle and experts from from
outside which we hired so it's we are
using at the moment we were using normal
data sources without rec because a real
application clusters because we don't
want load balancing we're using the real
application cluster in fact just for
fast failover so we in fact if in fact
did not really use her other the load
balancing for the three cluster real
application cluster it's a little bit
out of out of order with this with this
decision to just use real applications
at cluster for for fast fell over so you
have to test failover on the level of
the database it's really important to
have other rights nuts and bolts through
correct settings so that it really works
so today weblogic 10 3 4 introduced grid
link data source but we were not aware
of that because we started with with 10
30 so I think today grid link data
source would be the right thing to use
for the real application cluster so i
beez you have to migrate the deployment
descriptors and configure ate them for
fast fell over we have 74 jars nearly
300 stateless session beans we have to
do no changes we have also container
managed beans we made an automatic
scripting which changes the deployment
descriptors we have also some legacy
container managed beans bean manage
persistence beans we had to eliminate
them at that point so we got sometimes
we got in importing the whole stuff we
got some time sometimes poor and cryptic
error messages from the e2b compiler
which really puzzled us and took a long
time to to find out there were some
errors in the in the deployment
descriptors which work just for for the
boland application server it was ignored
and we had to to change this for the
most strict weblogic egb compiler so we
considered also migrating from E to be
one that won the CMP to
22 that one but this was difficult
because boland already supported
optimistic locking in locking in the egb
one that one and weblogic requires it
should be too late' 14 saw such a
feature so we stayed with eg b11 that
one which is still supported and are now
using pessimistic locking which worked
it was too much changing so much code
for this migration project only so JMS
bolland was bundled with sonic mq where
you have a single broker instance which
may was made highly available so every
every track traffic JMS messages go to
this program then go back to the cluster
and we're using windows cluster with a
shared storage to make the persistent
queues and topics there is also sony
comes with a more advanced a high
availability feature but we did not use
that so we have an out of process JMS
broker and it requires to network hops
in such a configuration where weblogic
typically comes within with an in
applications of a broker which saves you
one network hop but also gives you other
issues because it's it's a little bit
different so sonic also came with
advanced features like server-side
filters and shared subscriptions which
we did not have at the time of the
migration so this is now weblogic also
support set so the architecture of JMS
the architecture of now with weblogic is
much more different than sonic mq i'm
not sure if you are aware about about
the architecture you have a large number
of possible deployment scenarios you can
you can have the brokers with your ETPs
you can have a separate cluster of
weblogic application service with a JMS
only inside so
ready to make up your minds and your vs
to select the correct database driver
and the JMS destinations may be
distributed this is something which you
need to use if you have a cluster where
external systems like our material
handling system can can send messages to
the whole cluster so anyone has to
receive it any one of your boobies has
to receive it and service it so in 10 3
4 new features were added to weblogic
JMS with which now has the same level of
features which you have the sonic so you
can define one consumer / clustered
application and this is what you want
what you need you get the message from
outside from your material handling
system and one one instance has to take
care of this message just one for your
all pcs application yes you do not want
that in every application server this
message will be processed which they
have several options to do that but this
is the right this is typically the right
logical solution that you have one
consumer pair application per year and
this was not possible at the time when
we when we migrated so we had to make a
little work around but today this would
be either the right the right thing to
do the right configuration but you have
a lot of different it's quite difficult
to to configure weblogic jame as to what
you really need you have many many
points where you can adjust
so it just explained to that it's it's
also if you have in process jam as it's
very efficient here you have 1gb sends a
message to the other one and typically
it will be consumed in in process as you
have you have no no network hub this is
very efficient however you can also
configure that it goes to another to
another node in the cluster which may be
also okay if you have you if one message
generates a lot of a lot of work in
traffic maybe it's good to distribute
this to another node you can configure
this but it's really difficult i really
have to look at all the details how to
configure weblogic term as to make the
right choice and you have many many nuts
and bolts to to configure so as i
mentioned you can stack to your local
server yeah then you have it's very
efficient but it will generate a dismal
load or you can balance in the cluster
which is which is good for load
distribution but it gives more latency
because of the net of the additional
network up so the distributed queues or
topics are very good if you have just a
pure each you pure egb solution or you
have no external processor you have
messages which are generated inside the
e2b applications and go to other nodes
and this is very good there is no
problem but if you have outside
processes you which generate messages
and inject messages into the system and
consume also messages from the system
this is this is difficult because maybe
the external system sends a message to
one node and the consumer is not there
it's connected to a different note in
this cluster and this typically the
situation will not occur because
connecting to the cluster which has no
consumers will direct you to
the node where there is a consumer but
during lot during failover a situation
can occur where you have a sender going
to a node which has no consumer and
there is a consumer where there is no
sender and this problem for this problem
you can can configure Q forwarding which
solves the issue but so a message is
sent to one note there is no consumer
and then it's forwarded to one of these
nodes were whether as a consumer but
this is something ugly you have to
configure a forwarding of messages which
is really not not what you what you want
I have a picture for this and this can
happen if you have external external
producers and consumers like we have in
with our material handling systems which
are not inside the application server so
you have you have for example a material
handling system or a sorting machine
which generates a JMS message and there
is no consumer because there is no no
message driven being inside this
application server but you have fear and
external an external consumer and this
situation normally is prevented by by
proper connecting but it can occur if
there is some failure of a situation
this we have discovered this that this
will happen that it will be separated
and then you need q forwarding which
forwards messages from stale from cuse
without consumers to others but this is
this is not really ideal so with the
distributor topics I already mentioned
that i will skip over
I discussed the point how many MDPs are
in invoked one per configured MDB or one
per server or one per application and I
described you that that one per
application is typically shared
subscriptions that what you typically
want to have in your application so
there is there are many you nuts and
bolts to configure and to get the latest
performance and the real high
availability you you have to study a lot
it was with the sony give us much
simpler because of this of this quite
primitive out of process broker which
did not give you these choices so it
really requires a careful testing to
ensure a maximum availability and you
have to to look at this very carefully
now we've seen from the weblogic 10 30
to 10 3 for many many important features
have been added and at the end
everything is there what you need so now
if you are now going to use weblogic for
JMS I think you have every choice you
need but there is still room of
improvement because because you have so
many Nets nuts and bolts and the default
configurations are never what you really
need for your high availability
industrial solution so the defaults are
our only connect in this situation or
reconnect in that situation so what what
I really wanted to have is that get a
get out of out of the box system which
is really high available and if you want
to have more performance maybe then you
can tune so testing was was a important
thing and in such a big industrial
solution the potting the potting form
from jdk 1 dot 4226 and from bowlin to
weblogic you can do it it requires our
our our estimation is the poor parting
is maybe about 25 weeks
of of work labor but testing testing is
essential because you are really
throwing away all the plumbing you have
you change completely your your whole
system you have to test and test and
test and we at that time it was before
you can hit this is a real cloud a
hardware cloud where we have really
installed all the clients to make to
make real client client lowered with
with hardware at that time today you
were to do it differently but this was
testing before the virtual machines and
crowds became so popular so we got some
issues after acceptance we had some
problems with 33 buffer size you have to
really look at that this is a low level
buffering when weblogic exchanges data
over t3 protocol with the clients or
within each other when when you for
example make this queue forwarding
messages are forwarded from one to the
other and there is some inconsistency so
and we had a problem in cluster starting
this was or something we did not did not
really think that this will happen if a
cluster is started and the full load is
already on it all clients connecting and
trying to to start up we got some
hanging there was service talk to each
other and was not really there was no
progress in starting up so we we erased
this issue and we got a patch and
finally this worked and it was
incorporated into the into the weblogic
mainstream oops so to sum up what were
the architectural drivers for using je e
so in such a logistic environment we
have a network-wide distributed system
and we have many many pcs we have many
many area concentrators all connected we
have a high volume of data because all
this production data which is generated
then finally goes into the into the BI
database we collecting this product
action data is very important for us
into the part of our product but we also
need an online reaction at the at the
pcs of the operators so it's not a real
time thing but online there are some
someone waiting for the answer and if
you doesn't get the answer no web
progress is done it's not critical
nothing goes out of the window or or
crashes but the work will not be carried
out so in rare cases if something hangs
for 10 seconds okay it's annoying but
but this should not do this should not
occur many times and we have a long
lifetime of the system this is some very
very important so and we choose je for
that we want probability we want
operating system and when their
independence and we needed that in this
migration project it was really critical
that we could taught it to another
application server this was this was
really critical so and for the
non-functional requirements we have for
this area to about availability
scalability we use both and also
performance what we also what we did not
really need here is security it's it's
an insider plant as no connection to the
Internet at that at that time it was ok
there were no firewalls it was just not
connected but transactions are also very
important because you can imagine if
some message is generated we make many
many updates in the pcs database and
when a one of the instances fails the
transaction is just not committed so
that's that something to keep the system
healthy is transaction based processing
here and being able to fail over and we
do this all the time if we follow for
example upgrade software we upgraded we
shot one server down we upgrade we
restarted and it works every day so it's
really also our our system has some
problems maybe sometimes small memory
glitches or whatever there's no problem
you restart the server and operation
fails over to the rest and it
it works and then typically the operator
will not will not see anything and the
database is not corrupted because of
this transactional integrity so what we
can say as a rule of thumb if we have
today typically to application servers
and to be to DB servers that's just for
high availability because the pcs in
this also are so powerful now we do not
need the scalability in having too many
boxes here but we can we can manage with
such a configuration we have 100
messages per second and messages per
second and we have in this messages
about 400 events which we can
incorporate and we have about 2
gigabytes input per hour in our database
and this is easily managed by by the
system so probability as we can part it
too many operating systems migration to
new JD case is really rewarding and this
is using standards this is very
important in this business we are in and
je as a portable component framework has
really proven its its maturity you have
a large number of commercial
off-the-shelf and open-source products
which you can apply and the migration of
such a large application is possible in
in a reasonable time frame so
scalability yes we did this we're adding
more boxes but got less important
because of the of the high-performing
hardware so now it's small that we on
the single box we add more instances to
make use of multi-core technology as i
said the overall ever will ave
availability it's really a part of our
daily life of maintenance restart of
servers rolling software upgrade no
impact on the operation that's really
one thing if you design if you design
your operate your egb methods for
example edem potent stateless as is also
with the rests idea in mind you have no
problem in kill it in switch
so ever killing a server this really is
a very robust system where no problems
occur and performance it's at the time
being deployed we had about I think
sixty percent CPU at maximum now it's
below twenty percent with new hardware
with better middleware extensibility
there we have 500 changes over six years
and the team size was hundred people at
the beginning now we are about 10 people
in maintenance so I think also the
architecture is an enabler for long-term
support to be able to identify the
business components call square and
business components in each bees have
defined service interfaces really helps
you in having a system which can be
maintained over such a long time so we
have identified areas of improvement JMS
requires more standardized features
maybe this comes with Sheamus to have no
idea this I think they are just
eliminated spoiler played code so what I
really want as a user of Jamie's I
really would like to see
high-availability features in the
standard notions like distribute the
topics or these things which you need in
practice singletons are also sometimes
necessary and should be standardized we
see that in sometimes a clustering and
administration Roman remains proprietary
I hope that this will be fixed when you
move to the cloud which requires this
standardizations here so for us also a
little bit the road map of weblogic was
unclear and it's very important that you
know the road maps of your of your
middleware if you make the decisions for
such a long time for such projects which
will be in operation for 10 years you
really need to know what is a major
release what is you can grab and you get
longtime support so this is very this is
very important if you really have to
think about projects which have a
lifetime
10 or more years we have to need need to
know the road maps and you have a vendor
which supports you fall for that time so
we did this project in England
successfully but now we are standing
before a similar project in Switzerland
where we have also postal environment
with a network of distribution centers
all still using ball and application
server and where we got the project to
migrate this to to weblogic in the next
year so there we have three mayor
Sanders and six sub centers in a
nationwide implementation where we have
to roll this out and migrate the whole
staff to where project and also we will
introduce Oracle Service bus for
interconnecting this okay that was my
story about migrating to weblogic have
any questions
how do you think every year so there was
a there was a point in time what we had
to migrate and it was identified with a
customer there was some some fixed date
well maybe here it was a weekend huh
identified weekend well I don't know wow
this was managed maybe there was a
scheduled outage I don't know but it was
appointed date so the operation was
what's the plan was shut down for that
but it was identified with a customer
and it had to work here I said it was I
think it was done at night at the time
well no the flights are a little bit
restricted with a small time slot where
we could do this and but it was a it was
appointed with a customer and he really
had to make long-term planning to allow
this point in time as over there was a
fixed date which was not movable yeah
but because such migration was not
possible with interest rolling up
greater as you can imagine yeah it
really would it ran successfully got
some issues after some time as a system
grew a little bit old we had to to tune
and tweak a little bit and make some
patches but in principle it was done in
one migration step
okay thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>