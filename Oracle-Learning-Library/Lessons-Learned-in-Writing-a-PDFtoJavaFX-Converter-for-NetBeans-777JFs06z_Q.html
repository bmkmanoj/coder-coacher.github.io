<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Lessons Learned in Writing a PDF-to-JavaFX Converter for NetBeans | Coder Coacher - Coaching Coders</title><meta content="Lessons Learned in Writing a PDF-to-JavaFX Converter for NetBeans - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Lessons Learned in Writing a PDF-to-JavaFX Converter for NetBeans</b></h2><h5 class="post__date">2013-02-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/777JFs06z_Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay thank you very much for coming to
our talk I know you have a tremendous
selection so it's very hard to choose
I'm going to talk about a lessons
learned writing a PDF to javafx
converter I'm going to talk primarily
about netbeans and then my colleague
Leon is going to take over and talk
about Java effects and the stuff we've
learned comparing PDF to javafx SVG and
html5 okay first of all let me introduce
myself that's how I like to see myself
Leon and Linda will privately tell you
afterwards that's more how they see me
I'm a full-time java developer I have a
day job developing IDR solutions PDF
library I use eclipse idea and netbeans
on a regular basis i frequently swear
all of them my ideal ide sort of
combines features from all three of them
I've written plug-ins for Eclipse idea
and netbeans that's what google would
call our twenty percent time so we have
free plug-ins we develop them we play
with cool technologies like java effects
to see how we can use them elsewhere in
the main product but the plugins are all
free we give them away under an L GPL
license with the source code I have
degree in medieval history which is
absolutely useless for this type of work
but normally gets a smile from
developers so if you have any questions
about 13th century medieval European
history please please do come up to me
afterwards don't be afraid I probably
know the answers I've been a speaker at
javaone Seybold and I've also done talks
at Redgate software's business of
software conference my talks have the
reputation of a kitten say you will if
you came to our glass which talk
yesterday in my talk and Leon you will
notice a few pictures today is also my
birthday so I'm feeling really old so if
I have to go and have a little nap in
the middle of talk please forgive me
okay first of all we have to have the
obligatory denial so no kittens were
harmed or neglected during the making
this presentation if you'd like to see
lots of kittens I have a talk called
asteroid impact are you a large lizards
or small and furry which I did for red
gate software their business of software
conference which is absolutely full of
kittens let's move on to NetBeans PDF
plugin as you can see we've got netbeans
here
it's displaying a PDF and we've taken
the NetBeans structure we tried to reuse
the old NetBeans concepts so we've added
some buttons to the toolbar we're
displaying the PDF using our open source
version of our library in a big window
we've got some buttons on that as well
I've kept some buttons on the swing
panel we've also used the Navigator
panel to display some thumbnails and we
got a search window down at the bottom
okay there are two different types of
what you might term NetBeans application
there's the one that we've written which
is a plug-in and that's extending
NetBeans ID itself so it's adding new
functionality you can download it and
not only can you now develop in javafx
and see PHP and so forth but you can now
view the PDF natively within the IDE and
the reason we originally wrote it was to
allow you to review documentation and
PDF file formats internally in a pure
java solution you can also create what's
called an RCP so you don't have an ID
there your users fire it up it doesn't
look like NetBeans you can't write Java
in it doesn't have any current
necessarily have any cool features it's
just an application which uses NetBeans
platform I sometimes say the difference
it's a bit like the difference between
right the difference between using
NetBeans platform and pure Java is a bit
like the difference between coding
inviting in something like NetBeans
eclipse or IntelliJ you get a lot more
functionality a lot more high-end stuff
and that's going to me show you
throughout my half of the talk I would
also say that NetBeans is a very viable
platform not just for new applications
but for migrating existing code onto we
started with a swing application and
we've turned it into a plug-in and I'm
going to give you some reasons why you
might want to take your existing code
and make it an RCP or a plug-in why
would you want to migrate existing code
well there's a couple of reasons first
of all there's a lot of new
functionality to enhance the application
and you can get rid of a lot of the
existing code because functions ready in
our in netbeans you can rip out all that
old swing code you wrote all those hours
spent working out how to set up
borderlayout could
all go and you can plug straight into
NetBeans and use it you can also use all
of the gooey packaging platform problems
they've already been solved in netbeans
so what you can end up with is an awful
lot more functionality spending an awful
lot less time writing it you don't need
to reinvent the kneel we're sorry you
don't see age catching up with me you
don't need to reinvent the wheel you can
take functions and use them and I'll
show you some of the ones we've done
later it also lets you become part of
the NetBeans ecosystem which is growing
has a very high visibility NetBeans has
come a long way since I first met it in
2005 in 2008 I came and gave a talk on
plugins and I was heckled by somebody
who was clearly and netbeans developer
because the only NetBeans people at
conferences in those days were obviously
working for the development team so let
me put the record straight in 2012
NetBeans it's not just about Java and
it's not just an IDE it's a fully
featured platform it is in some respects
I tend to think of it as almost a
souped-up super version of jar with a
lot of additional GUI functionality for
the desktop it has a fast development
pace we've only got used to having 72
out when 73 is about to appear and out
the 74 will be following it shortly
behind it's also the first place many
developments appear like JavaFX one of
the things that excites us very much
about the java platform is looking at
functions we can take in javafx and
things that we hadn't even considered
like multi touch functionality on mobile
devices and netbeans is offering us a
platform to play with that and our
plugins giving us somewhere to
experiment with it backward
compatibility is very good despite
NetBeans being I think some of the codes
probably ten years old we've had to
change very little in our plugin here's
our strategy for maintaining our code
base in netbeans first of all we like to
make new sub use of new functionality
part of the purpose of our code is is to
showcase what we do so if there's
something sexy new and exciting we'd
like it to appear we keep updated with
netbeans and with our own versions of
the
code so we're always testing the latest
versions existing stuff though still
works fine we still have a layered XML
file we still have some commands going
through it if it ain't broken we don't
want to fix it unless of course we're
going to lose a lot of code have a nice
new feature what we decided to do was we
wanted to add some new functionality in
2011 we decided to add the ability to
add some new toolbars we wanted to add
the convert PDF to java effects into the
plugin that was great we thought it
would also make a really good talk so we
had we would dive into layer XML and
figure out all those shadow values also
we thought okay two things we want to do
add first of all we wanted to add
toolbar functionality so if you look at
the screen shot you can see I've got a
little PDF icon with an FX and you can
see I've popped up a window to choose
some PDF files external to NetBeans I
wanted control over icon position and
context I wanted to be able to control
NetBeans so NetBeans would pop up a
window for me tell me the file allow me
to display messages to the user update
the display and then carry on I also
wanted a menu option and you can see
there under open I've got convert PDF to
javafx I wanted it be context-sensitive
so that if the user chose an XML file or
a text file they didn't get that option
because it's not relevant I wanted total
control over its position in the menu
and I wanted full details of the
selected file passed to me which is
going to need lots and lots of code and
gives me lots of material to talk about
nice set of slides step-by-step line
code and I go gentle smiling because he
knows what comes next ok this is adding
command in a menu ok netbeans now uses
annotations so in order to add a menu
command to my application I have an
implementation of action listener which
is the jar PDF javafx converter and
you'll notice I have a couple of
annotation commands I've got an action
ID which tells me the category
I've got an ID for the object and I've
got some registration details and the
message which is the convert PDF to
javafx and that's it in terms of adding
a menu adding a adding a command to
NetBeans that will now appear on the
menu when the PDF files are selected I
can tweak it myself manually and you can
see it's got position and separator
let's hope for something better from the
other one otherwise it's going to be a
short talk okay toolbar same again
annotations position the annotations
slightly longer because it also allows
me to have a graphics so I've got a gift
as well and then I've got the action
listener and I've also got some
interesting other NetBeans functionality
so if you look at my constructor at the
bottom I've got an RP which is a request
processor which allows NetBeans to do
the hard work of updating the system for
me and I can run it in a thread ok and
just to make it even easier for you the
way I created these files is I chose the
package I want which is actions i
clicked new and I chose action and
netbeans gave me a set of wizards which
generated the file and then I can tweak
it myself so adding commands internet
being subsystem is is so easy even i can
do it ok which gives me loads of time to
do the demo
and my screen has
just unplug for a second
yeah okay one thing I would like to show
you is
ok
what I will do is I will carry on and
then i'll come back to if we've got time
at the end after my colleague Leon's
finished
okay i will i will reboot my computer
Wally on to talking and hopefully i can
give the damn at the end because i was
going to show you how the netbeans files
work okay so two top reasons to use
no it's an issue with the Mac not with
netbeans
what I would like to do is to do the
demo and give the top reasons so what
I'll do is hand over to my colleague
Leon and we'll do the talk slightly out
of order
hi I'm Leon I mean I'm gonna talk a bit
bit about PDF to Java fix and I'm going
to benefit ideal solutions I work mainly
on PDF HTML 5 I also do a bit of PDA
photographer fix and we'll see bit later
they're quite similar and it's my first
time at javaone also my first time
speaking so I'm looking forward to it so
what is PDF simply which bit difficulty
is not really that simple but it can
contain vector graphics restroom which
is text and fonts which I suppose those
are more simple things and some more
complex complicated things like forms
audio video and JavaScript and if you
ever tried to read in the PDF spec you
know that is very complicated but very
powerful it's a good format and it's a
big good comparison for java fix so what
is driving a fix well as we all know
it's java when it's cross-platform so
that's that's nice what can it contain
we can do all the simple things like
shapes images and texts some more
advanced things like forms audio and
video and some it to bits so there's a
lot of the fix and transitions a lot of
like candy and lots and lots of nice
interactive features for you to play
with so if you want to convert from PDF
PDF to Java fix where do you start we've
got a library called J pedal it reading
PDF files and decoding so it can tell
all the vector graphics the images
everything that list basically we
convert them to expected java objects so
from there on we can do basically
whatever we want because we've got all
the data so we can output however we
like so they can output to html5 to SVG
driver fix when you have a form that we
feel will make a good format so how do
we do that we've got our main class at
the display that's called a generic
things in and we've got the other
classes so you've got HTML display SBG
display and basically they just do you
do the specifics so HTML display the
output size HTML file SVG does the SVG
file and the one that we're all
interested in the java fix file gives us
a Java file
so let's compare them this is dual image
this is what do image outputs slave the
HTML we do we're going to a canvas so
we've got a nice draw image command
which we give the English rajul the X my
position and the width and height the
line below is just defining the image
location of the image 3g displays nice
and simple single line we get the image
location d x and y position and width
and height now if the finger probly
quite you'll notice is that java fix is
quite verbose we've got do all these
things separately so we can't do it in
one line we set the wit for the hyatt
the x and y ur all in separate methods
the image views got another constructor
so you can set the image with a
constructor but you can't sit the width
height the x and y so if your java fix
your you ever seen basically and you're
adding to the scene which is what the
last line was so what about text so well
in HTML you have you div tag with the
texting and you just give it give it
some CSS to style it so you set the
position and the styles similar to the
image for SVG single line just give it
the text you want to draw the x and y
and some styles as well as we for the
image for the java fix is quite verbose
again but a little bit little bit better
so you create your text give it the X&amp;amp;Y
the text it is and some styles and edit
to the scene and lastly what about dual
shape so I'm eating into two columns
it's a bit longer so for HTML which one
to the canvas again so it's just to move
to commands line to come or else to draw
the Lions and the barf commands
basically and you can sit the the styles
so you can sit whips and lime caps and
whatever you want to sit the SVG is very
simple again a single line we can do the
same thing more like most about the HD
is that the move to line two in the
curves they just you just do em ill and
see so it's very compact
very simple as again java fix quite
verbose again making new objects for the
move to line tues it's a similar thing
now why is it an issue well as you may
or not may or may not know with Java
there's a limit with the method sizes so
you kind of miss along otherwise it
refused to compile now we can get around
that by training methods but it's not
very nice and it's very complicated but
thankfully java fix 2.2 is released
recently an angel to something called
canvas which is really handy it's very
similar to the html5 canvas so you can
do lots of nice single line things for
the images and text and the move to and
the line two is no longer require and
the new objects it's just a single line
you go into canvas basically so that's
very exciting and science something to
look at so how I stood skirt Java fix
compare as I mentioned before the the
canvas is very similar to the html5
canvas but in fact I think it's a little
bit better they're saying that I've
spent quite a lot a lot of time trying
to fix and want to work around in the
html5 is that the canvas doesn't support
both winding rules they've probably
wondering what a winding rule is
basically it's just the vault you give
to fill a shape so if you use even nod
you get the top one you've used a
nonzero you get a bottom one so if you
if you use the wrong one you could end
up with the shape filled in correctly so
I sign this really nice is it javafx
does it perfectly you can sit whining
all nicely so how else does it compare
well javafx it's nice and quick very
nice I converted to PDF last week is
220,000 lines both eclipse and knit
beings refused to open the file but you
can fault compiled fine and if it's
loaded it in a couple of seconds so it's
very nice driving fate can be a
self-contained jaw when you convert to
HTML with it or SVG you get a big
directory full of images and fonts and
everything and you need to zip it up
really to send it to someone with drug
effects you can just do it so contains
our jar double click on so nice and
easily nice and easy
as I mentioned before in turn us both
winding walls so that's good and filling
shapes with patterns in html5 and SVG
it's a bit complicated and a bit nasty
not very nice to do it so we get around
net by up putting two image then putting
the image onto the canvas or into the
SVG Java fix nice and simple you can do
that with no effort and you left out put
into an image sorry that's nice so just
sum up I've got some positives and some
negatives so it's important if very
powerful you please set from quite a few
ethics talks I know how I have and I've
been very excited it's easy fun faster
coding there's a lot of like and a lot
of things you can do lots of transitions
and things it's good fun it's got a
great future there's lots of updates
coming Sorry Sorry good the
documentation is also very good so you
can go online search for it and lots of
examples there we've seen the ensemble
with demos and goose you will source
code so it's very easy to get the hang
of and start being yourself it's now job
bundled with Java 7 so it's basically
everywhere so it's also cross platform
so very wide range of use for it so some
negatives it still no it's not not quite
there's some features there that we'd
like for example the printing I've
mentioned further down I know that's
coming soon so that's that's good and a
lot in lots of updates which is a very
nice thing but it can also mean outer
plate support so I went looking for the
2.2 documentation last week and it was
by difficult to find but I wanted to
download it so it was in a blog post
nice link at the bottom so sometimes you
get out of date support but it can be
very verbose as I mentioned before and
showed you you can acquire quite a few
lines but with a canvas that does fix it
to some extent so that's quite nice I
mentioned no printing and the ipad an
iOS support i'm not sure how that's
going but hopefully soon so i'm going to
end whistling little bit fun so I want
one of those is a PDF and one of those
is it converted to Java fix
so this image is there this shapes there
in a text it's all been extracted it's
probably quite quite easy to see the
something missing but yeah so the answer
is the left you see is the driver fix
and then what is the PDF but it's very
close so it's a good representation of
it and compares very nicely so of course
the shameless plug this recent a reason
we're here I mentioned before that all
the hard work is done with the library
to convert the PDF into the septic java
objects so that's our lovely called J
pedal it can do all the things on the
right hand side and also convert to item
5 SVG and also java fix what's going in
with the with our contact info that's
our website our blog contains lots of
PDF related things and driver fix not so
fun things we find when debugging some
PDF files as well we've got a standing
exhibition hall at 5 11 12 come and talk
to us about all these things thanks for
attending mark how's it going it seemed
okay I'm running the latest version of
73 here just okay so what you can see is
you can see we've got PDF displayed in
the window I was going to mention
earlier thought one of the interesting
things about NetBeans is it you can
action certain three one of the
interesting thing about NetBeans is that
you can communicate between windows or
you can actually get it to use the you
can add the content internally so you
can actually just put your entire swing
application into an existing window not
make any changes and just add new
functionality one thing that's also
quite nice as you can see I quit it
deliberately quit it and reloaded it you
can see I had a file called test2 PDF
NetBeans has actually cashed that
information save the file so that if you
reopen it it then reloads it in the
state that you left it okay so we've now
got the PDF there got thumbnails and we
gotta find window
okay and it would be really nice if we
could take the PDF that's the conversion
I've taken the liberty of doing it
offline given my machines behavior so
let's see what that would look like with
in javafx and again one of the cool
things of java effects is we can do this
nice fade so if i change pages we've
used one of the java effects transitions
and the actual the actual code at the
moment we are using a scene one of the
interesting things about javafx is they
keep adding new features to it so we're
currently looking at recoding it to run
on the canvas but there's a ready a high
level of functionality even before they
brought out two two and just to show you
very briefly
okay so the top reason to use netbeans
in 2012 first of all you can build on
top of swing and you can leverage javafx
so we've shown you a lot of existing
swing functionality we've taken our PDF
code we've plugged it straight into
NetBeans window we've moved some of the
window functionality into other NetBeans
windows and at the same time we're
starting to play with Java effects and
add these transitions and so forth so
it's a nice way to transition your
existing swing application into
something more modern more sexy it's
easy to link in existing swing code as
I've already said and you've seen the
existing swing up it has lots of
high-level functionality you can for
example have the request processor so
that when you're doing something you
will get a pop-up you can have pop-up
windows or you can have a message down
at the bottom so rather than just seeing
the message you normally get to tell you
the code compiling it can tell you that
it's converting and in our conversion
it'll tell you which page its reach so
there's easy ways to provide lots of
updates to the user ok again I've
mentioned the packaging tools one of the
coolest things I think about the
packaging tools is that it only places
what you need into the package so if
you're not using lots of functionality
you won't find that you user has to
download the whole NetBeans IDE just for
your hello world application so some
tips on integrating a swing application
internet beans one try to keep the
NetBeans Gillian business logic as
separate as possible that also allows
you to run parallel versions so in our
code we have a class which provides all
the swing functionality we have an
equivalent with in netbeans and we can
just switch between them and effectively
have a legacy version and our new
NetBeans version again have a Java class
to abstract your functionality single
point of contact so all our PDF library
calls are within a single class we
abstract function on top of them with
their within the NetBeans code that also
makes it very easy for us to update it
and use the NetBeans high level
functionality as I've said you can have
the request process you have the
threading there's also a function to
allow you to update the display so that
within the the GUI the file you tilt
which would pick up
okay and that completes our talk we've
left some time at the end for questions
if you have any questions thank you very
much yes yep we've been doing eczema f
we've have been doing f xml as well and
there are also a couple of constructs
that some of the javafx a team have done
where you can have a builder and you can
basically chain an awful lot of methods
on top of that on our on our first
implementation we wanted a nice clean
source code where we could follow
exactly what was going on and also the
user could follow it as well we have an
implementation which isn't quite
complete yet where we also write it out
to F XML the reason as I say as we
wanted we wanted it to look like Java
and be pure Java do you have anything to
to add you don't have the limit of the
method sizes being too large so it will
compile fine and work fine the site no
no I just didn't bring on the slides to
include it so long term I think f xml is
a far more interesting technology
because it's pure XML but it's been the
one that's been behind the JavaFX so if
you wanted to start developing in javafx
sorry if you wanted to start developing
with the technology javafx was really
the place to start it also because it's
more verbose it's easier to get into it
and understand it
and any other questions okay thank you
very much for coming along</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>