<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Oracle Database 12c demos: In-Memory Column Store Compression | Coder Coacher - Coaching Coders</title><meta content="Oracle Database 12c demos: In-Memory Column Store Compression - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Learning-Library/">Oracle Learning Library</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Oracle Database 12c demos: In-Memory Column Store Compression</b></h2><h5 class="post__date">2014-07-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TVgnQml5WIo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome my name is Dominic Zulu I work
for Oracle server technologies this is
the third demonstration of seven demos
about in-memory columnstore a new
feature introduced in Oracle database 12
1 0 2 this one illustrates how in-memory
compression of memory objects populated
in the I am : store can influence either
query performance or storage savings in
I am : store there are 3 compression
levels in I am : store using different
compression algorithm
the first one is basic which does no
in-memory compression at all for query
which uses an in-memory compression
algorithm fit for better query
performance than for lower space used in
in-memory columnstore and this is the
default when only mem compress is
defined as close for addy segment and
the third one is for capacity with two
levels low and high low corresponds to
an in-memory algorithm fit for lower
space used in in-memory columnstore and
it is used for getting a balance between
high compression and better query
performance capacity owned is specified
without low or high
it defaults to 4 capacity level 4
capacity high corresponds to an
in-memory compression algorithm that
compresses data at a higher ratio than
low and therefore providing higher
storage savings in in-memory columnstore
than low let's connect under the SSB
user and list the segments which are
already populated in the OEM column
store there are two of them 9 order and
supplier the Videla
i
segments view displays the actual size
of the segments on disk compared to the
I am : storage size of the same segments
in the in-memory columnstore both of the
segments are completely populated in the
am : store why do we know that because
the populate status column displays
completed let's view that the new
instance parameter with its value the
in-memory closed default parameter
instead of setting the in-memory
attribute each time you you create a new
object you can specify a default mode
for in-memory tables at instance level
by setting this new parameter by default
it is set to an empty string this means
that only explicitly specified tables
are made to be in memory when in memory
close is used so let's create now a
table a with the explicit in memory
clause and B with the explicit in memory
Clause and the basic in memory
compression level the mem compress
Clause distinguishes in memory
compression from on this compression you
can now see from the data dictionary the
8th table is automatically assigned the
4 query in memory compression and the
table B is explicitly assigned the basic
in memory compression because you
explicitly differend it now change the
default value of the instance parameter
and create a c table the c table is
automatically assigned a default basic
in memory compression now let's compute
the compression ratio of the two
segments that are already completely
populated in the i''m current store the
query shows the actual number of bytes
of the objects as they are stored on
disk
and compares these values to the number
of bytes stored in the item column store
the query shows you how to get the
compression ratio for each of the
objects what means the ratio the line or
the table required one byte of I am :
store to store two and a half bytes from
disk if you change the in-memory
compression level for the supplier table
from basic to four capacity high you
would certainly get a higher in memory
compression ratio nevertheless accessing
the supplier table would require a lot
more CPU because the in memory for
capacity high compressed data must be
decompressed to a certain degree before
we're close predicates can be applied to
it before we continue let's reset the
instance parameter to its default value
now we will see how to change the
in-memory compression level for existing
objects we change the in-memory
compression level for the supplier table
we select the data to repopulate the
data in the I am : store check that the
data dictionary is updated and discover
the new in-memory compression ratio it's
indeed a much higher ratio due to the
for capacity low new in-memory
compression level if you need to save
more storage in the I M current store
update the in-memory compression level
to a higher in memory compression level
check that the data dictionary is
updated see that the segment is not
populated in the ion current store
anymore
you have to reselect the data for a
segment to be repopulated in the I am :
store now the in-memory compression
ratio is even higher than before one
byte only is required
in the IM colin store to store 57 bytes
from disk you can also perform the same
operations on partitions which are
distinct segments by setting different
in-memory compression levels on
partitions of the same partition table
alter the sales table to be an in-memory
object all its partitions are now in
memory segments they all inherited the
in-memory attribute from the table and
by the same way the in-memory
compression level read the data from the
partition table and check that all
partitions are populated in the IM colin
store they are all completely populated
in the I am Colin store the compression
ratio is the same for all of them we
decide not to change the in-memory
compression level for two of the
partitions basic in memory compression
level for the seldom queried partition
sales queue for 1998 and for a capacity
high in memory compression level for the
archived partition sales q2 1999 the
data dictionary is updated with the new
in-memory compression levels we select
the data to have the data be populated
in the I am column store the sales queue
for 1998 gets now a lower in memory
compression ratio you can also specify
different in-memory compression levels
for different subsets of columns in a
table this is allowed
whereas different in-memory priority
levels for different subsets of columns
in a table is not allowed let's see
which the in-memory
compression level is in the customer
table
the default in-memory compression level
for the customer table is for
query we now set different in-memory
compression levels for the customer key
name address and phone with a four query
because it is often selected new
in-memory compression level for a nation
region marketing segments with the four
capacity high in memory compression
level because these columns are rarely
selected and the city becomes a non in
memory column because it is never
selected it is only here for reporting
weary select the data to repopulate the
data in the in-memory columnstore we can
see that the CCT colon number four is
missing in the list when queried the
data is in the buffer cache we can also
set in memory attribute on table spaces
note that the default only applies to
newly created tables and does not apply
to existing tables let's take an example
the TS that a tablespace has no in
memory attributes by default two tables
are stored in the tablespace we modify
the default in-memory attributes of the
tablespace and we now create a new table
with no in memory specific Clause the
new table is assigned the default
in-memory
attributes of the TS data table space
whereas the existing tables kept there's
a last topic to cover is the compression
advisor imagine you have a very large
table that is already an in-memory table
with an in-memory compression for query
and you would like to know if changing
the in-memory compression to a higher
level would save some storage in the I
am Colin store
use the following procedure to give you
an estimate of the compression ratio
with a new in-memory compression level
such as the for capacity hi the
I am Colin store which stole one byte 4
4 bytes from disk this is the estimation
from the advisor now convert the table
back to in-memory with the new in-memory
compression level ensure the table is
completely populated in the I am Colin
store and calculate the actual
compression ratio it is even higher than
what the advisor computed this is the
end of the demonstration and thanks for
watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>