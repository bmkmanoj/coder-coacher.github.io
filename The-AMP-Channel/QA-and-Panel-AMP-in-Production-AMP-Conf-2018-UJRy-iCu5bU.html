<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Q&amp;A and Panel: AMP in Production (AMP Conf 2018) | Coder Coacher - Coaching Coders</title><meta content="Q&amp;A and Panel: AMP in Production (AMP Conf 2018) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-AMP-Channel/">The AMP Channel</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Q&amp;A and Panel: AMP in Production (AMP Conf 2018)</b></h2><h5 class="post__date">2018-02-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UJRy-iCu5bU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right so I think I need to start
Sebastian you and I were chatting one of
the questions that I teased yesterday
that was getting a lot of up votes had
to do with clearing the amp cache and so
I'll repeat the question
make sure that one gets answered since I
promised it would so that question was
the app cache seems to be missing a
convenient way to force a recache
manually it would be great for
dissipating urgent urgent content
changes better yet code fixes so this
actually is you may already there to do
this so it's it's called the the up case
you update ping API of the cache update
API so it's basically that two ways you
can use it the first one is simple you
call a specific URL you pass your the
URL of the page that you want to have
updated from the cache and that's it so
there's the only thing like this is
certain quota on this API arm so I don't
know the exact numbers but like if you
like want to purge a large set of um
pages you it's recommended to use in
other API so they're both documented on
google comm so the other one requires
you to authenticate I was a scientific
age your API calls and then the
rate-limiting is not higher thank you I
hope that answered the question
and I also remind the folks who are here
in the room with us that we have a
couple microphones set up and again we
would love to take live questions as
well as the online questions that we've
been receiving so I will I'll go ahead
and let's see finds another audience
question so this one has to do with
testing so what what is the testing
pipeline for amp are there private or
internal tests that are unavailable to
the open source community so obviously
asking this one of the the Googlers on
stage yeah sure so the testing pipeline
for amp HTML is basically we
unit tests for each component and
integration test for each component and
then integration and functional tests
for amp court we also we have validator
checks lint type check and then visual
tests so right now the only tests that
are possibly not open to everyone our
visual tests you need to really we need
to request them from Percy which is the
app that does them if you're interested
in accessing our visual tests
feel free to there's a Google form that
you can fill out and to add yourself to
it Kathy we do have a couple of
questions from the audience we'll start
here and then we'll go to the next one I
have a question in regards to SEO and I
was wondering with I I work with Ronald
a lot of small local businesses and
their story or the whole idea can be
told through say an M story how does how
does that minimal amount of content work
with the SEO like will I be in trouble
if the entire page is a named story yeah
I think what it is important here is
yeah you take into consideration what do
you want to deliver to the user and then
how you can take that and make it
accessible to to the search box because
remember that showing something to the
user and not showing that per page is
considered to be clocking right and is
also penalized so here's a where you
need to find a balance how to format
your content to make it beautiful to
make it accessible to make it also
attractive to your users to - and then
at the same time to make sure that that
content is lives on your pages in
whatever alternative that
you have nowadays because before for
example if you had an independent mobile
website or and I'm URL right you you
were not thinking about I I still I need
to have this all display to the user
shown to the user now I need to there
are different ways that you can actually
design and your content to make it
happen like for example until now on
desktop pages showing your content
hidden indeed for example to use a
certain type of effects like for example
hit hide your content under a display
more type of option right not displaying
your content by default to the user who
make it that this content might not be
necessarily taking into consideration
all the time
google has confirmed that with the
mobile first index that won't be the
case because they understand that a
mobile this type of effects are needed
for sure this type of personality are
needed in order to make it usable
because of the the limited space that
exists on mobile devices so is about
finding the right balance confirming a
validate and validating that you're
following the the best practices to
avoid clocking for sure
but yes I have to say that we have a
little bit of more flexibility towards
that on a mobile in general whether you
during the Penan mobile URLs in case you
have done and in a mp2 thank you you're
welcome
thank you any other audience questions
looks like there's one my question is -
from varied so the question is like
reddit is a very dynamic site like you
like a thread within a few seconds is
going to be updated
like with new content and am how did
evening with the caching because the
content with the users gonna see you
land from app it's going to be already
little out of the date compared to the
actual one on the live site so yeah so
the question is how does reddit deal
with really dynamic content
and how does caching work with them
that's a good question so the way it
works is like we use one behind cache so
Utley at the worst case you will see the
stale content for like one of the
requests but the subsequent request you
see the the latest content and so far
our reddit has all the the post pages in
app we still haven't supported our
listing pages and that's one of the
things we were discussing with some of
the Google engineers here like what is
the best way to support dynamic content
and that's something we're going to look
in the future for our listings page
specifically on the home page and
subreddit pages hello I would like to
ask about the access component we are
trying to build payroll system is there
a way to somehow secure the part of the
article that has to be accessible only
to the paying users as I found the
examples the part is already always
included in the source code is there a
way how to solve this yeah I don't
remember exactly what it's called but in
the so M access operates in a few
different modes one of those mode is
just yeah hiding content you put a tag
and then pack Sestak around it and
there's some expressions that you can
use to define when it's hidden when it's
not there's one other mode which I
believe it's called the server mode
where you can say oh after the user is
able at this expression is true which
means the user can access the content
then you can load the content from the
server so yeah you can do that you can
define it like that if you want I was
trying to find it all the day and maybe
it's just an issue of the documentation
so I will try to look harder yeah I mean
I guess you can answer that better than
I can but I do remember at the time
when I worked with this I think that
feature wasn't entirely available yet so
yeah I'm not entirely sure as well but
I'm sure we'll have colleagues to answer
your question on slack or yes okay so
actually I can I can say a few words to
this first thing you you need to
consider like it depends on whether you
are serving your arms only to mobile
users for example via the cache in that
case it's actually not really a problem
that you just at least theoretically can
access a country or the source code but
because no one on a mobile phone ask
this functionality normally available so
this is a problem that usually only
affects users on on desktop so I
wouldn't say that it's actually such a
something that you really need if you
implement a paywall what with an that's
only gonna be surface mobile so having
said that so there is actually an
implementation that the the app cache
team did that also supports basically
not so it's like quite server-side i'm
access which is not gonna Porsche but
now so in this case it's not like
quantum will not be able available in
the source code but to be honest no one
wanted to use it it's it's just like
everyone kept asking about it but then
when we say like we have already this
one someone wants to try it no one
wanted to serve so it's actually as I
said before it's not really a problem
because amps surface most your mama well
there is a problem I will cry try to
explain well we have the problem with
our payroll - well it wasn't secured
enough and there is a community that
focus on stealing our convent and they
just use every vector how
to access it and put it really to do
audience so we are getting harmed by
this so this is why I need to find a way
how not to open this content anyhow even
if it is really technical because there
is someone that gets around it thank you
next question hi I have an analytics
question do you know using the client ID
API you can track cross-domain from an
app page cores on a project we hadn't
flush that out in our testing yet which
is why I didn't talk about it but
there's some really cool things you can
do with client ID API and cross-domain
tracking for instance if you own
multiple domains let's say you own
multiple publishing domains or things of
that nature
you can like you said with client ID API
track that user interaction across
multiple domains which unlocks some
pretty cool tracking abilities and it's
really cool and one thing I did forget
to mention my presentation which I
mentioned now is wherever country you
are developing your tracking
capabilities and be sure to check your
local laws because especially over in
Europe there's some there's some stuff
you need to specify but but yeah you can
with the client ID API track across
domain we just haven't got to it yet in
our testing thank you it's great good
question well you have the mic in your
hand who's another analytics related
question is it possible to get
geolocation data pass through to the amp
analytics object I don't know that I
don't know the answer that question can
we fall back to one of our Googlers so
as far as I know I'm not an analytics
expert but I don't think that corny like
there is a diagram can pass geolocation
data via Linux so that's not possible
I mean threating what you can do is
basically get at least a roughly idea
about your location just for analyzing
the IP which is triggering the analytics
request but that's something that you
would have
and that you won't be able to I won't
say also there any sort of tracking
ability that we weren't unable to do if
you get that conversation started with
the amp community and on get generally
we can get those features pushed through
if it's if it's present ports and
geolocation seems like it would be
something that would be a focus for the
amp team okay well we give the audience
a chance to step up to the microphones
I'll ask another question that we got
online this one is about the amp
validator it seems like the amp that it
seems like the amp project validator is
less strict than the Google validator
which often leads to search console
errors will there be a universal version
actually the Google validator is
basically pulled from the amp project
validator at an interval of maybe once
every two weeks so it is off a little
bit but it's actually the same validator
it's just a tee time by two weeks okay
thank you for clearing that up next one
you know this is this section is a
question for me so I'm so I'm gonna
represent from me I'm going to represent
say a stakeholder who is lightly
technical not a developer but maybe a
decision maker a product decision maker
or a strategic decision maker really
cares about the amp roadmap not going to
contribute code but I would like to
understand where it is and be able to
influence it I'll ask the Googlers but
really anyone on the panel what are the
resources and tools that you might
recommend to me or the developer might
recommend to one of their internal
stakeholders who again isn't as
technical but wants to really be
involved and have a voice in the amp
project anyone you're talking about
you're talking about trying to convince
stakeholders that they should adopt amp
even though they're not technical are
you talking about tools that maybe
someone that is not time to go can use
to influence a more the latter or the
latter tools and resources analytics
mrs. mezzo for everything as an agency
we're a relatively small agency and
we're very traditional our digital arm
is growing and so we have a lot of
non-technical people that have stake in
amp and how and how it's being used we
and typical but generally what we found
has been most hopeful for them is
preparing some sort of set of standard
reports that give them an overhead view
of how amp is performing and then they
can influence how it works and that that
greatly helps our creatives in
particular our creatives are the ones
actually designing the page and actually
choosing the people who go on there
taking the pictures and giving them the
data points to kind of tell them this
campaign is working in this campaign
isn't does give them the ability as a
non-technical person to influence the
design of amp and our implementation so
I guess I guess my answer is analytics
which is stereotypical but yeah yes well
depending on the stage of the project
right like for example right at the
beginning when there's still this
process of decision maker if they should
go for it or not I have found in the
past that is meaningful to show for
example the percentage of the Serbs of
the search results on mobile that have
amp already there is nothing worse for
for for a company or and especially a
decision maker to to be shown how their
competitors are really doing a profiting
from something that they haven't yet
right so showing the person that first
of all star already showing up in their
industry specifically serves a lot so
for example the sensor report from Sam
rush they they are tracking this and
also Ram Ranger they are tracking this
for industry and country so you can see
that for example in certain industry
like media type of news site is 20
something percent of results are already
shown in amp and / and you can see this
per country on different industries -
and then of course ask after the
implementation has been done what I
usually do and during the the the
ongoing monitoring process is to set a
dashboard so they might
naturally we want to see that the
indexing the percentage of pages are
earning index S&amp;amp;P because they don't
really care but they can see for example
the share of visit star coming through
amp URLs versus not amp the the typical
behavior that the user have and the
conversions at the end of the other day
whatever it is a conversion for your
company or not and to better understand
if at some point there is a mismatch why
is this happening if you if it is
reasonable to compare apples to apples
if you provide already all the fresh
analogies of of your site through the
amp URLs and if there's something
missing something else that can be
provided to amp and like this prioritize
the the allocation of resources on
developing more on app if you see the
potential already coming for sure so yes
I guess this question for understanding
what we're working on at a very high
level I think amp cough and as a amp
content our road shows are a great way
to do that we try to communicate that
and on a very concrete levels on github
we do provide like bi-weekly status
updates on what everyone on the team is
working on so that's about understanding
what we're working on and for
influencing the direction of am I had a
higher level well there's always coming
and talking to us here at am calm at our
booth and road shows there's also design
reviews which are really like you can
basically talk about you know any issue
or challenges or concerns you have with
amp and there's also slack and for
something more detailed github issues so
lots of different channels it depends on
what stage and what scope of a problem
or issue that you're looking at that's
good just one addition to this like and
one thing I always recommend here is
when when someone is interested in a
feature that's already being discussed
and github then don't simply go away and
say okay I know this already handled but
join in on the conversation at your
voice and the more people are asking for
something something for
like a new feature the more likely it is
that it's gonna be prioritized oh yes so
that's definitely something I recommend
to do yeah that's that's good advice
that just because you may not be a
developer that doesn't mean Eevee be
scared from paying attention to what's
happening and get the hell then on the
roadmap and on slack good you have
something else to add I have a question
yeah yeah so I think I probably
represented some some people there that
are eagerly looking for people who love
amp who developers who want to do amp is
there any sort of resource or something
that that I can pull from that says like
I'm hiring ant developers I'm oh I went
to camp comp I want to do it but I have
no idea how to do it I want to hire
someone to help me do it is there any
sort of resource that we can go to maybe
in the slack community or something like
that were the get community to find
someone like that that's it that's a
good question so in other words sort of
find developers who are you who are
already passionate about amp have
already worked with amp and are
interested in yeah because I find that I
mean everyone when we start programming
something for the first time we all make
mistakes right and I would rather launch
this this new thing with someone who's
experienced and I'm having a hard time
in small Chattanooga Tennessee finding
those people as are probably some of
some other people here in this in this
room and so I just where can I go to
find people that are jazzed up about amp
we have done it before and is there any
sort of resources I can bowl fill minute
yeah that's a great question and I saw
some heads nodding as well is it
everyone in this room because you can
come talk to me afterwards so so I think
I said any that so that's a good
question and again I think I think and I
think this is the right room to ask that
question too in terms of the audience
and also the Googlers who are here I saw
you picked up a mic Sebastian yeah it's
just want to say so I'm sorry about
there's no no list that you can take to
take a look but I mean again my
recommendation would be just to take a
look at who's very active in the
community who was like very active on
Solaris who is very active on Stack
Overflow and github and this I think
this is or on conferences so I think
this is a really good way to identify
who's really passionate about them and I
guess that further inspires all of us to
go contribute on an app anyway because
that's where I'll be looking to hire you
from yeah in that case
for sure okay we're gonna go back into a
let's see a more technical question and
don't put down that mic the question
they're actually two questions from the
same person but very similar what about
the thumbnail and full source image full
image source in lightbox component and
then what about thumbnail and full image
source in carousel component okay so I
think this this refers to the lightbox
gallery component we demonstrated
earlier today so it's the way it works
is so you under Tate an existing image
or carousel with the lightbox attribute
which will then open the the image like
in a pushpin lightbox and like if the
image is in like this a really really
small that case you might see like
really low resolution for screen image
which is bad user experience but there
definitely ways that we plan to work
around actually so you can specify a
source set attribute for applicable for
different width device-width yeah and
there's a thumbnail attribute that you
can specify for the gallery view where
it shows like a bunch of different
thumbnails but if your image is a
thumbnail itself yeah I think the source
set attribute should handle that though
it's not implemented yet so it's on the
schedule
thank you and I think we have another
audience question the the client ID API
was really interesting to me not only
because of analytics possibilities
because of maybe like personalization
possibilities is there any push to kind
of the only thing way I could think of
doing this is like putting the client ID
in a URL you're making an API call to in
like an amp list or something is that
something that you guys are looking into
making available
I don't know so much I don't know if am
pleased does this but and access does
for instance so yeah one of the things
that we do that you do and amp axis when
you open one of those login URLs there's
this URL expansion so there's a few
different variables that you can put
there and they get filled in with some
data and one of those is the client ID
so that's like how we track users that
come from em pages and then we map them
to the same users that come from regular
pages that use our other more regular
client side integration I don't know if
M police also does this for their okay
I'm losing okay so you so the person
wouldn't have to login you could just
use their client ID in that so that's
perfect
okay ready even works with normal URLs
links awesome thank you we've got a few
more minutes so we'll see if there are
any any last audience questions and
meanwhile I've got a couple more to go
so such a go since you can give us a
sense of the the time and level of
effort involved since you were sort of
taking the amp axis component sort of
vendor izing it as you said give us a
sense of what kind of effort that was um
I don't know FERC case is such a good
example because like I said a lot of the
processes that I see in place nowadays
weren't entirely there at the time so
maybe we spent some more time talking to
when the product managers and then one
of the lead developers then someone
today would have to I feel like the
processes today are a lot more
streamlined also we were doing this
while we were doing other things so I
don't think we have a good example for
that I think it took us like a couple of
months in general but it was yeah it was
a bit of a slower process for us for
those reasons I feel like nowadays it's
probably especially with like the weekly
design reviews and we intend to
implement issues and just more eyes
we'll get these issues and answer I
think it might be a lot faster to
actually get anything going and to get
any idea big discussed and figuring out
what the best way to go is yeah it's all
accelerating right yeah good
so and Chris for you so yo dear so
having implemented and for landing pages
and you did a great job of describing
the environment in which your users are
accessing that content and why amp is so
valuable what kind of conversations have
you had with your clients about it do
they notice do they even know it's amp
and does that matter in the conversation
or is it just a faster page actually one
of the really huge benefits of using amp
at an agency like mine and dealing with
clients is that I can say that it's an
open source project that has a lot of
Google engineers working on it and it
sounds really good and so I can go to
these clients and I could say yeah we're
using amp and look at that right next to
a Google logo and they because we use
Google for everything else and so yeah
it's been it's been really beneficial
they do know what amp and the
conversations that I have with my
clients are they are very pleased
because I think Vamsi said it earlier
today revenue speaks more than anything
and the revenue has gone up considerably
so they do know it's amp they're very
excited that it's amp we're actually
investigating right now we do it all
through our landing page deployment
system but we're investigating deploying
whole sites we have a hospital site
we're thinking about and a couple other
full-fledged sites going completely amp
by the clients request because I know
it's so good so good
any other audience questions no I think
we're pretty good is there anything else
that anyone on the panel would like to
add to the conversation good everywhere
everyone's excited for the amp
leadership panel alright thank you so
much guys thank you for your
presentations in your work
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>