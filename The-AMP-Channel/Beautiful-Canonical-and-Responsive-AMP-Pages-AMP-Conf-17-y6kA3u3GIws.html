<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Beautiful, Canonical, and Responsive AMP Pages (AMP Conf '17) | Coder Coacher - Coaching Coders</title><meta content="Beautiful, Canonical, and Responsive AMP Pages (AMP Conf '17) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-AMP-Channel/">The AMP Channel</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Beautiful, Canonical, and Responsive AMP Pages (AMP Conf '17)</b></h2><h5 class="post__date">2017-03-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/y6kA3u3GIws" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi everybody so our talk is going to be
on beautiful canonical and responsive
aunt pages
my name is la I'm a front-end developer
at upper quad and Eric yeah my name is
Eric I'm a product manager our name and
afterload talks about her team's
experience redesigning the new and
project website I'm going to talk about
some new and upcoming features an amp
yes yeah so the stock is going to be
split up into two parts so my half of
the talk is going to be about my team at
upper quads experience redesigning and
developing the new and project.org and
we'll talk about some challenges we face
and how we got over those so some
background on us we are a creative
digital studio in San Francisco and what
that means is that we take on a lot of
client work we do design development and
it's usually a lot of tech companies or
other types of companies looking for
really creative fun web experiences and
good design yeah so this is the kind of
some pictures of our office space and
people that work there and then I'll
show you some of the projects that we
did to give you an ideas like our
background what we what we usually work
on so this is one project that we end up
doing every year around Christmastime
it's the Google Santa tracker and it's
like a digital advent calendar where
every day we unlock a new game or
interactive scene or fun cartoon about
what Santa's been up to throughout the
year and it all culminates on the actual
Santa tracker on December 24th which
shows Santa's location on a map as he's
dropping off presents this is a website
we did for a git conference get merged
and you can see there's like deep line
animations and stuff as you scroll down
the page to like kind of guide you
throughout the page this is like super
fresh hot off the presses release that
we released yesterday it's
in partnership with Patagonia and is to
promote the Bears ears National Monument
in southeastern Utah and it involves a
lot of rich media experiences there's
360 video storytelling from locals of
fairs here's you fly over from Google
Earth just to really get you like
background on what the the natural
features are of that area and to help
protect it so that's the kind of Vivian
idea of what we usually work on as you
can see it's like stuff that's really
pushing the boundaries of web
development and what you can do on the
web and so when we got this project from
the and team last year it was a little
bit of a departure from what we're used
to and so I'm going to go over like some
of the growing pains of that but first
I'll take you on a walk through the site
that was recently launched just to get
everyone kind of familiar so this is the
new homepage there's like some fun
animations carousel information about
ants and then for the developers we have
all of the same documentation pages and
guides that used to be there but a
little more organized and so this is
desktop and fully responsive for mobile
so this is what one of the pages looks
like on mobile
and so back to the presentation so this
is fully built with ants it's a little
bit of a different use case than what we
were familiar with for ants we have we
thought that Ansel is mostly like a
content delivery format that you have a
version of your same ants and then your
regular version but here we're actually
doing the entire website with ants and
so some interesting challenges there
combined with art with this being our
first time using ant upper quad there is
no custom JavaScript allowed and we
super rely on JavaScript usually on our
websites because we add like these huge
features and little tiny details that
need it so we really had to change the
way that we thought about what we can
design and develop luckily although
there's no custom JavaScript we have amp
components to work with so you have to
learn about what those were what they
can do they didn't really cover
everything that our designers thought up
for the site so we had to figure out
like ways to get around that and
compromise there's the CSS size limit
which is not something that we usually
think about as much as we should
so we hit the limit pretty quickly so
this is something we had to keep in mind
throughout the entire process of
developing the website the people
probably most hard hit by these
limitations our team or our designers
they never really had to design under
these constraints before so they needed
to figure out like what kind of stuff we
can do without JavaScript and what we
couldn't they had to learn about the amp
components and try to design to the
specifications so really for this
project both design and development had
to work together from the very beginning
so that there is nothing miscommunicated
and the last thing they wouldn't want to
do is just say oh it's an x' like let's
just take the easier out and make a
totally static website we wanted to
still put as many interactive
tails in the website as possible so the
rest of this talk will be about how he
overcame these challenges and I'll start
by kind of how we as a development team
works of the design team basically we
tried to explain to them general rule of
thumb for what we would need JavaScript
for anything that keeps track of the
state of the page or any like
complicated logic would probably have to
be cut out the this came up a lot scroll
triggered events on the page we would
weren't able to do any of those without
JavaScript and I'll go over some
examples of the stuff we had to cut out
in the next slide and as developers that
upper quad we really try hard to make
our designers dreams a reality so if
something was really important to the
design if they came to us and they
weren't sure if it was possible we would
try really hard to figure out maybe some
sort of workaround to get it to work so
here's some of the scroll triggered
actions that we had to throw out the
site they had the idea of having content
fade in on scroll like saidan and come
up and be cool but we couldn't do that
anything with the header changing like
changing seismic changing the box shadow
we didn't end up doing and any like
buttons that take you to other parts of
the page smooth scrolling we did not do
any of those but there are a lot of
things we were able to do this section
will be some of the things that we were
able to do that we had to tweak a little
bit from the original designs but still
ended up working out so this is a
mock-up of the new case studies list
page the amp team told us that there
were probably going to be a lot more
case studies right now there's maybe
like eight or nine and so they wanted
different categories for the case
studies to be bucketed into so it's
easier to find what you're interested in
so we came up with this design that has
filters across the top of the page and
in an ideal world there would have been
like some fun animation rearranging of
these cards on the page when you select
one of the categories but that's
obviously not really possible without
JavaScript so what we ended up getting
is more of a static approach where we
just change those filters into regular
links that link out to a page for that
specific category and so the
functionality is still there just a
little bit of the fun animations we have
to cut out this has been mock-up of the
new Docs one of the new Docs pages this
is up a guide and we designed this left
nap for the dock page which shows you
all of the other pages that are sort of
related in the same bucket and the
original idea was to also have kind of
the table of contents of the current
page in that dock page and then as you
scroll down the headings would highlight
to let you know what section you're
currently on and as I mentioned we
couldn't really do anything on scroll so
we skipped this feature another feature
for this navigation this left nav was
having these expanding collapsing
sections so that on the page you could
explore like what the other pages are in
like the author develops guide section
for this example so at first we thought
oh like we can just use an amp accordion
for that we can expand and collapse
sections
unfortunately the headings also have to
be links to the actual pages they're
linking out to and there is no way
currently to have those links also
control in amp accordion
so what we ended up doing is going for a
more static approach again and so each
page is the length of the state of the
accordion it depends on which page
you're on so if you're inside of a
section it'll expand it and then when
you leave that section it'll collapse it
and so it still gives you an impression
of there being an accordion kind of
functionality it's actually just static
and then some stuff we were able to do
without even really tweaking the
original design so we've had a lot of
fun creative uses of amp component that
we did that are kind of like not what
they're specifically advertised for so
we use an accordion in a couple
different ways right here this is a
shared button expanding share button so
we have it animating out the different
social media platform and all of that is
controlled by an amp accordion and the
state of it were just like referencing
in CSS and using CSS transitions
similarly the language selector is also
controlled using in amp accordion so you
can see that that little toggle logic
that you would usually write a tiny bit
of JavaScript for you can reuse me at
the cord Ian to do that in a few
different weird ways we had designed on
our site a 3-up carousel with three
cards originally we wanted it to be able
to advance like one card at a time but
that wasn't really possible yet so
instead we did this thing where each
slide of the amp parasol has three cards
on it so it looks like a three current
currents output yeah
the mobile menu is pretty interesting so
if you look at the desktop nav there can
be up to like three layers of menu and
we wanted to find a way to show that on
mobile without just showing like a huge
list so what we ended up coming up with
was this menu where each sub menu will
slide over on top and so this is sort of
a funny thing that we did were each each
option with a sub menu is secretly it
has a checkbox in it so then we when you
check that checkbox we know which
submenu to show and a consequence of
that is that there is a back button on
the menu but it's actually just kind of
a fake out back button because if you
click anywhere on that menu it'll
unselect the checkbox and go back and
then a really easy way to make a site
look good is just add a lot of like
little visual polish things so one of
the things we did was create these phone
renders where we could they're on like
examples of all of the sites out there
using ants and then we placed them all
throughout the page and you really feel
like ants is really cool like like all
the places that it's being used we added
a bunch of fun little hover States
everywhere just to make it feel more
interactive more engaging and we can do
all of this with CSS we added these
really cool line animation it's all
using CSS keyframe animations and
transform and so this is just like whoa
look how fast amp is this added a lot of
CSS to our page CSS but we thought it
was worth it because it's fun and we
only use it on one page currently so
yeah so talking about CSS the most
important thing that we did to keep down
our
CSS size was splitting up the CSS for
each page so the home page gives its own
set as a CSS the case studies etc get
their own set we were also using SPSS
and that for us at least kind of
encourages you to come out with a lot
big CSS files and so there are little
things you can do when you're just at
that 50k limit to push it down like
consolidating your media queries which
are pretty long so any that are the same
just have it once you know like make
your class name shorter don't nest too
much stuff like that but the most
important thing with splitting up the
CSS so what are some lessons that we
learned while working on this site you
can do a surprising amount of stuff
without JavaScript and the site will
still look good and function pretty well
we can reuse and component logic that's
built in in pretty interesting ways
since they're so customizable and really
just get both the development and design
team talking early on in the process
so that we don't promise anything that
we can't do and that everybody knows
like how to design for amp ok so Eric
can come up now and tell you some new
features that might help people in the
future
great thank you so as I mentioned before
my name is Eric I'm a product manager on
amp and I work on AM format which
essentially means that I and the other
folks working on the team work to
support new functionality amp but also
worked to support engaging and
delightful features in amp the the users
like and enjoy so that includes some of
the features on this list that I'm going
to talk about but does also include some
important tweaks fixing the little
things that add up to a good experience
for users and developers because that's
the sort of entire ecosystem that we're
working with so one thing the mentioned
was amp accordion the problem where the
header can't also function as a link at
the same time that's a small thing that
we just want to make work you can do
little hacks to make that work and
you've seen that in the wild a little
bit but we want to make that work a
little bit easier and a little bit more
nicely as smooth scrolling the main
mechanic where you tap on a link on the
page and it's smoothly smoothly Scrolls
with a nice antemer animation curve to
something else on the same page we also
want to get that to work well and then
finally filters this is something we've
been thinking about a lot in part
because you see the C's case all over
the web but it's particularly key in
e-commerce in a number a number of cases
to take a lot of information and give
the tools for the user to make that
digestible and make it easy to make a
selection so on to some of the meteor
things that were we've been thinking
about the first is and bind and I'm
super super excited about this this is
something we've been working on for a
while if you've been looking at the repo
if you've been looking at some of the
stuff we've been talking about you might
know about this already
it's essentially a layer and amp a
coding layer that enables more rich
interactivity and you are going to hear
a lot more about this from will the
developer who worked on this later today
in the I in this talk I think it's
called turing-complete amp pages
so hopefully that's exciting I
definitely recommend you check though
but in short it essentially gives aunt a
notion of different document states that
correlate to attribute classes and
content for different elements on the
page content for text for instance and
then it also adds a layer for triggers
with user interaction triggers might be
a user tapping on a button or advancing
the carousel something user initiated
that we can then determine and the
developer can determine this constitutes
an intent to change the state so when
the user does that the state gets
updated and you can see a little example
here where the user clicks on these
thumbnail indicating which color of
Apple they're selecting and the carousel
updates to show a customized slideshow
of just that color Apple it's you may
not you may or may not be able to tell
too that you can see that the size
options for free chapel are limited
depending on the color you can make
these things conditional you'll also
notice the swiping through the selected
slide changes so it gives all these
components all these elements a way to
talk to one another and update state in
a coherent way and it's very flexible
you might even create a multi-stage menu
on mobile like love team wanted to do
they're able to do this eventually and
work through this sort of checkbox
notion but buying should give you a way
to do that a little more semantically
and easily but binding isn't limit it is
not unlimited we want to stay true to
the core principles advanced we want it
to be a good UX across the board and
also a really good performance and so
we're gradually white listing the types
of state features that are exposed to
users to be able to change
in addition to the types of triggers
that can be used to change those things
I'd definitely encourage you to check
out real talk and also check this out
and give us feedback for what your types
of use cases are and your experience
developing it's currently experimental
which means that you can opt into the
experiment but it won't validate an amp
so you can't use it in your production
pages yet we really really want to nail
this and it depends on your feedback to
do that so in contrast to this sort of
more general interaction framework
you're probably already familiar with
the way that components enable specific
use cases in amp some early examples of
this in amp are the light box and
carousel these of course are our Web
staples they're important to getting
engaging imagery on the web we launched
them fairly fairly early but we got
feedback the while these were great they
were essential even for static pages
they didn't offer everything that people
needed to really get the experience they
wanted so we've been working on better
ways not only to improve the carousel
itself but sort of the image carousel
that you swipe through to see images and
not only the lightbox which you can sort
of tap and get a more immersive view but
also the wave these two things fit
together and work together so I'm going
to switch into the demo here this is a
live demo so we'll see how graceful this
is but essentially you can see the
carousel here more or less what you
expect swipeable carousel and the
recently released go to slide method
which also links these thumbnail clicks
with the carousel so it advances to
particular slide those are in production
you can use those as is right now some
more some experimental features like amp
bind for instance I'm also going to go
through here for instance you'll notice
in the lower right hand corner a better
affordance for understanding which
number of the slides in the carousel
you're on
right now we are here on slide 4 of 8
and that changes that view tap and swipe
and go through these guys let's see and
you can also let's see so is possible
before to tap into a carousel and
duplicate the code on the page so you
had a carousel on the top-level page and
then you have a sort of the user didn't
know there are different carousels but
you had another in the lightbox so
duplicated code it men there more code
on the page I was kind of a hassle what
we want to do now and what this is is
essentially enabling the same experience
but making it a bit easier the more
generalized lightbox you wrap it around
the carousel it knows what's in there
and then you get this whole experience
for free and then it means we can also
do some special things like introduce
this gallery view where you can quickly
jump to other items in the carousel and
gives the user sort of like more of a
bird's-eye view of all the different
things in there so that's it for this
interaction so we can go back to the
slide
um but essentially let's see there's the
demo so speaking of interactions that
sort of make imagery richer and make the
experience a little more delightful and
amp we also worked on another feature
let's see here we go got wood lost on
the slide sir ah yeah let's talk about
parallax scrolling so yeah we can jump
into the other demo actually so you
might already be familiar with carlac
scrolling it's typically the sort of
subtle effects that you see as I scroll
up the title for the page Scrolls a
little bit faster than the image and if
I go a little bit further down you see
that this image and maybe this is a
little bit more subtle scrolls a little
bit faster than the viewport when I'm
scrolling up and down these are just
little touches that are ideally
delightful engaging for the user but not
distracting they add sort of a layer on
top where people can associate this sort
of interest with your brand and have a
good experience while they're on the
page but you can also imagine using sort
of like using this in a whole bunch of
different ways you have enough controls
you can create layered different speeds
to create an entire 3d scene so we're
excited about that that'll be another
fun one to try out it's also
experimental we have a demo running now
but again this is another one that we'll
be looking to try out and get feedback
on alright so back into the slide
another thing we want to do speak in a
scroll dependent interaction is we're
working on a way to have scroll down CSS
now you remember the love mention that
her team wanted to fade content in on
scroll we want to make that possible and
the idea is that we're going to try to
make things make this feature possible
with narrow
use cases and then open it up to a more
general framework so fading in content
on scroll also as demonstrated in the
with the just amp header here the
amperior header has the ability to
scroll the header out and scroll it back
independent on roughly on user intent
scrolling up or scrolling down to take
more advantage of the space of the
screen on mobile phone and give give
users a ya better ability to focus on
the content that I want to but
eventually when we open up the general
framework we also want to give broad
ability to do interesting things as well
Leslie mentioned wanted to highlight
elements that say a sidebar menu as you
scroll down the screen to continue to
give the user context as they navigate
the page we want to make that work and
then we also broadly and more abstractly
in order to enable use cases that we can
necessarily predict right now trigger
class changes element animations things
that like that on the screen to better
enable developers to engage users so the
last thing I want to mention is an start
and that's another big one we launched
this we're announcing the launch of this
today and let's see I think I went a
little bit too far here there we go it's
essentially a set of QuickStart code
templates to create interesting good
looking pages right off the bat that
means less research for developers to
learn exactly how to compose their own
amp pages less time sort of grappling
with CSS to get a good look off the bat
but then you can then customize put in
your own content and get your own brand
looking good an amp so it provides kind
of a baseline it's a set of templates
components and then sort of a CSS
framework that we built on to do these
things and
here's a little bit of a video preview
so if you go to the site it's an start
com
you can check out the templates in
contacts viewed on different devices
mobile tablet and desktop and they're
saying recommended articles on word
journeys like in the menu all work out
of the box if you like what you see you
can download the code which has the full
template and separate CSS sort of
maximized version for you to tweak
there's also a set of components that
you can go through check them out how
they work with a baseline style and also
get the HTML for them once you've
checked them out and when you copy and
paste that it should inherit the general
style of the page so it's in keeping
with the the style of the template that
you started with and like again here's
an example of something that we built
that up on the site and you can check
out too this is an example of sort of
the more opinionated type sites that you
can get notice that it looks totally
different than the other templates but
has sort of a lot of the basic
affordances in there they're common on
the on the mobile web so as with all of
these things ultimately the project
depends on your feedback it depends on
your engagement on telling us what works
and what doesn't
checking out and start submitting design
ideas submitting code and templates it's
open source like the amp project itself
so yeah we really want to hear from you
know what your needs are so we can
respond to those and make an better new
and site is also up on github and if you
have any questions or feedback for me
just come find me after the talk yeah
definitely find both of us please want
to chat oh thanks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>