<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Chrome + AMP in 2018 (AMP Conf 2018) | Coder Coacher - Coaching Coders</title><meta content="Chrome + AMP in 2018 (AMP Conf 2018) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-AMP-Channel/">The AMP Channel</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Chrome + AMP in 2018 (AMP Conf 2018)</b></h2><h5 class="post__date">2018-02-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pr5cIRruBsc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thanks for having me it's a pleasure to
be here today and share some thoughts
with you so we've launched Chrome it's
been about 10 years since we launched
and when we launched the product we had
a set of core principles that we
articulated that guided our development
process and in the time since these
principles really haven't changed and as
Paul mentioned as we started our
collaboration with the amp team some
time ago
we realize that we shared these
principles in common and I wanted to
share some of them with you as we get
started today for speed speed is
something that's continuously on our
mind we're constantly measuring and
optimizing the performance of Chrome in
service of connecting you to your users
as fast as possible and obviously with
amp this is a huge focus the a and amp
stands for accelerated we both believe
that experience is that fast that that
load really fast that render really fast
and that remain really responsive are
the bedrock of a great customer
experience simplicity is another one of
our core values on the chrome team we
are constantly refining our user
interface to make it as simple as
possible reflecting that we think a
browser should just get out of the way
and when we look at the at the amp team
we feel like this is something that we
have in common - because amp is all
about taking the complexity of the web
platform and simplifying it and the
experiences that come out of this are
often really really simple and easy to
use experiences security is another one
of these bedrock principles for the
chrome team
I think one good measurement of this is
the pond own competition that happens
annually where we invite a bunch of
security researchers to come and try to
compromise the browser and for the
second year in a row we've emerged
unscathed which knock on wood should I
really be saying that's the phone but we
put a lot of effort and energy into into
this aspect of it but it's broader than
just chrome we think a lot about how we
can push the security of the web forward
as a whole for example we recently
announced that we'll be marking all HTTP
content as
not secure which we said we would a
little bit earlier and we think this is
really important as we push forward the
entire web to HTTPS and when you look at
amp we think amps architecture also
prioritizes security in many ways such
as how the amp cache performs a
validation function on content before
serving it a chrome are also really big
on standards this is an area where we
make substantial investment both in our
participation in standards bodies but
also our efforts to raise the entire
ecosystem such as our web platform tests
initiative which is a series of
integration tests that we make available
to all the browser vendors and that
helps as we implement major new features
such as serviceworker
this is really important because without
these efforts there's really no great
interoperability between browsers and
that's necessary for us to have an open
web and we believe that an open web is a
requirement for a healthy and vibrant
ecosystem for everyone I always told
this would be the only amp plus slide in
the conference I'm sorry that uh that
this seems to be a recurring theme but
we see the two teams a huge opportunity
to work together on these shared
principles that we have we want a really
fast web we want to make web development
really easy we want everything to be
secure and we want it to be consistent
across platforms
and so over the past few years as we've
worked with the amp team we feel like
the amp effort has taught us a lot of
really valuable things and we want to
work to expand the benefits of amp to
the entire web ecosystem to explain how
we're planning to do this I'd like to
invite Stefan semaj up onstage who's
going to show you thank you
Thanks so my name is Stefan I'm a
product manager working at the
intersection of chromium and amp and as
technologists we have a tendency to
deconstruct things and so I when I first
started working on this project one of
the most helpful models from my mind was
to separate amp the format and amp the
cache not because they're not integrated
but because they are two sides of the
same coin
and they're solving problems very in a
very complementary fashion I lifted the
four items on the Left directly from amp
project these are not new these are not
novel and they state very clearly what
amp is about the result of these are
that amp pages are predictable they're
deterministic they don't result in
surprises for the users you don't have
jank you don't have an experience that
is inherently flawed and a lot of this
is a direct result of the optimization
that happens in the case of amps format
by constraining the HTML that you use
and by keeping things within very
specific bounds you actually result in
having a much cleaner user experience
and the users thank you for it because
it's a much straightforward more
straightforward set of interactions now
on the cash side unsurprisingly the amp
cache caches it optimizes by performing
transformations it knows things that it
can use to reduce the total number of
bits that get pushed down to your mobile
device and generally improve the
experience that the user has when
they're looking at an amp page a subtle
feature of the amp cash is the
validation that it performs it's not
something that is intrinsically hugely
obvious unless you've really been
steeped in it but you have a guarantee
that what comes out of the amp cache has
been validated it is unlikely to contain
anything that is even remotely iffy and
that's very very desirable again it's
deterministic it's predictable we like
that no surprises and it's fast
so when we started thinking about our
projects that overlap between amp and
the chromium project we decided from the
very beginning that we would focus on
the user benefits because ultimately
that's what this is all about
we can talk technology we can be
incredibly impressed with a percentage
of bits saved as we push them through
the ether but if the user isn't
benefiting directly from the work that
we do we are doing it wrong so we want
to guarantee a consistent and a smooth
web experience everybody wants that and
for the entirety of how long amp has
been around it has been validated over
and over and over that this is a
desirable thing the users thanked us for
this instant navigation of links you
don't want unnecessary pausing you don't
want the latency you want stuff to
happen right there and then we know that
fractions of seconds matter we want the
fluid navigation it plays into that
speed thing it needs to feel fast it
needs to be responsive it needs to be
something that the user feels in control
of and seamless transitions are part of
that as well so it's it's a whole
package of a particularly excellent user
experience another way that we've been
thinking about it as we contemplate the
technologies that will help get us there
is that we want to light a path we want
to make it easiest to do the right thing
and ideally prevent as many foot guns as
possible so we reduce the opportunity
for error what one group of people might
consider an undue burden of a limitation
on the other hand reduces the
opportunity for creating something that
isn't ideal for the user so we reduce
the opportunity for error and this is a
great benefit this opportunity for
greater user experience is also directly
correlated to the speed of this
experience everything that we do should
be fast by default we shouldn't have to
spend a huge amount of time as web
developers fine-tuning each and
everything if the infrastructure if the
plumbing that you're using provides
speed by default that's a huge win for
everybody so we want to provide all the
benefits of the amp format and continue
providing them as they are today but we
want to keep evolving them we want to
allow more flexibility for developers
and for publishers so you saw the tool
box earlier from Andre we realized some
time ago that one size does not does not
necessarily fit all different publishers
and different developers want to get to
the same place via different means and
so the responsibility is on us
to help provide these options and that's
exactly what we're going to do so where
are we going one of the things that has
been made exceedingly clear to us is
that web origins matter from a user
perspective they want to see in their
address bar the origin of the publisher
where is this content coming from from a
security perspective the web origin
matters as well because you have the
single origin policy that governs a
great deal of the security mechanisms
that are built in to the web platform
all these things come together so we're
looking into and implementing web
packaging as the mechanism to allow
publishers to have their web origin
their original domain in the address bar
independently of where the bits are
coming from so web packaging is an
author draft you can find it on the IETF
site at the moment it specifies both
what are called signed exchanges which
is the back and forth that allows
ultimately the content to be sent off to
the browser as well as bundled exchanges
which include the resources of that
exchange
what's crucially important about this is
that the origin is inside the signature
by doing this you separate attribution
of your content from the delivery of the
bits you can deliver the bits through a
CDN you can deliver the bits any which
way you want but because there's a
digital signature around it you have the
guarantee the verifiable guarantee that
the bits were originally authored by
the origin from whence they came this
allows you to use the most effective
infrastructure to get the bits to that
client endpoint to that device that you
possibly can without having to worry
about whether they were adulterated
somewhere along the way change things
injected who knows but it's important
that we maintain the integrity of the
content because ultimately it's that
integrity that matters to the user now I
want to show you a quick demo of what
this is going to look like this first
part is what it looks like today so we
look up terracotta warriors and the
exhibition that's about to happen in
Liverpool we click on it and it delivers
this page and if you look at the address
bar it says google.com slash amp you do
get the Guardian there in the sub nav it
takes a couple of pixels but
fundamentally this is somewhat confusing
to the user and we've heard this
feedback over and over and over so in a
web packaging world what does this look
like we perform exactly the same query
you get the same search result we click
on it but now it actually provides the
origin of the publisher now all the real
magic happened completely behind the
scenes utterly invisible to you
so that applause goes to the Tokyo team
that implemented this at breakneck speed
so this is working code we have a rather
finely calibrated sense of risk we
didn't want to do a live demo on stage
we look forward to this landing in
Canary and then not too terribly distant
future but the goal here is to have the
user feel completely confident and not
feel any kind of cognitive dissonance
about what appears in the address bar
and where this content comes from and
web packaging is how we're gonna solve
this web packaging is not a one-trick
pony there are many things that we can
do with it we think that web packaging
has great potential for progressive web
apps particularly for the bundling we
also know where we are right now we
haven't optimized for performance yet we
don't want web packaging to be a
performance regression we don't want
things to slow down now in the video it
looked approximately the same and that's
what it is it's approximately the same
but we want to be as fast or faster if
there's any way to do it we also
understand that without debugging tools
you can't use web packaging so we also
have work to do to make sure that you
can introspect web packages from within
the chrome debugging tools so one of our
responsibilities within the context of
chrome is to make sure that the
debugging tools in the browser support
web packages and ultimately we also want
to make sure that there are tools out
there to help you easily create web
packages you shouldn't have to hand
construct them painstakingly it should
just alternately be able to be part of
your content flow whatever that might be
so another facet of the work that we've
been doing between chromium and amp is
around feature policy which is a w3c
based effort it's a standards-based
effort and it gives developers and
publishers a lot more control and
enforcement and guarantees of what
happens on the browser unlike in the
strict and exclusive amp cache model we
also want to allow a certain set of
enforcement capabilities on
browser side that again allows for more
flexibility for how you deliver the bits
ultimately future policy lets you opt
into more predictable behavior on the
browser it allows you to create the
constraints for example to avoid
unwanted reflows feature policy
effectively is a commitment on the part
of the page that then gets enforced by
the browser to make sure that commitment
is followed one of the tools that we
have on the chrome side is called
lighthouse I encourage you if you're not
yet aware of it do a search and a
conveniently situated search engine look
for lighthouse check out the power that
that tool has it will help you down this
path of taking advantage of feature
policy now we've been looking at
additional feature policies that can
help us provide more amp like
experiences in a browser and this is a
video of a nun sized media feature
policy that we recently created and that
we also look forward to providing in
canary real soon now so for the first
three reloads the policy was disabled
and the hippo picture was unconstrained
and it was rendered exclusively in the
size that the image appeared on and the
jank was there because there was no
image size provided in the image tag and
then once we enabled the policy we
absolutely enforced without an
unnecessary reflow that the hippo
picture rendered in the rectangle that
the future policy specified I'm gonna
run through this one more time because
it wasn't strictly fair of me to just
run it without explaining what was going
on you can also note that these are
reloads because each and every time
there's a slightly different animal here
in this corner this isn't just the same
picture over and over and over again
these types of future policies where we
can make up for a potential shortcoming
in the specification of the page itself
as its downloaded are super helpful
super useful and this is one of the ways
that we're going to use future policy to
provide further assistance to make buy
more amp like experience
throughout now I would be remiss given
that we spent a lot of time talking
about the importance of speed the
importance of performance well you can't
really hit performance targets if you
don't measure them carefully
so having objectively defined and
cleanly measurable performance goals is
utterly important one tool that is going
to contribute to this overall effort of
making sure we're using the right
carefully calibrated yardsticks is the
chrome user experience report it's
available today if you're not aware of
it that really long URL at the bottom
will lead you there it is a corpus of
data that we provide based on
performance measurements done in the
browser on Chrome for those who've opted
into it the important part of the user
experience report is that it applies the
same standard to all pages regardless of
the technology used to build the page we
want to have objective performance
measurements so that we know what
actually moves the needle and what
doesn't PageSpeed insights is one
pre-processed mechanism for displaying
some of this data but we're also making
the data available as a public Google
bigquery project so if you think of
additional ways that you want to be able
to query the data and view it and slice
it and dice it we make this information
available to you to perform your own
analysis and it's entirely possible even
likely that you will find more
interesting ways of analyzing this and
finding useful results in which case
please share them with us because we're
very very curious to understand what
people do with this data so this is an
initial taste of where we're going what
we're doing how we're thinking about
this the next update from us is going to
be at Google i/o in May where hopefully
we'll have a lot more stuff implemented
we will have code that you can actually
play with and test with and try things
out we hope that in the meantime though
you think about and go and read up on
what our web packages how do they work a
lot of this stuff is already doc
and should already be in a state that
you can start thinking about the utility
of all these various features thanks
very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>