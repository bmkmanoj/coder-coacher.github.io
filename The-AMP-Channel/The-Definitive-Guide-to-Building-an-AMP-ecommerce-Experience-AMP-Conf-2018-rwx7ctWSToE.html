<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>The Definitive Guide to Building an AMP e-commerce Experience (AMP Conf 2018) | Coder Coacher - Coaching Coders</title><meta content="The Definitive Guide to Building an AMP e-commerce Experience (AMP Conf 2018) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-AMP-Channel/">The AMP Channel</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>The Definitive Guide to Building an AMP e-commerce Experience (AMP Conf 2018)</b></h2><h5 class="post__date">2018-02-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/rwx7ctWSToE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the long title so we're just gonna make
it an Pelosi commerce a little easier
I'm Lisa
I'm a product manager at Google and I
lead our e-commerce initiatives and
today I'm just going to walk through
some of our best practices for building
ecommerce experiences in amp so by now
I'm sure that you've heard that amp is
built on user first principles so today
we're gonna start with the user when we
look at the mobile web today 53% of
mobile site visitors will leave the site
after three seconds which is to say that
if you leave them with a loading spinner
or a blank page they're out of there in
e-commerce specifically 79% of shoppers
will not return to a site that had
performance issues so if they have
problems browsing if they have trouble
purchasing a product then they're likely
not going to come back and just a
one-second delay in load time can lead
to a 7% drop in conversions again saying
that you know if you are wasting your
users time if they're not getting the
information that they need they are
going to go to a competitor's site and
spend their money there and to put this
in a more visual context I'll show you
an amp and a non amp version of a
product details page from B&amp;amp;H photos so
here on the Left we have the non amp
page which is going to take a little bit
of time to load on the right you see
that page is loaded I can look through
some information I'm gonna add that to
my cart I'll actually start the checkout
process and I will place my order see a
confirmation message before the the non
amp page has loaded and so you can see
already that if you can get that
information in front of your user faster
they can make a purchase beyond their
way in a much quicker way and we really
think that that's the value of amp for
e-commerce and in the last year so we've
seen that sites everywhere have seen
great success with amp so from pure-play
retail to ticketing to shipping services
sites across verticals and across the
world have been able to boost their
revenue by using amp we've also seen
that building amp experiences for
e-commerce can be challenging it's not
always easy there are things that come
up again and then can block progress and
so today we'll walk through the best
practices for everything from choosing
which pages to start with to building
dynamic
interactive experiences to testing them
out and then finally to launching
discoverable experiences and we'll also
bring up some guest speakers to give you
a first-hand account of what it was like
for them to build out their amp pages so
getting started and choosing what pages
to start amping is often a really easy
question to overlook right you could
just randomly choose a few pages and
start amping them throw them out into
the world and see how they do but in
fact this is the first step that you
take to building amp and you want to set
yourself up for success so there are a
lot of nuances that go into making this
decision and to give you a first-hand
account of what it was like for solando
to do this I'd like you to welcome me
and join join me in welcoming Ralph to
the stage so my name is Ravi I'm the
tech CEO need for Zalando and I do love
fast pages and when M came up I thought
okay let's just try this for e-commerce
see where we are going and the idea was
to really see what pages do we have at
the London so this is basically what
solando is it's a home it's a home page
we have a lot of hub pages over cross if
you think of like say tennis as a topic
we have everything we got into tennis on
a page we have categories editorial
content and product so and then you
start your journey and think okay where
where it should I start with a MP and
for us was like we want to get this
testing very fast to the customer so I
didn't want to over engineer this but
really make it happen in a few weeks
that we have an MP page out there so we
thought let's go really simple so we
looked at all our pages and we thought
maybe those editorial guides are a good
way to start because this is mostly text
pictures slider a video so we can start
very easily and don't have to have a lot
of hassles so and also we have to set up
a so environment for MP so for example
the tracking the deployment pipeline and
so that was our first initial test we
got some insights and there was a good
start also we thought
let's not build the next big thing at
the Lando was NP because you don't have
historical data and you want to test the
page where you really know what this
page is about and and you have very
stable CG ask balance rate organic
rankings and traffic so that you really
know how this page perform so if you
take an empty page and build something
from scratch it will be hard for you to
compare historically for sure so we took
a page where we thought we know exactly
like this page behaves and when we
switch to NP we would know what the
impact would be also this you will hear
probably a lot during this conference
you have to aim for future priority
because I saw a lot of NPS where people
started with a rich mobile experience
and then went to a very light NP and
this doesn't fly so if you then have a
fair comparison between the performance
of both pages you have to make really
sure that you build the full experience
so that the customer gets basically what
is used to use at the lander so the
customer knows exactly how a product a
page at the lander works or a guide and
if it's like just giving the the half of
the experience he will probably bounce
more and you will get maybe inverse
results on there NP and you don't want
that so always aim for feature parity we
all set a lot of constraints so we were
thinking about let's maybe start with
the home page because the home page is
for us the most important page there's a
lot of traffic flowing through the home
page then we looked at the home page
with all those modules like campaign
searing size of the day editorial guides
and these are all different product
teams so I would have to align with all
the product teams what they're planning
to do in the next months regarding their
product and that was too much of a
hassle in the beginning so we X out the
homepage for now and then also when I
identified the editorial page to say ok
this is the page we want to back build I
went to the engineer said hey guys let's
build a CMP page and they said yeah but
we are already doing this and that so no
time for building those pages actually
so I asked them would it be fine for you
if we hire a freelancer they sit with
you in your product team so that you
have the full control of the story
but we get this focused on NP that
worked very well so we have basically
not that internally but use freelancers
as help and it was a great success
we made a video because this page speed
it's not so tangible if I say to you
adds one second versus 60 seconds yeah
you know probably what doesn't mean but
we wanted to make make it really
tangible and also showed internally at
the land oh how fast this experience is
so may we made this video it was just
for internal purposes but we liked it so
much so I want to show it to you
so what what are you doing so I spread
this video in our internal social
network to just say to everyone guys we
need to work on mobile site performance
and we need to work on NP so that worked
very well so what's the good move I
don't know if everyone can produce a
video like this but it was a good thing
and after we were confident was a Miss
he said let's go from fast to maximum
and maximum for us means building
product pages in a MP and pro pages we
have a lot of products live so we have
around 300 K fashion products in 60
markets and you only have to build one
MP renderer because the template is very
fixed it looks almost always the same so
we can scale it up very easily across 16
countries that was a very good starting
point also what I like about product
pages is that the customer has a very
high intent to buy so if you search for
like MX 97 Europe you can be pretty sure
that this customer really wants to know
what this product is about what are the
prices availability so I think if you
can deliver the product on Google like
in one under one second and your
competition can't so that that's a huge
winning point for you and also what I
really like about choosing product pages
that we can integrate this in all
performance changes later on because
every performance channel's aims for
product pages so we will talk as a CA
Google Shopping display so that we can
leverage the same piece across all
channels that's the idea here our
product pages are I would say pretty
standard but you have your slider
product info details we have a dynamic
pricing that's very important because if
you surf on a piece like a different
price that's not good a good experience
and recommendation engine was very
important for us so our initial bid was
without the reco engine and we saw that
the customers don't laugh this page so
much and then we looked at the data and
we saw that people come to our product
pages and then they start browsing
around different products so
we built this recommendation engine on
MP and you jump from one MP to another
very fast so that you have a fast
experience and can look at a lot of
products in a very little time so the
boss worried have for when it comes to
scalability what we are doing at the
moment
we are basically here now at 10k MPs and
Germany and we are have like a cycle
where we release some some more than we
do some feature improvements we try to
complete our tracking make it better a
little bit then we release more and more
and at the moment we are basically
waiting for the developers to build a
complete feature parity so there we have
product reviews in there and then we
will scale up basically Germany up to
300,000 MPs and then it's basically just
a click to go to 16 markets with our
pages so that's our plans and further
down the road we are looking at those
page types as well because now we are
very confident about NPS and I think
categories will be our next thing we
will check thank you guys
Thank You Ralph so I think really the
moral of this story is that choosing
which pages to start with can be a
rather complex question you have
resourcing to think about you have
impact that you want to think about
really take the time and make sure that
you've chosen the right pages to really
start building with and once you have
chosen that the next step is to really
build out the features and choose which
features you want to go on this page and
I think by now most of you are familiar
with what's possible in amp but I want
to touch on one quick refresher so last
year at am comfrey launched amp bind
which basically enabled a whole new
world of interactive experiences that
you could build an amp and looking back
we can kind of think of ant free
Commerce in the history of it in in
terms of two phases
so before bind or BB you could build
this really beautiful lead generation
page with carousels with forms with a
sidebar navigation you can do a lot of
really beautiful and user-friendly
things but nothing that's too much more
interactive than that
once we launched and fine you could
start building experiences like this one
here where you can have interactivity
you can change parts of the page based
on user interaction you can build
filtering sorting everything that's
necessary for an e-commerce experience
and amp everything that your user
expects to see which is to say that you
should build all of these experiences on
your amp page so if we looked at just
this mock product page that I put
together and we took a look at a heat
map let's say of user interaction on it
I would bet that it would look something
like this where anything that's
necessary for you your user to browse or
purchase that product is going to be
heavily interacted with so they'll be
tapping on that image to really get the
details on it they'll be tapping through
colors and sizing to see what their
options are maybe they'll go through
like ralph said the recommended products
carousel to get an idea of what other
products you have available and then
ideally they're adding that product to
their cart and they're purchasing it so
if you've build a page like this where
all that's left is a big image and a
button that leads you to the non amp
page you've done one of two things
you've either scared your user away
because this doesn't look like a page
that they are familiar with or you've
acted you strictly added an extra step
to purchasing a product on your page
right and will do all the heavy lifting
of delivering your pages quickly to your
users right making that transition from
a discovery platform to your site as
seamless as possible but to take full
advantage of that fast transition you
have to give your user everything that
they need to make a decision or to
continue browsing with you if you just
link them from the amp to the non amp
page all you've done is added friction
to that experience and when in fact you
could have done so much more for them so
don't do this but I'm also not saying
that you have to build an exact carbon
copy of your non amp page in the amp
version you should take this opportunity
to build a better page so look at what
features are getting a lot of
interaction which are be proving crucial
to the browsing and purchase experience
and make sure that you include those but
then maybe you find that some features
are actually a little distracting for
your users or aren't as mobile-friendly
then you can get rid of those right
we're optimizing for the best experience
will do the speed part and then you
focus on the features and so once you've
decided which features that you're
building the next step is really
building them out right and this I think
is where we see a lot of the challenges
emerge because building personalized and
dynamic experiences in amp you really
have to change your frame your mindset
from building with JavaScript to
building with the more declarative
framework and so we'll walk through some
of the some of the different experiences
that you can build here in amp the first
one I want to start with is the date
picker so this we recently released into
experimentation to better support travel
and it works exactly as you would
imagine so when you tap on the input
field you can see a date picker emerge
you can block off dates that maybe you
want to disable for your user you can
even set a minimum number of dates so
that dates that don't fulfill that
constraint are disabled and then you can
trigger visibility of other components
as the user is interacting now I'll walk
through how to build all of these
experiences but first I want to show a
quick comparison of what it's like to
initialize and construct the state
picker in jQuery
versus today and amp so with jQuery the
code that's required just to initialize
the date picker and we're already using
their built-in library but just to
initialize it and then to set the
constraint that you can't choose an end
date before your start date or a start
date after your end date takes more code
than I can fit on this slide right but
for amp I can do everything that I'm
getting on the Left and more with just
four lines of code so let's dive right
into setting this up with the date
picker you can enable two types of
experiences selecting a single date or
selecting your range of dates and you
can specify that with the type attribute
then you can do a whole lot of
customizations to just make sure this
fits your look and feel so you can do
things like change the orientation from
vertically scrollable to horizontally
scrollable you can set the number of
months that you want to show initially
you can set the first day of the week
you can set the language you can set a
ton of things here basically we can do a
little bit fancier stuff as well so
setting the minimum number of dates we
set that as 3 and the demo before you
can do whatever makes sense to you and
you can also change this based on how
the user is interacting so maybe they'll
set the minimum number of dates you can
also block off dates using the blocked
attribute so let's say that you
conduct business every other Sunday or
something like that you can easily
specify that there and then again
there's a lot of other customizations
you can do I encourage you to check out
our spec that we posted on github
feel free to you know comment and give
us any feedback that you have on that
now on to the more dynamic parts of the
date picker so let's say that you have
special deals on certain dates but that
these dates are constantly changing
right maybe you don't want this to be
cached you really want to get the
freshest data to your user in this case
you can easily specify the JSON endpoint
you want us to fetch those dates from
within the date picker configuration and
then all you need to do is make sure
that the IDS that you're using in that
JSON file match the IDS that you're
using in your markup so in this case
we're matching that deals ID so that the
CSS we apply is getting applied to the
right set of dates you can also
construct bindings between other
components on the page and how the user
is interacting so in this case we want
to show basically a great price banner
whenever a range of dates is selected
that includes one of those deals and so
here we're going to leverage the on
attribute which basically says when this
event happens trigger this action so
here we're saying when a range of dates
are selected change the value of tooltip
to be true if it includes a date with
the deal on it and false otherwise we
then toggle the visibility of the great
banner at great price banner such that
it shows if there was a great deal in
false otherwise we also built in an info
panel into this date picker so below
that calendar view you can include a box
with static information say just as like
a legend of what the mark-up on the
dates means or you can include more
dynamic information so here we just want
to show the user the start date and the
finit and the end date that they've
selected and again we use the on
attribute so we're saying when that date
range is selected set the value of start
date to be the first date in that range
and end date to be the last date and
then we're showing that within the info
template and again all of this changes
what the user is seeing will change as
they're interacting with the date picker
now I know not all of your travel
companies so maybe a date picker is not
necessarily applicable to you but I
think the personalization is something
that's top of mind for every
Commerce company and when I think of
personalization I think eBay is a site
that does this really well right you can
see recently viewed items you can see
what items you're explicitly watching so
that you can continue on the journeys
for each of those products but how do we
build these in amp right so in this
first example we'll use the amp access
component to trigger visibility of
different components based on signed-in
status and also facilitate signing in
and signing out
so with amp access the first step that
you need to take is to actually specify
the endpoints you want to use for
authorization pingback sign-in and
sign-out you can also set the fallback
response so what do you want certain
values to be in case authorization for
some reason fails then you can start
marking up this page based on the
signed-in status so you can hide content
that you only want to show logged in
users and show content that are tied and
show content based on the logged in
status and so in this example we're
going to use amp access which basically
will trigger the visibility when it's
not equal to true it will show that
component when it's not equal to false
it will hide it and here we're setting
it to the value of logged in which we
will set using the authorization
response but you can also return a lot
more information in that response so if
the value of logged in' is true we're
actually also going to return some
information on personalized deals so
we'll return the name of the deal and
image and I'll link to it that way we
can render it easily for the user then
below that we have a section that we're
only going to show logged out users and
so we'll show them a prompt to login and
then we're also going to show them a
link to do that and here we're going to
use amp tap equals amp access login sign
in basically to trigger that login flow
that you specified earlier in the amp
access configuration now let's say that
you want to personalize this page based
on user behavior regardless of whether
or not they were logged in it or logged
out and so something like this where
you're showing users products that
they've recently viewed to let them
continue on this journey so first we'll
use ant pixel to track product views
basically every time they view a product
we'll send a ping to this URL and you'll
notice that we're specifying a client ID
here so that we can properly identify
that user it's what we use in amp to
track users
then on maybe the homepage or the
product or the users profile page
wherever you want to show this module
we're going to use amp list to then
render all the products that they've
seen and we're studying the source here
again to an endpoint that's specific to
that client ID so that we're only
fetching the products that this
particular user has viewed and then we
can return any other information here so
products we're showing the link again
the image and a name of the product
anything that you think is important for
that user you can then show it and
render here now suppose that you don't
really want to personalize this page
based on who the user is but rather
where they are so some form of geo
variation if you're doing page level geo
variations so if you're showing a
different page to a user in the US
versus a user in France then you can use
H hreflang the same as you would for any
other page and if you're using canonical
amp so amp is the only version of your
page this is actually super easy right
for just pure amp discovery and
distribution reasons you need to first
include the link the canonical link from
the amp document to itself and we need
to do this for the English version and
the French version then we need to
include a link from the English version
to the French version with href Lang set
to Fr and then we do the same from the
French to the English just so we know
that there is an alternate version of
this document in another language and
this will let us send the right one to
the user depending on where they're
coming from if you're not doing
canonical amp you're likely going with a
parrot approach so you have an amp and a
non amp version of any given page in
this case this diagram here shows the
steps that you need to take to make this
happen first again for amp distribution
and discovery reasons we need to include
the canonical and the amp HTML links
between the amp and the non Emperor's
ins for English and then the amp and the
non amp versions for French then we're
going to include a link from the English
to the French version and we'll do this
for both the amp and the non amp pairs
so we need to make sure that for all
these documents we know first that there
is either a non m4 an amp version and
then second what the alternate languages
we have available are and I've included
a link to the amp by example for this as
well if you want to take a picture of it
and then check it out later for the
detailed guide on how to do
so in some cases I know that we don't
actually want to vary the whole page we
just want to vary part of the page based
on where the users coming from in this
case we can use amp lists to render geo
specific data and the first step is to
in the AmpliTube our endpoint we're
going to approximate the users location
using their client using their IP
address we then alter what we're
responding back with to amp list in
order to render the geo specific data so
in the at massage into this in this
example here we're varying what the
value of location is and so we're
setting it to Amsterdam because we are
in fact in Amsterdam right now and then
we can use that through the aunt
mustache template and show that the user
where they are in this case you are in
Amsterdam and then one more example that
I want to go through for personalization
and geo variation is altering the page
based on user input so based on what the
user is doing changing what information
we're showing them and in this case
basically we want to show the user a
shipping price that's specific to the
country that they want to ship to so if
you're shipping something from Amsterdam
to the US it's probably a different
price than if you're shipping it from
Amsterdam to Berlin or something so the
first step here is that we're going to
show the users the set of countries that
they can select from and here you can
actually use some of what we showed in
the last example
so say you already know the user is in
the US maybe the first option you show
them is the US based on where they're
coming from because it'll be easier for
them in that case then we're again using
the on attribute so when a user selects
a country we're updating the value of
list source to be an endpoint that is
specific to that country then we're
again using Amplatz to render this
information and we set this endpoint
equal to list source so it'll change
depending on what country the user has
selected and then what is returned will
also vary and we'll show them exactly
the information that they're looking for
so shipping to whatever country they've
selected will cost whatever price
corresponds to that and now the last
experience I want to highlight that you
can build now is just a checkout and
payment experience in amp and this is
actually really easy we're just
collecting information using amp form
can even do some fun stuff like showing
a different credit card image depending
on what card the user is inputting and
then we can easily submit this handle
the payment processing server side and
then show the user a confirmation
message on whether or not that payment
was successful really all you need is a
form all of the heavy lifting here is
being done server-side so the only thing
that's you need to make sure that you've
done correctly is setting the action xhr
attribute equal to whatever endpoint is
going to handle the payment processing
you can obviously also change how this
page looks based on the success response
I'm not going to include all of that
here because we do have a really
detailed guide on amp by example and
I've included the link here it'll show
you how to do everything that you likely
want to do with forms including
validation including error handling all
of that good stuff just for fun I did
include the code that we used for
updating that credit card image based on
what number the user is typing in
because slides are kind of small I only
included the visa example but here
basically the first step is to create a
custom CSS class for visa so in this
case the CC input container visa will
have a background image that is the visa
card then we're going to use an amp bind
macro just for ease of marking this up
but basically is visa will return the
value visa if that card number is a visa
card and an empty string otherwise we
then have this input we then have this
element that's the CC input container
that includes both that credit card
image as well as an input field and
you'll notice that we're setting this
class equal to CC type so remember that
as the user is typing we'll use the on
attribute to basically evaluate that amp
by in macro is visa and if it is a Visa
Card
then we'll add we'll change that class
to visa and in this case then we'll
apply that CSS markup to have that
background image of a visa card and then
you'll see it changed and appear and
disappear based on what that card number
is and you can easily expand this to
include Mastercard Amex all the
different cards that you are accepting
on your site so those were the main
examples that I wanted to highlight I'd
like to now bring my colleague Michael
on stage to talk a little bit about Olle
expresses product pages and the
different ways that they built that
experien
thank you Lisa so I'm Michael I'm a
developer advocate at Google and
unfortunately the engineers from
aliexpress web development team could
not be here today because it's Chinese
New Year when you and so I'm not key
enough to represent them here then I've
come to Amsterdam so it's good good
stuff so how do you express let me just
kill a big broad background on on what
the company does right so they're global
b2c retail powerhouse really poor the
Alibaba Group in China and the main
mission is to connect Chinese merchants
with consumers from all over the world
right and they launched the
aliexpress.com property in April in 2010
has since henson's that have seen
explosive growth in a really short
history today they served more than a
hundred million customers worldwide
across numerous languages and numerous
countries that's great and their web
traffic is obviously nothing to sneeze
at right like today they are ranked
number 48 globally on the relaxed of
traffic ranking so all seems good but
not really on the engineering side right
as engineers we all know what it's like
to accumulate technical debt and the odd
expression is no different now the
front-end code has been modified by
generations of Engineers each bring in
their own favorite tech stack right and
there's work for a while in the early
days when code health code
maintainability was not a big deal 10
took a backseat to aggressive drive for
growth but at the scale today a
hodgepodge of frameworks that are you
did it were using held together by duct
tape is just not good enough right it's
expensive to maintain and careers ago
they introduced asset caching with
service workers to try to improve their
second load provide a more consistent
and reliable user experience that went
great that went well they saw uplift my
ultimately the fundamental problems that
comes with loading and parsing too much
JavaScript exists this it is a problem
and they need to address that in the
fixer
so time to start over right now and look
at the different frameworks and
different paths they could take I was
one of the past it could and they
wondered whether amp was the right
answer
now the most obvious thing that made
them ambivalence to his amp is a
misguided constraints primarily
restriction of their play JavaScript now
without JavaScript how can they even
begin to offer a feature set that is
similar to what they had but what
comprises they have to make and
secondary to that is that they also know
that like the amp for e-commerce
vertical is somewhat raw its is new not
many companies have done it and so there
will be pain and growing things along
the way and they recognize that OSes the
risk tolerance level has to be a little
bit higher but thinking about harder
right like there are a few things about
amp that stood out
that's just shown probably the single
most important thing is just performance
a framework that guarantees consistently
high performance amp not only provides
it and forces it and that's valuable
through an validation if it validates
your good confidence it's just it for
and if it doesn't validate you don't
really know right so that's something
shoot for validation there are big fans
of web components and the wide adoption
of web components standard within
browsers today is encouraging for them
for about government team now and
components are web components so that is
this way something you want to do want
to do now tying the main product to any
framework this scary right well and so
they needed one that they can at least
meaningfully participate in but better
yet they can influence and amp has a
record of that
lots of contributors lots of changes
quick fixes and there was a face a lot
of internal pressure to ship they
started thinking about us in November
last year and they shipped in January
two months right so the long changes
went on
backhand in front end but at least on
the front end clients that client
framework they can pick they want wonder
can it's easy to worried you to work
with and fits a bill here so considering
the pros and cons here they decided to
revamp their mobile site to and M site
on the pages which drive the most user
traffic so those would be the home page
the product list page the product detail
pages right so we fired go on let's just
look at what the results are right
everything on the right all the pages
are all that app as the home page user
clicks into a category the category
pages show up pick a category as a user
scroll down pick more categories
subcategories in this case and then this
is the this is sort dissipation that
drives the most the most traffic from
from as a user or a product miss page
and this like massive filter with two
layers with like very many dimensions
that they let it filter to us it's quite
complicated but the amido is on amp pick
the size us and and click through to the
product which is the third set of pages
a day today and the product detail page
right here would be a typical project
where she was see on typical ecommerce
sites all valid amp although very nice
now I guess the only question that
really matters is this one question
right that help their metrics everything
else is really relevant right for as a
business and the answer is yes it did
technical metrics first just patience
speed time to page load decreased by 40
percent across-the-board on those pages
which I wish the end right and that's
great and on some the part list pages
which drove the most traffic they saw
page load speed decrease by 50% even
higher than 40 so that's great right
faster pages but what about business
metrics conversions
that translator increase in conversion
rate by more than 4.3 percent for new
users to their website and for users who
visit through non page non-search
channels that conversion rate goes up to
up to 20 percent conversion rate here
means purchase rate so if people
actually buy stuff so that's awesome
really exciting so how do they get there
right so we'll go over some features so
all right you see the one detail pages a
lot a lot of animations going on but
look at a top action bar as the user
Scrolls up the action bar goes from
opaque to transparent right as those
rolls down it goes from transparent to
opaque or almost okay and this is
actually a really nice design and the
reason why that is this when when you're
you're up top you don't want your action
bar to to to do height your image you
want full real real estate to dedicate
to refuel image to watch in this case
right so you want action bar to be
transparent as you scroll down you want
the action bar to anchor your your app
experience that's good design and that's
what native apps do right you see that
made it up today order all the time so
pretty nice how do we do it
add animation now to do this elimination
and this actual this real code from
their website where you can go look at
it after this top my source code
simplified a little bit but person you
first defined a how in the animation
right in this case you set up keyframes
so in this case that's really only one
ending keyframe and that is when it's
full opacity almost fully opaque 0.95
right and since this since this
animation is triggered by scrolling the
duration really doesn't matter you can
put anything in there it's not trigger
bite by time it's triggered by scrolling
see find out how now you defined a when
right in this case it insert a dummy
diff 0 to 0 by 0 pixel Jeff that is
fixed position it's anchored so as the
user Scrolls that diff moves with the
school scrolling in it you observe the
movement of this diff with am position
observer and so as the user squirrels
the animation observer calls the
animations seek to method and so the
rest is just taken care of by internal
magic of the web animation API right
where it linearly determines the
animations opacity based on the scoring
percentage provider that you pass in
there you have it next up star ratings
ecommerce sites have them all everywhere
right for reviews user feedback
Aliexpress is no exception so there is
no emptor rating component today and so
they need to figure a way around us
right so it's really not complicated
it's full of them pre simple solution or
the employer on web point for the
renders as a star and that's based so
this that's why that to Unicode in this
case you 60f right and so there's my two
separate CSS classes one for the bottom
when it's gray and the other for top one
is red right and then the first define
individual CSS selectors for each rating
between 0.0 and 5.0 in 0.1 intervals so
51 total is like this it's obviously not
gonna scale to like a thousand or 10,000
interval scales but for 51 it's fine
right it's good workaround the rest is
easy there's specified a the star with
the correct CSS selector and you have it
now probably the most critical piece of
e-commerce the user journey is at your
cart on Express uses a combination of em
components to do this and so on the
right you see really for this one put
the product there are three SKU
properties right for one for a color one
for size and one for shipping country so
your so in this case is
multi-dimensional with three dimensions
your business logic will get fairly
complicated as you scale up so something
note for them like three is
computer surely felt it so how do you do
this right for first they define a JSON
data holder that keeps track of the user
choice as they click around the product
so in this case they find an M state
called details cue state and a
three-dimensional skew property at the
bottom or nulls for now nice to
initialize that keeps track of the color
the size and the shipper country for
this particular product
next M bank comes into play it
coordinates the states as a user in the
rest of the UI right now when the user
taps on a specific SKU property in this
case is there for shoe size you change
the school property variable to take on
whatever the correct shoe size is 6 in
this case right and obviously also have
to change the UX for the REO button and
all that but the main logic for the
binding happens with an ancestor and the
rest of it is just making sure that a
correct UI element the heading in this
case head of 3 guess bound to a correct
school property as you tab around now
showing responsive feedback to user
interaction is one of the most common
ways that people get improved UI design
right so Aliexpress tender add an error
handling logic and response to feedback
you are in this form of this like
floating black transient message bar
that floats up when a error occurs and
then disappears again right so it's kind
of like a toast but your own take on it
so this is great how did I do this well
it's really the magic happens in just
defining and designing the animation in
code right in this case it's they define
a series of key frames that the knows
that a message bar starts off being
fully invisible and transparent and at
the bottom and ends up in the middle as
being fully visible and and opaque and
translate it in the y-axis and then
fully invisible game as a force so just
a series of key frames at a design and
this whole happens over a span of three
seconds
now when the Add to Cart button is
pressed they do three things
they set the display text they show the
dialogue and animate the dialogue
through that animation that we just
showed now of course it everything is
ready to go
the last bit is to add to cart' write
actual adding it to the cart
now this accomplished by M form and
let's say we do it right they first
define a form that tests their
perfection to take on a server-side
through HTTP endpoint right estimation
yes now this actually on server-side
this actually does the work of adding a
to card
next is the funny what happens on a
client-side a client-side they already
had that beautiful transient message
body we showed so let's reuse that for
this fourth row - to put in text that
tells the user that they've successfully
added to cart assuming installation was
a success
they set a text string item add to cart
they animate the message bar just like
they did before and then lastly just
sort of form with the specific SKU the
properties the quantity etc etc and the
senate right and as that now the last
bit of takeaway really is that they
realized that the success of amp just
now this very success is now tied to the
success event because it used the
framework right and so participation and
end community is really paramount not
just for themselves but for the broader
community as a whole so over the past
two months there encountered and
reported multiple issues against many of
our favorite components and lists and
bind an image and lightbox and they were
excited to see like many of these issues
actively addressed by the community and
some cases fixed so there are still
things that amp does not handle well
right they're important for a use case
an example of this is the timer
countdown component that it's good for
like deals promotions that is not
handled as no you usually have to fall
back on the trusty mi frame to work
around it really so they are actively
planning to contribute code that would
help drive to create the session
countdown component so devastation
really takes combined effort on the
community and on their end of course so
I would encourage everyone to continue
to file box resolved box summit fixes
race issues raise questions and it's
good for em and good for your project
and with that our head over to Polly
from oh hello everybody let's just set
up
whoops I need to type my keyword again
sorry about a company policy okay
I'm so happy to be here and allow me to
introduce Yahoo Taiwan auction to you
Yahoo Taiwan auction is the most popular
and the biggest e-commerce site in
Taiwan it's kind of eBay right trying to
climb c2c type so Saylor can post item
for sale and buyer can find something
interesting to buy there are more than
30 million items
I'm sure and it also won the most people
love in your world for years
Yahoo Taiwan auction has been served
overland 15 years in Taiwan however
there is some page still not
mobile-friendly
in fact so that's why we decide to top M
as our mobile page and give it a try so
we pick up the top web traffic page too
as our first end page and this is our
item page in real so you guys can see
here and we make a new design to fulfill
to make it suitable for all mobile
device so we can have a clear and pretty
item vision here in carousel of course
people can find some useful information
here such as item title price pay type
and also ship type here mod image multi
media media like a video image are all
support so you guys can see here we also
add some micro interaction here so make
every action smooth flow once people
doesn't like this item we also prepare
view also view and the recommendation
module to our user to let them have more
choice to find out exactly
item they like so this is our item page
for aunt virgin of course we add some
instrumentation data of Google organic
to compare the result
about it before and after so let's just
take Larissa take a look about Larissa
before we start I will tell you we use
the blue line as after and we use the
purple line as before so let's just
check it out we increase 39% in users
and 133 percent in our new user who is a
huge improvement how about the bounce
rate we success decreased 33% than
before so you guys can see here the blue
line is much lower than the purple line
how about let's transition we also
increased 26% abolish translation and
the 34% in our Rev revenue each metrics
looks awesome and slightly image this is
just one end page with ever expect the
wonderful result we will again with them
all we want to do is just bring which is
just bring a very good user experience
and the excellent visit flow for our
user we can do better based on on our
instrumentation data we know our user
like to do our search and also they like
to do our like do you guys see the heart
here this is our like button so we love
to do some enhancement for them all
Cyril is it is very it is disappointed
to use JavaScript in M
but we still believe in once we realize
and component do we can combine them and
transform them into more interesting
feature we like so I will show you how
Yahoo auction do in the next slide the
first we build a suggestion suggestion
is very common in world but not in amp
with suggestion user could exactly final
exactly keyword to search this is very
useful for our user so here comes some M
component we use and placed must H of
course and find an M event I would like
to do like a quick demo here so when a
user just visit our item page and virgin
and just praise magnifier so we will
show low input field and all user just
like to do is just try block here I
would like to use M here so when I type
a sorry about latency back to Taiwan all
right you can guys can see the
suggestion just pop up and we will have
a list here so when I taught em P see
this is how our subjection work so let's
see let's take a look about a structure
actually we use a input for user to let
you cell type something and the next the
input is a M placed this M place is also
our suggestion when we use law and state
as the British between input and an
placed to let them communicate each
other once input value change and please
we'll go to fetch new data here so when
Dana bad we we generate element by
mistake so you guys can see we use a
mistake here
each suggestion is build with a tech
this mean it is very easy to add
instrumentation on them to collect the
user behavior but it is it is kind of
knowing for us to decide when should we
turn the suggestion on and once you do
eternal subjection off we don't like to
live to complex logic here so we live
this part in CSS with CSS in charge
things became easier and more
maintainable and more powerful all we
need to do just write the correct CSS so
let's see what's the use as we use we
use a pseudo element press holder show
and tilde to connect input and end list
what does this thesis mean this thesis
mean the subjection won't show until
input value is not empty all right so
let's take a look about this when I just
clear the input value the suggestion
should be just disappear see there
easiest work effective
CSS can lose everything so this is our
suggestion module in this case we can
understand once we understand we
recognize each and component do we can
use the minimize element to peel any
feature we like so use em as mobile page
is not a dream it became reality
next I like to share is our like
function in order in our service people
like to use like function why because
once they press the like button
we will rake hurlan so they can find the
like item in list anywhere anytime
once the item is on sale we will also
send a notification to user so they can
catch up the hottest information about
the item price and decide pipe or
not.let it's fine or you'd like to use
this feature so much so here also comes
the M company we use and phone and place
the mustache and buy especially M access
to binding our locking system so I would
like to show the structure here first so
we use the M placed to fish the light
status and then generate by mistake and
you guys can see when the data back
there will be a like here so the light
may be great means you now like it or
may never press like and maybe the heart
will become red one let's mean you like
it so when user just praised the like
button we will send a request through
and phone and we will catch up the
server side response by an event such as
submit submit arrow or some mates exist
once
Sammy arrow we will use M State to
transform service I responds in a title
and here our user what you do next if
the response exists of course we also
use the M State to change your style I
like the M state to change class name
just because I can do some animation
here with animation things would be will
become more interesting more vivid so I
would like to do to go through the whole
process with you once people are here
and he liked this item he just need to
press the the heart so we will have a
dialogue here it is pure in Chinese I
can translate
okay this will tell our users list
function is lucky member only so you can
choose to log in or not so in this case
I choose login and this will pongo yahoo
login system when this is finish we just
pray the like dude i see we have an
animation here and this is our like
function alright so after this we start
thinking how to deliver these features
in different page with effective way so
we can utilize this feature once page
unique all they need to do just require
and everything is done this is our
Sailor page so you guys can see it is
also display some item which will say
learn to sell here of course the
suggestion has already filled in and you
guys can see each item cart had like
function just like I display here and so
does our category page this is also amp
version and our search and the Virgin
more component we have more diverse
speed we gain so T well and page is just
like playing Lego piece by piece state
by state to complete the whole page
things become easier with this reusable
component so can you guys imagine all
these three page were complete in just
one day this is excited is so exciting
for us and we are happy we really do
this okay
thanks for and project him you really do
us a big favor and thank you all to
lessening my hearing I hope this is
useful for you thank you now back to
Lisa thank you to Paul and thank you to
Michael I think it's really awesome
thanks to to see the implementations
that are live today and all the cool
things that different sites are using
with amp so continuing on our journey of
building great experiences for
e-commerce once you have actually built
out these experiences the next step is
getting these pages live and testing
them out so usually the first challenge
that we see sites face is actually just
getting these pages indexed in live and
sometimes it may seem like the indexing
in the curling process is a bit of a
black box we have some search folks here
who you can talk to but really the first
and the best step that you can take is
to become close personal friends with
the search console and they recently
actually launched a new version of this
with a revamped amp dashboard where you
can see a lot of information about how
your amp pages are doing and here you
should see two things you should see
zero amp ere's and you should see an amp
page count that equals what you believe
to be the number of pages you've
published if you don't see zero amp
ere's then you should fix your errors
and you should start with the ones that
are the most severe and the highest
impact and the search console will tell
you this it will tell you what errors
are causing the most issues on the most
number of pages and then you can easily
prioritize what you need to fix once you
have fixed an issue you can read you can
issue a request for revalidation so
Google will go and check and make sure
that in fact this fix is live and it's
working and now your pages are valid if
you see that your amp page count is less
than the number of pages you know that
you've published then first make sure
that you've linked your amp and your non
amp pages correctly or if you're doing
canonical amp your amp to your amp
document itself correctly this makes
sure that Google can discover your pages
and then show them correctly if you've
ensured that that's done and you've also
ensured that you haven't blocked
indexing in any way which we have seen
happen then you can issue a request for
a recrawl and and Google will go back
and make sure that it's it's recrawling
your site
once your pages are indexed in their
live the next step is to really start
comparing your amp and your non amp
performance to get an idea of what amp
canoeing for your site and we've seen
two methods here work out really well
fair sites the first is to compare
historical and non amp performance with
present-day and performance and the key
here is to make sure that you're
comparing as apples-to-apples as
possible right you don't want to compare
holiday season non amp with like a
random Tuesday in March amp because
you're not going to get an effective
comparison there we really want to make
sure that the time periods are similarly
performing so you can get a good idea of
what amp is doing the other method is to
compare a non empty page a with an amped
Page beware page a and page B are very
similar and also are similarly
performing so in this example j.crew
actually compared their shirts and tops
not amp page with their sweaters amp
page and then they were able to see you
know these pages are pretty similar
generally and so we can see how amp is
doing for this sweaters page if you are
not seeing the results that you spec its
if you are not seeing the results that
you expect if you're seeing that
conversions or any of the metrics that
you really care about are not looking
the way that you would want them to look
there are a few troubleshooting steps
that you can take so first and foremost
make sure that you have the client ID
API fix that Google Analytics released
implemented this is going to make sure
that we actually track conversions
correctly because when you're moving
from the amp cache to your origin site
there is a chance that I mean though
there's a chance that that user will be
interpreted as two separate users and in
fact a conversion could be interpreted
as a bounce and so we want to make sure
that this fixes in so we can accurately
track users as they move through your
conversion funnel the next step is to
really make sure that your amp and your
9 amp pages are at parity so I talked
about this a little bit before about
making sure that you're highly
interactive components are included on
your amp page but this is and this is
really nuanced rate I'll give you a
quick example we were working with a
site a few months back that had built
lead generation pages so just a form to
collect information about their users
and like microscope to these pages they
were identical the non amp and the amp
versions pixel for pixel they were the
same but as we were interacting more
with them we found that the date field
on the
nann aunt page it was it was fancy it
had the date picker it was easy for the
user to actually tap there and select a
date but on the amp version it was just
a freeform text field and that was
enough to really deter the user because
they didn't know what format that date
should be in they didn't know if month
should go for us if dates should go
first if the site wanted years all that
information right because dates can take
a lot of different forms and so this is
really to say that you know you've put
so much effort into building your aunt
pages make sure you're not just one easy
went away from seeing that uplifting
conversions that you've been hoping for
it's a really easy fix that they were
able to make and then they were able to
transform that experience for their
users the last thing that you can do is
there are a few GA Google Analytics
trips and and tips for really making
sure that you're getting the right data
with amp so for example if you're seeing
that the data source amp at your boot
which most people use to compare amp and
9 amp is not being applied correctly so
maybe an amp page is really being tagged
as not in you can actually create a
custom dimension for amp to make sure
that you are explicitly saying you know
this is my amp page these are my nonet
pages let me see what the difference in
conversions is and all this
documentation is online and you can also
work with your account team to make sure
that everything is set up correctly so
once you've launched your pages they
will automatically show up in organic
search as long as you've linked them
correctly but we've also as mentioned in
the keynote we're launching experiences
in paid search for amp as well so this
past year the AdWords team launched
their amp integration where now you can
direct traffic to your amp pages from
ads as well giving your users that same
instant experience that they're used to
at this time this won't automatically
happen you will need to go into Adwords
and actually explicitly say I want to
direct traffic to my amp pages but the
AdWords team has extensive documentation
on this and you can also again work with
your account team to make sure that it's
set up correctly and again if you're
familiar with the shopping carousel the
Google team is working on piloting ship
serving traffic from these two amp pages
as well and so as they've been seeing
these really encouraging results if
you're interested in participating in
the pilot let your account team know and
they can help set that up so that is end
to end how you can build exciting and
awesome amp experiences for e-commerce
from picking which pages to start from
to deciding which experiences to build
building dynamic and exciting
experiences and then finally testing and
launching them so now it's on to you you
can easily get started with our
documentation on ant project org
Sebastian and Chiara have also built
some really awesome ecommerce examples
on ant by example and again please as we
continue to emphasize interact with us
on github let us know about issues bugs
feature requests I think you've heard
from all of our guest speakers that the
amp team is so excited about e-commerce
and we're so excited to get feedback
from you guys and really continue to
grow and develop the product as as you
guys are adopting it so that's the talk
for today for e-commerce feel free to
find any of us afterwards and ask any
questions that you have thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>