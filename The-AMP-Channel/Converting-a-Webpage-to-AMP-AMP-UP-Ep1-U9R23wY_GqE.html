<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Converting a Webpage to AMP (AMP UP Ep.1) | Coder Coacher - Coaching Coders</title><meta content="Converting a Webpage to AMP (AMP UP Ep.1) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-AMP-Channel/">The AMP Channel</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Converting a Webpage to AMP (AMP UP Ep.1)</b></h2><h5 class="post__date">2018-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/U9R23wY_GqE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey I'm Ben Morris and welcome to amp up
today we're here in San Francisco we're
gonna visit the del Sol string quartet
they're a cool modern cutting-edge of on
guard string quartet but we think the
website needs a little help from amp so
let's go say hello
so tell me a bit about the string
quartet
well the del Sol has been around for
about 25 years and we champion in the
works of living composers and the music
we play we call craft music it's a
little bit like the whole craft beer
craft food movement nowadays but this is
dedicated towards music a new project
that we're really thrilled about
it's a project on Angel Island which is
an island in the Bay Area where there's
an immigration station that was used in
the early 20th century and so this page
will be sort of the landing for all of
the information about the project and we
really want it to be fast and easy to
access and look good and yeah so that's
what you're gonna help us with today so
tell me about your site like what it
does for you and how you feel about it
today so it's definitely gotten a bit
clunky since we created it about five
years ago so that's a big concern for us
is getting that looking as contemporary
as we want our music to be so if you
guys rehearse I'll be hiding in the back
over there and taking your mock-up and
making a band a page for your guys using
amp so it loads extra extra fast and
also responsive so it looks good in
every device good luck to me okay let's
take a look at the mock-up that
Katherine made for me so this is pretty
simple
this menu logo text some images some
custom fonts at the bottom a bunch of
video embeds these social share buttons
here are just links so this is a typical
basic web page where everything here
could be done with amped WordPress is
quite useful and flexible
I mean it's popular for a good reason
but of course CMS's generate sites
automatically and sites that are made
automatically tend to be much less
efficient so this page uses seven CSS
files not counting the one that YouTube
ads that's 350 K of raw CSS a site that
simple shouldn't need more than 10 K
maybe 20 the JavaScript here is not too
bad
most of this comes from YouTube but
still for a simple site like this
how much JavaScript you actually need
let's look at the images next and
there's one single giant image this is
the background image that isn't seen
that much but it's more than a megabyte
so for now I'll just take this page and
rebuild it using epi HTML outside of
WordPress so a first step we grab the
HTML and copy into editor again amp
allows no more than 50k of CSS they have
much much more in this site but I'm just
betting styled on CSS the CSS that comes
with the theme will be all we need so
let's copy the CSS into my editor Hey
look at that
my character count says it's only about
30k that's less than 50k but for good
measure let's erase some of the clearly
random-looking CSS like the stuff about
emojis print and CAPTCHA and so on now
let's take out all the JavaScript delete
delete delete doesn't that feel good
it's like cleaning out your closet now
let's convert the HTML to amp first we
add the basic amp boilerplate the
canonical link the boilerplate CSS the
amp JavaScript's and of course HTML and
lightning bolt let's take a look I am
validator extension found a bunch of
errors some of those errors are in line
style tags and some of those tags are
just garbage made by WordPress the other
tags I'll convert into proper CSS
classes next let's convert the image
tags to amp image tags fortunately most
images here already have width and
height they even have source set to be
responsive just the logos lack
dimensions and those are easy to find in
dev tools
okay that's images let's do the videos
next they're all YouTube videos and it's
super easy to change all of those to amp
YouTube to cut the ID and those should
be done
all right now the site is mostly ready
for amp'd so now we can make it
responsive we can add the responsive
menu let's take a look at the mock-up
Kathryn gave me again and it's got a
breakpoint at 12 46 pixels at which the
header adjusts but that's it
the menu ends up off the screen and the
text gets really tiny so on our new page
the text no longer gets tiny because we
added that meta viewport tag as part of
our amp conversion let's look now at the
CSS for things that are fixed width
because those can't be responsive hmm
yeah a few things here are fixed widths
like 908 pixels so I'll change pixel
widths to percentages though in a couple
of cases we'll keep those fixed widths
for desktops strange in the theme
assumes the device is 9 and 8 pixels
wide so I'll put the main break at that
point okay I think I've got it so I made
some new media queries here for devices
narrow at 9 or 8 pixels for viewports
that are larger than that
nf the original jumbo size 12:46 pixels
for really big devices we should also
compress those images especially in that
giant background image that isn't hard
though the background image I'll just
open up and I'll save it as a sort of
lower quality JPEG and do a smaller
version for phones other images will
just save as smaller versions with fewer
pixels now we've built a fully
responsive and picks up the layout this
one thinks I'm doing which is kind of
outside the scope of this video so we'll
just do that all right cameras off
alright that's done the site is fully
responsive and layout is fixed up so
finally we have one thing left to do to
create a basic mobile menu with a
hamburger icon we use the AMPA sidebar
for that and for the sub menus we'll use
amp accordion to make the items slide
down and back up and that's it isn't it
beautiful I have good news the new page
is ready that's done okay so let's begin
by looking at the old paid the old
bucket be made over here
the thing is though that number one on a
phone it looked like this you really
couldn't see much of anything gonna fix
that too and also if you load this up in
a real-world 3G phone connection it was
kind of like this it's just blank for a
little while and then it turns black and
then some text rolls in and then the
fire in the background
slowly slowly rolls down and the images
begin to appear it just takes maybe 10
15 seconds for the page to appear so the
new page over here it looks similar on
desktop but some things have been
cleaned up a little bit and moved around
and we also can see the magic here of a
responsive site if we actually change
the size and the simulator things keep
on moving around to match the size of
the screen but two things have changed
one is that on a phone and now looks
like this so things are bigger
there's your classic hamburger menu over
there you click on this and menu pops
down click on this and it closes any
elements over here are arranged and
they're visible and the nice thing about
this is that it's an amp so it's now
quite fast Wow there it is so much
faster yeah people can find your site
faster also from Google search a little
bit about half a second that's much
faster yeah it's such a difference with
this project well thanks a lot it's been
a pleasure working with you guys and
looking forward to hearing the piece
so that's it the site still needs some
work uh sites do but the new page has
been amplified it's fast its responsive
is going to be great for the quartet and
for their music see you next time on amp
up</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>