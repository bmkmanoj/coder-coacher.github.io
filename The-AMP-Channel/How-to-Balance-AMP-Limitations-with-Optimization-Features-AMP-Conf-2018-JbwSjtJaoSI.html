<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Balance AMP Limitations with Optimization Features (AMP Conf 2018) | Coder Coacher - Coaching Coders</title><meta content="How to Balance AMP Limitations with Optimization Features (AMP Conf 2018) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/The-AMP-Channel/">The AMP Channel</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Balance AMP Limitations with Optimization Features (AMP Conf 2018)</b></h2><h5 class="post__date">2018-02-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/JbwSjtJaoSI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">OLIVER ARMSTRONG: My product
teams in San Francisco
would tell you all
that I am a huge fan--
I'm in love with bad puns.
So when I found out that I was
able to come to AMP-sterdam,
I was over the moon.
They also are very excited
to have me away from them,
because I've been
torturing them with AMP
puns for about three weeks.
So now they're happy
to have me here,
where I can torture you guys
with a couple of AMP puns,
as well as the people who
are live-streaming at home.
We've seen a lot of really,
really cool solutions
so far with AMP
technologies, everything
from publishers to
e-commerce giants using
AMP in really creative
ways, beautiful AMP
websites, and this marriage
between AMP and NPWAs,
and even just now about how ads
themselves are going into AMP.
It has been this nonstop AMP
party for the last two days,
but I feel like we forgot
a really important guest
to the party.
And that is the
advertisers and marketers
who themselves are
responsible for taking
that post-click journey
from once they've
earned that click in nurturing
and guiding those customers,
all the way through
that post-click journey
until they become
that closed sale.
Because either they get
through the checkout cart
or they fill out
a form submission
and get into that further
lead nurture space.
So that's really where
Instapage comes in,
and that's what we'll
be talking about today.
So one of the things that
those of you who may not
know Instapage and what we do--
first of all, we have a
really simple mission,
but it's a big one,
and that's to scale
post-click optimization.
And we have a vision that
every potential customer really
should get a personalized
post-click experience.
So the way we do that
is, we're a market leader
in this post-click
optimization space
by really providing the
ability empowering thousands
of businesses and marketers
to be able to take that click,
once it's gone through
that first stage,
and really turn up
the conversions,
crank that up to 11, through
a number of functionalities
and core key areas.
And those really
sit at the nexus
between three major
problems that AMP
has its fair amount of
trials and tribulations
that our engineering
team has had to overcome.
And first and foremost
being the idea
of scalable creation of
post-click experiences, landing
pages, and content.
We have a robust and powerful
drag-and-drop WYSIWYG builder,
that any designer who's familiar
with Sketch or Illustrate
will be comfortable
with, but also has
a usability and accessibility
for marketing managers,
designers and content teams
to able to make changes
at the speed of marketing.
And how do we scale
that and package that
into something that
is validated by AMP
when infinite possibilities
of design solutions
could happen in any customer?
Also, we have dynamic
content, personalization.
Normally done through
passing parameters--
this high up at the
funnel, we don't
know a lot about the customers.
We don't necessarily
know exactly
all the channels and things
that are coming through
and those difficulties.
How do we provide
that functionality?
And last but not
least, optimization,
multivariate
testing, A/B testing,
being able to actually
understand where people
are interacting on the pages.
And these are things that
our core platform provides.
And how do we translate
that into an AMP solution
is something that really
our team has been tackling
for the last few months.
So in January, we
launched Instablocks,
which does a lot of
really cool things.
But first and foremost,
it's reusable content blocks
that advertisers and marketers
can take all of the content
that they're already using and
just recombine that on the fly
into any number of unique pages.
We're rolling out soon,
also, global blocks,
which essentially is
create global instances
of those being propagated
across thousands of live landing
pages, so changes can be
made once and then propagated
instantly and automatically
across everything
that's already live.
And the thing that I'm
most excited to really
be able to talk about
and announce today
is that we're baking AMP into
all of that functionality.
We're building in AMP as
part of our core platform.
Every landing page that
someone makes with Instapage
can be made with an AMP
version and AMP-validated page
to go along with that.
So some of the things that
we're trying to talk about here
is, really, then, with
all of those struggles
and those trials
and those things
in the limitations
of AMP that we've all
talked about when we've
been standing up here,
is why are we pushing forward to
deliver AMP in the first place?
And one of those
things-- so I'll
talk a little bit about
why we're pushing forward
in this space to deliver
AMP to all of our customers.
This is, first and foremost,
a developer conference,
so I want to make sure that I
will leave Piotr AMP-le time
to be able to get
into the details.
And I did promise you guys I
was going to make some bad puns.
So I promise that'll be
the last one, though.
So first of all, in
the fall, Instapage
launched a state of
mobile conversion report.
A simple Google search,
and you'll be on it--
Instapage State of
Mobile Conversion.
You can dig into the
details and the sources
on some of this data.
We're just going to talk
about a couple of those things
right now.
We looked at 41 million
anonymous visitors
to 45,000 live landing
pages across every industry,
across every business
of every size.
And what we saw
is that about 52%
of all of the traffic to
all of our landing pages
was coming to and
from mobile pages.
Even more interestingly,
if you drill down on that,
and you take a look at, say,
everyone who had at least one
visit to a mobile page-- so
they're actually in production,
they're driving a lot
of traffic to those--
that number raises to about
60% of all traffic going
to mobile across our platform.
There's also this
really interesting fact
that 46% of all the
pages on our platform
are getting more than half
of their traffic to mobile.
So this isn't really
a big surprise,
I think, to anyone in this room
that mobile is a big thing,
and a lot of
traffic's going there.
But one of the things that
was really interesting to us
when we were doing
this dive into our data
is that more than
half of our business
is not in the United States.
And those conversion rates
particularly get interesting
when we look at a
couple of regions
such as Latin America and
some areas of Asia Pacific,
where we might expect,
ordinarily, a landing page
experience would be slowed down
by their bandwidth limitations,
or the pages themselves
would have some lower speed,
and those conversions
would be really low.
But we're seeing about 20%
conversion with a status quo
page option.
And I think we're all
here because we all
think that the status quo
page and load speed sucks.
So one of the things
that's really interesting,
telling a compelling
story for us,
is that highly relevant,
targeted landing pages
and quick experiences are
overcoming a lot of problems
with conversions.
And they still suck.
They're still really slow.
They still are not even the best
that they could possibly be.
And an increasingly
global customer base
that's increasingly
moving to mobile,
where we're in a space where
60% ad spend is going to mobile,
most of the world is consuming
all of their content in mobile,
and the advertising
and marketing space
is actually lagging behind
their ability to deliver really,
really tailored relevant
mobile experiences
in a way that can capitalize
on that opportunity.
Because speed really matters.
Every extra second
the page loads,
you're going to lose people.
It doesn't take that long before
people just check out mentally.
And once they're gone,
they're not coming back.
And there's a really
damn good chance
that even when they're
not coming back,
it's because they're going to a
competitor whose page did load
faster once it loads.
We have some unique
challenges in our areas,
because speed matters, but
speed matters to the advertiser
only insofar that it
facilitates conversion.
So stripping out all
of the elements that
allow them to
achieve conversions,
well, they're already
getting pretty good rates
at about the 20% range average.
Stripping out all those
converting elements
for the sake of speed
doesn't really help us out.
So we need to really
balance that benefit
of what we can do
with AMP and what
we can do to provide
high-converting pages.
There's also this
really unique area
in advertisers with volume,
velocity, and relevancy.
So it's not to say
that any other use
case doesn't have a lot of
volume and a lot of velocity.
But the thing that's unique
in the advertising space
is the uniqueness of that.
So it's not just enough
to have a lot of pages
in front of all of your ad
sets, all of your audiences.
You really need to specify, to
get really specific and narrow
into targeting audiences,
having unique messaging.
And it's the volume and
velocity of the uniqueness
of those page and
post-click experiences,
which is an extra
challenge to overcome,
and it creates a lot
of page production
and a lot of testing.
Analytics as well.
It's not just enough to say,
OK, here's how many people
who came to the page.
Here's how long they spent and
whether they converted or not.
These advertisers
and marketers really
need to know what element on
the page drove the conversion.
What part of my
messaging is resonating
with a specific audience,
and what parts are not
resonating with a
different audience,
and be able to make
those decisions.
So how do we overcome
that challenge?
As well as personalization
and optimization--
a lot of these things are
done through parameters,
or keeping that consistency
of messaging all the way
through the customer
journey is really
highly important to marketers.
That trust, all the way up
from the first click on Google
through the post-click
experience into the cart,
needs to be maintained
and relevant
and personalized
all the way through.
So these are some of
the things that we
have to really keep in mind.
But at the end of the day,
speed still really matters.
We dug in and looked
a little bit deeper.
If you start to take a look at
just some of the performance
on individual pages, a
really interesting thing
is no images on a page still has
a pretty good conversion rate,
but it's not the best that
you can actually achieve.
There's not that visually
engaging, relevant experience
when you move
through post-click.
You start to get into
one image, again, we're
topping out our
performance there,
we suspect, largely
due to page load speed.
Two to three images
still does really well.
But you start to get to
more than four images,
and the heavier the page
gets, the lower and lower
the conversion rate goes.
Well, marketers
need a lot of tools
to be able to tell their story.
They need a lot of different
forms of post-click pages,
post-click experiences.
And it's not really
good enough to say, hey,
you know that long-form page
that really sells the benefits
and tells someone why they
should spend a lot of money
with you and trust you?
You can't deliver that,
because you're not getting
maximum conversion rates.
But first and foremost,
at Instapage, we're &quot;and&quot;
people, not &quot;or&quot; people.
So we sat down and we
tried to figure out a way.
How can we give
people fast AMP pages
and highly specific
relevant content that
allows them to maximize
their conversions,
and take that from a 20%
rate with some of the numbers
we saw yesterday, maybe even
boosting that conversion
rate by an additional, say,
up to 30% with AMP speeds,
and give everyone the
best of both worlds?
So I'll be handing
it over shortly
to Piotr Dolistowski, who is our
Senior Director of Engineering
in Warsaw and our VP
of Instapage Poland,
to talk about how we're trying
to productize AMP at scale,
be able to deliver these robust
analytics with heatmaps, how
we're going to make forms,
something that actually helps
conversions.
50% of conversion
goals for our customers
are lead gen and
form submissions.
How can we maintain
that effectiveness?
How we allow people to make
an infinite array of designs
with an infinite
amount of stylings--
we have 15,000 potential
brand guidelines
to maintain and allow people
and package that all into AMP
and proper stylings--
and how we're
going to maintain A/B testing
and provide that functionality
for a platform.
So please allow me
to bring in Piotr
and give him a
really warm welcome.
[APPLAUSE]
PIOTR DOLISTOWSKI: Thanks.
OK.
Hi, guys.
So this is simply
a list of problems
we have with implementation.
So the main problem is caused
by our powerful builder,
which is very, very flexible.
And for example, one user
can have only three widgets
without any custom styling,
and another one can have,
for example, 100
widgets, and each of them
have custom stylings.
So because of that,
we can't predict
what will be exactly on HTML.
So we need to be prepared
for every possibility.
So the other problem is related
with our custom features.
Because, for example, analytics
and heatmaps, it's our own,
made by us features, so
there is a little problem
with implementing them into AMP.

So our analytics
tracks a lot of data,
but mostly it tracks
visitors and conversions.
And everything is
fine with these.
But we like
JavaScript, so we have
a lot of business logic
on the front-end site,
and we are using
cookies for detecting
that visitor is unique.
So on the left side,
you have a diagram
with our current approach.
On the right side is
a solution for AMP.
So we are starting with tracking
if a user already has a cookie.
And if not, we are
setting this cookie.
And then we use a tracking pixel
to send this data to MongoDB.

With AMP's situation,
it's very different
because we can't identify unique
visitors on the front-end.
So we have only a client ID.
It's the only cookie which
AMP allows for using,
and we need to move entire
business logic to the back-end.
And so we have this client
ID, so we can send this value
to back-end by using AMP
analytics component, which
generates AMP pixel.
And we are storing data
directly to MongoDB.
And why?
We decided to set
a unique key index
as AMP client ID in Mongo.
So when we are trying
to store the same data,
the same key again in Mongo.
So database returns
a duplicate pattern,
and we know that this record
already exists in the database.
And we can make
another action that
will be, for example,
a simple query
to the database with update--
this parameter to
visitors to true
or do nothing if we do not want
to track not unique visits.

Another system which we are
using is our own heatmaps.
Heatmaps allow for
tracking three events.
It's mouse movement,
clicks, and scroll depth.
And I will talk about
them separately,
because they have
different limitations.
We will start with
AMP scroll event.
And it's very easy
to do this in AMP,
because AMP analytics
has a trigger, which
can be used and
configured properly,
will be our best
solution for this.
So on the slide, you can see the
example, which is quite simple.

Another event is AMP tap event.
This already is a
little trouble for us,
because like you can
see it on the slide,
a user often clicks not
on the particle elements
but also on the space
outside the elements.
Also, users click on practical
words in the sentence not
an entire sentence itself.
So there is a problem
with this AMP tap event,
because it's tracking this
event for an entire element.
So for example, you can't track
the space outside elements,
because it's not our element.
For making-- this work
with these particle words,
for example.
We can see that most
clicks on the words
are conversions on Instapage.
So for knowing that, we
can separate these words
with some additional HTML text.
And then we don't have one
element for an entire sentence,
but a lot of different
elements, and we
can track them separately.

Mouse movement-- obviously,
we don't use mouse movement
on the mobile device, because
we don't have a mouse.
But I would like to only mention
about this because Google
is working on Accelerated
Pages, which are simply
AMP for desktop pages.
And this event would be very,
very, very useful for us.
So this is a little suggestion.

And material UI and
form validation--
we very like the
material UI from Google.
We are using this material UI
on entire dashboard and builder.
And what we like
with this solution
is the UX, especially
on the forms.
I don't know if you are
familiar with these behaviors,
but the arrow is not shown until
the input value is changed.
This is very important.
And right after
input is changed,
the arrow should be shown.
So these behaviors is mostly
produced by using JavaScript.
Of course, AMP doesn't
allow for using JavaScript,
but there is a very good
solution for this problem.
You need to use an input
change event in the form.
It's fired right after the
input value is changed.
You can also mix this
event with onAttribute
and execute an action, different
action for different elements,
right after this
input is changed.
So it's a very good solution
for having material UI
forms on our landing pages.

Like you know, AMP has
CSS size limitation,
which is 50 kilobytes.
And there shouldn't
be a problem with this
if you are using a correct
approach for CSS architecture.
But like I said before,
we can't predict
what will be included in the
final HTML of the landing page.
There could be, for
example, 100 elements,
and this will lead to trouble
for making this everything
on the CSS side.
So the best solution for us
is to use a generic approach
for CSS architecture.
It's mostly from Bootstrap.
We are probably familiar with
Bootstrap, another UI kit.
So you can have
different classes
for different tools of CSS.
For example, you can set a
button to be medium or large,
and then put another
class for making it,
for example, with primary
color or danger color.
And what is important--
you can mix those classes
into one selector.
And thanks to that,
your CSS won't
be exceeded, because you
have everything already
written for every possible
combination of elements.
But the situation is
a little different,
because we have one feature,
which is our inline style
editor, which allows for adding
custom styling for widgets.
And unfortunately, we
can't control that.
So the only solution is to make
some validation of CSS size
and inform users that
he exceeded the limit.

The last topic I
want to say today
is related with our A/B testing.
We have quite a custom
solution for these.
On this slide, you can see
that we have page variations.
Every page variation
has a full page,
but it can be fully different
from other variations.
So you can't use AMP experiment
for particular sections,
but we need to use it
for an entire full page
of the content.
So that's why it's
a little trouble.
We have also feature that
serves the same variation
for a user who's already
seen these variations.
So this is a very
simple algorithm
that you can see on this slide.
And the solution
for these is to use
AMP Experiment for full
page body of variation.
And we can have
different variations
on the same document.
It, of course, produces
very heavy HTML.
And complication is
also very difficult,
because we have this
inline CSS editor.
So we need to decide
what to sacrifice, mostly
because we can't have
both features working
on the same page.
OK, so I will give voice to
Oliver for a few other words,
and thank you.
Thank you very much.
[APPLAUSE]
OLIVER ARMSTRONG:
Thank you so much.
PIOTR DOLISTOWSKI: Absolutely.
OLIVER ARMSTRONG: Awesome.
Thank you, Piotr.
I think I really just wanted
to say a couple of words
before we went off.
The theme that I've
noticed, sitting
in the audience for a lot
of the other conversations,
is, oh, AMP has limitations.
AMP has limitations.
AMP has limitations.
Well, yes, those
limitations exist.
But one of the
reasons that we're
diving into the post-click
experience first with AMP
is because we really believe
in AMP as a technology,
and the AMP community is going
to overcome those limitations.
We're working really hard to
find some of those solutions,
and we're really excited to work
with Google and everyone else
in the community
to overcome those.
But in the time being, some of
the things that we've learned
is the balance
between overcoming
the technical
limitations but then
also managing the product
experience and the user
experience to guide people
around the limitations of AMP
to maintain and preserve that
user experience is really
a hand-in-hand process
between our product
teams, our engineering teams,
our design teams, to make sure
that we can bake
in the guardrails,
to have some kind
of a pleasant UI
or UX experience to be able
to show, hey, this is not
an AMP-validated page.
You need to make some changes.
Or, hey, don't allow
certain elements
that are non-compliant,
particularly
for us in a builder space.
It's working in tandem
to just really put
in the protections for our
users and our end customers
so that they don't have a bad
experience by doing something
that AMP can't support.
And we're really fully
confident that as time goes on,
we'll solve those problems
and the community will solve
those problems, and
we'll be able to deliver
a full-functioning, robust
post-click post-click that's
just every bit as powerful
as our current platform
as AMP evolves as a technology.
And with that, I think we
are done, and thank you
so much for listening to us.
[APPLAUSE]
[MUSIC PLAYING]
</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>