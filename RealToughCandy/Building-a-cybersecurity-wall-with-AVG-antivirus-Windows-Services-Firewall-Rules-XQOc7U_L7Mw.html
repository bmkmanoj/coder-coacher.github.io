<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building a cybersecurity wall with AVG anti-virus, Windows Services, &amp; Firewall Rules | Coder Coacher - Coaching Coders</title><meta content="Building a cybersecurity wall with AVG anti-virus, Windows Services, &amp; Firewall Rules - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/RealToughCandy/">RealToughCandy</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Building a cybersecurity wall with AVG anti-virus, Windows Services, &amp; Firewall Rules</b></h2><h5 class="post__date">2017-03-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XQOc7U_L7Mw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everybody real tough candy here
don't forget to check out my blog real
self candy com always something fun
going on over there today we are in the
cyber security realm and we're going to
be eliminating threats with a layered
security approach you know when I first
read that title I said bling blong this
sounds so dry what does that even mean
we're just like reading and then hitting
the X button hopefully we get to do some
hands-on stuff after all this is a lab
well we're in luck because today we're
going to be doing a few different
activities that ensure we have this this
layered approach to eliminating threats
in our security and our IT
infrastructure so what if I'd actually
mean well that means redundancy you know
in some cases redundancy is bad where as
you know in the data sea in data science
or databases you want information to be
redundant in some places otherwise you
are going to be screwed if that one copy
goes bye-bye same for securing your
network with redundancy you know using
just one tool to keep the bad guys out
you're going to you know keep 5 bad guys
out but consequently because you're not
focused on another area there's a
hundred who are going to intrude through
another means so we want to kind of
overlap our methods here so we're cut
we're touching all bases not just with
one pass but with multiple passes and
making sure we have our bases covered so
let's get to it let me tell you if
you're interested how we suggest after
this video going back to this
introduction hitting the pause button
you know maximizing your screen so you
can read this just give us a pretty good
backstory and you know more context
about defense in depth or did and the
main principle of this defense in depth
is to build layers of redundant and
complementary complementary security
tools policies controls and practices
around your organization's information
assets and assets the primary assumption
of did is that no one single tool or
practice will completely deter a result
at
curr true indeed so in this lab like I
said we're going to do a few different
things we're going to be running a virus
scanner which is avg in this case
antivirus scanning program ABG we're
going to identify some malware found on
this compromise a virtual system this
windows server 2012 were used in today's
and then we're going to be configuring a
windows firewall enabling some ICMP
traffic creating a new rule for
filezilla server app and we do anything
else yet we're going to be disabling an
unnecessary service on here too because
as we'll find out if something's not
being used you want to shut down that
port shut down that service so it's not
vulnerable to attack intrusion so let me
tell you what we're going to be using
today again this is a virtual server
we're using avg the antivirus scanner
and some windows services so let's get
started let's go on to our steps we're
going to go to part one using avg to
perform a virus scan I'm going to be
honest with you it wasn't until doing
these labs on this windows server that I
had encountered avg and still trying to
like it I have to say the interface is
not where I want it to be you know but
if it's the best thing out there I'm
going to use the best tools to do the
job regardless of you know what the home
page the landing page looks like so this
part in the subox explains malware and
what that is signs of malware let me
just read them off it's pretty good
information finds a malware include
degraded system performance unusual
services and network traffic altered or
removed system logs missing or inactive
antivirus and a number of application
anomalies trojans and viruses impact all
three tenets of information system
security which is if you're familiar
with this kind of thing CIA no not the
central intelligence agency but
confidentiality integrity and
availability again I'm not going to go
through all this but if you are in the
beginning stages whether beginning
beginner beginner intermediate beginner
or advanced I do recommend going over
this I always learn something I consider
myself an intermediate to advanced
beginner so
you know this is still helping me even
though I've read it it's multiple times
so moment we've all been waiting for
actually starting so we're going to go
ahead and double-click this PC because
we're going to we're going to go
investigate where this bomb piece of
nastiness is located so that's a
missense we have kind of the heads up
this is a pretty good leg up for this
lab you know in a lot of cases most
cases you're not going to know where
this you know ball of nastiness this
malicious code in a file exists you know
we have it doesn't there's not some big
red button saying warning warning if
it's on your machine you know again like
this explain up here some you know
system anomalies application anomalies
might pop up but it's not guaranteed so
in this sense we do have the advantage
of being beginners and having this lab
shola so we're going to go ahead and
navigate to the local disk here we're
going to go to ISS a tool and interior
this progress zip we have been informed
that this has been infected with no
malice we're the theoretical purpose I
say for theoretical purposes let's just
assume somebody called in with an
anonymous tip some perverted little
hacker maybe even a script kidding who
just had you his name out there and told
us this was here let's just push it so
with that scenario i mean there's
multiple scenarios we go that one so
you're going to minimize is that you see
that zip file it's not good if we're
gonna go ahead and minimize that we know
it's there you got the heads-up so we
got the heads-up so now we're going to
open up avg let's just say we're doing
our already with stand here and the
first thing we always want to do is hit
the upstate now now spoiler alert this
virtual server is not connected to the
internet so this is just theoretically
doing this to kind of get your fingers
and muscles in the habit of cooking
updates because this malware guys is
coming out on the our league okay not
the daily nothing weekly the hourly or
even sooner and you know oftentimes
these um business is not just a BG but
antivirus scanners you know they'll come
out ideally if they're reputable it'll
come out with updates a few times a week
or you know even sooner hopefully in the
case of a catastrophic virus or other
nastiness that has been released so
again theoretically ok it says update
fail but again just to get in the habit
we always want to hit update now so now
we're going to click the options button
which is pretty hidden the scan options
which is this hamburger ish menu and we
are going to scan the specific files or
folders ok and as you remember from the
very first steps can identify that ISS a
zip file which is in is si tu lo so
we're going to go ahead and navigate to
see click that down go to the plus sign
here and then actually no we're going to
click is 8i SS a tool pretty small
interface careful I have sausage fingers
so it's kind of a little difficult
sometimes to get the nuance click here
don't click the butter below but is a
ifs a fool and then we're going to
select all three those and subfolders
and like I said selected and now we are
going to start skin that was pretty
quick which is awesome and as it should
be well it's moving right along because
like I said we had we were able to
pinpoint the things you wanted to scan
based on an anonymous tip we got earlier
masum max mount disguised voice ok but
this is weird and now I'm freaking out
because specific files or folders scan
finished but I just got this call from
this anonymous person we found pretty
freaky deaky that there was a threat in
that file so this isn't good so what are
we going to do is we're gonna do we're
going to minimize this and I'll give you
this is the biggest
this is one of the biggest takeaways
that I've learned doing this lab I did
do this previously just like I did a
little more comfortable with it but the
reason it found no problems okay so
specific files or folders can finish no
it's scanned all of this the ISSA tools
and the subfolders here we're all scared
but nothing popped up so you know if
you're a basic beginner and you're just
following orders you're going by what
the machine said you like okay I'm going
to go this stuff is clean not true
because the scanner does not identify
anti XOX your Popish insider it cannot
open encrypted files for standing and
this is not only encrypted it's also zip
and this is one technique hackers use so
the anti-malware the scanner can not
sniff it out so we have to be able to
get to the contents out of here for the
scanner to pick up what's inside so
we're going to right-click and we're
going to extract all don't worry you're
not going to be infected with anything
it's just going to extract it they're
not opening anything we're just
unpacking it so extract it do not get
open open a new window don't don't don't
no no no no no extract all okay and we
want that to go there looks good we're
going to enter our password here
obviously we're should be different in
mind oh come on
okay oh and look at that the literally
the milliseconds and nearly
instantaneously this pops up as soon as
I entered my password and it detected
something in that unzipped folder
product review that PDF is not a product
review PDF someone has it out for me so
now we're going to follow the default
here we're going to use our brains I
mean you know analog going analog in
these cases is highly recommend don't
always rely on you know the
recommendations no matter where you are
in your journey in learning this stuff
you know use your head talk to your
supervisor there are a few things and
you're going through this lab earlier
where I'm like you know I really don't
know what to do I'm going to do the lab
but I complete it as steps are but if I
have a question I'm not going to just
cook something and hope for the best I'm
going to ask my supervisor because
that's what you get that's what you get
paid the six tickets for you can you can
take some of the responsibility if
something goes wrong because I pass it
through him before I chose to do
anything but this is our documentation
this is the best we have to work with so
we're going to get it protect me and now
avg is doing its thing and it silent
exploit and removed it so we're going to
show even if the show details you're
going to get a few more details on what
this thing is all about so it's that
product review and it was deleted and
moved to virus I think it says virus
vault they're still going to move these
across from what i can see you scroll
down this way so it's a file or
directory detected right on time so we
know this is mine that was just found
and so we're going to go ahead and close
that and it's a high alert so that tells
a severe risk is what I'm reading here
and that's not good so we're going to go
ahead and close that and then there's a
way to get in the virus vault so see if
you can find that virus fall and
basically it's a place in this antivirus
infosys we're mostly things alone okay
so this would go home and we go to
options we can
see it in the bowl I just set concept
this is cool so we're going to enter the
vault here and we see that product
review that PDF that nasty little thing
that was detected once we unpacked it
from its gift and encrypted state is
being quarantined cool so this is good
because its foreign teen it's not going
to do any harm to our computer and the
purpose of this is just to keep the
deleted file for a certain period of
time so you can make sure you don't need
the file anymore I don't find I don't
see a reason why I would need this file
so I'm just going to close it I didn't
get an instruction to empty the bowl so
I'm going to go ahead and close this I'm
going to wait for more guidance on that
for our do anything with it ok so it has
been successfully removed off awesome
awesome awesome oh here we go we've got
some guidance here ok we just got the
word and you just sent an email you're
tough candy get rid of that virus I
don't want to see it on this machine do
not let the hedgies see this we are
gonna empty this full and get that crap
out of this we definitely want to empty
that we don't need this product for you
know cool ok so now we're going to do we
are going to stand again to confirm the
threat has been removed because you know
again this is a layered approach and we
want redundancy and you know its hapless
once a minute fine an error let's just
make sure it passes less after the error
I don't think so doing ok it's been my
full C Drive which I failed to ok I
don't want to do that I want to go to I
want to scan now but it is give me we
need a minute to lose a minute it just
want to scan that Aaron we can do the
full scan some other time you know on
our lunch break or something or when
we're doing some other tasks so we're
going to go fear to the scan options and
we're just going to go through that
specific folder again which is on C
Drive it's on ISS 80 so just put that
and make sure the subfolders yep all
subfolders are selected start scan and a
hundred percent for
home not quite a hundred percent so
scanning some objects there and to the
father's Pacific file or folder to scan
finished no threat sounds perfect okay
so we're going to get out of there and
that I believe my friends is the end of
part one we have successfully use avg to
perform a virus scan and again this for
me was the biggest takeaway I had no
idea that Stanners virus scanners could
not pick up on these things unencrypted
zip file so you careful with that so
that is our first layer to protect us
from intrusion now / to this one's a fun
one I haven't done this before it's this
lab so this is going to be cool to do
again we're going to disable some fun
wanted services so the slow box like I
said you can read on your own time there
is some stuff I want to extract from
here is also in the next steps we're
going to document and disable an
unwanted service running on the
workstation on this virtual machine here
and managing these services and stays
important in your security program what
aisle care who you work for big
organization small one federal
government school whatever and other
elements you know are standardized
configurations and settings face on your
guys's security policies layered
security strategy so on and so forth
again highly recommend reading these
boxes lots of protein it's no filler
let's go ahead then we're going to get
started this to save all of the services
we don't use we're going to right-click
and we're going to get managed and this
is going to open the server manager
again probably obvious to most of you
but this is a virtual server so some of
these a lot of these features if you're
using a plain old pc or what have you
not going to show up so this is server
focus so we're going to go over to the
server manager tool bar right over here
we're going to select tools now we're
gonna services oh my computer it's
really heating up we're about to get out
near people boy this oops okay
so now these are all the services
running on this virtual machine and the
startup startup type column indicates
whether these services start
automatically manually or have been
disabled and so I'm doing like a
preliminary check here just a glance and
you know none of these are looking
disabled which you know it all depends
on your organization but I have a
sneaking suspicion that the server and
my organization is not using all of
these so I'm going to consult my
documentation here I'm going to follow
it words the word i'm not going to mess
with anything to stick to the script
again this startup type shows you this
automatic manual or disabled now we're
going to click to standards these are
standard services again a lot of them
and they are also i could see one that
was disabled which is computer browser
what is often fear your browser do to
secure enough you can just drag the
subscription over to see so the computer
browser is one of the few that's
disabled on standard services and it may
change an updated list of computers on
the network cetera et cetera okay fine
fine we're going to go back to the
extended tab you know what Mike off
point you don't need adobe acrobat
update service open so this is also
static all this or just going to click
it up a little bit more here and I want
to make sure there's a few things that
start with a and so I've had a long day
it's been four at the end of the day I
want to make sure I'm reading it
correctly adobe acrobat of state service
so the status is running startup type is
automatic and it what is this log on as
local system so we want to disable this
her our boss so we're going to go ahead
and double-click adobe acrobat and again
it's berries on your organization maybe
you don't need the dhcp client or com+
event system or citric in search service
here should be the same process double
click and now you're going to go startup
type
automatic so we want to disable that
well then click disable now you're
simply going huh so you don't need and
now as you see it's going to press that
to start up with the symbols that's was
pretty straight forward again a very
important component in layering your OS
a tough ography you know in layering
your policies to prevent intrusion and
getting the bad guys out of your system
so we're going to go ahead and we're
going to close on as well and it goes
out and now we're going to do the third
part of our layer which is configuring
the windows firewall so this is a
personal firewall that filters in coming
up when traffic by blocking unauthorized
traffic to the local computer they can
be considered to support separate
profiles based on whether the computer
is connected to a network at the office
and X is at a home public location like
a coffee shop so all this advanced
security I'm using the advanced security
profiles rather network traffic can be
filtered based on Active Directory users
and groups both source and destination
IP addresses port number specific
programs and services so we're going to
be you know I'm going to read the rest
of this this is awesome stuff and great
to know enabled on the network and
properly properly configured a firewall
can block outside sources from being
able to insert malware and viruses such
a sound successes by default the fire
the Windows Firewall disables several
important services like STP and ICMP
which includes the ping command in the
next step we're going to manually
configure the windows internal firewall
to enable icmc service on the be
workstation mission ok so we are
configuring this we're not disabling
we're actually enabling ICMP so we can
engage in the paint man very helpful so
we're going to go right click the x
formula right click on the windows start
button and we're going to go to control
panel wait a minute here it is control
panel and now we're going to have a
into the Windows Firewall icon go ahead
and put that one and as you see this
thing is a big red and white X our
firewall is off right now and it's
blocking all connections to apps that
are not on the list of Allah DAP okay
but it's off so this is a big red flag
it's also a big red eggs the first thing
we're going to do is we're going to fix
this strips we're going to stick to our
documentation we have and we're also
going to use the recommended setting is
here we're going to match it from what
we read here it says user commended
setting we're going to use recommended
settings boom okay and now we are
enabled so now we're going to go to the
navigation pane on the left here where
to click Advanced Settings little slow
wait for it and then we are going to go
ahead and shoot in inbound rules for lo
farò I don't know if you can see it let
me zoom in there but these two things
are a little brick wall so you know if
your news is this just try and navigate
try and visualize not visualize but keep
your paper is open for this wall and
we'll have to do with the windows
firewall so we're go up here to inbound
rules from this navigation pane right
here you're going to click that and now
we are going to navigate over fear these
are all our inbound rules some of them
are disabled I think there's a key on
the bottom here to go all the way down
nope there's not here they see that key
before and other labs on top but this is
what we're going to do so these are
inbound rules and we're going to go
ahead and navigate to file and printer
sharing and since it's alphabetical
should be pretty easy to find however
there are a metric crap ton of file and
printer sharing services here with rule
so I'm just going to stretch the name
column over or that a row I'm going to
stretch this over here so I can see this
and we're looking for the actual request
so not me the equity press requests and
there's a v4 and v6 you want icmc for
and that's disabled so we actually want
to enable it so we're going to go over
here to this menu here and we're going
to click enable rule because we want be
able to use kings echo request and just
like that checkout screen and we have
that enabled again just like and the
last thing we're doing in this on part 2
disabling unwanted services you know we
disabled adobe was it the adobe
something reader we disabled just like
in this circumstance you know it's going
to differ you're probably not going to
have to specifically disable resulting
from or circumstance and just like in
this part you're probably not going to
have to enable specifically and
exclusively file and printer sharing
echoic West ICM TV for probably mostly
going to be a combination of things or a
different thing but either way the
process of doing it is pretty much
convinced call you simply click it click
it once and then hit an able or if it's
enabled you would go over here and click
disable but since our documentation is
telling us we only need to enable file
and printer sharing on the ICM TV for or
echo request we are good to go so that's
okay so now we're going to create a new
rule so all these rules are great but
we're going to click a new in balance
rule why not and we're going to stick to
the program radio button which is a rule
that controls connections for programs
makes sense right program go ahead and
click Next let me just show these other
options your other options for will see
a port which would connect sweetie piece
here you do support predefined which is
a rule that controls connections for
windows experience or a customer I'm
serious okay yeah way out of way out of
my league so we're going to stick the
program rule again which is the rule
that controls connections for programs
go ahead and click next and then we are
going to grouse to filezilla because
that's what we want to create a rule for
so I believe is it on the desktop
pussies it's going to be C Drive okay
this might be a fan of myself to need it
just like any way to do is make peace oh
yes so that's not actually where the
heck am i okay let's just start to some
scratch we're going to go this species
this windows Sandman Sonia it kind of
stinks let me just go quickly to the
five like 15 seconds but you know being
an on Windows user I love not using
Windows but I also see those dire
importance of knowing you know the
windows machine operating system and all
of the windows flavors if you will it
just says you know it's tough for me
learning and getting somewhat fluent in
windows okay so we're going to click on
this okay this is looking a little more
familiar and then program files xyx th
time 16 I know which one I don't know
how to pronounce it filezilla server and
then we're going to go file xilin
server.exe we're going to go ahead and
click open and that's the program tap
because we want to create a rule for
filezilla we're going to go ahead and
click next and then we're going to go
ahead and click a lot of these next week
and then finally we're going to check
all the checkboxes and a fourth not
unfortunately but it's truly fortunately
I don't know depends on your perspective
these have already been selected for us
so we're going to do the rules it
supplies in the domain supplies in the
private applies in the public corporate
domain private networks public network
okay that looks good you may click the
next we're going to name it when I can
get too crazy with a swinging the files
on the server we don't need a
description because the name is
sufficient go ahead and click finish
and now you're like well where the heck
is my new inbound rule I did all that
work where is it well theoretically
should be if miles are you sexy oh no no
I want to see that we oh come on what oh
my gosh it's jeremy i'm getting
following jam yes so how can you find
the filezilla server rule shouldn't it
be here let's go back here and click
inbound identity hit refresh okay i need
a supervisor because I before we just
created that wolf is there a way to
search the rules perhaps filter by state
so through my google filter by filezilla
upper abs okay you know what I'm going
to do I'm going to X out it up I'm going
to go back in and at this point guys you
get the gist of it I'm not gonna waste
your time by proving to you that it's
there if it's indeed not there I'm going
to theoretically I'd go to a supervisor
and ask him why this isn't showing us
through this firewall or rather in the
Windows Firewall application or program
but I want to go back to it i'm just
like losing my mind because now i'm
totally jammed but let me see what's
there and if it's not we'll just we'll
shut down the shutdown the video okay i
remember how to go in there so it's
right click on this windows control
panel windows firewall event settings
and then in bond rooms on with this name
something oh hey guys sure it is it's
not alphabetical why the heck is to
sleep here mean o goddess okay here's
what happened so it created the rule it
was just not alphabetical it came after
a so then i hit the name
and then it went off the beneful so it
is there there's our rule we just
created for the filezilla profile all
enable the action allow and then all of
our rules oh that's the one because it
shows is this where we damaged eat it
too yep that's our paths that we input
and that filezilla server is good to go
for an inbound rules on our windows
firewall and we're done guys those are
the three things those are three one of
three of a star in your infinite amount
of options for layering your system is
it's more secure I really hope this lab
was helpful thanks for tuning in if you
have any suggestions for making these
labs more enjoyable or you know better
you want to see certain things or things
I could do better please let me know and
I do appreciate you watching and I'll
see you in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>