<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Using Windows Server 2012 to backup the Common NFS Share (Powershell) American English narration | Coder Coacher - Coaching Coders</title><meta content="Using Windows Server 2012 to backup the Common NFS Share (Powershell) American English narration - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/RealToughCandy/">RealToughCandy</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Using Windows Server 2012 to backup the Common NFS Share (Powershell) American English narration</b></h2><h5 class="post__date">2017-04-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zyNcT5IUT7E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everybody real tough candy from real
tough candy calm back in this saddle
with you today how's it going thanks for
stopping by today is part three of my
little video series if I could talk
today my little video series on
implementing a business continuity plan
now this is in the event that your
business gets plowed over by an
earthquake good god it happens awful I
know so for the unexpected events in
life you always want to have a backup
you always want to have a plan B in the
enterprise environment so let's just
recap what we did in the first video we
installed a Windows Server backup and
then we went on we pressed forward to
use that backup to make a daily backup
of Active Directory that was pretty cool
and then in the second video I did the
very last video I did prior to this one
we configured two websites to use a
common NFS share we configured we didn't
web redundant web servers to use an NFS
on a third storage server for web
content and now today finally to wrap up
the sweet action we're gonna be using
Windows to back up the common NFS share
so if you're following along at home or
at least doing some sort of similar
activity here just know that we are
kicking off not from scratch but rather
under the assumption that Active
Directory active directory has been set
up for backup
Windows Server has been set up for
backup and then also that these websites
have been configured to use a common NFS
share so all these components are in
place as we start today this is not from
scratch unfortunately so I'm on a
Windows Server 2012 virtual machine
right now and just for kicks and giggles
I'm going to go over to my remote
desktop connection here because that's
what my documentation is having me do
hey I don't get paid enough to ask too
many questions about how the boss wants
things done I do complain about them
offline and sometimes online but not to
his face so let's go ahead and maximize
that target Windows you know we're on a
remote connection here because we can
see that IP address and we're gonna go
ahead
and get in to powershell now the
powershell icon is this little like blue
box with an arrow on it reminds me of
like the USPS I don't know why we
deliver for you all that good stuff so
we're in PowerShell right now and now
we're simply going to type CMD for
command and we're gonna open up the
command shell prompt so this
documentation is noting that we're using
PowerShell which will become a command
prompt because while PowerShell is the
new Microsoft paradigm fancy words the
NFS mount in the next step is only
supported by a traditional command
prompt to the CMD that you guys are used
to seeing in documentation that capital
C capital m capital D so the powershell
PS drive commands do not support all the
same switches at the command mount
command supports so that is why we're
reverting to the command prompt so now
we're gonna mount whoo so dirty
we're gonna go mount - oh and it's gonna
be M type be hard 170 2.30 dot 0 dot 200
a little slow here cuz I'm a little
lagging cuz I'm on a virtual machine
we're gonna do /var for it / w-w-w and
then we're gonna press the asterisk and
then we're gonna go ahead and press
Enter what alright guys if you get an
error up here the reason I got an error
is because I had to restart my server
before I just started doing this video
and I forgot that it restarted
everything so I had to go back to part
one and install my Windows Server backup
as well as configure the active
directory backup so I did that and then
this was already done prior to me
starting the recording session of this
video to configure the website so we
should be good to go with this now i
retype the command
mount - om type r17 2 dot dot ver VAR /w
all that good stuff
so let's go and try hit enter again and
should have some action uh-oh okay so
what is this this is a little bit
different than what I had the first time
I think we are getting somewhere
actually we're not getting somewhere
because you know what I have to do is go
to see MD that's right go to command
okay and we're gonna type that one more
time I'm actually I'm not gonna edit
these errors out just because you might
have the same issue so we're gonna go
ahead and mount this once again inside
the command interface here go ahead and
do that alright guys we successfully
completed that and Z is now successfully
connected to 1/7 2.30 does 0.2 hundred
colon forward slash var forward slash
www now this documentation also notes
that I could verify that I completed all
the previous steps in the first three
parts of this which was my actual
problem and then it continued to say if
you were still having problems check the
spacing and replace the spaces when you
see the underscore here so just an
alternative way of checking your work
because again in the command line
there's a lot of stuff that can go wrong
so we're gonna go ahead and change the
directory to a web server we're gonna go
in hand
oops get back in this here we're gonna
go dir Z so these are the contents of
our web server here we have two files of
the index and web 3 jpg and we have a
lot of bytes free and again we have two
files here in this web server so now
what we're going to do is we're going to
create something called m.k link we're
gonna go forward slash D and then C
Drive wwwz
now when I hit enter this MK link
command is gonna create a symbolic link
so that my remote to drive up here this
C Drive can be accessed as a local
folder called WW on the c drive this is
pretty cool so this type of link is
enabling tools like X copied to work on
remote drives by making them appear
local to the OS and if we go up here way
back here where is it talking about NFS
so NFS again originally used in the UNIX
operating system it's used to make
remote folders appear as part of the
local filesystem on Linux and windows
systems so let's go ahead and see if
this actually works so now we're gonna
go ahead and press enter on that and we
created that symbolic link that is
confirmed and now let's see where we are
here okay I forget we can't do certain
commands in PowerShell so we're gonna go
ahead and change directory we're gonna
go back to our root directory here this
change directory CD and then backslash
so now we're gonna change directory
we're gonna go see www go ahead and
change directories to the new linked
directory boom so we're gonna go ahead
and press dir type that rather and as
you can see the contents of the C Drive
www are right here that is pretty
freakin cool now we have one more step
to go before this part three is complete
we're gonna go ahead and oops what on
earth is going on
whoa baby come back so we're gonna go
ahead and type no tubes lowercase no pad
we're gonna create a batch file and a
batch file is a text file that contains
a series of commands that the computer
needs to execute so we're go ahead and
do that and the first thing we're to do
is create the text file to use X copy to
create a backup copy of our new www
folder and then we're gonna schedule
that backup command to happen every day
so we're gonna go ahead and type change
directory /i and then /y
let's see if that computes with my
documentation it does it does indeed
we're gonna go ahead and file save as
we're gonna go to the target windows o1
desktop
so now we're back in PowerShell and what
we're gonna do is type s CH tasks a
forward slash run /t in and then we're
gonna put Webb back up in quotes and
we're gonna press ENTER now this command
is gonna run the scheduled tasks named
Webb back up immediately and that is
what we saved as you can see oops
alright guys I messed up I put a
backslash there and said before word
slash we're just gonna do this one more
time SCH tasks ford slash 1/10 web
backup now this command is gonna run the
scheduled tasks a name web backup
immediately
go ahead and hit enter all right guys I
sort of ran into a little snafu I wasn't
actually following my documentation
word-for-word so what we want to do now
is create a command that creates a new
task named web backup and schedules that
tasks to run the batch file we just
created wants to run that on a daily
basis so we have to we have to follow
this very specifically and as you can
see ahead a real staff through there so
we're gonna go in ahead and type in SCH
tasks forward slash create forward slash
ten we're gonna call this web backup /tr
we're gonna put that on the c drive
backward slash users oops
and again the capitalization is
important so now we're dealing with back
slashes ad minister eight or backward
slash desktop man there's a lot of stuff
to goof up here
ww backup dot bats for a batch file
which we just created do /sc and that's
gonna be daily go ahead and press enter
and that's can create our command and
that has been confirmed the web backup
has successfully been created so now we
are gonna run that let's just see if
that were
so that would be really awesome SCH
tasks forward slash run /tn we're gonna
call that web backup because that's what
we named it and now enter so we're gonna
this enter once we hit enter it's gonna
run the scheduled task named web backup
immediately
ooh you see that I saw it and then it
disappeared so now we are going to
verify that the web backup task copied
the files from the www directory I did
see a brief flash in the pan there but
let's confirm with PowerShell
that indeed it was backed up so we're
gonna go see back slash backup look at
that
boom verified so web backup that task
copied the files from the www directory
sweet alright guys so that is what you
do again I kept my mistakes in here just
in case you've run into them let's go
over what we did holy buckets we used
windows to back up the comment and if s
share using PowerShell and I remember
PowerShell becomes a little bit tricky
because you have to use the CMD PS Drive
commands do not support the same
switches that the command mount command
supports for this so I hope this video
was helpful maybe a little confusing for
you but once you have your documentation
it's going to make a little more sense
and you know get into PowerShell and
doing all that stuff when you have your
supervisor and your documentation next
to you you're pretty much golden alright
guys I hope this video was helpful we
see in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>