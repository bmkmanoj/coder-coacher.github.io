<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>BeEF Browser Exploitation - Client Side Attacks With Kali Linux | Coder Coacher - Coaching Coders</title><meta content="BeEF Browser Exploitation - Client Side Attacks With Kali Linux - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/HackerSploit/">HackerSploit</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>BeEF Browser Exploitation - Client Side Attacks With Kali Linux</b></h2><h5 class="post__date">2018-03-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BzepbzdIoGc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello Evan and welcome to this video in
this video we're going to be looking at
client-side Exploitation more
specifically we're gonna be looking at
client-side exploitation with the beef
framework or the Beth framework
depending on how you want to pronounce
it all right so you might be asking
yourself well what exactly is
client-side exploitation well
simply put client-side exploitation is
the process of attacking a client
more specifically attacking the
operating system and the programs that I
installed on the clients computer
alright you're doing what the main
objective is is to find the exploits
that run on the clients operating system
and more specifically on the programs
installed on that operating system and
to exploit them alright so now you might
be asking well what exactly are we
looking at in this video when in this
video we're gonna be looking at how to
use Biff to essentially exploit the
browser vulnerabilities alright so you
might be asking yourself now again what
is beef or beef essentially allows you
to find and exploit vulnerabilities in
browsers right so it is a fantastic
exploitation tool that allows you to
hook browsers and then to exploit those
browsers on the client operating systems
and computers okay so it is a fantastic
fishing tool it is a fantastic tool that
allows you to perform phishing attacks
and the fantastic thing is that it runs
on a web interface all right so now we
have to look at some very important
terminology and some prerequisites for
the video okay so by default we're going
to be running this now on a client all
right so what do I mean by this we are
not going to be running this on a server
so no Metasploit able to this time we're
gonna be instead using the window we're
gonna be using a Windows operating
system more specifically we're going to
be using Windows 7 and we're gonna be
exploiting or hooking the browser which
is in this case Mozilla Firefox and
we're then going to be finding exploits
that we can run on the browser
alright so Biff is a fantastic
penetration testing framework that
allows you to test for vulnerabilities
and exploits on browsers so let's get
started now by default as I said we
could
using Windows you can use any operating
system any windows operating system or
computer that is running on your network
okay so this this is going to be
performed on our local area network so
if you want to use a beef on your own
computers or clients that outside your
network or in simply put terms computers
that are you know across the world via
the Internet
you then need to set up port forwarding
but that is an advanced topic that will
hopefully probably discuss in another
course but for now we're going to focus
on performing this on our local air
network in a in our virtual lab okay
so by default the beef framework is a
pre installer and Cal index which is
fantastic all you need to do is just
update your repositories and update your
packages and have it installed to the
latest framework so it is usually found
on the dock here so on your left if you
just go to this cow image here by
default you have the beef cross-site
scripting framework so that is what X as
s denotes alright so it can also be
found in the applications menu if you go
to the applications and you go to
exploitation tools you will find it
under the Armitage you'll find it there
beef XSS framework so you can start it
directly from me and it's gonna start
the beef services it's gonna start the
beef service for you or instead you can
go to the the user directory and the
actual beef directory and stop the
service from there so I'm gonna be
showing you two of those two of those
ways of starting it so if we start it
from here if I just click on this or you
start it from the dock it's essentially
going to start the beef services and
it's gonna give you information about
its we're just gonna display some
information here that is very very
critical so I want you to leave this
terminal open and once it's done it's
gonna open up beef in your browser so
give it a few seconds there we are and
welcome to beef so now it's gonna
display to you this authentication
screen don't worry about the username
and password combination we'll get to
that in a second so that is the first
way of launching beef the second way is
going to the 2d directory which can be
found at CD user share and the beef
cross-site scripting folder so if I
click on that and I just list the files
in here you can see we have the beef
executable so if we just launch it by
using the the shell execution here so we
just type in brief and just it and then
is gonna start up be from there all
right so we have already started it so
we do not have to do it that way
now it's gonna display some information
here that is very very important and we
need to look at some of the terminology
before we get started so you might have
heard of me saying things like hook
alright so the most important thing with
beef is hooking alright so you might be
asking so what what exactly is hooking
what is the hooking process
alright so the hooking process is
essentially getting the client to click
on a link that contains the JavaScript
file the hook javascript file and then
that javascript file will be processed
by the clients web browser and then it
will die their browser back to the beef
server
alright so simply put essentially what
the process of hooking is is getting
your client or your target to click on a
link that contains the JavaScript
profile that JavaScript profile will
then be processed and then that browser
will be will be hooked or tied back to
the beef server alright so that is the
hooking process so you might be asking
how do we go about doing this well as
you can see the information provided to
you firstly is the beef server URL or
the interface URL as you can see it can
be found by going to HTTP 127 point 0.01
a deport is 3000 and UI panel so if we
go back to the browser you can see that
indeed it is running on that so that is
just the beef framework looking at the
hook the JavaScript file you can see it
right here right so it's gonna give you
a hook right here so the hook this is
very very important it is essentially a
JavaScript file that you would include
in a web page all right so now you might
be asking well how are we going to
actually emulate this on our virtual
environment well what we're gonna do is
we're gonna start a local web server
here on our Kali Linux machine and then
we are going to incorporate this the
JavaScript this script right here into
the header section of the web page and
then we will then send the IP address to
the browser that we want to we want to
hook and it's going to open the web page
and furthermore the browser will then be
hooked okay so the
first thing we need to do is we're going
to be using the Apache web server on
Kali Linux alright so that is very
important the second thing we need as
you can see if you look at this script
right here it's going to give you an
option to enter your IP address now the
IP address that it's asking for is the
IP address in which the beef framework
our server is running on in this case
it's running on the Kali Linux or
virtual machine so we need to get the
Kali Linux IP address in this case the
local IP address so we're gonna click on
a terminal and we're just going to hit
ifconfig alright and once we get the
local IP address right here which is 192
point one sixty eight point one point
106 that is what we needed all right
fantastic so we just need to keep that
in mind and now we as I said we need to
start the the local webserver which in
this case is Apache how do we start that
service we go to service Apache 2 and
start right so very simple to how we
started our network services so I'm just
gonna enter fantastic so now the web
service started now we need to actually
edit the web page file that is hosted on
our web server so that can be found by
going into your file explorer and going
into other locations go into your
computer going to your VAR folder into
your WWWF ultra that is where your web
server files are going to be stored your
local web server files just click on
that and then you'll find an HTML folder
click on that and then you'll find an
index dot HTML file in here if yours is
empty just create an index or HTML file
and we'll we'll add some code into it to
just make it a simple web page okay so
if you do not have any files just create
one if you have any files just get rid
of them and create a new one
alright so I've already created one so
what I'm gonna do is we're gonna edit it
with our text editor so I'm just gonna
open up I'm just gonna open it up with
leafpad alright fantastic so once I've
opened it up with leaf but you can see
that I've just created a simple HTML
template here if you're familiar with
web development you know this is a very
very simple website essentially what's
happening here is it's going to
essentially display welcome to the site
and it's gonna say this is a hope server
so we know that this webpage has been
opened successfully alright so as I said
by default in HTML any JavaScript code
is supposed to be included in the head
section
of the webpage you write so it's
supposed to be included within the
opening and closing tag the opening and
closing head tag alright so what we're
gonna do is we're just gonna go to the
information that I was provided to us
here and we're gonna copy this script
file alright so it is gonna copy like so
and we're gonna paste it in the head
section here now we need to change the
IP address to the IP address or in which
the beef framework server is being
hosted which in this case we saw as the
Kali Linux IP address here so there we
are one eighty two point one sixty eight
point one point 106 that is the eye net
address there so we're just going to
change it to that so 192 point one sixty
eight point one point 106 and you want
to make sure that the port is three
thousand and it is using the hook know
JavaScript file fantastic so let's save
this and now essentially what happens is
when anyone will access this IP address
here in which we have hosted the local
in which we have the local host or the
local webserver it is going to execute
the hook code or javascript file and
that will tie the browser to the or will
essentially hook the browser and we'll
be able to access and exploit it from
the beef framework web interface all
right that they already have open okay
that was a mouthful now let's get to
actually executing this or no knob or
for browsers so once you've hit it's
safe so you can just save it and I've
saved it so we don't need to worry about
that about that now
pardon me so now what we need to do is
we just we can close that and we can
leave this open now we have started the
Apache to service now we need to log
into the beef framework use the
interface so the default username is
beef alright and the default password is
beef fantastic that's quite simple isn't
it so it is going to login and welcome
to beef now by default the interface
here that you will get if this is your
first time running it will be pretty
much the same apart from having
information here so for example I
already have been performing penetration
tests with beef before so I already have
an IP address or a browser hooked here
so don't worry about that essentially
what if you look at the basic interface
here it's really really simple
on your left tab you have your hooked
browsers and the assorted in terms of
online
and offline in this case I have an
offline hooked browser here and I have
no online process but we'll be getting
to that in a second you have your
getting started guide here and you have
your logs here we'll be looking at that
in a second fantastic so we've started
the beef framework now we need to
actually run the HTML file on our
browser in this case we're going to be
running this on our Windows 7 operating
system here so this is a fantastic you
know a fantastic opportunity for me to
actually demonstrate what a client would
do so for example now if I just opened
up my browser alright and I sent I sent
I sent my client or I target that I want
to attack I sent them a link that
contains the JavaScript file so in this
case the link is hosted on our local
servers which is in this case one ninety
two point one sixty eight point one
point 106 so once a if once I hit enter
it's going to load up the local stuff
when it's going to display the HTML file
that we created and the file that
contains the hooked or JavaScript file
so on site enter as you can see it's
gonna display the information that we
added to the web file which is welcome
to the site this is a hook to self file
now you might be asking well what is
that exactly has happened has this
browser been hooked the answer is yes it
has been hooked if we go back to Kali
Linux and we open up our Biff web
interface you can see if we go to online
browsers it has been hooked and the IP
address is 192 point one sixty eight
point one point one one zero so you
might be a still skeptical and you might
be asking well how do I know that's the
well that's the correct browser that has
been hoped so let me just go back and
I'm just gonna run an IP config command
here to just show you that that is the
correct IP address oops for some reason
I just launched it from there so let me
just open a command prompt IP config and
as you can see the IP address is 192
point one sixty eight point one point
one one zero fantastic so we have hooked
a browser now you might be asking well
what we do now we'll fantastic we've
actually hooked a browser how did we get
to exploit it well the first thing we
need to look at is we click on the the
hooked browser here it's gonna display
some information here which is very very
important it's going to display
information about the browser so by
default is going to
display information about the browser so
you have your browser version the
browser string which in this case was
information about the browser in this
case it is running Mozilla we have the
browser language the browser platform
which in the case is windows 32-bit
excellent you don't have the window size
in terms of what is the resolution of
the window of the browser we then have
the browser components so is it running
Adobe Flash so that means we won't be
able to exploit any adobe flash
vulnerabilities so again
information-gathering is also a part
here ok so we then have information like
session cookies interesting so that
means we can actually get some session
cookies very very important thing to
keep in mind you then have information
about the hooked web page which is the
web page we created you then have
information about the host which is the
operating system and the hardware which
in this case we have not been able to
get it'll also displaying a useful
information like whether or not the
device is a touchscreen in this case
it's not so now it's time to look at
some basic exploitation now we have
looked at already how to hook the
browser let's look at a very very simple
exploit process not by by default I just
want to say something not every browser
is going to be a fully vulnerable
browser in the sense that all the major
browsers that you find out there for
example Mozilla Firefox Google Chrome
will have export exploits patched or
fixed so it's going to be very very
difficult or very tricky to find
exploits that are not already patched
alright so you can only get a certain
amount of information if you're lucky
and a browser has not patched a certain
vulnerability you can you can
essentially get information from there
right but by default beef can be very
very powerful if you actually find a
vulnerability that works all right so
we're gonna go into commands all the
modules can be found in commands alright
the rest of these sections are more of
an advanced feature that we'll probably
look at in edit for advanced course but
for now let's look at some basic
exploitation all right so what we can do
is if we look at the modules here
they're sorted in terms of browser
Chrome extensions that is if you're
running a chrome if you're hooked a
Chrome browser even have your debug your
exploits Metasploit you can run
Metasploit exploits on it you can
perform social engineering etc etc
alright so now looking at information
that we can use here we already knew
that we do not have Adobe Flash running
so it would be pointless trying to to
actually run any Adobe Flash exploits
okay so looking at some of the modules
we can actually run we can play a sound
we can remove the hook element we can
unhook the browser we can you can take
pictures using the webcam now by default
as I said this might not work depending
on the browser that you're using most of
if the if your client is running an
outdated browser then it might work but
by default it will not work all right
you can look at the visited URL so if
you check for a URL here so let's see if
I tested something like let's say we
wanted to know if our target has visited
a website like W dot DBC dot-com we
would enter that in here and we would it
execute all right and also it executes
what would happen is a command would be
stored in the module results history
section here that will lock the commands
that you've entered and as you can see
it's gonna give you the command results
so in this case it's going to tell us
that did the client browser did it
access bbc.com
it's going to return it as false which
means that no it did not access that
that URL so that is an exploit that
works and you can test it out for
yourself looking at things like the
webcam this uses Adobe Flash so you know
essentially you can use your social
engineering text here if it had Adobe
Flash installed what you need to do is
actually allow them the webcam module to
be installed here so what we can do is
we can just change the text here so
let's change the text to something
interesting we can say hello you have
been hacked all right something really
really simple like that and let's see
whether it is actually able to exploit
or and run this social engineering text
by default it is not going to be able to
take any pictures with the webcam
because as I said the browser is not
running a Adobe Flash alright so we'll
change the title to say you have been
been hacked
alright and if we hit execute
we can go to the Windows 7 operating
system and we open up our browser and as
you can see you have been hacked and for
some reason I misspelled have there let
me just change that and make sure that
that is correctly spelled and we can
execute that again so you have been act
let me execute that again
and voila as you can see it displayed a
message now by default it's supposed to
ask you to install or to enable web the
webcam to take pictures and by default a
user will be smart enough to understand
that that is something very very
dangerous to do so it's really about
social engineering and getting the
client or all the user or your target to
click on things that will eventually
exploit or get to their browsers exploit
it so that was exploitation with the BEA
framework more specifically client-side
exploitation and it's really really
interesting to see how you know these
exploits can be readily done and be and
performed even on a small scale on your
local area network all right so that's
going to be it for this video in the
next video we'll be looking at
client-side attacks this time using the
social engineering toolkit so I'll be
seeing you in the next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>