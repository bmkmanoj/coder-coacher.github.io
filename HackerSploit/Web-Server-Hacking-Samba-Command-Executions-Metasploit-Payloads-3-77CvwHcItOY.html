<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Web Server Hacking - Samba Command Executions - Metasploit Payloads - #3 | Coder Coacher - Coaching Coders</title><meta content="Web Server Hacking - Samba Command Executions - Metasploit Payloads - #3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/HackerSploit/">HackerSploit</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Web Server Hacking - Samba Command Executions - Metasploit Payloads - #3</b></h2><h5 class="post__date">2017-11-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/77CvwHcItOY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">Yuni hey guys hackers Floyd here back
again with another video and in this
video we're going to be looking at a web
server hacking so we're going to be
continuing where we left off and this
time we're going to be trying to exploit
the port 129 which is the Sun by turning
December server right here so again
we're going to be scanning our
Metasploit abel machine so go ahead and
do that if you have not already and once
the scan is complete we have some open
ports now of course in the previous
videos I've made many of you have said
that this is you know that this is basic
stuff well the reason I'm using this I'm
showing you the different ways of using
Metasploit in different ways whenever
you have for example a very unique
exploit that you want to use and one of
the most unique ones is the Samba server
all right now rapid7 so it has this
vulnerability with the Samba it allows a
command execution without authentication
which is awesome so what I'm going to do
is I'm just gonna be using Metasploit
and I'm gonna show you something really
unique about this now this exploit or
this server the Samba server does not
run it does not have a backdoor
installed already that that means it's
it's pure vanilla and that means that to
exploit anything here we would need to
use a payload because it does have a
buffer overflow and the only way we can
make use of a buffer overflow is by
using a payload so let me just show you
what I mean so I've got the X right so
I'm gonna piss the exploit here right so
once a use exploit multi Samba use a
user map script and there we are so
let's look at the options available all
right and right now it's telling me that
the options available are the our host
which is the target IP address and the
port the port is fine because it's
configured correctly as pot 139 awesome
all right so let's set the our host to
the IP all right so the IP is for me is
going to be again you can check this by
going to your met exploitable machine
and address running the ifconfig option
so once you have said that now if we try
and exploit this nothing will happen
because as I've said we need to run
basically we need to you need to exploit
the buffer overflow and we can do that
by by using a payload so to see to view
the payloads available in Metasploit
what you do is you say show all right
payloads whoops show payloads and we'll
show you the payloads available for this
exploit all right so just give it a few
seconds and there we are so we have so
we know that is using the UNIX command
and we have the the name and the
description so as you can see there are
many options that you can use you as I
said this is a good reason to learn a
netcat because it gives you the the
option to use netcat as a payload
there'll be a lot here which will be all
looking through as you can see there has
been programming different languages so
you can run the payloads in different
languages and so on and so forth now the
one I'm going to be using is I'm going
to be looking for the reverse shell
because I want to create a reverse shell
where what's happening is instead of me
connecting to the due to that to the
target computer in this case or
Metasploit able machine and in case it
has a firewall which is most cases our
webserver would likely have it's going
to refuse the connection right so now
the reason we use it reversed ezpz it's
awesome because it allows the the web
server to communicate back to us on a
port that we specify now that's going to
be something that the firewall can't
stop so it's awesome it's very very cool
to use something like to use something
like reverse reverse shell or something
of that something of that equivalent all
right so we can use here the we can use
the we can use any of these reverse
shell payloads obviously the most
popular one is going to be the netcat
one because again it's going to use
netcat as a means of communication so
I'm just going to copy the exploit and
then in here you want to set the sorry
own to copy the payload and then I want
to just set the payload so set a payload
and I'm just gonna paste the name in
the payload lumina will just do that
just do this right now all right so
that's the payload we want to use now
something interesting will happen if we
check for the options now we have
different options now we have the
listening address which is going to be
my IP address or the machine that you're
using and then you have the listening
port which again you can specify to make
it more promiscuous for example you
could say that the listening port could
be 80 you know did you can use eight
years of port because that web server
and communicating to you will realize
okay this is normal browsing because
it's going through port 80 that's where
all the traffic usually goes through and
it'll connect without an issue as I said
with some firewalls if you use any other
ports it might detect that you know hey
this is a weird port that it's using and
this could be dangerous
so block that connection that outgoing
call connection but in this case we know
that Metasploit bold is not going to
stop that so you can use any port that
you want but please do remember that if
you're going to use a port like 80 or
ports that are configured make sure you
have more service running on it or it
will conflict all right so that's also
very very important to understand
so let's configure the ill host which is
your IP address so set L host and I need
to get my IP address I should have
actually thought that through so let me
just create a new tab here and I'm just
gonna check for mine here like so and it
is 192.168.0.1 as I've said you do you
don't need to change your L port but
again it depends on the server that
you're trying to attack and run this
exploit on in most cases it will detect
but if it's coming from a port that is
not very common for example the port 4 4
4 so if you look at the options now we
can see that we've set our host and the
airport which are correct the poor that
we're trying to attack is 1 3 9 which is
running the Sam
server we then have the L host which is
our IP here our local IP and we then
have our airport which is the port is
going to listen to so that's the port
the server is going to connect to with
outgoing traffic so this all looks good
let's see if we can actually write it so
I'm going to exploit right and there we
are reverse shell open and we can go
ahead and run some commands so we are in
so let me just clear the console all
right so what I can do now is say
something like you name a whoops you
name a there we are met exploitable we
can list our files
let's go to the root let's see what's in
root there we are desktop we have files
on the desktop let's look at which mode
we have in here we have nothing the
desktop let's go back and let me just
clear this again and let's see what
files exist whoops I cannot see what I'm
typing in like so and I believe there's
some VNC files so cat VNC oops let me
just view the files that were existing
inside here
so we have the NC Double aughh so cat
VNC dot log all right awesome we can see
that we have the the log files here for
all the VNC servers awesome so as you
can see we have initiated our reverse
shell and that was a good way of
explaining how to use palos because in
most in most cases are the exploits that
you will be running don't have back
doors in these services that you're
trying to attack and one of the good
examples was using Samba Samba has no
backdoor but it allows it allows command
execution without authentication so it's
awesome so remember that you can use any
type of payload that you wanted that
comes with the exploit and from that you
can change the your your approach of
attacking the webserver so that's going
to be it for this video guys I hope you
guys found value in this video if you
did please leave a like down below and
if you have any questions or suggestions
let me know in the comment section or
you can hit me up on my social networks
if you have any personalized questions
you can hit me up on
kick and by the way guys something very
very important is I've added a forum
section to my website so you can go and
sign up and you can post the video
suggestions for the new videos you want
to see on the channel and I'll be
picking random ones and I'm going to
have a Q&amp;amp;A series where every week I'm
going to be trying to answer all your
questions so you can also post your
questions there hey you guys thank you
so much for watching and have a
fantastic day peace</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>