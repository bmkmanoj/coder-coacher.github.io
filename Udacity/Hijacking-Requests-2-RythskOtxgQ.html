<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hijacking Requests 2 | Coder Coacher - Coaching Coders</title><meta content="Hijacking Requests 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hijacking Requests 2</b></h2><h5 class="post__date">2016-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/RythskOtxgQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now that we know how to hijack a request
and respond with something basic let's
do something cooler let's go to the
network for the response but not for the
thing that was requested handily there's
an API for that fetch fetch lets you
make Network requests and lets you read
the response now you might be thinking
isn't this what XML HTTP request is for
no just no much of the xhr API is 15
years old soon it'll be old enough to
drink and I can't even bear to think of
what a drug xhr could do even from the
outset it wasn't particularly well for
out I mean just look at the name XML
know it deals with many different
response types HTTP not really it deals
with other protocols such as filesystem
requests actually the returned object is
like a strange mixture of request and
response and why is the XML in all caps
but only the H in HTTP but it's not just
a name that's wrong here's the code to
fetch some jason from URL foo everything
feels like it's in the wrong order the
urls down there you have to open and
then send for some reason it makes you
declare how the response is read before
you make the request and it doesn't
support lower level things like streams
but worst of all the event system gets
you into callback hell here's the fetch
code for the same operation fetch foo
this returns a promise which resolves to
a response then we can read that
response as Jason and then we've got the
result and we can catch errors from
either the request all reading a
response done and as it turns out back
in our service worker event dot respond
with takes either a response or a
promise that resolves to a response
fetch returns a promise that resolves to
a response so they compose together
really well so let's respond with a
fetch for a gif over in the browser
let's enable force update hit refresh
and we've just served up different
content using the network
the fetch API performs a normal browser
fetch so the results may come from the
cash that's a benefit in this case as we
want the gift of cash as usual of course
we might not want to hijack every URL we
could oh wait a minute we have a
incoming communication situation it is I
Mike wells hey Mike so what's the
meaning of this interruption well it
sounded like you were just going to
describe a load of stuff but I think
it'd be better if the students figure
this out for themselves great idea go
for it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>