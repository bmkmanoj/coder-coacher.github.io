<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Preventing Malicious Code Execution | Coder Coacher - Coaching Coders</title><meta content="Preventing Malicious Code Execution - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Preventing Malicious Code Execution</b></h2><h5 class="post__date">2016-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/sMUdtDNir1g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so all the memory protection stuff that
we have talked about how can we use that
to prevent malicious code execution on
the stack remember you're going to alter
the return address then you're going to
insert some instructions where you're
going to transfer control and things
like that so one of the things we're
going to do is what if we have a
non-executable stack we actually talked
about that's one of the protections for
code injection because you have to
inject your code then you overwrite the
return address to point to this code and
then you execute that code that's how a
successful exploit works so now I think
what we can do if we made the stack
non-executable okay so this is important
non-executable stack which means you
could go right into it you can store
some instructions into it so in some
sense you're able to inject the
instructions on to the stack but you
will not be able to execute those okay
because remember we're talking about
address translation and page table
entries and read write execute
permissions in each of those pages that
you can access through the space table
entries well if we say it's not
executable okay non-executable is you
can only read or write those on location
when you want to fetch an instruction
off the stack this is your injection
code that we're talking about but you
can't execute off that so setting the
permission to non execute actually is
going to prevent malicious code to
inject code on the stack and use a
buffer overflows to transfer control to
it and successfully exploit a program by
doing that simple thing we can do is you
can't execute off the stack so your
injection code can't be on the stack so
this sort of protection actually modern
operating systems make the stack
non-executable so the way you understand
that is this eye protection comes
because that portion of the address
space where the stack lips and the page
table entries that are used to translate
addresses from this range of addresses
with the stack is those base table
entries have execution permission turned
off so you can't execute off the stack
because
it's going to require that you you fetch
an instruction from a certain memory
location where the execute permission is
not there so memory isolation protection
that discussion we've been having gives
us a simple way to protect execution on
on this tack by making the stack
non-executable and that avoids or
prevents this malicious code to use a
buffer overflows and use code injection
on the stack</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>