<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>保存图片 | Coder Coacher - Coaching Coders</title><meta content="保存图片 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>保存图片</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Kd9YqLyump4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">You might be wondering how we're going to save the awesome images that we're
creating inside the canvas.
Let's go ahead and do that right now.
I'v opened up the HTML document that we've been building,
with this script inside that we're using to control the canvas.
And I've added these two lines here.
In this one, I've created a new variable called saved image, and
I've used this new method, toDataURL.
I'm calling toDataURL on c, which,
as you may recall, is the canvas object that we grabbed earlier.
toDataURL, creates a text string that represents the photo.
It can output a couple different image formats, but
we're only going to use the default for now.
So I've created this new text string representing the image.
And now I'll call window.open on the new save savedimage that we just created.
This should open the new image in a different window.
Let's go ahead, and see if it works.
I will save this and come over to the browser, and refresh, and OK.
It doesn't look like a new window is opening.
Okay, that's kind of weird.
Let's see if we can figure out what's going on here.
Uh-huh.
Okay.
So we're getting an error, which says that tainted canvases may not be exported.
This is an interesting problem.
There are a number of different ways to get around it but basically what it's
saying is that we need to figure out a way of safely hosting and
serving these images in order to save them.
Depending on your browser, you've got a few different options for
getting around it.
First off in Chrome you can actually just simply right click and hit Save image
as on whatever you want to save it, which is a really easy way of saving images.
Or you can take an even simpler out which is to simply take a screenshot, and
save your image that way.
But that isn't necessarily what we're going for here.
If you want to actually be able to export these and
to save them later without right-clicking on them you actually have to
create your own server, running probably on your local machine or online.
And the steps to do so are definitely outside the scope of this course, but
you can check out some of the links in the instructor notes for
more details on how to do that yourself.
But for now if you want to save an image using chrome you can just simply
right-click on the image and that should work, or you can take a screenshot or,
you know, if you're feeling ambitious check out the instructor notes to
learn how to get around this error message here.</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>