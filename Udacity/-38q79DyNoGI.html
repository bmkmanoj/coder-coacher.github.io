<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>加载图片代码 | Coder Coacher - Coaching Coders</title><meta content="加载图片代码 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>加载图片代码</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/38q79DyNoGI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">if there's one thing that any good meme needs, it is an awesome picture.
If we were doing this in HTML, we could make an image appear on the screen by
using the img tag and setting a source to something like this fake image.
But we're doing this with canvas, so let's get rid of this line.
So, we'll start by creating a new image, which we'll call image.
because why not?
And we'll set it equal to a new Image object.
Down here, we'll set this source property of the image object to this file,
which I've got saved to my local machine.
This is part of the power of using the canvas to draw on the screen.
We can use a local file as well as any file on the Internet, so
if you've found a cool image online, you could put that URL right here or
just use a link to the file on your local machine.
Images in JavaScript get loaded asynchronously,
which means that we need to do work after it's loaded,
so we'll set the onload function on the image object to what we've got here.
In this case we'll console.log Loaded image, and then we'll doSomethingElse.
Let's be a little bit more specific about what we
want to happen after the image is loaded.
We'll go ahead and grab the ctx again that we created up here and
call the drawImage method on the ctx of the canvas.
Into the drawImage method, we'll pass the image itself along with its
starting coordinates, x and y, and its width and height, which in this case
we're setting to the same width and height as the canvas itself inside the DOM.
Let's go ahead and see if this works.
So we've got the file saved over here.
And inside my browser, I'll go ahead and open up this HTML file.
And we can see it's saved right here on my local machine in the same directory
as that fry_fixed image that we set the source of the image to right here.
So let's go ahead and open it up.
And voilà!
We see the image appear.
To learn more about other ways of calling this drawImage method,
check the link in the instructor notes.</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>