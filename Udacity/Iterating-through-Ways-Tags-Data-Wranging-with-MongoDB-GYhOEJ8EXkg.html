<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Iterating through Ways Tags - Data Wranging with MongoDB | Coder Coacher - Coaching Coders</title><meta content="Iterating through Ways Tags - Data Wranging with MongoDB - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Iterating through Ways Tags - Data Wranging with MongoDB</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/GYhOEJ8EXkg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so what I want to do here is take a look
at how we would go about auditing our
street names or our names for ways in
such a way that we can get a sense for
what's going to need to be fixed here
all right so let me walk you through
this code in detail this is a modified
version of the code we looked at back in
lesson three and what we're doing here
is using elementtree
the C version and if we scroll down this
is actually one of the more interesting
parts of this code so let's let's take
it one step at a time
so here we're using it err parse part of
the elementtree module okay and a couple
of things I want to point out here again
remember that this data set is enormous
almost two gigabytes so we can't read
the whole thing into memory as an XML
tree or an element tree rather what we
have to do is iteratively parse it or
parse it using event based parsing and
you can see some of that language coming
out here essentially the way it are
parse works is every time it sees one of
the events that we've specified here it
is going to emit the event and the
element that it found okay so let me
break that down in terms of the data
specifically the way I've set this code
up is any time it sees a start tag okay
that's what this says here alright and
two events we actually have to pass it a
tuple okay we can pass it any number of
recognized events but in this case I'm
only concerned with getting start tag
events so I just want it or parse to
generate the next item in its iteration
when it sees a start tag and in Python
we need to end tuples with the comma
okay so make sure you do that if you're
going to use code like this okay and
then what I'm saying here in the next
line is all right if that element you
kicked out to me again remember this is
a tag so this is going to be an object
representation a Python object that
essentially represents some sort of
start tag a node or way or relation or
maybe member here okay and then what I'm
doing here is I'm filtering I'm saying
okay the tag property for this element
object that you kicked out has to be way
that has to be the value of it okay if
that's the case then what I want to do
is for that element I want to call the
it IRR method okay now the inter method
is designed so that it will return in an
iteration all of the sub tags the tags
nested within this particular element
whatever that is so going back to the
documentation here it would give me back
for this particular start tag each and
every one of the tags that are nested
within it okay I can optionally specify
to the itter method the value of a
particular tag that I would like to get
back and what this does then is modifies
the behavior of itter
so that rather than giving me back all
of the tags that are nested within a
particular start tag it will just give
me those that are named according to the
constraint that I've specified so here
I've said just give me back those that
are tag tags okay so I would just get
back these</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>