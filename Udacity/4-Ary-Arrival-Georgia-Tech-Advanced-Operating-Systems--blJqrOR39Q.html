<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>4 Ary Arrival - Georgia Tech - Advanced Operating Systems | Coder Coacher - Coaching Coders</title><meta content="4 Ary Arrival - Georgia Tech - Advanced Operating Systems - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>4 Ary Arrival - Georgia Tech - Advanced Operating Systems</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-blJqrOR39Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so the NCSC barrier is it's also a tree
barrier it's a modified tree barrier and
what you'll notice once again to make
life simple I'm showing you an
arrangement of the MCs tree barrier with
with 8 nodes and it's a 4 re arrival
tree so the arrival tree and the wakeup
tree are different in the MCS algorithm
the arrival tree is a 4 era tree and I'm
showing the arrangement for n equal to 8
there are two data structures that are
associated with every parent and and
this one data structure is what is
called half children and the other data
structure is what is called child not
ready and I'll describe to you what each
one of these things is half children is
a data structure that is associated with
every node and the data structure is
going to have meaning only when a node
is also a parent so for example if you
look at this arrangement node p0 has
four children p1 p2 p3 and p4 and if you
look at node p1 it has three children's
and SOP 5 P 6 and P 7 and has 3 children
and so we have a total of 8 processors
so we've got all the 8 processes
accounted for here and therefore these
guys P 2 P 3 P 4 all the way up to P 7
they're not as lucky as p0 and p1 they
don't have children so p2 through p7
they do not have children and therefore
they're half child vector as false so
what you see here is a half child vector
and the half child vector is is true for
p0 in all the bit positions and
indicating that it has because it's a
483 it can potentially have up to 4
children and yes p0 has 4 children and
the half child vector is true all the
way whereas for p1 the half child vector
is true for the first three children and
Falls for the fourth because it has only
three children and these guys don't have
any children and similarly these guys
don't have any children so the half
child vector is completely false for P
through p2 through p7
now what about this child not ready
latest
the child's not ready data structure is
a way by which each of these processors
has a unique spot in the parent to
signal when they are arriving in a
barrier so what I'm showing you here the
arrows here are showing you the specific
spot in this data structure the child
not ready data structure associated with
this parent for each of the child
there's a unique spot for this guy to
indicate that they've arrived at the
barrier and similarly for this set of
children the parent is p0 and each of
each child has a unique spot in the
parents child not ready vector to
indicate that they've arrived at the
barrier so the black arrows in this
structure I'm showing you is just
showing the arrangement of the tree and
in terms of the the parent-child
relationship for the four ready
arrival tree and the red arrows are the
ones that are showing you the specific
spot where a particular child is going
to indicate to the parent that they have
arrived at the barrier and as you can
see that since p1 has three children the
fourth spot is empty so indicating that
it has to wait only on three children to
know that the valley is complete down
the tree and so it can move up
so the algorithm for barrier arrival is
going to work like this when each of
these processors arrive at a barrier
what they're gonna do is they're gonna
reach into the parent data structure
very specific spot statically determined
that's important right so it statically
determined that this is a spot that P
Phi is going to indicate to the parent
that it is arrived this is part that p6
is going to indicate that it is arrived
p7 and similarly once once all of these
guys have arrived at the barrier p1 can
check and then the way p1 checks is just
sees whether this C and vector has ones
in all these parts if it is ones in all
these parts it can spin on this and
therefore it knows that it's children
have arrived at the barrier once it's
children arrived at the barrier
then it can move up the tree similar to
what we saw in the vanilla tree barrier
before few words going to move up and
it's going to inform
spend and the way it does is by going to
a specific spot in the parents child not
ready vector and there's a specific spot
assigned for p1 it's going to set this
to indicate that it is arrived at the
barrier
so what p0 is doing is waiting on
everybody IRA if p0 is the first let's
say to arrive at the barrier it's
basically waiting on everybody else to
arrive at the barrier could be p0 is the
first one a last one it doesn't really
matter when p0 arrives at the barrier it
is going to wait on this child not ready
all the bits being set by the Chamber's
by the children and so when each of
these nodes arrive at a barrier they
know because of the arrangement of this
data structure they know their position
in the data structure relative to other
processes arriving at the barrier and
therefore p2 when it know when it
arrives at a barrier it knows that all
it has to do given the structure it has
to go to this spot and the parent vector
and set it to 1 p3 has to go to this
part and set it to 1 and so on okay and
so once it is done p0 will know that
everybody has arrived this barrier so
that's the arrival at the barrier so
once again to recap the arrival tree is
a 483 and the reason why they chose to
use a 4 or a votary tree is because
there is a theoretical result backing
the use of for any tree leading to the
best performance and that's reason that
they chose this particular arrangement
and the second thing that I want you to
notice is that each processor is
assigned to a unique spot like
construction a unique spot in this
Florida tree and because of its unique
spot a particular processor may have
children or may not have children and in
this case I showed you that p0 and p1
have children and the rest are not as
lucky because n is equal to 8 the other
nice thing about this particular
arrangement is that in a cache coherent
multiprocessor it is possible to arrange
so that all the specific spots that
children have to signal the parent can
be packed into one word of a processor
and therefore a parent has to simply
spin on one memory location in order to
know the arrival of everybody
so it doesn't have to individually spend
on memory locations for different
processes they can all be packed into
one word and the cache coherence
mechanism will ensure that p0 is alerted
every time any of these guys modify this
shared memory location</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>