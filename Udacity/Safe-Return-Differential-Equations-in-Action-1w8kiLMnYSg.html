<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Safe Return - Differential Equations in Action | Coder Coacher - Coaching Coders</title><meta content="Safe Return - Differential Equations in Action - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Safe Return - Differential Equations in Action</b></h2><h5 class="post__date">2012-12-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/1w8kiLMnYSg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">for this problem we're back to playing
with spaceships actually we're dealing
with the Apollo 13 mission we should
have off in 1970 it was supposed to take
astronauts from the earth and land them
on the moon however at some point during
their trip they encountered a problem
with one of their oxygen tanks and they
had to abort their mission of landing on
the moon and instead figure out how to
get the crew back to the earth safely
now in this problem we're going to show
how changing the velocity of the ship
using booster rockets can change the
trajectory of the ship to make it loop
around the moon instead of landing on
the moon and bring it back to where it
started on the earth now this is
definitely the most complex problem that
we've given you so far so don't worry if
it seems a little bit complicated at
first I'm going to help you out by
breaking it into chunks and giving you
some hints now as always we've told you
some important information to start out
with we have some information about the
earth and gravity and also some
information about the moon including the
period of the moon or the time that it
takes the moon to orbit around the Earth
now one sort of unique value that you
see here is moon initial angle and this
is just the angle at which the moon is
initially placed from the earth this is
the zero degree or co Radian line then
the angle between this line and the
position vector of the moon is equal to
moon initial angle we also have the
total duration of the flight that we're
considering and the tolerance measured
in meters which is related to the local
truncation error that we're going to
allow the flight path to have now you
aren't mentioned this briefly in the
unit and I'll give a little bit more
explanation about it in a minute we've
laid out five tasks for you to complete
to make the program run as a cohesive
whole the first one which you can see
right here is to find the moon's
position vector as a function of time
now here we're going to consider the
earth as the origin here so the position
vector of the moon is just the vector
from the earth to the moon now remember
this is dependent on time you can also
assume that the moon is going to be
moving counterclockwise around the earth
or at least that's how it looks in this
picture now the next thing that you need
to figure out is how to calculate the
spaceships acceleration due to gravity
now the input here is time and position
but position right here is not the same
as position that you just computed in
the task above instead this position is
the position of the spacecraft not of
the moon so the second task going to
need to find
the position of the spaceship depending
on time and then you need to figure out
how the gravitational attraction to the
earth and to the moon affect its
acceleration I think about how you can
use vectors to do this and also as I
said earlier pretend that the earth is
at the origin now in each of the first
two tasks notice what your return values
are and make sure that you define
variables with these names in their
proper places in each function so now I
come to the slightly trickier part in
order to adjust the spaceships
trajectory to make it go around the moon
and then land back in the right spot on
the earth it'd be really helpful if the
crew had some control over its velocity
during the flight lucky for them and
lucky for us to their spaceship has
rocket mechanisms that will allow it to
reduce its speed on the way to the moon
and increase its speed on the way back
to the earth now any apply boost
function right here we've created two
boolean variables for you and they're
going to help your program simulate
these changes in velocity this first one
refers to mid-course correction or mcc
and this tells us whether or not the
initial deceleration has occurred right
now it's set to false since at the
beginning of the flight this hasn't
happened yet similarly we have a second
variable which refers to the descent
propulsion system or GPS and this
represents the second change in velocity
now the amount by which you are going to
change the velocity at this point is
what we're going to call the variable
boost now these two moments remember
that we want to change just the
magnitude of the velocity we don't want
to mess with the direction at all that
will deal with itself so your third task
is going to be to include these two
velocity shifts and of course include
them at the right times which are listed
in the code you can notice that we've
set up position and velocity vectors for
you right here and plugged in initial
values as well however it's up to you to
figure out how to adjust their values
with each step using coins method and
adaptive step size you're going to do
that down here in this while loop now
here's Hoynes method written out for you
just to help you out a little bit now
once you've calculated position and
velocity using Hoynes method you'll also
need to adjust the step size at the end
of the while loop to reset it with a new
value for the next time that we go
through the loop now just as we did in
section 12 of the unit we're going to
store whatever the present step size is
as H and whatever the step size that
will be in the next step as H nu to
figure out the relationship between H
and H nu we need to calculate the local
truncation error or LTE now the LTE is
basically the air that is made in a
single time step or the difference after
each time step between the exact
quantity and the quantity estimated by
the approximation method that we're
using so the new step size H nu is going
to depend on the current step size the
tolerance which we gave you earlier and
the LTE so we can see that calculating
the local truncation Eric takes into
account the difference between the
values of position calculated by Euler
and by hoeing and the difference in
values of velocity T right here is the
total duration of the flight so far this
needs to be here so that all of our
units line up an LTE can be measured in
length and once we filled everything in
we're going to go back to the top of the
apply boost function and figure out what
the proper value of the constant boost
is remember that our goal is to get the
spaceship all the way around the moon
and then have it just touch the surface
of the earth when it comes back now once
you filled in everything down here go
back to the top of the apply boost
function and figure out what the proper
value for the constant boost is we've
given you just an initial value of zero
but we've also given you some other
values to try out so try plugging each
of these in and see what happens
remember that our goal is to get the
spaceship all the way around the moon
and then come back to the earth and just
touch the place where initially took off
now because of the total time that we
set at the top of our code the ship's
trajectory is not actually going to stop
in your plot right when the ship gets
back to the earth instead it's going to
continue off from there as if the ship
was going to go back to the moon a
second time now the reason we did this
was to try to make it a little bit
easier for you to tell which value of
the boost you should use the correct
value of boost will have the tail of its
trajectory reaching just back to the
radius of the moon's orbit incorrect
values of booths could make a trajectory
and short go off the wrong direction or
even make the spaceship crashed into the
earth which we definitely don't want to
have happen and I'm sure the crew
doesn't either now I know that this is a
complex problem but I'm sure that you'll
be able to return the
crew safely home if you need any help
just come to the forums</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>