<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Location Setting XML - Developing Android Apps | Coder Coacher - Coaching Coders</title><meta content="Location Setting XML - Developing Android Apps - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Location Setting XML - Developing Android Apps</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/MMgMpa2N-p0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">We have our settings screen,
but no settings.
In the next several sections, you're going
to be adding our two settings.
I'll walk you through how we add
our first setting for location,
then you'll do the temperature setting
on your own, so listen closely.
First, we design a Preference XML file.
The root element should be
a PreferenceScreen.
In this example,
we have a CheckBoxPreference
and a ListPreference inside of it.
In order to add
the Preferences XML file to our app,
we first need to create an XML folder
under the resources res directory.
Right-click on the res folder,
go to New / Android resource directory,
and then type in xml
as the name of the directory.
For resource type you can use xml
and then hit OK.
Inside this folder, we right-click
to create a new XML Resource File.
We call it pref_general,
and the Root element is a PreferenceScreen
as we saw on the developer's site.
And then our Preferences file is created.
Then, add the location preference.
Since the wireframes showed
an editable text field
to input user location as a string,
we make this an EditTextPreference.
If you want to learn more about all
the possible XML attributes,
you can Google for EditTextPreference.
First, we specify a title
for the preference,
which will be the label
that's displayed to the user.
Then, we specify a key.
And this key is actually
the Key Value in SharedPreferences.
Going back to the code, we also add these
attributes to describe the Edit Text field
in the pop up dialog that was shown
in the wire frames.
Going back to the code,
we can also configure properties
of the Edit Text field.
We specify the input type to be text,
and we cap it to a single line of text.
It's bad practice to hard code
these strings here,
so we declare them as constants
in the strings.xml file.
These are the strings we declared.
This is the name of the label
of the preference.
It's user-visible, so we add a char limit
for translation purposes.
You also specify location, which is
the name of the key in Shared Preferences.
We don't want to translate it because
we always want to find the key
based on this name.
We also specify a constant
for the default location.
We also don't translate this
because we need to send it
to the server API like this.
When you're done with these steps,
check them off and continue.</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>