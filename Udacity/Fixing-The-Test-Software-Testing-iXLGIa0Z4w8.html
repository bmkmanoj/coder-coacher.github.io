<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Fixing The Test - Software Testing | Coder Coacher - Coaching Coders</title><meta content="Fixing The Test - Software Testing - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Fixing The Test - Software Testing</b></h2><h5 class="post__date">2012-07-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/iXLGIa0Z4w8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so a hundred test cases passed in
that tiny amount of time it took this to
run and so one thing we can conclude is
that since 100 tests passed over read
all that the logic is solid but it turns
out that this conclusion isn't really
warranted let's see if we can get the
program to tell us why so I'm going to
do here is print out the vow print out a
value indicating the number of bytes
that was actually read by the raw read
system call now we'll run our testing
loop and what happens is every single
time we called read it read the full
size of the file so our splayed out pie
file here we can see as 3121 bites and
the actual r unix read system call
always read that many bites every time
we called it so what ends up being the
case is even though it's legal for read
to return less bytes then we asked it to
read it's not actually doing this so
we're going to need to do in order to
test our logic in any meaningful way is
make it do that and so the question is
how to do that well one way would be one
way to do that would be to go on hack
mac OS so that sometimes doesn't read
all the fight bites that we asked and
that is not very fun so we're going to
do something a little easier we're going
to insert faults ourselves by calling a
read fault injection file by calling a
read function with fault injection this
is a function I already wrote here so
what you can see that read with fault
injection does is it has exactly the
same interfaces read just a different
file name but what it's going to do is
instead of reading the n bytes that we
asked for it's going to set the number
of bytes to read to be a random number
between one and the number of foot bytes
inclusive and so the plus one there
means that instead of going from zero to
the number of bytes minus one we're
going to go we're going to test the
range from 1 to the number of bytes and
that's what we want to do because we
don't want to return 0 because that
indicates an end-of-file condition so
now we're ready to run some tests</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>