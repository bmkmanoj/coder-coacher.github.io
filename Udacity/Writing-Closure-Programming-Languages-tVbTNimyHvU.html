<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Writing Closure - Programming Languages | Coder Coacher - Coaching Coders</title><meta content="Writing Closure - Programming Languages - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Writing Closure - Programming Languages</b></h2><h5 class="post__date">2012-06-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tVbTNimyHvU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well let's write out one way to do this
together I will assign the return value
to this variable next States and then
we'll just return next States later on
but this will make it a little easier
for me to think about it the hint was
definitely to do some sort of list
comprehension over the rules in the
grammar so that's going to look
something like this for every rule in
the grammar mmm put something in our
output well if there was something like
egos to XYZ in our grammar and we're
bringing in the closure on e this state
we want is really just egos to the red
dot is all the way to the left and
everything that was the right hand side
of the rule comes to the right of the
red dot remember that we're encoding
parse States as simple tuples the first
part is this big non-terminal well
that's just the 0th part of the grammar
rule that's just e over here and then
the next part is once before the red dot
Mon we're computing the closure there's
nothing before the red dot that's this
white space right up here and then
there's what comes after the red dot
well that's XYZ that was just the second
part of our grammar rule and then
finally we need to know what the current
state is and for us based on our
definition of closure and you can go
back and take a look if it has slipped
your mind that's just I the state we're
currently looking at when we're
computing the closure we add more
information to the current chart state
so this is pretty much two thirds of the
answer the trick is there might be other
rules in our grammar like T goes to ABC
and we don't want to bring them in we
only wanted to compute this closure on E
so we're going to need little guard here
in our list comprehension I don't want
to take every rule in the grammar and
bring it in I only want to bring in some
of them well what's the thing I'm
supposed to be bringing in the closure
for it's based on CD CD is whatever we
saw to the right of the dot remember
that our current state is something like
X goes to ABCD so first I have to check
if CD is not empty and if it's not then
c is e is the thing that we should be
looking for so I only want to do this if
CD is not empty
if this e which was ruled zero matches
the first part of CD that is if this e
is the same as see if it is we bring in
the closer and that's it this is one of
those examples that really shows off the
power of list comprehensions we want to
take a bunch of grammar rules slightly
modify them into parsing states and we
only want to do that based on the rules
of how the closure is supposed to work</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>