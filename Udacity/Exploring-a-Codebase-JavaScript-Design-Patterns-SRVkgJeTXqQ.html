<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Exploring a Codebase - JavaScript Design Patterns | Coder Coacher - Coaching Coders</title><meta content="Exploring a Codebase - JavaScript Design Patterns - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Exploring a Codebase - JavaScript Design Patterns</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SRVkgJeTXqQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">Now that we know we should be tofu,
let's explore the actual code that drives this application.
Let yourself marinade in it as we go through.
Like tofu in sauce or something.
Now as we go through, think not only of how the code works, but
how different changes would affect the behavior of the application.
By constantly thinking about how we can change the application or
break the application in different ways,
it'll let us start thinking more like the original developer was thinking.
So, let's explore.
First, we have index .html.
At the very bottom, we have all of our script tags here.
One thing you might notice is of all these custom script tags here
they run in a particular order.
Our model todo.js runs first, then our collection, then both of our views.
Then our router, then our app.
Now a lot of times, the order of all of this does matter.
My intuition tells me that the reason app.js is last,
is that it gives all of the other files a chance to get set up
before the app actually gets kicked off with this line here.
So let's see if that's true.
Let's take a look at our model.
Now there's a particular pattern that we're going to see again and
again with these files.
Var app equals app, or an empty object.
Meaning if app exists, don't do anything.
If app doesn't exist, set app equal to a new empty object.
So whichever one of these is first, there won't be an app variable, and
it'll get set to an empty object.
And then we have the module pattern, an IIFE.
Immediately invoked function expression.
So we have an open parenthesis, a function, a bunch of code here,
close parenthesis, and then we run it immediately.
This function here is not named, doesn't have a name.
It's an anonymous function.
And it's wrapped in parentheses here and, and immediately invoked.
What that means is, any variables that we declare inside of this function,
don't pollute the global scope.
They don't go up onto the window object,
meaning they don't accidentally overwrite any variables that may already exist.
And we can see that inside of this function we've got app.Todo equals something.
In this case, a Backbone.Model.extend, and we pass it an object literal.
And that goes all the way down to here.
Or at a higher level, app.Todo equals this thing.
Let's take a look at our CollectionsToDo.js.
We have the same pattern.
Var app equals app or an empty object.
Then we have an IIFE, an immediately invoked function expression.
And down here we say var Todos equals this backbone collection.
At the very bottom we say app.todos equals a new Todos.
Now, don't get mired in the details of what's going on here.
Just look at the big picture.
We're creating an app object literal and
then we're saying, app.todos equals some stuff.
Or, app.Todo equals some stuff.
If we look at the routers, same thing.
App equals app, or an empty object.
If we scroll down, app.TodoRouter equals some stuff.
Both of our views do the same exact thing, app equals app or an empty object.
App.AppView equals some stuff.
In this case app.TodoView equals some stuff.
So, as all of these files run,
it creates an object with all of these various properties on it.
TodoView, appView, our router, our model,
our collection, and finally at the very end, app.js runs.
So what happens there?
Well, we say jQuery in this case, so
when the document is loaded, run this following function, new app.AppView.
Now why exactly that works?
I'm not sure right now because I haven't looked at the documentation and
figured out how we kick off a backbone app.
But I do know that the reason that these are first so
that way that app object can get set up.
Now we should have some idea of where the various functionality lives because of
our previous experience with other organizational paradimes.
Our views are the stuff that the user sees and
the stuff the user interacts with.
Our router is just like the view except for the url bar.
We've got the model, which is todo.js, and we've got
a collection which is a collection of models for all of our various todos.
And then app.js right in this line kicks it all off.
Let's take a look at index.html.
The other thing that we previously saw was all of
these bizarre script tags with type equals text/template.
And that's a chunk of HTML which is a template for something that may repeat or
be some kind of a dynamic view.
Here for example, we've got the view for the items.
Now in the next video,
we're going to make some modifications to this code base here.</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>