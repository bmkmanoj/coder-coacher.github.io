<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Simple CursorAdapter - Developing Android Apps | Coder Coacher - Coaching Coders</title><meta content="Simple CursorAdapter - Developing Android Apps - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Simple CursorAdapter - Developing Android Apps</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/1HLmy0-QPqk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">inside a forecastfragment we're going to
replace the EM forecast adapter with a
simple cursor adapter that will work at
the new database code we've just added
this is another one we want to make sure
we're using the v4 version there we are
make sure to select that in your list so
you can see we have a bunch of code that
doesn't compile instead of us array
adapter let's switch our forecast
adapter out with a new simple cursor
adapter now simple cursor adapter is
pretty cool it allows us to map columns
within our database which are in our
weather contract directly to widgets
that are in our list items so all looks
pretty good except that it won't quite
compile because the stuff we're doing to
start the detail isn't going to work so
for now let's just put this away we'll
get back to that later we have something
that compiles but we need to do
something first if we ran it now we
would still get nothing the reason why
we would still get nothing is we aren't
doing anything an onload finish in
onload or reset we might as well
complete this by doing swap cursor with
null our coach to actually do something
now let's try running it and it looks
terrible what's in the database doesn't
look anything like what's supposed to be
on the screen we need some formatting
and settings help more functions for a
utility class get preferred location did
look a bit lonely there right to help us
out we'll add another function to
utility that tells us if metric is the
current setting well at a simple
function to format the temperature and
we'll add a function to format the date
now interestingly enough what kind of
date is this well we've got two options
Java util or Java SQL in this case we
actually want Java dot util but we're
missing yet another helper function
we'll add a function into weather
contract that converts the DB date text
into an actual date object opposite to
the other contract function so there we
have it how we store the date in the
database is entirely encapsulated in the
contract so now we've got all that cool
stuff that how do we actually use it
let's go back to our forecast fragment
it turns out there's a special callback
for simple cursor adapter called view
binder
set view binder with a single function
set and view value so inside of set view
value we're actually going to make
really good use of those utility
functions we just saw
first of all we'll save off as metric if
we're using the temperature columns then
we just can format the temperature now
that we've got set view value let's put
some cool stuff inside of it
you see that we use is metric when we're
populating the temperature in our views
we pass it into our new utility format
temperature function so you can see it
having these column indices here allowed
us to make this function more efficient
and it'll also help me move into lesson
five one of the things you notice is the
layout height was really really small
that's because it was just wrapping
content we can fix this by telling you
to Center our content and by setting the
minimum height to the list preferred
item height this will make things look a
little better as well a lot more like
our original layout so let's take a
quick look to see what all of this work
is done for us that's a little bit more
like it now as you can see we're seeing
our forecast in the original way we
anticipated we can go to our settings
and we can switch things on demand but
now we're in that same problem I had
before we can't do anything to get to
the detail activity well I'm gonna have
you fix that</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>