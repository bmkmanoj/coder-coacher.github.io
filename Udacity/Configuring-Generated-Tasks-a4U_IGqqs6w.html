<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Configuring Generated Tasks | Coder Coacher - Coaching Coders</title><meta content="Configuring Generated Tasks - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Configuring Generated Tasks</b></h2><h5 class="post__date">2016-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/a4U_IGqqs6w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">let's say we want to change a compiler
flag in our java project we could just
add some configuration to the compiled
Java task however unlike simple Java
projects which have a finite set of
tasks such as compiled Java John tests
etc Android projects can have an
indeterminate number of tasks depending
on the build types and product flavors
we have declared additionally the names
of these tasks are generated and they're
based on the name of the particular
variant the task is for not only that
but these tasks are created a very late
stage of the project configuration
lifecycle which means in most cases we
can't directly reference them in our
build script essentially we need solve
two problems first we need a way to
reference each task used to build a
particular variant without having to
know the tasks actual name quite simply
we want to configure all the tasks of a
particular type for every variant second
we needs a way to defer the
configuration of that task until offer
all of our build variants have been
created which really just means that we
can't configure the tasks until the task
exists the first problem is solved by
the Android Gradle plug-in itself which
groups all the information to include
the tasks associated with any given
variant into a single object there are
three main types of these objects the
application variant the library variant
or the test variant the type of the
variant we need depends on the type of
project we're building application
variants and library variants are
created for Android applications or
libraries respectively and test variants
are created for the on device test apk
each one has its own specific properties
but they all have common tasks like
compiling Java merging resources and so
on so the Android Gradle plug-in is nice
enough to neatly packaged all the
information about a variant for us but
the problem remains how do we reference
these variant objects this problem is
solved by what Gradle calls live
collections essentially as the Android
plugin creates variants they are added
to a fancy type of collection these
collections allows to define
configuration for objects that don't yet
exist instead Gradle remember our
configuration and execute it when a new
object is added we specify this
configuration by calling the all method
on our variant collection for example if
we wanted to configure all the Java
compiler tests for our application
variants to add a compiler argument we
could do something like this this will
now configure
each Java compiler asked for each of our
debug build types regardless of how many
product flavors we have configured also
you don't have to try and guess what the
final names of each of those tasks might
be</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>