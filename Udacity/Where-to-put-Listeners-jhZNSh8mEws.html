<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Where to put Listeners | Coder Coacher - Coaching Coders</title><meta content="Where to put Listeners - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Where to put Listeners</b></h2><h5 class="post__date">2016-08-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jhZNSh8mEws" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so if you had to give guidance about
where to put all these fancy read
listeners and your activity what would
you say you know that's a great question
and I'm not entirely sure yeah it was
mostly rhetorical I've actually done a
little reading on this one here's what I
found here's our friendly Android life
cycle where we create and destroy our
firebase listeners is a typical
developer trade off memory verses
network traffic in this case remember
that every time you recreate a listener
it pings the database and listeners are
also something that can be kept around
for a long time in which case they leave
a memory footprint so there's some
general rules of thumb that you should
go by when you're actually creating and
destroying your listeners if you're
going to come back to the activity a few
times you should make your listeners in
oncreate and get rid of them and on
destroy this is because your activity
will be going in and out of the visible
life cycle and therefore on start and on
stop or non resume it on pause will get
called many times as your activity lives
if you put your listeners in any of
these methods you'll be generating
unwanted network activity by continually
recreating listeners if the activity is
likely to be a one-off activity you
should consider making your listeners
and on start and cleaning them up and on
stop so you might be wondering what I
mean by a one-off activity well some
sort of activity that the user is
unlikely to return to such as a login
screen a user will probably login once
and then sort of use the app for a while
they might even minimize the app and do
other things and come back to the app
all without visiting the login screen
again now why not just put these in
oncreate and ondestroy well on stop will
be fired sometimes significantly earlier
than on destroy will and because of that
you'll end up freeing up the memory
sooner with all of that said the
engineers at firebase did build
listeners to be relatively lightweight
but just like cleaning up your listeners
this is another best practice to keep
your app running smoothly</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>