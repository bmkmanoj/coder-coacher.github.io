<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Blelloch Scan - Intro to Parallel Programming | Coder Coacher - Coaching Coders</title><meta content="Blelloch Scan - Intro to Parallel Programming - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Blelloch Scan - Intro to Parallel Programming</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mmYv3Haj6uc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so hillis and steele scan is fairly
efficient it's actually the first scan
to be implemented on GPUs guy Blake
popularized another formulation of scan
in 1990 however that is even better at
work efficiency it's a little bit more
complex in terms of the algorithm though
so let's take a look at another example
this algorithm has two stages first to
reduce and then a down sweep and let's
note that this is an exclusive scan so
we're going to do a sum scan that is
exclusive on the input array 1 through 8
and so it's going to again have two
stages the first is going to be
reduction and it looks similar to the
reductions that we've seen already and
then the second stage is going to be new
it's going to be a Down sweep and so
that's going to take a different
operator than we've seen before
let's start with the reduction the
reduced step actually looks like a
fairly standard reduction the first step
adds neighbors one hop away the next
step adds neighbors two hops away and
the third step is going to add neighbors
four hops away
however unlike and reduce we're going to
keep the intermediate results around by
intermediate results I mean this one
this 3 this 3 this 10 five eleven and
seven because we're going to use them
during the down sweep step now step to
the down sweep we're going to start by
resetting the rightmost piece of data to
the identity operator for some that
identity operator is zero and now we're
going to use a communication pattern
that is exactly the same as what we saw
in the reduction step except in a mirror
image so we see that we have this
triangle kind of structure here we're
going to do the same thing upside down
when we do down sweep what's going to be
different about down sweep with two
things the first one is that we're going
to use a different operator so each
operator is going to take two inputs
just as we did in reduction a left input
and a right unput but it's going to
produce two outputs not one so the
leftmost output is simply the right
input copied to the left the right
output is equal to the sum because we're
doing some scan of the two inputs the
second thing that's a little bit
different is that we're going to be
using these intermediate results as we
need to do a down sweep between two
elements some of the down sweep
operators might be written down here
because we've derived them during the
down suite but if we're missing a piece
of data then we just simply drag down
the piece of data that we need from the
intermediate results that we stored up
here during the reduce so let's get
started we're going to begin the down
sweep by operating on this element and
this element that's again the mirror
image of the communication pattern that
we had before so since we don't have an
element written here we'll just copy it
down from the element that we have right
and so now we'll apply this down sweep
operator to these this pair of elements
so the first thing we're going to do is
we're going to take this zero copy it
over here and then we'll take this ten
add it to this zero and get ten now
we're going to operate on elements two
to our left so the ten is going to be
paired with this eleven here that we've
dragged down the zero is going to be
paired with this three so zero will be
copied over to the left three and zero
will be added to get a three here ten
will be copied to the left and eleven
plus ten is 21 now for the final step
each of these elements will be paired
with the item to its left so again we're
going to have to drag down intermediate
valleys we kept around we're going to
drag down this seven dragged down this
five dragged down this three dragged
down this one and then for the final
time apply our down sweep operator zero
zero plus one is one copy the three
three and three mix six copy the ten ten
and five mix 15 copy 221 seven and
twenty one make 28 so now our output
sequence is 0 1 3 6 10 15 21 28 which is
the exclusive sum scan of the input of
the vector from 1 to 8 what we see for
instance is that every output such as
this 21 here 21 is the sum of all the
elements that came before so 21 is the
sum of 1 to 6 and so on as a quiz I'd
like you to compute the max scan of this
input sequence 2 1 4 3 using this
reduced down sweep method so you're
going to fill in these values from the
reduction and then fill in each of these
values from the down sweep and when you
finish you should have the max scan the
next exclusive scan of these elements
given this
put so give it a shot</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>