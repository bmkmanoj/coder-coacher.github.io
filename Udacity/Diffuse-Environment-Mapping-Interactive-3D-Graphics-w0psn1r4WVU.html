<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Diffuse Environment Mapping - Interactive 3D Graphics | Coder Coacher - Coaching Coders</title><meta content="Diffuse Environment Mapping - Interactive 3D Graphics - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Diffuse Environment Mapping - Interactive 3D Graphics</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/w0psn1r4WVU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we've used cube maps for skyboxes and
environment maps for sharp and glossy
reflections and for refraction it turns
out we can even use the same mechanism
for diffused lighting for these previous
techniques we needed the direction to
the eye and the shading normal in order
to compute a reflection or a refraction
ray for the diffuse component we just
need the shading normal remember the
diffuse component doesn't depend on the
eyes direction we used the dot product
between the normal and the light source
vectors when we computed the effect of a
single light on the surface using
Lambert's law now think big for a
particular point on a surface
consider every Texel in our environment
map as a source of light emitted or
reflected take the dot product of the
direction vector to each Texel from the
surface and compute the dot product with
the surface normal add these all up you
now have the contribution of the entire
environment map on a single location you
might think doing this is a bit
expensive to do for every pixel we want
to illuminate and you'd be right doing
this properly is a good task for path
tracing however there are a few things
working in our favor first once you've
computed the sum of all the
contributions of all the texels for one
point on one surface you've actually
computed it for all points with the same
normal direction remember that the
environment in map is infinitely far
away so what's true for one surface
normal is true for them all the other
element working in our favor is that a
cube map can be used to store the
results of our computations after we
compute the sum of all the contributions
for a given normal we then simply store
this value directly at that location in
the cube map texture this texture is
called the diffuse environment map or
irradiance map now when we want the sum
total lighting for the surrounding
environment for a given normal we just
look it up in the cube map one other
advantage we have is that the diffuse
map can be quite low resolution while
this original sharp environment map had
cute faces that were 512 by 512 texels
and our gloss map was 128 squared the
diffuse map is usable at only 32 by 32
texels nonetheless it can be expensive
to compute the diffuse map so what we do
is the same as for the glossy map we
compute the texture in advance with some
image processing software this gives us
the texture we need to like the scene
during rendering we just use the shading
normal to find the overall contribution
of the environments lighting to the
surface fragment</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>