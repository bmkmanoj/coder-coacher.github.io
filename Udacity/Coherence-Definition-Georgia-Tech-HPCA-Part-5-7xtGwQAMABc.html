<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Coherence Definition - Georgia Tech - HPCA: Part 5 | Coder Coacher - Coaching Coders</title><meta content="Coherence Definition - Georgia Tech - HPCA: Part 5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Coherence Definition - Georgia Tech - HPCA: Part 5</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7xtGwQAMABc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so let's now define what does it mean
for caches to be coherent intuitively
they're coherent when the whole thing
behaves like there was no caches but
let's define more precisely what exactly
does it mean there are three
requirements for coherence the first one
says that the read let's call that read
are from some others X on some call c1
will return the value written by the
most recent right let's call that write
W to the same location and that right
was on the same core c1 if no other core
has written to that location between the
accesses w and our so this first part of
the coherence definition really says
that if one core is operating on a
location alone then its reads should be
getting the most recent writes from the
same core this basically says that a
coherent behavior includes correct
uniprocessor behavior as long as the
location is accessed by only one core
the second part of the definition says
that if core c1 writes to a location X
and C 2 reads X after a sufficient time
and if there are no other rights that
happen in between C ones right and C 2's
read then C twos read must return the
value c1 wrote so pretty much if there
is a right and the read happens
sufficiently after that right then the
read has to read what the right Road
except if there was another right in
between in which case the read is
allowed to return that value instead of
this one so this part of the definition
really prevents the case when for
example c1 writes something to its own
cache c2 reads forever from its cache a
stale value to be coherent if c1 writes
then after some sufficient time c2 must
start reading the new value even if
maybe a normal cash with no coherence
aport would just keep reading the stale
value because it never gets replaced so
we have to do something in order to make
this part of the definition work for
private caches that are caching data in
a coherent system so we must do
something to make these caches behave
this way and finally the third part of
the definition says that if there is
more than one write to the same location
then these rights must be serialized
that is any two rights to the same
location must be seen to occur in the
same order on all the cores what this
part of the definition really says
different courts should not be able to
disagree about which write occurred
first in which occurred second note that
the second part of the definition
doesn't really require this to happen
let's say there was one write on c1 and
another write on c3 when three two reads
it's allowed to return after a
sufficient time either see ones or see
trees value because it's allowed to
interpret this order as either c1 and
then c3 wrote or the other way around
what this part of the definition says is
that whatever c2 sees if c2
for example sees that the final value is
that from c1 and not from c3 then all
the other cores when they read that
location after c2 need to also see that
order so it cannot happen that see two
things c1 wrote last some other core
sometime later reads and still sees see
trees value so this is really saying is
that everybody including the writing
course will see the value that is
consistent with there being some
particular order to the rights
it doesn't require any particular order
for example the writes can happen almost
simultaneously and in which case we are
free to choose which happened first and
which happens second but we cannot allow
some course to think that one write was
first and other course think that
another write was first</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>