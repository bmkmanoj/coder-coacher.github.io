<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Nested Selections - Data Visualization and D3.js | Coder Coacher - Coaching Coders</title><meta content="Nested Selections - Data Visualization and D3.js - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Nested Selections - Data Visualization and D3.js</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/H5KtRJ4Nu5w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">again I want to stress that one of the
most powerful features of d3 could be
considered its API and how it makes you
think since every method in d3 returns
the element or elements that it was
called on you can naturally chain
methods one to the next don't worry
about all the changes we've been making
to the page any changes we make are
purely on the client side meaning only
within our local browser and if we
refresh the page Udacity site goes back
to normal so now let us refresh the page
and then start manipulating with the
fresh HTML page after we've refreshed
the page you can see that the navigation
bar has its original background and the
title is back to data visualization
rather than John's pretty pictures I
wanted to walk through how to actually
change the logo and what's happening
behind the scenes in more depth the
first step as always is to inspect the
element and try to find some unique
identifiers either a class ID or tag to
use with d3 select function as you can
see here the logo is an image tag but it
doesn't have any classes or IDs defined
on it does this mean that we will not be
able to select it no we simply have to
look one level up or as many levels up
as we need and navigate the Dom tree
from the closest identifiable element
what does that mean exactly well going
one level up to its parent the image tag
is contained within an a tag and this a
tag as you can see when you hover
highlights the Udacity logo meaning that
the image is indeed a sub selection of
the a tag and looking at its class of
logo and navbar brand I'd be willing to
bet that if I search for a with both
logo and navbar brand
I'll find a unique element which returns
this selection so calling d3 select with
a navbar brand dot logo which again is
looking for both navbar brand and logo
classes defined on the a tag again as
you see here we get returned with a d3
array object and inspecting inside we
see indeed
there is an a tag that has that logo
that navbar which Heaney Klee identifies
it and corresponds to the logo that
we're looking to change since this a tag
also has an ID header - logo we can
select it using a CSS selector for the
ID the syntax for CSS selectors to
select an ID is simply the hash or pound
symbol and then the ID following let's
save this selection into a variable
let's call it parent element and now
let's try to find a way to get the image
tag to actually mutate its source again
because what's returned from the
selection has all of d3 z-- methods
defined on it we can make another sub
selection scrolling through the list of
methods defined we find select we can
select within this element and
arbitrarily select however deep we may
need to go in this case we're lucky and
only have to go a single level down also
in this case since there's only a single
item within the a tag we know that sub
selecting an image tag on the previous
selection of the a with ID header logo
we're guaranteed to get the element of
interest as you can see here the image
tag we hover and it corresponds to the
logo to finish our remodel of Udacity
site we simply need to change the source
attribute defined on the image tag we
can change any attribute defined on any
HTML tag using the dot attr
or attribute method defined on a
selection or d3 object or we're
interested in just changing the source
you can actually change any attribute
the alt text may be a class or an ID in
this case let's just try to change the
alt text and see what would happen
notice as we change the alt q' john's
logo since was displayed in the chrome
developer console is the dom and not the
static source of the page the alt name
actually changes in real time to John's
logo to change the source we simply need
to change alt to the string source and
in our case I've already found the URL
for the zipfian logo and stored it in a
very
zip running this line the source should
dynamically update and the logo image
should change and voila as you can see
here the logo has changed as if Enoch
Adam YZ logo and if we hover over the
Dom representation of this we can see
that indeed the source has changed and
it corresponds to the zipfian Academy
logo</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>