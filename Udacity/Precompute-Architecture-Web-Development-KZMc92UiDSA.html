<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Precompute Architecture - Web Development | Coder Coacher - Coaching Coders</title><meta content="Precompute Architecture - Web Development - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Precompute Architecture - Web Development</b></h2><h5 class="post__date">2012-05-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/KZMc92UiDSA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">sounds like your systems getting better
there now my understanding is this this
rat's nest of computers is also gone
right so in the process of moving to
cassandra the the system for the
precomputed queries became a lot more of
them were mutated in place so what what
the app will do when say you remove
something from your saved links so it
has to be taken out of your sales page
is it will fetch from Cassandra the
precomputed list of your saved page
remove the item from it that you didn't
want anymore and then put it back into
Cassandra and it has to lock around that
but the advantage there is it doesn't
have to just rerun the entire query
because it's only making one little
change so instead of like sending this
complex query to a machine that's
already doing lots of complex queries
you just smartly update the write the
the ultimate product of this is a cache
yes so you just update the cache
directly right there's a few types of
queries that that's not possible with
and those are things like your top links
of this hour so this all goes away yes
yes so we're gonna I'm just gonna make
this go away we do still use queuing you
still have a queue but not for this
stuff okay the top links of this hour
that kind of stuff instead is recomputed
on mass for the entire site using
MapReduce and what that does is it will
every link that was submitted in the
last hour and then it like groups them
up and figures out where they should go
and then just completely over writes
those listings every 10-15 minutes we
haven't talked about MapReduce yet so
the first question I have for use the
data that your your mapping over where
is that stored it's coming out of post
Chris so you have a job that takes takes
data off Postgres and then and then and
then runs the big the big job on right
now is this the same set of machines
that you would use for we have one slave
for links dedicated okay so there's like
another little replica
that only does dumps is the only right
for dumps yeah
now what about comments and votes and
these other guys there's no actual
queries that need that deploy so so
there's a special links thing and then
you run MapReduce jobs on this right
every so often and then that gets stored
in Cassandra Cassandra</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>