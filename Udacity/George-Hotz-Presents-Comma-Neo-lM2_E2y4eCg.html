<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>George Hotz Presents Comma Neo | Coder Coacher - Coaching Coders</title><meta content="George Hotz Presents Comma Neo - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>George Hotz Presents Comma Neo</b></h2><h5 class="post__date">2016-12-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/lM2_E2y4eCg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright alright so we're company I we
shipped this last week it's called open
pilot it's freely available on our
github it's an open-source alternative
to autopilot and we'll get to what that
means in a minute next slide
um this is the kama neo which is the
hardware that can run open pilot you
cannot just take your car and install
open pilot on it
there's no processor in your car that is
powerful enough to run it a lot of the
processors and cars are not very
powerful at all except the new Tesla
Model S is now I believe shipping to
Tegra x1 s so there might actually be a
way if you are sufficiently a hacker
inclined to actually run open pilot on
the Tesla without any additional
hardware which would be really cool but
yeah most cars do not have a process are
powerful enough so we open-source a
robotics platform called the common neo
and we'll get to some more about that
later so these are the two cars that are
supported right now if you go out and
build this put this together you can put
this in your car we drove down today in
the Acura ILX and this seriously did 50
percent of the driving and it could have
done way more if I wasn't scared to
power cycle the car because the battery
died the highway can do almost
flawlessly is on El Camino El Camino has
cut ins and weird stuff that it can't
quite handle yet but new versions coming
soon um so hit it and we have this is
just a short video of it working press
it one more time it's just there we go
this is just a short video of it working
yeah I mean this is what it looks like
if you build this put in your car so
we'll talk a little bit about machine
learning a common machine learning is
the technology that makes this all
possible so to collect data we have 50
terabytes of internal should we drove a
clicker well the problem is like hmm
maybe we had a string and I tugged on
the string and then I
all right so we have over 50 terabytes
of data that we collected internally
using our car similar in quality to the
Udacity data we have six hundred plus
thousand miles of data from our dash cam
apps shipper and um so we're
continuously adding the data that comes
in from our apps to the pool of data
that we use to train our models and
there's no human labeling involved we
use temporal information to
automatically ground truth all of the
stuff right cars move trees don't that's
a way to tell the difference and it's
very easy using like structure for
motion algorithms to tell on you know
like the boundaries of an object and
well like I said some objects move some
objects don't so we have a pipeline
which labels everything automatically
what we learn we learn a CNN coupled to
an RNN one guy at a track-day once once
asked me yeah but which order are they
I'm saying you put the yarn in first
yarn and bond all the pixels and those
see in it we go from the images to a
feature vector and then we go from
features to target distributions and we
decouple the temporal aspect from the
image aspect and the reason that you
have to do this and maybe some of you
discover this with challenge to if you
actually try to run those models on a
real car you're gonna get into these bad
feedback loops um it's it's very hard to
train using this method is called
behavioral cloning basically train a
neural network to behave like you've
seen humans behave it's very hard to get
behavioral cloning to not end up in
weird feedback loops because when it
trains its output does not affect its
next input but at test time it does
because it's actually running a dynamic
system this is the output of vision D
which is the binary and open pilot that
actually ships one of our neural models
yeah we actually have a model running so
this is a one plus three smartphone we
have a model running on the the Qualcomm
Snapdragon 820 it outputs it's very
simple it outputs a bunch of points that
it believes lie on the path a bun
your points that it believes lie on the
left lane the right lane and then a
visual estimate of the lead car we do
most of the lead car stuff using the
radar but the Tesla truck incident was
because the radar filtered out the truck
as stationary right and that's that's
that's what happened there the radar
filter that was stationary
Ilan posted on Twitter that he thought
it you know it mistook it for a overhead
highway sign all right so that's why we
have our vision model output a lead car
as well and then what you can read in
radar D and open pilot is the fusion we
do it's not that great there's a whole
lot of room for improvement but um yeah
so let's talk about the common neo
that's the actual hardware that runs
this thing what is it well it's a
smartphone the modern smartphone really
have you noticed how much more and more
smartphones start looking like humans I
mean they kind of are right they have
they have like low microphones and some
you know sensors to sense this and they
have you know some cameras so they can
see and they have some some light
sensors you know there's two pathways
you rise it to your brain one of them is
a light sensor they look more and more
like like humans um so smartphones are
incredible we connect it to a can
interface board all the designs are
freely available on the internet that's
the bridge that actually connects your
smartphone to your car we have a thermal
solution because smart phones are not
designed to run at a hundred percent CPU
they overheat and then they throttle
down I literally Android specs are just
a race to get the best thing on
Geekbench some of the phones even have a
if Geekbench don't throttle as
aggressively because the phone gets hot
in your hand so we have a thermal
solution not that great we stuck a bunch
of heat sinks on the back of the phone
made a fan go into the heat sinks but
it's something and then we put it in a
3d printed housing and that's Neil we
have a great guide put together our
friend to works in a big tech companies
like this is the nicest documented build
I've ever seen we have a guide a
hardware guy Eddie put this together
really nice job looks kind of like an
IKEA furniture guide I did I say did I
say be easy as
like you furniture so these are some of
the steps from the guide these are the
schematics of that board this is the
breakout cable that actually connects so
the company Hill has an Ethernet port on
the back of it you can connect this to
all sorts of things
ODB parts golf carts Honda Civics Acura
ILX is all sorts of things how to test
the board and yeah
so these are the suppliers you can build
a common neo if you just place six
orders place six orders to these very
common suppliers with the stuff we have
on the Internet
it's designed to be built by anyone who
can shop online and use a soldering iron
this is the common neo this is a
spinning common neo a TechCrunch I said
the difference is ship ability the
difference with the common neo is build
ability you can build this and you know
tech shops can have everything you need
open pilot so that graphic that I showed
you earlier was actually the autopilot
graphic our design team doesn't have as
much of a budget um open pilot is the
code which actually drives the car this
is so we have in the internal version
we'll be shipping it very soon this is a
car abstraction layer if you want to add
support for your car to open pilot
you're gonna need to find these things
and someone earlier asked about the can
buses all these things should be
available on the can bus of a car
basically the speed of the car the
four-wheel speeds of the gas whether the
gas is pressed the brake whether the
brake is pressed on steering wheels are
a little bit different they usually have
a torque sensor which is what the power
steering system actually uses and then
an angle sensor which is what we close
the loop on in our PID loop to drive the
steering wheel to a certain position and
then the cruise control whether the user
is pressing buttons but very simple
stuff and should be fairly easy to find
on any modern car um this is a little
harder this is the packet that you
actually have to send to control the car
so you need to figure out how to control
the gas and the brake and steering
torque not
let you control the gas directly you can
tap into the cruise control system if
you want to use the gas even very old
cars that all they have is electronic
cruise control you might be able to get
a common neo to behave as a adaptive
cruise control that only hits the that
only takes its foot off the gas you can
actually do a decent amount of highway
longitudinal control with only that our
controls D is the software is the main
control loop running the car there's
four parts adaptive cruise which is
there's a car in front of me what should
my speed be basically and how fast what
acceleration should I use to get to that
speed then we have a longitudinal
control PID loop which actually does and
which actually carries that command out
we have a path planner which talks to
Vision D what line do I actually follow
it's very simple it kind of just takes a
weighted our average between the two
lanes and filters in the path prediction
then we have a lateral control which
actually goes and does this if you want
to be here in 20 meters turn the wheel
this much PID close the loop on the
steering angle and that's how that works
I'm coming eyes the Android of
self-driving cars we want to build out
this platform to support as many cars as
we possibly can more and more cars are
going to ship with the stuff that we
actually need to make this happen
adaptive cruise controls let you command
a brake Lane Keeping Assist systems let
you command the steering wheel we want
to out and the software that drives a
lot of these on the cars is really low
quality except for Tesla's we want to
provide better software to all the other
manufacturers even if the manufacturers
don't want to buy it even if you want to
buy it as an aftermarket accessory we're
willing to work with aftermarket
manufacturers with dealerships smaller
manufacturers have been receptive yeah
and as far as nishta goes let's change
the safety conversation from legal
threats to pull requests here's the
thing about lawyers and regulators
lawyers and regulators can only prevent
a bad thing from happening
it is only engineering and technology
and things like that that could actually
make a good thing happen so instead of
just trying to stop people from doing
things
if something's unsafe write it better
and submit a pull request right and
that's how we can really move
self-driving cars forward in a very fast
and very safe way and you know one of
the big concerns of the regulators is
like you know what if one company gets
into an accident and then doesn't share
their data with the other companies and
then future accidents could have been
presentable preventable why don't we
just develop the whole thing open source
so that's who we are that's comma AI and
all teh questions
so your open source karma your open
source is software right and github the
CV and ml stacks or blobs or we can open
source no no so when you think about
like what test the autopilot is a Tesla
autopilot uses a CV ml blob as well it's
called mobile I or at least the old one
dead right so you can think of vision D
a whole lot more like mobile eye and an
automotive spec think of it as a QM park
right all of the code that actually
controls the car and all of the safety
critical decision-making code lives
outside of vision D that's what's freely
available and that's what will let
people port it to other cars our
business model of course is to provide
the machine learning to own the data and
to own the network so I got on one of
those phones and I go to my I installed
on my phone and I submitted a bunch of
features and pull requests to the github
but um I wonder if I can have the rest
of the hardware from you since you have
a company that has a lot of them and the
other question that I have is I wanted
to make changes and try to see what
happens because I need to create a
vision the replacement because I don't
trust one that doesn't come with the
code and I wonder if I can have access
to your data and if all of us can have
access to your data to learn so okay
with respect to the hardware or comma I
can't give you any hardware we don't
sell products we only move bits we don't
move atoms atoms can be regulated bits I
mean they can try right you can go down
with the Liberator on Pirate Bay I don't
even know if I'm allowed to legally say
that with regards to giving you the data
so common AI has open sourced seven
hours of data Udacity has open sourced a
big chunk of data you're absolutely
welcome to make your own vision to you
replacement yeah I mean there's there's
tons of open source data out there so so
there's opportunity yeah I don't so
that's cool I'll try to open-source my
own data
absolutely Oh George thanks for the talk
I recently bought a car which is not a
Honda but it has a sensing movement and
I do want to port what we have here to
that I did that this is a bit technical
that you said in the documentation that
below 18 miles per hour the firmware for
the car doesn't allow the autopilot to
work can you please do it yeah um so on
the Acura ILX so on both the Acura ILX
and the Honda Civic if you go and build
this yourself
it runs using the the PCM the powertrain
control modules built in cruise control
loop the thing about that cruise control
loop is it doesn't work below a certain
speed on the ILX the Civic doesn't have
this limitation only the ILX does but
yeah the reason it it basically
disengages below a certain speed and
then there's no way to hit the gas pedal
again until the user gets above that
speed and re-engages I'm inside comma a
I the way we address this is we built a
gas pedal interceptor we built a piece
of hardware that actually sits on top of
the pedal and virtually presses the
pedal with analog-to-digital and
digital-to-analog converters will
probably eventually open-source that but
that is a whole lot more safety critical
than everything else that's here the
thing about everything else that's here
is it's designed to use the api's that
the lane keep assist and the adaptive
cruise control already use on the car so
you get safety provided by the cars
modules if you start doing that with the
gas pedal you have to do it carefully
and that's why we have an open source
that yet but yeah you can certainly have
a conversation about that also which car
mazda6 it might not have that limitation
there might actually be a cam packet
that can control the gas on other cars
all we've really looked into in depth is
Honda's
I looked a little bit into Ford's they
looked even more confusing but yeah cool
so what further improvements needs to be
made if you want to drive as good as
humans in rain and snow and my second
question is let's say if we ever have
self-driving drones how do we actually
localize them given that we just have
GPS accuracy which is not ten meters or
so
so with regrets to rain and snow that
isn't the common use case of driving if
you really want it like the way I would
attack a problem like this don't try to
attack the small weird use case most
driving and most fatal accidents for
that matter happen when the weather is
completely fine so you know pump that
problem it's it's probably I don't see a
reason why the camera can't do it it was
raining on the way down here it works
pretty well with regards to how to
localize drones drones are easier to
localized in cars because you're really
2d right so just take a picture pointing
downwards send that picture up to a
server and find it in a satellite image
I can find a match and then you can get
probably a couple couple centimeters
what are you looking for when you are
hiring you have a bit of a different
review than some of these car companies
absolutely um so yeah I don't care about
your credentials I don't really care
where you come from we look for two
things we look for intelligence and
motivation yeah I really want one of the
biggest metrics to use is how many stars
you haven't good hope kind of shallow
but if you have stars on github that's a
good side and then we look at your code
have you written good code and then we
do a programming challenge do well on
the program you challenge we invite you
in for a paid micro internship and then
do well on the micro internship and we
offer your job but yeah I think it's a
lot different from how a lot of the uh
you know the tech companies
traditionally I recruit I don't care
what your GPA is okay who finished
college I judged so recently there's
been a big push for open source I mean a
lot of fields like Google open sourcing
tensorflow and most big companies have
open sourced their machine learning
tools why do you think there's been such
a backlash in open sourcing self-driving
car software I don't think there's
really been backlash I haven't gotten
any backlash people seem generally
supportive of it I think that maybe I
mean the truth is cars are dangerous
right
cars are dangerous whether it's
self-driving car or no self-driving car
cars are just just dangerous um so maybe
there's there's there's there's
quote-unquote backlash around that but
like I said I haven't seen any I think
open source is definitely the way
forward in self-driving cars I mean I
think that's it's a big problem and
there's there's a huge pie to go around
if we actually get this technology built
out to the point that for one company
thinking they're going to own the entire
vertical some companies even think
they're gonna own the vertical to the
point that they're making the car
they're making the self-driving they're
owning the ride-sharing I don't want to
own a vertical I want to own a tiny
horizontal let everyone else on the
other parts of the vertical so do you
see do you see the bigger companies open
sourcing not until they majorly change
their cultures I also don't see
themselves in self-driving any time soon
my money is on three companies to solve
self-driving cars and none of them are
coming I unfortunately maybe maybe will
win but I'm realistically the leaders
are probably uber Google and Tesla they
all have their own sets of problems uber
makes no money until they get to level 4
can you BIR continue to get capital for
five more years Google I mean it seems
like most of them most of the people
bailed and joined Auto Chris Urmson left
now they have a car company CEO running
net so who knows there
the tech is good though and Tesla of
course I mean I think Tesla is really
number one in this space but I don't see
them licensing their technology for
other cars besides Tesla Apple builds
iOS in order to ship more iPhones test
the builds autopilot in order to ship
more Tesla's there's certainly room for
a player like Khamenei I to come in and
you know get the 80% get the yeah
I'm very curious about the hardware
actually so like Tesla's immediate
solution which is very expensive you
mentioned your hardware chief so how do
you make it cheap and powerful at the
same time which also can meet the
automotive standard well okay so meeting
the automotive standards all different
thing meeting the automotive standard
only applies again if you're trying to
sell a product we're just doing open
source stuff I mean even then it's
unclear whether some of those standards
you need some of your parts need to meet
a certain standard but if you classify
them as like QM like the vision system
which is what you'd be running on the
Nvidia chip then it's kind of less
important for that chip to be automotive
grade as long as the chip that's
actually making the final decisions is
automotive grade and basically you have
you know you write your code in such a
way that no matter what garbage the
first system sends the system still
behaves within acceptable bounds but
invidious chips are they're not that
expensive actually that's a the chip
that tests that I believe is using is
the the x1 um there's a chance they're
using the next generation but if they're
using the x1 X ones are available in the
$200 and Vidya shield TV which is a
great piece of hardware to hack we
almost shipped on a shield TV but it
doesn't come in a case that's so
beautiful that has an LTE modem in it
too you got to get that data back right
it's uploading data right now by the way
we have 79 minutes of data pending it's
but yeah um so yeah automotive chips
someday someone will need to worry about
that not quite yet thanks for bringing
openness to a very closed system do you
have a running list of problems or
bottlenecks that comma doesn't plan to
it sort of solve and for other people to
jump in and contribute on this like
other layers yeah um so there's the
there's the whole stack from a
perspective of like it's the actual code
that drives self-driving cars is a
fairly small part of what I call the
whole stack right so other parts that
whole stack is who makes the physical
vehicle right other parts of that stack
is who all
like the ride-sharing network or who
owns the the dealerships right I want
out of that part I want out of that part
I want to own a small segment of the
horizontal um with respect to what our
code actually does and how to contribute
to that the absolute best way and what
we expect what we really hope
contributors will do in the next year is
add support for other cars that's the
big one because the more the more
breadth we can get out to this the
better you know more support more users
we love users hey George are you doing
Andre from connected car San Francisco
great pivot and question for your
business side yeah who do you see as
commerce customers in 12 months 18
months is it your ones um so our goal is
to own the data and to own the network
there's a whole lot of products that I
haven't announced anything business-wise
yet so I'm not gonna go into too much
detail but there's a whole lot of
potential ways to go that don't involve
the kick down the door and try to sell
self-driving car software to OEMs um
this doesn't work you know I met with a
lot of the car company CEOs last year
and good luck good luck and if you did
even if you did even if they loved you
even if they really wanted to ship what
you had they're still thinking in terms
of a five-year product cycle so your
thing's gonna ship in five years I'd
like to solve the whole problem before
then so other ways to do it we haven't
announced basically what the business
model will be yet but I have ideas
George we shouldn't it now if that's ok
cool so we can just keep on timeline
cool I'm so sorry for being the horrible
person on this thanks so much George
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>