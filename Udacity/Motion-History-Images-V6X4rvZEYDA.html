<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Motion History Images | Coder Coacher - Coaching Coders</title><meta content="Motion History Images - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Motion History Images</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/V6X4rvZEYDA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so I'm pretty sure we showed this before
when we were talking about motion
perceptual organization and as it says
here even an impoverished motion data
can evoke a percept and presumably you
all see these moving dots as a person
walking right so you're not recognizing
this as a person from the appearance of
the dots you're recognizing this as
motion and then you see that it's a
person and in fact I can prove that to
you looking at some work that was done
by myself and Jim Davis now professor at
in Ohio and so I'm gonna show you here
so when you take a look at this picture
unless you've seen this demo before you
probably don't know what that is
when I put this thing in motion what do
you see what you all probably saw was
somebody sitting down and what's
interesting is now when the video is
done you can sort of see that oh this is
a person standing up right here right in
fact there's some sort of a blackboard
behind them and then once they sit down
their head is here and the body's here
because there's actually a chair over
here but until that motion happens you
can't actually recognize that so we did
a little bit of work on some technology
would let you recognize this and we
created this thing called motion energy
images so here you see a picture of
person this is a clear video all right
where the person's sitting down that's
by the way claudio pinatas who also got
a PhD in computer vision now doing great
stuff down in Brazil and but these are
representing our cumulative images of
how where stuff has moved okay so the
idea is when you're all done this is the
area in which stuff has moved and you
know the question is that's somehow
indicative that's something about that
pattern and how it moved in there is
indicative of the actual motion pattern
itself so can we recognize that
explicitly so we created this thing
called motion history images which
becomes the motion energy images also
which are a function
of the temporal volume and what I mean
by the temporal volume is that same
thing right X Y and T so I've got a
collection of video and it's really a
very simple recursive computation this
is an MHI image motion history image and
the way it works is quite simple as each
new frame comes in in this particular
case you run some algorithm to tell me
which pixels are moving in that frame
now of course this is under the
assumption of a static camera and if
you're not using a static camera
you'd have to compensate for the motion
of the camera threshold out the motion
of the person all the usual caveats but
then when you do that you get this very
simple operation if a pixel is moving
set that location at time T to some
maximum value tau and you're gonna pick
tau may be tau is 15 I'll tell you why
15 in a minute right and if it's not
moving that's the otherwise I'm just
gonna decrement whoops
over here decrement the value okay from
the previous time but I don't go
anything any less than zero so the image
on the right is an example the brighter
pixels like over here they've moved more
recently so this is time T maybe they've
moved at time T minus 1 they just moved
before so they started out as tau so
maybe tau is 15 X let's make it 30 that
example worked out it was 30 so now
would be 29 but the pixels up here they
moved the last time they moved was 15
frames ago so its value would be now tau
minus 15 so if tau over 15 to be zeros
that'd be black that's why even work so
well but if tower 30 T minus 50 15 it
would be now down to 15 right it would
have counted down to 15 so these areas
are nice and bright right because they
just moved these areas are darker gray
because it was a longer time ago that
they moved and so the way you can think
about this motion history image is that
it both shows you sort of where stuff is
moved and it also shows you sort of how
stuff is moved because you can tell that
the stuff up here moved long time ago
and stuff down here is moving more
recently it's a recursive filter that is
I only have to keep track of I of tau of
X Y and T mine
of T and I can create the new one when
the next frame comes in so I don't have
to remember my old frames the other
thing is where did Tao come from well
the pixels go from Tao down to zero so
let's suppose I'm bringing in 30 frames
a second so if I set Tao to 30 then from
30 to zero is a range over a second and
what that would mean is that anything
that happened longer than a second ago
I'm not worrying about so I'm
recognizing action that's the length of
a second suppose you wanted to check
whether something could happen slowly
right like he sits down slowly it takes
him a full second to slip down because
he's really slow or somebody sits down
quickly right because they go like this
and they get that's not Megan playing
with the video anyway so they can do it
in a tenth of a second so sorry you know
in a third of a second so that would be
towel of 10 right 10 frames well one of
the kind of cool things about motion
history images is if you give me the
motion history image of Tao right so
everything goes from let's say thirty to
zero I can just if I wanted the motion
history image for tau equal to 20 I
could just subtract 10 from it right so
30 becomes 20 and anything that's less
than 10 just becomes zero so it only
looks back 20 frames so it's trivial to
compute I I of tau xx from I motion
history tau xx from motion history tau
30 so I only have to keep one around
which everyone's the longest one and I
can check all of those time windows at
the same time and then also as should be
clear if this is the motion history
image that goes from white to dark if I
just wanted the motion energy image
where anything has changed all I can do
is just threshold that picture write
anything greater than zero make a 1
otherwise it's a zero</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>