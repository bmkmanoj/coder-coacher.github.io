<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Putting it all Together | Coder Coacher - Coaching Coders</title><meta content="Putting it all Together - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Putting it all Together</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Jt23bEds5XI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">at this point we've covered all of the
essential pieces of a memory system now
let's step back and put it all together
to help us do this
I've written some pseudocode that
captures the strategy for loading data
into the CPU you can imagine that we're
writing an emulator if you like the
first thing that needs to happen to a
virtual address is for it to be
converted to a physical address we'll
postpone that until later then if the
data is in the cache we simply read from
the cache otherwise we read from memory
note that whenever we read from memory
we also write to the cache evicting some
block if necessary this processes is
what we talked about in the first half
of the list the second half of the
lesson was largely concerned with
address translation the first place we
check is the TLB if the physical page
frame is there then we're done if not
then we need to consult the page table
notice that none of these procedures
that access the page table should use
the load procedure as its defined here
the top level page table cannot be in
the paging system itself otherwise load
would call translation which would then
end up calling load again which would
end up calling translation and so forth
we can imagine a fixed page being
assigned to store the top level page
table another good reason for making
this small I've made the check for the
access violation explicit here because
it's in the page table that this is most
likely to happen it's possible that we'd
get an access violation in the TLB if we
tried to read a kernel page but for the
most part the page simply won't be there
if the present or valid bit isn't set in
the page table entry that means that the
page we want isn't in memory so we raise
a page fault this will then be caught by
the page handler up here and then we can
rerun the load procedure and this time
we will find that it's in memory and so
we won't raise the page fault again
obviously this pseudocode has its
limitations by using just software we
can't capture the interaction between
the OS and the hardware and we're
abstracting away many of the details
nevertheless if this makes sense to you
then you have a good high-level idea of
how a memory system operates</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>