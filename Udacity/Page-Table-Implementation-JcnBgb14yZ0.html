<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Page Table Implementation | Coder Coacher - Coaching Coders</title><meta content="Page Table Implementation - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Page Table Implementation</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/JcnBgb14yZ0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now we consider the implementation of
the all-important page table data
structure which needs to translate
virtual page numbers into physical page
frames virtual page numbers start at 0
and then go up by 1 so the most
straightforward way to do this would be
to create a giant array that is the
number of pages long let's see how the
strategy might work
suppose that we have a 48 bit virtual
address and a 32 bit physical address
and let's say pages of size is 4k we've
used up 12 bits for the offset leaving 2
to the 36 possible virtual page numbers
that means that we need an array 2 to
the 36 long each entry probably having 4
bytes to specify the physical address
which brings us to a total of about 256
gigs which is more memory than most
machines have in RAM and of course
almost all of it is wasted since most
virtual addresses aren't used even with
just 32-bit virtual addresses we would
still need a page table with 2 to xx
entries and that would put us on the
order of several megabytes and of course
we need one page table per process
so instead page tables are done in a
hierarchical way in our 32-bit example
the highest order 10 bits are used as an
index into a top-level page table the
contents of this page table then give us
the base address of another page table
we use the next 10 bits as the index
into that lower level page table and the
contents of that page table then give us
the physical page number why does this
help us use less memory well recall our
virtual address space we use addresses
at the bottom and we use addresses at
the top but there's a vast empty region
in the middle
many of these unused addresses will have
the same ten high order bits and for
these we won't even have a secondary
table thus we end up using not too much
more memory for the page table than we
really need to the particulars of the
actual paged implementation vary greatly
some have three levels others have 4 but
they all use this basic hierarchical
strategy</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>