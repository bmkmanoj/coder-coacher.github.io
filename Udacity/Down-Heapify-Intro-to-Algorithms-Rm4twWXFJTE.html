<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Down Heapify - Intro to Algorithms | Coder Coacher - Coaching Coders</title><meta content="Down Heapify - Intro to Algorithms - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Down Heapify - Intro to Algorithms</b></h2><h5 class="post__date">2012-07-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Rm4twWXFJTE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so let's let's try to do this in a
general way now all right so we call
this procedure down heapify so let's
let's talk about how we actually will
build this so I made a couple help of
routines to help with the heap so given
a position I in the heap left of I
returns the position of the left child
right of I turns position of the right
child parent of I returns the position
of the parent root of I answers whether
or not the node that we're talking about
is a root is the root leaf li returns
whether or not we're looking at a leaf
of AI in other words it has no children
it has no children if what we're the
right child would be is off the end of
the list and where the left child would
be is off the end of the list and then
there's one other special kind of node
and there can be at most one of these in
the whole tree and that's a one child
node so that happens if a node has a
left child which is the very last
element in the array so the right child
doesn't exist so that just well and
that's what I said if the right child is
at the very end of the list then or off
the off the end of the list then that's
that's a one child node so down heapify
is this notion that we've got a we apply
this in the notion where we've got a
heap rooted at node I that satisfies the
heap property except perhaps I - it's
children
it's a - it's immediate children so we
can apply this if the the heap property
is satisfied everywhere except maybe
between the root and it's kids so the
root in particular well node I and it's
kids let's just say that so if I is
actually a leaf then we're done right so
we we satisfied everywhere except for
between I and it's children and I
doesn't have any children so good so
that's that's great the property is
restored if I has only one child then we
need to think a little harder so in that
in the case where I has one child we
check the heap property between I and
it's one child on the left and if I is
bigger than its child that's bad that
means the heap property isn't satisfied
but all we have to do to fix it is we
just swap the value in the left child
and I so that's what we did and then now
we know that that last node is the very
last node in the tree that node we just
swapped into is the very last node in
the tree so it must be that things are
happy everywhere what if I has two
children so this is some internal node
in the tree now or possibly a root of a
large tree so we have two now we check
the heap property so I'm going to do
this this way I'm going to ask look at
the left and right children look at the
minimum value of those two if that is if
the minimum value is bigger than or
equal to L sub I that means L sub I the
value at node I is smaller than both the
kids so we're good the heap property is
satisfied everywhere we can just return
on the other hand sadly if that doesn't
hold then we need to see which child is
the smallest or the smaller of the two
and swap eyes value into that child so
that's just what we were doing in the in
the example by hand so so let's check it
if the left child is smaller than the
right child that means that the left
child is the smallest one so we swap I
and the left child's value and then we
need to down heapify on the left child
so we've basically fixed things
everywhere except for possibly the tree
rooted at left I could actually not
satisfy the heap property but that's
okay we can fix that by bubbling down
the tree with down heapify once again
it's just what we did when we're doing
it by hand and then we can return
finally we reach this point if the heap
property is violated and the right child
of I is the one is the bits between I
and the right child of AI so we can just
swap I and the right child of I possibly
causing the tree rooted at the right
child of AI to be violated so we just
run down heapify starting from there
when that's done we can return and we've
established the heap property throughout
the tree</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>