<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Implementing Token Based Authentication in Flask | Coder Coacher - Coaching Coders</title><meta content="Implementing Token Based Authentication in Flask - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Implementing Token Based Authentication in Flask</b></h2><h5 class="post__date">2016-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UwmHRTGalIY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this video I will walk you through an
implementation of token-based
authentication in flask there are
several ways of implementing this
functionality in your code but this is
one solution that I found to be rather
easy understand and secure I have a new
model spy file that contains the user
model and the basic HTTP authorization
code from the previous exercise here I
have a secret key which is just a random
string of 32 characters that I will use
to sign my tokens I will also make a new
method here called generate auth token I
will make the token be an encrypted
version of a dictionary that has the
idea of the user the token will also
have an expiration time embedded in it
which by default will be of 10 minutes
or 600 seconds the verification is
implemented in a verify off token static
method a static method is used because
the user will only be known once the
token is decoded now in my views dot PI
file I'll make a new endpoint that the
client can use to request a token note
that this endpoint is protected with the
auth dot log and required decorator from
flask HTTP off which requires its
username and password are provided next
I'll add code for handling a token when
my server receives one the HTTP basic
authentication protocol does not
specifically require that user names and
passwords are used for authentication
these two fields in the HTTP header can
be used to transport any type of
authentication information for
token-based authentication the token can
be sent as a user name and the password
field can be ignored this means that now
the server can authenticate requests
with the username and password and
requests with just a token the verify
password callback needs to support both
authentication styles this new version
of the verify password callback attempts
authentication twice it first tries to
use the username argument as a token if
that doesn't work then username and
password are verified as before I will
run my web server again and send the
following curl request in order to get
an authentication token I will rent my
web server again and send the following
curl request in order to get an
authentication token now the protected
resource can be obtained authenticating
with the token note that in this last
request
the
password is written as the word blank
the password in this request can be
anything since it isn't used the code
and requests can be found in their
instructor notes</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>