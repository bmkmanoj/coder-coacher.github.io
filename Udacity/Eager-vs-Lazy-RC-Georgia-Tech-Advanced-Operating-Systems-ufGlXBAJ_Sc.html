<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Eager vs Lazy RC - Georgia Tech - Advanced Operating Systems | Coder Coacher - Coaching Coders</title><meta content="Eager vs Lazy RC - Georgia Tech - Advanced Operating Systems - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Eager vs Lazy RC - Georgia Tech - Advanced Operating Systems</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ufGlXBAJ_Sc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so the vanilla RC is what is called the
eager release consistent memory model
and the new memory model is called LRC
or lazy release consistent memory model
let's see the pros and cons of LRC with
respect to vanilla RC or lazy RC with
respect to eager RC so what I'm showing
you here are timelines of processor
actions on three different processes p1
p2 and p3 and this picture is showing
you what happens in the eager version of
the RC model in terms of communication
among the processors
so when processor p1 has completed its
critical section does the release
operation at the release point what
we're going to do is all the changes
that we made in this example I'm showing
you to make it simple I'm showing you
that in this critical section
I wrote to this variable X so the
changes to X is going to be communicated
to all the processors p2 and p3 it could
be depending on whether it is an
invalidation based protocol or an update
based protocol what we are saying is we
are communicating the coherence action
to all the other processors that's what
these arrows are indicating now then p2
acquires the lock and after it acquires
the lock it does its own critical
section again let's say we're writing to
the same variable X and it releases a
lock and at the point of release once
again we broadcast the changes that we
made notice what is going on
p1 makes modifications broadcast it to
everybody but who really needs it well
only p2 needs it
but unfortunately the RC memory model is
eager and it says I'm going to tell
everybody that has a copy of X that I
have modified X and so it's going to
sell it to p2 it's going to tell it to
p3 as well p3 doesn't care because it's
not using that variable yet and p2 cares
and it of course is using that but when
it releases its critical section it's
once again going to do exactly the same
thing that happened over here and that
is it's going to broadcast the changes
made to share memory locations to all
the other processes in this case P 1 and
P 2 and then finally P 3 does its
acquire and then reads the variable so
all these arrows are showing you the
coherence actions that are inherent in
the completion of shared memory accesses
that are happening in the critical
section of programs now let's move over
to the lazy version in the lazy version
what we are doing is when we release a
lock we are not doing any global
communication we simply release a lock
later on the next process that happens
to acquire that same lock the RC memory
model the first thing it's gonna say is
oh you want to get this lock I have to
go and make sure that I complete all the
coherence actions that are associated
with that particular lock in this case
the previous lock holder had made
changes to the variable X so I'm going
to pull it from this guy and then I can
execute my critical section and then
when P 3 executes its critical section
is going to pull it from P 2 and
complete what it needs to do so the
important thing that you see is that
there is no broadcast anymore it's only
point-to-point communication that's
happening between the processors that
are passing the lock between one to the
other so in other words the number of
arrows that you see are communication
events you can see that there's a lot
more arrows here and forget about the
headers that I introduced but the black
arrows that you see are the arrows that
are indicating communications
commensurate with the coherence actions
needed for this set of critical section
actions and correspondingly the black
arrows here are showing the
communication actions for the same set
of critical section actions shown in
both the top and the bottom half of this
particular figure you can see there's a
lot less communication happening with
the lazy model it's also called a pole
model because what we're doing is at the
point of acquisition we are pulling the
coherence actions that need to be
completed over here whereas this is a
push model in the sense that we are
pushing out the coherence actions to
everybody
the point of release having introduced
the eager and the lazy RC models it's
time for a quiz</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>