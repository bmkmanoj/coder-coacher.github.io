<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Control and Data Transfer in Action - Georgia Tech - Advanced Operating Systems | Coder Coacher - Coaching Coders</title><meta content="Control and Data Transfer in Action - Georgia Tech - Advanced Operating Systems - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Control and Data Transfer in Action - Georgia Tech - Advanced Operating Systems</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/1ltIyoMcjlE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the first example that we look at is how
control and data transfer is affected in
Zen for network virtualization each
guest has two I o-rings one for
transmission and one for reception if
the guest wants to transmit packets it's
nq's descriptors in the transmit I
o-ring and placing these descriptors in
this I o-ring is via hyper calls that
Zen provides for guest operating systems
the packets that need to be transmitted
and not copied in the Zen but the
buffers that contain these packets are
in the guest operating system buffers
and what the guest does is it embeds
pointers to these buffers in the
descriptors that have been n queued for
transmission by hypervisor so in other
words there is no copying of the package
themselves from the guest operating
system buffers into Zen because the
point is to the guest operating system
buffers have been embedded in these
descriptors and for the duration of the
transmission the page is associated with
these network packets are pinned so that
Zen can complete the transmission of the
packets now this is showing the
interaction of one guest operating
system with Zen of course more than one
VM may want to transmit and what Zen
does is it adopts a round-robin packet
scheduler in order to transmit packets
from different virtual machines
receiving packets from the network and
passing it to the appropriate domain
works exactly similar to what i
described for transmission except in the
opposite direction what Zen does when it
receives a network packet intended for a
particular guessed it exchanges the
received packet for one of the guest
operating system page that has been
already provided to Zen
as the holding place for incoming
packets in other words in order to make
things efficient what a guest operating
system will do is pre-allocate network
buffers which are pages owned by the
guest operating system so when a packet
comes in Zen can directly put the
network packet into the buffer that is
owned by the guest operating system and
mq at descriptor for that particular
guest operating system so once again we
can avoid copying in the direction of
going from zen to the guest operating
system so one of the cute trick that
then also plays is that when it receives
a packet into a machine page then it can
simply exchange that machine page with
some other page that belongs to the
guest operating system and there again
is another trick to avoid copying either
the guests can pre-allocate a buffer in
which case Zen can directly put that
packet into the pre-allocated buffer or
if Zen receives a packet into a machine
page it can simply swap that machine
page for a page that the guest already
owns so those are two different
techniques for avoiding copying all
together in the reverse direction as
well</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>