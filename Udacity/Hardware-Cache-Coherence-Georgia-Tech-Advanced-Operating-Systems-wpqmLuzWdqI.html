<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hardware Cache Coherence - Georgia Tech - Advanced Operating Systems | Coder Coacher - Coaching Coders</title><meta content="Hardware Cache Coherence - Georgia Tech - Advanced Operating Systems - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hardware Cache Coherence - Georgia Tech - Advanced Operating Systems</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/wpqmLuzWdqI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now let's focus on the hardware
implementing cache coherence entirely in
addition to giving the shared address
space and there are two possibilities if
the hardware is going to maintain the
cache coherence one possibility is what
is called a write invalidate scheme and
here the idea is if a particular memory
location is contained in all the caches
all these processors have fetched this
particular memory location why and it's
been sitting in the private caches of
all these processes and if now processor
p1 decides to write to this particular
memory location it changes to from Y to
Y prime when that happens what we're
going to do is the hardware is going to
ensure that all of these caches are
invalidated so the way it is done is
that the hardware as soon as this change
happens it's going to broadcast a signal
on the bus called invalidate memory
location Y so that's something that
propagates on the system bus and all
these processor caches are observing the
caches and this is sometimes referred to
as new P caches in a lighter vein these
caches are snooping on the bus to see if
there is any change to memory locations
that are cached locally and in this case
if an invalidation signal goes out for a
particular memory location Y then each
of these caches is going to say how do I
have that particular memory location if
I do let me invalidate it so that
particular memory location gets
invalidated so the idea is if you have
that particular memory location
invalidated if you don't have that
memory location ignore it right so if
you don't have it you don't have to
bother but if you particularly happen to
have this memory location cached in your
private cache and if you observe an
invalidation for that particular memory
location you go ahead and invalidate it
that's what is called a write invalidate
cache coherence scheme you may already
be one step ahead of me and you may be
thinking what may be an alternative to
doing these invalidation and and you may
be you may be right
you've thought of perhaps updating the
caches that's what is called the write
update scheme the idea here
if this guy is going to write to this
particular memory location modified
y-prime what we do is instead of
invalidating it on the bus if there is a
capability in hardware to send an update
for this particular memory location on
on the bus you send it out saying that I
modified this particular memory location
there is a new value and if these caches
happen to have the same memory location
they all modify it from Y to Y Prime and
and now all of these caches have the new
value of y and the old value has
disappeared from the system so in this
case what we are doing is if you have it
updated once again your snooping on the
bus each of these processor caches is
snooping on the bus and if they see an
update for a particular memory location
they're saying well let me modify it so
that future access is by my CPU will get
the most recent value that has been
written into this particular cache line
that's the idea behind write update
scheme now whether we are talking about
this write update scheme or the earlier
write invalidate scheme one thing should
become very clear in your mind and that
is there is work to be done
whenever you change some memory location
that could conceivably be cached in the
other private caches of the CPUs in the
invalidate scheme you send out an
invalidation message if it's an update
scheme you send out an update message
and that kind of transaction that's
going on is is an overhead and as a
system designer one of the things that
you've been emphasizing all along is
that we want to keep the overhead to a
minimum but you can also see immediately
that the overhead is going to be
something that grows as you increase the
number of processors as you change this
interconnection network from a simple
bus to a more exotic network and also
depending on the amount of sharing that
is happening for a particular shared
memory location</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>