<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Lesson 2 - Udacity HTML5 Game Development Study Group | Coder Coacher - Coaching Coders</title><meta content="Lesson 2 - Udacity HTML5 Game Development Study Group - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Lesson 2 - Udacity HTML5 Game Development Study Group</b></h2><h5 class="post__date">2013-02-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/t6PIIH75odE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay for Lanka all right welcome
everybody welcome here in San Francisco
and everybody on the live stream thanks
for tuning in and with me I have Sean
Bennett from Udacity are one of our
instructors Colt McAnlis on the big
screen coming to us from hangout and
myself Peter lubbers so this is our
second episode of our Udacity html5 game
programming study group and really
excited to talk a little bit about unit
to today we're going to talk about all
of the questions you have and we have a
belt button or 60 or 70 people here in
the room take questions from the room
and then we have a little bit of a
technical problem here that we have cold
via the hangout today yeah but we're we
should be okay and just bear with us
with some of the delays with showing
some of the bits and pieces want to show
all right on the live stream sorry about
that I I got in a fight with a honey
badger as everyone knows they always win
so unfortunately I got some stitches and
some rabies shots and some other shots
that they said were for rabies but like
honey badger rabies really weird I
didn't trust the doctor too much but uh
oh hopefully I'll be back up next week
don't worry about me yeah PR must love
you honey badger okay that's right idea
for a game yeah gold Yeah right fight so
wanted to start opening it up maybe just
a quick round two threaded room like
what what are some of the questions you
might have are you
have you been able to to go through the
units what's the general feel for him
from the room yes okay good we got a
couple of people that have been able to
finish it so great alright so I guess
we'll jump over to the questions are
there any questions right now from the
room we have a mic up front yeah so feel
free and start asking the first question
on this way thanks um is this huh oh
it's on it's just it's all good but
what's Robert in sprite sprite sheet
dodges there's a global variable with an
associative array G sprite sheet where
the key is the sprite sheet ID and the
value is a sprite sheet object so why
not have that value be an object that
has a couple fields the sprite sheet
object and the index in the sprite array
because otherwise your get stats method
is searching linearly through the sprite
array every time to find the actual
sprite ok ok so Cole can probably answer
this better than anyone the question is
we've got this associative array
declared globally in the spreadsheet
class that uses the name of the sprite
sheet to grab the sprite sheet object
and the question is why don't we do the
same thing with the sprites in the
sprite sheet is that correct yeah this
so from the sprite ID we could get the
index into the array otherwise we're
actually just marching through the array
every time right so we could get the the
ID from the sprite sheet instead of
walking through the array and get stats
linearly each time
yeah so um Matt is definitely one of
those situations where we premature
optimization is the root of all evil
Frank and we saw a unique instance to
talk about the atlases at the global
level and the need for that to be
grabbed by a string name because that's
actually what as you start progressing
through the course you'll start
realizing that how we load our texture
atlas assets are a little bit unique in
whatever and we just kind of lazily
didn't apply that same hashing function
to the sprites themselves there is no
dark magic here good programming should
say use hashes everywhere as long as
your memory model allows you to we just
didn't get around to that there's no
dark magic here don't read into it I'm
just a horrible programmer I think I
thank you all right thank you go all
right so oh okay have another question
from the real question from deal so I
have a general JavaScript question along
in unit 2 I found myself typing in hash
keys that don't exist because I can't
spell very well but I was expecting an
error to come back and instead I was
getting an empty list and so when I was
trying to debug I I couldn't figure out
what was happening because I wasn't
getting any errors and when I went line
by line and figured I forgot the s on
frames that's when I figured out that
javascript is spitting out an empty list
for me I was wondering um what's a good
way to debug like that bug something
like that and if there are any other
javascripts quirks that we should be
looking out for as we progress because I
kind of spent a little too much time on
something that was really
kind of trivial yeah do it up take this
one take it for it so the question is
there are there any JavaScript gotchas
that we need to look at for orc orcs
specifically the one you were talking
about is where the where javascript will
basically just create an empty field in
a dictionary instead of throwing an
error saying that that entry doesn't
exist and there are much is the whole
language yeah finally is a gotcha yeah
I'll start with that assumption as a
mental model and will make your life a
lot easier yeah the way JavaScript was
designed wasn't exactly well planned I
was designed i think in six days was
right yeah and it's basically another
language called scheme that is totally
different from the way javascript looks
but then kind of Wired and mish mash
together to look like java because that
was popular at the time so the guy who
wrote it his bosses told him to write it
to look like java and there are a bunch
of other gotchas this is a good one that
this first that problem yeah i'm not
sure that particular one how I mean yes
you should be getting it would be great
if you got better error messages for
that but basically that's just like it's
doing what stuff you're not expecting it
to be doing over other gotchas I'm sure
you're going to be running into lots of
them can't give you a list of them right
now but maybe we'll find a couple more
here yeah we'll try to talk about some
more one of the good things which
browser are you using to to debug okay
so definitely always keep the chrome
developer tools open because they will
pick up a lot of errors that you don't
necessarily see or may not be logged to
the console by the program but they
might still be
easily accessible from from the console
itself right yeah it's it's definitely a
language with a bunch of different
issues I when writing grading scripts I
ran into the this verse that problem
where this does not mean what you think
it means based on what this means the
keyword this in other languages and the
basic rule there is don't use this
because it's a lie so yes there are a
bunch of gotchas would love to point to
some resources for listing some of those
out you might actually do that in some
of the yeah there's a great great book
JavaScript the good parts fantastic
that's a great resource that kind of
also really digs into what's behind all
these things of why you are not seeing
those things so that would be a good
resource just to you know the the other
thing that we are doing that we're
putting into the code editor on the site
on the audacity code editor is we're
putting an automatic j/s hinting and
janice linting or j/s hinting is just
basically a preprocessor that will run
through and catch a whole bunch of these
different gotchas including syntax
errors and you know this is used here
but it wasn't previously previously
defined maybe you don't actually want to
do that I would say jslint or Jason
depending on which one you prefer is
probably one of the better tools that
you should use whenever you're
developing JavaScript there's a plugin
for sublime yes well I think it's
sublime lintel I'm winter sublime let
their definitely get that so if you
write it in sublime you it'll pick up a
lot of possible things that will trip
you up for surely yeah right what and
what we're running on the desk seaside
is basically another version of
something like sublime winter it uses
the same back-end jsm service it's just
use those packets yeah so look at that
should help a lot no I know we're
staying on a schedule with this study
group to go a unit a week and all that
but I read something about Udacity and
the in the initial formation of Udacity
that they thought courses should have
strict time limits and things like that
I assume this course it's just going to
be open forever anybody can started at
any time I thought my question was the
knowledge that we gather from this if we
start adding knowledge like the things
we're mentioning in the answers to these
questions those could be shared with the
community over time and there's that's
the philosophy that you're doing yeah
that's really one of the soda did you
get that question cold I don't think you
did all right so basically the question
was we are going through this course and
on an eight-week study group but you
know what happens after death so a
couple of things so Tony mentioned
there's a lot of great stuff that's
coming out so clearly these videos will
be recorded and posted but also the
forums are full of things that people
have gotten that's actually one of the
nice things that I find of this kind of
scale that we're working on it lends
itself really well for sort of this
basically this more and more information
being a mast in this you know in the
different bits around the course like
the forums and so on right and we've
also got a wiki attached to the course
as well and there'll be some very
industrious do so fierce tools some
additional tools that you can use right
but just to be really clear about the
Udacity model and you know basically the
idea is completely asynchronous learning
so you start a course you can finish it
whenever there's no you know December
16th it's done and there's the exam that
of course has its good and bad sides
right the good side is you can do it
whenever you want the bad side is you
can go to any whatever you're right so
you may not have that pressure that you
might have if you were to go on a
certain schedule right basically when we
we were not a hundred percent ready to
launch ever
thing so we felt like hey this could be
a great opportunity to you know do it a
week at a time we have most of
everything done now but it's like it
would be good opportunity to try out
this system of you know one a week have
everyone do that but as soon as this
course is over or this study group is
over router you can people can start
then that day and you can finish it as
soon as they're done with the course so
there's no time limits after that right
and as to the initial part of your point
that the initial philosophy of Udacity
included you know timed courses and
deadlines and things like that we did
actually try that at first and we found
that actually a lot of people had
problems with it just because you know
people have lives basically if you're
not you know going to school full time
as a student or something like that it's
actually very very difficult to get
through one of these courses especially
when it's not you know directly tied to
some kind of institution that you're a
part of so we had a lot of people that
just couldn't finish on time and we
would rather just make it available to
everyone all the time and yes that does
you know kind of drop some of the
incentive you don't have that external
motivation that the deadline provides
but we feel like the goal that the idea
there isn't too okay we should put that
external motivation back in but rather
we should improve the internal
motivation that you have for the course
by making the course exciting and
interesting and something you really
want to learn yeah perfect
good well second go ahead okay just to
comment on his debugging issue i just
finished a javascript course in the fall
and looked at a number of different
tools and clearly people are trying to
solve these problems and so you know
dart is there to try to address some of
these problems and there's different
ways to approach and compiled down to
javascript but prototypal inheritance is
really important to understand and
understand well and if you can stick
with xmas script five if you can and you
strict it will catch some of the things
for you that will still trip you up a
necklace script three and the really
nice thing I learned was type script for
Microsoft allows you to use some of the
features of xmas script six now and it
will back port it to xmas script five
and it catches a whole lot of errors
because it's asking you to optionally
type in the typescript environment but
it just translates it all out to regular
JavaScript so it's an easier it for me
way to develop JavaScript and catches a
lot of my errors yeah thank you actually
take a quick commercial break as you
guys know I run the San Francisco html5
user group a lot of you are familiar
faces from that group but if you're not
part of it SF html5 org is where you can
sign up and this thursday and that's
where i think about it we have a meet up
and there's still space for that on dart
and two specific areas of dart we have
set lad coming in to talk about dart and
web components and more deep technical
session with john mccutcheon so that's
going to be a really good session to
learn more about the dart and in
addition to that we have which
unfortunately is already sold out but
there's a waitlist a dart for breakfast
code lab on Saturday so if you're
interested in that definitely sign up
and put yourself on the waitlist because
many times it's easily that 20 or 30
people will drop off the waitlist and
they will just RSVP no and you get
automatically notified so if you're
interested in the art this is a good
week to learn more about it
and then dart is a great example of one
of those languages where people are
trying to solve those problems those
JavaScript gotchas and there are a
surprising number of those kinds of
projects centered around compiling to
JavaScript it's a very interesting space
right now okay it can throw an extra
point in there so it's worth pointing
out that the javascript is actually a
pretty young language in terms of
languages you know if you look at the
number of features that people are
trying to cram into JavaScript errs i
like to say kind of frankenstein anon
javascript right now it's very much a
result of the fact that the language was
designed for one specific purpose and
people said this is the only thing the
web should do and then the web evolved
and we're still trying to kind of lock
ourselves into this mental model and
i'll say this again and again and again
and i know this may be heresy to stuff
web developers but it's not about the
language it's about the experience right
it's it's the technology stack shouldn't
matter you know we put a rover on Mars
using Fortran does that mean that you
should program the web and Fortran
absolutely not right like you know the
language doesn't matter it's about the
experience and javascript is still
really new and there's still this dogma
kind of sitting around it that it should
be light and it should be nimble but
then you have the fact that you have
native applications kind of starting to
compete for this ecosystem where you've
got web apps versus natal app native
apps and I go to a website and tells me
to download the non vert it's the native
version you get all this stuff going on
there and it's directly coming back to
the fact that this is a young language
doesn't have all the features it didn't
it wasn't designed to fight this battle
right now so a lot of people had to go
back to the drawing table and and kind
of rejigger JavaScript the number of
developers I've talked to that have
written their own front-end compilers
for JavaScript it is really staggering
like people who are like yes write it in
JavaScript but then my compiler will go
through and auto in line things right or
do auto completion or you know you can
actually hint that this might be an
integer and then I'll check everything
and make sure that that's okay you know
these are these are kind of tried and
true
patterns that have kept programmers
saying for 30 years now you know it kind
of draws a line between JavaScript being
a hobbyist language versus a serious
language that people get amazing stuff
done with so I'm really proud of what
JavaScript has done so far I think there
is still a lot of discussions about what
it means to do to become a big boy
language and use the potty all right so
beautiful in summary young language like
yourself cold you know so take a
question from the moderator so in
previous session you told us you will
not talk about existing libraries but
box2d what do you think about the other
ones is it good to use one of the
existing ones so I think you did a
little research yeah a couple of home
well it depends on what you mean by
existing libraries do mean like game
design libraries or do we need more mean
more general web development library
because they're right there are really
two questions there depending on what
they're asking so let's answer both yeah
so that the ones that I'm most familiar
with game library wise and Cole probably
knows quite a bit more about this than I
do would be impact j/s and create j/s
create j/s is kind of more along the
lines of what you would get from if
you're familiar with flash and
actionscript it's a very familiar to
those developers impact I don't know as
much about I've heard very very positive
things about it colt you know about any
others
you should definitely check out easeljs
it's a fantastic translation library
that kind of sets up javascript and
html5 to feel more like a flash /
ActionScript environment that one's a
pretty good one too other than that I
mean you've got the new cocos2d html5 so
basically they took cocos2d framework
from iOS actually made an html5 version
then you also have the moai framework
moai from the guys at zipline games and
they actually have a set up there that
will export to html5 if I recall
correctly so not there's not a lack of
this stuff floating around there most of
it kind of boils down to what we're
teaching you in this class right you
basically need an entity framework
that's hierarchical an object-oriented
you need some ability to have a concept
of a sprite or an instance that can be
rasterized to a part of a canvas you
need the ability to sort of have a
loading manager and need the ability to
place sounds right and load scripts
asynchronously these are really all
these other frameworks do as far as
games frameworks are concerned so
hopefully by the time you're done with
the cs 255 course you should be able to
be able to cover the full spectrum of
what these other frameworks offer you
you know give or take a receptor too
yeah definitely try out those things
right if there's nothing wrong with them
we just took them out to simplify
everything but we certainly didn't mean
it okay that's the only one you should
be using just feel free to use whatever
works for you plus from our perspective
it's at least from my thinking it's
often better to learn how things that
work under the hood rather than just
using a framework and then when things
break you don't really understand what's
going on except for the box2d success
the box to these doctors so Darby
dragons
alright that question by the way is from
ukl in Paris so we have a next question
that is from Philly cocoa from
Washington DC so I'm a graduate from the
cs 253 course the web of course that's
the blog right right editing your blog
yep and one of the best things about
this with our own project to work on as
the class followed along how would you
suggest we set up a simple game project
to develop as we take a class so I think
the first thing all of the grits code is
on github and you can just grab it yeah
so that's my personal code oh sorry yeah
yeah sorry no I say but you can grab a
friend right so if you go to grits game
appspot com then you will find it there
and it's where I know that it's not
working currently we're working on that
second feud engine thing yeah but
there's a link at the top let me just
showed up real quick there we go
here and you'll have this nice link here
see the source code little switch goes
here and you can just grab it from here
so that's definitely something something
keep in mind so there's that and then
there's tons of our things you could
potentially download them I think Dan
was here in the beginning saying maybe
people would form groups to create the
game together if you do that then of
course yes that's a good way to I think
the contest is probably a big part of
this you know building your own project
especially for something like a game
it's building something that you want to
build rather than you know just a
project that we give you having a
project that you want to do on the side
is very very valuable and figure out
something you want to build and build it
that's what this is about if you want to
take a look at this from a technical
baby steps to move forward I mean
obviously just create a folder on your
desktop with an HTML file and then as
you kind of go through these quizzes
that we give you the way the way that
and sean is a mastermind here of taking
the grid source code and turning it into
bite-size chunks for the class so as you
guys are going through this definitely
give props to him for her separating all
this data but effectively our goal is by
the end of each of these units you
should literally be able to take the
answer from the quizzes and copy them
into a folder as a JavaScript file and
start using them right so the Atlas aim
the the sprite animation stuff you're
going to be doing map loading rendering
physics like you literally take your
answers to the quizzes and copy paste
them into a file moved from there and
then if you want to see the definitive
source that all of this kind of stem
phone check out the grits code bit but I
mean it should be really easy for you to
actually just have a folder on your disk
that has you know an index file then
just linked to each of your JS files
from your units and kind of add those in
as you go along yeah yeah I mean a huge
part of the code base doesn't really
it's not specific to grits at all right
I mean most of it is very modular so
put some different art and sound on and
some different entities and go nuts that
okay alright so ever question from Tony
odd didn't comment on that just to add
something to it last week I said I
really didn't want to build a game I
wanted to get back into drawing
efficiently using the canvas and rather
than just being within the bounds of
normal html5 markup and so what I'm
doing is actually providing a testbed
application that I want to share you
know with the group at some point that
does exactly what you're saying it takes
the fundamentals and puts them into
something that then you can make your
own and it has a lot of gotchas in it
you know about scaling and things like
that that you'll run into that it's very
easy to figure out what the answers to a
tower but it's the type of thing that
once you strip this thing out you need
something to start with on the other
side so independently of the game we're
going to take all these techniques and
just provide that on an ongoing basis as
the units are there and I know this is
the same efforts that that everybody's
trying to do but I want to try to make
it so that the community can contribute
to that so perfect thanks sorry yeah
okay took our turn our question did we
okay so no we didn't use all right so
how to divide the entire Atlas and
sprite sheets of entities the
spreadsheet class used to store and draw
sprites draw entities that be in entire
Atlas because the structure of JSON a
police file okay something better than
string manipulation of the key from
Louis and so so I've been actually just
meditating on this question of a level
hours today trying to figure out what
the intent was yeah luisa I give you a
lot of respect for for this is actually
a very complex question and I only speak
English and bad english so I apologize
that it took me this long to understand
what was being asked this is a very very
good question so basically this kind of
boils down to why are we using the image
name plus some weird identifier zaz a
lookup index into our sprite array right
and then how does that manifest itself
moving forward with like drawing sprite
animation classes and whatnot so the
first one I'll say is this is we're
imagine that you're a game developer or
video imagine you're an artist right so
in the game developer world like I said
last week you're kind of a programmer an
artist a designer or a producer biz dev
type who doesn't really do anything
facetious they do lots of stuff like
give programmers a hard time anyhow if
you're an artist effectively you have to
you if I'd imagine how an artist is
working an artist is sitting there with
some sort of modeling program or Adobe
Photoshop or something there and and
they're working on a single file right
there they're working on Ralphie robot
PSD now when they export Ralphie robot
and on his walk frames and P loves jpg
and stuff like that he just has
basically a wall directory of loose
assets or what we call it right now
what's what's the interesting thing here
is what he goes and actually the when
the artist of the designers start
working together and they create the
concept of an entity they're going to
say you know this is a robot entity and
it has you know seven frames of
animation and you know here's the
sprites it throws out but basically
they're creating a cognitive logical
object that references these loose at
sets right like that's the critical
component here is that data is being
created referencing these loose assets
by file name now when you create an
atlas which are and this is this is
considered more of a post-process thing
for programmers who are optimizing our
runtime in our memory process right you
an artist shouldn't have to like hit
change of sprites save everything to an
atlas update the code and then load it
in the game we need to make sure that
that Atlas saying in the process of ATLA
Singh is just a post optimization that a
programmer can do before you actually
ship the product so because of this we
allow the source code to actually still
reference the original sprites by their
loose file name rather than some other
interesting hash code in md5 hierarchy
or indexes or anything like that now
this is also very important for the
sanity of the programmers who are doing
the debugging akin sooner or later what
you're going to end up with
is an artist or a designer is going to
come through and say you know hey this
animation is wrong for some reason I'm
getting 20 frames instead of three
frames and then a program is going to
dig down into the depths and actually
see the true file name that's being used
and they'll actually be able to solve
the problem as opposed to some weird
index patch so I hope that shit's a
little bit of light on it basically
comes down to understanding how people
are developing content in a vacuum and
then Atlas mapping and texture packing
should be a process done after all of
that fact like your artist and your
designers do their job let them do it in
a vacuum and then the sneaky little bowl
programmer comes along and optimizes all
the assets to get five megs of memory
back and no one is the wiser you know
except for that one programmer and the
manager who gives it the bonus for doing
that awesome job where does business
come in there the guys are complaining
about the programmer getting a bonus
show y'all so yeah okay okay well thanks
all right so this is a good one yeah why
is it necessary to find the center of
Atlas images with respect to the
original file I understand why we would
do this for a sprite sheet in order to
line up animation frames is this a
concern with Atlas images as well oh I
think this has something to do with
box2d as well doesn't it call yes it
does Prime there's two things here
there's two forces acting on top of the
need to find the center the first is
that is you'll find out in a later unit
the that box2d actually references an
object's position at the center of the
object not the top left corner we talked
about coordinate systems a little bit in
the previous units and and when you draw
to canvas the origin is in the top left
but the physics engine expects to be
even a center of the object so obviously
we need to rectify these two worlds and
telling the physics engine to work from
the top left actually doesn't make a lot
of sense because you remember the
physics engine is also going to be
responsible for rotating our objects
right and anyone who's done sort of
linear mathematics knows that if the
origin is that
left you're going to rotate that square
bought by its corner rather than at the
center of it right so this is a very
important distinguish meant between the
two so for that reason that's number one
that we like to actually draw our images
and reference them by the center of the
object the number two and hopefully a
lot of people kind of saw this is due to
animations and trimming so in the
animation process basically what you'll
see is like each sprite image in a nap
in animation sequence can be trimmed
differently and because of that the
center of the image right like so if you
get a 64 64 and 32 by 32 is the center
that might actually not actually be the
center of the subsequent slide to the
animation is what happens is you get
this image that's as its animating its
jittering because the true center is
actually moving around so part of the
trimming process is to find out what the
true center of this animation is so that
we can lock all that together so
basically we've got these two forces
that are easier and cognitively more
applicable to understand if we're using
the center of an image as its true
origin rather than the top left so
because of this we just kind of say hey
we've got two vs 0 obviously there's a
winner here ok good ok next question I
think I have everything figured out but
there seems to be a lot of confusion in
the forms could you actually fire up
texture Packer load up assets export
them and explain what we're seeing and
how everything applies to the code so
cold what do you want to try it out
moment yeah easy ok so we're going to
try some high-tech technology here and
see how about the seating delays so I'm
going to go into screen share well so
before we do that or hold on Cal it
before we do that real quick so the
screen share isn't going to be visible I
believe rights of people on the live
stream so we are going to record a
screencast of this later on for so that
everyone can see and put it up so that
everyone can see what cult is about to
do and yeah
in case you missed it yeah case you miss
it so they're on the live stream if
we'll post something barely answered
your question it on the all right so go
for a cult the magic bag so let's see
here let's do desktop so can you guys
confirm that you see in me yes we are
seeing and we see you're just on okay so
this is texture Packer it basically I'm
just going to kind of walk you through
this process a little bit now I've got
the android sdk actually on this disk
here and remember texture Packer is a
free piece of software or at least it
has a trial mode that you can go test
out before you have to evaluate and buy
the full version so to add images to an
atlas you go to add sprites and again
I've already kind of loaded some of
these default textures from the android
sdk and basically you know you just kind
of group select and say cool I want all
beats when you add them they actually
all get added to this column over here
and then you can see that the algorithm
is working in real time to kind of pack
all of these on the texture now if we
actually exported this as is we would
get a JSON file or an XML file now the
difference is on how you actually get
this exporting the right thing is
actually in this output I don't know
what the right terms for this is
collapsible frame I think 3d studio max
coined piss already on you I set up back
in the corn in like napkin easy like an
accordion effectively use you can
actually modify this Jase this data
format drop-down here and and texture
Packer actually X goes out to a lot of
different formats right so like ogre
cocos cocos2d CSS right so if you're
actually just taking this or to HTML
easeljs and the one who are concerned
with is actually JSON array once you set
this value any time you hit this nice
little publish button over here not sure
if you guys can see that on the stream
yeah but effectively what will occur is
it'll actually dumped out a file to disk
and give you some information about that
that you can then load up a little bit
later so let's load up sublime text 2
here and this is actually the file that
we just exported to disk so what we have
here is a large dictionary
object and in the only elements in the
dictionaries frames and then that's the
actual array of each of the sprites now
before I dive in too deep on that I
actually want to talk a little bit more
about texture Packer itself so if you
scroll down on the data paint over here
there's an interesting layout section
you can kind of hopefully put let me
collapse some of these just make this
easier on the screen so the layout
section here has a couple interesting
buttons the first one is actually this
one that's called shape outlines this is
really nice because you can turn shape
outlines on and actually see where
everything is on the screen right you
can actually see that this OP this image
here is a lot larger with blank pixels
than the actual opaque pixels right so
seeing this makes you eventually go wow
it would be great if we could actually
you have not use these pixels because
it's just taking up space and this is
where we actually start talking about
the trim operation now the video was
recorded on an older version of texture
Packer so I apologize a little bit that
the UI has changed hopefully the screen
cast version we're going to do in a
little bit will have the updated version
for you if we actually change the trim
mode but trim when you can see is some
of those images that were actually a lot
larger have been trimmed down to only
contain a bounding box that contains the
old cake pixels or semi-transparent
pixel basically non transparent and of
course because of this we end up with a
lot more free space down here now for
any of you who have ever dealt with
memory or texture memory as a barrier
upper limit you'll greatly appreciate
the fact that there's a lot of extra
free space now there's also another cool
little button over here that says allow
rotation now allow rotation is actually
going to give you even more free space
because basically what that will do is
it it's a hey assume that we can
actually rotate all of these little
objects to pack them in even tighter so
this is really really cool that
basically these two toggles here and
I'll turn these back off so you can see
what it looks like again right so
turning off trim turning on trim you can
see how many how the number of free
pixels decreases pretty significantly
so anyhow booting back up to sublime
text 2 you can see that we've got our
array of objects now this highlighted
area here actually represents a single
sprite that was imported you actually
get the original file name but again
this is what the artist created this is
what the artist exported because again
they're just exporting loose assets and
we need to respect that creation process
then we actually have the frame which is
different than the sprite source size
which is different than the source subs
right so we kind of talked about this at
a lot more detail inside the video and I
don't want to go too deep into what
we're looking at here because I think
the video will explain it a lot better
because we actually thought about what
we were saying at that point but I think
the important part here is the rotated
and trimmed flags right so let me
actually none of these seem to be here
so let me go ahead and turn on trimming
and rotation and go ahead and hit
publish again and this should have
updated my sublime text file you can
actually see here that we now actually
have trimmed equals true and for some
reason this guy wasn't rotated this one
wasn't trimmed and wasn't rotated let's
see if we can find an interesting case
most false true false so this one here
was actually rotated but not trimmed so
obviously this was a very optimized
image that didn't have a lot of wasted
pixels right but for the most part what
you're looking at here is the data we're
using now we kind of covered this a
little bit in unit 0 where we talked
about loading and parsing JSON when you
actually call eval or json.parse on this
JSON data you're actually going to get
back a JavaScript object where each one
of these sub items here is actually an
object with dot filename frame rotated
trimmed dots price or size etc etc etc
so effectively you're building up this
internal object in memory that you can
traverse as though it were a normal
JavaScript object so this is
the basis of everything we're doing here
is that texture Packer allows us to take
all these loose assets that artists have
created pack them into one gigantic
Atlas and then export that data in a
JSON file which makes it very easy for
us to then go and I'll show you where
this is actually occurring here I
apologize that this is not as large plus
nope I get nervous but effectively if
you look at client game engine jeaious
inside of the grid source code you can
actually see that we fetch the JSON file
from the internet and actually called
json.parse on it which then of course
gives us a JSON object and from there we
actually walk through it very simple
form right for each key in frames right
so for each object we go ahead and get
the object figure out with a frame width
height trim sprite key basically this is
everything you guys did inside of your
quiz again we're just walking through a
JSON object in memory as though it were
anything else that we define fantastic
alright so for those of you on the live
stream I know that was very hard to see
will record the short video with the
same content that will post them and
hopefully everyone else will be able to
see a bit better the text involved since
that was a bit smushed no the text is
perfect it was it was yeah okay right
Camtasia running there yeah exactly
should have done it right away all right
so a question presumably the the
rotation always rotates the same way so
that because it's just a boolean flag so
otherwise when we rotated back could
just be end up flipped right right right
great questions does the rotation always
rotate the same way because it's a
boolean flag that no my knowledge and
and I actually have to kind of poke a
little bit of problem at the texture
Packer guys is that if you actually
export the data file as an XML or as a
plist you actually get proper
information about rotation data where
the JSON format for somebody's you only
just get true or false I'm sure if this
is just it a bug or they think this was
like cognitively like yeah it's rotated
to deal with it should be glad that I'm
ruining anything for you you people
because JavaScript versions I'm not
really sure yeah why would you do that
for a game this actually was such a
problem that we didn't allow rotating of
any of the sprites and you can actually
see that our memory footprint is a
little bit larger because of that so if
you're the guy who wrote texture Packer
and you're watching this or if anybody
watching this knows the guy who wrote
texture Packer tell them that things are
not working correctly feel free to
contact me if it's my misunderstanding
that's it but presumably you could you
know you could export as XML then just
nudge it back into Jason so we can write
in from assumably we could just you know
purse it into xml and then munch it into
JSON and things would be kind of sort of
good
and I suppose you could I don't think
you would person I I wouldn't personally
want to work with XML but that's just me
but you certainly could I think yeah
yeah so this is my philosophy and has
been as a game developer for a number of
years it's just data and anyone who is
willing to go fighting on a hill to have
data in what format or another deserves
to stay on that pill right it's just
data it's binary information at the end
of the day who cares what format it is
the format that you should care about is
the one that's easiest to use for for
your artists and your designers and then
the fastest to load into memory for your
end users so XML whatever you want to do
you have to be very pragmatic about this
stuff instead of dogmatic the more
dogmatic you are the less useful you are
to a team and that's my dogmatic
viewpoint okay so so the next question
is in unit for a quiz two of the Atlas
unit why do you define the variable half
and the underscore draw sprite internal
function couldn't you just pass the
sprite properties directly to draw into
the draw image call and I was looking
through this I actually didn't remember
that the half object there and as far as
I can tell cold please correct me if I'm
wrong but I think it was just a bit of
code croft where you know we were moving
stuff around and changing the code base
for the client-side version since it's
not quite the same as the overarching
game that also has server-side
components and you just didn't remove
that okay cool so another question from
Dave in grovedale can i still
participate in the contest if I'm not an
artist and my monsters closely resemble
green squares no just kidding this would
be my first attempt at building a game
and I have a lot to learn in the next
month's graphics may not be my focus so
a couple of suggestions obviously you
can participate there's a question later
about possibly some free art work sites
that we've been looking into a lot of
good ones the other thing is as
end pointed out this team up with some
other people maybe get a crack team with
programmer artists biz dev yeah you
gotta have a good day someone's got a
yellow every so definitely I also want
to point this out to is that a good game
doesn't always need great graphics go
everyone stop what you're doing right
now open up your laptop or your nexus 7
or your Android phone because that's all
that exists and Google for quote the
hardest game in the world oh oh are you
talking about dwarf fortress simplistic
artistic wise JavaScript game that will
put your blood pressure through the roof
it's just squares it's like squares and
lines and checker boards but it is it is
enthralling and how deep you get into
this game and how angry me and how
emotional it touches you like a week and
a half I was just angry at every human
being I met while I was playing this
game so great games don't need great
graphics it just really really helps
yeah good point okay if the game is
running only on the client side and we
don't have a server side how do we
prevent cheating with html5 and
JavaScript for example tower defense or
bubble shooter games do we have do you
have to think about that in the contest
so so no you don't have to think about
that in the contest we're not covering
server side stuff for you know
preventing cheating or anything like
that but the other question is do you
really need to worry about that for what
kind of kinds of cheating do you really
need to worry about for your specific
game and we actually touch on this a bit
in the input unit I think correct me if
I'm wrong about you know ensuring that
you know a fair fair level gameplay yeah
that's actually something we cover Sean
said for example if you're using a mouse
versus keyboard right you would have
additional angles that you could shoot
at so we cover it out and that's
actually covered in detail in the code
as well like how to how to solve that
problem what does not solve to sort of
the whole server side in this course and
like we said
are already sort of thinking about a
second course I would to server site the
matchmaking the verification and game
logic on the server so yeah I don't
think you have to worry about that
specifically for the contest as well
right and just to take a step back here
for those of you that have may have just
tuned in and it's the first time we are
running in parallel with this course a
contest so more information about that
is on the Udacity site so you can go to
the Udacity course there's a link to the
wiki up on the top right and just go to
the wiki a leveling to it so I don't
have all that information in it yes oh
okay how do you have a html5 game how do
you give an html5 game a preloader like
most flash games have so you want a
preloader whoa is another question right
that's a good question but the I mean
there's a bunch of things you can do
with progress bars and things that you
can track while you're loading for
example xmlhttprequest level two as
you're pulling down things there's
actually in xhr level two there's new
progress events you can actually check
on the exact progress and then display
that in an HTML progress element there's
now a new element for that so those are
some simple things you could be doing
there's actually so-called maybe you
want to speak a little bit about sort of
the sort of instant play and techniques
that people have used to sort of delay
getting some of the things from the
server and get something up and running
as soon as possible yeah so I'm going to
copy up this with the fact that we have
a whole unit later on in the course that
talks about asset loading and most most
importantly we cover this from the
concept that you should be building some
sort of asset preloader or or asset
loader in general and then and then part
of the quizzes there is actually coming
up building up this phased preloader
concept and we actually talked about how
grits is put together where there's
actual
multiple phases of loading inside of
grits like the initial HTML is loaded
then when you click a quick game
effectively what happens is after you've
connected to the server you get all of
your JavaScript then as soon as your
javascript is done then we actually go
parse that JavaScript and then kick off
a secondary call for any additional
assets that that JavaScript has done so
you kind of get like these multiple for
conjoined situations of asset loading
where you know we kind of come back and
forth so I'm going to copy ate all of
this that I'm about to say with the fact
of stay tuned there's good information
to come now to get on with my babbling
so instant on gaming is probably one of
the most important things about web
development that game developers do raw
so if you look at any of the statistics
out there today you can find information
that says sixty percent of your users
will leave your website if they don't
see pixels on the screen in the first
three seconds right so if you look at
the especially on mobile right if you if
you grab one of these devices and all of
a sudden you're working on basically a
ham radio network right and actually
downloading 25 gigs of image data
because your websites waiting for it you
realize that you're creating a crummy
user experience so because of this you
really need to adopt the concept of
instant on gaming but if you actually
check out my blog at main road blogspot
com in my video section I actually
talked about I have a full video that
talks about this about you know instant
on gaming what what game developers can
learn from the web and vice versa where
it comes down to get something on the
screen as fast as possible right load
the first three megs or whatever you can
get there in three seconds and then
entertain the user put an elephant than
to to have them pop balloons or or solve
a puzzle or something like that right
and while they're sitting there with
this mental exercise be downloading the
rest of the data behind them this
you know with modern html5 you've got
local storage index DB file system
operations you can actually cash this
stuff to disk and this is where
javascript in the html5 platform
actually stops feeling like a native
environment right you can actually
download data cache the disk fetch it
from disk later if you need to and this
is sort of the crux of how game
developers have been doing this for
years I'll give you a little preview of
this you know back when we had back with
the Nintendo 64 we were still a
cartridge base system one of the
benefits of cartridge based systems is
basically the the latency for loading
assets into memory was zero right you
didn't really have to wait for a level
to load it was just all in memory as it
was sprite and you saw when the nintendo
64 came out you also saw the dreamcast
come out as well as the playstation 1
now the dreamcast playstation 1 were
actually optical disk drives which had a
much slower seek and read time than
standard Rob's the day and because of
this was actually the birth of the
loading bar right sitting at this
horrible image that's like loading 5%
ten percent and you know people like I
just want to play tekken oh my god what
is going on here right like enough time
to get up and go get a beer and come
back and realize that you already lost
your match it was it was definitely the
birth of an era and I think the
programmers still don't do it well
enough I think modern consoles like the
xbox 360 and the ps3 did a great job
have actually requiring certification or
to actually get certified to ship a
product on the xbox 360 you had to make
sure that there was no point in your
game in which the screen was still 45
seconds right so you could actually just
have a loading bar that just said load
it well you had to have something
animating or something distracting the
user you know imagine a cat chasing a
laser right leg actually you got to keep
it move it you got to keep them thinking
about what's going on and so I think
part of loading data and asset loaders
all comes down to it's all about the
user experience load something short
load something quick entertain the user
and load something
big afterwards and that should be the
end of my babbling we have a question
from the audience so it's regarding our
coast so some of the exercises in unit 2
still we're having dependency on the
variable names and and like how you
place the blocks how you write the code
so i stumbled upon them couple of times
like is this due to the verification
thing or like it's up so the question is
there's you know still some issues with
the great interest basically depending
on certain variable names for instance
and there's not a whole lot of much of a
way around that because we need to be
able to grab on to something either a
variable or you know spy on to that
variable or something in order to do
that we need to know the variable name
there's not a good way around that what
we can do is put a few more
notifications on there saying do not
change this but really there you know we
need to latch onto something and we know
the name of it to do that I see so Wow
ok so the another question was like
hosting with respect to like if you
remember a web application course we
hosted our like the partial web app and
then pointed submitted the link so we
got both like a completed web app as we
were progressing and then the link where
and when we submitted the link it used
to verify probably passed the food or it
just sent the request and response and
everything but this seems to be a little
bit different from the previous style
right here the JavaScript checker seems
to be running or verifying our code so
you is this going to be like this or
like do we have something like the self
hosted version of small portions of the
game okay so so the question is is from
from people who have done you know the
web development course the the way
things were created in that course is
very much different
is we were just giving you were just
given a URL and the site actually you
know sent off a request and did a bunch
of sight scraping essentially and you
know made sure things were the way they
were and you know when request with
certain things you got certain response
codes back etc etc we're not going to
really be doing anything like that
mainly because this is entirely
client-side we may very well be doing
something like that for the server-side
course if we do I want to find a better
way to do that because I was the one who
had write all of that and manually
scraping arbitrary websites is very
painful so how do you advise us to post
the small portions of the game which we
are developing like we seem to be
writing our code in the whole of block
and then I am showing my code in the
version control system but that that
isn't a full product or are it isn't
progressing towards the complete game
yet so so how do you advise that we play
I saw some of the people in the forums
are actually hosting there like I saw
the shuttle boat rotator in the upstate
somewhere that's probably the best way
in Iran yeah get help on your own site
and then actually hosting an app engine
is a great way of doing it since we're
not we're not doing any of the the
additional heavy list lifting
server-side wise so we're basically just
if you hosted on a penchant for instance
you would basically just host the single
index HTML I let's say yeah and then you
know load everything in from there as
necessary so it can be fairly bare-bones
right now so you could probably host it
wherever but App Engine is free
localhost or look or local host you can
always do that run over on your own web
server right off of local host like if
you have a Mac Python comes with his own
but i mean i think i did i phrase my
question properly it's not about my
question but the host
it's about like the practice of like to
incrementally develop our gain towards
the end okay so more about get and then
versioning and all that stuff like for
example by unit two I might have
completed some portion of the game by
unit three I must have added more to the
portions of that game and then so in
order to take the units in such a way
that I build parts of the game % okay
are we doing something like this events
going to look very much like the end
result of grits with ya the client side
portion of that so that's a good thing
to sort of keep comparing against that's
the closest thing you're going to get
yeah well and one thing that I would
like to do I just haven't had time to
get around to it yet is just packaging
up everything that you know a certain
quiz needs let's say into a single zip
file that you can run localhost wise on
your on your own computer and you know
just putting that in the instructor
notes down at the bottom of the page I
would I'm planning on doing that the
main problem is just you know what what
is the highest priority so that is yep
if if that would help you I will
definitely try to bump that up yeah
we're very happy to give you all free
food because quite frankly you're just a
bunch of crash test dummies at this
point very very that's a good uncle at
the fact that you are willing to be
crash test dummies for all of this so
thank you very much with your patience
and honesty and bug finding until this
it really helps us make a better course
a better technology stack and really
it's going to help students for years to
come so thank you for your patience and
enjoy the free food yeah but we're so
grateful to how is that possible that we
could just be generating gratitude
without any negative right turns out
it's not zero so my question is on the
topic of like instant missing on and
asset management sort of but more on the
logic side like game logic so like right
now we're drawing to the canvas every
thirtieth of a second and that
be anything arbitrary but we're still
like doing a lot everything at once like
at this interval is it do you I just
want to I know we're gonna get into this
but just to think about it in advance do
you typically have multiple timers and
multiple homes going on like one for
drawing one for like logic one for like
parsing and how do you do that just
generally just to start thinking about
okay that's that's a good question and
that's a good one for Colt actually so
the question is basically do you
normally have a whole bunch of different
timers and different loops essentially
going on and how do you manage that like
you're rendering loop your game logic
loop etc etc and are these going at
different times so this was an and the
yellow you're the manager yeah you're
all up here event for the elephant into
to know the elephant is actually let's
address the elephant in the room yes in
the tutor so so what you're kind of
hinting at here can be a separate
Udacity course in and of itself and I'm
not signing up to do that course just
letting you know there's a lot of
content I took that as a sign up
typically again again it all comes back
to the structure of the language
defining how the programmers can realize
their influences over making great
content right so if you're writing a
modern graphics engine and event
processing system using C++ for desktop
or console then typically what you're
doing is you actually have the concept
of a multiframe multi-threaded rendering
engine right so you've actually got one
whole thread dedicated to just what we
call logic right so you're just doing
pathfinding entity update you know
collision systems things along those
lines then you have a whole separate
thread that's just dedicated or
rendering right so finding what
polycom's are visible you know what data
needs to be pushed to the GPU api's you
know what textures need to be swapped in
and out of the LRU cache things along
those lines then you've got a whole
separate thread that's a network thread
that's just sitting out listening to
what's coming off the wire a7 audio post
processing thread you
we do some tax in there from the
operating system that's underneath it
you know there's a lot of things going
on at the core of this simulation is a
very simple setup a very simple
architecture that's been around since
the late 80s and it's just the concept
of multi-threaded programming or
concurrent programming this is in
languages that allow proper concurrent
programming and actually allow you a
memory model to use and abuse concurrent
programming javascript is not one of
those languages so you have we
javascript is single threaded that's
what it's what we call single-threaded
right so you basically get a request
from request animation frames and you've
got 16 milliseconds to do all of your
compute update translation data physics
calling boundary collection and then
render it and that's done in 16 frames a
second right now when you start
translating over to other languages you
can actually get some multi-threaded
rendering and that's a bigger thing if
anyone in the room is interested more
about multi-threaded programming there's
the only book that I tell people to get
is called the art of multiprocessor
program it is the only book you need
start there it's it's it uses Java as
its examples but you can't find a better
piece of tome to really break the ice
and teach you how to program
multi-threaded environments better the
takeaway for Java though is that our
JavaScript though is that typically
you've got one requestanimationframe
call back and you do everything there
and then you you know you get your
events that come in from other web
sockets or your input handlers you know
you kind of handle that you kind of just
cash those and then handle the results
of those inside of your ear Raph call
back a little bit later and there's lots
of nuances of why you don't want to do
it inside of your input callbacks and we
talked about that inside the input unit
as well I wouldn't request multiple I
wouldn't suggest multiple timers that
actually is just going to screw up your
frame processing time a lot more really
what you should be doing is if you need
something to tick at different intervals
I would highly suggest just kind of
getting a ton date time
now and then just sort of figuring out
how long it's been since your last
update and once you've reach a threshold
then do the processing adding more
timers is not going to help you be
mentally cognizant of the flow of
execution which is critical for game
development and it's also going to make
it a lot harder to port your concept to
other platforms or other languages if
you're going to go that route the future
Thanks ok great so we're out of time let
me just get them off the same a couple
of final things so one of the questions
we mentioned we were going to get to is
the free resources for games there's a
freesound.org I know the other free game
our tour guide believe is another one
that's specifically images especially
sprites that you can go to that it has a
whole bunch of free free sprites and
free free resources in that regard
there's also a bunch of 3d stuff if you
eventually want to go that route there's
a lot of good stuff that I've found
linked from for example the unity 3d
answers community where they have just
lists of free resources for textures and
things for 3d free sounds not so much in
the way of sprites though because the
unity is about three see if you find any
if you're working on it definitely add
them to the the wiki and maybe this is
where your to come in handy at Tony all
right so we will continue to go through
these questions and and the previous
ones now and cancers in line so we will
not just leave it here but we're out of
time with the live stream so I want to
thank everyone here in the room for
coming to the to the event the next
event will be exactly one week from now
or actually a week minus one hour starts
the same time and we're in the same room
same room so everything will be pretty
familiar will be in this room on all of
those mondays after that so I have six
more sessions so thanks cold for dialing
in
the through the hangout thanks a lot and
yeah thats preciate you okay thank you
guys yeah all right we'll hang around a
little bit more here there's probably
still some food look</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>