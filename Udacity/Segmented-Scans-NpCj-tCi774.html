<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Segmented Scans | Coder Coacher - Coaching Coders</title><meta content="Segmented Scans - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Segmented Scans</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/NpCj-tCi774" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I want to tell you about a neat
variation on scans called segmented
scans now suppose I give you this array
and let's say that you want to perform a
scan not on the entire array but you
want to do a bunch of independent scans
on segments of the array in this case
the example is broken up into four
segments now suppose to tell you where
the boundaries start an end I give you
an array of flags flags are boolean with
a true value wherever a segment begins
were you doing things sequentially you
might use the following algorithm so the
algorithm iterates over all elements and
it looks at the flag array if the flag
is set meaning it's true then the
algorithm does nothing basically leaves
the value a sub I alone otherwise it
does a scan this computation looks
tantalizingly like a scan except for
this pesky conditional check so what if
we did the following I'm going to define
a new kind of value which I've labeled
here as X sub I this X sub I is
basically a tuple or in this case a pair
the pair consists of one value from the
array and the corresponding flag now
from this new data type let's define a
new funny operator that I'll call up up
takes two pairs and basically implement
something that looks a heck of a lot
like the body of this for loop it checks
the flag of this second object now if
that flag is false meaning we don't take
the if then it just returns the second
value otherwise it returns a special
value that combines the two inputs now
notice this is the usual addition which
we would see in a scan and this is a
logical or operation since we're
operating on boolean flags now I claim
if you have this operator you can
rewrite the segmented scan from before
in a different way let's see how here's
our operator from before and here's the
new implementation of segmented add scan
first we'll declare a new array to hold
these pairs and notice it starts at 0
instead of 1 so they're actually n plus
1 such pairs
this next snippet of code actually
builds the array X
you'll notice it builds the pairs but it
also builds a special initial value
which is set to zero and false in fact
zero and false are the identity elements
for the two operators addition and
logical or one sex is all set up we can
do a scan using our funny new operator
and finally the routine only needs to
return the updated scan values so
there's a final little loop here to
extract the leftmost element of each
pair the leftmost element being this guy
now you should compare this new
segmented scan with the old one and
convince yourself that this new
implementation computes the same thing</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>