<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Zookeeper - Web Development | Coder Coacher - Coaching Coders</title><meta content="Zookeeper - Web Development - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Zookeeper - Web Development</b></h2><h5 class="post__date">2012-05-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Z7EBdF6Bk3E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so you're changing the way you're doing
like right so for the same reason a
single node failing means that we lose
the entire site because of the locking
so we're moving locking into something
called zookeeper which implements a tree
system with guaranteed order of
operations on those and with that you
can build locking and the main advantage
of zookeeper is that it has much higher
availability so if we lose a zookeeper
node we should be able to come back
within 200 milliseconds as opposed to
whenever somebody notices the cache is
down and replaces it yes and generally
an engineer cannot respond in 200
milliseconds yes even the best so
zookeeper is a new system and that's
that this is a separate system right
yeah it's a it's an Apache project like
Cassandra is and and and how many is is
there one zookeeper box is there a bunch
of zookeeper box so they form an
ensemble and the way it works is there's
a master and the others are sort of read
replicants and when one if the master
fails it'll automatically elect a new
leader among the ensemble okay so do you
all the requests go to one machine no
you you write to any of them so your
client could be connected to any one of
them and they automatically figure out
who to talk to
cool and now sue keeper just for locking
or is it do we're also going to be
moving a dynamic configuration type
stuff into zookeeper and zookeeper
provides watches on the nodes so the
apps can actually get notification when
something changes in zookeeper and so we
can you know say we're going to change
the ad on the front page we just set
something in zookeeper and all the apps
update themselves that reminds me of one
thing that was always a challenge and
and I don't know the answer to this one
already is when we had all these app
servers the app servers had all this
configuration configuration a lot of the
configuration was basically part of the
code one example would be how many
memcache boxes you have because the
memcache library would exist on the app
servers and that's where the hashing
would happen for example if you're
deploying a new configuration you know
once you have
you know more than a couple app servers
all some deploys take time I think some
happen at the same time right and so all
of a sudden you've got half your app
servers with a different configuration
and that gets weird you know let's say
you're adding a new man cached all of a
sudden you've got happy machines
accessing one set of machines and half
your machines axing another set of
machines static files have like
everything is weird
have you guys improved that at all no so
that will that will be zookeeper so
thank you for well so yeah you can put
like what databases there are that kind
of stuff and the reason you don't want
to just do that in like memcache for
example is that you would need to fetch
that from memcache on every request
because there's no way to know that it
changed because memcache is all the
queries are initiated from the apps yes
set this get the zookeeper will actually
push yes Daddy bit that's cool I've
never worked a suit keeper somebody was
something I should get smart about</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>