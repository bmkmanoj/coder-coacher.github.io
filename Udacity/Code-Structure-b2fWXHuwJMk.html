<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Code Structure | Coder Coacher - Coaching Coders</title><meta content="Code Structure - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Code Structure</b></h2><h5 class="post__date">2016-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/b2fWXHuwJMk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right my life welcome everyone this
is a I can be webcast I'm Anthony
audacity I'm Jenna I'm also a coach
audacity so today we're going to be
talking about structuring your code and
planning out thanks to be planning out
your code before you start on a new
project we have a question submitted
before the webcast started how do you
tackle a new project and basically
that's what this whole webcast will be
about so hopefully we'll be able to
answer that question moving forward so I
guess we can say Jono
what do you do when you have a like new
project and like you're trying to scope
out what you want to do yeah I mean
that's exactly what I want to do is
scope it out so you don't want to just
dive in and like start you know start
with a blank screen like start typing
code you know that's it's hard first and
then it's also frustrating because
you'll type a little bit and you'll
wonder what should I do next
whereas it's best to sort of approach it
with like a structural concepts so
you'll sort of map out what you want
your code to do map sort of the inputs
the outputs and then sort of think about
what its gonna look like even before you
write it it's search there it's almost
like I'm like writing a paper writing an
essay with like an outlying some ideas
some direction and the the biggest
danger as we'll see today is that what
you'd like to dive into code without an
idea structure beforehand you may not
get into a big situation immediately
that you might find that the code you
write becomes difficult to maintain
difficult to follow and we'll see some
examples of some well structured code
and some not so well structured code so
really closely tied to the idea of
structure is this term that gets thrown
around a lot called spaghetti code
and refers to it is delicious but not
always the code is it delicious Betty
good hunter refers to like code that's
like overlapping and kind of just like
getting tangled and the original
definition of it I have some code on my
computer that I'm going to share with
everybody so this is some code I'll make
it a little bit larger so you may not
recognize this programming language but
this is a programming language called
basic and basic say basic in its index
you may be able to just look at this and
be able to know it does so Jonah can you
look at this and if you have any idea
what it might be doing yeah sure
it kind of looks like you're defining I
as the integer zero and then you're
defining it again as itself plus one so
I equals one now so you print by which
is one and then you have it print out
one squared equals I times itself and
then if I is greater than 10 then you go
to 60 but it's not so go next and then
we'll go to the next line it says go to
20 so we'll go back up then we'll add
one two I print it make it squared and
then print that and then just keep doing
it over and over until I is greater than
10 right yeah basically so this is kind
of a weird way to do this you might
already be thinking that there's a
better way of doing this in with what
you already know about Python yeah that
allowed to get it right exactly that's
the big problem here so this to show you
that it does do
exactly what Jonah does there's a little
website I found here called from basic
and run basic lets you run co-written
and basic come up with jihad so let's
paste in our basic code and when we hit
run I'll see it does it prints out all
the squares from 1 to 10 so you may be
looking at this thing running like what
the hell is this like you go to
statement here yeah so this used to be a
really really common thing with
programming languages and in a way
you're still using it when you write
Python you just don't see it so what's
going on here you might also see these
numbers on the side yeah and basic one
thing we can do is we can assign lines
like an identifier with it so in this
case we're just calling each line like
10 20 30 40 sort of like you have the
line numbers on sublime here but here
these have like actual meetings so like
you said we start out I equals 0 we
change it to the value 1 we print out
one equal squared 1 squared equals well
1 times 1 is 1 we say if 1 is greater
than or equal to 10 well it's not so we
go to the next line it says go to 20 and
so what go to 20 says is go to line 20
and it comes back up here and now why
the equals 1 plus 1 well now it's 2 and
2 squared equals 2 times 2 that's 4 and
we go on then at some point we'll say
well if when I is 10 will say if 10
greater than equal to 10 well that is
true
then we'll go to 60 and 60 is this line
program completed and then this end
statement is just something for basic
when to terminate the code so what does
it almost sound like if you were to
think about that idea if
so why Python mmm seems like you could
do this pretty similarly using like a
while a statement like while I is less
than 10 then you loop through something
right I'm totally or or like a for
statement could do that too I'm not I'm
not sure exactly how that how that would
pan out but some sort of some sort of
conditional loop right so basically
right you're saying the key word it's a
loop yeah
we're essentially just good almost like
artificially creating our own by like
saying like go to this line keep going
back to that point yeah so in Python and
tons of other programming languages now
we have really useful things like for
loops and while loops so this is a code
that does the exact same thing in Python
you see it's only three lines now I'm
just uses a for loop so we're just
saying for I in range 1 to 10 meaning
for all the numbers between 1 and 10
print out I and it's Square and then at
the end program completed this looks
pretty familiar again yeah I built this
we see we get the same result we got
with run basic yeah so and in a way I'm
like the lowest level because basically
what happens with with the when you
write code in the computer right the
computer doesn't actually know how to
read Python and that might be something
that a lot of beginner students don't
necessarily realize but what's happening
is this this Python code is being
translated into something that the
computer can read and in a way what's
happening is that there is a go to
underneath this for loop and what that
go-to is saying is that at the end of
one iteration of the loop go to the
beginning of the loop so it's sort of
like its built-in now why is this one
referred to as poorly structured
spaghetti code versus this one is
consider
nice and small stretcher I don't know if
you have any ideas about why that might
be I mean I guess it's just a matter of
like being easy-to-read like before the
Python when I can read it basically in
plain English and I can understand it
whereas the Bella oneness it takes it
took me a minute to like read through it
and understand it and like follow the
lines to the end after like basically
run it in my head whereas this I can
just see it and understand it right
exactly and and that's exactly why we're
not using the go-to statement anymore
this is a cleaner syntax it's more easy
to read I can see the return to the loop
immediately it also is quite frankly
really nice that we don't have a good
tool anymore because it's very easy to
abuse that power those who gives you a
lot of power and being able to just like
sent your code wherever you want within
your program but it's very easy to
misuse that power and so basically
there's almost no way to do it now with
a modern programming language although
there is a joke module called go to that
somebody developed as an April Fool's
joke and so this is what it would look
like in Python but we won't waste our
time with that right now okay so you may
be wondering if if go-to is not problem
anymore computer science because we have
four loops and while loops and if
statements and just a whole lot of
better things is right exactly why I
have to worry why do I have to care
about structure sort in important parts
of my code are structured for me right
is there even such a thing as spaghetti
code anymore and I guess in the like
strictest definition there isn't but
spaghetti code now more first more
broadly to just bad structure so I have
some examples of some poor structure but
Before we jump into that will actually
talk about the problem more generally so
I don't know if you know this but Jonah
just opened up
or for this problem and he ships he
ships items to places all over the world
he has all sorts of different customers
and since it's a pretty small store they
don't offer free shipping yet but if you
purchase the item and you live in the
continental US
it's your shipping cost is five dollars
if you live abroad if you live in any
other country your shipping cost is $10
and the same is true for people in
Alaska and Hawaii since that's really
far away from the rest of the United
States so we want to help Jono write a
code that tells him what the shooting
cost will be for his customers so the
way I'm gonna start out doing this is I
have this drawing here in this diagram
and this kind of gives an idea of like
what we want to do so we want to say
like if the country is the US and
there's a big black box here and you'll
see what something that I have a second
will say but just to start out we'll say
if it's in the US then the shipping cost
is five dollars and it's not then the
shipping cost is $10 that looks easy
enough to do right so it's simple if
statements practically written right
there for us so let's add in make sure
that it's in the continental US before
we set the shipping cost of $5 so doing
a what you think we should do - what do
we do if it's not content to us well
it's gonna be the same as if it wasn't
in the US right so revulsed would mean
the shipping cost is $10 right so
earning seems pretty simple right and
you might be tempted to say like well
we've got shipping cost is $10 up here
and that just wants to go to the same
place so let's just have it point right
back up there you know it seems to make
sense this diagram like I can read
it makes a lot of sense to me right what
we'll actually find is that implementing
it in this way where you have like
essentially like two branches this false
here and this false up here pointing to
the same place right that's going to
call this a little bit of a problem and
we'll see exactly what's going on there
so here's some code I wrote to do this
there's actually two examples so this is
defined shipping costs it takes in a
country and a state for just to make
things easy we're saying that if a
country is anything other than the US
then it's state is none nothing very
doesn't exist one okay so this if
statement right here has a little
convoluted can if you have an idea of
maybe what this is trying to say yeah I
guess if the countries USA and the state
is not Hawaii and not Alaska so any
state that's not Hawaii or Alaska and
that's cost equals five right exactly so
this like very long kind of difficult to
read statement basically says if it's
the continental US yeah then we'll set
the cost equal to five okay and
otherwise we'll set the cost equal to
ten okay it seems to make sense right
yeah took a little effort to read that
for sure and you know if we run it we
have some test cases here so we'll see
what it is for California Alaska and
Germany yeah
and we'll get five ten ten so exactly
what we expect the code works but you
know maybe maybe we could do a little
better make it a little easier to read
so going back to our diagram generally
you're going to get into issues if you
have branches pointing to kind of the
same spot okay and that's exactly what
we saw here
and you know you can think of it in in
this way right so we basically have
three different cases right right we
have the case where the country or it's
the continental US we have the case
where it's in the US but it's Alaska
Hawaii and we have the case where it's
any other country but we only have two
end results so these don't exactly match
up that makes the code harder to read so
a better way to do this might actually
be well straighten up the branch here
move our ball spit and we'll make a
third box and put it here so you can see
sort of how parallel the diagram looks
now right yeah the diagram soap is a
little easier to read it's easier to
digest for people who maybe aren't
familiar with the problem they can look
at this and follow the diagram and
you'll see they'll be able to follow the
code better but it is again important to
think about how you're structuring
things so there's actually another bad
example of doing exactly this that I
have up here well it's not exactly a bad
example it's better than the last one
but we could do even better than the
list so this one we're saying so if the
countries the US and then we checked if
the state is not Hawaii not Alaska the
cost is five right otherwise the cost is
10 otherwise cost is 10 so what do you
think is like kind of confusing about
this one on first looking at it I guess
I guess I just don't really know where
the else well I guess I know what else
comes in just gets a little bit complex
near like line 19 it's like if state is
not Hawaii and not Alaska and it's five
but then the else is like
if it is Hawaii or Alaska right so I
guess it was just a lot of like counter
what every political is kind of positive
or something right
some change conditional statements time
I mean I get it I guess he explained
everything to me
but on first glance it's on first crunch
there's a little bit harder yeah and and
probably the hardest thing about
this is that you have these like this if
statement within an if statement yeah
not only that but both if statements
contain else clauses yeah
but also you have first of all to else
clauses that are identical right but
serving different purposes and they're
also incredibly vague right right you
know if you spent some time with this
code you can figure it out and granted
this is a very small case so it might
only take you a minute two minutes to
read and digest and you can think of
this on a grander scheme then yeah if
you have like a huge shipping Network
and how to calculate like postage taxes
and exactly it would be terrible so this
also well it satisfies our nice new
diagram it's not the best and you know
if I run it we see it works but again
like you said as your company grows as
your store grows and you're starting to
you know maybe decrease shipping costs
or maybe look different in different
countries this can get out of hand
pretty quickly right so there's a better
way and basically this is what I came up
with there's probably a lot of different
approaches but looking at this you think
you cannot explain to the students what
you think is going on yeah I mean looks
pretty straightforward like you go
through much of these if statements so
if the country is not USA that's gonna
be ten and then you check if it's Hawaii
or Alaska I know cuz if the states of
Hawaii or Alaska then it may be 10 and
otherwise it'll be 5 so basically you're
kind of narrowing it down from like the
largest down to like the smallest right
exactly and that's that's a way that
it's it seems almost counterintuitive
right so yeah
I think a lot of people when they first
think about this problem they want to
make this first statement if equal to
USA right but the most you kind of want
to start most generally and then like
built down from there so the most
general shipping cost applies to those
who
don't live in the u.s. right that's like
the biggest group of cases right so
essentially right you're like breaking
down the cases into smaller and smaller
bits as you go along and you can see in
the structure of the code it looks
actually quite similar to our diagram
here right so you have you know like
very parallel statements here you don't
have its statements nested inside each
other you don't have these confusing big
else statements you just have this one
at the end here which you know like
maybe there's something we can do to
make this a little more clear maybe we
can just put in a comment or maybe we
can write it a little differently but
this is a much better structure we can
run it and see it does the exact same
thing as the last two examples did too
yeah so there's one other type of
spaghetti code that also comes up a lot
too and this one's been even more common
in recent years that than the ones we've
been looking at here and that's as it
relates to object-oriented programming
and you know if you've gone through
stage three you've dealt with some will
be before it can get a little messy if
you're not you're not thinking about
what you're doing is you're going
through if you're not planning ahead so
for this problem I'll be the subject of
this and what what's going on here is I
have a car and I Drive a car my car is
driven by me I want to make some code
that kind of shows that relationship
right so basically I have two classes
here one for cars and one for drivers
and in order to initialize a car you
need to know the model of the car and
you need to know who the driver is I
just realize like we always do then we
have
function here that if you call this
function then what it will do is that
will return you the name of the driver
of the car okay make sense sort of in
parallel we'll have a class for the
drivers as well drivers all have names
and they all have cars otherwise they're
not drivers initialize like normally and
then we have a function called drives
that tells you what car that driver guys
must be and so down here I've got some
initializing cases and my car is a Kia
Optima okay so initially there is no
driver right a car's built it doesn't
have a driver until someone purchases
the car okay so that's how we're going
to initialize it part of that is because
if we were trying to put something in
here while there don't exist any
instances of the class driver yet so we
have to just I say that got you but we
can think of it as like when a car is
manufactured okay and then we have a
variable for me I have a name
Anthony I just bought the Optima so now
I am tied the car is listed on my class
as mine and now we'll just update the
driver and attribute of the Optima to be
me and then at the end we'll have some
print statements that use the functions
we have so if this is working as we want
it to we want to say if a drives an
Optima and the Optima is driven by
Anthony says we should make work it yeah
so we'll build it and that's exactly
what we get so have another little graph
here so this is essentially what is
going on here you have driver drives is
dependent upon car and car is driven by
is dependent upon driver and in a lot of
ways when you look at this code you know
it seems to make sense right yeah cars
have drivers and drivers have cars it
seems to make sense that we build this
relationship right right
just so we have a question real quick
make sure that we can see the code
Sheriff because it was hidden by the
Google logo ask maybe make it a little
bit bigger I can I just go out a full
screen and then yeah sorry I got that
all right so um definitely looks like
this seems to make logical sense and a
lot of ways it does generally you want
to avoid this type of circular
dependency and that's what that's what
we call this going on here a circular
dependency can you think of any reasons
why this might not be a great thing
maybe if you decide change one of them
if you want get a new car you would have
to create a new object but then you
you'd also have to change the driver but
yeah it's a little bit confusing about
what would happen if you wanted to
change one of those objects exactly so
there's two things that people always
say about circular dependencies and that
that is that they're hard to test
because in order for me to test anything
about the car it's time very closely the
drivers so I can't test these classes
independently of each other
it's also hard to maintain that kind of
goes into what he said if I want to
change even like something about a car
it will probably involve a change to
driver also now this can get really bad
when you're working on a very large
project because large projects often
involve multiple different vials
containing many different classes and if
you accidentally build in a circular
dependency there then you could be
having to do lots of changes and lots of
different places
and you're just going to make a huge
headache for yourself so does that mean
you can't make objects that contain
other objects no not at all and in fact
often times it might make sense and in
this case you know it sort of makes
sense what you want to do is focus and
say try to avoid circular dependencies
and focus on like one-way dependencies
so I have a little bit of a refactor of
this initial idea and in this case
you'll see there's no is driven by
function here we just have a drag
function and I could do this any way I
want I'll talk through the code first
and then we can kind of analyze it but
will happen it's just the class car or
what takes in now is the model of the
car whereas the driver still takes in a
name and a car and it still contains
this drives function that tells you what
car the driver drives so now we can
initialize Optima with just you know the
model of that car which is a lot simpler
than the last time I'm trying to
initialize it and then we can initialize
meaning with my name and the car that I
Drive so when I run that I see and you
may be wondering well we don't have the
is driven by function anymore and that's
true we have lost that capability right
but ultimately this is easier to gain
easier to test easier to work with so
that trade-off is worthwhile for us so
what do you think is kind of better or
even like worse about this code just
your initial observations I mean seems a
lot and sleeker like car has just one
you know variable associated with it and
that's the model driver er has you know
one method and then two two variables
associated with it so in terms of like
the objects itself it's a lot simpler
it's a lot easier
to understand preserve and also seems
like you can you'll be able to like
wonder I will be able to have multiple
cars right which I guess he could have
done that before
but it's like it would have gotten
pretty complex pretty quickly right my
team might take some some some work to
give this I don't think has the ability
yet to take multiple cars not sure
exactly but definitely it's easier at
least to give this give this code the
ability to take him right I guess you'd
have to be honest right you'd have to
work this out so car could be a list
which might screw with the function but
still relatively small change compared
to what we have to do with the last one
right and you know it's this dependency
here we have driver depending on car in
this case I could have very easily done
it the other way around and that's the
kind of thing about circular
dependencies it's usually you have a
choice of which direction you want the
dependency to go yeah
in this case I chose this because I felt
that drivers are only drivers without
with with a car if you have a driver
without a car then it's that person
but a car can exist without a driver
so that's always possible this I'm sure
is are giving birth to self-driving cars
and you know I'm sure there's an
argument for the other way around but
cars need to exist with drivers but
basically you can build into the
dependency the way that makes the most
sense for your problem looks the way
that makes the most sense to you
just try really hard to avoid those
circular dependencies and that's where
kind of charting out and thinking about
your problem and saying you know what is
it that I'm trying to figure out in a
way like the questions is driven by and
drives are the same questions just
perverts so let's cut out some of the
unnecessary verbage and just simplify it
yeah so so yeah those are the examples I
had you have any other thoughts on code
structure and importance of it not
really it seems like when most of it
it's cool how near the end this sort of
is there like a creative aspect to it we
have to think about things not in just
in terms of like their coding the way
they work but they way they work in real
life right and I think that objects are
kind of a cool way of thinking about
things in real life like when when you
do decide like like cat I'd like make a
database of all the trees in the world
or something like you want to think
about things in terms of how they're
organized in the real world yeah that's
a lot of translates into code pretty
sure that's one of the things that I
think a lot of people cloning myself
really love about coding is that there's
a huge creativity aspect to it and you
know it's sort of like this it's almost
like an intersection between an arc and
the side
depending on what stage you're at and
what you're doing right you know in a
way the initial things we were talking
about with with go to being the like
basis of the for loop right that's sort
of like the science of like how your for
loop works but then when we go into like
why is a for loop referred to it would
go to statement that's more part you
know effectively they do the same thing
they might even do the same thing in the
same amount of time but we like before
but we call it a often like the word
computer scientists what to use is
elegant elegant code so it's elegant
it's simple it's concise and and that's
that sort of like one of the the beauty
parts of it it's like trying to
determine that structure I'm trying to
make it as elegant as possible and is
one one piece of advice that I heard
somebody wrote this online that as I was
researching this it's never adapt a
language to fit your design adapt your
design to fit a language I think I think
that was pretty good advice
you know sometimes you might find and
this happens a lot of times when I'm
programming is that you'll be you'll
start also code and its structure at a
certain way and then some point in
you're like this isn't really that good
like maybe I should have done things
differently
screw it I'm already halfway and I'm
just gonna keep going yeah there's a
real important step in becoming a
programmer where you stop and redo
things all right
I'm brain think about things you can
suck sometimes
you might have written like a hundred
lines of code and realize that you like
maybe should've structured things a
little differently ultimately is as
we've seen and as we kind of discussed
with the last example the earlier you
catch bad structure and the earlier you
go to correct it the easier will be to
maintain and the easier will be the test
and list it'll make your life a lot
easier to get around that's sort of the
thing that you know planning hopes with
that
and I think that helps with that just
being stuck in that situation Sam you
know this is one of those things that
have to be talked about a new experience
all right all right cool well thanks for
joining us we'll see you next time
yeah definitely every day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>