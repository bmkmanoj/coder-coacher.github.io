<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Simple Barrier Quiz Solution - Georgia Tech - HPCA: Part 5 | Coder Coacher - Coaching Coders</title><meta content="Simple Barrier Quiz Solution - Georgia Tech - HPCA: Part 5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Simple Barrier Quiz Solution - Georgia Tech - HPCA: Part 5</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4Ed9hoWC8BQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">let's look at the answer to a simple
barrier quiz where we had this program
where both threads are going to
synchronize on a single barrier and then
thread one finishes and then thread 0
continues alone the question is does our
simple barrier implementation work for
that and the answer is yes it does work
if we only do this barrier once then the
first read that enters this critical
section will set the release 20 and
increment the count 21 the second thread
that reaches this will increment the
count 22 if the first thread ends up
waiting for release the second one will
still see that the count is to reset the
count set the release and eventually due
to coherence remember that coherence
guarantees that when we read the release
eventually we will see it is just that
we can be arbitrarily delayed but no
matter how long we are delayed
eventually we see it and there is no way
to get stuck here so the thread that
does the releasing leaves the barrier
that real easy leave the barrier or it
might happen that both of them execute
this in very close proximity to each
other both of them now see the new count
of two and then both of them release and
exit the barrier either way nobody gets
stuck the reason why the simpler barrier
is not entirely correct is not that it
doesn't work on the first try it's that
it's not reusable so the problem occurs
if we try to use this barrier again
after the first time you use it in which
case somebody might be stuck still here
and we reset this so that they never
leave the first instance while everybody
else is in the second instance but
unless we have that second instance of
the barrier this barrier works so in
this particular case if we are sure that
we are going to use this better only
once in the entire run of the program
then this barrier does work correctly</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>