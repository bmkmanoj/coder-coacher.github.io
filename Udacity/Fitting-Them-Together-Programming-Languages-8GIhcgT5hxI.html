<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Fitting Them Together - Programming Languages | Coder Coacher - Coaching Coders</title><meta content="Fitting Them Together - Programming Languages - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Fitting Them Together - Programming Languages</b></h2><h5 class="post__date">2012-06-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8GIhcgT5hxI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so we just said in our particular
architecture that the HTML interpreter
is going to call the JavaScript
interpreter but not the other way around
so they're kind of like two pieces to a
puzzle that totally fit these fit
perfectly with the application of
another jigsaw I've labeled them as
fitting so they fit now recall that we
treat JavaScript as a single HTML token
and the reason for this is that things
like 5 is less than 7 or a is greater
than B those can appear in JavaScript
but they would confuse us in HTML
because we'd think the less than greater
than were part of tags for example this
is totally valid JavaScript assuming a
and B are defined somewhere this should
either print out true or false but if
you look at it carefully this less than
B is sort of indistinguishable from the
less than B that might come in
legitimate HTML like less than be
greater than bold so that's why we took
all of this text and we didn't interpret
it in our HTML parser instead we saved
it for later well now's the time let me
just remind you of how we defined our
tokens related to JavaScript here I have
our rule for beginning the tokenization
of JavaScript remember these backslashes
our escape sequences you should read
right over them in some sense the first
character I want to match is this less
than sign but just in case at a special
meaning for regular expressions I'm
going to put a backslash before it to
escape it so that they know I mean
exactly this backslash just like over
here I mean exactly this space exactly
this double quote exactly this forward
slash exactly this double quote and
exactly this greater than sign so we're
requiring JavaScript to start with
script space texts or type equals text /
JavaScript and when it does we move our
lexer into a slightly different world
and we talked about this before we just
have multiple finite state machines and
hoop we're down at the one at the bottom
now and then down here i have my rule
for ending javascript lexing we're
looking for this
just in case any of these three special
symbols have special meaning to regular
expressions I have put the backslash and
escape sequence in front of all of them
this is probably not actually necessary
but it's what's known as defensive
programming can't hurt might help I want
the token value to be all of the string
data all of the embedded JavaScript code
I'm going to use a variable we haven't
told you about yet it's possible to get
the entire input string from the lexer
in token lex-lex data don't worry too
much i'm just going to assert that this
works this is the entire big string and
i'm going to get it starting at the
position we recorded earlier back up
here when we found the JavaScript token
we wrote down the current lexer position
and stored it in little variable we made
up called code start so let's say 50
characters into the file we started the
JavaScript we'll just store that 50
right here in code start that's going to
let us pull out starting at character 50
up to where we currently are let's say
that there are a hundred characters of
JavaScript now we'd be at 150 and i'm
subtracting out nine why am I
subtracting out nine 123456789 it's the
size of this ending token I don't want
this /script to be in it so I've set the
value correctly I say the type of this
token is JavaScript for accurate
debugging information we want to keep
track of which line we were on in case
we want to report errors later here's a
trick the JavaScript embedded code
probably had new lines in it I want to
make sure that all of those count so i'm
going to count up the total number of
new lines or carriage returns or what
not found in the embedded JavaScript
code and increment my own line count by
that amount then we go back and move to
the initial state of the lexer where we
can get HTML tokens like L angle l
angles / our angle so this is just
gathering up the raw string for embedded
JavaScript and
storing it as a single HTML token one
last important thing to remind you of
note that we stripped off the final
script from the end and because of the
way Lex paws works it measures the value
after we match the token we actually end
up stripping off the script type
text/javascript from the beginning as
well</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>