<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Way Prediction Performance - Georgia Tech - HPCA: Part 4 | Coder Coacher - Coaching Coders</title><meta content="Way Prediction Performance - Georgia Tech - HPCA: Part 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Way Prediction Performance - Georgia Tech - HPCA: Part 4</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8gT4E8WygYs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so how often can we expect to guess
correctly in a way prediction cache we
can get an idea for this by looking at a
smaller direct map cache basically let's
say we have a 2-way set-associative
cache each set of this cache has two
ways two lines in it and by doing way
prediction we are effectively using one
of these at first and only if we don't
find it there we look at the other one
so effectively a way prediction cache
first tries to access what looks like a
smaller direct mapped cache then it will
try the entire set associative cache so
we can get a pretty good estimate for
the hit rate and hit latency and so on
of a way prediction cache if we look at
the direct map cache and a set
associative cache so let's look at the
basic 32 kilobyte 8 way set associative
cache let's look at its hit write hit
latency miss penalty and the overall aim
at and we will also look at a 32
kilobyte 8 way set associative cache
with way prediction the hit rate of this
cache let's say it's around 90% the hit
latency might be 2 cycle because it's
highly associative the miss penalty
would be 20 cycles for example and the
overall aim at would then be 2 for the
hit latency plus 10 percent of the time
we have the miss penalty and we get 4
here now we already said that way
prediction behaves like accessing only
one of the ways in the cache with way
prediction in an 8 way set associative
cache we are really guessing which of
the eight places is going to have the
block so effectively with way prediction
our first attempt will be to a 4
kilobyte direct map subset of this cache
if we look at a normal 4 kilobyte direct
mapped cache that's gonna have for
example a 70% hit rate but the one cycle
hit latency because it's faster and the
Miss penalty will be the same if when I
try to get the aim at for this basic
direct mapped cache we will have 1 + 0
point three the Miss rate times twenty
and this is gonna be one plus six so it
gives us seven so obviously we are
better off with the 8 way set
associative cache however we're paying
an extra cycle each time we access it
for the hit latency in order to get the
low miss penalties here with the way
prediction cache what we are getting is
70% of the time we are going to find
what we are looking for in the four
kilobyte subset that we are checking
first and we will have a one cycle
latency for that in the remaining 20%
we're gonna check the rest of the cash
so our overall hit rate will be 90% what
we don't find here we will still find
here if it's in the 32 kilobyte cache so
we get a 90% hit rate overall our hit
latency now is 1 or 2 and our Miss
penalty is 20 so how do we compute the
aim at well what we now have is that 70%
of the time we find what we are looking
for in one cycle the other 30% of the
time whether we have a hit or a Miss in
the eight-way cache we have to check it
so the other 30% of the time we are
checking all of the ways for which we
pay a two cycle latency and then 10% of
the time we don't find what we are
looking for in all of the ways so we
have to pay the Miss penalty so now we
have what looks like our hit time 70
percent of the time it's 130 percent of
the time we have to use a tool so we end
up having a one point three cycle on
average hit time and the Miss penalty of
the 8 way set associative cache which is
still going to be - and this is how we
improve things we now get an aim at of
three point three because what we
effectively got was the misses of an 8
way set associative cache but the hit
time that is much closer to a direct
mapped cache than it is to an 8 way set
associative cache</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>