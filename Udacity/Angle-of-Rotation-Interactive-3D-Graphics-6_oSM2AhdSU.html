<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angle of Rotation - Interactive 3D Graphics | Coder Coacher - Coaching Coders</title><meta content="Angle of Rotation - Interactive 3D Graphics - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angle of Rotation - Interactive 3D Graphics</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6_oSM2AhdSU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I have my axis of rotation it's negative
X Z it's a good idea to normalize this
but this will do for now if I look at my
cube it's pretty easy to figure out the
diagonal directions themselves here's
the easiest one it goes from negative 1
negative 1 negative 1 to 1 1 1 so the
cylinders axis is 2 2 2 we can also use
this vectors lengths to find the
distance from one corner to another
these are the facts we need to continue
we've got the axis of rotation we need
the angle to rotate and the length of
the cylinder itself here's 3 J's code
that computes the cylinders length 3 Jas
uses a class called vector 3 what you
put in a vector 3 a point or vectors
coordinates is up to you perhaps a
better name might have been coordinate 3
but that's pretty bulky most graphic
systems you'll encounter will call
coordinates and vectors but it's easy
enough to understand from the context
what is meant to find the cylinders
access direction and length I set up the
two corner locations I then subtract one
vector from the other using the sub
vectors method giving a vector from one
point to another there are a huge number
of vector and matrix operations
supported in 3gs subtraction is just one
of many once we have the cylinder axis
this last line of code computes the
length of this axis which we'll need for
knowing how long to make the cylinder at
this point we have the axis of rotation
the length of the cylinder but we don't
have the angle of rotation yet however
we have everything we need to get it
given this cylinders axis we can dot
product it with the y axis which is
where the cylinder starts at and then by
the dot product of that in its final
position we will get the angle that we
need to rotate remember that the dot
product computes the cosine of the angle
between two normalized vectors so we
normalize the cylinders axis here and
take its dot product with the y-axis
vector here
this gives us the cosine of the angle so
we take the arc cosine to get the angle
back in radians using a dot product is a
bit of overkill by the way computing a
dot product with y-axis like this is the
same as just grabbing the Y component of
the silh axis we could have simply
normalized and done this like this code
here however unless this is a critical
loop like we're making a billion of
these ornaments I'd recommend using this
first
if someone reads or modifies this code
in the future the intent is clearer and
more general now we have all the facts
we need to make this object the axis and
angle of rotation and the length of the
cylinder so let's get cracking well I
guess I should mention that the sine of
the theta might be a little bit
questionable here we could use the right
hand rule to make sure we have the
direction of rotation right or we could
use the principle of negate and try
again I learned about this practice long
ago from an article in an old trade
journal called SGI insider it was great
to realize that someone else was doing
what I also do if I put a rotation in
and it goes the wrong direction just try
the opposite so feel free to do the same
as you're in good company you could
spend 15 minutes trying to figure out
the sign needed after it's some set of
matrix operations and still have about a
50% chance of getting it right faster
and more reliable is just to try it and
see that said this practice won't help
much if there are too many things to
negate or if the rotation is part of a
long chain of transforms or if you're
starting from an incorrect algorithm but
if you're feeling the math is solid go
ahead and just do it using this
principle with my test program I found I
needed to negate the angle to move the
rod to the correct place I guess I could
have thought it through and realized
that this was the right hand rule and
all that kind of stuff but nonetheless
just trying it made me realize you
needed to have a negative theta I don't
really like negative angles I like to
think positively so I negated both the
angle and the access direction this
should give exactly the same rotation if
you rotate clockwise around one axis
rotating counterclockwise around the
opposite axis direction is the same
thing</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>