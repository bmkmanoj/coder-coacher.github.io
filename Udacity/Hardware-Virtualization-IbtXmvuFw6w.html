<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hardware Virtualization | Coder Coacher - Coaching Coders</title><meta content="Hardware Virtualization - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hardware Virtualization</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/IbtXmvuFw6w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the solutions that we described on how
to virtualize memory and ion clearly
indicate that there is some degree of
complexity and overheads that have to be
incurred by the due to virtualization
given the wide recognition that
virtualization delivers important
benefits and as we pointed out earlier
in this lesson in that it presented an
important path to address some of the
issues related to rising operating costs
in the IT industry the hardware
companies responded and they modified
their architectures in a way that makes
them more appropriate for virtualization
in the x86 world these virtualization
friendly architecture started appearing
around 2005 with AMD pacifica and Intel
Vanderpool technology or Intel VP for
short with respect to X eighty-six one
of the first things that was fixed was
to close the holes with respect to those
17 non-virtualized herbal instructions
so that they will cause a trap and pass
control over in a privileged mode also
the new protection mode was introduced
so as opposed to having just one
protection mode with 4 rings now there
are two protection modes root and non
root also referred to as house because
this is root is the mode in which the
host operating system the hypervisor
would run in the non root that's also
referred as guest which is for the guest
VM would run also support was added for
the processor hardware processor do you
understand and to be able to interpret
information that describes the state of
the virtual processors called me CPUs
this information is captured in a VM
control structure or also called the VM
control block in the AMD x86
architectures the fact that the
hypervisor understands how to interpret
this data so can walk this data
structures the term that's commonly used
means that you can specify whether or
not a system call should trap so it's
easy for the hypervisor to know that a
particular type of operation should not
cause a trap into route
and instead should just be handled by
the privileged layer in the non-root
mode so the privileged layer in the
non-root mode is the operating system
and other pieces of information than
that in a certain way can help reduce
the virtualization overheads the next
step in terms of virtualization related
advances was to make it easier to manage
memory since hardware was already able
to understand the presence of different
VMs the next step here involved tagging
the memory structures used by the
hypervisor with the corresponding VM
identifiers so this led to support for
extended pH tables where the page table
entries now include information about
the VM IBM and also tag TL beasts but
this means is that if there is a context
switch from among VMs that's also called
the world switch when we're switching
from one VM to another we don't have to
flush or invalidate those entries that
are in the TLB that had belonged to the
previous VM this is because the MMU when
it performs a check against the TLB
entries will try to match both the
virtual address that's causing the
access request as well as the VM
identifier and if they both match then
it will proceed with the address that's
specified in the TLB entry otherwise it
will deal with the page fault failures
as a result context switches are now
much more efficient hardware was also
extended to add better support for i/o
virtualization and this included
modifications both to the processor and
the chipset side and also a device and
system interconnect capabilities that
were introduced in order to support this
some examples of these features include
things like multi cue capabilities on
the device and you can think of this as
the device having multiple logical
interfaces where each interface can be
used by a separate VM and also better
support of interrupts routing so that
when a device needs to deliver an
interrupt to a specific VM it actually
interrupts the core where that VM is
executing and not some other CPUs
additional
realization related hardware features
will also included for stronger security
guarantees that now can be made to the
VMS and also to protect the amps from
one another as well as from the
hypervisor and also features for better
management support or for more
efficiently to be able to perform
various management operations in
virtualized environments you can think
of this as more virtualization friendly
management interfaces also a number of
new instructions were added to x86 in
order to actually exercise all of these
new features for instance a new
instruction was introduced to transition
from one mode to another basically to
transition to route mode or to return
control to non routes they are a mode or
new instructions to manipulate in
certain ways state that's in the per VM
control data structure etc</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>