<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Address Space Switches - Georgia Tech - Advanced Operating Systems | Coder Coacher - Coaching Coders</title><meta content="Address Space Switches - Georgia Tech - Advanced Operating Systems - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Address Space Switches - Georgia Tech - Advanced Operating Systems</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/u2Z936p0fBI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the second myth concerns going across
protection domains and especially if the
protection domains are implemented as
distinct Hardware address spaces then
the myth is that crossing protection
domains implemented using Hardware
address space which is expensive and we
are now talking explicit cost for
crossing protection domains implemented
as distinct Hardware address pieces not
the implicit cost we are only talking
about the explicit cost of crossing
protection to me now let's understand
what is involved in an address space
which those are refresher to show you
what exactly is happening in terms of
translating a virtual address to a
physical address you all know about the
concept of a TLB and the virtual address
consists of two parts an index part and
a tag the index is used to lookup the
TLB and the tag that is contained in
that particular entry of the TLB is
matched against the tank coming from the
virtual address if they match then you
got a hit then this particular virtual
address is contained in that TLB entry
and you've got the physical frame number
that corresponds to the virtual page
number that you started with so that is
your very simple TLB matching hardware
that does the address translation from
virtual page number to physical page
number
now what happens on an address piece
which there is a context which going
from one address space to another
address space on a context switch the
virtual address to physical address
mapping will change for the new process
that is going to be scheduled so in
other words if the TLB contains the
translations for a particular process
that is currently executing on the CPU
if we do a context switch do we have to
flush the TLB because the virtual
address to physical address mapping is
going to be different for the new
process a new thread that is going to
run on the processor now the answer to
the question do we have to throw
the mappings that exist in the TLB when
we do a context which is depends it
depends on whether the TLB has a way of
recognizing that the virtual to physical
address translation that is contained in
it is flagged by the distinct process
for which those translations have been
put into the TLB or in other words if
the TLB has address space tags in
addition to the tag for December grading
one virtual address from another virtual
address and then you don't have to flush
the TLB so these are what are called
address space tag tlbs which contain the
process ID for which a particular TLB
entry is present in the TLB MIPS
architecture for instance uses address
space tagged tlvs but on the other hand
an architecture may not use an address
space tagged TLB Intel 486 and Intel
Pentium are examples of architectures
that do not have address space tags
associated in the TLB so in an Intel
Architecture at the point of the context
which you have to throw away all the
entries that are there in the TLB on
behalf of the process in the Intel
Architecture actually the TLB is split
into two parts a user part and a kernel
part and the kernel part is common
regardless of which process is running
and therefore you don't have to flush
that portion of the TLB the kernel
portion of the TLB but the user portion
of the TLB has to be flushed on a
context switch because the virtual
address to physical address mapping is
going to be different for the new
process that starts to run on the
processor</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>