<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Improving Memcache - Web Development | Coder Coacher - Coaching Coders</title><meta content="Improving Memcache - Web Development - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Improving Memcache - Web Development</b></h2><h5 class="post__date">2012-05-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/KaSysT4HxFs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so the other thing you mentioned to me
that you're proving is this notion of mm
cash ejection right so the memcache
client library has the ability to notice
that a memcache node has gone down and
decide that it's not going to try to
talk to it anymore it's kind of a
heuristic it it notices like a number of
failures happens so it just decides to
back off and it'll basically at that
point just treat the ring as if there's
one fewer node and we can not use that
until the locking is gone but once we've
done that memcache will automatically
heal itself so we can sell feeling among
cash not the one memcache dies and the
whole site gets a little long right and
we probably could do with more memcache
right now but we don't want to add more
because it increases our risk of failure
yes that was something I remember too is
we're always we sometimes we wouldn't
had a memcache because we didn't want to
redistribute the keys right it's a
simple act of like redistributing the
keys was kind of a scary thought
yeah and and right now even with
consistent hashing if we add one
memcache like in the middle of the night
the the database slaves will actually be
kind of unhappy for maybe an hour or two
and that's just one server this is kind
of a happy thing I can feel people
losing respect for me as is whenever we
bring up a new database slave I would
actually go into the database and I
would have an app server that would
connect only to that machine and then I
would hit all the most popular pages I
knew they were the most popular did I do
it by hand ago to read at hot funny hot
picks hot and I would just load all
those queries yeah to make sure that the
cache everything but you know what's all
up-to-date and warm and the database was
good because when you bring up a new
database slave and that's it running
inquiry sense so nothing's buy cached
you know other things that Postgres was
really really nice is it manages the
kind of disk memory dichotomy you know
that's some of the data is on disk
you know all the data is on disk but
only some of it fits in the memory and
you need to basically kind of tell
postcodes this is the data I want it
memory
and so we'd have to run these queries to
get these database machines oh because
the first few times they bring up a new
a new read slave we turn it on it and
I'll sign it was performing I like 1/10
the speed of the master and you get
monster - like lag issues it's a bad
situation yeah and I mean heating it up
is great because then you don't have to
worry about like the piling on effect
just yeah yeah we've talked about in
unit 6 that calf stampede that shows up
in a lot of different flavors you know
if your cash isn't warm a bunch of
people are probably trying to do that
career at the same time and it may take
you know one second for one person but
if 10 people asked at the same time it's
not gonna take 10 seconds it might never
finish because they might all be slowing
each other down trying to like bring
this data in and out of the cache and
it's just things start thrashing it's
it's nasty</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>