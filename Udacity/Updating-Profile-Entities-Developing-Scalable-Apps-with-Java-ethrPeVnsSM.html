<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Updating Profile Entities - Developing Scalable Apps with Java | Coder Coacher - Coaching Coders</title><meta content="Updating Profile Entities - Developing Scalable Apps with Java - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Updating Profile Entities - Developing Scalable Apps with Java</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ethrPeVnsSM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">when you save an entity with a key it
creates a new entity in the data store
with that key as you found out earlier
this creates a key conflict if an entity
with that key already exists it is out
of luck and it gets chucked out it's
over written in the data store so if you
want to update an existing entity first
you need to get it out of the data store
then you make your updates and then you
save it back into the data store again
so back here in the save profile method
of the conference API whenever we've
been saving our profile the first thing
we do is create a new profile with a
user ID that means actually every time
you update your profile you're not
really updating it you're creating a new
profile entity which overwrites existing
profile entity you can see how that
plays out in the api's Explorer now that
we've implemented get profile we can
just call get profile to get the
existing profile for the current user so
let's do that okay let's see so my
display name is chocolate cake and my
t-shirt size is XL now let's say I want
to change that I want to change my
t-shirt size so go to save profile and
the only thing I want to do is to change
my t-shirt size from Excel to excess
extra small this time I will execute and
what would be really nice would be that
the only thing that changes is t-shirt
size so let's see if what happened but
no that's not what happens you see how
the display name gets set back to the
default which is example my t-shirt size
did change what I should really happen
the save profile method should get the
existing profile and only update the
fields that have changed so that's going
to be your next task</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>