<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hash Tables - Intro to Computer Science | Coder Coacher - Coaching Coders</title><meta content="Hash Tables - Intro to Computer Science - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hash Tables - Intro to Computer Science</b></h2><h5 class="post__date">2012-06-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/eiktSrhdrxs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so we had a lot of great questions about
hash tables on the forums and one
example is student braccia ask how does
python decide how many buckets
a dictionary has as it grows so this is
this is an important question and there
are lots and lots of interesting things
about hash tables that we did not get
into in unit 5 if memory was free and
cheap and equally fast no matter how
much you needed then you'd want to test
people to be as big as possible right
you'd want billions of buckets in your
hash table so they never have to have
more than one entry in a bucket but as
we saw it in unit 3 memory can be
expensive and the faster and the more
close to the processor the memory is the
more expensive it is so you have a very
limited amount of that there's a reason
to try to keep the hash tables small as
well and so this is a tough trade-off
good hash table implementations try to
make this trade-off in a way that gives
you the right balance of performance and
memory use and they do this by looking
at the load factor and we actually use
this in the unit for this is just the
number of entries divided by the number
of buckets and we have that question in
you know for where it's starting unit 5
you know fight for already in unit 5 the
question where it was n divided by B
where you're looking at the impact of
the change of the number of buckets and
the number of entries and one thing that
you have to worry about when you do that
is if you're just looking at the number
of keywords and the number of buckets
that's the average size and what matters
in many applications is more the worst
size so even if the average size is
fairly small the worst size could be
much larger than that and if the lookup
for the the worst case entry starts to
get very bad then you want a larger
number of buckets or to change your hash
function in some way so for a typical
hash table implementation the goal is to
keep the load factor actually below one
usually for pythons dictionary
implementation if the number of key
words exceeds about 2/3 and I think is
actually exactly 2/3 of the size of the
table that's the point where the table
is resized so the table would then be
doubled and that changes the bucket each
word would appear in because we saw that
the result that hash function depends on
the number of buckets you have so you'd
have to copy things into the new hash
table that has more space but that's
gonna make the lookups faster and so
this means that if you had
about a million entries in your hash
table you would expect to have about a
million and a half buckets but as you
increase both above that two-thirds
threshold then you'd double the size of
buckets so you'd end up with 3 million
buckets if you added one more entry
beyond that so if you compare this to
what we did in unit 5 you might be
surprised that it's so little that we
were doing example hash tables where the
number of buckets was very small in each
bucket had many entries in it this was
partly to be easier to see what's going
on because if you saw a hash table with
thousands of empty buckets that would be
kind of hard to print out but the other
reason for that is the way we
implemented the hash table and unit 5
was each bucket was a list and with a
list that's a fairly expensive data
structure you've got to create all those
empty lists to create your hash table
the way the Python dictionary is
implemented there's just one flat list
that means there's one space for each
hash value that if you have just a given
bucket there's only one space there that
means of two things has to the same book
that you've got to do something else and
what happens in the Python dictionary
implementation is you look for another
free place to put it and you have a way
for deciding where you look for the next
one if the first one is full this makes
lookups and adding for the table more
complicated so that's that's why we
didn't do it but it means you're using
less memory because you don't have all
those empty lists for all the empty
buckets there's a great chapter in a
book called beautiful code that's all
about the Python dictionary
implementation so if you're interested
in how that's actually done I'd
encourage you to to look at that chapter</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>