<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Mapas Estáticos e Imagens do Street View V3 | Coder Coacher - Coaching Coders</title><meta content="Mapas Estáticos e Imagens do Street View V3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Mapas Estáticos e Imagens do Street View V3</b></h2><h5 class="post__date">2016-08-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tvnTfQMaDEs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we have a nicely styled map we have some
points now let's show our customers what
the listed properties look like Street
View imagery is one of the awesome
features of Google Maps that's widely
used and loved in case you don't know
the world is big really big you just
won't believe how vastly hugely
mind-bogglingly big it is Street View
imagery is 360-degree imagery of a huge
number of locations throughout the world
the Google Maps API is provide a service
for obtaining and manipulating the
imagery used in google maps street view
now let's find out how we can get this
imagery and show it in the info window
so I users don't have to drive around to
each building
first let's understand what makes up a
street view panorama obviously we need
to know what place we're looking at for
example this is my favorite dessert
place in New York City rice to riches
they sell seven dollar rice pudding but
it's totally worth it believe me next we
need the point of view do we want to be
looking at this building from the east
or the west this is called the heading
also should we be looking down on the
building or up at it this is called the
pitch we'll need to define these things
dynamically for each of our points let's
dive back into the code okay we're going
to go back to our populate info window
function that we created before this
function needs to do a few more things
besides just creating a string to put
inside the info window the first thing
we're going to have it do is create a
new Street View service object this
service needs to get the panorama image
based on the closest location to the
marker and needs to find out which way
to point the camera the heading and the
pitch now we could just create a
panorama object with a position of the
exact lat long of the marker but what if
there is no imagery for that exact
location since we're smart we're going
to define a radius of 50 meters that
it's going to look for a street view
image within now we're going to use the
street view service get panorama by
location function and pass in the
position of the marker the radius and
call our get Street View function which
will define above the get Street View
Function is basically going to take that
nearby street view location and compute
a heading based on the location of the
nearest street view and the location of
our marker in order to do this we're
going to use the Google Maps geometry
library we're going to load the geometry
library when we load the API by using
the library's parameter we'll talk more
about this later this will allow us to
use everything within the geometry
library in order to compute the correct
heading so that we're looking at our
building from the nearest street view
location we're going to use the
computing function when we set our
panorama option
we're going to tell it that it's in the
position of that nearest street view
location and that the point of view that
we'll be using is going to be the
heading that we just computed and a
pitch of 30 which is going to have us
looking slightly up at the building
we're going to actually create that
panorama object and put it inside the
info window at the div with the ID of
pano if no Street View image is found
then we'll put information into that
info window indicating that let's test
it out awesome now we can show our users
what their future new digs will look
like we've covered a bunch of useful
dynamic stuff so far but what if you
just want to show a simple image a
street view or a non dynamic map you can
use the same Street View imagery we were
just working with and embed it in your
site or app just like any other image
you can also use the street view
functionality without a map you simply
need to use a URL as the image and pass
in the parameters we just discussed the
location the heading and pitch of the
imagery and the size we can use this in
any image element in your page similarly
if you just want to display a simple non
interactive map you don't need to use
the full JavaScript API you can use the
static Maps API to do this more simply
and it will load more quickly for the
end user for example if we wanted to
show our users a list view of our real
estate listings they might benefit from
a small thumbnail view of where the
location is we only need to create a
static map image URL and specify a zoom
level center and size and optionally
define some markers info windows or
other items which will also just be part
of the image return to learn more check
out the link in the notes let's take a
short quiz on the material we just went
over and then we'll move back to the
JavaScript functionality and show some
awesome ways you can create geometric
overlays on your map</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>