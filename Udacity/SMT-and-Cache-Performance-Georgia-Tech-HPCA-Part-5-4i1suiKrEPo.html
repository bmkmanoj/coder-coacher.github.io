<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>SMT and Cache Performance - Georgia Tech - HPCA: Part 5 | Coder Coacher - Coaching Coders</title><meta content="SMT and Cache Performance - Georgia Tech - HPCA: Part 5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>SMT and Cache Performance - Georgia Tech - HPCA: Part 5</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4i1suiKrEPo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now let's look at the relationship
between SMT and cache performance the
cache of the core is shared by all of
the SMT threads that are currently
active on it so for example if we have
2-way SMT then the cache is shared by
both of the threads that gives us some
good and some bad properties the good
property is that we get fast data
sharing among the threads when thread
zero stores something and then thread
one wants to read it it gets to get a
hash hit so any communication between
these threads that happens within a
short span of time like we store and
then we quickly load in another thread
will go through the cache and have
really really good performance because
the load here will always be a cache hit
assuming that the store happened
recently so the communication now no
longer goes through shared memory
because we have a cache the
communication tends to go through just
the cache but when we have an SMT
processor the cache capacity that we
have and its associativity is shared by
all of the threads so if the working set
of thread 0 plus the working set of
thread 1 minus the part of the working
set that they have in common which would
be counted twice if we did this exceeds
the data cache size we get what is
called cache thrashing pretty much the
data no longer fits in the cache and we
get a lot of cache misses if each of the
working sets would fit individually in
the data cache size then the performance
of the SMT can be and usually is
significantly worse than doing the
threads one at a time so we were
assuming that when we did SMT that we
will get some benefits from using
resources that would otherwise be
underutilized like the issues laws and
the reservation stations and so on but
that assumes we are getting similar
cache performance however if the cache
has a given size and threads are written
to fit in that cache then running to
such threads if they don't share enough
data might exceed the cache size in
which case suddenly we have a lot more
misses than we expected
and we make payback in cash misses a lot
more than we gain by overlapping
execution in the SMT fashion</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>