<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Updating the Database - Web Development | Coder Coacher - Coaching Coders</title><meta content="Updating the Database - Web Development - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Updating the Database - Web Development</b></h2><h5 class="post__date">2012-05-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6ZYIrDPAg6c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so we've done turning our request
IP into some coordinates tada alright
next step is to draw a map actually
there's some in between step before we
draw a map let's look at our code again
we actually have two to-do lists so we
said we're going to look up the user's
coordinates from their IP so let's go
ahead and do that here chords equals get
chords self dot requests that remote
adder okay that should work and then we
said if we have coordinates add them to
the art right now our object doesn't
take any coordinates so let's add an
extra property to our art course equals
d VG o PT property again I found that
this existed when I was reading the
google data store dachshund and since
we're returning a Geo point here we can
store it in a Geo point property and
again this is a google specific data
type for storing the latitudes
longitudes and super convenient now I'd
like to say required equals true but we
already have some art in our database
that doesn't have coordinates so we have
a couple options here we can either
delete all that art and start over but
being that ASCII Chan is a famous site
on the internet and everybody's using it
we don't want to just break we'll just
make this parameter not required and
we'll just have it for future ones this
is something that comes up all the time
when you're developing web applications
it's kind of backwards compatibility
because you're often adding features
tweaking your data model this is one of
the reasons things can get a little
hairy but it's also one of the reasons
what the web is really neat because you
can kind of develop iteratively we're
adding our chords to our art and we're
going to go down here and say if we have
coordinates add them to the art that's
easy if chords basically if get chords
doesn't return none p dot chords equals
courts now we're good let's go ahead and
try submitting some art in our browser
and see if we get an exception reload
this let's submit a new picture call
this one cat enter in a picture of a cat
and will submit this okay well I didn't
see any exceptions let me show you
something handy we can do in Google App
Engine to make sure this actually
submitted properly you may notice that
when you start up App Engine it actually
mentions in the console that the admin's
hole is available at this URL or at a
URL like this let's go ahead and visit
that and let me show you something we
can do it defaults to the datastore
viewer and it selects all of the entity
kinds we have we only have one in this
drop-down so if I click list entries I
can see all of my entries and I can see
here is a camel and here is cat my two
entries and I can see that camel doesn't
have any coordinates because
we enter that before we added this
feature and we can see our cat has map
coordinates so our feature is working
and that's pretty cool and there's all
sorts of Handy stuff in this tool here
you know you can check out your indices
and all all sorts of cool stuff it's
need to poke around in here but working
with the database you know this is a
particularly handy view all right so
let's get out of here for now and let's
move on to the next feature which is
actually drawing this map</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>