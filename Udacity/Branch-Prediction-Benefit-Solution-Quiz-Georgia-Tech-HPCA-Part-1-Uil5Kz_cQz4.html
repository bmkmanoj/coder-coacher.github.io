<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Branch Prediction Benefit Solution Quiz - Georgia Tech - HPCA: Part 1 | Coder Coacher - Coaching Coders</title><meta content="Branch Prediction Benefit Solution Quiz - Georgia Tech - HPCA: Part 1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Branch Prediction Benefit Solution Quiz - Georgia Tech - HPCA: Part 1</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Uil5Kz_cQz4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">let's discuss the solution for our
branch prediction performance quiz the
first thing we want to do is figure out
how many cycles are we spending per
iteration of this loop in the case where
we are fetching nothing until we are
sure what to fetch there is a trick to
this which is when we fetch the add I
here we don't know if it is a branch so
we are not sure what to fetch in the
next cycle when the add guy moves to the
decode stage at the end of that cycle we
know that it's not a branch so actually
the add ice costs us two cycle want to
fetch it and then there is a pipeline
bubble until we can decode it similarly
the add costs as two cycles want to
fetch it want to be sure that it's not a
branch for a branch we fetch it in one
cycle we decode it in the next cycle
we're still not sure what to fetch
because what now that we know it's a
branch we need to know whether it's
taken or not so the branch causes three
cycles when the branch is in the alias
stage we have to pipeline bubbles
already because we wouldn't fetch
anything yet and only after that we know
what to fetch so there are three cycles
worth of branch and doing nothing before
we can fetch the next instruction so
overall we're spending seven cycles per
iteration of this loop now let's see
what happens with the perfect predictor
with a perfect predictor when we are
fetching the ad we can perfectly predict
that the next instruction to fetch is
this second ad so we spend one cycle
here one cycle here and with the perfect
predictor once we have fetch this branch
we magically know that we should be
fetching this at I so we spend one cycle
here for a total of three cycles so the
speed-up of having a perfect predictor
in this case is 7 over 3 which is 2
point 33 so with a perfect predictor we
will have more than twice the
performance that we're having when
fetching nothing until we are sure what
to fetch</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>