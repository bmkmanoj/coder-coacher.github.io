<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Delta Debugging - Software Testing | Coder Coacher - Coaching Coders</title><meta content="Delta Debugging - Software Testing - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Delta Debugging - Software Testing</b></h2><h5 class="post__date">2012-07-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/IV-81jFxa20" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay here we are back on one of my work
machines and we're going to look at a
test case which makes the latest version
of GCC crash it's not to save the latest
release version but version from there
subversion repository that I just built
recently and we can see that it's kind
of big and if we look at its size it's
about 40 kilobytes so actually that's
not that big as a random test cases go
we've sometimes the bugs that trigger
compiler crashes are much huger like
hundreds and hundreds of kilobytes
anyway so this one's pretty small that's
nice so what we're going to do now is
run a delta debugger on it and so first
let's make sure we know that it crashes
so current GCC is what i call the GCC's
that I build from the repository all
right it seems to have croaked in good
initial def for induction that tree
vector OOP 3222 so an assertion violated
inside the compiler and we're happy that
it did because otherwise this might have
turned into a bug that causes GCC to
generate wrong code and we never want
that to happen okay so the next thing we
need is an automatic script that detects
if a particular program has this bug and
I've already made the script I've called
it test one sh and what it does is
compiles a program at the particular
optimization level 0 3 and then searches
the output for this particular string
get initial def for induction and the
reason it for that is is that we want to
be sure not only that we can crash GCC
but we crash GCC with this particular
but we're interested in this bug right
now so this test script will return 0 to
the operating system if it succeeds I'll
return something else if it fails so now
we're going to do is invoke the goodell
to debugger and this is a little script
here that makes that work and it's going
to go ahead and try to minimize this
test program so let's see how it does
okay so the Delta debugger just finished
and no doubt you'd acid ease excellent
editors who have cut out the several
minutes i SAT there waiting for that to
finish but it took about maybe four
minutes and the point is I did enough
just sit there waiting so let's see how
big the program is ok it's not that
small but it's about seven kilobytes and
so really so the Delta bugger got rid of
a bunch of the junk it's still gonna be
a little bit bad it's not too bad so
we'll be able to cut down that seven
kilobytes by hand if we want to fairly
rapidly much faster than we would have
been able to deal with the original
nearly 40 kilobytes so one thing you
might be saying to yourself is well that
was that's all well and good don can do
test case reduction or compiler inputs
using delta debugging but the really
nice thing about delta debugging is it
works for any text based input format
and that's really nice so if we trying
to reduce an HTML document that causes
the web browser to crash we can use
Delta debugger if we're trying to reduce
the JavaScript program that causes the
JavaScript interpreter to crash we can
use Delta debugging basically anything
that's text we can
use it for so if we think back to the
bounded queue data structure that we
developed a random tester for those
particular random tests didn't have any
external manifestation those only
existed as sort of data structures
internal to python and so we can't do
delta debugging on those because there's
no text file but what we could have done
is before running the random test
through the queue we could have saved
those to a text file that is to say just
translating the operations that we're
doing in two strings and then once that
is saved on disk we could run the delta
debugger on it and come up with a
minimal set of QAPI operations that
causes the queue to do something wrong
or that and that would probably be a
really good idea so Delta's bugging this
is extremely powerful technique and test
case reduction is something that we
really really really need to have in
practice especially since this ties in
with the triage idea that I talked about
a little bit earlier so remember that
one of our triage methods is looking at
the test case well looking at big test
cases is really hard there's a bunch of
junk that's sitting in a way obscuring
the actual features that are causing the
system to crash or otherwise misbehave
and so if we can do test case reduction
before we're doing but bug triage then
the whole process becomes really a lot
easier</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>