<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Example  Sample Reduction | Coder Coacher - Coaching Coders</title><meta content="Example  Sample Reduction - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Example  Sample Reduction</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/clcxeTwBpv8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">So let's start with this
example program which,
given an array A,
computes the sum of all of its elements.
That sum will be returned
in this value s.
This operation is actually an example
of a pattern called a reduction.
Now let's suppose we only care
about the cost of addition and
the cost of array access.
That is, let's assume we can ignore
the cost of all these other operations.
Like indexing operations,
branches, and so on.
Here's how the DAG for
this computation might unfold.
Let's start with iteration one.
And we need to load A sub 1 and
then perform the addition.
So in the DAG there would be a node for
A sub 1and a node for the addition.
And there would also be a dependence
edge since the addition can't start
until the load is complete.
Now what about the second iteration?
We'll repeat the process,
so they'll be a node for
a sub 2 and a corresponding addition.
Now in this case there will
be two dependence edges,
one from A sub 2 to the plus.
And the other one from the other plus.
Now technically there's another
dependence which goes from this plus to
this load.
So why is that?
The reason is that the code is
being executed sequentially so
there's actually what's
called a control dependence
between executions of
the body of the four loop.
That is this statement that i = 2 can
not execute until the statement that i =
1 has completed.
For now we are going to ignore
these controlled dependencies.
So if we ignore the control dependences
and we continue this process,
then you'll get a DAG that
looks something like this.
Now, suppose I give you
a PRAM with P processors.
How long will it take
the PRAM to execute this DAG?
Let's call that time Tp(n).
Now, notice that the loads
have no input dependences.
They're all ready to go so
you can take them as a group.
Assign them to the P processors and
execute them in batch.
So in our cost model that we take
c-ling of n divided by p units of time.
That is their n loads which we
divide among the P processors.
Each load takes one unit of time.
And since we're dealing with integers,
we need this ceiling.
So, what about the additions?
These additions have
dependencies between them.
So, it looks like I can't
ever execute a given addition
until I've executed
the previous addition.
And it doesn't matter how
many processors you have,
you've got to execute these
additions one at a time.
Therefore, you'll need at least
n units of time to complete
all of the additions.
Now both of these conditions
have to be true so
we can write this in
a more compact form.
Now p is always at least one since
presumably you're not going to run
a machine with no processors.
So that means the ceiling of n over
P is always going to be less than
just plain old n.
So, we can simplify the time.
So, what we just showed is
exactly what we expected,
which is that a sequential reduction
will take n units of time on a PRAM.</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>