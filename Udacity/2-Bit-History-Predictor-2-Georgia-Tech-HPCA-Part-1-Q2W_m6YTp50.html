<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>2 Bit History Predictor 2 - Georgia Tech - HPCA: Part 1 | Coder Coacher - Coaching Coders</title><meta content="2 Bit History Predictor 2 - Georgia Tech - HPCA: Part 1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>2 Bit History Predictor 2 - Georgia Tech - HPCA: Part 1</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Q2W_m6YTp50" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so after the initial warmup period we
have seen that the two-bit history
predictor will start predicting this
with a hundred percent accuracy we also
see that this predictor is really
wasting one of its four two bit counters
because it's only using three of the
four to predict this pattern and the
fourth one simply never gets used so we
have it in the entry but we really
didn't need it now let's see what
happens if this same two-bit history
predictor is trying to predict the
alternating pattern not taken taken not
taken taken and so on for that pattern
when we are trying to predict this not
taken here we are seeing a history of 0
1 that means the counter one will be
counting down when we are trying to
predict this we have a history of 1 0
and when we have 1 0 that means counter
2 is counting up for this we again have
a history of 0 1 so counter 1 counts
down and when we try to predict this we
have 1 0 in history so counter 2 is
counting up as you can see for this
pattern counter 1 and counter 2 will
very soon start predicting correctly and
there are really only two of these
counters used 1 because the history can
be 0 1 and 1 because the history can be
1 0 we never can see the history of 0 0
or 1 1 which means after the initial
warmup period this predictor will also
predict this with a hundred percent
accuracy we have already seen that the
one bit history predictor can predict
this with a 100 percent accuracy which
is good but this predictor is not using
half of its 2 bit predictor entries so
basically in the entry that corresponds
to this branch we are really using only
two of the four two bit counters so the
waste is larger in general an n-bit
history predictor will correctly predict
all patterns of length less than or
equal to n plus one we have seen that a
single bit predictor can predict
correctly the pattern that is of length
two a two bit predictor can predict
correctly a pattern of length three and
also a pattern of length two both of
them of course can predict
a pattern of length one which amounts to
always taken or always not taken in
general an n-bit history predictor will
predict all patterns of length its
history size plus one or less than that
however the n-bit history predictor will
cost us the N bit of history plus two to
the end two bit counters per entry each
branch will have an entry that we index
into that will be of this size so the
entries become very large for example if
it's a 10 bit history we're talking
about several kilobits worth of stuff
for a single branch to be predicted if
we have for example a loop that has
something like a loop out branch and a
loop back branch that will spend two of
these entries and how about the waste
most of the two bit counters that we
have in our entry will be wasted why
well because if we have for example a 10
bit history there are a thousand 24
entries we can only predict patterns
that are up to 11th in length and a
pattern of length 11 will have 11
possible histories at most so of the
more than a thousand histories we will
really be using only up to 11 of them
for accurate prediction the rest of the
histories are mainly waste so as we can
see by increasing the end here which is
the length of the history we are
improving our ability to predict longer
and longer patterns but our predictor
becomes very expensive very quickly and
much of the cost that we are adding is
waste so the question is why would we
want to have n large why not just settle
for something like patterns of length 3
well it turns out that a very common
type of a pattern is a loop where we
have something like this would be don't
exit the loop don't exit the loop exit
the loop so it's a traitor ation loop
and then we repeat that loop many times
so for example in order to do something
like a 8 iteration loop we have to have
a pattern of 8 or 9 lengths
which means that we need in seven or
eight bit history in order to predict
that successfully so we do want to have
a long history but we'd rather have it
without this huge cost and without the
huge waste that the cost comes with</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>