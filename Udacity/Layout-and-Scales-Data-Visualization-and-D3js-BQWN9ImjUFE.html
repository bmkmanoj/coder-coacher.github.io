<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Layout and Scales - Data Visualization and D3.js | Coder Coacher - Coaching Coders</title><meta content="Layout and Scales - Data Visualization and D3.js - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Layout and Scales - Data Visualization and D3.js</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BQWN9ImjUFE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I don't want to focus on the CSS code
above or the data loading below for this
example I only want to focus on the draw
function if you're curious about what
exactly the CSS or the data loading
functions were doing I suggest reading
through Mike Bostock Stu toriel which is
linked to in the instructor notes we
have already seen many of the functions
that Mike uses in this tutorial we have
scales and range select and attributes a
domain and also dot text the first two
lines define the width for the chart and
the height for the bars the second chunk
of code here creates a linear scale and
sets the range to be zero to the width
of our chart if you think about these
values of zero and width
it makes perfect sense we don't want any
of our data points to get placed past
zero on our chart or in the negative
region nor do we want any data points to
extend beyond the rightmost edge of our
chart a subtlety of this code here is
that while I've labeled it as the x-axis
scale and while the variable it's stored
in is X there's nothing specific to this
code or its functions which define it as
the x axis we will see later that how we
use it however creates the X values the
third group of code sets the width on
our SVG chart element if you remember we
hard-coded into the HTML an SVG element
that had the class chart so here were
selecting that chart with d3 dot select
and then changing the width attribute to
the width variable in this case for 20
keep in mind that this code corresponds
to the blue bars are showed earlier and
the blue bars extended from left to
right horizontally according to the
value of the data on line 28 here be
called to the domain method an X has
quite a lot of things going on with it
first off X was created above here as a
linear scale remember however what I
said earlier about d3
chainable syntax even though the three
dots kill that linear range is a method
call it returns the scale object so X is
actually a scale and not a range so this
call here is actually calling domain on
the scale of X the domain of our data
represents the min and Max of our data
values we can see here that we simply
hard-code a value of 0 as the minimum of
our domain the d3 max function takes our
data as the first argument and a
function to call on that data as a
second argument notice here that the
function takes a single argument D what
gets passed to this function is actually
every datum so a single piece of data
from our data array and the function
gets executed once for each so inside of
this function D actually corresponds to
a single data point and we get its value
the reason we need to pass a function is
that d3 being the data-driven library it
is could have different ways of defining
the max of the domain for a given data
so this function passed as the second
argument allows a generalized max
function to work no matter what your
data looks like or what the structure is
inside this function you simply need to
return whichever value from each data
point you want to use as the value to
compare in the max calculation notice
also that we don't store the return
value of x dot domain in any variable
this is because both domain and range
mutate the internal state of the scale
object setting some properties on the
object itself rather than returning a
value</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>