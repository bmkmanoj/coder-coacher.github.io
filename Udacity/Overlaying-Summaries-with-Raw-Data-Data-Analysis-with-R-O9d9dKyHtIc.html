<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Overlaying Summaries with Raw Data - Data Analysis with R | Coder Coacher - Coaching Coders</title><meta content="Overlaying Summaries with Raw Data - Data Analysis with R - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Overlaying Summaries with Raw Data - Data Analysis with R</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/O9d9dKyHtIc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">ggplot allows us to easily create
various summaries of our data and plot
them this could be especially useful for
a quick exploration and for combining
plots of raw data like our original
scatterplot with displaying summaries
this plot is one of those displaying
summaries and I want to be able to
display it over the original plot we had
four friend count versus age let's see
that first original scatterplot again
now since all these points are black I'm
gonna change the color of these so that
way when I overlay the summary it's
easier to see I'm gonna make the color
here Orange so now I've got my scatter
plot and I want to overlay the summary
that we had from before I want to put
this on top of this I can add a giome
wine to our plot to do so here I'm gonna
pass it the parameter stat and set it
equal to summary and I'm gonna give it a
function for y the fun y parameter takes
any type of function so that we can
apply it to the Y values in this case I
want to take the mean and there it is
this is my summary line are the mean
friend count by age over my raw data or
my scatter plot this plot immediately
reveals the increase in friend count for
very young users and the subsequent
decrease right after that we can add
even more detail to this plot by
displaying multiple summaries at the
same time despite having this
conditional mean plotted we can't
immediately see how dispersed that it is
around the mean for example are the
median friend count for age 30 in this
region or did they span all the way up
to 2000 certainly we can see that most
users even young ones don't have more
than 2000 friends we can help ourselves
understand this conditional distribution
of friend counts by also plotting
quantiles of the data so let's use the
10% 50% or median and 90% quantiles
we'll start by adding our 10% quantile
summary line to this plot so I'll add
another giome line I'll pass it a stat
of summary and then for the function I'm
gonna pass it quantile instead of mean I
need to set the probability equal to
1/10 or 0.1 this code gives me the 10%
quantile on my plot now I want it to
appear different from the mean so I'm
gonna add some details to color it and
to make it dashed I'll set the line type
equal to 2 to make it - and I'll set the
color equal to blue there that's much
better now to add the 90
Cinque want I'll I would just need to
change the probability here to 0.9
instead of 0.1 so I'm gonna add another
line I'll use the same parameters as
before and then just change the
probability so here we can see that 90%
of users have friend counts below this
line the last thing I'll do is add in
the 50% mark which is the median now I
won't make this GOM line - but I will
make the color blue now this is quite a
plot I want you to try creating the same
plot in R and try adding a cord
Cartesian layer to zoom in on different
parts of this graph look up the
documentation for coord Cartesian if you
need help and definitely be sure that
you understand all of this code I know
that there's a lot going on here once
you've got a strong idea of this plot
and you've exported a bit I want you to
make some observations about the plot
what do you notice</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>