<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Security Rules Variables | Coder Coacher - Coaching Coders</title><meta content="Security Rules Variables - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Security Rules Variables</b></h2><h5 class="post__date">2016-08-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XjgFExnAkB4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I've been working through how you'd
write super simplistic read and write
rules
music trip falls but that's kind of
useless in the shopping list plus plus
world where we want to read and write
based off of who's logged in
ah yes connecting your authorization to
your authentication that should be very
easy your developer just needs to know a
bit about a few extra variables here let
me show you
as you know firebase provides helpful
variables that you can use in your rules
you've already learned about two of
these data and new data which are
essentially variables that you can use
in your JSON rules for the previous
state of the data and the new state of
the data in addition you have access to
route now and off route is a variable
that represents a rules data snapshot
much like data or new data but it's of
the root node for your data now as a
variable that stores the time stamp
representing the exact time on the
server you can use it to write rules to
check for things like whether the time
stamp is before or after the current
time for example the following rule
could be used to check that somebody
isn't trying to write a time stamp that
is in the future but one of the most
important variables is the off variable
this variable has two pieces of
information the provider and the UID of
the user if they're logged in if the
user is not logged in the off variable
is equal to no this variable allows you
to check whether someone is logged in
and is a specific user a lot of the
permissions to edit lists and shopping
list items dealt with who the logged in
user was for any rules related to who
the user is you will need to use the off
variable beyond representing a dynamic
keys wildcard variables are also
available to you in the rules themselves
they take on the value of the key that
they match so if you had a messaging app
that had lists of messages a user posted
this would allow you to write rules that
compare the dynamic key of an object
with the value of one of its children
here we're checking that the user ID
property of a message matches the user
ID it's listed under if you learn to use
these simple variables
writing your readwrite rules will be
easy as pie</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>