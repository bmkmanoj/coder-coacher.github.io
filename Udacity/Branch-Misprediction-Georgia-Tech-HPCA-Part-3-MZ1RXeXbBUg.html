<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Branch Misprediction - Georgia Tech - HPCA: Part 3 | Coder Coacher - Coaching Coders</title><meta content="Branch Misprediction - Georgia Tech - HPCA: Part 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Branch Misprediction - Georgia Tech - HPCA: Part 3</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/MZ1RXeXbBUg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">another thing that is a problem with
tomasulo's algorithm is when we try to
do branch mispredictions so how do we
recover from a branch misprediction so
let's say we have a program like this
where we have a divide it takes
something like 40 cycles and once we get
that result we can resolve this branch
over here so this branch can be
predicted but it can take a long time to
realize that it's been miss predicted so
let's say meanwhile we have fetched this
instruction because the branch should
have been taken
we have fetched this instruction and
this instruction is already done in that
case our tree is already written once we
realize that we have miss please take
this branch possibly 40 50 cycles later
we should behave like we have never
executed this instruction and instead
start fetching instructions from the
label that the branch is pointing to but
that it becomes impossible because our
tree by that time has already been
updated so instead of having the old
value of our tree now we have the new
value of our tree when we jump to the
label so again the problem is very
similar to precise exceptions in that
pretty much an instruction can complete
and write two registers before
proceeding instructions have fully been
verified and before we even know that
this instruction should have been
executed a final problem occurs because
of so-called phantom exceptions so what
we can have is let's say that there is a
divide here let's say that we have miss
predicted this branch let's say that
this instruction doesn't execute too
soon and so on but the problem is if
there is a divide here and it generates
an exception that the exception will be
triggered even though this instruction
was never supposed to be executed so
when we come back we have now a problem
of basically we have already started
exception processing for this we have
you know done everything for this
exception by the time we realize that
it's too late so again we have to
somehow take care of not having
exceptions until we are sure that they
should happen</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>