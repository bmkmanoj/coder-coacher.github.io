<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Databases in Python - Web Development | Coder Coacher - Coaching Coders</title><meta content="Databases in Python - Web Development - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Databases in Python - Web Development</b></h2><h5 class="post__date">2012-04-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/oleOUdXSfs0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so here we are in the IDE this is
going to be basically the same file we
had before you know the link class and
and all of the links that we make I'm
importing a new module that's built in
the Python called sequel light 3 and
this allows us to use sequel Lite in
Python which is pretty cool I've got
some code here which creates an
in-memory sequel Lite database you can
see some sequel here that we haven't
discussed for creating the the links
table and then inserting all the links
into that table this code isn't super
important to you right right now but if
you're if you're curious I just
basically made a sequel table with all
of that link data and I've given you
some instructions here and and let's
play around with this a little bit so
the important thing is that we've got a
this DB variable this global variable
that's going to represent our sequel
Lite database right here and and let's
let's let me show you how to run some
sequel so I can say C equals DVD execute
and I can give some sequel in this case
I'll say select star from links and this
doesn't have a where clause like we
talked about before where Clause is not
required they're only required if you
don't want to fetch you know everything
so this little bit of sequel here select
star from links just selects all of the
columns from the links table and and
what this creates is what's called a
cursor and a cursor is just a position
in the database we can call this
function fetch all on see on the cursor
to actually load all the data out of the
database into this list of results and
in this particular case I'll just return
the results we'll go ahead and give this
a run whoo that's a lot of data so we
executed our sequel and when we solved
some results let's change this up a
little bit let's change the star from a
star to title so we'll just look at the
titles from the links let's go ahead and
run this now we see a list of all of our
titles that's kind of cool
let me show you some other things we can
do before we have quiz time let's change
this back to star one of the things we
can do is we can iterate over a cursor
so I can say for t in C okay so I want
to make these variable
a little bit more clear so for cursor
for a link tupple tuples are reserved
word if we iterate over a cursor wiki we
get the results one by one from the
database and we get them back as a
topple not as our link object so what we
actually want to do is make the link
objects so we do that we can do that by
saying thats link equals little link you
know our little instance equals capital
link star link Tuffle and this is a
python syntax for passing in all of the
parameters in this Tuffle as has
arguments to this to this function in
this case it's not really a function to
the constructor link to make the object
but now we have a link object and here I
can say let's say print the link that
votes so let's go ahead and run this
what this should be doing is so running
the sequel select star from links
iterating over all of the results that
are returned to us as a tuple converting
those tuples into a link object and then
printing dot votes we can see printed
all the votes for our links pretty neat
day let me just show you one last thing
because I'll explain what's going on
here I think this might be new to some
of you if I were just to print the link
couple like this I will just print
exactly what we get back from the cursor
I'll show you what that does this prints
each row of the database as a Python
couple so you can see one row here and
the columns are in order that I define
them and I conveniently define them in
the same order that the constructor
expects them so you've got the ID of the
link you've got the user ID the time it
was submitted this is this is an epoch
time second since 1970 this would be the
number of votes and then the title here
and the URL okay for each of these links
and if you pass in if you say if you put
a star in front of a tuple like this and
pass it into an object's constructor or
any function the arguments get put in
place like that so that's all that was
happening there and I'll show you real
quick where we created this table
this is sequel and you can see I create
table links and I've defined the the
columns here ID submitter ID
some at a time votes title URL and you
can see I included the types so anyway
that's not super important but you know
it's there all right time for a quiz so
what I'd like you to do is make this
query function return the number of
votes that the link with ID two has now
I've written some of the function for
you and all you need to do is put in the
sequel here to find that link what these
other lines do is they take the cursor
returned from DB execute here and it
runs this function called fetch one on
it which basically returns the first
result and then when you use the star
syntax to pass that into the link
constructor which makes a link object
and then we return link dot votes so all
you have to do in this quiz is figure
out the SQL so good luck</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>