<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Liedke's Suggestions for Avoiding TLB Flush - Georgia Tech - Advanced Operating Systems | Coder Coacher - Coaching Coders</title><meta content="Liedke's Suggestions for Avoiding TLB Flush - Georgia Tech - Advanced Operating Systems - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Liedke's Suggestions for Avoiding TLB Flush - Georgia Tech - Advanced Operating Systems</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/N8KUQNW8zqI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">lead-k the author of the l3 microkernel
suggests tricks for exploiting the
hardware and avoiding TLB flushes even
if the TLB is not address based act and
in particular lead case suggestion is
that take advantage of whatever the
architecture offers you for example
the architecture may offer segment
registers in x86 and PowerPC both of
them offer segment registers what the
segment registers do is give an
opportunity for the operating system to
specify the range of virtual addresses
that can be legally accessed by the
currently running process what that
means is even though you have a linear
address space that is a linear virtual
address space you can carve out that
linear virtual address space among
several different protection to means by
using segment registers so here is the
linear address space provided by the
hardware starts from zero to a max and
that maxes of course decided by the
number of bits you have for addressing
and the hardware architecture fits a
32-bit architecture you have 2 to the 32
is the maximum addressing capability of
that particular processor if you have 64
bits you have 2 to the 64 is a maximum
address space it's available in that
particular architectures and that's the
linear address space that is provided by
the hardware if the architecture such as
the PowerPC offers segment registers to
bound the range of virtual addresses
that can be legally generated by a
running process then use segment
registers to define a protection domain
so here is one protection domain s1 and
it uses segment registers to say that
this particular protection domain can
generate virtual addresses starting from
here to here any other virtual address
generated by this guy is illegal and the
hardware will check that be
the segment registers are hardware
provided facility for bounding the range
of legal virtual addresses that can be
generated by this protection domain
similarly another protection domain s2
can use the segment registers to carve
out a different portion of the linear
hardware address space so for s2 the
bounds for legal virtual addresses that
can be generated by a thread that is
running in this protection domain starts
from here ends here and so on so in
other words we can take the hardware
address space that's available and using
segment registers provided by the
hardware you can carve out the hardware
address space into these regions and
once we do that there is no need for
flushing the TLB on a context switch
because even before we consult the TLB
to see if there is a match for a
particular virtual address in the TLB
segment register will act as our first
line of defense and say that oh this
address is kosher this address is not
kosher because it is not within the
bounds of legal addresses that can be
generated by this protection domain in
other words the segment bounds that
we're talking about our Hardware
enforced so this works really well if
this protection domains are fairly small
meaning that the amount of space memory
space that is needed by any given
protection domain is not the entire
hardware address space but it is a
portion of the hardware address space so
we're able to carve out the available
hardware address space among multiple
co-resident
protection domains in the hardware
address space using these concept of
segment registers</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>