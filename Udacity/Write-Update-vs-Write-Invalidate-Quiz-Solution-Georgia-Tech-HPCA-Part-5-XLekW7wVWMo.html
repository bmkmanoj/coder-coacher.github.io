<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Write Update vs Write Invalidate Quiz Solution - Georgia Tech - HPCA: Part 5 | Coder Coacher - Coaching Coders</title><meta content="Write Update vs Write Invalidate Quiz Solution - Georgia Tech - HPCA: Part 5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Write Update vs Write Invalidate Quiz Solution - Georgia Tech - HPCA: Part 5</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XLekW7wVWMo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">let's see the solution to a write-update
versus write-invalidate quiz we have two
cores that run a program where basically
course zero writes and then core 1 reads
and that happens a thousand times how
many bus uses do we get with the
write-update protocol and then with the
write invalidate protocol we have
already seen a similar example for write
update what's going to happen is with
the shared and dirty bits we do not
really save much because there is actual
sharing going on here so we are going to
have a broadcast on the bus for each of
these rights so we get a thousand bus
accesses from these rights and the very
first read is going to be a Miss so we
get the bus access there so overall we
get one thousand one bus uses in a write
invalidate protocol let's see what
happens core 0 writes this is a Miss we
send something to the bus and now we get
the only copy of this data core 1 reads
has a miss core 0 has to supply the data
so so far we had 1 and 1 and then what
happens is core 0 writes we know that
there is a sharer now because this core
has a block so we need to send out an
invalidation that means that when core 1
reads next it's going to have a Miss and
use the bus so this will repeat a
thousand times and we get a total of
2,000 bus uses so as you can see right
update is a lot more efficient than
write invalidate
if we actually have a pattern where one
core produces the data continuously and
the other one keeps reading the data if
we have a pattern in which one core is
the producer of all the data and the
other core is the consumer because the
data flow from the producer to the
consumer through the same memory
location in a write-update protocol
involves just the update by the right
but the read can then find the data in
the cache whereas in the invalidation
protocol the write just sends out an
invalidation and then the reader has to
still suffer image to obtain the data</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>