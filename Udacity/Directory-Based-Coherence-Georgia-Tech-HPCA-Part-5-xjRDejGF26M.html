<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Directory Based Coherence - Georgia Tech - HPCA: Part 5 | Coder Coacher - Coaching Coders</title><meta content="Directory Based Coherence - Georgia Tech - HPCA: Part 5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Directory Based Coherence - Georgia Tech - HPCA: Part 5</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xjRDejGF26M" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we said already that snooping is only
one of the two ways to do coherence the
other ways directory-based coherence so
let's first see why do we even want
directory-based coherence what's wrong
with snooping in snooping we had to
broadcast all of the requests we make so
that others can see them and also to
establish ordering for example for
rights we need to establish the ordering
so that we can obey the third coherence
property but that means that there needs
to be a single bus on which all of the
requests from all of the cores go both
cache misses and also coherence requests
that are just sending out in validations
and so on so the bus that we were using
for broadcast becomes a bottleneck and
as a result snooping does not really
work well if we have more than something
like 8 to 16 cores beyond that point
most of the time the cores are just
spending waiting for the bus to put
requests on it so really we get no
further benefit from additional course
so what we need to solve this bottleneck
is a non broadcast network over which we
are going to send a request so that many
requests could be going on at the same
time but then we have the problems of
how do we observe those requests that we
need to see so for example if we are in
a shared state it had better be that
when there is a write by somebody else
we observe that right so that we can
move to the invalid state to avoid in
coherence and also how do we decide what
the ordering is for requests that go to
the same block so for example how do we
decide what's the ordering between
writes done at different cores if these
requests can be made on different parts
of the network and the structure that
does this is called a directory</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>