<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Window Coordinates - Interactive 3D Graphics | Coder Coacher - Coaching Coders</title><meta content="Window Coordinates - Interactive 3D Graphics - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Window Coordinates - Interactive 3D Graphics</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tGsChJ7zmC4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we've had a series of transforms apply
to the object the objects model
transform followed by the view and
projection transforms generated by the
camera the perspective device from clip
coordinates to normalized device
coordinates there's one last transform
and it's a simple one moving from
normalized device coordinates to window
coordinates in other words how do you
move from a space of negative 1 to 1 and
x y&amp;amp;z to an image with the depth buffer
the answer is simple enough add 1/2 then
multiply by the windows resolution doing
this operation changes from negative 1
to 12 a range of 0 to 1 I should mention
at this point that the other popular API
DirectX has normalized device
coordinates for the Z value that range
from 0 to 1 instead of negative 1 to 1
it doesn't really matter what range is
used it's just important to know that
this range can vary the x and y ranges
of going from negative 1 to 1 is
standard throughout any system I've ever
seen in three jsu select some part of
the screen using the set viewport method
on the renderer you give the lower left
hand corner and set the width and height
the settings here say to put the lower
left hand corner of the viewport a
quarter of the way to the right of the
origin and at the bottom of the screen
the viewport itself should be half the
width and height of the window it's
possible to have multiple viewports each
viewport defines a piece of the image
and you render separately to each one
this is very handy and modeling where
you can have a few different views of
the scene possibly rendered in different
ways the conversion I gave from NDC to
window coordinates assumes that the
lower left-hand corner of the image is
the origin at 0-0 it's worth mentioning
that there can be a flip in the y-axis
within some systems such as the document
object model some systems that display
the image generated consider that the
upper left hand corner is 0 0 if you see
a flip in the Y direction during
manipulation of the resulting image this
is likely the mismatch while we're
talking about 00 please note that the
lower left hand corner of the lower left
pixel is 0.0 0.0 in other words in
floating point the center of the pixel
is not 0.0 0.0 it's 0.5 0.5 almost all
the time this is how you want to
consider the center of the pixel directx
9 got it wrong making the center 0.0 0.0
they fix this in directx 10 I've seen
textbooks talk about 0.0 0.0
the center of the pixel don't believe
them using 0.0 0.0 as the center of the
pixel has the odd effect of making the
lower left-hand corner negative 0 point
5 negative point 5 it makes simple
conversion between floats and integers
trickier much of the time with the
proper Center you just drop the fraction
I've occasionally seen circumstances
we're offsetting half a pixel can make
things work out more efficiently but
much of the time you don't want to do
this</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>