<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Solving the Aperture Problem | Coder Coacher - Coaching Coders</title><meta content="Solving the Aperture Problem - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Solving the Aperture Problem</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/O1Mc5GAVAiQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so how are we gonna solve the aperture
problem well look the basic idea is the
same as before we have to impose some
sort of constraints but this time we're
gonna impose some local constraints to
get more equations per pixel so for
example we talked about maybe we'll
assume that locally right around this
point the motion field is very smooth in
fact how smooth do we want to assume how
about we assume that it's actually the
same value that is over a window we're
gonna assume that UV is the same value
everywhere so if we were using let's say
a five by five window
so there's twenty five pixels if we were
assuming that there was one UV for all
of these the UV for let's say the center
pixel that would give us twenty five
equations per pixel and here they are so
what we've got here is here's our u and
v that we're assuming is the UV of some
center pixel and here we have twenty
five rows of the derivative of an X and
the derivative and y at each of those
twenty five points and this these are
the gradients dotted with UV equals the
negative and here is the temporal
derivatives at each of those points so I
can write that as ad equals B where D is
this displacement vector UV and B is
just this twenty five by one vector that
is essentially the negative of all the
temporal derivatives okay
so we have this equation ad equals B and
it's got twenty five equations and two
unknowns all right well so that's a
little bit of a problem how do we solve
a system when we have more equations
than unknowns well we do our standard
least squares solution when we have an
equation like this we say well we're
gonna minimize the squared difference
okay and the way you do that is by using
the standard pseudo inverse method so we
multiply a by a transpose and since a is
25 by 2 a transpose is 2 by 25 so a
transpose a is just a 2 by 2 and D is a
2 by 1 and a transpose B is a 2 by 1 and
we end up with this equation right here
okay
and these have the terms written out and
these sums are summed over whatever the
window is that you're summing over so
it's five by five would be over all
those 25 pixels and over here you just
have the product of the the sum of the
product of the image gradient times the
the temporal gradient this is what we
have to solve and by the way this
technique was first provoked proposed by
Luke's Akali way back in the dark ages
of computer vision 1981 which is not
quite the doc dark it was the dawning of
it the dark ages were in the 60s all
right you know we just did that we can
solve our least squares and come up with
a solution but let's understand exactly
what solving this means okay so you
remember the aperture problem right and
so here it's drawn out that the idea is
if I have a gradient in some direction
and so this is my little gradient there
all right so that any UV that's along
this line would be an acceptable UV that
is any UV whose component in the
direction of the gradient would be
acceptable and that's what this says
that there's a single equation for that
that's the equation of a line in UV
space</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>