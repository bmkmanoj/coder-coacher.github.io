<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Conditional Means - Data Analysis with R | Coder Coacher - Coaching Coders</title><meta content="Conditional Means - Data Analysis with R - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Conditional Means - Data Analysis with R</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FC_GNjqj5zI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">let's take a step back and look at our
scatterplot between friend count and age
this scatter plot keeps us really close
to the data because we're visualizing
every point in the data set in general
it's not possible to judge important
quantities from such a display sometimes
we want to understand how the mean are
the median of a variable varies with
another variable that is it can be
helpful to summarize the relationship
between two variables and other ways
rather than just always plotting every
single point for example we can ask how
does the average friend count vary over
age to do this we could start by
creating a table that for each age gives
us the mean and median friend count to
do this we're going to need to learn
some new code to create the table we're
going to use the R package called
deep-fryer I'm going to install and load
that package now the deep-fryer package
lets us split up a data frame and apply
a function to some parts of the data
some of the common functions you might
use our filter group by mutate and
arrange you can learn more about the
deep liar package and browse through
some examples from links in the
instructor notes for now we'll walk
through an example together so the first
thing I want to do is I want to group my
data frame by age I'm going to save this
grouping in a new variable called age
groups next I want to summarize this new
grouping of data and create new
variables of mean friend count median
friend count and the number of people in
each group so we're gonna summarize our
variable that we just created age groups
now right after I enter the data frame
that I want to work on I'm gonna enter
the variables that I want to create so I
want the friend count mean and I get
that by just taking the mean of the
variable friend count and I want the
friend count median and finally I want
the number of users in each group this
in function can only be used for
summarize and it reports how many people
are really in each group the last thing
I want to do is I want to save this
result into a new variable I'll use the
same data frame of reagent and then add
FC by age since we have friend count by
age running this code I can see that I
get a new data frame with a hundred and
one observations are groups and four
different variables using the head
command I can proud to examine the data
frame so notice I have
age friend count mean friend count
median and end the number of users in
each group now the state of frame isn't
in any order so I'm going to rearrange
my data frame so that way the ages go
from low to high I'll just use the
arrange function on the current data
frame and arrange it by age I'll save
the result over the variable I just had
and now heading off the data frame I can
see that I have everything in order now
this may seem like a lot of code so I
really encourage you to take your time
and to review the code and the example
make sure that you know what each piece
is doing so that way you can write this
code on your own the two things that I
really want to point out is that we need
to pass in a data frame or a grouping at
the beginning of each function we also
need to save the result into a new
variable and we pass that into the next
function this is what makes it difficult
to understand this code at first so I'm
going to show you one other way to get
this same table to start we're just
going to take our data set and apply
some function to it to do that I'm going
to use the percent period percent symbol
this allows me to chain on to our data
set so I'm going to perform one function
at a time one after another on PF the
first thing I'll do is I'll group my
data set by age now I'm gonna chain on
one more function I'm gonna summarize
the result using friend count mean
friend count median and an and finally
I'll add one more function using this
chain command the percent period percent
and this time I'll arrange my data frame
by age all of this code will produce
this exact data frame so I want to make
sure I save it to a variable I'll save
it to PF friend count by age and I'll
head the data frame just like before so
that way we can check our result running
this code we see that we get the same
exact result we have aged friend count
mean friend count median and in the
number of users in each age group
printing out more rows we can carefully
scrutinize the table to learn more about
the relationship between age and friend
count we can already notice that on
average users who are age 13 have
slightly lower friend counts than those
who are 14 it also looks like the mean
friend count peaks at about age 16 and
in each 17 now of course we don't want
to be summarizing and digging through
tables like this this is very tedious we
could show these observations more
effectively with a visualization so
let's plot this table of averages this
is going to be your next programming
assignment I want you to plot the
average friend count versus age make
sure that you use the appropriate data
set we're using this new data set here
that we just created and be sure that
you have the appropriate variable names
they're different from before create
your plot in our studio and then check
your work with ours</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>