<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>为我们的游戏编程 | Coder Coacher - Coaching Coders</title><meta content="为我们的游戏编程 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>为我们的游戏编程</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/wBVkFv-KKAE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">So here's a file in sublime, where we're going to put some of the code for
our game.
I'm going to save this as run.js.
Maybe we'll call the game run.
So where should we start our program?
Let's add some cars to the program,
which we can represent using values that are stored in variable.
So if we call the first enemy driver in this game amy,
then we might make a variable for her car that we would give that same name.
In that variable, we'll store an object to represent amy's car.
As you add lines of code to your program, you'll expect a different in-memory
model to be built up by your program as it's running.
So here, I'm going to build a diagram that you can see what I
believe the in-memory model should be as a result of the code that I'm writing.
You'll see that in this diagram, we have a box, which is a global variable.
And it points to some in-memory value.
Now these two boxes are extremely different in that one of them, represents
the idea of a variable and the other represents the idea of an in-memory object.
Variables are allowed to point to objects and
that's why this arrow extends from the variable to the object.
To keep track of how far along the street amy's car is,
her object should include a location property.
And that property will point to some number reflecting her position.
Now the number is an object too, just like nearly every value in JavaScript is.
Here you can see the amy object, the object stored in
the variable amy has a property .loc, which is pointing to yet another object.
That object is itself, representative of the number 1.
Now somewhere, your program might try to move that car further along the street.
And even though the code for a real game would be more complex than this,
we can show that change on just one line in order to keep our example simple.
Now since there are many enemies in this game, there will be some point down
the line where you'll probably find yourself building a second object and
then you'll repeat a lot of the same code that you did already for
the first car object.
Now of course,
the sample code that we see here in run.js is ridiculously oversimplified.
But it gives us just enough of an example that we can start to
demonstrate the techniques for improving it.
So we should be asking ourselves the question.
What parts of this code are repeated and
might be good to move out into some area of reusable code.
So just take a moment to look at this code and
ask yourself, which parts you'd like to factor out.
I see two of them.
I see that we're repeatedly building objects that look pretty similar and
I see that we are then incrementing the location property of those objects.
I'm going to focus on the second of them.
Let's take a look at how we would use a function in order to remove this
code duplication of incrementing the location property</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>