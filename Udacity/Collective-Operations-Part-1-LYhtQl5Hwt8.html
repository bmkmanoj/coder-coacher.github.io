<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Collective Operations, Part 1 | Coder Coacher - Coaching Coders</title><meta content="Collective Operations, Part 1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Collective Operations, Part 1</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/LYhtQl5Hwt8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">an important class of distributed memory
algorithmic primitives are the so called
collective operations no not that kind
of collective one example of a
collective operation is a reduction
which in the distributed memory case I
will call all 21 reduce the phrase all
21 makes it clear that all nodes
participate to produce a final result on
one node let's take an example consider
this linear network which I've numbered
from 0 to 8 these ID numbers all
sometimes call ranks so for example the
rank of this node is for now suppose
each node has a single value in its
private memory let's say these values in
an all 21 reduction you want to produce
a final result which is the reduction in
this case sum of all the values on a
root node so the sum of these values it
turns out is 55 and let's say we want
that result to appear on node 0 now
intuitively you expect a tree-based
scheme like this one to work well its
span is logarithmic in the size of the
input in this case there are P values
now this observations suggest that
you'll need to perform at least log P
communication steps now initially the
data is distributed across all nodes so
no node can do any actual work therefore
you'll need to do some communication ok
well that's easy let's have all the odd
number nodes send their data to their
leftmost neighbor so one will send a 0 3
will send a 2 and so on none of these
sends conflict so all the sends can
happen simultaneously so this round of
communication will cost you alpha plus
beta times since you're only sending one
word after the communication the even
ranks add the incoming value a new state
of the system then looks like this now
in this next step you'll notice that
only even-numbered ranks have values so
notice the even ranks have partial sums
so we can repeat this scheme except this
time with odd partners of the remaining
set sending to the closest even partner
so we might do these sentence for
example again there are no conflicts in
the pads so this costs us alpha plus
beta time and you'll just repeat this
process until a final result remains
now to implement this scheme I want to
point out a useful fact suppose we
replace the ranks by their equivalent
binary strings recall that in the first
round the odds send to the evens notice
the odds all have a 1 in their least
significant bit and evens all have 0 in
the next round the only participating
processes have a 0 in their least
significant bit and notice what happens
nodes with one in their second bit send
two nodes who have a 0 in their second
bit so again it's basically odds to
evens where you drop off the last bit
neat if you've heard of things like
hypercubes binary reflected grey codes
or Hamming distances than this bit
manipulation or bit view of the world
will seem very familiar and if you
aren't will give you some pointers and
the instructors notes shave and a
haircut two bits I don't know what that
shave and a haircut two bits thing is
but I got it from somewhere</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>