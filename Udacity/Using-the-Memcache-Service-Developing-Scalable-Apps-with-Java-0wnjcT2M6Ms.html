<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Using the Memcache Service - Developing Scalable Apps with Java | Coder Coacher - Coaching Coders</title><meta content="Using the Memcache Service - Developing Scalable Apps with Java - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Using the Memcache Service - Developing Scalable Apps with Java</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0wnjcT2M6Ms" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">to use memcache using the Java native
API first to get the memcache service
you'll need to import the memcache
service and the memcache service factory
into your project and then you just use
the get memcache service method on the
factory to get the memcache service then
to put an entry into memcache you need a
key
and of course a value to put and you
just call the put method and to get the
value out of memcache you need to know
the key and you just call the get method
on memcache service if there is no value
in memcache with that key then now is
returned setting the announcement is
something that we don't want to expose
through endpoints we don't want other
people to be able to set the
announcements for our application so we
use a servlet in this case and protect
the URL for the servlet so that the app
itself can set the announcement but no
one else can actually developers for the
application will be able to set the
announcement but no one else will so you
see here I implemented set announcement
as a servlet it extends HTTP servlet and
it implements the do get method so
here's where I imported the memcache
service and the memcache service Factory
here's where I get the memcache service
and here's where I put the value into
memcache notice that this method doesn't
set the response so we set the response
status to 204 which means that no
response is expected so if you come here
in the browser just stay on the same
page where you are all this method does
is generate the announcement and save it
in the memcache it doesn't return it
when you use servlets in an app engine
application you need to configure them
in web dot XML so here's the mapping I
added to web dot XML for the get
announcement servlet
so here the servlet name is set
announcement servlet and then here is a
class that implements a servlet I notice
that I put it in the servlet package and
then you map the servlet name to the URL
where it gets called so in this case
we're going to call the servlet by going
to cron slash set announcement I also
defined a security constraint for my
servlet because I want to make sure that
nobody except developers for this
application can trigger the servlet try
to find the resource name and then the
URL pattern that I'm protecting here
I've specifically protected slash cron
slash set announcement or I could just
protect everything under the slash
Cron's path and to specify that only
admins that is developers of the
application can trigger this URL
I set the roll name to be admin if I'd
wanted it so that any logged in user
could trigger it all I would do is
specify the roll name as asterisks but I
don't I definitely want to restrict
access to admins</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>