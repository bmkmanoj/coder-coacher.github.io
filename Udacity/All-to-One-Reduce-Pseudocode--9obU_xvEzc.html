<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>All to One Reduce  Pseudocode | Coder Coacher - Coaching Coders</title><meta content="All to One Reduce  Pseudocode - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>All to One Reduce  Pseudocode</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-9obU_xvEzc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">if you understand the spin D model and
the asynchronous communication
primitives and you're ready to write the
pseudocode for an alt 1 reduction so
recall the problem and our algorithmic
idea there are P processes each process
has a value and we want to compute say
the global sum of these values leaving
the result on some root process let's
say process 0 our algorithmic idea was
to use a tree based reduction the
algorithm proceeds in about log P rounds
of communication the rounds iterate over
bit positions in each round there's a
current bit position processes with a 1
send to processes with a 0 in that bit
position ok so let's sketch some
pseudocode for simplicity let's assume
that P is a power of 2 so we'll ignore
this oddball that's had an outer loop
that maintains a bitmask
and we'll shift the bitmask after every
round the next part of the algorithm is
to pairs of processes communicate the
partner of any given rank differs only
in the bitmask position so this is an
exclusive or remember that senders had a
one in the current bit position so if
you're a sender you need to send a
message so this is our local value then
the send can just send that value to a
partner and then wait once the send is
complete the sender drops out now if
we're not a sender then we might be a
receiver and if P is a power of two it
will turn out we must be a receiver that
case will receive the value from our
partner and then accumulate it now in
this scheme the final result will end up
on rank 0 so for rank 0 we can print the
final result</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>