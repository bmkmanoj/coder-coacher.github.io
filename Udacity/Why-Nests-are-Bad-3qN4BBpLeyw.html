<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Why Nests are Bad | Coder Coacher - Coaching Coders</title><meta content="Why Nests are Bad - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Why Nests are Bad</b></h2><h5 class="post__date">2016-08-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3qN4BBpLeyw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey Layla I've been doing a lot of
research into what might have gone wrong
along with the thoughts from the
developer glad to hear it what could we
have done differently it's a bit hard to
describe without a picture here let me
show you firebase has the ability to
nest data up to 32 levels deep but don't
let that tempt you generally speaking
nesting data is a bad idea in a no
sequel database when you create a data
structure with deep nesting it hurts
performance and can result in a
disastrous design this is because in
firebase when you read a data node you
also retrieve all of the children of
that node and remember firebase is
designed to be a real-time solution for
mobile applications taking something
like 20 seconds or longer to read in
data doesn't qualify as real time so
what's the solution to this challenge
the solution is to denormalize your data
which is basically the process of
ignoring how objects might normally be
nested such as having all items
contained within a shopping list and
instead focusing on adding some extra
data and or regrouping data to make
getting the exact data you need for your
app simple this results in queries that
have the needed information to return
results but not at the expense of
performance so let's look at a
before-and-after example in firebase in
shopping lists + + hey day there was an
internal chat application that's all
gone now we can still look at the schema
first let's look at the anti pattern for
this chat app the chat app had rooms
users and messages let's say the main
screen of the app was a list of rooms
that the user can enter to chat in for
this we need to grab a list of chatroom
names from the database which would
involve us getting the data from here in
the first example we see that in order
to list the names of rooms requires the
entire rooms tree to be downloaded to
the client we have all this extra data
we don't want imagine how much data
would have to be queried if we had a
thousand rooms worth of data let's look
at a denormalized example here data is
split into separate paths which in turn
allow for the information to be
downloaded in segments related to what
the app actually needs
the list of users is downloaded as
needed messages are fetched separately
and this allows the application to
remain performance</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>