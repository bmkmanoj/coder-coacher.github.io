<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Dot Notation - Data Wranging with MongoDB | Coder Coacher - Coaching Coders</title><meta content="Dot Notation - Data Wranging with MongoDB - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Dot Notation - Data Wranging with MongoDB</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/OcPW6xp8DfE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay now that we've learned about arrays
let's look at some other ways that
queries can get inside of documents in
MongoDB you know that our automobile
collection contains fields with some
nested documents for example there's a
dimensions field that contains entries
for weight wheelbase etc in MongoDB we
can query for values inside nested
documents using a dot notation syntax
here's an example here I've written a
query that will retrieve all autos with
a weight greater than 5,000 now note
that I'm digging into the dimensions
field using this dot notation and
accessing the weight field of this
dimension sub document so let's take a
look at the results and what I'm going
to do here is just get a count okay now
these weights are in kilograms so for my
fellow Americans a kilogram is a little
more than 2 pounds what we're gonna do
here is see what happens as we increase
the weight here okay so we're down to
about 7 documents let's go ahead and
take a look at those
I'll just pretty print these now note
that one here is the t-rex Titan it
weighs more than 500,000 kilos this one
caught my eye because having two boys
were all about the big dump trucks ok
let's take a look at an example from a
different dataset now this is one of my
favorite features in MongoDB it's a
powerful way to dig into your data and
really get a good idea for what it
contains as data scientists especially
when we're thinking about data wrangling
and data cleaning this is especially
useful as you're auditing your data we
haven't talked about it yet but it's
important to audit your data after you
get it into the database as well so
looking forward to the next lesson where
we'll be using the Twitter data set
let's have a little preview here now in
order to do this I need to access the
Twitter collection which is in the same
examples database ok let's see what
documents in this collection look like
in particular I want to draw your
attention to this entities field for
each tweet and the hashtags field of
this entities sub document hashtags is
where we've pulled out essentially any
hashtags that are used in this
particular tweet ok so let's do a little
MongoDB magic here and what I'm gonna do
is set up a query where we're also going
to do a projection all right and I'm
gonna do all this using dot notation
okay so for our projection here
I want to do is pull out just a hashtag
itself and I'm going to make sure that
that underscore ID field doesn't appear
just so the results are a little easier
to read and here we go so we'll go back
in just a second and take a look at the
actual documents but what I did here
with this query was find all tweets
where the hashtags value for the
entities sub document was not equal to
an empty array because the way this data
set is set up
if there are no hashtags the value is
set to the empty array then what I've
done is I've said all right instead of
seeing the entire document for each
document in the result set
I want to see just the text value for
each of the hashtags in the hashtags
array okay and note here that for those
tweets that actually have multiple
hashtags in them I'm going to get the
text value for all of those okay now
let's get rid of the projection and see
what this type of document looks like as
a whole and now you can see that for
hashtags we actually have an array and
so every hashtag that's mentioned will
be enclosed as a sub document like this
with a field value for text and one for
indices these being the character
positions where this begins and ends in
the tweet okay so what I've done with
this query is use dot notation not just
to find documents of interest to me but
also to project out exactly what values
from those documents I want to see and
one more time that's accessing the
entities field then the hashtag subfield
and finally the text subfield for all
documents in this hashtags array</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>