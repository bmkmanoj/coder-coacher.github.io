<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Synchronization Example   Lock - Georgia Tech - HPCA: Part 5 | Coder Coacher - Coaching Coders</title><meta content="Synchronization Example   Lock - Georgia Tech - HPCA: Part 5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Synchronization Example   Lock - Georgia Tech - HPCA: Part 5</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/OcsWFj5KFIE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the type of synchronization we use for
atomic sections is called mutual
exclusion or 'rock so this is really an
example of where a lock will be needed
what we really need to do is say
something like I'm entering don't come
in here then do this then say I'm
leaving now you can come in and when
this one is done this one can then say
I'm entering I'm leaving but if this
thread comes and wants to continue past
this point while the first thread is
already in the critical section we
should wait here so what we want here
really is before we get into the
critical section we need to lock a lock
let's call that count lock that
corresponds to a given element of this
array so count lock of L is a lock that
corresponds to count of L if this lock
currently is open then we will enter if
this lock is currently locked then we
will spin there until it becomes open
once we have grabbed a lock we can enter
here the other thread will do the same
so the first one of them that succeeds
in grabbing the lock will enter this
critical section the other one will now
realize that this count lock has been
locked and we'll have to wait there once
we leave the critical section we will
unlock the lock and now if this one is
waiting here at that point it sees that
the lock is now available and starts
executing the critical section and then
releases the lock note that having the
lock and unlock and forces mutual
exclusion of this code we do this alone
and we do this alone but it doesn't
impose a particular order between them
so whichever of them comes first to this
lock will execute it's critical section
first so we can either have this happen
first and then this happens second or we
can have this happens first and this
happens second what the lock is really
preventing is interleaving where these
are happening simultaneously but it
doesn't prevent for example this second
thread doing this first and only then
the first thread gets to do it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>