<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Putting the Data Structures to work (cont) - Georgia Tech - Advanced Operating Systems | Coder Coacher - Coaching Coders</title><meta content="Putting the Data Structures to work (cont) - Georgia Tech - Advanced Operating Systems - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Putting the Data Structures to work (cont) - Georgia Tech - Advanced Operating Systems</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WumSP2BLj2A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the next thing I want to talk about is
what happens in the system on page
evictions remember that on page eviction
when a node decides that it wants to
throw out a page it sends it in the
algorithm that I described to the node
which is candidate node for hosting that
page and it might use the weight
information to make the decision of
which node to send that page that it is
discarding from its own note when a page
fault happens the key thing is to make
sure that we service the page fault so
that we get the page and restart the
execution that is the installed on this
node that's the important thing to do
the less important thing but something
that needs to happen in the universe of
things that is being managed by GMS is
to also send the victim page from this
node to the target node that's part of
the algorithm for eviction on page fault
however we don't want to do it on every
page fault but we want to do it in an
aggregated manner and for that reason
every node has a paging demon and this
is typical of virtual memory systems
that when a page fault happens that's
not the time that the virtual memory
manager is running around trying to find
a free page frame it always has a stash
of free page frames to allocate to
service this particular page fault as I
mentioned earlier the paging demon in
the virtual memory manager is integrated
with a JMS system and what the paging
demon is going to do is when the free
list falls below a threshold then the
paging demon is going to do put page of
the oldest pages on this node and
remember that in the integration of GMS
with the virtual memory manager and the
put page i said that the paging demon is
also modified to work with the GMS this
is where the modification comes in
normally what the paging demon would
have done is when the free list goes
below a threshold it would take a bunch
of pages LRU candidate pages and put it
out onto the disk but with the
integration with GMS what the paging
demon is going to do is for the same
condition when the feelers falls below a
threshold it's going to basically do put
page of the oldest pages that it has on
this node and when we do the put page
we're going to choose the candidate
known where we're going to do the put
page based on the weight information
that we got as part of the geriatric
management that we talked about at the
beginning and so we do a put page of uid
into this PFD of this node so that this
guy will be the one that will be backing
this particular UID and once I do this I
also have to update the GCD to indicate
that the new PFD for this particular uid
is C so this update message is being
sent to the owner of this UID that is
this node and the owner is the guy that
has the portion of the UID space that is
managed by this node so the GCD data
structure contains the mapping of the
UID to the node that contains the PFD
for that particular UID and so I send
this update message saying please update
your GCD to indicate that this
particular uid is now backed by PFD that
sits on node C so that's the information
on sending this guy and this is not
being done on every page eviction but it
is done by the paging demon in an
aggregated coordinated manner when the
free list falls below a threshold so
we've covered a lot of ground from just
sort of the principle behind this
thought experiment that is using network
memory as a paging device rather than
the disk because the networks have
gotten faster and we came up with an
algorithm for age management globally in
the entire cluster and how to have that
age management done in a manner that
doesn't burden anyone node but it picks
the node that is lightest in terms of
load at any point of time and we also
saw given the
solution for cluster wide memory
management for paging how to go about
implementing it and all of the heavy
lifting that needs to be done in order
to take an idea and put it into practice</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>