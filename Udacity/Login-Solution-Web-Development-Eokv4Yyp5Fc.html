<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Login Solution - Web Development | Coder Coacher - Coaching Coders</title><meta content="Login Solution - Web Development - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Login Solution - Web Development</b></h2><h5 class="post__date">2012-05-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Eokv4Yyp5Fc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the next homework problem was login
which generated a forum like this and it
had a couple properties if you typed in
a name that doesn't exist and a invalid
password and click Submit you get an
error message but if you type in a name
that does exist and a valid password you
get redirected to that same welcome page
so let's talk about the code that makes
this work it's actually going to be
ninety percent of the code we just solve
for user registration so it should be
pretty quick okay so we have / login
which goes to the login handler let's
look at that okay so if you go to get it
does login form that HTML I'm sure you
can imagine what that looks like it's
just a basic form you know with the one
error field and fields for username and
password nothing magical there we get
the request out of the requests to get
the username and the password then what
we do is we call this function log in on
the user object and we'll go look at
that in a sec basically it returns the
user if this is a valid username
password combination and none if it's
not so if you we call the login function
which will look at also in a second
which sets the cookie just like it does
for register you can actually see the
register code up here we log in the user
and we redirect to the Welcome page if
it's not if there is no you we re render
the form with an error message that says
invalid login okay so let's look at this
login function here on the user object
and then the login function here on the
blog handler and I realize I probably
could have named those a little better
so they're not quite so confusing but
these are actually different functions
even though they have the same name so
first is the user object okay so here's
the user object and it has a class
method called login so we can say user
dot log in and what this does is it says
class by name which just refers to
itself it refers to the user class so
it's actually going to call this
function the reason we say class by name
here and that user by name is so that we
can overwrite this function later and
you can actually see I haven't been
consistent about that this should really
be class all of these should be CLS and
not uppercase user since I haven't
inherited this class it's not a big deal
but that's a bug waiting to happen so
and you know now you get to see how bugs
half in the world world so we call by
name which calls this function by name
which looks for user of that name and if
it exists and it's a valid password
which is that function you know the quiz
function we wrote before you know if the
name and password entered in
the password hash from that object with
that name in the database we return the
user so that's that first login function
that basically checks to see is this
name and password combination valid and
if it is we go up here to our our
handler and we call this login function
remember down before we called self
login well this is what it refers to is
this function here and all this function
does is it sets a secure cookie user ID
and it equals the users ID and this is
how you get the user the users ID in the
App Engine data store now remember on
our next request to the Welcome page
we're going to call initialize as every
request calls initialize and what this
does is it reads a secure cookie called
user ID and if that is valid it calls
set self dot user through that user so
that's how login works let's move on to
logout</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>