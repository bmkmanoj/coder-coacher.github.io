<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Aliasing in Virtually Accessed Caches - Georgia Tech - HPCA: Part 4 | Coder Coacher - Coaching Coders</title><meta content="Aliasing in Virtually Accessed Caches - Georgia Tech - HPCA: Part 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Aliasing in Virtually Accessed Caches - Georgia Tech - HPCA: Part 4</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Tg6ID2uWjuY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we have seen that virtually accessed
caches can overlap the latency of the
TLB lookup and the cache look up however
virtually accessed caches have a big
problem called aliasing the problem of
aliasing occurs because in the virtual
address space of the application we can
have one page map to some part of the
physical address space for example we
can use the N map function in Linux and
other operating systems to map part of a
file so that it appears in a range of
memory that we can address the problem
occurs when another page in our virtual
address space is also mapped to the same
physical addresses for example when
doing an a map of the same part of the
same file to another address so now what
we have is two virtual addresses will
actually refer to the same physical
location to see why this is a problem in
a virtual access cache let's look at two
specific addresses so let's say that a
and B are 1 2 3 4 5 0 0 0 and a b c d e
0 0 0 and let's say that we have a 64
kilobyte direct mapped cache with a 16
byte block size and that is virtually
accessed so let's say that this is our
64 kilobyte cache for this cache we have
a 4 bit offset part of the address
because of the 16 byte block size it's a
64 kilobyte cache so the next 12 bits
are going to be the index into this
cache 64 kilobytes divided by 16 bytes
is 4 kilo entries so we need 2 to the 12
index bits to tell us which index do we
have and the rest of the bits in the
addresses attacks so this is how the
aliasing problem occurs let's say that
the processor writes a value of 16 to a
it breaks down the address indexes into
the cache using the index of hex 500
let's say that this is a cache miss so
we go to memory and from the physical
location
where this data is mapping to we fetch a
value and let's say that this value is 4
once we fetch the cache block we now put
16 there and the new content of the
cache block is 16 let's say this is a
write-back cache so this 16 just stays
there now let's see what happens when we
try to read B we index into the cache
using the index for B which is e 0 0 hex
and because what we are looking for is
not here we go to memory and fetch the
value and this maps to the same physical
memory location so we are going to get 4
again and now we are going to read that
note that this problem is not just a
problem on the cache misses from now on
whenever we write 2a we will be changing
this cache block and whenever we read
from B we will be reading this cache
block so they never really end up
sharing the data as they should what
should have happened is because a and B
are really the same data when we write
to a and read B we should be getting the
same data and this problem results in
incorrect execution whenever we have
such a mapping unfortunately such
mappings are perfectly legal to do in
most operating systems so virtually
accessed caches need additional support
for this every time we write to any
virtual location we would have to do a
check for aliases or different versions
of the same physical data in the cache
and either invalidate them remove them
from the cache or update them so that
they would see the new value and this is
really expensive to do any kind of
defeats the purpose of virtually
accessed caches which are all about the
latency and not needing to do
translation now when we write here we
would need to do translation in order to
check where else do we have the same
happen to summarize this will like
virtually accessed caches because they
allow us to overlap TLB latency with
cache latency but we cannot use them
because of the aliasing problem that
seriously complicates their
implementation</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>