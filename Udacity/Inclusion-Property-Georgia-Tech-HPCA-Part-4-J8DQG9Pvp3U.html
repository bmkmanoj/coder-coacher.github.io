<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Inclusion Property - Georgia Tech - HPCA: Part 4 | Coder Coacher - Coaching Coders</title><meta content="Inclusion Property - Georgia Tech - HPCA: Part 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Inclusion Property - Georgia Tech - HPCA: Part 4</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/J8DQG9Pvp3U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in addition to different miss rates
depending on whether we are looking
globally or locally at the cache in a
multi-level cache we have what is called
an inclusion property the inclusion
property has to do with assuming that
the block is in level one cache is it
that it may or may not be in the level
two cache or it has to be in the l2
cache and it is also possible to make a
system in which if a block is in l1 it
cannot be also in l2 this is often
called exclusion this is what we usually
call inclusion and this doesn't have a
name it's neither exclusion or inclusion
so if we just have a normal cache
hierarchy where processor accesses go to
level 1 cache and then the misses from
that go to a larger level 2 cache the
question is what will we get and the
answer is unless we explicitly try to
enforce inclusion or exclusion we will
get this most of the stuff that is in l1
will also be found in l2 but there is no
guarantee for that so there could be
blocks in l1 that have been replaced
from l2 let's look at the simple example
when the l1 cache has two blocks and
it's fully associative and the larger
level 2 cache has 4 blocks and it's
fully associative and both of them use
LRU policy now let's suppose that the
processor axis is block a it's going to
be a Miss here and the miss here it's
brought from memory placed here and then
that is fed to deal 1 cache so it places
is here so so far we have inclusion
let's now access block B it gets brought
from memory here and here we still have
inclusion if we now access Block C it
will be here and here and we still have
inclusion but let's suppose that when we
have the blocks ay and B brought in
weari access a that is going to be a
level one hit so now the LRU counters in
level 1 are this but because there has
been no
axis when a was react cest to level 2
because it was a level 1 hit so we don't
go to l2 here we still have that B is
the most recently accessed a is the next
most recently accessed and let's say
these two were like this
now let's say we access see what's going
to happen is we have a mess in the l1
cache we have a mess in the l2 cache we
bring in C and replace the least
recently used block which is this the
counters now get updated to be three two
one and zero and the counters and then C
is brought in to this level one cache
and replaces B because that's the least
recently used block and the country's
become one and zero here now let's say a
is accessed again that changes the
counters back to this and there is no
access to the level two cache let's say
now we access block D it's going to be
fetched here the counters are updated to
three two one and zero and D is also
brought in to the level one cache and
placed here of course that updates the
counters this way now let's say a is
accessed again now we have the counters
again one zero let's say now E is
accessed it's a missing both caches we
bring it in and now in the l2 cache it
replaces the least recently used block
which is a however in the l1 cache it
will replace the least recently used
block which is D so at this point we no
longer have inclusion because a is in
the l1 cache but is no longer found in
the l2 cache so inclusion does not
necessarily hold when you have a cache
hierarchy because things that are
frequently accessed in the l1 cache will
not be frequently may be accessed in l2
because all of the accesses to that
block are going to l1 and l2 never sees
them so eventually that block gets
replaced from l2 to maintain inclusion
properly we have to have a so-called
inclusion bit added to l2 which is one
if that block is also in l1 and
when we replace things from l2 we
prevent blocks whose inclusion bit is
one from being replaced that ensures
that we never replace something that is
still in l1 so we can maintain inclusion
but again that requires an additional
bit</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>