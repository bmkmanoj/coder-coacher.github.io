<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Adding Ripple/Surface Elevation to a FAB | Coder Coacher - Coaching Coders</title><meta content="Adding Ripple/Surface Elevation to a FAB - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Adding Ripple/Surface Elevation to a FAB</b></h2><h5 class="post__date">2016-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/YPrjL3QKs5I" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the design support library has a
built-in fab widget
it already has ripples and elevations
enabled but it's a good exercise to wire
up one yourself to see what's been done
for you we're gonna create this app it
has two fab widgets one we've created by
hand and one that uses the design
support library so I've gone ahead and
created a new project and selected the
blank activity option and my build that
Gradle file I've made sure to add the
design support library as a dependency
at the core of a fab widget is an image
view we can make life a little bit
simpler by using an image button I've
set the background to use the accent
color and a plus button as the source
image fat plus is a vector drawable I've
created you could use an image with
transparent edges but it's more scalable
to use a vector drawable because they
can be resized without any quality loss
as you can see here our button isn't
very circular we can do that by setting
its background to be a shape shaded in
our accent color now is also a good time
to set our elevation because we use the
background drawable Android can use that
data to calculate a shadow we don't need
it in this case but you could create a
custom outline provider to control how
shadows are cast you can see more
information about that in the
instructors notes so going back to our
button we have a button that we can
click and that has elevation but it
doesn't have any ripples and it doesn't
raise to our touch let's go ahead and
add a ripple to enable ripples we need
to change the buttons background from a
static shape to one that's enclosed in a
ripple tag the color control highlight
is the color applied to things like
ripples list selectors etc the main
difference between oval underscore shape
and oval underscore ripple is that the
ripple tag encloses our shape the next
thing we need to do is add a material
reaction to the fab widget to raise it
up to meet our touch to do this we'll
add a stateless animator
to run an animation when the user
touches the button in the layout we
reference a file named fab underscore
rays that lives in the resources and
them directory we have to object
animators one for when the button is
pressed and one for when it's released
notice how we animate it the translation
Z property of the button rather than the
elevation the final elevation is
calculated by adding the current value
of translation Z to the base elevation
we set in code so this translation Z
property goes from a value of 0 to 8
dips now if we remember our fab button
has a resting state of 6 dips so it's
going to actually go from an elevation
of 6 depths to 14 you won't generally
need to implement fabs from scratch and
you definitely should use a design
library but it's likely that you'll need
to create custom widgets that you'll
need ripples for or elevation changes</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>