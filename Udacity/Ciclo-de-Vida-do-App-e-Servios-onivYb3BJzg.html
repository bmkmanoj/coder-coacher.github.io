<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Ciclo de Vida do App e Serviços | Coder Coacher - Coaching Coders</title><meta content="Ciclo de Vida do App e Serviços - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Ciclo de Vida do App e Serviços</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/onivYb3BJzg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">back in Lesson four we learned that the
Android runtime will kill apps with no
visible activities in order to free
resources needed by the foreground app
but what if your app has tasks that need
to continue when the activity isn't
visible things like downloading files
uploading photos or playing music well
there's an application component for
that services we've already introduced
activities content providers broadcast
receivers and intense services are the
final piece to the Android app component
puzzle you start services much like you
do activities by passing in an intent to
a start service call and you can stop
services the same way by calling stop
service and passing in the name of the
service you want to stop unlike
activities services have no user
interface and they run at a higher
priority than background activities this
means that an app with a running service
is less likely to be killed by the
runtime in order to free resources for
the foreground activities in fact by
default the system will attempt to
restart services that are terminated
before they're stopped from within the
app this is reflected in their
simplified life cycle compared to
activities services are designed to
execute longer running tasks that
shouldn't be interrupted typically
you'll only need to override the onstart
command handler which is where you begin
the background task you wish to execute
but notice that there are no handlers
for monitoring changes in state to
reflect the app moving to the background
this is because the running service
itself so the signal to the framework
that the containing app should be
considered higher priority than other
apps in the background that don't have
running services in some cases your
service may be performing a task that
while not having you I can't be
interrupted without interfering with the
user experience for example playing
music or helping with in-car navigation
in these cases you can indicate that
your service should be considered to be
running in the foreground by calling
start foreground you'll notice that this
call takes in a notification this will
be displayed and can't be dismissed
until the service is stopped or you call
stop foreground you'll learn more about
notifications a little later with Dan
but for now note that a foreground
service runs at the same priority as a
foreground activity making it nearly
impossible for the runtime
to kill in order to free resources now
you may be thinking to yourself I could
save a lot of trouble dealing with life
cycles just by creating long-running or
even foreground services well either up
along the coast in Australia so I
learned young that swimming against the
current is exhausting and ultimately
futile in this case that means making it
more difficult for the system to manage
resources ultimately leading to a worse
user experience swim with the current
use for ground services only when and
for as long as absolutely necessary and
stop all services as quickly as possible
it's also important to note that like
activities and receivers services run on
the main thread so you'll need to use a
background thread or async task to
execute the long running tasks you wish
to do within your service to make life
easier you can use the intense service
class which implements the most common
best practice pattern for using intense
which are executed within a service it
creates a queue of incoming intense
passed in when start service is called
these are then processed sequentially on
a background thread within the on handle
intent handler within your intent
service implementation when the queue is
empty the service self terminates until
a new intent is received and the process
begins again services are a powerful
tool it's important to understand how
you can use them but in practice there's
often a framework alternative to rolling
your own service implementation whether
that be an intent service for executing
background tasks or the sync adapter
which you learn about later in this
lesson perfect for performing background
data synchronization</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>