<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Using the IDB Cache and Display Wittr Entries | Coder Coacher - Coaching Coders</title><meta content="Using the IDB Cache and Display Wittr Entries - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Using the IDB Cache and Display Wittr Entries</b></h2><h5 class="post__date">2016-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/55RuRqFpyho" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the plan here is to create a database
for Witter that stores these posts when
with a loads fire a service worker it
does so without going to the network it
fetches the page skeleton and assets
straight from the cash now at the moment
we have to go to the network for posts
we're going to change that instead we'll
get post from the database and display
them meaning we're now showing post
content before we go to the network then
we'll connect the WebSocket to get
updated posts as shown here WebSocket
bypass both the service worker and the
HTTP cache then as new posts arrive
we'll add them to our database for next
time first thing we're going to do is
populate the database will deal with
displaying its contents later if we take
a look in public j/s main index control
ajs we can see a method is called to
open the web socket and in that method
we can see a listener for the message
event and that hands off to on socket
message passing in the data received
Woonsocket message parses the data is
Jason then passes it to add posts let's
take a look at that data by putting a
console log here over in the browser I'm
going to check force update on page load
so I can get that JavaScript change
straightaway and there are the logs we
can see that posts have an ID a time
property de Toron avatar and a message
body we want to store these objects
straight into index DB there's an
obvious primary key here ID and we'll
want to be able to display them in de
order so we'll need to create an index
on time oh and it looks like I get to
take the next few minutes off because
the mic alarm is ringing Mike one for
the student to do yep it sure is let's
dive in</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>