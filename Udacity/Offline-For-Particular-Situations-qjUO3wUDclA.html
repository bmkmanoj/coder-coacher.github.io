<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Offline For Particular Situations | Coder Coacher - Coaching Coders</title><meta content="Offline For Particular Situations - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Offline For Particular Situations</b></h2><h5 class="post__date">2016-08-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qjUO3wUDclA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so you could keep bilities to deal with
shoddy connectivity for free it doesn't
cover every situation though for example
you're probably very judicious about
cleaning up listeners and shopping list
plus plus this means that when a user
navigates away from the screen the
listener is probably cleaned up this is
great for memory performance but it also
flushes our local cache of data so say
you're online and it shows you your
lists then you go offline changes you do
on that screen or saved locally while
you're looking at the data but when you
navigate away from an activity in them
back it actually won't display the data
because we destroyed the listener the
solution though is not to remove our
cleanup code for listeners instead there
are two other options that you should be
aware of to leverage what is saved in
the local fire based cash they are set
persistence enabled and keep sync d set
persistence enabled keeps any data you
download from the database around in the
local cache this would solve the problem
I mentioned before of quitting up
listeners it also saves data between
restarts of the app let's say you're
shopping for a very very long time
you've been recording all these
purchases you're making and then your
phone runs out of battery and shuts off
closing the app if you didn't use set
persistence enabled any data that wasn't
sent to the server isn't saved for free
since set persistence enabled is so
useful you might be wondering when you
shouldn't use it there are two downsides
to using set persistence enable it does
use more disk space to store your data
locally another downside is that if you
are offline and use lots of ad listeners
for single value event it will query the
local storage if off one if you then
come online and will not query the
database again this makes it possible to
show old data to your user and can
create tricky bugs to find if you want
to cache additional parts of the
database that you don't have listeners
for the method keep synced is available
to you
for example consider this you're a user
and you load up your list of shopping
lists but you haven't clicked on any
specific shopping list imagine you go
offline and then select one of these
lists what will you see you'll see a
shopping list with no items you've never
had a listener for these items so the
local cache will not have saved these
items using keep sink though you could
explicitly say listen to this data and
it will keep data sync locally then if a
user clicks on a shopping list even when
you're offline you can see the items
when you open up the activity and the
state of those items would match what
they look like the instant the app went
offline again the downside of using keep
synced is the amount of data you store
locally even though these methods use a
little extra memory they are important
to know about so you can keep the most
important screens of your app working
seamlessly for users even in flaky
connectivity or offline situations</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>