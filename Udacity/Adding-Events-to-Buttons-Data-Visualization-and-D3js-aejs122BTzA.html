<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Adding Events to Buttons - Data Visualization and D3.js | Coder Coacher - Coaching Coders</title><meta content="Adding Events to Buttons - Data Visualization and D3.js - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Adding Events to Buttons - Data Visualization and D3.js</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/aejs122BTzA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">and as you can see here as the animation
draws to an end the buttons show up on
the left side so the first part of
adding interactivity has been completed
now we need to actually allow the user
to click our buttons here we are still
in the conditional that clears our
interval and once we've created our
buttons we want to attach some event if
you're not familiar with JavaScript
events there's many ways to do them with
native JavaScript but most libraries out
there allow you to interact in some way
with user events the most common library
and while my I've driven its rise to
fame is jQuery
where it made a effortless to attach
events and functions to elements on the
page but there's many other libraries in
our case the most notable d3 which
implements a similar style of adding
events to given HTML elements in this
case we've created our buttons and with
those we want to enable some interaction
on a click event the syntax for this is
to call the on function with some d3
selection in this case our buttons and
the first argument is the event that you
want to trigger your callback function
in this case we want to attach the click
event to our buttons but there's many
others some of which I've included in
the instructor notes for this video such
as mouse over Mouse out and even custom
events and any other event that
JavaScript itself supports the second
argument to on is the function you want
run when the given event happens on your
element sometimes you might see it
referred to as the event handler the
argument D passed to the event handler
function is the same D that gets passed
to most accessor functions in d3 that
being the data so in this case D when a
button is clicked corresponds to the
year that was clicked in our case when a
user clicks on a button of a given year
we want to call our update function with
D or rather the year of the button that
was clicked such that the map updates
the line above that I've written
is d threes way of accessing the element
that was clicked on in this case we use
a d3 select but we pass it the special
JavaScript variable this there's a lot
of confusion around when and what this
actually represents and again I've
linked to some many good resources in
the instructor notes but for the case of
what we would encounter in this course
this most always represents the element
itself that was clicked in this case the
HTML button and the reason I'm accessing
this or other be bi and clicked is
because I want to indicate to the user
in some way what button actually was
clicked in our case we want to indicate
visually to the user and provide some
immediate feedback about what buy and
they clicked and whether or not that
click actually happened and in this case
we're going to update the styles and
change the background to be blue and the
color of the text to be white also to
make it smoother and more aesthetically
pleasing we can add some animation and
transition to this effect going back to
our browser we can refresh the page and
we see our buttons as they were before
and now let's try clicking on one if you
noticed I clicked on the year 1958 the
map has updated the circles moved and
also the year and the titles changed but
also the stylings and the buttons have
changed let's compare the year 1958 to
the year 1994 again we can see the
update happening but one quirk is that
now both buttons are blue and every
successive button we click stays blue do
you know what might be happening here</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>