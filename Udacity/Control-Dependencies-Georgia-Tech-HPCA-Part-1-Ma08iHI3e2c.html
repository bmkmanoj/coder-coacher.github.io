<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Control Dependencies - Georgia Tech - HPCA: Part 1 | Coder Coacher - Coaching Coders</title><meta content="Control Dependencies - Georgia Tech - HPCA: Part 1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Control Dependencies - Georgia Tech - HPCA: Part 1</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Ma08iHI3e2c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so the branch and jump problems that we
have seen in the previous segment are
really due to what is called a control
dependence let's say that we have a
program like this we have an ad then we
have a branch that compares r1 and r3
and jumps to the label if they are equal
this is the branch equal then we have an
add and subtract here and we have a
multiply here and they're followed by
additional instructions we say that
these instructions have a control
dependence on the branch whether these
instructions should be executed at all
or not depends on the result of this
branch instruction similarly these
instructions also have a dependence on
the branch so pretty much once we have a
branch all subsequent instructions that
we execute have a control dependence on
the branch this really means that we
don't know whether we should be then
fetching these instructions until we
figure out the branch so let's see what
control dependencies like this do to the
CPI of our five stage pipeline on
average about 20 percent of all
instructions are branches and jumps so
about one in five instructions will be a
branch or a jump we also know that
slightly more than 50% of branch and
jump instructions are what we call taken
meaning they go somewhere else and don't
just continue putting these two together
means that for half of these
instructions we will be fetching the
wrong instructions so our CPI will be
one this is the ideal CPI plus 10
percent of the time we waste some number
of cycles because of a mispredicted
branch basically we fetch the wrong
instructions how many cycles we waste
well in our five stage pipeline if the
third stage is where we figure out the
branches once we do that and we
determine that we've been wrong about
what we fetched we have to cancel the
two instructions that we already fetched
so there will be two cycles of not
finishing an instruction after such a
branch so what we have is basically
every instruction spends one cycle and
10 percent of the time
the instruction is followed by two idle
cycles so the CPI overall will be 1.2 in
this example if we have a deeper
pipeline that figures out the branches
in a later stage this penalty for
guessing the branch wrong will be larger
if we have more branches or more of them
are taken than this percentage of
instructions that result in this penalty
will be larger if we're somehow able to
guess the outcomes of branches and fetch
the right instructions most of the time
this percentage here could be a lot
smaller than this we will see later a
technique called branch prediction that
tries to guess more accurately where the
branches are going and that dramatically
reduces this percentage we will also see
that modern pipelines tend to be deeper
than just five stages which will
increase this penalty the two are
related if the pipeline is deeper and
you have more of a penalty you need
better branch prediction to lower this
in order to achieve a CPI that is good</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>