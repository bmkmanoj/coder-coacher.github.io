<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Dependency Injection - Design of Computer Programs | Coder Coacher - Coaching Coders</title><meta content="Dependency Injection - Design of Computer Programs - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Dependency Injection - Design of Computer Programs</b></h2><h5 class="post__date">2012-06-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_vC8QPbqoUE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now the question is how can I test a
function like this that includes this
non deterministic component well one
thing we might want to be able to do is
inject into here some deterministic
numbers to say this is the sequence of
die rolls I want to give you and then
from that then I can check if it's doing
the right thing this is an example of a
concept called
dependency injection which has a rather
scary and intimidating sounding name but
it's actually a pretty simple idea the
idea is we've got a function like this
it's a big complicated function then way
down somewhere inside there's something
that we want to affect something we want
to monitor or track or change in
dependency injection says this function
depends on this random number generator
so let's be able to inject that and the
way how do we inject something into a
function well we just add it as an
argument so let's add in the argument
here and let's call it die rolls and say
that's going to be a sequence or an
iterable that will generate possible die
rolls and in the normal case that'll
just be random numbers exactly like it
was before and we don't care what they
are
but when we want to test the function we
can inject the die rolls that we want we
could just pass in a list saying well
what happens if the die rolls are a 6
and then a 1 and then a 3 and a 5 and so
on tell me what happens so here's my
implementation of the dependency
injected play Pig so I still have the
regular arguments a and B there's an
optional argument if I leave that out it
should behave exactly like it did before
but if I specify it then I have control
over it so die rolls should be a an
iterable that generates rolls and here
we go down and we ask for the next one
out of those rolls and and get it back
and by default die rolls just says we're
going to generate an infinite sequence
of random integers from 1 to 6 and oops
I think I misspoke there I think I said
that die rolls have
to be an iterable actually it what it
has to be is an iterator such as a
generator expression or something else
in order for it to have the next apply
to it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>