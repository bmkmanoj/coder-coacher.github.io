<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Memory Management  Using S TLB - Georgia Tech - Advanced Operating Systems | Coder Coacher - Coaching Coders</title><meta content="Memory Management  Using S TLB - Georgia Tech - Advanced Operating Systems - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Memory Management  Using S TLB - Georgia Tech - Advanced Operating Systems</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/iOHilSO9NzM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I mentioned software caching as a
mechanism that's available in exokernel
for establishing secure binding and
software tlb is one specific example of
using that software caching idea as we
know when we have a context switch one
of the biggest sources of performance
loss is the fact that you're losing
locality for the newly scheduled process
and since the address space occupied by
this library operating system and this
library operating system are necessarily
completely different when we switch from
one library operating system to another
we have to flush out the entire TLB and
if we do that when we run this other
library operating system it's not going
to find any of its virtual addresses in
the TLB and that's a huge source of
overhead and in order to mitigate that
overhead exokernel has this mechanism
called software TLB the idea is quite
simple the software TLB is sort of a
snapshot of the hardware TLB for each of
the operating system so this software
TLB is a data structure in exokernel
that represents the mappings for
operating system 1 similarly this data
structure represents the mapping for
library operating system number 2 so
let's say currently we are running
library operating system 1 so the TLB
entries correspond to valid mappings for
library operating systems 1 and let's
say that exokernel decides to switch
from this library operating system to
this one at that point what exokernel
will do is dump the TLB into the
software TLB data structure it has on
behalf of OS 1 actually not all of the
TLB but we'll get to that later on some
subset of the TLB mappings will be
dumped into this data structure and
let's say that we are switching from
this library operating system to this
library operating system and in that
case what exokernel is going to do is
it's going to preload the TLB
with the software tlb data structure
that is associated with this library
operating system essentially what we are
accomplishing is that when the library
operating system starts running on the
CPU it will find some of its mappings
already present in the hardware TLB
that's the idea in exokernel of having
that s TLB data structure associated
with every library operating system to
mitigate the loss of locality that
happens when we do a context switch in
terms of address translations of course
when the library operating system starts
running and it does not find a mapping
for a virtual address in the TLB at that
point exokernel is going to kick up that
missing virtual page translation in the
TLB as a page fault up into the library
operating system and when you get
resolved exactly as we detailed earlier</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>