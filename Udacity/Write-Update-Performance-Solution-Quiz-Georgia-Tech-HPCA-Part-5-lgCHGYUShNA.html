<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Write Update Performance Solution Quiz - Georgia Tech - HPCA: Part 5 | Coder Coacher - Coaching Coders</title><meta content="Write Update Performance Solution Quiz - Georgia Tech - HPCA: Part 5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Write Update Performance Solution Quiz - Georgia Tech - HPCA: Part 5</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/lgCHGYUShNA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">let's look at the solution to a
write-update optimization quiz where we
have two cores with write-update
coherence and we consider the case of no
optimization dirty bit only optimization
and both dirty bit and shared bit
optimization and for this program how
many bus uses and memory rights do we
get so let's consider the case of no
optimization first let us first consider
the no optimization case this right here
will use the bus and will write to
memory this read here the first one will
use the bus but will not update the
memory because this is a read miss from
then on each write on core 0 will use
the bus to broadcast and update memory
so we get nine nine nine more accesses
to each because of this
whereas reads are no longer going to be
misses and they find what they are
looking for in the cache so they are no
longer going to either bus or memory
eventually these caches replace this but
nothing happens on the replacement in
this case because everything is already
up to date so overall here we got 1,001
bus use and 1,000 memory writes now let
us look at the dirty bit only
optimization in this optimization the
writes on core 0 will all be happening
two cores Eros cache and the only write
to memory will be when the block is
replaced so we get only one memory right
how many bus uses do we need well the
first write and every subsequent write
will be broadcast so we get 1000 bus
accesses because of these rights we
still have the 1 axis because the first
read is a miss after that they're all
hits and no don't go to the bus and now
we have an additional bus access because
the replacement of a here needs to send
the data to memory for which we need a
bus access so overall we reduce
dramatically the number of memory writes
in exchange for one more bus use now
let's see what happens with
dirty and shared optimization we're
right here and at this point we are the
only one who has this block so the
shared bit is not set this would
normally allow us to write to it without
going to the bus anymore but because the
very next axis is read of a encore one
the sharing starts and that means that
really we have exactly the same number
of bus uses and memory rights remember
that the sharing optimization only works
when we are accessing a block only on
one core this block is actually being
read on one core written on another so
all the rights on this core need to be
propagated to the bus so the discourse
cache can be updated so really here the
shared bit optimization doesn't result
in any savings</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>