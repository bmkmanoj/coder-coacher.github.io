<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Mais Rápido é Melhor - Preenchimento Automático do local 2 v3 | Coder Coacher - Coaching Coders</title><meta content="Mais Rápido é Melhor - Preenchimento Automático do local 2 v3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Mais Rápido é Melhor - Preenchimento Automático do local 2 v3</b></h2><h5 class="post__date">2016-08-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/zNJsj69DnAM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in addition to this places autocomplete
we can use other features of the places
library to add more to our site let's
give the user the ability to search for
places of interest within the map
instead of using autocomplete I'm going
to add a search box to enhance the user
search experience search box predicts
what the users typing in much the same
way as autocomplete the differences are
that search box applies an extended list
of predictions which can include places
as defined by the Google Places API plus
suggested search queries such as Pizza
near the Google office however we aren't
able to restrict the search as much as
autocomplete let's add the ability for
the user to view nearby points of
interest like restaurants parks museums
etc in our site in addition to places
autocomplete we can use other features
of the places library to add value to
our site let's give the user the ability
to search for places of interest within
the map this is going to be a place
search instead of using autocomplete I'm
going to add a search box to enhance the
users experience search box predicts
what the user is typing in much the same
way as places autocomplete the
differences are that search box applies
an extended list of predictions which
can include places as defined by the
Google Places API plus suggested search
queries like Pizza near the Google
office however we aren't able to
restrict the search as much as
autocomplete lets have the ability for
the user to view nearby points of
interests like restaurants parks museums
etc in our site we're going to add one
last section into our HTML here search
for nearby places we'll add a new text
input prompting the user to enter places
of interest search and another go button
I'm creating a new search box instance
in the initialize function and binding
it to that text input that we just
created
I'm also biasing the search box to
within the balance of the map and I'm
actually going to create two event
listeners here one for when the user
selects an option from the pick list so
that's our places changed event and one
if the user types in something and
clicks go without actually selecting one
of the suggested search
so that's our click event I'm creating a
global place markers array here to use
in both functions so we can control the
markers separately from our listings
markers and so that we have only one set
of place markers on our map at a time
also remember our high listings function
this one iterated through our markers
array and set the map to null on all of
the markers we're actually going to
expand that to make it generic by making
the markers array a variable that I pass
into this I actually allow us use it for
all of our sets of markers so we're
going to use this anytime we want to
hide an array of markers on the map
everywhere we use this before I'm just
gonna pass in markers which is our
global listings array I'm also going to
use it now to control our place markers
array now let's create the function that
will execute when the user chooses a
pick list value from the search box I'm
calling it search box places when a user
enters value they will be given common
search queries when the user then
chooses one of those values from the
options given in the search box first
will hide any place markers we have on
the map from our last search then we'll
find all the places that match our query
we'll do this using the search box get
places method and assign them all into
this places all right if we didn't find
any places we'll alert that to the user
if we do find places will then call this
create markers for places function which
will define soon and pass in our places
array we're separating this out because
in both our search box places function
and our text search function which is
the other event listener that we created
will do the same thing now we'll define
our text search places function so again
this is the function that will execute
if instead of choosing a value from the
pick list the user enters a search query
or a location and then clicks on the Go
button first we'll capture the bounds of
the map then we'll hide any existing
place markers that may already be on the
map
well then create a new place of service
instance and call the text search
function we'll pass in our user entered
query and the bounds of the map when we
get the results back which is the police
arrey if the status is okay we'll call
the same create markers for places
function passing in that places array
let's create this create markers for
places function now okay so at this
point we've gotten an array of places
back from both our places service tech
search and our search box get places
method what we need to do with these
places is iterate through them and
create a marker per place so for each of
the places in this places array we'll
capture a bunch of the information about
the place
we'll get the icon which we'll use as
the marker icon this is either
fork and knife for a restaurant a
martini glass for a bar etc it's just
kind of a cute feature we'll get the
place name which we'll use as a marker
title we'll get the places location
which we'll use as a marketer's position
and we'll capture the place ID as the
marker ID we'll use that place ID later
so that we can get more details if we
use or clicks on that marker well push
each marker that we create into our
place markers array and we'll adjust the
bounds of the map to appropriately fit
all of the place markers that we
returned by default 20 places are
returned in both of these searches let's
test out both searches first I'm going
to enter a search query and choose one
from the pick list these are all of our
places it's pretty concentrated here
next I'm going to enter a query and
click the Go button so far we can see
the title if we hover over the marker
but we're going to need to get a lot
more details about these places we'll
find out how to do that in the next
lesson let's take a break before getting
all the details about these places to
see just how fast autocomplete is</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>