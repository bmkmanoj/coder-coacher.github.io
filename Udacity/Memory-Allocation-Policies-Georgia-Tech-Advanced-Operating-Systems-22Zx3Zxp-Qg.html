<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Memory Allocation Policies - Georgia Tech - Advanced Operating Systems | Coder Coacher - Coaching Coders</title><meta content="Memory Allocation Policies - Georgia Tech - Advanced Operating Systems - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Memory Allocation Policies - Georgia Tech - Advanced Operating Systems</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/22Zx3Zxp-Qg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">up to now we talked about mechanisms for
virtualizing the memory resource in
particular for dealing with dynamic
memory pressure and sharing machine
pages across VMs a higher level issue is
the policies we have to use for
allocating and reclaiming memory from
the domains to which we have allocated
them in the first place
ultimately the goal of virtualization is
maximizing the utilization of the
resources memory the precious resource
virtualized environments may use
different policies for memory allocation
one can be a pure share based policy the
idea here is you pay less you get less
that's the idea so if you have a service
level agreement with the data center
then the data center gives you a certain
amount of resources based on the amount
of dollars you put on the table so that
is a pure share based approach the
problem with the share based approach is
of course the fact that it could lead to
hoarding if virtual machine gets a bunch
of resources and is not really using it
he's just wasting it
now the desired behavior is if the
working set of a virtual machine goes up
you give it more memory if it's working
set shrinks get back the memory so that
you can give it to somebody else so
working set based approach would be the
same approach but at the same time if I
have paid money I need my resources so
one thing that can be done is sort of
put these two ideas together and
implementing a dynamic idle adjusted
shares approach in other words we're
going to tax the guys that are hoarders
so it taxed the idle pages more than
active pages if I've given you a bunch
of resources if you're actively using it
more power to you but if you're hoarding
it I'm going to tax you I'm going to
take away the resources that I gave you
and you may not even notice it because
you're not using it anyway so that's the
idea in the dynamic idle adjusted shares
a pro
and now what is this tax well we could
make the tax rate zero percent that is
plutocracy meaning you paid for it you
got it you can sit on it I'm not gonna
tax you that's one approach or I could
make the tax 100 percent meaning that if
you've got some resources and you're not
using it I'm going to take all of it
away so that's the wealth redistribution
sort of a socialistic policy use it or
lose it and in other words if you make
the tax hundred percent we are ignoring
shares altogether now something in
between is probably the best way to do
it so for instance if you use a tax rate
of 50 percent of 75 percent saying if
you have idle pages then the tax rate is
50 percent there's a 50% chance I take
it away and that's what is being done in
the VMware ESX server today in terms of
how to allocate memory to the domains
that need it you are going to use share
based approach but if you're not
actively using it we're going to take it
away from you but of course we'll give
it back to you if you start using it and
that's the reason why you don't want to
make the tax 100% but have it somewhat
smaller so by having a tax rate that is
not quite 100 percent but maybe 50% or
75% we can reclaim most of the idle
memory from the VMS that are not
actively using it but at the same time
since we are not taxing idle pages 100%
it allows for certain working set
increases that might be experienced by a
particular domain suddenly a domain
starts needing more memory at that point
it may still have some reserves in terms
of the idle pages that I did not take
away from that particular domain so the
key point is that you don't want to tax
a hundred percent because this allows
for certain working set increases that
may be there in a virtual machine that
happens to be idle for some time but
suddenly what picks up</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>