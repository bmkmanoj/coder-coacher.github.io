<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Counter Mode - Applied Cryptography | Coder Coacher - Coaching Coders</title><meta content="Counter Mode - Applied Cryptography - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Counter Mode - Applied Cryptography</b></h2><h5 class="post__date">2012-06-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6EbyCGrdKh8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the next mode of operation I want to
talk about is called CTR mode which
stands for counter we have a message
divided into blocks just as before we'll
have our encryption function just as
before and we can think of it as a es or
any other block cipher and that takes a
key as input we'll use the same key but
instead of just having a message block
go in what we're going to do instead is
have a counter sum value that cycles
through the natural numbers that's going
to be our input message so we'll get out
of that some ciphertext and what we're
going to do now well so far none of this
has anything to do with the message
right we've just encrypted the counting
values from 0 to n minus 1 what we're
going to do is XOR those XOR the outputs
here with the message so the message
blocks goes in go into these X ORS and
what comes out is the ciphertext blocks
if we did it just like this we wouldn't
have quite as much security as we would
like
we'd be vulnerable to attacks that
search the space of counters we'd also
be vulnerable because we're using the
same sequence of counters for every file
that we encrypt with the same key so the
solution to this is similar to what we
did with the initialization vectors in
the previous mode what we're going to do
is add a nonce will append the knots
with the counter value and a nonce is
very similar to key a nonce is a
one-time unpredictable value unlike a
key it doesn't need to be kept secret
the point of the nonce is to make sure
every time we use counter mode with the
same key we get different blocks out so
as an example with AES if we have 128
bits as the block size we might have a
64-bit nonce and a 64-bit counter so let
me summarize these two modes so we saw
cipher block chaining mode and we saw
counter mode and CBC mode the ice block
of the ciphertext is the result of
encrypting using the key the I block of
the message with the previous ciphertext
block and we needed a slightly special
case for 0 which would use instead of
the negative 1 ciphertext block which
doesn't exist would use an
initialization vector
with counter mode the eighth ciphertext
block is the result of encrypting the
value of I that's our counter with some
nonce and I'm writing this as as
concatenation so we have 64 bits here
pasted next to those 64 bits for the
counter and the nonce and that is
ex-ored with the corresponding message
block to do decryption with counter mode
well the message block is the I
ciphertext block ex-ored with this same
value which as we know the key we can
decrypt so that's how decryption is done
with CBC mode the ice message block is
the result of decrypting the ice
ciphertext block and exhorting that with
a previous ciphertext block or in the
case of the very first block X throwing
that with the IV</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>