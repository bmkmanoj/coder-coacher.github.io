<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Do Not Repeat Repeated Work Solution - Programming Languages | Coder Coacher - Coaching Coders</title><meta content="Do Not Repeat Repeated Work Solution - Programming Languages - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Do Not Repeat Repeated Work Solution - Programming Languages</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/U-tX4lF_Q44" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this problem we're going to not
repeat repeated work by implementing a
relatively simple optimization technique
in this optimization more commonly known
as common expression elimination let's
say we're given this snippet of code if
we look closely we can see that the
values of a B and C don't change yet we
recompute it when we calculate Z so
we're doing two additional addition
operations than we need to it's
perfectly possible to replace that sub
pression with the variable X that way we
can take advantage of the fact that we
calculated X and avoid the additional
work keep in mind that optimization was
only possible because the values of a B
and C haven't changed since the last
time we used it here I've changed the
middle statement to be B equals 2 that
means if I did the same optimization
where I replace this with X it's very
much possible that X doesn't actually
equal 8 B and C added together so a
strategy for solving this is going to be
very similar to what you would do by
hand we're going to go through each
statement one by one and in this
scenario let's say we're going to
remember that we've already calculated
the values of a plus B plus C and that
happens to be stored in X that way if we
see a request for a plus B plus C we can
simply replace it with X however at each
step we also need to keep track of what
values have changed here we can see that
be equals to now invalidates a plus B
plus C because we use the value of B
there let's get started code time so
here I have the code for a solution the
first thing we have here is a helper
function that returns a list of all of
the variables used in an expression that
way we can feed it a plus B plus C it'll
return a B and C in a list that way it
makes it much easier to check if new
statements invalidate a cached response
so here we have our optimized function
that takes in the abstract syntax tree
first thing we do is declare our empty
data structures first thing is the
dictionary that has the saved
calculations and then we have
the resulting optimized ab sex syntax
tree that starts out empty so we'll go
through each statement and our abstract
syntax tree and extract a little bit of
info from that statement to make it
easier to reason about and write the
code the first thing we do in this loop
is the check if the right hand side of
this statement has already been computed
and we have a version of that a right
hand side that doesn't have any values
that have been changed that means that
we can use it if that's the case we are
going to create our new statement with
the simplified right hand side otherwise
we're going to remove the saved
expression calculations that use
variables that we modify in this
statement and then we're going to update
our available dictionary of save
calculations and before we're done with
the loop we're going to add this new
statement on to our app section text
tree and once we're done with everything
we're going to return the result</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>