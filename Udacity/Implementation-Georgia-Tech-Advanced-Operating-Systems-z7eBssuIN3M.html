<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Implementation - Georgia Tech - Advanced Operating Systems | Coder Coacher - Coaching Coders</title><meta content="Implementation - Georgia Tech - Advanced Operating Systems - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Implementation - Georgia Tech - Advanced Operating Systems</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/z7eBssuIN3M" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I've always said that the fun part of
any systems research is the technical
details and implementing an idea so
let's look at some of the implementation
details here so what's gonna happen is
that when a process or a thread on a
processor tries to write to a page X at
the point of writing to the page X the
operating system is going to say ah this
guy wants to write to this X I'm going
to make a twin for this page so this is
the original page and there's a twin for
the same page and the original page is
writable by this process that mapping is
there in the page table this new copy a
twin has been created in physical memory
it's not mapped into the page table of
any process it has just additional copy
of the same page created by the
operating system as a twin so this page
has been made writable and therefore the
thread can make changes to this X which
is the original copy of the page so the
thread reaches the release point so when
the thread reaches the release point
what the DSM software is going to do is
compute the diff between the changes
that have been made and the original
version the original version we created
a twin right so there's a twin and this
is the original page but this original
page we made modifications to X has now
become X Prime and this is the twin
which is containing the page as it was
before this thread started writing to it
so the DSM software at the release point
is going to compute the diff between the
original copy of the page and the
modified copy of the page and the lip is
going to be computed as a run length
encoded death meaning that all of the
page has not been modified it's only
this portion and this portion of the
page that have been modified so the diff
is going to be computed as oh the page
has changed starting from here up until
here and starting from here up until
here this is
the starting point for the change and is
the amount of change and the content of
the change the diff is the data
structure that has been created by the
DSM software to remember the changes
that have been made to this page X prior
to the release as you may have imagined
already when the same lock that governs
accesses to this page which was released
over here is acquired by a different
processor at the point of acquisition
what we're going to do is we're going to
invalidate all the pages that were
touched in this critical section
including X so X will be invalidated at
the point of acquisition of the same
lock that is governing this critical
section and when that processor has a
page fault for page X and DSM software
knows that oh there is a diff lying
around on this node which is needed in
order to update the page and give it to
the current lock acquirer so that's part
of what goes on under the covers and the
implementation so but so far as this
node is concerned when the release
operation is done at that point the DSM
software is going to compute the diff
between changes made to this page and
its original copy of the page and keep
that as a diff native structure and
there are multiple pages all of the
diffs will be created at the point of
release and once this thread that was in
this critical section is completed its
release operation we will write protect
this page X we are right protecting it
to indicate that this guy cannot write
to it anymore unless he gets into a
critical section and we have to do the
coherence actions again and that's the
implementation of the protocol and at
this point we write protect the original
page and we can also get rid of the twin
the use for the strand is complete we
only needed it in order to compute this
diff we've computed it and we write
protected the original page and
everything that needs to be
on this note is complete and we can get
rid of the string and getting rid of
this twin essentially means that we are
freeing up the physical memory that we
allocated for creating the twin in the
first place</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>