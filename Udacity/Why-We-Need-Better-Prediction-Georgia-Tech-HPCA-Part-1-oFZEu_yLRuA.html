<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Why We Need Better Prediction - Georgia Tech - HPCA: Part 1 | Coder Coacher - Coaching Coders</title><meta content="Why We Need Better Prediction - Georgia Tech - HPCA: Part 1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Why We Need Better Prediction - Georgia Tech - HPCA: Part 1</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/oFZEu_yLRuA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so we have seen that our predict
not-taken predictor that is very simple
to implement is pretty accurate for
about 88% of all instructions it
predicts correctly so why do we even
need any better predictors because
anything better than this will require
some investment of hardware to do the
prediction better we will answer this
question in two ways first we will
compare the CPI with the not-taken
predictor that is let's say 88% accurate
and with a better predictor that is
let's say 99% accurate and we will do
this for a 5 stage pipeline that
resolves branches in the third stage so
it has a two cycle penalty whenever
there is a misprediction
so it has a two cycle penalty when there
is a misprediction we will also do it
for a 14 stage pipeline that resolves
branches in the 11th stage so it has a
10 cycle penalty for a misprediction and
for another pipeline that has 14 stages
resolves branches in 11th stage but this
one executes four instructions per cycle
so this is very close to what modern
processors look like so for a not-taken
predictor and a five stage pipe the CPI
we get is 1 plus how often we miss
predict which is 12% of all instructions
times the penalty of a misprediction
which is 2 cycles which gives us a total
CPI of 1.24 what happens when we have a
better predictor well we now get 1 plus
0.01 only 1% of the time we miss predict
and we get a two cycle penalty then so
the CPI now is 102 and now let's look
also at the speed-up that we get from a
better predictor
if the frequency of the processor stays
the same and it executes the same number
of instructions then the speed-up is
simply the improvement in the CPI so the
speed-up would be the CPI of the
not-taken predictor but divided by the
CPI of the better predictor
and we get a speed-up of 1.22
this is actually a noticeable speed-up
but things get more interesting when we
have a deeper pipeline in that case we
have 1 plus still 12% accuracy for
not-taken but this time the penalty
because we resolve branches in 11 stage
will be 10 and we get an overall CPI of
2.2 this is much worse than the one we
will be getting with no mispredictions
with our better predictor we get 1 plus
1% misprediction rate times 10 for a
total CPI of 1 point 1 and that gives us
a speed-up of 2 so as we can see now the
better predictor is giving us twice the
performance of the not-taken predictor
and we have seen this already that the
deeper the pipeline the more benefit we
get from a better predictor but what
happens when we also do multiple
instructions per cycle so this processor
can do 4 instructions in a cycle so the
ideal cycles per instruction is 1/4 of a
cycle we add to that how often we have
mispredictions times how many cycles do
we waste for a misprediction we still
detect miss predictions in the 11th
stage so everything done in the 10th
cycles after the branch was fetched is
wasted so we still have a 10 cycle
penalty here and we get an overall CPI
of 1.45 that's actually less than one
instruction per cycle it's better than a
single instruction per cycle processor
but not that much better for something
that should be four times as capable now
let's look at the better predictor which
should give us the ideal CPI plus one
percent of the time
ten cycle penalty and that results in
CPI of 0.35 or about three instructions
per cycle even with the branches if we
compute the speed-up
it's 4.14 so as you can see
if we have a deeper pipeline or if we
are able to execute more instructions
per cycle then the better predictor is
more important than in simpler
processors</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>