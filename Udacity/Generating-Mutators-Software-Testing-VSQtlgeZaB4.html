<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Generating Mutators - Software Testing | Coder Coacher - Coaching Coders</title><meta content="Generating Mutators - Software Testing - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Generating Mutators - Software Testing</b></h2><h5 class="post__date">2012-07-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VSQtlgeZaB4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well the most obvious thing to do start
flipping bits so for example we take a
word document we actually saved out of
Microsoft Word maybe it's a couple
megabytes long it's some huge file that
we've created we flip maybe 10 maybe 100
maybe a couple thousand bits in it we
load it up in Microsoft Word and we see
if and find a part of the range for
Microsoft Word that causes it to crash
another thing we can do and this is one
of the techniques often used by
penetration testing tools based on
fuzzing is modify selected fields and
the model here is that our test case has
some known structure that is to say it's
a valid HTTP request what we're going to
do is target parts of the HTTP requests
that are known to frequently lead to
vulnerabilities and servers and we're
going to selectively modify those so we
might take for example so we might for
example take the request sighs and just
replace it with some random number and
see if that triggers a buffer overflow
and the web server another thing we can
do if we have a parser for a test case
just modify it using its grammar so we
can for example add remove or replace
tokens in a test case we're also
sub-trees of the abstract syntax tree
all right so let's finish up by looking
at a short mutational fuzzer and what I
have here is 5 line Python program it
was made kind of famous by Charlie
Miller's talk babysitting an army of
monkeys this talk is pretty fun to watch
so I recommend that you google that and
look at it on YouTube what Charlie
Miller claims in this talk is you found
an enormous number of bugs with his five
lines of Python and so but it turns out
is that the five lines of Python are
missing I'm missing quite about quite a
bit of code you need to make this work
in practice and i've added comments sort
of explaining what these are so we would
first need to do is load a file into a
buffer in memory and so file that we
going to load is going to be a PDF
document in a PowerPoint document a word
document whatever it is that we want to
mutate for purposes of creating a random
test case but this code does is first
first assigns into this num writes
variable which is basically deciding how
many places inside the file that we've
loaded we're going to mutate and so now
we're going to loop over that range and
every it for either every iteration of
the loop we're going to make up a random
bite then make up a random location
within our buffer and then mod whatever
value was there with our random bite so
what does that mean we're basically
picking some totally randomly picking
some places in a buffer to mess with and
messing with them then we're going to
save the buffer back to disk run
whatever our application is so run
windows media player powerpoint mac
rebet reader whatever is we're trying to
fuzz and look at its exit code and so
it's exit code from the operating system
is going to tell us whether it died or
whether it didn't die and if it doesn't
die
then we're going to have to wait a
little bit and then just kill it so
that's a failed test case if it does die
then we're going to want to save the
buffer off into some sort of a location
where we can examine it later and in
either case then we're going to start
over so hopefully what would happen if
we made this code real by writing the
rest of it and this is going to be a
challenge program for your assignment at
the end of this unit is we would
basically have a large pool of documents
or files or whatever that we can use for
fuzzing we start this thing up on some
sort of a fast machine hopefully ideally
we'd start up a copy for every core on
the machine and we go to go on vacation
we take a week and when we came back
ideally it would have found a bunch of
vulnerabilities now it turns out that a
lot of people have been using this sort
of tool on the common utility programs
like Acrobat Reader and powerpoint for a
number of years now so it may be the
case that if you do this you're not
going to find anything on the curt
latest version of Acrobat Reader and in
fact if you do find something that's
actually pretty interesting and I hope
you'll share it on the forums no on the
other hand if we want to actually get
some easy successes in order to you know
this isn't for purposes of finding real
bugs it's for purposes of understanding
random testing better what you should do
is find some old versions of Acrobat
Reader a PowerPoint or whatever get
those on your machine and fuzz those and
almost certainly using some sort of an
infrastructure like this if you wait
long enough you'll be able to find some
sort of a problem in those applications</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>