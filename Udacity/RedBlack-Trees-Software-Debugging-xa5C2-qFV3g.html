<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Red-Black Trees - Software Debugging | Coder Coacher - Coaching Coders</title><meta content="Red-Black Trees - Software Debugging - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Red-Black Trees - Software Debugging</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xa5C2-qFV3g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so we have seen that with the surgeons
we can ensure that objects are in the
same state all the time you can imagine
that this would be most useful for large
complex data structures that is
structures with lots and lots of
invariants that need to be maintained or
that could possibly be violated due to
programming errors let me illustrate
this with one of the most devilish data
structures ever invented which is a red
black tree here's an example of a red
black tree a red black tree is a data
structure to represent associative
arrays also known as mappings if I want
to search an element in a red black tree
I can do so in almost logarithmic time
and I do so as in all search trees by
checking whether the element I'm
searching for is smaller or larger than
the element I'm looking at suppose I
want to check whether the number 22 is
in my red black tree I start at the root
which is 13 I'm looking for 22 which is
larger than 13 so I go along the right
branch 22 is larger than 17 so again I
go along the right branch 22 is smaller
than 25 so now I go along the left
branch and here I end up exactly in the
element I was searching for red black
trees do not only guarantee search in
logarithmic time but also insertion and
also deletion which makes them a real
nice choice for all sorts of search
operations but they also are very very
difficult to debug the reason they're
difficult to debug is they do have a
number of properties that must be
maintained at all times to start with
they always must be trees you can't have
any cycle in here a black node must have
read children and a red node must have
black children the number of elements in
the sub trees should be fairly equal
with respect to the number of black
nodes and if some element points to a
child the child maintains a pointer then
this should point back to the exact same
parent so search in a reflector is easy
but insertion and removal are really
complicated to get an idea just how
complicated they are let's take a look
in Wikipedia what they write about red
black trees so this is the wikipedia
page on red black trees here's the
insertion this is to help a functions
grandparent and ankle now we go to
one two three different cases all with
individual code that needs to be handled
he is case number 54 and his case number
five removal is even more complicated
this is the formal description we need a
helper function called the sideline he
is a helper function to delete one child
which is easy and now come all the
special cases case one case to case
three case for case five k 6 and of
course you can imagine how easy it is to
make mistakes in any of these cases you
would have some pointer pointing to
their own node and again you would
easily create lots and lots of time
bombs which is why we normally do not
implement red black trees but we rather
rely on red black trees as implemented
in some library however if you were to
implement a red black tree say part of a
programming exercise for instance at
school or you're working on something
that's similar to a red black tree but
which doesn't have yet it's page into
Wikipedia then you really need to make
sure that you don't screw up things and
that you don't create a timebomb bin
here if you work on a data structure as
complex as this the very first thing you
need to write is an invariant checker</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>