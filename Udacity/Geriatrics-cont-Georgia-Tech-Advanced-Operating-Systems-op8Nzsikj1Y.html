<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Geriatrics! (cont) - Georgia Tech - Advanced Operating Systems | Coder Coacher - Coaching Coders</title><meta content="Geriatrics! (cont) - Georgia Tech - Advanced Operating Systems - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Geriatrics! (cont) - Georgia Tech - Advanced Operating Systems</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/op8Nzsikj1Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I mentioned that this management
function that this initiator is doing
you don't want to be statically assigned
to one known because that'll be a huge
burden and besides this node they
suddenly become very active and if that
happens then you are stymieing the
computations that are going to happen
here to do this management function know
intuitively if you think about it if a
particular node let's say Lord end too
has a weight of point 8 what does that
mean what that means is that in the
upcoming epoch eighty percent of the M
pages are going to be replaced from this
node n2 in other words m2 is hosting a
whole bunch of senior citizens so it's a
node that's not very active right if it
is an active node then the replacements
candidates are probably not going to
come from that guy and in predicting the
future the initiators saying that well
most of the replacements are going to
come from here so its weight is very
high so this information the weight
information for all the nodes is coming
to every one of these guys so
intuitively if you think about it the
guy that has the highest weight is
probably the least active why not making
the manager so the initiator for the
next epoch is going to be the node with
a maximum weight now how do you
determine that well every one of these
nodes is receiving not only the men age
of the candidate pages that are going to
be replaced in the next EP park but also
the weight distribution that says what
is the percentage of these replacements
that are going to happen in each one of
these nodes so locally each one of these
guys can look at the WI that it got back
from the initiator and say ah I know
given that node n3 has the maximum
weight that's going to be the initiator
for the next epoch so locally you can
make the determinations of that for the
next epoch in order to send the age
information you know locally who to send
it to now let's look at how this minimum
age information is going to be used by
each node remember that men aged
represents the minimum age of the
all those pages the smaller the age the
more recent that pages and so those are
the active pages so if you if you look
at this as the age distribution of all
the pages then if you draw a line here
then the pages to the left of this line
the minimum age line are the active
pages and the pages to the right of this
which is the M oldest pages are the
candidate pages that are going to be
replaced in the next epoch this is the
information that we're going to use in
the way we manage page replacements at
every node so let's see what the action
is add a node when there is a page fault
if upon a page fault I have to evict a
page why then what I'm going to do is
I'm going to look at the age of this
page why if this age of this page why is
more than the minimum age then I know
it's going to be replaced even if I send
it to a peer node it's going to be
replaced because that is part of the
candidate m pages that are going to be
replaced in the upcoming epoch and
therefore locally I'll make a decision
that page why has an age older than
minimum age and therefore i'm going to
discard it simply discard it don't worry
about sending it to appear remember that
in the description of how page folders
handles i said that when you have a page
fault of the load i pick one of the
replacement candidate and i send it to a
peer node to store it in the global
cache of the piano well we don't want to
do that if that page is going to be
eventually replaced during this upcoming
epoch meaning it has to be thrown out
onto the disk in that case you might as
well discard it right now so if the age
of the page that you are evicted from
your node happens to be greater than
managed simply discard it on the other
hand if the page happens to be less than
the managed then you know that it is
part of the active set of pages for the
entire cluster you cannot throw it away
you send it to a peer node ni how do you
pick ni this is where the weight
distribution comes in I know the weight
of
all the nodes at the end of this
computation the manager sent me the
weight distribution for the upcoming
epoch of all the nodes so i can pick an
old to send this page to based on the
weight distribution of course i could
say well send it to the guy that has the
highest weight because that's the guy
that is likely to replace but remember
that there's only an estimate of what is
going to happen in the future so you
don't want to hard code that instead
we're going to use some information
drawn from these weights we're going to
factor that weight information into
making a choice as to which pier we want
to send this eviction page two chances
are that the node that has a higher
weight is a likely candidate that I'll
pick but it will not always be the node
with the highest weight because of that
decision is made by everybody then we're
going to have a situation where if the
prediction was not exactly accurate we
will be making wrong choices basically
you can see that this age management
geriatric management is approximating a
global LRU not exactly a global LRU
because global LRU computing that and
every page fault is too expensive so we
don't want to do that instead we are
doing an approximation to global LRU by
computing this information at the
beginning of an epoch and using that
information locally in order to make
decisions so we think globally in order
to get all the in age information and
compute the minimum age and compute the
wait for all the nodes as to how much of
the fraction of the replacements are
going to come from each one of these
nodes but once that computation has been
done for the duration of the epoch all
the decisions that are taken at a
particular node is local decisions in
terms of what we want to do with respect
to a page that we are choosing as an
eviction candidate do we discard it or
do we store it in a pure global cache
this might sound like a political slogan
but the important thing in any
distributed system is as much as
possible use local information
and decision making so think globally
but act locally so that's the key and
that's what is ingrained in this
description of the algorithm</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>