<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Using Loaders in our App - Developing Android Apps | Coder Coacher - Coaching Coders</title><meta content="Using Loaders in our App - Developing Android Apps - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Using Loaders in our App - Developing Android Apps</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-McnFuTfapQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we'll start by adding our callback
functions to our forecastfragment
now note we have two different options
here for loader callbacks we want to
make sure we're choosing the android
support v4 callback so we're compatible
with Gingerbread these take a generic
type we're gonna want to use cursor and
yes that is Android dot database tar
cursor now let's move down to where we
want to actually insert this code here
at the bottom and of course we use
control I to actually insert and there
we have it beautifully our loader
pattern with cursor now let's do some
work that'll help us out first we ran an
array of columns to the top of our
forecast fragment these are the columns
that are going to be used in our query
note that since both weather entry and
location entry have the underscore ID
field we must fully qualify which ID we
want on our projection for this query to
work and in fact this query requires the
projection to work at all otherwise it's
ambiguous next here are indices that are
tied to these columns this will make
some of our work easier later on note
that these actually must match then we
create some public indices for us to use
in our adapter this allows us to make
our code tiny and efficient in the
adapter but it means we must maintain
the relationship between these column
indices and the projection each loader
has an ID it allows a fragment to have
multiple loaders active at once we're
going to place this along with an
instance variable to save off our
location here at the top of our class
next we're going to override on activity
created loaders are initialized in on
activity created because their lifecycle
is actually bound to the activity not
the fragment note the use of the loader
ID for cast loader then we return to the
on create loader function we add a new
cursor loader this cursor loader has our
query including start date columns and
sort order our start date is actually in
our URI our columns are the ones we
defined earlier and our sort order is
going to be based upon column date text
ascending let's do one last check we
want to make sure we're using the
support library version of all of these
classes otherwise we won't get Android
2.3 compatibility</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>