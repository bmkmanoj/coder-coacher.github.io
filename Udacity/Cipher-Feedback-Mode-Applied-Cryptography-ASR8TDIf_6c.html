<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Cipher Feedback Mode - Applied Cryptography | Coder Coacher - Coaching Coders</title><meta content="Cipher Feedback Mode - Applied Cryptography - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Cipher Feedback Mode - Applied Cryptography</b></h2><h5 class="post__date">2012-06-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ASR8TDIf_6c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the last mode of operation I'm going to
talk about is called cipher feedback
mode also known as cfb there are many
different modes of operation we won't
talk about them all but the ones that
I've talked about will give you a good
sense of the way modes of operation work
this one's a bit different from the
others that we've seen so far it does
use some encryption function as a black
box like the others
we'll call the input to that encryption
the X values so X 0 X 1 X 2 dot are the
inputs two successive encryptions the
first one will be an initialization
vector similarly to how we've used that
in other modes of operation and that
will be the input to encrypt there's
also a key the output of encrypt is some
encrypted block we'll use n as the
encryption size so for AES we'll assume
n is 128 bits whatever the block sizes
so that size of the input block and the
size of output from encrypt is 128 bits
this cipher has an additional parameter
which we'll call s and s is how we're
going to divide the output we're going
to take the first s bits of the output
and those will be X Ord with the message
with that message block producing the
output ciphertext this looks very
similar to cfb except for we haven't
used the entire output here the other
thing that we're going to do is we're
going to use the ciphertext to update
the x value so we're going to take these
s bits we're going to put them into the
next x value and we're going to move the
old value s bits to the left so that
means we're going to be taking the N
minus s bits that are the right part of
the previous value of x 0 and we're
going to be moving those into here
everything else proceeds the same way we
encrypt the x value we get our output
block we take the leftmost s bits of it
we ex are those with a message we get
our ciphertext block and this keeps
going so we can describe that process
first we'll describe what happens with X
values so value X I is the result of
taking the previous value of x I so
that's value X I minus 1 so
left the I of X I taking from position
and - s to the end I'm going to use
pythonic notation for this we're taking
from position s to the end of the
previous value of x and we're
concatenated that with the value of the
previous ciphertext so this is defined
as a recurrence we need to define the
initial value and that was given by the
IV the initialization vector so that's
how we update the X values how we
compute the ciphertext values we compute
the ciphertext values by taking the
outputs here that's the result of
encrypting using key K the x value for
that position and we're going to take
just positions up to s and then we're
going to XOR that with the message so
this is how we compute the ciphertext
blocks in the cipher feedback mode the
important thing that you should notice
here is there's this additional
parameter s and what s means is that
size of the message block and the value
of s should be less than the value of n
that's the normal block size of the
cipher otherwise we wouldn't have any
input left it would end up being a
different mode</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>