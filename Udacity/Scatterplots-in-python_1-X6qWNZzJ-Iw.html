<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Scatterplots in python_1 | Coder Coacher - Coaching Coders</title><meta content="Scatterplots in python_1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Scatterplots in python_1</b></h2><h5 class="post__date">2016-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/X6qWNZzJ-Iw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">Thank you, Professor.
So I am back with more Python and
more graphs.
This time, let's scatter some data.
I mean,
let's learn how to build a scatter plot.
We will compare scatter plot of
SPY versus XOM and SPY versus GLD.
So let's read this data and
compute daily returns as well.
As usual, We call get_data
function with this symbols and
also compute daily returns.
Next we first plot scatter plot for
SPY versus XOM.
Kind parameter of the plot
function of the data frame
will help us achieve this.
So we mention we need a scatter plot,
but
since the data frame daily return
has values for three stocks.
We have to mention which should be our
X axis and which should be our Y axis.
As we are plotting SPY versus XOM,
we assign X attribute aas SPY and
Y attribute as XOM.
Ready to see the output?
This is our SPY versus XOM.
Now let's similarly plot SPY versus GLD.
Since we want GLD on our y-axis, we just
replace the y label from XOM to GLD.
So here are two scatter plots.
SPY versus XOM and SPY versus GLD.
But we want to recreate
the graph that Professor drew.
So we fit a line to the scatter plots.
For that, we need the help of
another good friend of ours.
Which is numpy.
So let's import it.
After importing the numpy library
we areall set to fit a line to our
scatter plot.
So we have a set of points, and
we want a line which has
an equation of degree one.
So we go ahead and
fit a polynomial of degree one.
This is what polyfit
function of the numpy does.
So let's use it.
We will first do it for SPY and XOM.
The polyfit function needs x-coordinates
and y-coordinates to fit a line.
For us the x-coordinates
are the daily return values for
SPY and the y-coordinates are daily
return values for the XOM.
The one denotes the degree
of our function.
Calling this function
will return two things.
The first is the polynomial coefficient
and the second is the intercept.
Since we have a polynomial of degree 1,
it would be of the form y = mx + b.
So m is the coefficient and
b is the intercept.
We name them as beta and alpha.
Just as Professor explained.
Now we finally plot these values.
The idea for plotting the line is,
for every value of x that is SPY,
we find a value of y using the line
equation, which is mx + b.
This parameter denotes that we want
a line plot with the color red.
Now, let's check our graph.
Here is the fitted line.
Let's do it for GLD so
that we can compare them both.
We also print the beta and
alpha values for each.
Now, let's compare the beta values
which shows how the stock
moved with respect to SPY.
You can see that the beta values for
the XOM is greater as
compared to that of GLD.
Which means that XOM is more reactive
to market as compared to GLD.
On the other hand,
the alpha values denote how well
it performs with respect to SPY.
Numbers over here say that
GLD performed better.
Let's cross check.
You can see the upward movement of
the GLD as compared to the SPY.
One last thing is to find
the correlation yet again.
The data frame has a function
corr which means correlation, and
we can define which method to use.
We use the method pearson.
It is the most commonly used method
to calculate the correlation.
There are other methods as well, check
the instructor's note for more detail.
We get the output in the matrix format,
with correlation of each
column with each other column.
You can see that the SPY and
XOM are highly correlated.
The value of the correlation for
GLD and SPY is very small.
Let's check the graph.
You can observe that the dots
do not fit the line closely.
And that's why the correlation value for
the SPY versus GLD is less as
compared to SPY versus XOM.
For more information on data
frame scatter plot and polyfit,
check the link in
the instructor's notes.</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>