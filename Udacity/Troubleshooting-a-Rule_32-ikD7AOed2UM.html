<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Troubleshooting a Rule_32 | Coder Coacher - Coaching Coders</title><meta content="Troubleshooting a Rule_32 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Troubleshooting a Rule_32</b></h2><h5 class="post__date">2016-08-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ikD7AOed2UM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you are doing awesome work to recap
let's talk a little bit about what
you've done so the first thing that you
did is you define a rule structure that
mirrors our actual database then using
that rule structure you created
validations for both properties and
entire objects next we figured out what
kind of read and write rules that you
need for each root node and that's all
been laid out for you in a spec so now
we're ready to actually implement those
rules of course using those handy uid
mapping and odor mapping rules that you
just made but before I throw you in the
wild of writing read and write rules I
wanted to give you a couple tips and
tricks about troubleshooting because you
might be wondering how do you actually
test a rule when it's not working so my
first tip is a oldie but a goodie and
it's basically to turn on the debug mode
this gives you access to all sorts of
good data in the case of a read it will
show you the exact location you're
trying to read from and in the case of a
right it'll show you the exact data that
you're sending to the app that might or
might not be getting denied in addition
though firebase actually provides you
with a simulator to test out reading and
writing data and the simulator is pretty
cool because it allows you to very
clearly see what's happening with your
permissions ok so in the firebase
dashboard you can go ahead and go over
to this simulator tab and for our app
because login is so important you're
going to want to select a custom off the
provider doesn't matter but the UID does
this will make it so that when you're
using your read write rules in this case
the provider is an important but you
should put in a UID of a pre-existing
user in your app in my case I'm going to
go ahead and put in could graze you idea
and I just copied and pasted this over
from my data here where if you look at
the UID mappings you can grab her you ID
ok so I put it in cookery Zod and I can
press authenticate and this will
basically make it so I am impersonating
cougar and then here I can simulate
different read or write rules right
rules allow you to also specify some
data that you try to write so for
example if you wanted to test that rule
that you just created you could find a
shopping list that Kagura is shared on
another list that she's the owner of and
finally a list that she has nothing to
do with and make sure that they all gave
the correct responses so for example I'm
going to get a shopping list
grey is shared on so over here i'm
looking at could raise lists okay here's
one that she shared on and it has the
name k 7 j 0 so i'll go over here to
shopping list items go to list k 7 j 0
and they'll go ahead and open that link
another tab copy this location and then
over here in the simulator i can put
that location that i just copied here so
basically i'm now doing a simulated read
for shopping list items for that list
that she was shared on okay and i'm
already authenticated as her so i can
come down here and I'm syndicated kagura
I'm try to read it this list that she
shared on and I can press simulate read
and it says here that the reed is
allowed and it even goes through each of
the rules at these different steps so
you get a lot of output information and
it'll tell you actually if there are
multiple rules along the path which one
it passes and which one it fails so it's
very useful and so similarly I could
take a list that she's not a part of
which she's not part of this list and I
can simulate a read and it would show
that the reed was denied and point out
which of these rules was false finally
bolt could be a pretty helpful tool for
writing rules including read the right
rules as i mentioned checking whether a
user is shared on a list or the owner of
a list is a fairly common rule you've
also probably say that it's a little bit
long to write bold allows you to write
functions and then use those functions
in different places and this essentially
gives you a pretty easy way to make
fairly similar rules in a bunch of
different parts of the rule stock so
here's a quick example of a function of
bolt and i'm not going to go over the
semantics of alta i'll provide a link to
some of the documentation for that but
basically it's doing the look up in that
you ID mappings table to get you the
encoded email and here's another
function which one passed in a list ID
parameter it goes into the owner
mappings node and gets you back the
owner email for that list and here's yet
another function which combines these
two other functions to get your encoded
email and compare it to the email of a
list so you might write up a bunch of
functions of bolt and then in your paths
part of your boat file you can write
something like this and what this rule
is basically doing is saying for a list
name in a specific shopping list the
owner that shop
list is the only one who could change
the list statement and while you had to
write all these functions you can now
use this is owner function in as many
places as you want so there might be 10
places in the app that you want to check
for ownership all you have to do now is
write this is our function call a full
explanation of writing functions in bolt
is accessible of the instructor notes
but hopefully this is enough to prove to
you that music bolt might be a good idea
so now that you know the different
options for troubleshooting and
debugging your rules do you think that
you could write the rest of the read
write and validate rules that i'm giving
you in the spec right now</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>