<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Array Based Queueing Lock - Georgia Tech - Advanced Operating Systems | Coder Coacher - Coaching Coders</title><meta content="Array Based Queueing Lock - Georgia Tech - Advanced Operating Systems - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Array Based Queueing Lock - Georgia Tech - Advanced Operating Systems</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yKsH-QGtXPU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we will discuss two different variants
of the queueing lock the first one we'll
talk about is the array based queuing
lock and this is judah anderson and i
will refer to it as Anderson's lock
later on as well
associated with each lock L is an array
of flags and the size of this array is
equal to the number of processes in the
SMP so if you have a an envy
multiprocessor then you have n elements
in the circular Flags array and this
Flags array serves as a circular queue
for in queueing the requesters that are
requesting this particular lock L so
every lock has associated with it this
Flags array and it's fairly intuitive
that since we have at most we have n
processors in this multi process so we
can have at most n requests
simultaneously waiting for this
particular lock so the size of the data
structure the flags data structure is
equal to n where n is the number of
processors in the multiprocessor now
each element in this Flags array can be
in one of two states one state is the
has lock state and the other state is a
must wait state has lock says that
whoever is waiting on a particular slot
has the lock so if this particular entry
let's say is HL then that means that
whichever processor happens to be
waiting on this particular slot is the
current winner of the lock and is using
the lock on the other hand must wait is
indicating that if a processor has must
wait as the entry in this particular
element of the array Liz waiting on this
particular slot that means that that
processor has to wait you guessed it
there can be exactly one processor that
can be in the HL happy state because
it's a mutually exclusive lock and
therefore at most one processor can have
a lock at a time and all the others
should be waiting and so what we do is
in order to when we get this lock to
initialize the lock what we do is we
initialize the lock data structure
there's a readers
structure the flags are a data structure
which represents a circular queue by
marking one slot as HL and all the
others has must wait an important point
I want you all to notice is that the
slots are not statically associated with
any particular processor as requesters
come in they're going to line up in this
Flags array at the spot that they get in
the next available slot the key point is
that there is a unique spot that is
available for every rating processor but
it is not statically assigned we'll see
how requests get formed using this
circular queue in a minute</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>