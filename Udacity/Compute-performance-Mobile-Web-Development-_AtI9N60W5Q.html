<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Compute performance - Mobile Web Development | Coder Coacher - Coaching Coders</title><meta content="Compute performance - Mobile Web Development - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Compute performance - Mobile Web Development</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_AtI9N60W5Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now the second of our three pillars is
going to be compute performance and to
get a sense of how your application is
actually spending its time during a
given frame you really want to check out
the timeline tab inside of chrome
developer tools how this works is that
you actually load the timeline hit this
beautiful record button down here in the
bottom and then watch magic unfold so
let's take a look at how this plays out
would by a lab disaster if I start the
game it goes up pretty simple now when I
hit the record button down here on the
bottom you can actually see that it's
logging all of the event information
that's occurring while this game is
happening now I'm not doing anything I
want to point that out yet events are
actually being fired so let's take a
look at what's actually going on under
the hood here so if I size this up I can
actually see the number of events inside
of my window and drill down into what's
going on so I have an animation frame
here and if I expand that you can see
that there's actually a request
animation frame that has occurred at
that point now you'll notice down here
on the bottom that there's actually
different type of checkboxes to filter
out what events you're looking at and
each one has a respective color for
example loading is blue scripting is
gold
rendering is purple and painting is
green so if I toggle painting you can
see that those events actually disappear
from the timeline now I did another
quick little capture while you weren't
looking I saw you going to get peanuts
from the bag now if I slide my
visibility window to another part of the
timeline you can see that there's
actually a little block here that seems
to be wider than all the other blocks
around it what this implies is that
there's some scripting occurring between
our windows here that is taking longer
than the other frames now below us we
actually have a list of events that
occurred plus as you remember these
little triangles that allow us to drill
down into the events on here on the side
you can see that we have the same
animation frame fired that we saw
earlier but the new one that we see
showing up is a GC event where 1.4
megabytes of data was actually collected
hovering over it brings up a pop-up
dialog that shows you that this actually
took two point seven milliseconds out of
our frame budget to actually do a
garbage collection event that's why you
can see that this block here is actually
larger than the blocks next to it
because we have an extra 2.7
milliseconds that went to do a garbage
collection event we can actually see
this mirrored by clicking on the memory
option for the timeline
now what this is actually going to show
us is a linear graph of where
allocations are actually occurring and
lo and behold you can see that between
our two divots here when that GC event
occurs the amount of memory allocated in
our application drops down the showing
the garbage collection freed memory now
I want to show you what this looks like
live because it's really interesting to
watch how an application actually
allocates its memory so you can see that
over time this application when I'm
doing nothing on the screen is actually
allocating about one megabyte every
second or so and then you can see the
garbage collector actually kicks in and
frees a lot of that data
this type of sawtooth pattern that
you're seeing along the timeline here is
very common in different web
applications that do a lot of dynamic
allocation of objects now there's an
article out there that I've written on
html5 rocks that details different ways
to address this type of sawtooth pattern
using object pools but we're not going
to go into that right now
let's stay focused on what's in front of
us</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>