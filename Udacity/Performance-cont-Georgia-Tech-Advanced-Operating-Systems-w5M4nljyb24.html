<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Performance (cont) - Georgia Tech - Advanced Operating Systems | Coder Coacher - Coaching Coders</title><meta content="Performance (cont) - Georgia Tech - Advanced Operating Systems - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Performance (cont) - Georgia Tech - Advanced Operating Systems</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/w5M4nljyb24" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now if you look at the memory footprint
of a process and the amount of time it
takes to load all of its working set
into the cache the the bigger the memory
footprint the more time it's going to
take for the processor to get the
working set of a particular thread into
the cache so that the cache is warm
enough and the process of the thread can
do its work without having to have those
hiccups where it has to go to the memory
in order to fetch the contents into the
cache so what this suggests is that it's
important to pay attention to cache
affinity in scheduling and so the
variance of cache affinity scheduling
that we talked about are all excellent
candidates to run on a multiprocessor
and in fact the minimum intervention or
minimum intervening scheduling policy
and the minimum intervening scheduling
with queuing both of those are very good
policies to use when you have a fairly
light to medium load on a multiprocessor
because that is the time when it is
likely that a thread when it is run on a
processor if it has a certain affinity
for that particular processor the
contents of the cache are going to
contain the memory contents for that
particular thread but on the other hand
if we have a very heavy load in the
system then it is likely that by the
time a thread is run on a processor on
which it is supposedly having an
affinity all of the cache may been
polluted because the load is very heavy
so in between the time that a thread got
to run on a particular processor next
time it runs on the same processor maybe
its cache contents have been highly
polluted by other threads and therefore
if the load is very heavy then maybe a
fixed process of scheduling may work out
to be much better than the variants of
minimum intervening scheduling policies
so the moral of the story is that you
really have to pay attention to both how
heavily loaded your processor is or
system is and also what is the kind of
workload that you are catering to both
those things play a part in deciding
what will be the best scheduling policy
and it may not always be the
is that the same scheduling policy
applies in all circumstances so a real
agile operating system may choose to
vary the scheduling policy based on the
load as well as the current set of
threads that need to run on the system
another interesting wrinkle to picking a
scheduling policy is the idea of
procrastination and that is normally we
think of the scheduler when a processor
is looking for work it's going to the
run queue and saying well I need to to
do something and let me pick the next
thread to run on on myself that's what a
processor is going to do perhaps
procrastination may help
why would procrastination help first of
all how do we implement procrastination
but what the process again do is it is
actually ready to do do some work now
what it does is it's gonna insert an
idle loop why would it insert an idle
loop it will insert an idle loop because
it has it's looking in this in the
scheduling queue and it sees that there
is no thread in the scheduling queue
that has run on it before and therefore
if it schedules any one of those threads
though all of those threads are not
gonna find any of their working set in
the cache of the processor and therefore
the processor says ok now let me just
spend my wheels for a while not schedule
anything it is likely that a thread that
has its cache content in that processor
becomes runnable again and then you can
schedule that and that might be a win in
terms of performance so in other words
procrastination may help boost
performance we saw this already in the
synchronization algorithms when we
talked about inserting delays in the
scheduling algorithm in order to reduce
the amount of contention on the
interconnection network that's the same
sort of principle often times you'll see
in system design procrastination
actually helps in boosting performance
it helps in the synchronization
algorithms it helps in scheduling later
on when we talk about file systems
you'll see that it helps in the design
of file systems also</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>