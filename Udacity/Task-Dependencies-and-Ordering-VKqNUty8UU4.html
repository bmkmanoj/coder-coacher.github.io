<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Task Dependencies and Ordering | Coder Coacher - Coaching Coders</title><meta content="Task Dependencies and Ordering - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Task Dependencies and Ordering</b></h2><h5 class="post__date">2016-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VKqNUty8UU4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now that we can declare tasks it's time
to start thinking about the
relationships between tasks for example
in a Java build we can't jar up our
library before compiling our sources we
model these relationships by tax
dependencies and ordering we'll discuss
3 ways to configure the relationships
between tasks depends on finalized by
and must run after task a depends on
task B if task a can't do its work
without task B having done its work to
take a familiar example when you're
getting up in the morning you can't put
on your shoes without putting on your
socks first let's declare and configure
some tasks so here's our tasks that
represent getting ready in the morning
we've got put on socks just prints a
message put on shoes also just print out
that we're putting on our shoes the new
thing is we've got this depends on
function and we just passed the task
name that put on shoes depends on in
this case put on socks so let's give put
on shoes a try and we're running Gradle
in quiet mode so that we don't see all
those diagnostic output we just see the
printed messages there we go when we
tried to put on our shoes Gradle
realized we can't put on our shoes
without putting on our socks so we ran
that first the next type of task
dependency we're going to talk about is
finalized by we say task a is finalized
by task B if everytime task a runs task
B should be run afterwards to continue
our example every time you eat breakfast
you really should brush your teeth
afterwards we have those tasks here
we've got the eat breakfast task and the
brush your teeth task and we note that
eat breakfast is finalized by brush your
teeth so let's see what happens when we
try to tell Gradle to just run the eat
breakfast task looks like Gradle is
keeping us honest and made us brush our
teeth after we ate breakfast the use
case for must run after is slightly less
obvious say we have a long-running
process that's unlikely to fail
deploying some artifact to a continuous
integration server and we also have a
short running task that is likely to
fail like running unit tests those two
tasks don't have any dependency
relationship but if we're running both
we would really like the unit test to be
run before the integration tests to
continue our morning routine example
consider showering and putting on a
fragrance like perfume or cologne
putting on a fragrance doesn't require
showering and showering doesn't require
putting on a fragrance but if we're
going to both take a shower and also put
on a fragrance we should really take the
shower first let's create those tasks
and the relationship between them all
right so we've got our take shower task
and we've got our put on fragrance task
along with the should run after take
shower so now if we go back to Gradle
and we say hey Gradle run put on
fragrance and take shower well let's see
what order they run in looks like they
run in the order that makes sense
first we take a shower and then we put
on the fragrance let's check out a few
other things we can do with tax
dependencies we can depend on multiple
tasks note this is one of those
situations where you do need to use the
equal sign when you're assigning to a
property let's give this one a try
so since get ready depends on taking a
shower eating breakfast and putting on
shoes looks like we eat breakfast and
since breakfast is finalized by brushing
your teeth we do that we're going to put
on our shoes but first we have to put it
on our socks and then we take a shower
whoops something's not right here I
think we need one more ordering
constraint there's no dependency
relationship between taking a shower and
putting on shoes but it certainly looks
like if we're going to both take a
shower and put on shoes we should
probably take the shower first let's
change that up and there we go
we say to put on shoes you must run
after take shower and now if we run this
again looks like we're doing things in a
more sensible order this time one more
advanced thing we can do is look at all
the tasks in a project and decide which
ones we want to depend on let's make a
task called get equipped that depends on
every task that starts with put on so
here's our get equipped task and you'll
see it depends on and then this is
actually a list that was created by
looking at all the other tasks in the
project you'll need to understand how
this works right now the point is just
to show off something that would be
extremely difficult or impossible to do
in other build tools let's give it a try
and we run get equipped looks like we
put on a fragrance we put on our socks
and put on our shoes as always there's
more information to be found about tasks
dependent
seized in the course code check it out</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>