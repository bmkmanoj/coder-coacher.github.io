<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Virtually Indexed Physically Tagged - Georgia Tech - HPCA: Part 4 | Coder Coacher - Coaching Coders</title><meta content="Virtually Indexed Physically Tagged - Georgia Tech - HPCA: Part 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Virtually Indexed Physically Tagged - Georgia Tech - HPCA: Part 4</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/YbE91A7dNAs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so we invented a third type of cash
which is called the virtually indexed in
physically tagged cache which is trying
to combine the advantages of the two
types of cash it works like this we
start with the virtual address we break
it down into the cash offset index and
tag but we don't use the tag we do use
the index bits from the virtual address
to find the set that we want in the
cache we read the valid bits and the
tags here but meanwhile we use the page
number from the virtual address to
access the TLB and get the frame number
so now that we got the physical address
we perform the tag check using the
physical address not the virtual one
this is why this is called a virtually
indexed the index bits come from the
virtual address the tag bits come from
the physical address cache and from here
it proceeds normally we know whether we
have a hit and so on so how does this
help
note that the cache array and the TLB
access are proceeding in parallel so if
the TLB is fast enough and usually it is
because it's small the hit time will be
equal to the cache hit time it's
actually the maximum of the two which is
usually the cache hit time so this is
just like the virtual or virtual index
virtually tagged cache and we like that
we get the speed advantage of the
virtual caches with this type of cache
to do we need to flush on a context
switch well it turns out no because if
we switch the process so that virtual
addresses correspond to different
physical addresses what we find in the
cache will be checked against the actual
physical address so the virtual address
in another process will map maybe to the
same set but once it Maps there the
actual tag is not going to match because
these two have different tags so this is
like the physical cache and is nice but
what about aliasing recall that aliasing
happens because multiple virtual
addresses in the same address space
might
map to the same physical address but
because we do virtual access to the
cache these addresses might end up in
different places in the cache
thus right - one will not be seen by the
other it turns out that there are no
aliasing problems in the virtual index
physical tag cache as long as the cache
is small enough and it has to do with
where are the index bits coming from so
this is very very nice because it
basically gives us the correctness the
no flash on context which of the
physical caches with the hit time of the
virtual caches but let's figure out what
do we need to do in order to not have
aliasing</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>