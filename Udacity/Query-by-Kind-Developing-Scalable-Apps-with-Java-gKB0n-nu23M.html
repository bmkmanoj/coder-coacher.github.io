<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Query by Kind - Developing Scalable Apps with Java | Coder Coacher - Coaching Coders</title><meta content="Query by Kind - Developing Scalable Apps with Java - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Query by Kind - Developing Scalable Apps with Java</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/gKB0n-nu23M" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so now it's time to learn about how to
query for conferences but for our
queries to be useful we actually need to
have some conferences to query over so
go ahead and create a couple conferences
maybe more if you like you can use the
create conference page in your app to do
that or you can use the api's Explorer
whichever you like the create conference
page is a little nicer because it limits
the choices of the topics to valid
topics and it uses this nice date picker
for selecting the start date and the end
date so the only property that's really
required is the name all the other
properties will default to the default
values but for our queries to be useful
you're going to need to set a couple of
these properties so go ahead and create
a conference so you have to be sure to
specify the conference name you can
choose a city you are going to need some
conferences in London I'm going to skip
the description and you are going to
need some conferences in London that are
not about medical innovation so let's
make this one oh this would be health
and nutrition right because it's about
chocolate will pick a start date in june
and date probably should be after the
start date and then we'll create the
conference so go ahead and create some
conferences you're going to need a
conference where the city is London and
the topic doesn't include medical
innovations create another one where the
city is London the topic includes
medical innovations and the start date
is in june and the max attendees is
greater than 10 and you feel free to
create some other ones as well if you
didn't get all that don't worry when you
need these particular conferences I will
remind you to create them if you didn't
already and again we already talked
about this but you're going to need to
use the datastore viewer in the admin
console to review your entities to make
sure your conferences actually got
created and saved now that we've got
some conferences it's time to write the
query conferences function you've
already learned that using objectify to
get an entity by key you use the load
method so here's the code to load the
entity if we know its key call the load
method on avi call the key method
passing the key and then now so it
happens right away this work
if you know the key is the entity that
you want to get but for conferences we
don't know what the key is because we
let App Engine create the key for us
with an auto allocated ID so we actually
don't know what the keys are for the
conference's but actually turns out that
doesn't matter which is going to query
for them so here's how you create a
query to get all entities of a given
kind off reload as we did before but
this time we specify type and then in
our case since what we want to do is get
all entities of a given kind we need to
pass kind class to type so here's the
query to get all entities of the kind
recipe so you see we just specify recipe
class here you can also saw the results
based on a property value so here's how
you would sort the recipe entities
according to their name you just call
the order method and you specify the
property to sort on and we're going to
sort on the name so to actually go ahead
and execute the query you call the list
method so here's what you'll do to add
the functionality to query for all
conferences in the conference API class
you're going to add a method called
query conferences there we are query
conferences you're going to have to
write this one for yourself see here i
define a tapi method to expose the
function as an endpoint and to specify
the name the path and the HTTP method in
this case this needs to be post and for
now it takes no arguments see that no
arguments you're going to fix that later
on but for now it takes no arguments
you're going to add the code to query
for all conferences sorted by name and
then you're going to return the query
list so see here we have the air of a
query so you're going to need to fix
that and you actually need to import the
objectify query and that's in com google
code objectify CMD query so make sure
that you import the query that goes with
objectify not the ones the native data
store so after you've written your query
conferences method you can try it out in
the api's Explorer you go to the api's
explorer on localhost and you see the
services you're probably going to need
to refresh the page here otherwise you
won't see the query conferences method
but here now here we have query
conferences you click on it now if you
recall we didn't provide any input
argument so there's no request body to
fill in so just press execute and let's
see if we've got any conferences yes I
only have one conference called App
Engine for all and here we see it in the
response you can also use the show
conferences page in the UI because this
page also sends a call to query
conferences so this is an example of
what you might see in the show
conferences page got a list of all the
conference's that have been created
there's no point adding filters because
the current implementation of query
conferences doesn't know anything about
filters</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>