<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Overview of PlaySoundsViewController Extension | Coder Coacher - Coaching Coders</title><meta content="Overview of PlaySoundsViewController Extension - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Overview of PlaySoundsViewController Extension</b></h2><h5 class="post__date">2016-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/L3cVdCSxd_Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">let's walk through the play sounds view
controller plus audio class extension to
understand exactly what this code is
doing open the place sounds view
controller plus audio Swift file and
navigate to the top the first thing you
see here is the struct of alert messages
this is just a convenient way to have
the alert messages in a single place if
you have strings or other static items
that you want to use throughout your app
this is a good practice to follow below
that you see the playing state enum
which will be used by the configure your
wife function to set the button states
depending if we're playing or not
playing any audio next up is the set up
audio function which is where we try to
load the audio recording file past in
from the record sounds view controller
if loading the audio file fails we
present an alert message to the user by
the way did you notice these mark
statements here in the comments these
are to make it easier for you to jump
around in your code when you pull down
the function listing in the editor
toolbar you can see these section
headers in bold it makes it easier for
you to jump to the relevant section the
play sound function is the main function
in this extension as the name suggests
it carries out playing back the audio
this function has something you have not
seen before that is optional parameters
see the question mark here after rates
float type it indicates that rate is an
optional parameter and if you don't pass
it in it'll be set to nil the same is
true for pitch the first part of this
function is to grab the av audio engine
and create an AV audio player node next
we check if the rate or the pitch
parameters or passed in since they're
optional the way we do this check may
look a little weird at first as we're
doing a value binding inside an if
statement see the line here if let pitch
equals pitch you really should read it
as if the pitch variable is not nil then
execute the spit statement if pitch is
nil we'll skip over this code likewise
if rate is nil we'll skip over this code
to the concept of value binding is
covered in new ikea fundamentals in the
next lesson next we create an echo and
reverb notes
we will only use them if either the echo
or reverb parameters were passed in and
set to true we can either have an echo
and reverb just echo just reverb or
neither lastly we tell audio player to
stop playing any current audio and
schedule are recorded the audio for
playback this ensures that the recorded
audio is in memory and ready to be
played this part here that looks like
another function is actually a trailing
closure the schedule file function takes
in a completion closure that it runs
when the audio file is ready to start
playing this code here sets a timer to
fire when the audio is done playing that
resets the button to the not playing
state now that everything is set up we
try to start the audio engine and the
audio node playback at this point the
audio would be playing connect audio
notes is just a helper function to
connect a set of audio notes together in
the audio engine as with most helper
functions this just cuts down on the
duplication of code in the play sound
function the stop audio function is in
charge of stopping the audio remember
that timer we set back in the play sound
function we don't want it to fire as
we're stopping the sound here so the
first if statement invalidates or
cancels that timer the next few lines
stop the audio player node and the audio
engine itself next we come to the UI
functions which are really just in
charge of enabling and disabling the six
playback buttons and the stop button
these are helper functions and they help
us by avoiding duplication of code we
just have one place to enable or disable
the buttons depending on if we're
playing or not playing audio you can see
that configure you I itself uses another
helper function to toggle the playback
buttons if you pass and false they all
get disabled and if you pass in true
they will all be enabled last up is the
show alert function which simply
displays an alert to the user using you
i alert controller if something goes
wrong that's it I've taken you through
the black box class extension that
allows all the audio to be played back
which changes to pitch rate with echo
and even reverb remember that there's
harm in playing around with this code
you should feel free to experiment
changing the settings and more</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>