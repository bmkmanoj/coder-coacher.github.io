<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Wear   Compile, install, run on watch | Coder Coacher - Coaching Coders</title><meta content="Android Wear   Compile, install, run on watch - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Wear   Compile, install, run on watch</b></h2><h5 class="post__date">2015-06-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ajb2vvtRjNo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so now we need to build and install the
application remember there are two parts
the phone application and the wearable
application before I mention that the
wearable application needs to be
embedded into the phone application
while this is required for distribution
through google play it's actually
possible to build and deploy them
separately for testing so let's walk
through how to build and deploy our new
application for testing and then we can
discuss the embedding later you'll
notice here there are two Gradle
projects mobile and where we can build
and install each of these separately so
make sure you connect up your phone now
and ensure that the Android debug bridge
is working properly now select the
mobile project and click the green play
button this tells Gradle to run the
assemble debug task which compiles your
code and makes an EPK out of it Android
studio that installs it to your device
or emulator we may need to select the
device to install it too so select that
in this case my Nexus 5 and click OK to
continue after waiting a minute or two
you'll see the phone side of your
application running on the phone this is
exactly the same as what you would have
done previously when you learned Android
programming now to get to the important
part building the wearable side of the
application we now need to get your
wearable paired up over a DB just like
your phone most Android wear devices
will come with a cradle like one of
these that allows you to connect a USB
cable so we make sure we've got those
connected up also you'll need to enable
developer mode and USB debugging so you
need to go to settings about and tap on
the build number 7 times then you go to
developer mode and enable USB debugging
your wearable will ask you if you want
to approve the permission requests once
this is done you're wherever will be
able to use adb if you're a Windows user
I've provided a link in the instructor
notes to some documentation that shows
how to set up a DB free Android wear
devices if you have a wearable device
that does not have a USB cradle you can
also set up a DB over Bluetooth the
instructor notes will have a link that
has more information about what you need
to do that as well now that we have the
wearable device set up with ADB we need
to build the wearable project let's
select the wearable Gradle project and
click the green play button this tells
Gradle to run the assemble debug task
similar as before but this time for the
wearable side instead once it finishes
building Android studio will prompt you
for which device to install the apk to
since there are now two devices
connected by a DB it's very important
that you pick the wearable device if you
pick the wrong one the app will not
execute properly so we select the
wearable and we click OK now you'll see
the wearable activity appear on the
wearable devices so that's how you can
easily test and debug phone and wearable
apps from within Android studio when
you're ready to push the APK to your
users via google play you'll need to do
these steps a little differently you
need to build a release mode APK which
is different than a debug APK because it
is signed with your development keys to
prove you built the APK you can start
this process by using the build menu and
selecting generate signed APK which uses
the Gradle assemble release task
internally and this is how we go start
that process build generate signed APK
and then you can follow through by
selecting the mobile project at this
point now you need to provide all your
key details and then continue through
the rest of the process i'm not going to
go through that process right now though
so let's just hit cancel to get back to
where we were if you go to the mobile
build.gradle file like shown here you
can see there is a property called where
app at the bottom that references the
where Gradle project this task tells
Gradle to embed the wearable apk into
the phone APK you should know that this
only happens in release mode when we did
the testing earlier in debug mode there
is no app embedding so it's important
that you test your final APK in release
mode by installing it to a phone and
checking that it syncs over to the
wearable correctly if you make a mistake
with any of the wearable packaging steps
it will fail to install on the wearable
by the way if you're trying to debug
package installation problems you can
use adb logcat and search for the
process wearable package installer on
the phone and wearable side which will
tell you what the problem is oh and one
more thing I mentioned build.gradle
files but did not go into much detail on
them for many cases you won't need to
edit these very often but if you want to
learn more we have a whole class on
Gradle that teaches you everything you
need to know about dealing with
dependencies and multiple build flavors
for a link check the instructor notes</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>