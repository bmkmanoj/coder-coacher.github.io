<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Ballooning - Georgia Tech - Advanced Operating Systems | Coder Coacher - Coaching Coders</title><meta content="Ballooning - Georgia Tech - Advanced Operating Systems - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Ballooning - Georgia Tech - Advanced Operating Systems</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mxproh2qaU8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">that's the idea behind a technique that
I'm going to describe to you called
ballooning the idea is to have a special
device driver installed in every guest
operating system so even if it is a
fully virtualized setting since device
drivers can be installed on the fly with
the cooperation of the guest operating
system the hypervisor can install the
device driver which is called a balloon
in the operating system and the balloon
device driver is the key for managing
memory pressures that may be experienced
by a virtual machine or a guest
operating system in a virtualized
setting let's say that the house needs
more memory subtly and this may be a
result of another guest operating system
saying that it needs more memory so what
the hypervisor would do is it will
contact one of the guest operating
system that currently is not actively
using all of its memory let's say and
talk to this balloon driver that it is
installed through a private channel that
exists between the hypervisor and the
balloon driver so this is something that
only the hypervisor knows about because
this is a special device driver that the
hypervisor has installed it knows how to
get to this device driver and tell it to
do something and in this case what the
hypervisor is going to do is tell this
balloon device driver to inflate what
that means is that this balloon device
driver is going to make requests to the
guest operating system saying I need
more memory I need more memory I need
more memory and the guest operating
system will of course give this balloon
driver the memory that it is requesting
and since the amount of physical memory
that's available to the guest operating
system is finite if one process in this
case the balloon driver is making
requests from the guest saying give me
more memory guest has to necessarily
make room for that by paging out to the
disk unwanted pages from the total
memory footprint
of all the processes that are currently
running in this guest operating system
and once it has done the swapping out of
pages and perhaps even entire processes
out under the disk that's the way it can
make room for the requests that is
coming from this balloon driver now once
the balloon driver has gotten all this
extra memory out of this guest operating
system it can return those physical
memories the real physical memory or the
machine memory back to the hypervisor so
we started with this house needing more
machine memory and the way the house got
that more machine memory is by
contacting its balloon driver installed
in one of the guest operating systems
that is not actively using all of its
resources asking the balloon to inflate
and inflating the balloon is essentially
meaning that we are acquiring more
memory from the guest operating system
so you can see visually that the
footprint of the balloon goes up because
the inflation that means it's got a
bigger memory footprint and all of this
memory footprint is extra resources that
it can simply return to the hypervisor
to actually use it it just wants to get
it so that it can return it to the
hypervisor so that's this path here so
the opposite of what I just described is
the situation where the house needs less
memory or in other words it has more
memory to give away to a guest operating
system so maybe it is this guest that
requested more memory in the first place
and in that case it wants this guest to
get the memory that it wanted and the
way it can do that is as follows
once again the hypervisor through its
private channel will contact the balloon
driver and tell the balloon driver to
deflate the balloon by deflate what is
being instructed to the balloon driver
is to contract its memory footprint so
if it contracts its memory footprint by
deflating
it is actually releasing memory into the
guest operating system so the available
physical memory in the guest operating
system is going to increase because of
the fact that the balloon is deflating
and giving out the memory that it is
currently sitting on so now the guest
operating system has more memory to play
with that's the effect of the balloon
deflating is that the guest operating
system has more memory which means that
it can page in from the disk the working
set for processes that are executing on
this guest operating system
so that those processes can have more
memory resources than they've been able
to because of the balloon occupying a
lot of the memory so this technique of
ballooning assumes cooperation with the
guest operating system so that based on
the need of the hour the hypervisor can
work with the guest operating system
implicitly without the guest really
knowing about it because it is all
happening through this balloon driver
that has been installed by the
hypervisor in each of the guest
operating system and this technique of
ballooning is applicable to both fully
virtualized and para virtualized
environments to ease the over-commitment
of memory by the hypervisor to the
guests I mean it's sort of like airline
reservation you always notice that inner
line reservation the airline's tend to
sell more seats than what they have but
the hope that someone is not going to
show up that's the same sort of thing
that is being done here that there is a
finite amount of physical resources
available with the hypervisor and it is
doling it out to all the guest operating
systems and what it wants to do is it
wants to be able to reacquire some of
those resources to satisfy the needs of
another guest operating system that is
experiencing a memory pressure at any
point of time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>