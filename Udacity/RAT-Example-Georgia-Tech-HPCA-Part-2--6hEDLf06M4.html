<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>RAT Example - Georgia Tech - HPCA: Part 2 | Coder Coacher - Coaching Coders</title><meta content="RAT Example - Georgia Tech - HPCA: Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>RAT Example - Georgia Tech - HPCA: Part 2</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-6hEDLf06M4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so this is what a rat looks like
it's a table where for each
architectural register for example for
r0 it will say where do we keep our zero
currently then for our one there is
another entry and so on so so this table
really just stores where things are this
is just for our convenience you know we
kind of numbered the entries but
basically doesn't need to store this
zero here it's simply that the entry
number 0 is for R 0 the entry number 1
is for R 1 etc so now we will have some
instructions let's first look at this
first instruction so let's say the
processor is fetching this instruction
what it does is for all the registers
that this instruction needs to read it
looks in the rat where those register
can currently be found let's say that
for R 2 this is just saying P 2 for now
so this is physical register 2 which
corresponds to R 2 initially and let's
say that it's P 3 here in fact let's say
that all of them are just like this so
what the processor does is it renames
this instruction so it fetches it
decodes it and then rewrites it so that
the actual operation that will be done
is gonna be on physical registers P 2
and P 3 and now the question is where
are we gonna put our result well we're
gonna put our result in a new place for
R 1 so not in P 1 so we will change the
rat to put the result in sum P 17 or
whatever okay so now we're gonna say
that this is out goes to P 17 and then
we are gonna use P 2 and P 3 for the
inputs let's say that the next
instruction is subtract R 1 and R 5 and
put the result in R for what the
processor again will do is it always
follows the same procedure look at the
rat for R 1 and R 5 to see where those
values currently are and then renamed on
so we're gonna look at r1 and it says P
17 so this subtract is renamed into read
P 17 and P 5 and put the result into a
new place for our 4 so we're gonna
change the rat from now on to put the
result in let's say P 18 ok so
three more instructions and now we can
rename them too so this XOR will be
renamed into an XOR of r7 and r8 where
are they well let's say they're in p7 in
p8 and then we're going to write to our
six we are not gonna write to p5 that's
where the previous value of r6 is we're
gonna write it to a new register P 19
then we're going to take this multiply
and remember you need to update the
right every time you produce a new value
because that's where subsequent
instructions will find the value for
that
register so we're gonna again r8 and r9
still not change so they're gonna be p8
and p9 the new value for our five is
gonna go to P 20 and then we have this
add r8 and r9 are still in p8 and p9 the
new value of our four is now gonna be
p21 now this is an already renamed value
so we're gonna rename it again and say
p21 later on if there is an instruction
that uses our for so something-something
r4 it's gonna be renamed into whatever
p21 so the trick here is that we have
seen that this instruction writes to r4
and this one also writes to r4 so there
is a register name dependence between
these two because they're both trying to
write to r4 but when we rename them this
way the dependence is gone because this
is producing P 18 this is producing p21
instructions among these that need to
write the value so basically if
something here was reading our four it
would get the value P 18 instead because
it's been it would be renamed to read P
18 anything that follows this
instruction that wants to read r4 would
be renamed so that it reads the p21 so
simply the use of r4 as the name for the
value produced by this instruction and
also for the value that produced by this
instruction is what was causing for
example the write after write dependence
we eliminate the dependence because here
the name will be different this value is
going to be named P 18 this one will be
p2 anyone there is no more dependence</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>