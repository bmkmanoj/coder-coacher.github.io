<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Extracting Entities - Data Wranging with MongoDB | Coder Coacher - Coaching Coders</title><meta content="Extracting Entities - Data Wranging with MongoDB - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Extracting Entities - Data Wranging with MongoDB</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/aJD8WJa3-9A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so let's get started on actually
solving this problem again remember that
the first step in our procedure is to
extract the complete list of carriers
and the complete list of airports from
one example page so what I've done here
is downloaded this page and I'm simply
going to parse this page in order to
pull out both these lists so let's take
a look at some code now what I like to
use for parsing HTML is beautiful soup
in particular we're using beautiful soup
before you can download an install
beautiful soup on your own machine using
any one of a number of different package
managers I like to use pip if you don't
already have beautiful soup installed
just Google for installation
instructions now what beautiful soup
gives us the ability to do is parse the
document tree the HTML document tree in
this case and it's similar to element
tree for parsing XML okay so let me walk
you how this code works so what I've
done is I've set this up so that it's
the options function that does the bulk
of the work
I'm calling options and note that what
I'm calling it with is this soup value
and soup is what I get in response to
having called beautiful soup on the
local file that is a saved copy of this
one in addition I'm passing this string
carrier list now what beautiful soup
passed me back was the top-level element
for this particular HTML document and
then what I can do is I can use the find
method here in the meaning of this is
finally the first descendent element in
this document tree where the ID
attribute for the element is carrier
list okay so let's go look at the HTML
and see why we wrote it that way okay
again I can get to the HTML by using the
inspect element feature of Google Chrome
okay so here's the carrier list and note
that the ID attribute for this
particular element here is carrier list
okay so carrier list then will have the
HTML element that we just looked at as
its value then what I'm going to do is
call find all on carrier list find all
does something very similar to what fine
does it finds descendants that are
option tags or option elements now
unlike find find all will actually find
all of the
instead of just the first one okay so
here what's going to happen is I'll just
iterate through them then and I'm gonna
just build up a list of all of the
values now what I'm actually doing here
is finding each one of these in turn and
I'm pulling out the value of their value
attribute because it's this value that I
need to pass in any subsequent HTTP
requests for data having to do with say
Air Tran or Alaska Airlines so that's
how we get the carrier data we need I
use a very similar process in fact it's
an identical process for getting the
full list of airports</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>