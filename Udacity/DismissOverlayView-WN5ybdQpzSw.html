<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>DismissOverlayView | Coder Coacher - Coaching Coders</title><meta content="DismissOverlayView - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>DismissOverlayView</b></h2><h5 class="post__date">2016-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WN5ybdQpzSw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">if you've got an app that controls your
whole screen typically we let the user
swipe the screen away but some apps like
the emoji drawing tool require the app
to draw all over the screen and you
don't want the app disappearing when
you're interacting with it so you can
disable the swiping action but then the
problem is is if an app has got the
screen locked and the swype is disabled
then how do you get rid of it so for
that we have a press to dismiss action
let's start up a sample to see how all
this works let's go to file import
sample and we're looking for watch
viewstub so create that with the
defaults now that it's ready let's run
it on the wearable you can press and
hold your finger on the screen and this
X pops up and then you tap the X and the
app goes away so that's a dismiss
overlay view and it was included in the
sample already it's very easy to use
let's look at the code for it in the
sample if we go to the wearable raz
layout main activity you'll see we have
the dismiss overlay view defined here
it's also invisible by default you can
see here we grabbed a reference to the
dismiss overlay view here is where we
create a gesture detector and here is
where we dispatched at such events to
the gesture detector so that the dismiss
overlay ver you can receive them one
limitation of the sample is it does not
prevent swipe actions if you try it out
the app will disappear so how do we go
about preventing that the solution is to
override the default theme to do this so
let's go back to the project view and go
to source raz values and then right
click and create a new themes dot XML
file we create our own custom theme like
this this says to inherit from the
device default theme and to implement an
attribute window swipe to dismiss and
set it to false now we need to activate
the theme in the androidmanifest.xml
with the theme activated now we can run
the sample again you'll see that now you
cannot swipe the app away but you can
exit it using a dismiss over low view</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>