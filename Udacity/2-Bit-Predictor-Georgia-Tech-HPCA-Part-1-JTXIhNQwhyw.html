<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>2 Bit Predictor - Georgia Tech - HPCA: Part 1 | Coder Coacher - Coaching Coders</title><meta content="2 Bit Predictor - Georgia Tech - HPCA: Part 1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>2 Bit Predictor - Georgia Tech - HPCA: Part 1</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/JTXIhNQwhyw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the predictor that fixes the two
mispredictions paranormally behavior of
the one bit predictor is called a two
bit predictor often we write that as two
B P or even a two B C which stands for a
two bit counter we will see that this
predictor behaves like a two bit counter
the two bit predictor has possible
values 0 0 0 1 1 0 and 1 1 the way it
works is that the more significant bit
of the predictor tells us what the
prediction should be so this is what we
will call the prediction bit the more
significant bit of this predictor this
prediction bit really functions
similarly to how the one bit predictor
functions this lower bit here is called
the hysteresis or conviction bit this
bit tells us how sure are we that we
should be predicting what the prediction
bit is saying usually the state 0 0 is
treated as a strong not taken state this
means that we will be predicting not
taken and we are fairly convinced that
not taken is the dominant behavior of
this branch the 0 1 state will be the
weak not taken prediction state we are
still going to predict not-taken but
this time we are less sure that that's
the dominant behavior similarly here for
the predict taken States we have week
taken and the strong taken state so how
does this predictor work the one bit
predictor only had the not taken and the
taken state if our state is 0 we will
predict not-taken if we indeed see the
not taken decision later we stay in this
state
next time we'll predict not-taken 2 if
however we are predicting not taken but
the decision turns out to be taken we
change our mind and move to the taken
state in the taken state we stay there
if the branch is indeed taken but if we
predict taken and see that the branch is
not-taken
we go back to the not taken state and
start predicting that so pretty much one
outcome change
our mind completely about what to do
with the branch and that has resulted in
two mispredictions per anomaly let's say
that the dominant behavior is not taken
the first time the branch is seen to be
taken we move here and then the branch
moves back to the dominant behavior we
will predict taken and mispredict again
before we move here with the two bit
predictor we have four states 0 0 0 1 1
0 and 1 1 now this is our strong not
taken state and of course if we see a
not taken decision we stay there we were
convinced that the branch will be not
taken and the outcome really confirms
that if we see a single taken decision
from the strong not taken state we move
to the weak not taken so now we are
predicting that the branch is still not
taken but we are less convinced about
that in the case when the non taken
behavior is the dominant one this would
be the anomaly and we would move back to
the strong not taken state once we see
that the branch is not-taken
so the idea is that unlike here where
the anomaly itself will result in a
misprediction and then we would predict
differently so the dominant behavior
would be again mispredicted for once
here this taken while in the strong no
taken state will be a misprediction but
then we will predict not-taken is just a
weak prediction so we will be right for
this not taking outcome so if the branch
really is mostly not taken we only have
a misprediction when the anomaly happens
not also when the dominant behavior
happens after the anomaly similarly if
we are in the strong taken state we
believe now that the taken behavior is
the dominant one a single not taken will
result in a misprediction but moves to a
weak taken state so that if we see a
taken outcome again we don't miss
predict and we move back to the strong
taking state of course we stay in the
strong taking state as long as we are
seeing the taking outcome so the idea is
that if not taken is a dominant behavior
we expect the predictor to stay in these
two states if taken is the dominant
respect the predictor to stay in these
two states either way it's predicting so
that only the anomaly gets mispredicted
but not the dominant behavior that
follows the anomaly however we can have
a branch that for example tends to be
not taken for a while and then changes
its mind about it and starts being taken
for a while thus if we are in the weak
taken state and we see another taking
outcome we will go to one of the taken
states and similarly if we are in the
weak taken state and we see another not
taken we will move to the one of the not
taken States so the idea is that if we
see a branch it is mostly not taken
periodical it may be taken and then
against a is not taken we stay in these
two states and keep predicting not taken
but if the branch starts being taken
very often from now on it will take one
to mispredictions before we are in the
taking States and start predicting taken
again so somehow a single anomaly will
cost us one misprediction a switch in
behavior will cause us to miss
predictions so why we call this a two
bit counter is because if you look at
what this is doing is it's a counter
that counts up when the branch is taken
and saturates at three and counts down
when it's not taken and saturates at
zero so really it's a two bit counter
that just counts up when the branch is
taken and counts down as the branch is
not-taken
this also means that this is a
relatively easy behavior to implement
basically it's very easy to implement
this type of predictor</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>