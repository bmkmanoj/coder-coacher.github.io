<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>TD(1) Example p2 | Coder Coacher - Coaching Coders</title><meta content="TD(1) Example p2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>TD(1) Example p2</b></h2><h5 class="post__date">2016-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/vp-9CpNa5Ik" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the next step takes us from s3 to SF and
we get reward r3 when that happens the
first thing that happens is we update
the eligibility for that state then we
compute this quantity that we're going
to add to all the state updates this
gives us our three plus gamma times the
previous value of the state that we just
ended up in minus the state that we came
from and this update is going to get
applied to all the states proportional
to their eligibility so we can do that
that same thing again just add this
quantity in to all these things and
simplify that sound okay it does sound
okay and I think I finally see where
this is going so if you look at the
pseudocode right you say for all su and
you update the value of the state if you
look at the stuff that's you know
multiplied by your by alpha sub t all
that is basically is your error right
there right that's why this isn't TV
learning uh-huh right so it's the it's
what you thought it was the difference
in what you thought it was and what it
turned out to be when you actually saw
the reward if you assume that your
future guesses about the values are
right exactly so because of that cute
little compactify telescoping thing that
you just did I think without actually
writing everything out I can guess what
the next values are going to look like
so tell me if I'm right so the Delta for
VT of s1 is basically going to have seen
one more thing so it'll end up being R 1
plus gamma R 2 plus gamma squared R 3
and where does that come from that well
that comes from the term that you just
added over there r3 and the eligibility
for Steve S one right which you get
you've managed to make the 2 gamma
squared so the eligibility isn't just
whether you've seen a state before it's
actually keeping track of how long ago
you saw that state good right and so if
there was another state after SF and we
kept going we'd see get that would
become gamma cubed and s 2 would become
gamma squared and s 3 become gamma and
so on and so forth that's that's quite
that's quite clever ok so you would see
R 1 plus gamma R 2
gamma squared r3 plus gamma cubed of VT
minus 1 of s4 well there's no s4 it's to
the final state I'm sorry SF thank you
thank you very much of SF minus VT minus
1 of s1 so that states and all that is
the error it's what your guess was of
the value and what you actually ended up
seeing which was all the rewards that
you saw plus whatever future value
there's gonna be good all right well so
that might let me we may have done a
little bit too much jumping so let's can
I can I fill that in with the way that
you just described it ok so some
frustrating amount of algebra and
rewriting later it seems to have fallen
into this pattern and this is this is
what you're talking about right Charles
yeah so we have these sort of temporal
difference he things so so we can now
state a claim which which just follows
very clearly from the example and that
is that this update this td1 update that
we just talked about actually does the
same thing as the outcome-based update
which is to say we wait to see what all
the rewards the discounted rewards are
on the entire trajectory and then we
just update our prediction for the state
that they started from with those
rewards keep in mind that these things
are zero right the the SF VT minus 1 of
SF is zero so this kind of goes away and
this kind of goes away and this kind of
goes away and we're really just talking
about the discounted summer of rewards -
the old prediction the discounted sum of
rewards - the old prediction the
discounted summer of rewards - the old
prediction so at least in the case where
there's no repeated state so we visit a
state more than one so longer trajectory
everything beautifully cancels and and
what you get is exactly the same update
the td1 update is exactly the same
update as just waiting for the outcomes
and updating based on that that's that's
actually really impressive</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>