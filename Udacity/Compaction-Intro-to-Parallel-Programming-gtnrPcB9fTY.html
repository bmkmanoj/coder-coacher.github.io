<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Compaction - Intro to Parallel Programming | Coder Coacher - Coaching Coders</title><meta content="Compaction - Intro to Parallel Programming - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Compaction - Intro to Parallel Programming</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/gtnrPcB9fTY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so the stratton taxonomy is sixth
optimization technique is called
compaction and John has described
compaction a couple of times he
described it in unit 4 and revisited it
in unit 6 where it comes up in a sparse
matrix vector multiply and in graph
traversal so I'm not going to go to
great lengths describing what compaction
is but just as a quick review compaction
is useful when you have a computation to
perform on a set of elements but the
exact elements that require computation
are not known in advance if most of the
elements require computation then its
simplest just to assign threads to every
element and just have every thread check
to see whether they should process or
not the threads that are active will do
whatever they're supposed to do the
threads that will not will simply return
in that case you'll end up storing
something valid some valid output in
most cells and the cells in the output
or the the elements in the output where
the thread wasn't active because it
didn't need to be processed you'll end
up just leaving blank now if relatively
few of the elements require computation
then you're wasting a lot of storage on
the output and you're doing less
efficient computation because a lot of
your threads are sitting idle instead of
doing some sort of useful work
compacting the elements means creating a
dense array containing only active
elements so that then you can do your
processing on this dense array producing
a dense output array directly you're not
wasting storage on all these invalid
null output elements and you're not
wasting computation on all these threads
that are just sitting around not doing
anything while the other threads in
their thread block are the relatively
few threads in the thread block that
have active elements have have anything
useful to do so as it quiz suppose that
only every eight element will be
processed so here I've drawn the
elements that will be processed and all
the ones that I've left blank will not
be processed and the idea is that every
eighth element is requires processing
and assume that we're compute limited in
other words that whatever operation is
we're going to do on these every eight
elements is expensive and that's the
limiting factor rather than the memory
bandwidth to fetch elements so assume
we're limited by computation on that
memory bandwidth so the question is
about how much less time will the
computation teh
if a thread is launched to run on every
element of the compacted array rather
than if a threat is launched to run for
every element of the original array in
other words how much faster is it going
to be to run on the compacted array will
it be 8x faster will it be 4x faster
will it be the same speed 1x faster and
then I want to ask what if only every 30
second element will be processed and
what if only 128 element must be
processed so for the answer I'm looking
for an integer like 4 or 8 or 16 or 32
or one then your Intel and you're
telling me whether it's four times
faster eight times faster one times
faster and so on</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>