<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MSYNC Quiz Solution - Georgia Tech - HPCA: Part 6 | Coder Coacher - Coaching Coders</title><meta content="MSYNC Quiz Solution - Georgia Tech - HPCA: Part 6 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>MSYNC Quiz Solution - Georgia Tech - HPCA: Part 6</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ej3lynHxSWE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so let's look at the solution of our M
sink quiz this processor allows all
possible reordering however it only
allows reordering of accesses to
different locations because cache
coherence and correct uniprocessor
behavior ensures that axis is to the
same variable are still done in correct
order so we don't have to worry about
the LL and SC and the store being
reordered with respect to each other
they're still going to behave exactly as
if they were in program order however
the variable and the lock are different
memory locations so they can be
arbitrarily reordered here so what can
happen is that this load of a variable
could be moved all the way up before we
even try to acquire the lock so now we
are loading potentially well somebody is
still in their critical section so what
we need is in am singh here to ensure
that we first get the lock and only then
try to actually do it work in the
critical section so that our work
doesn't escape the critical section now
another problem is that stores in this
processor can be reordered so we can
easily release the lock and then update
the variable which again we need to
prevent so we need to prevent that type
of reordering we don't have to put an
ending here because the load of the
variable and the store will happen in
order cuz there to the same memory
location and we don't have to put
anything here or anywhere in between
because the all of these accesses to the
lock are going to be in program order
anyway in general a lock function is
considered to be an acquired type of
synchronization and then we put an N
Sync after it and unlock is considered
to be a release type of synchronization
and we put an amzing before it so the
idea is that you first acquire access to
something then um sink then you actually
access it to make sure that you access
it after you acquire it and then when
you want to release you first do what
you want then am sink then release to
make sure that the release
actually happens after the work is done
with flag synchronization we have seen
that waiting for a flag is an acquire
and that releasing the flag is really a
release and then a barrier is a weird
case where we have both an acquire and
the release in the same operation so we
need an M sync both before and after the
barrier to ensure that the work gets
done before we enter the barrier and
that nobody leaves until we are done
with the barrier</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>