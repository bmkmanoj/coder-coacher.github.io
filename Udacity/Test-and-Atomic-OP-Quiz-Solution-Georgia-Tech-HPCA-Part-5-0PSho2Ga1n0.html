<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Test and Atomic OP Quiz Solution - Georgia Tech - HPCA: Part 5 | Coder Coacher - Coaching Coders</title><meta content="Test and Atomic OP Quiz Solution - Georgia Tech - HPCA: Part 5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Test and Atomic OP Quiz Solution - Georgia Tech - HPCA: Part 5</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0PSho2Ga1n0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">let's look at the solution for our test
and atomic pop quiz using load link
store conditional instructions so we
said that the first two instructions of
the new testing atomic approach are the
same put one in our one and then load
from l'acqua to our to the idea of tests
and atomic hope is not to try the right
until we see that the lock is free so
before trying the store we should check
whether the lock is free that is done by
using the B instruction here so the
correct answer should have been just be
here and I'm going to write it out to
show you how it works so there is that
if we load a busy value meaning a value
of one then r 2 is not equal to 0 and
we're just going to repeat this so as
long as the lock is busy we just keep
doing the load link the load link
without the corresponding store
conditional behaves just like a normal
load yes it's setting the link register
every time but we are not checking it so
it's just the same as if we didn't but
things get more interesting once we
actually see an available value of the
lock then we try to do a store
conditional so now we should use the
instruction so we have seen that the
lock is free now we try to get it and
after this we need to check using
instruction see whether we actually got
it so if r1 is equal to 0 that means
that our store conditional didn't
succeed we go back to trying to acquire
the lock again so we have seen that the
lock is free but between our load link
and our store conditional somebody else
managed to write to the lock so we need
to retry the whole thing so after out
load link we check whether the lock was
free if so we try the store conditional
if we succeed then we got the lock so
the waiting for the lock to become free
is done using the same load link that
will be part of our atomic operation
once we add the store conditional when
we see that the lock is free</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>