<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Daily portfolio values | Coder Coacher - Coaching Coders</title><meta content="Daily portfolio values - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Daily portfolio values</b></h2><h5 class="post__date">2016-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UweF-2-Tr9Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we want to be able to calculate the
total value of a portfolio day by day by
day once we have that information then
we can compute statistics on the overall
portfolio so let's start with an example
assume we start with a portfolio value
of $1,000,000 and we're going to take a
look at that portfolio from the
beginning of 2009 to the end of 2011 and
our portfolio consists of these three
symbols S&amp;amp;P 500 X on Google and gold and
at the beginning so at the beginning of
2009 we're gonna allocate 0.4 or 40% of
our portfolio to s py 40% to Exxon 10%
to Google and 10% to gold and we'll
enter those positions at the beginning
and hold them and step forward and see
what the overall value of the portfolio
is day by day how do we calculate the
total value of the portfolio day by day
here's how to do it step by step we
start with our prices data frame
remember the four columns with prices
every day indexed by date the first step
is to normalize these prices as we've
done before it's just the price value is
divided by the first row so after we
normalize we have a new data frame
normed which is as we said all of the
prices divided by the first row so
that's going to give us now this new
data frame where the first row is all
1.0 and then it proceeds after that and
these are essentially cumulative returns
starting from the start date the next
step is to multiply these normed values
by the allocations to each of the
equities so we just multiply normed
times our allocations Alex and that
gives us a new data frame a locked now
as you remember our allocations were 0.4
0.4 0.1 0.1 so when we do that
multiplication the first row is going to
represent those numbers and the data
after the first row
we'll be sized accordingly our next step
is to multiply our Alec data frame times
start Val and that what that'll give us
is in this first row the amount of cash
allocated to each asset and then going
forward it'll show us the value of that
asset over time so we've got now a new
data frame pause Val's what that means
is position values that at each day
that's how much that position is worth
so we started out for instance with
400,000 for the first one 400,000 for
the second one hundred thousand hundred
thousand but now as we go forward each
day it's as if we invested say a hundred
thousand and this one and it reflects
how much it was worth each day after
that now that we have the value each day
for the individual assets we can
calculate the total value for the
portfolio each day by summing across
each day so on the first day for
instance the value of the portfolio is
four hundred thousand plus four hundred
thousand plus 100 plus one hundred
thousand or 1 million now those values
change of course has the stock prices
change going forward so each day is a
little bit different we can calculate
the value for each of these days by
taking the sum of pause balls position
Val's using axis equals one so that's
telling Python to sum across each row
like that so that sums each day across
into port Val which now reflects the
value each day for our total portfolio
let's recap now we start with our prices
we normalize that to the first day so
the first row here is all ones we
multiplied times our allocations and
that gives us now in each column the
relative value of each of those assets
over time we multiplied by our initial
investment and that causes now each row
to be the real value of that investment
each day over time starting with our
initial allocations if we then sum
each row we get the value of the
portfolio on each corresponding day and
that's it that's how you calculate daily
portfolio value</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>