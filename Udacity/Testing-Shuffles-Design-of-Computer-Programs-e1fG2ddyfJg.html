<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Testing Shuffles - Design of Computer Programs | Coder Coacher - Coaching Coders</title><meta content="Testing Shuffles - Design of Computer Programs - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Testing Shuffles - Design of Computer Programs</b></h2><h5 class="post__date">2012-06-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/e1fG2ddyfJg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now i'm going to show you this program
test shuffler that produces the output
you just saw to see if a shuffle program
is correct if it comes up with a
balanced set of results so what am I
going to do first I'm going to keep
track of the counts of every result that
comes back from the shuffler so I'm
going to start counts off as a default
dictionary that means that its default
value is the default value of integer
which is zero like so the counts all
start at zero and then I go from range n
so n times and by default we're going to
go 10,000 shuffles we're going to make a
list out of the deck that we get passed
in the deck is just a string of
characters that's the simplest thing to
show then we're going to shuffle the
input and then count the result the
results here is a list of items we're
going to join the list of items together
back into a single string to make them
smaller and easy to deal with and then
we just increment that count so ABCD
comes in we make a list make the list
ABCD we shuffle that maybe we get bc-ad
and then we increment the count for that
result now we calculate the expected
count what we expect to get and that's 1
over the factorial of the number of
items in the deck because all n
factorial where n is the length of the
deck items are equally probable and so
the expected count should be n times
that and then we say that the result is
ok if the counts for each item the ratio
of the counts to the expected value
should be about 1 and we're going to say
if it's within point 9 and 1.1 of what
we expect then that's ok if any item
doesn't have that then it's not ok now
what what we passed in AZ shuffler is a
function and functions have a name
attribute so we're pulling out the name
of the shuffler and then we're just
printing out the name of the shuffler
the deck we're shuffling and whether
it's okay or not and then we print out
the individual probabilities for each of
the possible results and then I'm in
another function test shufflers which
takes a list of shufflers and a list of
possible decks and applies the test to
the cross product
for every scheffler we test every deck
and we print the result now we saw that
the function shuffle one was not a good
function so I'm trying to fix it up and
I have two attempts here called shuffle
to and shuffle 3 and we can see what's
going on here in shuffle too it's almost
the same as shuffle one except when I
pick out to random indices to swap I'm
only saying that swapped of I is true
and I'm not saying that swapped of jay
is true otherwise it's the same and in
shuffle three I go through the deck
rather than have a while loop I just go
through the deck for each of the indices
and swap that index with something in
the random range of n so in other words
we swap each of the elements in the deck
with any one of the other elements</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>