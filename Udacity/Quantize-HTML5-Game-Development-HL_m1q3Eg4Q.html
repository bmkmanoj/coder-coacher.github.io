<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Quantize - HTML5 Game Development | Coder Coacher - Coaching Coders</title><meta content="Quantize - HTML5 Game Development - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Quantize - HTML5 Game Development</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HL_m1q3Eg4Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now as you can see keyboard input only
allows firing in the cardinal and
ordinal directions from where the player
is ie the red and black arrows here with
this players using mice as an input
would get an unfair advantage as you can
see where the cursor is here a mouse
player would be able to shoot in a
direction and at an angle that keyboard
players wouldn't be able to use in order
to level the playing field what we do in
grits is eliminate that advantage by
snapping the firing vector to one of the
eight directions that keyboard controls
allow so if you click where the cursor
is now it would go along the right up
vector each of the shaded regions
corresponds to only one firing vector we
started out the unit talking about how
important it was to make sure that every
player had a fair experience but an
issue is that mouse players with the
current code can actually fire in more
directions than keyboard players so what
we need to do is take the actual mouse
input and snap it to one of the eight
directions that the keyboards actually
have access to in order to do this we do
a little bit more trigonometry now in
order to snap the arbitrary directional
vector that we're getting from mouse
input to one of our eight directional
values that a keyboard player can use we
are going to utilize a lookup table this
lookup table is already populated to
contain the eight directional vectors
unitized that keyboard players have
access to now the magic sauce here is
taking this arbitrary directional vector
and turning it into a lookup index that
we can then query against the lookup
table for us we have a magical pixie of
a function called get quantized angle
index now i'll spare you most of the
math it's inside of this function
because really our intent is not to
teach you trigonometry the overview is
this we use the atan2 function to find
the angle between the input directional
vector and the x+ vector this gives us
an angle between the two and radians we
then use some nice fun little tricky
math here to scale that angle value into
an integer between 0 and 7 that 0 and 7
value is passed back and used as an
index inside of our lookup table the
result gives us a directional vector
that matches exactly what keyboard
players can use</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>