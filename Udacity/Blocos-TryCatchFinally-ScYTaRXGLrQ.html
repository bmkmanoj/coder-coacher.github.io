<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Blocos Try/Catch/Finally | Coder Coacher - Coaching Coders</title><meta content="Blocos Try/Catch/Finally - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Blocos Try/Catch/Finally</b></h2><h5 class="post__date">2016-08-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ScYTaRXGLrQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">yeah so when an error occurs and an
exception is thrown it's our job as
developers to handle it by providing a
back-up plan we catch the exception and
fall back to some reasonable default
behavior otherwise the app may crash in
other words some application crashes are
simply the result of uncaught exceptions
yeah you know so in order to do this
we're going to have to learn about
something called the try-catch finally
blocking Java try means you try to
execute a group of statements that
includes calling a method that can
potentially throw an exception I'm an
exception is thrown you catch it if no
one catches the exception well your
Apple crash okay Joe I'm fine then
regardless of whether an exception was
thrown or not we can finish by executing
code in the finally block so the full
flow is try to do something that may
throw an exception catch the exception
of its throne and finally execute some
code regardless of whether or not that
exception Kurt we should show them some
code for this yeah for sure let's do it
in the tsunami app there are multiple
examples of try catch blocks let's look
at one in the create URL method the goal
of this method is to return a URL object
for the provided input string URL
ideally we would just call the URL
constructor and pass in the string URL
but via this red squiggly line Android
studio is notifying us of an error
situation that it's detected that is it
says that we have an unhandled exception
of type malformed URL exception this
means that the URL constructor throws a
malformed URL exception and we need to
catch and handle there otherwise our app
won't build and we can't run it on our
device for any constructor or method
call you can check if it will throw an
exception by checking the documentation
for example if we visit the URL
reference documentation we can see that
the URL constructor that accepts a
string as input throws a malformed URL
exception if the input parameter can't
be converted into a URL that is it is a
malformed URL to fix our code we can use
the shortcut alt enter for quick fix we
can select the option surround with try
cat
an Android studio will automatically
update the code pretty neat right now we
have the keyword try followed by an
opening curly brace inside the try block
we put all of our code in here that
could throw an exception now in general
it's good practice to keep code inside
this block lean you don't want full
method bodies here then we close the
block with a curly brace next we have
the keyword catch followed by a set of
parentheses containing the exact data
type of the exception we're catching in
this case malformed URL exception and a
variable name for the exception object e
then we have an opening brace where
we'll handle the exception e dot
printstacktrace will print the air stack
in detailed format another option is to
log areas using androids log methods and
include our own log tag and our own
custom message the log e method can take
an exception as its third argument to
recap if all went well in the URL
constructor then no exception is thrown
and nothing in the catch block ever runs
but if the code within the try block
throws an exception then we immediately
jump to the catch block with the
exception and execute the code there
then we exit the try-catch statement and
continue executing the code line by line
after that notice that the URL variable
is initialized before the try catch
block we have to consider variable scope
here if we defy the URL variable inside
the try block we won't be able to access
the URL variable after the statement is
done so since we want to reference the
euro variable at the end of the method
outside of the try-catch statement we
need to initialize the URL variable
outside of it as well in this case we
can just set it to know which means an
empty value ok so now we've seen how
Android studio will notify you if you
need to wrap your code in a try-catch
statement if you want more information
you can check out the official java
documentation this next example is a
little bit more complex it shows that
you can have as many lines of code in
the try block as you want if any line of
that code throws an exception then we
stop executing the statements in the try
block and jump directly to the catch
block as you can see here you can and
should have multiple catch blocks to
handle different types of errors
if necessary here the code catches an
index out of bounds in and prints a
system log message the code also catches
an IO exception and prints a different
log message now depending on what
exception gets thrown we will fall into
one of these catch blocks but not both
okay so you can see how there is no
guarantee that we'll finish executing
all the code in the try block sometimes
you have clean up that needs to be done
even if there was an exception throat so
the finally block will always be
executed regardless of whether or not
exception was thrown before we wrap up
this discussion I want to point out one
final method of dealing with a checked
exception now as you can see here by
modifying the create URL methods method
signature you do have the option to
defer the exception handling up the call
chain by declaring that your method may
throw the exception which in turn
requires that the calling method handle
it this is common if the exception is
thrown from inside a helper method and
you want to handle it in a try catch
somewhere else for example whoever calls
the create URL method will now need a
try catch block around this method call
and have to catch the malformed URL
exception we can see this here in the do
and background method for the purposes
of the tsunami app if you call some
android framework code that throws an
exception you should catch it and handle
it at the moment it happens instead of
deferring it to be handled later</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>