<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Coding for the Location App, Cont'd | Coder Coacher - Coaching Coders</title><meta content="Coding for the Location App, Cont'd - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Coding for the Location App, Cont'd</b></h2><h5 class="post__date">2016-08-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/BhY-bDphRSg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so first of all we need our activity to
implement the various callbacks and
listeners that we've been discussing
about so you can see here our public
class main activity already extends
action bar activity we want to implement
a few things so we wanted to implement
the following it's going to implement
Google API client connection for
callbacks Google API client doc
connection failed listener and the
location listener instead of you
watching me typing I'm just going to
paste these in I've now added these but
we can see we have a few errors because
some of the symbols haven't been
resolved you just need to import the
correct libraries to resolve them and
I've added those libraries here we can
now see that we still have an error and
that's because there are some methods
that need to be implemented and we
haven't implemented them yet but we will
be doing that in just a moment before we
do that there's a few things that I want
to add to the code first up we just want
to add a tag which is a string to the
code that allows you to track the name
of this application if we're writing it
out to the log so we do that with a
private final string it's called tag and
you can put whatever you like in there
I'm just gonna put Lawrence's test app
and the code would look like this next
there's a few local variables that we
need to set up within this class things
for example for tracking the textview
that we call txt output the Google API
client itself and a location request
object so I'll add these now you can see
when I added them in it detected that it
needed to import this class so just go
ahead and say ok to that and the class
will be imported so you can see here I
have a textview objects that I'm calling
txt output that will just be used to
address the textview on the UI I have a
Google API clients that I call em Google
API client and I have a location request
that I call M location request ok now in
our on create method we need to set up
the Google API client and we use this
with a Google API client builder and we
add the requisite api's to that let's
add this code and then we can talk
through it so we go to uncreate and I'll
add the code in here so what it simply
does is it creates
a new builder for an API client and it
adds that we want to use the location
services API by saying just location
services dot API to the add API method
we want the connection callbacks on the
Google API client to come to this class
and we want the ad on the we want the
onconnectionfailed listener also to come
to this class and then we build it so
that's now going to give us a Google API
client that allows us to talk to Google
services now if you remember we had a UI
element called a textview and this will
render the location information of
course we want that textview to be
addressable in code using this txt
output class so let's set up something
to do that right now and we do that like
this we just specify the txt output is
found by looking for the ID ordered ID
dot txt output if you remember when we
specified the textview in the XML for
the activity we called it txt output the
same name as this we just find that view
and then we cast it into a textview and
now we're good to go
so just to recap what did we actually do
here well first we created an instance
of a Google API client using its builder
we set it to use the location services
API here and then we told it what the
callbacks for connection and on
connection failed where this so we're
going to be handling them within this
class or within this activity and then
we hooked up the textview to code you've
actually done a lot but there's still
more to come so let's have a quick quiz
first</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>