<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Timed Animation - Interactive 3D Graphics | Coder Coacher - Coaching Coders</title><meta content="Timed Animation - Interactive 3D Graphics - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Timed Animation - Interactive 3D Graphics</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6gsvj17B37c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all it takes is this little bit of code
to get the amount of time from the
previous frame to this one when you call
clock get Delta it returns a precise
floating point value of the number of
seconds that have elapsed since the
clock was created or from the last time
get Delta was called by calling this at
the beginning of each render we can know
exactly how much time we should use when
we rotate the drinking bird this code is
how we were rotating the bird adding
half a degree each frame if our goal is
to rotate 30 degrees per second we
replace the 0.5 degrees per frame with
exactly this as each frame passes and
the Delta gets updated the object is
rotated the proper amount this works
well while the browser window is visible
but an interesting thing happens if you
start the demo in timed mode set the
frames per second and then switch to
another browser window and hide the
program when you come back in a while
you're likely to see the drinking bird
spinning around and around the problem
is with our function that computes how
much to rotate the assumption in this
code is that the rotation angle will
never increase much beyond 103 or
negative 22 degrees however when this
window is hidden rendering stops when
the window is exposed again the renderer
gets a huge Delta which the limit
testing code doesn't deal with it all
the bird spins around and round
incredibly fast for a while as the huge
value gets damped out there are a number
of solutions here's one that locks the
drinking bird directly to the time
itself instead of the change of time the
Delta the method getty laps time gives
how many seconds have gone by since the
clock object was created we take this
time and multiply it by 30 the number of
degrees per second we know that the
drinking bird sweeps through 125 degree
arc in both directions for a cycle of
250 degrees total by taking the modulus
the remainder after the division by 250
we get an angle between 0 and 255
degrees we rotate the bird forwards
otherwise we rotate it backwards
adjusting for the starting and ending
angles of negative 22 and 103 degrees
now if the browser window is exposed
later the time is always going to
resolve to a proper angle the moral is
when you design any animation driven by
time make sure it's bulletproof from
large time changes between renders by
the way there's one more mode in the
demo called wave it's my attempt to make
the bird swing back from the glass at a
varying rate instead of moving back at a
constant number of degrees per second
this avoids a bit of the jerk that
occurs when the direction is River
just one nice thing about using the time
as an input is that you can then decide
what the angle should be at various
times I can't say my attempt is all that
convincing but at least it's a bit nicer</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>