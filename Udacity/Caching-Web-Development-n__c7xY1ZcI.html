<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Caching - Web Development | Coder Coacher - Coaching Coders</title><meta content="Caching - Web Development - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Caching - Web Development</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/n__c7xY1ZcI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">caching refers to storing the result of
an operation so that future requests
return faster basically if you do
something once you know whether it's a
database query or rendering some HTML or
you know anything that might be slow you
store the results so you don't have to
do the computation a second time instead
you can just reference the previous
result so when do we cache we cache
things when underlying computation is
slow when the underlying computation
will run multiple times when the output
of said computation is the same for a
particular input so that we know you
know we don't have to recompute it every
time because it's going to be the same
every time the output of this
computation and another good reason you
know for when we cache when your hosting
provider charges for DB access which
applies to you right now Google App
Engine gives you a fixed number of reads
and writes to the data store in a
particular day and if you go over that
you have to pay for it so even if your
website doesn't get a whole lot of
traffic caching requests so they don't
have to hit the database over and over
is a fine way to save some money and
that'll be an example we start with
shortly so whenever you have a situation
where you have the slow computation that
you're running multiple times with the
same output over and over you should
cache it you should store that result
somewhere else so that you don't have to
run a competition over and over so let's
let's talk about how that algorithm
looks let's say we have a function
called DB read and this reads from the
database and it's slow you know let's
say it takes a hundred milliseconds to
run this this query which is slow for
database query but not unheard of and in
your serving thousands of requests you
know if every request that comes in to
your website has to hit DB read in that
six 100 milliseconds that means you can
only do ten requests a second or we
start you know you start doing multiple
requests at the same time your database
starts to get pummeled because it's
trying to do this complicated query all
at the same time and in this hundred
milliseconds maybe turns into two or
three hundred milliseconds or 500
milliseconds who know you know when your
database is under load it starts to
really get angry at you so if we wanted
to cache this DP read let's talk about
what this algorithm would look like if
we were to kind of write in in
pseudocode here we would have something
that looks like this
if the requests are making is in the
cache returned the cached version of
that request and in this case I'm
pretending cache is is like a dictionary
and the requests that we're making
is a key into this dictionary and that's
generally the structure of a cache the
cache is basically a large like a large
hash table a large mapping of keys to
values you know you know all about hash
tables a hash table works perfectly well
for this so if our request is in the
cache return the cash value of that
request else store the value of this DB
read in a variable put that variable in
the cache for future lookups and then
return that variable so basically
instead of calling DB read on every
request the first thing we do is check
to see if that request is in our cache
and if it is we return the cache value
this is called a cache hit and only if
that request isn't in our cache do we
actually run our query and this is
called a cache miss and what we do on a
cache miss is we we actually do our
operation and store the result of that
operation in our cache and then return
that result
so future requests will just bounce off
the cache now if you're using a hash
table depending on the size of that hash
table we're going to probably do a lot
better than 100 milliseconds we're
probably going to be talking about less
than one millisecond which would be you
know quite a big speed improvement now
of course if this hash table is huge and
you're caching lots of things you know
hash tables have their own performance
characteristics that you'll have to take
into account but you know you can get
substantial improvements just by taking
the slow pieces of your code and
wrapping this simple algorithm around it
which is the focus of our next quiz what
I'd like you to do is implement that
caching algorithm here in Python so what
I've given you is a function called
complex computation and this takes two
numbers and it adds them up but it's
going to take half a second to do so the
time that sleep function causes Python
to just sleep or wait for however much
time you want in this case I have it
sleep for half a second so what I want
you to do is use a dictionary as a cache
and it's defined right here it's called
cache now I want you to make this
function cached computation use this
cache to store the results of calling
complex computation on different inputs
so if we pass in the same inputs a and B
twice I want the second running of this
function to use the cache the first one
will do the actual computation and we'll
be grading this by running picking
different values of a and B
seeing how long the first one takes to
run and then seeing how long the second
one takes to run the second one should
run substantially faster</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>