<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Multi Level Page Tables - Georgia Tech - HPCA: Part 4 | Coder Coacher - Coaching Coders</title><meta content="Multi Level Page Tables - Georgia Tech - HPCA: Part 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Multi Level Page Tables - Georgia Tech - HPCA: Part 4</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pcTAoyzW2rY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so now that we have seen that flat page
tables can be quite large even for
32-bit address spaces and are too big to
even fit in memory for 64-bit address
spaces let's talk about multi-level page
tables which is how we reduce the size
of page tables when we have a large
address space so the problem with flat
page tables is that their size is
proportional to the address space
meaning how much memory can the
application possibly address not how
much memory it is actually using for a
32-bit address space we have seen that
we have a reasonably sized page table so
for 32-bit virtual addresses the flat
page table size is several megabytes
note that we can have a very small
application that only uses a couple of
kilobytes of memory yet it still needs a
page table of this size because the page
table size has nothing to do with how
much memory we are using it has to do
with how much memory can we possibly
address for 64-bit virtual addresses a
flat page table would simply be too big
the page table would be many many
gigabytes in size so which simply cannot
use it because it wouldn't fit in the
amount of physical memory we actually
have so multi-level page tables are
designed to try to overcome both of the
problems we want the overall size of the
page table to be proportional to how
much memory we are using and we want our
page table to work even for 64-bit
virtual addresses as long as the program
is actually not using the entire 64-bit
virtual address space which no program
really does the idea of why multi-level
page tables work has to do with how the
virtual address space is usually used by
the applications recall that the
application thinks it can address memory
with 64-bit addresses so it has this
many potential memory locations it can
access but in reality the application
only allocates memory like this at the
beginning of the virtual memory there is
the code the static variables and the
heap and at the top of the virtual
address space is the stack so we're
really talking about
two contiguous regions of virtual memory
that are actually used by the
application and even if these two are
several gigabytes each in a 64-bit
address space there will be many many
terabytes of unused address space here
but in a flat page table we had to have
a page table entry for each page in this
huge space here so a multi-level page
table combines the idea of a flat page
table where we use some bits from the
virtual address to index the table this
works really well in hardware hardware
really likes using some bits to index
some sort of an array but we want to
avoid the use of table entries that
correspond to this meaning we want to
have a pretty normal page table like
thing here and here but somehow not have
anything for this so that we can simply
omit those page table entries now that
we have the idea for what we want let's
see how the multi-level page table is
actually organized</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>