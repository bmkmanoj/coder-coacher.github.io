<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>测试哈希函数 | Coder Coacher - Coaching Coders</title><meta content="测试哈希函数 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>测试哈希函数</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TjWwI-MvEhI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so let's test our new hash function see
if it does better than the bad string
hash function we defined earlier we're
going to use the same test hash function
we defined before that takes the
function as input so we can pass in
either the original bad string hash
function or the new hash string function
that we hope will work better a list of
keys and the size computing the hash
value for each key and records how many
end up in each position so let's try
that again we'll use the same example we
had before using the words from Sherlock
Holmes and so we'll initialize words as
all the words in the page that is The
Adventures of Sherlock Holmes that we
load from the web so first we'll try
this again with the old hash function
the bad string hash and obtain the
counts and let's print those out
remember what those look like
so it's a pretty bad distribution as we
saw before ranging from 725 all the way
up to over 2,000 in one bucket now let's
try it with the new hash function
instead of bad hash string will pass in
plain hash string we're using the same
words the same number of buckets and
we'll see the distribution now looks a
lot better right there's no values under
a thousand now there's no values over
the highest one would be 1363 in the
first bucket
so let's look like that graphically
here's what we had before with the bad
hash string function we can see the size
of the buckets varies a great deal and
we have the red and blue bar sewing some
that are too popular some that are not
popular enough with the new hash
function we have much less variance
still not perfect we'd like to have all
the bars really be as close to the same
as possible but it's really close so
this is working pretty well the other
thing we can try is having more buckets
so let's try this now we're doing the
same thing but this time with a hundred
buckets instead of twelve buckets and we
can print that out and so we see the
results when we have a hundred buckets
are pretty good but certainly not
perfect we have buckets as small as this
one that has 104 and as large as this
one that has 197 so almost twice the
size of the smallest bucket it's
certainly a hard problem to build a
better hash function people put a lot of
effort into building good hash functions
as your tables get larger it's very
important to both have the hash function
be efficient our hash string function is
not that great because it does take a
long time to execute if the string gets
longer we have to go through that loop
once for each character and so there are
better hash functions available we're
not going to look at those in more
detail now but there'll be some links on
the website to documents about more
interesting hash functions this is going
to work well enough for us though so
before we go on to actually implementing
in the hash table I'm gonna have one
quiz to make sure that you understand
why this is so much better than the
original index</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>