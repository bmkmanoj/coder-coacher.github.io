<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hijacking Requests | Coder Coacher - Coaching Coders</title><meta content="Hijacking Requests - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hijacking Requests</b></h2><h5 class="post__date">2016-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/EFu3XTQHFWc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so far we've set up our own service
worker learned its life cycle and
explored the dev tools but we haven't
really used our service worker to do
anything yet currently the server's
having all the fun when it comes to
sending content back to the browser well
now it's our turn to have fun so far
we've seen requests go from the page
through the serviceworker fetch event
then onto the network as usual through
the HTTP cache but now we're going to
catch the request as it hits the service
worker and respond ourselves so nothing
goes to the network obviously this is an
important step in going offline first so
let's make it happen over in the
serviceworker script we can call event
dot respond with this tells the browser
that we're going to handle this request
ourselves event don't respond to it
takes a response object or a promise
that resolves with her response one way
to create a response is well new
response the first parameter is the body
of the response which can be a blob
buffer some other things but add its
simplest it can take a string so here
I'm going to respond with hello world
back in the browser because I have force
update on reload checked i refresh once
and I get the custom response no matter
what URL i enter here i get the same
response because I'm intercepting all
fetches I could even modify the response
to include some HTML and back in the
page I hit refresh and oh although the
HTML is there it's just being output as
text you can see why if you look in the
network panel the content type is text
plain meaning it won't be passed as HTML
thankfully they can set headers as part
of the response the second parameter of
new request is an object and the headers
property takes an object of headers and
values so I can set the foo header to be
bar back in the page hit refresh and in
the network panel there it is the phone
lines have lit up and that can only mean
one thing a wild Mike Wales has appeared
hello Mike Hey fixing that request
sounds like something the student can do
fair point go for it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>