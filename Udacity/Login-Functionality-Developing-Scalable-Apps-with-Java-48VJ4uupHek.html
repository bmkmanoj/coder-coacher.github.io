<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Login Functionality - Developing Scalable Apps with Java | Coder Coacher - Coaching Coders</title><meta content="Login Functionality - Developing Scalable Apps with Java - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Login Functionality - Developing Scalable Apps with Java</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/48VJ4uupHek" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so your apps now in the state that the
save profile method knows that when it's
called it should be passed data that
conforms to the fields defined in the
profile form class which in practical
terms means that the input data can
include display name and t-shirt size if
it includes anything else those fields
will be ignored however are at wants to
use the email so we'll need to get the
email and we'll do that by getting the
email of the logged in user this of
course means that the user must be
logged in so next we need to update save
profile to take a user input argument
and to throw an exception if the user
isn't logged in in the save profile
method you'll be adding a user argument
as the first argument this means that
when the save profile methods called use
all be passed to it automatically if the
user isn't logged in then the user
arguments going to be now it's really
easy to get the user all you have to do
is to add this argument to your
endpoints method so even though the user
gets passed in there's no automatic
check that the users logged in so we
need to do that check ourselves so you
can add the code to check if the user is
now and if it is to throw an
unauthorized exception we also need to
update our code to use the email and the
user ID we can get the email and the
user ID by calling methods on the user
the user ID uniquely identifies the user
and the email of course is their email
which is going to be very handy when the
app wants to send emails to them the
method forgetting the user ID and the
email are fairly intuitive get email get
user ID wouldn't be too hard to guess
those we already have the code for
getting the display name out of the
profile form but what if the user
doesn't provide a display name we can
write code to set a default display name
based on their email the conference API
class already provides a function called
extract default display name from email
which basically gets your name from your
email but leaves off C at domaine part
so for example if your email is lemon
cake at example calm then the display
name simply becomes lemon cake
is pretty easy to just add the code to
check if the display name is null and if
it is to call this function we already
wrote the function for you obviously
need to save all your changes then
redeploy and see what happens now let's
see what happens when we try out our app
in the api's Explorer just to be sure
you're not logged in go to the api's
explorer in an incognito window in
chrome okay let's see save profile and
execute oh no look this method requires
you to be authenticated you may need to
activate the toggle above to authorize
your request using oauth2 so the api's
Explorer knows that we're not logged in
and that it requires a user so we have
to activate it the only thing our apps
doing right now with user information is
getting their email so it's asking the
user to give permission for the app to
get their email now let's resubmit maybe
I'll add some properties t-shirt size
small then we execute now you see that
the request went through the request the
display name is Nikki and the t-shirt
sizes s which is what I input and you'll
see the response includes the display
name the main email the t-shirt size and
the user ID one thing to notice about
running your app on localhost is that no
matter what your real email is your
email is going to be interpreted as
example I'd example calm and if your API
doesn't throw an exception if the users
not logged in then the user is going to
be set to test that example calm and you
can if you like run this again without
providing the display name let's execute
it and this time you see in the response
that the display name is inferred from
the email</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>