<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Exploring Indexes - Developing Scalable Apps with Java | Coder Coacher - Coaching Coders</title><meta content="Exploring Indexes - Developing Scalable Apps with Java - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Exploring Indexes - Developing Scalable Apps with Java</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Ji4bTj_SWtQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so let's take a quick look at the filter
playground method where you've been
adding your filters and here you see I
added the filter for month equals 6
which basically says give me the
conference's in June then I deployed
that to appspot and I went to the api's
explorer for my project actually out on
appspot this is not in localhost chose
my method my playground method executed
it and you co get an error and it's a
back end error so one thing we can do at
this point is to go look at the index
viewer in the admin console to get there
you go to the console developers google
com and then over here you choose cloud
datastore and then you choose indexes
you see the indexes that have already
been created and these are what we'd
expect we already searched for this
ancestor query which is basically give
me all conferences for a user where the
user was the ancestor of the conference
and then we have this other one where we
search for city topics and name now if
you never actually deployed your app
with this filter to appspot you won't
see this filter but that's okay that's
fine now what I want you to do is to go
back to eclipse and I want you to look
at the automatically generated index
configuration file so to get to that
sorry this is a little hard to see but
you go into the target directory you
drill down into conference dash 1 point
0 then interweb dashing at INF then into
App Engine generated and you see data
store dash indexes dash auto now exactly
what you see might be different to what
I've got here but it's perfectly fine if
it's blank it may already have some
index configurations in it now what I'm
going to do is run conference central on
localhost okay my dev app server is now
running so I'm going to go to the APIs
Explorer on localhost make sure you're
at in the APIs Explorer on localhost not
back in your app on appspot and again we
drill down we go to our filter
playground method I get a response I
don't actually have any items that match
that query but this doesn't matter
this point so now I go back to eclipse
I'm going to look at my index
configuration file again and you see
that this index configuration entry has
been automatically added for me I didn't
write this app engine wrote it when it
ran the query on localhost so I'm
searching for kind conference no
ancestor I'm searching with the
filtering by City filtering by month
filtering by tropics filtering by name
which I'm not filtering by name I'm
sorting by name but to all intents and
purposes a sort order is a filter so now
I'm going to go run my app again on
appspot when you deploy your application
to appspot the updated index
configuration file will be deployed with
it an app engine will start to build
your new index back in the index fewer
page in the admin console for my app
running on appspot I see that my new
index is preparing now if I actually run
this query again I'll still get an error
and I'll keep getting an error until
it's finished preparing needs to be
ready to serve before I can run the
query so to get ready for the query I'm
just going to go ahead and make sure
I've got some conferences that will
satisfy the query so I'm searching for
conferences in London about medical
innovations happening in June if you
made any changes in your query property
you'll need to create a conference
satisfies your query criteria
okay let's go and see how our index is
doing see if it's built yet okay good it
has it's no longer preparing so it's
ready to serve so over here in the api's
Explorer for my app on appspot i will
run my query again execute it oh good
and it found the conference i just
created which matches all the filters on
the query good one thing to mention is
that when you deploy an app that needs a
new index the request to update the
index actually goes into a queue along
with other similar requests so your
index may not get updated immediately
and that can be why it may take a little
bit longer to prepare than you think it
might need to it's not because it takes
a long time to build the index although
sometimes it can but generally the wait
time is just waiting for your request to
get to the top of the queue so another
thing that you could do instead of
running your query on localhost is that
you can create your own index
configuration called datastore dash
indexes dot XML so whatever indexes are
defined in either the datastore dash
indexes file that you created or in the
auto-generated Davis or dash indexes
dash auto when you deploy your app to
appspot both those index configuration
files will go up and any index is
defined in either of those files will be
created and you'll be able to serve
queries that use of filters defined in
those index configuration files</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>