<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MESI, MOSI, MOESI Solution Quiz - Georgia Tech - HPCA: Part 5 | Coder Coacher - Coaching Coders</title><meta content="MESI, MOSI, MOESI Solution Quiz - Georgia Tech - HPCA: Part 5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>MESI, MOSI, MOESI Solution Quiz - Georgia Tech - HPCA: Part 5</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mhP0ak7wsyQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">let's look at the solution for our tree
protocol comparison quiz where we had
three cores a block a that starts in an
invalid state in all three caches and
then cores access this block in this way
we were asked how many memory reads and
bus requests do we have in each of these
protocols when I read a occurs will have
a memory read in each of these protocols
because this is a Miss on core one at
that point c1 has the Block in the
shared or exclusive state depending on
whether the protocol has a shared state
or not so in the mozi we will have
shared state in messy and mossy we will
have the exclusive state because at this
point c1 is the only one who has this
block at all when c1 writes to a if we
have the Block in the shared state we
need to put an invalidation request on
the bus because we don't know whether
there are any other sharers and of
course if we did a memory read we also
had a bus request in each of the three
now when we do a write a four protocols
that have the e state we just move to
the modified state we don't have to put
anything on the bus or read memory so
here we don't do anything but for mossie
we were in the shared state we have to
put an invalidation request on the bus
there is no memory read here we already
have the data we just need to invalidate
others because we think there might be
others so now we have the Block in the
modified state in c1 everybody else
still has the Block in the invalid state
when c2 reads a c1 must supply this data
so this is a bus request because we have
read in all of them seto will get the
data in the shared state because c1 will
be downgraded from modified to either
shared or owned but either way c2 will
be shared c1 will have the Block in
either the O state if there is an O
state because from motive
we go to all once we start sharing or in
the shared state assuming we have
intervention based supply of this value
Tutsi - there is no memory read because
see one is able to provide the block -
see - now in situ writes to the block
because it has the Block in the shared
State
there will be a bus request to send out
an invalidation
either way see one now has the block in
the invalid state and c2 has the Block
in the modified State so from this rate
to this right having the exclusive state
didn't help us save an access on a right
and that's because here we had no
exclusive access to the block anymore c1
also had the block now let's see what
happens when c3 reads when c3 reads c3
we'll get the Block in the shared state
and this is a read miss it needs the
data so there is definitely a bus access
in all of them c2 however moves to
either the owned or the shared State
depending on whether we have the own
state in this case again see to supply
the data to c3 so there was no memory
read however when c1 reads if we are in
the shared state in c2 c1 ends up
reading memory so if we have the O state
c2 is able to intervene and supply the
data to c1 and then C - if we have the
shared state then there are memory
accesses in both of these c1 had a block
in the invalid state so definitely the
read request will be put on the bus and
now what we have is basically c1 and c3
have the Block in the shared state c2
retains the Block in the owned or shared
state so there was a basic West here and
there was a memory request if we didn't
have the O state so here we have an
additional memory read now C to reach
the block either way it can read the
block because at this point it's either
owned or shared so there is no bus
request nor memory read in any of these
protocols so overall we have one memory
read in protocols that have the O state
and two in the protocol that doesn't for
bus request we have five bus requests in
protocols that have the exclusive state
and six bus requests in the protocol
that doesn't</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>