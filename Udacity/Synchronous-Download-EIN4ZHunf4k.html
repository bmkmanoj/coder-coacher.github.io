<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Synchronous Download | Coder Coacher - Coaching Coders</title><meta content="Synchronous Download - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Synchronous Download</b></h2><h5 class="post__date">2016-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/EIN4ZHunf4k" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">let's get started with the serial
version first of all we have the three
ID actions synchronous download this is
the first button simple asynchronous
download this is the second button and
asynchronous download this is the one
that will use a completion block so
let's get started with a synchronous one
and we need to do four steps these are
the four steps that we need in order to
download this image so first of all we
need to get the URL for the image then
once you have the URL we will need to
obtain the NS data for the image and we
don't really care for NS data is what we
really need is a uiimage so we have to
turn this and its data into a uiimage
and finally we're going to display so
let's just insert the code ok so this is
the the source code as I said previously
the first steps you get the URL and
there is a catch here and as URL may
return an ill so this actually won't be
a URL it's going to be an optional with
a URL inside then we have to turn this
URL into an NS data we have to fetch
this image from the URL and we're using
NS data contents of URL which only
accept the URL not an optional so we
have to unwrap it once we have the NS
data we need to turn this and s data
into something that we can use a uiimage
again just as before the method that
we're going to use does not accept an
optional so we have to unwrap it and
provide the NS data so this is not very
nice what we're doing here having all
these unwrapping but I want you have it
line by line so you can easily spot
who's the culprit start thinking who
might block in this code and last but
not least we have to display the image
so once you have this code written down
let's run the simulator and make sure if
it blocks or not it should and indeed it
does
as you see when I click here it should
just blink instead it remains inactive
for a certain time while the image is
being downloaded and while that happens
you can do anything the UI is blocked
and it's blocked for a user perceivable
amount of time so congratulations you
have just been rejected from the app
store we cannot deliver code that
behaves like this under no circumstances
fortunately after all the wax on wax off
of the last lesson we now have all the
tools to fix this however before we do
it in the next video see if you can
refactor this code and put everything
inside of a single if let statement it
is not good practice to have all these !
since your swift code and besides it's
also an unsafe so before you move on try
to refactor this put it into a single if
let statement and we'll continue on the
next video</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>