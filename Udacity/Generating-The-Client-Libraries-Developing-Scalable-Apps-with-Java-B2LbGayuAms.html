<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Generating The Client Libraries - Developing Scalable Apps with Java | Coder Coacher - Coaching Coders</title><meta content="Generating The Client Libraries - Developing Scalable Apps with Java - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Generating The Client Libraries - Developing Scalable Apps with Java</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/B2LbGayuAms" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so let's talk about how to enable mobile
applications to access the endpoint
functions that you've defined in your
conference central application so here's
the Android app that we have that will
access the conference central app
running on Udacity so you've already
learned about setting the client IDs to
specify the clients that allowed to
access your back-end API well to allow a
mobile application to access the backend
API you have to add the client ID for
your mobile app as well so here we're
looking at the at a P definition at API
definition in the conference API class
and here we specify the client IDs we've
got the web client ID and then here you
see we've specified the android client
ID and if we had an iOS ID we would
specify that here as well we have the
API Explorer client ID and we've been
using the constants Java class to hold
our client IDs as well as other
constants so this is my client ID my web
client ID and then here is where I would
put the android client ID when I have it
so one other thing that you need to set
for android apps is you need to specify
the Android audience so the client IDs
list protects the backend API from
unauthorized clients but further
protection is needed to protect the
clients so that their auth token will
work only for the intended back-end API
and for Android clients we use the
audience's attribute to specify which
back-end API is they can connect to so
the value of the audience's attribute
needs to be the web client ID of the
apps that the Android app will connect
to so looking again at constants Java so
in this case we set the Android audience
to be the web client ID of this
conference central application so when
you create your android client ID you're
going to need to know a couple of things
you're going to need to know the package
name of the classes in your Android
application and you're also going to
need to have the sha-1 fingerprint of
your application when you build your
Android app in debug mode the SDK
automatically creates a debug key and
signs the application with it you can
also generate a new key
to do this you'll need to specify the
keystore name and the keystore alias so
I'm going to go ahead and generate a new
key so I call the key tool passings dash
gen key and then I specify the keystore
name I'm very cunningly called keystore
dash name keystore need to specify an
alias for the key store which I've
cunningly named keystore dash alias then
I'm going to need to enter a password
and you can pick whatever password you
want just remember it then it's going to
ask some questions go ahead and answer
the questions then at the end make sure
you say yes to actually go ahead and do
it and then it's going to ask you to
enter the password for the keystore
alias and if you want to use the same
password as you just entered before then
just press return now I've created my
new key to create the android client ID
I'm actually going to need the sha-1
fingerprint of the new key and to get
that gained your call key tool you
specify the X dash export cert you need
to provide the alias my case it was just
keystore alias and the keystore name and
in my case it was just keystore dash
name key store so now i need to enter
the password and you see here it gives a
certificate fingerprint and here is
actually the sharwan value so I'm going
to need to copy this whole thing here
you don't include the sha-1 colon but
you clued all the value of the sha-1
you're going to need to copy that you'll
need that when you create your android
client ID okay so now i'm going to
create my android client ID and as just
as you did with your client ID for web
application you create your android
client ID in the developers console over
at console dot developers google com the
credentials screen under app is a North
choose create new client ID and then
this time make sure you choose installed
application select Android then you're
going to need to provide the package
name and this is a package name of the
classes in your Android app in our case
of packages com google dev rel training
conference or Android going to need to
copy over the sha-1 fingerprint hope I
got that right you can leave
deep-linking disabled and you create
your client ID okay now you see I have
both a client ID for a web application
and the climb
ID for the Android application and I'm
going to need to take this client ID
here and copy it and over here in my
source code I need to enter the android
client ID so one more thing you're going
to need to do is to generate the client
library containing your endpoints API
once you've got the client library your
mobile app will be able to include it so
that it can make calls to the endpoints
API for android apps generating the
client libraries very straightforward in
the terminal window go to the directory
containing your projects pom.xml file
here's my pond on XML then you need to
run the command to get the client libe
mvn App Engine colon endpoints
underscore get underscore client
underscore libe now the process runs
okay build success always like sound of
that now whenever you do a build the
results go into a target directory so
here's our target directory let's go
into it and here you see the endpoints
dash client dash lives so go into
endpoint stash client dash lives and
you'll see a folder for the name of your
project go into that folder now go ahead
and invoke maven to build a client
library this is very simple you just do
mvn install now it's building now it's
done this builds the required class
files and it creates the jar files that
you're going to need to add your client
project so now we're done and we've got
the target folder and you see in the
target folder we have this snapshot jar
so this is the name of the project this
is the version snapshot jar this is the
client library jar you'll need to add
this client library jar to your Android
app the process of adding the client
library are to your Android app and also
how to call the endpoints API inside
your android client is very well
documented in the developer Docs so we
have explains how to generate the client
library actually we already did that so
the docs explain how to add the client
library to the project there's a couple
other things you need to do need to
create a service object and then there's
a discussion of how to call the backend
API
and as well as the information in the
developer darks so we've written a
document that takes you through the
steps that you're going to need to do to
get an Android application to use a
conference central endpoints API you'll
also need to remember that if you do
change your back-end API you're going to
have to regenerate your appliance
libraries and re add them to your
clients you can also access your backend
API from iOS apps but since these don't
use Java the process to generate the
client library is slightly different and
it's well documented in the developer
Docs as well so you can read about it in
the developer documentation now that
you've got the client library for your
mobile device it's up to you how you use
a conference API in your mobile app so
the Android app that comes with this
course our comp the Udacity conference
central app you can get it from play
store it's very simple and it's really
only meant to be a demo so it's not
fully functional basically all it will
do is it will query for the conference's
it will let you register and they'll let
you unregister but it doesn't do very
much else feel free to get the source
code for the Android app and hook it up
to work with your own conference central
application you may need to make some
small changes to your back-end API code
so be sure to check the instructor notes
for this video these changes will make
your back-end API code more robust for
all client apps so it will continue to
work with your web UI clients as well as
with Android apps so also feel free to
extend the source code for the Android
app to call more of the backend API as
you like</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>