<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>More about Arrays | Coder Coacher - Coaching Coders</title><meta content="More about Arrays - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>More about Arrays</b></h2><h5 class="post__date">2016-08-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/F7mFHoekLa0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey there so I've got one more sort of
lingering question in my mind you know I
know we're using all these firebase UI
classes for basically everything of the
app to do with lists but I'm confused
why firebase array doesn't just grab an
arraylist and heath it oh hey looks like
JP is texting me and he wants me to go
to google and talk to a firebase expert
well that's pretty cool but I'm not free
I told cougar H Iran and the finals of
the cheesy flakes cheddar cheese
cook-off championships hmm but you're
available right why don't you head over
there right now and report back what you
learn want to borrow the company bike
so how does firebase treat listed arrays
so lists and firebase deviate a little
from the traditional array concept
you're used to the big differences in
firebase we always have these key value
pairs that value might be an object with
more keys so you can have this
hierarchical structure but it's always a
key in a value in a ray in a traditional
situation is a key value pair where the
key is an integer and the pair is
whatever data is stored in that all
right firebase doesn't quite like that
you can put in into Jerky's you can make
an exact normal array structure in your
firebase but when you're building real
time applications that deal with the
information that's changing quickly or a
lot of new information is being added
there's a really good chance that two
people are going to try to add the same
new integer key at the same time so if
we have four items and somebody adds a
fifth and another person across the
planet adds a fifth one of those people
are going to win and the other one's
going to lose your data that's why in
firebase we use this concept of pushing
in with these unique push IDs these are
pretty much globally unique identifiers
that will be sorted in the same way as
integer keys or if i push in later it
will appear later and they essentially
function like in a right the only
difference is instead of having one two
three four as our keys we have these
long complicated strings but once it's
in there you can pull the data out you
can look through it you can do
everything you would on a normal array
especially if you're using one of our
helper libraries it's just the structure
looks a little bit different in your
firebase so why did firebase take this
approach it was mostly our concern for
the real-time aspect we wanted to make
it really easy to build data that
multiple people were editing and
collaborating on at the same time and
like I said you can run into these race
conditions where you have multiple
people trying to add on to the same list
and integers it's just too likely that
two people were right to it at the same
time using these unique keys we can
guarantee that if two people are a
hundred people in the world right to
this location at the same time they're
not no one's going to lose their data no
one's going to get over and by somebody
else I'll all be unique all the data
will be there and you can ensure that
all your users interactions will be
safely stored in fire rice so what are
some of the pros and cons to this
approach and while the con is that it's
a little unusual people are used to
dealing with list
as arrays they're used to those integer
keys and when people look at their data
in firebase they see this familiar push
method that comes in any of our SDKs and
they assume it's going to act like a
normal array which for many reasons it
does but the big changes that we use
these unique IDs so that's probably the
real big difference that people see is
just that it's it's a little unnatural
but as soon as you realize why we make
these decisions and why we're helping
you to make sure that your application
scales and runs efficiently at any size
that then it makes a lot of sense well
are there any times that you need to use
an array and how would you do it there
are definitely times people want to use
arrays and it typically has to do when
you're integrating with an older system
or some existing application that is
very committed to using these
traditional arrays and you can't do that
in firebase so you can use integer keys
in your firebase it's completely fine
the important part to remember is just
that if you have a lot of people writing
to the state at the same time trying to
change that array trying to add a new
things you're going to run into issues
but if you have for example a dotnet
application that every 24 hours it's
pushing in a list of your top 100 users
in the firebase you can you can you know
use normal integer keystore just like a
normal array and that's fine because you
only have your one server ever writing
in to firebase there's not going to be
on your race conditions it's not going
to be anything like that so that's it's
completely okay and firebase does do
some handling to help transition that
into a normal-looking array especially
if you're exporting Jason through our
traditional REST API which is what you
would be doing if you're using net or
any PHP any of these more traditional
stacks so there are definitely
situations where you can do it and we
support those we just generally don't
recommend it for any any quickly
changing quickly moving data now you
mentioned push IDs how are push ideas
generated what makes them so great so
push ideas can be thought of as a
globally unique ID they're not a
traditional good that you've seen before
but for all intensive purposes they are
complete completely unique
they're a little magical in that they're
Alexa graphically sorted which means
that if i push in now and I call it
pushing in later it will sort as you'd
expect it will come later in the list we
do that by basing it off of the time of
when you pushed in we look at an epic
and we say okay what is a nice version
of this that we know will sort properly
and then we also add in some extra logic
on top of that to make sure there are no
collisions so if I have a server running
that's pushing in 10,000 items we make
sure that even if you push those all in
on the exact same millisecond from the
same machine there will be no collisions
so it's there's a lot of logic behind it
but the important part is they're just
strings that will lecture graphically
saw it in the correct order and they're
so great just because they avoid all
your race condition problems that you
might have using traditional arrays lame
thanks a lot for your time I think it's
going to really help my friend out I
think she's gonna be able to continue to
develop your fire every step and yeah
appreciate awesome thanks so much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>