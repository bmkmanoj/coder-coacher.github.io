<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Let’s code our own interstitial ad | Coder Coacher - Coaching Coders</title><meta content="Let’s code our own interstitial ad - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Let’s code our own interstitial ad</b></h2><h5 class="post__date">2016-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/LwTICGpxTF4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">great now that our environment is set up
let's start coding an interstitial ad
the first thing we have to do in our ad
activity Java code is to set up our
application key we do this by saying add
registration dot set appt key and then
you'd put in your unique app key this
key is given to you when you register
for a game developer account through
amazon and its unique for every app it
helps identify your app and keep track
of add displays and click say your app
receives you'd usually use your own app
key but since we're just doing a general
example I'll use a sample key that
Amazon provides now let's make our ad
first I'm going to make a private
variable of interstitial ad type which
we know is a class in our Amazon ads
library then I'll give it a name
interstitial ad now that we have our ad
variable we're going to create an
instance of it load it and show it so
back to our oncreate method i can create
our ad by saying this then giving the
variable name interstitial ad equals a
new interstitial ad object this ad
object needs to know the activity it's
going to be used in and again that's
just going to be this activity that is
to say our interstitial ad activity then
I just need to add a line of code to
load our ad which is as simple as saying
our variable interstitial ad dot load ad
but what happens once this ad is loaded
I'll have to create an ad listener that
will just listen to the ad and decide
what happens when it's loaded or when
it's closed to listen to our ad we have
to say this interstitial ad dot set
listener and then we're going to define
a listener of our own so we're going to
create an internal class called my
custom listener and we'll just build off
the default addlistener so we'll say my
custom listener extends default
addlistener the listener notices what
happens to our ad at three different
points which are methods in the listener
class one point when the ad is loaded on
ad loaded which takes in the ad object
and its properties as parameters
a second point if the ad fails to load
which will throw an error message and
the third point when the ad is dismissed
that is when it's closed and we can
write in specific behaviors for our ad
or app at each of these three points for
example if our ad fails to load we might
want to put in code to call a backup ad
network if our ad is closed we might
want to put in code to resume our game
but for now we're going to focus on what
happens once our ad is loaded once our
ad is loaded I'm just going to want to
show it so to do that I want to specify
the activity as in and then our
reference to our ad object and then
similar to loading the ad i just say dot
show ad it's important that this show ad
is inside the UH nad loaded method
because we can only show an ad after
it's been loaded so if we put it up here
and it didn't load we would get an error
so this method is all we really need to
show our ad and the last thing we need
to do is specify that we're using this
custom listener of ours so let's replace
this with a new my custom listener
object</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>