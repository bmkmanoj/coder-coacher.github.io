<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>A Paralle List Ranker | Coder Coacher - Coaching Coders</title><meta content="A Paralle List Ranker - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>A Paralle List Ranker</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XedBf_oHKHA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">let's recap what you've done you've
replaced the conventional linked list
representation with one based on arrays
with that you're now ready to go
parallel to help you do that I'm gonna
give you a handy primitive called a jump
here's a picture of a jump oh wait sorry
wrong picture let's try again suppose
you're looking at a specific linked list
node in a jump you move the next pointer
so that it points to the neighbor's
neighbor so take this next pointer for
example and let's replace it with a
pointer to the neighbor's neighbor now
think about this for a second what the
bad Billy Goat what would happen if at
every node in the list you did a jump at
exactly the same time let's try it and
see so here's the list and every node do
a jump notice what you've just done
you've effectively split the list into
two sub lists as you can imagine that's
exactly what you need to do divide and
conquer now if you keep doing this these
sub lists will get shorter and shorter
and you'll get more and more of them
jump given a set of next pointers as
input you can perform a jump in parallel
using this algorithm and notice that the
new algorithm puts the jump pointers in
a new output array called n sub out so
for each node I we check to see if the
next pointer is nil and if it's not we
do a jump by placing the output in a
separate output array we avoid
collisions and that's what makes it safe
to use parallel for okay you're almost
ready for the parallel list ranking
algorithm so far you've seen three ideas
the first is to store the list as an
array pool the second is to recognize
the list ranking is roughly an ad scan
of course you need to set the right
initial values and finally if we have a
jump operation we can do divide and
conquer go ahead and put these ideas
together you've established that a
linked list has an equivalent array pool
representation so when I sketch the
algorithm I'll draw a linked list in the
old-fashioned way but you'll always know
that there's an array pool equivalent
what about treating the list ranking as
an ADD skin remember that the key idea
here was to choose the right set of
initial values at each node so we put a
zero at the head and ones everywhere
else
now we can apply the third idea which is
to use jumps to get sublists if you jump
repeatedly you know the sub-lists will
get shorter and shorter at the same time
you'll be transforming this list so
you're gonna have to do something with
these initial values how about this
let's maintain an invariant the
invariant will be if we take any node I
and we start at the head of its sub list
and then let's say we traverse the sub
list and we add up all the values then
we'll get exactly the rank of I so for
the initial values you can easily check
that this holds now suppose I've done a
bunch of jumps and I'm looking at a
particular sub list so here I'm just in
the middle of some sub list and let's
further suppose that the invariant holds
now let's jump everywhere simultaneously
you'll get a list that looks like this
now notice what happened for this node
here we effectively cut four out of its
sub list but we need to maintain this
invariant so we can't just drop the
value four we've got to incorporate it
somehow an easy way to do that would
just be to absorb force value so twelve
would become 16 the way this can work is
before we do a jump from four we take
the value of four and push it to its
successor okay let's give this a try
let's do one step of the update and jump
for the update every node pushes its
value to its successor then we do the
jump to create two sub lists and let's
just repeat this process push jump push
jump once every node is a standalone
node you are done now I already gave you
a subroutine to perform the jumps what
about the updates here's an algorithm
for just the update step which is
parallel so for each node I we take its
value and we push it to the successor
will do all the writes to a separate
array of ranks this way we can do all
these updates in parallel okay you're
now almost ready to see the final
algorithm</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>