<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Resampling Method Can Matter | Coder Coacher - Coaching Coders</title><meta content="Resampling Method Can Matter - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Resampling Method Can Matter</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DhxRxG5bSrg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">before ending this lesson I want to talk
about a couple of practical
considerations of particle filters and
the first one involves sampling as you
can imagine sampling is really important
okay because I have this set of samples
and every step I have to generate a new
set of sample so I have to resample it I
go grab a sample where the probability
of pulling out that sample for state X
is proportional to the weight of that
sample and typically I'm doing this a
constant amount of time so n time so I'm
using a thousand samples ten thousand so
however many samples I'm doing that
every time we'll talk actually not today
but next time that number can get kind
of big if your state space gets large so
being able to sample effectively or
efficiently or less often is kind of
important so I want to talk about
resampling a little bit what we have
here is a an outer ring okay where the
idea is that the arc length of that ring
is proportional to the weight okay so
you know W one's small W 2 is bigger W 3
is huge said or whatever and these are
all the weights right so you can think
of sampling as following I just randomly
pick a direction and if I hit W 3 I'm
gonna take sample number three so that'd
be my first sample all right do it again
if I hit W n I pull out the nth sample
and basically I have to keep doing that
n times right so it's kinda it's like a
roulette wheel I spin the roulette wheel
n times and I have to figure out where I
land and that figuring out is actually a
binary search so that's login but I do
that end times
so it's an N log in operation so that's
kind of it's not awful but it doesn't
scale linearly with the number of
samples use it goes up by n log n it
turns out there's a cute little trick
that you can use that is instead of like
a roulette wheel is more like a wagon
wheel and the way it works is this so
let's suppose I have n samples I can
make a set of spokes that are 1 over N
full rotation around so here I've got 1
2 3 4 5 6 7 8 right so each one is an
eighth of an arc and what I can do is I
can randomly
put it down someplace and if I've
randomly done it then I can just read
off for each one of these spokes which W
did it hit okay and in fact the starting
weight right I can just start at some
random one tear and I see what W am I at
and I go to the next one and I see did I
pass a boundary if so that I'm at the
next W and likewise so what's nice about
that is that's done in constant end time
and it's sometimes called stochastic
Universal sampling systematic resampling
the nice thing about it is that it's a
linear time complexity you know if you
do ten thousand points it takes you so
long if you do twenty thousand product
it takes you just twice as long all
right and it's very easy to implement in
fact it's so easy to implement let me
show it to you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>