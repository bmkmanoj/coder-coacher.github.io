<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CRUD Update - Full Stack Foundations | Coder Coacher - Coaching Coders</title><meta content="CRUD Update - Full Stack Foundations - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CRUD Update - Full Stack Foundations</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/a00AK-WMB2E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so we know how to create and read from
our database entries but how do we
update existing data within our database
it seems we have a situation on our
hands that calls for this veggie burgers
across town have been all the rage
causing rapid price competition amongst
our restaurants urban burger wants to
cut the price of their veggie burger to
299 with SQL alchemy performing an
update like this is a pretty simple four
step process first we execute a query to
find the veggie burger we want and store
it in a variable second we declare the
new price of the variable next we add
the variable to our session and finally
we commit the session to the database
follow along as I do this from the
Python shell so the first step in our
update process is to find the exact item
we want to update looking at the SQL
alchemy documentation for queries I see
we have a filter by feature that lets us
filter queries based on attribute
entries like name let's go to our Python
shell and give it a try so let's use the
filter by function to find all the
veggie burgers in our restaurant menu
database following the syntax from the
documentation i append dot filter bride
to my query on menu items and set the
veggie burger as the name of the menu
item I want to search for then I stored
in the variable named veggie burgers the
filter by function always returns a
collection of objects so let's create a
for loop to iterate over each object and
retrieve the information about each of
these veggie burgers inside our for loop
let's print out the ID of each veggie
burger its current price and the
restaurant it belongs to I'm also going
to print a new line character to make
our results a little bit easier to read
when I close my for loop and execute I
get back a list of all the veggie
burgers in my database the first one
here is from urban burger and has an ID
of eight now I will create another query
where I only return the menu item with
an ID of eight I will store it as urban
veggie burger if I up in the dot one
function to the end of my query I make
sure SQL alchemy only gives me the one
object I want instead of a list that i
would have to iterate over just to
double-check we have the right burger
let me go ahead and check its price yep
the veggie burger cost 599 just like you
did in our first query now let's reset
the price of the urban veggie burger to
299 we can then add the urban veggie
burger object to our session and commit
it to the database so now if we execute
the same original query to see all the
veggie burgers in our data
we see that urban burgers veggie burger
now has a price of 299 now let's assume
all the other restaurants have reacted
to urban burgers audacious price drop
and want to set their burger prices to
299 as well let's use our same for loop
and modify it a bit to change the price
of all the veggie burgers in our
database to 299 I'm going to use this if
statement to avoid unnecessary database
updates to an entry that already has the
price of 299 and just update the other
veggie burger menu items now querying a
third time I see all the veggie burgers
in our menu have the same price let's
get a little more practice with updates
by answering the following quiz
questions</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>