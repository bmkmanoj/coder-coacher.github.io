<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Drawing a Map from SVG Paths - Data Visualization and D3.js | Coder Coacher - Coaching Coders</title><meta content="Drawing a Map from SVG Paths - Data Visualization and D3.js - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Drawing a Map from SVG Paths - Data Visualization and D3.js</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/uoHzcmf4yXU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now hopefully you have a little more
context into the process of projecting
three dimensions into two for the
purpose of creating a map and now we can
begin drawing our world map in d3 so to
recap we have a Geo JSON file world
countries JSON there we load in with our
typical d3 JSON data loading file
calling our function draw once all the
data is loaded and in our draw function
we've already set up the Mercator
projection now we need a draw the SVG
path to actually visualize the map think
of the projection in this case analogous
to the scales we used for our chart with
scales we converted a data value either
an integer or a float into a pixel value
the Mercator projection while internally
is much more complicated than something
like a linear or logarithmic scale
perform the exact same function given a
coordinate of longitude and latitude it
spits back an x and y pixel and to
actually create the SVG object they will
represent the polygon of our map we use
d threes
geo path now even though the projection
converts from longitude and latitude
into the pixel domain we still need to
construct the SVG objects to correctly
render those pixels and that's exactly
what the d3 geo data path does and to
let it know we're using the Mercator
projection we can simply call the dot
projection method on the path passing in
the projection we would like to use so
let's put all these pieces together to
actually draw the map with our data this
bit of code I added should look very
familiar to you by now and this similar
to the code we used to draw our chart
first we select all of the paths in this
case in our SVG since those are what
we're going to be
adding and bind our geo JSON data to
this empty selection it's empty again
since it's the first time we're drawing
a map on our page and notice here that
I'm not just using geo underscore data
but I'm using the dot features array
remember geo data actually had two
top-level keys and the dot features key
correspond it to the array of country
coordinates and now with our bound data
and again remember that this is an array
of placeholder elements we then make the
enter selection to select all the paths
of countries that are currently not on
the page which is all of them since this
is the first time we're drawing the map
and for each of these we want to append
a path to our SVG that has its D
property set to this path object we
created above SVG path elements are
quite flexible I can represent most any
shape and you simply pass it a series of
vertices or points in the D attribute
that can be thought of as the data of
the path to specify the SVG path to
actually draw notice here that we simply
pass the d3 path object without any
arguments or without using any callback
accessor function how does it know which
country to draw in</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>