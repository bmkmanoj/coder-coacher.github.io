<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Tournament Barrier (cont) - Georgia Tech - Advanced Operating Systems | Coder Coacher - Coaching Coders</title><meta content="Tournament Barrier (cont) - Georgia Tech - Advanced Operating Systems - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Tournament Barrier (cont) - Georgia Tech - Advanced Operating Systems</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VoJztVnEA6k" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so at this point when p0 is declared the
champion of the tournament what we know
is that everybody has arrived at the
barrier and this knowledge is available
with p0 but not with anybody else so
everybody everybody is arrived at the
barrier but p0 is the only one who knows
because he's a champion he knows that
that everybody is arrived the barrier so
clearly the next thing that has to
happen is of course free of all the
processes to indicate to them that you
know it's time to move on to the next
phase of your computation so let's talk
about the wakeup
so what p0 is going to do is is gonna
tell p4 that it's time to wake up and
you know if you want to use the
tournament analogy again in any
tournament the winner walks over to the
loser and shakes hands right so you can
sort of think of the same thing
happening over here before but the foul
face is waiting for p0 to come over and
let him know that ok it's a good match
shake hands with you and so p0 is going
to come over and let him know
shake hands so that's the first thing
that happens so in other words at this
point p0 is awake of course and he's
also waking up P foot before saying that
well barrier is done and now both of
these guys can go to the next level and
do the honors at every level so just as
I said about p0 coming in shaking hands
with P for what p0 is gonna do is go to
the next round and shake hands with p2
p4 go to the next round and shake hands
with p6 and and so on and of course if
you think about the analogy of a
tournament as soon as the match is over
the winner is going to shake hands with
a loser but in this case the winner
shakes hands with the loser after the
tournament is all done so at every level
are gonna have that so essentially p 0
and P 4 come down to the next level and
and they shake hands with the respective
losers at that level and as I said if we
have for some arbitrary n where n is a
binary power you're gonna have this kind
of propagation of wake up signals going
from the winner to the loser at every
round and and all of them wake up and go
to the next level because all of these
guys are winners from the previous level
so all of these winners
go to the next level and wake up the
losers at that level so that's what is
gonna happen again what that means from
the point of view of a shared memory
multiprocessor is that the spin location
for P 4 P 2 and P 6 it's all fixed right
statically determined it P 4 knows that
p 0 is going to come over and shake
hands and so he can spin on a local
variable that is close to its processor
and so again this is important for NCC
Numa machines in which there is no cache
coherence and therefore it is convenient
if B 4 can be spinning on a memory
location that is close to the processor
same thing with P 2 and P 6 at the next
level so this process of waking up the
losers at every level goes on till we
reach around 1 and when
around 1 all the winners have
congratulate or not concatenated but
shook hands with the respective losers
at the first round at that point the
wakeup is complete everybody is a week
now and and the barrier is done so all
in a week and the barrier is done and
they can move on the next phase of the
computation and once again in order to
make sure that there is sense reversal
everybody knows that this barrier is
done and they're going to go to the next
phase of the computation where they'll
wait on the different sense of the
barrier so that's the tournament barrier
algorithm so the two things that I want
you to take away is the arrival moves up
to tree like this with match-fixing and
all the respective winners at every
round waiting on a statically determined
spin location and similarly when the
wakeup happens the losers are all
reading on a statically determined spin
location in the respective processors
and the winner comes over at every level
or every round of the tournament the
winner comes over and tells the loser
that it's time to wake up so that's how
this whole thing works so now that we
understand this tournament algorithm
let's talk about the virtues of this
algorithm</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>