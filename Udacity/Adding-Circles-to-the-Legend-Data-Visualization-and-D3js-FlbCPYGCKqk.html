<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Adding Circles to the Legend - Data Visualization and D3.js | Coder Coacher - Coaching Coders</title><meta content="Adding Circles to the Legend - Data Visualization and D3.js - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Adding Circles to the Legend - Data Visualization and D3.js</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FlbCPYGCKqk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">What we have here is somewhat similar to what we did with the circles, for
each one of our data points.
Since we use this over and over again, in practice, I would most likely abstract
this IF conditional into some function outside of this block of code.
But, for clarity's sake and understanding, I've written it out, and
with this legend, these groups we've just created.
I'm going to append a circle for each of the bound datapoints.
Set the y attribute of that circle to be some variable i times 30.
Previously we've only used accessor functions like
this to access the datum that was bound.
But if we specify in our function, two arguments,
(d, i) in this case, we actually get the index of the data point.
In this case, we only have two data points, home team and
others, so i of zero is going to be home team.
I of one is going to be others.
And depending on which position we're at in the array we passed to the data
binding function, we're simply going to increment the y position by 30 pixels.
This might seem silly, for a legend that only has two items in it.
But let's say we had a complex chart that maybe had ten different lines or
types of circles or shapes we've drawn.
We wouldn't have to want to specify either in the data some value or hard code
in the exact pixel every one of those ten lines should show up at in the legend.
For the radius and
the fill, nothing new here, we simple check, is the datum home team,
if it is, we're going to draw it to be the same size as the home team circles.
Radius times multiplier.
And if it's not the Home Team just draw it the same size as
all the other d circles.
And for the fill, if it's the home team fill it to be red and
otherwise make it blue.
I'm going to comment out this last bit of the legend code that appends text,
save my file and see what shows up on the page.
Refreshing the page.
We have our initial chart and
here we see two circles that seem to be floating in space.
But again we haven't appended the text that corresponds to what each of
these circles represents.
We've only drawn a circle the same size and color as the one we want to label.
So now let's go back to the code and actually add text so that a reader knows
what the small blue circles are and what the larger red circles are.</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>