<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Directory Moesi Solution Quiz - Georgia Tech - HPCA: Part 5 | Coder Coacher - Coaching Coders</title><meta content="Directory Moesi Solution Quiz - Georgia Tech - HPCA: Part 5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Directory Moesi Solution Quiz - Georgia Tech - HPCA: Part 5</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ZMz7f5NBiVk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">let's look at the solution for what
happens in our directory Morrissey quiz
when course zero issues are read it
sends a request to the directory the
directory doesn't forward or get any
responses it just sends a response when
there is a write the course zero gets
this block a in exclusive state because
Massey has such a state cores ero can do
the right without telling anybody so
there is no request sent to the
directory and then there is no director
activity as a result of that when core 1
reads a it sends a request to the
directory the directory will now send a
request to the only core that is
involved in sharing this block which is
called 0 so it sends one message core 0
responds with the data and acknowledges
that now it's OK to read this block and
when the directory gets this message it
sends to core 1 a response
now core 1 can read the block so now we
have core 1 has the Block in the shared
state court 0 is now in the own state
because it downgraded itself from
modified to owned core 2 now tries to
read sends a request to the directory
the directory if it has only the state
that we have seen on the previous
segments does not know who is the owner
of this block but it doesn't need to
send anything so it gets to memory so
pretty much the directory here doesn't
send any messages forwarded because it
no longer sees the block in the dirty
State so it doesn't forward anything it
doesn't get responses it just sends a
response back to core to note that here
we are unable to benefit from the own
state simply because the directory
doesn't know to ask core 0 to provide
the data with a fancier directory we
would be able to do that but not with
the directory that only tracks presence
and dirtiness so now C 2 also has the
Block in the shared State the same thing
happens for see trees request there is a
request the directory doesn't forward
anything just sends a response because
it has to read the data from memory and
now core 0
rights because it's in the old state it
is not able to write without notifying
the directory so it notifies the
directory this right is an invalidation
request because we have the data but we
need to send in validations to these
three processors so the directory knows
that calls 1 2 &amp;amp; 3 their caches have the
block so it sends 3 messages to these
three destinations it gets three
responses from each of them once they
have all acknowledged that they have
invalidated it sends the response back
to core 0 and now it's able to write so
overall we had 5 requests sent to the
directory and that also means that there
are 5 responses from the directory
because every request will have a
response the directory has forwarded 4
messages
note that this is not like 4 out of 5
got messages forwarding in fact one of
these was for one message and the other
three were for the second message and
then we got four responses to these
messages again every message needs to
get a response because the directory
cannot acknowledge and allow a court for
example right until all of the shares
have indicated that they have
invalidated their state in the cache</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>