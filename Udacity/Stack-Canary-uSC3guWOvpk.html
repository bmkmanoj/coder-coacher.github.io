<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Stack Canary | Coder Coacher - Coaching Coders</title><meta content="Stack Canary - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Stack Canary</b></h2><h5 class="post__date">2016-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/uSC3guWOvpk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we said buffer overflows are bad so what
can we do beyond this relying on the
programmers or coders to avoid those
kind of vulnerabilities one way we can
do that is remember that one of the the
tricks that hacker uses is to overwrite
the return address field that we have on
the stack and their stack frame
wherever the function executing when the
bad input is received the return address
is modified that should not be during
the execution of that function there is
no reason for that return address to be
modified because this return address is
where we are supposed to go back and
where we go back should not change while
we are executing this call function okay
so how can you detect if the return
address has been modified and if it's
been modified you know there is an
overflow and if you can automatically
detect that then you can stop things
right there program can terminate or
something like that so how can we detect
any modification so one technique is
what is called stack Canaries so these
are sort of like coal mines we have
those words that tell you when the
harmful gas concentration is high or
something like that what we can do it
just before the return address in a
frame we can store when the function
call is made at that time we can store a
canary value in a location that is just
before the return address if you're
going to overflow into the return
address you're going to come wire this
canary value so if the return address
gets overwritten chances are that the
canary value is going to get overwritten
also so all you have to do is before you
return from the function you check if
the canary value has changed you knew
what the canary value is when the
function call was made because that's
you had placed it in this location just
before the return address so you're
going to compare what that location
contains now with the value that you
knew if they don't match then there is
an overflow and potentially the return
address has been modified and if it's
been modified then you shouldn't go on
we have detected a buffer overflow and
potentially could change program control
flow and lead to attacker code and so on
so that modification should basically
indicate to us that in that there is a
problem here so canary value basically
just says if it had changed this is done
automatically isn't it the programmer
has to do nothing they can pilot the
weight sets up the stack and sets up the
various data structure the data
structure within the stack frame that's
where we adding this and we check NIT
automatically so the programmer has to
do nothing to get this extra security
that comes from this defense that we
just talked about that the text buffer
overflows so stack Canaries is one way
you can do that</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>