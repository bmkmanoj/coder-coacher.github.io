<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Testing Announcements - Developing Scalable Apps with Java | Coder Coacher - Coaching Coders</title><meta content="Testing Announcements - Developing Scalable Apps with Java - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Testing Announcements - Developing Scalable Apps with Java</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/x8NhiC91BSs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so I'm running my app now on localhost
and you'll see if you look in the API
Explorer and drill down into the
functions in the conference API that the
sect announcement method is not here
that's because we didn't expose it as an
endpoint function instead we defined it
as a servlet on purpose to keep it
internal to the application so the api's
Explorer lets you explore endpoint
functions but it doesn't let you explore
your servlets since we're going to put
things into memcache I've deployed my
app to app spot so I can use the
memcache viewer first I'll make sure I
have some conferences that are nearly
sold out okay this one's pretty close to
being sold out only three seats left
this one's only got one seat left okay
so I've got a couple of conferences to
only have a couple of seats left to test
the new set announcement function you
can use the browser to go to the URL map
to the servlet however you do have to be
logged in as a developer on the
application or you'll get an error that
you're not in the required role and
that's because we don't want just any
old person coming along setting the
announcements by going to the URL in the
browser so to trigger the set
announcement function we go to the URL
that we mapped it to in these early in
this case which is cron / set underscore
announcement so when I go to the URL
Crohn's underscore / said announcement
nothing seems to happen but actually
that's expected remember that the
servlet doesn't set a response so
nothing happens in the page and if you
got to the place where it asks you to
login and you go ahead and login you're
going to remain on the login page even
when the URL execute however we can use
the memcache viewer to check that the
announcement got set so here in the
memcache viewer we do see that we have
one item we can use the content lookup
section to look to see if it is our
announcement the key we used was recent
announcements it's a java string so
let's display it see if we have an
announcement and yes we do so the
announcement about the conferences that
are nearly sold-out has been created and
saved in memcache so now we can say
value
memcache and we can use the memcache
viewer to get those values back we're
going to want to show this announcement
to other people not the developers of
the application let's go ahead and
create an endpoint function to get the
announcement out of memcache so we can
show it to other people so another thing
I want to mention is that in the
constants class Constance Java we define
the key for the announcements and this
is where we get the recent announcements
key from so in the conference API class
you can define the get announcement
function this is going to be an end
points function so this is a fairly
simple function basically get some em
cash service and then calls the get
method on the memcache service passing
in the announcement key we check if the
value is now as long as it's not now we
create a new announcement object and we
set the message property to the
announcement that we got out of memcache
and again we have to return an
announcement rather than just a string
because this is an endpoint function and
endpoint functions can't return just
strings</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>