<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Write Rules for ShoppingList++ | Coder Coacher - Coaching Coders</title><meta content="Write Rules for ShoppingList++ - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Write Rules for ShoppingList++</b></h2><h5 class="post__date">2016-08-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ihl2Y-1cYj8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">using the process that I just showed you
I went ahead and made up a little bit of
a draft for the rules that I think we
might want to use in shopping list plus
plus and I just outlined them in English
because I'm going to want you to
eventually implement these now just as a
caveat I know this is not a complete
list I'm sure there's plenty of
additional validation rules and maybe
some rewrite rules that you can add into
this but it's at least a start okay so
let's take a look I started off with the
users note here and it probably looks
pretty darn familiar I think the biggest
thing to point out is I went ahead and
indented this has logged in with
password property and I tried my best to
do some indentation to imply where I
think the rule should be placed but as
always use your best judgment about
rural placement the rules pretty much
follow what I explained before so let's
go ahead and take a look at user lists
next scroll down and this is for a
specific user I decided that we're
probably not going to have read or write
rules for the entire list of all user
lists in the app but for a single users
shopping list there is a read rule and
it basically says that each user should
be able to read their own lists but
there's no real reason why any other
user should be able to read and other
users shopping lists that's probably a
bit of a privacy concern if they could
now I didn't put a right rule at this
level because that would basically say
that somebody could do a bulk right like
right three shopping lists at once and
you never really do that in the app you
always write one less at a time which is
why I down here I have a right rule for
a single list for single lists that are
part of a user list you need to give
specific write privileges and what this
permission here is basically saying is
that the owner of the shopping list
which is different than the owner that I
mentioned here but the owner of the the
specific shopping list that's being
written can add that list or can delete
that list so an example of this is that
within the app the delete menu option
should only be visible to the owner of
that shopping list so say cougar e has a
shopping list that she creates called
liste and she shares it with Walter
myself now she's the owner of that
shopping list but that shopping list is
now in Walter and my user lists because
we have access to it as the owner of the
list she has the permission to be able
to go ahead and delete
shopping list and she that needs to go
into each of our user lists and delete
that shopping list from our user lists
and with this right rule she should be
allowed to do that because she is the
owner of that specific shopping list
okay but note that we don't give any
editing privileges at this level and
that's because I didn't want to make it
so that all of the properties of a
shopping list can be edited or editable
in the same way so down here for each of
these properties i defined who can edit
them more explicitly and i also have a
couple of additional validate rules that
go beyond these structural stuff that we
talked about before okay so next our
shopping list items there's no part of
the app where you're reading all
shopping list items in every single
shopping list so again this is for a
specific shopping list anyone who is
shared on the list or the owner of the
list itself should be able to read the
items so that they can be displayed in
the active list details activity
activity writing is a little bit more
complicated since it varies from
property to property since you add items
one at a time the only right action that
can be done for the whole list is to
delete it anyone who shared on the list
could add a single item and furthermore
if the item is not bought I say that
either the owner of the list or the
owner of the item can remove or edit the
item this is not entirely true since in
the app the owner cannot edit items but
for the sake of brevity the rules won't
specify that you can't do that again if
you want to take the time to get a
little bit more specific in the rules
that's awesome okay so just as I did
with user lists I go down here to the
specific properties and have some
additional right and validate rules for
example we have validate rules that make
sure that if an item is bought it has
about by user okay let's go down to the
shared with node like items the shared
with note is tied to a specific shopping
list and this no needs to be readable by
anybody that is on the list because
every time you update a list property we
have this look up where you see who else
is shared on the list and then use that
to that update everybody else's shopping
list writing to the shared list which
basically means the ability to share
that list and add and remove users is
restricted to the owner of the shopping
list and they can either completely add
a user or completely remove a user but
they can't edit specific properties with
users which is why i explicitly say Adam
finally user friends is restricted both
read and write to just the user that
owns that list of user friends okay so
this is just a draft summary of the
rules that I came up with and again if
you think there are a couple of
additional rules like you'd like to add
definitely go for it I encourage you to
add them and make shopping list plus
plus more secure</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>