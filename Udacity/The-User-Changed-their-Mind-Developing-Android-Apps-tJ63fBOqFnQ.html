<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>The User Changed their Mind! - Developing Android Apps | Coder Coacher - Coaching Coders</title><meta content="The User Changed their Mind! - Developing Android Apps - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>The User Changed their Mind! - Developing Android Apps</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tJ63fBOqFnQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right I get the hint you actually
want this class to be finished sometime
before the next Android release happens
we're almost done so if we look in
forecastfragment you know on start we've
actually been cheating a bit every
single time we get to on start we
actually update the weather let's get
rid of that it'll force us to actually
have to use the refresh function to get
new weather but it'll help illustrate
the cool stuff we're about to do with
preferences we're going to stop cheating
here and on preference change if we're
not actually binding preferences we're
going to execute a new fetchweathertask
if there's a change in location
otherwise we'll just notify our content
uri to allow our cursor to update we
still have to do one more thing in
forecastfragment
we've been using an instance variable m
location to save the preferred location
we get when we're actually in oncreate
loader we've been doing that because
we've been planning to use this for a
while let's override another function
and on resume we need to check to see
whether or not our location has changed
so if our location is not able to null
and utility that get preferred location
does not equal location well then we can
call update weather let's see what
happens you see it immediately changed
back you didn't see that loading because
I didn't have to load anything however
if we change settings does something
else its refresh in the background well
it turns out updating weather doesn't
actually help us here why because our
URI hasn't changed remember we're doing
everything based upon URI what we really
need to do is reset our loader so how do
we do that well it's pretty
straightforward just like we did in on
activity created we have to use loader
manager so instead of calling update
weather what we're actually going to do
is call something else in this case not
a nit loader but restart loader it takes
the same parameters it's a nit loader
now let's try this again that already
looks better all right let's change back
to our own weather again there we are
as you can see the weather is changing
as we go from location to location but
we still have this problem obviously
when we change settings here it doesn't
affect anything
so we need to fix that that's where you
come in</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>