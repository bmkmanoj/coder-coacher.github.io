<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Server Design - Georgia Tech - Advanced Operating Systems | Coder Coacher - Coaching Coders</title><meta content="Server Design - Georgia Tech - Advanced Operating Systems - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Server Design - Georgia Tech - Advanced Operating Systems</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Pp5Dy1u0ARs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now let's discuss how we will design a
server that requires some persistence
support using this idea of a persistent
virtual memory so this is the virtual
address space of the server and note
that not the entire virtual address
space of the server needs to be
persistent because as the developer the
subsystem designer knows what data
structures in his design need
persistence so for instance if you take
a concrete example like a file server
design then the inode data structures
which may be living on the disk are the
things that the file system designer
would want to make sure that they
persistent so if an inode data structure
let's say M 1 is mapped into a portion
of the virtual address space then it is
manipulation of M 1 in particular
updates to M 1 that needs to be
reflected in the backing store these
data structures M 1 M 2 and so on are
data structures which are in memory
versions of persistent data structures
that live on the disk we will call the
collection of data structures that need
to be persistent on the disk as a data
segment and an application may choose to
use multiple data segments that
corresponds to persistent objects that
it needs to manipulate in the course of
its execution
so these data structures M 1 M 2 and so
on are the persistent metadata that have
an on disk copy as well as an in-memory
version whereas all the other stuff in
the virtual address space of the server
are normal code and data structures so
in terms of flexibility for server
design it would make sense to allow an
application to create as many data
segments as it needs in order to support
what it needs to do in its design so
what we need to do is to allow an
application to map an external data
segment by external data segment what we
mean is that there's a data segment that
is external to the virtual memory living
on the persistent medium in this case a
disk and
the application is gonna map this
external data segments to selected
portions of its address space what we
will help the application do is to
explicitly map regions of the virtual
address space to data segments that live
on the disk and as I said to allow
flexibility the application designer may
choose to have multiple external data
segments and map these different data
segments to different portions of the
virtual address space in other words the
application completely manages their own
persistence needs and all that we are
providing is the ability to specify
external data segments to back
persistent data structures that we're
going to manipulate in memory so what
the application would do is at startup
it'll map these external data segments
to selected portions of its virtual
address space in order to create the
in-memory versions of the data
structures it needs to manipulate during
the course of its execution and the
mapping between this virtual memory
space and the external data segment is
also one-to-one that is there is no
overlap of external data segments in
terms of occupancy within the virtual
address space and this makes the design
of a reliable virtual memory that much
more simpler so simplicity is the key in
the design so that it is easy to use
flexible and performant and those are
the goals that the authors of reliable
virtual memory set out to accomplish and
just as mapping is done at startup at
any point of time the application can
choose to run map a portion of the
virtual address space that is mapped to
the external data segments and we will
see later on that opportune moments for
doing this unmapped would be when no
commits are pending for these in-memory
data structures and the external
representation of those data structures
in data segments living on the disk</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>