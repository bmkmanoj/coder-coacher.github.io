<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Auditing Street Names - Data Wranging with MongoDB | Coder Coacher - Coaching Coders</title><meta content="Auditing Street Names - Data Wranging with MongoDB - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Auditing Street Names - Data Wranging with MongoDB</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/c0IcUiF_kXs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the next thing I'm doing here then is
i'm using a function that I wrote here
in this code called is street name okay
and the way its street name works is it
simply looks at the element that was
passed in so in this case I'm taking
that nested tag that I got back from my
way element all right and I'm checking
the K attribute for that element okay
and if you remember how attributes are
part of a tag okay so for example here
is an example of a que attribute and in
fact what I'm doing next then is I'm
saying all right i want that k attribute
to actually have this value okay so i'm
looking for tags that actually specify a
street name again we're talking about a
way here okay so items with this
particular key should have as their
value the name for that way whether it's
3rd Street or 14th Avenue or say seventh
avenue here in new york city near where
the MongoDB offices are located okay so
the next thing I'm doing here then is if
I've got a tag that's actually
specifying the name for that particular
way then I'm going to call audit Street
type okay so let's take a look at that
all right now the way I've set up audit
Street type is it's actually going to
use a regular expression this regular
expression is one that we've seen before
what it does is pulls out or matches the
very last word in a street name because
most street names end with the street
type that we're interested in so avenue
or Boulevard Street something along
those lines okay so in order to get the
value that actually matched so if this
condition is true then there was a match
of some kind and the way I get the
specific match is by calling the group
method of the match object okay so the
next step here then is what I'm doing is
I don't actually want to see these come
out in my audit these are what I expect
is names these are normal these there's
nothing wrong with these I don't care
about these I don't care about trying to
fix these I'm just trying to find
weirdos here okay so what I want to do
here is if the street type that I
matched
okay as the last word in the street name
okay it's not in my expected list then
what I want to do is to my street types
dictionary which I initialized right
here what I want to do is add that
street name so basically what this says
is if the street type that I found here
for this particular tag is a weirdo then
I want to add it to the street types
dictionary where I'm keeping track of
all the unusual Street types ok now the
way I've done this is I've set this up
as a default dictionary okay and this
allows me to not have to check to see
whether the key is already in the
dictionary it's a convenience okay read
the docs if you want to know a little
bit more about default dictionaries the
value for each one of these keys so if I
find something unusual like a ve period
okay for example which isn't going to be
in this expected set that key might
appear in Street types the value then
will be a set so what I'm going to do
then is for my street type I'm going to
add the specific street name that I
found because I'd like to see all of the
examples all right where a particular
unusual Street type was used to give me
a better sense for the data as a whole</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>