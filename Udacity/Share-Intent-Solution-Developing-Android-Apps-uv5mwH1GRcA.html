<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Share Intent Solution - Developing Android Apps | Coder Coacher - Coaching Coders</title><meta content="Share Intent Solution - Developing Android Apps - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Share Intent Solution - Developing Android Apps</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/uv5mwH1GRcA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">here's our coding solution for the share
action provider let's start by adding a
string the string will be used for the
label for our action now we're going to
add a new menu resource this resource
will be for the detail fragment we'll
start by adding the namespace used by
the Android support library for its
widget XML finally we add the actual
item this menu item contains the string
that we just added from the strings file
it's always shown as an action so it
appears on the action bar and its action
provider class is the share action
provider from the android support
library the android support library
allows the share action provider to be
used on earlier versions of android than
4.0 when it was officially added to the
framework next let's go to the detail
activity we're going to be looking at
the detail fragment within the detail
activity so the first thing we can do in
our fragment is to add a few useful
things let's add a log tag a string for
the share hash tag hash tag sunshine app
and we're going to take the forecast
string and make it a member variable
next and on create view let's actually
populate our member variable and then
finally use it to set the text let's
create a share intent this intent uses
action send this flag activity clear
when task reset is somewhat important it
prevents the activity we're sharing -
from being placed on to the activity
stack what will happen if we don't have
this flag is when you click on the icon
to return to the application later you
may actually end up in another
application the one that's actually
handling the share intent when flag
activity clear when tag reset is used
it'll actually return you to your
application instead we've set the type
text plane to let Android know we're
going to be sharing plain text and then
we share our forecast string plus our
hashtag only one more thing left to do
we have to add the menu to the fragment
to do this we have to set a flag that
this fragment has an options menu at all
otherwise it won't actually call the
oncreate options menu member function
fine
here's our on create options menu member
function as you can see we're inflating
the detail fragment menu that we created
earlier
finding the share item getting the share
action provider and attaching our intent
to the share action provider you'll want
to update this whenever the data you
want to share changes and that's it
you've now added a share action provider
in the sunshine</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>