<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hierarchical Predictor Example - Georgia Tech - HPCA: Part 1 | Coder Coacher - Coaching Coders</title><meta content="Hierarchical Predictor Example - Georgia Tech - HPCA: Part 1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hierarchical Predictor Example - Georgia Tech - HPCA: Part 1</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/RsPByrnqDfo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so let's look at a real example of a
hierarchical predictor we will look at
Intel's Pentium M processor that has
these predictors first it has a cheap
predictor that contains just two bit
counters then it has a local history
predictor and a global history predictor
so what the processor is doing is it has
a large array of two bit counters a
local history predictor that stores the
local history for each branch and an
array of two bit counters for different
histories and the global history
predictor with the global history that
is longer than the local histories here
and also an array of counters for that
predictor so if we try to predict a
single branch what we would do is we
would look up the PC for the branch in a
two bit counter array we will also try
to look up the local predictor and the
global predictor prediction and then we
form the actual prediction for the
processor by using the result of the
global predictor if the global predictor
says that the branch is predicted here
and for that what we do is we keep
another array here that is just saying
whether this branch so this is kind of
like a tag array that says with this
branch is going to be predicted by the
global predictor if the global predictor
does not have a matching tag that means
that this branch was not inserted in the
global predictor in which case we
shouldn't use it if that happens we will
use the prediction from the local
predictor which will also have a tag
array that says whether this predictor
should be predicted by the local
predictor and if so then we use that
otherwise if the branch is not in the
local predictor we just use the result
of the two bit counter when we update
the predictor however what we do is we
update the two bit counter if we have
the branch in the local predictor we
update the local predictor if we have
the branch in the global predictor we
update the global predictor but then
what happens is if we are using the two
bit counter and the branch is not in the
local predictor then what we do is if
the two bit
counter is miss predicting the branch we
inserted into the local predictor so now
the branch will be present here next
time if the local predictor is not
giving us good prediction for this
branch then we insert the branch into
the global predictor so what's going to
happen is pretty much branches that are
almost perfectly predictable by two bit
counters and that's a lot of branches
for example every always taken branch or
branch it is dominantly taken it's gonna
be mostly predicted by the two bit
predictor so we never really need to
consult the local and global predictors
and that saves space in these predictors
for other branches that need them saving
space means that we can have a lot fewer
of the two-bit entries in the history
entries then we would otherwise need if
we were trying to predict all the
branches with the local or even the
global predictor so how do we say
whether the branch is present or not
well what we really do is we insert some
bits of the branches address into the
corresponding line of the predictor so
the history entry here we will index
with some bits of the PC to find the
history and in that same entry we will
also insert some of the upper bits of
the PC so that different branches that
map to this entry only one of them gets
to be predicted by this entry the rest
of them say that they are not found here
so the idea is that if most of the
branches that end up mapping to this
entry are really predictable with two
bit predictor then we don't really need
to use this entry for those branches</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>