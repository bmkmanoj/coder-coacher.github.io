<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Refactoring Demo - Georgia Tech - Software Development Process | Coder Coacher - Coaching Coders</title><meta content="Refactoring Demo - Georgia Tech - Software Development Process - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Refactoring Demo - Georgia Tech - Software Development Process</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/oMpPs8khUVk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so now we saw this set of refactorings
they're nice but how can we actually
perform refactorings in some cases that
you'll have to do it by hand and you'll
do it in that case in small steps so
that you can check at every step that
you didn't introduce any error but
there's also many cases in which at
least for the more standard refactorings
you can just apply you can just use a
tool that actually supports refactoring
I'm going to show you how that works
into a specific ID Eclipse through a
demo to show you how Eclipse can help
you in performing refactoring in an
automated way I just open the Eclipse
editor and I maximize it so that we can
look at the code more clearly and as you
can see here I have this class is called
refactor ville it's a pretty indicative
name and what we're going to do we're
going to try to apply the extract method
refactoring to this class and in
particular two parts of this print Owen
method so this is a matter that would
print Owings as the name says and you
will do several things such as for
example printing a banner first then
calculating the outstanding dads and
then printing some details so the
starting point for an extract method
refactoring is the identification of
some cohesive code fragment and here for
instance we can see that if we consider
these three print statements they're
basically printing some banner for the
method and I also put a comment here
just to make that even more explicit so
this is a perfect case in which we might
want to just extract this part create an
independent method so that we can make
the code more readable a maintainable so
I select the part of the code that I
want to put in my method I invoke the
contextual menu and as you can see there
is a refactor entry here here are some
refactorings are listed the refactoring
that I can apply it and I'm gonna select
the extract method when I do that
eclipse is gonna ask me to specify a
method name I'll just call this one
print banner and as you can see as soon
as I do that that case will show me the
preview or the matter that would be
generated I'm gonna leave the access
modifier to public and I'm not gonna
change anything else so now when I click
OK
as you can see Eclipse modified my code
so that now I have the print banner
method down here that does exactly what
that piece of code was
before and I just have an invocation of
a print banner method up here where the
code was before and of course this is
something that we could have done by
hand that's pretty easy to do but it's
even easier to do it using eclipses
capabilities and this will become even
more apparent when we consider slightly
more complex case so here if we look at
this piece of code for instance we can
see that this code brings some details
about the O wings and the reason why
this case is slightly more complicated
it's because this code needs to know
about the value of outstanding and
whereas the underscore name is a member
of the class and therefore will be
available to the method outstanding is a
local variable so a method different
from print or we wouldn't know anything
about a standing so let's see what
happens when we try to apply a
refactoring for this code so we go again
here to the refactor menu we select
extract method we will pick a name again
so let's call it print details since
this is what the code does and as you
can see here Eclipse was able to figure
out that outstanding has to be a
parameter of this method so if you look
at the signature here this would be very
clear so outstanding has to be passed to
the method because it's a local variable
of the print o in method so it will not
be visible to the other method otherwise
so since Eclipse figure it out all I
have to do is to press ok and at this
point all that we'll have here is my new
method print details that takes
outstanding as a parameter and that's
exactly what the code was doing before
and here where the code was I will have
my print details invocation without
standing as a parameter so now let's
continue to extract matters and let's
look at the even more complex case which
is the one involving this piece of code
so this piece of code as you can see
will calculate the value of the
outstanding that will calculate the
wings and the way in which it does that
is by considering all the orders that
are part of this enumeration that is
declared here and it will compute for
each one of these orders the amount and
then add it to outstanding so what is
the additional complication here well
the additional complication here is that
this
code needs to know not only about our
standing it also needs to know about
this enumeration because this one is
also a local variable and in addition to
that this code also has some side
effects so outstanding is modified as a
consequence of the execution of this
code so how can we do that in the
extracted method well let's see what
eclipse will do and what eclipse will
suggest if we try to again refactor this
code and extract a method in this case
as you can see Eclipse that's two things
first of all it figures out as before
that there are some parameters that are
needed for this method to operate
correctly the enumeration in as we said
and the extended variable in addition if
you look at the method signature at
least we'll also figure out that this
method has to return a double value so
what does this value correspond to this
value corresponds to the new value of
outstanding so if we give a name to this
method so we just use the name that I
put in the comment over there we click
OK
this will create a method by extracting
the code and here what the method used
to be we will have that the value of
outstanding is updated based on the
return value of calculate outstanding so
in the end if we look at this code you
can see that if we just focus on this
code it's very easy to understand what
it does it prints the banner it
calculates an outstanding value and then
it prints some details and in case we
don't care as I said before about the
details of what these methods do we're
done and if we care about the details we
can look at each method individually and
get exactly the same information that we
got before putting in a sort of
separation of concerns kind of way by
focusing on one problem at a time
so now let me do one last thing let me
modify the code slightly so I'm gonna go
back to the version of the code before
refactoring so this is what we had and
I'm gonna add an additional variable
here called count which I initialize to
zero
here I'm gonna increase
the value of counter at every iteration
and finally here I'm gonna print out the
value of count okay now that I have this
code so let's imagine that I want to
again as I did before extract this
method so I'm going to give you a second
have a look at this and see if you see
any problem with that feel free to stop
the video if you need more time so the
problem here is that I have two side
effects both outstanding and counter
modified and therefore is not really
possible to extract this method and
preserve the semantics of this code
let's see if a clips will be able to
figure that out and it does if we try to
extract a metal here it will tell us
that it is an ambiguous return value the
selected block contains more than one
assignment two local variables and the
affected variables are outstanding which
is a double and count which is an
integer so it will refuse to extract the
method so at this point if we wanted to
do that we will have to do the refactor
in a different way but I don't really
want to get there I want to conclude
here and I hope this this little demo
helped you realize how useful it can be
to use an ID that's a pottery factory
they can automate this important task
and I also encourage you to play with
this and try to use different
refactorings on your code so as to get
familiar with the kind of refactorings
that are supported by the IDE and also
with the refactoring themselves and how
they should be used</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>