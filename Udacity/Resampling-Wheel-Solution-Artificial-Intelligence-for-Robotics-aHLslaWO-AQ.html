<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Resampling Wheel Solution - Artificial Intelligence for Robotics | Coder Coacher - Coaching Coders</title><meta content="Resampling Wheel Solution - Artificial Intelligence for Robotics - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Resampling Wheel Solution - Artificial Intelligence for Robotics</b></h2><h5 class="post__date">2012-05-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/aHLslaWO-AQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so here's my implementation of the
resampling step and it follows the same
logic that I gave you in the diagram
we're creating a new set of particles
called PCP 3 and we it's an empty set in
the beginning and inside this routine
every time every sample I add a particle
from the previous particle set with the
index index so that's the main loop over
here and in the end I assign P 3 back to
P so that's the V sampling step
my very first index is drawn at random
this is a uniform random sampler of all
the indices and then Athens running
regular better that is set to zero point
zero and I cache the way the max of the
W just to be slightly faster you don't
have to do this they're coming over here
it doesn't really matter I could have
max over here but then I go and produce
exactly n particles weighed with this I
add to better a uniform random that is
twice as large in maximum in the range
as my max weight W now 2 times max where
W would be a very large step but by
adding a random variable this is between
0 and 1 I have a uniform it in 0 and 2 x
MW and then Y this better variable is
larger than the weight of the current
index I subtract this wait for my better
value in an increment index by 1 modulo
n the total number of enough particles
and when it's smaller I'm done I can
just take the particle add it appended
and repeat so this entire procedure over
here is somewhat involved if you got it
right I am impressed I hope you learn
something from doing it it happens to be
really easy to program once you know
what to do and every time we write a
particle filter you can just reuse it
you never have to think about it again
because there's nothing domain-specific
in this specific procedure over here so
let's run it if I run it nothing happens
to that empty set so let me print out
the resulting set of particles so now I
has a print P over here let me run it
and of course I'm going to get a
thousand particles write a lot of
particles but let's look for them if you
just look at the first value over here
then all about this
aim they're all between 76 and 82 the
second one they're all about 42 44 43 41
39 38 so what you've gotten here is a
set of particles that are all co-located
so instead of hitting a complete random
set of particles that we had before the
V sampling step you can see this already
gives me particles very similar X&amp;amp;Y
positions now it turns out the
orientations are not very similar they
jump like crazy and the reason is well
we think about it we only have one
location so far our distances the
landmarks are independent of the
orientation so as a result orientation
plays no role in the projected
measurement and therefore his normal in
the selection let me make the point
again here's our four landmarks and we
measure the distances to those a robot
face in this direction has a certain set
of distances I robot facing a different
direction like this one has the exact
same set of distances therefore our
particle filter the heading direction
plays no role</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>