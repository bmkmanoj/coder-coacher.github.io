<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Scope and Memo - Design of Computer Programs | Coder Coacher - Coaching Coders</title><meta content="Scope and Memo - Design of Computer Programs - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Scope and Memo - Design of Computer Programs</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/bxvVnmLBYkg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so this is fairly basic so far what
does all this have to do with CS 2 12 so
in unit 3 we introduced this memo
decorator and a question I saw popping
up multiple times in the forums was how
can a memo eyes function or specifically
how can multiple memo eyes functions all
maintain their own separate cash when it
appears that cash is to find here so
let's talk about that and as a reminder
memo gets passed a function f and
returns a new function which we've
called underscore F contains this cash
and this cash basically prevents us from
repeating calculations and so the best
way to learn anything in programming is
to do some experiments so over in a
couple of simple functions here fib and
square just as a reminder let's take a
look at what are our name space or
global environment looks like now and
now we've done is we've had to the
global environment bindings between memo
and its respective object and likewise
for fit and square note that we haven't
created any new frames yet any new
environments because that doesn't happen
until we actually call a function we
haven't called any of these functions
alright so what I'm going to do now is
I'm going to memorize these functions by
adding the memo decorator and remember
this is the same adding this decorator
at memo is the same as saying fib equals
memo of fit this is just some nice
syntactic sugar to put on there to make
this look a little nicer and so before
we start calling fib and square I'm
going to introduce this print statement
into memo so that we can try to get an
idea of what's going on so here I'm
going to print fit before and we can see
the cash getting updated as we would
expect by the end we get the result five
also have this dictionary containing fib
of 3 to 10 so the cash is behaving it is
expected let's see what happens if i run
now where I make to print commands to
fit before and this is interesting the
memoization all occurs in the first
print statement and the first time we
make these calls by the time we make the
second call the fit before we already
have our cash we don't have to do all of
these calls to fib we just get five
great now the big the big question is
this cash the same as the cash in the
square function up here and you probably
have a good guess at the answer but
let's just confirm so same thing except
i'm going to call square twice and you
can see when i call square the first
time it's not telling me that the cash
is the cash associate
fib telling me it's empty as we expect
and when I call the second time of
course we're all set we have this
mapping for 216 good now why did this
happen and the trick is a new
environment isn't created until we call
a function so what happened here is we
called memo when we said at memo so when
we said at memo of fib we created a new
environment that i'm going to call now
in this environment there was a binding
from fib to its associated object though
actually since i didn't do the update
wrapper step that we did in class this
function name was actually still called
underscore F but again no separate
environment for underscore F yet because
we haven't called it yet likewise when I
applied the decorator to square a new
environment is created with its own
underscore F though this one points to
the square function object I almost
forgot the important part both of these
have their own cash now when I called
fib that's when this environment was
created and when we called fib that's
when we created this new environment and
you can see that when fib goes looking
for cash if it looks in its local
environment doesn't find one it moves
one step up the hierarchy finds the cash
associated with this call to memo uses
that has no doesn't care at all about
this cash over here just because these
have the same name they live in totally
separate environments and since fib only
has access to everything over here and
square could only access everything over
here there is no collision no conflict
at all that these both had the name cash
and we can use our memo decorator
exactly the way we want to thank you
Python now this is a lot to cover in a
few minutes if you're still confused
feel free to check out the links below
on scope and closure which is the topic
that we didn't get to today good luck</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>