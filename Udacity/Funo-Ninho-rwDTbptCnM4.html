<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Função Ninho | Coder Coacher - Coaching Coders</title><meta content="Função Ninho - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Função Ninho</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/rwDTbptCnM4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">And if we put a debugger inside of plot points in our console, we'll see
that data looks exactly like the data we've worked with, with our scatter plot.
But for this next step of drawing our map, we're going to need to
group our games by the year they were held since the start.
We're going to compare the total attendance from one year of
the World Cup to the next.
As I mentioned previously, d3 has some great functionality to manipulate data.
To do this, we can use the d3 function nest, which does exactly what we need.
Rather droops our data and performs some aggregation on that.
I don't want to spend too much time getting into the specifics of
all the possibilities of what can be done with the nest function.
But I'll cover the basics that we'll be using for our map example.
The nest function has two main pieces.
As you can see here, we call a dot key function and
a dot rollup function on the nest object.
In order to specify how you want to group your data,
you use the key function and you pass it in accessor callback.
In this case, I've left, left it empty, but
whatever this callback returns is the value that nest groups by.
And once you have your data grouped in some way, you need to aggregate it in
some meaningful fashion, which is where the rollup function comes into play.
The rollup accessor function is slightly different than the key
accessor function in that it gets passed what I've called here, leaves.
Or rather, a nested and
hierarchical set of our data organized by the group we previously specified.
And the last function call here simply passes our
data through this nest pipeline.</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>