<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Coral in Action - Georgia Tech - Advanced Operating Systems | Coder Coacher - Coaching Coders</title><meta content="Coral in Action - Georgia Tech - Advanced Operating Systems - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Coral in Action - Georgia Tech - Advanced Operating Systems</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ruP5guuua9E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so now let's see coral in action for
pudding and getting content
user-generated content that can be
distributed in a democratic fashion and
the load for both serving as a metadata
server as well as the content server can
get naturally distributed because of the
way the coral system works in managing
the sloppy DHT let's say no me who's at
node number 30 has some interesting
content and she wants to share it with
the world so what she does she creates a
unique signature a key for this content
by hashing it and let's say that the key
that she generated for this content is
100 so now no me wants to put the key
100 and the value 30 indicating that
this node has the content corresponding
to this key 100 she wants to put it out
on the internet and so she uses the
coral system and she uses the coral
key-based routing the Lord that she
would like to store this key 100 is node
100 corresponding to David's computer
okay because the David's computer has
node ID 100 so that's the place I would
like to keep it but we are following the
corals key-based routing algorithm so no
me what she's going to do is going to
make a series of RPC calls to put 130
keyvaluepair and she finds that none of
the intermediate nodes are either full
or loaded and finally she reaches
David's computer David also says my node
is neither full not loaded how can it be
because she just created this content
100 so this 100 key hundred is not known
to the world so nobody is at this point
serving as a metadata server for this
particular key so David is the right
place to keep it so David hosts this
particular key value pair 100
d Jacques finds out that there is an
interesting video whose signature does
100 so he wants to get it and he knows
that a likely place where it is
contained is node number 100 but once
again he is going to use the coral
key-based routing and he is doing a get
call and the gate call follows the same
key based routing algorithm of halving
the distance to the destination and so
we make a whole bunch of RPC calls
finally get to the destination itself
because none of the intermediate nodes
have this key value pair so we get to
david's computer and david says yes i do
have the key value pair 130 and here is
the value that you're looking for
associated with the key that you're
asking about and the value is 30
indicating that 30 is the node that has
the content that corresponds to this key
100 that's what Jacques is going to get
back so when Jacques gets his response
from from David that the value is 30
that value indicates the node ID from
which Jacques can download the content
corresponding to the key 100 that's no
miss computer so Jacques goes to noemi's
computer and gets the content
corresponding to key one hundred know me
sense the content so Jacques is now
happy he's got the content that
corresponds to 100 but Jacques is a nice
guy too so he says well I have the
content since I have the content I can
also serve as a proxy for know me and
what I'm going to do is I'm going to put
the key value pair 100 corresponding to
this content that is now mirrored over
here and say that the value of 60
indicating that i am willing to serve as
a proxy for the same content so I'm
going to do a put operation and this put
operation is going to go down and this
put operation is going to use the same
key based routing algorithm and when it
gets to David David might say look I'm
not
assisted in holding more than one value
for this particular key and so if he
says that I don't want to do it then I
have to retract my steps and pick an
intermediate node which said that it is
willing because it is neither loaded
norful for this particular key 100 so
it's willing to serve as a metadata
server we already have one metadata
server but this guy is willing to do
that for only one value and therefore
this guy becomes a new metadata server
for the same key 100 so in in this
metadata server new metadata server
we've got this entry 160 also stored so
now there are two metadata service that
can potentially answer queries that
concern this video 100 now if a third
guy comma comes to know about this cool
video that is now propagating on the
internet and he finds that the key for
that is 100 he can once again query the
Codel system for that video and he is
following the same key based routing
algorithm of coral in trying to get
towards David's node which is no 100 so
he's going to follow that but when he
does that he hits this intermediate node
and this guy says you know what I've got
the key that you're looking for and the
value that is associated with this key
is 60 so kamal doesn't have to go all
the way to this metadata server he can
get the answer for his query get 100
from this intermediate node itself which
returns a different value different from
noemi's address namely node ID 60 that
corresponds to the new Good Samaritan
Jacques who is also willing to serve as
a proxy for the same video content so 60
gets returned to come all and come out
and then go to jock and get the content
from from Jacques and that way you see
that the origin of this particular video
which started know me
is not propagated a shock so the origin
server need not get overloaded and of
course Kemal will turn around and become
a Good Samaritan himself and say that
he's willing to serve as a proxy also so
his key value pair entry gets into
another intermediate node now we've got
three nodes that can serve as metadata
server for this particular key 100 not
just the original metadata server node
David's computer but intermediate nodes
that also have become part of the
metadata server Network for this
particular key 100 and similarly there
is no origin server overload also
because now the content itself has
gotten distributed in several proxies
and all of these proxies have
dynamically gotten the content and have
shared their willingness to serve as
proxies so if a new node wants to get
the same video 100 when it makes its get
operation that get operation is going to
traverse the network and either hit
David himself or hopefully one of the
intermediate metadata servers and that
way the requests for the actual content
may go to different content providers
dynamically as the system evolves so as
a result you can see that the metadata
server load is distributed and the
origin server is also not stressed
that's the nice thing about the coral
sloppy DHT approach so the key takeaway
in the coral approach is that even
though an individual request may have a
little bit more latency because we're
not trying to reach the desired
destination directly but going through
some intermediate hops in particular
having the distance to the desired
destination you're going to increase the
latency a little bit but we are
doing that and the common good that in
these kinds of environments giant scale
services big data large numbers of users
and content suddenly becoming popular
all of these dynamism has to be dealt
with in a system that is as vibrant as
the internet and coral is a step towards
that by reducing the stress on the
origin server as well as reducing the
stress on the metal servers by naturally
distributing it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>