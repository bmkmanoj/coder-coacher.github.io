<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Another Quiz Synchronization - Solution - Intro to Parallel Programming | Coder Coacher - Coaching Coders</title><meta content="Another Quiz Synchronization - Solution - Intro to Parallel Programming - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Another Quiz Synchronization - Solution - Intro to Parallel Programming</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/rZoneybgFsA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so this first example is pretty
much the same thing as we already saw
right every thread is going to be
reading from s of I minus 1 and then
writing the result into S sub I for its
own value of I and there's nothing in
this statement to guarantee that all of
these reads complete before any of these
writes complete and since they could be
you know one threads s of I sub 1 is
another threads S sub I then there's
absolutely the potential for collision
here so the correct way to write this as
before would be something like this
where we go ahead and insert a sync
threads and a temporary variable to
separate the read and the write so what
about this second example here what this
if statement does is it basically
ensures that only the odd threads are
going to try to read from a sub I sub 1
and write to S sub I so if you think
about this thread 1 is going to be
reading from location 0 and in writing
to location one thread 2 does nothing
thread 3 reads from location 2 and
writes to location 3 thread for does
nothing thread 5 reads from location 4
and writes to location 5 and so on so in
this case there are no conflicts so this
code is actually correct even without
any additional internal sink threads and
our final example is again not correct
it's similar to the first one every
thread is going to read from locations I
minus 1 I and I plus 1 you can do a
little math and it's going to store the
result in location I so clearly to avoid
you know to make sure that all of these
reads happen before any of these writes
we're going to need a sync threads so to
make this code correct we'd have to do
something like this we'd have to use a
temporary variable do all of the reads
sync do the right sync and then do the
printf the writes have to complete
before this printf is done to make sure
it's the printf prints the correct value</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>