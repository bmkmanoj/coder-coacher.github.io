<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Parsing Data Before the Draw Function - Data Visualization and D3.js | Coder Coacher - Coaching Coders</title><meta content="Parsing Data Before the Draw Function - Data Visualization and D3.js - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Parsing Data Before the Draw Function - Data Visualization and D3.js</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WALbqgiDHNI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">Now something that I glossed over that I want to return to is,
in finding the minimum and maximum date, I simply accessed the date column.
If you remember, from when we previously inspected our data in the console.
The date column is actually a string representation.
In order to ensure that when we're comparing dates to find the minimum and
maximum that the comparison actually returns the correct date.
For strings, there may be some ambiguity in what's greater or
less when referring to a date.
So, to be safe, you should always work with a JavaScript date object itself.
To do so, you can either use d3's built in date parsers,
which I'll show you in just a second,
in-line in the functions which we need to do any sort of comparison.
Or, since we will most likely always need the date column to be a date object.
We can parse it as we load in the data.
Scrolling to the bottom of the page here,
we're going to revisit the D3 tab separated value file loading function.
In this case, d3.tsv.
And previously reloaded our data file.
In this case, again, remember it's not simply the World Cup data set but
it has geographic enhancements to it.
The latitude, the longitude and the home team.
Which once it's loaded will run the draw callback function
which contains all the code to draw the chart.
One thing that I haven't covered previously, but
that's very powerful, is that in this function that initially loads the data,
in addition to the file we're loading and the callback we run, in this
case draw, once all the data's loaded, we can run an intermediate function.
That can transform our parser data before our draw function gets called.
In this case, this intermediate transformation function that
we pass functions in much the same way as the functions we
passed to our extents where the function gets run for every data point.
In our data file.
One at a time.
The argument D in this function is simply a single row of our data file.
And whatever we return from this function is what actually gets passed to
the call back.</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>