<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Solution Part 1 - Web Development | Coder Coacher - Coaching Coders</title><meta content="Solution Part 1 - Web Development - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Solution Part 1 - Web Development</b></h2><h5 class="post__date">2012-05-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tpndL58noYk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is the solution to homework 3
homework 3 was basically built the shell
of the block this is my local blog
running on this local machine if you
recall I wanted you to make a URL that
would list some blog posts and then I
wanted you to make another URL new post
which allows you to enter a new post and
post have a subject switch entered there
and a body that we enter here and then
when we submit this page we get
redirected to a permalink and permalink
is just a link to a specific post and in
this case it's flash 2 which is the ID
of this blog entry and then if we were
to go back to just blog we would see all
of our blog posts actually not all of
our blog posts the 10 most recent blog
posts and sorted with the newest one
first let me show you the code that I
wrote to make this work so here we are
in the main source file this is the file
I've been working from for all of these
homeworks so a lot of this should look
familiar we've got the template loading
code here that just basically says I'm
gonna have a directory called templates
and we're gonna put those templates in
there and again I know we haven't
discussed templates specifically in this
class because they're not required but
it does make life a little bit easier
when you start generating more and more
HTML and I'll walk you through all the
templates that I've used I've got my
main handler I call bog block handler
and this adds just a few convenience
functions and we've seen this before
right and render stir and render right
just keeps me from having the type
self-thought response that out all the
time render stirrer takes a template
name and some dictionary basically if
parameters things to substitute into the
template and render calls right and
render start to print out the template
here's homework one solution now we get
down to the actual solution here so a
couple things I've had to do this this
function we didn't talk about this in
the lecture this is for the data store
basically when you store things in
Google's data store they need to have
some sort of well they don't have to
have a parent but for organizing the
data iphone it's convenient to have a
parent this basically defines this is
the blog key this is going to be the
value of the blog's parent the parent is
normally another element but in our case
we just give it a for an element that
doesn't even exist and I've kind of set
the stage here for having multiple blogs
even though when I can do that in this
course so it takes a name parameter but
by default the name just equals default
here we get to something that you've
probably had to do which is to find the
actual post entry or the find the post
class basically all this is is a list
the properties that a blog has or blog
entry has so it has a subject which is a
string property it's required it has
content which is a text property which
is required remember the difference
between a string property and a text
property is a string property has to be
less than 500 characters in text
property can be greater than 500
characters also a string property can be
indexed while text property cannot so in
theory I could have used text property
for both of these I tried to stick to
what was most appropriate which would be
string for the subject and text for the
body text also can have new lines in it
which obviously you want in a blog entry
and then we've got two timestamps first
one is a date/time property of when the
blog entry was created and this
parameter auto now add basically says
automatically make this property the
current time when you create an object
so we don't have to set it which is
really convenient and even more
convenient is this auto now function and
what this does is every time we update
the objects it sets this property last
modified to be the time that we just
updated an entry but if we were
listening our blog and we want to sort
by creation time but also display when
the last time they were updated this
property would let us do that and with
this auto now parameter equal true the
Google data store will keep that
property up-to-date which is pretty
handy now I've added a function on the
post object called render which will
basically render that blog entry one
thing it does is we're gonna be
rendering this in HTML but the user
doesn't type in HTML for the most part
we want them to just be able to type in
text with new lines in the text field
but we want to render it with a bunch of
new lines so what this does is this
replaces new lines in the input text
into HTML line breaks if we didn't do
this actually I'll go ahead and show you
what it looks like if we don't do this
so I'm just going to comment out the
rest of this line where we replace new
lines with line breaks and then we'll
see how this works in the browser
okay so I've entered a basic blog entry
you know a little subject and some
contents with multiple lines in it I'm
gonna go ahead and submit this blog
entry and you can see that it brought us
to this page you know we see my subject
and we see my body and the contents of
the blog entry are all on one line and
remember this is because HTML takes all
whitespace spaces and new lines and tabs
and merges them into one space so that's
all we get is one space
if we were to look at the source for
this file we'll see that the contents
are actually rendered with multiple
lines just like I typed them in in the
HTML but when a browser renders at HTML
we just get the one line so the way we
fix that is we replace all those new
lines with line breaks so let's go ahead
and give this a whirl again with this
string with placement on I'll reload the
page and we see our new lines appear as
we intended and if we look at the source
we can see that we've entered or
replaced our new lines with line breaks
or that's what caused our blog's to
display nicely now we could require the
user to enter in you know actual line
breaks as their type in the blog entry
but that's a little tedious although I
still want them to be able to put other
HTML and you know blogs have links and
that sort of thing so you know this just
makes it slightly easier you didn't have
to do this I just wanted to show you how
all that works</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>