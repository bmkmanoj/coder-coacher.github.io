<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Binary Translation | Coder Coacher - Coaching Coders</title><meta content="Binary Translation - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Binary Translation</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ppkzbhE83pY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">one approach that was taken to solve the
problem with these 17 instructions was
to rewrite the binary of the guest VM so
that it never really issues any one of
these operations this process is called
binary translation this approach was
pioneered by research at Stanford
University by a group led by Professor
Mendel Rosenbloom and subsequently this
was commercialized as VMware now some 15
plus years and 30 40 billion dollars
later VMware still owns by far the
largest share of the virtualized course
in the server market rosenbloom later
received the ACM fellow award and in the
recognition he was specifically credited
for reinventing virtualization she
served as VMware chief scientist for
about 10 years and now is back full-time
at Stanford
let me give you now a brief description
of what binary translation actually is a
key thing to note is that the goal
that's pursued by VMware is to run
unmodified guest operating systems
meaning that we don't need to install
any special drivers or policies or
otherwise to change the guest LS in
order to run in a virtualized
environment as a startup they clearly
couldn't tell Microsoft to modify
windows so that VMware can improve its
success rate so this type of
virtualization where the guest OS is not
modified is called full virtualization
the basic approach consists of the
following instruction sequences that are
about to be executed are dynamically
captured from the VM binary and this is
typically done in some meaningful
granularity like a basic block such as
loop or a function and the reason that
this is done dynamically versus
statically so upfront before any code is
actually run is because the exact
execution sequence may depend on the
parameters that are available at runtime
so it's input dependent so you cannot
really do all of this in an efficient
way
statically upfront or in some cases you
just cannot do it at all because you
don't have the input parameters so then
you dynamically capture these code
blocks and then inspect them to see what
are any of these
17 infamous instructions is about to be
issued if it turns out that the code
blog doesn't have any of these bad
instructions its marked the safe and
allowed to execute natively at hardware
speeds however if one of the bad
instructions is found in the code block
then that particular instruction is
translated into some other instructional
sequence that avoids the undesired
instruction and in some way emulates the
desired behavior this can possibly be
achieved even by bypassing a trap to the
hypervisor certainly binary translation
adds overheads and the number of
mechanisms are incorporated specifically
in the VMware solutions in order to
improve the efficiency of the process
these things include mechanisms such as
caching code fragments that correspond
to the translated basic blocks so that
the translation process can be avoided
in the future also the steps like
distinguishing which portions of the
binary should be analyzed for instance
distinguishing between the kernel and
the application code and making sure
that the kernel code is the one that's
analyzed and various other optimizations</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>