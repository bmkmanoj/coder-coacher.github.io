<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PD Controller - Artificial Intelligence for Robotics | Coder Coacher - Coaching Coders</title><meta content="PD Controller - Artificial Intelligence for Robotics - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PD Controller - Artificial Intelligence for Robotics</b></h2><h5 class="post__date">2012-05-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/kVYy2kjZjhA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so the basic next question is is there a
way to avoid the overshoot and it would
be nice if you could do this because
driving in an oscillating car is no fun
in fact it makes you really seasick
believe me I've been in this car for
months on end
maybe prepared for the DARPA Grand
Challenge and the trick is called PD
control in PD control my steering alpha
is not just related to the cross track
error by virtue of the gain parameter
tau P but also to the temporal
derivative of the cross-check error what
this means is that when the car has
turned enough to reduce the crosstrack
error it won't just go shooting for the
exact x axis but it will notice that
it's already reducing the error so the
arrow is becoming smaller over time it
counter steers it steers up again and
this will allow it to gracefully
approach our target trajectory assuming
appropriate settings of our differential
game tau D versus proportional game tau
P how do you compute this derivative
over here well at time T this is the
same as the crosstrack error at time t
minus the crosstrack error at time t
minus 1 divided by the time span between
t and t minus 1 in our code we assume
delta T equals 1 so you can omit this so
the difference of the current
cross-check error and the previous one
is this term over here and we now
control not just in proportion to the
error itself but also to this difference
of the error using a second constant tau
D so let's implement this now I give the
one command two parameters param1 param2
and i wanted to implement a controller
that varies the steering direction
proportionally according to a parameter
one in differentially proportionally two
parameter to again run 400 time step and
see what happens so when I run my new
controller with proportionality
parameter of 0.2 and the differential
3.0 then I get a sequence of y-values
that converge much more gently to zero
and miraculously as time goes on they
really go down to zero and stay at zero
which we didn't achieve for the
proportional controller so please write
that routine so we can test it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>