<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>LL SC Lock Quiz Quiz Solution - Georgia Tech - HPCA: Part 5 | Coder Coacher - Coaching Coders</title><meta content="LL SC Lock Quiz Quiz Solution - Georgia Tech - HPCA: Part 5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>LL SC Lock Quiz Quiz Solution - Georgia Tech - HPCA: Part 5</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/vILzpoVrP9U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so let's look at the solution to our
load-linked store conditional lock
implementation quiz this is what this
code is trying to do it's putting one in
r1 and then it's loading the current
value of the lock var into r2 and then
trying to put a 1 into the lock var all
of these choices are repeating the try
to acquire the lock under some
conditions so the question is what are
the correct conditions for retrying the
lock well there are two conditions that
need to be checked one is did we
actually see a lock that was free the
lock is free when we read a zero in that
case we don't go back we actually saw a
log that was free if the lock was busy
we go back so if r2 is zero then we
actually don't go back to trial log that
means that we are actually acquiring the
lock successfully so far so this is
definitely not a correct solution we
need to check our two for not equals
zero meaning we found a nonzero value
here that means that the lock was busy
and we retry so one of these three are
going to be the correct answer because
they include the correct check for
whether the lock was available the
second thing that we need to check is if
we found a lock available which means
we're past this point we need to check
whether we successfully stored a one
without somebody else beating us to it
we successfully store a 1 if our one
after the store conditional has a value
of 1 so we fail to store our 1
successfully if r1 is equal to 0 that
means that this is really the correct
solution note that these two are
checking the link register directly and
we said that the link register is a
hidden register it can really only be
accessed implicitly through load link
and store conditional instructions there
is no instruction that can directly read
the link register so that's why these
two
are not correct choices so in this lock
function basically what we are doing is
if we saw the lock that was free and we
managed to store a 1 into it without
anybody interfering then we acquired the
lock if we saw the lock was busy we try
again
if the lock was free but somebody beat
us to it
then again we try again</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>