<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Atomic Instructions 2 - Georgia Tech - HPCA: Part 5 | Coder Coacher - Coaching Coders</title><meta content="Atomic Instructions 2 - Georgia Tech - HPCA: Part 5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Atomic Instructions 2 - Georgia Tech - HPCA: Part 5</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pV-Cz6d6jJk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so coming back to our atomic
instructions we have seen that we can
have an atomic exchange where the
problem was that it keeps writing to the
lock wire even when it's not available
our test and right class of instructions
is trying to avoid that by testing the
memory location and only writing to it
if they find a zero there and we might
implement the lock with a test and store
for example instruction we will
implement a lock by setting our one to
one then testing lock wire and storing
our one there and the result we get from
this testing store let's say zero in r1
means that the lock bar was occupied in
which case we will just repeat this try
this again and again but the idea is
that as long as the lock is occupied
this test and store is only reading the
lock variable it is not writing to it
this is good because remember coherence
if you keep writing you keep in
validating all the other copies so
everybody that is waiting keeps
generating bus traffic because they are
all trying to write and thus
invalidating each other in contrast the
test in store everybody that is waiting
while the lock is occupied simply gets
to share the lock variable they are all
having it in the shared state and simply
rot and simply iterating under cached
copy once the lock has been freed those
shared copies are invalidated because
the unlock rights to the lock variable
at this point everybody sees the new
value and tries to grab the lock so
there is really only communication on
the lock when the log becomes free until
somebody acquires it again so this test
and right approach solves the problem of
continuously writing to the lock
variable but doesn't really solve the
problem of this is a really strange
instruction it's neither a store Nora
load it would be ideal for processor
design if we could do something that is
very much like a load and very much like
a store yet behaves this way and that
brings us to the third type of atomic
instructions which are really now two
instructions a special load and a
special store that are somehow linked
together to create an atomic instruction</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>