<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Coletando Países Participantes | Coder Coacher - Coaching Coders</title><meta content="Coletando Países Participantes - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Coletando Países Participantes</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ha6kGtT9XMQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this case I want to start with
finding the countries that participated
in a given year since it's a little bit
more complicated than simply filtering
our data by year and once we see how to
select the countries of interest
filtering the years should be quite easy
in order to find every country that has
participated for a given year we're
going to go back to our aggregation
functions that we've defined for use in
our nested object here we can see we're
in the a gear function which we'll get
past leaves and if you remember in this
case it's all of the games for a given
year grouped and after we compute what
we've already found of the sum of the
attendance and the coordinates to draw
we can simply group the teams together
into an array to return in the end d3
actually has a lot of great built in
data structures and functions to filter
and transform data in this case we're
going to be using d3 s built-in set data
structure which functions just like
other sets in math or other programming
languages it's a collection of distinct
or unique objects it is the property
that if you add an element to a set
there's already contained in it it
doesn't add a duplicate here we've
initialized an empty set which we can
then iterate through our teams for a
given year adding them one at a time to
do this we can use Java scripts built-in
for each function called on our leaves
array for each is similar to map except
for instead of returning an array as we
did when we found our coordinates it
simply runs an accessor function and
passes every element of our array one at
a time in this case we're not actually
returning anything from our for each
were only adding team one and Team two
to our set and again since the set
automatically D duplicates anything we
don't have to worry about adding teams
multiple times the set takes care of
that for us so in the end the set will
represent a collection of unique teams
for a given year and to pass our teams
our return object we call dot values on
the teams set which turns the set of
team names into an array that we can
handle easily in the rest of our code
now that we have the teams for a given
year let's go back to our update
function and put all the pieces together</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>