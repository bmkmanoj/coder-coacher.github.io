<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Credit Card Checksum - Intro to Java Programming | Coder Coacher - Coaching Coders</title><meta content="Credit Card Checksum - Intro to Java Programming - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Credit Card Checksum - Intro to Java Programming</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7BnGZCvFFJs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">to do this I first want to look at the
structure of credit card and see what
I'm given already I'm implanting a
method is valid which returns a boolean
is valid calculates whether the credit
card has a valid number and returns true
if the number is valid and false if it's
not so now I know how to write my test
program I need to create two credit
cards I'll create a valid card and I
have to mark that this is along by
writing the L at the end and I switched
two digits to get the invalid card now I
print out the actual value of is valid
when called on the valid card and I
expect the valid card to be valid the
actual for the invalid card should be
false now it will be easy to test
whether our implementation works in the
credit card class we can see that the
first part of the pseudocode setting sum
to zero and count to zero is the same as
the code that we had before for
computing the sum of digits so I'll keep
that the same the for each digit
starting from the right part is the same
so I'll try to keep the code for
counting the iterations in place but now
instead of just adding the digit to the
sum I need to check whether the count is
even or odd and how big the digit is and
use that to decide what to do with the
sum so if the count mod 2 is 1 we add
the digit to the sum else if the digit
is less than 5 we add twice the digit to
the sum otherwise we add twice the digit
to the sum and subtract 9 and now
instead of just printing the sum the way
we did before we need to check whether
the card number is valid if the last
digit of the sum is zero the card number
is valid sum mod 10 equals equals zero
is true when the last digit of sum is
zero and false otherwise so we return
that for example if the sum were 24 we
would check sum mod 10 would be 4 which
is not zero so returning this result
would return false if some were 20 then
we would check sum mod 10 is zero so
this would be true so we would return
true but we can't be sure that this
works until we test it let's compile and
run the tester huh one of our tests
failed
it's saying that the invalid card is
valid we're going to need more
information if we want to debug this
what if I print each digit of the number
so if we run the credit card tester
that's funny it printed exactly the same
thing my print line statement must not
have run for this statement not to run
we would have to never go into the loop
what's n if I run it again I find that n
is this weird negative number that looks
a little bit like the result of an
integer overflow clearly n can't be an
INT anymore now if I try to compile and
get a possible loss of precision so if I
want an int digit I'm going to have to
cast this somehow what if I try casting
and mod 10 this way looks like I didn't
remove the cast that was causing trouble
now it looks like it's starting with the
correct N and then taking off one digit
at a time correctly but it's still
getting the wrong answer for the valid
card I'll delete this now that I have
that part working and I think I actually
want to print out the digit itself
rather than N and then I want to get
some idea of what I do with each digit
so I'll print the digit and then on the
same line I'll print add it to the sum
add twice the digit to the sum or add
twice the digit and subtract nine now if
I run the tester again I should get much
better information it looks like the
first digit is minus nine but none of
the digits should be negative it looks
like this cast didn't work properly
maybe it's casting N before it takes the
mod 10 instead of casting the result of
the N mod 10 let's see if these
parentheses fix it now if I run the main
method again I can see I'm still not
getting what I expected but I have some
good data here for three I add twice the
digit to the sum 1 I add twice the digit
to the sum and so on let's compare that
with the example on the webpage in the
example the three shouldn't get doubled
the one should though the next one
shouldn't
nine should in fact it looks like we're
adding twice the digit way too often
here it seems like count mod two never
equals one so let's check what count is
with system.out.print line count plus
count now the main method says count is
always zero I know how to fix that I'll
increment count now for the valid card
I'm getting true when I expected true
and for the invalid card I'm getting
false when I expected false I have just
a tiny bit of cleanup left to do to
remove all of these extra
system.out.print lines that I added I
removed all of the print statements in
the credit card class and now when I run
the test the output is much cleaner</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>