<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Exibindo Rotas  Serviço de Direções v3 | Coder Coacher - Coaching Coders</title><meta content="Exibindo Rotas  Serviço de Direções v3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Exibindo Rotas  Serviço de Direções v3</b></h2><h5 class="post__date">2016-08-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6y30KtNvo2s" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so we've learned about directions
requests how can we use this within our
app how about after user searches for
locations within a certain journey time
from work we show them the route okay so
we're going to expand what we did last
time after the user looks for listings
within a 30 minute walk of their office
say we'll add a button inside that info
window that appears to allow them to
display the route that they would take
to work the first thing we'll do is add
a button that says view route inside the
little info window that appears when we
search for places near work this button
will point to a new function called
display directions which will create
below if you remember from last time we
could have multiple listings that fall
within our commute limit so for each
button we make will pass in that origin
we have some funky quotes here so that
we can pass in this string correctly as
well the origin that's passed is the
listings address and the destination
will use is the user entered address now
we'll create our display directions
function this will actually calculate
the directions and display the route on
the map will initialize a new direction
service instance for this just like the
rest of our services will recapture the
user entered destination and travel mode
will then calculate the route passing in
the origin the destination and the
travel mode when we get back the
response will make sure that the status
is ok and then we'll create a new
directions renderer remember the
detailed steps and poly line from the
web service response this renderer takes
care of displaying that information now
at this point we could display the route
data to the user we would just need to
specify the HTML div to put the route in
by setting the panel parameter in the
directions renderer there are some good
examples of this in our developer
documentation linked in the instructor
notes I'm not going to do that because I
don't think our user needs to see the
step-by-step directions in this case but
we are going to display the resulting
polyline on the map I'm going to specify
to render that on our map a minute Ella
to get the directions from our route
response and I'm going to specify that I
want the route to be draggable and green
if the routing was not successful we're
going to let the user know and show them
the status code from the response okay
let's look for the listings within the
30 minute walk on my office again I'm
going to view the route for this one so
going from our listing to the office it
looks like I would walk down sixteenth
Street and I think that would take me
past a crepe place which would be
awesome we'll talk more later about this
but there are some specific features
that you only get access to by
purchasing a Google Maps API license I'm
going to cover one of those features now
in our directions request that falls
into that category real-time traffic
integration or predictive traffic time
allows us to specify additional things
and get back the predicted time in
traffic this is great for traffic heavy
areas since the time in traffic can be
drastically different from the time
without if we add the driving options
parameter into the request obviously the
travel mode has to be driving for this
to be effective we have the option to
specify a departure time which is pretty
cool if i want to give users as an
example the option of calculating a
travel time and route to the airport on
monday mornings we can also specify a
best-guess optimistic or pessimistic
traffic model which you can give us the
routes and travel times during lighter
or heavier traffic days users may want
to see a pessimistic value if there's a
nervous Nellie type and want to be at
the airport early feel free to check out
the video link in the instructor notes
on predictive traffic time we won't
include that in our app right now let's
test out some route optimization using
directions service</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>