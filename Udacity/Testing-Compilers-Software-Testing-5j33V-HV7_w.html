<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Testing Compilers - Software Testing | Coder Coacher - Coaching Coders</title><meta content="Testing Compilers - Software Testing - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Testing Compilers - Software Testing</b></h2><h5 class="post__date">2012-07-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/5j33V-HV7_w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now I'd like to show you a little bit
about how a tool that my research group
created called C Smith works and so C
Smith is just a random test case
generator we use it to try to break C
compilers let's just take a little bit
of a look and see how it works what I'm
going to do here is shell into a machine
belong to my group and we're going to
look at an in-progress c smith run
that's been going for a couple of days
so let's see the results let's see what
happened okay so here's what's happened
over the last couple days with his
testing run so what I'm doing is making
a program using C Smith and then using
the latest version of GCC and the latest
version of clang that is llvm see
front-end to compile each test case at a
variety of optimization levels and I'm
not using any kind of weird optimization
levels I'm basically just compiling it
dash 0 0 0 1 dash 0 2 and it doesn't
matter if you're not a see compiler user
these are basically the sort of vanilla
compiler optimization levels that any
compiler user would probably be using so
what the bottom of this output shows us
is that 150,000 tests have run since I
started this testing run and during this
testing run GCC has failed a half dozen
times or so clang has failed a few times
and also we see a few c smith failures
it could be that these c smith failures
are actual bugs but historically
speaking the most of the time these are
timeouts and so generally all of these
tools are run under timeouts when we use
a random testing loop because random
tests tend to be really good at finding
performance pathologies where the tool
runs for a really long time and that
wastes time so what we do is we just
kill any tool after its run for several
minutes including our random test case
generator itself so let's see what we
can learn here so I'm going to do is
look and see if we found any interesting
llvm failures and so when llvm crashes
it always tells us how it crashed using
an assertion violation and so as I
discussed a couple of Units ago many
real programs contain a lot of
assertions and he's compilers certainly
have that property okay so we can see is
that lvm is crashed it looks like four
times here one time with a message about
a wrong topological sorting and three
times with a message about unknown live
into the entry block and it turns out
that I happen to know that this wrong
topological sorting bug is not new this
is one that I reported a couple of weeks
ago on the other hand this unknown live
into the entry block bug is probably
knew so one thing we could do is check
in lv ms bugzilla if this actually is
new but what i'm going to do now is just
assume that it is and let's take a
little bit of a look at this bug so here
we are in the actual log of see Smith's
output and what it's telling us is what
command line arguments it used when it
invoked c smith to generate the program
that killed clang and so what you can
see is it contains a bunch of
options but also it contains the random
number seed the ce smith uses so we're
going to need to cut and paste this and
we can pass this to a different script
which is going to generate this program
again and let's edit it let's look at it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>