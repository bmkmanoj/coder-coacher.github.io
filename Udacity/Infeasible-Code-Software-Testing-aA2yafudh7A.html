<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Infeasible Code - Software Testing | Coder Coacher - Coaching Coders</title><meta content="Infeasible Code - Software Testing - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Infeasible Code - Software Testing</b></h2><h5 class="post__date">2012-07-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/aA2yafudh7A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now I'm going to talk about the question
what does it mean when we have code that
doesn't get covered for example if we're
using statement coverage what happens
when we have some statements that we
haven't been able to cover they're
basically three possibilities the first
possibility is that the uncovered code
was simply infeasible an infeasible code
means exactly what it sounds like it's
code that can't be executed under any
circumstances so let's say that we're
writing the Czech rep function for a
balanced tree data structure so at some
point in the Czech rep we're going to
search that the tree is balanced then in
the implementation of the balance method
we're going to check if the left subtree
and the right subtree have the same
height and if not we're going to return
false if the tree becomes unbalanced
we're going to turn falls causing an
assertion violation assuming that a code
is not buggy assuming that is that we're
testing a correct tree we're never been
able to return false from our balanced
function and of course a coverage tool
is going to tell us we failed to achieve
code coverage for this particular
statement in the code and then we have
to ask ourselves is that a bad thing is
that bad that we fail to actually get
this line of code and of course it's not
bad because that code only can execute
if we made a mistake somewhere so the
proper response this kind of situation
is we just need to tell our coverage
tool that we believe this line to be
infeasible and then the tool won't count
this line against us when we're
measuring code coverage and so let's
look at an example of this what I have
here is an open source AVL tree an AVL
tree is somewhat analogous to the splay
tree that we already looked at in the
sense that it's a self-balancing binary
search tree as you can see there's quite
a lot of code here AVL trees have a
reputation for being fairly complicated
as these things go the code comes with
its own test suite so let's run it under
the coverage monitor okay now let's look
at the output we could see here that out
of the 389 statements in the AVL tree we
failed to run 61 of them and 20 branches
were partially executed so we can see
that there are some various minor
failures of the test suite to exercise
interesting behaviors so here is the AVL
trees sanity check function and what it
does is check so a bunch of properties
of the AVL tree and if any of them fail
raises an exception every statement here
that raises an exception has failed to
have been covered and then the branches
which test the condition which leads to
raising the exception are only partially
covered so superficially we haven't
gotten very good coverage of this
function but actually of course what we
hope is that this AVL tree code is
correct and these are truly infeasible
and if we really believe that we can
start doing is go ahead and start
telling the coverage tool to ignore
these the way we do that is to go back
to the source code and mark some of
these with a comment that has a special
form pragma no cover no if I go ahead
and do this for the rest of these then
we should see that does the right thing
all right so now we run a coverage tool
again and see if they
look a little bit better okay good well
I so I didn't get all this code but we
can see now that the coverage tool has
marked these in sort of a light gray
color indicating that is ignoring the
fact that they weren't coverage because
we told it to</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>