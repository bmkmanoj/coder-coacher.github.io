<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Solution Part 2 - Web Development | Coder Coacher - Coaching Coders</title><meta content="Solution Part 2 - Web Development - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Solution Part 2 - Web Development</b></h2><h5 class="post__date">2012-05-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/J2BqaRtv6d8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay back to the code that's our post
object let's get to the actual main
handler so a blog front is the handler
for just slash block the first thing we
do is we look up all of the posts so
this is blog front this is our handler
for the main blog URL the first thing it
does actually there's some left over
development code here let's get rid of
that the first thing this does is looks
up all of the posts now we've been using
gql to do queries against the Google
data store I was playing around here and
I used Google's procedural language for
writing and query so this does this has
looks at all of the posts ordered by
creation time and store them in the post
object we could have done gql just as
easily to get our posts
let's playing around with something new
so that's what I did here and then this
renders the front HTML template with
this query the result of this query in
the variable posts I'll show you all of
the templates when we're done I can also
show you what the gql for this line
would look like let me go ahead and give
that a try okay I've changed that line
to use gql the sequel that we've been
playing around with and that just looks
something like this select star from
post order by created descending and
actually I think I said 10 most recent
so would be limit 10 is the the sequel
for doing a limb of 10 let's go ahead
and give this a try in the browser to
make sure it behaves the same I'll
reload this page and it does okay cool
we use front dot HTML render our posts
let's move on to the next one
this next handler is the post page this
is the the page for a particular post
the way you look up a particular post in
the Google Data store is you first make
a key and in this case I use the from
path function and it says find the post
with the ID post id which gets passed in
from the URL I'll show you that in the
and the handler definition whose parents
is blog key now you don't need to do
this parent this parent part because I
create the blog with a parent I have to
look it up with the parent as well this
is how I did it we call dbgap
which is how you look up a particular
item let me store that in post now we
see if there's not a post just return
404 basically if the user typed in
garbage in the in the URL if there is a
post return permalink that HTML with
post equals post there's a lot there
let's talk about how post ID gets into
this function first we go down to the
bottom past homework two you can see I
have to find
couple of URL handlers the main one blog
is simple it goes to blog front slash
blog slash new post goes to the new post
handler
we haven't talked about that yet but
that's all fairly straightforward slash
blog slash and then a number zero
through nine plus this is a regular
expression for how to describe basically
an integer this goes to the post page
handler and this is how an app engine
you pass a parameter into the post page
handler now you may have done this
differently but this is how I've done it
this basically says anything in
parentheses here will be passed as a
parameter into either the get or post
function for post page so if we go back
up to post page a string representing
that number gets passed in that's why I
call in tana
and I turn that into key and I do the
lookup and then we call permalink dot
HTML let's see how that looks in
practice so here I've gone a blog / 3
which was the idea of the last post we
just entered so this 3 gets sent into
our function as post ID we convert it to
an integer we make a key and then we
look up that key so if I were to type in
an ID that doesn't exist here I get it I
get an error page and now this is a 404
but chrome is using this error page
because I didn't send any Content you
can make a special 404 page but I
haven't done that so this is what we see
and if I were to type other junk that's
not an integer
we get this different 404 400 page now
why did we get two different 404 pages
well because it went through two
different 404 handlers I'll show you
that here in our editor if we go down to
our URL handler this regular expression
only matches numbers 0 through 9 and
then one or more of them that's what the
plus means so that means that's going to
go to post page now when I just typed in
the letters this URL didn't match at all
and this whole block of code kind of
fell through none of these URLs matched
the ways the application the kind of the
web app to handler the default handler
printed there 404 page which says 404
not found when we go up to my 404
handler if an integer is passed in the
URL will make it this far and we won't
be able to look up a post and so instead
we'll just return error 404 but with no
content so that's why we saw that empty
chrome page you know normally we'd
probably have a function called send 404
or something that has a prettier 404
with an image or that sort of thing
we'll go through all the templates at
once</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>