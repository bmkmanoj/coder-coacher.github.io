<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Entendendo o Ciclo de Vida da Activity | Coder Coacher - Coaching Coders</title><meta content="Entendendo o Ciclo de Vida da Activity - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Entendendo o Ciclo de Vida da Activity</b></h2><h5 class="post__date">2016-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/PfOA6th9bJ0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so good job cleaning up the media player
resources as soon as you didn't need
them anymore so you're already following
the best practices of Android
development well at least for the most
part now I want to tell you some more
details that will require us to modify
our code just a little bit more so the
issue is that we've been operating under
the assumption that the user will always
stay within our app well what if the
user decides to switch away to say a web
browser or even head over to a phone
call well if the user is not actively
looking at our app we can't finish
executing our code and clean up the
media player resources so if the user
switches over to several other apps and
never comes back to our Miwok app then
eventually Android will destroy our
activity so they can use those resources
to run the more recent apps that the
users interacting with so as a developer
we have to be ready for the user to
leave our activity at any time or for
the system to destroy our activity
because it needs those resources for
something else
so for example in an email app the
developer is responsible for storing the
latest version of the users email Draft
so that when the user returns the app
even after days or months it appears as
if they've never left the app now in
this case the developer should indicate
to the system that it's interested in
knowing when the user leaves the current
activity and at that point the developer
should save off the latest version of
the email draft so later when the user
comes back to the activity the email
draft should be populated on screen so
it would be bad if they came back to the
email draft that they were writing and
the screen was just completely blank
because the changes that they made were
never saved off so all this behavior is
driven by the need to conserve memory
resources on a device so Android wants
to have enough resources so that the
current app that the user is interacting
with is fast responsive and the
resources aren't wasted on apps that the
user hasn't interacted with in a while
so in order to provide structure to all
the chaos that could be happening on a
device Android has a life cycle that all
the activities can follow so the system
will handle transitioning the activity
from one stage of the lifecycle to
another and it offers callbacks so that
you as a developer can get notified when
these changes happen in your activity so
when you get notified you can take that
opportunity to execute certain
instructions that you need so let's
discuss other states that activity can
be in when an activity is first launched
it's
created and then started and then
resumed now at this point the activity
is active and the user can interact with
it so as soon as the user moves to a
different activity or a different app
then this activity moves into a pause
state and then into a stop state and if
it is closed out then it becomes
destroyed so if the user comes back to
this activity then it gets restarted and
we move back into the started state and
now the user can interact with it once
again so here I've shown you a
simplified activity lifecycle diagram so
that you could first grasp a high-level
overview of what's happening so an
official Android documentation in the
starting activity section we have a full
activity lifecycle diagram here so this
diagram is a little bit more complex
that the one I showed you earlier but
the main idea is the same so remember
that the Android system is responsible
for transitioning your activity into
each of these States so you as a
developer can't control which state that
you're in so starting from here when
your activity is launched the activity
is moved into the created state using
the oncreate method and then it's moved
into the started state using the on
start method so at this point it becomes
visible to the user and so from there
it's moved into the resumed state via
the onresume method and in this case the
activity is still visible to the user if
the user can now start interacting with
the activity so here you can display
animations use sensors like location
sensors or even use the camera on the
device so the activity can stay in the
resume state for however long the user
is looking at the screen so that could
be minutes or hours or even longer now
as soon as your user switches to a
different activity then your activity is
paused via the unpause method and from
there it moves into the stop state via
the on stop method so at this point the
activity is no longer visible to the
user so since your user can't see the
activity if the system determines that
your activity is no longer needed the
system may destroy your activity via the
ondestroy method in order to free up
resources on the device and then your
activity what enter the destroyed state
but otherwise your activity could just
stay in a stop state then if your user
decides to come back to the activity
before it's destroyed then the activity
is restarted via the on restart method
and then it moves back into the start
state via the unstart method and then
finally back into the resumed state via
the onresume method</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>