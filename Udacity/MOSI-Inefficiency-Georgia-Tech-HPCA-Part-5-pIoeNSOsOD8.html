<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>M(O)SI Inefficiency - Georgia Tech - HPCA: Part 5 | Coder Coacher - Coaching Coders</title><meta content="M(O)SI Inefficiency - Georgia Tech - HPCA: Part 5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>M(O)SI Inefficiency - Georgia Tech - HPCA: Part 5</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pIoeNSOsOD8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so we have used the old state to avoid
inefficiency of the MSI protocol that
had to do with the memory getting
unnecessary accesses that could be
satisfied by caches that already have
the data there is another inefficiency
that both MSI and MOSI have and that
inefficiencies related to thread private
data or data that is only ever accessed
by a single thread and thread private
data is for example all data in a
single-threaded program will be thread
private so if we have a four core
processor around for single threaded
programs they never share any data all
of the data in these programs is like
this even when we have a parallel
program we still have data such as for
example the stacks of the individual
threads that are still gonna be accessed
only by a single thread and then
efficiency occurs when we read the data
in a thread and then rewrite it and this
is really the only thread accessing this
data with both MSI and mosy what's going
to happen is the data was invalid before
we had it we read it we have a mess now
we get the data in the shared State
when we want to write it because it's a
shared state we need to send out an
invalidation and then we have the Block
in the modified state and for every
single block of data we have to do this
in contrast if we had a uniprocessor the
block would have a valid bit of zero we
read it we have a mess now the valid bit
becomes one and then we have a hit when
we write it and then we just change the
dirty bit to one so somehow yeah
uniprocessor gets to do a Miss here and
a hit here whereas to do msi or mossy we
have to do a miss followed by another
bus request granted it doesn't care it
data but still we have to wait for the
bus send something outside the chip and
so on so this is still a lot slower than
just a cache hit and it's ok to pay the
penalty for having coherence if we're
actually sharing data because a
uniprocessor would not provide coherent
behavior but here we actually
no sharing whatsoever so what we want to
do is avoid this invalidation and to do
that we introduce a new state called
exclusive</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>