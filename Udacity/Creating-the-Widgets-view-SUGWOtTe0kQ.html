<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Creating the Widget’s view | Coder Coacher - Coaching Coders</title><meta content="Creating the Widget’s view - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Creating the Widget’s view</b></h2><h5 class="post__date">2016-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SUGWOtTe0kQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all the metadata in the world doesn't
help if we would never actually build
the widget provider this is a class that
has the logic for building the view for
the widget and passing it on to the
launch wrap it does that through the use
of a special class remote views because
these views need to go across
applications and break their traditional
sandbox provided for each app only a
subset of the normal views are supported
for widgets no custom views are allowed
thankfully all of the common views you
use in normal Android View layouts are
available to your widgets in fact you
build your widget layouts in XML just
the same as you would for any other
layout in your app one caveat with
widgets has to do with margins prior to
Android for Ice Cream Sandwich widgets
needed to provide their own margins so
that widgets wouldn't appear huge next
app icons already on the home screen on
Android 4.0 and higher
however the margins are automatically
applied for you and your background
should fill the entire space to make our
widget backward-compatible we can wrap
our widget in a frame layout that
includes the correct padding for each
API level so what does this mythical app
widget provider class we've talked about
actually do the core of it is in the on
update method this is where we
surprisingly update our widgets you'll
get a list of app widget IDs unique
identifiers for each widget the user has
created and it's your job should you
choose to accept it to update all of
those widgets thankfully that's pretty
easy for static widgets create your
remote views object and pass it on to
the app widget manager you're given but
even that's not very useful the set on
click pending intent method allows you
to control what happens when you tap on
your widget the only final piece we need
to get our widget up and running is an
entry in the Android manifest the ties
our app widget provider to our app with
your provider info you'll note the app
widget update action here that's what
tells Android that this is an we
provider and our metadata attribute so
what tells Android where to find the
metadata it needs to display the widget
in the widget selection screen with all
those pieces in place we should be able
to get a basic widget showing up on the
home screen</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>