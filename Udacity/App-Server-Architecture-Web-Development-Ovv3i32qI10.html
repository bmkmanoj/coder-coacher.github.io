<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>App Server Architecture - Web Development | Coder Coacher - Coaching Coders</title><meta content="App Server Architecture - Web Development - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>App Server Architecture - Web Development</b></h2><h5 class="post__date">2012-05-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Ovv3i32qI10" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">behind a chair proxy we actually get
into the meat of reddit's infrastructure
we had a bunch of app servers these are
these are physical machines that are
running Python programs like you've been
working on in this class when I laughed
I think we had maybe 20 of these um I
was in that many how many do you guys
have now uh 180 I'm okay so that's
pretty significant so we went they went
from 20 when reddit was a big site to
180 when reddit became a huge site now
these are running Python they're there
they're using a web framework that I
talked about previously in this unit
called pylons do you guys still use
pylons yes yeah mostly coastal there yep
and so this handle just about every
request um I don't recall if we had
special web servers for static content
do you guys have special web servers now
for static content we use s3
that's three for static oh yes yes we
transition to that at some point before
I left so everything we do is on Amazon
AWS basically you rent machines from
Amazon and one of the systems in AWS is
s3 maybe you could explain yeah what s3
is and how it works
sure s3 is simple storage service and
it's basically a distributed file
storage thing in the cloud and Amazon
lets you put objects into the bucket and
it's literally just a key value store of
these files and other people can hit a
URL and grab the object so we store all
of our static content like CSS and
JavaScript on s3 and when you're hitting
the site you're actually going via our
Chrome I to s3 instead of our
infrastructure so for static content a
user never even hits H a proxy or the
app servers or anything at all yes for
the most part and we can get away with
that because the content never changes
right so I know in the early days with
Reddit and certainly in the applications
we've been building this class you know
all the content static or not get served
from these
app service and as you grow there's no
reason why you need to waste you know
all these resources handling connections
for JavaScript and CSS and images and
and and for awhile we were using nginx
for the static content I think we were
just in transition when I left some of
the static was on s3 and we just moved
all the CSS and stuff in October so we
were using nginx and it got to the point
where the one nginx server doing all of
the static content couldn't handle it
anymore when we changed the content and
everybody's caches were invalidated and
so we would do a deploy of new code and
there would be this static content
change and all of a sudden that nginx
would get overloaded and everybody would
be getting completely unstyled read it
it seemed that happen a few times yeah
and so nginx is just a web server you
know back in the early days of the
internet almost all the content online
was stack and it was served by this
things called web servers which
basically take HTTP requests find a file
you know that was in the URL like the
actual file name map directly to a file
on the web server and they would serve
and that was basically almost the entire
Internet in over the last 15 years
the content online has changed from
basically being 100% static to almost on
recent dynamic and in fact when I
started teaching this course in unit 1 I
was trying to think of a website that
was 100% static and I can't think of
what do you do I mean do you have any
idea someone I'll stop your head so
there's actually been a resurgence of
static in the form of websites that get
compiled from files ok and so there's
actually a lot of blogs out there now
that are purely static served but are
generated from files dynamically we're
going to talk about how how much content
reddit precompute is like a form of like
this we talked about unit 6 is kind of
notion of caching and then you can wait
to cache something until it's needed or
you can cache it ahead of time so that
the user never actually touches the
database and what you're getting at is
like an extreme form of that yeah yeah
you know you only compile it when you
need to when you change it so you build
up your whole blog I guess so static
content and then sad content I mean the
whole thing is it's really easy to serve
because it's the same for everybody yeah
you know having static content in s3 or
nginx even when read it was pretty big
when I left we could get away with one
web server there because Akamai handled
most of the load and Akamai is pretty
clever about oh this this piece of
contents about to expire I'll go ahead
and fetch it in advance and then to keep
the users from all slipping through a
command pounding this guy</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>