<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>NonHierarchical Locking (cont) - Georgia Tech - Advanced Operating Systems | Coder Coacher - Coaching Coders</title><meta content="NonHierarchical Locking (cont) - Georgia Tech - Advanced Operating Systems - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>NonHierarchical Locking (cont) - Georgia Tech - Advanced Operating Systems</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mei_GtXEqj4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so essentially what the reference count
and the existence guarantee is giving
you is it is giving you the same
facility without doing the hierarchical
locking that was what we really wanted
what we really wanted in this
hierarchical locking is the existence
guarantee of this process object to
guarantee the integrity of this object
we're getting that we're getting that by
associating a reference count and making
sure that this particular object has not
gotten rid of until the reference count
goes to zero so we're achieving the
effect of hierarchical locking without
losing concurrency for operations that
can go on in parallel of course if these
page faults for t1 and t2 are accessing
the same region of memory you have no
choice except to go through the same
region object but there again this is
something that the operating system can
monitor over time and see if even though
it is the same region maybe this region
itself can be carved up into sub regions
and promote concurrency in the limit you
can have a region for every virtual page
but that might be too much right and
that's the reason that you don't want to
have a detonation of a page table into
such a fine grain partition but you
might want to think about what is the
right granularity to promote concurrency
for services like this to go on in the
multiprocessor so coming back again to
the hierarchical locking the key to
avoiding hierarchical locking in tornado
is to make the locking encapsulated in
individual objects there is no
hierarchical locking locking is
encapsulated in the individual object
and you're reducing the scope of the
lock to that particular object so if
there is a replica of this region then a
lock for a particular replica is only
limited to that replica and not across
all the replicas of a particular region
that's important it reduces the scope of
the lock and therefore it limits the
contention for the lock but of course it
is incumbent on the service provider to
make sure that if
particular region is replicated then the
integrity of that replication is
guaranteed by the operating system
through protected procedure called
mechanism that keeps these regions
consistent with one another because you
made a replica of that even if the
hardware provides cache coherence
there's no way to guarantee that these
replicas will be consistent because they
are dealing with different physical
memories and therefore is the
responsibility of the operating system
to make sure that these regions are kept
consistent with one another</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>