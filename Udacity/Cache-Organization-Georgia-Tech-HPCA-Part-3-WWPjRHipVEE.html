<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Cache Organization - Georgia Tech - HPCA: Part 3 | Coder Coacher - Coaching Coders</title><meta content="Cache Organization - Georgia Tech - HPCA: Part 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Cache Organization - Georgia Tech - HPCA: Part 3</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WWPjRHipVEE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now that we know what the purpose of the
cache is and how big approximately it
needs to be let's look at how it is
organized internally the questions we
need to ask ourselves is how do we
determine if we have a hit or miss so we
need to know what data do we have in the
cache and then when the processor gives
us an address we need to determine
whether that data is or is not in the
cache and we need to do that very
quickly and the other important question
is how do we determine what to kick out
from the cache once we are out of room
in it and we need to put more stuff in
it because we are just having a cache
miss so for the first question of how do
we know whether we have a kid or a Miss
we want something that is very fast that
means it needs to be a table of some
sort that we can quickly index with some
bits of the address and it tells us what
we have in the cache and if we do have
what we are looking for then it gives us
the data so conceptually the cache is a
table which we index with some bits that
we take from the address of the data so
some stuff here needs to tell us whether
we have hit and the rest of the stuff
here
is the data we want if we do have the
hit how much data we have in each cache
entry is called the block size or the
line size because the entry in the cache
is also called a line and they tell us
how many bytes are in each of these
entries if we have only one byte per
entry then every address will map to a
different entry if we have a block size
of 1 that means the entry in the cache
is only one byte every single byte
address will have a different entry that
creates several problems one usually the
processor can issue accesses not only to
a single byte but also for example load
word and store word will access a four
byte location so for a single access now
we would need to look up four different
lines in the cache that complicates and
slows down the cache a lot so we
definitely don't want a block size to be
this small we want the block size to be
at least as large as the largest single
axis that we can do in the cache and
hopefully slightly larger than that just
so
that when we do a load word or store
word we find the data in the same cache
block most of the time the next thing
that we want to consider when deciding
the block size is spatial locality if we
Mason the cache on one axis we will
bring in an entire block worth of memory
stuff into the cache so if there is no
spatial locality we want to bring in
just what we are currently accessing but
if there is any spatial locality we want
to bring more than what we are just
accessing so typically block sizes of 32
to 128 bytes work well both from the
perspective of they're larger than a
typical access and also they capture
much of the spatial locality that exists
in programs now let's look at block
sizes of something like one kilobyte in
that case what happens is we fetch a lot
of data from memory every time we have a
Miss and if there is not enough locality
a lot of the data will not be used so we
are occupying space in our cache
remember that the cache is only 16 to 64
of these kilobytes so if we bring in a
block like this we are consuming a
significant part of the overall space in
the cache and we are doing it probably
with data that we won't use much so it
turns out that for level 1 cache is at
least we don't want the block size to be
too large so block sizes of 32 to 128
kilobytes are a balance between getting
use of spatial locality when we bring
stuff in versus not being dependent too
much on there being a lot of spatial
locality because some programs don't
have that much of it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>