<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Transactions - Developing Scalable Apps with Java | Coder Coacher - Coaching Coders</title><meta content="Transactions - Developing Scalable Apps with Java - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Transactions - Developing Scalable Apps with Java</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FLSrO3r8PxQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now we're going to cover another area
important to use when you're writing
data we're going to talk about
transactions let's go back and look at a
user registering to attend a conference
for example as you may recall we
previously introduced an ancestor
relationship between a profile and
conference where the profile that
created a conference was the ancestor to
the conference we will now introduce a
has a relationship between profile and
conference where each profile entity
will have a list of conferences they
will attend we will call this property
conferences to attend in addition we
will have a numeric calendar in each
conference entity which specifies how
many seats are still available we will
call this property seats available so
when a user registers to attend the
conference the conference gets added to
conferences to attend and seats
available gets decremented by one so
going back to transactions in this case
your application will perform to update
operations on two separate entities so
far every data store update operation we
used have been independent of the other
for example the success or failure of
put entity one and put entity to has
been independent of the success and
failure of the other this may be okay in
many situations but in many situations
it may also be completely unacceptable
so going back to transactions in this
case your application will perform to
update operations on two separate
entities on the profile entity it will
add the conference to the conferences to
attend property and on the conference
entity it will decrement the seats
available counter although these
operations are performed independently
in this diagram right now you may see
that they are in fact highly dependent
on each other imagine for example that
you have successfully added the
conference to the profile entity and
then the unthinkable happens your
application needs to terminate for some
reason for example it runs out of memory
and is faced with the critical
termination condition in this case when
your application restores the profile
entity will have the conference
registered to attend but the seats
available counter has not been
decremented this means that there will
be more uses attending than there are
seats available
that is not good we solve this problem
by using transactions this is done by
telling data store to begin a
transaction then you perform your
operations and finally you commit your
transaction if everything goes well you
have successfully performed both update
operations and the state of both
accounts have been updated in
transaction language we call this a
commit forward but if the unthinkable
happens and something goes wrong before
we have successfully executed the commit
transaction statement then anything that
has been updated starting from the
beginning statement will be undone like
it has never happened for our case that
means that the seats available counter
was not decremented but it also means
that the conference was not added to the
profile entity as you can see we have
created a mutual dependency between
these statements they are either
executed as a complete group or none of
it gets done now the time has come for
you to add transactions to conference
central with a new exercise</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>