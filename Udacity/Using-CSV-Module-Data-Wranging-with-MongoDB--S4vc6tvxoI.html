<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Using CSV Module - Data Wranging with MongoDB | Coder Coacher - Coaching Coders</title><meta content="Using CSV Module - Data Wranging with MongoDB - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Using CSV Module - Data Wranging with MongoDB</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-S4vc6tvxoI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">now let's step back a minute and think a
little bit more about CSV we've talked
about the fact that fields are delimited
by commas so what happens if we have a
field that actually has a comma in it
like for example this one this
particular Beatles album was released on
two different labels one in New Zealand
and one in the US so the way this data
set has been set up those two different
labels are simply separated by a comma
here now based on what we know so far
about CSV or I should say what we've
discussed so far in the class about CSV
this would cause a problem for us
because our parser would interpret this
as a field separator now the way that
the CSV format actually handles this or
the way that most applications that deal
with CSV format actually handle this is
to do something like the following so
you can see here that this is the field
in this actual CSV file over here what
I've done is simply loaded inside a
Google sheet but here's the raw CSV file
and you can see that the way this has
been structured is for this particular
line this field has been enclosed in
quotes okay so what that does is
indicates that you can ignore fuel
delimiter x' from here to here so we've
got some choices in terms of what we use
for quotes you could use double quotes
or you could use single quotes
well that would cause problems in other
ways you can see here that we have this
quote character here single quote here
there's also one here which is actually
used as an apostrophe for sergeant
pepper's Lonely Hearts Club Band so it
would be extremely tedious if in our
Python programs we had to deal with all
of these different variations and
exceptions and the fact is that though
we call it CSV or comma separated values
you can really use any delimiter you
want here as long as that character is
only used for a field delimiter in rows
and our data set so as so often is the
case in software development this
problem has been abstracted away and
solved for all of the different
variations the tedious details that we
might have to deal with in order to work
with a format like CSV that has so many
variations and asterisks as my friend
will Kraus is fond of saying this is the
Python CSV module this module deals with
CSV formats in a pretty complete way so
let's
and how we use this module now what I'm
actually going to do here is use the
dict reader class from this module this
assumes that what we want to do is read
all of our data into dictionaries which
is what we've been doing all along and
what we'll kind of continue to do
throughout the rest of the course but it
had some other pretty cool features as
well for example it assumes that the
first row of whatever file we're going
to read is actually a header row and
that those are the names we want to use
for fields so going back to our CSV file
if I scroll up to the top we can see
that this first row here is actually all
of the field labels that we would like
for the columns in this data set are the
fields in this data set so what this
dictionary reader will do for us is as
it reads in rows it will create a
dictionary for each row the field names
will be whatever it found in that first
row and it remembers them as we read
through the data file and the values
then will in turn be each of the
Associated values on each line of the
file and again it also handles things
like dealing with quote characters
dealing with quoted fields that may have
commas inside of them and so on we don't
have to worry about that at all using
the CSV module okay so let's take a look
at the rest of this code essentially
we're just opening up the data file
we're instantiating a dict reader from
the csv module and then we're simply
looping through each temp through here
this class is going to produce a line
for us and that line will actually be a
dictionary composed of the appropriate
fields for that particular line so then
if we scroll down what I'm going to do
here is simply print out all of those
values okay
so let's take a look at running this
piece of code and again remember we're
using the CSV module okay so if we run
this the output we get will just look at
the second-to-last one here is a
dictionary composed of each of the
labels that came out from the first line
of this file and the field value for
each one of the fields for this
particular row from the data file okay
and this seamlessly handles for us
fields that may be quoted on a
particular line and other nuances that
we might see in the CSV format and
conveniently stuffs everything into
individual dictionaries for us
so whenever you're working with CSV
files in Python it's best to use the CSV
module because so many of the challenges
of working with this type of data have
already been solved for us</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>