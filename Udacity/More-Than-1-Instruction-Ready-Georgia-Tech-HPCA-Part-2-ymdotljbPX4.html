<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>More Than 1 Instruction Ready - Georgia Tech - HPCA: Part 2 | Coder Coacher - Coaching Coders</title><meta content="More Than 1 Instruction Ready - Georgia Tech - HPCA: Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>More Than 1 Instruction Ready - Georgia Tech - HPCA: Part 2</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ymdotljbPX4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">during this patch we haven't considered
the situation when more than one
instruction is ready to execute so let's
do that so here's a situation where we
have a similar broadcast to the previous
case where we have in all reservations
station one is broadcasting a result of
- 0.29
so we're still gonna free reservation
station one as before we will still
gonna capture all of the results that
hasn't changed so here we're gonna latch
- 0.29 this doesn't need to match
anything here because we already have a
value here we're gonna also latch 0.29
and here we're gonna do the same thing
but now we have a situation where for
the multiplication and divide unit it's
pretty clear that this is the
instruction that gets to execute so this
this is easy but here we need to choose
between one of these two because
assuming that the other can only handle
one instruction per cycle we need to
pick one of these and now we have to
figure out which one so there needs to
be some logic that's gonna pick one of
these instructions because both of them
cannot go now we need to figure out you
know are there any good rules about
which one should go first so our
question is basically should we dispatch
RS 1 or RS 2 well ideally we will
dispatch that instruction that allows us
to kind of get to future instructions as
early as possible so basically we would
choose the instruction that leads to the
highest performance unfortunately that
requires knowledge of the future and
this is something that hardware is
pretty bad at doing because we only can
really look here at these instructions
here and maybe the next couple of
instructions in the instruction q well
in reality the situation might change
because for example this instruction
might have a lot of dependent
instructions later on and this one might
have few but with that we don't know
that until we see those a lot of
instructions later on so it's very
difficult to decide that based on kind
of perfect knowledge of the future so
how do we choose this instruction well
there are some heuristic so basically we
cannot really do a perfect job of it but
we can make some reasonably good guesses
one choice that usually makes a lot of
sense is all this first so pretty much
whichever whichever of these
instructions has been sitting here
longer
we'll be allowed to go first why well
because for an order instruction all
other things being equal it's more
likely that more instructions are by now
waiting for it simply you know if an
instruction is older by now
you could have seen more instructions
that will use its values and also this
allows us to kind of you know mark off
some instructions as done so basically
all this first is a typical heuristic
that gets done this way another one that
could be used is something like most
dependencies first where we would check
how many other instructions need the
value from each one of these and then
use the one I mean you know dispatch the
one that will prove that we can free up
more more the most of the other
instructions but this one would be
varied this heuristic would be difficult
to implement because we would have to
actually like search a lot of stuff
which is going to be very power hungry
and so on so typically if we do anything
we will just do the oldest first another
choice would be to just randomly select
the instruction like for example
whichever is comes first in order of
reservation stations or something like
that so something that has nothing to do
with their age in the reservation
station or whoever has most dependencies
this strategy would also worse because
note that if we don't send the oldest
first we will eventually run out of
things to do because all of the things
will depend on the other's instruction
at which point it will run so basically
it's not a problem regarding correctness
if we choose something other than all
this first or dependents first it's just
an issue of kind of what works
reasonably well
so typically all this first does help
somewhat with like releasing
instructions from here while you know
random is okay as far as just you know
correctness is concerned so pretty much
any one of these three would work it's
just a matter of you know which one
would lead to the best performance and
we kind of chosen all this first as a
kind of compromise between what we have
to look at and you know what gives us
good performance so random would give us
kind of the worst performance this would
give us the best performance but this is
relatively easy to do so we kind of
compromise between the two</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>