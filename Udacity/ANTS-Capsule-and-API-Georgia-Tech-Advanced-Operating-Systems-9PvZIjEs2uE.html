<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>ANTS Capsule and API - Georgia Tech - Advanced Operating Systems | Coder Coacher - Coaching Coders</title><meta content="ANTS Capsule and API - Georgia Tech - Advanced Operating Systems - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Udacity/">Udacity</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>ANTS Capsule and API - Georgia Tech - Advanced Operating Systems</b></h2><h5 class="post__date">2015-02-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9PvZIjEs2uE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so having given you the high-level
description of what ants toolkit does
let's dig a little deeper and look at
the structure of the ants capsule as
well as the api's provided by ants in
order to do capsule processing first of
all the header as I told you consists of
three parts the original IP header which
is important for routing the packet
towards a destination if a node is a
normal no not an active node and this is
of course the payload that was generated
by the application and in the middle is
this ants header and there are two
fields in this ants header that is
particularly important one is a type
field the other is a pre filled the type
field is a way by which you can identify
the code that has to be executed to
process this capsule and this type field
is really an md5 hash of the code that
needs to be executed on this capsule and
we'll come back to that in a minute and
the second field that I said is
important is a pre field and this pre
field is the identity of the upstream
node that successfully processed the
capsule of this type and this
information is going to be useful for us
in terms of identifying the code that
needs to be executed in order to process
this capsule we'll come back to how
these two fields are actually used in
processing a capsule once this capsule
arrives at an active node the short hint
that I'll give you is that the capsule
itself as you see does not contain the
code that needs to be executed to
process this capsule but it only
contains a type field and this type
field is a vehicle by which we can
identify the code that needs to be
executed to process this capsule more on
that in a minute first let's talk about
the API that ants toolkit provides you
the most important function that we want
to accomplish using the ants toolkit is
forwarding packets through the network
intelligently so routing the capsule is
the most important function that needs
to be done and that's most of what
there's ants API is all about and that
part is contained right here saying that
well route this packet in this manner
and deliver the packet to an application
and this is the set of API calls that
allows you to do routing of the capsule
through the network this is where what I
said about virtualizing the network
comes in regardless of the actual
topology physical topology I can take
routing decisions commensurate with the
network flow requirements contained in
the capsule that arrives at a node so
the second part of the API is API for
manipulating what is called a soft store
now soft store is storage that's
available in every router node for
personalizing the network flow with
respect to a particular type of capsule
and I mentioned earlier that the type is
only a pointer to the code not the code
itself and the soft store is a place
where we can store the code that
corresponds to a particular capsule type
so the primitives that are available for
manipulating the soft store of things
like put object and get object the soft
store is basically a key value store and
in this key value store you can store
whatever is important for personalizing
the network flow for capsules of this
type an obvious candidate for storing in
the soft store is the code that is
associated with this type so you can
store the code that is associated of
this type so that future capsules are
the same type when it arrives at a
particular node they can retrieve the
code from the soft store and execute the
code that needs to be executed for
processing capsules of this type other
interesting things that you might put
into the soft store are things like
computed hints about the state of the
network which can be used for future
capsule processing for capsules of the
same type and the third category of API
that's available is querying the known
for interesting tidbits about the state
of the network or details about that
node itself for instance what is the
identity of the node that I am currently
at and what the local time is that
there's no at this node and so on and so
forth so these are the kinds of things
that are available so the key thing that
I want you to get out of looking at this
ants API is that it is a very very
minimal set of API so the number of API
calls fits in this little table here so
that's the idea remember that routers
are
public internet and if you're talking
about executing code in the router that
is part of the public internet that all
the program that we are executing at a
router node has to have certain
important characteristic number one it
has to be easy to program number two it
should be easy to debug maintain and
understand and number three it should be
very quick because we're talking about
routing packets and so that order
program should not take a long time to
do its router processing so the API is
very simple API allows you to generate
very simple router programs that are
easy to program because the API is a
simple easy to debug easy to maintain
and understand and the program itself is
pretty small that it's gonna take not a
humongous amount of time to do the
packet processing</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>