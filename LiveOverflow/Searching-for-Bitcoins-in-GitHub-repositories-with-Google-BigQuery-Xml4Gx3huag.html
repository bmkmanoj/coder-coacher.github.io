<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Searching for Bitcoins in GitHub repositories with Google BigQuery | Coder Coacher - Coaching Coders</title><meta content="Searching for Bitcoins in GitHub repositories with Google BigQuery - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LiveOverflow/">LiveOverflow</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Searching for Bitcoins in GitHub repositories with Google BigQuery</b></h2><h5 class="post__date">2017-12-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Xml4Gx3huag" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">Google offers a ton of services just
Google search YouTube Gmail Drive but
they also offer a cloud platform and one
of the services there is big query big
query is a fast fully managed enterprise
data warehouse for large-scale data
analytics bigquery can scan terabytes in
seconds and petabytes and minutes a lot
of buzzwords but what is it good form so
it basically is a Big Data Platform and
servers anybody can use this is
something nobody can do on their
personal computer and bigquery allows
you to do stuff that generally would
require some big machines so here's how
it works you have a question you're
looking to answer and so you write an
SQL query for a big data set you let it
run and get the result back and the
other cool thing is bigquery comes
already with public data sets that you
can use there are huge data bases with
data on baseball games census data
crimes and so forth you can find some
really cool examples to play with out of
curiosity or even use it for a research
project I got really excited when I saw
that bigquery had a public github
dataset for example somebody ran a query
to check how many files use spaces or
tabs for indentation so I thought about
what I could do and I was thinking
people leaked their passwords and as its
age private keys on github maybe they
also fail with Bitcoin wallets their
private keys maybe that's my way into a
luxurious life so I checked again how a
Bitcoin address looks like built a
regular expression for it basically all
start with a five followed by H J or K
and then followed by other base 58 valid
characters
and to not match this in random text and
made sure that before this mesh there is
either the start of a line or not a
regular character so spaces or quotes or
colons would be fine
same thing for after the key just with
line ending then I looked up some
examples that people have done because
I'm doing this for the first time and so
I just modified this here a bit you can
also investigate how the data set looks
like you want to query the fields they
have some details like the size this is
important for what the query will cost
and you can also preview the data to get
an idea what you will get so here's what
I came up with we first query all
contents so all file contents where this
reg X matches and returned those matches
together with an ID and then we join
this result table with the files
database which contains the repository
name and the file name or actual file
path the result will be a table with
hopefully Bitcoin wallet keys and where
they were from it takes a few seconds to
run those two terabytes of data but
returns very quickly a result with over
10,000 matches isn't this crazy
we just queried over 2 terabytes of data
in a matter of seconds with a reg X 2
terabytes anyway I took the result don't
loaded it as a CSV wrote a simple script
using a Python module to get the Bitcoin
address for the valid private key if it
was actually a valid private key and
then we use the blockchain info API to
see if there are any funds available but
as it turns out they are mostly empty
some had some movements in the past and
there was even one with around $5 cents
on it but when you look where they are
from they are all well-known public
unknown private keys they all like
examples from projects and so forth so
unfortunately my luxurious life has to
wait and actually this cost me around $5
because while the first terabyte is free
each additional terabyte costs $5
in this dataset had two terabytes oh
well
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>