<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Setup Private Server with Docker - Pwn Adventure 3:  part 2 | Coder Coacher - Coaching Coders</title><meta content="Setup Private Server with Docker - Pwn Adventure 3:  part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/LiveOverflow/">LiveOverflow</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Setup Private Server with Docker - Pwn Adventure 3:  part 2</b></h2><h5 class="post__date">2018-05-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VkXZXwQP5FM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this episode we want to set up a
private Pony Adventure 3 server so we
don't have to use the public server that
can only handle a couple of concurrent
users the game itself also has an
offline mode so you can check out the
game a little bit without any server but
to really experience the MMO game
hacking part you really wanted to talk
to a server
in the description of the video you will
find a couple of links one of them is a
github repository that I have created
listing a few options how to run it
yourself but let's first talk about the
system requirements from the official
readme it is recommended to at least
have two gigabytes of RAM and spawn only
about two to three instances per CPU
core what that means we will see later
you will also need a couple of gigabytes
free disk space for the large client
files so if you are interested in more
details about the server architecture
it's probably most fun and interesting
to follow the official readme or follow
the guide by Antonin Valjean he has an
easy to follow step by step guide on how
to install and configure the server on
Ubuntu 14 or Ubuntu 16 you will do each
step by hand and you have various
options to customize things or maybe
just learn more about Linux and setting
up a server in general it's a very
detailed guide so if you install a fresh
Ubuntu in a VM you should have no
problems the other option is to use the
docker files from my repository I wanted
to learn more about docker so I used
this as an opportunity to learn more
about it and create the stock of file
and the docker compose file together
with a friend I'm not saying it's a
better option but for some it might be a
more easy option if you already have a
server with darker and darker compose
you will only have to type docker
compose built and docker compose up to
get it running but also the steps to
install those are simple copy and paste
I have tested this on a bun 2:14 and
Ubuntu 16 that I installed in a VM
running on VMware on my windows host but
my actual personal server that I'm now
playing with is running on this little
Intel nook that another friend helped me
to set up with CentOS and KVM so I have
a docker VM with Fedora running on there
where I have deployed my docker files
and that's running pretty smooth and I
also tried it on digital ocean and
essentially all these options are the
same you just somehow need a shell have
to get darker properly installed
check the versions in case your throws
arrows you need enough resources make
sure the machine is reachable from your
game
machine so for example in your vm
network settings you must want to set it
to bridged or whatever you need but then
you're good to go
and then you can simply follow the guide
in this example I'm using digital ocean
where I select one of the cheaper plans
in case you don't know the channel ocean
is like Google or Amazon Cloud you can
just click yourself a server for however
long you want and you only pay the time
you used it
the reason why my digital ocean customer
is because Amazon requires a credit card
which I didn't have for a long time and
digital ocean works with PayPal that's
the only reason anyway after selecting a
server enabling monitoring giving it a
name I have to wait a few seconds until
it's set up and then I get an IP that I
can connect to with SSH and then I clone
the github repository and start the
download of the client and server files
contained in the poetry target archive
it's around one point eight gigabytes
well this is running you can open a
second shell and make sure docker and
docker compose is properly set up which
is just essentially following the docker
Community Edition installation guide and
copy and paste the commands for future
reference here are the versions that
were working for me once the download is
done you can quickly verify the hashes
of the file to make sure it's complete
then unpack it with tar xvf and after
that you are ready to build the docker
images with docker compose build this
will definitely take a little bit and
then run it with docker compose up then
the server should be running keep in
mind that when you now control see here
you tear down the docker container again
and everything is lost it's great for
testing everything but when you want it
longer running use the minus T flag to
run it in detached mode you can then
verify with docker PS and netstat if
everything looks good this means there
are two docker containers the master and
game container and that you have the
docker proxy process listening on port
three three three three three thousand
and maybe more next you can try to
connect with your client to it for that
you have to do two things first is to
edit your etc' host file that file
exists on Windows Mac and Linux
for Mac and Linux it's simply an ET cie
hosts for Windows it's in this path
shown here make sure to edit the file
with rude or administrative privileges
here we enter the IP of our server and
assign it the name masa dot point three
and game dot point three those are the
two host names of my default server
configuration the second thing you need
to do is to modify the server in E
config file located somewhere in the
client folder you have to replace the
official host with master pon3 warning
don't use any IP here it took me half a
day to debug why my client wouldn't
properly connect and once I used a host
name it worked that's why we have to set
the ECC host file after that we can
launch our client and wait for all the
files to be downloaded this takes quite
a while but after that we can press play
this will close the launcher and start
the actual game here we can select play
game and if displays the life overflow
message it worked you are connected to
the master server now you can then
register an account and after that
create a character when you press join
the master server will assign you a game
server and drop you into the game just
so you have a better understanding of
how the serving client works when you
start point in 2003 launcher then the
launcher connects to the official server
to check for updates to the client and
download the files after that it kills
itself and starts the actual game that's
very typical for games then the actual
game will read the server dot any config
file that we have modified earlier when
you now want to play the client will
connect with the master server specified
in the server in e-file so master dot
point 3 and you can register an account
login and create a character this also
happens by connected to the master then
when you press join the master server
selects a game server and pour'd for you
the game server runs several instances
on different ports in this case the game
server is located on game dot point
three so the master server will tell the
client hey I found a free server for you
check out game dot pone three on port
3000 if there is no game server or it's
just very busy you will see a message
waiting
or something like that and now that you
have the game server you connect to it
and get dropped into the actual game
anyway
the setup is essentially the same on any
of the hosts so here's my macbook my
linux laptop and my pc connected to the
same server say hello of course the
technical details on how to hack them is
different on each operating system in
case you want to customize the server
settings a bit
check out the setup scripts in the git
repository there you can change the
welcome message and also the hostname
the server will use as well as the
amount of instances this is what I
briefly mentioned in the beginning this
bonds 5 game server instances and it
worked on the digitalocean server
however when you look at the monitoring
stats it's really at the limit anyway
now that we finally have everything set
up we will dive into the hacking parts
next video if you watched a little bit
of the let's play in the last video I'll
plate the beginning yourself you know we
need a fireball to get out of this cave
but soon we will be able to do what this
guy does just flying out the hole in the
cave it looks a bit laggy from this
perspective but whatever flying is
flying</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>