<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CppCon 2015: Ábel Sinkovics “Compile-time tools supporting generic programming in C++&quot; | Coder Coacher - Coaching Coders</title><meta content="CppCon 2015: Ábel Sinkovics “Compile-time tools supporting generic programming in C++&quot; - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CppCon/">CppCon</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>CppCon 2015: Ábel Sinkovics “Compile-time tools supporting generic programming in C++&quot;</b></h2><h5 class="post__date">2015-10-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nUXjVVO4YlA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone thank you for coming as
you can see my name is Alison kovitch a
little bit of history okay I made a PhD
at the idea to Ashland University
Hungary and my research topic was the
connection between C++ template other
programming and functional programming
so I made quite a bit of template
metaprogramming we're doing that I have
also built C++ libraries based on or
using template metaprogramming one of
them has recently been accepted to boost
and to make my template metaprogramming
work easier I have searched for and get
myself to is supporting C++ template
metaprogramming and over the time I
realized that such tools that are there
for C++ template metaprogramming can be
extremely useful when we are using
templates the regular way so the way
they were originally designed to be a
generic data structures and algorithms
so in this talk I will be looking at the
different tools available for such
regular usage of templates so if
anyone's after template metaprogramming
stuff done this is not your talk this
time I'm working for Morgan Stanley and
my employer has supported me in giving
you this talk okay so let's get started
the first of all what is generic
programming so the title says do is for
generic programming I've searched for a
definition of generic programming and
these are the things that found if you
look at them you can see that they are
both talking about the reusability so
that's the common theme among the two
and they also talked about generality
and efficiency so these are the things
that matter when we're doing generic
programming and the cheapest bus
provides templates
as a tool for implementing generic data
structures and algorithms so when we
decide to to use them either use a
library that is a generic library or
provides generic components or to build
ones ourselves then then we will have to
deal with templates in C++ and this is
how template usage typically works so
the programmer writes the code defining
template classes or template actions
instantiating them using templates a
gives the code to the compiler the
compiler compiles it and if all goes
well then it generates some object code
when there is an error then it prints
out a narrow report programmer can look
at the arrow report and it can look at
the original source code but the magic
is happening here inside the compiler so
based on these two sources the source
code and the error report the programmer
has to basically reconstruct what was
going on inside the compiler to
understand the non-trivial error message
what he can do about is well he has to
learn about completion so this is one of
the reasons why the learning curve is a
bit steep to get started but once he
understands how templates work then he
can look at this source code the arrow
report and then sort of imagine what is
going on inside so that and if the
library has been built in a way that
it's intuitive to use then in most cases
you don't need to do this but if
something goes wrong you can easily end
up doing such imagination ok so that was
template usage well there are template
metaprogramming and template
metaprogramming they are basically
abusing templates in some way to to make
the compiler do specific things and if
this is what goes on inside compiler
when you're using some sort of our
generic I
degree then this is what is going on
inside a compiler when you're doing a
template metaprogramming see that it is
very more intensive amplitudes ish than
the other one so too is that can make
this process doable can be really
helpful for the other one as well so
that's that's the basic idea what are
the tools are out there so here are the
two tools that I'll be talking about one
of them is a client extension cord
template and the other one is metal
shell combined with MDB this is the
thing that unrest which one myself have
been working on but i'll cover those
later and as i said earlier the idea is
that they can be useful for for using
generic code and in c++ so what other
tools are available it's not just this
template to so I mean not just these
meta programming tools when you have to
understand how your generic library
works or what is going on inside the
compiler then you get a number of tools
at your disposal and you had them we had
them for ages so this template
metaprogramming tools are a reason but
these other tools have been around for a
while and here are the two new tools as
well so let's start with an example
program this is an artificial example so
it has class is called ABCD whatever but
you can easily see similar code in in
real applications as well so you might
have come across such code as well I
have come across such code quite a few
times and I had to do such thing quite a
few times so what you want to figure out
is that what is this handle type you can
see that here is a template class a you
instantiate it with int and it has some
sort of a nested type called handle what
is that handle in a real code DC could
be a type trait or it could be a
container whose value type you want to
figure out something like that
well what's the naive approach you say
that well this template cause a must be
defined in a a dot HPP so let's just
look at it so you open that a dot HPP
and you can see that well yeah your
guess was right it's defined in that
file but it has no handle but it
inherits publicly from be so you open up
B dot HPP as well and there you can see
that here is the handle but
unfortunately this is just a type
various anything else and you open that
up as well and you can see that well
it's another type areas and you're
laughing but such code can surprisingly
easily evolve when you're when you're
the using templates so you've got one
class you realize that in in an
application code that you get one class
you get another one they are almost
doing the same so you create a template
us and define the minor differences and
then you've got one level of this
hierarchy you had some type traits to
eat to to make it work with more
functions than you get another level and
these things just fill it up if you
decide to do it manually and you don't
give up at this point then you can start
saying that ok here is this C factory
instantiated with you UConn cologne item
where does this you come from well it
comes from here so it's D you so you
need to figure out what you is and so on
and so forth you will end up writing
notes for yourself that i was looking at
this originally which led me to looking
at this you will be running up and down
in this hierarchy so it's not a nice
thing to do and you obviously need tools
here is a list of approaches that i will
show you and i will show you how to how
to use these approaches to to make this
process easier or to make this first
example easier the first one is well
you've got a compiler and you can make
the compiler display an error message
containing the answer so you can write
your code well you can write your code
in a way that it fails to compile you
give it to the compiler
you receive an error report you can look
at the error report and the idea is that
the answer is somewhere in the arrow
report this is one of the things that
tend to come into people's mind the
first time when they decide to use some
tools for resolving such things and you
can either write the code yourself to
make make the compilation fail or you
can use existing ones such as boost and
PR print this is how you can use it you
instantiate it with the type you want to
know more about and here is an example
output or error report from client there
is the answer you can you might write
the script if you need to do it often
that just grabs that specific part out
of an error message here's another error
report from visual c++ note that here
the answer is in two pieces so you need
to put it together but this is still
much easier than the original manual
approach another tool is meta monads
fear with type you can use it in a
similar way and it works in a similar
way well what makes it a bit easier to
use is that there are these tons of
underscores around the answer so when
you're looking at a longer report you
can spot it easier here is a crank out
put the response is there and here is a
visual c++ output and hear the response
is at one place but this is specific to
the way visuals in hospice is doing the
arrow reporting another approach is that
you can display the name of the type at
runtime so basically you write the code
that compiles and this is a special but
so it's not your real application code
it's a small special piece of code you
give it to the compiler it generates
some object code you link it and you run
it and it prints out the answer to the
standard output so that's that's the
idea for this of course you need to
create a temporary small executable that
does it for you so to look at one type
you need
to do some extra work to get it done
well the most straightforward way of
doing this is using the standard type ID
if you do it with Jesus you're crying
this is what you get this is might look
scary but it's just an angle name so
there is a utility that can beam angle
it for you and then you get the answer
if you're using visual c++ then you get
the right answer right away if you don't
want to use an external utility with see
crying or GCC then you can use the boost
type index library which can be used in
a similar way you instantiate type ID
with CBR with the type in question you
call pretty name on it and it will print
gene for you so if we do the the diamond
ring of the type name as well in visual
c++ it will print class gene but so you
get basically you get the answer you can
use ideas as well Oh the idea is I tried
and I used to know before coming here
over or little behave the same you could
load the coding the ID you can tell the
idea what you're interested in you
usually tell it the idea in a way that
you right click on this inside the ID
well assuming that is this is a
graphical one which today most of them
are graphic on and then you click go to
declaration or go to definition and then
it has a compiler at least a parser of
the compiler in it and it will take you
here there you go here is the definition
but it's not that useful in this case if
anyone has been who has been to the
template or presentation then you know
that there are better tools out there if
you haven't been just search for it or
watch the video oh there is a clue that
can do much better than this
it's an idea which can give you the
right answer as well you might have not
known that you can also use GDB for
getting this information it might look
strange because gdv the runtime debugger
and this time you're about to use it for
compile time debugging what you can do
is that you get your source code you
compile it you generate the object code
with debug information you link it you
wrote it in gdb and basically gdp will
tell you the answer and this is how so
you compile the code with debug
information you start it in gdb you get
the gdb prompt and then you set a
breakpoint inside your main function and
it's not the main function that's
important but in that scope there is a
variable type a entender so there is a
variable of the type in question and GDP
will tell you that okay there is your
bread point you run the execution it
stops and then you can ask gdv okay what
is the type of x GD vivitar well it's
she in and not only will they tell you
that it's be in but it will also show
you the entire instantiated and fit
class so it can be pretty useful so
these were the sort of tools that have
been around anyway here are in
relatively new ones one of them is metal
shell which is basically a template
metaprogramming shell so as I said
earlier it was weird for template
metaprogramming us this is how it works
you run the shell to take your source
code basically you include your source
code into the shell and you ask the
shell what you're interested in and the
shell run the compiler or at least the
parser of it and then it tells you the
answer so here is how you can use it
your start metal shell from it's a
command-line utility it's basically a
repo shelf or template metaprogramming
you can say include my main.cpp and then
you can ask the question and if
val is cheating that's it okay are there
any questions so far I'm sorry I ok so
do i need a detained this part in the
CPC right that was the question oh well
you don't need to have it so you can
include only the eighth of HPP and then
inside the shin so when you're asking
the shell what is this then that we
initiated question was if metal shell
works on windows and yes it works on OS
six windows and linux as well it uses
kind on all platforms a patched version
of client so the question was which
compiler enthuses and it uses claim
there is also an online demo metal shell
so you can grow metal shop from a
browser if you search for metal shell or
if you go to that website then there is
a link to the online demo and then you
can try it from your browser other other
questions before we move on ok so this
was a first example the most simple i
could think of here is a little bit more
complicated so you get a template
function this can be a an implementation
of a generic algorithm let's call it on
for now and you instantiate it with with
some type and the question is the same
what is the type of this thing and there
are the same tools and they were mostly
the same so you can use boost and PR
print for example when you use that then
you should put goose tempera paint
inside your template function so when
your template function is instantiated
than the printing will be
good and this is the output you get
there is the answer this is the visual
c++ output and there is the answer so
the daily output is basically the same
as it was before you can use meta monads
filled with type in the same way as well
you put it inside your template function
and then this is the output you get with
GCC there is the answer this is the
output lying there is the answer and
this is the output with visual c++ there
is the answer okay IDs well this gets
more tricky with IDs than the previous
one because when you right click on that
so you say that okay this is what I'm
interested in then this might mean that
this is fun instantiated within or
double or bi or whatever type so when
you click at that point or place in your
source code then it can refer to a
virtually infinite number of functions
and you should relate it to that place
and again if you've been to the Empire
talked and you know that they have
solved this problem ok gdb you can use
gdb as well you can compile your code
with debug information load it in gdb
and set a breakpoint inside the template
function and then you can just run the
execution and when you hit the break
point the GDP will tell you which
instantiation of your template function
you re so you can keep trying until you
reach the instantiation you are
interested in and then you can ask for
the type of this thing and you get the
same optimism as in the previous example
you can use metal shell as well you can
load your source code into the shell and
ask the question note that you have to
tell at a show that you're interested in
in w so if you go back to the code of
your function you need to resolve this
to yourself if you're using metal shell
you might need to do it with another
query before so you need might need to
run queries before you met assure to
figure out what that is and then ask my
michelle this answer so this is sort of
a little knowledge but you get the
answer you might ask ok why is it gian
so ok this is what if we first about how
the decompiler get there if you recall
those urls and red lines in in your
imagination inside the compiler you
might be interested in how how that work
how'd that happen so what was basically
going on inside the compiler and what
metal shell provides you is a utility
called md b which is a compile-time
debugger or template debugger you can
load this expression inside MDB and it
is a debugger inspired by gdb so you get
a similar interface and you can get it
you can ask for a forward trace which is
a similar to the back-trace but this
debugger sort of magically knows the
future it makes use of the fact that
template metaprogramming is pure so it
pre copulates everything and pretends
that it is knowing in the future so what
will happen after your current location
so you can not only ask for a back trace
but you can ask for a forward trace and
a forward trace itself is what will be
instantiated from this point and then it
will show you that a will is a BCE
and so on and so forth so it can show
you the instantiation tree which can be
useful other questions before we move on
okay here is another example well the
question is what is the type of tea when
you instantiate this template function
with f or with d so here is a universal
inference and what was it refer to or
what how will it be did use in the
compiler scott Meyers is booked in item
for this the number of tools you can use
to get this answer metal shell is also
one so you can use metal shell to learn
this information or to find this out or
two just to play with it you can either
include this source code into metal
shell or you can just define your
template function inside the shell as
well whichever is convenient and then
you can start playing with it you can
say okay I want to know how it is the
used when i instantiate it with with
this number and then you start up in a
debugger you ask for a forward tree and
there is your answer in this case T was
the used to be elbow and then you can
quit the debugger and try again so you
can define a local variable and then try
to instantiate it using the local
variable as well and then ask for the
forward trace and here is your answer
this time so as you can see that you can
make quick iteration so you can quickly
try different things and approaches out
which can be convenient when you want to
learn about how these things work and
what is going on so you when you end up
doing these kind of things is that when
you get a piece of code it doesn't
compile or it doesn't come by the way
you want it so if you want to learn
what's what's going on there and in such
situations this can be pretty useful so
far from the template metaprogramming
tools are showing you meta Sheldon and
DB there is also a client extension
quote template it was originally
developed by people
Nashville and university in Hungary and
then it was fought by Mikael Persson and
he made some clean up to it and added a
very useful features to it so today i
will show you this fork of damp line and
it is basically a drop in replacement of
clang itself it has some specific temp
ID specific arguments such as profiler
or safe mode otherwise you can just run
it instead of crank and it will give you
a trace file which is a proto buscar
pile and then you get a template convert
utility which can convert it to some
format that you can easily consumed so
you can get an xml report or graph ml
grab breeze or call grind output and
what this trace contains is basically
which templates are very instantiated by
compiling your source code in which
order how did how they triggered
recursive in associations and it also
contains profiling information if you
ask for it so here let's take a closer
look at the core grind output there are
you so basically generate the code
random which contains information about
runtime code trees but in this case the
runtime calls will be templates in stone
shipping each other so when the core
grind to think of functions calling each
other in this trace there will be
template functions and template classes
instantiating each other recursively but
if you yeah but it's what's the meaning
of see time here the question was what
the meaning of three time is that's the
profiling information so this trace
contains information about how long it
take to or it took to install a plate so
if you want to profile your source code
again it will give you the answers other
other questions
okay so there are utilities like cake a
shrine green or grind I don't try now to
pronounce it but these are GU is which
you can open or you can open the D dump
with and then it will show you useful
things such as this annotated source
code this is the original source code of
your your source file and there are
extra entries about the template
instantiation so it talks about function
scores but one course to f means that f
template was associated once ok you
might want to get a better understanding
of what is going on inside MP things
fashions sorry yeah duty to use the
compiler doesn't work I mean that's the
problem i will get to that place so the
question was what happens if the
compiler ation fails and I'll get to
that later so far we assume that
everything at least it complies and we
will get to compilation errors later yes
it's an important topic and yes that's
the most you will swear the government
yeah up always but in most cases other
other questions
okay ah so you might want to get a
better understanding of what is going on
inside ordering a compilation I've
already shown you mdp here is another
tool or at least another example here is
a very attic template implementation for
summarizing numbers if is if this is
what you want to do this is probably not
the implementation you should be using
but this was the most simple variadic
templates instantiation I could think of
so that's why i was using this example
here is an example use digit instantiate
it with ins only and it is trying to
summarize 10-inch basically and what
we're interested in is okay what
templates are associated to provide this
specific expression and you can load
this HPP metal shell and metal shell
provides a utility coding instance if
expression and then you can tell it ok
instantiate this expression and
instantiating an expression means
instantiate all templates or do all the
template instantiation is triggered by
this expression and then it will well in
the normal shall if you just tell you ok
I did that so or you can turn that there
was no error but if you do the same in
the template debugger then you can ask
for a forward trace and then you can see
D Italia instantiation tree so you can
see what you usually think of that ok
instantiates it with tenant and the
Athenians and so on so you can you can
look at these things easier to learn or
two to debug and so far I've shown you
artificial examples let's look at a
concrete one what happens when you
instantiate or when you call the default
constructor of a standard string so can
anyone tell me who is not 0 st i develop
with
out here target so that was two so far
that's a basic string and allocate for
our car trains okay so three and any
other guesses iterator trades okay that
was we had that so for so far any other
guests okay I don't know who said that
but I or the walk off from there that's
five so far any other guess a lot okay
let's look at the clip in mdv stop metal
shell get the expression utility get
string and instantly the expression
calling the empty or the default
constructor of string load it in the
debugger and well it's let me point out
that it's not all the templating
association so these two shows you the
memorization as well and unfortunately I
couldn't increase the font size
otherwise it wouldn't fit on the screen
but I can show you a hint using a color
highlight the white ones are just
memorization the yellow one is a utility
used by the instantiate expression to
land the red ones are the template
instantiate adria template associations
there is one two three four five six
seven and I leave it as a homework once
you get the sides to look at them India
but the point here is that once you have
such utilities and you've got a generic
library then you can use it to look at
different aspects of the generic library
and to understand how it works really I
mean you probably have an idea I
works but he's using these tools you can
believe it as well okay you might also
be interested in compilation speed so if
you're working on code that's using
templates heavily then after a while you
probably end up seeing compensation is
too slow what can I do about it I want
to make it a stir and two to optimize
compliation times you need to measure it
first and here are two as you can
measure it it or profile i will be using
a boost graphic example for this so in
the bruce graph examples there is one
code is our cities and if you try to
compile it with Clank you can see that
it takes more than three cigar at least
on my laptop it took more than three
seconds of prior but if you use some
tight and you provide the order you
build the core grind output then you can
open it in k crush grind and you can get
a graph you and this is basically the
template instantiation graph so you can
see all the templates instantiate it
using your ordering the compilation and
it has the profiling information it as
well so these percentages tell you how
much percent of the time was spent on
instantiating that specific part of the
tree and it is talking about this sub
300 so you can go into depth on these
batches you're interested in so it's the
time spent there based on comparison you
time or number of template
instantiations the question was if it's
a number of templating associations or
cpu time and also a cpu time well it's a
big time of the book so that the clock
is a are there other questions
this question was what the key to the
calories and my answer is I don't know
it's added by the so the question is can
you get into initiative well so it my
understanding the question was if you
can look into anybody for other skinny
expressions so when you're doing spin it
and you get tempered in associations I
mean the compiler is a sheets and plates
so they should I haven't done them so
hard but issue their fear because
inclined when it starts to instantiate f
template then it loads that them so in
theory it should appear in the in the
output but you need to try
change it off for how to change the
question was how it changes from
compiler optimizations I haven't done
profiling with compiler optimization so
far but given that even if your compiler
is optimizing it still has to associate
a welcome place without the right is a
 the relatively issues are probably
the same so the I would expect the same
or very similar template instantiation
graph but based on my other earlier
measurements when you turn on the
optimization in the compiler than
compilation time gets faster or quicker
that is what I have measured in with
other tablet 56 personnel is that the
percentage of the overall compilation
time we're just for this temple
instantiation tree you know the time
constant change themselves based on my
understanding that's the overall it's
switch one ordinary percent of the of
death I believe the temp like you only
show the graph of all the type that were
finally instantiate your right if you go
to sta and you go to like a few of them
and then it fails debtors out of some
deepness to load that whole trees please
discard so the comment was that if
spinny fails then the whole trees
discarded Myanmar and the implementation
of this client edge works in a way that
when client starts to instantiate a
template i need to rinse out a lot about
it and then Voges I never removed so
even if it turns out to be a bit past
and it's already uploaded as I said I
haven't tried it it is my understanding
of the application
other other questions okay so we can
move on if you look at the source code
with the template in associations inside
it so this is again the boost example
program then you can see the profiling
information there as well okay if you
are optimizing compilation time and
trying to reduce the number of templates
instantiate it done you often ask the
question okay are you it is often useful
to get a list of all the templates
associated during building your source
code so basically a textual is saying
that template who was instantiated with
individuals instantiated with double and
so on and so forth so you can make
statistics on it or you can search for
it or you can process it and there is a
text output of implied which gives you
an output that you can use you can do
some graph and set on it and then you
can easily get this list and then once
you have this output then you can make
statistics of this so it can be produced
it's pretty simple but still it can be
extremely useful because it can stand
out okay here is a template that I
associate 1000 times and I didn't really
think about that it might be associated
so this kind of information can can
stand up other questions so far before
we move on to errors okay in that he is
so far we have assumed as I said earlier
that your code compiles but in many
cases and those are the cases when you
need these tools the most your code does
not compile and yeah
back to the previous slide how do we use
this to be compilation well this will
not speed up your compilation I'm it
helps you get a better understanding of
what gets instantiation so if you get a
compilation unique use a unit using
templates heavily and you get a
extremely large tree with thousands or
maybe even more nodes tens of thousands
of templating associations then we need
to do statistics you might say okay let
me get a number of the templates that
very associated B moles and then things
as you know it's basically about making
statistics about you might be associated
into knowledge back this is unscientific
a comment was that you might instantiate
things that you don't expect and this
way you can get you can find denim get
rid of them other other questions or
comments so in case of errors what you
basically need to do is to debug the
compilation process a failing company to
sell broken compilation process and here
is again an example an artificial
example program but i think it is
relatively often used example that
you've got a person class you get a
vector of persons for people you try to
sort it and of course there is no
comparison for the person's before you
get an error message this is what you
get from GCC it it is GCC for the day so
it's it's a recent compiler what you
need recent del pilar and this is it is
this long and of course the the answer
to the question is there you might want
to understand how it got there basically
of course concepts are coming which will
lead to better error messages but even
then
or until then even if you need to
understand how it got there so you
basically want to get an information
about okay how did it get from the
instantiation of sort to the comparison
on personals and the standard template
library is a library we all know so we
probably or most people probably knows
the answer more or less that how how
this happens but if you have to deal
with the templates in an application for
the terminal you can skew you're looking
at the first time or it is at a part of
your application that you rarely deal
with it might be that it might not be
the trivial or self-explanatory that how
how did it get there so what is going on
during template associations and what
you can do based on these error messages
to open that header file up and then you
can see well there is the comparison and
it happens in in a template function
called him sorry so what you can do to
get an insight to this is that you can
take your CPP file start metal shell
include your source code into metal
shell and run into this problem that
you're including a piece of coding to
your shell that appears to compile so
meta channel will display the error
message to you and then it will not
include your source code and then you
will say oh I forgot it again because
you will forget it all the time that
what you can do about it is you can
comment out the parts of the source code
temporarily the parts of the source code
that that caused the error the
compilation error so in my experience it
is usually not the decode that starts
the template instantiation chain where
the buggies so commenting that out and
then including including it internet a
shell is a is a useful thing and then
you can start debugging in some cases I
need to comment most of the source code
out or I just include somehow
from the top of the source folder to
something like that so this is the most
troublesome part of getting to the debug
environment once it is done you can
include person cpp and then you can get
this internship expression futility and
you're outside of the scope of the main
function so the expression that caused
the problem is inside the main function
but in the shell you're you're outside
of the main function so all the local
variables that you need for this
expression you need to define in the
shower as well and once you have all the
local variables you need you can start
the this expression inside the app in
debugger and what you can do is that in
the original error message and you will
have it on the screen because you will
forget to comment out the breaking parts
all the time it will tell you the
location of the source code very it
broke so you can open that the source
file up and look at that it is the heap
select impede function that was causing
the problem so inside your template
debugger you can set a breakpoint saying
that okay stop the compilation when it
reaches the heap select update function
and then MDB will tell you that okay
breakpoint is created and since mdv
knows the future it can also tell you
that and you will hit these two times
during your compilation and then you can
start the execution of the metal program
and then hit the break point and when
you hit the break point you can ask for
a back trace and it will give you a back
trace similar to the back-trace you get
from a runtime program in in gdb and
it's a context of the stack frames will
be the templating associated with update
classes and the temple functions so it
will show you that you started with sort
which instantiated a
or two which instantiated fortress on
which instantiated tips that i can t
ready template arguments as well if you
need them so with this debugger you can
step forward and backward in the
template instantiation process to get an
understanding of 1.1 you can ask for
back traces as you have seen earlier you
can ask for forward tracing this one and
most of the tools I've basically all of
the meta programming to is shown you are
all dependent on this template utility
and the template you dat is dependent on
a client patch which is not inclined yet
so if you want to get it well for metal
shell there is a binary installer for a
number of platforms including a number
of linux distributions OS 6 and the
windows as well if you want to build it
from source you need source you need to
check out Frank patch it and then you
can get that line but it is so there is
a pull request for it to be merged into
into clang but it's not accepted yet due
to the lack of tests for it so in
summary i have shown you that which
tools you can use to debug template
usage in your application and by
template usage i refer to regular
template usage so using templates the
way they were meant to be used
implementing generic algorithms and data
structures and I shown you tools that
have been around and can be useful to
get a better understanding of how these
templates works inside and there are a
number of template metaprogramming so
too is built for template
metaprogramming extremely useful and
give you give you insight into the
template instantiation process so thank
you for your attention and do you have
further questions
quickly and windows you were saying that
I shall exist but doesn't the most
yellow patched and so the question was a
metal shell exists and windows but MDB
does not MDB is a part of metal shells
so meta sure that everything exists
o'menos basically you redefine pouch if
you download the binary installer of
Etosha you get MDB and metal shell and
template it all together oh but if you
decide to build it from source because
you want the latest yet unreleased
version them then you need the kind
parish other yeah have a question sir
there is one type of problem
specifically which is when you have a
function which is a good track record
five and these defenses other functions
that are as well they contact with our
tab on so on and so on and so on such
that when you get a neighbor actually
you could ever that simply this function
is disabled because the expression
profile of thing it's really hard to
know like we're in the three of
expressions actually something is
missing and I wonder if like with these
you can also divide these data type
expressions so the question was if you
get a function with a deco type return
type and which instantiates further
templates and in that institution chain
there is an error than that that
function is disease or data level this
disabled and okay I can you divide it on
how can you be buggy so you can try
loading it in either letter shell and
look at it with mbb or create a down or
generator down with an item forget it
with cake as crime and we will you tell
me
like what is that the expression so the
question was really true what failed and
I say it should even though I I haven't
even such a thing yet but it should so
the question was if the binary
distribution of my the shining booze and
fight and yes really Kristin fine as
well but it will usually install it in a
way that you cannot easily start it so
it will be installed inside a metal
shell directory to avoid interfering
with other compilers so you need to be /
if you wanted what you can use that as
well how does the emergency network
imagine i'm implementing a library it's
not picking the right one and i want to
know why so the question was how to
debug Spinney and as i said earlier it
should display all the template
instantiations triggered by the compiler
trying to do this and then we should be
able to look at it but as i said i
haven't debug skinny really all of them
i wanted a white strapless so the
question was it really associate all of
them and you want to know why it's
broken it should lead you to the place
very installed inside so it will show
you the instantiation hierarchy let you
lead you to the answer is it is blue and
other questions in that case thank you
for your attention</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>