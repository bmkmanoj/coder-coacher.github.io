<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CppCon 2015: Roland Bock &quot;Kiss Templates&quot; | Coder Coacher - Coaching Coders</title><meta content="CppCon 2015: Roland Bock &quot;Kiss Templates&quot; - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CppCon/">CppCon</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CppCon 2015: Roland Bock &quot;Kiss Templates&quot;</b></h2><h5 class="post__date">2015-10-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/c_OaKjGUAnA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">yeah I claim it so easy that I can teach
you how to use it in five minutes
alright so what is it about I need to
generate text on for instance HTML or
logic or emails or a C++ code what have
you and for that I would like to have a
text template system that has a simple
yet powerful language that works for all
kinds of texts or at least for the kinds
that I showed and is statically compiled
because I want to get my template errors
at compile time not at runtime so I
don't want to have a 500 internal server
error for instance and for this I
invented kiss templates as Kate guessed
it's short for keep it simple stupid and
this is what it looks like so the red
thing is is a is a marker for it for the
template so a template called sample in
this case inside the temple that's
template you can have C++ code for
instance functions functions or the most
useful thing anything that starts with a
percent is a function is sorry the C++
code and inside of functions you can
have more C++ code or you can have a
mixture of text and expressions that are
sent to a serializer these expressions
are enclosed in here with a dollar and
curly braces and they the serialize is
also responsible for any kind of
escaping so if if the target format is
HTML then for instance the less than
sign would be escaped right so when I
say any kind of C++ after % really any
kind so we can include stuff we can have
namespaces we can have loops whatever
you want and then the expressions and
these things that are going to send to
the serializer can be just any kind of
C++ expressions okay so clearly that
this is not C++ so
we have to generate C++ from it so this
kind of command turns our template into
a header file and then we can use this
header file in our own simplifies code
you have some data structure that has to
match the stuff that we do in the
template then we initialize the data we
initialize a serializer some co laser
depending on format that we want to
it's not part of the talk
you
fire alarm is different
let everybody know we're looking into it
checking into fire systems we don't know
what
okay okay they are checking into this
fire system and they don't know yet so
during our break as well so just know
that there's been some weird or I'm
going on but as far as we know nothing's
on fire all right well okay so yes yes
no sergeant seconds left all right so
yeah we so we included we generated add
a file from from the template we
included that a header file now in our
own code have some data structure that
we want to serialize or that we want to
use in this template then we initialize
the data with whatever initialize a
serializer again the serializer should
be chosen according to the format that
we want to produce then initialize the
template with the data and the
serializer and then call one of those
functions that we have in the template
in this call in this case is called
render and we call that and that will
feed the the text and the data into the
serializer which also does the escaping
and it will do the reasonable thing in
this case we'll just print hello world
AKA this hash value for road so that was
simple what else morfael um um so the
the whole sentence of this template
library fits on one slide so we have c++
code we have these classes which
basically represent the the templates we
have classes with inheritance if you
want that you can compose them so you
can add other templates as members we
have the end class to do to mark the e
at the end of the template we have
expressions that are escaped which is
mostly the thing that you want to have
you
can have more fire alarms but you can
also send data in a raw format to to the
serializer that's what this whole thing
is and you can call other functions of
your template which typically are void
expressions then you have markers for
trimming left or right depending on
where you position it you have escape
sequences for the special characters and
anything else which is inside a function
is text which is very useful because
then makes it more readable of course
all right um what's left is the
stimulator for some formats there are
serializes already existing in case you
have to write your own it's also very
simple you have to have at least two
functions one takes text and does
something with it you have one function
called escape which takes whatever you
want it to take and just something
useful with our mix serializing and
escaping you might want to have a raw
function depending on whether you need
it or not and you might also add a
function for reporting exceptions if you
think that one of your expressions could
actually throw something in that case
the template would give you the
information of the line number the
expression that through the exception
and the exception pointer all right and
if I make a mistake and the whole thing
then there is a good chance that because
all this is statically compiled that you
will get your your errors at compile
time not in runtime so no 500 internal
server or stuff like that okay so in
summary it's just a dozen syntax
elements so very easy to learn we have
the full power of C++ is fit for all
text formats via specific serializers it
statically compiled templates so I think
I kept it simple but not stupid looking
forward for feedback and thank you very
much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>