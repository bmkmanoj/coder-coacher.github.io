<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CppCon 2016: Billy Baker “What happened to...: Deprecated and Removed Features of C++&quot; | Coder Coacher - Coaching Coders</title><meta content="CppCon 2016: Billy Baker “What happened to...: Deprecated and Removed Features of C++&quot; - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CppCon/">CppCon</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>CppCon 2016: Billy Baker “What happened to...: Deprecated and Removed Features of C++&quot;</b></h2><h5 class="post__date">2016-10-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/u6SDU8YRQPI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right I trust everyone's here to
learn about how their code will be
broken in the future and you know a
little background about myself if you're
wondering why I'm talking about this
subject I did write one of the two
papers for removal of Auto pointer so it
was not the paper that was adopted
you can blame me if you want I'm a
problem with that
so far at this conference I've heard a
few different talks that has content
related to this talk and if you saw
Alistair Meredith's first presentation
he covered a number of the topics that
you will see here as well I did run here
so give me a moment please
all right so this is not a horror story
I know a lot of people say you've broken
my code why did you do that you've cost
me money I've got certification
processes that I have to go through all
right sure
I'm very well aware of that in producing
flight simulation software we go through
a variety of agencies in order to say
that we have a simulator that meets the
needs of the community we also have very
long support windows so for everyone
that says you broke my code there's also
a few people that say why aren't you
doing more this particular post popped
up on reddit not long after this talk
was accepted you should name it they're
not here are they new so as beat as PhD
student I get to read a lot of things
and this particular paragraph popped up
in one of my readings I want to assure
you we are not deprecating exceptions
and we have no plans to as far as I know
at this time deprecated exceptions so
this paper had a little flaw
now then an XD for those that don't know
and xD lists all of the deprecated
clauses in the standard I've
specifically chosen Chicago as a
starting point because that was my first
meeting it was also a ballot comment
resolution meeting now in November we'll
be down the highway here in Issaquah
talking about comments for C++ 17 in
37:33 lists all the comments for C++ 14
dealing with deprecation and other
things we're gonna look at four of them
great britain 9 said let's get rid of
gets its bad you can get buffer
overflows we have other facilities
within c++ allow us to do the same thing
that gets does and not use gets so we
said sure we'll add this little comment
to the standard that says gets is no
longer a part of c++ us 21 i see Walter
in the audience over here he's talking
on Thursday about the random header
we're not yet cover and are we Walter
one slide okay so for C++ 14 there were
comments saying we should go ahead and
look at Walters papers from prior to the
C++ 14 committee draft and they said we
want to deprecated a lot of things now
review of this we said we already have
this discouragement in the standard ran
shouldn't be used maybe we could really
deprecated it but reality we couldn't do
that we said yeah random shuffle sure
that's fine we'll get rid of it but Rand
yeah we'll just add a few more words
here that say don't use it really don't
use it so that's what we got
stir string a by you stir string one
user one-and-a-half users okay so Swiss
nine said let's get rid of stir stream
unfortunately we had no replacement for
story
so even though it was deprecated in C++
98 we really couldn't do anything to C++
14 timeframe now we'll come back to this
in a little bit and maybe have some
solutions for this maybe not
a sink a sink was quite controversial
there were plenty of opinions on both
sides should we get rid of it should we
keep it we had papers from herb saying
if you want to go one way here's some
wording if you want to go another way
here's some work Nico said deprecation
would be really bad and in the end we
said sure we'll keep it well apply some
additional wording for the structure of
future and we'll keep pacing so those
were the four comments related to
deprecation for C++ 14 now after Chicago
we went to aqua and rappers will and the
working draft looked like this going
into Urbana we had the one section on
random shuffle a few hundred words not
bad before getting to herb Anna we had
this thing called t + CP pecan 2014 at
the grill the committee the question was
asked what would you like to see removed
and Howard hen it said Otto pointer
personally I had some vacation right
after CP pecan so I said sure I can
write that paper not knowing that Stefan
was gonna write one as well one more
comment on this in the two years since
this particular meeting and that
particular grilled committee there has
not been another request of the
committee to know what features they
might like to see who you might ask at
some point okay so we got to herb Anna
before looking at some of the library
items we had this paper from Richard who
said let's get rid of trigraphs
we can do it without breaking
compatibility everybody will be happy
except IBM and so IBM gave us this
response in 4120 that said yes crying
yes gee
yes visual C++ and their default modes
don't care about trigraphs
so if you were using any of those
compilers you probably absolutely knew
nothing about try grass and in the end
IBM said sure we can get rid of
trigraphs we can move the standard
forward everything is great
try Gascon so this is a talk about
adding in routes using deprecating and
removing things however we're adding
something here in this particular case
it was known since 1998 excuse me
1998 the uncaught exception had a
problem if we had code in a stack
unwinding during destructor there was no
way of knowing whether or not an
exception was because of the current go
or some other code so we changed to
uncaught exceptions give you the number
of uncaught exceptions that are in
flight and deprecated the singular
function objects of all of the items
listed in this talk unary function and
binary function are probably the two
features that affected my codebase the
most and that was about three instances
so I'm sure there are more users of it
than those three interestingly enough
this paper was looked at in November
2014 and in July coming out of Oulu
boost notice that they still had a usage
all right buying first buying second you
can use buying instead pretty easy Auto
pointer at the time of this paper you
could use clang modernize and it would
tell you hey using unit pass unique
pointer instead since that time clinked
ID is actually replaced clang modernized
there checkers that say the same thing
using Auto pointer you should be using a
unique pointer there's a history there
as you can see we actually deprecated
this in 2000
I've appeared in the C++ 11 standard six
years six plus years later so there
should have been plenty of notice that
AutoCAD not be used Stephan continued to
say we should get rid of random shuffle
even though it was only a year before
that we actually deprecated it and you
can see the justification there
basically we don't want you using R and
here's an algorithm that could use R and
let's get rid of it all right in the end
we said yes everything in 4190 should go
and at plenary in Urbana we all rejoice
that we had removed all of this garbage
I think as alistair puts it so after
Urbana we had a meeting and cologne for
the library group we had a meeting in
Lenexa and then we went to Kona so you
can see we chopped out 1700 words in
several sections from an XD going into
Kona what we weren't done Alistair
looked at what we had in the standard
and said there's the more that we can do
the register keyword not really used by
the compiler if you have C code that
you're actually compiling as C++ all
right you might get a warning in a C++
17 compiler but your actual code
shouldn't change next one operator + + 4
bool we don't have operator - minus
operator + + makes false into true and
true into true yeah not really need it
not really useful go on what's the next
one deprecated i/o streams anybody
happen to use any of these yeah Alistair
says probably less usage than Auto
pointer you can get rid of that one -
not fine here we are adding another
feature so there was plenty of usage of
not fun from boost by adding it we could
deprecated unary nagae binary negate not
one not two and those were the last of
the components that still used in bed
like this so lots of things going into
deprecated at this point all right app
table function type deaths this one when
we first started discussing it was yeah
sure we can remove these completely and
then somebody said what about hash what
about function rethought it yeah maybe
we need to keep those thought about some
more now we can get rid of it from hash
there was still a lot of concern that if
we just removed all of these that there
would be problems so in the end we said
all right well deprecated it we won't
remove it it'll still be there we can
figure out at some future point what we
should do with these there's our friends
the zombies back for those really
concerned with breakage of code Stephan
came up with this wording that says
these names have been in previous
standards we're going to reserve the use
for the standard compilers continue to
can continue to ship versions of their
libraries that have these symbols in
their library your code could still work
the compiler would still be compliant to
the standard everybody's happy and we
get cool names in the standard to
standard iterator really don't know what
to say about standard iterator other
than if you looked at its signature
you'll see lots of voids and and no idea
what should go where good candidate for
deprecation allocator members there was
a recent Stack Overflow posting on this
saying why in the world are we
deprecating these things from the
standard point of view we really want
you to use the alligator crates as
opposed to the member functions of
standard alligator as literal doesn't do
much as far as usefulness temporary
buffer out api's this one SG 14 had a
little concern about by definition it
looked like you might be able to gain
some performance using them because
there might be stack allocation instead
of heap allocation an analysis of the
implementations in the libraries those
said no everybody's pretty much just
using
you so it could go to storage alligators
and allister's analysis it was added 20
years ago nobody's done anything as far
as completing it since get rid of it as
well
so 4190 p01 74 two big papers that did a
lot to change the scope of C++ we also
had p06 three cons is over there by
rebasing on c 11 for c++ 17 that little
sentence that we added saying that gets
is no longer part of the standard it
goes to so this is what we look like
coming out of a loo we added a few more
sections a lot more wording and XD's
bigger in Alice's presentation he
actually said that from C++ 14 to the
current committee draft we've actually
added no pages to annex D even though
we've made these changes to the annex
all right so future in 4190 Stephan made
the comment that hey maybe we should get
rid of bind there have been other
comments saying we've got these things
called lambdas scott Meyers has talked
about we don't need bind in reality
there's probably a lot more usage to
bind than a lot of the other things that
we've talked about here today
in fact in allister's presentation
rather than using a polymorphic lam that
he actually used bind so that one's
probably would not go without some fight
thank you
code convert anybody using code convert
wow you're like using everything from
the standard evidently okay yeah you
have any problems with code number
it works well in Windows not that well
on Windows there's some problems with
the specification of code convert you
might see some comments saying that it
shouldn't be included in the standard p0
4:08 it's a paper it's it's up Richard
is it fun WG 21 I don't know look for
4:08 it looks at doing move semantics
with stream buffers and it's been
noticed that if we have that we might go
a long ways to actually removing stir
stream at that point suppose something
to look forward to
b:00 3 we really tried to get this into
c++ 17 and this might actually be the
the deprecation of the exception
specifications for C++ 11 might actually
be the basis for that sentence earlier
in this presentation about exceptions
being deprecated
we've got no except there really isn't a
need for this anymore it would have been
nice to get it into C++ 17 Richards tell
me that 4:08 is up on the website so
that you can't look at that all right
the other things from 174 vector bool
vector bool everyone likes to use vector
bool as the problem child of the
standard as you can see we tried to get
rid of it once before and that didn't
succeed some future maybe maybe not
algorithms with half ranges that
certainly is one that would go well with
ranges v2 there wouldn't be a national
need for those other than to allow
previous code to continue to compile and
we'd have safer code you wouldn't have a
begin and end a begin and copy off the
end so that would be nice to get rid of
value compared not even gonna say
anything about it so some of the other
talks from this week
I mentioned Alistair Patrice had won on
the current exception situation SG 14
has been quite concerned as far as from
the gaming and low latency as far as the
impact of exceptions and how their code
runs I mentioned Walter if you happen to
see Jason Turner's recent CPP weekly
episode 26 he talked about I believe
three of the features that were in this
talk and has some actual code in the
seven-minute little talk and you should
name it actually followed up on their
original post and said alright yeah we
are doing things with the standard lots
of things are coming and going and that
is the end of this very quick talk so
that I don't over run into the next talk
thank you questions I have one over here
and we'll get the champ yes two
questions so question number one was how
do we measure usage talk to Titus winter
from Google he does a lot of data mining
on code bases too though where we're
actually using things there is a nother
repository of keywords from lots of open
source projects that have been looked at
in the past to know about usage your
second question was how do we notify the
community papers get posted to ISO CPP
org books get written I don't think
there's really you know a mass mailing
to the community reddit posts bryce
loboc has certainly posted as we've
completed plenary sessions for committee
meetings saying this is what we've been
doing and on and on and on I can imagine
is that answer all your questions
alright yeah
so jf wants to get rid of ISO six four
four six six four six and I guess I
would say have you written a paper would
I vote for it you know someone that
won't ISO six four six where we have and
in or and XOR so the header has no
keywords so now they're tokens we should
just get which distal Ethan go for it
okay any other questions yes John yes so
the question was in talking about vector
bool are we talking about deprecation of
the specialization and my answer was yes
and then your follow-up was everything
just gonna get larger I have a feeling
that vector bulls going to stick around
we've been talking about the problem
being proxy iterators and we've been
trying to fix the problem with proxy
iterators so yeah other questions
no more questions hopefully for whatever
next talk I give I won't be running to
it we are at 22 minutes so our next
speaker all right thank you everyone and
enjoy the conference</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>