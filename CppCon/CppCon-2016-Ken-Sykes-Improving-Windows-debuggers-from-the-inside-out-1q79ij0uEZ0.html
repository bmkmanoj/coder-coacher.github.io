<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CppCon 2016: Ken Sykes “Improving Windows debuggers from the inside out&quot; | Coder Coacher - Coaching Coders</title><meta content="CppCon 2016: Ken Sykes “Improving Windows debuggers from the inside out&quot; - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CppCon/">CppCon</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>CppCon 2016: Ken Sykes “Improving Windows debuggers from the inside out&quot;</b></h2><h5 class="post__date">2016-10-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/1q79ij0uEZ0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi everybody my name is Ken Sykes and I
want to talk a few minutes about Windows
debuggers and some of the recent changes
that we've been making to them to make
them more useful
so traditionally Windows debugging has
been a tribal tribulation you either
have to you dump structures manually
like this dumping the peb and you have
to go through and know the structure
intimately in order to find the
information that you want and you even
have to do this for very common types
like stood straying or stood map so what
did we do about it well the next idea
was let's write debugger extensions so
then you have something like Bank peb
and that thing will dump out information
that they think you might be interested
in and in some ways it is better you
don't have to know about the structure
names and their format but you know you
don't get things like composability it's
not easy to take the peb output and feed
it into the input for something else and
if the you if there was a field that
you're interested in but they don't dump
you're out of luck so then that led to
an explosion of one-off extension so you
know bang process or dot process end
blog handle heap object you had to know
all of these special commands and how to
put them together to get your job done
it was really crazy fact it makes your
head spin
all these extensions here so many
extensions ah so there's got to be a
better way to do this so one of the
things that we did is we introduced
something called nathas which is shared
with Visual Studio and through an XML
file you describe your format and
instead of seeing a dump on the left
with all the hard template expansion
there you see something on the right
which at the bottom this is a map of
string and in and in the green box you
can see it actually is something in
eligible and this gives you an idea what
the Matt vis might look like for
decoding a tree of items all of this is
documented on MSDN the data model is
another area that we are innovating in
which is instead of having all this data
inside the extensions and not composable
and usable by others we have a central
data model where information be
collected together it can be sorted you
can do linked queries things like that
so this is just an example of taking the
current process dumping all the modules
to the debugger you get a nice table you
can click on the columns it'll sort by
using a link order by command and we
think this is a much better way of
interacting with the debugger
information and this is not just
something that works in windbg it works
in all of our debuggers because it's
part of our shared engine it works
whether your user mode or kernel mode
you want to see your stack traces you
don't have to taste no-till to starcade
for user mode or bag process for kernel
mode it works with your debugging a dump
file or a live file and this is really
the direction that Microsoft's going to
take putting more information into the
data model making it easier for people
to interact with it and if you're
looking for more information on any of
this you can look up the DX command or
the nat vis on msdn and it gives
extensive documentation on that also if
you go to channel 9 and you look at
defrag tools episodes 138 139 you give a
good feel for how this comes together by
the person that wrote it himself which
is not me
I'm just messenger and a little bonus
tip is that tab-completion works in a
lot of places in the debugger now so
completing bang extensions completing
fields in the data model etc
and I'd encourage everyone who has to
work on windows to give it a try thank
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>