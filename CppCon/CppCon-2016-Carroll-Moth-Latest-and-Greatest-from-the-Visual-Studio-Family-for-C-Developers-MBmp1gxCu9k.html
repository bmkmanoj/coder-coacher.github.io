<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CppCon 2016: Carroll &amp; Moth “Latest and Greatest from the Visual Studio Family for C++ Developers&quot; | Coder Coacher - Coaching Coders</title><meta content="CppCon 2016: Carroll &amp; Moth “Latest and Greatest from the Visual Studio Family for C++ Developers&quot; - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CppCon/">CppCon</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>CppCon 2016: Carroll &amp; Moth “Latest and Greatest from the Visual Studio Family for C++ Developers&quot;</b></h2><h5 class="post__date">2016-10-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/MBmp1gxCu9k" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so hi everyone welcome to this session
on the visual studio family I would like
to thank you for choosing to invest the
next hour of your lives in this room
here with us we hope you get a good
return on that my name is Daniel moth
I've been at Microsoft for just over 10
years I've been on a few teams more
recently the debugger and profilers team
and I've only been on the C++ team since
January so i'm very new here and that is
why my team didn't trust me to give this
talk on my own which is why you see me
the new face the new guy but you've also
got Steve the old guy not so that's so
how long have you been all right so I've
been on the C++ team for two years
exactly I know this because my very
first day on the job the week was this
week of CP pecan and so there was like
nobody there which was really concerning
so the next year they let me come in and
do the talk here at CP pecan and so I
think you're only about nine months in
so are you sure you up for this well
obviously I know that's why you're here
right solutely I on it so the way we've
we've kind of split this session is
Steve will do all the demos I will do
all the slides and Steve will also take
all the questions so you better have
some good ones for you so since I'm
doing the slides you can you know go to
casino something not worried questions
the reason the reason we we split it
this way is because originally i don't
if you can tell from my accent I'm from
greece and in greece we have a
characteristic we can speak really fast
so this is good news for you because i
can pack a lot of contents a lot of
slides in this one hour so that's that's
what we're going to do so if we if I saw
fly through those slides you kind of
missed something don't worry because you
just need to write down this URL which
is a blog and we will upload the slides
to that blog later on and during the
slides will be a whole bunch of URLs
pointers to various things so you don't
have to write all of those down just
write this one down and then you'll get
everything in one package so how have we
structured this talk we've structured it
in three parts so in the first part we
will talk about what we call the toolset
so that'll be the compiler the front and
the back end the link of the library is
that whole package and we'll do that in
about 15 minutes just using slides
then we'll go to the second part which
is all about the visual studio ID and
the visual studio code editor and that
will be the meatiest the largest part of
the session and that's where Steve is
going to do most of his demos and then
after that we'll get to the third
section which will be the shortest where
we look at what we call workloads which
is basically the scenarios the types of
apps that you build the types of
platforms that your target and just see
what's new specifically to those
workloads so that's kind of like how we
are thinking of doing this does that
work for everyone can we proceed on that
basis good because that's the only talk
we brought so before we get started
though I do have three targeted
advertisements or advertisements
depending on your upbringing so these
three ads that targeted so you should
like them so first targeted ad now as
you as you probably know we don't have a
great library acquisition story on
Windows I like package managers and
things like that you may have seen on
other platforms which is why we're
experimenting with a solution and on
github so you can go to github.com /
microsoft / vc PKG for vc package to use
this or even join and contribute this is
a completely open source project it has
nothing to do with our compilers or
visual studio or anything like that it's
applicable to any C++ project on Windows
that depends on a third-party libraries
we just announced this today I think so
go check that out this is also a good
time to mention that tomorrow at Tuesday
and on Wednesday we will have a
microsoft booth basically a table out in
the hallway where you can come and ask
questions about this or anything else
that we're doing at Microsoft so second
targeted ads this will speaks for itself
if you go to a khador ms / silicon
you'll be able to take a developer
survey for a chance to win an Xbox one s
we will you know physically literally
give that out this week here at c vb
korn at the end on friday so please go
and take that survey we do develop a
service all the time and we do those so
we can improve our products for you so
even if you don't care about the xbox
please go and take the developer survey
and help influence our direction to
where you think we should be
going and then the third and last slide
that i'll put up before we get into the
talk for real is a list of the other
talks that we have here it's epic on by
members of the microsoft team which are
these up here now as you know we
participate enthusiastically we invest
heavily in the c++ standards we send you
know around eight people to each of the
three meetings every year we review
proposals we make proposals we implement
early proposals in our compiler to
validate that they really would work
with large code bases and that's our
duty since we represent such a large
percentage of C++ developers as users of
the compiler and all of that is
reflected in the talks that you see up
there on a tuple or modules co routines
and and so on we also make contributions
to the libraries if you were in the
keynote you had beyond talked about for
example the gsl the guidelines support
library will make significant
contributions to the proposal and the
public repose for range be three which
is what the iterator haiku talk is about
so that's kind of like the the kind of
talks that you see here and in fact if
you look at all of them except for the
last one all the others have nothing to
do with any Microsoft products this is
purely participating in the community
and the understand that the only one
let's do with our tooling is the last
one where which is the one that you're
in right now so let's go and talk about
our tooling so by a show of hands maybe
an obvious question but how many people
here use the microsoft visual c++
compiler msvc okay that's you don't use
it James okay I'm just checking all
right so that's that's most of you so
you probably want to know how we're
doing on a primary goal which is to
achieve standards conformance so here is
a slide with a bunch of green boxes
which is the progress that we've made
toward standards conformance with visual
studio 2015 RT em release to
manufacturing which is the release we
had last summer and steve was here last
year talking about all of these so if
you're not on visual studio 2015 RT m
this is what you're missing out so you
should go to the latest so you can get
all this but we haven't sat still since
then we've released since that time
Visual Studio 2015 update one
vs 2015 update 2 and more recently
update 3 and usually we do them the
majority of the of the churn of the
features in the rtm version by actually
even in the updates you'll see from the
blue boxes that we're making progress
towards that standard conformance now
beyond the updates we've also released
previews of the next version of visual
studio the one we are temporarily
calling visual studio 15 and after all
the previews are done then there'll be a
release candidate and RC then on rtm and
then updates the usual visual studio
wave so you should be delighted to know
that as part of that visual studio 15
wave we're going to go and tackle all
the orange boxes that you see up there
across C++ 11 14 and 17 so wherever you
see two asterisks that means that you
have to throw the C++ latest compiler
switch which we've blogged about and
which I will touch on on the next line
so in case it's not clear the big deal
here is that we're communicating the
next year we will be standard conformant
up to c plus plus 14 plus more as you
see up here on the slide so that's
that's pretty good we think now what we
don't have here on the slide is c plus
plus 98 because I couldn't fit that on
the slide so I left it off no on a more
serious note we know that you care about
the two-phase name lookup feature from
C++ 98 I'm seeing a couple of people
nodding so and a few people nodding off
as well so so I would suppose plus 98
and the two-phase name lookup we're
trying to get there with what we call
the compiler rejuvenation we were trying
to modernize what is a very mature code
base using an AST based parser and we're
excited to announce that we will
actually i could fit that up there get
to phase name lookup as well in here so
Steve you said there would be more
excited with this like if we've have to
beg for it you know if we don't want
that so you can see that two phase name
lookup has one asterisk on it it's kind
of like you know raw eggs that you see
on the menu where they have the answer's
no doesn't matter I'll keep them to
myself so the reason it has an asterisk
is because you have to use the
permissive minus switch so let's talk a
little bit about that so this is
basically a compiler option that
puts the compiler in a mode where we
will honor and enforce all pre C++ 11
standards of course as the that has the
side effect that you can potentially
break all C++ tablet code which is why
it is off by default so we need to give
a chance to the ecosystem including all
the code bases but the public headers
the open source libraries to catch up
with the idea that the Microsoft
compiler does not enable by default all
the Microsoft extensions and macro
specific behaviors and we do want to
tell you on by default at some point and
until that point we'll continue adding
to this mode this is good because this
allows you to upgrade without fear that
by default we will break your code while
putting you in control at the pace at
which you want update your code and go
and flip the switch for you so in that
kind of you know theme of switches we
also have the standard C++ 14 which is
on by default and that will give you the
latest standard and we don't have a
switch for C++ 17 yet because that is
not finalized yet but we do have the
standard C++ latest where we implement
the technical specifications and
anything that is not part of a finalized
standard so we're talking about this
oldest conformance what is the impact
that has well beyond your own code bases
you also rely on libraries so one
measure is the some libraries that
previously couldn't work with a compiler
and now can and we've got some examples
of those coming up on their slide now
the reality is that some large
cross-platform code bases have
implemented workarounds for our compiler
so because of our conformance gaps and
now as we catching up with conformance
we're going and working with those
library owners had to remove those hacks
the canonical example being boost where
they had no less than what is it six
pound defines and as you can see on the
slide we're removing four of those if
you're curious the other two one is on
to phase name lookup that we touched on
and the other one is mapped to a few
bugs that we will fix by the next
version of visual studio so that's kind
of the conformance portion if you like
as now that we're catching up to that
we're
so looking at what other investments we
want to be making in the inner compiler
as such as code analysis but also
compiler Diagnostics of fixing improving
the compiler errors so you seen two
examples up there of the Diagnostics
carrot which allows you to see not only
what line the error occurred on but
exactly which column so you can pinpoint
exactly where the issue is now we're not
sharing this as some a huge milestone or
innovation this is purely to indicate to
you the direction to which we're going
to start and going next and I hope you
like that direction now switching gears
from the kind of front-end compiler more
to the back ends on code generation and
we have blogged in depth and actually
did the channel 9 video and going native
as well about the new essay based
optimizer and what I have here on the
slide i will just making you aware of it
is an example of the code size savings
that you have with code before and with
and without using the new optimizer of
course you care about not just code size
but also called performance and we're
seeing some early wins in some parts of
some benchmarks that were sharing up
there this will be an error going to
invest more heavily in the next release
of visual studio so you should expect to
see more they're moving from performance
to reliability we have what we call the
real world code examples in our labs
these are really large code bases that
we build every single day after all the
check-ins going to violate it that we're
not breaking anything and the first
bullet that you're seeing up there with
windows and so on is kind of what we've
traditionally been using which has been
very good for us but now with the second
bullet over the last year you can see
we're adding more from the community
more open source code bases in there so
this is two positive effects one is that
it makes our compiler more reliable and
more robust the other as I mentioned at
the top of this talk we do implement
early proposals to the standards so this
gives us a good way to catch any a Down
level unwanted side effects so this is
all goodness if you have a real world
code a large code base that you think we
should be including let us know and
we'll consider that as well and then
finally how many people here and you use
a turn on the control flow guards option
connect yeah so that's actually for
people
that's not a house for well all of you
should so this is a security feature
helps mitigate attacks in your code and
all of Windows builds with this turned
on over the last years and it helps a
lot we've done a blog post in depth if
you want to go and look at it all i
wanted to signal here is that we
continue to invest in secure code
generation and then the last slide here
is going to be about build throughput
which we know you care about as you go
and work daily in your edits and build
debug a phase you want that building
phase to be as short as possible so you
can be more productive and turn things
faster every day so we have done
improvements in our front end and our
back ends but the improvements you're
going to feel the most are in the linker
so they get their gains of 2 to 4 X in
that linking phase which dominates when
you're building and when you just edit
something and build again before you
debug by using specifically the debug
fast link option so that is off by
default in Visual Studio 2015 so go turn
that on in Visual Studio 2015 update 3
and see what gains you get over there
and then the good news is that with the
next version with visual studio 15 where
a turning on by default so everybody
will feel that and then be were actually
improving another thirty percent on top
of those games so this is is really good
stuff this is performance difference you
will feel now beyond what we are doing
we also have partners that work with us
in this space one of them is Incredibles
and incredibles they sell these
extensions so incredible has this
extension that improves by ten twenty
percent across the board or build
throughput by paralyzing the builds and
the good thing here is we've negotiated
a deal with them where you can get a
free version of their extension with a
limitation being it only uses eight
cores so if you're okay with our
limitation I cannot imagine why you
wouldn't go and try this and see what it
does for you it's it's free so with that
what kind of at the end of that first
section that we talked about with the
compiler tools and we cheated a bit
especially with this slide because we
started to touch on visual studio things
so let's go here and transition from out
of that into a visual studio
so we do have time for a one question if
someone is a burning question on what
you've seen so far there's one there and
one here and you're not allowed to ask
any so let's go with this one he's
looking at me very mean way you're
looking a friendly way so yeah so the
question was is it possible to take the
compiler and put it in a mode where it's
only c++ 11 and I'm seeing Steve who's
supposed to take the questions music in
his head you can say words you're
allowed to speak it's like you know that
was it no come on you throw a ball step
what dr. repeat the snarky answer let's
not let's not repeat so I just talked to
Steve afterwards and make him make stuff
on this do it so I'll take the one down
there as well what was the question yeah
so if I am the question was what's the
trade-off there there was a trade of in
terms of the fit actually do you wanna
take a sure um so I the binaries they're
no longer you don't ship the fast link
binaries there's a tool on there called
MSP dvc MF you need to use that to
convert them into 22 full link fineries
before you ship if you want to keep
those symbols around that's that that's
the trade-off it's why we didn't do it
at first now we have kind of more of a
developer experience around being able
to do that so that so the trade off on
your actual inner loop as you develop
every day there isn't one it's only when
you were going to move the PD bees and
now we've kind of we think we've solved
that to an extent all right so thank
Steve so back to here so now we'll
transition to looking at the visual
studio side of things and before I go
and jump into the visual studio ID and
the visual studio code editor I didn't
want to make you aware in case you're
not or visual studio team services vs TS
so those are our cloud powered developer
services they give you things such as
source control version control work item
tracking project
continuous integration you know can
bands dash what's that kind of stuff the
developer services that are really
agnostic of whatever tool you use and
what platform your own or even what
programming language you use so if
that's something to interest you you can
go to visual studio calm and learn more
about it because we're not talking about
that in here and you should know that's
free if for individuals and for small
teams so that's something to go look at
so now let's look at the visual studio
ID so like I said earlier we should
Visual Studio 2015 RT em last year and
steve was actually here with my
predecessor ayman and they did a talk
about everything that was new in that
and also said we do ship most of the
value in a new release in the rtm
version so if you're not familiar with
what's in that version we're not
repeating that today you should go to
the youtube and watch that session what
we're going to talk about today is only
the Delta so what is new in the updates
update 1 up the up to 3 and also what is
new in Visual Studio 15 and here are
some of those things I'm not going to
read the slide I will always trust in
your ability to read slides so you won't
see me reading all of them so here we
have two buckets there's a bucket of
things in Visual Studio 2015 in the
updates but then there's also the stuff
on visual studio 15 and the ones we
selected to put up here this is not
release notes it's a selection are the
ones that are under what we call the
productivity bucket the things that make
you more productive every single day so
rather than talk about these steve is
now going to actually go and demonstrate
those to you damn ok great and I'm on
all right so first thing you're going to
stress this is a pre-release of a
pre-release build I am running a
developer build here on this box for you
this is an upcoming build preview 5
which should come out in the next few
weeks or so what I have here is I want
to show you some of our productivity
features the ones that were on the slide
just there the first thing I want to
show you is what you can use to navigate
around inside of your application but
before I do that I want to really
quickly just show you all tools options
and if you come in here and you type
experimental it's going to bring up this
property page where all of our sort of
very are more experimental things are
this is the kind of audience of people
who
to go and try new things out please go
set all of these two true I would really
appreciate it and give us your feedback
once you get your hands on these bits
first thing i want to show you here is
what we call the new go to experience so
i'm going to push control comma on my
handy-dandy keyboard and i'm going to
get this new thing that looks like the
old navigate to this is new i'm a type ?
it's going to give me some help this is
a very keyboard friendly experienced and
it's going to teach you how to use it so
i'm going to come in here first thing
i'm going to do is not that exciting i'm
going to go 155 really quick jumped onto
that line once again boobs control comma
back up to where i was ok so let's go to
line right the next one i want to show
you control comma i'm gonna type f for
file space dlg so that's going to very
quickly bring up a list of all of the
files that have dlg somewhere in them
and as you can see this is an mfc app so
it's all the dialogues if i go on here
and I like single click on this one you
can see it'll open it up in the preview
tab i also want to show you that there's
actually a ton of configurability in
here I can choose where I want this
window to be I can choose what I want to
use the preview tab at all but the go to
file thing is a very fast navigation
tool don't have to take your fingers off
the keyboard next thing I want to show
you is if I if I come back up here i'm
going to type a keyword that's all over
the universe so let me type event which
is way overloaded and this keep in this
code base so I've got a bunch of other
filters down here one of them is types
this is going to narrow the list down to
classes struck synonyms this one over
here is members so that's going to be
like enum items fields methods etc and
then this is symbols symbols is going to
be types Plus members plus any other
language constructs the main one is
macros so that is our new navigate to
experience it's it's fast and fluid it's
super fast the next thing i want to show
you once i get back to my thing is good
all right here we go so next I want to
show you is are significantly improved
find all references experience so as i
go here i chose final references on this
and as you can see instead of the old
dialogue we have a whole bunch of
improvements here first thing I want to
guide your attention to is the grouping
you can group by project you can group
by a path and so this is really useful
once you get
lot of number of items in here and
you're trying to go through there may be
some large-scale refactoring that you're
doing another thing this is really
useful for is any kind of code analysis
fix all the warnings kind of situation
we've got here the rewrite column which
will tell you if it was a read or write
or other we actually also have the
ability to click here on the cell filter
icon and then you can say only show me
the roots so it's very configurable can
be used in a lot of different scenarios
another thing I want to stress about
this and this is going to be a theme
overall is raw performance we're
bringing events in or we're bringing
results in incrementally here it should
be much faster for larger turns that's
than what you were seeing previously
okay so that's navigating around your
coats new fun things the next thing I
want to take you to is some authoring
stuff so now i'm going to type some code
so the first thing i want to do int I
equals sighs okay great intellisense
wonderful so uh what I have turned on
from those experiments is it something
we call a predictive intelius s and so
because I typed int I equals this is
already narrowed down this list to only
things that you know could realistically
be in so you can see when it boots let's
do that one more time you can see all
the ones that have the word size in them
and also it's actually not that big of a
bar if you take a look at the scroll bar
I can also go in and do the same kind of
filtering here that I did in the
previous view of God you know narrow it
down to just variables or narrow it down
to functions and if you do want the old
experience where we're not predicting in
case you're doing something coo coo you
can do this or ctrl J again we love
keyboards to to get the full list and
that can even if you looked at how much
the the scroll bar changed you know it
gives you a sense of just how much
filtering we were doing for you okay so
that's predictive intelligence it's
really neat this one is super small but
you know sometimes it's the little
things to help so here i'm going to type
p fonts a certain weight dot weight
would and then i'm going to select that
one and it automatically translates it
to an arrow that's cool so this is like
you know it's not going to change world
peace or anything but now you know we're
doing what you're meant not what you
said this is the beginning of the AI
taking over and destroying the world
you're there on the ground floor all
right so that's fun here's another super
fun tiny one which is I'm going to go in
here i'm going to select
these and I'm going to type the left
brace and then I can very quickly kind
of help really all right okay that was
not that one I thought was gonna get the
womb oh it's fine all right cool that's
okay I can't predict customers it all
it's all gay okay again it's like this
okay so you're going to remember the
control common thing right ok so right
next to that on your keyboard is the key
right so control dot we significantly
improve the light bulbs we have more
reef actors in particular extract
function is a lot better than it used to
be we've got the ability and abstract as
free function is member put it wherever
you want it give it a nice name this is
all stuff to initialize a tooltip hit
enter it'll go do some intellisense make
sure it makes it an accurate one opens
up a preview tab so that you can peek
into what it did and it replace the code
so I'm back all that out and I am ready
to show you some debugging so let's
transition out of that I'm going to do a
build and then we're gonna want done
okay so all right this thing actually
builds a help file every time sorry
internet code it's actually really cool
it's a Famicom tracker so you can like
make beeps and bloops like a griddle and
yes game so here we go i'm going to
start up the debugger so the first thing
that you're going to notice now that
we're transitioning into diagnostics is
the diagnostic tools window is going to
open up there and actually have to hit
my break point i'll go in here i set one
in the about box to make this easy you
see that says it's preparing threads up
there and this is the cpu profiling
thing is set to on so we've been doing
this diagnostic tools thing this is our
source second version with it and we've
continued to Britt move more and more of
the cool beyond debugging stuff into the
debugger and here you can see while I
was chatting there we brought up sort of
a function list here right now it's
sorted by the total cpu time in other
words how often that function was on the
stack but i can actually even come over
here and sort based on self CPU so this
is how often the body of this function
was on there so that's kind of neat
enough it's else if you've ever used the
vigils to your profile my first and
product here Microsoft I'm going to
click on here and it's actually going to
take me to the butterfly view so I can
really you know start drilling in on the
performance of my code without even
having to leave the debugger so I can
see what this function did
is it called it you can see we've got
just the beginnings of starting to color
the actual function body itself with the
hot spots so we think this is going to
be really useful you can also come up
here hit call tree and drill down into
the culture do like kind of a top-down
performance investigation and and so
yeah the profiler right there inside of
the debugger so that's great so the next
thing I want to do is show you this is
another little one I like these so if I
if I just hover my mouse just a little
bit cell green arrow and I click on it
BAM this is the new run to cursor
experience inside a visual studio if you
like that and you didn't know we had it
in the old versions when you go back to
those to those of you who are still you
know not using our pre-release products
if you go in here there's actually it's
always been here but people didn't find
it so now you can find it it's awesome
so okay one last thing for the
productivity stuff so i got this struct
here right and i'm going to neutralize
it and then i'm going to go having a set
like one of the fields to 10 and i'm
going to step one more time but you know
what I didn't actually initialize this
thing properly so it's not going to work
so BAM we get the new exception helper
UI and there are two cool things about
this first well three I actually like
the UI looks prettier but the other one
is it actually tells you for reading
sess violations which part of this
cascade of pointer dereference ease as a
dot P P P was the null pointer which i
think is definitely going to save you
some time okay so now this is another
once I get to ask you a question kind of
moment so hmm who's ever had to use like
a third-party library where that kind of
the jerk who wrote the third party
library likes to use exceptions as
control flow is that okay well look
nodding and yes you've all done that so
I want to draw your attention to this
edit conditions thing right i'm gonna
click on that and so what this allows
you to do is set conditions on your
break points to say like if this is that
jerks dll no don't break keep going so i
think this is in and of itself going to
save man years of time alright alright
Daniel you're up and cool I can find a
button you guys like that
awesome so that was visual studio at 15
and show you some things that are also
in Visual Studio 2015 we're going to
come back to visual studio but let's
like take a small diversion towards
editors and Visual Studio code how many
people in here have not heard the
visuals to the code before can sit show
hands not I can also admitted a few
people do alright so for everyone else
that has heard about it and for the
people that haven't when we released
this a couple of years ago now it was
people thought it was visual studio that
now also runs on linux and the map so i
just want to dispel that myth this isn't
the visual studio it's not an ID it does
run on linux on the mac as well as
windows but it's an editor it doesn't
have like a tenth of the capabilities
that you would find in visual studio it
is not meant to it is an editor but for
an editor it is amazing it has built-in
get integration it has debugging support
it has extensibility you can go and
configure text files to kind of compose
your own inner loop with command lines
and so on so it may not be an ID but
it's a really great editor so it's kind
of thing that if you don't want to use
visual studio come if you crazy i don't
know if you don't want to use visual
studio and you have more of the
upbringing the developer upbringing of
the vim or emacs or sublime something
like that then this is the tool you need
to check out and if you go and download
Visual Studio code you will want to also
get our C++ extension which actually
gives you the full suppose class
experience in Visual Studio code so
instead of talking about that experience
Steve now is going to go in there might
step out with you all right so I've got
visuals to your coat up in here so the
first thing I want you to do it installs
really quick it's like a two minute
install it's really tiny go and going to
get it installed once you do and i will
tell you i found out Daniel walrus
practicing that this is this actually
uses the network but so if you go in
here new type CPP c++ and click enter oh
and you have working Wi-Fi go ahead and
pick the one we should be on top but the
one by Microsoft that that's the one we
wrote so that's how you get started
alright so then once you have that
installed the next thing I want to do is
I'm going to go to open folder and I'm
going to select this this is the CPP
rest SDK that we ship and this is
very simple application that uses it so
I'm going to select that folder and
what's going to do is it's going to open
up sort of a folder view of what's going
on there as you can see it creates a dot
vs code file when you do that and that's
where all the configuration information
goes so I'm going to start up i'm going
to open up my CPP file and you can see
almost immediately I get a pretty good
result in terms of coloring and I get
these green squiggles and hey include
files are not found well you know you
got to tell us something right so I'm
going to click on that I get a light
bulb I'm going to click on that light
bulb it's gonna stay add include pass to
settings now i'm going to go ahead i'm
going to not type in front of you
because i am a bad bad typer i'm gonna
go and i'm going to pull the oats you
see I'm not even really that good with a
mouse like managing though that good
okay you can see you go get a different
one for mac linux and and windows 32 i'm
going to come in here i'm going to add
in the include path i'm going to hit
save hope i did that well switch over
back to this file and now if we give it
a second it should there we go okay it
will cover it up and so now it knows
about the include path we're going in
the background and the reason it took a
second there is because it's actually
doing background coladas and lot of good
stuff or tag parsing in this case and
everything that you would expect to work
works so you can go in here string T you
can do keep def on that and it'll bring
you a peek window just like you get in
Big Brother visual studio it's probably
a bad way to call it you know if you
come in here to do clients dots you will
get autocomplete you know we'll continue
to work on the accuracy in these but
right now it sits nice and it's fast
okay so that's editing and navigation
next thing i want to show you i'm going
to push because i've trained on visual
studio i'm going to press ctrl shift be
to build its gonna say up no no no cask
runner configured i'm going to click
configure task runner you can see it
gives me a bunch of choices and again
there's a very large extension gallery
all ready for this tool so you don't see
what you need up here but i'm going to
go ahead and go to pick the MS build one
it's going to open up yet another
helpful JSON file that we can then put
information into this one actually don't
have to change it I actually launched
visual co code from the developer prompt
and so all my tools are already in here
I'm going to build it's going to bring
up an output window it's beautiful it's
lightweight the bill works
and I'm excited have even more excited
when it's done come back fast link
that's the key nah alright so the next
thing we're going to there you go I go
alright so worked so the next thing i
want to show you really quickly is the
debugging experience yes there's a
debugger in here so i could play and
once again it prompts me so there's a
couple of different environments here
ironically we actually did the gdb lld
be one first but in our most recent
monthly bill of the c++ extension we
actually added windows so i'm going to
double that one today so i'm going to
click that it's going to bring up a ok
you need to set up one of these launch
configurations everything's JSON files
alright and so you can see I've got a
launch configuration and attached
configuration and I still don't like
typing so I'm going to come over here
and I'm going to take all I have to tell
this thing really to get it going is the
name of the program and the arguments to
pass to it so I'm going to do that real
quick I'm going to push you know f5 will
work but I like my stew it's going to
it's going to go up here we're going to
hit the bed point we're going to get
data tips it's beautiful this is the
same underlying workload or the same
underlying debug engine that we use
inside a visual studio just shift for vs
code it's lightweight if I go to the
next breakpoint and step once you can
see we've got NAT visualization native
visualization works here so it's a
lightweight editor I XO I realize I
skipped a quick demo which is we
actually just included the ability to do
formatting as well so you can go in here
and use it actually uses claim format on
the back end hi to to work and uh yeah
so that is vigil see your cup Daniel oh
thank you I didn't need the party start
they're learning extreme so that was a
visual studio code again you see it has
kind of a little bit of everything it's
not a fool I ID that's the point I was
making nervous or with the debugging for
example it's nowhere near the richness
of what you saw earlier but for an
editor we think it's fantastic we hope
you like it too will continue investing
here to make it be the best editor out
there and one of the things that we do
like about editors in jan
is that they're fast and lightweight so
talking about performance what are we
doing in Visual Studio 15 on the
performance front so there's a couple of
things hopefully you're all configuring
a precompiled headers you can help us
give you faster intelligence and
navigation and so on but in the cases
where you don't want to or can't we now
kind of do that behind the background
for you so you can get that performance
if you were in such a situation try with
the latest version of vs to to see if
it's improved your life the other one is
that in some cases with the bug in
memory would grow and we had one
pathological case like that of a real
app that we were working with and
unfortunately it would crash after you
were debug after some point and now
we've kind of contained it to be under
two gig while debugging so if you had
scenarios where you felt one of the bug
in memory kind of goes out of whack try
the latest version to see what's going
on there and then finally we've done
some dramatic improvements or two
solution loading so here you can see
someone is a solution with 1,700
projects that's chromium by the way and
we've taken that from 76 seconds to load
after the first time that you've run it
down to 15 and that is what i mean by
dramatic improvements in another case
where there was one large start a
project and 23 smaller ones that's the
Unreal Engine in that case we've only
improved it by a hundred percent when
you load it after the second time so
again like I was saying with the build
throughput this is performance you will
feel now the other thing that we've done
in a following on from the vs code demo
is the ability and what we call up and
folder to point visual studio to a
folder and have it work with that code
and if in there you also have a see make
file we will actually pass that and give
you an even richer experience in visual
studio so we've got the beginnings of
that which just started working on that
so steve is going to demo that and when
when we come back I'll talk about
acquisition and installation experience
with you okay so as you saw when I was
doing that vs code demo right I just
went and I did open folder and I pointed
it or folder right would it be great if
you could do the same thing inside a
visual studio so I go in there I select
open folder I'm going to go in here i'm
going to pick just a folder this is
ecstasy is a random algorithms thing we
got off the internet it is not there's
no project file here there's no see make
it's just like the the vs code damage is
something we're pointing at so what I'm
going to do is I'm going in there and
sort of scanned notice that it was there
when I come in here and I open up one of
these files if I give it a second it'll
actually color once again if I come in
here and do our beautiful you find all
references experience it'll work and so
how does this work so again it's JSON
files all the way down so i'm going to
go i'm going to show you let's use go to
control comma and i'll do f CN PPP and
you can see we've got the CPP properties
JSON file and it looks going up oh okay
cbv droll comma f Spacey VPP I'm
secretly actually a mouse guy guys ok so
you specify the include path you you
look at the forced includes and you add
the pound defines and it's enough that's
how we're able to go and do that now
we're going to keep going forwards on
this and add the other kinds of
experiences that you would expect like
the ability to you know tell it how to
find the right place to debug et cetera
but that's just if you have a sort of
random code that doesn't have anything
but if i switch over to this other
visual studio and I go to open folder
and it picked that other folder that I
had on that demos the sea make one I'm
going to get an even better solution so
this one is a basically every time you
go open folder it goes and it rolls
through the folder that it's opened and
looks for as sort of these magic files
right there's CBP proj JSON if it sees
that it does what I was showing you
before but if it finds that there's a
sea make lists text file it will go in
and you know now we've got enough
information without you modifying
anything to go in and again the
colorization happened come in here I'll
find our references again and to show
you nothing on the sleeve notes not
sleepy ah next thing i want to show you
on this though is this one this is dump
the early you I this is not how it's
going to work eventually but you can
come in here already click build it will
succeed and yes you can right click on
here if I debug and then a little bit of
look
yeah we're debugging the seeming thing
so I want to stress there is no secret
background generation of projects going
on here we're actually you know using
the sea make files sort of natively
we're building on top of some awesome
contributions in the community and we
will make some enhancements to those and
then contribute them back in
collaboration with like the SEMA guys
get where so yeah so that's the
beginnings of sea make for visual studio
I call this like visual studio on
projects yes all right ok Daniel you're
you guys didn't like that to you crop
through the table that's the joke galaxy
once you start together we got to keep
going i'm addicted yeah without project
so it's make it easier for you to just
come and try visual studio without
having to first buy into the whole
project idea essentially so acquisition
installation experience if you go and
try so that was a demo if you go and try
and install visual studio 15 you're
going to see our new acquisition
experience just curious how many people
have actually tried visuals do 15 just a
few of you so you guys may have seen
that because it came it's a certain
prettier than I don't know which one but
it looks like this now so what we have
is what we call a workload based
approach to pick in your installation
you can go and choose individual
components and kind of do it a different
way but the workload based approach what
we expect most people to pick so for
example you see at the top box up there
it says the universal Windows platform
development so if you were targeting
apps to deploy to the Windows Store in
whatever language you would pick that
workload I have actually picked the one
underneath hence the check mark which is
the Windows desktop development of C++
it says desktop but really it's just to
build any binary that will run on
Windows is not specifically targeting
the Windows Store and then when you pick
it here on the right you can go and
fine-tuned and customize further within
that workload now this is awesome why is
it also three reasons first you will
actually your hard disk will thank us
right you're gonna you're going to only
install the things that you want so this
will have a smaller footprint second
it's going to be much faster to install
because again you're picking exactly
what you want install and third there's
not going to be the visual noise of
things that you didn't care about that
you just got because it's there with
visual studio because you're only
picking exactly the work
that you want so for example if you
didn't care at all about c-sharp you
just didn't want to see that thing ever
other than here maybe you pick C++
because that's what you care about and
then you will get the visual studio
installation for c++ only the one you've
always dreamt of in under 12 minutes all
right so I don't know how many people
budget for you know less than an hour to
go and install visual suit of the day
but at this point you get that like
that's that's fast now there is a fourth
reason is a c++ developer to to like
here which is if you see here in the
options this is where we can we can and
will give you the ability to install all
the tool sets so if you have some a
project that you cannot move forward
from let's say the visual studio 2013
compiler or something like that instead
of having to install that visual studio
and have them side by side you just get
the latest visual studio pick the tool
set and then in that project is
configured to target the older toolset
again you had this good will help thank
us for that so that's kind of like the
workload approach that we're taking this
is a good segue to the last section that
we have where we actually talked about
workloads and these workloads are in the
visual studio 15 cents and in the in
this installer but also a weekend you
can use some of these like the
android/ios with extensions and project
types and so on so again I think we have
probably time for a question if someone
has on the stuff we've seen so far on a
visual studio yes sir I think that Oh
repeat the question all right can we can
you save the configuration that you had
I don't believe that part has been
implemented and I am NOT a thousand
percent sure with the spec but but that
sounds like an extremely reasonable
thing so we if we weren't planet will do
it and in the preview builds there isn't
things like there's no like offline
install isn't there yet these things are
coming but we'll we'll make sure people
know yeah we have time for another
questions wrong yes
okay so we'll we'll definitely so the
question was it will touch on Ross
platform you know Jax will touch on that
a bit in a minute Jonah I'll take one
more if you want so the question is
about the last thing with a visual
studio debug engine that we plug into
Visual Studio code you can use Visual
Studio code without new client to do
anything else so I think that's the
answer the visual studio debug engine
you is not something used directly or
that we would expect someone to use
directly use the code through that you
get access to the engine yeah sure so so
the question isn't on the question isn't
see make and basically how do you
distribute it how do you get it it keeps
popping up everywhere like how is this
going to work yeah so when you install
visual studio you'll get everything you
like you know if you noticed and on his
slide there was actually a checkbox for
the scenic tools yeah that's right no
there's thing called see makinen that we
talked to that that allows us to answer
questions ever me yeah okay alright cool
so let's jump into the workloads and
this was the section I I said that the
start we're going to go very fast
through so first windows did they ask
already how many people deploy to the
Windows Store and we asked that question
12 okay three
like just shy like maybe and so I'll
just go through that kind of quickly the
new things that we have in there there's
now a single unified windows store where
you can deploy a single binary and with
that reach all the different platforms
desktop mobile hollow lens Xbox like
everything and the at runtime that can
detect and adjust to the format the
input type and the actual form factor of
the device it is running on so that's
pretty cool we've also made some
advancements here to the angle open
source library if you want to use OpenGL
and your mobile apps both of the Windows
Store but also this accrues to targeting
Android and iOS which is a workload
we're going to attach on later on so
that's cool as well and then what we try
what we're doing now is experimenting
with a c++ standards approach to access
in winner t and there was talk about
that earlier today that Canyon James did
so if you're interested in that you
should go and watch the recording on
YouTube where they went in-depth us to
how that works as an alternative
approach to c plus plus CX potentially
at some point now a lot of you have
desktop apps and maybe from those
desktop apps you want to reach more
people by going through the windows
store so we have this cool thing called
the centennial bridge that allows you to
package your desktop app and deployed to
the Windows Store so that's kind of an
easy way the first step to get there so
that's something you should check out if
that's of interest the other bridge that
we have is the island woodbridge which
is a project on github where it allows
you to easily port iOS apps and have
them run on the Windows platform and for
the store and you can then go and
advance them further by adding windows
specific behaviors and finally we have
this project structure in visual studio
where you can go and actually share code
across any platform at your target so we
make that very easy to happen and Linux
is coming very soon to that we haven't
added that bit yet so there's a question
still
so the question was around linux hold up
thought when we get to there and and if
it still no answers bring it up again so
i'm going to switch gears and go to the
mobile workload which is now work load
in its own right for android and iOS
development and instead of talking about
this there's actually another session
here it's not done by Microsoft
employees I don't know what's in it but
I'm sure it's going to be great so you
should go and look at this session will
attend this if you're interested in
mobile app development with visual c++
or go to the URL at the bottom in a
nutshell for those of you following the
story there because we started that a
while back we now have support for a
round trip and importing and round trip
in xcode their projects including
support for frameworks and dynamic
libraries and on the Android side we
have an hour java language service that
underpins intellisense and navigation
and also the ability to debug java code
when you mix Java and C++ on on Android
and that and then finally also support
for the Gradle build system again go to
the other talk which I'm sure will go in
more depth on these things moving on to
the Linux workload so how many people
have not heard of but actually tried our
support for linux development here
that's just a few of you so if you and I
bet you've tried that in the visual
studio thousand fifteen with the
extension right yeah I'm seeing they're
not if you go and select the Linux
workloads here with visuals to 15 that
will install in under six minutes so
that is something you can very easily go
try and to target Linux remotely from a
visual studio so how that works is kind
of how the Linux development works is up
here on the slide but instead of me
talking about this i will have steve to
do his final demo so you know at the end
you got a really really applaud hard yes
or i'll cry a promise alright so to do
the linux targeting development inside a
visual studio all you need is some linux
so I've got some linux here I've got
some linux running in a virtual machine
on my laptop this is Ubuntu 16 LTS so
I'm going to switch over here all you
need on that that thing
is I don't care if it's a vm i don't i
don't care if it's an azure as long as
you can ssh to it as long as it's got
some build tools on it because today
we're mostly targeting remote build
scenarios and so I've got a rotating
cube here I've got a project here this
is a linux project as you can see and
i'm going to go and i'm going to show
you the properties if i go in here and i
got remote settings I've got it set ups
here so it tells you where the target
machine is now to specify where the
target machine is we go to tools options
to come in here i'm gonna type
connection go spell it right then i'm
going to get a connection manager it's
as simple as this connect remote system
dialogue all you have to do is specify
the hostname what port ssh is running on
and your username and either a private
key or a password I've already done that
I prepped this one so that it's talking
to that to that virtual machine so also
inside of the properties file you can
see all the kind of other stuff that we
do here you see we're using GCC here we
added support for clang in the last
iteration of these tools we're shipping
a bell monthly on this generator you can
see you can pick your standard librarian
that we're targeting GCC remotely okay
so that's cool so because it's not a
demo unless I show final references okay
so we got all what I did to prep this
machine is I simply copied my source
code here and I actually even just
mirrored over us or include so that you
could make sure that I could actually
know where all of the header files were
got that set up and I'm good to go you
can see here I found all places this
this is an OpenGL application it's going
to spin a cute all right so i won't
tease i'm going to actually launch this
so what's going to happen is it's going
to it's actually going to copy the
source files over the remote machine
build them there and then you know start
up the application and were we're about
ready to go here so i'm right here at
the beginning now i'm going to hit f5
it's going to go and we're going to
watch a cube rotate in 3d on linux from
visual studio okay so i'm going to hit
cue just prove I'm not faking anything
here we're going to end up here it's
going to hit a breakpoint back here on
visual studio this is cool we've done
this demo a few times and we you know we
love see
picon it's in our town all this stuff so
we wanted to show one new thing here
that we've never shown before this is
the grand finale so speak so I'm going
to go in here I'm going to open up a
very much hello world this time I'm
going to go in to my project properties
this time I'm going to go to remote
settings and this time I'm going to
point it at 127 00 got one all right
they may notice this thing down here
what this whole time was it teasing you
right ok so in windows 10 anniversary
edition there is a what's called the
window subsystem for linux and what that
is is it's not a vm there's no virtual
machine here nothing up my sleeve this
is an actual image of the loom to I
think it's a bunch of 14 actually 14 one
point that's actually integrated inside
of Windows and so all I've done here you
can see I suited up some moss or a spin
sshd and so now when I go and I pointed
at the target machine what's gonna do
it's going to loop back around and talk
to the window subsystem for linux so I
don't know I hope this works alright so
this is like me attempting to build
suspense ok how's it how's that going
alright so again I'm building so what's
going to happen here is it's going to
copy that over through there it's going
to copy remotely into it I've actually
installed GD GD b and GCC and all its
friends there this is the linux council
window so that you're not constantly
having to like flip back and forth
between VMs if you're just doing like a
simple console app you can actually just
use it here so i'll step over the line
and it'll print out locally hello from
console application 11 so we're done
thanks
cuz I they drop the mic yeah cool uh so
I hope you like that because Microsoft
does love Linux if satya says it I can
say it as well so i could ham thing like
i can mimic that we tried this is now
possible I don't know how he does it
related to linux kind of some situations
is the Internet of Things IOT is kind of
hot these days and when your things are
running Linux everything we showed you
just works so if you're doing kind of a
ir t development with linux devices all
of this stuff just works there for you
and we will be adding support for
microcontrollers and we're not sure if
we're going to add that in this workload
with linux or if we're going to have it
separate we'll see we're not sure at
this point but we will add support for
microcontrollers and on the IOT front if
you do 90 development in any environment
on any platform this thing it's IOT
because of the I that's the Internet
these things are connected so if you
need to be connected to something you
should definitely check out the azure
IOT SDK which is that URL which has all
the things you would ever need variety
development for your back-end moving to
another workload games so you can see
there at the top a unity has its own a
workload because this mostly she shop
folks that use that we think and then we
have the one that I've checked which is
the c++ game development which includes
in our caucus and unreal and direct x
and so on which you can configure on the
side as usual you should be used to this
by now so if we go and look at that
first i should say if you're doing game
development again with any tool or any
platform similar to the IIT there is a
trend with games now whether kind of
using some kind of back-end service
somewhere and azure does have a set of
services specifically for game
development so if you're doing game
development should check out that URL
and see if there's anything there of
interest to you if you're doing your
game development Direct X in visual
studio then you may be are looking at
the latest Direct X 12 and we've done a
bunch of things that I've got on the
slide improvements there in the
Diagnostics space for debugging and
profiling that you should find exciting
so take the bits and check it out if
you're not using that and instead you're
working with one of our partners we are
actually still evolving those
relationships and moving forward so for
example with the Coco's recently we had
a blog post that showed an example
of how to use caucus target Android from
within visual studio so you can go on a
blog and read about that and then epic
for their Unreal Engine are actually
working on that they don't have public
bits yet they've got it internally
though working with integrated editing
and debugging and in visual studio so
that what you're appetite with the
screenshots that we have here and when
this is ready for public consumption
they will talk about it we will blog
about it as well so that's the gaming
workload and that brings us to the end
of the workloads if there are workloads
that we're missing here because really
what we're trying to do is make sure
that as a C++ developer no matter what
type of development you're doing what
you're targeting from Visual Studio and
windows one offer that to you that's
what we're trying to do so if there's
something we're missing let us know I'm
going to swiftly move on given the time
and we'll take questions at the end I've
got this in one more slide so we've
started recently updated significantly
our documentation working with our dog
folks and our doc documentation folks
and rpms and engineers everybody
involved and we're actually updated that
so if you haven't been term as the end
in a while and you're kind of stuck on
some kind of issue you can move forward
to the latest version read the
documentation this is actually again
better and we're also introducing a new
repository on github that you can go
which is specifically for samples and
upgrading forward so that gives you a
good examples to look at and if that
fails you've done those two steps and
you still cannot move forward we will do
it for you so there is an email address
down there vc up with so just email that
and we will schedule a Skype call with
you and we'll have our engineers help
you while you're sharing your codes on
the screen to actually move forward
we're committed to bringing you forwards
I think be honest it's something like
that in the keynote as well we need
people moving forward to the latest in
order they can get value from the new
things that we're doing so hope you
appreciate that and then on the final
slide to kind of summarize I mean how do
you summarize it so much that we've went
through there's all these demos is all
these slides all these pointers so I
think you guys are going to go away
forget about all this i think what i
want to do is just make sure you leave
with some words like if it's just a few
words you're going to remember what
should those be so i'll give you my
opinion i think it should be conformance
should be
activity should be see make it should be
performance through cogeneration
performance through build trip with
performance in the ID I workload based
installation Windows Linux Android iOS
IOT games and yeah then I get sweaty and
start sound developers but it is finally
developers Ballmer those were the days
right no but actually on that point I
hope you guys are sensing the kind of
the change where we're in the community
we're listening we're participating
we're collaborating we're contributing
who would have thought a few years ago
that we would release a free
cross-platform editor like Visual Studio
code then open source it after I mean
nobody would have thought about that
right I don't know who would have
thought about us talking about and
encouraging you to use Visual Studio
target Linux and doing that by you know
connecting to home I mean these these
are things that we on the inside as
employees of this company I really
enjoying and I hope you guys are as well
so there's always more we can do so
please do email me if you have
suggestions what we can do for the C++
community in particular my email is
Steve Carrell it's my now but you can
email Steve but you can email me Daniel
dot more fat microsoft com so thank you
for staying with us and enjoy the rest
of the conference</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>