<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CppCon 2017: Adrien Devresse “Nix: A functional package manager for your C++ software stack” | Coder Coacher - Coaching Coders</title><meta content="CppCon 2017: Adrien Devresse “Nix: A functional package manager for your C++ software stack” - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CppCon/">CppCon</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>CppCon 2017: Adrien Devresse “Nix: A functional package manager for your C++ software stack”</b></h2><h5 class="post__date">2017-10-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6wJ4-wP-nnA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">But my talk is gonna be way less humanist
focused on but first just
to check who already heard
about Nix in the room?
Okay who do functional
programming with Pascal, Rust,
or whatever on a regular basis,
more or less the same, okay.
Okay so I'm, will speak a
little bit about like Nix
on the like, what it is,
like it's a functional
package manager, I'll maybe
explain what I mean by that,
like I hate the idea to
speak about functional
programming at nine o'clock
in the evening the first day,
but after all like the
talk on Monday on package
manager, what it is
motivating people to do,
like Conan, alright,
so another tool concept
for package manager,
alright, for let's package
all the things, in just one hour.
Like if you want to know
little bit about Nix,
if you don't know yet,
it's kind of a special
package manager in the sense that it's
articulated around a
functional domain specific
language which is very close
to all the email language,
its provide a lot of
package, like most like,
biggest leading distribution,
Debian or Red Hat,
Fedora and co, it's one of the most active
project on GitHub, like you
have a crazy number of people
that come into that, like
updating the package,
many from the function
community, if you want to have
a look just put like Nix,
NixOS on GitHub, on some
of you be the Linux distributor
on that, but it does not
matter much, what matter is
that this thing is in fact
very interesting for C++,
why interesting because
in one word what makes Nix
great compared to other
package manager is reproducibility.
And if you don't care
about reproducibility
it's probably because you
never get to this kind
of situation where like, you
get the basic thing like,
yeah my code was working
before like three months before
now you update my Linux
distribution it is not
working anymore, or something different,
which is more like, yeah,
you order your colleague
like &quot;Michael just work on
my machine, not on yours.
I'm sorry for you.&quot;
You have to first figure
out that you probably
get versions compiler
which is tiny by default,
(mumbles) which is
different, like a package
that you didn't like,
whatever side effect you have
on your distribution, like the
reason why Nix is different
is because it has been
programmed by functional
programmer, nothing in
fact, like everything is
self-contained inside
/Nix., everything you build
is self-contained inside this prefix,
including even the GDPC,
the compiler itself,
on everything, on every
package you take there
is a status function in fact, so like
you just have a set of,
with input, like you read
your package, you get a
new input that you can
reuse another function, no
more complicated than that,
and like it's a stateless function,
the beauty of it, you can
cache it and you cannot get
binary dissolution out of that.
Another strong point about it is it works
because everything is
isolated, like they did it
in a way that everything is
build in a clean environment
by another user, it's
sandboxed, everything can be
even with another machine
separately, like if you,
like it's ready, they put
a lot of effort on that.
Every build recipe is,
so every recipe is also
hashed cryptographically
and this is a prefix
of your package, meaning
you can have 20,000 version
of the same package in parallel
if you change your build
recipe or if you change the
source, they can coexist
in parallel, you don't have issue.
Just to get you a little
bit bored, like this is
like how to build Abseil for
instance, just, horrible,
that one colleague of mine
did that when got excited
on Abseil, has been
announced, like this is more
or less how you can build,
the serif of the deadly
color that like was supposed
to be only (mumbles),
on this what you see there is nothing
even a function in fact,
lambda function, the top part,
the red one is like the
parameter that you include
in your lambda, the big
square one is like, your
lambda function to build
Abseil, this is why you
pick up the source, this
is a function again,
and the bottom part is just
like what kind of package
you put inside the function
that you want to build.
Nothing very complicated,
and all you do like,
package collection,
maintain an entire package
collection with Nix, see
it's like you just have
a giant recipe with that
on like a name of variable,
but just we refer to the
kind of package we have seen
just before and so like
you get like 10,000 package
like that, where you can
just pass normal parameter
of like the other package
variable name, or you can
also override, like if you
want to just use specific
dependency of internal, and you can have
as many version of one package as you want
in parallel and that's
okay, and when you want
to build it you just get in the directory
where you have build recipe, you do build,
then move the package
and it's gonna trigger
the build automatically
and restore it every
time you like, merging something.
And honestly I found it
quite astounding, so.
(applause)
Have fun with it.</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>