<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CppCon 2016: Isabella Muerte “No Concepts Beyond This Point: The Detection Idiom&quot; | Coder Coacher - Coaching Coders</title><meta content="CppCon 2016: Isabella Muerte “No Concepts Beyond This Point: The Detection Idiom&quot; - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CppCon/">CppCon</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>CppCon 2016: Isabella Muerte “No Concepts Beyond This Point: The Detection Idiom&quot;</b></h2><h5 class="post__date">2016-10-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VctviQl-SR4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so this is originally I pitched
this as no concepts beyond this point I
found this image by searching a sad dog
so but really what this talk is is 6m
Pristina so who the good gosh darn heck
am i I'm Isabel more time with C++ bruja
which means I write dark template
metaprogramming magic my twitter is
slurps mad rips my github is slurps -
mad - rips so really when you talk about
real quick is the detection idiom it's
part of the library fundamentals beat V
- TS which you can find on cpp reference
comm if you need more information it's
extremely powerful it's way to implement
built-in type traits with the compiler
and it's also a way to poorly implement
concepts lights so basically just the
type constraint stuff so concepts data
spoke about them we want a real bad
right well you know this is what we want
and this is what we have and this is
what we want and this is what we have
and this is what we want and this is
what we have laser raves are kind of
okay so what does the API look like for
the detection idiom well you have an is
detected type which inherits from some
form of a bull constant you have
detected T which is basically just a an
identity detected or which is kind of
you know if I can't find the type that
you're trying to detect it returns the
type that you pass in there's is
detected exact which is you want it to
be the exact same type and this is
detected convertible which is the type
is to be implicitly convertible to the
comparable to the type - there's also
Nonesuch which is a special type is
basically everything inside of is
deleted you can't instantiate it you can
know what passed in his tempo type I did
want to find an image of spinal tap
saying none such templates but couldn't
get that in in time so how does it work
it uses stood void t under the covers
it's really easy to implement boy T you
can go back and watch
20:14 walter ii brown's talk you can do
like a whole bunch of stuff with YT but
it's better if you use detection idiom
because you can do even more things with
it so it's time to flee to C++ 7 feature
but you can do it and see what's most 11
10 C++ 14 I've done it multiple times
but running code is easier than writing
slides so nope that's the so this is the
pearly header I'd have here basically
just a bunch of usings and the types
that we need just to get everything that
we have you'll notice I have conjunction
disjunction and negation from the stid
library for C++ 17 and so here's what we
have so we have a require we have an
either we have a disallow which is the
opposite of require we have changed
these names and also made them concepts
or pools because the concept is actually
just a context for bool and we have a
quick check here to do swap with so we
can detect swap just so I can prove a
point and then we have some operators
here you'll notice that these are just
deckle types with tickle Val's inside of
them because detected lets you just
check expressions so we have also type
deaths that are dependent so we have a
swappable width and we say if you know
this is an expression that we can do if
he previously showed you know swaps with
then this will be true otherwise it will
be false same with some of these are
already standard values so we can just
assign them let the compiler take care
of it but if I wanted to do copy
assignable I could just make a template
metta function that works with this
detected so the quality compare
everybody knows that one you know you
want that type to be convertible to bool
it has to use the equals operator it
takes a team that you simple we're gonna
have it so that U is also T by default
saves us some time an iterator according
to the CPP references it has a cop
constructible type copy sign about
stretchable swappable it has a postfix
increment prefix increment and a
dereference an input iterator can be a
Poynter or it can be any type that is
equality comparable an iterator has a
value type alias a reference alias and
either when dereference returns the type
that is the reference or converts to
value type and all this other stuff and
so you'll see here that I have these
certs in and this compiles and so you'll
see here I have this so if I so that
runs but if I do you'll notice this is
not how you would ever want to use for
each and so we get a nice little stack
insert but if you use it with enabled if
you'll basically just get very simple we
couldn't deduce the type you don't get a
whole bunch of garbage stream and uh
because I know that I was gonna have
enough time I did all right there we go
so if you now go to github.com / - man -
rip / c XX - comp sets you can actually
see all the code that I'm showing you
and you can uncomment this stuff and
play around with it and basically see
everything I just did so and then yeah
there it is thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>