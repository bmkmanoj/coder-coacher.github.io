<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CppCon 2016: Marc Gregoire “Mobile App Development for Multiple Platforms with Visual C++, 2016&quot; | Coder Coacher - Coaching Coders</title><meta content="CppCon 2016: Marc Gregoire “Mobile App Development for Multiple Platforms with Visual C++, 2016&quot; - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CppCon/">CppCon</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>CppCon 2016: Marc Gregoire “Mobile App Development for Multiple Platforms with Visual C++, 2016&quot;</b></h2><h5 class="post__date">2016-10-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/AuWCrdxNCgM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome everyone can everyone hear me I
hope you had a great conference so far
so my presentation will be about
cross-platform mobile app development
with visual C++ 2015 first a little bit
about myself I'm from Belgium I'm a
software architect working for Nikon I'm
a Microsoft MVP in Visual C++ since 2007
and also Microsoft extended expert team
member I'm the author of professional
C++ third edition and of C++ standard
library quick reference both of the
books are available in the university
bookstore in the hall so feel free to go
take a look and I'm also the founder of
the Belgian C++ users group we try to uh
place three or four times have a meeting
about C++ in Belgium this is an overview
of the topics that I will cover today so
people that were here last year for cpp
comm 2015 they might remember my
presentation on cross-platform mobile
app development
this year's presentation is not a repeat
of that one instead it will build on top
of the previous year's presentation
however some people probably didn't see
that presentation of last year so I will
give a quick overview overview of what I
what what which topics that I mentioned
last year then I will cover all the new
features that have been added to the
cross-platform mobile app story for
Android for iOS I'll talk a little bit
about game engine and then I will end
with best practices for cross-platform
UI where you have a platform specific UI
so as you can see there will be a lot of
demos actually I don't have that many
slides so let's hope all the demos work
and if you have any questions feel free
to interrupt me
let's start with a yes so those details
I'm not sure you're corrected there is
support for Linux but this presentation
will only cover mobile app development
so maybe we can talk about it offline so
let's start with my last year's
presentation a short overview you can
watch it on YouTube or on channel 9 and
what I discussed there was that a lot of
the developers they want to target
multiple platforms because that means
they have access to a bigger market
share and that means you can make more
money but developers don't want to do
that if it if it was too hard to support
multiple platforms I also explained
there are basically two ways to do
cross-platform mobile app development
you have the silo approach in which you
use the dominant technology for your
platform so for Android you will use
Java for Windows Phone you will use C
sharp or C++ C X and for iOS you will
use objective-c or Swift of course those
are three different languages so you
have minimal code reuse if you implement
one feature in Java you'll also have to
implement it in C++ C X in c-sharp
Objective C Swift and so on so that
makes the development cost much higher
and you also risk that one of the
platforms will become the dominant
platform and with that I mean that in
the beginning you might support all
three platforms but then you might
notice that your Android application is
giving you more money and then new
features you might implement
first in Android and then later you
might port them to Windows Phone or to
iOS or you might not do it in the case
of the Windows Phone you will probably
not do that and the the second approach
is to use a cross-platform framework
like PhoneGap or xamarin the problem
there is that you don't have fast
iterations so if you want to use new
features of the latest SDK you have to
wait till that framework supports that
that new SDK we also discussed last year
what is actually the common denominator
and there is actually one C++ is the
common denominator on the three major
platforms so all three platforms they
support native C++ the benefits are
there are quite a few benefits of this
so you have the full native experience
you have full access to the device as
long as the SDK supports it but you
don't have if you want to use a new SDK
you can use it immediately but code
reuse is also much better you can reuse
your own C++ code or you can reuse
third-party C++ code so you can just
take the boost C++ library plug it in
and start using it or you can use the
Unreal Engine or the frostbite EA engine
and so on performance since it's running
since it's C++ it's running directly on
the hardware so it is performant that
also means that your battery life is
better because to get the job done it's
faster to get the job done so you're
using less battery and with the security
I mean that if you have a compiled C++
code it's much harder to 2d obfuscate
your your code so that's that's one of
the reasons why around 75 percent last
year I didn't do the test again 75
percent of the top 100 Android
applications they are using C++ in one
way or another so might be they are
completely written in C char in C++ or
they are using some native C++ library
I also give a short overview of how you
can do how your cross-platform mobile
app architecture might look like so you
see here that you have a big shared C++
back-end in that on top of it you have a
teen UI layer with this platform
specific for Windows you will use Zama
for your UI and code behind can be in
c-sharp or in C++ CX and if you're using
c-sharp you will use be invoke to
connect it with the shared C++ back-end
and if you use C++ CX you can just use
C++ wrappers for the Java you're using
XML for Android sorry you're using XML
and Java for your UI and you're
connected to it C++ using for example
G&amp;amp;I wrappers and for iOS you can use
cocoa touch and you use Objective C
wrappers so this is the architecture
that is used by quite a lot of
applications like Bing Maps office Skype
Facebook moments and so on in the case
of office for example PowerPoint I think
used 95 or even more 98%
platform-independent shared C++ code
with just a very thin layer last year we
discussed the features of Visual Studio
2015 RTM so it's an easy installation
experience you just need to download one
installer and that installs all the
tools that you need otherwise you would
have to install different kind of
compilers you have to install visual C++
compiler clang GCC and so on you would
need to install different build systems
like ant Gradle and so on and if you use
Visual Studio it just installs
everything for you that also means you
only need to learn one C++ IDE for all
your cross-platform development
beat Windows Android iOS and here I also
mention Linux visual C++ makes it very
easy to write shared C++ code and reuse
it in your different projects and I will
show you how that works in one of the
demos yeah the state of the art code
editing features that you expect like
refactoring and intelligence and so on
the board of Visual C++ is rather
powerful and you can use it to debug on
your real Android devices and on your on
your real iOS devices there is emulators
that are shipped with visual c++ Android
emulators that is and they are very fast
they run on top of hyper-v there are no
iOS emulators because Apple does not
allow you to does not allow it and then
there are a bunch of templates that you
can use to start your cross-platform
mobile app and I will show a few of them
later on so what's new that was the
overview of last year's presentation so
let's get to the new content let's first
start about let's talk a little bit
about Android what's new for Android
experience for story support for the
latest Android NDK
it's our 11 C and visual studio now
support 64-bit Android NDK s-- and if
you want to upgrade your NDK it's now
much easier so if you have existing
Android applications in Visual Studio
you can retarget them to use the latest
NDK next 2015 update 3 that's the Gradle
build system Gradle is actually the
default Android build system
and it allows you to build Android
artifacts like a a ours and apks ARS our
Android libraries and EP apks are the
actual Android application packages
Gretl makes it also very easy to reuse
existing Android libraries and I will
show that with the Facebook Android SDK
next there is this thing called Java
language services for Android this is
not this doesn't come out of the box but
you can download it from Visual Studio
Gallery I will also show you this later
but basically what it does is it adds a
lot of support for Java Java files so it
adds colorization semantics highlighting
support for squiggles autocomplete and
so on so I'll I will show that later on
there is full support for debugging Java
now in Visual C++ 2015 update 3 but one
caveat here is that you have to put your
switch your debugger to Java only so you
have to make a choice you can either
debug your native code or your java code
but at the moment you cannot do any mix
debugging I will also demo this later if
you download that package from Visual
Studio Gallery what you also get is an
eclipse Android project importer so once
that is installed you can just do file
new import Android project from eclipse
you select your Eclipse project and then
you you mark which of the projects from
eclipse that you want to import into
Visual C++ so those are basically most
of slides so let's get into some of the
demos
okay
so if you go to file new project then
you will see that there is a bunch of
cross-platform templates available once
they appear there we go so you go to
visual C++ and then there is a bunch of
cross-platform templates for this first
demo I will show the Gradle build system
so if you go to Android you see there
are two Gradle templates one to make an
basic Android application using Gradle
and the other one to make an Android
library so let's start with the basic
application we give it a name now you
see it's a very tiny template so there
is not much content here but here you
see this is a Java file and you see that
you have the syntax colouring like you
would expect you have the squiggles if
you make a mistake you will have a nice
red red squiggle you have support for
intelligence like here you get all the
methods that I can apply to my textview
so what this application does it
basically just creates a simple textview
put some text in it and then show it
here you see your different platforms
that are supported so you have RM 32-bit
and 64-bit and then you have the x86 and
x64 so for this demo I will use x64 and
then here you see that those are the
emulators that I talked about so it
fills in it shows you all it shows you
all the emulators that are installed on
your machine
and to manage that you go to tools and
then Visual Studio emulator for Android
and here basically you get a list of all
the possible emulators that are
available for example if you want to
have an attempt point one inch
marshmallow tablet you click just this
download and install profile button and
what it done basically does it will
create you a hyper-v virtual machine
here are two of them I have a KitKat
Android and a marshmallow Android and so
the list here shows shows you all the
hyper-v virtual machines that have been
installed so for the example let's take
the Kit Kats emulator so if I build this
project you see here that that Gradle is
building everything since this is not
doing too much it shouldn't take too
long so in the meantime when it's
finished building I will show you the
debugging experience so as I mentioned
you have to switch here to Java only
otherwise your Java breakpoints you will
not will not be hit so let's put it to
Java only let's put a breakpoint in my
java code so here you see compilation
succeeded so now if I run this in my
emulator this is the emulator which I
already started before even if it hasn't
been started yet Visual Studio will
automatically start your emulator but
then it takes a little bit longer so I
started before already so now you see
that my breakpoint is hit you have the
low-cut window here yeah anyone that has
done any Android development will will
know what this low-cut is it's basically
your
yeah your debug messages and you can see
that you have full support for
inspecting your locals the different
threats and so on so if you have the
full visual studio debugger experience D
by in your virtual Android application
it also works with real devices so I
will show that later on so if I continue
here then you should see that we have a
nice hello world application that was
built using the Gradle build system so I
mentioned that with Gradle it's easy to
use other third-party Android libraries
so let's demonstrate this basically you
have here your Gradle configuration file
which shows which configures things like
the minimum as they get version that you
target and so on the platform that your
code supports and here you have
dependencies and for example if you
would like to use the Facebook SDK then
basically you have to add one line not
going to type it you're just going to
copy it paste it so by adding this
single line you say that you're
interested in the Facebook Android SDK
version four point seven or later and
now when you build this for the first
time the Gradle build system will
automatically download this Facebook
Android SDK and include it into your
project
so since I already did this it's not
going to download anything but it should
compile II no just compile
yeah it does want to download something
and I don't have internet here so trust
me if you have an internet connection
this will download the latest Facebook
Android SDK and after that you can
simply do something like import if it
has downloaded it then you will see that
it will populate this list with with the
Facebook things and then you can start
using it okay
that's for Gradle so yeah what did I
show I show you that you can edit Java
code and of course C++ code it's visual
C++ that you can debug your java code
that you're using the Gradle build
system and that it's easy to incorporate
third-party libraries if you have an
internet connection and thanks to the
template it's rather easy to get started
so it's just a couple of clicks and
you're on your way there is a very
interesting resource on the visual C++
block if you're interested in in getting
to start Gretl so here is the link
next let's take a look at what's new for
iOS development so update three makes it
much easier to work both in Xcode and in
visual C++ so there are basically a
couple of features to support this kind
of workflow the first one is that you
can there is a wizard to import existing
Xcode projects into Visual C++ I will
demonstrate that and then on the other
end there is also in Visual C++ you can
open an existing iOS project back into
Xcode to make certain changes for
example if you want to make UI changes
you will have to do that in Xcode there
is no support in Visual Studio yet for
that similarly if you want to modify
your storyboard you have to do it in
Xcode and if you want to sign your
application for publishing it to the
store again you have to do it in Xcode
and the open in Xcode makes this kind of
workflow is very easy there is a update
3 adds a much-improved edit built and
debug cycle and it makes it much easier
for discovering devices if you
disconnect and connect devices to your
Mac it's much easier to discover those
devices in Visual Studio so just like us
was the case last year
you still need a Mac for it for
developing any iOS applications
so Apple legally does not allow anyone
to cross compile for iOS devices in
principle there's it's not that hard
it's it's possible but legally it's not
allowed so that's why Visual Studio
always has to connect to a Mac to do the
compilation I will show that later now
just make sure I don't forget anything
more so let's
demonstrate import from Xcode I have
here an Xcode project where you have
your project pbx brush file that's your
Xcode project file and it's this one
that you can import in Visual C++ so
let's do that you go to new import
import from Xcode then you'll get this
nice little wizard you you browse to
your Xcode project file
this one and I'm basically most of the
time you can just click Next Next Next
Next finished import but let's just take
a look what all the different windows
show you so here you see that it
discovered three projects that it's
going to import and you see which files
that it's going to import and then you
there is also one native library inside
my Xcode project and you see I have here
my C file and my my header file it's
also going to import them if you are
using frameworks you can add some search
part here for that some more settings
for frameworks and none basically you
just do import that should make a visual
studio project there we go so let's take
a look at what the wizard has created
for us so here is a native flip dot
shared project if I look under under
this then you see my my add my my C code
and my other file so this is in a shared
project so basically that's not compiled
on its own but that's something that you
reference from another project and in
this case there is a native flip iOS
library if you go to properties you see
that this will generate a static library
there is no direct there is no code
directly into this project the only
thing it does it references my native
little shared project and if I compile
this I have a static library containing
my
my at my function then next I have here
a sample native project this is my
actual iOS application this generates my
application and you see this one
references references my static iOS
library then you have here your
objective-c code and if we take a look
at my view controller what I'm doing
here is I'm including my header file and
then basically I can straight away I can
use my my coat and this complicated ways
to show a message box here I'm not a big
fan of objective-c but this is the way
how you convert an integer to a string
and then I'm showing this in a message
box so as I mentioned you need a Mac to
compile this and to set up the
connection between your visual C++ and
your Mac you have to go to tools option
and then under cross-platform there is
an iOS pairing option here you have to
specify the IP address or hostname of
your Mac then you just click the power
button and if this is green that means
that you have a successful connection to
your Mac so I have here a VNC connection
to my to my Mac OS and on this machine
you need to run something called VC
remote later on I will show you a blog
post that explains you how to set up all
of this so you just have to run a couple
of commands on your Mac and it installs
VC remote and that the VC remote is
responsible for the communication
between the Mac and Visual C++ so if you
if I do the
barring again here then you will see
there something will appear in the VC
remote window there we go so let's
switch to 64-bit let's compile this then
you will see that basically my visual
studio project is now zipped it's sent
to my Mac which extracts it it's
converted to an Xcode project and built
on the Mac all progress reporting
messages and so on errors and warnings
and so on are marshaled from the from
Xcode back to visual studio so you I'm
just showing you this window now that
you see that it's doing something but
basically if it's running on a server or
you don't have any connection that works
fine you see everything here in your
output window and we see it succeeded so
that's good then here you have a bunch
of emulators that those this is a list
of all the emulators that are installed
on my Mac so let's take the iPhone 6 and
then if I take a look at my Mac it
should start an iPhone 6 emulator there
it goes takes a little while to start so
this is my my application and now if you
remember I have a button when I click it
it will call my at me
shared function and it will display it
in a message box so let's hope this
works and there we go it shows you the
sum of 20 plus 30
ok let's quit the simulator so the next
thing
I want to show is I would like to modify
the UI a little bit so as you see now I
had just at one button when I click it
displaying a message box I would also
like to see the result of my ad Michael
in the label underneath my button so
let's do that I said I cannot modify the
UI on individual C++ so I have to use
the open in Xcode feature to do that I
simply click on my iOS application and
there is a menu called remote machine
and the first item is open in Xcode so
what this does it packages up your
project sends it to the Mac and opens it
in Xcode it shows you a warning that
once you're finished on the Mac side
then you have to synchronize the changes
back to a Visual Studio you also see it
here it's it's mark this project is
marked as being opened in Xcode so let's
switch to the Mac you see here this is
my Xcode that has been opened and here
you have the project so for example we
can take a look at this large green dot
xib this is my splash screen I can
modify it I can modify this however I
want but for this demo let's look at my
storyboard so this is my main UI let's
add a label here so you go to the
navigators here no utilities sorry
object library let's search for a label
and we can just drag this label here now
I have a label now we need somewhere to
connect this label up normally you would
go to view assistant editor and then you
go to your header file your view
controller header file and basically now
it's rather easy you just click control
and you drag your label in between this
interface and at end however a
currently VNC does not allow me to
control and drag something so I cannot
demonstrate this so let's do it done
with code directly in visual C++ so
basically I'm finished here with Xcode
so I just close this project I switch
back to visual studio asset you need to
synchronize everything back so you
right-click remote machine pull from
remote it has downloaded everything back
from the Mac and it says that something
has changed so it's it's asking me to
reload so let's reload everything there
we go then what we have to do is we go
to our storyboard the storyboard is
basically just an XML file so I'm going
to open it with XML text editor
so what think something went wrong let's
try this again quickly
for some reason it didn't save my my
label okay
do this that's at my level let's save it
there we go now import the changes back
into Visual Studio okay here we have my
label so since the control dragging is
not working in VNC I'm just going to add
the connection myself but normally you
will not have to do this that's let's
make sure the ID is correct there we go
that's one thing and the other thing is
in your view controller header file you
have to add a line here to make the link
again this line and the XML changes are
normally done automatically in Xcode so
now that I have this now I can use my
label and I can put some text in it
there we go if I compile this hopefully
it compiles without any errors
saw some red stuff but maybe that's just
highlighted
maybe iPhone error here I pasted on the
wrong place it has to be here yeah yep
there we go
zero field so let's see if it works
let's run it on on my iPhone 6 ignore
that error so normally might
okay
okay so this one's not seems not to be
working I have to say something about
iOS integration it's not very stable yet
even though it's being shipped it is not
so stable at the moment so they are
aware of this and they are working on it
okay
so that's it for the iOS demo okay so
next one what I showed you is how you
can import an existing Xcode project
individual C++ how you can open a Visual
C++ iOS project in Xcode make URI write
a and just import everything back into
Visual Studio there are two resources
here that are you have great help if you
want to start to use this iOS workflow
so next game engines Microsoft added
jumpstart project for a game engine
called cocos2d X this makes it easy to
get started with this with this game
engine and Visual C++ at the moment it's
only for Android not yet for iOS so
let's demonstrate this the first thing
you have to do is yes this is the page
where you can download the Java language
services for Android that I mentioned
before so for the cocos2d X you just go
to their website and you download the
their SDK for the Visual Studio
jumpstart project you have to download
to 3.2 versions so at the bottom here
you have looking for an older version
and then you download this one the
version 3.2 3.12 sorry once you have
that you unzip it wherever you want I've
done that here
and first you have to make sure that you
have Python installed and the next thing
you do is you open a command prompt here
and you have to run this little setup
script it will ask you a bunch of
questions but you can all just use the
default you just enter a few times enter
and that's it and then if this is the
first time you did this you have to
close this this console application and
start it again then when you want to
start a new project you basically asked
koco's to create a new game project you
say that you want you want to use C++
and you will say where you want to store
your project in this case I'm just
storing it in projects I already did
this it takes a little bit so I'm not
going to do that here but that's the
syntax out how to get how you get
started with this and once you run this
Koko's executable then if you go to
projects you have a my new game and then
you have your jumpstart project there is
support for all kinds of different
projects but as you see there is no
Visual Studio there yet so that's the
Microsoft jumpstart project that I
mentioned basically you download this
file I'll put the link in my slides you
download this from Microsoft and you
just put it right next to the other
projects here and you just extract it
and then you will see there is a new
project appearing for Visual Studio and
this project there is a solution file
which you can open
there we go so I'm going to start
compiling it immediately because it
takes a little bit if I get control okay
doesn't look good let's try it again so
I'm going to build an AR M version and
not an x86 as I did before for my
androids plate work this time so I'm
going to build ir m let's just start the
build process why am i building an AR m
because my emulators are x86 although
they are fast they're running on hyper-v
they are very fast emulators they do not
support the full OpenGL advanced
features and this game engine is using
some advanced OpenGL features so if you
try to run this on your emulator you
will just get a black screen there are
some other commercial emulators
available
maybe genymotion that might work but I
didn't try that one so for this demo I
will just use it will be hard to see but
some people will see it I'm having a
real device here so let's take a while
it's compiling let's take a look at what
the solution looks like I have here a
Coco's to do 2d project which is
basically a Java project and this is my
actual Android application so so it's an
Android activity application Java
and there is one reference and just do a
cocos2d cpp library and this is native
android c++ dynamic library you also see
that here in the java application you
have some assets like phones and PNG
files and these I can use from my from
my C++ code so if I take a look here so
this project is entirely C++ and this
hello world scene file this one is
basically setting up my single for my
game and you see I'm using here assets
that are defined in my Android assets
folder so we see that everything
compiled fine so now I should be able to
run this on my device and if everything
worked great then should start showing
something soon
almost there I have three big dots so
there we go
it's very small but there is a small
cocos2d X logo probably don't see it
from there a bit and it's running a
visual studio so I could put breakpoints
here and then I'm really debugging my
real device here so if you are using is
ignore this error if you're using this
jumpstart project that I mentioned here
this is the file that you can download
from from a blog post that I will
mention in my slides one thing to take
care of is that basically the only
configuration that is working out of the
books is debug erm the other
configurations like Deever x86 or
release erm
their project properties are not
completely correct so it will not build
out of the book so you might have to
tweak those project properties a little
bit by adding some extra include folders
and some other settings so if you want
to start playing with this just use
debug Arum so that's it for the game
engine demo
so I basically mentioned everything
what's on this slide you saw this was
also a combination about Java code the
main application is written in Java and
then you have the real code that is
setting up your game and so on it's
written in pure C++ and in this case the
project was using the add the build
system not the gradual build system so
you you have a lot of flexibility here
this is the VC plus plus blog post that
I mentioned if you go to this blog post
there you will find the link to the
jumpstart project okay so here is a
small step by step guide what you have
to do you have to download that SDK make
sure python is installed run that setup
script create your new game copy that
Android targeting real studio project
next to the other project unzip it open
it and build it at the moment it's only
available for version 3 point 12 of
Coco's but yeah that might change in the
future
next let's see a little bit how you do
cross-platform mobile UI so if you're
making games your game is probably full
screen and you probably have custom UI
so then you can just use pure OpenGL or
you can use this cocos2d
x engine or the Unreal Engine or any
engine you want and then it's rather
easy to have done it's easy to have the
same UI on different platforms for apps
it's a little bit more complicated so if
you want a custom UI for for your app
then it can use the same mechanisms you
use for games or you can use something
like summer in which yeah then you do
your UI layer in c-sharp and then you
have support for all the platforms
available or you can have a C++ back-end
with a very thin platform specific UI
layer so those are
technology as I mentioned before on one
of the slides so let's take a look how
we go about making this didn't platform
specific UI layer in visual C++
what I did for this demo I started to it
this project that you can download from
from Amazon code just search for hello G
and I Android application sample this
one shows you how to use C++ from native
java android application i started from
this one and then added support for iOS
and for universal Windows programs so
let's take a look how it is done so here
we go this is a shirt c++ step that i
want to share with all my different
platforms so in this case i just have a
simple function that returns me some c++
string and here is the implementation it
just returns me on a utf-8 encoded
string so it's this is really pure
native C++ next step I want to use this
in an Android application so I have to
use this shared code inside a static
library and Android static library you
see there is a reference to my shared
stuff and then here I have a gni wrapper
that basically simply calls my C++
function and then converse my c++ dead
string to a Java string that's all what
this is doing and then if I take a look
at my java application in my java code i
can simply call my string from gni and
that one will call my C++ function
marshall's the state string to a java
string and then I can do whatever I want
with it in my java code
so that's for the Android part next we
have I added support for a universal
Windows application I used of course and
a native C++ universal Windows
application so using zama for DIY and
it's using c++ the extra code behind and
if i take a look at my main page is amol
dot cpp what i can do is i can just
include my header and call my my shared
function and use it this is a function
to convert my stood string into a
platform string so it's very easy for
the universal Windows project and then
for for the iOS it's also rather easy if
I take a look at my view controller dot
M file so this is objective c plus plus
here I'm calling my again I just include
my header and I can directly call my C++
function which returns me a straight
string and then with this thing I can
convert this into an objective-c string
so let's take a look if all this works
so let's start with an Android
application let's build this one there
we go and let's set it as the default of
course and now let's run it on my Kit
Kat emulator so hopefully I see
something here there we go
of my breakpoint let's disable this so I
have a native UI here just a label the
content of that label is coming from
native C++ and I have some text editor
and I added some button but so the UI is
done completely in XML and Java next
let's take a look at the universal
Windows project let's put this as the
startup project and let's build it it's
already built before so that's why it's
so quick for Windows Phone there are
also a bunch of emulators available so I
have one running here so I can just
deploy it to this emulator and run it so
this application uses sam'l for the UI
and C++ the X for the code-behind
and you see it looks almost the same but
it's it's it's specific for winner so
the buttons look like all the buttons on
Windows Phone look and my string again
comes from my shared C++ back-end code
since this is a universal Windows
application I can also run it on my
desktop there we go so now I have an
Android version running a Windows Phone
version running and a Windows desktop
version running and then the last one is
the iOS version let's build this build
before as well and let's deploy it to my
to my iOS let's hope it works this time
there we go
it's launching my
take some time there we go so now
basically we have shared C++ code that
is running on Android with a native
Android UI we're running on Windows
Phone
we are running on the Windows desktop
and we are running on an iPhone so I
mentioned everything here you have an
Android specific UI and iOS specific UI
and I windows universal app specific UI
and I think that's it
I have some resources you can go to the
visual C++ cross-platform mobile
documentation the link is there there is
a lot of interesting content on the
visual C++ blog you can always contact
me you can also contact ANCA - Donna is
the program manager for the close
cross-platform mobile development story
so that's it there are any questions
like five minutes for questions so the
question is if there is if there is any
framework coming for a cross-platform UI
just develop it once well that's you can
use the xamarin for that as I think it
was here yep so you can use the summer
and UI layer then you have to use C
sharp so it's not in C++ but then you
make your UI once you write it in
xamarin in c-sharp and then it runs on
all the available platforms
you can still combine this the summer in
your eyelid you can still combine it
with native C++ good yep so the question
is about can we use QT to manage the
cross-platform UI most likely but so my
presentation is only about what visual
C++ provides out of the box so I don't
have experience with the Qt workflow yep
and this example I did manually so the
question is if there is a tool to make
the G&amp;amp;I bindings automatically in this
case I did it manually but I think there
is remember the name sorry Jeannie
okay okay so there is a tool that makes
it easy really yes
sure also the question is if you can use
Visual Studio to debug either an remote
iPhone right or a remote device yes
that's definitely possible so I always
use control f5 now to run my my demos
but if you just hit f5 it will set up a
deeper connection and you can put
breakpoints and so on you can put
breakpoints you know Objective C you can
yeah I can see you I can get it to work
where is my few controller let's put a
breakpoint here that's right but as my
mentioned iOS integration is not
entirely stable yet so that's why I
always used a control f5 for my demos
but it should work so let's let's see
it's starting up here so it always start
even though there is already an iPhone
emulator running it starts a second one
wait didn't break no it's not working
but supposed to work yep okay
so the question is what exactly happens
when what if you can open up a visual
studio project directly in Android or
Xcode
no it's it is so if you do an open in
Xcode it really generates you an Xcode
project and so there is no support in
Xcode to open visual studio project
Visual Studio will convert it to an
Xcode project and then you can open it
in Xcode or save it or whatever you want
yeah that um I'm not sure so there is
support to to import to open Android
projects you can just go file open
Android project but I'm not sure if in
the other way it also works I'm not sure
about that definitely definitely for
Xcode because you always have to convert
it back to Xcode because there you have
to do the compilation it's for Android
I'm not sure I think you can do pretty
much everything you want question is why
would you want to edit your native code
on a Mac if so no seems not know
so it seems that my share C++ code is
not being transferred no keep using
Visual Studio to edit that so basically
just use it to modify your storyboards
your UI signing it when you want to
publish it to the store and so on so a
question is if you look at those logos
here who of them are actually using this
Visual C++ cross-platform mobile app
workflow that I don't know yeah well if
you want to target the other platforms
then maybe it makes it easier if you if
you start using this workflow yep
for sorry so the question is if there's
any plan to support web applications I'm
not sure
yeah can use JavaScript no that's true
okay think time is up thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>