<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CppCon 2015: Fabian Renn-Giles &quot;Superscopes: Local, global... is there any more?&quot; | Coder Coacher - Coaching Coders</title><meta content="CppCon 2015: Fabian Renn-Giles &quot;Superscopes: Local, global... is there any more?&quot; - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CppCon/">CppCon</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CppCon 2015: Fabian Renn-Giles &quot;Superscopes: Local, global... is there any more?&quot;</b></h2><h5 class="post__date">2015-10-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/B68_bgXYX94" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello I'm Fabian from juice and i'll
talk to you about this crazy idea i had
it's called super scopes I can't see my
pointer okay just work on that screen
yeah crazy idea had about super scopes
and it's uh yeah it's it's pretty out
there i'm not sure if it really makes
sense but hey i'll give it a go so we
all know varietal scoping in c++ we all
love it let me just talk you through it
again so at the bottom level we have
like local variables that the lifetime
is connected to the lifetime of your
code block the visibility is only inside
the code block at the next level maybe
you could say we have member variables
the lifetime is somehow connected to the
object so that means when the class gets
instantiated your member of robots get
instantiated and when the class gets
destructed all you remember violets get
destructed the visibility is all the
methods and then the constructor in the
destructor then you have something in
C++ 14 threadlocal then you have global
variables which is connected to the
lifetime of the application but can we
somehow even go higher yeah can we is
there a scope level that even higher
than global scope so that was sort of my
idea but let's track back for a moment
like how did I have this idea well I
have this software bundle that I wrote a
few years ago and that installed three
applications and it was a demo so I
always annoyed the user with this nice
little demo dialogue and would tell the
user how many hours and minutes and
seconds of audio processing time they
had left before they had to pay a really
high license fee of course and that all
I needed to do is sort of store ave
arrival called number of audio samples
process and with just an integer okay so
I have a nice little database file
somewhere that has an integer in there
then the Installer of course has
initialize it to zero yeah okay somehow
all the applications have to talk to
that because you know they all have to
increment that little counter and if the
check it's done okay okay well that
doesn't really work because we need a
demon of course because all these
application and then we need I could see
calls and oh my god it's just such a
mess I mean we just we just want to
increment one single variable like
hard can it be so I wrote this class a
long time ago called installation local
it's a template class and you can put
any variable inside there and it's
really like you can think of it as like
a new higher level sculpt so what this
does is if you build an application with
this installation local it will actually
modify your installer so that means that
when the install installed your
application it instantiates that
variable there's some crazy
serialization stuff and all the
applications it hides away all that I pc
can talk to that variable and when you d
install the variable goes out of scope
it actually caused the destruction on
that varietal so let's look at some code
so before let's say insulation local you
maybe your application will look like
this this is like a typical QT
application or a juice application where
you would have an application class and
you would typically then have the
application instance as a global
variable you see that last line there at
the bottom now for my little software
bundle there I have two applications you
see on the left side there just 22
application classes I actually had to be
but yeah and then in the same file you
maybe have this software bundle class
all of a sudden and the software bundle
class look at the very very last slide
it's not a global variable it's an
installation local variable that means
when you install it the soft obama class
gets instantiated when you uninstall
that gets destructed and every time you
use a double click some of those
applications that little create
application with name is called and the
nice thing is if you look at the left
side at the process sample i'm sorry i
don't have a laser pointer but at the
process sample how it increments the num
samples process that just points into
the software bundle class yeah so
everybody can talk to that varietal and
just increment it use it like a normal
or variable okay so can we do other
crazy stuff like that was just one idea
of super scope I mean I haven't
implemented this but this is just like
let's let's get really crazy so how
about a login local like how about when
the user logs in some robots gets
instantiated everybody all the
applications can use it running under
that user i'm going to use
logs out it gets distracted might be
useful maybe machine local with us gets
installed some things get instantiated
and destructed and then probably a
really really useful one but also really
really hard to implement but probably
the most useful one might be a cloud
local scope this would get rid of all of
this web back-end talk you would have a
scope that comes into scope when your
company gets founded when you turn on
that web app and you never want to call
the destructor because that means your
company's bust but all your applications
of your company can talk to these
variables so that's its I'm not
presenting an implementation yeah I'm
presenting an idea maybe a new way of
thinking yeah you have any questions or
want more details of that implementation
ask now or send me an email or talk to
me later thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>