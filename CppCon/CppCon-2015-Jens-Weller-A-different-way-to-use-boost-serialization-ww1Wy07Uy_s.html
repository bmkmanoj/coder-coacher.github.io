<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CppCon 2015: Jens Weller &quot;A different way to use boost serialization&quot; | Coder Coacher - Coaching Coders</title><meta content="CppCon 2015: Jens Weller &quot;A different way to use boost serialization&quot; - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CppCon/">CppCon</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CppCon 2015: Jens Weller &quot;A different way to use boost serialization&quot;</b></h2><h5 class="post__date">2015-10-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ww1Wy07Uy_s" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so this is like a short application
overview I have a tree model and that
tree model is a part of my cute layer
and um inside this tree model as a tree
and the tree notes are actually boost
variants and this means that I have
inside this boost variant kind of like a
type list of concrete types so and i
want to see realize these concrete types
that this is my data model and when i do
that then the following head for saie
happens that each change to those
variant types or to those data types
which are like you know to be serialized
any change actually will force me to
recompile my application which kind of
sucks as I also use things like boost
signals to which links like forever so I
want to avoid that that I have to
recompile the the UI code when I
actually write a civilization code and
so as I said it's booster ization is
something I would like to try and so
there to offer sure ways it's documented
the one way is an intrusive way where
you make boost access the seer ization
access class your front and then you
have a template you have a normal method
inside your class and then this X s the
means to serialize things but that's
intrusive so I have to put that in the
header and it means each time I want to
add or change something in this unit
code of my class I I basically get a
full recompile a surprise for it so the
non intrusive way is also that you have
like utilized as utilization a template
function and then you just have to make
your members public and so that's also
one thing which I don't like us public
members that's not an option for me so I
was thinking about what maybe maybe I
could find a way just to serve as my
members so I thought well
if i call this all members i want to
sear last tie i get a 2 / which is
actually you know containing all my
members as references and if the FX
posted somehow through a method then i
have something which is better than
public members it's something similar
and yeah if if i do that i shouldn't
forget the the reference and the actual
in the return type and then I only need
something to serialize the trooper which
is actually pretty easy with boost
fusion and boost fusion for each and so
I just need a additional custom class to
steal as each to provide on and yeah I i
quickly learned that writing this tuple
access method by hand or stupid so I
made a little magic this boost
preprocessor which then is simply in
each class kind of like this defined and
of course you know then the extra
civilization code I have to define the
interface for sterilizing things which
is C just calling boost for each this
fusion helper and the archives and the
fusion hyper basically only just glue
store archive and the type together and
I am fully serialized now on this works
and works actually really good but arm
it has adventures at all my civilization
code is in one place the classes don't
know anything about civilization and
this interface also could be used for
other things the disadvantage it feels a
little bit dirty you know what the
and probably what and you know to play
the the performance of this probably is
not where we should be the sleepers
class so maybe we can fix it so let's
let's fix that and I I had some feedback
from reddit and the feedback was well
you also could make the freezer ization
function a friend and then you could
access the members there locally but
usually you you
fine your friend functions also with
your classes then again I would be
intrusive and would have to you know go
through the whole recumbent
recompilation and I would like to avoid
that and as it turns out this is
possible this is a booster ization coat
which is now again and kind of a lot of
macros I have a civilized industrialized
implementation which the serialize has
to be placed in the in the header in the
actual class and the civilized
implementation that can go in the CPP
file whereas the actual civilization
happens and then armed I'm suddenly
having a the situation that I can
sterilize my classes without having to
recompile everything and yeah i also
have a macro 4dr types because in
booster ization you need to cause
something for the rough types and that's
it five minutes yay</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>