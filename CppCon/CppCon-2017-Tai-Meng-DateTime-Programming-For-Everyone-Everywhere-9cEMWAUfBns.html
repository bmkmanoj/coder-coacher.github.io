<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CppCon 2017: Tai Meng “DateTime Programming For Everyone. Everywhere.” | Coder Coacher - Coaching Coders</title><meta content="CppCon 2017: Tai Meng “DateTime Programming For Everyone. Everywhere.” - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CppCon/">CppCon</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>CppCon 2017: Tai Meng “DateTime Programming For Everyone. Everywhere.”</b></h2><h5 class="post__date">2017-10-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9cEMWAUfBns" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">All right, hi everyone.
They say that our names often dictate
the projects we work on.
My name is Tai Meng, short
for, Datetime programming.
(audience laughs)
When we do datetime
programming we must decide on
the precision with which to
process our datetime values.
For some applications, second
precision is sufficient,
for others, milliseconds.
For our product we chose nanoseconds.
Now why is that?
We are in the business
of helping our users
move their data from point A to point B.
Point A often is a database.
SQL Server and Oracle
both support datetime
precision that's beyond microseconds.
Oracle supports nanoseconds.
We aligned with Oracle.
But who has data that precise?
I'll give two examples here:
High volume transactions which we've heard
a lot about at this conference
and scientific data.
Timezone conversions are
becoming a lot more commonplace
these days and here I
give two popular examples.
In the first one we see a convergent
between UTC offsets only.
This is popular because of iso 8601.
The second example goes
from UTC time to local time,
and the local keyword here
invokes the local IANA timezone
and all of it's daylights savings rules.
And if you were to look at
this slide and say to yourself,
gee this looks easy, I can't wait
to implement timezone support myself.
Well then I might say, go on YouTube
and search for the words timezone madness.
This really is a lovely
video by Tom Scott.
We were sure we wanted to
use somebody else's library.
We looked at a bunch of
them, strengths, weaknesses.
We had significant reservations
towards all of them until
I came to CPPCON last
year as Michael mentioned,
and met a gentleman named Howard Hinnant.
When I saw his date and TZ libraries
I knew that a winner had emerged.
I took his libraries back to my company,
into production in just a years
time we solved more than 10
years of user requests for
improved datetime manipulations.
And here are some of the reasons why
Howard's libraries were so great.
They've got nanosecond
support, IANA timezone support,
world class support, often
Howard would respond within
just hours, and most
importantly his libraries
had been proposed for the standard.
Here's how we used Howard's libraries.
We plugged in boost int128_t as
the template type for chrono duration.
And a couple of lines later we had
nanosecond precision and
IANA timezone support.
There was a little something missing
in Howard's libraries though.
If you are in to calendar
math, whether for dates
or datetimes, you might want
to rewind the YouTube video
back to the slide and understand
the invariant that's in the blue box.
It will help you disambiguate cases
involving the end of month.
And on top of Howard's libraries
we built support for five
common datetime types and so
if you're trending this way I
have captured all of the
type conversion rules
that we came up with on this slide.
Howard's libraries provide POSIX
compatible parse and format flags.
But what do you do when you
have a complex piece of datetime
string like on Saturday,
June 31st 2017 at 8:30pm.
It takes a lot of time
and pain to come up with
the right format string
and so our solution was
to introduce a live preview
to our users, so they can see
in real time whether their
attempt has succeeded or failed.
And I'm gonna skip over this slide
'cause it's about leap seconds.
(audience laughs)
And we've come to my impact slide.
Howard's libraries are a real time saver.
He authored chrono, so
if he cannot get a date
or timezone library into
the standard, who can?
Here's where you can
download his libraries
and start experiencing
world class support.
Thank you CPPCON, thank you
Howard and if you enjoyed this
talk come vote for my
poster on the same subject.
Thank you for your time.</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>