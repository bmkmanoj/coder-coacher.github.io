<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CppCon 2017: Walter E. Brown “Whitespace ≤ Comments ＜＜ Code” | Coder Coacher - Coaching Coders</title><meta content="CppCon 2017: Walter E. Brown “Whitespace ≤ Comments ＜＜ Code” - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/CppCon/">CppCon</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>CppCon 2017: Walter E. Brown “Whitespace ≤ Comments ＜＜ Code”</b></h2><h5 class="post__date">2017-10-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/NLebZ3XT92E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">My hope for this talk
is that this will be the
post doctoral equivalent
of the obligatory talk
that all beginning programmers
get on how to write comments.
Maybe this will be a talk on
how not to write comments,
you decide.
But over my, as I say
50 years of programming,
I've occasionally, often,
asked professional programmers,
&quot;How important are comments to you,
&quot;to your boss,
&quot;to your company,
&quot;to the industry?&quot;
And as you can perhaps tell from my title,
I have a huge spectrum of responses.
There is some consistency,
pretty much everybody
agrees that comments are much
less important than the code.
But where on the spectrum it
falls, you know, some people
think it's on par with
whitespace, some people think
it's a little more
important than whitespace.
So, I'd like to explore
this just a little bit
and perhaps tell a war story
or two or three along the way.
One of these topics that's
briefly mentioned in an
introductory course and rarely
or never again discussed
in any later class.
Somebody should really
bring it up with experienced
programmers.
Somebody said that to me but
wanted not to be attributed.
And I said, &quot;Well, seems
at worth of lightning talk
&quot;somewhere.&quot;
This seemed like a good place.
Here's a good classic, I
think we've pretty much
everywhere seen this, a
famously bad comment style.
There are worse ways to do it.
(audience laughing)
Don't laugh now, wait 'til
you see it in real life.
(audience laughing)
Rob Pike wrote that in
the, I think late 1980s,
if I remember correctly.
Of course, he was talking
about C, but you get the point,
I think it still stands.
What are the excuses that
we've heard or we have given
about comments?
I don't have time now to think about them.
I'll put them in later.
We don't have time for code reviews here,
like comments are only for code reviews.
We programmers are
always in a hurry, right?
No time for planning,
no time for thinking,
let's start coding now!
So imagine a builder who
says, &quot;I don't have time for
&quot;blueprints, we're just
gonna start nailing lumber
&quot;for your house.&quot;
The analogy is pretty close, I think.
This is important.
So how do we make things better?
There's an oath that
physicians take when they get
their M.D.'s.
First, do no harm, this
is a paraphrase of the
Hippocratic Oath, &quot;Primum non nocere.&quot;
So, I've discovered that
much of the skill in writing
good comments is in
knowing when we shouldn't
write them because a comment has no value,
and perhaps even negative
value, if it's wrong.
Why, because it's
misinformation and it really
affects our thinking about a piece of code
and if it's wrong, it's always wrong,
it just nags at us, it distracts us.
But bad comments survive over time
in a way that code just couldn't.
And it turns out that
even a correct comment,
and I'm sure you all know this,
even a correct comment can
be useless or distracting.
If it duplicates what the
code says, if it's outdated,
stale we say sometimes, and
even bad grammar can affect
our perception of the code
it's supposed to comment.
So, a comment that adds no value is waste.
So remove it or write it.
Pretty much my opinion,
those are your choices,
our choices.
This delay brought to you by Powerpoint.
So, does that really help?
Yes, it does, and much
more than seems obvious.
I love this quote, &quot;The code
is clear enough that I don't
&quot;need comments, but the
comments are so unclear I'm glad
&quot;the code is there to help explain them.&quot;
(audience laughing)
You're laughing because
it's happened to you, right?
You bet ya.
Our family has a favorite
author of fantasy,
the late David Eddings,
who wrote about his craft,
he says, &quot;Don't be afraid to
throw away stuff that you know
&quot;isn't good. Don't save junk
just because it took you
&quot;a long time to write
it. It's still junk.&quot;
And my response is, do the math.
If you throw away the crap,
pardon me, did I say that
out loud?
The junk, the average
quality has just gone up.
The low outliers are gone so the average
has gone up, instantly.
Okay, so then what?
Well, we would prefer that
every comment adds value
but first, say everything as
much as you can in the code.
And after that, if there's
something you still wanna say,
that's probably a reasonable
candidate at least
for a comment, for a useful comment.
But first, among other
things, try to name it rather
than explaining it.
Instead of explaining a poor
name, give it a better name,
one that's better
self-describing, for example.
Put in assertions instead of
commenting your assumptions,
that's code, right?
If you have a big function,
don't comment sections,
chop it up into little
functions with better names
and call them.
So here are some ideas.
Oh, by the way, did you
catch that last one,
rewrite bad code?
Somebody actually commented,
&quot;This is bad, I know.&quot;
That's not helpful, sorry.
But I also love what Kevlin
Henney has to say on the
subject, &quot;A common fallacy,&quot;
especially on the part of
managers in my opinion, in my experience,
&quot;is to assume that authors
of incomprehensible code,&quot;
and we all have colleagues
like that, right,
&quot;will somehow be able to
express themselves lucidly
&quot;and clearly in comments.&quot;
Can't write code but can write comments,
what a wonderful piece of feedback, right?
So, when does a comment add value?
Well, when it says
something that code cannot,
that's probably a very useful comment.
But please, let's avoid prayers.
(audience laughing)
Please god, let this be enough.
This is for real, these
are not made up examples.
And please also avoid apologies.
(audience laughing)
Let's please avoid laments.
Not made up, it's for real.
Artwork.
(audience laughing)
Poetry, especially Suessian.
Replaces with spaces the braces in cases
where braces in places cause stasis.
(audience laughing)
Comments that are useful
once every three quarters
of a century, Halley's comment.
(audience booing)
Didn't make it up,
didn't make it up.
Pop-culture references.
(audience laughing)
And then there's this one.
This is an old, old, old
one and I gave you a clue,
it's from the era of punch cards.
Imagine this on a punch
card, you pick it up,
rotate it, and put it back in the deck.
Suddenly you've turned
off or on debugging.
(audience laughing)
Hey, eslaf equals gubed,
didn't everybody know that?
I used that as an example
in a course I taught
30 or 40 years ago to freshman, basically.
I gave that example, I
gave that explanation
and almost instantaneously,
when the last word
was out of my mouth, a
student in the front row,
her hand just shot up,
I thought her should was
gonna dislocate, and she said,
&quot;Wait, wait, wait, wait.&quot;
I said, &quot;What? What's
the problem with that?&quot;
She says, &quot;But, if you
turn the card around,
&quot;the slashes will be backwards.&quot;
(audience laughing)
True story.
If you don't get it, you
haven't been programming
long enough, sorry.
So, the point of all this,
really, is that we are
the first, right?
We are the first beneficiaries
of our good comments,
we are the first victims
of our bad comments.
If the code and the comments disagree,
then both are probably wrong.
That's a fairly well known saying.
The most useful comment is
the one that isn't there,
that doesn't have to be written.
Don't put your name in the damn code.
We have repositories, we
have source code control
these days, like for the
last how many decades?
This isn't school, you're
not gonna be graded, per se.
And I like this, &quot;You should
only need comments when
&quot;you need to warn readers
about some kludge,
&quot;just as in a road there
are only arrows on parts
&quot;with unexpectedly sharp curves.&quot;
Think about driving
when there's a road sign
every five yards, or meters
if you drive in Europe.
So, here are some things,
you know, one of the benefits
of being retired is I get
to read stuff I've always
wanted to read.
So here are some sources
that I recommend to you.
The one article that
is in Spanish has since
been translated.
I don't have the link to it
but I'm sure you can find it.
And finally, there's
this, just savor this one.
(audience laughing)
Thank you all very much.
(audience applauding)</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>