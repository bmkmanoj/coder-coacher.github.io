<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Wordpress Related Posts | Coder Coacher - Coaching Coders</title><meta content="Wordpress Related Posts - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Wordpress Related Posts</b></h2><h5 class="post__date">2011-08-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pwdpmGiJmQM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to my
tutorial on how to display related posts
at the end of any of your posts what
this guy's gonna do down here the code
that I'm gonna present to you is to
display four or as many of these little
guys here on your screen at the end of
all of your posts this is sort of a
continuation of the previous news themed
tutorial but also kind of not because
you'll be able to use this code on any
type of website so what I'm gonna do is
in my single dot PHP file I'm gonna come
the whole way down here where it says n
Wow and if and I provide a link to the
previous news themed tutorial if you
want to check that out as well as to a
wordpress playlist that has all of my
tutorials on WordPress all in order and
what I'm gonna do is I'm actually gonna
borrow from the blog parts if we go over
to a blog page here see basically what
I'm doing here is I'm actually taking
the code that I used to create these
guys down here and I'm actually gonna
put it on a single post instead so
that's what's going on here so again go
over to PHP end while end if inside of
single dot PHP and we're gonna create a
div I'm also gonna use all of the same
styling that I used for the blog page
for this so you just copy that same
styling and I provide a link to all of
this code and create a variable and I
call it NTT current post so this is
getting information in regards to the
current post that is being displayed on
the screen and I'm gonna create a global
post variable and I'm gonna get the
category for the current page because we
are gonna use that to pull posts that
are in the same category and to get them
I have to call a function called get the
category and then I have to pass to it
the current ID for the post that is
being displayed and that's how you do
that then if the post that I'm currently
on has a category I want to start
storing those categories in an array so
first I have to ask if ntt post category
glory's has a value then another array
here and it's gonna store all the
category IDs if this post has more than
one and this has to always be an array
even if there's only one category then
I'm going to create a for each statement
cycle through all
these guys as NTT individual category
and what I'm gonna do is start storing
all these arrays TT individual and gory
that I'm asking for the actual ID for
the category here with that this right
here is gonna basically get us our
category IDs ID numbers anyway and I'm
gonna create arguments ready and inside
of this guy I'm gonna create some rules
CAD glory make sure you put 200 lines
here in these are all WordPress rules
equals that little bracket and TT and
ID's this is gonna be used to make sure
that the posts that I'm gonna be
displaying underneath of my main post
are in the same category and then post
to underlines not in I want to make sure
that I don't display the current post
underneath it here cuz that would make
any sense the important part here is
this has to always be an array even
though it's only going to be a single
post you could also put multiple posts
inside of there but either way I know it
doesn't make sense but this value must
always be in array and all this is is
the current ID for the current post that
is being displayed on the screen it has
to be set up this way then I'm also
gonna say don't display pages how I'm
gonna do that is type in what I got
right there alright post type has to be
a post and then on top of that I also
want to say that I only want to show
posts that are published because we
don't want to accidentally start
displaying posts that are not yet
published to people that would just be
terrible and then here this is something
that you could change to display more if
you want to post per page you could
change this to anything you want but it
probably should be an even number
I'm just gonna leave it as 4 and you
close off that array I'm gonna give
myself some room here I'm actually gonna
go after this todo that the duck
remember always to delete the whitespace
because WordPress hates whenever there's
white space where I have my PHP code
alright so scroll up then my quarry I
create a custom query here is equally at
me my query results that's why I created
those guys right there if my underscore
query return posts meaning that
something actually happened there are
posts in the same category as what is
being displayed on the screen then I'm
going to act
at the screen a div of class type more
posts h3 tag and I'm gonna type in
related posts on the screen and close
that h3 tag that's gonna tell the people
what exactly is on the screen and then
I'm going to start cycling through the
results from my query because it
wouldn't even be here if there were no
posts that went through sort of like
creating a little loop here my query
long post gonna kick back my results
here and I'm a creative class is equal
to Risa you saw the previous tutorial
this should look kind of familiar to you
because I used this exact code and we go
h3 class is equal to this is going to be
recent title and then H reference is
equal to PHP the permalink is going to
print out to the screen the actual link
to the article or the post whatever and
PHP again don't forget to put this quote
inside here ntt the title is equal to
post it's gonna grab the post title for
me it's gonna store it in that variable
and the reason I did that is I only want
to prune out a substring of it so that
if the title they enter is too long it's
not gonna break up all my formatting
because of that and I'm gonna set it to
20 of course you can come in here and
change this if you want to do anything
obviously there's no reason we saying oh
yeah you can do whatever you want
because obviously you can't and then I'm
gonna go image source is equal to then
I'm gonna grab echo the thumbnail catch
that image this is a function that I
created that is gonna grab and shoot out
thumbnails onto the screen and the
reason why I did that is because
something that I planned on using called
Tim Thumb ended up having all kinds of
bugs in it was actually discovered the
week then I started using it and I'm
gonna go width is equal to 150 pixels in
height is equal to 150 pixels class it's
equal to recent image and then close
that off that's gonna print out my
little thumbnail and a create paragraph
class and this is gonna contain an
excerpt recent sort of deviation of the
actual article sir and I'm going to do
the same sort of thing with that post -
post excerpt is how you retrieve the
actual excerpt let go
sub-string I'm going to shrink down the
size of this guy with some string 282
characters and then each reference is
equal to call PHP again a permalink like
I said before is going to return the URL
for the actual post and it is gonna be
of class tight don't forget to put the
closing palm inside of there this is
called click for more to learn more
inside of there and closed off that link
and closed off that paragraph then I
have to create a div it's gonna close
off the recent post div if you wanted to
be a really nice person you for people
that might read your code in the future
you might want to put something like
recent photos and say exactly the div
that is being closed off there so it's
AIDS and legibility I'm gonna close our
brackets and then echo out the screen
again close that room the last remaining
div close off all your additional
brackets I normally do it in a neater
way than this but NTT current and then
we want to set our post information back
to its original form so if there are any
other queries that they work and then we
want to close off our last div again and
of more dos if you'd like and if we file
save that and reload it and you can see
right there even though there is
literally no article here that
everything fits in here real nice and
neat remember all the code is underneath
the video leave any questions or
comments below otherwise till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>