<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Development for Beginners 16 | Coder Coacher - Coaching Coders</title><meta content="Android Development for Beginners 16 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Development for Beginners 16</b></h2><h5 class="post__date">2014-03-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Joz7cxYOBGE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
16 of my android development for
beginners tutorial today I'm gonna focus
in 100% on how to share databases
between different screens inside of App
Inventor and one of you guys sent me a
message and you said whenever I
described this - please keep it very
very simple so I'm going to make it even
simpler than what I covered in part 15
and I'm going to show you how we're
going to be able to create a list we're
gonna be able to update data in the list
and we're gonna be able to remove data
from the list and also we're going to
update a list picker along the way so
let's just go ahead and look at exactly
what we're gonna have at the end of this
tutorial
okay and as you can see right here here
is our application and there is going to
be a field where we're gonna be able to
enter in a new name and also there's
going to be buttons that are gonna allow
us to pull up all of our so I'll just
enter a friend's name and then I will
hit add friend and that's going to be
automatically entered into my list
picker and then I'm just going to put in
another name here just so that we have a
couple different things inside of here
and now that I have those in there you
can see I hit the list picker and it's
gonna show the two friends that I have
listed then I'm gonna go in here and
just check on one of my friends randomly
and then I'm going to make an update to
it and then I just click on update and
the database is automatically going to
be updated we can also see here I'll
return to the open screen and click on
friends and you can see that yes indeed
the list picker has also been updated
and I put in a couple little protections
so that if somebody tries to add a
friend and they don't actually put a
name in its gonna tell them to please
enter a name and a whole bunch of other
different things and then finally if I
would go in here and put somebody in
that wasn't a friend of course I'm gonna
be able to go in here and just click on
add a friend and then jump over to
friends and then go in and delete those
friends so hopefully I did a good job
here basically showing you how to update
remove and do all sorts of things with
databases between multiple different
screens and also keep everything simple
so the only thing I have left to do is
go and put the
locks together and make this app work
okay so now you saw exactly what we're
gonna have at the end of this tutorial
and this is the layout we have here and
it's extremely simple it's just a
horizontal arrangement I have a label I
have a text box for you to enter your
friend's name add friend and whenever
you click on the list picker it's going
to show a list of all of your friends
that you're then going to be able to
either update or remove and very
importantly we're gonna have a tiny
database that we're gonna drag over here
as well as a notifier and then we're
going to have multiple screens like we
had before this one's gonna be called
friend edit screen and there you can say
friend edit screen and you're also going
to be able to see over here another
horizontal arrangement a label a text
box and then three buttons one's for
update ones for unfriend and one is for
exit which is gonna send you back to the
other screen
so pretty much everything's gonna be
covered very first thing I'm gonna do is
I'm gonna go into screen one that's
where everything's gonna be opened and
of course if you want to come in here
and be able to use the database you're
just gonna go into storage and then tiny
DB this is it and just drag it over
there alright so let's jump over into
the block section and let's start
building the functionality of this guy
alright so here we are inside of the
block section and basically what I'm
gonna do is I'm gonna have a database in
both of those different screens however
most of the manipulation that goes on in
the block section here is going to be
done with a list that every single time
I make a change to that list it's going
to update the database and I'm also
gonna go out of my way here to try and
keep everything simple now the very
first thing I'm going to do is I'm gonna
create myself some new variables just
put this inside of here and the very
first one we're gonna create is
basically just going to store the value
for the number of items that I have
inside of my list so I'm just gonna go
into the math section and drag a 0 over
here alright great then what I need to
do is I am going to also of course store
all this information inside of a list
and that's what this is gonna be and I'm
gonna call this guy list of friends and
of course all of the blocks that you see
here are available in a link in the
description
let's just get rid of that then which go
over in the list section and create
ourselves an empty list grab this guy
right here and drop it right there now
let's walk our way through exactly what
I'm thinking here first thing I want to
do is whenever the screen is going to be
initialized what I want to do is I want
to go out to my database and I want to
pull in all of my friends into that list
so screen initialize drag this out of
here and drop it right there and of
course you can view this full screen now
the very first I'm going to do is I'm
going to get the items inside of my list
so just go items in list and I want to
go in here to set and drop that right
there and then I'm gonna make a call to
my database tiny DB and I'm gonna get
values and drag this out of here drop
that right there so there you can see
everything and then the name for the
data inside of my database is going to
be called friends list and there it is
and then I'm going to make sure that
there is some data inside of there so
I'm gonna go into control if then drop
that right there and then I'm gonna go
into my text area then I'm gonna go into
the logic section drag that there drop
it and I'm gonna say if the items in a
list so I'm gonna do it get is not equal
to nothing which means that it's empty
then I want to go and get the
information that's stored in the
database and put it inside of list of
friends so I'm gonna go list of friends
and I'm gonna say sat drop that right
there go over into my database again and
go get value and drag that right there
and then friends list is what I'm gonna
put I could have just duplicated that
but whatever duplicate drop it right
there and then I'm gonna call a function
called updates list picker which is
going to update the list picker but I'm
gonna create that right now so come over
into procedures and I'm going to create
a new procedure and drop it inside of
there and then for this procedure I'm
gonna call this update list picker and
that's exactly what it's gonna do and so
I don't forget I'm gonna go into
procedures and make a call to update
lets picker and put it right there
because we're only gonna do that if we
get information from our database okay
so what's the list
you're gonna do or update list picker
gonna do it's basically just gonna cycle
through the list of friends and put all
of them inside of the list picker so
that means I'm gonna have to create some
more variables here anytime I'm going to
be sorting through a list of different
things I'm going to need an index and
that's just going to start off at the
value of one and then increase each time
we go through our list and just come
over here and get ourselves a number
this might seem very very simple but I
mean it's everything you basically need
to know if you want to work with
databases between multiple different
screens inside of App Inventor okay so
we got that I'm gonna need my cells two
more variables created inside of here
I'm gonna have my temporary list picker
elements because what we're gonna be
doing is slowly generating all of the
different selection options inside of
the list picker and this is going to
hold each one of them temporarily I'm
gonna get rid of this drag it down here
throw that away come back up here and
I'm gonna give it a value of nothing to
start off and then we're going to have
the final part that is going to create
all the selections or store all the
selections for our list picker and
that's gonna be called lists picker
elements it's not gonna have anything
here in the beginning and what I'm going
to be doing here is I have here friends
list picker right there just to jump
ahead a little bit well whenever you
want to create a list picker you're
going to create it with this guy right
here elements from string so in essence
what we're gonna be doing an update list
picker is creating a long string that's
gonna have all the elements that we want
to put inside of our list picker now the
very first thing I want to do here is
make sure that I actually have things
inside of my list called list of friends
so anytime there's a condition that
means I need if then I'm down here
drop it right there and here I'm gonna
say that I want to check that list of
friends the length for that list which
is the sky list of friends right here is
gonna be greater than zero
so I'm gonna get this guy drag it down
here drop it right there temporarily
back up into math and I want this guy
right here because I want to check for
if it's greater than or whatever it's
just going to be greater than and I'm
also going to be checking the list so I
want to go in here
and be able to generate the length of my
list drop it right there and then this
is gonna be list of friends and that I
want to check that it's greater than
zero let's just drag this down there
drop it right there all right so now
that I know that I have some friends
that I can cycle through I need to cycle
through them so how are we gonna do that
well if any time we want to cycle
through things we are either gonna use
for each and we're gonna use while I'm
just gonna use wild just to keep it
simple drop that right there and then my
check is going to be that the index is
less than or equal to the length of my
list so again we're gonna be coming up
here math grab this guy drop it down
here I'm gonna get my index this guy
right here which is going to be
incrementing drop that right there and
then length of list this guy right here
as well just duplicate this and then
make sure that this guy right here says
we're gonna continue cycling as long as
the index is less than or equal than the
length of our list okay so what exactly
are we gonna do here well we are going
to cycle through the list of friends and
we are going to add them individually to
the temporary list picker element which
is this guy right here and then after we
get each one of them we are then slowly
as we go through going to add them to
the list picker element which is the
very final thing that's going to
congenital of the data for our list
picker so I'm gonna go and get this guy
and go set drop him right there and then
I'm gonna need a join because I not only
want each individual friend from my list
of friends but I also want to put a
comma inside of there you just come up
here to text and join I find this
satisfying for some reason I know you
guys can't hear the click whenever I'm
doing it but there's the click and I'm
sure if you're using this App Inventor
you hear the click all the time and then
what I want to do is just select the
very first item drag this out of here
grab this drag it there and drop it and
the list I'm gonna be working with is
list of friends so let's just get this
and then the index I'm going to be
working with is this index right here so
let's just get that and drop it right
there there we go
and then I want to go and put a calm
inside of there to separate all the
elements
Oh mother and drop it right there okay
so after I get that first list item I
then want to add it to the master list
this guy right here so we're gonna go
set drop it right there yeah I'm gonna
need another join just to save time I'm
gonna duplicate this and then of course
you can always go in here and just
select these guys and say delete that's
why do whatever you want and then I'm
gonna get my list picker element this
guy right here get it which is gonna
start off with nothing in it and then I
want to add to it my temporary so get
this and that's gonna generate each one
of those and then I want to increment my
index that's the final thing I'm gonna
do here go back up in math and we're
going to need to be adding one to index
and there's the one and yes you can also
just create numbers you don't have to
pull them out of the math section I just
do that I do weird things like that
sometimes to show you guys where all the
informations coming from and then after
I get all that set I want to set my list
picker so go find my list picker right
there there we go and set the list
picker with the elements from a string
well we just created that string let's
drop that right there
and then this guy right here is gonna be
the guy that we're going to use and
there you go that is how we're going to
update our list picker pretty good now
what we need to do is set up exactly
what is going to happen after they pick
an item from our list picker well
basically we're gonna go to the other
screen so we're gonna go over here to
friends list picker and then we're gonna
go and pull out after picking so after
they pick an item we're gonna do
something and basically what we're gonna
do here is we are also going to store
another value inside of the database
which is gonna be the item that was
picked and then we're gonna go to our
other screen and this is just the way I
chose to do it so we're gonna go to
store value grab this drop it right
there to show you multiple different
ways of getting values the name this tag
is gonna be friend picked drag that
right there and the value to store we're
gonna get from our list picker again and
go over here and we want to specifically
get the index for the item that was
selected and that's this guy right here
so let's drag it right there and there
we go now we're
have that and now what we need to do is
call for our other screen to open and
that is inside of control just come
inside of here and open another screen
with a screen name drop it right there
and the name of our other screen is
friend edit screen and drop that right
there and of course that is the same as
right there friend
edit screen say okay that's where that
comes from and now what we need to do is
figure out what are we going to do when
the other screen is closed and to figure
that out we go to screen and we
specifically look at other screen
clothes to make sure that we have our
database all updated after changes are
made over on the other screen so what
we're gonna do is change the value for
list of friends based off of the changes
that were made in the other screen so
just go over here and get list of
friends drag it down here right like
that and then we're gonna make a call to
our database to get the updated database
information so get value this guy right
here drop it right there and what do we
want we want friends list now I actually
like to come in here and just copy these
things just to make sure that I don't
make an error and let's just drag
friends list down here now something
that you would need to do here is since
we're going to be updating our list
picker well we went to 0 out our list
picker so we want to eliminate any items
that we have inside of it so we're gonna
go into listpicker elements and we are
going to say sats and we're just gonna
put nothing inside of there drag it drop
it right down there and then of course
just go and put this guy here duplicate
this and that's just gonna make sure
that we don't add list picker elements
on top of list picker elements and then
another thing to do is we also want to
make sure that our index is set back to
1 so this guy up here we want to set it
back to 1 so get set drag it and there
we go
and then just put a 1 inside of here
there's our 1 and then the final thing
we want to do is call for our update
list picker to be executed and there
go everything's gonna be up to date now
the final thing we were going to want to
do here is make the button that allows
us to add friends to work because that's
gonna occur on screen1 so we're gonna
say whenever the add friend button is
clicked on we want to do a series of
things just drag it and drop it right
there and let's move this up here so we
can mess with it but of course we want
to protect to make sure that they
actually enter a name inside of here so
we're gonna get an if/then because if
they accidentally click on the add
friend button that's gonna put an empty
space in there if we don't check so
let's go into math and I don't drop that
right there and we can do a whole bunch
of different things let's say that we
want to check the length of whatever's
in that screen to make sure it's greater
than 1 so let's take length in there but
then let's also trim out any white space
just to verify that they didn't put a
blank space inside of it and then of
course where we're gonna be pulling that
information from is the text box where
they're going to be able to enter a new
friend's name grab that and drop it
right there and then we just want to
verify that it is greater than 0 all
right so now that we're positive they
actually entered a friend's name then we
want to add that friend to our list of
friends so again we're gonna be using
lists and add items to list right there
drop it right there and the specific
list we're gonna be using is the list of
friends this guy ray up here and then
the item that we want to add is going to
be this guy right here let's just
duplicate that and there we go and
that's how easy it is to add that
however we want to now update our list
picker and just duplicate this and then
I also want to save this information to
our database and actually this is kind
of getting a little bit crowded right
here so I'm gonna create a new procedure
in the world world when I'm using App
Inventor I tend to have a lot more
procedures than I actually show here but
just wanted to keep everything nice and
tight but in this situation I'm going to
actually create a new procedure that's
going to save the information to a
database let's call it save list to db2
there we go and then this is just going
to be friends list and the value to
store is going to be the list of friends
so let's just duplicate that
drop it right there and then we'll call
that procedure save list a DB then on
top of that I think I'd also like the
text box here to go back to blank after
the friend's name is entered because
that sort of makes sense to me
so just put that inside of there I put a
quote and now that's gonna be zero it
out so it looks nicer and I think I also
want to put an else statement inside of
this so else if they did not enter a
friend's name but they did click on the
add friend button I'd like to put a
little notification go into the notifier
and let's just do a show alert because
it's not that big of a deal and then
inside of this I'm gonna put a little
message that says please enter a name
and there we go and that is everything
that is every single thing not that much
Oh every single thing you're going to
need to do to be able to add friends and
then also jump to another screen and all
the other checking that's involved so
now what we need to do is go over into
friends edit screen and put all the
blocks that we need there okay so here
we are and I'm going to be doing some
initialization of course and the very
first thing I want to do is have the
friend index which is the friend that
we're going to be edited I want that to
be stored so I'm gonna create a variable
and just drag this and drop it right
there and let's just call this friend
index because this is going to be the
friend that we're either going to edit
or delete and let's just say that it
starts off with a zero and then we're
gonna have our list of friends again so
let's go in here variable again and this
is gonna be the list that's gonna
temporarily store the information from
the database and let's go into this list
and create empty list
all right so whenever this is
initialized this screen and then want to
do some different things here mainly
just update the information from the
database in the very first so I'm going
to do is go the friend index and we're
gonna set the value for that this once
again is gonna be the friend that is
going to be edited and this tiny DB is
gonna be shared let's just get this in
between the screens it's the same exact
database so we can pull the values from
it and let's call this friend picked
that's gonna be the item that was
clicked in the list picker and then
we're also gonna want to get our friends
list edit have to get that from the
database as well let's just
duplicate this friends list and there
also would probably be a good idea to
put the name of the friend in our text
box that we have here so friend edit
text box down it's out of here and set
the text for that so that we know what
friend we're gonna be editing and to get
that we're gonna go into the list
section and select list item select list
item right there we have the index and
the index is gonna be that our friend
index that we have right here so get
this guy put that right there and the
list is gonna be this guy and there we
go have all that set up now we basically
have to get all our other buttons
working here so let's create another
procedure and this one right here
I'm gonna call update friend info update
friend info and this is basically just
gonna replace one list item with the new
data that we input so messing with lists
again and specifically we're gonna look
for replace here replace list item and
we're going to be using indexes drop
that right there and the list that we're
gonna be using is the friends list at it
so let's get that drop that there the
index we're gonna be working with is
gonna be the friend index that we were
told to edit drop that right there and
then the replacement is going to be the
data that was entered so whatever they
put inside of the edit text box that's
gonna be the change so we just get that
out of there
and drop it right there then what we're
gonna want to do is update our database
but the first thing what I want to do is
tie this procedure to this update friend
button right here so I'm gonna say
whenever that's clicked I want update
friend info to be called update friend
info and drop that right there and then
let's create a brand-new procedures just
for updating my database say I'm doing a
lot more of messing with or separating
everything into procedures I just like
doing this in the real world I don't
know why just always like doing that so
let's go update DB and then this is just
going to call our database and save
everything inside of it so store value
and then friends list is gonna be what
we're going to update friends list
that's the tag and what we're gonna
store inside of it is our friends list
this guy up here yeah and there we go
there's the friends list and that's how
we're gonna update the database and it's
gonna affect both screens okay so now
that we got that set then
to make a call to update the database
every single time our friends info is
updated go into procedures again update
database and drop it right there okay so
pretty much everything set up except
there let's just go in here and get rid
of the exit button
so whenever the exit button is clicked
on that's gonna close our screen go into
control close screen drag that drop it
over here and that's gonna send us back
to the original screen and then the only
other thing we need to do is handle what
it's gonna happen whenever the unfriend
button is clicked on how to delete
people from the database so get this guy
unfriend let's just drop it over here
there it is okay and we would just want
to do a couple different little checks
here to make sure that we actually have
the friend in the list and things like
that so anytime we wanted to do that
we're gonna go into control and do an
if-then statement and let's say that we
want to check that the friend is
actually in the list well we go into
list and we can just say is in list drag
that there then we're gonna put inside
of that the friend that they entered
inside of here so let's duplicate this
the thing is gonna be the friend and
then the list itself is gonna be this
guy right here so let's just duplicate
that and if the friend is in there we
want to remove it from the list so I'm
doing my best to cover a ton of
different things you're gonna do with
less drop it right there and then we're
gonna get the actual list duplicate this
and then the very specific friend we're
going to be the leading we're gonna go
get it based off of the data that's
right here so we now have the name of
the friend we want to delete but we need
to get the index for that so again we're
gonna go into list and we're gonna look
for index in list with the thing you got
that drop that there and the thing that
we want to get is whatever friend's name
they put in there and then of course the
list is gonna be this guy again sort of
a roundabout way to get that and then
let's say that we want to put like a
note of fire that says you just
unfriended somebody because that's kind
of a mean thing to do let's just do a
show alert drop that right there we have
more than one line so I'm gonna need a
join grab that
I robbed it right there and then inside
of this we're gonna say this friend Duke
okay you just entered has been
unfriended if that's a word has been
unfriended here people sang unfriended
all the time so there we go and I'm also
gonna put an else statement in here if
they try to delete something that
doesn't exist else notifier and then
make this one a little bit longer let's
get the show message dialog drag it
right there and then the title that we
want to put here is not on friends list
that's the title and then the message
let's do another join here duplicate and
in this situation we're gonna say the
friend that they entered whoever here
we're gonna say is not one of your
friends and then button text I'm just
gonna put okay and there we go that's
the whole entire app that is exactly how
you're gonna be able to add remove and
update data in databases between screens
I just want to leave a special note at
the end of this video that probably on
March the 25th 2014 Tuesday I will be
posting all of the questions that you
can answer to qualify to have the
opportunity to win a samsung galaxy note
3 as well as a Samsung Galaxy gear
SmartWatch so I just wanted to let you
guys know that that's gonna be going on
my website fill out those questions and
if you get them right and you show up
for the live drawing you have the
opportunity to win so please leave your
questions and comments below otherwise
till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>