<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Web Design and Programming Pt 19 | Coder Coacher - Coaching Coders</title><meta content="Web Design and Programming Pt 19 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Web Design and Programming Pt 19</b></h2><h5 class="post__date">2010-12-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9FO9gsTCv9g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
19 of my web design and programming
tutorial today I'm going to cover
interaction with PHP and MySQL
specifically what I'm going to show you
how to do here today is to create
drop-down boxes that automatically
interact with each other and change
their values based off of what values
are selected in other drop-down boxes so
for example if I was looking for
products available for digital copiers
that would automatically just now
display the manufacturers of said
products that can be used ok so you can
see all of this interaction here and if
you haven't seen past tutorials
definitely check those out otherwise you
will definitely be confused in this
circumstance and also in the underbar I
have a link to the completed code this
whole entire program that totally works
you should download it and follow along
as we go through here and that way it'll
be a much more understandable here as I
previously talked about in past
tutorials is how I'm going to connect to
the database and yes by the way you
should never do this because this is a
security flaw but I'm going to be
getting into PHP security here very soon
what you should instead do is use the
include function and then link to a file
that is stored in your CGI bin folder
that should be protected and normally
the name of this file is config dot PHP
this is what you should do I'm going to
cover this in upcoming tutorials but
basically it would just copy this paste
it inside of this guy right here in the
CGI bin folder and it will automatically
work and of course you would want your
permissions set properly and here's just
a blicket or e HTML code which you
should understand if not check out my
HTTP tutorials and then right here is
some JavaScript and I also have a
JavaScript tutorial if you guys request
it I will redo it in this new format
I've been using that you guys seemed if
you like basically what this is doing is
the value stored in this drop-down box
over here is called cat this is called
cat 2 and this is called cat 3 ok just
think of those as variables so what this
is doing is this drop-down box is in a
form and it's saying to get the value
stored in cat this drop down box and
assign it to a variable called Val and
then what it's doing is it's going to
recall the name of this page and put
that
value that category had stored inside of
it anytime you set a new value to self
dot location in JavaScript it reloads
the page and you can see this happen
right here so here I'm on Hamm test dot
PHP and I'm going to change the value of
tat to calculators see now cat is equal
to three because the value of
calculators is three and if I change it
to cash registers you can see it's now
four so that is what is going on here
this is reloading the pages every single
time you change the value of any of
these three categories all right now I'm
going to jump into the actual PHP code
what we need first is to get all the
data from the MySQL database and stick
it in this guy right here how we do that
is we issue a query so I'm going to
create a variable called query one or qu
ER one and I'm going to call the MySQL
query function and issue it a query to
give me product type name and the part
ID associated with that you saw over
here calculators for example obviously
calculators is product type the name of
the product m3 is the part ID associated
with calculators and I'm going to tell
it to get this from the database called
product ID where part ID is a value that
I list here using the in command and
this is actually a database that was
brought in to fix but often what happens
is a client likes the way things are set
up and you have to sometimes work with
them what they wanted was the option to
be able to completely get rid of certain
product types and add additional product
types so the original developer of this
database decided to use the in command
here yes it's kind of ugly but that's
what we're working with
and this also reinforces how to use in
alright and then we're gonna say order
by port ID and then close off that query
and that is all you need to do to get
all of the information that you need to
put in this drop-down box now we've got
to create our second drop-down box and
now we need store a value into cat if it
has already been set and because a value
might not have been set for cat we're
to put the apt symbol in here what this
is going to do is suppress any errors
and I'm going to call for the value
stored in the array forget and get the
value stored specifically in cat if it
does exist remember again we want to put
the @ symbol in here so that if it
doesn't exist this doesn't trigger an
error that's what the @ symbol is used
for and this is also how you would
interact if global variables are shut
off inside of PHP which is great because
that closes a security loophole which
I'll be getting into here in a second
again as you watch this pick up whatever
you can whatever you can't pick up
that's perfectly fine but for the most
part all of this information has been
covered in past tutorials here I'm
checking that there is a value stored in
cat and that it has a string length
greater than zero there is a value
stored in that category
remember again cat is a sky up here
we're just checking to see if there's a
value stored in there and if there is
we're going to create another query that
is going to get the values needed to put
in cat two right here and how we're
going to do that select distinct again
distinct just keeps duplicates from
occurring and then we're going to call
and this is actually the exact query
that I talked about in the last tutorial
and I'm asking for the manufacturer's
name and the ID associated with
manufacturer's name from the table
called manufacturer ID and the table
called model numbers where model numbers
dot part ID is equal to the value stored
in category so are we only going to get
back manufacturer names and manufacture
IDs for those products that match the
part idea that was chosen up here
remember we're trying to fill all the
information in to this guy right here
based off of what has been chosen up
there and we want to make sure that the
manufacturer ID numbers in the table
called manufacturer ID are equal to the
man ID is stored in the table called
model numbers and we want to put them in
alphabetical order based off the
manufacturers names but what if there is
no value set for this guy well we want
to protect against that and we're going
to issue a completely different query
but we're going to give it the same name
I'm just going to copy this guy right
here paste him in right here except
we're only going to
hole in information from the table
called manufacturer IDs we don't need
that from an order them by
manufacturer's name and we're gonna
close that off so what this is gonna do
is if there is no value set up here
let's just come in here and make that
cell reload it alright there's no value
set here so what's it's going to do it's
going to pull up every manufacturer name
this would allow people to search based
off the manufacturer name instead of
product name so that's what we're doing
right there so what do we have to do now
well we have to create the third
drop-down that's going to contain all
the model numbers that would allow
people to come in here and search based
off of model numbers so again we're
gonna come in here and get the category
three value if it exists and whenever we
don't know if it exists we put the @
sign in there to suppress errors I'm
gonna jump up here and actually copy
this copy
cuz I'm doing the same thing and
actually I should throw this into a
function on its own but I sort of want
to separate this stuff sometimes and do
some extra things I necessarily wouldn't
have to only so you can see things being
done multiple times so hopefully that it
sinks in because I know this stuff is a
little bit complicated
Corie 3 again I'm just looking for
information in the database by querying
for it here I'm gonna be looking for
model numbers from the model numbers
table where model numbers manufacturer
ID is equal to the value stored in cat 3
and model numbers part ID is equal to
the value stored in the first category
that we have here order by model numbers
otherwise else I'm gonna put every
single model number in here I know this
isn't exactly the best thing to do maybe
the most useful thing but it would allow
people to search if they only knew their
model number select distinct model
number from table called model numbers
order by the model number and then we
want to close that off and then going to
be putting all this information in a
form so we have to actually create the
PHP code needed for said form and here
we're going to create the drop-down
boxes themselves so
Geko to screen select name equal to see
if you can guess what it's called cat
hopefully you got that right and then
right here we're signaling that if there
is a change we're gonna have to use a
backslash here because we're going to
use that double quote twice we need to
call the reload function that's created
in JavaScript above then I went over and
then backslash that double quote again
option now u is equal to and we're not
going to give it that the phone select
one and close that off I'm going to call
while results and what we're gonna do
here is fetch row of data based off of
the query we submit here using the MySQL
fetch array it's going to assign the
values from that row based off the query
we issued sign them to an array called
results if results for Part ID is equal
to and put the @ sign in there to
suppress errors the value stored in
category then we want to echo to screen
value stored in that array in the actual
product type name close that off and
then I'm going to put a break statement
in here right like that else I'm going
to echo to screen just the part 19
number and then close that that box off
and then you want to close off your
select box right like that you know I'm
actually gonna copy this break statement
boom right like that and that is
everything that you need to do for the
first drop-down list you're almost done
like extremely close to being done in
fact what you're going to be able to do
is come in here and just copy this code
and instead change only two things
meaning this is going to be changed from
query 1 to query 2 and this is going to
be changed from cat to cat 3 so just
paste that inside of there so here's
your selection box and I'm just going to
call this sub cat
and reload to call the different
JavaScript function everything else
there is the same except here I'm gonna
call this results - and I'm going to
change this into query - this is going
to be results - and instead I'm gonna
have the manufacturers ID instead of the
part ID this is going to be cat three
and in here because I changed the part
ID I'm just going to come in here change
this to manufacturers ID this is results
- so is this and instead of product type
this is gonna be manufacturer for the
manufacturer's name still want the break
statement in there else this guy right
here is again gonna change this to
results - and man ID and results - and
product type it's a manufacturer and you
want to close off that box as well and
then guess what
third drop-down box is going to be
created in exactly the same way paste
that inside of there
here's the beginning of the selection
box we're gonna call this subcategory
three when this changes we're not going
to need to reload the page because it's
going to be submitted with the submit
button so we can get rid of this all
together delete all that information all
that can stay exactly the same then here
we're gonna have results three instead
of results - and we're going to look up
the query the third query that we
created above we're going to be able to
delete this information right here then
just come into this echo statement and
put results three again none'll number
results three again stored in that array
copy model number from here paste that
inside of here just like that
close off the drop-down box and then
close off all your PHP code and here
we're going to create the submit button
equal to submit value equal to close
that off and then of course close off
the form as a whole and if we come in
here and then if we come over here and
type in ham test2 and reload that page
you can see that all that information is
available right here and all of these
little guys automatically update each
other so it's pretty useful
program in general if you have any
questions or comments leave them below
otherwise I'll catch you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>