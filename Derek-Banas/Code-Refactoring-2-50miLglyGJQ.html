<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Code Refactoring 2 | Coder Coacher - Coaching Coders</title><meta content="Code Refactoring 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Code Refactoring 2</b></h2><h5 class="post__date">2013-01-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/50miLglyGJQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello internet and welcome to part two
of my code refactoring tutorial today
we're going to talk about how to extract
methods when to extract methods and when
not to as well as temps and this is for
the most part going to be totally
nothing but code but I have a couple
little things I want to show in the
presentation first so let's get into it
so when exactly would you extract a
method and all that means is you take a
block of code that is real busy and you
pull it out and you stick it in a method
and then you call the method rather than
having to block a code inside of it
that's all that means
and the reason why you're going to use
this is it's going to turn your code
fragments that are all bunched together
into nice neat methods with descriptive
names and the goal here is to make your
code as readable as comments in code so
let's look at some code okay so you can
see here this guy right here all it does
is it takes these football players and
this football player class just has a
name
it has a double array that just has
40-yard dash times inside of it real
simple has the ability to get a name has
the ability to get the 40 yard dash
scores and then here we're creating the
football player with a name and those
40-yard dash times that's all this is
doing well then we look at this guy okay
so we have an ArrayList and here we have
the definition of the class and here
we're creating the ArrayList and here
we're adding football players and then
we get down to print player info now as
soon as you look at this and you start
to go what exactly is going on here that
is a sure sign that you should probably
start extracting some methods so what
exactly do you want to extract well
double average 40-yard time okay so this
is just going to be a temp that we're
going to be defining here so that's
going to be fine then we look through
the rest of our code and here you can
see that we're printing out name with 14
spaces to accommodate printing out the
name and then average 40 times so this
is just like a title bar across the top
and then here we're going to be printing
out 30 dashes on the screen and then
here we're pretty much just issuing a
new line and here we're starting to
print out players so this is printing
out players actual information and then
this is printing out a title bar so this
is an example of somewhere where we
could extract this code and make this a
lot neater so let's see exactly what we
want to do here let's just copy this guy
and just start going through here and
extracting out these methods so I'm just
going to bounce down here right before
main where this is actually going to
print everything out and I'll execute
this just so you can see what it does
see it's printing out the name with the
spaces here to accommodate the names and
then average for tea time and then it's
printing out the average for tea or -
time that's all it's doing but you can
see that little bit of things that are
going on there is kind of complicated so
what we're going to do is make it a lot
simpler we're just going to go public
void and we're printing titles so we're
going to call this print titles and then
we're just going to pop in our code
right there print - is under titles and
this is very understandable so now we
broke this down now we know we're
getting names 40 times and then printing
out a bunch of dashes that's all we're
doing something else that can sometimes
make things more understandable is just
to combine them like that and not have
all your spaces all over the place so
that's just another way of making things
a little bit neater so now based off of
that we're going to be able to copy this
bounce up inside of here and get rid of
all this stuff and replace it with print
titles so there we are we shrink this
down quite a bit and you can see we got
exactly the same thing so that's pretty
cool so then what are we going to do
well here we're printing out all kinds
of player information which is pretty
simple we're printing out its name the
player's name and then we're going to be
cycling through this array that we have
right here with this for loop and we're
going to calculate total 40-yard dash
times we're just going to add up those
40-yard dash times we're going to come
about an average right here and then
we're going to print out the average for
tea time for the player and then throw
in another newline so again this is a
lot of information and we're just going
to go in here and chop it out so copy
all this out just a big for loop cut and
then we're going to bounce down inside
of here right after we have print titles
and just create ourselves another method
and this guy is going to be public void
print players with 40 average so that's
pretty understandable want to keep these
method names as understand most possible
want to really focus in on what
they are doing not how they're doing it
we're going to paste this in here then
we're also going to notice down here
there's going to be a line under this
guy average 40 yard time so we're going
to throw in a double inside of that file
save it that means we're probably going
to be able to get rid of that variable
that we created up here yep see there's
a line they're not being used so Eclipse
is helping me out and I'm going to make
a call to this guy and this guy I'm
going to be able to get rid of
altogether so now you could say it's
getting a lot neater and let's execute
it just to make sure yep we're still
getting the same answer so that's good
then we can look down through here and
figure out other different ways where we
could tighten this stuff up this is
getting a little bit long but in general
it's pretty understandable I could go in
here and tighten this up and move them
things around like for example I could
come into print titles and even shrink
this down even further so a common thing
I might want to do is print certain
characters a certain number of times so
it would be a good method for us to call
this well we could call this would print
dashes or print multiple times or
whatever and in this situation character
character to print maybe we'd want to
call this print character multiple times
so this might be a method we might
actually be able to use somewhere else
and then we could just say int how many
times do you want this character to be
printed and then we could just jump up
inside of here cut this out of here or
maybe get the comment and everything
else well now we just broke down print
titles into one line it's actually going
to be two because of course we have to
call this method and then simply we're
just going to have to come in here and
say okay what character do we want to
print we want to get this guy right here
system.out.print line we're going to
replace this with character to print and
how many times we're going to copy that
guy and this is going to be 30 like that
and then up inside of here print
character multiple times and we're going
to bounce up here this all seems really
simple but by doing this you're going to
be able to really tighten up your code
make everything really really
understandable and at the same time
create a bunch of methods you might not
be able to use multiple times so we want
to print underlines 30 times we know
that because that's what we did before
and file save it now we've got all kinds
other neat little tools here and look at
that we got two exactly the same thing
so we were able to cut this
guy down here print player information
from numerous different lines into just
two print titles we knock that down to
just two we created a nice nifty little
method then we we might actually want to
use multiple other times and then print
players with forty average and this is
pretty understandable like I said we
could come in here and cut this down and
make it even tighter I'm going to leave
it there just the way it is one thing
you might want to think about however is
how exactly are we going to deal with
situations in which we want to call
methods however we are going to have
local variables that are going to be
very important so I'm just going to do
this right here let's say we have double
average and then we're going to create
another double and this is going to be
array and this is I'm going to call this
dash x again we're just talking about
40-yard dash x here and let's say that
these dash x are defined for point three
six one point three nine all the code
that I'm using here is available in a
link underneath the video if you want to
look at it and then let's say we're
going to go through here and go create a
for loop and in a second I'm going to
give you some examples of whenever you
would not want to extract methods
because this is definitely not something
you want to do every single time and
then let's say you want to calculate
total dash x and then just add that to
whatever dash x is here as we cycle
through this for loop and then we would
come about our average being equal to
total dash x and then we're going to go
- x dot length and all that does for me
if you're not used to Java is it's going
to give me the total number of objects
inside of that array so okay so we
created this average is going to be a
temp and we're going to get this array
we're going to cycle through the array
and then we're going to add up to get a
total number of - x and then divided by
the total number of - x so we got three
of them in here this is going to be
equal to three down here so we're just
going to find ourselves an average well
how would you extract all this stuff and
then also keep this local variable easy
to deal with
just to break everything up here a
little bit so you can see it all in one
place you could instead go double we're
still going to need to have this little
right here so let's go and paste that in
there we could however
instead go double and get our average an
equal to get average - time and pass
over our Ray - that method and then
actually call this method like this and
then inside of it we're still going to
need double total - times is equal to
zero point zero and we also actually
need this guy up here so there that is
but then we're going to just simply come
in here and get this for loop paste it
inside of there and then for our return
statement
go and get total - x + - times length
and return that value right like that so
this is going to be completely separate
and instead of having one two three four
five six seven lines of code inside of
the method that we're going to be
working with we're going to replace
those seven with just these two which is
just going to be pass an array in and
then pass that array over to get average
- time which is going to be passed back
to average and then extract all this
stuff out into its own method so it's
going to be a lot easier to deal with
because remember we want to try to keep
our methods between five to a maximum of
ten lines long and by looking at this
you can see whenever this is just simply
five lines long you can look at this
pretty easily and see exactly what's
going on and also the method name is
going to be very descriptive get
averaged - time so you know exactly what
you're going to be getting there so
that's just a way to work with local
variables and just like it is great to
extract methods in some situations there
are other situations in which extracting
methods will not make sense and those
are going to be situations in which
extracting the methods does not make
your code more understandable so I'm
going to give you an example of that as
well so let's say you have a string and
it is in top 15 is equal to and you
decided to extract this method and the
method is called check if in top 15 and
you're going to pass into it average 40
yard time like that and if the average
40 yard time is in the top 15 for
example we would like to assign to this
string
top 15 and then maybe throw a new line
in there otherwise let's just say that
you just want to throw a new line inside
of it so we're looking at this and you
can see here a method has been extracted
and then we would go and do something
like create a method and it would return
a boolean check if in top-15 let's just
copy that paste that there and let's say
that a double is grown over into this
and average 40 yard time is passed into
it and then this guy does nothing more
than go return average 40 yard time 4.41
let's just say that that's the average
okay so in this situation the user said
okay I have to extract all methods
that's just the way it is well not
necessarily just as you can see here
this isn't terribly understandable or in
the very least isn't going to be as
understandable it's just coming in here
and going string in top 15 is equal to
and just typing out exactly what you
have so if it's average 40 yard time
less than four point four one and then
typing in that right there you can
actually see that you have all of this
stuff and all of this is being done all
in one place and which is more
understandable right here check if in
top 15 average 40 yard time and if it's
that then assigned to this string this
that I bet or it doesn't make a lot more
sense to just put the conditional inside
of here instead of putting it inside of
a method and then printing out the
actual results all on one line very
often whenever you're doing conditionals
like this it's going to make a lot more
sense to have all of your code in line
and not inside of a method in comparison
to extracting it outside to another
method so I leave it to you but your
major goal here is to make your code
more understandable versus less
understandable
which you can see right there another
thing that comes up very often whenever
you're refactoring code is when to use
temps versus when not to use temporary
variables if a temp is used once and
doesn't add to understanding chances are
you want to get rid of it and another
situation very
often whenever you want to get rid of a
temp is again whenever it holds the
value of an expression so let's take a
look at two situations where we would
want to get rid of temporary variables
all right so let's say you have double
and this is going to be - time and
you're defining a - time of 4.5 seconds
and then you're going to come in here
and go double and say average 40-yard
dash is equal to get average - time and
this is going to be a temporary value
average 40-yard dash and that value is
going to come from this method right
here then we're going to go string
- grade is equal to - time less than or
equal to and then we're going to take
this average 40-yard - there's a temp
being used for no apparent reason and if
it is less than or equal to the average
40-yard dash time we're going to assign
the value of good and if it is not we're
going to assign the value of bad and
then let's say that you would want to
come in here and just go
system.out.print line and say something
like that was a then import whatever the
name of the - was the - grade and then
come in here and just type in time right
like that so here you can see in a
situation where you have a temp that is
just simply holding the return value of
this method very often whenever you see
temps like this it is going to be much
better to eliminate the temp and instead
just go and type in the method name
instead now one thing you want to do is
you want to declare this temp final to
make sure that this is the only time it
is actually being declared if you do
this it's going to throw up all kinds of
errors if it's being used somewhere else
and then the very next thing you want to
do is just replace all situations where
you have the temp name with the method
name which is on the right side it and
you can do this with a fine to replace
but in this situation it's just as easy
to tow and paste that inside of there
and it's not being used anywhere else so
now I'm going to be able to get rid of
that temp all together and make my code
a lot shorter and a lot more
understandable and now let's take a look
at
the final thing which is going to be
replacing temp values or temp variables
with a query so let's say that you have
a double and it's average - time and
it's going to be equal to total - time
divided by total dashes again we're just
doing averages again and if you would
come in here and go if average - time is
greater than four point four one and you
wanted to go system.out.print line and
then type in average time just to
designate that that wasn't a very
impressive 40 or - a much better
solution than this guy would be to come
in here and just go if average - time
and call a method and then type in your
four point four one and then you could
print out the same guy right here and
then just simply come down here and
create a method and this will just be
double average - time and use this as a
return so you can see there again is
another example versus this top guy that
we have here which creates a temporary
value based off this calculation right
here it makes much more sense in this
situation to go and create an outside
method with that guy
eliminate the usage of that temporary
value is temporary for the most part
just get in the way and you can see here
it does not in any way make the code
less understandable actually because I
gave the method name the same exact name
average - time average - time as my
temporary variable that I created here
it actually makes it just as
understandable and at the same time
allows me to break out this code and
move it elsewhere so that the code
overall is more understandable so
there's just a breakdown of a bunch of
different things you can do when
refractor encode and just some things to
think about feel free to leave any
questions or comments below otherwise
till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>