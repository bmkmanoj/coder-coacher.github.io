<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Make Video Games 20 : Make Ms. Pac-Man 4 | Coder Coacher - Coaching Coders</title><meta content="How to Make Video Games 20 : Make Ms. Pac-Man 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Make Video Games 20 : Make Ms. Pac-Man 4</b></h2><h5 class="post__date">2017-08-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/B1XZ-ILuMJs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
20 of my how to make videogames tutorial
series in this part of the tutorial
we're going to cover how to use multiple
audio sources how to manipulate sounds
how to set up the UI how to have miss
pac-man eat dots how to update scores on
a whole bunch more like always all the
images as well as all the code using
this tutorial is available in the
description underneath this video and I
have a lot to do so let's get into it
okay so here we are back inside of unity
so the very first thing we're going to
need to do here is go into create we're
going to create our sound manager so I'm
going to come in here and go create MD
and I'm going to click on this guy I'm
going to name it sound manager if at any
point time I'm going to quickly or
you're having trouble seeing you can
view it full screen or hit the pause
button so what I'm going to do here with
my sound manager first off is I'm going
to come over here where it says add
component we're going to use multiple
audio sources this time so I'm going to
click on audio source and then I'm going
to create another audio source and then
come down here and create another audio
source one of them is going to be
pac-man eating one of them is going to
be the ghost moving and one of them is
just going to be used to play one shot
sound effects now what I'm going to do
is I'm going to go and get all of my
different sounds and let's just go and
get this and I'm going to grab those
guys and drag them over into my sounds
folder right there alright so they're
inside there and click and you can see
them and like I said the first audio
source is going to deal with pac-man
moving so I'm going to go eating dots is
what that's called so audio clip there
this is going to be the ghost moving so
go smooth and then the other one will
not have an audio clip I'm going to set
this to off for play on awake and I'm
going to shut this one off play on awake
and that just simply means it's going to
automatically play as soon as it starts
up I think that's good I'm going to set
up a lot of other stuff inside of the
script so I'm going to come in here to
the scripts area and click on that and
go create c-sharp script and I'm going
to name this Sound Manager and then I'm
going to double click on Sound Manager
so what do I need inside of my Sound
Manager well I want to verify that
there's only ever going to be one Sound
Manager in my game so to do that I'm
going to create what's called a
singleton
done this in just about every other
tutorial I've done so far so this is old
hat for you guys and if you haven't
watched the previous parts of this
tutorial definitely watch those first so
we'll set that the norm what else am I
going to need I'm going to need a
reference to all of my audio clips so
we'll go and get audio clip and I'm just
going to use the lowercase version of
the audio clips name inside of here for
the name so this is going to be eating
dots and I have four or five totals so
I'm just going to copy this and there's
five of them and then I'll just come in
here and put the names inside of it so
this is going to be eating ghosts that's
going to be whenever the noise played
whenever pac-man eats a ghost we're
going to have ghosts move that is going
to be the sound that goes to makes
whenever it's moving
pac-man dies I know it's miss pac-man
but whatever I'm just going to tack pan
dies and that's the sound to plays
whenever miss pac-man does and then
we're going to have powerup eating
that's going to be the sound that plays
whenever a pac-man eats one of the pills
too so that he can eat or miss pac-man
bye bye bye you know what I mean
all right anything else I need yes I'm
also going to have multiple different
audio sources like I said previously so
I'm going to have an audio source used
for pac-man or miss pac-man eating
ghosts so we'll call the audio source
and we will call this pac-man audio
source and I'm going to have three of
those so I'm also going to have one for
the ghosts and I'm going to have another
one just for playing one-shot sound
effects so we'll do this and then this
is going to be ghost audio source and
then this guy right here is going to be
one shot audio source okay so I have all
those set up now I can do some more
initialization inside of start and what
I'm going to do inside of here the same
thing that I've always done I'm going to
go if instance I did call this instance
up here correct yes upper case instance
is equal to null well then that means
I'm going to I don't have a sound
manager so I'm going to create one so
I'm going to go instance is equal to
this else if instance is not equal to
this well in that situation I'm going to
destroy the
version of this sound manager that was
created so we'll just say destroy game
object which is this alright just like I
did in all the previous parts of the
tutorial now I'm using multiple
different audio sources and how you can
grab all of them is you just go audio
source and this is going to be an array
of audio sources and then you can go
audio sources is equal to gets
components and this is component in such
that guy right there and I'm going to
put audio source inside of there and
it's going to grab every audio source
and throw them inside of this array and
the way it's set up is it's going to
grab the first one listed then the
second one then the third what I mean by
that is sound manager it's going to grab
this one the eating dots first then
ghost move and then the one-shot audio
source and put them in that order inside
of the array and then I can just assign
those to the audio sources I have so
pac-man audio source is going to be
equal to audio sources and then 0 so
there we are we grab that one and we can
come in here and grow this copy it and
initialize those and then we'll go ghost
audio source and there that is and then
that's going to be the second one and
then we will have the one-shot audio
source and that's going to be number two
okay so we got all those assigns I'm
also going to call that I want my
pac-man eating sound to start playing
immediately I'm going to use a function
called play clip on loop and this is
going to be called any time that I want
a audio sort or I want to clip to play
on a loop okay so I'm pretty simple
pac-man audio source and I'm going to
say eating dots is what I want to play
that is going to be the name of the file
that I want to play anyway I have to
create play clip on loop here and that's
just a reference to this eating dots
okay that audio clip I believe I need to
update with this so I'll just get rid of
that I'm going to come in here and
provide the option to play any sound
effect that gets thrown inside of here
so play one shot and it's just going to
get an audio clip and it's going to play
that audio clip so there that is
one-shot audio source and play one shot
and throw the clip inside of there and
that's all that guy is going to do then
I got to do play clip on loop so come
down here and create that as well that
is going to be public void play clip on
loop and it's going to receive an audio
source and we'll just call this a s it
has to be a capital S and then it's also
going to get an audio clip sent to it so
audio clip and let's just call that clip
and what we're going to do is we're
going to define everything so very first
thing I want to do is make sure we have
an audio source and a clip to play so
I'm going to go a are do source make
sure it's not equal to null and make
sure that the clip is not equal to null
if both of those are true then we are
going to play it so very first thing I
want to do is set the sound to play on a
loop so I'm going to go audio source and
loop and that's going to be equal to
true another thing I want to do is I
want to set the volume for the sound
that was just asked today how do you set
the volume this is how you set the
volume of course I told that person but
whatever so here we are and let's set it
down to a lower volume what else I can
set the clip to play of course so there
it is and clip is you know there's the
clip that I want to play whenever we
play it and then finally if I want the
audio source to play out of my speakers
I just call play on it all right so
there we are with that as well what else
I'm going to do well I'd like to provide
a very easy way for the user to pause
the pac-man eating sound so I'm going to
go public and void and pause pac-man
eating now let's just call it pal eyes
pac-man that's good enough so any time
this is called what it's going to do is
it's going to say if we have to verify
first off that pac-man audio source is
not equal to null and we have to also
verify that pac-man audio source is
playing if you don't do that that's
going to cause errors so make sure you
always do those two
things and if they are both true then
I'm going to say pac-man audio source
and stop it's a pretty simple stuff I'm
also going to want if I give it a way to
pause it I'm going to give it a way to
unpause pac-man so we'll call this
public void on pause pac-man once again
I'm going to do something quite similar
so just come up here and copy this and
I've been there paste that in there I'm
going to check that the audio source is
not equal to null and I'm also going to
check that it is not playing in this
situation so I'm going to say throw that
in there and just switch that not around
if it is I'm gonna SiC like simple stuff
right and there we go what else am I
going to do well I'm going to also want
to restart the pac-man eating sounds or
actually I'm going to do the same thing
for the ghosts so what I'm going to do
is I'm just going to copy this and
change all this the stuff that's pac-man
into ghosts make it really simple so
we'll just come in here and we'll just
copy all that so there that is and we
can maybe come in here and go ghosts
whoops ghosts off just to make sure that
I know and there we are and paste that
in there and then we'll change the name
of this so it's going to be paws ghost
and then this is going to be ghost audio
source so ghost audio source let's just
copy ghost right here so that is and
paste that in there and paste ghost here
unpause ghost and there that is and then
we'll paste the ghost inside of here and
then we will be done and our sound
manager will be all set up good stuff
okay so we'll save that and then what
we're going to do is we are going to
start playing around with Miss pac-man
to make her work with the sounds I ride
so inside of miss pac-man actually while
I am thinking about it right now I'm
also going to go in here and go using
and Unity engine dot UI and throw that
in there because I know that I'm going
to be manipulating the GUI interface so
I want to change that right now so I
don't forget about it and what am I
going to do in class after the pause
sprite here put some new stuff in here
I'm going to have to get a reference to
the sound manager for my function
because I'm going to be calling a lot of
soundmanager functions from inside here
so just go sounds manager and let's just
call that sound manager just be creative
I might want to get references to the
individual sound bytes and put them
inside air this class is getting a
little bit messy but you know so what I
want to do here is have eating ghosts
that audio clip I might feel you know
the need to have that go I don't know
what later all right so let's just throw
that in there
the whole idea here in the beginning is
just to get the game working and not
necessarily optimize so when we go
pac-man dies and then I'm also going to
go power up eating and there that is
like I said might change it might not
then I'm going to want to get a
reference to the sound manager down here
inside of my start function and to do
that I'm just going to go sound manager
is equal to game objects and finds and
then what I can do is just tell it to
look specifically for a game object with
the name sound manager and it will
search through and it will find all of
them which is extremely useful and then
I just have to go get components and I
know that this is a sound manager and
there that is that's how easy it is to
go and get a reference to the sound
manager then what I need to do is go and
turn the pac-man eating sound on and off
depending upon if pac-man is moving or
not so let's come down here I think I'm
going to do that in the same area that I
changed the animations there it is
updates eating animation called that or
is update eating animation yeah I think
it just come down here and put this
inside of here like I said it's a little
bit it's not optimized but whatever we
just want to make it work so I'm to make
the sounds stop that's what's going to
happen whenever pac-man stops I'm just
going to go sound manager and pause
pac-man and just call that function and
that is going to pause the pac-man
whoops
dot there we are and then to restart it
i I just need to come down here where I
restart the animation and do this and
then we'll change this to unpause
pac-man there we go
that's how easy that is
think that is all I need to do let's go
and jump back into unity and run it and
see if it works
look got an error sound Manders does not
contain a definition for pause that man
what is wrong with that and I'm Peppa
Peppa da well I thought I called a pause
back man I see that it didn't save see
there's a little star there you silly
think so let's go file and save that's
some kind of weird quark
save all now it's saved now let's jump
back err went away let's run it started
to work okay so what's going on here
we'll figure it out well one thing that
came up here while I was doing this is
for my miss pac-man that I have right
here I want to make sure that I come in
and drag over the proper audio clip so
eating ghosts I definitely want to do
that and pac-man dodge drag that over
there and power up eating drag that over
there as well oh I see what dumb thing I
did select the sound manager and also
get your scripts and there's the sound
manager script and then you're going to
grab that and drop it inside of your
sound manager like that and there we go
and then I'm going to go and attach all
the different sounds to it say I know
some dumb so let's go and get our sounds
and drag them in so eating dots drag it
right there eating ghost dragon right
there ghosts move and pac-man thighs and
power up eating and after I do all that
and save it and run it you can now see
that Miss pac-man is both making sounds
and stopping the sounds alright so
exactly what I was looking for next
thing I want to do is set up my scoring
area so I'm going to come in here I'm
going to go create and I'm going to go
down to UI and text come in here and
change the name of this to score and I'm
going to put the score in the middle of
the screen I'm going to set up my canvas
so what are we going to do with our
canvas you can see that it is right
there I'm going to set the position
let's look and see what the main camera
twelve point five fourteen point five so
let's go and get our canvas let's set it
to twelve point five and 14.5 as well
first off we're going to come down here
and go world space and then twelve point
five and 14.5 looks good set our width
to about 40
eeee and we will set our height to about
36 something in that area I'm going to
increase the size of my camera here just
a little bit let's take it up so that I
have a little bit more space for fitting
my score here at the top let's go and
try something like 18 let's go 18 for
the size that we have there I'm going to
click on my score and I'm going to
position it let's try something like 0.5
and then we'll try a position Y
something like 16 you can see it's right
there it's real a little big let's set
our width to about 40 and our height to
about 36 then we're going to have to
scale this guy down quite a bit so I'm
going to scale it very very small let's
try something like points let's try
point 1 just start off so I'm just come
in here and go to point 1 go move this
out of the way we're going to change
this to 0 we're going to have the
alignment be in the center we're going
to change it to bold we're going to
change the color to white of course look
look at that looks pretty good inside of
there and then let's increase the size
to let's try something like 22 and then
let's scale it down just a little bit
more and point oh seven something like
that and point oh seven and that looks
pretty good and the text looks pretty
good let's go and look at it and the
text should be pretty clear and the text
is really really clear so I like that
alright so good stuff now what I want to
do is go and get all of my dots and
check here so all the dots show up on
the screen and I'm going to open this
guy up and then I want to select every
single dot that I have and because now
it's going to be time to be able to eat
our dots and come over here click Add
component physics 2d and I'm going to
use circle colliders and I'm going to
shrink the size down considerably on
these let's zoom in here just to see how
small we want to go let's try something
like half of what it is by default so
point two five and that looks pretty
doggone good so I'm just going to leave
it right like that
another thing I'm going to do is go is
trigger so that when is trigger is
called on this pac-man
it's going to get the dot and delete it
and increase our score and now I need to
open up my pac-man script or miss
pac-man script and set it up so that
pac-man can eat some dots all right so
here we are so where are we going to
want to put that I think we're going to
say here right after this so right after
it says if hit a wall inside of this guy
is where we are going to check if you
look up through this is ontriggerenter
to D so it collided pac-man miss pac-man
collided with the dots we want to handle
that so we're going to say if what we
collided with has is a game object and
it has a tag that is equal to dot and we
should have that labeled as dots
let's go verify that just to make sure
so are all these dots labeled as dot C
tag dot yes they are okay so we're back
inside here what do we want to do I want
to call a function that's called a dot
was eaten just to keep that nice and
simple and pass the collider or the dot
inside of it then we're going to do is
come right after this guy and put that
inside of there so this isn't going to
return anything it's called a dot was
eaten and it's going to get the collider
2d passed inside of here make sure it's
Collider 2d not just Collider what this
guy is going to do is it's going to call
another function called increase text UI
score which is going to increase the
text score on our screen going to create
that here in a second and it's also
going to destroy the game object that we
just collided with so there that is and
then we can go and call this guy right
here and it will increase the score on
the screen so we'll go avoid increase
text score it's not going to receive
anything first off we have to find the
score UI components and that's a text
object so we'll go text UI component is
equal to game object dots finds and it
is called score inside of my hierarchy
and then I just go get components and
like I said it's a text object now that
we have that let's roll this up I can go
and get the string that's stored inside
of it and that
and save it as an integer so I can
increment it so in score and I want to
change it from a string into an integer
so text UI components and text is going
to give me whatever is inside of it
currently and I'm going to increment the
score by by 10 and then I want to resave
it into the text component that has you
know that has my score inside of it then
I just go text is equal to whatever the
score is and then I need to change that
to string all right so super awesome all
that stuff we did let's go test and see
if it work all right so let's come in
here and run it and here is Miss pac-man
and as you can see she's eating up all
of our pills and the scores are updating
and everything is looking awesome and
like always please leave your questions
and comments below otherwise till next
time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>