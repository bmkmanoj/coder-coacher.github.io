<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Java Video Tutorial 45 | Coder Coacher - Coaching Coders</title><meta content="Java Video Tutorial 45 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Java Video Tutorial 45</b></h2><h5 class="post__date">2012-06-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/MmKgTeEd8yM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
45 of my Java video tutorials series
I've received a bunch of emails from you
guys asking me to cover XPath so in this
tutorial that's exactly what I'm going
to do I don't normally use XPath I used
something called Jay Dom to read and
write from XML files but XPath is
perfectly good at grabbing information
from XML files and today I'm going to
show you how to do that well I'm going
to just come over here into eclipse new
file and I'm going to call this Java
lesson 45 Java finish so let's just jump
in here of course we have to get
ourselves some libraries and this first
one that we're gonna get here is going
to provide everything you need to work
with the Dom the Dom tree which is
what's going to be created from the XML
file whenever we go and get it and just
so you know exactly what is contained
inside of this library it contains is
pretty much everything so it's going to
contain document it's going to contain
element it's going to contain the node
it's going to contain node lists it's
going to contain text it's going to
contain all your exceptions of course
and a whole bunch other different things
but that's the main thing we're going to
happen it's node list not node list and
then we're going to come in here and get
our XPath library and it's just Java X
XML dot XPath like I said before it's
going to allow us to go in and really
quickly grab pretty much anything from
an XML file and then next we're going to
grab all of our parsers for working with
XML so again this is going to be a Java
X dot XML dot parsers and to elaborate
on that that's going to be document
builder the document builder Factory and
sax parser which we went over in the
last part of the tutorial and then of
course we're going to need to catch all
of our different potential exceptions
that weren't covered above so IO
exception is definitely going to be one
that we're going to need to catch and
also we're going to need to catch any
exceptions that are thrown by sax which
again stands for simple API for XML and
to do that which is going to go org XML
sax sax exception and there you go you
got that guy tip now we've got to create
our class here Delta less than 45 you'll
be really surprised by how easy it is to
work with so I'm just going to go public
static void main string just like we've
done 100
and we're going to go document builder
factory which again is going to allow
your app to get a parser that's going to
turn the XML document that you have into
the Dom tree that you're then going to
be able to play around with and mess
around with all the elements and nodes
and everything else inside of it my
builder Factory and just go new instance
and there you go now you got all that
ready to go and then we're also going to
need to provide for XML namespaces if
necessary and if you saw my XML tutorial
you know what a namespace is and if you
haven't go watch it then we need to go
document builder and create the builder
for ourselves here and then I'm going to
set document equal to null in document
builder is going to turn the XML into
the Dom tree that I just keep talking
about here and then we're going to throw
everything in a try block and then we're
going to go builder Dom factory and this
is going to parse the file that we
supply new document builder and then
we're going to feed into doc which is
going to be the document that we're
going to be playing with it's going to
be held inside of memory we're going to
fill that up with all the information
that's going to be stored in or XML file
and everything on this tutorial is
available in a link underneath of the
video just like always
and of course it's free sometimes people
think I charge for that that's just
silly and then we're going to have to
catch everything why don't we do it in
the nice lazy easy way let's get rid of
the try block altogether and then this
is going to throw a fit and I can just
say surround with try-catch block and
this is going to throw a fit I can say
around with try multi catch block right
like that and then I can just go like
this and then I can just cut this out of
here
throw that down there and then we can
just get rid of this see it wasn't that
a lot easier and then we're going to
call XPath because that's the whole
point of doing this tutorial and you do
that I go on XPath Factory and this
guy's going to allow you to grab data
from the document that we're going to be
using different codes below to do that
and you pretty much do the same thing
over and over again so feel free to copy
and paste it's the easiest way to do it
and then I'm going to actually call a
method here get no name and value and
then I'm going to pass to it the
document that I'm working with here and
XPath so of course I'm going to have to
create this method and I'm going to go
private static void like that and this
is a document type
and this guy right here is an XPath so
pretty simple throw my curly braces
inside of there and also there's going
to be another one of these down here to
close the clasp and this boy right here
is tied to main so I'm going to leave it
like that all right so then we basically
have to issue a query kind of like you
would with SQL but nowhere near as fancy
so that's going to be an expression I'm
going to go create an object that's
going to hold the results of this query
and I'm going to set it to null and then
I'm going to create another try block
here then we have to define exactly what
we're going to be looking for you can
look for all kinds of really cool stuff
but we're going to start off simple and
we're going to go and get a little bit
more complicated so then we're going to
go compile and then inside of here
you're going to define your expression
now let's say that I wanted to display
every single name in my XML file so here
we are here's the name tags right here
and there's one of our TV shows so to
get to that now remember the route is TV
show then show then name so TV show show
name okay I remember that now to get to
that all we're gonna do is go to forward
slashes and then show which is what
we're going to get and then we're going
to get name and then torque to forward
slashes and text and that's going to
give us every single name that we have
inside of our XML file so then we can
close that off don't worry it's going to
get a lot more complicated than that
then we're going to go result I mean
it's not gonna be complicated to do it's
just going to be getting more
complicated information and then you get
your result here and you're going to run
this XPath query constants right like
that and that's what that guy's going to
do for you and then again if I want to
be lazy I can get rid of the try block
have this throw a fit put my mouse over
top of it and then go surround with
track catch and that's exactly what it
did now of course this is still having a
little fit here so let's just copy that
and paste that in there so that's going
to catch any XPath exceptions that are
thrown and then if we want to output the
results of our query we're going to
create a node list is equal to and we're
going to have to cast this to a node
list the result that is like that and
then we're going to create a for loop
here and I'm just going to cycle through
everything I'm going to say I is less
than nodes and I can get the length of
my node list just that simply and then
we're going to cycle through our results
and how we're going to do that and this
is a little bit
of a new thing to do here I'm gonna go
print line and I'm going to go nodes and
then I'm going to say that I want item
and it's going to be whatever the first
result is since it's starting with 0
here and then I'm going to say that I
want to get the parent node remember the
data itself is inside of a node so if I
want to get the parent nodes name which
in this situation is going to be name
itself if this is what I'm searching for
right here what's in between the name
tags and if I want to get the parent
node which is going to be named in this
situation I need to go get parent node
exactly like that that's going to give
me the name so that I know what the
field is and then I can go get node name
right like that and then throw some
spaces in there to be nice and then I'm
going to bounce down to the next line
keep this separated and I'm going to go
nodes dot item and I'm just going to ask
for the index itself this time and then
I'm going to say get node value and
there you are and that's going to give
me both the node name as well as the
node value that's it
now of course I'm going to do more
complicated expressions here but if we
file save that and run it you're gonna
see right here it printed the node name
which is name and then each one of the
names of the shows so you say well I'm
not impressed with that I want to see
something more complicated okay so let's
say that we wanted to show everything
well just come in here and replace name
with a star that's it you just changed
one little thing this is going to be
dirty but I want to show everything
there is see there's everything here's
every node name here's every piece of
data that's stored in the entire XML
file of course you could take this
crazy-looking thing here and cut out
things like the actors and actor nodes
which are these guys over here see
actors is a child of show and then actor
is a child of actors and then real name
and characters and dot it out it out of
that so you play around that's your
homework assignment you guys are always
asked me for homework so let's say I
want to show names based on an attribute
so let's come in here again or the star
is currently and let's say that I only
wanted to show a name if it had a
specific attribute so again attributes
start with an @ sign ID if I only wanted
to Phi so the show that had the ID code
of show underscore 0 0 1 closing bracket
like that file save it and that's
exactly what it does gives me name
am and life on Mars which is over here
see show one it just gives me this one
right here so there you are and I can
get even more complicated with it let's
say that we wanted to show those actors
and character names because they were
coming up wrong before how exactly would
we do that actually it's pretty easy
bounce us back here and then we're going
to say actors so you can sort of like
let's see I'm just going to grab a
different child instead of grabbing name
like I've been grabbing over and over
again like this and then like this and
then file save it and there you go now
it's going to show the real name and the
character see it's actually grabbing
things from two different fields at once
for every single person that's in any of
the television shows that I'm working
with and as a final example let's say
that we only wanted to show actors in
which a character has the profession of
a student this is pretty much going to
cover everything you could ever want to
do with x-pac in these couple examples
so I'm going to go character and I'm
going to say at and I'm going to say I
want to know if their profession is
equal to student and if it is well then
I want to show those people and fit
isn't I don't want to show them and
execute and proceed and there you can
see character Lindsay Weir and Sam we're
both show up and everything else is
disregarded so there is a run-through of
how to use XPath inside of Java like I
said before in the next part of the
tutorial to show you how to both read
and write information to an XML file and
then we're going to move on to other
different issues inside of java leave
all your questions and comments below
otherwise until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>