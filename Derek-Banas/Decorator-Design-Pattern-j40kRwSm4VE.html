<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Decorator Design Pattern | Coder Coacher - Coaching Coders</title><meta content="Decorator Design Pattern - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Decorator Design Pattern</b></h2><h5 class="post__date">2012-09-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/j40kRwSm4VE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
11 of my design patterns video tutorial
today we're going to talk about the
decorator design pattern I'm going to go
through a presentation I'm going to show
you the wrong way to do it I'm going to
show you ways to use it talk about what
it's good for and provide you with a ton
of codes let's get into it okay so what
is the decorator design pattern the
decorator allows you to modify an object
dynamically and you would use this
pattern when you want the capabilities
of inheritance with subclasses but you
need to add functionality at runtime you
want this thing to be dynamic it is more
flexible than inheritance and it's going
to simplify your code because you add
functionality using many many simple
classes rather than trying to do all
this through inheritance and the great
thing about it is it allows you to
rather than rewrite old code you are now
going to using the decorator design
pattern extend with brand new code and
keep everything the way that it was so
let's go through an example here okay so
let's say you want to start a pizza shop
and you want to very easily be able to
add toppings to this pizza and then have
a description pop out say for a receipt
as well as a cost well the old way to do
it using inheritance you might go in
here and do something like create public
abstract class pizza and this is the
wrong way to do it I'm going to show you
the right way to do it here in a second
and then you might come in here and go a
public abstract void set description and
then receive a string and this is
basically going to describe every pizza
that you are going to be making with
this guy and then we'll also go in here
in public abstract string get
description and then just simplified
here public abstract double and then get
cost now what this is going to do for
you basically through basic inheritance
is allow you to treat all pizzas as a
pizza which is great however you're
going to see how limited this becomes
really quickly now if you come in here
and go public class and say you want to
create a new three cheese pizza and of
course extends the pizza class that you
just created and we have to come in here
and add or unimplemented methods of
course so there's all those guys and
then you can put something
here like a description and it could say
something like mozzarella fontina
Parmesan cheese pizza and then if the
user goes and tries to create that type
of pizza well of course it's going to
pop out that information and then you
could do something like return $10 for
this pizza all right so that's great
where you would think so however by
going this route what I'm going to be
forced to do is create new subclasses
for an infinite number of different
types of pizza so not only for the three
cheese pizza but I'm also have to create
subclasses for all the other different
types of subclasses of Pizza another
problem with this is say that the cost
is actually calculated based off of
individual items so if the price of
pepperoni all of a sudden goes up what's
that going to mean that's going to mean
that I'm going to have to change prices
in all of my subclasses to be able to go
and just have everything work for the
increased price on one topping
inheritance you see is static while
composition which we're going to use
here in a second is going to be dynamic
through composition I'll be able to add
new functionality by writing new code
rather than by changing current code and
you're going to see as if I go into the
pizza class for example and do something
like public abstract boolean and do
checks like has fontina for example this
is going to cause all kinds of havoc
you're going to have all sorts of
different potential toppings that are
not going to be on certain pizzas you
create and it's just going to be a mess
so now I'm going to show you how to do
this using the decorator pad so let's
jump over into a UML diagram and show
you exactly how that works and here you
can see the decorator pattern all set up
basically what we're going to do in this
situation was we're going to create a
pizza which is going to be an interface
and it's going to have two methods
inside of it get description and get
cost and they're going to return strings
and doubles in the situation then from
that pizza interface I'm going to create
a concrete class which is going to be
the bit most basic form of pizza and of
course it's going to implement get
description and get cost because it has
to then I'm going to take this most
basic concrete pizza and I'm going to
save it over here where I have temp
Pizza and this is our decorator then
this is going to be an abstract class
and basically what it is then going to
do is use these a daiquiri
objects that are built of type topping
decorator and make changes to the
different methods get description as
well as get cost and that's all going to
be implemented down to this most basic
concrete Pizza type so this is the UML
diagram if you don't know whenever we
put this little diamond on here this
just simply means that this pizza has a
has a relationship with toppings so
every pizza is going to have a topping
and that's the reason why that's on
there and that's called an aggregation
relationship so let's go into the code
and explain exactly what's going on but
simply we're making a concrete Pizza
class that's going to be based off this
interface saving it into this abstract
class which is then going to add
toppings to our pizza type so let's get
into the code and further explain this
okay so now I'm gonna go into Pizza dot
Java and we're gonna make this guy work
the right way so just delete all this
because this guy is going to be an
interface and this the whole three
cheese pizza Java file is just going to
get deleted because now we're going to
be using the topping decorator to put
all kites of different toppings on our
pizza so let's just go public this is
going to be an interface and we're going
to call it pizza this is going to be so
much more simple to handle then we're
just going to go public string get
description right like that and then
public double number this is going to
calculate price get cost it's going to
allow me to get the cost for all the
toppings and that's it there you are
there is the pizza dot Java interface
all created for me so now I have to go
to my plain Pizza Hut java file and set
this guy up this is going to implement
the pizza interface and of course all
the required methods of that interface
and each one of the pizzas that we
ultimately create is going to be based
off of plain pizza so we're going to say
implements pizza and then of course it's
going to tell me that I need to
implement on implemented classes so I'll
just click on that
there we go that's all set up for me
right and then inside a get description
I'm going to return thin dough let's
just say I every single piece I make has
thin dough and then I need to return a
cost for that that's going to be $4
there you are I'm done that's all I need
to implement for the plain pizza that's
going to be the concrete class that I'm
add toppings to
so pretty cool so now I need to go into
topping decorator dive Java this is the
decorator class I'm gonna be using here
and it's going to be an abstract class
I'm gonna go topping decorator and it is
going to implement pizza so that it's
going to have access to all the same
methods that our plain pizza has access
to that's cool
and then I'm going to go protected pizza
and this is going to hold our plain
pizza a reference to that file and then
I'm going to come in here topping
decorator this is going to be the
constructor that is going to be passed
the reference to the plain pizza object
that is going to be created so I'm
basically just going to create an object
and then from that point I'm going to
start adding changes to get description
and get cost so I'm just going to say
temp pizza is equal to new pizza this is
going to be passed over to it let's save
that and of course I want to change that
to topping decorator so I don't get an
error on that and that the pizza so I
have that all set up and then I'm just
going to come in here and go public
string get description like that and
then I'm going to return temp pizza I'm
going to call the description on temp
pizza right like that and then I can
also just copy this guy and do pretty
much exactly the same thing with the
cost so we're going to go to double get
cost and then temp each is going to be
changed to get cost again I'll save it
and that's just going to give me access
to what everything is going to implement
topping decorator from now on is going
to have access to get description and
get cost for the peach'
object that I created up there and guess
what that's all I need to do for topping
decorator so now if I want to add things
to get description get cost or change
them or delete them all together I'm
going to go into mozzarella dot Java in
this situation I'm going to add
mozzarella cheese to it so how do I do
that I'll lick class
mozzarella and extends topping decorator
pretty simple it's going to give me an
error that I need to implement some
unimplemented classes do that and I'm
also going to have to add my constructor
for the pizza and it's just going to
receive new pizza and it's going to make
a call to new pizza right here
to create that guy and that's a
reference back to the plane bitsa or
topping decorator is going to be super
in that situation for mozzarella because
super is a reference to topping
decorator so that's how that works
so then to help us be able to figure out
exactly what's going on whenever we're
running our program I'm gonna make a
couple little changes inside of here so
I'm gonna go system.out.print line and
I'm going to be saying adding dough
because that is what plain pizza does it
just handles the dough part of creating
our pizza and I'm going to go here and
I'm just going to type in MOC just short
for mozzarella and then of course I'm
going to have to get get description and
all that stuff and in that situation I'm
just going to come over here and copy
this from topping decorator paste that
in save himself a little bit of time and
then get description and we're going to
have temp pizza get description make a
call back to the plain pizza to get the
dough information and then after that
I'm gonna say I want to add mozzarella
to the description for this pizza
because I just did that okay and then to
the total cost well I got the tossed of
the dough let's say my mozzarella cheese
is gonna cost an extra 50 cents there
you go just did all that mozzarella job
is all done and I'm actually gonna be
able to copy this guy save me some time
and then I'm gonna go over into tomato
sauce Java so paste that in there and
now I need to just make couple little
changes here so I'm gonna go tomato
sauce which is the name of my file and
then I'm just gonna paste this in here
I'll save that everything else is gonna
stay exactly the same except this guy
right here I'm going to delete this out
I'm gonna say adding sauce just so we
can see how this is working through here
code wise and then what I need to do is
return the result
by calling it description for plain
pizza the concrete class as well as
mozzarella which is going to be a
decorator for me as well as tomato sauce
sounds really complicated but it's not
all I need to do here is go tomato sauce
pretty simple and then if I say well the
price of my tomato sauce is gonna be 35
cents I'll say just did that right there
okay so now let's try this guy out for
me to go into pizza maker Java all the
codes available underneath this video so
to test this guy test
these objects pizza-maker and then since
this is going to be the controlling the
actual application that's going to play
with these different objects I'm going
to have main inside of this arcs yeah
and if I want to create myself a pizza
I'm just going to go pizza and basic
pizza and then if I want to add tomato
sauce to my pizza I'm just going to go
tomato sauce new tomato sauce and what
this guy's going to do is the plain
object is the plain pizza object is
going to be sent to the mozzarella
constructor and then the tomato sauce
constructor and it's going to slowly add
everything all the functionality that I
want so mozzarella new mozzarella and
then the guy that we're going to be at
and everything too is playing pizza I
like that close that off and there you
go so that's going to call all those
different constructors and create all
those different guys have an extra
bracing er okay so that just created my
pizza now it's time to prove that the
pizzas been created I'm going to go
system.out.print line and I'm going to
say ingredients of my pizza and to get
my ingredients I just go basic pizza get
description and it's going to call get
description on all those because that's
exactly what I told it to do and close
that off and then if I want to get my
total cost no matter how I can add as
many I only added on tomato sauce and
mozzarella I can put on here as many
descriptions or as many other toppings
as humanly possible you can add any
number of other different changes to all
your different classes and you get the
price I just need to go get cost I'll
save it execute and there you go
added though add some mozzarella added
the sauce and there you see the
description print south Indo mozzarella
tomato sauce and the total price if you
haven't quite gotten everything here
either leave questions or comments below
or all the code is available in a link
underneath the video that's heavily
commented feel free to get it otherwise
til next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>