<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Make Android Apps 5 : Multiple Android Activities | Coder Coacher - Coaching Coders</title><meta content="How to Make Android Apps 5 : Multiple Android Activities - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Make Android Apps 5 : Multiple Android Activities</b></h2><h5 class="post__date">2014-06-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/45gq0Q8GFMM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
5 of my how to make Android apps
tutorial today I'm going to cover how to
create multiple activities and how to
pass data back and forth between those
activities this is a very common thing
you'll have to do when making android
applications and I'm going to keep
everything condensed real small so
you'll be able to really understand
exactly how it works so I have a lot to
do so let's get into it okay so here we
are inside of Android studio and I
already setup our little project is
called switching screens and what it is
going to do or I have all the code in
the description underneath the video if
you want to go and get a hold of it and
what it's going to do is going to set up
two different activities it's going to
pass data back and forth between those
activities so what am I going to need to
open up I'm going to go into my app
folder and I'm gonna go into source and
I'm gonna need my Android manifest
because we have to tell the manifest
that there's more than one activity I'm
going to need main activity and I'm also
going to need to go into the resources
folder and open up this layout right
here okay so everything's open you can
see our little emulator working over
here for us and I'm going to enlarge the
font okay and large the font now I'm
going to go into my layout folder
because we have to create a layout for
every screen or activity that we have in
our application just click on that and
go to new and then I'm going to come
down here to XML and then I'm gonna come
over here to layout XML file click on
that and the name I'm going to give for
this is just seconds layout and don't
put XML one I'm going to leave this as a
linear layout just like we have here and
then come down here and click finish
alright so it's going to generate that
out on the screen for me and there's a
couple different things I want to do
here I'm going to have this be wrapped
content and I'm going to have this also
be wrapped content and remember with our
linear layouts we want to define our
orientation and the orientation for this
is just going to be vertical this is
going to be a very simple app but I did
on purpose that way so that you'll be
able to sort of just go in there and
copy and paste if you want and let's
make that be Center to the left
and let's throw some padding on it as
well I don't just say 20 DP just playing
around here okay so basically what I
want to do is I want to have a text view
that's going to act as a label and it's
going to say for them to enter their
name into the editable text box and
they're going to be able to hit a button
and it's going to send it back to our
previous activity which is going to be
mainactivity.java which you should be
well used to using so I'm going to
create a linear layout here inside of
this and I'm just going to have it be
wrapped content and for the height I'm
going to have that also be wrapped
content and I'm going to define my
orientation this time to be equal to
horizontal and just like I said I want
to put a text view inside of this so
there's text view and I'm also going to
have it be wrapped content as well I'm
going to put some text inside of this
and that text is basically going to say
enter your name or something to that
effect
and then I'm going to go over to the
little light bulb over here and let it
automatically extract the string
resource into strings.xml and I'm going
to give this the name of enter name text
view and click OK and that's going to go
in the strings.xml file for me next
thing I want to do is have an editable
text area and this guy is going to allow
them to enter their name and let's say I
want to do something like have it be 185
DP so that there's plenty of room on the
screen and then the height is just going
to be wrapped content again and then
because I'm going to want to get that
name that they entered and send it back
to the main activity I need to give this
an ID and the idea I'm going to do is
users name edit text and that's all I'm
going to do for that guy and that linear
layout is going to close out and then
you can see it over here see enter name
and there is going to be the editable
text area now inside of here I'm going
to create another linear layout and I'm
going to have it also be wrapped content
wrap call
that works for me going to come in here
and change my orientation to horizontal
and let's say I want to put some padding
on the top of this guy and let's say 10
DP I don't know all right now inside of
this what I'm going to do is it's going
to whenever the main activity calls for
this other activity to open up I want to
send some data along that's going to be
displayed inside of here and I'm also
going to need a button so that whenever
they click on their enter name or they
type in their name and hit a button it's
going to send it back to me an activity
so I got to create a button instance
inside of here and I'm going to have it
also be wrapped content wrap content the
text for this is going to be enter just
keep that simple and then I'm going to
have to perform a certain I can come in
here and click on this extract string
resource if I want and type in enter
name button and then click on OK and the
most important thing here is I need to
be able to sense if the user clicks on
this button so that I can send the name
back to my previous activity going to do
that with on click and I am going to
open up a method that's called on send
users name and then I also want to put
another text view inside of here in this
text view is just going to say what
activity called this activity to open up
so I'm going to do ID I'm going to call
this calling activity info text view
it's just going to display the main
activity as the one that called for this
to execute and let's say that I want to
do a layout width and let's just have
this be rough content say if I would I
did this the right way it would
automatically went inside of there put
that right there and layout height got
ahead of myself a little bit and have
that be wrapped content as well and then
the text that's going to be inside of
this guy I can say something like the
calling activity was and then a space
and then I can go click on this guy
extract string resource and then inside
of this type in calling activity message
ok and click OK
and there we are we have the whole
entire thing set up and then it's going
to say main activity
here whenever this is called and
everything set up perfectly so now I'm
going to jump over and edit up the
activity main layout okay so here is
this guy and this is going to be a
linear layout as well don't worry I've
had some questions I'm going to cover
all the different layouts I'm just using
linear layout because it's the simplest
match parents all fine I can just get
rid of all this padding and replace it
with one padding type and we'll just say
20 DP and then for the gravity or the
position of this layout on our screen
I'm going to say gravity and then I'm
going to say Center and I also want it
to be at the top see how it was moving
over here the textview that I have for
this I'm going to replace this hello
world right here and then let's say we
want to say something like go get the
name and whenever they click on the
button underneath it's going to open up
the other activity this structuring
resource I can just call this get the
name textview good enough have this be
wrapped content that's fine let's say
maybe I want to have the text style on
this guy to be set for bold and let's
make the text size a little bit bigger
so that it fits inside of here
actually it's make this style didn't
notice that and then we'll go text size
and make this 20 SP there we go and you
can see there it is go get the name and
then underneath of it I'm going to need
to have a button and this is going to be
wrap content wrap content change this
the linear layout round down here and
the text for this can be go get it and
just keep this simple I'm not going to
put this in the strings.xml file and
then if I want to put like a margin on
the top of this guy that and let's say
something like 20 DP and then whenever
it's clicked it's going to have to open
up the new activity so I need to be able
to have a method that is going to be
called when this is clicked so that that
is done and then I also want to put a
textview inside of here that is going to
display the user's name and then we'll
be all done with this textview wrap
content wrap content get our text the
user's name was
that's because we're going to need this
I'm going to give this a name or I'm
going to put it in strings.xml file
users name
sent back there you go do our textile
have this be bold as well text size have
this be 20 SP layout margin-top have
this be 20 DP I'm just keeping
everything simple here I know it's not
going to be beautiful when it from ton
anyway so it doesn't really matter and
then because I'm gonna have to get a
hold of this and we go name and the
reason why I need to get a hold of it
was whatever that name is passed back
from the other activity I want to be
able to say or tack it on to the end of
all of this stuff and the reason why it
looks goofy over there is I need to go
up here and type in orientation and
let's have this be vertical and there
you can say everything all looks good
now alright super and then before I get
out of here let's click on this guy
right here come over to our little light
bulb and create on name click in main
activity and you can see it's been
created right there and this is where
I'm going to be able to do pretty much
everything now what we're going to be
using here is an intent and on intent is
is it's an intention to do something
before you do something in Android you
have to say hey this is what I want to
do this is exactly how I want to do it
and go do it Android that's it this
intents are very confused by people
they're very simple so what we need to
do first is we need to state that our
intention is to open another activity
and we're going to do so by passing a
context as well as the activity that we
want to open so intent and what we want
to do here I want to get name screen and
I'm just going to put intent there at
the end new intent and then you have to
pass a context which is this which is
all that's been going on with our
application as well as all the resources
that could be needed we learned all
about context in previous tutorials and
the class that we went to open which is
second screen which it's read right now
that's because we haven't created second
screen yet we could come over here
though and create second screen new and
Java class and I'm going to call it
second screen and I'm gonna say okay and
there it is and then
it's an activity so extends activity
there we go delete so we might as well
just go in here and create our on create
for this so just right click on that go
to generate and then we're going to go
over I'd methods and what we need is on
create this guy right there they're
created it for us then we can jump over
into second layout that we have right
here actually you know what let's jump
over into the manifest sorry I'm jumping
around a lot but I want to do everything
here in a reasonable way now in the
manifest if you create a new activity
you have to define it inside of the
manifest file so what we're going to do
is we're going to create a new activity
right like this and it's going to be
called second screen there it shows up
right there now what we're going to do
is we need to find a couple different
things the name is just a reference to
the class and let's say we want to give
it a label and I'm just going to call
this get name and then if we want to
define a theme for it there's theme and
for this one I'm just going to say at
style app theme exactly what we've been
using all ready so we need to do that in
the Android manifest file don't forget
to do that very important and that is
basically all we need to do whenever we
create a second activity for the Android
manifest file so we can close that and
we're back inside of main activity and
specifically we're in on get name click
view and like I said before this is
where they click let's look at it just
make sure you remember is that was too
long clicking there this guy right here
when they click this button that is
whenever this method right here is going
to execute so we instated that we well
we're sending our context with this and
we stated that what we want to happen is
that we want the second screen to open
then you're going to have to define a
result which can be used as a number
that sends certain signals or provides
you certain information what have you
don't worry about that one right now
it's not that important and then we're
going to have to put data that we want
to send over to the second stream now
you don't have to do this it's only if
you have it so we're going to say get
name screen intent and if you want to
pass additional information over to the
second screen whenever it's open you
just go put extra and then you have to
find the name for your string so this is
just the strings name I'm going to call
it calling activity it's like a key
value pair and then the string data that
I want to pass over which is main
activity so it's passing that over as
the activity they called for the second
screen to open you can send anything you
could send multiple different pieces of
data but right now that's all we're
going to do now if you want to call for
that activity to run and you don't
expect that screen that other screen to
send data back to you you can just go
start activity right like that and then
pass get name screen intent which has
all the information you need to be able
to get that information and call that
screen to open however you want to be
able to retrieve information back from
that other screen you're going to type
in and said start activity for result
and then to that you're going to pass in
this result ID and that is it that's all
it's going to take to open up a
brand-new activity and call for it to
open as well as call for it to open and
expect it to send data back to you now
we're going to come back to
mainactivity.java in a second but first
I want to go over to second screen java
and set up everything there okay so here
we are inside of this guy now of course
we're going to have to say what layout
we want to be able to use with this new
activity that we're creating so set
content view and you're just going to
our layout and then you're going to pick
your layout which we called second
layout so there that is and then we're
going to create another intent and what
we're going to do with this intent is
get the data that was passed over from
main activity so this right here we want
to get this so back over here again
intent and I'm going to call this
activity called something activity that
called that makes a little bit more
sense and we're going to say get intent
so there that is now we want to get the
data that was sent so we're going to
create a string and I'm just going to
call this previous activity is equal to
and then I get a call activity that
called that intent and get extras which
is the extra data that was sent and then
we're going to say get string and we're
going to say what specific key
valued pear it has or what specific key
we have in this situation and the
specific key we have in this situation
is calling activity because that's what
we called it
of course we want to put it inside of
quotes so calling activity and then
semicolon so calling activity jump over
here calling activity this is the key we
gave it and this is the value we want to
retrieve back over in the second screen
now we're going to create our text views
so that we will be able to send a
message inside of our second screen so
that we can display hey main activity
was the one that called for the screen
to open up so calling activity message
is equal to and we have to convert this
to a textview because that's what it is
it comes through as just a regular old
view and we have to say this is a
textview find view by ID and r dot ID
put this on second line if we wanted to
it's not going to hurt anything and dot
calling activity info textview and
that's where we're going to put our
additional new information about what
activity called this guy and to do so we
just go calling activity message that
guy and if we want to append the name of
the activity at the end of it instead of
deleting it or anything then let's also
put a space inside of here that normally
gets deleted and we're going to put
previous activity right there and that's
going to display inside of the second
activity that opens up on our screen if
we jump over into second layout you can
see that right here so it's going to say
the calling activity was and it's going
to say main activity so that's what we
were just doing right there now we can
click on this guy right here and this is
going to be the button that is going to
take the user's name and send it back to
the first activity come over here create
on send users name yes of course and we
are back inside of here so let's finish
this up so the first thing I'm going to
do is I'm going to get the edit text
because it is going to have the user's
name that they entered and I'm not going
to do any error handling in this just to
keep everything simple I'll get more
into that later
so it's an edit text and
to do a find users by ID and the
specific one I want is our dot ID and
users name edit text this one right down
put a semicolon with this one second
line here make it a little bit easier to
see everything all at one time and then
if I want to get the name that was typed
in to the editable text box let me zoom
in here a little bit so you can see a
little bit better and I'm going to call
string and I need to convert this so
value of and I'm going to go users name
et that guy right there
and then I want to get text gonna get it
yes it did and throw in a semicolon so
now we got the name that they entered in
the user of our application so now what
it's time to do is send that back to the
original activity and to do so we're
going to create another intent we have
an intent to do something we have to
tell Android we want to do okay and I'm
going to call this go back and it's just
going to take us back to the previous
activity there's our intent and I need
to define the string and the key you
know name for our string as well as the
value that I want to send back and going
back again and then I can say put extra
and then what I'm going to put is this
is the key it's going to be a user's
name and then users name again put a
semicolon there and then I have to go
set result this is the result of this
activity executing and I'm going to pass
back result okay which means that
basically everything is good and then I
have to pass the intent which has all
information and for the result okay it
could also be result canceled and that
is going to be called any time these
this specific screen that we're working
with our second screen like crashes it's
going to pass back result canceled once
again it's not something to worry about
result okay is normally going to be
great for you every single time and then
because this screen is done working
we're going to close it with finish and
that is every single thing we need to do
with the second screen job and I'm going
to jump back over into main activity and
finish up a whole entire app okay so
here we are back in mainactivity.java
and what I'm going to do with this guy
is I need to handle the name being sent
back to me in this activity after the
other screen closes so I'm just going to
right click inside of here
and I'm going to come down to generate
and I'm going to go override methods and
then what I want to specifically look
for is on activity result and it's down
inside of this one right here on
activity result there it is and I'm
going to cut this out of here and put it
down further below because I like it
down here better okay and what I'm going
to want to do here is create the text
views so that I can put the user's name
inside of it so we have to go text view
again and I'm going to call this the
user's name message and it's a text view
that's what I'm going to cast it into
text view let's come down here and let's
say find by ID and this is our ID see
you do the same thing over and over
again eventually it just starts to stick
in your head and the message is the
specific thing that I want here so I
want to be able to go and change that
text you so that it displays the user's
name on there and I need to get it so
name sent back from the previous
activity that just closed the second
screen one and that is in data and I
want to go get string extra that was
passed back and I need to give it the
key that was used previously which is
users name to get the value and then I
could just go users a message and if I
want to append it to the end of that no
problem you guys already saw this and
then I'm going to put the name sent back
and it's all done everything's there so
let's execute this alright everything
changed down here so you know it's about
ready to get started yes my emulator
acts goofy as well that's why I normally
use a device instead of this but this
works whenever we need something there
it is switching screens opens up go get
the name
go get it this is going to open up the
other screen and there it is right there
and we can just come in here and type in
our name there's my name and you can
also see here the calling activity was
main activity so you've got that hit
enter and you can now see the user's
name was Derrick and that's
back on the original screen so that's
how to work with multiple different
screens and press data back and forth
between them please leave your questions
and comments below otherwise till next
time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>