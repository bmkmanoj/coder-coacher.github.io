<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Samsung Mobile SDK 6 | Coder Coacher - Coaching Coders</title><meta content="Samsung Mobile SDK 6 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Samsung Mobile SDK 6</b></h2><h5 class="post__date">2013-11-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/spjab1eTTDE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
6 of my Samsung Mobile SDK tutorial
today we're going to be focusing in on
the Samsung S Pen how to create and set
pen settings we're also gonna review how
to define different button States which
we're later going to use by later I mean
in the next part of the tutorial we're
gonna create a toolbar that will work in
any Android device and then I'm also
going to cover the basics of setting up
and creating a paint app and this of
course is brought to us because the
Samsung smart app challenge there's all
kinds of information in the description
under this video on how twelve people
are going to divide up 1.1 million
dollars also if it's still November 2013
there's also information below on how I
can help you win a Samsung Galaxy Note 3
or one of three Galaxy gear watches ok
so let's take a look at what our apps
gonna do on purpose I made this very
very simple what it's going to do is if
you click up here where the little pen
icon is it's going to open up pen
settings and you're gonna be able to
come in here and switch between all of
these different possible pens you're
also going to be able to change the
stroke in some situations the opacity
and you're gonna be able to pick a color
and then you're gonna be able to draw
something on the screen seems really
simple but there's going to be a lot in
regards to how this button is going to
react whenever we press on it and also
opening up this settings panel and a
whole bunch of other different things so
let's just jump right into the code okay
so the very first thing we're gonna do
is handle our layout and we're going to
use a generic linear layout for this
whole entire layout and you can see if
we switch over into the graphical layout
exactly what it looks like basically
like nothing so what we have to do is
put a button up here this button is also
gonna have to react to button clicks and
change the images and so forth and so on
and then we need an area inside of here
which is going to be a frame layout with
a relative layout inside of it that
we're gonna be able to draw on
so first let's come in here and let's
think about how we're going to put
together a toolbar the very first thing
we're gonna have to do however is come
in here and type in tools and then
context and like I mentioned before
basically what this is going to do is
define which activity the layout is
associated with when the app first
starts
because we all know that it's possible
to have multiple activities all use one
layout so that's what this is used for
and I also mentioned it also helps the
layout editor know what theme is going
to be used so we're going to be using
pen sample 1 - 2 - pen settings and you
can see up here pen sample 1 - 2 - pen
setting Java so that's what that is
then what we're gonna need to do is to
actually create our tool bar it only has
one button on it but really we're going
to be doing the same thing over and over
and over again if we're going to be
using more than one button so I'm going
to come in here and I'm gonna create a
linear layout and then inside of this
we're going to give it Android ID is
going to be equal to and then we want
this new ID to be created for us we're
gonna go ID and we'll call this tool
menu and then the width and the height
one's gonna be matched parent the width
that is and then our height is going to
be wrapped content and there we go
and then of course we're going to have
this other linear layout here that's
gonna close off everything and then
inside of this what we need to do is
create room for the background for our
button as well as the foreground or the
icon itself to do that we're going to
use an image view and then I'm just
gonna copy this because we're gonna use
both of these again
the ID for this is going to be pen
button and it's kind of interesting how
we are able to handle different states
this is going to be matched parent and
this is also going to be wrapped content
we're going to want to put in a margin
so we're gonna say layout margin equal
to 1 D IP and then this is the
interesting part we're going to come in
here and go Android and define what our
background is going to be but the
background is actually going to be
another XML file that is going to use
different images depending upon the
state of the button so we're gonna go
selector tool PG and then we're gonna go
Android source is equal to and this is
going to be another drawable and this is
gonna be selector pen which is going to
also be an XML file and then we can
close this off now let's first take a
look at selector tool BG that's going to
be our background
background that's what it stands for so
if we jump in here you can see it's an
XML file and basically what its gonna do
is it's going to open up different
images depending upon if the button is
currently selected or if the button is
currently being pressed and it's going
to define false false false true true
false true true so it's gonna handle
changing the background for our button
depending upon different states then all
we need to do is go inside of here and
reference the background images remember
this is the background part of the
button that we want displayed depending
upon when the user clicks on it
basically what we're gonna do is we're
going to use these guys right here tool
I see area BG press Center select dim
and so forth and so on and if you want
to see what they look like they're
basically just blank little squares say
and then they're going to be stretched
into position and all of them are
exactly the same while the color is
different but the shape is the same and
for our background images we're going to
have a total width of 22 pixels by 46
pixels in height and then whenever we
create our little icons for our pen
they're gonna be 44 pixels when width
and 44 pixels in height
however the background images are
actually going to be stretched into
position okay so basically we just need
to go into drawable and define what
background images we want to have inside
here so I already showed you where they
were so we just threw them all in to
lycée Area Center if we come over here
to I see Area Center let's open it up
again say that's going to be the default
background when nothing's being pressed
and nothing is being clicked on as you
can see right here and then we just
define whatever the background is in the
situation in which it is being pressed
but it is currently not selected and so
forth and so on
so that's all we're gonna do but it's
kind of neat that we can go in there and
change States just that easily by
referencing another XML file and then
we're going to go into the pen all so
let's jump back here for one second see
the pen is going to reference selector
pen right here and here is selector pen
XML then we're going to come in here and
define all the States by referencing the
draw bowls inside of this so if we throw
all those back in there and you can see
here two lycée pen is the
to be the default state and then we can
come down inside of here and go tool
I see pen it's a ping file and there it
is there's your icon so that's how easy
it is to go in and create different
states for a tool bar system inside of
Android and like I said this is the way
it works for any Android device this
thing here specifically doesn't have
anything to do with Samsung so now we'll
jump back over into activity pen
settings XML and inside of here we're
basically going to define an area in
which we're going to be able to draw so
inside of our frame layout we're going
to put a couple different settings let's
just copy this stuff again so I don't
have to type it in paste that in and
we're gonna be referencing these inside
of the code and for our frame layout
this is going to be called s-pen view
container match parent and this is also
going to be set for match parent then
inside of this we're going to put a
relative layout and it will have an ID
of s-pen view oh yeah in match parent
match parent and then finally we're
gonna close off our relative layout and
we're all set so that's all we need to
do in regards to setting up the XML file
for our little paint pen settings
application so let's file save that and
then jump over into the actual
application and start building it I know
I've gone through a couple of these
already in the past but I'm going to
review them very very quickly so that
you know exactly what each of these
libraries do this guy right here which
is just an exception is basically going
to make sure that the device that we are
running this app on is going to support
the Samsung Mobile SDK and in this
situation if you didn't watch the very
first part of the tutorial what I did
was I created all of these different
tests inside of here and a whole bunch
of different dialogues that popped up on
the screen to alert the user to any
errors in this situation rather than
typing all that out we're going to
instead keep that in this little class
called SDK utils and this is a Java
class ok so that's basically what that
exception does then we have our s-pen
library here which is going to
initialize and verify the D S Pen is
available then we're gonna have S Pen
note dock which is going to allow us to
manage s P D or S Pen data files and
it's going to load as well as save these
SPD files it's also going to be used to
add and remove page Docs
as well as attach external files which
brings us to Page dogs basically a page
doc is just gonna contain all the data
and all the objects inside of the page
and it's going to allow you to add
additional objects and delete objects
and retrieve them and change layers and
objects and also provide general
settings for the page document in
general then since we are going to allow
the user to change the color and the
stroke and so forth and so on with the
pen now we have to create a listener
that's gonna be used whenever the collar
is changed and basically that's gonna
happen anytime the Settings window is
opened up in general this guy right here
spen surface view is going to allow us
to edit the drawing surface with either
a finger or an S Pen s pen settings pen
info is going to store all the settings
currently for the pen be it color pen
class name as well as thickness this guy
right here is a reference to what I just
showed you
basically what its gonna do for us is
just create all the alert boxes in
situations in which the device being
used can't run the app or there's no S
Pen available or the app needs upgraded
or whatever like I said before it
covered that in the first part of the
Samsung tutorial and then finally we
have s pen setting pen layout which
basically provides methods for working
with the pen settings layout and those
are all the libraries we're gonna you
need to be able to create this guy so
now basically I need to create all the
different classes we're going to need to
use inside of the application so the
very first thing when it create here
it's a context which just like I said
before it's just gonna provide basic
access to add different application
resources as you're gonna see as this
tutorial continues and then we're going
to have to of course create our s-pen
note doc page doc and surface view so S
Pen note doc you can almost think of
these guys as if they are layers on top
of the application so like I said the
surface view is going to basically
handle whether an S Pen or a finger is
being used to draw on top of a page
document which is gonna hold all the
objects and then the note doc is gonna
hold all the pages and then we're also
going to come in here and get the object
that's going to provide all of our
methods for working with the pen
settings layout and then all
we're going to come in and create our
image view or our pen button image okay
now we have everything define we're
gonna go inside of on create and
basically set everything off so first
thing we have to do of course is
reference the layout that we'll be using
with this activity or layout activity
pen setting let's just find that there
it is
and that's the guy that we just created
then we're gonna need a reference for
our context which is just gonna be this
in this situation we're going to track
whether the S Pen is going to be used
with this application or not and we're
going to set it as false to start off
until we figure out that yes we can use
it we're gonna have to create an S Pen
object that was easy enough then
basically we have to come in here and
try to initialize the S Pen and if it
doesn't exist then we're just going to
trigger an exception which is going to
be handled by SDK utils up here to
initialize it we just call S Pen package
initialize pretty easy and then this is
going to be passed inside of there we
could also pass in the context but
whatever and then we're going to set the
value for whether the s-pen feature is
going to be enabled or not and we can do
that by calling s-pen package or a
little tool here and then is featured
enabled and we're gonna pass in s-pen
device pen that's how we reference that
S Pen and there we go and now since we
ran that we're going to have to catch
our great big giant huge exception if we
need to which is this guy right here
copy roll back down paste that inside of
there and if we triggered this exception
we're gonna call SDK utils dot process
unsupported exception and then pass in
the context as well as the exception
itself and then check if it's equal to
true like I said I'm not gonna go
through exactly what the SDK utility
part one of this tutorial
then we're gonna say return so handle
that exception if that comes up and then
we're going to throw in a just general
sort of exception catch here exception
eat one and in this situation we're just
going to pop up a toast on the screen
make text
and we have to pass it the context as
well as the message which is kind of a
generic message and then we're gonna
reference how long it's gonna stay on
the screen and then finally call show to
show the toast and there we go
you could also print out a stack trace
so we'll be able to hunt down this error
and eliminate it and then finish is
basically gonna kill the application
okay so now that we have that all set up
it's time to initialize our layouts so
I'm gonna call all frame layout and this
is a reference to these guys let's roll
way down here these guys right here
so frame layout and we're gonna go spen
view container is equal to cast it's all
frame layout and call a find view by ID
which is gonna be our dot ID dot and
it's gonna be s-pen view container this
guy right here that we created
previously now we're basically going to
do the same thing for our relative
layout face that in there and let's just
call a little relative layout this is
gonna be spen view layout change this
the relative layout and then change this
to layout okay so we have both of those
layouts all initialized now of course we
have to create the s-pen setting pen
layout so and this is going to allow us
to go in there and change the settings
for our pen this is gonna be new s-pen
setting pen layout it's basically a
handle everything for us we just have to
pass in a context an image file if there
is one for the string in this situation
there isn't and then spen view layout
which is this guy right here it's
relative layout of course we want to
handle if something goes wrong with this
so if this is equal to null we're gonna
make ourselves another toast so let's
just copy this paste that in there get
rid of this say something like cannot
create new pen setting view and then
everything else gonna say the same and
we can kill the application with finish
again tab that in so it's a little bit
easier to see then we just want to add
our pen setting view to our frame layout
since we know that it is set up to do
that we're gonna call s-pen view
container which is the frame layout and
call add view and then pass in or
setting view and then create our drawing
surface on the screen it's basically
just like Legos almost you slap all the
different pieces together and then it's
basically your job to have them
communicate in whatever way you want
them to communicate s-pen surface view
pass it to context and there it is
it handles everything else for you then
we need to check if the surface has been
created so if and then come in here grab
this guy paste it in there and just
check if it's null and if it is what are
we gonna do you know print on another
toast now create new s-pen view
everything else is fine everything else
is fine
now that we have that surface view all
set up we just need to insert it into a
relative layout which we're just gonna
call the relative layout with s-pen view
layout and then add view em s-pen
surface view pops up there and then call
and setting to set the canvas view acid
s-pen surface view then we're gonna have
to get some information in regards to
our display that we're gonna be working
with which get window manager get
default display have to create a rect
which is gonna store the integer
coordinates for this display and then
call display and get the rectangle
coordinates and store them in the rect
now we have to try to create a note doc
and we're gonna do this inside of a try
block as well mmm s-pen note doc
remember the note doc is gonna hold all
the pages the page is gonna hold all the
objects so new s-pen note doc pass in
the context get the width for our
display as well as getting the height
now that we have that catch an i/o
exception it would be triggered and then
we're going to throw in another toast to
alert the user that something went wrong
print a stack trace as well as kill the
application cannot let's just say
initialize note doc good enough
everything else is fine make sure to
change that to e which is what comes in
there otherwise we're going to catch a
general exception or catch all general
exceptions and just print out the stack
trace and finish to kill the application
if we didn't have any problem we're
gonna add our page to our document S Pen
page doc call note doc and a pen page
pretty easy set our background color for
our page document it's a background
color there it is and I'm just gonna use
this generic thing that we were provided
with enough scroll that up a little bit
clear our undo and redo history this is
a little bit of foreshadowing and what's
coming in the next part of the tutorial
which is a more elaborate paint
application put the s-pen document
inside of our current view by calling
set page doc from the surface view in
there it goes and will it update yes and
there we go then we're going to call a
method that we're going to actually
create below here in a couple seconds
actually it's created right now just sue
nobody's confused
so bounce down here and go private Boyd
doesn't return anything come inside of
here and basically what we're gonna do
is just set the initial pen settings for
our pen application so just call s pen
setting pen info call this pen info is
equal to new s pen setting pen info this
is gonna store all the settings for the
pan of course just like the name sort of
implies and then to set everything for
the pen get this guy paste it in there
if we want to set the color they just
call color and then go color and let's
say we want it to be blue and there it
is now it's blue and if we want to also
set the size to 10 that's all I need to
there it is it's done then we just need
to make a reference to the s pen surface
view so that it knows about these new
settings set and setting info and pass
in the pen info and there it is not a
surface view that handles drawn with the
finger in the S Pen is well aware of
what's going on and then we're also
going to set the settings for the
settings view by calling pen setting
view set info and pen info was passed
and there we go and everything's set up
so the pen has defaults as well as the
surface view knows what type of pen to
use stroke wise as well as the settings
view also knows sounds pretty easy now I
need to actually make a reference to the
method it's going to be called whenever
there are any color changes or any
changes in
to our pen so set color picker listener
em color picker listener is referenced
so I'm going to bounce down here and
create that as well to handle what
happens whenever a colors changed for
our pen or pretty much anything is
changed for our pen we're just gonna go
private a set in there change this to s
pen color picker listener which is what
it is
base that in there and to find
everything inside of here new do this in
line color picker listener throw in a
semicolon it's gonna say hey you need to
add some unimplemented methods do that
basically what are we gonna do
whenever the color or in general any of
the settings are going to be changed
basically just come in here and go if am
and setting view is not equal to null
we're gonna get the pen info by just
calling the pen setting view and then
calling get info from it because we know
that's where the color would have been
changed then we're just gonna go penny
info and color and we're gonna call this
color because that's what this is a
reference to up here and this is
actually a reference to XY position so
let's just throw those in there XY
coordinates I mean and then call pen
setting view set info and pass at the
pen info okay so we were able to handle
whenever the color is changed and what
we're gonna do with it
so let's bounce back up inside of on
create again we're gonna initialize the
image view for our pen icon by just
referencing it it's equal to refer to
image view fine view I ID there it is
and then we're just going to set the
method it's gonna be called whenever
this button is clicked or this image
view is clicked set on click listener
and that guy's gonna handle all the
handling of the events when that's
clicked on so might as well create it as
well and I'll just create
down here this extra space and it's just
gonna be private final on click listener
there's its name and then we'll just
define it new on click listener throw in
the curly brace come down here put a
semicolon after the curly brace add on
implemented methods there is basically
what's gonna happen when our button is
clicked on it which basically just kind
of handle visibility with this that's
what this is all about so we're gonna
say if the settings view is on the
screen my calling is shown well if it's
on the screen and the buttons click that
means that this needs to go away so
we're gonna call set visibility Dada and
then the visibility is gonna be view
gone so if it's on screen get rid of it
if it isn't on the screen however else
guess what we want to show it and we do
that by calling set view mode spen
setting pen layout view mode extension
and then finally set this divisible
there we go and that's all we need to do
that's basically just gonna open up the
settings window or close the settings
window and that's bounce back up into
oncreate here we are our events are
being handled so that's great let's
check if the s-pen is usable or not and
if it isn't then we basically just want
to set that the tool to be used on our
surface view should be the finger
surface view set tool type action s-pen
surface view is gonna be tool finger and
set the default tool that we'll be using
on this surface view as just a regular
stroke like a pen stroke and then open
up a toast
by calling make text I almost want to
type in make toast there I can't be the
only person text you want to put inside
of there let's just say device doesn't
support s-pen display it for a short
period of time then call show docked it
up tada and there we go and that is
everything we needed to do for on create
the only thing left to do is handle what
happens when the application is
destroyed and basically what we're gonna
do is just walk through the
pen setting view and close it and close
the surface view and close the note dock
and close the page dock and to do so
real real simple no point and really
typing all this out let's get rid of
that though and you can see I'm just
saying hey it's the pen setting view not
equal in all if it isn't closed it is
the surface view cuts ethanol if not
close it so forth it's so on same thing
with a note dog so there you go that is
a whole bunch of different things you
can do in Android in general and very
specifically using Samsung devices
please leave any of your questions or
comments below otherwise till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>