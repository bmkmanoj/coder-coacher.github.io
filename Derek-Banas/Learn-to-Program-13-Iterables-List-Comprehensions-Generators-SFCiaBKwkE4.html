<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Learn to Program 13 Iterables : List Comprehensions : Generators | Coder Coacher - Coaching Coders</title><meta content="Learn to Program 13 Iterables : List Comprehensions : Generators - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Learn to Program 13 Iterables : List Comprehensions : Generators</b></h2><h5 class="post__date">2016-07-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SFCiaBKwkE4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
13 of my learned program series in this
part of the tutorial we're gonna cover
iterables iterators list comprehensions
generator functions and generator
expressions if you haven't watched any
of the previous parts of the tutorial I
provide a link to the playlist in the
video here and also in the description
below you can find all the code that is
heavily commented as well as a
transcript of this video and I have a
lot to do so let's get into it alright
so here we are and a very first thing
going to talk about our iterables now an
iterable is a stored sequence of values
or in just a regular old term it is a
list of values also however whenever we
cover generators later in the tutorial
you're gonna see also that they can act
as an object that produces one value at
a time now intervals differ from
iterators in that an iterable is an
object with a method that looks like
this which you're gonna see here in a
second and this is going to return an
iterator and it to Reiter on the other
hand is an object with a method that
looks like this and next is going to
retrieve the next value from a sequence
of values now I'm just gonna come in
here and I'm going to show you some
examples and this will all make sense
you've been playing around with
iterators here for a while you just
haven't looked into how they're working
so let's go and create a simple string
here and I'm just gonna call this sample
however in this situation I want to
convert it into an iterator so I'm just
going to come in here and I'm gonna tell
you if ITER like that and then like this
now what I'm gonna be able to do is come
in and grab one character at a time just
by calling next on our sample string and
let's go and do it two times here just
so you can see how exactly this is
working for us and there you can see it
stepped through our string and printed
each of those individual characters out
on the screen well this will probably
make even more sense if we come in here
and actually add an iterator behavior to
a custom class what I'm gonna do is
create a custom class called alpha
and I need to initialize this guy and
how I'm gonna do this is I'm going to
have all the letters of the alphabet
stored inside of it and there they are
and also I am going to store an index
inside of here and I'm gonna set this to
a negative one to store it off now I
need to create the iterator method here
and all it is going to do is return our
object now it's time to come in and
define next and how that's gonna work
for us and basically what I'm gonna do
is I'm gonna say if self index is
greater than or equal to the length of
self letters minus one because we are
going to be working with indexes that
start at zero of course in that
situation I want to raise a stop
iteration exception otherwise what I'm
gonna do is come in and increment the
value for index and then also return
each individual letter so just throw a
self index inside of there and now we
can play with this just like it is where
we can iterate through this custom
objects that we create so let's go and
create a custom object call it alpha and
this is gonna be of the alphabet class
and now what I can do is go for letter
in alpha print the letter and there we
go now we were able to go through and it
printed each one of those and finished
after it was done processing all of the
individual letters in our list okay so
that's how we create a custom iterator
for a custom class that we have and also
even though we were previously using a
method called keys to iterate through a
dictionary I want to show you also that
we can use an iterate through it because
a dictionary is an iterable or it has
that functionality that you just saw
built into it so I'm just gonna keep a
very simple one here L name and let's
throw my
all right so what we're gonna be able to
do now is just go for key in Derick and
print out the key as well as pass in the
key to get more information on that if
we run it you can see that that indeed
works T's was never even needed case
there's a rundown on iterators and
iterables and how to create custom
classes that allow for iteration and now
we're gonna jump into our first problem
all right so what I want you to do is to
create a class that's gonna return
values from a Fibonacci sequence each
time next is called and you have all the
information you need and here's sample
output by the way if you'd like to look
at that as well so feel free to pause
the video and take a shot at that
otherwise I'm gonna jump in here and
solve it so I'm gonna come in and just
define fib generator and then we are
going to initialize this guy and I'm
gonna go self and first is gonna be
equal to zero and then so second is
going to be equal to one then I'm gonna
create an iterator here and this is just
going to return self again and then I'm
gonna come in and define how next is
going to work for us and here I'll just
men and go fib num is gonna be equal to
self the first value that we have inside
of here and then so the second value to
generate that and then we'll come in and
assign first to whatever second
previously was and then we will get
second and we will assign to it whatever
the fib num is and then we will return
whoops and then we will return fib
number so let's come in here and let's
check this out to make sure that it
worked for us and there's you know
better ways of doing this but what I
decided is I just wanted to do it this
way because it's the simplest and
easiest to understand so I'll just come
in here and I'll go fib sequence and I
will give generator so we create that
object and then if I want to cycle
through these I can just go for
and let's say that I want to get ten
values generated for me pass out inside
of there and then I can come in and go
print and fib and then if I want the
next value from that I just go next and
pass in fib
sequence and if we run it you can see
indeed that it was able to generate
those Fibonacci numbers and display them
on the screen so hopefully you got that
right if not don't worry about it you
just learned how to do something new and
now what we're gonna do is jump in and
cover a topic that is pretty complicated
so if you don't get it the very first
time don't worry about it it takes a lot
of practice to get used to list
comprehensions now a list comprehension
is going to execute an expression
against an iterable much like we did
with map and filter and actually I'm
gonna use map and filter to compare or
the difference was between map and
filter to a list comprehension so that
makes a little bit of sense just please
note that Wow
a list comprehension is extremely
powerful try not to make list
comprehensions that are hard to figure
out for others or for future version of
yourself so let's say we wanted to
multiply two times every value with a
map how would we do that
I think if you didn't see the previous
part of the tutorial this isn't gonna
make any sense but what we're gonna do
here is generate a list and map and with
map you're going to pass in a lambda in
this situation and we're gonna say X and
then what we're going to be multiplying
times x times to come out of the lambda
that is surrounded by parentheses and
then we're going to say range and we'll
say we want to generate 1 through 10 we
want to multiply all those out well boom
and there you see how easy that is now
let's see how we can use a list
comprehension to do that now a list
comprehension by default is going to
generate a list so we don't need to come
in here and do anything with that and
the list comprehension is going to be
surrounded with these square brackets in
comparison to parentheses and here
you're gonna say something like 2 times
X for X in range 1 1 and 2 11
right and run it you can see we've got
exactly the same results so what we were
able to do is we just threw that
expression in there instead of this one
and there is range just like we have
range up there okay so that's the
difference between map analyst
comprehension that does precisely
exactly the same thing now what I'm
going to do is compare a list
comprehension to a filter that is going
to work much the same so we need to
convert our filter into a list and then
we're going to throw lambda inside of
here again and we're gonna say X and
then X Sun sign - or modulus whatever
you want to do is not equal to zero come
out of that and then the range that we
want to work with and it's going to be
one through ten and run it and you can
see it's cycled through all of that
information and popped out only the odd
numbers now let's go in and see how to
do this with a list comprehension I'm
gonna do something quite similar here
we'll say X for X in range and one and
eleven and the difference is is we are
going to put the filter on or the
condition on the right side versus on
the left side one of we work with list
comprehensions as you can see that
everything maps are going to be
translated to the expression being on
the left side filters are going to be
translated as if they are on the right
side and once again these are in square
brackets and now will come in and go if
x modulus 2 is not equal to 0 and run it
and you can see we got exactly the same
results so let's do some more
complicated things once again this might
not make sense originally so don't worry
about it we are also going to be able to
use a list comprehension that can act
like a map and a filter all on one line
so what I want to do here is generate a
list of 50 values and then take them to
the power of 2 and return all that are
multiples of 8 so let's actually type
that out so we'll say it generates 50
values
and what else are we gonna do take ^ to
each one of those items and then return
multiples of eight okay so that is what
we're gonna do here with our code with
our list comprehension so how are we
gonna do it we're gonna say print and
then list comprehension square brackets
and what do we want to do we want to
take it to the power of two so we're
going to go eye to the power of two and
then we're gonna say for I in range and
we want to generate 50 values and then
we put our filter here or our condition
at the end so I'll say I % 8 equal to
zero and run it and you can see indeed
that it went in there and generated all
those multiples of 8 for all those
different guys that we went in there
threw in so pretty cool stuff
another thing that it's pretty neat is
you're gonna be able to have multiple
for loops as well so let's say we want
to multiply all values in one list times
all values in another list do that list
comprehensions are extremely powerful
like I said before so let's say when you
go x times y for x in range and we'll
just keep this simple we'll go 1 and 3
and then outside of that we'll say for y
in range and we'll throw 11 to 16 inside
of here and run it and you're gonna see
that it went in there and multiplied 1
times 11 the whole way through 16 so all
15 actually so that's what you see there
and then it went in and multiplied two
times all of these values and that is
how we get our final list result so
pretty cool stuff another thing it's
even more powerful is you're gonna
actually be able to put list
comprehensions inside of list
comprehensions so let's get rid of all
the mess that we generated here so what
do we want to do with this example let's
say we want to generate a list of 10
values and
we want to multiply them by two and then
we want to return multiples of eight
all right so how are we gonna do that
well we'll just come in and call for
prints and we'll say X for X in and then
we'll throw another list comprehension
inside of here and we'll say I times 2
or I in range and we'll throw a 10
inside of there flows off that list
comprehension and then we will filter
this and we'll say if X modulus 8 is
equal to zero and run it and you can see
that went in and did that so it's just
never ending the different things we can
do and now it's time for a problem all
right so this is gonna be a hard problem
what I want you to do is generate a list
of 50 random values between 1 and 1000
and then return those that are multiples
of 9 now to do so you're going to have
to use a list comprehension inside of a
list comprehension which is what I just
covered so pause the video and take a
shot at that guy otherwise I'm gonna
show you how exactly how it's done so
we're working with random values so I'm
going to come in here and import my
random module then I'm gonna say print
and I'm gonna say X for X in and then
inside of here I'm gonna generate the
random values I'm going to say random
Rand int and I said that I want to have
random values between 1 and 1000 so
that's how we're gonna do that and then
I'm gonna say for I in range and I said
that I want to have 50 values generated
so there's 50 values generated and let's
get rid of that altogether then after
the list comprehension it's not a list
comprehension either then want to find
values that are multiples of 9 so this
is gonna change every single time we run
it because it's completely random so
there that guy yes
take that all in if you got that great
job if you didn't definitely don't worry
about it this is a pretty complicated
problem and let's go and run it and you
can see right here that it went
and generated these values and if I run
it again and again you're gonna see that
all those values are totally random it's
a pretty cool stuff like I said list
comprehensions to reserve a lot of
practice to get very good at and it's
gonna take some time to get used to them
but I think you can see that it's
definitely worth investing your time in
them because they are extremely powerful
let's go and show you one more example
actually list comprehensions are also
gonna make it very easy for us to work
with multi-dimensional lists so let's go
and let's create one so there is our
multi-dimensional list and let's want to
come in here and go print and I want to
print this column right here to five and
eight the list comprehension is pretty
easy you just go call them and it can be
anything it doesn't need to be called
column I'm gonna say one because this is
ones these are zero one and two and then
I'll say for column in multi-dimensional
list and you can see it printed that guy
right out for me so very very easy to
work with and even better yet we could
go and print out the gun I agonal one
five and nine so let's say print it's
gonna return a list also which is very
useful because that's what list
comprehensions do so here when it's a
multi list and I'm going to say that I
want to get the indexes based off of
calling each of those the individual
guys I'm gonna say for I in range and
then I'll take the maximum number so
we'll say lengths of multi dimensional
list and if you do that you're gonna see
you'll get a list back that is one five
and nine and how that works quite simply
is the first time through obviously it's
going to give you the zero zero position
second time through it is going to give
you the one one position and then it's
two two and two position so really cool
stuff with list comprehensions now let's
jump in and talk about generator
functions now remember back at the
beginning of the video wasn't that long
ago I talked about being able to
generate individual values one at a time
well a generator function is going
return a result generator whenever you
call it and
you're going to be able to suspend or
resume during execution of your program
to create results over time rather than
all at once so this is the example right
here and you may ask yourself well why
on earth would I want to do that
well we mainly use generators when we
want to get a very large result set
large number of results but we don't
want to slow down our program by
creating all of those results all at one
time so let's say we wanted to create a
generator that's gonna calculate primes
and then returns the next prime each
time we ask for it versus getting it all
at once
so I'm gonna say I'm gonna create a
function here called is prime you've
seen it before and there that is then
inside of it we're gonna have a for loop
that is going to iterate through all of
the results that we pass inside of it
it's gonna start at 2 and it's gonna go
up to whatever the number was that you
passed inside of there and then we're
gonna check if any division has no
remainder and in that situation we know
that we have a prime number so to do
that we'll just go if num modulus I is
equal to zero and yes there are shorter
ways to do this I'm just trying to keep
it simple so in that situation we're
going to say false and if none of those
are returned if it hits this return that
means it jumps out of the function all
together
that means if none of the the things
came back as positive in that situation
we know we do have a product that will
say return true now it's time for the
generator part so I'm gonna call this
gen crimes and inside of here you're
going to type in the maximum number you
want to generate up to we're going to
have a for loop inside of here it's
gonna cycle through Prime's from 2 to
the maximum value you requested so say
in range and say 2 to the maximum number
and then each time through it's gonna
call for is prime whoops is prime to
execute and it's gonna pass each of
those values inside of it yep well you
need to go if is prime and then we're
gonna use yield which is what makes this
a generator and whenever it's called by
next it's going to return the next
result and
you just say yield and number one it's
gonna make more sense here whenever I
use it here in a second so what I want
to do is I want to come in here and
create a reference to the generator so
I'm going to say prime is equal to Gen
primes and then let's say I want to go
up to 50 and then what I can do is go
print and we'll say Prime and then we'll
go next and pass Prime inside of it and
then let's do this a couple different
times right like that and run it and
there you can see it's cycled through
and each time it was called it generated
a new prime number over and over again
so pretty cool stuff
and now to finish off I'm gonna cover
generator expressions now generator
expressions look just like list
comprehensions which you just saw but
they return results one at a time that's
the reason why they're called generators
and the other difference is they're
going to be surrounded by parentheses
and said of your square brackets which
you had with list comprehensions
so let's come in here and create one and
this guy is just going to double a whole
bunch of values and you can see there's
parentheses so I'm gonna say x times 2
for X in range and we'll say 10 now what
I'm gonna be able to do is just come in
and go prints and we'll say a double
just to keep this simple and then we
will call next on double so there's
double spell double right and then we
will come in and we will grab it again
and run it and there you can see indeed
it worked out perfectly you're also
gonna be able to iterate through all of
these results as well so we can come in
and go for nom in double and then print
num and run it and you can see it got
all of our results in that situation so
there you go guys that is iterables
iterators list comprehensions generators
and generator expressions a whole bunch
of things for you to practice with and
like always please leave your questions
and comments below otherwise till next
time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>