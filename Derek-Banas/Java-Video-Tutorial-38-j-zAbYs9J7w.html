<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Java Video Tutorial 38 | Coder Coacher - Coaching Coders</title><meta content="Java Video Tutorial 38 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Java Video Tutorial 38</b></h2><h5 class="post__date">2012-05-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/j-zAbYs9J7w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
38 of my java video tutorial in the last
part of the tutorial I showed you how to
display a J table and pull information
from a database this time I'm going to
show you have to change information in a
J table and update the database and I'm
also going to show you a really easy way
to allow your users to edit cells
directly and have all the information
automatically update in the database and
a whole bunch of other thing now the
first thing I need to do is login to my
SQL because I need to make a couple
changes here so here I am inside of my
school I'm gonna say I want to use my
sample database now what do I need to do
here we describe resident which is going
to be the table that we're going to be
using in this tutorial if I want to edit
values inside of here from the J table
using the default table model what I
need to do is add a primary key to this
guy and that's real easy to do all you
need to do is go alter table and then
the name of it which is president and
this is just a unique key that is going
to represent each one of the president's
in my table then I'm going to say add
column I'm going to call it pres ID and
it's going to be an integer and I want
it to auto increment if you didn't watch
part 37 in this tutorial you definitely
need to watch that and if you have no
idea what I'm doing - ql wise i provide
links to a tutorial for my school as
well so what i'm doing here is this is
just going to every single time I create
a new president's can auto increment and
it's going to give each one of the
presidents a unique identification
number and for anything that's currently
inside of there it's automatically going
to give it a unique identification
number I just need to go add primary key
and then say what the name of this is
which is going to be President ID 42
rows affected and if I describe
President again now you're going to see
right here that each of the presidents
is going to have a unique identification
code if I print out all the presidents
you can see here kind of a messy but if
I shrink this down right here all the
different presidents all have unique
identification codes if you can't see
this you can view a full screen it's an
HD video another thing that I want to do
if you don't remember from last tutorial
I didn't enter in a city so let's say
that I wanted to make that part of this
I wanted to allow City to be a null and
if we go back again and describe
president you can see here that city is
not allowed to
being all and that just means that it's
not allowed to have no value so if I
want to do that just clear my scroll
back and I'm going to say alter table
president modify city variable character
let's say 20 which is what it was before
and put a semicolon in here what that
does is because I don't have not null
identified here it allows this part of
the table called city to have the null
value and that's all we need to do
inside of my school so I'm as well quit
and get into the code now if we jump
over here and I actually pre-made this
part of the tutorial and you can see
here now I have all the different
presents inside of here and here's their
unique ID numbers and the names and all
that other different information and if
I come in here and say I had Barack
Obama because he's not currently in here
and state go PA
1961 Oh 804 and go add president he's
going to show up here but he's also
going to show up inside of the database
and if we just open this guy up reopen -
ql say we want to use sample database
taking the right name and then say that
we want to list all the different
presidents or you can see barack obama's
been updated inside of our database so
that's awesome so we can just quit this
let's get in here and actually show you
exactly how I did all that and another
things kind of neat is for some reason I
put Barack Obama in here as he was born
in the state of Pennsylvania if I want
to change that I could just click on
that cell little things going to pop up
and I can change that to Y and hit OK
and that also updated inside of the
database automatically without hitting
any other buttons so it's a whole bunch
of neat things we're going to learn so
let's get into that code this is part 37
from the last tutorial and there's just
a bunch of different things I'm going to
need to change here first thing I'm
going to need to change is if I want to
be able to detect the mouse clicks like
when I clicked on that cell and it
allowed me to go in there and
automatically start changing information
in a database so I need to get myself a
new library and it's going to be called
a vent mouse adapter and it's going to
allow me to be able to detect whenever
the mouse is clicked somewhere and then
the other one I need is event dot mouse
event so those are the two libraries and
I need for this tutorial and we're going
to scroll down through here I'll explain
everything as I make changes now
remember everything has a unique
identification so I'm going to come in
here and call this ID and that's it
that's all I need to change and this is
going to represent the call
information inside of our database just
the names nothing else the vast majority
of this information is not going to
change until I come right here where
statement SQL State is now if I want
everything inside of my J table to
automatically change the database
information I need to change this guy
what I need to do is type in result set
dot type scroll sensitive and result set
dot concur updatable and like I said
that's going to automatically update my
database whenever I make changes to the
J table now of course I'm going to have
to also get my new president ID
whenever I quarry the database so I'm
just going to put Perez ID inside of
there that's all that needs to be
changed there don't worry very soon
there's going to be a whole bunch of
other different things going to be
changing here's temper oh now of course
I'm going to be pulling in my ID again
and it is an integer and this is what
all the information this is going to
contain all the information on each row
for each one of the presidents so in
this situation I'm going to go rows
don't get int because that is an integer
that presidential ID and I'm going to
put one inside of there put a comma
after this and then everything else is
going to remain the same except the
columns of course are going to change so
I'm going to change this to two change
this to three change this to four change
this to five and that is everything and
just so you know that is going to be all
the information that's going to be
returned whenever this query right here
is sent to the database and that query
is sent to the database by this result
set right here and in the future any
reference to rows is actually going to
be a reference to the database itself so
when I change rows in the future that
means I'm going to be changing the
database and just so you know table is
also going to be representative of the J
table which is what you see on the
screen and then D table model is going
to be the default table model which is
going to define changes using different
methods to change the J table now most
of this information is not going to be
changed because there's no reason for it
just scroll right through all this stuff
until we get to this part right here now
this is really sloppy code all this
information that should be broken up
into a whole bunch of different methods
but like I said I find it a little bit
easier to explain everything if
I have everything right in a row so what
I want to do is I actually want to take
this part out of here and I want to
throw it all into its own separate
method but the first thing I'm going to
need to do is go SQL birthdate is going
to be equal to get a date and we're
going to pass to it s date and then I'm
going to copy everything that is inside
of this guy right here so I'm just going
to cut it out of there scroll way down
here to the bottom we go public static
java.util date because that's going to
be the data type that it's going to pass
back get a date it's going to be the
name string s state it's going to be
passed a string that's going to contain
my date information and now I can go
paste inside of there and all of this
can be left 100% exactly the same as it
is right now except for whenever I go
after the catch block I'm going to say
return SQL birthdate right like that and
everything else can remain 100% to say
then we can scroll back up here to this
guy right here and now you can see
there's no error and this method right
here is going to convert all of our
dates for me that's going to save me a
ton of time now this guy right here
remember we're going to be getting the
president ID because each president has
a unique ID now and everything else is
going to stay exactly the same there but
inside of here what I'm going to do is
I'm going to set up all the information
is going to allow me to actually
physically go in and change the values
that are inside of the database so if I
want to change the database I'm gonna
have to put everything inside of a try
block which is common practice I need to
say rows remember rows any mention of
rows is a reference to the database to
do something then I'm going to say move
to insert row which is going to move the
database to the row where the data will
be placed just sort of think of it like
a shelf or something that helps you also
if you can't see there's a little red
line here so rose that means Rose is
going to have to be set outside here in
the class as a static value so that
we'll be able to access it anywhere
inside of the class so I'm just going to
go to result set rose copy that and I'll
get the rid of this part and then we're
going to scroll up here and just set it
as a static value semicolon here and
just call it static right now I'm going
to be able to access the database
anywhere
but here I am back here where I'm going
to be changing the whole entire database
I want to update all the different
values
in my database so I'm going to go rose
to do that you use a method called
update string if it is a string and I
might type in first-name you have to
type in the name for the column inside
of the database and then this guy is
going to be first-name it's going to be
the value and this is going to update my
database for me I'm just going to copy
this and be doing the same thing here a
couple times need to do another update
except this time it's going to be last
name so I need to change this to last as
well I'm also going to be updating my
state and inside of the database called
state here it's called S state so these
are just the same exact values that I
updated in my j table except in this
situation I'm using update string to
change the value in the database itself
and then for my final one I am going to
actually have to update a date so I need
to type in update date instead and the
name of that is actually birth in my
MySQL database and this guy right here
is called SQL birth date which is the
same as this guy right here so that's
where that's coming from
now that I have changed all of these
different things inside of the database
I need to insert those changes to the
row and then put a semicolon at the end
of that and then if you want to directly
update the database you just type in
update row you're going to do the same
thing every single time you're doing
anything with the database and all of
this code is available underneath the
video so get it it's heavily commented
you it will help you really understand
this stuff so this is the end of the try
block so I'm going to go catch I need to
catch any potential problems one of the
problems is an SQL exception so I want
to catch that I'm just going to call
this e1 and here I'm just going to go a
one print stack trace just to keep it
simple now outside of this guy I'm going
to have to create a new integer and it's
going to be called Prez ID and I'm going
to give it a value of zero here in the
beginning then I'm gonna have to create
another try block and here if you want
to go to the last row inside of the
database to make changes just type in
rows again and you type in last and
that's what this method does like I said
think of it like a shelf this is an S
and saying go to the last shelf and
we're going to put some information here
here what I'm going to do is go press ID
is equal to Rose get int and here what
I'm doing is I'm
getting the ID for the president that is
in the very very last row and this is
only going to return one value so that
is exactly what it's doing for me then
I'm going to go catch SQL exception I'm
gonna call this e1 somebody asked me a
question can you name these exceptions
the same thing yes because they're
self-contained these are all local
variables so you can name them whatever
you want to name them and then I'm also
gonna just copy this again paste it in
there now we come down to this part this
is going to have all the values stored
in this object array for every single
thing on the row and then I'm going to
call my D table because remember I want
to up also update the information on the
J table that you see on the screen and I
use the add row to add this object array
called president to the J table that is
being shown on my screen so this is
adding all of the different values to
the database and at the same time it's
also going to be changing the J table
itself as you see up here there's a
little error there's a little line if
you can't see it right here and it's
saying that I forgot to cast this what's
great about using eclipse is I just put
my mouse over it and say cast the
argument SQL birthdate to date double
click on that and eclipse is
automatically going to make that change
for me so I have to worry about it
alright so now down here we have removed
president which previously just removed
the president from our J table but
didn't do anything inside of the
database well if we want to also update
the database whenever a person clicks on
remove president which is in come down
inside of here right after the
president's been removed from the J
table and we're going to also say we
want the president to be removed from
our database now remember previously
whenever we had our table on the screen
let's just run this so you can see it
now if you remember from the last part
of the tutorial whenever I wanted to
remove a president from the table I just
clicked on it and then clicked on remove
president and it removes the president
however it did not remove the president
from the database I'm gonna show you
that in a second but whenever you click
on that selected row you want to know
the unique identification number for
that roast you can also delete it from
the database and that's exactly what
we're going to be doing with this code
right here so inside the try block we're
going to go rows which again is a
reference to the database we're going to
say this time we want to select an
absolute row which means we know its
name and to get the actual value for
that row we're going to go table which
the reference to the J table and we're
going to say get selected row this is a
method it's going to return the ID
number for the selected row and allow us
to move to that row inside of our
database so that we can make changes
hence the major change is going to be
we're going to delete a row then we're
gonna type in rows don't delete row and
there you go after that's executed that
row will be automatically deleted from
the database so now we want to also come
in here and catch some different things
guess what we're going to be catching
again we're going to be catching this
guy
just in case the query did not go
through right so let's just paste that
in there save ourselves some time and
everything else here is all cool so
basically what we did here boys we set
up a way for us to be able to add
presidents to our database just like we
did before so now whenever somebody
clicks on add president it not only adds
the President to the J table but it's
also going to add all the presidential
information using all of this code right
here to the database and then what we
did was we went to remove president now
instead of just removing the president
from the J table whenever they click on
it it's going to remove the president
also from the database and really just
these two lines of code allow us to do
that so now I'm going to allow the user
to go in here and basically make changes
to the individual cells directly just by
clicking on a cell they're going to be
able to go in there and make any type of
change they want so how do you do that
you go table which is a reference to the
J table add mouse listener then you go
new mouse adapter this is going to be
allow me to be able to detect whenever a
mouse click clicks on a cell and then
I'm going to say public Lloyd whenever
the mouse is released Mouse event I'm
just going to call this Emmie I want to
go string I'm gonna say value is equal
to J option pain show input dialog and
if you don't remember from before J
option pains like that little pop-up
window that comes on the screen allows
you to input information but in this
situation I'm all out to input
individual cells and here I'm just going
to say I don't want to put any type of
message and put as a message to the user
enter cell value then it's going to take
that cell value that the user entered I
want to check that they actually put a
value inside of it and didn't just hit
cancel to do that I just go is the
value for value null and if so I'm going
to go to able set value at and remember
this is going to change the J table so
I'm saying that I want to use this
method here to take this value right
here and then I'm going to also say my
row if I want to get the currently
selected row or the cell that they
currently clicked on I'm going to type
in table get selected row that's going
to return the row that they just clicked
on and then I'm going to also go table
don't get selected column and this
method right here is going to return the
column they just clicked on inside of my
J table then outside of this if area I'm
going to go try I go rows because I know
exactly what row I want to go to it's
going to be table dot get selected row
and in this situation I need to go plus
one so this is going to select the row
that they just select it and then inside
of a string I'm going to go update
column is equal to and I want to get the
name of the selected column so I'm going
to go DD table model get column name and
type indict table get selected column
right like that and the reason why I'm
doing all this is I want to make sure
that I'm going to be updating tables
properly with the right methods now new
Java 1.7 you're allowed to use strings
inside of switch statements which is
really really cool
so if you're trying to do this and you
get an error that means you're not using
Java 1.7 just on occasion like to use
things that are specific to Java 1.7
because this is kind of a Java 1.7
tutorial if you don't remember the
switch statement what I'm going to do
here is use a different update method
depending upon the data type why don't
we really have two types of data type I
have strings and then I have my date so
I'm basically going to come in here and
go case birth this is where you'd get
the error if you're not using Java 1.7
just so you remember that so I'm going
to say case what they want to update is
of type birth I'm going to go SQL or it
has the name birth date is equal to and
I'm going to call my method that I
previously created called get a date and
I'm going to send it the value of value
and then I'm going to go rows by update
date and pass it the value of update
column and then I need to cast this guy
to a date type if you remember from
the last part whenever eclipse gave me
that little error and I'm going to go
SQL birthdate another thing so that I
can use update column anywhere I'm going
to copy this guy right here and then go
right here paste it inside of there and
go like this so now I'm going to be able
to use update column throughout this
whole entire area now after we make
changes to our date we want to call rose
update row and that's going to force the
database to update I'm gonna type in
break so that it doesn't continue on to
the next case statement which we're
going to make into default because
anything else that would change would
have to be a string and then in this
situation let's just copy this guy right
here paste that in there and here we're
going to say update string update column
that's going to be the same and this guy
right here is going to have the value of
value and then we're going to type in
rose and then we're also going to type
in break just like we did before and
then the error that we're going to have
to catch is the exact same error as
before so I'm just going to copy it
again just like I've copied it
previously roll back down here and paste
that inside of there and then after this
put a semicolon in to close all that
information off and there you go there's
a complete walkthrough on all the
changes I made to be able to change that
program in the last part of the tutorial
that just changed the J table to now
change also the database itself leave
any questions or comments below
otherwise till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>