<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Development Tutorial 24 | Coder Coacher - Coaching Coders</title><meta content="Android Development Tutorial 24 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Development Tutorial 24</b></h2><h5 class="post__date">2013-10-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/O_D482E2K3U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
24 of my android development tutorial
today I'm going to talk about how to
create dialog boxes and how to pass data
between different activities okay so
basically what we're going to do is this
guy right here is known as contact
fragment Java that is the object that we
created or the activity or whatever you
want to call it basically what we're
going to do here is if the person
DoubleClick's down here where the date
is a dialog box is going to open up and
we're going to be able to flip through
the different dates and enter a birthday
and in this tutorial like I said before
this part right here is going to be
represented by contact fragment while
this part over here is going to be
represented by date dialog fragment and
just to wrap your head around what's
going on contact fragment is going to
show inside of your little app window
we're going to enter in enter birthday
they're going to click on that whenever
they do inside of contact fragment
fragment manager is going to be created
which is going to create a date dialog
fragment they're going to enter their
data information whenever they exit the
dialog going to call up here to contact
fragment and then contact fragment is
going to change the birth date for the
contact and change the value in the
editable text window and that is what
we're going to create in code and I have
a lot to do so let's get into it okay so
here we are inside of Eclipse and
specifically we are in contact Java and
of course since we're going to be
entering in a birth date here we need to
put that inside of our contact and it's
going to store a date and I'm going to
be covering a whole bunch of different
ways of looking at dates in this
tutorial as well there's a whole bunch
of things just like always so I'm going
to come in here and this is very
important date and we want to import the
java.util.scanner this is when the
contact is created and I'm just going to
say new date which is going to give
whatever the current date for today is
obviously that wouldn't be the birthday
though then we have to create getters
and setters for this guy so let's just
come in here right-click and I'm going
to go source and
I'm going to come down here and look for
generate getters and setters and there
that is and then specifically I want to
generate the getters and setters for
date of birth not ID number come down
here after I'm going to put it with the
bottom right after that leave everything
public of course and then hit OK and if
we scroll way down here you're gonna see
get date of birth and set date of birth
now there's only one problem with this
if we were to just go get dates and put
it inside of this editable text box it's
going to also print out the time and all
kinds of other stuff which we don't want
all we want is the month the day and the
year and that is it so that means we're
going to have to create yet another way
of pulling the data out and just present
this information so let's do that
so still inside of contact Java I'm
going to go public and I'm going to
return a string because that's what we
put in an editable text box and I'm
gonna call this get date string and it's
not going to receive anything because
everything it needs is right here then
we're going to create a calendar and
this is going to provide us with a way
to break this date down into month day
and years and to do that we just call
calendar and get instance to generate
that guy and then we're going to go
calendar and we're going to set time to
the date of birth which in essence is
passing in the date that we're going to
be using date of birth then what I'm
going to do is I'm going to create year
is a number format and to get that I
just go calendar get calendar and year
and then I'm also going to get the
number variation for month of course and
here we're just going to change this to
month but there's something weird if you
ask for January for example it's going
to return 0 in this situation so we have
to add one for January and all the other
ones would be messed up as well so
that's all we need to do to fix that and
then of course we have day as well and
this is day of month is how we access
that and all that
perfectly fine and then we need to
return it as a strength it is easy
enough we're just going to go month plus
and put our little dash inside of there
and then we're going to say day and then
finally year and of course you can
change this to whatever makes sense to
you because I know there are tons of
people all over the world surprisingly
that watch these videos and I think very
few people put month two in here so
either way that works and that is all
we're going to need to do with contact
to get all this to work and of course
all of this code is in a link in the
description next up we're going to have
to go in and create dialogue date dot
XML and this is going to define exactly
what shows up in our dialog box so if we
just go into our graphical layout and of
course this is over inside of our
layouts that's where all our layouts are
going to go to and all I'm going to do
is go into the time date part of this
and I'm going to grab date picker and
I'm going to drop it and there it is
date picker shows up inside of there
there if you didn't see it all right so
now I'm going to jump over into the
regular XML code and change a couple
things here like for example the ID I'm
going to make this birthday picker so
birthday picker and it makes a little
bit more sense I'm going to let these be
wrapped content and the only other thing
I'm going to do here is I am going to
mark calendar view shown as false if you
do not do that what it's going to do is
it's going to have two different ways to
pick dates and it's going to cause all
kinds of confusion and the one I'm
getting rid of is an actual like
calendar that you can use to display all
this information if you want to see what
it looks like just don't use false here
and both of them will show up but it'll
cause all kinds of errors so probably
not a good idea to do that and that's it
because all we're going to be just doing
basically is displaying a way for them
to enter the date and so that is going
to cover it now I'm going to go into
strings.xml because in my editable text
box inside of contact fragment I'm going
to want to put a little message in there
so just paste this inside of there and
inside of this I'm just going to call
this contact birthday and then I'm going
to
put and her birthday and you're going to
see here second exactly what that's
going to look like and that's it
strings.xml is done so now let's go and
actually put in the birthday little box
inside a fragment contact XML and if we
look at the graphical layout you can see
and her phone number and there's the
check box right there I want to put the
birthdate in between the two of those
things so I'm going to go inside of text
fields inside of this and specifically
I'm going to get this guy down here that
looks like a date and I'm gonna drag
that over and hopefully it'll go in the
right place let's see looks like it did
now I'm going to jump inside of here to
the actual code and see what we got
working with here or what we are working
with here and there we go I'm gonna get
rid of requests focus of course because
that's definitely not the focus of what
we're doing here and then I'm gonna put
in rid of this one and capitalize this e
and then I'm gonna put in contact
birthday that seems to make a little bit
more sense wrap contents fine this is
fine then I put something in here about
bottom margin yeah I want to get that
copy that over there as well let's just
put it in there and then I also want to
get the actual string here that we have
inside of strings.xml and copied I jump
back over here again the point typing it
all out so let's jump back over into
graphical out this is highlighted so I'm
going to come over here to the actual
text area click on that and there pops
up and contact birthday and there we go
and and her birthday shows up inside of
there and everything looks okay there
for now so what I'm going to do now is
jump into contact fragment Java and
start getting the contact fragment to
communicate with the dialog fragment now
of course with the contact fragment
which is going to have all the
information in regards to our contact on
the screen well if we're going to be
passing information back and forth
between the dialog and this contact
fragment what we're going to want to do
is provide a way to send that
information using a bundle and anytime
we want to do that that means we're
going to have to go through this process
of defining the key value of the key
value pair
I'm just going to call it data of birth
and give it a default value of date of
birth no big deal like I said before
that's the key value for this guy then
of course we're also going to have a new
edit text box that's going to have our
birth date inside of it and I'm going to
call it contact birthday edit text just
like we did previously here just couple
seconds ago and then another thing we're
going to do because we're going to be
sending requests back and forth between
different activities or different
fragments we're going to want to make
sure that whenever a request is made
that it is coming from the dialog box
and one way to track that is to create a
private static and int that is going to
I'm just going to give a value of
request date and that's going to say hey
you know we're requesting a date object
and you're going to see here in a minute
that how we're going to track that and
so we're going to know and how we are
going to use this little code right here
to know that we are receiving a date
information or receiving data
information from the date dialog box
that means we're also going to have to
set up this editable text area here or
editable text box so we have to figure
out exactly where we want to do that
yeah just scroll down through here I'm
basically just looking for all the other
edit text boxes and I'm going to place
it in here somewhere so I don't want to
put it inside of any type of handler and
I'm thinking right about here right
after we are done with our check box
would be as good of a place as any so
paste that inside of there now we need
to initialize this so edit text and then
I'm going to get that data using the
same thing that I use for everything
else so that's going to be the view blah
blah blah blah blah so I might as well
take that there face it inside of it and
then for this guy I'm going to go dot
and then I'm going to be looking for
contact birthday edit text which is
right there all right so you've got that
information now that we have access to
be able to edit the Edit text box we
need to actually get the right
information to put inside of there and
of course that's going to be stored
inside of a contact so we're just going
to go on
birthday edit text and set text and
we're going to get it from contact
course and I want to get the string
representation of it so get date string
this guy right here because remember I
don't want the time and all that other
information err that wouldn't make any
sense
and then I need to set up a click
listener so that I will know when it has
been clicked on so that I'll be able to
open up the dialog box so I'm going to
go set onclicklistener just like I've
done before and we're going to go new on
capital L click listener put in our
curly brace put in our semicolon at the
end and we're going to define this in
line right here and of course it's going
to say hey you need to add some
unimplemented methods and there it is
and the unimplemented method is going to
be okay what do we do when the edit text
box is clicked on I'm going to be
bouncing between the dialogue class and
back-and-forth over and over again well
like I told you before first thing we're
gonna have to do is create a fragment
manager which is going to manage our
fragments for us and I'm just going to
call this frag manager like I normally
do and I just have to go get activity
which is this activity and then I have
to call get support fragment manager and
this is just going to return the
specific fragment manager that's going
to be used to interact with the
fragments in our activity of course I
don't need that brace there I don't need
this brace there just slipped in but I
am going to need it like that there we
go now we have to actually create date
dialog fragment I'm going to call it
date dialog it doesn't exist yet we're
going to create this so this is going to
be a custom class custom dialog box and
it's going to be called date dialog
fragment I'm going to create it here in
a second and I'm going to go create new
instance and to it I'm going to pass the
date of birth date of birth and it's
going to create everything from that and
then what I need to do is remember the
dialog box is going to execute it's
going to do all kinds of things and then
it's going to pass information back well
to tell it what to pass back or where to
pass information back to you have to go
set target fragment and then
a contact fragment which is the class
were working on this and then we're
going to say request date and that is
going to tell us that we are dealing
with changing the dates remember that
was from the very beginning where we at
there we go right there so this is how
we're going to know that we are dealing
with each other and dealing specifically
with changing dates and then after all
of that is all set up we can go date
dialog and call show and fragment frag
manager and date of birth well now that
we have that all set up it's time to
jump over into date dialog fragment
start creating this guy now we're
definitely not done with contact
fragment we'll be coming back to that in
a second but for the most part got a lot
of it done ok so since we're going to be
dealing with dialog boxes we're going to
have to have this extend the dialog
fragment and of course it's going to
want us to import some libraries there
we go now if we jump back over here
again the contact for Ag Mint see where
it says date of birth that's being
passed inside of here well we're going
to have to set that up as well we're
going to go a public static final string
again and this is going to be the key
for the birthday that's going to be
passed between our activities just like
we had before contact birthday is when
we call this and it's going to be equal
to and for this I'm just gonna go calm
new think tank buhbuh buhbuh law since
it's out just to make sure it's
completely new and won't cause any
problems and I'm going to go contact
underscore birthday there we go got that
key setup then I'm also going to be
storing a date inside of here of course
I'm going to call that contact birthday
and once again make sure that you come
in here and get Java utility date don't
get Java SQL then after I have all that
setup we're going to have to get the
method it's going to create our dialog
box so just right click inside of here
go into source come over here override
implement methods and look for create
dialog box or is it on create dialogue
and
or bundle that's how we're going to pass
our information back and forth and I'm
gonna put it after contact birthday and
I'm going to go okay and there it is
created I'm gonna get rid of this here
for now okay so what exactly we're going
to have to do once we start setting up
our dialog box well we're going to have
to get the birth date that was passed to
this activity and how we do that we're
going to go contact birthday and we're
going to cast it to a date and then to
get arguments that are passed we're just
going to go get arguments and then we're
going to say get serializable and
specifically what we're looking for is
contact birthday and there it is and of
course it said again and there we are
then just like we used before to be able
to work with our dates we're going to
create another calendar and we're just
going to say exactly like we did before
calendar get instance and just like we
did before calendar set time and the
time is going to be whatever the value
of contact birthday is that's pretty
easy and this is just going to be the
birthday that shows up inside the dialog
box for us to change then because we're
gonna have to pass in year month and day
and all those different things
separately what I'm going to do here is
create all that again actually it's jump
over into contact and just copy that all
the way down here here this is exactly
what we want
and then jump back over into the date
dialog fragment and in this situation
other thing we're going to change when
we get rid of that plus one because
remember that's just for showing inside
of the text boxes if this was a string
which they are not they are integers and
now that we have that set up we're going
to have to inflate our dialogue so we're
going to go view and I'm going to just
call this love you get activity get our
current activity and then get layout
inflator there's that guy and there's
the bundle and then just keep this a
little bit neater well I'm going to go
here and bring in my libraries view and
then I'm going to go inflate and what
specifically am I going to inflate well
I'm going to inflate the layout called
dialogue date which is the sky pair is
one of the first things we created and
all gone
if I don't keep making that mistake
there we go fix that and actually we
don't need that right there okay now we
have that we want to access the date
picker in dialogue date so that means
we're going to have to go date picker
that's what it's called and I'm just
going to call it date picker the picker
just like we do with all the different
components we work with and it jump down
to the next page and I'm going to say
the view
I'll just get this library while we're
here I'm going to go the view and find
view by ID and the name of that is r dot
ID dot and then it is birthday picker
there it is okay so now we got that
initialized and ready to work with and
of course put that period inside of
there then if our birth date changes
with the date picker we want to be
prepared to pass that new value and how
we're going to pass it is go year month
and day and then we're also going to go
new on date changed listener and figure
out exactly what we're going to do when
this guy's changed semicolon in there
then we have to import our libraries and
then come in here and add our
unimplemented methods and it's going to
say okay what exactly are we going to do
when the date is changed in our date
picker well I'm going to say the contact
birthday should be equal to in this
situation I'm going to have to go new
and call the Gregorian calendar and then
year month day and get ton and then of
course I have to give these the right
name and this would be here in this
situation and month in this situation
and day wherever day is okay got that
all set up and then we'd have to go into
the Gregorian calendar get this library
again bring it in there and then we just
need to put the new value in the bundle
for passing to our other activity which
is going to be contact fragment do that
just like we did before we're going to
go get arguments and in this situation
we're going to be putting in the new
date so we're going to go put
serializable and we need to use our key
contact birthday and then the value that
we're going to be putting inside of it
which is going to be
birthday and there we are now that we
have that all set up we're going to have
to set up the dialog box by setting a
custom view to hold all the contents of
the dialog box we're also going to have
to set the title the type of button
we're going to use what to do when it's
clicked and then finally the ultimate
creation command so let's just do that
all at one place we're just going to go
return new alert dialog and in this
situation you call builder and I don't
have a theme so I'm just going to go
like that and the context of course is
going to be good activity which is what
we always use it's nice when all this
stuff just pops up then we have to just
define everything that we want to define
so we want to set our view and the view
is going to be the current activity and
then if we want to also set our title
and this is going to be our string and
contact birthday just like we set up
previously and if we want to define what
our button is going to look like we're
going to go set positive button this is
okay after they change the date and the
one we're going to use here is Android
our string and this is going to be dot
and we can look through here and see all
the different options but okay looks
good to me because that makes sense with
a dialog box then after that we have to
figure out exactly what are we going to
do when they click on the okay button
well to do that we go new dialog
interface and then we're going to say on
capital well click listener and define
how we're going to handle that situation
of course put the semicolon down there
come in here get this library there we
go
and then it's going to be nice enough to
tell me what methods I need add-on
implemented methods and there it is
what's going to happen when we click on
the ok button well what we need to do is
send our result and to get this we just
go activity dot result okay and then
actually we don't need this guy here
because remember we have to create our
dialog box so we have to go create and
then we put our semicolon there and we
are still not done with
date dialog fragment yet because we have
to create send result and we're also
going to have to provide a way for them
to create a new instance of date dialog
fragment so if we come out of this area
here we're still in date dialog fragment
and we've got to create our method for
generating a new instance of this
fragment so I'm just going to create it
as a static date dialog fragment and
call this new instance and it's going to
get passed a dates which I'm just going
to give it the name off date and if you
don't know why I'm doing that this is
the reason why new instance say and
contact get date of birth that's the
reason why I'm doing that some creating
that guy so of course we're going to
have to create our bundle and I'm going
to call this data past is equal to new
bundle because we're passing over that
date information then in the bundle put
serializable and just like before it's
going to be contact birthday and put the
date inside of there then I'm going to
need to create the date dialog fragment
and attach the birth date to it so date
dialog fragment I'm just going to call
this date fragment new and there we go
and then I just have to attach our data
to this so date fragment and set
arguments just like before data passed
so then we have that information
attached to that new fragment and then
the whole idea here was to return a date
dialog fragment so of course I have to
return it and that just leaves us if we
Coast up through here and look for our
errors with this send result right here
so let's just copy that let's create
that method down here we're going to go
private void isn't a return anything
send result and it is going to be issued
a result code remember I said we're
going to be using this just to make sure
that we are communicating date wise and
so forth and so on
so what I want to do here first is check
that the target fragment was set up
inside of contact fragment how we do
that is go get target fragment that's
this guy over here bounce back over here
see set target fragment basically I'm
just checking to make sure that this was
set and to do that
you just goes it equal to null and if it
is well just leave and that's what we
did
then what we're going to need to do is
if we have the target set up we are
going to have the intention to provide
it with our birth date so we have the
intention to give it the birth date
because remember we have to go back to
contact fragment after we're done with
the dialog so we have to create an
intent since we have an intention to do
something new intent the intent and
we're going to have to put our extra
information inside of this and that's
contact birthday of course the only
thing we're worrying about in this and
specifically the value is going to be
contact birthday and then finally we
have to get the target and have it
receive the data so get target fragment
and we know we have it because of this
guy up here and I'm going to put this on
the next line just go slow easier let me
say on activity result and we have a
request code which is going to be get
target request code and then we'll have
the result code and in this situation
the intent and then if we come up
through errors a little error that we
have here make sure that we import that
guy and all our errors have gone away
let's jump over into contact fragment
finish everything up basically what
we're going to need to do inside of here
is figure out what we specifically are
going to do whenever the ok button is
clicked inside the dialog box and to do
that we need to go source them down here
override implement methods and we're
going to get on activity result so
fragment on activity result this guy
right here put it dead last and there it
is and get rid of this now the first
thing we want to do is we want to check
that the result code that was passed is
not equal to activity result okay which
is you know what we're expecting and if
we get something that we don't expect
we're just going to cancel out of this
all together if however we did receive
this from our date dialog box we're
going to go and check request code and
check that it's equal to request dates
and
if it is well we know we're working with
or this has been called from the date
dialog so we're going to create a date
object call it birth date equal to cast
the data that was passed in here and
then I'm going to go get serializable
extra to get that extra data that was
passed inside of it and what we
specifically want is date dialog
fragment dot contact birthday because
that is what was passed now that we have
the information we can update contact by
calling set date of birth and pass in
the birthday make sure that's
capitalized and then what else do we
have to update we have to update our
contact birthday edit text box and we do
that by calling set text and then we
have to call the contact to get the
string version of this which is going to
be get date string and there it is and
that is all we need to do so let's
execute it and here are all of our
little items let's click on Sally Smith
and you're going to see that she opens
up here and if we double click in the
little area here for the birth date I'm
gonna see that our birth date picker
shows up let's just move this to a
little bit later date and hit OK
and you're going to see the type changed
and if we bounce out of course and then
bounce back in again you're going to see
that all that information was stored so
that is how to create dialog boxes and
how to communicate between fragments in
the next part of the tutorial I am going
to be doing a big giveaway so anybody
out there that stuck around long enough
to hear this you are in luck please
leave any questions or comments below
otherwise till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>