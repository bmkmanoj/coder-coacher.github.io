<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Development Tutorial 13 | Coder Coacher - Coaching Coders</title><meta content="Android Development Tutorial 13 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Development Tutorial 13</b></h2><h5 class="post__date">2013-06-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HX6K4lZcAOo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
13 of my android development tutorial
series today I'm going to show you how
to set up the main activity as well as
the new contact activities of course to
make our address book and if you haven't
seen the previous parts of this tutorial
definitely check those out I provide a
link in the upper right hand corner
specifically look for address book and I
have a lot to do so let's get into it
okay so here we are in Eclipse with all
of the things that we have created
previously so we have activity main.xml
which is going to define the interface
for us inside of activity main as you
can see if we scroll down inside of here
you're going to see a ListView and all
the data that's going to go in that
ListView is going to be based off of
contact entry dot XML and this is going
to be a textview
that is going to have the contact ID but
it's not going to be visible just going
to be there so we can look up
information we're then going to have the
last name inside here I change this from
the last tutorial previously we just had
first names listed and now we are going
to have last names and then first names
listed and of course everything is going
to be in alphabetical order because I
made one other little change inside of
DB tools which we created in the last
part of the tutorial and if you see
inside of DB tools down inside of here
inside of get all contacts and all the
code in this tutorial is going to be
available on a link underneath the video
so you can get all that but you can see
right here I change this query so that
order by last name would be used so
those are the things that have changed
and if we click over to graphical layout
for activity main.xml you can see this
is what it's going to look like and our
job in this start of the tutorial is to
make this work so what we're going to do
is we're going to jump into
mainactivity.java which is going to use
activity main.xml as the interface and
to make that interface operate so we're
going to come in here and package calm
dot new think-tank dot contacts app and
then we are going to just start defining
it so this is a activity called main
activity because it is the first
activity that low
and of course we're going to have to
come in here and say extends in this
situation it's going to be list activity
because that is basically all it is
going to be if we jump over into here
activity main you're going to see that
this is a list view and that's basically
all you're going to really see inside of
that what are braces inside of here of
course we're going to have to come in
and get our different libraries that
we're going to want to use so we just
come in here and import those and then
we're going to define a couple things
well we're going to need an intent
inside here and as I mentioned before an
intent is used to issue a certain
operation or to say that an operation
should be performed it has the intention
of doing something okay
a commonly that intention is going to be
to start another activity another thing
we're going to need is a textview which
is going to be the contact ID and all of
this stuff is going to be coming out of
activity main.xml so if we look for
textview and then the ListView which is
actually contact entry XML and we scroll
up you're going to see contact ID this
is the textview specifically that we're
going to be trying to pull information
from in mainactivity.java and I'll grab
these libraries real quickly now of
course we're going to be doing a lot of
things with our database so I'm going to
be referencing my DB tools class and I'm
just going to call it DB tools new DB
tools and pass in this and then we're
going to create the oncreate method it's
going to be protected it's not going to
return anything on create pass in bundle
saved instance state and that is just
going to be any data that's going to be
saved when an activity would be shut
down or the screen will be rotated all
the information that we might want in
that situation so that we don't lose it
if we need it later on then we're going
to go super on create saved instance
state and once again just use to get
saved data if there is any then we have
to come in here and go set content view
and what we're going to be doing with
this is to designate that activity
main.xml is the interface used with this
specific act
just go our layout Don activity name and
of course that's this guy up here that I
keep referencing over and over again
just want to make sure you understand
everything then we're gonna create an
array list and this is going to get all
the data from the database and store it
in this ArrayList that we have here and
it's going to contain a hash map which
is going to be made up two strings which
key value pairs I'm gonna call this
contact list and then to get it
I'm gonna go DB tools which we created
last time get all contacts and there we
are I'm gonna get rid of this so I don't
think I need it right now anyway get all
these libraries and keep on going here
then I want to check to make sure there
are contacts that I would be able to
display in this situation so I'm going
to go contact list dot size and check
that it's not equal to zero and then I'm
going to get my ListView equal to get
ListView and this is going to both get
me a list view and also assign a handler
to it and I do that by going ListView
dot set on item click listener and this
is going to be triggered anytime any
item in the ListView is clicked on I'm
going to say on item click listener
curly bracket down there put a semicolon
I'm gonna come in here grab this
specific library come in here and add
unimplemented methods as well which is
going to be on item click get rid of all
this random garbage then I'm going to
say contact ID I'm going to initialize
this textview and go to view do I find
view by ID and then pass inside of it
our dot ID dot contact ID which very
nicely comes up right there and this
throws a little bit of an error I'm
going to come up here and change this to
view that error goes away then what I'm
going to do is convert the data that's
in contact ID into a string and I'm
going to call this contact value or
contact ID value makes a little bit more
sense and I'm just going to go contact
ID dot get text to get that data out
of the textview and then of course I
have to go to string and there we go
very easy and then I'm going to create
an intent again again is going to be the
intention to do something and I'm going
to go new intent and call gets
application like that and what get
application is going to do is return the
application that owns this activity and
then I'm going to call edit contact and
I'm going to cover edit contact and the
last part of the tutorial which is going
to come up next and that's going to
provide you the option to edit your
contacts or delete them as well then
gonna go the intent put extra if I want
to put or send extra information being
the contact ID whenever this activity is
called this is how you do it contact ID
value so it's like a way of sneaking in
some information and change this to
intent not intent and then if I want to
start that activity that I just defined
I just go the intent and that's gonna
start it up for me so anytime an item is
clicked on in list view it is going to
call edit contact that class and pass it
the contact ID that was specifically
clicked on then it's going to open up
all of the information from that
specific contact ID on the screen and
allow you to edit it once again going to
cover that in the next part of the
tutorial now after that is all set up
I'm going to create a list adapter and
what a list adapter is is it's used to
bridge between a list view as well as
the list views data and I'm just going
to call this list adapter is equal to
new simple adapter and what simple
adapter is going to do is connect the
data in the ArrayList that we created
previously to the XML file and I'm just
going to skip down in the next line here
and this guy is going to get passed a
couple different things it's going to be
passed in a context what is known as a
context which is going to provide
information that is going to be needed
about the application that we're
currently using and to do that and just
go this to pass that along then we need
to pass in our array list remember it's
going to or simple adapter is going to
connect over a list in the XML
file well the ArrayList is called
contact list and then we're going to
need to follow that up with the XML
resource and that's going to be layout
contact entry and then finally we're
going to have the names of the data in
string format and then there are
specific resource IDs as well so for
this I'm going to go new create a string
array brackets and then we're going to
have contact ID and then we're gonna
have last name and then finally we'll
have first Knapp close that curly
bracket then come down here and go new
int int array and it's going to have the
resource itself so it's going to be ID
contact ID r dot ID last name or dot ID
first name and close that off so that
was kind of a long one and then finally
we're going to call set list adapter and
don't try to memorize all this stuff
just use the code that I provide as a
cheat sheet and what set list adapter is
going to do is provide the cursor for
the ListView and once again the cursor
is just going to provide access to the
database data and then the final thing
we're going to do if we jump over here
again to activity main.xml click on that
and then we look for a button well
you're going to see here that on collec
we're supposed to have a method inside
of here called show add contact so we're
going to have to create that method so
it can handle that event and we can do
that inside of here we're just going to
go public
Floyd Show add contact view view create
another intent the intent is equal to
new intent and here we'll go get
application which once again is going to
return the application that owns this
activity and then we're going to say new
contact class because our intention is
to call that class and have it handle
everything and now that we defined
everything that we need we can start
that activity by passing the intent and
there's a little line under this don't
worry about it that's just because I
haven't said everything up and that is
all we're going to need for main
activity so now let's jump over and
create new contact Java and this guy is
right here this is the interface that
we're going to write all the code so the
interface actually works and this is
going to provide us with the opportunity
to
add contacts to our database and new
contact our Java is going to be the file
that's going to provide us that
capability gonna jump over and grab this
so I'm to retype it and then we're just
going to go public class new contact
extends it's an activity course go get
our libraries and we're going to need to
get a lot of information from this
interface we're going to need these
editable text fields that one that one
that one that one and that one so we're
gonna come in here and show that we do
need those so we're going to say edit
text first name we're also gonna have
last name phone number email address and
then home address and all that
information of course is coming from
this if we come in here and look at this
in text view you can see if we scroll
down there is first name and the ID and
this is the editable text area so that's
where that all is coming from and then
since we're going to be working with the
database guess what that means we're
going to need our database tools DB
tools is equal to new DB tools and I
hope you'll be able to use this class
over and over in your own applications
saved instance State again this is going
to save any values that we'd like to
save if the activity is closed ahead of
time and we're going to be doing pretty
much the same thing here that we did
over here so we might as well just save
ourselves some time get this thing and
get this thing copy it paste it inside
of there except we're gonna have to
change something this instead of
activity main is going to be add new
contact and of course that name comes
from add new contact XML right there
then I just need to initialize all my
edit text objects and to do that we go
first name is equal to convert this or
cast it to an edit text object we're
going to say find view by ID and it's
going to be our dot ID the first name
right like that and then I'm gonna copy
this on two three four we're gonna do
the same thing for last name do the same
thing for phone number and phone number
do the same thing for email address and
email address and then finally the same
thing for home address okay now that we
have those initialized basically all
we're going to need to
No except for the fact that add new
contact also has a button inside of it
where is that button we at the bottom
and that button is add new contact or
whenever this button is clicked on a
method called add new contact needs to
be executed so jump back inside of here
create that method I'm going to say
public void add new contact and view is
fast inside of there go and get this
import that library and then we're going
to have a hashmap inside of it
course string and I'm going to call this
query values map and it's going to be
equal to new and then the same exact
thing again base third ah there we are
then we just need to get the values from
our editable text boxes so we're going
to a query values map it's that in there
or I mean we're going to put the values
into this hash map I meant to say so
we're going to put in first-name that's
going to be our key for our map and then
we're gonna put in our value and to get
that we say first name dot get text and
this is from the editable text object
convert it into a string and there we go
let's go and copy this and then of
course we're gonna create another one
for last name and then just change this
in the last name and then we're gonna
have another one for phone number and
phone number and email address and email
address and finally home address and
home address and now that we have all of
that information saved inside of that
map I'm going to call DB tools and I'm
going to insert my new contact
information into the database by passing
over query values now that's going to
insert it in the database that's how we
add a new contact but we're not quite
done yet then after that is done I'm
going to send them back to the main
activity and they're gonna see that it
was entered in and I'm just going to
call this call main activity fast end of
you and that means I'm going to have to
create call main activity piece cake
public void call main activity it's
gonna be passed a view and feel free to
leave any questions that you might have
got that there again to do this we need
to create an
intent it's the same sort of stuff over
and over again once you get used to it
it actually becomes pretty easy even
though it's weird in the beginning
intent get application main activity
class is the class that we want to open
or call for and then to start it start
activity pretty neat stuff there you go
we are almost done with our address book
in the next part of tutorial it will be
finished please leave any questions or
comments below otherwise till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>