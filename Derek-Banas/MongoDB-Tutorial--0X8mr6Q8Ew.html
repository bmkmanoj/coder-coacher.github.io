<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>MongoDB Tutorial | Coder Coacher - Coaching Coders</title><meta content="MongoDB Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>MongoDB Tutorial</b></h2><h5 class="post__date">2015-12-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-0X8mr6Q8Ew" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to my
MongoDB tutorial over the course of this
tutorial series you're going to learn
pretty much everything you could ever
want to know about MongoDB I'm going to
show you how to install it on both
windows as well as Macintosh I'm going
to show you how to run JavaScript in the
shell I'm going to cover pretty much
every command you could ever want to
know about I'm going to show you how to
insert update and delete pretty much
anything I'm going to cover math array
functions querying aggregation
replication shorting and using MongoDB
with nodejs so I'm going to jump over
and show you how to install everything
on windows as well as on OSX
now if you are on Windows what you're
going to want to do is go to Mongo DB
org and go to the downloads part of the
website and you're going to click on the
windows tab and more than likely you're
going to want the 64-bit version and
you're going to click on download
whatever you do it's going to ask you do
you want to run this say yes indeed and
click on it and then this little guys
going to pop-up here for you you're
going to click on next I'm going to
click in here did you accept the terms
click on next get the complete version
click on next and then click on install
after a while it's going to be
completely installed and you can click
on finish now what you're going to want
to do is open up your command prompt
it's probably not on your desktop but
open up your command prompt from the
start menu down here and you're going to
want to change to your regular C
directory and you need to make a data
directory so you're going to type in MD
data and then you're going to type in MD
data back slash DB to create all those
directories you're going to need now
you're going to want to work your way
through to find the actual MongoDB
server and it's more than likely in your
Program Files so you're going to go to
that part of your website and you can
click on dir to show everything inside
of there here's the server here want to
change to that directory next and then
you're going to want to change to the
3.0 or 3.1 depending upon when you're
watching this video directory whatever
shows up there and then after that
you're going to want to change to the
bin directory which is located in 3.0
that directory right there and you're
going to see all the different
executables you're going to have
available for you but you're basically
going to use Mongo dot exe
Mongo de XE to run everything so then
what you're going to want to do inside
of your command prompt is type in Mongo
DDOT Exe and that is going to start up
your database and get everything ready
and then in another command prompt keep
the other one open don't close it create
another command prompt and in this one
you are going to type in Mongo dot exe
and this is going to be the shell where
you're going to be working with
everything now what you're going to want
to do is put all this inside of your
path so which we want to do is open up
the your control panel then go to system
security and system click on advanced
system settings and then you're going to
want to get this directory name that's
over here so it's Program Files MongoDB
Server 3.0 and this guy over here which
is your Advanced tab make sure you click
on that and you're going to want to
click on environment variables then from
the environment variables section you're
going to click on path user variables
for Derrick vanna's as well as paths
which would be system variables and then
you're going to want to paste inside of
there C colon backslash Program Files
slash Mongo DB server 3.0 backslash bin
backslash okay and make sure you put a
semicolon inside of there and then after
you do that click on OK and everything's
ready for you now for Macintosh users we
are going to be using homebrew so go to
brew dot sh if you don't already have it
installed and select this great big
giant line it text right here paste it
in your terminal and hit enter after you
do that you're going to want to go and
open up a terminal on your Mac and type
in brew update and a whole bunch of
things going to update then you're going
to type in brew install MongoDB and
MongoDB is going to install itself and
then you're going to go and make the
data directory just like Windows users
did you are however going to have to do
this as root so type in sudo make
directory - P /data /index leo the
windows people didn't skip ahead but
back on Mac also type in password and
hit enter then what you're going to want
to do is make sure that you can use
MongoDB no matter who you are so we're
going to type in Who am I and that's
going to pop back your username type in
sudo change owner to
your username and then change that to
the data directory once again type in
your password hit enter then we're going
to start up our server by typing in
Mongo d no X DX e in this situation then
you're going to open up a new tab in
your terminal again don't close this guy
down you have to open up a new tab and
whenever you do you're going to type in
Mongo and your shell is going to be
ready to go and that's all you need to
do to install on Windows as well as
Macintosh now I'm going to jump over and
start writing some code and if you
wondered how you would open up in any
new tab you're just going to go in here
inside terminal and shell and new tab
and there we are and everything is
exactly the same that I do here on
Macintosh as well as on Windows and in
situations in which things are not the
same I'm going to show you how to change
them so that they are the same all right
so I'm going to type in Mongo D start up
the server there everything is running
and then over here I'm going to type in
just simply Mongo and there is our shell
that we're going to be using I'm gonna
show you here in a second how I get rid
of this now whenever you're creating
your database names just make sure that
you do not include any spaces in the
names or forward slashes or back slashes
and this is on Windows and Mac period
stars different brackets quotes or
symbol question mark dollar sign or
colons okay so do not use those
everything else you can pretty much use
however and what's kind of neat is we're
going to be able to run JavaScript code
directly inside of our shell I'm going
to make this go back here so we could do
something like function and let's say we
have x two and we receive a number for
this function and in exchange we return
whatever the number is that they pass
inside of here times two and close that
off we're then going to be able to
directly in our shell go times to pass
in five for example close that off and
you're going to see that it gives you a
result just something neat to know about
we're also going to be able to show all
of our databases by going show DBS like
that it's going to show all the
databases we currently have installed we
should also show our current database by
just typing dB and there you can see
we're using the test database and that's
always going to be true unless
change it if we want to create a new
database we just type in use and I'm
going to say test1 in this situation but
you can use any if you don't already
have test1 database it's going to create
it for you just an empty database so now
we're using the test-1 database now
there are many different ways to work
with documents as you're going to see in
this first one however what I'm going to
do here is I'm going to create a MongoDB
document and then insert it into our
database and I'm going to set it up kind
of like you would set it up inside of
JavaScript colon and I'm going to type
in a name here and don't worry about
skipping to different lines if you want
to keep everything neat so let's just go
and create like an employee type of
database here email and you can also
come in here and create dates so if I
wanted to have this be the current date
that I'm entering this document I would
just type in new date like that and then
close that off and there we go you can
see it right there now to insert it into
my database I'm going to type in DB
test1 which is the name of my database
and insert and Derrick and that is
inserted as you can see it returned one
and then if I want to find all the
information I have inside of my database
I'm going to type in DB test1 once again
test1 is the name of the database and
then find and you can see right there
that it pops back Derrick baÃ±os and all
that other information we could also
come in here and type in pretty at the
end and you could say that it lays
everything out a little bit nicer on our
screen now let's say that I decided I
wanted to have my employee Derrick
baÃ±os have a list of references in an
array installed inside of it well I
could just go Derrick baÃ±os like this
and references and say that this is a
ray there's an array and now what I can
do is come in and update that database
by test1 and then specifically let's say
that I want to update the document
inside of here that has the name of
Derrick Vanis assigned to it I can do
that and say that I want to update based
off of the changes in the Derrick baÃ±os
object
I've created right here you can see that
it matched one and it modified one so
you know that that all went through now
what I can do is do another find on this
and you can see that the references
array is also there as well
we would also of course be able to come
in here and delete information by going
again test one and remove and then
specifically we have to find a document
to remove so we're going to say we want
to remove the document it has a name of
Derrick baÃ±os and you can see that it
did remove but if we want to verify you
can go and type in find and see that
it's on nothing's there and it's also
important to know that there are
numerous different data types that we
can save into our documents so we have
null and null could be something like
name and this is automatically going to
be done for us you have name and null
which means it doesn't have a value at
all so that's one type of data that we
can store in a document we could also
store or boolean it's important to see
exactly what it looks like whenever
we're installing these in regards to
where to use quotes and when not to use
quotes for example if you're storing a
boolean value inside of a document you
do not put quotes around true we also
have number types and these are by
default 64 bit float numbers and with
these guys if we were installing them we
could do something like height and 6.25
so once again we're not going to put
quotes around those numbers we can also
store strings of course so string and a
string is basically just going to be
address and you can see we have to put a
colon between these to match these up
the keys to the values address being the
key and the value being on the right
side of the screen here and this will be
Main Street and this has nothing to do
with installing the address this the key
value pairs of address and 1 2 3 Main
Street as you're going to say I just put
that there to show you that's a string
we're also going to be able to store
arrays of information so let's say we
had a grades array that we wanted to
install inside of here do so by just
putting these brackets inside of here
and saying something like a B F but also
we're going to be
store multiple different data types
inside of our arrays with Mongo so we
could also go in here and say 234 is it
grade we're going to close that off with
proper bracket and the curly bracket so
that's one way we can go and insert an
array into a document we're also going
to be able to put data objects inside of
here like you saw before so we could
have higher date and if we wanted it to
be whatever the current time is right
now that's all we need to do I'm going
to show you in a second how to put other
dates in could also store regular
expressions so let's say that we wanted
to install a straight regular expression
that we plan on using for some reason or
another we could come in here and do
just that and I'll get a little bit more
into regular expressions here in a
moment and there's just a basic regular
expression for matching a street address
and if you don't know anything about
regular expressions of course I have a
tutorial on them so that's how we would
install a regular expression in a
document we would also be able to in
store embedded documents inside of
documents so let's say we wanted to
create a document called info that's
going to have another document inside of
it that's going to have name and let's
say this is Sue Smith don't know what
sue Smith's doing but make sure you
close off with both curly brackets if
you want to install a document inside of
a document we're also going to have
object IDs which are going to be unique
for every document that we have those
are going to be automatically created
for every single object you create
inside a MongoDB and just so you know
there are 12 byte IDs and I'll get a
little bit more into that here in a
moment let's go in here and actually
create one so let's go random data is
equal to and we could come in and say
name and let's put a null value inside
of there just so you can see that null
value then go over 20 and give that a
boolean value of true skip over to the
next line let's go in and create a
height and just skip ahead we'll throw
in a big integer a big long big giant
numbers you can put very large numbers
inside of MongoDB an address a grade
array high
date Street regular expression just like
you saw before and a document inside of
a document and you can see that that was
created for us and now if we want to go
and insert this into our document we can
just go test one insert and random data
inside of there and you can see one was
inserted if we jump back here into a
find you're going to see all that
information was inserted into our
database other things kind of helpful is
you'll be able to type in help and
you'll be able to receive a list of
MongoDB commands that you can go and
play around with I'm going to cover all
of them though here so you don't need to
worry about that right now
but another thing is kind of useful to
know here let's say that as I'm typing
in these commands you want to know more
a little bit more about those commands
if you type in the command without
parentheses like if you want to learn
more about what the find function
actually does you can type in DB test
one and find without the parentheses and
you can see all the different code right
here that's involved in that function
and exactly what it does so that's kind
of neat if you want to see the inner
workings of how mungo works and then
finally exit would jump us out of the
shell altogether well we don't want to
jump out of the show because we're
having too much fun let's jump back into
the shell and I promised that I was
going to make it so that you could get
rid of that number of files is 256 you
know the soft are limits error now let's
go and get ready with that already so
let's jump out here first jump out of
the shell come back over here if you
want to close this down just go ctrl C
and that shuts the Mongo D server down
and to get rid of that error we're just
going to go you limit this is an error
that we only Mac users would have ready
go you limit - n 2048 and Mongo D like
this and you're going to see that error
is going to go away if we come over here
and go Mongo say no more error so that's
a quick way to get rid of that and
that's what's again just for Mac users
now you're also going to be able to
execute JavaScript scripts inside of
MongoDB inside of the directory that I
am currently inside of which you can
find by the way by going exit like this
and PWD say I'm in that
directory right there I'm going to write
some JavaScript code and save it there
so that I'll be able to work with it and
what this is going to do is I'm going to
create a function here called select DB
and it's going to receive a port as well
as a database and if a port is not
supplied I'm going to use this port
right here which is the default MongoDB
port and if a database is not supplied
I'm going to use the test one database
and whenever we do run this function it
is going to make sure that we are logged
in on the port defined as well as the
database name unless something else was
put inside here and it's going to return
that database connection so we're going
to want to go in here and in this
situation I'm going to put it in my
Derrick baÃ±os directory and I'm going
to let it be defined select DB Jas like
that jump back into the terminal or
command prompt if you are on Windows and
I'm going to log back into Mongo now if
I want to load that script inside of my
shell I just go load and then I go
define select DB Jas any true pops back
that means it found it I'm room remember
I have to be in the same directory as
this file so if you're getting any error
that's the reason why you got that air
and now what's neat is I will be able to
come in here and just go select DB and
it's automatically going to log me into
the test-1 database if I just type in DB
like that you can see that yes indeed I
am logged into the test-1 database and I
of course could change it to just a
regular test or whatever just use that
function there just as demonstration so
for example I'd be able to come in here
and call this function also by going
select DB and typing in 2701 seven and
test instead and you can see that I'm
logged in to the test database now
instead let's just go back here and
change this to the regular one and you
can see that I'm in test one which is
where I want to play around with another
file that you're going to want to play
around with here that is going to
execute every single time you run your
shell command is what is called the
Mongo rcj s file and on windows this is
going to be in your C directory users or
this is where you're going to save it
dereck be honest it's not going to be
Derrick beans for you obviously Mongo or
CAS so that's if you are a Windows user
however if you are a Macintosh user
you're going to want to store this in
side of your main user directory so it's
going to be user and Derek be honest or
whatever your name is and you're going
to want to store it inside of here
however you can see here that this file
shows up but it's grayed out that is
because I forced normal hidden files to
show on my Macintosh and if I want to
show you how to do that inside of your
terminal let's go in just open up a new
tab and to show hidden files on a
Macintosh you're going to type in
defaults right calm Apple finder apple
show all files yes and hit enter and
that's going to show hidden files so
you'll be able to directly go in there
and mess around with that file now I'm
going to show you how to protect your
database as well as how to set up an
editor so that it will be able to work
with MongoDB what we're going to do is
we're going to open up the Mongo our CAS
file which we just created once again in
our users directory whether you're on
Windows or Mac and pretty much what
you're going to do is create a new
function inside of here called protect
DB and just type out everything that we
have here I have a link to all the code
in the directory and that's going to
allow our database be protected so that
the database isn't droppable or whatever
and I'm also going to show you how to
customize your prompt inside a MongoDB
all you're going to do is going to type
in prompt equal to and here I created a
function that is going to check whether
my database is undefined if I am in a
database it's going to pop back whatever
the name of the database is if not it's
going to type in an ODB meaning no
database as my prompt otherwise what
it's going to do is it's going to return
the database name with a space and then
operation count and it's also going to
show the number of executions that I've
put inside of my terminal so if you see
right here I am inside Mongo and it's
going to show my current database right
there with a space between it and then
the current operation or line inside of
my shell as it executes so that's how
easy it is to customize your prompt and
once again those commands are exactly
the same on Windows as well as on
Macintosh now if you'd like to be able
to edit shell operations in an external
editor which is really awesome once
again in your Mongo RC file on a
Macintosh you're just going to type in
editor
is equal to
em like that and I'll show you how to
use that in a second and if you're on
Windows we're going to use sublime text
instead I trust you can install sublime
text and in that situation you're going
to type in C colon backslash backslash
program little tilde one backslash
backslash sublime little tilde one like
that and then you're going to want to
save that file but once again that's
windows this is Mac I'm using Mac right
now everything else is the same so I'm
going to save that then I'm going to
open up the terminal where I have Mongo
Dee running and I'm going to shut that
down and then I'm going to restart it
then I'm going to jump over and I'm
gonna type in Mongo and I'm in the shell
again now what's really cool is I'd be
able to come in here and do something
like type in Suzie Smith is equal to
like that and then I could just type in
edit Suzie Smith it's going to open up
the vim editor for me and how we're
going to use this so I'm just moving
with my little arrow key here I'm going
to hit I whenever I want to insert some
information and I could do something
like putting in Suzie Smith's address
and then two eggs out here we're just
going to hit the Escape key and then
down here we're going to type in : WQ
and on sublime text on windows you're
just going to save just like anything
else then you can see if I then come in
here and go Suzy Smith like this and hit
enter it's going to show the updated
address well that's all I have time for
today in the next part of the tutorial
I'm going to cover inserting updating
deleting documents and a whole bunch
more so please leave your questions and
comments below the last til next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>