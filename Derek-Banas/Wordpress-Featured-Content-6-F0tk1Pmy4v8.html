<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Wordpress Featured Content 6 | Coder Coacher - Coaching Coders</title><meta content="Wordpress Featured Content 6 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Wordpress Featured Content 6</b></h2><h5 class="post__date">2011-07-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/F0tk1Pmy4v8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
6 of my tutorial on how to create a
wordpress featured content slider plugin
boy that's long in the previous tutorial
I showed you how to allow people to
designate what they want their featured
image to be and this is the tool
whenever it's going to be finished and
at this point in time what I need to do
is actually go through and figure out
how to grab the title for each of the
posts the excerpt the permalink or the
link to the actual article as well as
how to crop and shrink down this big
giant image into these little tiny
thumbnails in this tutorial I'm going to
show you how to do all of those
different things and temporarily where
all this is going to show up is in the
meta box that I created in the previous
tutorial if you haven't seen those
definitely watch them so what's one of
the first things I need to know how to
do to create this well I need to know
how many actual featured images or
featured articles there are so I'm going
to go through and code all that so I'm
gonna open up text Wrangler so I'm going
to the function that is actually puts
this meta box here I am inside of
wordpress and I'm going to start putting
some custom information in there again
this is going to be temporary so if I
want to retrieve the total number of
currently featured posts how do i do
that i'm going to go pose featured the
create a variable and i'm going to call
a function in wordpress called get term
by and we'll say get turned by and you
have to put in name followed by featured
which is the category a post must be in
to show up in the featured content
slider at all what category in the end
there and then after I do that I want to
go echo and i'm gonna type in featured
posts and then follow that with hose
featured a dash in this bracket followed
by count which is going to return the
number of posts that are in the featured
category and if i file save that you can
see now it says featured posts and then
it's followed by one because i only have
one post currently that is in the
featured category that's going to be
very useful because i'm not going to
create the featured content tool if
there isn't at least five of these guys
so that's something that I definitely
need to know let's get back over here
and code some more now what I'm going to
do is I'm going to issue a custom query
that's going to output the titles the
excerpts and a whole bunch of other
things and to do this I need to hijack
the WP query object however if I want to
issue any queries in the
future I'm going to need this guy to
remain intact so what I'm going to do is
I'm going to create a temporary holding
cell for this guy and that's how you do
that then I'm going to go WP query and
set that to null and this is just a
requirement of WordPress and we'll most
scroll up here so you can see this
better on the screen then I'm going to
create a new WP query object so I'm
query is equal to new WP query and this
allows me to query WordPress and get any
type of information that I want now if I
want to issue a query that returns say
all of the posts that are currently
inside of the featured category what I
can do because I have that count up here
actually going to copy this just go WP
query and this is how you issue a query
you can think of this like accessing a
database post per page and I'm going to
set this to the maximum by putting that
guy inside of their period dot then I'm
going to say and catagory name is equal
to feature to close that off now we can
do is cycle through all of the results
that came back positive and how you do
that is good while WP worry dash racket
have posts that came back positive for
the quarry that I gave it BP query get
that post and let's say I want to output
the title all I do is type in the title
and it will output it I'm actually going
to close off the while loop just so we
can see what exactly we're getting here
and then I'm also going to reset WP
query back to its original form again
just so it can be used if there were
queries issued anywhere else on the
screen sort of temporarily hijacking
this guy and then we're going to give it
back its original results or its
original form by calling WP temp query
see everything's all nice and neat if we
file save that you can see that it shut
out elephant on the screen so it shut
out the only title that exists for the
posts that are currently in here and
inside of the featured category jump
back over into text Wrangler and let's
start grab and all the other things we
need so we needed the title we needed a
thumbnail the excerpts come up here in
put a break statement so everything's
divided real nice we can see it then
what I'm going to do is I'm going to
retrieve the excerpt t too long excerpt
is equal to if you want to receive the
excerpt and save it to a variable to do
some work
what you do is call get the excerpt if
you called the excerpt it would print
the excerpt out on the screen that's not
what you want to do I'm going to create
another variable cold and TT short
excerpt and I'm gonna call the substring
function and there's some built-in
WordPress functions for shrinking the
excerpt but they have to be inside of
the theme and I don't want it that way I
want it to work this way so let's say I
want to grab the first through the three
hundred and thirtieth character and that
guy and I want to echo out the screen
and TT short excerpt that's what
substring does zero is the first
character so I want the 0 character the
whole way to the three hundred thirtieth
character that's what it does it's going
to trim that guy down and we'll throw in
a break statement the end here I'll save
and you can see there's the excerpt that
I just grabbed from inside of wordpress
for that post and we'll keep going here
and get some more stuff if I want the
term a link to print out the screen just
call the Karma link function so out a
word press and it will automatically do
that for me and let's throw the break
statement in there just keep it neat
file save and there is the link to the
actual article so real quickly here I've
cut into a lot of things I got the title
got the excerpt got this now I need to
get to thumbnail sounds like it's gonna
be complicated and it will be a little
bit complicated let's scroll up though
and this is how I actually program I
sort of like baby step my way through
everything so what I'm going to do first
before I jump right in there and grab
that featured content i'm going to go
out and i'm going to find the location
for it just to make sure i have it
featured image equal to and how you get
that remember i saved the URL for the
featured content right here so this is
metadata i want to go and get this
metadata how do i do that jump over here
i'm going to call get post meta i'm
doing i'm saying i don't get the post
meta and then post dash ID this is going
to be for the current post that we're
working through here it's little guy
right here i'm sort of like creating an
artificial loop it's going to give me
that URL that I need MBE image just the
name of it true and then I want to echo
this out the screen grab this guy right
here copy file save and you can see
there it just shot out the featured
image that i have saved inside of here
so now we can start working around with
some other things just to show you this
I'm going to output the
directory path for my actual plugin
because this is something else I'm going
to need to do or need for you to
understand all you do is call plug in
dir ah and then if you want the
directory path for your plug-in you use
the shortcut underlining online file and
I underline which is a reference to your
actual plug-in file and let's just copy
that and while I'm here let's also go
out screen the theme directory just go
pimp log info template directory and
file save it now you're going to be able
to see all the different things you're
looking for here we're going to be
working for okay so we got the actual
location of the file or the permalink of
the URL to the post then right here we
have our featured image which is stored
in metadata this is the plug-in
directory for our plug-in that we're
working with and this is the directory
or the location for a current theme so
that's how you get all those different
things so now what I need to do is
actually shrink that featured content
image down and crop it so that it looks
real nice and I'm going to show it
inside here what I'm going to do is I'm
going to use something called Tim thumb
and I provide link to all this code in
the underbar basically what you want to
do inside of your theme is you want to
create a folder called Tim thumb and
then inside of that guy you want to
create a folder called cash and then you
just want to paste the Tim thumb script
inside of that folder and remember this
is inside of your theme so if we jump
out see themes default that's the theme
i'm using currently and then we don't
want to create this folder and then put
all this information inside of there
then you're going to have to change mod
on cash and tim thumb to 777 and if
you're watching a tutorial that is this
complicated i would suppose you know how
to change permissions on files and
folders so i won't get into that so now
that we have the tim foam script inside
of there which is going to trim this
down i'm going to temporarily close off
the PHP code so make sure you do that
make sure there's no white space before
right because remember wordpress hates
that and i'm going to create a div class
is equal to and i'm going to call it
featured this actually doesn't even
matter i'm going to put featured film
inside of there just so it's inside of a
div I don't know why a lot of things I
do or just have it then what I need to
do is link to the featured image and
then crop it using the Tim thumb script
image source is equal to quote and I'm
going to have to jump in here in a PHP
and one of my ideas blog info template
directory which you saw what that was
before that's the themes directory and
then closed off the PHP and then to
access that folder Tim thumb forge lash
Tim thumb dot PHP ? i'm going to go
source is equal to PHP i'm going to echo
out the screen and TT featured image so
that's a great big giant image and then
close off the PHP again and then let's
say I want this to be 48 by 48 so I'm
going to go and h is equal to 48 and
width is equal to 48 and if you want
this to be cropped again this is using
that script you go c c is equal to 1
that's normally all i ever do with tim
phone then we're going to go all equal
to HP when i give it the title of the
post as the alt text clothes off PHP
width is equal to 48 point is equal to
48 don't forget to close off that quote
right there forward slash close that guy
off in the am we have to jump back down
here turn PHP back on file save it and
there is our little thumbnail of our
elephant so now we know how to gather
and get every single thing that we need
for this guy right here and in the next
tutorial i'm going to show you how to
put all this together and finish all
this up leave any questions or comments
in the comment section below otherwise
till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>