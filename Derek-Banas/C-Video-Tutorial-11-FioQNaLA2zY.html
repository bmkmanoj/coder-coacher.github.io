<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>C Video Tutorial 11 | Coder Coacher - Coaching Coders</title><meta content="C Video Tutorial 11 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>C Video Tutorial 11</b></h2><h5 class="post__date">2013-08-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FioQNaLA2zY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
11 of my C video tutorial today I'm
going to focus on text file i/o with the
C programming language if you haven't
seen any of the previous parts of this
tutorial I provide a link in the upper
right hand corner and you should
probably take a look at now basically C
is going to provide numerous methods for
working with files now a file is just a
block of memory with a name
however the file in actuality can be
stored in many blocks of memory that are
not necessarily sequential however you
don't really need to worry about that
because the C compiler is going to act
like they are sequential and in this
part of the tutorial I'm going to
specifically focus in and cover how to
work with files if they are represented
as text files and in the next part of
the tutorial I'll cover how to use what
are called binary file i/o well I have a
lot to do so let's get into it okay so
we have our little basic setup here and
the very first thing that I'm going to
do is show you how to write to a file so
I'm going to create it int and it's
going to be called random number and
what I'm going to do is I'm going to
create a file type and this is actually
going to be a pointer to a file and
after I create that I can then go view
file is equal to F open and I can open
or create my file in memory now this
part right here right now I'm just going
to put a W inside of it and what that's
going to do is say that I want to open
the file or if it doesn't exist
currently I want to create it and either
way I'm going to completely delete what
is there and this is going to provide me
with right access or the capability to
write to this file called random numbers
text now there's a couple other
different things we could put inside
here we could put an A and when I say
inside of here I'm referring to this
area right here and if we put an A
inside of there what that's going to do
is open or create a text file and then
and anything we decide to add to the end
of whatever is currently there so this
is in essence append I can also of
course read and we're going to cover
this in a second what this is going to
do is open a file and allow us to read
from it another thing that we can do is
we could put a plus sign inside of here
what this is going to say is open or
create a file then append for writing
and reading you can also put a plus sign
here this is going to say open for
reading and writing and then we could
put a w+ and that's going to say open or
create and delete original and this is
going to allow us to read and write to
that file so those are the different
codes you can put in there and I'm going
to show you a couple of them as this
continues now what we need to do is
after we checked or tried to open this
file we're going to check to make sure
that it actually was open and the way
that we're going to do that is whenever
F open is called if the file wasn't
opened it's going to return a 1 so we're
going to put in here not P file and in
this situation we're going to say printf
error doesn't really matter couldn't
write to file that's good enough and
then we could put in here return 1
because an error occurred all right and
that's going to end our program but if
we get through here then we know that we
got to a situation in which we are going
to be able to write to this file so what
I want to do is just print 10 random
numbers inside of here so while I is
less than 10 and then increment I and
then assign to my random number I'm just
going to go random number modulus 100
and this is just an easy way to generate
random numbers and then what I'm going
to use is what is called F print F and
it's basically just going to print
whatever is supplied to a file just like
print F prints to the screen and how it
works out is you go and make a reference
to the file we're going to print two and
then you have the type of data you want
to print and you could throw a newline
in there if you'd like to and then you
and say exactly what information you
want to print to the file and it's going
to cycle through and as each of these
random numbers is generated it is going
to take them and print them to the file
and that's how they work and if we get
down here
well we know everything works so we
could say success writing to file and
then the very last thing we want to do
is close the file and to do that we just
go if F close P pass it the pointer to
the file is not equal to zero and of
course it's going to return a 1 if
everything went well and a 0 if it
didn't go well
so in a situation in which it didn't go
well we're gonna say err file not closed
and basically we're going to need to
call F close on all of the different
files that we open otherwise we're going
to either run out of file handlers or
we're going to run out of memory same
sort of issues that have come up in the
past so we can file save that and
execute and success writing the file
says that everything worked well let's
go in and actually check to see if
everything worked and we're basically
going to use some of this code that we
have right here because there's no use
and throwing it out all the code of
course is available in a link in the
description so we don't need this guy
right here but we do need a buffer to
store the information that we're going
to need to be pulling out of the file
and we're get defining here that we only
expect a maximum a thousand characters
per line to be needed we're going to
leave this exactly the way that it is
we're going to leave this exactly the
same as it is except we're going to say
we want to read this time we can leave
this error here spell couldn't write
there we are
that fixed then this is the part where
we're going to actually be changing some
things I'm just going to get rid of this
all together change this to success
reading from the file we can also keep
this the same because we also want to
close that so in this area is where
we're going to be changing some things
what I'm going to do is I'm going to use
F gets and it's going to read up to a
thousand characters per line until F
gets is going to return a value of null
which is going to occur when it reaches
the end of the file so to do that I'm
going to say F gets and what I need to
pass into it is a buffer which is where
all this data is going to be stored and
then I'm going to say
expecting up to a thousand characters
per line and then the file that I want
to read from anima continue doing this
as long as it's not equal to null or end
a file and then I can come in here and
just say print stuff and I know this is
going to be a string buffer but ah and
file save and bounce over here and there
you can see a whole bunch of random
numbers printed out success reading from
smile also printed out so that's how I'm
one way that you can print out this
information another way let's get rid of
this all together we could also come in
here and say awhile f scanf and what
this is going to allow us to do is to
pass the file and the data type to read
and the buffer of course to store
everything in and then we're going to
check for valid data because f scanf is
going to return a number other than one
if the data doesn't match a string so
we're going to pass in like I said the
file and then we're also going to pass
in the type of data that we expect and
then offer which is where the
information is going to be stored and
then we're going to check wow it's not
equal to one and then what the heck
let's try a different one this time I'm
going to use puts to print this
information out and puts is just going
to output the string plus a newline see
that's why I didn't put the new line in
there previously I put up a new line
inside of it and we can save that clear
this and there you can see the
information printed out again so there's
two different ways to read information
from a file now the next thing I'm going
to do is show you exactly how you can
sort of move around within a file and
print different types of information
we're going to keep our buffer in this
situation and we're also going to keep
this file right here this time we're
going to use random words just to use
different types of data and we want to
read and write from it so I'm just going
to put our plus inside of there just
like previously I'm going to make sure
the file was properly opened and then we
can get rid of all this now what I can
do I'm going to show you another thing
if I want to directly print directly to
the file I could do something like
messing with strings and then just say
the file that I want to print to and
that will allow me to directly print to
it know
thing I can do is let's say I want to
move around within this data that I just
put inside of the file and change some
of it well I could use another function
called F seek and I just need to say
okay what file do I want to work with
then what I'm going to do is I'm going
to say that I want to go 12 characters
in from the beginning and how you say
from the beginning of the file is to put
seek set stands for whenever I want to
move 12 characters forward I want to
start from the beginning of the file
okay so that's what seek set means I
also have seek current and we're going
to show you these here in a second and
this says move if this was seek current
here this would be moved 12 characters
based off of current position in file
then you have seek end and that's going
to say move based off of starting at end
of file so those are those three
different things and just so they stay
here on the screen I'm just going to do
this so there we are so I'm saying I
want to start at the beginning of the
file and I want to move 12 characters in
after I do that let's say that I want to
change this to messing with files
instead of messing with strings well I
can do that let's just bounce here and
I'm just gonna use EFT puts again so I
in essence sort of like move the cursor
inside of the file and now I'm going to
change some things so let's say I want
to change this to files okay well that's
the data that I want to put inside of
there and there's a couple more
intricate ways and messing around with
this but I'm just trying to keep it nice
and simple so f put so I'm going to say
that I in essence move the cursor twelve
characters in from the beginning and I'm
going to overwrite strings with the word
files with a couple spaces I can do this
this box down here and I just pasted
this in this is going to print out our
information however since this is going
to be a stream and I just printed out
this information to files where do you
think the cursor is it's actually going
to be out here so whenever I say that I
want to print that information out guess
what there's no information to print so
what I need to do first I can use F seek
I can use a couple different things but
like I said I just want to keep this
simple
throw that inside of there and change
this to zero that's going to move my
cursor back to the beginning of my file
and I can file save that execute messing
with files prints out on the screen just
like it should now just to prove to you
let's go like this file save got rid of
that didn't go back to the beginning the
file execute success reading from file
but it didn't print it out because there
was nothing to print so that's very
important make sure that you go back to
where you want to print the information
from and of course if I wanted to go to
the end of the file I could just go like
this is that inside of there leave this
set to zero doesn't matter and say seek
and there we are that's going to move me
to the end of the file if I'd want to do
that another piece of information I
could get is I could get how many bytes
I am from the beginning of the file and
to do that so let's just create a long
and let's call it number of bytes I'm
going to use a function called F tel and
pass in the file this is also a way to
since I already put my cursor at the end
of the file and F tell is going to tell
me how far I am from the beginning this
is going to tell me how big or the
number of total bytes inside of my file
and I could do something like printf
number of bytes in file print that out
and there you can say number of bytes in
file is equal to 20 and then of course
if I wanted to this would be like a long
way of going back to the beginning of
the file but since I know I have 20
bytes inside of here I could now use F
seek pass in P file and change this to
negative 20 and seek see you are and if
that is correct that should print the
information back to the screen let's
file save it and there you can see
messing with files prints out on the
screen so those are a bunch of different
ways to mess around with files using the
C programming language if anything
wasn't completely clear please leave a
question or comment below otherwise till
next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>