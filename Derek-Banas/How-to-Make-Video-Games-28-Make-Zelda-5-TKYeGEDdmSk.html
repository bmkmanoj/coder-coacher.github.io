<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Make Video Games 28 : Make Zelda 5 | Coder Coacher - Coaching Coders</title><meta content="How to Make Video Games 28 : Make Zelda 5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Make Video Games 28 : Make Zelda 5</b></h2><h5 class="post__date">2017-11-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TKYeGEDdmSk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
28 of my how to make video games
tutorial series here we're gonna
continue making Zelda and more
specifically I'm going to have the
camera follow link using a script I'm
also going to create the link script and
a sound manager script and I'm gonna
handle all of my collisions like always
all the code is available in a link in
the description underneath the video and
I have a lot to do so let's get into it
all right back inside of unity and what
I'm gonna do here first is I am going to
create a whole bunch of tags and add
tags to everything so add tag and come
over here and I'm going to need gem and
I'm also going to need Bush and this is
going to be for handling collisions
between these items as well as link
boomerang and bomb and oh and Link and
door and stone okay I think that is
everything and then I'm gonna assign
them to all the game objects so I'm just
gonna come in here and select all the
gems and it's assign whoops
gem to them and do the same for my
bushes
there's Bush and then the individual
weapons and we'll be able to throw the
throw boomerangs and bombs and all that
stuff as the tutorial continues and the
bow and the link of well that's not
going to be linked what I have to create
link actually here in a second so
there's the door and here is the stone
okay so we have all of those all tagged
and we'll be able to use those later on
now what I want to do is I want to set
well it's that link up so I'm just gonna
come in here get my sprites and I'm
gonna use the same design we used before
since it's kind of a review of how we're
going to do animation so 53 through 54
that's gonna be the idle version of link
I'm just gonna drag that inside here
let's call that well first off let's go
into the animations folder and I'm gonna
call this idle - there's idle - and
we'll save that and then I'm gonna drag
this guy up here and let's rename it
link okay and now let's give this the
tag of link so we don't forget
always if you're thinking of something
go and change it immediately alright
where do we want him to be we want him
to be in like the one one position to
start off and then verify that link the
empty around it is at the zero zero
position so that's good now we have all
of these guys all set up so what we want
to do is go and do the animations
otherwise for everything else and we
guess what we can go in here and just
drag our all the animations in so
there's going to be walked down and
there is walk right and here is walk up
so there those guys are and we can go
and create our what we're gonna have to
go in here and create our property again
so this is going to be an integer and it
is going to be called move dirrection
just like we had before and then what we
can do is go and do transitions to make
transitions from walk down to idle and
what this is going to be is going to be
whenever move Direction is going to be
equal to zero and then we can go from
idle make transition to walk down that
is going to happen when well we gotta
select this first and that is going to
occur we'll never move direction and
that's walk down is gonna be equal to
four so equal it's a four if you can't
see this beautiful screen it's an HD
video and make transition so we're gonna
go from idle to walk right now whenever
I'm over here this is going to be equal
to three so just change that to three
and then go make transition you can see
how easy with a little bit of practice
it is to just blindly go in here and
just add all these different animations
and we'll go back to that when that's
equal to zero and then make transition
and walk-ups going to go there and that
is going to occur when ever move
Direction is equal to zero and then we
will go to walk up whenever our we're
going to select that one make sure we
select the proper one yes that's the
right one and that's going to be
whenever remove directions equal to two
and there we go we just went and did all
that stuff again so through repetition
it will be very easy to remember all
this stuff and that's all we need to do
we just animated link and everything is
awesome now so we can show link we're
gonna select him
and then come over to the sorting layer
and set that for link and now you can
seize down there and if we play it
you're gonna see that he's going to be
spastically jumping around so we're
going to slow that down a little bit go
back into the animator and walk down and
we'll change this delay 0.3 and 0.3 and
I'm just changing the speeds on this so
it's a little bit slower and whenever I
get into actually animating them on the
screen I might change those as well so
let's just go in here and let's play it
again and see if he moves a little bit
see that's a little bit better okay so
there we are
so temporarily that's what that's gonna
be and we'll worry about animating it
more later now what I want to do is I
want to make my camera move actually
let's get the sound manager out of the
way so let's open up sound manager now
basically with the sound manager I'm
doing the same things I always did well
let's jump back over into unity and
create the sound manager okay so let's
just come in here create empty and let's
call it sound manager so sound manager
and spell that right okay then we're
gonna select the sound manager and we're
gonna come in add components and audio
and this is just gonna allow us to play
everything so we go audio source and
then we're going to be you can drag
audio clips in here if we want to have
background music but I'm not gonna do
that right now and that's basically all
I need to do that is going to create our
sound manager for us I'm gonna grab the
script and drop it inside of there and
now I'll explain what the sound manager
script does okay so I've done this a
bunch times this is where our sound
clips are gonna be this is going to be
what's called a singleton which means we
can only ever have one sound manager and
this is how we set that up we go and
create a static sound manager inside of
here here's audio source which is going
to refer to the audio source that's
added to the sound manager play our
sound effects and then down here is
where we are going to guarantee that
there is only one ever sound manager so
if the sound manager is equal to null
then what that means we're going to
assign it to it else what we're gonna do
is destroy the new sound manager
somebody's trying to create we are then
going to get a hold of our audio source
and then down here this is going to be
the function that any of the scripts are
going
to be able to call to play sound effects
okay very simple I've covered sound
manager in pretty much every other game
I've made so far so I don't want to
waste your time covering that again of
course you can go watch any of my
previous games and you'll see how that
works so now we are going to create our
camera move script so we're just going
to come inside of unity and we're going
to right click on it create c-sharp
script and we're gonna call this camera
move and then we'll go and open that up
and here it is okay so very first thing
I'm gonna do is I'm gonna come in here
and put a link here to basically this is
where link is going to be stored so that
we know what to track with our cam and
with our our camera on the screen so
we're gonna call that camera target and
we are also going to define how quickly
the cameras gonna move towards link
whenever link moves so this is going to
be a float and this is going to be
camera speed and then I'm going to need
to define my minimum and maximum
movements all in regards to the XY plane
for our game so I'm gonna define a bunch
of floats for that so this is gonna be
the minimum X and this is basically
going to define how we are going to keep
linked pretty much always centered in
the middle of our screen so we'll go
float and this is gonna be max X and
then we will have blick floats max Y all
right and you're gonna see how those
work now what we're gonna do is we're
gonna have fixed update which is of
course what we always use whenever we
are dealing with rigid bodies so we'll
go fixed update and this is where
everything is gonna be so the very first
thing that I want to do if I'm gonna be
tracking something cuz I want to make
sure that the user has assigned a camera
target so we're going to verify that the
camera target is not equal to null and
if that is so what we're going to do is
we're going to use a thing called lerp
which is going to smooth the movement
from the starting position to the target
position
to do that we're gonna say new position
for our camera and we'll go vector2 and
lerp and lurks just used for smoothing
of movement that is it so transform
position and then we will reference our
camera target position so we're gonna
move from the position the cameras
targeted on whenever it first starts off
towards the camera position itself okay
so and then we go Delta time times our
camera camera speed and that is going to
define how quickly we are going to move
in that direction we then need to define
the cameras new position and that's
going to be equal to new vector3 and new
position X as well as new position Y and
then negative ten F okay
so that is going to be our new position
then we're going to use a thing called
clamp which is going to get the cameras
x position and clamp it between the
minimum and maximum values so we'll go
bar and clamp X and we go math F dot
plant is where it is located and then
we'll pass in vector three X and then
the men X and Max X that is going to
surround that guy then we're gonna do
basically the same thing for the Y
position and this is vector E let's get
rid of that make sure we get that
properly in there alright so there that
is and then we're going to copy that and
then we'll have clamp Y and then we'll
just change this to Y and this will also
be set for y and Y and that is all we're
gonna have to do except we'll move our
camera so transform position is equal to
new vector3 and pass in clamp X and
clamp Y and negative 10 F once again
okay and that is going to move our
camera based off of the movements of
link
come up here and go file save for some
reason it doesn't always work we're
gonna save all
alright so camera moves saved now we'll
jump back over into unity and we're
gonna go and get camera move and assign
it to the main camera so just drag it
over here don't drag it over here whoops
let's get it again alright so grab it
and drop it inside of there alright so
who's our target our target is linked so
we're going to go and drag link over
here drop them in there we're gonna
define our camera speed 42.5 which works
well normally this is gonna be 100 and
that's gonna be 100 alright so there we
go we have all of that information set
up to track link now what we're gonna do
is we're gonna save our scenes so save
scenes and save project and we're gonna
jump over into our other scene
and steel I'll wait a minute this is
link let's see what this guy is yeah
let's open this up we're going to create
a new version of our a link code and
we're just gonna steal this alright so
what I'm gonna do I'm gonna select it
all and copy it jump back over and s
inside of here and create and C sharp
script and this is gonna be called link
to this pops up just hit reload that
always works and then I'm gonna just
select everything inside here paste in
our copied code change this to link two
and then just make a couple little
changes inside of here all right so I
don't have the game board setup yet it's
gonna be different than what I used
before so I'm just going to comment that
out for now and let's also comment out
that guy and there's our sound manager
we're just gonna leave that as is for
right now come down inside of the
fixedupdate because we are going to make
changes to this guy and the change we're
gonna make is we're gonna copy this
right here and then we're gonna delete
everything else so we'll just delete all
of this stuff everything here and to
replace it with that guy right there
okay so we don't need to check any of
those things anymore and as far as I'm
aware we're gonna have to go up here and
five six file save all and jump back
over to unity and then we're gonna
select a link right here and then grab
the link to script and drop it inside of
there did it go there it is
and we'll chain
and the speed 22.5 and once again that
is spate links
movement speed okay alright so back
inside our unity now what we need to do
is add our rigidbody
to link so here we go we'll just go add
component physics 2d rigidbody bring
that up here we will change the mass to
point zero zero one we will change our
gravity scale to zero because we do not
want anything to be changing link unless
we say it change our collision to
continuous freeze rotation as you can
see I've done this a lot we'll come in
here physics 2d once again and we're
gonna add a box Collider to link it's a
box Collider and right now we're gonna
set is trigger but for right now we're
just gonna leave that exactly the way it
is and let's save it and everything
should work now here we are you can see
the camera is following link you can see
that link is moving pretty well so our
animations are working and also see that
link is moving upwards
he's moving left and right uh-oh he's
not colliding with stuff well he's
colliding with some things but not other
things a little bit oh you know what
that's because I don't have colliders on
my bushes so no big deal good see up
right there
I want link to be our the tree to be
above links let's jump out of that let's
fix that one thing that we know that we
want to fix right now so let's come in
here and let's just select the link and
we'll go into our sorting layer and I'm
gonna say that I want to add a new one
but I actually don't want to add a new
one I just want to put tree above a link
so that link can walk behind the tree
okay that was the only reason I did that
let's run it make sure it works and come
on link it up there and go behind that
tree and now link goes behind the tree
so you can hide back there okay it's a
pretty cool stuff and I'll basically
have to put colliders on all of those
objects can also see that we were in it
and say there's nothing there so we're
gonna put colliders on those objects as
well and everything else though is
working absolutely perfect let's see if
I can walk in this door or not if I look
at that I'm able to walk into the door
and of course whenever he goes
into that door up sometimes he goes in
sometimes he doesn't so I'm gonna have
to maybe play around up there he goes
there he goes okay so I might have to
tweak that slightly but everything is
looking exactly the way I want it to the
animations are working the collisions
are working see I can't go in there I
can go up into that crevice though I can
go into that crevice but not anymore
over so basically in the next part of
the tutorial what I want to do is I want
to add collisions to the bushes as well
as animate links so he'll be able to
smash the bushes and get the gems and do
all of that other stuff I think this is
a good place to start off because we did
a lot of really awesome things and like
always please leave your questions and
comments below otherwise till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>