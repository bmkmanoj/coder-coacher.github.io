<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Make Android Apps 14 | Coder Coacher - Coaching Coders</title><meta content="How to Make Android Apps 14 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Make Android Apps 14</b></h2><h5 class="post__date">2014-10-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/I58TkCi73ew" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
14 in my tutorial series on how to make
Android apps in this part of the
tutorial we are going to create an
Android translation app using the
previously made web service and if you
didn't follow along with that I have a
link to it in the description under the
video and I'm also going to show you how
to parse JSON data inside of Android so
finish translation app let's go take a
look at what it's going to look like
alright so here is the translation app
and capability wise it's pretty awesome
the interface is simple but it's just
simple so that it'll be very easy to
follow along and understand exactly
what's going on with it it's gonna type
some random stuff here I'm taking min I
like to drive fast even though I really
do not and just random stuff just to
prove that it actually can translate
fairly well it's more of a
transliteration app than anything else
you could see everything there popped up
on the screen and if I eliminate that
you can see all the different languages
we can translate into so let's go and
make it okay so that was the basic
translation app pretty much everything
functionality-wise is there of course we
could make updates to the interface and
we will but let's just start the project
so I'm going to go new project inside of
my Android studio and I'm gonna call
this translation and there we go and I'm
gonna leave everything here exactly the
same Ice Cream Sandwich that it added ah
click Next I'm going to keep a blank
activity click Next I'm gonna leave this
named my activity inactivity my I'm sure
if you've been following wrong you know
what all those things mean and let's go
build it now while that's building I
thought I'd show you the web service
here up close I have the URL right here
and what I'm doing is I'm passing in the
words I saw a cow and chicken just first
thing came to mind and you can see that
it automatically created this JSON data
with the translations inside of it so
the point of this application is to jump
in here and grab this data and display
it on the screen okay so everything is
open inside here and built and the very
first thing I'm going to do is go and
get my Android manifest file which is
right there inside of the resources
folder open that up and the only thing I
need to do in here is get permission
within the app to be able to access the
internet and to do that all I need to do
is go Android
we might as well just click on that
since it's right there and there you go
otherwise you'd have to sort down to
where it had I for the permission and
pick on Internet and there you go now we
can jump over and figure out our layout
I'm also going to go into the resources
folder and layout and open up activity
my dot XML okay so this is everything
we're going to be working with here now
I'm going to keep this extremely simple
I'm going to switch into the design view
by clicking the tab at the bottom of the
screen there it is right there and the
very first thing I'm going to do is I'm
going to put an edit text area where
they're going to be able to enter
whatever they want translated so well
before we do that let's just grab the
hello world that's here and let's just
move it out of the way this is a
relative layout as you can see over here
relative layout and I'm going to get a
plain editable text field and drop it
inside of there and then underneath of
it I'm going to throw in a button so
just grab a button and throw it
underneath there as well ok so there's
that now I'm going to jump into the text
area and fix this up so it looks a
little bit nicer okay so I got this all
open inside here this is activity mine
this is the layout file and I'm going to
come in here and I'm going to change
this to match parent I'm also going to
come in here and align this to the left
left right here just change the top the
left and I'm going to change this to
align parents start probably should just
deleted the hello world that would have
generated this a little bit better and
of course set that to true then we can
get rid of this and everything will line
up properly as you can see it did over
here say now the editable text area
fills the whole entire screen now come
down to the button area right here I'm
also going to have this be match parent
go you can see it fills screen text
inside of this I'm going to change this
to translate let the ID be the same
everything else be the same so far I am
going to change the ID on this guy right
here to translation textview I like to
have this up on top looks a little bit
nicer it goes come into the text area
and I'm going to change this to enter
words above for translation whatever it
doesn't really matter what I put there
and then put my mouse right there and
then over here on the left side of
screen little light bulb comes up
extract string resource and then I'm
going to call this translation text view
so that we have that saved in the
strings dot XML file we can leave the
width
then they hight set for this that's
perfectly fine we don't want it to align
to the top of the parent that's going to
cause confusion we also don't want this
start then after making those changes we
can open this up and you can see that
things aren't spaced very well button
actually looks pretty good but the
textview down here for the margin top
let's try setting that to 64 instead and
that's not enough let's move down a
little bit and after playing around with
it 94 looks pretty good again I'm just
trying to keep this as simple as
possible and that looks good enough for
activity mine now let's jump over into
my activity Java and start parsing the
JSON all right so inside of the main my
activity class one thing that I know I'm
going to be playing with here is the
editable text box that's where they are
going to enter in the words that they
want translated so I'm just gonna call
this translate edit text good enough be
able to access that now easily inside of
oncreate we don't really need to do
anything one thing I did forget let's
jump over into activity mind on XML
again for the button I'm going to need
to have a method in here that is going
to perform certain actions whenever the
buttons clicked on so we'll just type in
on click there it is and whenever that
is clicked on I am going to call method
called on translate click and just put
my mouse there and I can jump over in my
light bulb I'm going to zoom in here a
little bit you guys say you don't like
that but I'm gonna click on on translate
click in my activity it's going to
create it for me and there it is right
there ok so whenever this button is
clicked on what we're going to do is
we're going to go in and access the
words that they entered that they said
they want translated and those words
going to be in the editable text box
so now let's keep put it in here as well
translate I'm doing this largely out of
my head so sometimes I might make some
changes as I go along so yes sometimes
there are some codes in here that are
not necessarily needed so we need to
translate this into an editable text box
and then we're going to do a fine view
by ID and then we just type in our dot
ID dot and edit text is the name of it
there it is and of course jump over into
activity my right here and we look
inside of here it is indeed called edit
text
so I got that there we go now I'll be
able to access and change and do all
kinds of things with it now the very
first thing I want to do here is check
if the user actually entered words to
translate and if they did then get the
JSON data so what I'm going to do is I'm
going to check if that editable text box
is empty inside of another method so
let's just make this protected and it's
going to be boolean and I'm going to
call this is empty and you're going to
pass in the editable text object and it
is going to tell you if it's empty or
not now I could just do a get text and
check for length and things like that
but I also want to go in and trim any
white space because that's not going to
translate well so what it's going to do
is it's going to return edit text then
I'm going to say get text so I need to
get the text that's currently inside of
there and then I need to translate it
into a string and then I'm also going to
come in and trim it get rid of
whitespace because we can't translate
whitespace and then I'm going to check
the length and if it is equal to zero so
if it's empty it's going to return true
otherwise it's going to return false so
now we can jump back over into the on
translate part which is triggered
whenever the the button is clicked on
and we can say if not is empty which
means it is not empty and then we'll
just pass in our translate edit text
well then how about we pop a toast
inside of here make text this and say
something like getting translations so
that they know something is going on and
because this might take a minute or two
let's also change the length to long and
then jump out of there and say show the
toast and that will show on our screen
then what we're going to do is we're
going to call a method called doing
background to execute and for right now
I'm just going to call for that and then
create it immediately thereafter and
it's going to be called save the feed
execute and we'll create this in one
moment I just since I'm here might as
well just get this all over with and
otherwise I'm going to open up another
toast now let's just go and copy this
and we'll say something like enter words
to translate if they didn't enter
anything in there
enter words to
translate and let's make this short
because it's not going to show on the
screen and there we go now if we wanted
to go and get json data or get any type
of data or do anything in the background
what it's going to do is it's going to
lock down the interface for our app
which might frustrate the user and make
them think that something's broken or
not working so to get around that what
we use is what is called an asynchronous
task and what that's going to allow us
to do is perform background operations
without locking up the user interface
and to create it the way these are
normally created as a inner class and
it's called save the feed because that's
what I called it and to create this
we're going to go extends asynchronous
tasks and then this part I'm just going
to put void in here a whole bunch of
times because it's not going to need to
do a lot of different things I'll
explain what the voids are now the very
first void right here is saying that
this is not going to receive any
parameters whenever it's called for the
second void is going to say that it's
not going to be monitoring the progress
of this task being performed and then
this final void says that well after the
method called do and background which
we're going to create here in one second
is executed it is then going to call
another method called onpostexecute and
this void here is saying that doing
background is not going to pass anything
to onpostexecute you'll see it in a
second just hold on so we're going to do
first here is I'm going to create a
string and this strings just going to be
the JSON data in basic string format so
string JSON string and we'll just have
it have nothing inside of it and then
I'm also going to have another string
and this is going to be the result with
all the translations and it is going to
ultimately be pasted into the
application so that people can see the
translations now this has an underline
because it is going to force us to
create a method and that method
specifically implement methods is called
do and background and you can see it
right there doing background okay so
it's going to create that for me and
this is what is going to be executed
whenever this guy right here is called
for so that is what it's saying saying
make doing background execute so the
whole point in this doing background is
that it is going to go in here
and get that json data so we're going to
need to get the actual words that we
want to translate and store it in the
editable text box just like before and
then we'll create another string and
we'll call this words to translate and
we'll get the translate editable text
and we'll say get text and then after
that we'll say two string and that is
going to get that for us then we're also
we jump over into the JSON data and look
at the URL all the words are separated
with plus signs in this situation so we
want to put those plus signs everywhere
there's a space so we'll get our words
to translate throw those in there is
equal to and then we'll go words to
translate and we'll say that we want to
replace any spaces with plus signs there
we go and now we're getting into
actually parsing the JSON data very
first thing we're going to need is a
client that's going to be used to grab
the data from a provided URL and I'm
going to use the default HTTP client
here and I'm just going to call it HTV
client is equal to new and then it's
going to be default hu client and then
we'll just go new basic HTTP parameters
okay so that's going to be a client it's
going to sort of act like a browser acts
as a client to read data so that's what
it's there for just to keep it very
simple and then I'm going to create an
HTTP POST that we're going to provide
the URL for our post request there that
is and just keep the name simple also is
equal to new HTTP POST and then i'm
going to get my URL I might as well just
jump over there grab this guy right here
and this is a live web service you'll be
able to use one failing of the last
tutorial I did inside of Android as I
relied on Yahoo to be able to always
provide the data and that was a big
mistake so I'm fixing it here now I have
a web service and if worse comes to
worst and I get hit by a bus you guys
can go and download the web service and
use it on your own computer so if you'd
like then we're going to put the words
to translate there at the end with plus
sign separating them and now we got our
URL that we're going to be able to pull
our data from we need to also tell it
the
at our data is going to be in JSON
format so we need to set our header to
content type and then application
forward slash JSON and then we'll go
into and create an input stream that's
going to allow us to input a stream of
bytes from our URL input stream and
let's just make this null and then we
need to start getting this data now
there's all kinds of problems that could
occur so that normally means we need to
surround it with try block we're going
to have a response coming to us whenever
the client calls for the post requests
to execute and then send our response
back to us let's just call this response
is equal to and to execute this we go
HTTP client and then execute and then we
pass inside of it that URL right like
that and it's going to have a line
underneath of it which is going to tell
us that we need to handle an exception
just come over here click on this add
catch clauses it does it right for you
pretty nice jump back down inside of
here then going to create an HTTP entity
just call it entity and it's going to
hold the message that is sent from the
response if we call get entity we spell
get entity right there we go then we
need to get the content that was
actually sent and we'll go entity dot
get content then we need to read this
data so we'll create a bufferedreader
which is going to be very efficient in
pulling this data over just call it
reader is equal to new buffer creator
and then inside of this will put an
input stream reader which is going to
convert the bytes into characters for us
but to be able to do that we need to
pass it the input stream and then
specifically tell it a this is utf-8
very very important if you do not do
this it is going to mess up all your
characters because we're using utf-8
characters with our web service let's
just put 8 inside of there which is
going to define the input buffer size
and there we go and now what I'm going
to do is create a string builder call
SSP for sure is equal to this is going
to store each line of data for us string
builder and I'm going
another one called string line and this
is going to be a temporary holding cell
for each line that we pull in there and
then we will create a while loop here
and line is equal to and then just call
reader dot read line and we'll continue
cycling through this as long as it's not
equal to null so I'm going to get all
the lines of data and whenever we don't
need anymore we're going to stop now I'm
going to store or append to the end of
my string builder each of those lines
just go line plus and then let's say we
want to have a new line after it so that
everything shows up the translations all
show up on their own lines and that's
all we need to do with the while loop
and then after it gets all those lines
for us we're going to go and store those
in our JSON string so it's just convert
from a string builder to a regular old
string works fine now if you want to
know how to create a JSON object all you
need to do is pass in there's all kinds
of things you can do with this I'm going
to show you some of them even if it
doesn't make the code that efficient
just so that you see them in action ok
so an object all you need to do is pass
in the JSON string and string format and
it creates it for you that's pretty good
it's gonna say we need to handle an
exception just click over here say I'd
catch clauses I don't even look at those
which is great now this data is going to
be passed over as an array that is
specifically going to be called
translations so what we want to do is
get and save this whole entire array as
a JSON array that's very easy to do you
just go to JSON array there just call
this j array is equal to and then we
call the j object we say get JSON array
and pass in the name of the rack
translations there it is that's how easy
it is and now what we need to do is
cycle through each of the translations
in those arrays and save them and then
display them on our app screen and we're
going to create a method and I'm going
to call it output translations and of
course it doesn't exist yet and it's
going to accept a JSON array and there
that is so we'll have to create that
here in a second let's just copy it and
everything else is fine return null no
problem now after this is all done with
we can go protected and it's not going
to return anything so void and output
translations and we'll call this JSON or
this is a JSON array we're gonna be
passing in here there it is
and just to differentiate this let's
call this JSON array and we are another
thing we're going to need to do is after
this guy doing background is executed
like I said before we are then going to
call another method and that method is
called on post execute so we want to
create that inside of here so let's just
right-click it and then we're going to
go in here and click on generate and
then over here override methods and then
you're going to see on post execute you
can also see there's things you can do
before doing background is execute it on
post execute and there it is let's take
it and move it down here below so we
don't get confused let's put it right
here after doing background makes sense
to be there and one thing also remember
is doing background cannot do anything
to the interface so you can't you can go
and you can get information from the
interface but you can't put information
into any of the components in the
interface that stuff is all handled by
onpostexecute and I'm going to show you
what we're going to do that here in a
second let's stick with output
translations ok the very first thing we
do is we're going to create a string
array and I'm going to call it languages
and it is going to store all of the
different languages we can translate
into so it'll be easier to iterate over
them so we have Arabic we have Chinese
we have Danish we have Dutch French
German Italian Portuguese Russian and
then finally Spanish and the reason why
it's important to have these in the
correct order is we're going to be
pulling these are arrays and we're going
to be cycling through them one at a time
but then we have to ask it specifically
for string names so Arabic Chinese all
of these are in order so it's very
important to have them in the same order
as the data you're pulling it from that
will
everything very simple you're gonna see
here in a second when I'm talking about
so that inside of a try block because we
might have some problems here we're
going to save all the translations by
getting them with that specific key name
that's in the languages string array and
we'll just go in here
int and I is equal to this is going to
be first index in our write our JSON
array and we can say as long as there's
information to get out of there we want
to keep getting it and increment that
and then we'll go and create a JSON
object because each one of those pieces
inside of that array is a JSON object
and we'll just call this a translation
object and to get the specific one will
go JSON array and get JSON object and I
is going to be the index for that and
it's going to say hey you need to handle
an exception okay no problem add that
thank you and then we're going to store
all this in the result which is going to
have all the translations and this is
where we'll use the languages array
again so we're going to say we can use
the hi because that's going to be in
order as well and then let's say that
whenever we display it we want to Col in
there and it's jump the next line and
then we can go translation object and if
you want to get a string that is
associated with a specific key which is
going to be in our string way or right
and on languages all right just do that
and then at the end of it let's say you
want to do a new line and there you go
and the only thing left to do is jump up
here on post execute and this is just
going to put all of our translations
inside of our textview we don't need
this let's get rid of it and if we want
to edit our textview we just go to
textview and what's our textview called
activity my let's jump up here there it
is it's called translation textview so
i'm just going to keep the same name
jump back over here to my activity
translation textview of course this is
needs converted into a textview five you
by ID r dot ID dot translation textview
there it is
and now that we have that textview we
can go translation textview and set the
text to result that contains all the
translations there you go guys that's it
not that much code look at that almost
nothing and that is going to make our
little translation app it's not perfect
it's basically a transliteration app
which
does that word-for-word sort of
replacement but it works surprisingly
well it loses like the feminization or
masculine side of the languages but I
basically made this entire thing in
three hours so that's the best I could
do so every all the code is available
description underneath the video you
free to use it do whatever you want with
it and please leave your questions and
comments below otherwise till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>