<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Samsung Mobile SDK 7 | Coder Coacher - Coaching Coders</title><meta content="Samsung Mobile SDK 7 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Samsung Mobile SDK 7</b></h2><h5 class="post__date">2013-12-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jiiG4Nmg33c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
7 on my Samsung Mobile SDK tutorial in
this part of the tutorial I'm going to
further explore the Samsung S Pen we're
also going to explore creating toolbars
in general in any Android app also gonna
cover how to implement settings windows
redo undo and how to import images and a
whole bunch of other different things if
you miss part 6 of this tutorial might
want to take a look at it first because
I cover some of these subjects in a more
simplistic little application this guy
is gonna be quite complex and of course
this is brought to us because the
Samsung smart app challenge that is
giving away one point 1 million dollars
to up to 12 different winners there's
more information in the description as
well as a way to win a Samsung Galaxy
Note 3 or 103 Samsung Galaxy gear smart
watches from me in the description ok so
let's take a look at what we're gonna do
here basically we are going to make a
pretty good paint application it's going
to allow us to click up here and set pen
settings and so forth and so on and
strokes and colors we'll be able to
click here and change our eraser
settings and this size of our eraser and
erase as well as draw we're also gonna
be able to undo and redo on top of that
if we click over here we're going to be
able to access different areas inside of
our device or services that we use to
store images and go and get those images
and look for them and then pick one of
them and throw it on our application and
draw on it and this is my daughter's
wonderful if you were wondering what
this is so a whole bunch of different
things so let's just jump into the code
and here we go very first I'm gonna do
is I'm gonna handle the layout so
basically we had a whole bunch of
buttons in the toolbar and if you saw
part 6 you have a little bit of an idea
of exactly how we're going to implement
that nice toolbar as well as the area in
which we are going to paint it so what
we're gonna do is we're gonna put a
whole bunch of image views so if you're
going to represent our buttons in our
toolbar inside of a linear layout so
let's just copy this guy paste it inside
of there and then
gonna copy this as well throw that in
there also we're going to want to give
this an ID which we're going to put the
@ sign to make sure it's created ID and
we're gonna call it tool menu there's a
link to all the code in the description
for this video if you want to take a
look at it match parent is perfectly
fine this I'll ever I want to be wrapped
content and there we go that's all we're
gonna have to do for that linear layout
except for actually closing it all right
so now what we need to do is create the
image views for our images are going to
represent buttons in our toolbar let's
just copy this the ID and the width and
the height and and paste that inside of
there the very first thing we have to
create here if you remember what the
application looked like was the pen
button we're gonna call that pen button
leave this match parent leave this wrap
content we're going to throw in a margin
here layout margin it's equal to one div
Android layout weight I'm gonna give
each one of these exactly the same
weight which means that they're going to
take up an equal amount of the total
space that is available and then we're
also going to use background because not
only is the background going to change
for our state but also we're going to
change the foreground or the icon in
this situation which is going to be our
pen icon background and I showed you in
part 6 how to change the background and
foreground images depending upon state
like if they have their pen or finger
over top of a button or suppressing it
or whatever and then Android source is
going to be a reference actually both of
these this guy right here and this guy
right here are both going to be
references to an XML file and then those
XML files are going to define what
happens depending upon different states
that the application is in so there we
are and then close off image view and we
can bounce over in the graphical layout
see what happens
there you can see now you can see the
pen tool there and basically the way
this works I'm not gonna type out all
this XML what I'm gonna do is just point
you towards it and show you what it
looks like so here we have selector tool
and that represents the background and
how the background
will change depending upon different
states so what we're gonna do is we are
going to inside of the drawable folder
this guy right here we're gonna look for
a selector tool background and here it
is it's an XML file let's open that up
and you can see right here here we are
defining the different states that can
occur like for example is this button
we're creating is it currently selected
or not or false
is it being pressed or not in this
situation it isn't false and then what
we're gonna do is we're going to change
the background if those two states are
false to tool I see Area Center Oh to
tool I see Area Center Oh to open that
up and there you can see it is a basic
grayed out sort of image and that's
going to represent the background for
all our buttons and this guy's going to
get stretched into position and if you
are wondering what the size for all
these backgrounds are going to be they
are 22 pixels wide by 46 pixels in
height so this XML file is basically
just going to put in the right
background depending upon the current
state of set but all right so then what
we're gonna do with the pen we're gonna
use selector pen which is also going to
be an XML file here it is right here
select your pen let's open that up and
all of these are going to be exactly the
same we're just gonna use different
images and you can see right here where
we are pointing to the actual images so
you can see here tool I see pen just
come over here inside of our drawable
folder tool I see pen we click on that
you're going to see that the default
icon for our pen tool is that little
paintbrush and if you are wondering it
is 44 pixels wide by 44 pixels in height
and then depending upon different states
we're going to have like the pen press
here
- I see pen press there it is let's open
that up and there you can see it's in
its white incarnation so that is pretty
cool and that is how we're going to bake
really interactive buttons inside of our
tool bar so we can close those guys out
and basically we're gonna need five of
these guys one for each of the different
buttons in our tool bar so one two
that's actually four and five I think I
counted right Oh find out all right so
we got the pen all set up need to have
an
racer button just so you remember here's
our pen button here's the eraser
undo/redo and then the image looks gonna
allow us to import images onto our
screen to draw on okay so this is going
to be the eraser button so your eraser
button there it is and I just want to
reiterate that this can be done with any
Android app this isn't a Samsung
specific thing however I will get into
samsung specific things as the tutorial
continues the background for all these
are going to remain exactly the same
which makes a lot of sense
however there's going to be a selector
eraser for that and that is how
everything's gonna work out there we
don't need to look at that XML file
again then the next thing in our toolbar
is undo button everything's gonna stay
the same except this is going to be
selector undo scroll up this is going to
be redo button and then this is going to
be selector redo and then we need one
more for our image importing little tool
there that is and that's going to be
background image button and then this is
going to be selector image if we save
all those and go into the graphical
layout click on it I'm gonna say that
all of those different guys popped up
there
that's nice jump back into the code now
basically we just have to make room for
our frame layout and the relative layout
inside of it which is going to be where
we're actually going to be drawing
things so let's just create a frame
layout and it's gonna need an ID and a
width and a height as well hop in there
base that inside of there frame layout
is going to be called the s-pen view
container have these both be matched
parent and then inside of here we're
going to have our relative layout and
it's also going to require an ID as well
as width and height s-pen view layout
now at reparent have this also be match
parent close that off and then close
that off
and there we go that is everything that
we're gonna need to do for our layout
for our application I'm just gonna jump
in here and start writing some code
inside of pen sample 5 background Java
okay so I just want to go through some
of these libraries that we have here
some of them you've seen in the past and
some of them are brand new first we have
the unsupported exception we have right
here
and basically what this is going to do
is just make sure that the device that
is running our application support the
Samsung mobile sdk as well as different
things in regards to whether the s-pen
is being used and the device that's
specifically being used and so forth and
so on we've talked about that a couple
times then we have the s-pen library
which is basically just going to
initialize and verify that the s-pen is
available we have the s-pen note dock
which is going to allow us to manage SPD
or s-pen data files and it's gonna load
and save those espy data files basically
it's just going to allow us to add and
remove page docs which we're gonna see
here in a second from the note doc which
is what we're referring to as well as
attach external files then we have the
page doc which we just talked about
which contains all the data and objects
in a page and it's also going to allow
us to add delete retrieve change layers
objects and also provide some general
settings that we can use inside of our
page document then we have history
listener which is brand new which is
gonna allow us to receive history events
so that we can use things like undo and
redo also gonna have history update info
which is going to forward history
information in regards to undo and redo
we have s-pen color picker a listener
which we saw in the last tutorial which
is going to handle changes to the color
for the s-pen stroke whenever the user
decides to go into settings and change
things then we have the s-pen surface
view which is going to allow the user to
edit the drawing surface with either
their finger or the s-pen as long as the
device supports that action here's a
brand new guy that's gonna allow us to
store our eraser settings as and
basically what we're gonna be storing is
the stroke the thickness and the eraser
type the S Pen setting pen info is
basically going to store the pen
settings like color and the pen class
name and the thickness and in some
situations the opacity then we have the
SDK utils class which is basically there
to handle exceptions that are going to
be caused by this exception up here this
guy right here basically what we have is
we took all of the methods that are
going to generate alert dialog boxes if
for example the device is imported or
the SDK needs updating
or any other problem sort of happens
device wise the SDK utils class is gonna
handle that for us we have the S Pen
setting eraser layout which is going to
provide methods for working with the
eraser pop-up dialog boxes we have s pen
setting eraser layout event listener
which is gonna handle eraser events and
then finally we have the s pen setting
pen layout which we saw in last tutorial
which is going to provide methods for
working with the pen pop-up dialog so as
you can see there are many libraries
going to be used and there is going to
be a lot of things this applications
gonna do so it should be it fun and also
teach a whole lot of different things
one of the first things we're gonna have
to do here before we actually start
creating methods inside of the class is
create a private final int and request
code select image background and this
guy right here is going to be used to
track whenever we jump out of the app
and into the gallery and then return a
image from the gallery back to the app
so basically what's gonna happen is a
method called start activity for result
will be used to call an intent and it's
also going to pass this code so that
whenever the activity finishes which the
intent or references this code can then
also be returned to on activity result
and provide us with tracking information
so that we know that whenever we leave
our application run an intent to open up
the gallery and then whenever the
gallery is finished and it sends an
image back that we understand why it is
sending that image back to our
application so that is why this guy here
exists basically just for tracking
purposes just to keep things very very
simple and I accidentally type the
outside of the class let's throw it
inside of the class here there we go
alright so now we have that all set up
now we need to create our context which
is going to provide a system level
information for our application or also
of course going to need our s-pen note
doc which is going to hold all of our
s-pen page documents of course
if we have that we're going to need our
s-pen hey Doc which is going to hold all
the objects that we draw as well as
images and so forth that we import s-pen
surfaceview
which is going to handle either drawing
with the pen or with a finger the s-pen
setting pen layout which is going to
have all our pen settings and then
finally we're also gonna do the same
exact thing this time for the eraser and
there we go whoops make sure that we
correct our typos all right so now we
need to initialize all the images that
are going to be used inside of our
little tool bar private image view and
this is going to be the pen button and
we're gonna have five of these guys and
we're also gonna have the eraser button
the undo button the redo button and the
background image button okay got those
all set up we want to also store the
default tool type which in this
situation is going to be the pen tool as
you saw when the application first ran
the pen tool was used as default then we
have to come down inside of on create
and set up the layout so we're gonna say
set content view and reference our
layout that we created with our tool bar
and everything else that we created
before and the name of that is activity
background and there's activity
background the XML file we created you
need to get the context we're going to
set the s pen as not being used by
default we're going to later on check if
it can be used we're going to create a
new s pen object then we're gonna try to
initialize the s pen but by try that
means that it might fail so that means
we're gonna have to throw it inside of a
try block and to test it we're gonna go
s pen package initialize and pass it
this then we're gonna say is s pen
feature enabled and we're going to
specifically find out if it is by
calling s pen package dot is feature
enabled and the feature specifically is
S Pen and then we pass in device pen to
reference it then after we try to
initialize the s pen we want to catch if
an exception was thrown and the specific
exception we're going to
looking for here first is this guy yeah
let's come back down inside of here and
go catch and E and then we're gonna use
our SDK class by calling SDK utils and
then process unsupported exception pass
in our activity which is this and then
also pass in the exception which is this
very specific
spen exception and we're going to see if
it's true
if it is and we're just going to kick
out of this and just to actually show
you the SDK utility via sports to
tutorial there it is
and this is the actual method it's going
to be called and then basically what
it's going to do is it's going to take
this exception right here and then it is
going to check the error type it's going
to throw all kinds of different error
types we're then going to check what
those error types are and depending upon
which ones there are we're then going to
pop up different alert dialog boxes so
covered that in massive detail in the
very very first Samsung Mobile SDK
tutorial so if you want to really see
exactly what's going on there just go
check that out okay so if any exception
was triggered other than that exception
right there we also want to catch those
and in those situations we're going to
open up a toast
by calling make text we're gonna have to
pass it the context there it is we're
going to have to say what the message is
cannot initialize spen works for me and
then finally we have to put in a
duration for this toast with spelt toast
right to and the length is going to be
short this really is the best way to
learn how to do just about anything it's
just to just keep running over and
creating more and more and more apps
using the sdk and eventually it just all
sticks in your head like it's kind of
neat and then we're going to print out a
stack trace because we don't know what
this air isn't something we might want
to take a look at so print that out and
then finally clear memory and kill the
application if we get here
and there we are all set up then we're
going to want to create our frame layout
which is gonna hold the relative layout
that we will be drawing on so frame
layout
spen view container cast it into a frame
layout because I'm going to be calling
fine view by ID and specifically we're
gonna look for that frame layout in our
layout whoops that's ID dot and it's
s-pen view container view container
there it is and there we got it throw in
our semicolon and then we're basically
gonna do the same sort of thing for the
frame layout but so bounce that inside
of there
this is gonna be the relative layout I
mean s-pen view and it's called layout
and it's a relative layout and then it's
funny I clicked on the wrong one this is
just s-pen view container
okay that's fixed and then this is s-pen
view layout good thing I caught that got
rid of that error before it became in
here
all right got those set up now we need
to create the s-pen setting layout
that's going to be used to allow the pen
settings to be changed and to do that
we're just gonna go make a reference to
it setting view is equal to make sure we
give this the right name hen setting
view yeah we just go new s pen setting
and layout need to pass it to context an
image file path in this situation is
going to be nothing and then finally the
relative layout and there that is we
want to then notify the user if an error
occurred whenever we call this guy and
we can do that just by checking if it
has the value of null and if it does
we're just going to create another toast
on the screen and we're just going to
say cannot create pen setting view
everything else there's fine well we can
get rid of this because we know what the
error is and everything else there's
perfectly fine then we're basically
going to do the exact same thing for the
our eraser tool so let's just copy it
coffee let me put in a note eraser move
this up here paste it in there call this
the eraser setting view this is going to
be eraser layout everything else there
is exactly the same change
this to eraser setting view and then
we're gonna say cannot create eraser
setting view and everything else is
exactly the same we then want to add the
settings windows for both the pen and
the eraser to our frame layout and we
can do that just by calling s-pen view
container which is our frame layout and
we add those views by calling add view m
pen setting view so that is set in place
and then we're gonna do the same thing
for the eraser settings and this is just
gonna be cold eraser and then we go my
finger got a little crazy there we hard
got it right then let's create the
drawing surface on our device by calling
s pen surface view new s pen surface
view and create it we just have to pass
at the context it handles everything
else for us we definitely want to check
to make sure that we were able to create
this and we're gonna do that exactly the
same worry check if it has a null value
and if it does we're going to open up a
toast just like before
cannot create surface view that's fine
if we get down here then we know we'll
be able to add our drawing surface to
our relative layout add view and then
pass in the s pen surface view we need
to set our canvas fuse for both of these
guys both the pen setting view and the
eraser setting view set canvas view and
we just pass in the surface view for
both of them then we need to get some
information in regards to our display on
our device or on their device the user's
device get that with get window manager
and then call get default display create
a rec that's gonna hold our integer
coordinates for us and you can also see
by watching this tutorial exactly the
types of things that will stay the same
whenever you are working with an
application and the things that are
going to be different which is also very
very useful because sometimes that's
something that's hard to figure out
passing the rect to get those
coordinates and now we have them and we
have to create our S Pen note dock and
we're gonna do this inside of a try
block as well which we very often will
do and we're
we are messing around with displays make
sure we catch any errors note doc new
s-pen note doc pass in our context use
the rect
to also pass in our wit and use the REC
to also pass in our height there we go
and anytime we have a try block of
course we're going to want to catch any
errors which this is going to be an i/o
error more than likely if it is
triggered and what are we gonna do we're
gonna print out some toasts so let's
just come up here and let's just get
them there we are just grab that come
back on inside paste it in there cannot
create note doc there we go and then
we're also going to catch a general
exception let's get rid of that change
this to e1 tap that in there and rather
than a toast in this situation we'll go
II one print stack trace which is right
here there we go and then if we get past
this we know that we had no problem with
our note Docs so we can add our page to
our document because remember the note
doc is going to hold a whole bunch of
pages and there that is if we want to
give our page a background and I'm just
using the regular old background that I
was provided with there it is clear our
undo and redo history because we're
going to be using on do and redo in this
application and then s pen set page doc
M S Pen page doc true which is gonna put
the s-pen document in the current view
and past true that we want to update our
screen and for now that is all I'm gonna
do in this creation of this application
in the next part of the tutorial I will
finish everything up and you'll know
pretty much everything in regards to
different ways you can use the s-pen and
all the other different things that I'm
gonna be covering please leave your
questions and comments below otherwise
till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>