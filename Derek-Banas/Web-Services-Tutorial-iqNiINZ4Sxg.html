<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Web Services Tutorial | Coder Coacher - Coaching Coders</title><meta content="Web Services Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Web Services Tutorial</b></h2><h5 class="post__date">2014-09-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/iqNiINZ4Sxg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to my
web services tutorial over the course of
the next couple videos I'm going to
cover JSON XML remote procedure call
soap and rest among many other different
things I was originally going to push
all this stuff into one video but I
decided to break it up make it a little
bit more understandable but I'll put the
videos out very quickly we're going to
really focus in on JSON in this tutorial
so it's completely understandable and I
have a lot to do so let's get into it
okay so what we're going to do here is
we're going to most this is going to be
code by the way it's not going to be me
typing out names and things but I just
want to give you an example of what JSON
is and I guess first off I should talk
about the fact that a web service
basically just allows software written
in any programming language to
communicate with any other programming
language over a network so it's way more
simple than it's often made out to be
and specifically JSON stands for
JavaScript object notation but don't let
that confuse you it basically can be
read or created with any language and it
doesn't have to just work with
JavaScript now we have an example over
here of some data that we would like to
store but first off I'm going to
basically just cover exactly a very
simple example so let's say we want to
store phone information and specifically
we want to store a home phone number
which would be four one two five five
five one two one two and then we also
want to be able to store a mobile number
and JSON is basically just key value
pairs so you're going to have home is
going to be matched up with the number
there and then mobile is going to be
matched up with another number and the
reason why JSON is very easy to work
with is it basically is only going to
store numbers decimals strings
bullying's arrays objects or null and
like I said before everything is a key
value pair now one way that we could
store this inside of JSON
sort of ideas is we could come in here
and put a curly bracket and then we
could say phone and then we could put
another curly bracket and put all these
guys together and then have home inside
of here like that with a colon and then
the number that we want to
work with I'm going to give you an
example of working with multiple
different or all the different types of
data available and then we would put
mobile inside of there okay and then we
would close that off with two curly
brackets and that would be an example of
how we could model this data right here
inside a JSON now if we want to do
something a little bit more complicated
like we want to model all of this data
over here that's going to have strings
in it it's going to have numbers it's
going to have boolean x' it's going to
have a null address we're going to store
as an object and then phone in this
situation we're going to store as an
array
well how we would do that it just go
curly bracket and then we would go first
name and then we could put Dale for
example and a comma last name is going
to work exactly the same because it's
also string data age is a number and the
only way that's going to change is we're
not going to put quotes around it a
boolean as you can see the key part
always is in quotes is just going to be
either true or false married let's say
we don't know what that is well we can
put in all inside of there if we want to
create an object inside of it that is
represented with address as the key we
just put another curly bracket inside of
here and then we go in and put the other
key value pair so there would be Street
which is just going to be a string as
well city state Washington in this
situation and whenever we get to the end
of this address object we don't put a
comma we just put a closing curly
bracket then if we want to model the
phone as a type of array it would just
come input phone :
or square bracket and then we're going
to have object types inside of this so
it's just type and type is going to be
modeled or being given the key of home
and then we have number you basically
when you're working with JSON dad all
you have to make sure you do is that you
close all your brackets in the right way
it's very simple to work with and also
you don't put commas where they don't
need to bei will put a comma there and
then we'll have another curly bracket
and here we're going to have type and
this is going to be mobile and in the
next tutorial I'll cover XML and maybe a
couple of those things if I can fit them
in and then close off that curly bracket
and then you want to also close off the
array and then close off everything
altogether so that is how you would
model this in JSON and we're going to be
using PHP to basically automatically put
the curly brackets and the quotes in
here and I have a link to all this typed
out in the description underneath the
video okay so now what we're going to do
is we're going to create a class called
student dB
and if you don't know PHP I have a link
to a tutorial on PHP in the video and
I'm also going to be using MySQL I also
have a link to that basically what we
want to do here is we just want to model
out everything that we want to have
stored inside of here and in this
situation I'm going to be pulling this
data out of a database so I know exactly
what I need to use if you were wondering
this is the database it is called or the
table is called students and here are
all the different fields that I want to
create inside of this object that I'm
calling student eBay so I just went
ahead and printed all those out you can
see first name last name email Street
city state zip all the different things
that you just saw in the database that I
just showed you now what I'm going to
want to do here is come in and create a
constructor which is going to build all
of my objects for me and just as a
review its function and then we're going
to go construct and I'm using Komodo
edit eight which is free if you'd like
to use it feel free and then inside of
it I'm going to pass in all of these
different variables that are going to be
used to create my student objects and
there they all are
and now throw some curly brackets in
here and initialize all of them so
everything that's going to be passed
inside of this I am then going to store
inside of the objects that I create
there's first name and I'm referencing
the object version of first name here
and then I'm going to take this first
name that was passed in here to
construct it and as you can see there I
initialize and set those values for
every one of those and that is all I'm
going to do with student DB dot PHP so I
can save that and now I'm over in JSON
underscore code PHP and I'm gonna start
writing some JSON now if you want to be
able to tell whomever is receiving your
data the content type it's very simple
inside of PHP just go header and then
you would go content - type and this is
very important to do application JSON
there you go pretty simple and
that's all you need to do of course you
want to spell content-type right and
that is it that's all you need to do and
then whoever's reading that data
immediately is going to know that it is
JSON data now we are going to comment
this out for now because we want to be
able to print everything real nice on
the screen and we're not actually going
to be sending this data if we want to go
and get that student DB that we just
went and created we just go require once
and student DB dot PHP and now we have
that student DB class inside of here and
we'll be able to use all that to create
student objects now if we want to be
able to code a JSON string into a format
we'll be able to use this is going to
not have anything to do with a student
database just demonstrating how to
decode JSON it's extremely easy to do
with PHP just go JSON decode and in this
situation I'm just going to create some
JSON here so I'm going to say first name
there's my key and then inside of this I
could say dáil and then come to the end
of there and there you go now if we want
to be able to print out this object on
our screen I'm going to keep this very
simple I'm just going to do a variable
dump and I'm going to do that with JSON
data and then I can load this in the
browser and we can see exactly what it
looks like and I just loaded this inside
a localhost and I have everything in the
ws folder and there is JSON underscore
code PHP and there you can see exactly
what that setup like it's an object and
it's going to tell us how many
characters are inside of the string and
there is the key part and then it's
going to have the actual key right
inside of there all loaded up and
nice-looking now if we want to do
something a little bit more complicated
we could come in here and create a
address class and we're going to get
into pulling the data from the database
and everything I'm just starting off
here real simple so let's say we want to
come in here and create a street and a
city and then finally a state we're then
also going to come in and create a
constructor and the street is going to
be passed inside of there as well as the
city and then of course the state and
then just like we did before we're going
to say this street is equal to the
street that was pulled inside of there
or passed inside of there as well as the
city and
and finally the state and I kept that
completely separate because I want the
address to actually be modeled as an
object and it's going to be modeled
inside of an object inside of another
class and that other class is going to
be the class student just so we can see
everything exactly the way it's meant to
be and inside of this class I'm actually
going to use the format that we looked
at previously which is this guy right
here first name last name age enrolled
all of this stuff and because I had
address set up as an object that's why I
created the address class so I went and
created these and address is going to be
an object in this situation of course
now for the constructor here it's going
to be passed first name of course and
everything else and there that is and
then of course I'm going to have to
assign the values that are passed in to
our object right like that and you can
see that we are passing in strings in
these situation age you can see how the
boolean is being passed in you can also
see here that we're creating an address
object and here we're creating an array
that is going to hold our home and
mobile telephone numbers and of course
make sure we close off this new student
class and get outside of the class area
and then we're going to create ourselves
as student object so let's just call
this Dale Cooper is equal to and it's
going to be new student and then we just
need to pass in all of the information
on our student and there's basically
everything we need to know about our
student of course put a semicolon here
now say we want to throw a couple break
statements in here just to break
everything up on our screen and now we
can take this raw object that we just
created for our student and we can
encode it into JSON sounds like it would
be very complicated right let's just
call it Dale data is equal to we just
call JSON and code and then we pass in
the object that we want to encode into
JSON super simple and everything is
great
now if we want to actually use real data
from a database well we're going to have
to go and get our code that is going to
allow us to connect to our database and
that is in MySQL underscore connect and
it looks exactly like this what you see
right here and I covered this in my PHP
MySQL tutorial which
there's a link in the description let's
jump back over here again though now if
you want to go up to directories where
this file resides you're just going to
put in two dots and a forward slash two
dots and forward slash so two
directories just like that MySQL I
connect dot PHP and that is going to
allow us to connect to our database
pretty simple of course you want to put
this inside of quotes and now we're
going to get real data from the database
and convert it into JSON data as you see
it's very easy just decode or encode but
it stuff of whichever function you use
now the very first thing we don't want
to do is connect or check our connection
to make sure we have access to the
database and if we do not we could say
something like connect failed strings
out of there and we could then say MySQL
i underscore connect error and then if
that happens we could exit out of our
script otherwise if we come down here
and we haven't been exited out we know
we have a database connection so let's
query our database and let's say that we
want everything from students where and
let's just say we want student IDs that
are either 1 or 2 so we want the student
ID for the 1st and 2nd student that's
the data we want we're then going to
create an array here it's going to hold
all of our student data that we get then
we're going to say if the result DBC is
a reference to the connection to the
database and the query itself so if we
got a result from our query asking for
those two pieces of student information
make sure you put query inside of here
well while we keep getting results we
are going to continue asking for said
results and we go and get the results
and then we call fetch object so as long
as we have objects to get we want to
keep on getting them now what I'm going
to want to do is come in here and
actually print out all of the student
information on the screen and I'm going
to use printf in this situation and
basically I do know that I'm going to
need 13 different strings that I'm going
to print out on my screen the reason I
know that is over here I have 13 pieces
of data print and you can see that I
just
down here and I'm inside of my school
inside of a terminal right here that's
what I'm looking at so I'm gonna have to
put a % and an S inside of here for each
of those so there's nine and eleven
twelve thirteen and then let's say that
I want to throw a break statement inside
of here and now what I need to do is
match that up with each piece of data
that's going to be pulled over inside of
this object for each individual student
there's going to be two of them of
course so we just go object and then we
say first name and then we do the same
thing for every single one of these
other guys last name and of course the
first name and last name come from first
name and last name as they are stored
inside of the database so there's all
the data that I'm going to print out on
a screen which is everything now what
I'm going to do is actually create a
student object and then we're going to
convert it into JSON and we could just
say temporary student is equal to new
student database which is where we're
going to create this and then to this
guy we're also going to pass in those
objects so we're going to get all of
these objects we have right here pass
those in and then if we want to store
them in the student array reference
right there and temporary students all
this information comes from the database
okay so outside of this put an echo
statement and now if you want to
surround the student data to show that
it is you know student data on two
different students in this situation or
it could be many more than that we're
just going to put in our curly brackets
like this get rid of that then we're
going to type in students so students is
the key for this what's that square
bracket main it means it's an array so
that's going to print that out and
encapsulate all the student data for our
JSON data we can now take the data array
we created and convert it into JSON and
let's just store this inside of Dale
data again and to encode it JSON and
code and student array which is where we
stored that data that we pulled from our
database and Dale specifically is an
index zero of the array the first one
and we could just say echo Dale data we
then want to separate our results we
could go in here put single quotes put a
comma and let's say that we want the
student data on separate lines as well
we'll go and put up
make statement inside of there which is
the way that JSON data is structured
then we could also just store this in
Dale data this is going to be the second
student which I can't remember what
their name is so I'm just going to have
it be Dale data JSON and code of course
you would never do this in real life you
would do second student or you would put
this inside of a for each block or a for
loop to cycle through it but I'm just
demonstrating this very quickly here so
student array get the second student
because we asked for two students in our
query up here we cycle up see we wanted
the first and second student right there
so come back down and then to finish
this off we could print out the second
student which is stored in Dale data and
then end it with a break statement as
well and then close the JSON data all
together single quote square bracket
there we go
and there we go and then of course
because we printed out all the JSON data
we're going to be able to come in here
and close this database connection we'll
cut a little bugger made here instead of
Dale date put in Dale data like that
file save it now we can jump over into
the browser and if we execute you can
see here everything is structured their
students there's all the student
information with the first student that
we called for as well as the second
student we called for all exactly the
way we want it all structured using all
the rules that are defined when passing
JSON data and in the next part of the
tutorial I'm going to cover XML and
maybe some of the other different things
that I mentioned at the beginning of the
tutorial please leave your questions and
comments below otherwise until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>