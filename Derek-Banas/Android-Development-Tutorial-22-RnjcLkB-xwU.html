<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Development Tutorial 22 | Coder Coacher - Coaching Coders</title><meta content="Android Development Tutorial 22 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Development Tutorial 22</b></h2><h5 class="post__date">2013-10-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/RnjcLkB-xwU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
22 of my android development tutorial
today we're going to be streamlining a
lot of the code that we've been writing
since part 18 of this tutorial which if
you haven't watched it I provide a link
in the upper right hand corner to it you
should definitely watch that because
this is a big app we're making here I'm
also going to show you how to call
activities from list fragments we're
going to talk about passing data between
activities and a whole bunch more so I
have a lot to do so let's get into it
okay so previously we had two activities
one in which and if you can't see this
beautiful screen this is an HD video
basically we had one activity and just
displayed and allowed you to enter the
name street city phone number and
whether you contacted the person then we
had a list of all those contacts and
previously we're using dummy sort of
code what we're going to do in this
tutorial is we're going to allow you to
click on one of these guys and then
bounce over to this screen and change
the information inside of it and a whole
bunch of other different things so let's
take a look at the code okay so here we
are inside of Eclipse and something is
bothering me here if you look down here
inside of this on create inside of
census app Java that's where we are
you're going to see that we create a
fragment manager and I went over all of
why we're doing this to basically add
these fragments to the activity well if
you take a look at contact list activity
we're doing the exact same thing the
only thing that changes is this line
right here where we specifically change
and use a different fragment let's look
over at census app and you can also see
here instead we are creating a different
type of fragment and that is it that is
the only thing that is different so what
we're going to do is we are going to
take all this repeated code and put it
in its own class and then I'm going to
show you how to call a different
fragment so let's just come in here and
let's just grab this guy fragment
manager and let's just copy all of this
information then we're going to jump
over into fragment activity builder Java
and this guy then is going to be used to
handle all that repeated code so the
first thing that I'm going to do
is I'm going to come in here and I'm
going to have this guy extend fragment
activity and of course we have to get
the library for that now and of course
we have to put an uppercase F there so
we'll come in and we'll add our library
okay got that library set up now what
I'm going to do is I'm going to
right-click and then I'm going to go to
source and then I'm going to come over
here and I'm going to say oh right
implement methods then in the window
that pops up I'm going to look for on
create and here it is the specific one
with the bundle and let's say I want
that and just let it be set for the
first member and then hit okay so there
we go we got that all set up now we're
going to leave that call to super in
there and then we're going to paste in
all of the code that we repeated in the
other two classes so there's all that
information let's get rid of these
comments altogether now I'm not going to
go in here and cover again exactly
what's going on and if this is all
messed up you can just select all go
into source and then do correct
indentation and everything will be
corrected and yes I know that can be
setup with a shortcut you leave
everything here exactly the same I'm
going to be creating our fragment
manager just like before we're going to
define the fragment as fragment
container which is that XML file which
I've talked about numerous different
times but then of course we get to the
problem of well we got a call two
different fragments here it's not always
going to be contact fragment how are we
going to solve that issue really simple
actually we're going to come up here
before on create and we're going to
define a method that must be implemented
and what it's going to do for us it's
going to implement the right fragment or
make sure that the fragment is converted
into the right type so I basically have
to come in here and go protected
abstract and that's why this is an
abstract class and it's going to return
a fragment and that is all we need to do
we basically are saying you have to
implement this method because we're
going to be relying on it existing and
once again we're doing this to make sure
that census app gets a contact fragment
while contact the list activity gets a
fragment contact list then all we need
to do is copy that and then come on down
here and replace this guy right here
with a call to that method which we are
now going to set up over in census app
da
as well as contact list activity but
before we do that we have to come up
here because we are going to have them
extend the fragment activity builder
which we just created here so back into
census app Java and then we're going to
change this from fragment activity to
fragment activity builder and save that
and it's going to say a you need to
implement some methods that you didn't
implement no problem just add those in
there and it did so then we're going to
be able to go into on create and just
delete all of this information all going
and all we have to do is worry about
what we're going to do here inside of
create fragment which it forced us to
use another thing that I want to be able
to do here is remember I said I want the
list whenever you click on one of the
items that we're going to pop up the
right contact well to be able to do that
I'm going to need to store the contact
ID so whenever this guy is called I'm
going to go and create contact ID number
and cast us two UUID
and to get that we're going to go get
intent and then get serializable extra
and that is going to be information that
is going to be pulled from contact
fragment which we haven't done yet we're
going to do in a second and it's going
to be called contact ID like I said
we're going to create that in a second
that's why there's an error there but we
need to get the library for this so
import that now to pull in the
information into Census app because
since this app is where we're going to
be changing the contacts information
we're going to need to create an
instance of contact fragment which was
previously done inside of Census app and
pass in the ID so the proper contact
data is going to be displayed on our
screen so to do that scroll up a bit we
go return new contact fragment because
we want to contact fragment to be usable
since this app because that's what we
got rid of whenever we created fragment
activity builder Java and then we're
going to go new contact fragment and
pass in contact ID number and it's going
to get us the right amount of
information we're going to have to
create this method and we're going to
have to create this guy and that is all
we need to do with Census app now we
need to jump over into contact list
activity but again we're going to stop
here briefly because this
guy is also going to extend fragment
activity builder and it's going to
handle what happens whenever this is
created so we can just delete this just
like we did before fragment contact list
remember that's the thing we're going to
be changing here and then it's going to
say hey we need to implement that
abstract method that we had so let's
bring it in here there it is and
remember I said that we need to return
or cast to the right fragment and I told
you to remember fragment contact list
well that's the reason why and that's
going to bring in the right fragment so
just those couple little changes got rid
of a lot of repeatable code so that's
awesome so now we got this all cleaned
up and of course we can come in here and
delete these libraries since we no
longer need them so let's say that I
let's jump over and let's look at census
app and exactly what's going on here
well one of the very first thing jumps
out at me is this error right here which
is inside of contact fragment we want to
store the contact ID for each of the
contacts so we can pull in the right
amount of information so to do that
we're going to jump up into contact
fragment and here we are and then right
here at the very very opening of it
we're going to store the ID number for
the current contact and to do that we
are going to define a key value pair and
we're going to call it contact ID just
like you saw before and this tends to
confuse some people because I'm making
this final well the final part of this
is the name and I'm going to give it a
name that is going to be very specific
to my application so I don't have to
worry about any conflicts so what I'm
going to do is I'm going to put calm do
you think tanks essence app and then
contact ID so this is the key part of
the key value pair all right so that's
the reason why we want to use a unique
name and because it's a key and the key
doesn't change the value changes that's
the reason why we are marking it as
final so we know that it will never
change then we jump back over into
census app again and you see new contact
fragment and that is being called from
contact fragment so that means we have
to create this method new contact
fragment over inside of contact fragment
Java so let's go there and I'm going to
come in here right after
created the contacted checkbox I'm gonna
say public static contact fragment is
what it's going to be returning because
remember that's what Census app needs to
display a contact fragment and then I
can take the name of my method and it's
going to be getting a unique
identification number just like we had
previously and then to pass this
information back and forth between
activities we need to create a bundle
that's what a bundle is used for and I'm
going to call this passed data is equal
to new bundle then I need to put the
contact ID inside of my bundle and to do
that I go past data put serializable and
just come in here click on that so you
have to type that out and then the key
is going to be contact ID and the value
that we're going to be passing into it
is going to be contact ID which is what
was passed into this method then we need
to say contact or then we need to create
a contact fragment I'm just going to
call it contact fragment and then if I
want to put the contact ID inside of the
bundle I'm going to go contact fragment
set arguments passed data that's going
to get the ID over there so that we have
the right contact information inside of
Census app so that we can change it and
then we're going to return contact
fragment and change that to uppercase F
now what we're going to do since this is
going to return an instance of contact
fragment to be displayed inside of the
census app what we're going to do is
we're going to need an on create method
for this guy right here and we're also
going to need to pull in the right
contact ID because this guy up here
basically gets the contact ID passed to
it we have to get this library of course
and then it stores it and then down here
for oncreate before it displays the
fragment inside of the window what we're
going to do is we're going to make sure
that the right contact information is
going to be displayed so what we're
going to do is we're going to replace
contact new contact which is just a
generic contact and instead get a
contact that matches the contact ID that
was passed to this guy what we're going
to do is get the value from contact ID
that was passed in UUID
contact ID is equal to
we're going to have to cast this to UUID
just like before to get the data that
was passed in we used get arguments and
then get serializable because that's
what was used to put it inside of there
so we need to get it out and then to get
the data we just need to say what the
name was
and there it is now we got that so we
have the unique identification number
for the right contact that we want to
display on our screen so we need to just
get the contact then with the matching
ID and to do that we go and call all
contacts which has the ArrayList inside
of it that contains every single contact
that we ever use and to get that data we
go get activity and then we go get
contact and say okay well we need the
contact ID that you want for the
matching contact and then it's going to
return it and give me the right contact
that I want to use and get contact if
you jump over here and let's open up all
contacts just so we can see that do a
find and a paste and a find and there we
are and you can see right there that is
the method that we are calling we're
passing in the ID that we want and in
exchange if it finds a matching contact
it's going to return that contact
otherwise it's going to return null so
that's what's going on with that and
that's all we're doing with all contacts
so that's how you call another class and
get that information that we wanted but
then a long time ago okay so we know
that we're pulling in the right contact
but we would need to display that
contact information on our screen so I'm
just scrolling right through here and as
I do it I notice hey wait a minute I
have a to do here and what was that to
do telling me to do this was from the
previous tutorial I need to change
whenever the checkbox is clicked on I
need to change it from false to true and
if it's true I need to change it to
false well one of you guys might have
went in there and already did this but
simply to get rid of that to do what I'm
going to do is I'm going to say not and
I'm basically going to get whatever the
current value is and make it the
absolute opposite just like it says
there and now that I have that
rekted I can get rid of that to do save
that guy but then also I'm going to need
to come in here and get the values for
our current contact which we know
because we know our contact ID and put
them in the right components well what
are the right components let's just
scroll up here and find our components
and there you can see there's a little
text box and our check box finally so
I'm just going to copy those come back
down here paste those in and then get
rid of all this extra junk that we have
here okay so if I want to set the value
for our editable text box I can just go
set text to and this is going to be
since we know what our contact is we
just go hey give me the name that I want
for my contact and that's it going to do
pretty much exactly the same thing for
this other editable text area and this
other one and this other one the only
difference being this is going to be not
get name but this is going to be get
street address and this is going to be
get city and then this one's going to be
get phone number which I believe is what
I called it yes but how do we change our
contact checkbox to make sure that it's
checked when it needs to be checked
simple we just go set checked and then
we're going to call contact and get
contacted which is going to return true
or false and determine if it's checked
or not and that is everything we need to
do with contact fragment Java and as you
can see over here since this app no
longer has an error so everything is
working great so that basically puts us
in a situation where we have to tell
fragment contact list what to do when
one of the contacts is clicked on and
make all that interaction occur and also
make census app then display the right
contact so let's take a look at what we
need to do with fragment contact the
list so here we are inside a fragment
contact list and basically all I need to
do is put in an on list item clicked and
I have to figure out exactly where I
want that to go I'm guessing I want it
to go
your oncreate but before the contact
adapter so let's go in here
right click come into source again
override implement methods this guy pops
up and I have to look for on list item
clicked and there it is
so put a check in there insertion point
I want to put it after on create and
then go okay and it put me exactly where
I wanted it to be so I'm going to take
all this stuff out of here and this is
kind of self-explanatory this is
ListView this is the actual view this is
the guy that really matters this is the
position that's going to tell us the
very very specific item that was clicked
on and then we have an ID down here well
basically we need to figure out which
contact was clicked so I'm just going to
call this clicked contact and find that
out we need to convert this into contact
adapter and then go get list adapter and
then specifically get item and the
specific item that we want is going to
be whatever item is in the position that
was passed into this then we need to
pass the context with get activity so
we're going to create a new intent which
is just the intention to do something
I'm going to call it new intent and new
interns and like I said we're going to
have to call get activity to get the
contact which is going to allow us to
define which new activity is going to be
displayed on our screen which is going
to be Census app and there we go then to
our new intent we need to put in some
extra information that extra information
is going to be the contact ID so that
we'll have the right contact information
on there and to get the right contact
information we go contact fragment and
we say we want contact ID and then we
have to put the value in which is we
know that this was the contact that was
clicked let's go down to the next line
so to find out what the idea is for the
contact that was clicked we go click
contact and then get ID number for that
and there we go so that information is
going to be passed in there just like we
need it then what we're going to need to
do is call start activity for result and
start activity for a result is basically
used whenever you want to get a result
from an activity which is the contact ID
we want that and we want to get that
information when this activity ends and
then pass that information over into our
new activity so we're going to go new
intent which is our intention to call
census app and pass in the contact ID
and the ID number that information and
that is how we are going to call
sentence app and have it open and not
only open but also open and display the
right information now to get start
activity for result to work and make
sure that that information is passed in
we need to use another method and that
method is on activity result and to
display it I'm just going to come in
here and go source override implement
methods and then inside a fragment we're
going to look for on activity result
which is right here and after on list
item click that sounds like good place
for it go okay and there that is and
request code what that's going to tell
you is where did this request come from
and then we are going to have result
code which I wouldn't worry about all
these different things because they're
automatically generated this is
basically returned by the child activity
if you care and then you have the actual
data which is what's important then with
this guy we're going to call contact
adapter get list adapter and then we're
going to call notify data set changed
which is going to notify everyone that
needs to know that the data has changed
and that we need to react to that and
that is basically all we need to do with
fragment contact list it really might
seem a lot more complicated than it is
but basically all we are doing here is
saying hey an item has been clicked okay
well we know we need to figure out which
item was clicked and we're going to
store that specific contact inside of a
object called click content
okay how we going to get that well you
passed in the position and the position
is you just think of that as an index in
our array so we're basically saying okay
what contact specifically is in our
array at index named position all right
we get that all right so now we know
that we need to open up census app all
right well that means we have the
intention to do something so we need to
create an intent all right now that we
have that how are we going to pass over
the contact information no problem we're
going to call a method called put extra
and we're going to get our contact ID
from the currently clicked contact that
we have right here we're going to store
it inside of there then we're going to
pass that data over into Census app so
that it can use it and then this guy
down here is going to notify every
single time that data has changed in any
way so that's basically what's going on
if you understand the adapter which we
talked about previously nothing else
should give you any problems now in
making this the only thing that sort of
was an issue is inside of list item
contact it was very possible that
whenever the person goes to click in the
checkbox that the whole entire contact
is open so what I decided to do is to go
inside of list item contact XML and
specifically inside of the check box and
sets enabled for this guy to be false by
default but more importantly I'm going
to say Android and I'm going to say that
it is not focusable which means if they
go let's go down here and retype that in
go Android and if we don't want it to be
focusable which means we don't want it
to be clickable we're going to go in
here and also say false for that and
there we got so we got it all done let's
go in here and execute and if we execute
this guy you're going to see inside of
air there is our list that we had
previously and if we specifically click
on one of these guys it's going to open
up and there is all Paul Smith's
information and since this is a census
type of app let's say we wanted to come
in here and Rivera Phi Paul's name and
maybe it's not quite Paul or something
else it's Paul Oh
I don't know I'm just making this up and
we could type in Paul those Smith and
then we can come in here and say oh well
it's not 1 2 3 Main Street it's 1 2 3
Main Avenue and we could say I don't
know I'm just guessing that all this
stuff is incorrect it's not really dairy
it's actually I don't know I'm just
going to type in forward and that
telephone number is 1 2 1 3 and yes we
contacted Paul so or Paulo so there we
go and all that's set then we can bounce
back out of here you can see it's now
says Paulo Smith and then if we click
inside of there you're going to see all
the information pop up again so there is
the census app we're still going to be
adding a ton of additional information
to it if you have any questions or
comments please leave them down below
otherwise till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>