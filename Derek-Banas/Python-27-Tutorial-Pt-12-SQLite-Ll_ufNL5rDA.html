<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python 2.7 Tutorial Pt 12 SQLite | Coder Coacher - Coaching Coders</title><meta content="Python 2.7 Tutorial Pt 12 SQLite - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python 2.7 Tutorial Pt 12 SQLite</b></h2><h5 class="post__date">2010-11-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Ll_ufNL5rDA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello internet welcome to my programming
with python 2.5 through 2.7 tutorial
today I'm going to talk about a really
cool module available totally built into
Python called SQL Lite and again this is
how you bring in new modules and don't
forget to leave the three on there and
this is built into Python so you do not
need to build this yourself and what
this allows you to do this module it
allows you to create pretty much
something that looks and works
identically to a database without the
need for a database server now if you
want to use this tool of course you want
to even I'm going to have some functions
inside of this I'm going to create the
database itself right here as a global
variable so I can use it for all my
different objects and you just want to
start it off with SQL Lite 3 dot connect
now I hope this makes sense let's just
say if I was going to create a new
database file I normally almost always
would create one like this sample dot
and then end with DB for database but in
this tutorial so I can call multiple
times to create a table that already
would exist which is going to trigger an
error I'm going to instead save this
database in memory and this is how you
do that remember you normally wouldn't
do this I'm doing it because this is a
tutorial because if I create a file and
then create a table in it and then try
to create that table again it's going to
trigger an air so in this case every
single time this program runs it's just
going to have a temporary holding space
in memory where it's executed and then
whenever the program that I'm creating
here dies or ends it's going to delete
that information so that's why I'm using
this memory qualifier then to query the
database I'm creating another variable
called query queue urs you use something
called a cursor inside of SQLite but
basically what this allows you to do
quite simply is just perform queries on
a database and if you don't know what a
query is that is how you talk to a
database you do so within language
called SQL well since the last line down
here is demanding that I create a main
file I'm going to do that
and I'm going to put the qualifier pass
in here just so that I have something in
that function then I'm going to create a
function that is going to actually
create my table for me and I'm going to
call it create table again there's no
meaning to these names of these
functions I'm just making it up and what
this is going to do is it's going to
call the execute method in SQLite that
will submit a create table SQL query and
again I'm going to reference the thing
that we called a cursor before that's
something that is the name that is
specific to SQLite and here I'm going to
create a multi-line statement here and
this is SQL so I'm going to make it
simple I'm going to put it everything in
capital letters that makes up the SQL
language and this is going to create a
table called customers and here I'm
going to define all of the information
that I want to contain inside of this
table so I'm going to want a unique user
ID and how I'm going to call that ID
then you have to define whether you want
it to be an integer which is just a
single digit with no decimal places a
real which is just like a float like
we've talked about previously inside of
Python meaning there are decimal places
or text which means exactly what it is
text or null and that is pretty much for
the most part all inclusive of all the
different variable types you can use
inside of SQL lights database I'm going
to call this a primary key and what this
is going to do for me is every single
time I create a new customer in this
table customers it's going to
automatically generate a unique number
for me and you're going to see examples
here as we go on we call another one
name and it's going to be of type text
street again type text and it makes it a
lot easier you can leave these things
lowercase but it makes your life a lot
easier later on if you make them
uppercase state text and balance which
is going to actually be balanced du
which is going to be a real or a float
in this circumstance and I'm going to
close that SQL command off and finish
with the three quotes so this guy right
here is an actual SQL command a
statement that's what we got right
there and that's how you create a table
and tie inside of SQLite and just
remember I'm going to show you an
example here in a second but whenever
you do enter new customers into this
table you do not need to enter an ID
number actually you shouldn't because
this is going to auto increment for you
and create a new unique number every
single time talking about adding a new
customer now I'm going to create the
function that's going to do that I'm
going to call it add customer and I'm
just going to take in a name Street city
state and violent see don't need the ID
and I'm gonna issue another query and
this is how you do it just reference the
query that you created up here followed
by the execute method and this time I'm
going to insert these values here that
are sent to me into the table that we
created right here in this function I'm
going to do a multi-line statement again
insert into customers name Street city
state now let's jump down here and then
this is a little bit weird values if you
don't know SQL I mean I am if you I
already did an SQL tutorial I don't
provide a link to it here on the screen
it's specific to MySQL but it's it in
essence is identical the SQL language in
MySQL and in SQL Lite here what you're
going to do are put in question marks
for each of the number of values that
you're going to put into this table so
there's five here so I'm going to put
one two three four five and then I'm
going to separate them commas and then
I'm going to close off this multi-line
statement follow that by a comma and
then the variable that is passed so I'm
going to take these guys right here and
I'm going to put their names in here and
they're automatically going to be
transposed everywhere there is a
question mark so to save time I'm just
going to go up here copy this paste it
in and close that off now I'm going to
jump into main and I'm going to call
these methods and have them do some
things first I'm going to call the
create table method just like that it's
going to create my table for me then I'm
going to add four customers to my
database being so and let's say I have
unpaid debt of 150 dollars and 76 cents
just to be crazy and to make it simple
I'm going to put three more calls in
there just like that
okay just did the same thing over and
over again this is going to send up all
this information into the add customer
area
and it's going to insert these new
customers and our streets
city state and the balances that they
have to currently with this command
which is reference to the database the
object that I created I'm going to call
the commit function and what this does
is it forces the database to make all
the changes that I have just asked of it
just in case it didn't here I'm going to
call the Select command again if you
know SQL you know it well and what it
does basically all it's saying is it
wants you to return all of the values
that's what star is a reference to from
the table customers that's all that
means
SQL is very very simple to learn if you
don't know it if I get enough requests
eventually I'm going to redo my SQL and
PHP tutorials now what I'm going to do
is I'm going to cycle through the
results this variable right here query
cursor is going to now have the value of
whatever this SQL statement is asking
for so I'm going to cycle through the
tuple and print the entries to the
screen in ways that I've already done in
previous tutorials and just to keep this
neat I'm going to put a new line in here
and if I didn't have this for statement
what it would do is it would print out
the tuple directly onto the screen like
like a tuba looks with brackets and then
all the individual entries separated by
commas I don't want that I want the
actual values all separated and put on
separate lines so that's why I'm making
this reference right here and for run
this you can see that it went and it
printed out all of the different values
for all the different customers in order
for me here on the screen there's all
four customers that I put in there but
you could also come in here and do
different other types of queries like
let's say I want to select all of the
customers and I want to order them by
balance meaning from the part of the
customer with the lowest balance to the
highest balance and on top of that let's
also say that I would like to be able to
print out a label next to all these so
there'll be ID name street city and so
forth well what I'm going to do to do
that does me just kind of thinking out
of my head I'm going to create a list
here it's going to have all of these
labels and then I'm going to cycle
through them okay so this is just simply
a list that contains labels for all of
the information I'm going to print out
here on the screen and I'm going to set
this junk variable
to zero and then I'm going to leave this
for the most part widely unchanged I
think I'm going to do is I'm going to
print to screen my titles or my labels
I call them titles in this and then have
it actually print the value out like we
did previously and I didn't hand it's
probably a neater way of doing this I'm
just not thinking but either way this is
going to help facilitate cycling through
those indexes for those labels and
resetting them to zero afterwards and
finally I should also always close this
connection at the end of the way it
would normally if this was a file up
here instead of a being residing in
memory in a junk area this may reside in
memory without closing off the database
at the end and if I run this see now
that I got exactly what I go I wanted
here I've named Paul Smith so forth and
so on everything has its own label and
if I wanted these labels to be on the
same line which I do I should come in
here and put a column in there and you
can see now that I cycle through it it's
all going to work exactly the way I
wanted to you can also do a lot of other
tricky things and I'm just going to sort
of do this and show it to you on screen
and then if I get enough requests in a
comment section I might do a little bit
of more in regards to SQL inside of
Python like for example here I put in a
few additional columns and I can
actually get rid of this because I
already created in another select
instance here what I'm doing is using
the alter table to add a new column to
my customer table and it's called email
and this should actually be uppercase
text so that is how you would create a
new column or a new entry inside of your
table just simply by calling alter table
and name of the table the keywords add
column followed by the name of the
column you want to create and what
variable type it is inside of SQL I
could then since I added this email
value to the customer table come in here
and make changes this is also the way
that you make changes inside of SQL with
SQL Lite ways with the update command so
I'm saying update table set value of
email to this where the ID is equal to
one and you can see that right there ID
is equal to one and if you look over
here you can
say that my email address is now in
there however there's no email address
for the other objects if I come down
here and change this six you can now see
that email is printing here next to the
email address and if you want to delete
specific customer information you would
just call for something like the unique
ID and just say delete from table
customers where ID is equal to four so
that's how you would delete something
from a column and if you wanted to
change something like you've wanted the
customers to be printed out to screen in
with the balance in descending order
which would mean that the highest bounce
would per be printed first this is
exactly how you do that and if you
wanted to limit the results to just two
you just follow any of the variable
types inside of the customer table with
the word limit followed by the number of
maximum results you want to print to the
screen and finally if you would want to
skip the first result you would use the
keyword offset followed by the number
one as you have right there so that's
just a quick run-through of some of the
ways of implementing and using the SQL
Lite module inside of Python and some
little tricks and ways to interact with
it using SQL have any questions or
comments leave them in the comment
section below all the code is freely
available on my website do you think
tank comm the next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>