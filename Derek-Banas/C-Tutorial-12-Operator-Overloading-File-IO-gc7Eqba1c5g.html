<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>C++ Tutorial 12 : Operator Overloading &amp; File I/O | Coder Coacher - Coaching Coders</title><meta content="C++ Tutorial 12 : Operator Overloading &amp; File I/O - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>C++ Tutorial 12 : Operator Overloading &amp; File I/O</b></h2><h5 class="post__date">2018-04-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/gc7Eqba1c5g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
12 of my C++ video tutorial and this
part of the tutorial I'm gonna cover
operator overloading file i/o and I'm
also going to include a problem for you
to solve all of the code as well as a
transcript to this video is available in
the description underneath this video
and if you haven't watched any of the
previous videos you should otherwise you
will be confused and I have a lot to do
so let's get into it okay so here we are
and I don't believe I need any imports
here okay I don't want to have here I'm
just using a bunch that I don't even
need but that's just to keep everybody
from having weird errors because
libraries don't include it alright so
what I want to do here to demonstrate
operator overloading is I want to create
a custom class that I'm going to call
box and of course I'm going to create it
outside of main all right so let's
create a box class and what I mean by me
or you're gonna see what I mean by
operator overloading it's better to just
go in here and show you examples okay so
I'm gonna have some Publix things with
my box I'm going to have a length and a
width and a breadth so there's that I'm
also going to create a string inside of
here and this is gonna be used to hold a
string representation of our box and I'm
just gonna call this box string just
give it a name I'm also going to create
a constructor inside of here and it's
just going this is going to be if they
don't send anything I'm just going to
assign the value of one to everything
just be complete here all right so we
got that and then we're gonna have
another constructor that is gonna be
called whenever they do send something
in and let's just go and name that L and
make these all doubles because that
seems to make sense and for the breath
okay so we have our our two constructors
and I'm just going to assign all these
values all on the same line as well just
to keep everything nice and short here
and also to show you that that's
something that's possible to do all
right so we got all that set up let's
just roll this up here see if we can get
everything in one place okay so
basically with operator over
the way it works is that you're going to
be able to define custom operations just
like you define functions and you can
see here a list of some different
operators that you're going to be able
to operate on just a single value with
so we're going to go and be able to
decrement a value you can see pointer
dereference member selections not and
and and which is gonna represent the
address of whatever it is and so forth
and so on so what we are going to do is
we are going to take these commonly used
things operators and we are going to
define how we want them specifically to
work with our boxes okay so what I want
to do here is I want to go and define an
increment operator and this is how you
do you're basically going to have your
box right here followed by the name of
operator and then whatever the operator
is that you want to change so I'm going
to go and throw this inside of here
whoops and make sure that you define it
like a function you're gonna put your
two parentheses inside of there and then
what I'm going to do is I'm basically
going to say whenever I have a box
followed by plus plus what it's going to
do is it's going to increment the length
it's going to increment the width and
it's going to increment the breadth okay
and that's going to be what it is and
then of course it is going return the
new box back to the user so that's how
you would go and set that up if you
would want to be able to create
customized increment capabilities with
your box class and let's create a couple
more here well actually let's create
something interesting let's say that you
would want to create a c string
representation which is remember a
pointer to an array that is null
terminated how would you do that
well you'd go operator and constants and
character so that's what you're going to
be referencing that point to right there
and then what we're gonna do is create a
stream that can be loaded with
characters that can then be accessed as
a string object and to do that you're
going to use a string string
I'm gonna call this box stream and then
we can load in all of the information
that we want associated with our box
string wise so I'm going to just say box
and what it's gonna do is just list out
all of the different things stored in
our box so it's gonna list out our
length and then let's say we want to put
like a comma and a space and then we
want to do the same thing for our width
and our breadth and we're gonna get rid
of this and now let's do not put a new
line here so let's just go like this and
we'll just change this to wit and we
will change this to breath okay so this
is a customized C string that's going to
be returned to the user but we're going
to have to then go box string and we're
gonna have to return a string
representation of our stream so I'm
going to come box stream followed by STR
and there we go
and you can see that I reference that
guy up here and you're gonna want to
have this outside of any function so
you'll be able to access that and then
we need to call for return of box string
and remember that we are returning AC
representation of a string and to do
that you just go C underscore STR and
there you are okay so there is how to
increment and this is how to return a CC
array that is basically going to be a
string what else can we create well we
can we can decrement in exactly the same
way and you can do the same sort of
things with naught and so forth so I'll
just leave that for you for homework I'm
gonna do a whole bunch of binary
operators though for you right now
and unlike our other operators they
mentioned before a binary operator is
gonna operate on two different values so
we're going to be able to add subtract
multiply divide boxes modulus check for
equality and a whole bunch of other
different comparison operators and these
are the basic guys you're gonna see
bitwise operators I'm also going to go
in here and show you how we can
reference different items in our box as
if they were arrays or they are in
all right so I'm going to create a whole
bunch of these so let's say we want to
add boxes together well to do that what
we're gonna do is once again same format
box operator plus but inside of here
since we're gonna be doing with two
things we need to we're obviously going
to be working with whatever the box is
but then we are also going to get a
reference to another box so there is box
two and what we're gonna do with this
guy is we're going to create a box
inside of here which is going to be the
sum of said values then I'm gonna go box
sum and length is going to be equal to
and then I'm gonna go length which is
going to represent the current box
that's going to be added to box two
so I just go length to reference that
guy and box to and I go to length once
again so that's going to basically add
those values together just like we would
all right and we can throw this inside
of here and of course we can do width
and we're gonna do the same thing for
width for all of these all right so you
got that set up and then we'll do the
same thing for breath all right so we're
doing a good job here and it's is
extremely awesome to be able to
customize how these different common
operators are going to work all right so
let's do some more I'm gonna do a whole
bunch of them let's say that we want to
access values using the subscript
operator like we did with like indexes
like I mentioned before we can do that
as well so we can go operator and then
you're gonna list the operator you want
to work with and then you're going to go
int and X because it's going to receive
a number inside of here and then that's
where it's going to go in that attribute
list then we could say something like if
X is equal to zero in that situation
we're gonna return the length and
otherwise else and we could say if and X
is equal to one well in that situation
we're gonna return our width so sort of
operating as if it was a array X is
equal to two we're going to return Brett
and otherwise it's they ask for anything
else we will just say
we're just going to return zero because
they're asking for something that
doesn't exist alright so there you go
that's how we set up our subscript
operator let's do more let's say you
wanted to check for equality between
boxes how would we do that again you're
gonna go whatever you're gonna returning
the data type and then you're going to
have operator followed by whatever you
want to work with so you can do equals
and we're gonna go call instance and
we're gonna get a reference to a box
that we're gonna be working with and I'm
gonna call it box two because that's
easy enough and then I just figure out
what I want to do so what I'm gonna do
here is I'm going to say if our length
is going to be equal to in both of these
values well then we are going to say
that that's equal as long as the width
and everything else is also going to be
equal so we go and and then I'm gonna go
and get this guy throw this down the
next law and paste that in there and
we'll go and do the same thing for width
and width and then finally come in here
and get rid of this and change this the
breath and breath and if I'm going too
fast just go and hit the old pause
button or of course I have the code
available for free and the description
under the video all right so that's
gonna return true if all those three
things are true or are equal and
otherwise it's not alright we can also
check if one thing is bigger than
another so we can go and this is just
going to be relative I'm gonna say if
it's less than or not so I'm gonna go
constants and after I get all these set
up I'll go and test them it's just
someone you know we'll see how they work
so box 2 once again and here what I'm
gonna do is I'm just gonna go and get
this size so I'm going to say this is is
equal to and this of course is a
reference to the box that this is going
to be compared to our second operator so
there we got the size of our current box
and likewise I'm gonna do the same thing
for our other box so that's going to be
box 2 in this situation this guy that's
passed inside of here so I'm gonna say
box 2 size is equal to and I'm just
gonna copy this copy and paste that in
there except we're gonna have to
box two in front of all these guys so
let's do that and box two and box two
all right so now that we have those two
set up that way what we can do is we can
say if this size is less than the box to
size well in that situation
I'm gonna return true and otherwise else
I am going to return false
all right so there we go and there's
another one down all right you can see
how quickly you can just bang these guys
out and we can go and do of course the
exact opposite so let's go and copy this
quite easily and let's just change this
to greater than and let's change this
guy right here to greater than there you
go now you got you knocked both of them
out and I'll leave it to you to check
for a greater than or less than or what
I mean is greater than or equal to or
less than or equal to that can be some
homework you can do there just to test
it out and let's go and overload the
assignment operator also so in this
situation we don't need to return
anything so I'm gonna say operator is
equal to and constant and box I'm gonna
get a reference to it I'm gonna say box
to copy is what we're gonna be a copy in
here and then I'll just go length is
equal to and then this is gonna be box
to copy and guess what lengths a dot
length and got that setup and then we'll
just do the same thing for our width and
breadth and we will have those all set
up so you can see you can bang this
stuff out really really quickly and add
a ton of functionality to your super
awesome objects all right so there we go
all right some neat stuff it's not what
I want to do is come down in Maine and
let's go and create a box and we just
test it so I'm gonna go and create a box
I'm gonna call it box because I'm very
creative and I'm gonna throw a whole
bunch of tens inside of there and there
we go we got our box object now if I
want to increment it and just go plus
and box and because I created this guy
order is it or
oh there this guy right here I'm gonna
be able to just go box and it's gonna
print out everything for me
whoops sorry if that made you crazy all
right so see out let's go and just go
box and then throw a new line inside of
there and you're going to see that box
indeed was incremented as long as I
didn't make an error and I nope and you
can see box indeed was incremented
properly let's go and test out our other
operators so let's go and let's curl
well we're gonna need another box so
we'll go box 2 and I'm just going to
create a whole bunch of fives inside of
there and then let's go and add these
guys up so I'm gonna go inside of here
I'm gonna go mmm but I wanna say I want
to say box 1 plus box 2 is equal to and
let's just get rid of all this all
together actually box 1 box 2 is equal
to and then I will just go and add them
together and I can do that just by going
box plus box - and then let's throw any
line inside of there and see if it
worked
yeah and you can see whoops that's not
right let's test this out I don't know
why this didn't throw an error but what
I need to do is go and return box some
all right that was my error let's run it
again and here you can see it went and
added the values between those two boxes
up all right so good stuff let's go and
test out the other operators let's go
and use our subscript operator for
example to come in here and access the
box information as if it was like an
array with indexes so let's say we want
to get our length we can do that and all
we need to do is go box and 0 and then
throw a new line inside of there and
there we go and you can see that that
comes back as 11 as well ok let's test
the other ones let's say that we want to
check if they are equal and remember if
we want a true or false to show up in
our output with C out instead of ones or
zeros which are not proper boolean
looking
we have to come in here and go bull
alpha like that and then they will work
like a boolean like you would expect a
boolean to work anyway all right so what
we're gonna do is we're gonna check for
equality and I'm just gonna say our
boxes equal and of course they are not
and that there and then just right
inside here we will go whoops it's just
box is equal to box too and then we can
go and do a new line and test it and you
can see that indeed they are not equal
we can also come in here and test out if
our boxes are going to be less than or
greater than each other so let's go and
do that as well so we'll say is box
lesson box 2 and check that and we can
just go box less than box 2
throw a newline inside of there and
let's just go and check both of those at
the same time because they are basically
exactly the same and this is the only
guy that's gonna change and we can just
go like this and change that as well
and what was the other one that I had oh
I changed the assignment operator so I'm
gonna say that box is equal to box two
now and then we can go and test that
indeed that the assignment operator
changed or that I made also is gonna
work out properly for us like we expect
and there we go got them all in there
and let's run us hey you can see was box
less than box two that came back as
false is box grater than box two that
came back is true and you can see here
that we were able to go and take the
values in box two and assign them to the
other box okay so there is a ton of
information on operator overloading and
now I'd like to talk about file i/o now
we've already been doing a lot with
streams we've been using the iostream
which basically allows us to read from
standard input or the keyboard and write
to standard output for the console we
are going to go and include another
library here and this is gonna be
upstream and this is going to allow us
to work with files all right so I'm
gonna demonstrate a whole bunch of
different things we can do here I am
going to first I'm just gonna do most of
this stuff in main just to keep it all
in the same place so I'm going to create
a stream that is going to be used to
write to our file so I'm just gonna go
call it write to file and then I'm gonna
do I'm also gonna go and create another
stream and this is going to be used to
read from our file and what else we
gonna need I'm going to have text to
write as well as text that we receive
from our file that we create so text to
write and just give this a default
nothing value in there and then I'm
gonna do just go and copy this and paste
this inside of here let's move this up
here I should be able to keep everything
all in the same place and then this is
going to be changed to text
from file so just text from file all
right so let's go and get this stuff now
basically we're going to open the file
by providing the name of the file that
we want to work with and then either of
these different commands and so
basically if you want to impend to the
end of the file use this one if you want
to truncate which basically means delete
everything and start over use this one
if you want to open a file for reading
open a file for writing open an ant for
writing and move to the end of the file
those are all the different guys you're
gonna use so what I'm gonna do is I am
going to do that so I'm gonna go and
open a file and if the file doesn't
exist it's automatically going to be
created for us as long as you have
permission of course and how we're gonna
do that is I'm gonna say right to file
and then followed by open and then a
list like I said whatever the file names
gonna be so it's gonna be a test and
text is what I'm gonna have it be and
then I'm gonna list those different guys
that I want to use so if I want to open
a file for writing what I'm gonna do is
go iOS underscore base and then out and
if I want to do more than one of those
things I just put an or statement inside
of there like that and then I can go
standard iOS and base and trunk and that
just means that everything that is
already there if there is anything there
is going to be deleted or truncated
however you want to say that so what I'm
gonna do is I'm going to first check
that I was able to open the file so I'm
gonna go if right to file dot is and
open I don't want to do it otherwise
because that means the file isn't
available and that's gonna cause errors
of course then you can write with the
stream insertion operator like you're
well used to so I can go right to file
and that's the phone right into and I
can do something like beginning of file
just throw something inside of there I
could throw a new line in there if I'd
like and then what else you can do
you're also gonna be able to write
information from a string of course
there's no difference so I could do
something like telling
are asking the user to input some
information so I'll say enter data -
right just to keep this you know
interesting so okay like this and then
use getline to get some user import or
user input and then we're gonna store
that in text - right to be saved to our
file and then i can just take that text
and go right to file and then what we
want to write to it
and there we go right our yeah text -
right that's what I called it and there
we go alright and then of course after
we do all of that stuff we need to close
our file so we're gonna go right to file
followed by clothes right like that okay
alright so we're able to write some
information to our file and and if we do
that it would be valuable to be able to
read it so what we want to do is open
our file for reading and how we do that
is go read from file and open of course
and then we are going to use the same
file of course because that's where we
just wrote some information so test and
using a text file there then I'm gonna
go and say that I want to open it for
reading and that is iOS face and then
followed by in and I don't need to do
anything else so I'm just gonna leave it
that way then of course I'm going to
test if the file is open or not so what
I can do is read from file and followed
with is open just like I did previously
and if it is then what I want to do is I
want to continue reading as long as I
have text in my file so that sounds like
a looping thing and that's exactly what
it is so read from file and good is the
way that you check that you have some
more information you'd like to read and
I'm just gonna use getline again so I'm
gonna go read from file and text from
file is where that I want to store that
information and then what I can do is I
can print that text that I just received
for my file and text
file and then I'll just print that out
on the screen and I could throw a
newline in there if I'd like to probably
be a good idea and anything else I want
to do let me think
well yes I'm gonna definitely want to
close my file so read from file all my
clothes of course and I think that will
do it I just save this and run it you
can see enter data too right and I'll
just say random text here and enter and
you can see that it printed out both the
beginning of the file text that I
entered as well as the dynamic text that
I added right there all right and that's
a rundown of some file i/o and now I
what I want you to do is try to solve a
problem all right so I think it would be
interesting for each time we receive
information from the file I want you to
both print out the number of words then
are in each line and then I also want
you to to calculate the average word
length for each of those files so it's
gonna print beginning of file for
example and then it's gonna print 3 for
the number of words and then it's gonna
print whatever it would be for the
average length of each word in the file
all right so you can pause your video
and go give that a try otherwise I'm
gonna do it for you right now all right
so if I am inside I'm just gonna do this
inside of you know what we have here
already of course I'm gonna come right
here text from file and start working on
our problem right here so what am I
gonna need well I think one of the
easiest things we could do is we could
take each of the strings and store them
as vectors and that we are very very
lucky to have created a function in the
past called string to vector in a past
tutorial and that is exactly what it's
going to do for us so I'm going to come
up here outside of Maine and I'm
actually gonna put my prototype for
string to vector that I made in a
previous part of this tutorial series
and then once again rather than typing
it all out here is the actual function
that we create it you can see
everything's been commented here since I
covered string to vector in previous
part of the tutorial on
going to cover it again what to do turn
strings into vectors and then returns
vectors obviously you can see it's
heavily commented here you can pause the
screen and read about what it does or
otherwise you can just go and get the
code all right so now we'll get into the
part where I actually use it so what I'm
going to do is I'm going to get our or
create a vector and of course it's gonna
be full of strings and let's just go get
that and throw this right here and what
do I want to call this whoops get that P
out of there okay so I'm gonna call this
effect just keep it nice and simple and
I'm gonna call string to vector and go
text from file and then I pass in what
is going to separate each of the
individual strings in in our string to
convert them into vectors and make sure
you use single quotes here okay
otherwise it will throw an error if you
use double quotes then what did I say I
wanted to do well I wanted to get the
number of words in each line so I'm just
gonna call this words in line and how do
I get that I just call size on our
vector all right easy enough well I
might as well just print that
information out because it's here
already for us to work with so I'll say
words in line and then output the number
of words that I have so words in line
and throw a new line inside of there
alright so that was pretty easy I got my
number of words per line now for the
hard part I want to go and figure out
the average number of characters per
word well I'm gonna have to store the
total number of characters for each of
the individual words stuff so I'm going
to do in that one then what I'm gonna do
is just go for auto and word and I'm
gonna get each individual word out of
each of the vector that we have inside
of that and then inside of this I can go
Auto once again and get each of the
individual letters so there we go
pretty snazzy stuff and then I can just
increment character counts as I cycle
through both of those guys now that I
know the number
for the number of characters what I can
do is I'm going to create another
variable and it's going to be average
norm of characters is going to be equal
to character counts divided by words in
line and then I got it
I got all the information that I need
and I can just output that on our screen
once again and I can go average word
link and get this and that's just
average average ya know of characters
okay and then throw in a newline and I
was able to and I'm just a couple lines
of code get all that information and is
there anything else I need to do no as
far as I can tell so let's save it and
run it and enter data to rights and I'm
just gonna random words and stuff and
you can see beginning of file number of
words in the line is three and that's
indeed correct average word length is
five random words and stuff words in
line for and average word length is four
okay so hopefully you guys got that
problem correct if you didn't don't
worry about it and like always please
leave your questions and comments below
otherwise till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>