<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Java Video Tutorial 53 | Coder Coacher - Coaching Coders</title><meta content="Java Video Tutorial 53 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Java Video Tutorial 53</b></h2><h5 class="post__date">2012-07-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/fK0fxjbjdQA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
53 of my java video tutorial series
today I'm going to show you something
that seems to have mystified many people
on the internet how to rotate an
irregular polygon using Java after
receiving this question many times I
looked on the internet and saw that most
everyone described this in either very
complicated ways or completely incorrect
or both in this tutorial you're
obviously going to learn how to do it
the right way so on with the code if you
haven't seen the first part of this
tutorial you definitely should watch it
and there's a link above and you can
click on it and go and check it out
otherwise I'm just going to jump right
into where we have previously worked on
in regards to the code and it's
available in a link underneath of this a
video so the first thing I'm going to do
is I'm going to work on my spaceship
itself and come in here and you're gonna
be amazed at how easy it is to come in
here and fix all this stuff now the
first thing I'm going to do is I'm going
to come down here where I'm defining my
polygon by your regular polygon and I'm
going to change these vector points it's
based off of whatever the center of the
irregular polygon is so in that
situation I'm gonna be using negative
numbers now so negative 13 14 negative
13 negative 5 and negative 13 to close
off your regular polygon that doesn't
make sense leave a comment below and
I'll explain myself better basically I'm
just drawing points meaning my spaceship
based off of where the center point is I
just to point this out better if this is
the center point right here there are
all my different points for my spaceship
and this is what the spaceship looks
like okay so I just have to take those
numbers and plug them in here and you
have to do it this way if you want to
easily be able to rotate and move things
around on the screen there you go real
simple then another thing I'm going to
do I'm going to throw in an integer that
is going to monitor whether the ship
should continue to rotate because I
don't want you to have to continually
keep hitting a button on your keyboard
to rotate your ship that just doesn't
really make sense so I'm going to make
this static which means can be shared by
all the different objects that are
created from this class rotation angle
is going to be in the name of this and
I'm inside of the spaceship class right
now and I'm going to give it a value of
zero to start off so now with all that
in hand
I'm going to scroll way down here to the
move section of our code and all of this
stuff here for now I'm just going to
mark it right out not even going to use
it using it later on and keeping it in
there isn't going to hurt anything but
just want to get rid of it so that we
can concentrate on what's going on and
then we go Super X points which is a
reference to the polygon is equal to and
then I'm just going to go spaceship poly
X array and just make sure that the
array for my spaceship is exactly the
same as for the polygon itself and
that's it that's the only change I need
to make to my spaceship now I'm gonna
have to go over into the game board area
and make a couple other different
changes here I wasn't really certain
about how much to get into this but to
be able to rotate this guy I'm going to
have to use something called the affine
transform and to keep it simple what
this library is going to do is it's
going to allow you to modify the
coordinate spaces so it's easier to
create things like rotations and
shearing and scaling and all these other
things and just have them look right me
and I'm going to scroll on down here and
right here I'm gonna put this guy in
here so I'll be able to monitor if a key
on the keyboard is being held down
static since it's either going to be
true or false it's going to be a boolean
and I'm going to put this down as false
because obviously personal wouldn't be
holding it down right now another thing
that I'm going to want is I'm going to
want to check whatever the key code is
so that I know what key is being held
down and this guy right here is going to
hold that key code and then won't
continue scrolling until I get right
here where we have our little key
listener that we created in the last
tutorial and I'm going to come in here
and do a couple things so that we'll be
able to rotate this guy I'm going to
copy this guy right here just save
myself a little time and then make a
whole bunch of changes with this now if
my key code is equal to 87 which is the
letter W that is still going to work as
forward and backward I'm not going to
change those guys at all however I am
going to make some changes if 68 is
getting held down because that's going
to be my D key and whenever that's
pressed and held this is going to cause
my ship to rotate clockwise and continue
to rotate clockwise so we're going to go
if and then I'm going to just copy this
change the number inside of it to 6
and then we could print something out on
the screen just a monitor the things
work in a way that they should and then
we're going to use the key held code and
we're going to go e dot get key code
which is going to return the key code
for whatever key is being held down and
then for now we're going to say key held
is equal to true we're going to assume
that they are continuing to hold down
the key and then I'm basically going to
copy this again and paste that in there
and the only thing I'm going to need to
do here is change this to 65 and then
change this to rotate left or
counterclockwise whatever you want to
think of it as and nothing else about
this is going to need to be changed and
then whenever I come down to key
released I want to make sure that I
inform them that hey guess what they're
no longer holding the key down so I just
want to change key held to false so that
the rotation of the spaceship stops and
that's all I need to do there they
animal scroll down a little bit more to
this guy right here this is where I'm
going to put in that affine transform
like I said it's just gonna allow me to
very easily rotate these graphics and do
a whole bunch of other different things
you do not use math to rotate this stuff
and actually if you tried to use math it
would break for numerous different
reasons being that you need to cast to
an integer to work with polygons and
also because of precision issues and in
dealing with doubles inside of Java and
come down here right after draw Rock and
now we'll be working with our spaceship
and I'm going to say if game board key
held is equal to true and then I'm gonna
say and game board key held code which
is the key that's going to be held is
equal to 68 well then they're holding
down the D key and I want to rotate the
spaceship so I'm just going to go
spaceship and change the value of
rotation angle which we created earlier
in the tutorial by 10 degrees there you
go so we got that all done else and here
I'm just going to copy this guy bounce
down there and throw that inside of
there because all I'm gonna have to do
here is change this to 65 and then
change this to negative so that it goes
counterclockwise and then of course
close off that if statement and then
after move we're going to come down here
and do a couple other different things
I'm going to call graphic settings and
go set transform
to identity and this is going to set the
origin on the screen so that the
rotation occurs properly then I'm going
to go graphic settings this is right
before I draw my spaceship translate and
I'm going to want to define right here
where I want the center of my spaceship
to show up on the board that I'm
creating so I'm going to go game board
and I can just go board with and divide
that by two and then I come in here copy
that paste that there and in here I'm
just going to put height that's just
going to move it right into the center
of the screen and then we're going to go
graphic settings again and if we want to
rotate this guy what we're going to do
is rotate it right like here just by
calling the rotate method and I'm just
going to change it to radians and then
go spaceship rotation angle so it's
going to take whatever the value is for
the rotation angle that we were changing
up here see right here or right here and
it's going to rotate it based off of
that but you have to definitely change
it to radians for that to work and
that's it that's the only changes you
need to make in regards to get this
spaceship to rotate so now I want to go
over some math and explain why some math
things don't work inside of Java as well
as the answer a ton of questions that
I've gotten in regards to math
calculations now I normally don't cover
math issues because I figure that's a
part of the Khan Academy there the math
people but I received these questions so
I'm going to answer them at best that I
can now if you want to figure out the
length of a line from a vector point
being this upper point right here to
this point right here all you need to do
is take the square root of x1 which is
negative 13 minus 14 in this situation
and then square it and then do the same
thing here for the y-coordinates and
then after you do all that square root
to thing and there you go you're going
to get your answer which in this
situation is thirty point eight eight or
in this situation since I'm working with
polygons inside of Java I'm going to
round it up to 31 if you want to see
this in text form again the link
underneath has everything you could ever
want if you want to find the angle of a
line whenever you have your vectors
that's also very easy what you're going
to do is take x1 which is this guy times
x2 which is this guy
plus the y-coordinates and then you're
going to get a value of C which we're
going to use down here too
/ a times B and then you're going to
just plug in all of your coordinates
inside of here and then square root that
guy to get your value of 4a and then do
all this and square root it to get the
value of B and if you get the arc cosine
of C divided by a times B that's going
to be the angle of your line which is
this line right here which I am dragging
my little arrow cursor up and down on
that's how you figure out that if you
want to find the next vector whenever
you have an angle and you have the
length so we already know the angle of
this line and we also know the length of
this line well again you just plug all
this information into this guy so x2
which is what we're trying to do which
is 14 in this situation we're going to
find that by taking the cosine or angle
of the line and multiplying it times
length and then adding it to whatever x1
is and in similarly you do the same
exact thing for the y coordinate of this
vector down here which in this situation
is zero and angle of line in both of
these situations when you're using
cosine and sine inside of Java is
definitely going to be in radians and
then we have rotating a polygon I have
seen countless numbers of times on the
internet where people say this is how
you rotate polygons on the screen this
will not work now it works on paper but
it does not work inside a job why
because we're being forced to cast
integers here and then on top of that
there's precision issues whenever you're
working with floating-point numbers
you're going to have things just get
fouled up and eventually you rotate that
guy long enough is going to deform maybe
almost immediately but eventually it
that spaceship will always deform if you
try to use this map but like I said this
math works in the real world
on paper just doesn't work inside of
Java but if you wanted to know how to do
it on paper here is how to do it that if
you want to get the area of an irregular
polygon this is how you do it you just
take all of your different points in the
x coordinates and then these are the Y
coordinates to get this area and then
you're going to multiply negative 13
times 0 14 times 15 13 like this in a
diagonal manner and this is how it's
done in programming language world and
you're going to want to save the
addition of all these multiplications
and then
you're just going to do the opposite for
your Y coordinates to the x coordinates
on the left side of the screen now these
arrows demonstrate and this is how you
would do that inside of programming as
well then you're going to take those two
sums that you just got and divide those
by two to get the area of your polygon
or irregular polygon and this works for
any type of your regular polygon not
just phase shift and then this is how
you do it in programming if you want to
find the center points or the centroids
for your polygon whatever you want to
call them all you're going to do is take
your two vector points here's the X
points on the left and the Y points on
the right and again plug them in just
like we have done on all of the previous
tutorials and you can see here's an
example of how I would go and add all
this up to find my x center point for my
polygon then once you have all of those
summed up you want to divide them by six
times whatever your the area of your
ship or your irregular polygon is that
is just simple simple math so that is my
tutorial on how to rotate irregular
polygons leave any questions or comments
below otherwise till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>