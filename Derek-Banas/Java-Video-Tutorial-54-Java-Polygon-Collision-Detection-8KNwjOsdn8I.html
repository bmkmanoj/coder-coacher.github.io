<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Java Video Tutorial 54 Java Polygon Collision Detection | Coder Coacher - Coaching Coders</title><meta content="Java Video Tutorial 54 Java Polygon Collision Detection - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Java Video Tutorial 54 Java Polygon Collision Detection</b></h2><h5 class="post__date">2012-07-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8KNwjOsdn8I" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello internet and welcome to part 54 of
my java video tutorial series in the
last part of this tutorial we created
all this stuff so that our ship would
rotate and in previous tutorials we made
it so that the rocks or asteroids would
bounce off the side of our game board as
you see right here well because you guys
have asked for it I'm now going to show
you how to make all the asteroids or
rocks bounce off of each other
this tutorial is all about collision
detection and because my printer is out
of ink I have absolutely nothing to go
by so I'm going to do this on are sent
out in my head except clearly I wouldn't
upload it if it didn't work so let's
think about what we need to do here
before we proceed okay so on the right
side of the screen basically I have our
symbol of our asteroid or our rock now
whenever you want to do collision
detection what you basically have to do
is put a rectangle around your polygon
or Rock because the rectangle object is
going to provide you with an object
called intersects and the way that
intersects works is it receives a
rectangular area or a rectangular 2d
shape and then alerts you if one of
those rectangular shapes runs into one
of the other rectangular shapes and then
allows you to do things so how I'm think
I'm going to do this is I'm going to use
a method called get bounds and that's
going to go in my rock object because I
want to follow object-oriented design
principles and keep everything is
encapsulated as humanly possible and
what this get bounds method is going to
do is it's going to return the upper
left-hand x and y position as well as a
width and height for my rock so in
essence it's going to create a rectangle
just like you see here on the right side
of the screen and then using the
intersects method I'm going to be able
to figure out whenever one of these
rectangles bounces into each other and
then act accordingly now by act
accordingly basically what I'm going to
do is whenever a collision occurs
I'm going to take whatever the X
direction of asteroid a is in the Y
direction of asteroid a and replace it
with whatever asteroid B's X and y
direction is so in essence the asteroids
are going to propel off of each other
because they're going to exchange X
directions so let's get into the code
and see if I can do it alright so here I
am first off I'm going to start with
game board Java and all the codes
available underneath of this video and I
want to make as few
is humanly possible with this now one
thing that I know I'm going to want to
do is I'm going to want to make sure
that I have asteroid arrays and that
they sync up between the game board and
the rock object so if we scroll on down
through here you can see right here is
where I define my ArrayList that's going
to contain all of the rocks that I am
going to be using in my game board and
then if we scroll down a little bit
further right here whenever a new rock
is added to the rock ArrayList that I
have here I'm going to want to make sure
that these are updated so I'm just going
to go rock rocks is equal to rocks so
there's a rocks ArrayList over in the
rock object that's going to contain all
the rocks that are created and I'm also
going to have one here and I'm just
making sure that these two guys sync up
and as far as I can tell that is the
only change that I need to make right
now so let's jump over into Rock Java
and I'm going to make a whole bunch of
different changes here since I'm going
to need to work with rectangles I'm
going to import Java all right rectangle
so I got that guy in there and I'm also
going to need to create my get bounds
method so just a matter of figuring out
where in the code I want to put the get
bounds method I think right here after
were defined our rocks that's a good at
place as any
so we're going to be making some changes
to move so that's where I'm going to put
the guy so we're going to go public
rectangle is what it's going to return
and get bounds is the name of the method
and this is sort of a common name to use
whenever you're using collision
detection like we're doing right here
and then all it's going to do is it's
going to return a new rectangle and if I
want to get my upper left-hand corner
I'm going to go super X points now this
might be different for you depending
upon what you're using but if you're
using my code of course it's going to
work and then I'm going to go and return
the Y points or the zero position inside
of here and then I'm just going to
return rock width and rock height and I
guessed well on those names okay so
that's all get bounds is going to do
whenever it's called it's going to
create the rectangle and it's going to
be based off of the upper X Y position
as well as the width and height of my
polygon or my rock whatever you want
refer to it as now what I'm going to do
and because I want these collisions to
take precedence over
are the collisions that occur on the
outside of the game board I'm going to
create my rectangle and it's going to go
rock to check I'm going to name it and
then if I want to create this rectangle
based off of the rocks on my screen I'm
going to just call get bounce and it's
going to create that rectangle based off
of whatever the size and shape of the
rock is so then what I want to do is
cycle through all the other rocks that
are currently on the screen and check if
any of them cross into my rectangle so
I'm going to go this is of type rock and
my temporary holder is going to be
rocking in rocks which is the name of
the object that I'm using here then I'm
going to create another rectangle and
I'm going to call it other rock and this
is going to be all the other rocks on
the screen and guess what I'm going to
do I'm going to get bounds on it as well
and there you go now I need to check to
make sure that I'm not going to be
comparing my rocks to each other see
like this guy here is the rock that I'm
currently checking or moving what I want
to do is I want to make sure that I
don't accidentally because this guy
right here is in my ArrayList I want to
make sure that I'm not comparing him to
himself because of course it would be an
exact match so in that situation I'm
going to go if the rock I'm checking
meaning this rock right here is equal to
this or this rock that I want to compare
to all the other rocks I want to make
sure that they are not the same and I'm
also going to say other Rock and here's
where I use intersects Rock to check and
there you go so what this is basically
saying is if the Rock I'm checking is
not equal to I'm not checking it against
itself and it intersects with one of the
other rocks I want to do certain things
and you already know what those certain
things are I want to exchange their
directions so that they look like they
bounce off of each other so then we go
into temp x-direction I'm going to store
whatever the value for this rock is in a
temporary integer and then I'm going to
do exactly the same thing for the Y
direction so there that is and then I'm
going to take this right here I'm just
not paste that in there and save myself
some time get rid of that I'm going to
take the current direction and I'm going
to save it
to the rock that I'm comparing it
against so it's going to look like they
are bouncing off of each other that's
what I want to bring across here and by
switching their directions that's
exactly what it should look like change
that the Y and that's exactly perfect
then I'm going to go and get the rock
and give it whatever the value for the
temp is so this guy right here and
that's how we can effectively change the
directions on our two rocks so it looks
like they bounce off of each other and
that's it as long as I did it right
let's file save it I'll save that and
execute and see if it worked out and as
you can see yes indeed the asteroids are
bouncing off of each other bounce bounce
bounce bounce and because I also ran to
my speeds it helps it actually make it
look like it's realistic as it bounces
around here on the screen so that was a
fun tutorial I'm glad it worked out
leave any questions comments or requests
below otherwise till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>