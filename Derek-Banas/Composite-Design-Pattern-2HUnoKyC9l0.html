<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Composite Design Pattern | Coder Coacher - Coaching Coders</title><meta content="Composite Design Pattern - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Composite Design Pattern</b></h2><h5 class="post__date">2012-10-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/2HUnoKyC9l0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello internet and welcome to part 18 of
my design patterns video tutorial today
we're going to talk about the composite
design pattern now the composite design
pattern is another one of those two
patterns it sounds really complicated
whenever you read the definition of it
but once you see the code and you see it
in pictures it makes a hundred percent
sense so either way I'm going to go in
and read the common definitions for it
it allows you to treat individual
objects and compositions of objects
uniformly that is the typical definition
for the composite design pattern then
you have they allow you to represent
part whole hierarchies what a part whole
hierarchy is simply is its when
components can further be divided into
smaller and smaller components and then
a more logical definition is the
composite design pattern allows you to
structure data or represent the
interworking
of every part of a whole object
individually if you didn't quite get
that let's look at some pictures okay so
in this demonstration I'm actually going
to use exactly what you see here on the
screen first you're going to have your
component what this is going to be is an
interface that's going to be inherited
by the composite and what the composite
is going to hold in this situation are
either going to be groups of songs or
individual songs and then you have your
individual songs which are going to be
called Leafs
difference between a composite is a
composite can contain once again songs
or groups of songs here's a song and
here's a group of song so a composite
can actually contain composites well a
song or leaf has no children objects at
all then what we're going to be doing
here is in this interface we're going to
define exactly what we have here meaning
we're going to be able to define song
names band names and then display that
information that's going to be inherited
by the group here or the composite and
each group is going to have a name and a
description and it's going to be full of
in this situation an ArrayList of songs
that we're going to call song components
it's also going to be able to display
information in regards to both the song
group as well as the individual songs
then you're gonna have your songs you're
going to solve named band name you're
going to be able to exactly get ahold of
those and also once again display all
those look at this in a more logical way
here is a song grew
which can either be made up of just
songs or a song group that contains
other song groups including songs or
just songs just like you have right here
so that's an overview of the composite
design pattern so let's get into the
code and make it a hundred percent
understandable so here we are in Eclipse
and the first thing we're going to do is
we're going to create song component
Java this is the component using the
jargon and what we're going to do is
create an abstract class and of course
we're going to call it song component
and then we're going to define
everything that we could ever use inside
of this of course well abstract right
alright so we're going to just jump
right in and we're going to define some
things here that I'm actually not going
to use inside the tutorial just to give
you an overview of the types of things
you can do so let's say we wanted to be
able to add song components we're just
going to go new song component and then
quite simply what we're going to do here
is we're going to throw an exception
unsupported operation exception which is
a very common exception that you haven't
seen until this point basically what
this guy is saying here is that we're
going to throw the unsupported operation
exception if it doesn't make sense for a
song or song group to inherit a method
and in those situations in which it
doesn't make sense they're just going to
inherit the default implementation you
don't need to worry too much about what
that means we're going to get more into
that at a later date then another thing
we're going to have to do is if we can
add components we may also need to
remove components basically what we're
doing here is just defining all the
different types of methods that we may
need in the future and I'm going to
throw a void inside of there and void
inside of here as well another thing you
might want to do here is get a component
and a component like I said for is going
to be groups of songs as well as
individual songs which we're going to
define here in a second it's on
component we might also want to be able
to get our components and you could say
something like component index let's
actually spell that out and then
something we are going to use is get
name and this is good of course going to
be a string
we're not going to require any
attributes be sent to it and then get
banned name since we're going to be
playing around with song names and band
names and we could also like we did in
the previous part of this tutorial
return the release year or this song
basically what we're doing is kind of
like we did with the iterator design
pattern we're going to be creating tools
for a disc jockey to be able to pull
information out in regards to songs and
then this final one here is very
important because this is going to be
used to display song information as well
as groups of song information and we're
also going to throw that exception right
there basically just defining all the
things that might be used in everything
that is going to extend this abstract
class so now let's jump over into some
group Java and start defining some
groupings where we're going to be saving
this information and I'm going to be
using an array list because I said
before all these songs are going to be
stored in an array list and I'm going to
cycle through songs using the iterator
that we talked about in the last part of
this tutorial and then we're going to go
public class song group extends song
component which we just created a second
ago and then we're going to create our
array list which is going to contain any
songs or song groups they're going to be
added to any of the other songs or song
groups and I'm going to call this song
components is equal to new ArrayList and
all of this code can be had underneath
of this video click on the link and you
can get it and it's heavily commented to
help you understand everything so we're
going to have group name and another
thing is going to be group description
because what I'm basically going to do
is put some different forms of music
provide a description of those different
forms of music like heavy metal and then
a description a heavy metal and then I'm
going to have a whole bunch of songs
that are heavy metal songs inside of it
so this is sort of using the composite
pattern to describe data but you could
use it to describe pretty much anything
and it's going to be passed a group name
and a group description and that's it
I'm going to change this to new group
description then I'm just going to be
able to go group name is equal to new
group
and group description is equal to new
group description okay so that's just
going to set up those defaults pretty
simple stuff then we need to provide
access to the group name and a group
description and it's just going to be a
git group name real simple I'm going to
keep this all on one line right like
that and then I'm going to copy this and
provide an easy way to get group
description like that and this is going
to be a group description so very simple
stuff so far like I said this isn't a
very complicated pattern to understand
then we're going to need a way for them
to be able to add either groups of songs
or individual songs to this so we're
going to add the individual song
components and then to actually add them
I'm going to go song components and add
them to that array list that we created
above like that pretty simple and even
though I'm not going to get into it in
this part of the tutorial I'm going to
allow you to remove individual song
components real simple just go remove
instead of add pretty simple these are
just going to make changes to our
ArrayList and then of course we're going
to provide song component the option to
get song components and that's going to
be int component index in the array
we're going to have to cast this to be a
song component like that song components
which is just my ArrayList again and I'm
going to get the right one by passing at
the index so there we are pretty simple
stuff and then this is slightly
complicated but not really
we're gonna go display song info just
like we created previously in the
interface that we extended here and I'm
going to go system.out.print line say
get group name put a space inside of
there
like I said group name is going to be
something like heavy metal and
afterwards we're going to list a whole
bunch of heavy metal bands but first
we're going to provide a description of
what heavy metal is and then throw a new
line in there alright so if I'm going to
be able to or if I plan on printing on a
list of songs well how do I do that I'm
going to use the iterator trick that we
did with previous iterator design
pattern tutorial and since everything's
a component or a song component
be very easy for me to change everything
in twin iterator there you are just
changed everything into an iterator
and now that I have that iterator
created it's going to allow me to
iterate through all of the songs and
song groupings that are inside of each
song group song iterator.call has next
like that I'm going to go to song
component song info we're going to do a
cast just like we did up here and a cast
what's in the ArrayList and Whiston song
component and when you go to song
iterator and ask for the next one in
there and then we're going to go song
info and call display song info so that
it displays the information on the
individual song and now that we did all
that for all those songs what we need to
do now is go and actually create song
Java which is right here this is just
going to be information in regards to
the individual songs so I'm going to
class song I'm going to also extend song
component so that I'll be able to treat
the songs and song groupings the same to
take advantage of polymorphism then we
go band name and int release ear like
that and then what we need to do go to
public allow them to provide us
information on the song so they're going
to pass us new song name the new song
they want to add to our little tool
we're creating here and then we got a
new band name and then they're also
going to give us your release all of
that information is going to be passed
in and we're going to use that
information to create a new song object
so just go song song name new song name
band name new band name release your new
release year there you are now you can
create song objects so get like that and
put a D there now we're ready to go and
we're very close to being done we're
going to go public string get song name
and now we're going to be able to return
our song name of course and then we're
also going to have to provide access to
band name and release year and of course
make that an integer alright pretty
simple now all we need to do is provide
the ability to print out all of that
song information that we just got and
what are we going to do we're going to
go public void just like we did with
song component
it right here display song info I might
as well just copy this guy jump back
over into song Java public void doink
there it is
system.out.print line it's all name was
recorded by and then get bad name and
then we'll say something like in get
release here so that's going to print
out all the information that we need in
regards to our individual songs so let's
save it and now we can go back into our
disc jockey
let's save song group we're done with
that so disc jockey Java you saw it in
last tutorial we're going to make it
much easier to use this time we're gonna
go public class disc jockey this guy is
going to feed up the songs and the
groups of songs we're going to create
song component song list and then flick
disc jockey and it's going to be passed
a song song component new song list and
then it's just simply going to go okay
well my song list needs to be equal to
the new song list it's just been bass to
it piece cake did that then we need to
create another guy inside of here that's
going to call all of the methods that
are going to allow us to print out
information in regards to the songs and
song groupings so when you go to song
list display song info which you've seen
in every single object that extends song
component dot java
right up there so save that and now we
need to go into song list generator da
Java and make everything work which is
going to be really cold so let's go
public class song list generator public
static void main now inside of this song
component the first thing I'm going to
do is create a song grouping so I'm
going to go industrial music is going to
be the name of it you think it's like a
folder that's going to contain a whole
bunch of industrial bands and in fact
it's also going to contain another song
grouping and then there's going to be a
description inside of there which I'm
going to leave out for a second because
I'm going to copy and paste that save
myself in typing something ridiculous it
doesn't really matter and then the next
one I'm going to create here is heavy
metal music and this is just going to be
heavy metal and then what seems to be
very popular now dubstep don't murder me
on this I'm going to consider
dubstep a version of industrial music so
dubstep is actually going to be inside
of a song group that is inside of the
song group called industrial music or
the folder every time I say song group
you can just think folder whatever you
want to thank jargon wise that is
definitely wrong but what are you going
to do I'm going to copy and paste all
this additional information in here okay
so there's industrial music heavy metal
music and dubstep with a description for
each one of those then I need to create
a top level component that's going to
hold every single song group and every
single individual song every song this
is all I'm doing here see this is the
song group that's what I'm creating
right now there's individual songs this
is the song group these are going to be
industrial and heavy metal and dubstep
and all that then it's going to be in
the situation with industrial music this
song group is going to be dubstep and
it's going to have songs inside of it so
that's what's going on here I'm making
right now in code what you see on the
screen okay so here's every song which
is the master song grouping so to do
that we go new song group say it's the
same and I'm gonna call that song list
because every song group needs a title
and it also needs a description because
we said it did that's going to hold
everything then I'm gonna go every song
and I'm going to add my groupings inside
of it so what's one of the groupings
that we said we're going to have inside
of it well industrial music's going to
be one of them and there you are I just
added industrial music which is a folder
inside of the master folder and now if I
want to add an individual song into
industrial music I just need to go
industrial music add new song and then
make a title for a song and a band name
and the year the song was released and
there you are all set and then there's
another band that's considered an
industrial band and then what do I need
to do if I want to add an additional
song grouping inside of industrial music
I just go industrial music add like that
and then let's say I want to put dubstep
inside of it there you are now I can put
songs inside of the dubstep music music
grouping or song group which is exactly
what I just did there and then of course
if I just wanted to have a song grouping
that is going to have songs in it
all that's very simple let's do that
with heavy metal base that there so
instead we're gonna say heavy metal
music and then on top of that there's
two heavy metal songs and now I'm gonna
call my disc jockey class that I created
I'm going to name my disc jockey crazy
Larry new disc jockey and I'm gonna pass
him every song which is of type song
component which everything is song Java
and song group are both song components
and as you see here with this jockey
here it is new song list and that is
going to allow me to iterate through and
print out all that information makes for
some really tight code and then the
pronet I just go crazy Larry get song
lists like that and like that
and if we file save it and execute you
can see it's cycled through it print it
out first song lists every song
available industrial along with a
definition for industrial music to
industrial bands dubstep with a
definition to dubstep bands heavy metal
with too heavy metal bands so there's
the composite design pattern if you
didn't quite get everything get the code
underneath the video look at the
comments inside of it and you'll
definitely get it leave any questions or
comments below otherwise till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>