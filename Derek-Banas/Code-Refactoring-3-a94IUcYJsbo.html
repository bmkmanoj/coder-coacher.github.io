<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Code Refactoring 3 | Coder Coacher - Coaching Coders</title><meta content="Code Refactoring 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Code Refactoring 3</b></h2><h5 class="post__date">2013-01-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/a94IUcYJsbo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello internet and welcome to part three
of my code refactoring tutorial today
I'm going to talk about using variables
to write understandable code and this is
still on the basic end of code
refactoring but there's a lot of points
inside of here that are going to help
you make your code much more
understandable and more streamlined so
let's get into it okay so what I did
here was I created two classes and one
of them is called product and the other
one is called store I listened to you
guys and you told me to stop talking
about football because you don't know
what I'm talking about because you don't
live in the United States so no more
football talk I'm gonna stick to more
understandable things so here I get a
class with product and it has a name and
it has a price and it has a shipping
cost and it has a quantity and here are
just my getters for all those different
things and then I have my product
constructor right here and then we get
down into the part of the code that
we're going to want to make some changes
to to make it a little bit more
understandable this isn't that
complicated basically what I'm just
saying here is if they buy more than 50
products or they buy more than five
hundred dollars worth of products then
I'm going to give them a discount of a
certain level and then if they buy more
than twenty five I'm going to give them
another discount and if they buy more
than ten I'm going to give them another
discount but let's see if we can make
this a little bit more understandable by
using what is known as an explaining
variable and just to see what this guy
does before we start making any changes
I'm going to jump over into store and
you can also see there's all kinds of
other complicated stuff here we're going
to fix and I'm going to run this guy
it's pretty simple all that it's doing
is it's going to print out on the screen
the total cost for 52 pizzas which is
521 dollars the cost per product savings
per product based off of quantity and
that's all it's going to do and it's
just going to change and I have three
different quantities of pizzas it's
going to print out all kinds of
information on savings so again remember
I want the same output
I just want neater code so jump back
over into product
and first thing I'm going to do is I'm
going to mark this off as bad code so
there that goes now that's a way now
what are some things I can do here
well like I mentioned before I'm going
to use what are called explaining
variables and all they're used for is
whenever you have expressions that are
really complicated instead what you're
going to do is make those expressions
make
a lot more sense by saving these
conditionals or different expressions or
what have you into a variable that you
can then refer to now I'm going to mark
this as final and boolean and I'm going
to define one that is going to be over
50 products see that's very
understandable and then simply what I'm
going to do here is copy this guy right
here this conditional and paste it
inside of there and now I'm going to use
that conditional and now a much easier
to understand name over 50 products and
then I'm going to do the exact same
thing for a couple other conditionals
and if you're wondering why final is
used it's basically going to be used to
make sure that the temporary variables
that I create here only have one value
per iteration because it's considered
bad practice to assign different values
to temporary variables which is what
these are that can lead to a lot of
confusion which I'm going to get into
here in a second so then let's create
this guy and he's going to be over 25
products and I'm just going to simply
come in here and copy this guy as well
and paste this in here and then this guy
is going to be over 10 products and I'm
just going to come down here and I'm
going to copy this out of here and this
is basically just nonsense code but I'm
just trying to make a point on how to
use temporary variables to make things
more understandable now since I went and
moved those conditionals up inside of
here and save them to these temporary
variables I'm now going to be able to
replace them so just come in here and
bounce right there and now you can see
it makes a lot more sense if over 50
products they get a quantity discount of
this amount if over 25 products they get
a quantity discount of this amount and
then finally if over 10 products they
get a quantity discount of this amount
so I went and chopped it down it doesn't
look like much but it made this much
more understandable and also you can see
if I take out those comments and I jump
over into store and execute it I'm still
going to get the exact same answer that
I got before which is great that's the
goal make the code more understandable
but of course you still have to code to
work in exactly the same way and all the
codes available in a link underneath the
video if you want to take a look at it
now I'm going to jump over into store
Java and let's look at a whole bunch
different things so here this is just
the store and it's going to have a bunch
of different products saved into it a
way to save those products and then we
get down to here where we're calculating
the cost of the products and we're just
doing that by iterating through the
ArrayList and then printing out that
information as you can see it is getting
very very very long and complicated so
we want to shorten that up make it a lot
more understandable now of course you're
also going to be able to use explaining
variables for really complicated
calculations now very often like in the
last tutorial where I mentioned that
it's much better if possible to extract
this code and throw it into a method
sometimes that is not an option and in
those situations and explaining variable
can really make your code make a lot
more sense so I'm just going to mark
this as bad code again I'm going to
comment this out and then we're going to
think about how we can create some
temporary variables that are going to
save this information and make it much
more understandable a very often making
these calls to methods can get kind of
busy and a little bit hard to understand
so why not throw that information into a
variable so we can say something like
number of products which makes a lot
more sense and then come down here and
grab this guy and throw it inside of
there we could also do the same thing
for the product names product name and
come down here product get name throw
down that method call and also we're
going to do the same thing with the cost
except in this situation I'm just going
to call it cost and bounce over here
call that method and save it inside of
there with a variable then I'm going to
start doing this with a bunch of other
different things so let's say we wanted
to get the cost with discount cost per
product and this guy here is going to
have that value so we're going to pop
that inside of there and then let's also
say that we want to get the cost without
a discount and this guy is going to be
product get price plus product get
shipping cost now that I have all those
broken into variables I can make this
code a lot shorter and more
understandable so whenever I come in
here for total cost for product get
quantity I can just put in number of
products paste that in their product get
name I can just go in here and instead
put in product name
turns it up and then cost instead of
putting product get total cost I get him
down here and paste that in there
now that's shorten it up a little bit
but it made it a lot easier to read see
instead of all those method calls it now
says total cost for number of products
product name is cost say you can read
that just like it's a sentence much
better then we can say cost per product
so I want to say this is the cost per
product with the discount I could just
bounce up here and go cost with discount
and paste that in there because
previously what was listed there didn't
in no way tell me that I was going to be
getting the cost with discount by
reading this product get total cost
divided by product get quantity this
does not tell me that a discount is
being used even though I know it is
being used this new variable name tells
me this is the cost with the discount so
and on top of that cost per product and
cost with discount this is telling me it
reads like a sentence and on top of that
it's telling me exactly what cost I'm
going to be printing out so it's good
into multiple different ways then we get
down to savings per product and we have
this terribly terribly long thing that
is kind of convoluted in order to read
well now it's going to be much easier to
use because I'm going to come in here
and I'm going to go cost with discount
because remember we want to figure out
savings per product so how are we going
to figure that out well we need cost
without discount which is right there
we're going to come in here was just to
leet this whole entire thing right up to
this point savings per product is going
to be equal to cost without discount
minus cost with discount see makes a
heck of a lot more sense and we pasted
that in there and not only did we make
it shorter which is always good but also
we made it much more understandable
being savings per product is equal to
cost without discount minus cost with
discount of course it's just common
sense and that is the goal of writing
code is to make it make more sense and
using these explaining variables like we
have up here with very descriptive names
is one way to do that another example of
bad code and here I'm just going to
bounce out here at the bottom and just
type some stuff in is based off of why
it's bad to assign many different values
to a temporary value so I'm going to
actually just show it to you so let's
say we
have some code here and we just have
temp inside here and I see this stuff
all the time so we have total cost
divided by a number of products for
example so that's fine okay so we have
this temporary value here and we know
that it is total cost divided by number
of products so what is this going to
basically be telling us it's telling us
the temp is going to be equal to
individual product cost okay so that's
what it says so let's continue on let's
then say we go temp now is equal just
because we're being lazy temp is equal
to also the shipping alright so now what
does temp meaning this guy right here
what's that equal to well that's going
to be equal to the individual product
cost plus shipping all right it's still
kind of understandable but really not
well then let's say we want to figure
out well what is going to be the cost
after the discount yes indeed we can do
this and indeed at this point in time we
do know that this value of temp at this
point in time is going to be equal to
individual product cost plus shipping
- discount but the question is will you
be able to remember this say a year from
now or six months from now or even two
weeks from now chances are it's going to
be confusing and this is why we do not
assign multiple different values to a
temporary variable we always want these
names to be very descriptive and really
does it take any more time all we're
going to have to do is instead give in
here and go individual product cost and
then down here we can just go individual
product cost plus shipping here we could
go product cost and shipping and if you
wanted to abbreviate it change it down
to that and then we could put discounted
product pause longer variable name but
definitely six months from now you're
going to be able to read this and
understand what's going on so that's one
of the reasons why you do not want to
assign multiple different values to
temporary variables another thing you
don't want to do is assign values to
parameters that are passed over into
methods so here's an example of that so
let's just go public double and let's
say this is get total price and what's
passed into it let's say a quantity a
price shipping cost and a discount boy
this is long but
either way now let's say that we like
the whole idea since get total price is
what we're ultimately trying to get here
and prices in here why not use that as a
convenience to create our little
algorithm so in essence we could go
price is equal to price plus shipping
cost and then say price is equal to
price times quantity and then return
price minus discount it might look
convenient but right again what you have
to worry about is is this going to be
understandable three to six months from
now and of course it would be much
better to go through the process that I
showed before and provide all of these
different variables or temporary
variables with very descriptive names so
this is just sort of the basic sort of
things we need to think about because
when we start refractory into patterns
things are going to get much more
complicated and we're going to start
doing that very very soon
so I just wanted to get a couple of
these basic ideas into your head and
upcoming tutorials we start refactoring
into patterns design patterns I mean
you'll be very happy that you don't make
mistakes like this please leave any
questions or comments below otherwise
till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>