<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Iterator Design Pattern | Coder Coacher - Coaching Coders</title><meta content="Iterator Design Pattern - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Iterator Design Pattern</b></h2><h5 class="post__date">2012-10-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VKIzUuMdmag" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
17 of my design patterns video tutorial
today we're going to talk about the
iterator design pattern so what exactly
is the iterator design pattern well this
pattern is going to provide you with a
uniform way to access different types of
collections of objects so for example if
you get an array an ArrayList and a hash
table that are all full of the same type
of objects you could pop out an iterator
for each and treat them the same what
this does for you is provides a uniform
way to cycle through all of these
different types of collections and on
top of that you're also going to be able
to write Paul morphic code because you
can refer to each collection of objects
in the same way because they are going
to implement the same interface now if
that sounds confusing don't worry about
it I think this is 100% understandable
if you just watch an example so what I'm
going to do is just jump directly right
into the code okay so here we are so in
this situation I'm going to use a kind
of real world example let's say you
wanted to get information from the top
70s the top 80s and the top 90's disk
jockeys people that play music on radio
and as a programmer what you tell them
is we want them to provide you with an
object and each one of those objects is
going to be based off of song info which
means they're going to give you a song
named as band name and the year that it
was released on top of that now that
they know this is the object they have
to use you tell them that they all must
use a function named add song for adding
both the song the band and the release
and on top of that they have to use a
function called get best songs that will
return the collection of songs the one
thing you forgot to tell them is to use
the same collection so in this situation
the DJ from the 70s is going to send you
an array list from the 80s it's going to
send you an array of these objects and
then the guy from the 90s is going to
send you a hash table now what you can
do of course is say no wait a minute I
forgot to tell you by one all of these
to be of the same type but being a
programmer you're just going to make
things work so here we go here is the
song info class and all the code is
available underneath the video and if
you want a 100% understand this stuff
you should go get it so let's just jump
right into it first
we're going to do here is go to songs of
the 70s and we're going to look at the
type of information that we could be
expecting from somebody like this
alright so they're gonna send us
java.util and this guy's gonna send us
an ArrayList so we're gonna need that
and a little bit later on we're gonna
need the iterator library so we might as
well just put it in here right now so
there we are
okay and then we're going to create our
class so this is going to be public
class songs of the 70s then we're just
going to come in here and create an
ArrayList and it's going to contain song
info objects just like we told them and
it's going to be called best songs of
course make that capital alright now
that we have that we're going to create
a constructor for this guy songs of the
seventies this anyway do you have best
songs and what I'm going to do the first
time is show you the problem and show
you how to force it to work in the wrong
way or in a bad way actually in a very
obvious way and then I'm going to show
you how to use the iterator design
pattern to do it any much neater way so
we told them add song needed to be used
and these songs are just purely copied
so doesn't have anything to do with my
musical tastes it's just what popped up
on a website so don't attack me if you
don't like these songs I'm gonna have
the add song method which I'm going to
create here in a second and then we're
going to add another song and a final
song so there you go we're creating the
ArrayList and we're adding the song
information to this guy inside of the
constructor so what do we have to do now
and this is what you're going to be
receiving so we'll go public and you're
going to be forced to work with it in a
good way so we need to actually come in
here and allow them to call the add song
method song name string their name int
you're released so there's all that
information it's going to be sent to
this guy and then we're going to have to
come in here and go song info' is going
to be equal to new song info' so name is
going to be passed band name and you're
released so that's going to create our
song info object and then to the
ArrayList we're going to call add song
info' so each time
this is called up here add song then
this is going to be called down here and
then put into there then we're going to
do this in kind of the wrong way like I
said I'm going to show you how to do it
in the obvious way and I'm going to show
you how to do it in a less obvious but a
much nicer way so this is gonna return
an ArrayList of type song info' and best
songs is going to return the ArrayList
so just return best songs and that's all
we need to do so it's not messy by any
means it's actually good code but we
have to figure out how to use it for our
own situation so I'm just gonna copy
that and then I'm going to go into songs
of the 80s bounce in here paste that in
there and then we're just going to need
to change this to the 80s in this to the
80s and then this guy's gonna send us an
array list or an array that's gonna have
song info items inside of it I'm gonna
leave all the rest of that the same and
then this guy right here is going to
need to be changed into a song info
array and I'm going to call it best
songs as well and then I'm going to put
an integer inside of here that's going
to allow us a increment to the next
position in our array so I'm just going
to give that a value of zero in the
beginning best songs right here I'm just
going to get rid of this part and go
song info' and say this needs to be
three in length and then all of this is
going to main remain pretty much the
same I'm just going to change the band
names here real quick and there we go
now we got some new band names inside of
there and then I need to add the song
info objects to an array and then
increment to the next position so this
guy right here is going to remain
exactly the same but this guy here is
not we're going to instead go best
psalms and then go array value same
that's what we're doing there in regards
to incrementing that and then we're
going to add a song object to that and
then go right out value write that and
increment it so that's pretty cool and
then down here of course now we're going
to be returning an array full of song
info objects so we just need to change
that and everything else is fine so we
don't need to change anything else and
we can just come in here and copy that
and now we're going to go into songs to
the 90s paste that inside of there and
it's for songs of the 90s this guy's
going to be sending me a hash table so
we need to get the hash table
library there I'll leave everything else
the same come in here these guys are
going to change because we're going to
be holding a hash table that's going to
have an integer object inside of there
as the key and then song info as the
actual value and I'm going to call it
best songs just like before is equal to
new and then it's going to be hash table
exactly the same here is we have on the
left side except we're going to go like
this and like that so that's going to
create our hash table for us and then
we're also going to increment the hash
key here and I'm going to give it an
initial value of zero so we're going to
increment it in much the same way that
we were incrementing the array and then
of course we need to change this to
songs of the 90s and song of the 90's
just like that we're not going to need
to initialize anything because we
already did that
so that's good and then I'm just going
to throw in some more songs and there we
are there's three additional songs and
then down inside of here we're going to
get rid of this guy right here and we're
going to type in actually I just need to
knock off the end I'm going to call put
which is going to ask for a hash key and
then it's going to ask for the object
that's going to go inside of there get
rid of that and then I just need to
increment my hash key and then of course
down here we're going to be returning
this hash key right here so I'm just
going to copy it and there you are and
we're gonna save it so now we got songs
of the 70s 80s and 90s so let's go and
let's actually take a look at exactly
how these going to work I'm going to do
that in a class called disc jockey got
Java it's gonna handle putting all this
stuff together so I'm going to need to
get a whole bunch of different libraries
in here so array list and enumeration
and hash table of course the code I'm
going to show you here in a second it
definitely works it's just not neat and
it's obviously not using the iterator
design pattern and then public class
disk jockey and then it's going to go
songs of the 70s and I'm just going to
call this songs 70s then I have to do
the exactly the same thing for our other
two classes which is the only things
different here is the 80s and 90s and
then I'm going to go public
disc jockey create this constructor here
and then it's going to get past all of
these values
bouncing their paste that in there
change that to that change that to that
and then I'm just going to call this new
which doesn't matter I just like to do
it that way there we are and then of
course take that there and this is going
to be really simple we're just gonna go
songs of the 70s 80s and 90s based that
in there and then we're just gonna go
equals like that actually makes it a lot
simpler just to copy that paste that
three times and then change this to 80s
and 90s so we're just assigning those
objects that are being passed over into
our own special place inside of our
class so I guess to a certain extent
this is kind of a review of using
collections so now we need to implement
a method public void show the songs and
I'm going to show you how you would
iterate through all these different
types of classes if you didn't know
about the iterator design pattern
because all of the song info objects are
going to be stored in different
collections everything of course needs
to be handled on an individual basis
which is terrible but that's what's
going to happen so I'm just going to
call this al seventies songs that's an
ArrayList songs 70s dot and then I'm
just going to call get best songs okay
so we got our ArrayList with all our
songs in it then I'm going to go
system.out.print line I'm going to say
songs of the 70s and then throw a new
line in there on top of that just with a
covet and then what do I need to do well
I'm going to create a for loop here is
equal to zero
well I is less than I'm gonna get this
array list that we just saved everything
to and call size on this since it's an
ArrayList we need to get the length of
the total number of objects in the array
list like that then we're going to cycle
through all these and the first thing
we're going to do is go song info' best
songs and then we're going to song list
we need to cast this to a song list
object rayless 70s songs get and then we
have to tell it what index to get which
is that's the reason why we have the for
loop whoops this is actually song info'
remember we're using this song info'
class that we looked at earlier this guy
alright so now that we have that we're
just gonna have to print out the name of
the song and the name of the band and
all this other different stuff so we
just need to go best songs
and go get song name it just saved over
in that class and then we're just going
to copy this and then instead of get
song name we're gonna go get band name
and then here get release year so there
we go
so pretty easy giving me a little bit of
error let's see why
get your released okay so let's just go
your release and jump back over into
disk jockey and type in your release and
there we are so there we go
this is going to work perfectly fine for
our ArrayList that is full of song info
objects so now we also this is the pain
in the butt part so you're not never
going to do this after this tutorial now
we need to do a similar thing except
this time we're going to do it with an
array this is no longer an ArrayList
it's going to be a song info' like that
and we're just going to call this array
eighty songs change this to 80s get best
songs all that's going to work still
change this to 80s and then this guy
we're going to be going through an array
now so paste that in there and then this
time we're going to call length because
that's what you do with array and then
down here we're gonna leave this song
info' best songs except this is going to
be this guy right here so let's just
copy that paste that there and then this
is going to be I so good all that and
then everything else needs to say it
exactly the same so in general it's good
code it's just you know this is too much
so then we got to do the same exact
thing for hash tables and we show so
paste that in there I'm going to see how
to cycle through hash tables with
objects in them so what are we going to
do we're going to need to first off
we're going to jump over to songs of the
90s we're going to copy this because I
don't feel like typing all that out
again and then jump back over into disc
jockey and then this is going to be that
very specific type of hash table and
then here we're going to call this HT 90
songs and everything else is going to be
the same on that line same good code
just messy this is going to be changed
to songs of the 90s and then the for
loop down here instead of using this
stuff we're going to use an enumeration
that's going to hold our keys for us so
remember we were using integers and just
call this e is equal to HT nineties
songs and then we're going to go key
so while I have more elements in this
hash table I want to continue this
looping so that's all that's going on
there this is going to stay the same
except and we're going to go ht9 to
Psalms paste this in there and then
we're going to go called git and then e
we have to give it our key which next
element is going to have the value for
our key and then everything else can be
exactly the same so there we go it's
kind of long-winded but it's still good
code so you know you can't really
complain
so now let's file save that and I'll
show you how all this is going to work
I'm going to go into radio station Java
and this is going to work very easily
we're going to go public class radio
station and then we're going to go
public static void main string there's
that args and then I'm going to go songs
of the 70's songs 70s is equal to new
songs of the 70s so we're going to
create this object here right like that
so very simple still pretty neat and
then we're going to do exactly the same
thing for songs of the 80s as well as
the 90s and there and there there we are
and now if we want to call these we're
gonna go disc jockey and we're gonna say
our disc jockey has the name Mad Mike
we've got a new disc jockey and we're
gonna send them over songs of the 70s
for him to play songs and this is going
to be 80s and then this is going to be
90s so pretty simple and then to get Mad
Mike to play these guys we're going to
go mad Mike show the songs and if we did
everything right and we run this it
shall work and there you can see it did
see it prints out songs of the 70s and
then you get imagine John Lennon
American Pie blah blah blah blah blah
blah blah songs of the eighties and room
and all these other different things and
songs of the 90s so hey it works so why
complain about it well the reason why is
it's possible to make it work that much
better it's really the difference
between being a great programmer and an
OK programmer and how we're gonna make
this work beautifully is we're going to
create ourselves a new interface and
it's gonna be called song iterator dot
Java this is going to allow me to refer
to everything as a song iterator every
single one of
these previous classes that we created
will now be referred to as one so the
first thing we need to do of course is
import our Java iterator library and
then we're going to go public interface
song iterator and then we're going to go
public iterator this is going to be the
class that has to be created and it's
going to be called create iterator a
much work to put into creating something
that's going to make everything really
really cool so let's file save that and
then make all this work we're gonna jump
into songs of the 70s Java and we just
need to go implements song iterator
right like that and then it's going to
give us an error message songs of the
70s is going to say hey you need to
bring in some unimplemented methods and
we shall click on that then we need to
scroll down right here and we need to
just pop out an iterator that's going to
make it easier to use this guy and
before we do that we can come in here
and say hey we don't need this anymore
which is a mess we don't want them to
send back an array list because that's
not neat and that's not good code and so
there that's gone and then come in here
to public iterator and then what it's
going to do is return an iterator here
it's going to allow us to easily bounce
through everything we got here and we're
gonna get returned best songs and what's
best songs best songs you see it
everywhere this is the ArrayList say
best songs this is the ArrayList and
then all we need to do is instead of
bouncing back E and ArrayList we need to
bounce back an iterator and you do that
just by doing that and there we are yeah
we did a lot okay pretty cool now we
need to do the same thing with songs of
the 80s Java so we're going to come in
here and go implements song iterator see
another thing that's great about this is
we're not changing that much code always
a good thing come in here at
unimplemented methods bounced down to
the bottom of the screen come in here
remember we're we're sending back an
array well we don't want to do that
today we want to send an iterator and
there we are so got rid of that get rid
of this if you want and down here
instead of sending back an array like we
were doing before we're instead going to
send back an iterator of course and to
do that we go raise as list and then
send it best songs which is the name of
our array inside of here
and then call it iterator like that and
there we are now it's an iterator now at
least it's sending back into writer so
let's save that now let's go fix songs
of the 90s see how easy this is and then
what are we going to do we're going to
go implements song iterator like that
file save it and it's going to say hey
you need to implement some stuff no
problem go implement that scroll down ok
we don't want to return a hash table
anymore because that's not good and
let's get rid of that of course you
delete it normally and then down here
now we need to send back an iterator for
the hash table instead of a hash table
and to do that we're just going to come
in here and go best songs which is the
name of my hash table type in values
like that dot iterator I'll say if there
you are done somehow what's left to do
since that was so simple well of course
we need to go into disc jockey Java and
save or change everything we got here so
now instead of passing this stuff here
we're going to create song iterator C
we're gonna refer to everything that
implements the song iterator interface
as a song interface C we were able to
refer to everything as if it's the same
thing always a good thing so we're going
to refer to it as a song iterator and
I'm just going to call this inter 70s
songs okay got that set up copy and then
here we're going to go 80s and we're
gonna go 90 C we can refer to everything
now as a iterator which is always great
and then we need to get rid of this guy
altogether so let's just delete it the
disc jockey we're better yet let's just
change this from songs of the 70s to
song iterator
so copy song iterator like that and this
is going to be song iterator and this is
going to be song iterator there that
goes you know leave everything else have
the same name then song 70s is going to
be new song 70s and then we're going to
need to change song 70s to it er 70s
right there so this is an interface and
then this is going to be the interface
that's going to represent the 80s and
this is going to be the interface that
represents the 90s so there we are now
we got that set and then I'm just gonna
skip this whole thing show the songs so
let's just leave that there in the code
so that you can look at it later
see the way not to do this and now what
I'm going to do is treat everything as
an iterator so we're going to go public
Lloyd and I'm going to call this show
the songs too just for brevity and then
I'm going to go iterator Psalms 70s is
equal to iterator 70s songs and call
create iterator like that
pretty simple copy that now we need to
do the same thing for the 80s and the
90s 80s 90s there we are done so now we
have those all set up and what's how
easy it is to now print everything out
properly print line I'm going to go to
songs over the 70s throw in a new line
and then to prune I'll print the songs
which I'm going to create here and a
half a second songs 70s right like this
change that to uppercase and actually
I'm going to do it right now
just so you can see it here all in one
screen we're going to go public void
print the songs and it's going to need
to get an iterator sent to it iterator
like that and then we're going to go
while see we're going to be able to
treat every one of these even though
they're different collection types as if
they're one so as long as we have more
elements in our iterator we're going to
print out information so look at this I
can just copy this copy now instead of
doing that three times I only have to do
it one time so like this and go song
info' and I'm just going to call this
song info' is equal to iterator next
like that it's kind of told me I need to
cast it which I'm just going to click on
it's a good cast it into a song info'
object and then down here I just need to
change these into song info
paste paste and paste so file save and
then we need to jump over into radio
station now that the disk jockey is
prepared and am I going to have to do a
whole bunch of changes here to make this
work even though it's so much cleaner
nope just that I just change that to
show the songs too and I'm going to
execute it and you can see it pops up
songs of the 70s and there is imagine
American Pie da da da da and you may say
well where is the rest of them well the
reason they're either not tarry is I
don't know if you remember but I didn't
create them so if I want to print out
the 80s and 90s
no problem let's go like this change
that to 80s change that to 90s
change that to 80s change that to 90s
I'll say don't need to change this at
all now jump back over into radio
station dot Java and there you say print
out all of those they're saving songs of
the 70s songs of the 80s and songs of
the 90s so there you go that is how to
use the iterator design pattern it's a
little bit to wrap your head around but
remember if our ultimate goal is to be a
great programmer rather than an okay
programmer
study this stuff and understand it and
you'll get there leave any questions or
comments below otherwise till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>