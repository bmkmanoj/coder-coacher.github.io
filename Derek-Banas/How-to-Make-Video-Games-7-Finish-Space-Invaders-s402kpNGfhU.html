<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Make Video Games 7 : Finish Space Invaders | Coder Coacher - Coaching Coders</title><meta content="How to Make Video Games 7 : Finish Space Invaders - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Make Video Games 7 : Finish Space Invaders</b></h2><h5 class="post__date">2017-06-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/s402kpNGfhU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
7 of my how to make videogames tutorial
series and this part of the tutorial we
are going to create our alien and
completely finish space invaders so it
should be a ton of fun like always all
of the images and sounds and code and
everything is available in a link
underneath the video in the description
and I have a lot to do so let's get into
it
alright so here we are let's go and
check out our game then do that in last
part so let's go and play it and see
what we got
alright so here we go and we can move
around we can shoot our shield and we
can shoot our aliens and they make
little explosions and everything looks
pretty cool and also our sounds are
coming in there if I shut up you'll be
able to hear explosion say there's no
one alright so we got our aliens
alright so that's good alright so what
we're going to do now is we are actually
going to create all the code to make our
aliens move and do a lot more so let's
come in here click on scripts and alien
man we have done nothing with this so
for so you got to think what sorts of
things of our aliens going to do well
our aliens are going to move so if they
move they're going to need a speed I am
going to bring the speed down a little
bit because I don't want them rushing
down at me so I'm going to try 10 see
what that looks like I'm going to be
moving things so what does that mean
that means I need to access the
rigidbody and there we go and there we
go alright so as you can see you're
doing the same sorts of things over and
over and over again it's just about
accessing things moving things and
collisions and things like that I'm also
going to want my alien album image
sprite to change every couple seconds so
that it looks like the aliens are moving
so that means I'm going to assign both a
starting image as well as a another an
alternative image and we created that
earlier alright so we have our our
starting image and also we're making
these public so we can drag and drop
them in to place so we will also have an
alternative image and we've already
created those of course what else are we
going to do well if I'm going to be
changing those images I can change them
at how I
previously used a sprite renderer by
grabbing the components but I am also
going to show you another way to grab
the sprite renderer so I don't need this
to be public so I'm not going to make it
public and we call this sprite renderer
renderer okay so there that is and what
else are we going to need well I'm going
to have a certain amount of time that I
want to define before my images change
and I may want to change that in the
code so you know if it doesn't look good
so I'm going to create another float
that is going to define the number of
seconds before I change change the image
and what I mean is this from starting
image to alternative image so I'll just
a matter of just breaking things down
into steps so seconds before sprite
change and I think to myself that half a
second probably going to feel good so
that's what I'm gonna put in there by
default um also I'm going to need a
reference to my bullets because my
aliens are going to be shooting bullets
so I'm going to come in here and I'm
going to do that game objects and alien
bullets so there we go
now I have that what else are we going
to need well I would like to stagger the
amount of time between the bullet firing
because I'm going to have a whole bunch
of aliens on the screen all firing
bullets I want to standardize that
otherwise we just have bullets flying
all over the place because they'll all
fire to the exact same time so I want to
define this is something I'm definitely
going to tweak so I'm going to define
the minimum fire rate time that sort of
sounds like that might be okay and I'm
going to right now I'm gonna say zero
sec or one second I don't know that
that's going to work though so I'm going
to say that the minimum amount of time
it's going to wait before firing is one
second and then I'm going to throw a
randomizer in there and change it I'm
also going to have a max fire rate time
and I'm going to have that be waiting of
three seconds and what else are we going
to do I should probably have a base fire
of time so we'll also come in there and
let's change this to mmm base fire I'm
going to come in
I want to change this to wait so the
base wait time and I'm going to change
this to 3 seconds alright so the alien
is going to be firing at different rates
and that's the reason why I have that
and what else do I need
well I need the exploded ship sprite so
whenever my alien shoots a ship and
explodes it and well we're going to have
that so exploded ship image ok and as
far as I know that's all I need at this
moment and this has to be public of
course because I'm going to drag and
drop it over inside of there so what am
I going to need to initialize inside of
here rigidbody always the rigidbody is
equal to get components and then this is
going to be rigidbody 2d obviously
because that's what it is and there that
goes all right what else do I need to
initialize for all of my aliens well I'm
going to want to define where the aliens
are going to do you know whenever they
come on the screen how they are going to
move up one thing just popped into my
head also what did I say anytime you
ever think of something always go and
verify that it is okay so I just thought
to myself hey did I set it up so that my
aliens are going to ignore my shields so
I just thought of that and there's no
point and put in an aside I'm going to
go and verify that so prefabs and I have
my aliens over here all of the different
aliens and look at that I don't have
tags on any of them so what I want to do
is I want to go and define tags on every
single one of these so I'm going to go
alien and then the layer is going to be
alien and I'm going to do this for each
one like I said and there's this alien
and if you can't see what I'm doing I'm
going like this I select the individual
aliens and alien and alien and I'm going
to do that for every single one of these
aliens I don't have to keep saying that
so you get bored okay so all the aliens
have been set for the tag of alien and
layer of alien and it's also verify
shield yes those are all sets and now
what I can do is come up here and go
edit and project settings
and physics 2d and let's come over here
and verify that the aliens are going to
ignore the shields so let's just come
down through here and where is the
shield at but where's our girl oh here
it is right here so there we are
check that off also that looks good all
right so now I'm going to jump back over
into the code yeah if you ever think of
something whenever you're writing code
don't you give write a note down but I
prefer to just go in and just solve the
problem right before it you know becomes
a bomb so rigid body and whenever the
aliens come on the screen I'm going to
define their velocity and you go new
vector2
and I want this to move to the right by
default so the right direction is x1 and
it's not going to go you know vertically
in any way and that's the way that you
move it to the right okay up look at
that change that the upper case Richard
body ok what else I'm going to need to
do well I'm going to need to access the
sprite renderer components to be able to
change that told you I was going to show
you the other way of using the sprite
renderer so to do that you just go get
component and sprite renderer and
parenthesis and semicolon okay so I'll
be able to change the images and then
what else do I want to do well I want to
go and call for the sprites to cycle so
I'm going to have to create a function
called change alien sprite that is going
to cycle between the starting image for
each alien as well as the alternative
and I'm also going to once is there to
be a time delay between those sprite
changes so I am going to in this
situation return an eye enumerator so
let's come down here and let's get rid
of update because it's just bugging me
alright so updates out of there ok so
I'm going to go public eye whoops a
numerator up the numerator and I'm going
to name this change alien sprite it's
not going to receive anything then we're
going to put inside here while true
because this is going to just cycle
between these images over and
and over again until the thing is
destroyed let's change this upper case
then what I must say is Alyssa if sprite
renderer sprite is equal to the starting
image well I want to switch to the
alternative image so I'm go right render
River and instance and sprite and change
it to all image and that's how easy it
is to change it to the alternative image
pretty easy also while I am in here I am
I might as well just play a sound you
know the the sound for the alien moving
so I'll just go and call that play one
shot and I'm going to call the sound
manager and instance and then finally
alien buzz one is what I call that
okay so I got that set else well in this
situation I know that I'm already have
it set for the alternative image so I'm
just going to copy this and I'm going to
paste it inside of there and I'm going
to change this to starting image it's
their starting image and change this to
alien buzz too then after all of that is
all set I am going to pause for the
number of seconds between sprite changes
which is something that I defined before
and how you do that is you go yield
return new and wait for seconds not for
not the number for the number of seconds
that I define right here seconds before
change and there we count alright so
that's all set now I can jump up and go
and call for this guy to run and that's
going to be right here because it's
going to continue to run over and over
again and call for it but how I'm going
to call for it is I'm going to call
start co-routine you know what let's
just get rid of that drifter cricketer
and then paste it inside of there and
there we go then the final thing I need
to initialize whenever I create an alien
is I want to define a random fire wait
time for my aliens so this is going to
be their very first time they shoot a
bullet is going to be randomized so I'm
going to name this base fire or weights
Plus and then I want it to be random so
I'm going to say random range and then
I'm going to have my minimum fire rate
time then I'm going to pass in there and
the max fire rate time so it's going to
be a random value between those two okay
and that's all I need to initialize
everything so now what else do I have to
do well whenever my aliens are on the
screen what they're going to do is go
from left to right hit the wall and then
they're going to turn around and go in
the opposite direction and then they're
also going to go downwards so what that
means is I am going to have to make all
that stuff work so I'm going to have a
couple different functions I'm going to
have a function that is going to turn in
opposite direction once they hit the
wall I'm also going to have another one
that is going to move down after hitting
wall and then of course I'm going to
have to have a function that goes and
handles you know those guys for us okay
so let's create our turn function first
so avoid turn and it's going to be sent
a direction so that I can keep the logic
out of the function saying what's going
to happen so I'm going to go sector 2
new velocity is going to be equal to a
rigid body velocity then I'm going to go
new velocity and X is going to be equal
to the speed times the direction it
wants me to go in and the directions
either going to be 1 which will be to
the right or negative 1 which will be to
the left and then I just need to change
the rigid bodies velocity so velocity
there it is is going to be equal to our
new velocity and there it is and that's
it that's how easy it's going to be to
turn our aliens when they hit the wall
and then I'm also going to want them to
move down a little bit each time so
let's just call this void move down it
sounds like a good name and it's not
going to need anything it's just going
to move down ok so what's going to
happen here I'm going to do the same
sort of thing I'm going to go vector to
position is going to be whatever the
current position for our alien is so we
got that guy and then I am going to go
and change my position downwards and how
you do that is just one like that take
one away from it and then set our
position back for our alien so transform
position is going to be equal to our new
position it's pretty simple and now I
need to call those guys depending upon
if I hit to the left or the right wall
well how am I going to do that I'm going
to use void on collision which is going
to be called every single time our alien
collides with anything so that's uh
there that guy is and this is going to
be collision 2d I'm going to call it co
L just for short I'm going to say if the
thing our alien collided with we get
that by going game object and name is
equal to left wall well in that
situation what I want to do is call turn
and I want it to move to the right so I
go one and there that does and then I
want to also call move down so that it
moves my alien downwards and I'm going
to do very very similar thing if it hits
the right wall so just go and copy that
and then I'll just change this to right
wall and then I'm going to be turning if
it hits the right while I want it to go
to the left so I'll put negative one
inside of there and that's all I need to
change for that and what else am I going
to need to worry about colliding with
for my alien well bullets okay so if a
spaceship bullet hits my alien what am I
going to do
well first off what I'm going to do is
I'm just going to paste that in there
I'm going to say if the thing that I
collided with has the name of bullet and
remember I'm thinking of something here
and I'm going to change this to tag
though well what am I thinking
do my bullets have the tag bullet let's
go check prefab bullet clicked on it and
yes it does see right there tagged
bullet all right so good stuff so back
inside of here again so I'm going to
check if the tag is equal to bullet what
do I want to do well I want to call for
my soundmanager
have an explosion occur so I'm going to
say play one shot and sounds manager and
instance and alien dies is the name of
that sound that I want to play and then
of course I want to destroy my aliens
I'm going to say destroy and game object
and that's how the aliens are destroyed
okay so what else am I going to need to
do well I am going to also want to have
my aliens fire at random time so I'm
going to come down here and make sure
outside of all these other methods but
still inside of the class and I am okay
so let's come down here and let's figure
out how we're going to do that I'm going
to call fixed updates and inside of here
I'm going to say if time is greater than
the base wait time so if you know enough
time has passed for the wait time to be
passed well then in that situation it's
time to start firing some bullets so I'm
going to go faced a fire wait time
actually you know what I'm just going to
cheat and I'm going to use this same
code that I initialized so let's go get
it there it is
it's going to just steal this because
it's fun alright there's no use of
thinking too much whenever you can just
steal from what you already did all
right there it is so there I'm going to
reuse something that I know is going to
work and then what do I need to do well
I need to instantiate a bullet and those
are easy to do so you just go
instantiate and alien bullets and you're
going to have it show up wherever the
alien is and that's position and then
call this little crazy guy and identity
and there we go now our aliens are
randomly firing bullets that we are
generating on the screen and now what
else do we need well we need to handle
our on trigger events which are going to
basically be what's going to happen if
our aliens come in contact with our
players or not so what I'm going to do
is go void on trigger enter it's going
to be pretty hard for the aliens to get
down there based off how I have this set
up it's the alien or the ship's normally
going to get shot or
the ship is going to shoot all of the
aliens one or the other
well let's put this in here just for the
heck of it okay so ontriggerenter if the
thing that was collided with has a tag
that is equal to flare look at that
every time you see a tag or anything
like that go verify it exists all right
so prefabs
okay so spaceship there it is
tag player okay it exists we can move on
so if we come in contact with that we
want to go soundmanager
and play the sound of a ship exploding
play one shot and sound manager once
again and instance and ship explosion is
what we want to use okay so that's going
to play that sound and then what's going
to happen well we want to change to the
exploded ship image so I'm going to go
get that get components and this is I'm
going to get the sprite renderer once
again and sprite is going to be equal to
exploded ship image and then I need to
destroy my game object and then I want
to wait to destroy the spaceship so I'm
going to go destroy objects and refer to
the spaceship objects and I'm going to
say I want to wait a half a second also
for that sorry go guys that's all the
code now we go back into into unity and
assign all of these things that are up
here okay so what else we're going to do
a little bit of housecleaning here alien
bullet let's select it you can see that
it doesn't have tags or layers that's a
bad thing I haven't defined them so I'm
going to create one let's come in here
alien bullets alien bullets that is
click Save and then I'm also going to
have an alien bullet layer alien bullets
layer and then I can select my alien
bullets and put a tag on it and also a
layer on it so good stuff then of course
I'm going to need to go up here and
project settings
and physics 2d and I need to tell the
alien bullet to ignore each other so
alien bullet an alien ignore that an
alien bullet in ignore alien bullets
alright so all that's set and the alien
bullet looks good now I'm going to need
to set up all of my aliens so let's just
zoom in here a little bit so that we can
see everything so here are all the
aliens and all the components I want to
add so I want to add a rigidbody
obviously so physics 2d right there and
then rigidbody once again I'm going to
do the same sorts of things I am going
to let that be dynamic up there for body
type I'm going to have the mass be a
very tiny I am going to go and have
gravity shut off I want the continuous
collision detection interpolate the
smooth animation and freeze the rotation
there all that looks good I am then
going to come down add another component
this is obviously going to be a box
Collider so click on box Collider and
I'm just going to have everything
naturally occur there not worrying about
anything like that and then I want to go
and get my script so here is the scripts
and here is the alien script and I'm
going to drag this guy down here and
drop it right there and there's going to
be a whole bunch of things I am going to
be able to edit here you don't need to
define rigidbody actually that should be
private so it's not showing but whatever
I made a little mistake not the end of
the world I can't remember what the
starting versus the alternative image is
so I'm going to look that up I do know
what the alien bullet is you know that's
obviously this prefab so let's go get
the prefab and drag the alien bullet
down here put it right there that's good
and then this is all going to be the
same exploded ship image I don't know
what that is either so what I'm going to
do is pause right here for a second and
write all that stuff out so that I know
it and then I will drag and drop all
that stuff in ok so I'm back and go into
prefabs again I'm going to select alien
2 here try to get this on the screen as
much as possible a lot of stuff here
alright so what do I need I need my
starting image for alien 2 and
is actually going to be if I click on
sprites it's going to be the very first
well it's the second one but it's
labeled as one so I'm going to grab that
drag it down here and that's going to be
my starting image and then two is going
to be the next image so there that is
and everything else is perfectly fine
except I'm going to need my exploded
shift image and that is in that is the
exploding you know spaceship not alien
and that is in seven so I'm going to
grab that and drop that in there okay so
that's what it's going to look like when
everything is all finalized right there
if you want to pause your screen to make
sure everything is okay okay so after I
have the alien prefabs all set up and
just review what they all look like all
of them are exactly the same in regards
to the sprite renderer of course the
image is different and all the rigidbody
information is exactly the same as you
see right there the box Collider is all
the same for every single alien and the
script part down here is the only thing
that changes so this is for alien two
and you can pause if you want to see
that this is for alien 3 how that is
different and then we can look at alien
4 and there's that data and then we can
look at alien 5 okay so now I have all
of the alien data all set now I'm gonna
I just deleted all of the information I
had here as placeholders and I'm going
to drag these guys over inside of here
so I'm just going to drag them onto the
screen so there's that guy and let's go
and put him inside of the aliens little
box that we have here let's go and drag
more in so I need this and then we'll
drag him into position so that he looks
nice let's zoom in here whoops let's
zoom in here with our mouse and then
right-click and drag it into place
and then zoom in a little bit more and
we'll align all these guys up so they
look nice so let's get that put that
like right about there and go get
himself another one and throw it inside
of there
bring it in here and line it up so that
it looks kind of nice and let's go and
get another one we're going to go and
get five of these guys put them inside
you can stack them however you want it
doesn't matter I'm just putting them
like this
and then go and get another one and
there we are so we have all of those
guys all set up inside of there and then
we can test this to see what happens so
got that set up let's run it you can see
there go the aliens and pretty soon
they're going to start shooting and
there they are they're ripping up the
shields like crazy okay so pretty cool
and let's go and add more aliens and is
there anything else I might actually
want them to fall further down than
where they fall currently just uh I
don't know let's mm-hmm we're going to
you know it just throw another row of
aliens inside there so now I'm going to
get alien 3 and throw that inside of
there and it lines up pretty good strike
them up here a little bit you can refer
to the top and the bottom or whatever
and get another alien 3 throw him inside
of there and they look pretty neat
another and there you go I drug all of
the different aliens on the screen and
just drag them from the prefabs area
this guy right here just drug them over
there and line them up just by I made
one little change to my code we go into
scripts and aliens I got rid of this
this was giving me a little bit of a bug
and I decided I need even care about it
anyway so for homework you guys can
figure that out so I got rid of that
extra sound and that's in alien dot CS
if you were wondering and now we can
test out our game see how it works if we
have any other little bugs your ham
awesome ooh getting crazy now as you can
see our scores are changing our aliens
are changing hello this game is just a
little creepy cat and get that one and I
think everything is working pretty good
the aliens aren't really coming down
super fast so it's not really like a
regular game of space invaders
but everything's working out pretty well
let's go in and also get rid of the
walls like the top wall let's make it
black so let's change that to black and
change whoops change the bottom wall to
black so that that's not distracting so
it provides for the collision but it
doesn't distract on the screen and this
guy and then the right wall and there
that is and there it is okay
so let's play it again see what it looks
like yeah pretty cool
maybe the shields are a little too big
whoa and you can see the spaceship
exploded
hey let's run again took some time
playing and making this game so let's
play it and holy crao missile you can of
course go in there and change all those
different settings basically I decided
that I wanted the shooting to be more
make the game harder rather than the
alien speeding down or what have you
hello and I exploded alright so there
you go guys that's space invaders I'm
sure they're there there might be a bug
here or there but in general I think it
looks pretty cool and it definitely
turned out about as good as I wanted it
to be you can go in there and play if
you want the aliens to move quicker I
have it do that if you want to put a
delay between your missiles launching
like real space invaders do that I mean
the whole idea is you know everything is
customizable so have fun with it and go
in maybe change the look of the aliens
or change the look of anything so just
been a blast making this whole tutorial
I hope you guys had as much fun with it
as I did and please leave any you know
requests in regards to other games you
want me to make and like always please
leave your questions in comments below
of the last til next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>