<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Kivy Tutorial 3 : Kivy Calculator | Coder Coacher - Coaching Coders</title><meta content="Kivy Tutorial 3 : Kivy Calculator - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Kivy Tutorial 3 : Kivy Calculator</b></h2><h5 class="post__date">2016-10-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6yMHHC36tT0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
3 of my kV video tutorial in this one
tutorial we're going to cover event
handling how to use multiple layouts and
on top of that we're going to create a
working calculator of course all of the
code is available in the description
underneath the video and if you haven't
watched the previous parts of tutorials
you should probably watch those as well
and I also provide a link to those and I
have a lot to do so let's get into it
okay so I have two files here inside of
pycharm one is called main dot py and
the other one's called calculator Cavey
and we're just going to start writing
some code here so what am I going to
need well I am actually going to use a
grid layout as well as a box layout but
I'm only going to have to import the
grid layout for this so I'm just going
to say Q V dot uix dot grid layouts and
import and grid layouts alright so we
got that guy and then we're going to
create our classes I'm going to create a
custom class that I am going to call
calc grid layout and I'm going to pass
it the grid layout and let's open that
guy up here and this is where all of our
functions are going to be but I'm not
going to do anything with that quite yet
so I'm just going to put pass in here as
a placeholder and then I'm going to come
down here and create our calculator app
and of course the TV file is going to be
called calculator we're going to cut off
the app port there and then we're going
to build this and to do so we will
return calc grid layouts and then let's
create everything here by just going
calc app is equal to calculator app make
sure you spell that right and then we'll
just go calc app and run and that runs
our whole entire application all right
there's going to be very very little
code here if you want to see a really
complicated calculator example and for
homework you'd like to convert it into a
key V app look at part 22 of my learn to
program series but I'm going to keep
this rather simple it's going to be a
fully functional calculator I'm just
going to create something really really
complicated in this tutorial just my
focus here is to make a working
calculator and to show you event
handling and how to use multiple layouts
in a TV application alright so now let's
jump over into the calculator keavy file
ok so inside of this I want to create a
custom button so I don't have to type
the same thing out multiple different
times so I'm going to go custom button
at button and all I'm going to define
inside of here is going to be my font
size because these buttons don't need to
be very very complicated so font size
and I'm going to say that I want this to
be 32 points then I'm going to make
reference to the calc grid layout and
make sure that isn't indented and of
course this is a reference to this guy
right here this is going to be where all
the functions my calculator is going to
use are going to reside whenever I
create that but first I want to come in
here and just create the calculator
layout and make sure that it looks good
all right so I'm going to want to refer
to this guy and one way to do that is to
define an ID for it so I'm going to say
ID and this is so that I will be able to
access the functions that are going to
be in that class that I just showed you
so calculator is going to be the ID I
give that and display entry I'm going to
create a text input area and if I want
to be able to refer to that this is one
way to do it I just put entry the name
of the text area is going to be entry so
I'm just going to put entry inside of
there and for our calculator I decided
we're going to have an entry box across
the top and then four rows of buttons
underneath that so I'm going to put rows
as five I'm going to put padding between
all of my elements that's going to be
ten and spacing for the window and the
widgets is also going to be ten and then
what I'm going to do is put a box layout
multiple box layouts inside of all the
rows for my calculator yes I think
that's a nice and simple way to lay this
out so box layout and like I said what I
want to put inside of here I want to
of a text input area or an entry box if
you're used to using TK enter and that's
all that's laid out I'm going to have to
refer to it and I'm going to refer to it
with the idea of entry and that's what
this guy up here is doing for us I'm
going to set the font size for this
since I only have one of these no point
in going and making a custom text input
widget so I'm just going to have font
size be directly inside of there
and also I want multi-line to be set for
false because this is just going to be a
simple little calculator widget so I'm
not going to have that be anything any
bigger than that all right so now I have
that all set up and now I'm going to put
another box layout inside of here and
like I said make sure you have your
white space all set up properly so I'm
just going to say box layout and all of
these box layouts are automatically
going to go into our grid layout using
these rows right here it's very very
smart TV just works and that's awesome
so I'm going to say box layout and I'm
going to put spacing inside of this
equal to 10 and then inside of there I'm
going to use my custom button that I
created above and my custom button is
going to start off the very first button
is going to have the text of seven for
my calculator and then what I'm going to
do is I'm going to say that whenever
this button is pressed I want to change
the value in my text input which has the
ID of entry so to do that to handle that
event I just say on press and entry and
text and then what I'm going to do is
add to whatever is already there so I'll
say self and text and that's how easy
that is to do and then we're going to
come in here and create a whole bunch of
these for the all the rows inside of our
box layout so I got those another one
and another one so this is going to be
eight and we can just leave all these be
exact lists and we don't have to change
anything so nine and then for this one
I'm going to have to put a plus sign
inside of it and I can leave everything
be exactly the same and then I'm going
to go and copy this for the other rows
that I have here so it's going to be
very easy to work with so just paste
that inside of there keep everything
exactly the same and I'm just going to
change this to four five and six and
then this is going to be a subtraction
sign paste in another row these guys and
this is going to be one two and three
and then this is going to be a
multiplication sign and then I'm going
to create another one and this is going
to have a couple other different things
inside of it but my spacing got messed
up though so oh no no it's cool all
right so yes it did get a little bit
messed up so you have to make sure that
we have that right so let's bring that
over there everything else there is fine
and let's get this box layout I'll set
up it'll give me an error if I went and
got the whitespace messed up not
anything to flip out about and thence
for this last one I'm going to put AC
inside here and that's going to clear
the text area and how I'm going to clear
the text area is just whenever it's
pressed on I'm going to say entry text
and here I will change this to equal to
and then I this is a string so I'm just
going to put these double quotes inside
of there so very very simple and for
this guy I'm going to change that to
zero leave that be exactly the same I'm
also going to have an equals which is
going to need to be pressed whenever we
want the calculation to be made and I'm
going to put a division inside of here
so this guy is going to have to change
but everything else should be fun and
you will be amazed that if we save that
and we jump over here and save this we
then open up our terminal and like I
said in Windows all this stuff here is
going to work the same on Mac and
Windows but on Windows you don't need to
go through this process you can just hit
run inside of high charm it's going to
automatically work let's run it up gave
me a little bit of an error
gridlayout is not defined look at that I
went and didn't put a capital L grid
layout save that let's try to run it
again and there you go that was how easy
it was to create our little calculator
and if you go to seven plus eight it's
not going to do anything because we
haven't done anything with equal sign
yet but we will be able to do that and
the next thing I need to do is make the
equal sign work right so how hard is
that going to be well I'm just going to
create a function that I'm going to want
to call whenever the equal sign is
pressed on and I'm just going to keep
this nice and simple and call this
calculate and it gets L and it's going
to also get the calculation which is
going to be whatever is in the text
input area that we call to entry so I'm
going to say if calculation if something
was passed over then I want to be able
to you know work with it Oh cute elation
there it is and then what I'm going to
do is I'm just going to keep this simple
like I said in part 22 and I learned to
program series I showed you how to do a
little more complicated type of thing
this time I'm going to keep it simple
and I'm just going to use eval here and
do that I'm just going to go self and if
I want to be able to get the text out of
the text input area what I mean by text
input area is this guy right here it's
called entry and by putting display tied
in with entry here I'm going to be able
to refer to that and get that text out
of the text input widget now I do that
is I just go self display and text and
then I'm going to convert this into a
string and I'll go evaluate calculation
just like that and if some type of error
occurred I'm going to call accept
exception and what we'll do is if you
want to change the text that is inside
of your little text area just go self
display text is equal to an error
like that and that's all you need to do
I mean it's very very simple so we're
going to save that and then jump back
over into our key view file so that we
can point at this calculate function and
have it execute whenever the equal sign
is pressed on and to do that is also
going to be very easy so we'll just come
down here to this guy remember we
already highlight it and said we need to
change it so we'll just go like this and
what we're going to do is say whenever
this equal sign button is pressed on we
want to call the calculate file well I
just go calculator reference that object
and then call calculate and calculator
is going to work because we have
calculator here for that ID and
calculator gridlayout is going to be
tied back to our program because that's
what this guy's called
grid layout all right so that's how they
are all working together so we just go
in here and go calculator calculate and
what we want to pass is the text that is
in our entry or our text input widget
and to get that text you just go entry
and tux and save it and we come in here
to our terminal and let's test to see if
it worked
there it is and if we go eight plus nine
is equal to get 17 minus six is equal
two times two is equal to and divided by
11 is equal to and to clear it we just
go like that so wasn't that cool that is
a extremely easy way to work with event
handlers and to use multiple different
layouts as well as to create a custom
calculator app inside a Cavey all real
quick and awesome and I'll be making
more applications with Cavey of course
we'll get more and more complicated and
just like always please leave your
questions and comments below otherwise
till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>