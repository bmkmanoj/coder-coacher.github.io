<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Development for Beginners 13 | Coder Coacher - Coaching Coders</title><meta content="Android Development for Beginners 13 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Development for Beginners 13</b></h2><h5 class="post__date">2014-03-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/RwR6G2AoTdo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
13 of my Android development for
beginners tutorial today we're pretty
much gonna finish up the weather app
that we've been working on for quite
some time I have to say I'm pretty happy
with the way it looks hopefully you are
as well and hopefully we've learned a
lot of things in this tutorial and I'm
gonna change things up here and teaching
a little bit of a different way just to
keep from being boring but why don't we
just jump ahead and look at what our
final weather apps gonna look like at
the end of this tutorial
okay now let's take a look at the pretty
much final weather app if we click right
here you're gonna see there is the icon
that I'm going to use for the weather
app and if we select it it's gonna pull
up all of our information as you can see
right there a lot of information a lot
of useful information and for now
whenever I click on our little
magnifying glass up here you're going to
see that all the information updates but
it's pretty much updated right now so
it's looking pretty good
and there it is this is everything it's
all dynamic it's going to pull
information from the national weather
service and display it for you and now I
think what would be really great
homework if you're up for it then you
might not be that's perfectly okay I've
taught you everything you need to know
already to create this weather app so
you could shut the video off and go make
it now otherwise hang around and I'll
show you exactly how to put all this
together okay so now you know what the
final weather app is gonna look like and
like I said you could go ahead and
create it yourself if you'd like that
would be a great learning experience
because I've taught you everything you
need to know to build everything here or
you can just hang around here and I'm
gonna show you exactly how I made
everything now the very first thing I'm
gonna do is I'm gonna go over here to
the icon section I already uploaded it
but just come in here and click on
upload file
the icon if we just want to look at it
is right here there's our final icon and
I showed you already how to use Inkscape
so I'm sure you'd be able to create this
on your own it's a 96 by 96 pixel icon
and now we have that out of the way why
don't we go in here and look at what
else we're gonna have to do well one big
problem here not a big problem just the
problem is that the text inside of here
needs to be changed to the same color as
this cloud here as well as all the other
icons so let's look at exactly how we're
gonna do that okay so here are the
blocks and I decided rather than making
you watch me put all this together I
just went ahead and did some of it ahead
of time so of course we're gonna be
pulling information from the National
Weather Center and here is the URL for
all of that and I covered all that to
pass all that information is gonna be
loaded into weather data which is a list
and that brings us to the text color
part here now what I'm gonna do is I'm
going to initialize or create a variable
called text color and I want to make a
new color with it and to do so you just
create a list which is going to be your
red green and blue colors and that's
gonna create your text color if you want
to know where you create customized
colors you just come over here click on
colors right like this and then down
here you can make a customized color and
this is just red green and blue which
you can get from any type of editor
Inkscape of course will provide you with
that all right so then once I have that
all set up I wanted to also have a
customized background color for my
screen so in the initialization part I
went and created that background it's
just a light gray and then I cycled
through all of the different text areas
as you can see right here and set their
text color to my customized blue text
color I did all that in initialization
phase and as you saw there was no period
whenever the app loaded up in which it
was black now whenever you're working
with the regular old connect AI
companion and all that you might have
that issue where it's black in the very
beginning because it's a little bit
slower but once you go into build like
this and then provide a code which works
sometimes this is normally what I do I
just go and save the apk to my computer
and then email it to myself once you do
that it's gonna load instantly nothing
to worry about all right so let's scroll
down through here and cover all
all of the other different things all
these things we've done already remember
we want to set our location sensor to
work so we can use GPS and to guarantee
that that works we have to first shut it
off and then turn it on we then want to
check our location sensor to make sure
that one of the available providers for
location data is the GPS we then want to
choose the GPS and then we want to lock
down that as an option by going provider
lock true we're then going to store
inside of a variable the latitude and
the longitude we're gonna use those
later and then we're gonna check to make
sure that the latitude value isn't zero
and if it isn't we're gonna go and get
our weather data now of course if we
can't get our weather data because the
GPS is shut off we're gonna pop up a
little dialog box and it's gonna say hey
please enable GPS settings and if they
click that they want to do so if they
choose not to well nothing's gonna work
so that's up to them if they want it to
work or not we are then after they make
a choice with the dialog box going to
make sure that the choice was okay and
if it was we're gonna call procedure
called open location settings here we're
going to define that we want the
location source settings which is the
location inside your android device that
allows you to turn on GPS we want to set
that the action or what we want to open
is that part of the settings and then
call for that part of the settings to
start then we're gonna prepare to go and
get the information off of an outside
website or a web service by defining the
URL we want and we're just gonna put in
our latitude and our longitude values
and all the other information that you
saw up above and then we're gonna call
for that information to be pulled in
with WebKit and then we get into
actually getting that information and
using JSON text decode to pull out the
information in and create great big
giant lists of lists so let's go back
and let's review for a second exactly
what information we're pulling in okay
so this is the information we're gonna
be pulling inside of here and then
storing inside of our lists you and
basically we're this is JSON data which
is just key value pairs and we're going
to cycle through all these key value
pairs to get the information that we
want now as you previously saw we
an Android application that was going to
show us exactly how all of this
information was going to be sorted once
it was pulled into our Android device
then basically what we're gonna do is
cycle through and figure out the codes
needed to grab said data now of course
like we saw before the information is
backwards but it's you know pretty easy
to figure out basically everything is
inside of a list and there are eleven
list items as we cycle through here and
you can see there's all eleven list
items and all the data that we have
available to pull in then inside of
there are lists of lists so in list item
four we're gonna have another list
that's gonna be called current
observation and let's say that we want
to get the current temperature which is
right here
46 in this situation so how are we gonna
get that well first off we're gonna
write down four because that's what
we're trying to get at and the list item
four and then we don't want current
observation right here we want this list
called current observation so that's
gonna be the second option that's
available to us then which item inside
here do we want we want the first second
third fourth fifth six seventh that's
where temperature resides so it's write
down seven and then do we either want
the word temp or the actual temperature
which is 46 we want the actual
temperature so that's the second item
that's available to us and of course
whenever we are creating this inside of
our code we're going to basically just
reverse it so we're gonna type in two
and seven and two and four and that's
how we're gonna get our current
temperature and like I said this is a
screen print of the Android app right
here so let's go and see how we're gonna
use - seven - four here we are back
inside of App Inventor and if we look
here for where our current temperature
is current temp label which is jump over
here this guy right here so if we click
on that and come over here to see what's
highlighted you're gonna see current
temp label is highlighted so let's jump
back over in the blocks and here we are
in blocks and here is current temple
able and to create
it first off created a join because I
wanted to put degrees in TN because that
isn't in the data and then you can see
right here how I'm selecting the
different lists items two seven two four
and now you know exactly how I get all
of them then it's basically just a
matter of going through all of those
different items figuring out what you
want deciding where exactly they live
inside of our list and figuring out
those numbers and that is how you pull
data from any web service I mean it's
pretty straightforward it's a little bit
of work but I don't know I kind of find
it to be fun and that brings us to the
point where we are going to pick our
weather icons and we have to just use a
little bit of logic to figure out how
we're going to decide which icon shows
up here and later on we're going to also
put a icon right here and don't worry
I'm gonna show you exactly how I created
the tonight and all this stuff here we
basically just have to think about what
type of information are we going to need
well we're gonna need a way to let's
jump back over into a designer again
we're gonna need a way to decide based
off of this guy right here
so this icon whatever is being used here
is going to be determined based off of
the words that are contained in this
text right here then we have to think of
well what is the most severe type of
weather the week and half well I went
and got myself a text editor here it is
and I basically went through here and as
I was deciphering city name and where it
was located in a JSON data and the
current temperature I wrote all those
out on paper and then I got to the point
where I had to figure out what icon so
I'm just right now if the start period
name 11 is tonight use moon because
remember I have one cloud that has a son
and another cloud that has a moon so
that's going to determine if I use
either Suns or moons and this is going
to be the information I'm gonna pull
that from and my basic reasoning here is
if the second item let's jump out of
this jump back into the App Inventor if
the second item this is the guy I'm
looking at so I want to get this and by
finding out what the second time period
is I can decide both what this time
period is and also what the time period
after it is so if this is tonight the
wall that means that my current time
period
is during the day which means I would
use a Sun if however this was anything
but tonight I would use a moon up here
okay so hopefully that makes sense all
right so after I figure out what my
current time period is basically I have
to decide on what I Quan I'm going to
use so what I'm gonna use here I'm
basically going to display the most
severe icon possible so I'm gonna search
through let's look at the App Inventor
again I'm gonna search through chance of
rain snow this guy right here for the
word that is the most severe in this
situation snow is normally more severe
than rain so I'm going to search for
snow if I find the word snow in that
description well that means I'm gonna
use the snow icon if I then find I don't
find snow but I find rain then I'm gonna
use the rain icon and then I'm gonna use
fog if that shows up if sunny shows up
I'm gonna show the Sun otherwise I'm
gonna use the most common weather that
you could possibly get if it's nighttime
I'm gonna use the cloud with a moon and
otherwise else to make sure that I
always have an icon available I'm just
gonna use partly cloudy which is the
most common weather that you're gonna
say all right so that's the basic logic
behind how I picked all of our icons so
let's jump over into blocks again and
let's look at this now what I'm doing by
default is setting cloudy which is the
most common weather pattern as my
default weather icon that I'm gonna use
and I'm gonna use the current weather
report which is just a variable it's
gonna hold the word cloudy inside of it
alright so after I get that then I am
going to store that information which is
that little brief description that shows
up under the current temperature in the
designer view which I showed you a
couple times in the past I'm gonna get
that I'm gonna store it inside of this
little guy right here and then as we
cycle down through here I'm going to do
the same thing I'm also going to find
out is it nighttime or not and I told
you I'm going to check if tonight shows
up in that box that I showed you
previously and if tonight does show up
I'm gonna say that my current time is
not going to be night so I'm gonna mark
that as false else if tonight doesn't
show up inside of it I'm going to
mark the current time as true and then
I'm going to store that inside of here
all right so that's just gonna determine
if I show a Sun or a moon behind clouds
or I just show a Shawnee sign or a
regular moon shape then let's jump back
over a designer again I'm going to also
have to check for what it says
weather-wise down inside of here now
most of the time this information is
going to be in lowercase so you see Snow
is lowercase right there now I could
convert everything into uppercase and
then search for individual words if that
doesn't make sense don't worry about it
that would just give me a more exact
sort of weather pattern but for this app
I'm not going to worry about being a
hundred percent accurate every single
time so that is why I chose cloudy with
a lowercase C there because most of the
time the description would be searching
through is going to have lowercase
letters and I'm doing exactly the same
thing pulling in all that weather
information and then I'm also going to
have another weather pattern which is
going to be after tonight which is going
to be whatever the next day's weather is
and otherwise I'm going to say sorry the
weather service may be down or blah blah
blah just pop up a little dialog box
okay so that brings us into exactly how
am I going to list tonight with the
weather pattern the little lo symbol the
high symbol pull this information in and
also provide a description later on well
just like I did before I actually pulled
this out of here because there's just
too many lines I pulled all that
information out and what I'm gonna do is
measure everything so I know this is
going to be 15 pixels because I did that
before this is going to be 114 pixels
long 30 pixels 24 there's gonna be a
space right here then I'm gonna have the
symbol than another space then the
temperature then another symbol then
another space and then the temperature
so that means I'm going to have to
create myself a table row inside of my
app I'm just gonna have 1 2 3 4 5 6 7 8
9 10 boxes inside of it and then I'm
gonna have another description
underneath underneath here that's gonna
be 281 pixels so now that I know all of
that I can go inside of App Inventor and
go over into the designer view just like
I did before and let's do a little bit
of
designing here okay so I have a little
divider right here which is just a
horizontal layout well now I want to get
myself a table arrangement so I'm just
gonna grab over here get a table
arrangement come over here and drop it
down inside of there and let's go and
double check that it went underneath yes
it did horizontal arrangement otherwise
this would be indented if it went in the
horizontal arrangement and now that I
have that set well I said I was gonna
have ten columns and of course I'm gonna
have one row and I want my width to be
fill parents because that's what it was
and there we go now I got that all set
up now the very first thing we're gonna
have to do here is we're gonna have to
put a margin inside of here and I'm just
gonna use a basic label there it is grab
that and you can see how little little
different boxes in the table outs gonna
line up here I'm gonna drop that inside
of there remember it's just a margin so
it's not going to have any text inside
of it it's gonna be 15 pixels wide so
click inside of here put 15 and that's
it okay so now I got my margin now the
next thing I'm gonna need you could look
at this as an example I'm gonna have to
put in this is going to be tonight and
this is going to be the next day so just
as a placeholder I'm gonna put tomorrow
inside of that because that makes sense
up inside of here grab a label I'm on
down is out of here drop it in my little
table and there it is oh did I get it
let's go now I got it all right and then
come over here the text for that is
gonna be tomorrow and there it is and
I'm gonna make the font bold because it
was bold above going to increase my font
size to 16 because that's what it was
above and I make my text with 114 pixels
because that's what illustrator told me
to do like I said I'm just using
illustrator because I can use the little
ruler and it works a little bit better
in a presentation you can do every
single thing I'm doing here inside of
Inkscape okay so 114 pixels that's where
that came from so now I have that set up
well what's the next thing well I need
to put this icon inside of here so let's
go over here and grab myself an image
I get over here drop it right there
there's my image I'm going to come in
and well first off I'm going to click on
this label right here I'm gonna rename
it and I'm gonna call this last weather
period label now I don't need typed
label there's label okay and that's
gonna be the tomorrow part and then
click on the picture I'm also gonna want
to change that value so I want to give
it a name and I'm gonna call this last
weather period image okay that works
good and now we need to define the image
we want to use I'm just gonna use cloudy
day and click on OK that's the default
and I make the width 30 pixels because
that's what my vector art tool told me
it should be and the height is gonna be
26 pixels and then click on OK and there
we go now I'm gonna have my little cloud
inside here see there's the cloud it
perfectly lines up with this now I'm
gonna have to put another label in here
put a space inside of there grab label
drag it over here Rob it right there
back over here come up there and delete
the text inside of it and the width for
this label is gonna be 24 pixels click
OK that's all I need to do then I need
to get to the low image that's right
there so I'm gonna get another image
drag it over here drop it and then I can
give it a name if I'd like go rename and
I don't plan on changing this I don't
know I sort of like willy-nilly decide
on whether something should have a name
or not and understand that my naming is
normally a little bit better whatever
from pot 2 into tutorial ok click OK and
then I got to go and get the actual
picture that I'm gonna use so click on
this and low-temp is the name of that
icon and the width of that is going to
be 12 pixels click OK alright and there
it is perfect give myself another label
to use as a margin or padding and delete
this and change this to 5 pixels of
width and now I got more padding there
it is now I have to put in my
temperature and then it's gonna stretch
the whole way across until it gets to
this icon so I gotta get another label
drag it over here
drop it right there over here and I'm
gonna make this 19 degrees and the width
for this is gonna be 36 there we go and
you can see it stretches the whole way
over perfectly then I'm gonna get the
high icon grab that image drop it right
there I should change this also
let's go rename call this last weather
period lo label okay and that's that guy
right there
this guy again get my picture and it is
gonna be high temperature click OK click
on the width make this 12 pixels okay
got that in there then I'm gonna have to
get the last little margin which is
gonna be a label again Rob it right
there I'm over here get rid of this make
this 5 pixels again you can see how
everything's coming together and then I
just have to put in my last high
temperature which is gonna be a label as
well drag it drop it right there I'm
over here change the name and change
this the 38 degrees as a default and I'm
also gonna rename it there that is make
sure you can see it last weather period
I label and there we are we're done with
that now let's make sure that I have
everything all set the way that I want
it to be set and of course I have all
the blocks and all the descriptions of
what every component in the designer
view looks like in a link underneath the
video but you know so everything looks
good all right so I have a name for this
last weather period because that's gonna
be changing click on this I have another
one for that icon which is gonna be
changing I have the low also there and I
have the high perfect all right so now
what I want to do is put another
dividing line here or just a margin and
then put in a description so I'm gonna
go over in the layout get myself a
horizontal arrangement and drop it
inside of there you can see this went
way up and I'm just gonna make the width
B fill parent and the height be 9 pixels
again because the vector or told me to
do that and then the last thing is going
to be a horizontal arrangement that's
gonna have a margin of course inside of
it and then the description itself so
I'm gonna get a horizontal arrangement
and hopefully drop it underneath that
don't put it inside perfect there it is
I'm going to change its width over here
to fill parent then I'm gonna go get
myself a label which is going to act as
margin there's label rugged over here
drew Robert right there it's gonna be 15
pixels because every other one let's go
and fill parent oh no I don't want you
to happen am i doing 15 pixels for our
width and also I'm gonna get rid of the
text for that and then I just have to
put in the description itself which is
gonna be another label so just grab the
label that's you can do multi-line
labels sure it goes in the right place
there it is and for this guy I'm just
gonna whoops don't do that I'm gonna
select it come over here highlight all
this text I'm just gonna put some dummy
text inside of this select this and
delete that and paste that long list of
information in there and I'm gonna
define the width for this to be 284
pixels and the heights gonna be
automatic based off of the amount of
data that comes in so it's going to
scale dynamically based off of the
information and then I want to give it a
name so rename because I'm gonna be
changing the information inside of this
and the name for it's gonna be last
whether period description label there
we go so that's how we design that okay
so I want this eventually to allow the
user to enter their city and then hit
this little magnifying glass and pull up
all this information dynamically but
that's gonna be covered in the last part
of the tutorial next one that's coming
up and but for now what I want to do is
I just want to have the search button
when it's clicked on to update all the
information that's here so let's go in
and look at exactly the blocks that
we're gonna have to create for that so
first let's find search button and let's
say that when the search button is
clicked let's just drag it over here
zoom out a little bit when the search
button is clicked how are we going to
auto update everything well basically
we're just gonna copy some code from
over here and in fact when when I just
drag this way up here so it'll be easier
to copy the code over and here we are
this is the information I want to call
whenever the search button is clicked on
so there's no point in me recreating it
will only just duplicate it so I'm just
gonna duplicate it drag it over here I'm
gonna get the current latitude value
just to show you what that is and get
the current longitude value as well
duplicate drag it right there and then
get this guy
here and duplicated as well and to get
weather data procedure is going to
update everything for me there we go
that's how hard it was to update all the
information when search buttons clicked
on and then the final one of the final
things is actually defining the icons
based off of if it's day or night or
whether the word snow rain fog sunny or
whatever line up inside of the
descriptions all I did was create a
procedure called change weather icon and
the weather icons I'm referring to here
is this weather icon right here this is
going to be weather icon one and then
there's an two more weather icons
there's this weather icon right here and
there's weather icon right there so
that's going to be the second weather
icon this is gonna be the third jump
back over in the blocks and I'll walk
you through exactly how I got those to
work okay so basically what I'm doing is
I'm just getting the description which
was stored from above and I'm checking
to make sure if the description has the
word snow inside of it again I'm using
uppercase letters here if it does have
snow well then I no longer need to
search for anything else because snow is
the most severe type of weather or at
least in this situation so I'm going to
change the actual picture to snow pang
and I get the name snow ping from my
list of media over here so let's zoom
out of this and zoom over you could say
there's snow pink so that's how easy it
is I don't have to go searching around
in deep directories and so forth to find
it I can just type in snow pang and it
works then if it's not snowing then it's
gonna be raining and if I'm not raining
it's gonna be foggy and if it's not
foggy it's gonna be sunny otherwise I'm
gonna define is it day or night
currently for that icon if it's night by
default I'm gonna give it cloudy night
and otherwise I'm going to with the else
statement here gonna make it a cloudy
day then I did that also for the second
item except in this situation the only
thing it changed is this is lower case
and this is lower case and this is lower
case and so forth and so on and that is
how I dynamically changed the icons for
all those different guys and for the
third one here just to make this work
click on this which is going to be last
weather period image which is the very
last one that I have there I'm just
going to go set picture
to drag this down here drop it right
there do a little bit of duplication
with this guy and I'm only doing this
because I just defined this in the
designer view and so I have to go back
into the blocks area and I thought what
the heck let's just do it
and there's another one and another
thing I want to point out while I'm
sitting here looking at the errors and
warnings and all that stuff you can just
ignore those a lot of you guys are
getting hung up on them don't worry
about them they are weird they sometimes
will just get locked into showing a
warning that you actually corrected over
and over again even after you've
corrected it so don't get hung up on
those errors and warnings first check
and everything works and if you follow
all the little diagrams I provide you
won't need to worry about that and then
of course I can just come in here and
duplicate this as well duplicate drag it
down there for snow get the rain
duplicate it foggy and then we have
sunny then we have cloudy night and then
finally we have cloudy day da Y and
there you go everything is all set up
block wise and that brings us to the
final thing to do here and you guys
asked for homework all the time so I'm
gonna give you some and basically what I
want you to do is allow the person to
come in here and enter in the location
and sorry about this this is only
working for the United States just what
I chose but enter in a city and state
and hit search and pull up information
for that specific sate now I'm gonna
give you a hint you can get latitude and
longitude based off of the city and the
state by going to this location which
I'll provide in the description where
this is and basically what you're going
to be able to do is come in here and
type in the city name and state and then
it is gonna pull up location data which
you can then parse through and here it
is latitude and longitude based off of
city and state so I hope you enjoyed
this like I said before everything I do
here is available in the description
underneath the video please leave your
questions and comments below otherwise
till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>