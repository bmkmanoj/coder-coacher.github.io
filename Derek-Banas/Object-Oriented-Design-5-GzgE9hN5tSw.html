<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Object Oriented Design 5 | Coder Coacher - Coaching Coders</title><meta content="Object Oriented Design 5 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Object Oriented Design 5</b></h2><h5 class="post__date">2012-12-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/GzgE9hN5tSw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">although under that and welcome to part
five of my object oriented design
tutorial today we're going to take
everything we made in the past parts of
the tutorial and create a sequence
diagram from it and if you don't know
anything about sequence diagrams you
want to know everything there is to know
about them IRS a lake in the upper right
hand corner you can click on that but
for the most part everything should be
pretty self-explanatory
so let's get into it okay so in the
previous parts of the tutorial we
created a whole bunch of different
things we went and created our domain
model and what that's going to provide
for us is now we know what all the
objects we're going to use when you use
a TM we're going to use customer when
you use account Bank computer Bank
network card and transaction which
you'll see down here there's transaction
that's what we made in the last part of
the tutorial also we know how things are
going to be communicating in regards to
ATM to Bank Network and all this other
stuff and on top of that we created a
very detailed usage diagram which you
can see here and I'm gonna have this
laying in front of me and just off of
this I'm going to create the whole
entire sequence diagram so if you'd like
to get the usage case and put that in
front of you to help you along this
tutorial that would probably be a really
good idea otherwise like I said before
you can just follow along so now let's
start creating a sequence diagram okay
so now a sequence diagram is just
basically going to show the interactions
between all of your objects which you
can see here in the left hand corner and
the different events that are going to
go back and forth between these and how
they're gonna react and interact with
each other this is the step that comes
before creating the class diagrams and
then with the sequence diagrams and the
class diagrams we put those together
right we're gonna be easily be able to
write our program so all we need to do
now is we already have these guys I have
everything set up here on our screen I'm
gonna zoom in a little bit further so
here we go we got everything here that
we basically are going to need so I'm
gonna put customer down first and then
I'm gonna go through and just start
creating everything and showing how all
these different objects are going to
talk to each other so the first thing
we're gonna do if we're customer inside
of there we also know that we're gonna
need ATM let's take him over and throw
him in here just in some arbitrary space
then we're gonna put these little nodes
in here and this is going to show
different points in which we plan on
triggering different events I'm going to
make this more like
a real-world sequence diagram it's gonna
have a whole bunch of notes on it and
system B nitty and gritty grab this guy
throw him over here as well I want to
keep these all lined up and then like I
said I have the usage case here in front
of me so the very first thing that is
going to happen is a card is going to be
entered and you want to make everything
work for the uses case but you also
don't want to think too much about this
because remember we're just playing
around here and we want to get as close
as possible so I'm thinking first off
what I'm going to do is I'm going to
actually call or trigger an event on the
customer object and I'm going to set
this up just like a regular old method
you can see method attribute the class
of the attribute and the return type and
I'm going to call this guy by a certain
name we see here think this out so I'm
going to call it exactly what it's doing
insert ATM card and what is going to be
inserted inside of the ATM card well I'm
going to put the card and then after
that the class type of the card is going
to be card as we saw previously and the
return type on this I'm not certain
about I'm thinking it's probably going
to be a boolean of some sort or another
it's either going to come back true or
false so I just have to make myself some
room inside of here for all this stuff
and then take this method I'm calling
and drop it inside of that then after
that now I realize I need to move this
guy over a lot I need to figure out
exactly what is going to happen whenever
I insert my ATM card and I decided I'm
going to call another method based off
of my usage case and what I know I need
to do from all the other things we've
done previously and this is going to be
another method and what am I going to do
well I need to find out if the card is
readable so each of the ATM's cards has
a little strip on it so I'm going to
just say is strip readable and inside of
that I'm going to pass the card and card
and then I'm just going to leave that as
a boolean for return value well there's
two different things that could happen
one of them could be that the strip is
going to be readable and on other thing
is that it's going to be unreadable so
what does that mean that means that I'm
probably going to need an alt condition
set inside of here to handle the either
worse situation of whether the cards in
be readable or it won't be readable and
whenever we do that of course we're
going to put every
hang inside of all inside of this little
folder typed finnegans here and then
there's going to be different conditions
that we're going to need so just grab
one of these conditions things over here
this is all stuff that I build inside of
omlette and then I basically have to set
my condition so I'm going to say the
card strip number is less than or equal
to zero
let's say that is a condition and I'm
going to have each of these guys perform
different conditions because I don't
want my ATM card to have all the
information about every single account
on it that would be insecure so
basically going to say is the strip
number which I know is impossible less
than a zero value if it is I'm going to
mark this as a failed situation jump
back over here and this is going to send
a message to the customer that the strip
was unreadable
which would make a lot of sense and then
if this is a failed condition I do this
everybody does this stuff in different
ways I'm just going to mark this as
failed and then work out exactly how I'm
going to lay that information out to the
customer later on now however the ATM is
also going to check for a non failed
card read so I need to take another
condition down here and drop it inside
of there and this time I'm going to say
if it is greater than zero as far as the
ATM is concerned this is now a valid
card we're going to we're also going to
check it again of course and we're just
going to take another little node down
inside of here now if the card strip
number is greater than zero then we're
going to have to start doing things like
checking against the bank network as
well as the bank computer so we're gonna
have to come over to this guy grab him
and I'm also going to grab this one copy
those two guys and we're just going to
bounce them inside of here like so so
now I'm going to have to send a message
and another thing to think about is what
happened to the other objects remember I
said transaction and card should also be
included inside here however I did not
use them in those situations in which I
know I am going to have to use these
things I'm gonna have to think about
who's going to have them well it
definitely makes a lot of sense for the
transaction object to be inside of the
ATM and also makes sense to come in here
and put a little note so I'm going to
say holds transaction that is where
we're going to create our transaction
object at some point and
just going to draw a little line over
here to show that and some other things
that might come up is this is probably
not a great answer but remember we're
just trying to get to code as quickly as
possible and have this guy work however
more than likely this is going to be
something completely different we're
going to be verifying strip numbers on
the ATMs not based off of whether the
strip number is zero or what-have-you
but for now this holds and we want to
just get some code going here so what
I'm going to do here is say change to
what is a valid magnetic strip code in
the future
drop a little note inside of there and
then take this guy here and then
whenever we start to get to the code
level or creating class diagrams we're
going to know that that's something else
that we're going to have to think about
okay so now we know we have a valid
strip and this guy over here ended so we
don't have to worry about that one so
we're going to have to figure out okay
well we have a valid card now so what
exactly are we going to do with this
card drag this down here a little bit
give me a little bit more extra space
we're going to call another method on
Bank Network drag that over there get
one of these little nodes drop it right
inside of here now we're going to create
ourselves another method that is going
to be tied to Bank Network see this guy
over here is strip readable that's going
to be tied to the ATM object and this
one which we're going to call fine Bank
associated with card Bank associated
with card and we're just going to pass
it the card as well and I'm also going
to leave that as a boolean and then I'm
just going to take this guy here and
drop them inside of there so eventually
we're going to be calling fine Bank
associated with card on the object that
is named Bank Network that's all that
means and that's going to be some point
in the future so basically working out
what my different methods are going to
be so this is very very important usage
case is probably first in regards to
importance and designing all this stuff
and the second most important thing is
sequence diagrams least as far as I'm
concerned so there we go now what's
going to happen well the cards either
going to be associated with one of the
banks in our Bank Network that's tied to
this ATM machine or it's not going to be
assigned to one of those so what does
that tell you that means I'm going to
need another alt so let's come in here
bring this out a little bit I'm going to
create another alt then we're going to
throw another condition inside of the
alt this time the conditions going to be
I'm just going to save lock card just
like we have here except in this
situation I'm going to say Bank ID not
valid you always want to put the thing
that's going to return a false or a fail
first in these old conditions almost
always because that just clears
everything up and makes everything a
little bit neater and easier to deal
with and in the situations which is
going to occur we're going to be
returning a fail back to the ATM like
that and then I'm just gonna grab fail
here and throw failed inside of there
worried about what that means or what
that's going to do in the future
now what's the other condition well the
card is valid so in the situation which
it is valid I'm of course going to want
to do something completely different now
I'm going to want to get Bank computer
involved which is going to be an
individual Bank computer so just create
another node for it create a node for
this and then I'm also going to take
this method here and just reuse it
because I'm basically just doing exactly
the same thing again and in this
situation this is not going to return
fail instead it's going to return
success because now we know that we
actually have a valid card that has been
entered so we're just going to change
this to success there's a lot of logic
that's basically being done here and
this isn't going to save us an immense
amount of time whenever we have to start
writing our class diagrams ok so now we
know we have a valid card and let's just
have all of these go the whole way
across so I'm going to go copy on that
and then just drop some nodes down
inside of here as well and then
basically do the same thing here with
our customer and there we are so now we
have success coming the whole way back
everyone involved including the customer
is going to be alerted that yes we can
read the card so now what are we going
to do we're going to have them insert a
pin just like the usage case says so now
we're going to get ourselves another
node here drawing another lifeline move
this up a little bit so that we can see
here a little bit better and then we're
going to draw another one and of course
for all the other nodes that are going
to be participating so the next thing I
want to do is and have the customer
insert pin and insert pin is actually
going to be on the ATM object that we're
going to be creating here let's drop
this guy inside of here and I'm going to
say insert
pin and it's going to be past a card
again and as well it's also going to be
past a pin which is going to be an
integer so I'm going to put that inside
of there and for now I'm just going to
leave bullying inside of there as well
now if they insert a pin one of the
things I'm going to have to do is make
sure it's at least four digits in length
so go and throw it all in there just
like I'm sure you were expected and we
have to do a condition again and in this
situation I'm just going to go pin
length in this situation and then knot
equals in UML was actually like this but
you could also just do it like the more
common way whatever you want to do with
it I'm gonna stick with the defined way
of doing it so I'm going to say pin
length is not equal to four and that
tells you a couple other different
things can't really get into exactly how
we're going to calculate this but let's
say that I think to myself well there's
a way that I can programmatically figure
out how how long the integer is and I
wanted to find that for the programmer
later on to save them some time I can
just slop in another note and I could
say I could find pin length with an
algorithm which is going to be say we
want to say we want to cast this to an
integer and then I can go math log ten
and plus one I know that that's going to
give me the length of my integer that I
entered and it came to mind so why not
throw in a little note inside of there
to save the person some time now in the
situation where it's not equal to four
what does that mean that means it's a
failed scenario so I want to send a
message back that says that this failed
so just type in failed now in this
situation where it did not fail handle
that as well in a little node inside of
here drop this down here like I said
this is all coming off the usage case
now you can either put else inside of
here or you could type in pin length and
again with UML equals is this way for
conditionals or you can do it that way
either way people are going to
understand what you're doing I'm just
going to leave it the basic UML way to
define these things and under the
condition in which the pin length is
equal to four which means it could
potentially be a valid pin number then I
need to call myself some more methods
grab that grab myself an arrow and then
ultimately what I'm going to be doing is
I'm going to be passing information it's
going to go through the bank network but
it's going to ultimately go to the bank
compete
tutor objects that I'm going to create
so in that situation I'm just going to
have a bank computer and I'm going to
act like everything's going directly to
it just so things aren't quite so
confused and I could put up another note
and say hey I'm just talking to that
computer network here but ultimately
what I'm doing is talking to the bank
network that's then talking to the bank
computer but glad I da da da don't let
that confuse you I'm just doing this for
neatness situation so that the sequence
diagram is a little bit easier to read
so now what I need to do is actually
verify my pin so I'm going to say verify
the pin and it's going to be passed a
card and it's also going to be passed a
pin number and then somehow in there I'm
going to figure out exactly what that is
now what happens hey I have to verify
pin so that means what there's a
situation of which it might not be valid
so I need to throw another alt inside of
here so you're doing the same sort of
things over and over and over again so
that means I get a get a condition
inside of here drag that guy over and in
this situation I'm going to say pin is
not equal to and I'm going to say the
account I'm going to store an account
object inside of Bank computer so I
should probably say that so I'm going to
say copy that little note there and in
this situation let's say holds my
account objects because really they
shouldn't be anywhere else except inside
of the individual bank computers you
don't want accounts being shared between
rival banks so there we are so now I
know that my account object is going to
be inside a bank computer and I'm just
going to stretch this out a little bit
and I'm going to say that I count dot
pin and there we are so if it's not
equal what does that mean that means
it's a failed scenario so I have to say
hey this pin is not matching the one
that we have on record so that's a
failed scenario and then in this
situation this guy should be down here
like this you could just stretch this
guy and then we're going to say failed
and maybe we want to send specific
information back in regards to how it
failed or whatever but for right now we
don't know that so we're not going to
worry about it we want to divide this
guy up to handle situations where they
enter the right pin and that's going to
do that for us and then we're just going
to get ourselves another node and in
this situation we're going to say that
the pin was entered correctly so I'm
just going to say equals drop that down
there
and there we are now in this situation
we know that our pin was entered and it
was entered correctly so instead of
failed this is going to return success
we drag this down here a little bit more
actually you don't even have to it's all
up to you I'm going to actually drag
that down there so now we know that both
the card entered is correct and we also
know that the pin number entered for
that card is also correct so now looking
at the usage case and let's go and tell
the customer as well that this is
correct we'll do that just by marking
this as success if you haven't seen
previously it's so easy to write code
after you do a sequence diagram the
right way so now what do we need to do
well we need to request account to
access and you know what I'm thinking to
myself that would probably be a good
thing for the ATM to do after it reaches
a success scenario so we're going to
leave success marked on here and I'm in
essence going to kind of put a note
inside of here that's going to say hey
your job is to figure out as the
programmer how exactly you're going to
request that the user enter the account
that they want to access so I'm just
going to do that as my return and I'm
kind of playing the role of both a whole
bunch of people standing at a whiteboard
and conversing and thinking about how to
solve problems as well as a person just
doing a regular sequence diagram so you
can see both angles so there we are so
now it requested the customer to enter
the account that they want to use so
what we going to do now well we're going
to come in here and we're going to
expect the ATM to receive a request for
the account to be used which is going to
be either savings or checking and that
also means we're going to have to come
in here and figure out a name and based
off the usage case information I have
here in front of me I'm going to call
this pick account to access deviate that
a little bit and I'm going to say the
card which is of type card and I'm going
to say account and I'm going to pass
this as a string I could also go and put
in a note inside of here we're going to
have to verify a string can either be of
checking or savings I'm not going to do
that right now with that I'll do it so
I'm going to come down here paste it in
here account string either starts with a
C or s about that there's a little note
that the programmer can use whenever
they go on
through here just something that I'm
thinking of and that's what the notes
are there for now it doesn't make much
sense for the ATM to send a message over
to the bank computer saying well this is
the account we want to access and then
ask for an amount makes much more sense
to find out what account you want to
access and then after you figure that
out what amount do you want to access or
what amount do you want to withdraw so
in those situations we want to actually
just say okay
how much do you want to withdraw from
checking or savings whichever one you
chose and then on top of that we're
going to throw a little note inside of
here and this is where we're going to
create the transaction object we're
going to add information to the
transaction object so inside of this guy
this little note we're going to say add
account to transaction so now we know
that we're going to add the account that
we're withdrawing from to the
transaction makes a lot of sense and
then we're also going to take this
little guy here and say okay well the
ATM object is going to ask you a
question and that question is going to
be a request for the amount to
withdrawal so now we know that and then
it's going to be the customer object's
job to say okay well this is how much I
want to withdraw then we can worry about
later on if it's the right account the
right amount and all these other
different things try to get these
sequence diagrams for getting too
complicated because they're very easy to
get complicated if you don't watch it I
like to use notes some other people have
other different things they like to do
all right so we got this in here the new
method we're going to call on the ATM is
going to be amount to withdraw and all
of these names of course should make
sense to somebody that reads them and
what are we going to pass this time well
we're going to pass the card again just
like we did before
but we're also going to pass some more
additional information we're going to
pass over the amount that we want to
withdraw and that's going to be an
integer you might think it makes sense
for it to be a double but this is an ATM
machine doesn't handle coins and then
what we can do is also say add not only
the account to the transaction object
but also enter the amount and that
allows us to put everything all in one
place so we can send this transaction
over to the bank computer for processing
that's going to save us a ton of time as
well so when you come in here grab this
guy throw them down here and this is
going to be a message that ultimately is
going to go through the Bank Network
get to the individual bank computer and
then we have to send a message to this
guy and based off of the usage case that
message should be something like request
withdrawal amount and I'll just
abbreviate that and then in this part
instead of a mount and in sending the
account and all that other information
individually I'm going to send it as a
transaction which is going to be a
transaction object now I'll be able to
deal with it like it's an object rather
than its you know some random
programming thing which would be bad
so what's going to happen now well I'm
asking it a question I'm saying can I
withdraw a certain amount of money out
of either my checking or my savings
account well in that situation we're
gonna need to perform some checks to see
if that's okay or not and the check that
we're going to be performing here
transaction and I'm going to say the
amount which is going to be a field
inside of that guy inside of the
transaction object I'm kind of simplify
this a little bit and just relying on
the program or having some common sense
I'm going to say transaction the amount
now I'm going to say the account which
is the account object that is stored I'm
going to see if the amount in the
account is greater than I'm gonna check
if the amount in the transaction right
there that they're asking for is greater
than the amount of money that they have
in the account and if so guess what
that's a failed scenario so I need to
send back a fail message however and
like I said before we could also throw
else inside of here so it's time just to
save some time we're just going to say
else and in this situation we're gonna
say something like what is the new
balance because we already have the
transaction information we want to pass
back name and all these other things
that we've already grabbed so what's
something that we could pass back well
we could send back the new balance for
the account after the withdrawal make
some sense so inside of this little
return thing here I'm just going to type
in return new balance and then let the
programmer figure out exactly how that's
going to be done whenever they decide to
return that and then this guy as well
being the ATM is going to return a
receipt to the customer however we're
not quite sure exactly how we're going
to do that so I don't want to leave it
out but I also don't want to make
guesses on anything that I don't not on
a percent certain about
in this situation what I'm going to do
is tell it what type of information
should be sent back to the customer
after a successful transaction occurs so
that a receipt can be printed out and
inside of this little box I'm just going
to say give money receipt and card so
there is a basic sequence diagram
everything that I've created here is
actually available underneath the video
and it's actually a little bit neater
than this and in the next part of the
tutorial I'm going to show you how easy
it is to take all the stuff right here
and convert it into a class diagram
please leave any questions or comments
below otherwise next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>