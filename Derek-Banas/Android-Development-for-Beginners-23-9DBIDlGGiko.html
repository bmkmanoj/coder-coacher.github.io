<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Development for Beginners 23 | Coder Coacher - Coaching Coders</title><meta content="Android Development for Beginners 23 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Development for Beginners 23</b></h2><h5 class="post__date">2014-05-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9DBIDlGGiko" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
23 of my Android development for
beginners tutorial today we're gonna
make a game with App Inventor canvas
this is actually going to be the
next-to-last tutorial on App Inventor in
the next part I am going to show you how
to transition from App Inventor to
regular Android Java and I'm also gonna
cover a I to live complete this is
basically a next video is gonna be all
about getting at the code for making App
Inventor apps which is something
everyone's been looking at but right now
we're gonna make a game with App
Inventor all in this one tutorial so
let's go and look at the game we're
gonna make and here it is it's basically
a pong game but you know using this I'm
gonna basically be able to design or
show you how to use canvas in multiple
different ways so you're gonna be able
to move the paddles around just by
moving left and right and hit the balls
and that's what its gonna do and I'm
sure you notice that there are no
buttons you're basically gonna be able
to click anywhere on the screen and go
right to left you're gonna be able to
restart the game and also down in the
bottom left hand corner you're also
going to be able to track your hits and
your lives so let's go make it okay so
you saw the game that we are gonna make
so let's go in here and let's start
making it gonna come over here to layout
and get a horizontal arrangement and
just drop it right here I'm gonna build
the whole entire thing for you one thing
I want to do here first is to go into
screen one right here and I'm gonna
change couple things here I'm gonna say
that the screen orientation on this is
gonna be portrait and scrollable no
alright so that's all I'm gonna do for
that then for the horizontal arrangement
this guy right here well let's just go
over here and click on it I'm going to
have both the width and the height be
fill parents so fill parent and fill
parent right like that I'm gonna come
over here now and get canvas and we're
gonna be able to bounce balls around and
do all sorts of things with this and
then when the clover here and upload
file and I went and just drew a very
simple thing this is gonna be an
extremely simple game as you saw and
then I'm gonna come in here get my board
which is just very simple there you go
there is my
bored and then I'm gonna come over here
and resize everything I'm just gonna go
with and - fill parents there we go then
I'm gonna come over here and get a ball
and this is what's gonna be bouncing
around just grab it and throw it
somewhere in the middle of the screen
and then I'm gonna get an image sprite
this guy right here drag it over I'm
gonna put it near the bottom let's just
throw it right there we're gonna handle
where they end up being in the actual
block section and then I'm gonna get
myself a picture for my image sprite I'm
gonna need to upload a new file and here
it is choose file and this is just gonna
be the little paddle that you saw so
there it is and okay and now there's the
paddle that's how easy that was and you
can import anything it doesn't have to
be this simple I just wanted to keep it
simple then what I'm gonna do for the
other information when you go into the
layout I'm gonna get a horizontal
arrangement drag it down here no drop it
up didn't go in there so I'm gonna have
to do is for this horizontal arrangement
right here the height I'm just gonna say
automatic just for now and then I'm
gonna get myself like a little bit of a
padding here which I'm gonna use a label
for that like that drop it right there
come over here get rid of the text in
the label and let's make the width on
this guy right here five pixels and then
hit OK and there we go I'm gonna get me
another label it's nice to see that they
are updating appinventor still there's a
couple new things of course now that I'm
planning on ending the tutorial they
went added a couple additional things
but hey I'm sure that I've covered
enough that you guys will have no
problem learning all this stuff and then
for that label I'm going to type in hits
and I'm just gonna put a zero there and
then I'm gonna put lives and I'm gonna
put a three right there there we go
and the width on this thing let's see I
did absolutely very little planning and
making this one so let's see what that
looks like and then at the end I want to
put a button that's gonna allow us to
start and restart and so forth and so on
our little game there's the button over
here put and let's say well let's start
inside of here and how does that look on
the screen yeah let's try increasing the
width on
button to say like 80 pixels or
something like that and it's getting
close and then let's come in here to
this and let's increase this to say 220
pixels something like that and that's
pretty good right there alright now I'm
gonna go back to the horizontal
arrangement up here and I'm gonna say
fill parent for our height there we go
and there we go now I'm just gonna
change these names a little bit so for
my image sprite right here I'm gonna
rename that and I'm gonna call it paddle
image sprite okay so it's a little bit
easier understand what that is I'm gonna
leave this called canvas right here no
problem horizontal arrangement I'm not
gonna change maybe I want to change this
to padding just so I know exactly what
it is
padding label that's good and what do we
want to change this label right here
let's call this stats label and that is
and then the button let's just call it
start button because that makes sense
start button okay done that's all I'm
gonna do for this guy right here and I'm
gonna jump over in a block section and
make all this stuff work okay so what do
I want to do here well I'm going to need
to position my paddle in the right place
on the screen and I'm thinking I'm
probably gonna have to do that a couple
times so let's do a procedure for that
there's a procedure the two times I
think I'm gonna have to work with the
paddle or put it into position is
whenever the start button is clicked on
and whenever the app first starts off so
let's just call this restart because
that's pretty much what's going on and
that means we're gonna have to come in
here and make a couple variables so
let's just come in here and get that
move this down a little bit move this
over here and what variables are we
going to need here
um ball speed is also something that we
are going to need initial value is zero
and then we need a couple more here
paddle Y position duplicate we're gonna
have to monitor the hits obviously
because that's at the bottom of the
screen and also at the bottom of the
screen is going to be lives because we
know that because I just looked at it
scroll this up a little bit change this
to lives and
to give them an initial three lives at
the very beginning of the game and also
we're going to need paddle exposition
that's going to define the position of
our paddle on the screen on the x
coordinate so from left to right and the
why of course is going to be up and down
so that's how we're gonna position it
change this to x position and let's give
this an initial value of 160 because I
know that App Inventor is default size
is 320 pixels wide so make that 160 and
then we'll change it later on okay so
what is restart going to do well it's
going to first set the paddle x position
so let's get this whoops I don't want to
get it delete that I want to set it and
I'm also going to set the Y position and
how am I gonna define the paddle x
position well put it in the middle of
the screen so screen and I'm gonna need
to get the screen width for whatever
this is running on and there that is
down there so let's just get that drag
it up here and what I'm gonna do is just
divide by 2 so go over in the math
section and divide by 2
and there's a screen width and 2 is what
I'm gonna divide by if you didn't catch
that the first 5 times I said it
sometimes I'm goofy okay and then the Y
position I'm gonna multiply that let's
say I want to put it 80 percent up the
screen from the screen so let's say I
know it's gonna fit so that's why I'm
saying that might have to change it
later and let's do that and then let's
get the height for our screen so screen
and their screen height drop it right
there and then to get the 80 you
actually can't use periods without
getting this thing here so I get that or
decimals and put point 8 that will make
it show up 80% down the screen and then
I want to move the paddle into position
and how you move an image sprite which
is what this is called move to and then
we're going to get our x position in our
Y position and that's how you move
around on the screen there's Y now let's
say we want to move our ball into
position well that's pretty easy just
click on ball and it's the same thing
it's just move - move - there's move -
right there and if I want to move this
guy into position probably what makes
sense well paddle X is already in the
middle of the screen so I can just
duplicate that and this is at the
beginning of the game and then paddle
why I'm just gonna do 50% of the height
so I can just duplicate this and then
change this to 50 and there we go
another thing I'm thinking I want to
change the balls color to red whenever
the game is over or something just to do
something and also just as an excuse to
change to the paint color of the ball so
change the paint color of the ball come
in here set paint color there it is
drop it and then of course we can just
come over here to colors and it'll start
off as black and stay black until the
end of the game and we'll make it red or
something I then also since we're
restarting the game I'm also gonna want
to set the hits back to their default as
well as lives two three so that's the
whole point of this guy so drop the
lives right there and the hits right
there and set them back to their default
values hits and lives and there we go
and anything else you want to do oh I
want to update the stats of course
because I just changed these so I think
I'm actually gonna do that in another
procedure because I'm probably enough to
change the stats multiple time so let's
go in here to this create another
procedure and I'm gonna call this update
stats and to do that we're doing those
stats label and set the text for it you
guys all know how to do this I thank you
if you followed the other tutorials and
then of course we're gonna have to do a
join because we have to do more than one
thing on this and then for our join
we're gonna need four one two three four
hits and then I want to get the global
hits get then let's get the lives also
and duplicate this is gonna be lives I'm
gonna put a space in there though lives
and then make sure there's a space here
there already was okay so there you go
that's gonna work that way so now what
we can do is let's move this down a
little bit and we're
be able to go over here to the procedure
and call update stats and that's gonna
update that for us each time we call it
okay so whenever we initialize the
screen what are we gonna want to do
we're gonna want come in here and first
get it initialize what I'm just gonna
put it right here and then I'm just
gonna call restart I might organize this
a little bit better with the blocks that
I have on my website there's a link in
the description to all those all the
time if you guys want them so they're
screen one whenever it's it starts it
just gonna call restart so that's useful
and it's particularly useful because I
can have the start button do the same
exact thing so I'm gonna go to start
button and whenever it's clicked on if
the user wants to restart the game
you'll be able to come in here and just
call restart also there that is boom got
both of those fixed now how are we gonna
make our ball work well I think what I'm
gonna do is I'm gonna have the user you
I mean in a paddle game you normally
throw the ball against the wall and like
hit it back and forth to yourself so I'm
gonna have you actually throw the ball
and to do that you use flung there's a
couple other different things here but
you'll get the hang of it just from
watchin s and to be able to throw it
basically you have to get the ball head
or the heading of the fling you know
with your hand or your finger and set it
to the ball so you just click on this
and then you go into heading set ball
heading right like that and then just
set it to the heading of the finger
gesture there you go that's all you have
to do it's really cool any want to get
the speed well you can actually get the
speed of how fast you flung it and set
that the ball well but we already have a
ball speed being monitored up here there
that is so let's go and set it first
cuz that's something we'll probably want
to monitor and literally do this I'm
doing this out of my head so you know
alright so what am I gonna do here I
think I'm gonna have the ball speed be
pretty fast in comparison even to the
finger fling because I've played with us
in the past and finger the speed of how
fast you think you're throwing it is
slower and than what you think so let's
make it four so it's gonna the ball is
gonna get thrown four times the speed of
how you moved your finger and then what
we can do is set the ball speed over
here and there that is ball speed and
then it's
gonna be ball speed again let's get this
dry get down here and there you go
that's what you need to do now how am I
gonna work the controls well as you saw
in the demonstration of the app I didn't
have any buttons basically what I think
I want to do here is I want to actually
allow the user basically to touch
anywhere on the right side of the screen
or anywhere on the left side of the
screen and then have the movement be
that way just to keep everything nice
and easy and keep the controls nice and
slick how to do that I know I'm going to
need these paddle position things so
let's just move them down here there we
go and basically you can go into the
canvas and any time the user clicks
anywhere or touches anywhere with their
finger it's gonna go and register that
so let's say what do I want to use I'll
use touched so anytime they touch on the
canvas it's gonna do stuff well
basically all I need to do is the paddle
exposition that we have right here if
the user is actually let's not even use
that let's come up here and get this
thing right here and let's duplicate
this duplicate anytime they click on the
left side of the screen which is what
this is gonna do or define for me I'm
gonna have them move left anytime they
click on the right side of the screen
we're gonna have them move right all
right so control come over here if then
get this drop it right there then let's
go into the math section and greater
than if we're gonna get the X where they
touched and if it is greater than this
guy right here we're gonna move to the
right side of the screen but another
thing I wanna verify is I don't want
them to move off of the screen
altogether so I'm gonna come in here to
control again get another if drop it
right there
and then let's just duplicate this guy
drop it there and this time I'm going to
get rid of the X that's inside of there
and replace it with paddle x position
and as long as it's less than paddle x
position plus 25 say so let's go over
into the math and get a plus sign and go
paddle exposition like I said this is
just keeping it from moving off the
screen it's gonna ignore it 25 there we
go
well actually what am I saying here I'm
thinking one thing in my
and doing something else on the screen
what I want to do is make sure that it's
less than or less than 240 let's say to
make sure it stays on the screen sorry
about that and then if that is true I'm
going to move the exposition 25 spaces
to the right okay and then after we do
all that we just basically have to move
our sprite which is just another move -
and then where we're gonna move it - is
paddle X&amp;amp;Y position so yeah yeah
otherwise else if in this situation X is
less than the screen width / - well then
we know that they clicked with their
finger on the left side of the screen so
I can actually duplicate this what I
just did and then just switch a couple
things around but first off I'm gonna
need to come in here and go else right
here and then duplicate this okay drop
it down there and then I'm gonna say
greater than let's say 10 to make sure
it stays on the screen as well and then
we're going to need a minus instead of a
plus sign in this situation over here
get a - drop it right there just get
this and drop it right here and - 25 and
then let's just delete this and put this
one in there instead and everything else
stays the same so that's good so that's
all we need to do to make the paddle
remove from left to right on our screen
another thing we have to do is figure
out what happens when the ball hits the
paddle now let's just have the paddle
handle that event and let's say collided
with it's collided with and we're gonna
get our control and we're gonna say if
the thing that the paddle collided with
which is also known as other let's just
go logic equal to so if other let's go
get is equal to ball 1 and we can get
ball 1 by going over here and then
scrolling down to ball 1 there it is
drop it right there if it hit the ball
well we want the ball to bounce so let's
go ball and get the bounce right like
that and then we'll just say negative 1
make it go in that opposite direction
and then let's say we also want to
increase the ball speed just to keep
things interesting so let's go get our
ball speed that's up here so each time
you hit the ball it's going to start
faster and faster and get more difficult
to actually hit when let's go up here
and get the ball speed and what's going
to happen is each time the ball and the
paddle hit the ball is going to go
quicker and quicker and make it harder
to play the game ball speed is equal to
ball speed plus let's just say 1 I don't
know we might want to change that to 2
or something later on make it a little
bit harder and then it's just gonna be
ball speed plus 1 there we go and then
we'll set the ball speed over here and
then we can just duplicate this and what
else do we want to do well since we were
able to hit the paddle against the ball
we're going to have to update hits so
let's go up here and let's just grab
hits and move the whole doggone thing
down here and we're going to first set
the hits and we're gonna increase the
hits duplicate we'll just go hits and
then 1 and then after we do that we can
also call update so update stats because
the hits have changed okay that's all we
need to do and basically the only other
thing I can think of that we need to do
is handle what are we gonna do whenever
the edge of the screen has been hit by
the ball well to handle that all this
stuff's built into these little things
that's what's really cool edge reached
there it is it handles it for you there
we go
well we're gonna want the ball to bounce
let's just duplicate that and what do
you want it to bounce off of the edge so
get that there we go it bounces off the
edge see it makes sense now what do we
want to do if the ball hits the bottom
of the screen well you can actually get
the bottom of the screen by asking if
the value of edge is equal to negative 1
if it is then we're going to decrease
the lives and so forth and so on if get
the edge right here and we're also gonna
have to get logic equal to if the edge
is equal to negative 1 well then we know
we hit the bottom the screen they got
passed our paddle so we want to decrease
the value of lives up here grab a set
and let's get lives and a get and a math
-1 current value of lives minus 1 and
there we go we just decrease that and
the other thing I want to do is have
game over signal if lives ever reach
the point where it is equal to zero
control again if this lives is equal to
zero well in this situation I can't use
update because I'm just gonna put game
over down there so let's say that I want
to do something with the stats label
stops label and let's just keep this
really simple and let's just say game
over in capital letters so that they
know we're serious and then let's change
the ball speed to zero so that the ball
stops bouncing around cuz the game's
over and let's also change the balls
paint color I mean you could do all
sorts of things here set the paint color
so the speed is gonna be equal to zero
and the paint color is going to be equal
to red and the only other thing we need
to do is update stats
well actually we don't want to update
stats in that situation we want to
update stats in a situation where we
didn't get into the part where lives is
equal to zero so we'll say else update
stats which is the equivalent of what we
just did right there and that's it guys
that is the app that is an explanation
of how to use canvas and like I said
next time what I'm going to do is show
you exactly how to transition or how to
access the code for App Inventor apps
and then I'm also going to cover a I to
live complete which I've been asked
about a lot of times please leave your
questions and comments below otherwise
till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>