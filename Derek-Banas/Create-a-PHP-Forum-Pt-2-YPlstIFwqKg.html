<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Create a PHP Forum Pt 2 | Coder Coacher - Coaching Coders</title><meta content="Create a PHP Forum Pt 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Create a PHP Forum Pt 2</b></h2><h5 class="post__date">2011-03-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/YPlstIFwqKg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
2 of my PHP forum slash message board
tutorial if you didn't watch part 1
definitely watch that otherwise you will
be completely confused I'm gonna try to
do something different in this series of
tutorials in that I'm gonna use this not
only to build a message board and show
you how it's done but also to show you a
review exactly how things are done so
what I'm gonna do here first off is I'm
going to jump back into the previous
tutorial and here is the user part of
that database so what I did was I went
in and I added first name and I added
last name into this guy something it
wasn't there and just to show you how to
do that in MySQL you type in alder then
you type in table and you type in users
which is the name of that and then you
type in add and if I want to put a first
name in I did that that's how you do it
then follow that up with variable
characters and I set that for 20 and
actually another thing I want to do is
show you how to set things as null so
here we got last name set that it can be
a null value I want it to absolutely
have to be in there so what I'm gonna do
is I'm going to come in here and type in
lastname and instead of add I'm gonna
type in modify and then what this is
gonna allow me to do is to come in here
at the end and type in not null so
that's how you would set something to be
not null or you could also set it to
being all in MySQL if you'd enter if I
describe users you're gonna see down
here with last name that null is now
marked for no token ID I'm going to use
sort of with sessions so I want to let
that be null because sometimes it will
not be there and then active also is
only going to be set if the person
activates their account so I want to
laugh to be not so there's the MySQL
part all right now what I got to do is
I'm going to create something called
config msg BRD dot PHP and this is going
to configure my whole entire database so
I'm going to take you through it bit by
bit so I'm going to type in PHP and then
what I want to do is I want to come in
here and define couple Global's so I'm
going to use MySQL admin right like that
and let's define a couple other Global's
I'm also kind of trusting that you've
seen my PHP tutorials
where we proceed because again this is
kind of a review and I'm gonna type in a
password that I never use anywhere and
then here in my situation this is gonna
be localhost but in your situation it's
gonna be whatever your database is and
then I gotta define my name and the name
of the database file is message board so
I got all those defined then I need to
connect to the database so I'm going to
if DBC is equal to MySQL connect and
then I'm gonna plug in all of these
things that I need being the host the
user the password and if that is true
and what I want to do do another if
statement MySQL select underscore
database and this is where I put in my
database name and close that off and if
there is an error
I want to handle that error so I'm gonna
go to trigger error could not select the
database I'm just gonna put that in
there just for the heck of it and then
at the end of this I could put my SQL
underscore error and you would do this
during your testing phase but you
wouldn't do that whenever the thing is
live and then I want to exit out of the
script if that occurs that's if it was
not able to connect them I'll close this
other guy off then I'm gonna go else if
some other error occurred good not
connect to my SQL and again I could put
the SQL error but I'm not gonna do that
right now and then I want to exit out of
the script if this occurs no one close
that whole entire thing off so that's
the whole part there with connecting to
the database itself and what I'm gonna
do is I'm going to create a function
that's going to allow me to escape out
any potentially dangerous information
and this is going to be stored in a
secure location of course because it has
the passwords and all that crazy stuff
in it so what I'm gonna do is check to
see if a function called MySQL real
escape string exists this is how you
would check if they function actually
exists for you to be able to use it and
all this codes available on my website
by the way and if it does exist define a
global which is gonna be my connection
and then I'm gonna take any data that is
sent to this function and I'm gonna trim
it meaning I'm going to get rid of the
white space around it
and then out of habit I've gotten this
question a couple of times why because
you're gonna see a little bit later on
that I strip tags out of my code before
it ever even gets here and then I also
call strip tags on it you really don't
have to do it I do it out of have it and
what strip tags does is it deletes this
and it deletes this and it will delete
any characters between it so a tag it
deletes tags that's what it does yeah I
want to close that out I'm gonna stay
else if that function is not available
I'll put some space in here so you can
see this then I'm gonna call nice ql
escape string and again call trim to get
rid of whitespace around any data that
is passed to it all right and then I'm
gonna perform strip tags on it again
just for the heck of it we're gonna hurt
anything and then after all of this has
been done to this data it's gonna return
it for use and we will be able to trust
this data is safe after I do a lot of
other security things so this is the
code that you used to connect to the
database and then this is the function
that is going to help me escape out of
any potentially dangerous code and like
I said it's available at new think-tank
called comets all free of course and
over here on the right side of screen
I've been ignoring this this is the
beginnings of what the registration page
is gonna look like I know it's got awful
ugly but I'm trying to make it as simple
as humanly possible and then we can
worry about what it looks like and
pretty it up at a later date and now I'm
gonna show you exactly what the header
file is gonna look like and I'm gonna be
calling this header dot HTML and what
this is gonna allow me to do is to do a
lot of my styling all in one place you
don't use it on every single page so I
don't have to retype it in so it's
called header dot HTML and it's all PHP
again so I'm gonna jump in there PHP and
I'm gonna start output buffering and
then I'm gonna create a new session
right like that and if you haven't seen
my session tutorial definitely check
that out as this thing goes on I'm going
to explain some things and some things
are just too complicated to explain in
one place and then here is where I'm
going to initialize the database this is
a link to that file that we just created
in require once pretty much just takes
all that text and just slams it right
inside of here and then this I'm going
to use a captcha system and this is the
location for that PHP file that's going
to allow me to use the
your system so I want to go and plug
both of those things inside of here and
here's the captcha system by the way and
of course I have a tutorial and setting
up this stuff too if you haven't seen
that alright so we set up sessions we
set up the database and everything so
now what we're gonna do is continue on
with the rest of this information and
here I'm just gonna plug in basic HTML
information right inside of there and
I'm gonna put all my styling inside of
this guy so I'm gonna do some styling on
the body and I'm gonna change the
background color for the entire body to
be white as you can see on the right
side of your screen and that's all I'm
gonna do with the body right now I'm
gonna have a header with an ID of header
and it's gonna have a background color
as you can see on the right side of the
screen I know it's not pretty it's not
meant to be it's meant to be quick as
possible
and I'm gonna have the text white and
padding to be 20 pixels scroll that out
and then I'm gonna do a little bit with
the footer change the background color
to print text color again is gonna be
white and the padding I'm just gonna
have it be 20 pixels as well this is all
CSS code my main content area is going
to be called main padding 15 pixels
background color you can see that's what
that color is this is the main area
right here and in a previous tutorial I
showed you how to set up this guy
meaning how to set up these boxes and
how to get this to float right I'm
actually going to show you how to do
that here again these are all divs
that's all they are I'm just handling
some positioning right now so there's
the main content area that's all I need
to do to make that go where I need it to
go and then I'm gonna have login and log
in is this guy over here I've gotten a
lot of questions in regards to how you
put code inside of these divs so this
tutorial kind of is going to answer
numerous questions I've I've gotten
eventually anyway so I'm changing my
padding on the bottom to 15 pixels set
my border to none background color width
is going to be 200 pixels text aligned
these are going to be set for the left
and the reason why it's floating to the
right side of the screen is cause of
this line of code right there float
right and then I'm gonna give it a
margin 10 pixels on the left and on the
right I'm going to give it a margin of 5
pixels anymore
on the top of five pixels and that is
the end of the entire header so I have
to close off my Style section I'm gonna
close this off right like that and again
this is called header dot HTML and
that's it so that's what I'm gonna
that's what makes up the way this is all
styled it's all in one place I'm going
to use it it's site-wide across the
board so when I want to come in here and
change all this stuff that'll be
extremely easy to do
now I'm gonna create another file called
and be registered dot PHP and what do I
got to do come in here include the
header file that I just created
so all that codes gonna instantly go in
there automatically along with all the
sessions being handled and the database
connection and everything then you can
keep everything a little bit neater go
right into the body section and I'm
gonna find the header which is the top
thing where it says message board and
all this guy's gonna do is it's gonna
have an h2 tag in it for now and it's
gonna say message board and I'm going to
close off that div and I'm going to
create a new div and this is important
if you want a div to be float right it
has to be the topmost div so if you had
this and then you tried to float right
it would mess up everything so this has
to go first if you want it to then float
right and then have this pop into place
and this guy's called login in here put
in a paragraph tag I'm gonna call my PHP
code and I'll welcome the new user in
this place if they are logged in if
they're not then I won't like I did on
the right side of the screen currently
not logged in over there so I'm just
gonna echo and then I'm gonna check if a
session is active this is how you call
sessions in PHP called first-name this
means that they currently have a
connection or you have some information
anyway stored on their computer what I'm
going to do is call this session array
and print out their first name to the
screen and I want to close off my h4 tag
and then what I want to do will scroll
this up first off so you can see it I'm
gonna display different links depending
upon if they're logged in or not so what
I'm gonna do here is call is set again
this just tells me if user ID is set for
this person that's accessing this site
and then I'm also going to take a
substring by calling this up strength
function of some information stored in a
server array if you call PHP underscore
self what it'll do is it'll pop back
exactly the page that they currently are
on so I'm gonna create a log out screen
later on so I want to make sure they're
not on that otherwise whenever they jump
to log out and try to log out it'll
automatically log them in again so what
I'm going to do is take the last ten
characters away from the current site
that they're on that's what the negative
ten does and then I'm going to check and
make sure that that is not equal to log
out dot PHP so that's what I'm doing
there
this is making sense this tutorial
totally is going to continue or stop
depending upon whether you guys tell me
you like it because this is totally a
new format it's something that I was
told to try out so if it works I
continue making them if it doesn't I
stop and these are just going to be
links that are gonna pop up like I have
registered logging into your account and
forgot password so those are all there
alright else if they're not logged in as
I obviously am NOT based off of what's
on the side of the screen here I want to
echo out different links so I'm gonna
put in a H reference is equal to give
them the option to register for an
account allow them to log in or if they
forgot their password I'm gonna give
them away to get a hold of it okay and
then that's all the options that are
needed there so I'm gonna close off that
section and then I'm gonna close off
this paragraph that I created then what
I'm gonna do is I'm going to jump into
the actual main content area before I do
that I'm gonna close off my div and then
I'm actually going to create the form
part what this guy is right down here
and then I'm going to jump in later and
fill in some additional information in
the next tutorial this is going to be
registered
/h 1 in h1 tag then I'm going to create
a form and the action is actually going
to be to call this web page that I'm
currently creating itself and it's going
to handle all of the information that's
sent to it and I'm going to create
filled set put that little box around
the whole thing and I'm going to create
a paragraph then I'm gonna bold it and
I'm going to say that I want the
to enter their first name put input type
is equal to text I'm gonna give it a
name equal to first name so I'll be able
to get ahold of this information give it
a size equal to 20 give it a max length
equal to 20
of course if you plan on having people
that have names longer than that then of
course you'd want to change that and its
value is going to be equal to make a
call to PHP if it's at most meaning that
this has been submitted already it's
just gonna print what they submitted in
there make sure that it's set up and
then close off that PHP code right like
that the next one's gonna be almost
identical because it's gonna be last
name its last name come in here put last
name and let's chalk this up to 30 last
name and max length which take up out of
30 and that's fine then we're going to
ask them for their email address yeah
let's move that up there so this is
going to be email
this is gonna be email I'm gonna take
the max length up to 40 change this to
email and then change this to 40 okay so
everything's fine there same thing over
and over and over again then this guy
right here is going to be the username
that they are going to want to use here
on this system and I'm going to change
this to password just for added security
I know this is not common and of course
you can change this code however you'd
like
doesn't marry me I'm gonna have the
maximum size for use radius 20 and then
plug in user ID right there and change
this to 20 and user ID right there okay
the only thing I'm gonna change here is
I'm gonna just dump this right out and
then I'm gonna use small here even
though there you're not supposed to
actually it's just copy this right like
that we must obtain a letter both cases
minimum length of 8 characters and a
number hey let's just do that and then
I'm gonna have them enter a password two
times right like that and I'm actually
gonna give it the name password 120 in
length max length 20 actually you know
what let's not force that just get rid
of that altogether
let it be as long as they want it to be
and then inside a small that's what I'm
just going to copy this again sheet and
then everything else will just do
the same as we got right there and then
for the confirmation password gonna
change that to confirm password type
password changes the password to
everything else there looks pretty good
except I'm not gonna need any of this
information and then I'm gonna jump in
here and put the CAPTCHA system in there
and this is real simple whenever you get
this you're just gonna want to type in
your public key everything exactly as
I'm doing right here and this public key
is gonna look something like this this
is gonna be a bunch of rambling nonsense
and then you're gonna type in that put
that there and I'll provide a link to
that CAPTCHA thing except that's a lot
longer than that and there you are
that's all you have to type in for the
CAPTCHA system pretty easy huh and then
feel upset that's the thing that draws
this box around this little forum we got
here if a line Center you know I'm just
gonna create a submit button here and
give it a name submit in a value equal
to register that's what will appear on
the button itself and then close off
that div and then here story hidden
value the name it's gonna be submitted
and the value is gonna be equal to true
I'm gonna be able to use this to know
when the form has been submitted and I'm
gonna close off that form and then close
off that do and then close off the body
and then close off the HTML and in the
next tutorial I'm gonna show you how to
take all of this information that is
entered here in this registration box
and/or these registration boxes scrub it
to make sure everything's nice and
secure and then create the new user on
the database do any questions or
comments leave them in the comments
section below otherwise the next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>