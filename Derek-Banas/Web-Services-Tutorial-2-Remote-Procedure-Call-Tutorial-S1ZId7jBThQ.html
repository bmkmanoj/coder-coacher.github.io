<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Web Services Tutorial 2 Remote Procedure Call Tutorial | Coder Coacher - Coaching Coders</title><meta content="Web Services Tutorial 2 Remote Procedure Call Tutorial - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Web Services Tutorial 2 Remote Procedure Call Tutorial</b></h2><h5 class="post__date">2014-09-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/S1ZId7jBThQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
two of my web services tutorial in this
part of the tutorial I'm going to cover
how to pass XML as well as remote
procedure calls and my goal like with
most of my tutorials is to cover pretty
much 90% of what you're going to need to
know about these two topics but most of
all make everything a hundred percent
understandable and of course all the
code is available in the description
underneath the video and also I have a
whole bunch of tutorials down there if
you want to learn more about XML or PHP
or MySQL or whatever and I have a lot to
do so let's get into it okay so I am
using Komodo edit 8 which is free so
feel free to use or use whatever you
want and I'm going to be creating first
XML underscore code dot PHP now just
like in the previous tutorial which if
you didn't watch it you probably should
I'm going to show you here how to define
that the content type that you are going
to be passing is indeed XML and it's
very simple this is PHP and that is all
you're going to do now I want to keep
everything real pretty here on the
screen so I'm going to comment that out
but that is most important to do anytime
you are really passing XML and that is
the goal now in the previous tutorial I
had student database and it has all this
information about a fictional sort of
student and if I open up the terminal
you can see right here all of that
information and where all of that comes
from this is my SQL database and I'm
going to be using that again in XML
underscore code PHP so to include all of
that information from that class I'm
gonna go require once and then I'm going
to go students database dot PHP and
there it is now it's all inside of there
now XML versus JSON is going to be used
whenever you want to provide detailed
information about your data like
attributes and data type JSON is very
easy to read and very easy to pull in
very quickly to your program however it
is not very complex in regards to how
the data is handled now I'm going to use
Dale Cooper here again and I am going to
create
arrey and store all of this information
in here about my student and put his
address inside of here and let's say
that he lives in Seattle Washington all
right that's good enough so there is an
array for my student with some
information inside of it now if I want
to define that all of the data will be
between two student tags in XML I'm just
going to create this XML and then go new
simple XML element I like this and then
inside of it put student and then close
off that tag and that is how you would
define that this was all going to be
surrounded by student tags if I then
want to cycle through all the pieces of
data that are in this array and then put
them in between data tags I could use a
for each block for that for each and
Dale Cooper I'm going to show you how to
do this using just an array and I'm
going to show you how to use a database
as well and then we would just go XML
little arrow inside of there and then
add child right like this and then the
tags that I want it to be surrounded
with would be data and then info and
that is all I need to do for that if we
then want to also generate a Dom
document that will be able to style and
a Dom document represents an entire XML
document for us just go to DOM and then
I will go Dom import simple XML and then
just take our XML variable that we have
here and then point it towards owner
document we could also come in here and
say that we then want all of our
information to be indented by just going
format output and set that equal to true
and then we could call echo DOM and then
save XML which is going to convert this
XML into a string that will be able to
print and we could save that and you can
see right here it prints all this out on
our screen however if we're going to
look at it in its main form we're just
going to right click and view page
source and there you can see XML version
right there and there is the student
tags as well as all the information
surrounded by data tags now if we want
to go in here and actually connect to
the database and pull information in
that way what we're going to use is my
school I connect which is this guy right
here and I didn't explain this last time
but this is just the user
that's going to be allowed to connect to
the database this is the password
localhost this is the database we're
connecting to where the student
information is in DBC represents a
database connection and then we just
pass in all of our information to
connect to the database otherwise we
print out could not connect to MySQL and
then we print out the air so back over
to this guy so to be able to access to
directories up from where we are there's
two directories separating these guys
I'm going to go my sq all I connect dot
PHP and that just keeps everything
secure keeps all of the database
information out of the way we could then
come in and check our database
connection and if we get an error here
they could do something like printf and
connect failed and take a string put
that inside of there and then call MySQL
why connect error to print that
information out duh except we're going
to change that to error and then we
could call exit to exit out of the
script and stop execution all right now
that we got that out of the way now we
know we are connected and now we're
going to have to query our database
so we'll do query is equal to and we'll
say that we want to select everything
from students where student ID is equal
to one so we're just going to be able to
get just the first student out of the
database and let's change this to query
instead of court so it will cause any
errors we're then going to create an
array that is going to store all of our
student information that we get from the
query and of course and get more than
one of these now if we get a result from
our query which we're going to be able
to check by calling the database
connection which is that guy right there
and then query and then pass in our
query inside of there so if we get a
result from executing this query we're
then going to cycle through all this
information and we'll get the object
which is going to be one data set or one
row of data about all of the things we
know about our student we're going to
call fetch object and then we can print
all this information out on the screen
if we would like printf and
and we're going to be able where we're
going to define inside of here a whole
bunch of strings that are going to
represent each piece of data and of
course that data comes from the database
this right here and you can see right
down here where it says 13 rows that
means we have 13 pieces of data we can
display so I have to put in 13 different
strings here and then let's say at the
end of it of course we want to put this
inside of quotes as well and then at the
very end of it let's say that we want to
put a break statement then to pull in
that information about each one of the
pieces of data we know about our student
we're going to do a object
everything's passed in here as an object
and then we're going to list out all of
the different things that we're going to
want and there is all the information
we're going to want put a semicolon here
at the end and then we can go in here
and present this information in XML form
as well so we'll create a student
database object and then we want all of
this information again so it's no point
in typing that out just paste it in
there put a semicolon at the end and
then we can come in here and get a
student array and store each of these
students in our student array and then
to print all this information out get
outside of this while loop and we could
go echo xml version equal to 1.0 define
our encoding equal to utf-8 put that
between quotes and then close that tag
like that we come up here and comment
all of this information out if we'd like
the whole way down here to where we
actually connect it to our database and
then we could echo out as well students
if we want everything between students
tags so this is multiple different ways
to do this of course we could have
pulled that array and did exactly what I
just showed you previously and then
we're going to call for each on this I'd
like to show multiple different ways of
doing things so student array as and if
we want to print out key and valued
pairs this is exactly how we would do
that and then we would go echo put the
opening tag here and then if we want to
put the key inside of it we just go key
then we're going to close off that so
it's going to be surrounded by the right
type of tag and then if we
put our value inside of it and then
we'll have a closing tag and then we
could use the key again for the tag name
and there we go
and that's going to create all the tags
and then we could finish this off by
going echo and put in the student
closing tag as well
students go that's all we need to do we
can execute it and there you can see all
of that information was printed out from
that first print statement and actually
let's go back and let's get rid of that
so that we can look at this in just pure
XML format so let's get this guy right
here and let's delete that file save
reload again and there you can see it
and then if we go in here and go view
page source you're going to see all the
information is between student tags I
probably should put a break statement
there and everything is between the
proper tags so really nicely done so now
let's take a look at how we are going to
set up a remote procedure call okay so
we're going to be creating a file called
RPC underscore code PHP but we're going
to also create a class here that we are
going to use whether they're going to
have functions inside of them that we're
going to be using to call and output
data and that is all a remote procedure
call is it allows you a way to call a
function remotely and execute it and put
information on the screen in a way we're
going to set this up is we're actually
going to include the function name to
execute and maybe some attributes or
whatever what I'm going to need first
here of course is I'm going to go file
new and I'm going to actually create a
class called students so class students
and I'm going to put all of the
different functions inside of here that
we are then going to call so we're gonna
create a public function get and I could
have used a database in here but I'm
gonna just keep this very simple so you
could definitely connect to a database
and get all this information and print
it out on the screen but I'm gonna
instead just store everything here as an
array just to keep it simple like I said
gonna say just to keep it simple okay so
we're going to put in all of our
students first names here so there is
every single students first name and all
this is going to do is return that array
and let's go and create another one
let's keep this simple let's just make
two of them that are almost the same one
of them is go
provide first names and the other is
going to provide last names which has
changes to get student last name and
there are all the last names and let's
just change this to L and change this to
L and that's all we're going to need to
do right now except change this or save
this as students dot PHP and then we're
going to use remote procedure calls to
execute these procedures all right so
I'm going to put this between HTML tags
and everything first off we are going to
want to insert the students class so we
just went and created their students dot
PHP and we're going to create a student
data object of type students and then
we're actually going to go in here and
actually put a form inside of here
that's going to call different methods
functions procedures whatever you want
to refer to them based off of what items
are selected you're going to see here in
a second so I'm first off going to check
that submit was actually clicked on this
might actually make more sense if I
create the form first so I'm going to do
that so I'm going to create a form
inside of HTML form and action is equal
to and it's going to call RPC code
underscore dot PHP which is the actual
file this lies in and we're going to use
the post method and then I'm going to
put request and then I'm going to allow
them to select whichever procedure they
want actually executed let's go request
quotes and then give them two different
options and the first one's going to get
first names and then give them the
option to get last names and then of
course we're going to have input type is
equal to submit this is what we just
checked that something was actually
submitted and we're going to give it the
name submit of course quotes there we go
got that saved now we come up here and
now you can see right here is where
we're checking that something was
submitted now inside of this we need to
check what type of request they made
whether
was to get the first names or to get the
last names and to do that we're just
going to check whatever their request
was say select request that's how we're
getting that and case it was get first
names probably makes sense to go in here
and put all these in lower case or
whatever but I'm just going to keep it
simple here and in the situation in
which they ask to get the first names
we're going to say student info is equal
to students data which is the Skype here
student data so we are going to call for
the execution of the function that is
going to return information into student
information for our object we have and
we're specifically in this situation
going to ask for get student first names
that function right there or that
procedure to execute and then we can go
break and otherwise we can go case get
last names and in this situation we're
going to do pretty much exactly the same
thing so might as well just copy that
paste that in there except we're going
to call for get student last names to
execute that's it nothing else is
different we will break out of that and
then we could also do a default right
here and signal that an error has
occurred and if we want the response
code before hundred well there we go and
then it's very simple to change the
array which is how the information is
stored over into JSON with just JSON
encode which you saw in the last part of
the tutorial and all we need to do is
pass in student info which we have
stored in an array and I had a little
bit of bug if we come up here to
students dot PHP you can see right here
it's called get student first-name get
student lastname well in here I put get
student first names which probably makes
more sense but let's just delete those
keep it simple let's jump over and
execute and here it is we can go get
first name select that hit submit and
you're going to see all that information
gets passed over inside of JSON data or
get last name submit and all of that
information gets passed in we could also
go view page source and see all the
information there as well so that is an
overview of how to pass and use XML data
as well as how to use remote procedure
calls for web services in the next part
of the tutorial I'm going to finish up
the web services tutorial by covering
soap and restful services please leave
your questions and comments below
otherwise till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>