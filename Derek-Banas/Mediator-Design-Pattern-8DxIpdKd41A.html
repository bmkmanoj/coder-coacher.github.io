<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Mediator Design Pattern | Coder Coacher - Coaching Coders</title><meta content="Mediator Design Pattern - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Mediator Design Pattern</b></h2><h5 class="post__date">2012-10-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8DxIpdKd41A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to port
24 of my design patterns video tutorial
today we're going to talk about the
mediator design pattern so what is the
mediator design pattern it is used to
handle communication between related
objects that are referred to as
colleagues all communication is handled
by the mediator and the colleagues do
not need to know anything about each
other and the gang of force definition
is that this mediator design pattern
allows loose coupling by encapsulating
the way desparate sets of objects
interact and communicate with each other
and the mediator design pattern allows
for the actions of each object to vary
independently of one another so let's
look at some pictures and make sense of
all this because it's very simple
basically what you have here is your
mediator which is an interface and then
you're going to have a concrete mediator
from that point then you're going to
notice by looking at this is the
mediator interface and the abstract
class which is going to represent all
colleagues that are created all share
common methods and how they're going to
communicate to the mediator is through
the use of these common methods and then
the client is going to deal with both a
concrete mediator or mediators as well
as concrete colleagues and the
colleagues are going to send messages to
the mediator and the mediator is going
to turn around and send those messages
if needed to other colleagues that need
to either buy or sell stocks which is
the example I'm going to use in this
presentation so let's jump right into
the code okay so here we aren't since
we're going to be dealing with stocks
I'm going to create an object that I
call stock offer Java and this whole
presentation for the most part is going
to be done out of my head so this is
going to be all improved because you
guys seem to like whenever I do that so
just to keep this really simple I'm
going to say okay well what do I need to
do to trade stock shares I'm not going
to worry about prices and all that
because that's not really important but
I am going to need to know a number of
shares or at least I'm going to in this
situation and then of course I'm going
to have to have some information in
regards to a stock symbol and then what
else do we need about an integer that is
going to tie all of the colleague codes
together so some of these things I might
use some of them I might not use but
we're gonna improv our way through it
and should be somewhat interesting so
I'm going to need a constructor
this guy and let's say it's number of
shares is going to be passed to it and
then a string that's going to represent
the stock symbol and then let's say a
colleague code of some sort that's going
to allow me to differentiate between the
different colleagues well then I'm just
going to come in here and do stock
shares and all of this code is available
underneath the video if you didn't want
to just copy and paste it instead of
going in here and trying to type it and
then I'm going to get my stock symbol
throw that in there and then this is
just going to be stock and then we're
going to have my colleague code or each
one of these stock transactions that
we're hoping to make and there we go so
there's the constructor for creating all
of these potential buy and sell offers
of stocks and then this is going to be
really simple I'm just going to provide
a way to get my stock shares and then
we're basically going to do the same
thing here just copy that and provide
access to my stock symbol and this is
just going to be stock symbol it's going
to be returned and this is going to be a
string and then this is just going to be
get colleague code and it's going to
return a colleague code so that is going
to allow me to create stock offerings so
the next thing I'm going to need to do
is come in here and create an abstract
class that's we're going to need to
represent all of my colleagues or people
that will be putting through those stock
offers that I just typed in there so I'm
going to need always access to a
mediator because we're going to be
calling mediator methods as you saw in
the UML diagram we did before and let's
also say that we want to have a
colleague code defined for all of my
colleagues that are created and then
this is very important you're always
going to have a creation of a new
mediator so all of the colleagues are
using the same mediator and mediator is
going to be equal to new mediator that's
passed over so that's something we're
always going to have and then we're
going to go public void remember we said
sale offers going to be offered every
single time and it's going to be string
stock int shares and then to initiate
this sale offer we're going to go hey
mediator
sale offer I want you to handle this and
we're going to say stock shares
this is a reference to this object and
we're going to send the colleague code
whenever we call that so it'll be able
to track which colleague is making which
offer and then the buy/offers going to
be almost identical of course it's going
to be called by offer and then this is
also going to be called by offer and
then this is all going to stay the same
and then the last thing public void set
we're going to need to have a colleague
code son like I said it's just a unique
ID number for each colleague that's
going to be created and this isn't what
makes the mediator design pattern these
colleague codes I'm just using them so I
can keep track of things here what makes
it is the fact that a whole bunch of
objects interact with a mediator object
kay so now that we have that all set up
this abstract class let's copy that then
I have a new object I'm going to create
called Gorman slacks and it's going to
be one of these colleagues so we're
going to come in here and we're going to
get all of the different methods that
we're going to need add constructor it's
going to be the only one even though
it's going to have access to all those
other ones of course and then in this
one just to know that our colleague has
been created I'm going to go
system.out.print line and in this
situation I'm going to go Gorman slacks
signed up for the exchange and then
throw a new line in there and there we
go so we have that all set up and then
JT poor-man's going to do exactly the
same thing except JT poor-man's going to
be like that so that's it so now that we
have those set up let's go into mediate
or Java and create the mediator that's
going to handle all these colleagues
that we're going to create so it's going
to be an interface and here of course
we're going to create all of the
different methods that we're going to
use for the colleagues as well as for
all the mediators so they can all
communicate so it's going to get a stock
it's going to get shares and it's going
to get a colleague code sent so get that
set let's just copy that by offer is
going to be pretty much identical
actually it's going to be identical as
far as this knows and then we're also
going to want to add a method add
colleague which is going to be past a
colleague so that we're able to keep
track of all of those guys and file save
it so now that we have the colleagues
all
set up now we need to come in here and
create stock mediator so let's do that
and here it is
public class stock mediator implements
mediator and it's going to help me out
here it's going to say there's some
method you need to implement great
add-on implemented methods and there
they are
now as we think through here exactly
what we're going to have with say a
relay list which is going to have all of
my different colleagues that's something
that could be they're definitely useful
and I'm just going to call that
colleagues and then I'm also going to
choose to create a ray list for my stock
offers so there's going to be two stock
offer and one of them is going to be
stalked by offers and the other one's
going to be stocks sell offers so let's
do that and then let's also say that we
need a way to track these colleague
codes so let's create an integer inside
here all the codes and let's start each
one of them out at zero and this is
going to increment as we add more and
more colleagues and then I'm also going
to have to have a constructor for this
stock mediator and it's not going to do
a whole lot basically just going to
initialize all of these arrays so
colleagues is going to be equal to new
ray list it's going to have a bunch of
colleagues inside of it that's all this
is doing this initializing as array is
pretty simple stuff and then stock buy
offers we're also gonna initialize that
and stock sell offers and then this is
an ArrayList of stock offers based based
all right so we got that set pretty
simple actually
alright so what do we need to do here
well before I forget we see I'll add
colleague actually I think this makes
more sense if we put add colleague up
above so I'm gonna copy cut that out of
there paste it right here and what do we
need to do well each of the colleagues
just an object so we need to go
colleagues we're going to add it to our
ArrayList and it's just going to be
colleague like that and then what else
can we do
well colleague codes that's what I
called it right yep colleague codes
we're going to increment that when a new
colleague is created and then I'm going
to go actually I'm going to change this
to new colleague that and change this to
new
Oh legal so so that I can come down here
and get a new colleague and go Sat
colleague code and then colleagues code
is going to be this guy right here and
it's bounced over there make sure that I
have that set let's go into colleague
Java and do I have yeah set colleague
see it's going to be sent a code and
then that codes gonna be set up here and
as you saw we're just incrementing it so
no big deal and as far as I can tell
that's all I'm going to have to do there
so let's go in and get rid of this first
and then we're gonna go into sale offer
and start working our way through this
okay so if we get a sale offer let's say
first off boolean and let's say stock
sold is equal to false whenever it's
first created because that's obvious we
need to track if the stocks been sold or
not and then we're going to increment
through our stock offer so temporary is
going to be offer then we're going to go
stock buy offers like this and we just
need to say ok so sale offer here's a
sale offer then we need to increment
through all of our current buy offers to
see if anybody's interested in buying
that stock so that's all we're doing and
currently at the very beginning stock
sold is equal to false well then just
thinking through this here we need to go
offer get stock symbol which we created
before and see if it is equal to stock
and then what we're going to do is
pretty much the same sort of thing we
just want to check to make sure that the
stock is the same and also we're going
to check if get stock shares are also
equal based ok so they're selling the
same stock and there's also selling the
same number of shares so what are we
going to do in that situation well let's
say we want to print out a message in
that situation and we could say
something like shares so that's number
of shares is what shares is of now we
could say stock which would be the stock
symbol and here we'll just say sold to
colleague code and then we want to get
our offer calling code actually can't do
that we have to call get on that jump
over here yeah get calling code so let's
copy that jump back over into stock
mediator and paste that in there and
there we go so I've got that all set up
that's saying ok
well we do find an offer I know you want
to sell and we found somebody who's
currently wanting to buy that very
specific stock in that very specific
number of shares so what do I want to do
if something like that happens well I
want to erase that buy offer from our
ArrayList that keeps track of all that
and just say hey this is the offer that
we want to erase because that's what's
set there and then let's say okay stock
sold well that's now equal to true
remember we set that to false and now
it's true because we just sold it and
then if that's true we want to say well
we don't want to cycle through this
anymore so stock has been sold because
we don't want to check if somebody else
wants to buy because we sold it already
and let's throw a break statement in
there and it'll just throw us out of
that loop and then after we get done
with this for each statement block that
we have here let's say we go if stock
sold and then we could do another
message that gets printed out and in
this situation I'm going to go shares
plus shares of and then stock is the
stock symbol and we could say something
like added to inventory like that
what we're basically doing here is since
we were unable to sell the stock we want
to add it to our inventory of future
stocks that we want to sell so we're
going to have to get a stock offer I'm
going to call this new offering doesn't
really matter what you call it since
it's going to be a local field then
we're going to new stock offer shares
and pass it stock and then also the
colleague code so it's going to create a
new stock offer and then we'll go to
stock sale stock sale offers so we want
to add this to the array so stock sale
offers and then we'll just go add and
then this is the new offering that we
want to add to that array list I'll save
that and that's pretty much all set up
and then we have our buy offers down
here well the buy offer is not going to
be that much different than our sell
offers so I'm just going to copy that
code and sort of go through it and make
it work so let's just copy this and
paste that in there tab that over so in
this situation stock and this we're
trying to sell one so we want to
if the stock was bought or not and then
we want to cycle through the sale offers
not to buy offers this is going to be
the exactly the same we're just checking
to see if the stock symbol that is for
sale is the same as a stock symbol that
they are offering to buy this is all
going to be the same and this is going
to be sell offers and then down here
we're going to go shares in this
situation we have a match shares of
stock except this is going to be bought
by collie code then print out the
colleague code that bought it and then
this is going to also be sell offers we
want to remove that sell offer and we
also want to mark the fact that this
stock was bought and then we're just
going to copy this right here paste it
in right there and jump out because we
got a match and then in this situation
we're going to check if the stock was
bought or not and then we're gonna go
shares of the stock added inventory we
can leave that exactly the same so
that's going to be a new buy offer
that's going to be added to our
inventory then we're going to go new
offering just like we did before all
this is exactly the same except this is
going to be changed to stock buy offers
because we have a new buy offer on the
table and that is basically it as far as
I can think through here so what else
might we want to do well we might also
want to get our stock offerings printed
out the screen so let's just go get
stock offerings like this just copy this
for a second and let's say we wanted to
say throw a new line in there just for
the heck of it
stocks for sale and this is going to
print out all of the current stocks that
are for sale that the mediator knows
about so then we just got to go for
stock offer temporary sold in so offer
and then we're going to go stock sale
offers that's going to be stock sell off
or see I'm in Providence occasionally I
might make a little mistake and forget
what I called something paste that in
there and that's good and then we're
just going to go and print out another
batch of information and here we're just
gonna go offer get stock shares and then
we'll say that's number of shares of and
then we'll come in here and go off or
get stock symbol and that's going to
print out the number of shares available
and the symbol for it and then close
that off and then we're actually just
going to copy this because we're
basically and you do the same thing
whenever we print out all of the stocks
who are offered to buy so we're gonna go
and call this stock buy offers and then
we just need to change this to stock buy
instead of stock so and we don't need to
change anything else there as far as I
can tell
looks good yep yep yep yep yep good
don't have to mess with anything let's
go in and check it and that's where test
stock mediator comes in so the first
thing we're going to go is go stock
mediator and let's say NYSC for New York
Stock Exchange new stock mediator and
then we're going to go Gorman slacks and
just call him broker is equal to
capitalize that new and you can of
course make these a lot different in
regards to the colleagues or the
mediators or any of them then we have to
pass the mediator to it don't forget to
do that and then we're also going to do
the same thing and these are normally
used whenever we have colleagues that
act in completely different ways so they
might make certain calculations or
whenever something happens they may act
in a different way and that's one of the
reasons why you would use them I know
that mine are very similar actually
identical almost but having colleagues
that act different and calculate things
differently but still talk to the
mediator in exactly the same way that's
the thing that's important so let's go
our broker is gonna make a sell offer
and let's say he wants to go and try to
sell himself a hundred shares of
Microsoft that's the symbol for
Microsoft and then we could also say
this broker sale offer and Google and
let's say wants to sell 50 shares of
Google and then just to save ourselves
some times let's copy this and then
let's say broker 2 comes in here and
let's say he wants to make a buy offer
for Microsoft and he wants to buy a
hundred shares and then let's also say
that broker 2 wants to make a sale offer
of NRG stock and he wants to sell 10
shares of that and then let's say broker
comes in here again and goes by offer
and he wants to buy NRG he wants to buy
10 shares and then at the end of that or
stock mediator let's say we want
get stock offerings and print out all
the offerings after all these
transactions have gone through we'll go
in why I say dot get stock offerings
like that and then we'll cross our
fingers and save it and execute it and
see if it worked and there you go look
like everything worked
Gorman slack signed up for exchange JT
Poorman signed up for the stock exchange
hundred shares Microsoft ad inventory
Google Microsoft was bought here and you
see that's the reason why nothing shows
up down here
same thing with NRG stock and it was
both added inventory and then it was
bought by colleague code two so there is
the mediator design pattern with the UML
diagram at a great big giant code
example leave any questions or comments
below otherwise till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>