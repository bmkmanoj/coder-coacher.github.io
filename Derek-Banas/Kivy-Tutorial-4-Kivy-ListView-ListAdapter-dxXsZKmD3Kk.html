<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Kivy Tutorial 4 : Kivy ListView &amp; ListAdapter | Coder Coacher - Coaching Coders</title><meta content="Kivy Tutorial 4 : Kivy ListView &amp; ListAdapter - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Kivy Tutorial 4 : Kivy ListView &amp; ListAdapter</b></h2><h5 class="post__date">2016-10-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/dxXsZKmD3Kk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
4 of my TV video tutorial in this part
of tutorial I'm going to cover what a
lot of people find very confusing when
working with K V which is list views and
lists adapters and just for the heck of
it I'm also going to create a toolbar if
you haven't watched any of the previous
parts of this tutorial I provide a link
right here for you to be able to watch
those because otherwise you might be
confused and like always in the
description underneath the video I have
a link to all of the code as well as a
cheat sheet so you can follow along with
that and I have a lot to do so let's get
into it alright so before starting I
basically wanted to create a design for
what we're going to have here and this
could easily be changed into a database
access program if you just used a little
bit of code that I cover in part 26 of
my learn to program series and that can
be your homework but basically this is
going to be a fully functional
application people are going to be able
to enter in a first name and a last name
and then click on submit whenever they
do it's going to go down here into our
list view and they're going to also be
able to click on these items and click
on delete and they'll be deleted or
click on them and type in some new name
and click on replace and they'll be
replaced so that's basically what the
application is going to do it's going to
be very extensible of course and now
let's go over and write some code
alright so I am inside a pie charm and
I'm going to have a Python file called
student DB dot py and student DB tot dot
K V and then I'm going to have ki be
tight py and sample K V those are going
to be used for the toolbar so let's go
and create what you just saw there on
your screen now basically I know that
I'm going to need a couple different
things here I'm going to obviously need
my app objects so that I'll be able to
create my ki v application I am also
going to need to come in here and create
a box layout I'm going to have
everything just be a box layout box
layouts work really well so for the most
part I didn't when I'm working with ki V
I use either box layouts or grid layouts
or both so we're going to need that
we're also going to need object
properties so that we will be able to
tie into the
information in the keavy file and pull
it over into our Python code just like
we covered in the last part of the
tutorial and then finally we're going to
need a list item button that we were
going to because the list views are full
of list item buttons and we're going to
use an adapter in between them to make
them work if you don't use the adapter
you are not going to be able to select
items in the list items so we're going
to need the list item button so the very
first thing we're going to do is I'm
going to create our class that's going
to act as my list item button and we're
going to pass list item button inside of
there and that's not going to do
anything except just use the defaults
with all that so we're just going to put
pass inside of there as a placeholder
then we have to think about our main
class and this is going to be our
student database and this is going to
have a box layout and we're going to be
tying everything inside of there now we
need to think about what object
properties we are going to need well if
we look at the picture we have before
we're going to have a first name text
input and so go and create that and
that's going to allow us to tie in and
access or change information in the
first name text input and we're also
going to need a last name text input and
then finally of course we are going to
need to have our list so student list or
list view object property and that's
just going to allow us to go in there
and access that information and we have
to think about the different functions
we're going to need well we're going to
have the ability to submit students and
we'll just put pass inside of here for
now we are also going to have the need
to delete students so we're basically
just making up everything here based off
of the little drawing that we had before
and I'll just put pass inside of there
as well
and then we will also have the option to
replace students so let's put that
inside of there and pass that and that's
it alright so we have to figure out
what that codes going to be and we're
going to get to that here but I like to
get the interface looking nice first
before I do anything else then we have
to actually create our app here student
DB app and we're going to pass app
inside of there and then we will build
our interface just like we have done
previously and to do that we will return
students database that object that's
going to do everything for us that's all
we need to do with that application and
then of course we're going to have to
come in here and create this guy and run
it students app and then DB app dot run
and that will run everything for us so
there is the basic layout of exactly
what we're going to have to do with our
Python program and now we're going to
jump over in the TV application and
create everything there all right so
here I am now I want to be able to
reference my student DB Python code and
to do that if you want to import things
in your keavy file you're going to put a
hash symbol and a colon and import main
and it's going to be student DB because
that is the name of the file I'm also
going to import a couple more things
let's go in here and import my list
adapter so to do that import list
adapter and it's just going to stand
between the list view and the items
inside of our list view and that's going
to be located at TV adapters dot list
adapter and list adapter and then
finally we're also going to have the
list item button inside of here so
import list item button and like I said
the list views are full of list item
buttons and that's so we can interact
with them and there we go so we have all
those important now let's worry about
going and actually creating the
interface well we're going to have
student DB is going to be my route that
I'm going to be accessing that's the
Python file and student DB here I'm
going to command
and create my box layout and with box
layouts you need to come in and define
the orientation and I'm going to have it
be vertical and then I'm also going to
go in here and I have to reference these
guys over here these object properties
inside of mckeavy file so I'm gonna have
to go in and first name text input is
going to be the name inside of the
Python code and then first name is going
to be the name that I have down inside
of this TV file what you're going to see
here in a moment and then let's just
copy that and then we're gonna have last
name and last name and then we will also
have student list and we're gonna have
to do these for all of the object
properties and we're going to call this
students list view and then for some
design reasons I'm going to put some
padding around my different widgets and
spacing between the window and the
widgets inside you know so it's just
just spacing between the window and the
widgets that lie inside of it all right
so now I'm going to create a box layout
that is going to contain all of my text
inputs and my labels and I'm going to
want to define the height using specific
sizes so whenever you do that inside a
key V you have to set the size hint Y to
none to be able to define a specific
height I'm going to make my height equal
to 40 DB and then I'm going to put in
the labels as well as the text inputs
and so I'm going to have just simple
text here and as we saw in that little
diagram we saw earlier we're going to
have first name be the first label and
then we're going to have a text input
and we have to tie that text input into
this so this is where first name comes
from and so that's where first name goes
and that's going to be an ID of course
and then we're going to do exactly the
same thing for the last name except
change at the last name obviously so it
changes to the last name
and change this the last name and there
they are now we have that row all set up
so now we have our next row and this is
going to hold all of our buttons and
it's going to be inside of a box layout
again and we're going to do size hint
again for this so let's just go and copy
this just to keep it exactly the same
piece that inside of there and then we
will go and create all of our buttons so
go and create a button and it's going to
have text and it's going to say submits
then I'm going to have to go and define
well it's going sighs this guy a little
bit size hint and X and we'll change
this to 15 and then we'll have to come
in and define our what you know what
happens whenever the button is clicked
on well obviously it's going to call for
the submit students function to execute
and we're going to handle all the logic
of what goes on whenever that happens
over inside of our Python code don't we
need to do anything with key B file here
and we're going to do another one here
so the next button that we have in our
list is going to be delete just like we
had previously and this is going to be
delete students and then the final one
is going to be replace and then this is
going to be replaced student all right
and then the last thing we need to do is
go and create our list view and to do
that we just type in list view tab that
in there and then we're going to give
this an ID so that we can reference it
inside of our Python code and that is
going to come from this guy right here
so eyes will just copy that bring that
down here is that inside of there and
then we will have our adapter and this
confuses a lot of people but it doesn't
need to be confusing let's go and put
list adapter here and then what you're
going to do is define data and you can
just put it like this and it will just
be empty or you could go and put some
information in there to start off by
default either way that's that you're
just defining the you know the data
that's going to go in the ListView
that's it and then after that you're
going to point at your student list
button which is over inside of my
so to reference that I just go main and
student list button and it's going to
get all the defaults from there all
right so if we did all of that right we
should be able to execute this and at
least see what we created so let's open
up our terminal here and on Windows you
can just click on run and it's going to
run for you but if you're on a silly
Macintosh you're going to have to do
this and let's run it and we got an
error what did we get
woops I think I forgot to put a
parenthesis down here yes I did I needed
close that off save it and run it again
and see if it works this time and it did
so there we go and you can see Doug
Smith's inside of there you can see that
the interface looks pretty much like
what we were aiming for and everything's
great so now we have to finish up the
logic in our Python code alright so here
we are in our python area
so let's first come in here and handle
submit students and this is just logical
so we can come in here and we can just
figure out exactly what we need to do
just by thinking so the very first thing
I want to do whenever they submit a new
student for the database is to get the
student's name from text inputs alright
so that's pretty simple what else am I
going to need to do well I'm then going
to want to add these students at list
view so add to list view and then what
are we going to need to do well I need
to reset the list view and that's just
going to make sure that it is updated if
I want to delete a student what do I do
well I'm going to have to first off make
sure that a student is selected in list
view so I'm going to say something like
if a list item or list button or
whatever is selected then I want to come
in here and do some things otherwise I
do not want to do anything and inside of
here if one of them was selected I want
to get the text from the item selected
like I said your homework if you choose
to accept it is going to be to take a
look at my part 26 and I learn the
program series and make this work with a
database I know you can do it so
give that a try then what I want to do
is remove the matching item from my list
view and then also I want to call for
reset the list view all right pretty
simple stuff so now what are we going to
do here in the replace student area well
I'm gonna do the same sort of thing here
unless I'm going to make sure that an
item is actually selected otherwise I do
not want to do anything then what am I
going to do well inside of this area I
want to get the text from the item
selected I'm going to do pretty much the
same exact thing as we did right there
and I want to remove the matching items
and that is inside of there so we're
going to copy this might even think
about putting this in a separate
function but we'll say then what I want
to do well I want to get the student
name from the text inputs hmm
okay so go and get this I could just be
a stickler there we go grab that get
that out of there
and paste that in there so we're going
to be doing pretty much the same type of
thing here with this guy add the updated
data to the list and updated data to the
list and then what do you think we're
going to do we're going to reset the
text view or the ListView I mean so
let's go and do that and that's it
that is going to handle everything that
we need to do in our Python code so very
very logical makes a lot of sense so now
let's just write the code so we will
come down here in to submit students and
the student name is to get ahold of that
we're going to have to go and call self
and then we will call first name text in
text input which is this guy right here
which is also tied in to our key V file
and if we want to get the text out of it
that's how we get the text out of it and
then we will just combine this with a
space in between and then we're going to
do exactly the same thing except we're
going to do it for the last name that is
how hard it is to go in there and get
the student name that we're going to
need to put into our ListView now to put
it inside of the ListView you're just
going to go solve and
student list and that is also reference
to this guy right here which is also
referenced in the key V file so very
very logical and we are going to call
for the adapter and data and then extend
and we want to put the student name
inside here which is this guy so we have
to put that inside of brackets and
student name and there we are and then
to reset the ListView you go so student
list and then you're going to put an
underscore and call trigger another
under store well make sure you spell
trigger right
another underscore and you're going to
call reset and populate and there that
is and that gives you an error but don't
worry about it and we're going to be
doing this over and over and over again
so I'm gonna just copy it and paste this
inside of here so let's also go in there
and paste it out there and do it down
here as well alright so we got that now
that's it that's all it takes those
three lines is always going to take to
submit students so now we have to delete
students so first off we want to make
sure that a student is selected and to
find out if one is selected we go self
and student list and adapter we're going
to use the adapter to communicate with
our list view and then selection and
that's going to come back either
positive or negative if something is
selected then we will come down and get
the text from the item that was selected
so we'll just call this selection
because that seems to make sense and we
will say so student list once again and
adapter once again and to get the
selection we're going to this is going
to automatically give us the first item
that was selected inside of there and
text so that's how our that is and then
if we want to remove an item from our
list of you we go solve student list
again and we just use the adapter again
so adapter and then we say data and then
we say remove
what we're going to be moving or
removing is whatever was selected and
that's it now we are done with the
delete part then we come down here if a
list item is selected well if we want to
check if a list item is selected we go
and get this guy right here paste that
there get the text from the item
selected look at that we're going to do
the same thing as we did right there
remove the matching item well we're
going to come in here and we're going to
use this guy right here
get the student's name from the text
inputs well we did that up here so I
might as well just copy that once again
copy that and paste that in there add
the updated data to the list well we did
that as well so where is extend there's
this guy and let's copy that and come
down here and paste it in and I think
that's it I believe that is all we need
to do let's save it and let's go and see
if it works and here we are and let's
run it wow look at that
and there's Doug Smith and let's see if
it works so we can say Sally Smith and
submit well oh it crashed what'd we do
wrong object has no attribute submit
students hmm so let's go see what that
is line 19 in this that's not the movie
the right thing so let's go look for
submit student and if I look over here I
see I typed in submit students all right
save it try to run it again here we are
and let's run it there that is and we'll
say Sally Smith once again see if it
works this time
submit and it seems to work and now
let's say that we would like to change
Doug Smith into something different
something like Paul Smith and replace
and there's Paul Smith and Sally Smith
and let's say that we wanted to delete
Paul Smith altogether and he's gone so
there you go guys that is how to get
that guy working and like I said it is
very easy to make this work with a
database as well and now I'd like to
show you how to make a toolbar all right
so now I'm in my key B Tut file and
we're going to use a key V file called
sample key V and as you could say you
don't need to always put the require
inside of here it's going to work
perfectly fine but whatever so now we're
going to come in
and we're going to be using a grid
layout this time so let's go grid layout
import grid layout and we will create a
class called sample grid layout and we
will pass the grid layout to this guy
and this is just going to be a default
little placeholder so we'll put pass
inside of there and then we will go and
I'll put sample app will be the name
that I put inside of here this is
something I was asked for to cover how
to create a toolbar that's why I'm
covering it so of course we will go
build and self inside of there and this
is just going to return our little
sample grid layout it's a call for that
and I'm not going to have it the tool
toolbar do anything you already know how
to handle events and all that stuff so
you can easily come in here and do that
on your own so we'll go out and call
sample app and what do you think sample
app run and that's all the code we're
going to need now over in our keavy file
I'm going to pay reference to sample
grid layout and we're going to have two
rows inside of here so it rose two and
then inside of this I'm going to put a
box layout so a box layout and I'm going
to want to define the vertical height
for my tool bar so I'm going to go hint
Y and I have to mark it as none if you
want to be able to do that and I'm going
to say that the height should be around
30 pixels and what else I want to put
spacing inside of here between the
window and the widgets and that's it now
to make the background for the toolbar
white what you need to do is create a
canvas and then define a color for the
background for the canvas and this is
going to be RGB and a a is for alpha and
I'm going to put one inside of there for
all those guys so it's not going to be
transparent at all that's this last part
right here and everything else is going
to be a hundred percent that's what the
ones are remember inside of cavey you're
going
to either have a number inside of here
from 0 up to 1 1 representing 100 of 255
for RGB colors so that's what that is
and then what I want to draw here on my
canvas is a rectangle and the position
for this is going to be self position
and the size for this is going to be
self size so that's going to completely
fill up all of the available space where
we are going to have our toolbar and
then we just need to put our buttons
inside of here so I'm just gonna have
three of them and the image is that I am
using our 30 pixel by 30 pixels and they
are pinging files so if I wanted to
define a background normal so just get
30 by 30 of anything and you're going to
define this inside here this is going to
be whenever it is not being pressed and
then we're going to also have a
background down and that is going to be
the image that shows whenever it is
pressed and I'm gonna call this open
down Peng and then anything else I want
to do well I want to define the width
for it so anytime you want to define the
width for a widget you have to mark the
size hint as none like I said previously
and then I'm going to obviously define
the width and it's going to be 30 pixels
because I said these are 30 by 30 pixel
buttons then I'm going to just create
three of them just so you can see an
example of what these guys look like and
there's that and the next item I want to
show here is going to be disc which
would be something like a save so
there's that don't need to do anything
else there with this and then the final
one is going to be an exit like you want
it to exit the program as long as I
typed all that out right everything
should work beautifully and will come
inside of here and we'll execute it up
invalid syntax from Kivi out did I
forget to put out yes I did so let's go
in here and
like that save it execute and there you
can see is the toolbar and whenever you
click on them the images change sir go
guys that is how to use list views list
adapters how to create custom toolbars
and a whole bunch more and like always
please leave your questions and comments
below otherwise till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>