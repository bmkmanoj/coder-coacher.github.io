<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Make Video Games 11 : Make Tetris 4 | Coder Coacher - Coaching Coders</title><meta content="How to Make Video Games 11 : Make Tetris 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Make Video Games 11 : Make Tetris 4</b></h2><h5 class="post__date">2017-07-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UIYnimouJe0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello internet and welcome to part 11 of
my how to make videogames tutorial
series in this part of the tutorial
we're going to continue making Tetris in
the next video I'm almost guaranteeing
I'm going to finish Tetris but in this
video we are going to learn how to
delete rows and also to tally up or
score points as we delete rows like
always all the code as well as images
and everything are available in the
description underneath the video and I
have a lot to do so let's get into it
okay so let's start off by seeing
exactly where we are so we're going to
start up Tetris here and think about
what we need to do okay so in the last
video we went over how to move our
shapes downwards and there they go down
and they lands and what we're going to
need to do this time is basically cycle
through all of the rows on the screen
and then also cycle through or after we
say as we are cycling through all the
rows on the screen we are going to then
also cycle through every column in each
row and then as we find those individual
columns we are going to eliminate them
move all the other rows down and then
score a point all right so that's
basically the goal of this video and now
I'm going to jump over and start writing
some code alright so where should we
start well I think the game board is
going to make sense so let's open up the
game board and here is the game board
and let's just start writing our for our
methods here so I'm going to make this a
static function so let's go public
static and it's going to return true or
false whether it was able to delete rows
think that's what I'm going to do anyway
so I'm gonna say delete all full rows is
going to be the name of this function
and its goal is going to be to cycle
through every single row so how are we
going to do that what we're going to say
for int Rho equal to 0 while row we have
19 total so we're going to say while row
is less than 20 we want to continue
cycling through and then what are we
going to do well we're going to need to
check if we have a full row or not so
I'm going to say if and I'm going to do
this in a separate function
to try and keep these functions as short
as possible so we're going to pass in
whatever the row number is then I'm
going to call another function and it is
going to be basically to delete a row so
I'm going to say delete gameboard row
I'm then probably going to want to make
a sound that I'm not going to get into
that in this video so I'm going to go to
do make sounds and then after we do that
I'm going to return true and the reason
I'm returning true is because this is a
bowl and it says delete all full rows
and it's going to return true that yes
indeed a row was deleted just in case
that is something that I want to be able
to verify otherwise if I get down here
I'm going to return false
all right so now our goal is to go in
here and create is row full and also
create delete gameboard row
so let's come out of this function and
this guy obviously is going to return a
bowl because you saw that up there I'm
going to keep this as static also so
there's another boolean is row full and
it's going to receive the row that it
wants me to investigate and I'm
basically just going to cycle through
each column inside of that row so I'm
going to say for once again int here
we're going to be working with columns
and we have a total of nine columns 0
through 9 so I'm going to say while
column is less than 10 and then I'm
going to increment the columns of course
now remember all of the different cells
inside of our game board are going to be
either null or they are going to contain
a transform they contain a transform
they contain a cube if they are null
that means there's nothing inside of
them so what I want to do here is check
if any Knaus are found and if a null is
found we want to return false which
means that the row isn't full okay so
pretty straightforward so I'm going to
say if game board and this is going to
be a column and row is equal to null
well in that situation I'm going to
return false so I'm pretty
straightforward otherwise if we make it
through that whole entire list of
columns in that row well we know that we
indeed do have a full row and we can
return true ok so that's all set up what
we got to do here now we need to create
delete game board row so let's come down
here and let's create that this also is
going to be public static void delete
game board robe and it's going to
receive the row that it once deleted
obviously and to delete it we're going
to have to cycle through and delete the
row both in the array as well as in the
scene so I'm going to say for INT column
equal 0
while column is less than 10 because
there's 0 through 9 indexes column well
I need to destroy the individual cubes
inside of there so we'll don't do that
and that's a game object and also we're
going to want to destroy the cubes in
the array so so basically the array is
just mimicking the scene or vice versa
however you'd prefer to look at it that
way and we're going to put a null inside
of there instead of the transform for
the array null basically means empty so
now what do we need to do well we
basically need to increment up a row to
start moving all of the other rows
downwards so we're going to increment to
the next level of rows and then we want
to cycle through all of our rows we're
going to say for INT
column is equal to 0 actually let's make
this j and then this is going to be row
all right that makes better sense and
then what we're going to do is say while
J is less than 20 we're going to
continue incrementing okay that makes
more sense then we want to cycle through
all the columns just like we did
previously so we're going to go int
column is equal to 0 while column is
less than 10
yes I'm sure there's some optimization
that could be done here because I I'm
doing the same thing over and over again
but like I said my whole goal here is to
get this to work and then to optimize it
afterwards so I'm going to say game
board column J is not equal to null so
what I'm doing here is I'm going to
check if there is a block inside of the
cell and if so I want to move what is
above downwards so I'm going to say game
board
column and then J minus one and make
that equal to game board column J and
then after that I want to delete the
cube that was moved down so I'm going to
say game board column J is equal to
naught and then that is but I'm also
going to have to move the cube bits in
the scene as well so I'm going to say a
game board column J minus one dot
position and then I'm going to change
the vector on it so new vector3
0 negative 1 and 0 and that's all we
need to do for a game board so we're
going to save that except for the couple
little to do is that I put inside here
make sure I don't have any errors
jumping out at me and now we're going to
jump over into shape and test to see if
all of that worked so here we are over
in shape and where should we test all
this well we should test it where we are
moving our different shapes downwards so
it's like go through this guy here and
here it is I believe yes this is where
we're moving downwards inside here you
can see I have comments in here that's
for previous tutorials I'm going to put
the call to delete rows right in here
right before we disable this shape so
what I want to do here is delete any
full rows that exist and like I said
this was a boolean so I'm going to say
row deleted is equal to and this is
going to be a game board dot and then I
can call delete all full rows and it's
going to return true or false if a row
was actually deleted then what I want to
do is if a row was deleted I want to
verify that no other rows exist so
that's why I'm using the boolean there
so I'm going to say if row deleted then
what I want to do is call whoops this is
going to be game board like that upper
case I'm calling a static function and
I'm going to say delete all full rows
whoops
rows and then I'm going to put it to do
inside of here and this one is going to
be change the score on user interface
and I'll get to that here in a second as
far as I know that's all I need to do
just to verify that I have the ability
to delete rows let's jump over into
unity and test it out
here we are I don't see any errors down
here so that's a good sign so let's go
and run it and see if it works and here
we go and got this all sewed up I'm
expecting there to be an error but you
never can tell all right so let's just
make a row as quickly as possible
well that was pretty quick alright so we
got that and it worked all right so good
good good all right so let's stop that
next thing I want to do is I want to
change the score whenever a row is
deleted let's just come in here and just
do this right here what do we want to
call this let's call this increase text
UI
score sounds like a good name and let's
go and copy that we can just go and put
that at the very bottom here of the
screen another thing is I think we can
get rid of the print array part right
now because we don't think we need that
anymore so let's just go and get rid of
this right now there it is it's gone all
right so let's create our ability to
increase our text scores so we're doing
to make this it's not going to return
anything so void increase text score
doesn't receive anything it's just going
to basically increment one thing though
if I want to be able to increment or
change any of the UI stuff I have to
come in here yep I need to throw in a
new library here so let me go using
unity engine dot UI that is come back
down inside of here and what I'm going
to do is I want to find a matching text
UI component which is going to represent
the score if we jump over here this is
the guy that I want right here so let's
go and open this up and canvas and score
this is the guy that I want and it's
name is score obviously so to get this
I'm going to go var and I'm going to
call this text
UI opponent is equal to game object and
I'm specifically looking for the one
that has the name of score and then to
get the component so we can work with it
a go get components and you have to tell
it what type it is it's a text UI
component and there we go now we got it
so what I want to do now is get the
string that is stored inside of it and
convert it into an integer
I'm going to call this score is equal to
and how we convert that as we go into
parse and text UI component and we get
text which is the string that's stored
inside of it we want to increment the
score and then after that we want to
convert the score to a string and then
update the UI component so to do that we
just go text UI components and text is
going to be equal to score dot to string
and test that out and see if it worked I
think it did let's run it alright so
here that is I'm going to have to get
rid of this new text and let's go see if
our Tetris is working yeah I think
definitely in the next video we will be
able to completely beat Tetris or create
Tetris and impede it and let's go get
this and see if our score changes right
now and if I row deletes and it did all
right it's a cool stuff let's go and do
it one more time just to verify here
let's do it bad thing just on purpose
and awesome all right guys so hopefully
you enjoyed that video that was actually
straightforward and pretty awesome so
like always please leave your questions
and comments below otherwise till next
time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>