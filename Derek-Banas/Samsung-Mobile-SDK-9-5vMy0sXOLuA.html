<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Samsung Mobile SDK 9 | Coder Coacher - Coaching Coders</title><meta content="Samsung Mobile SDK 9 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Samsung Mobile SDK 9</b></h2><h5 class="post__date">2013-12-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/5vMy0sXOLuA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
9 of my samsung mobile sdk tutorial in
this part is tutorial I am going to
completely finish the paint application
we started way back in part 7 thought I
could do it in part 8 but it just got a
little bit long so I'm going to finish
it up right now and I'm going to jump in
directly into the code so as to not
waste any time so let's get into it so
now we need to go back up inside of on
create and do pretty much exactly the
same thing for our eraser button and add
an event listener for it as well this is
just called eraser button and this is
called eraser button this is a razor and
this is a racer course that means we're
gonna have to create eraser button click
listener and guess what it's almost
identical to this pen button click
listener so we're just going to copy it
there it is copy and then just to make
sure we know which is which eraser
listener paste that in there come back
up here change this to a racer going to
do pretty much the same exact thing
we're going to check if the current tool
being used is the eraser tool and that
is action eraser it's the reference for
that and then we're just going to come
in here and change all these pens to
erasers so we're going to say is the
setting window shown and change this to
a racer so if it's shown make it go away
if it isn't shown show it on the screen
change the eraser instead of pen there
change this to a racer all this is fine
change this to eraser this is a capital
T may I make sure I didn't do that wrong
up here yep I did just the capital T no
it's fine and that is in reference to
what type of tool we're using of course
and then change this to view mode normal
and I say let a little air down here
that's just because this is supposed to
be remove all object sorry about that
okay back into own create going to do
the same thing for both the undo and
redo buttons so just change this from
eraser to undo change just undo this is
undo button change this to undo and redo
button because that's going to handle
both of those of course it doesn't exist
yet then of course we're going to also
check to make sure that it's going to be
possible for us to undo and to do that
we're just going to go set enabled and
spen
page dot dot and call is undoable which
we have from before and we might as well
just come in here do the same thing for
the redo button because this is going to
be the listener for both of them so just
change this to redo change this to redo
change this to redo redo that's
perfectly fine da da da da everything
else looks fine ok so that means we're
gonna create the click listener for both
the undo and the redo button let's just
come down inside of here let's go after
the eraser listener let's go after all
these all right just throw it in here
and it's going to be a private final on
click listener again undo redo button
click listener a little bit long-winded
but very descriptive on click listener
throw the semicolon in tell me what
methods I need to implement there we go
throw those in there and whenever undo a
redo is clicked on we're going to have
to check couple different things first
off we're going to have to say is the S
Pen page doc valid and we do that by
checking if it's equal in all and we'll
just return out of here if it is then
we're going to check because this is
going to handle both undo and redo we're
going to check if the undo button was
clicked and we can just do that by
getting the view and check in if it's
equal to the undo button and then if it
is we want to check if it's possible to
undo anything we do that by calling the
s-pen page doc again and saying is it
undoable and now that we know that it is
undoable we're going to check the
previous state history for our page
let's just call that user data and then
we're going to return it by calling the
s-pen page doc and calling undo after
we've done that we just need to update
the undo state in the stack because it's
going to save all these previous
versions in a stack sort of structure so
update undo and this is going to be user
data then we can say else if our redo
button was hit or clicked on and we're
going to check it just to make sure
that's what we're dealing with mmm redo
button well we're going to do pretty
much the same exact thing but I'm just
going to type it out if s pen page doc
check if it is renewable then we're
going to check and we're going to return
previous page history call that user
data as well spen page
and culver do and I got a little error
here let's just change this to on doable
well capital yeah there we go all fixed
now basically all we have to do is
handle whether the image picker button
was clicked on so back up into on create
just copy these because we need both of
them paste that in there and this is
background image button and that's good
this is going to be as well background
image button background image button and
this is background image button click
listener throw em on there scroll down
inside of this and where do we want to
go I'm just gonna go right here and
we're gonna do pretty much the same sort
of thing private final on click listener
except we're going to be opening up the
gallery in this situation new on click
listener throw in a semicolon a denim
implemented methods there we go when
that guy is clicked on we're going to
close our settings windows for both of
the pen and the eraser which we created
this just a couple seconds ago and then
we are going to open up our picture
gallery and I'm going to use an outside
method for this input image which I'm
going to create here in a second and I'm
going to pass this guy that we create a
way up here to say that the reason why
we are going to be opening up an intent
which is going to open up the picture
gallery and then send the location of
the image back to this application where
am I there I am is because of this right
here so it'll be able to pass it back
and I'll be able to track exactly what's
going on and that's all I need to do for
that I need to create this guy though
let's just go down here paste this in
here private not going to return
anything call our picture gallery it's
going to receive our little request code
so that we can track this I'm going to
be creating an intent so I'm going to
throw this inside of a try block get
ourselves little bit more room create
the intent that's going to display the
gallery and then allow the user a pic
picture and then return it to our app so
i'm going to call this gallery intent
and it's going to be equal to intent and
the intent action is going to be get
content because that's exactly what I'm
doing get the location of an image that
I'm going to use as a background image
going to set the data type that's going
to be returned
which is going to be an image you sure
spell gallery right then I'm going to
trigger my activity and then return the
item selected to method I'm going to
create a second called onactivityresult
do this with startactivityforresult and
I just passed in the intent and the
request code so that I know what exactly
is going on with test for that inside of
on activity result then basically the
only thing go wrong here is basically
the gallery isn't found so I'm going to
catch activity not found exception e and
we can do a little message here this is
going to be M context for me so I call
it and i'm going to say cannot find
gallery and then we have to put in
adoration for this will just say exactly
what we always do toast.length short and
then of course to show the toast we have
to come in here and go show and there it
is you know e.printstacktrace if you
want to try to catch that air and figure
out what it is okay so after this is
triggered what are we going to have to
do well we're going to have to have on
activity result in here to catch the
result of the data so this is going to
be protected because we're going to want
these methods in same activity to have
access and it's going to get request
code sent to it just like you just saw
and we're gonna have result code that's
a skype here say and then the intent
data and I could have had that
automatically generated but I didn't so
that's okay super on activity result and
then we're just going to pass in the
result code again then we're just going
to pass in our request code again our
result code and data then we need to
check to make sure everything went all
right whenever the intent was called and
the result code is going to tell me that
by checking if resultcode was ok and
then check if the image was actually
available for us to use or you know they
didn't give us one or whatever and if
they didn't give us one let's just print
out a toast and cannot find image and
then we can just throw returning after
that get out of here and then we want to
check that the intent was actually meant
to return an image and we're going to
do that with getting that request code
and then comparing it to this gigantic
thing up here this guy right here
request code select background image da
da da da paste it in there and if we got
it we want to say and get our path to
our image call data get data we're going
to create a cursor which is going to
allow us to read the image data and
we're going to need a content resolver
to be returned and it's going to be used
to access the data in this case the
image and we can get that by calling get
on tent resolver and then finally query
or I parse image file you or I to
strength that's in no no and no we don't
need to worry about that then we can
just call the cursor move to next which
is going to move through all our results
get our image path I calling cursor get
string cursor dot get column index and
then media store is going to have an
index of all the different files that
are in storage media store media columns
dot data and then all we need to do now
is set the background for our document
and page doc set background image ask
the image path and then update surface
view and this is image page not image
path there we go and that is basically
everything I just need to come up into
on create and finish this off by
checking to make sure the S Pen is used
by default and we're just going to go
select button and set my pen button as
the default active button whenever this
starts up and then we're going to check
if the S Pen is enabled or not by
checking if it's false and if it is
we're going to set the tool type to be
used to by calling the surface view and
saying use the finger as the option
because the S Pen is not available pass
into set tool type action S Pen surface
view stores the option to use the stroke
so we're going to reference that so that
it knows oh and this is giving me an
error because it wants an extra null
inside of here about that fixed that's
down at the very very end inside of on
activity result right there and then the
only thing left to do is basically to
shut down
thing whenever the application is
destroyed by calling em pen setting view
it's not equal to null paste it in there
and close it and then we're going to do
the same thing for the eraser if rates
of setting view is not equal to null
well we're going to close it also and if
the surface view spen surface view is
not equal in all we're going to close
that as well and we're going to set it
to null do the same thing for note dock
with no doc we're going to do a try
catch and if we got this far and we're
destroying the application anyway it
really doesn't matter e.printstacktrace
catch that later before we release it
and then make sure that this is the S
Pen no dock and this is the S Pen note
and there we go wow that was a lot of
information so covered a ton of
different things in regards to spen of
course all the code is available in the
description for this video and it's
extremely heavily commented please leave
any questions and comments below
otherwise till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>