<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android Development Tutorial 23 | Coder Coacher - Coaching Coders</title><meta content="Android Development Tutorial 23 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android Development Tutorial 23</b></h2><h5 class="post__date">2013-10-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/MC0XFPXA3TE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
23 of my android development tutorial if
you haven't watched in the previous
tutorials you absolutely have to start
at least at part 18 which is part of
this app we're making right here and I
provide a link to that in the upper
right hand corner and today we're going
to talk about view pager pager adapter
fragment state pager adapter and a whole
bunch of other things just to cut to the
chase I'm going to show you how to do
some really cool things interface wise
which just seems a lot of people are
interested in so let's jump over and
take a look at what the final result
will be so here we are basically with
our census app just like we had
previously and what I'm going to show
you this time is previously whenever we
clicked on one of these people's names
that information popped up and if we
wanted to get to one of the other people
on our list we had to jump out of here
and then hit back and then click on them
well from now on what we're going to be
able to do is just simply go and drag
right through all of these different
citizens all in one area so I have a lot
to do to implement this so let's get
into it okay so to make what you just
saw there basically what we had
previously if you can't see this view at
full screen it's an HD video basically
we had these list items right here and
these were all the different people we
had to contact and previously if you
clicked on one of these guys what would
happen is census app would fire and it
would load the contact fragment and that
was it now however if we want to instead
allow people to flip back and forth
through all the different contacts what
we're going to need to do is when they
click on the contact list activity like
you saw previously what we're going to
do instead is send them to a new class
called contact view pager and then load
up all the pages that represent all the
different contacts in our ArrayList so
let's jump into our code and let's
create this guy alright so the very
first thing I want to do here though is
a little bit of housekeeping previously
I made a bug which I do on occasion
basically what I want to do with this I
made this error right here in regards to
the checkbox so that whenever they
clicked on a checkbox it's going to jump
into contact and it is going to set
contacted to the right version whether
the checkbox was either clicked on
we're not clicked on so that was a
little bit of an error basically what we
need to do here is just take this
boolean value and let's throw that
inside of there so that's going to
either contain true if it's clicked or
false if it's not clicked and that's all
we need to do and that's fixed now the
check box will work properly if you
didn't catch that error previously so
now let's jump in here and let's start
paging this guy now this is going to
require a brand new class and it's going
to be called contact view pager Java and
of course it is going to be over in your
source folder so let's just start
creating everything as we go here now
basically what a view pager is is it's a
layout manager that allows you to flip
left and right through pages in your app
so that's basically it just like you saw
in the example and we're going to have
it extend the fragment activity because
we're working with fragments here again
and of course that means I need to come
in here and import that fragment
activity library so there we go then
what I'm going to need to do is define
our view page or inside of here like I
said just allows us to flip back and
forth just like you saw so there is the
view pager of course you got to get a
library for it as well then since we're
going to be working with our ArrayList
I'm also going to define that inside of
here and load it up and just like before
I'm going to call this contact list and
of course that requires a library now of
course we're going to have to create
this guy so I'm just going to right
click inside of here go into source just
like I did before and then come down
here to override implement methods
whenever that opens up we're going to
have to click on on create and create
that guy and after contact list is
perfectly fine hit OK and there that is
basically leave that alone
and we have to define our view pager
let's just go the view pager is equal to
new view pager and pass this inside of
it now just like we saw previously with
the adapter of view and how it requires
an adapter to make it work this time
we're going to use something called the
view pager which requires a pager
adapter to allow it to work and
basically what the page or adapter is
going to do is provide the adapter for
populating the pages inside of our view
pager so you can just think of the view
pager as just like a box
and then it's going to contain all of
our contacts which we're going to refer
to as pages now the specific name for
the page or adapter that I mentioned
previously is the fragment pager adapter
and to use the fragment pager adapter
with our view pager we're going to have
to assign the view pager an ID and
that's simple enough we're going to just
go down into our values folder and we're
going to create a file called IDs XML so
let's open that guy up and here it is
now to define this resource ID we're
just going to say item type is equal to
and it's a ID and then we have to give
it a name that's it and the name is
going to be view pager just to be real
simple and then close off that tag and
that is all we're going to have to do
for it so now we can jump back over into
contact view pager and here we are and
then we're going to just set the ID for
this the view pager set ID and then it's
just going to be our dot ID dot view
pager just like that and there we go
then we have to set the current view for
our view pager so we're going to say set
content view and then put the view pager
inside of there then we're going to have
to actually get our contact list and to
do that we're going to call all contacts
and then we're specifically going to
call get and what get is going to do if
you can't remember from before which is
definitely understandable it's going to
check if an instance of all contacts
exists and if it does the one instance
is going to be returned otherwise the
instance is going to be created because
remember there is only one contact list
there's only one Rea list and this guy
I'm just going to pass in this and then
I'm going to go get contact list to get
our ArrayList and there we go now we
have that scroll that up a bit of course
we're going to need a fragment manager
and I'm just going to call it frag
manager I think that's what it called it
before and of course the fragment
manager is just going to add our
fragments to our activity views so I'm
going to say get support fragment
manager and there we have it of course
we need our libraries and I'm
specifically just so you don't get
confused I'm going to get the Android
support
version 4 there it is and like I said
before just like the adapter view that
we used previously requires an adapter
like we used in fragment contact list
which I'm going to add just pop open
here real quick say here we go and you
can see here's contact adapter and this
is where we then went down through here
and defined the contact adapter so that
we were able to pull information from
our ArrayList that's from the previous
part of this tutorial if you don't
remember well just like we set that up
the viewpager is going to require a
pager adapter so pretty much the same
sort of thing so I need to set our
adapter for it just go the viewpager set
adapter and then I'm going to call new
and then I'm going to create a frag this
is a long-winded one fragment state
pager adapter and the fragment state
page adapter is going to implement the
page adapter that we've been talking so
much about and basically just to cut to
the chase what it does is it uses a
fragment to manage each page and it also
saves and restores each pages state
while we are flipping through them so
frag manager course close that off with
a semicolon
and this guy's going to say hey you need
to import me so I'm going to go here and
I'm going to import it and then it's
going to say hey I have some
unimplemented methods where are you
there you are and it's going to generate
them for me basically what get item is
going to do for us is get the specific
contact from the right position in our
ArrayList so all we need to do for this
is to create our contact the contact and
do that by calling contact list get and
the current position is going to be
stored the position meaning we're in the
ArrayList are we and I'm just going to
change the name of this guy right here
to position just to make that a little
bit more understandable and then all we
need to do is return a contact fragment
by retrieving the ID number from the
current contact to do that we're just
going to go return contact fragment
it's going to grab me the right fragment
for the very specific contact that I
want pregnant and to get it I just say
the contact get ID number because it
knows the position and I'm just saying
hey I want the ID number for that
contact in that ArrayList and then I
return it and that's what get item does
for me it returns the proper contact
fragment so I can display it and then
down inside of get count all this guy is
going to do for us is return the number
of items in the array list so that we
can keep track of them and just contact
list dot size is what we need to return
and now what we're going to need to do
is set up fragment contact list this guy
right here to call contact view pager
this guy right here instead of calling
census app which is what it used to do
and that is way easier than you might
think we're just going to need to go
into fragment contact list that's the
guy that generates the lists of contacts
on the screen and defines what happens
when one of those list items is clicked
on and basically I have to figure out
where exactly we are calling that intent
on here it is right here you see on list
item click and what we're going to do is
just change census app to contact view
pager which is the new class that we
want to call whenever one of those items
is clicked on we still want to use put
extra because we want to pass along the
contact ID but here we're just going to
call regular old start activity but
we're still going to put our intent
inside of it so that's it previously we
were calling census app now we're
calling contact view pager when one of
our list items is clicked and that is
literally all we need to do to change
fragment contact list so that it calls a
different class when that's clicked on
but of course we are going to have to go
into our manifest file and make a couple
changes because this activity since this
app really isn't being used anymore
so what we're going to do is just
highlights as this app and instead
replace it with contact view pager and
save it now everything is set up to call
the right activities and actually you
could run this app and it
would work however the only thing that's
going to cause a problem here is if you
would click on one of the list items
it's always going to bring up the first
item in the list no matter if you
clicked on the second third tenth item
in the list it's always going to open up
the first so what we're going to need to
do is go back into contact view pager
and change that it's actually not that
hard just come in here right where we
left off and right after this guy in
here remember everything has a unique ID
number contact ID and if before you
enter this in if you want to run the app
to see how it works go ahead and do it
it's always good all right so then we're
going to say get intent and then we're
going to go get so you're realizable
because remember we're passing the
unique ID numbers for the contact that
we're currently working with as we
bounce back and forth between activities
and to get that specific ID we just call
contact fragment dot contact ID really
like that and of course you remember
from contact fragment that is where OOP
we scroll up here this is the guy that
we are referring to which is going to
store the contact IDs as they are being
passed around and if we scroll down
inside of it you can see here is another
call for get serializable which is going
to get the right contact ID so now let's
bounce back over into contact view pager
and let's get the library for the unique
ID library that we're going to need now
all we need to do is cycle through all
the different contacts in our ArrayList
to find a match and then set the current
position of the match so that the right
contact pops up on the screen whenever
it is clicked on so of course we want to
cycle through that normally means a four
loop is equal to zero and we're going to
cycle in here as long as there are items
in our contact list and cycle away then
as we recycling we want to check for a
match to the ID that we're looking for
so we're going to say get and this is
going to be index or I in this situation
then we're going to say get ID number
for that current contact we're looking
at and see if it is equal to the contact
ID that we're looking for and if it is
we're going to say the view pager and
we're going to in essence tell it what
page
it should be on whenever it is opened to
do that to say set current item to
whatever it is and that's it and then
after we find a match we don't need to
mess around here anymore so let's just
call break and that is going to make
sure the right contact pops up whenever
you click on one of the contacts in the
list then just add something else on to
this let's say that we wanted to change
the title at the top of each of the
different citizens that we were looking
for as we click on a page so let's say
we want to put citizen number two or
citizen number three maybe to help us
better categorize what citizens we've
met with and which ones we haven't I
don't know I'm just making this up just
to be able to use this we're going to do
is just call the view pager again and
then we're going to put an event handler
in here set on page change listener so
whenever we switch to a different page
we want to do something new and I'm
going to call view pager and
specifically we're going to call on page
change listener that's what we're going
to create here it's going to
automatically generate everything I need
make sure I put a semicolon down there
don't know why it doesn't automatically
do that and then let's say that on page
selected we want to come in here and set
the title to something different and
like I said let's say we want to say
citizen number whatever is the current
citizen that we're working with and argh
in this situation is going to be the
same as position for our array so I'm
just going to put position and that will
categorize every citizen that we meet
with will have a custom number
associated with them at least for that
day and if we file save it and execute
and here you can see there is our list
and of course click on Sally Smith she
opens up and we're going to be able to
switch through all the different pages
just like we did before so there's some
cool things you can do with interfaces
please leave any questions or comments
below otherwise till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>