<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python 2.7 Tutorial Pt 14 | Coder Coacher - Coaching Coders</title><meta content="Python 2.7 Tutorial Pt 14 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python 2.7 Tutorial Pt 14</b></h2><h5 class="post__date">2010-11-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/fO_6K4kDp_Y" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
14 of my programming with python 2.5
through 2.7 tutorial the longest
tutorial in history not quite but either
way you haven't seen the previous
tutorials most definitely watch them
before you watch this otherwise you will
be completely confused well after my
last tutorial I got a lot of interaction
with you guys mainly because you were
happy that I made you this little tool
that allowed you to web scrape other
websites but you were unhappy with the
results well I'm gonna correct that
today here were the previous results and
again we're hacking or web scraping The
Huffington Post website right here and
what you were unhappy with was the fact
that the results contained tags and
these ampersand fangs so tricky and
pronounced and so forth and so on and
you sent me a whole bunch of emails
complaining about that so in this
tutorial going to teach you how to get
rid of them actually I'm gonna teach you
two different ways what we're gonna do
now I'm gonna create a function called
clean HTML and this is going to be the
way to clean it with the module you used
in a previous tutorial called
beautifulsoup and I'm going to convert
this to a string then I'm gonna pass
that string to beautifulsoup again these
variable names mean nothing they're just
made-up you can pass that string over
there just by doing that and
beautifulsoup is gonna help you strip
out all of the offending tags that you
do not like call the find function and
remember all of these are surrounded by
paragraph tags because we specifically
asked for all of the paragraphs from
beautifulsoup
down below with the find all we said
find all the information that lies
between paragraph tags well since we did
it that way it's gonna be real easy to
find all of the offensive text and we're
just going to pass that information over
and say get rid of everything or just
get the text and not the HTML tags that
lie between the paragraph tags and also
one thing it's not going to get rid of
and here I'm actually going to be using
a regular expression kind of getting the
feeling you guys want another regular
expression tutorial that goes into more
detail if you do leave a comment below
if you don't know I do everything based
off of your wrist
so here what I'm just simply saying is I
want anything anything that starts with
an ampersand and any number of
characters and ends with a semicolon to
be replaced with nothing so this is just
quotes with nothing between it and then
of course I have to pass I to it so that
it knows what's string to perform this
change too and also I noticed there's a
offensive thing called watch and just to
be cheap I'm just gonna type in watch
and that's gonna get rid of that alright
there's your code now what you're gonna
have to do is call clean HTML on the
strings before you print them to screen
forgot to come up here put the equals
sign in and then of course you want to
return I which is your edited version of
the string or the paragraph and then
down here you want to put I equals clean
HTML and if we do that you can see that
it is printing out to screen everything
and stripping out all of the tags
there's no paragraph tags there's no
none of the offensive ampersand codes
there's nothing here
everything has been stripped away and
the only reason why I call it humor
showing up here is because it's not
surrounded by tags it's not meant to be
taken out and of course this is a
reference to the original article
I'm not making any edits that item only
making edits to the actual content the
original article now I'll show you just
to be different here I'm going to show
you a different way to do this using
just regular expressions and not
requiring beautifulsoup
just so you can kind of understand
exactly how this is working I'm gonna
still convert this to a string except
I'm going to create or edit this using
just regular expressions and I did get a
question from one of you guys about why
sometimes you put an R in front of a
regular expression or whenever you don't
you put an R in front of a regular
expression whenever you want this to be
considered as raw text meaning that
you're not going to have to backslash
certain things such as stars and so
forth and so on
to be able to use them so that's why you
use R and I'm basically saying with this
regular expression that I want it to
match for anything that starts with an
opening caret brace but no
if it is followed by another opening
carrot brace and then it can or it
doesn't have to have a forward slash but
it absolutely must have a closing carrot
brace so that's what that regular
expression is saying and that's gonna
grab anything that is a tag for me I'm
just gonna run the substitute method and
replace anything that matches that
regular expression with nothing so I
have two quotes there and then I'll put
in the substitutions that are gonna get
rid of the ampersand problem and the
watch problem and since I didn't change
clean HTML I can just run this guy and
you're gonna see that I got exactly the
same precise results as I did with
beautiful suit so that's actually pretty
much how that part of beautifulsoup
works and so that you guys completely
understand exactly what I'm doing here
I'm gonna actually going to come in here
go new file and this is gonna be
specific to that regular expression code
that I just used so I need import re and
then I'm gonna create my pattern here
my regular expression pattern that I'm
gonna be searching for re compile raw
text and then I'm gonna say I'm looking
for an opening carrot brace but I do not
want to match it if it anywhere contains
inside of it another opening carrot
brace before it gets to the closing
carrot brace and then I'm gonna step
back inside of here match all the
information that lies inside of it and
then say that it can have a forward
slash but it does not have to and the
reason why I do that is let's say
current owner dotsub forward slash click
here and I have let's say an h1 tag with
class its equal to whatever just
throwing something junky in there and it
has a closing tag but then it has
something like 4 is less than 9 and then
it has h1 that's why I'm doing this part
right here is to make sure that it
catches this that it's gonna be able to
find this and not get confused and
actually if you run this you'll see that
it was able to properly go grab click
here and 4 is less than 9 because this
guy right here what it did was it looked
for this tag right here
and this final tag right here and it
said get rid of those and it did that
with the substitution method that lies
within your regular expression modules
so I hope that was completely
understandable if you have any questions
or needs for any other regular
expression tutorial leave a comment
below if there's any questions you have
of course leave them there and I do
answer them to the best of my ability so
next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>