<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Make Android Apps 20 | Coder Coacher - Coaching Coders</title><meta content="How to Make Android Apps 20 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Make Android Apps 20</b></h2><h5 class="post__date">2014-12-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WLoy_rz12SM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello internet and welcome to part 20 of
my how to make Android apps tutorial
series and today I'm gonna focus in
completely on interacting with SQLite
databases inside of your Android apps
I'm gonna make this as simple as humanly
possible so you'll be able to easily
understand as well as copy and paste
whatever features you need into your
application I'm gonna show you how to
create databases edit rows delete rows
add rows get rows delayed delete
databases and in the description I have
a link to an SQL Lite tutorial that'll
teach you everything you'd ever want to
know about SQL Lite as well so let's
jump over and let's look at this simple
application and what it does ok and here
is our application as you can see it's
gonna allow us to create a database and
there's a little toast that pops up it's
also going to allow us to come in here
and create new contacts and I'm just
keeping this very simple and allowing
them to enter a name as well as an email
address and then we can click on add
contact and then get contacts and you
can see right here that it automatically
went into the database and we're also
gonna be able to come in here and enter
an ID number for a contact and delete
that contact and if we click on get
contacts you guys see no results to show
and then we're also going to be able to
delete the database so it does a ton of
different things in a very simple way so
let's go create it okay so you saw the
application and here it is right here I
just went ahead and dragged over the
buttons and all that stuff I know it's
very simple but that is what it's meant
to be it's meant to be simple so you'll
understand it be able to use it that is
the most important thing to me is that
you'll be able to use this code so right
now you were inside of activity main.xml
and i'm just gonna go in here and add a
couple little things here and there
inside of the button for where we're
gonna create our database whenever that
is clicked on I want to add an on click
event and this is going to call for a
method called create database to be
executed and then go down here to this
button where we have add contact and
this guy I'm going to add another on
click event and this one's going to be
add contact is going to be the name for
that and I'll create those methods here
in a second and then on top of that
before we create our database we're not
going to be able to go in here and
contact so I'm also gonna want to go in
and say that I want clickable to be set
to false so we got that set up might as
well just come in here and create these
methods right now let's create this over
an activity main our main activity
always call it activity main for some
reason and there it is we'll come back
to that in a second and we'll go into
this one and we'll do the same thing
great database there we go there that is
for this one this is going to delete a
contact for us so I'll come in and do on
click and I'll just call this delete
contact and then also I'm going to have
clickable for this guy also set the
false because can't delete anything the
database isn't there or created this is
going to be the get contacts button on
click again I'm going to have this one
be get contacts and I'm also going to
set clickable for false on that as well
I'll cover exactly how to fix that and
go in here and create this method for
ourselves it is come back an activity
main we don't need to do anything with
these editable text boxes we'll come
down here to this button right here
which is gonna delete the database for
us and we'll put on click and of course
all of this code is available in a link
in the description and it's also set the
clickable for false on that and let's
call this delete database oh I already
have it right there and that is all
we're gonna have to do for activity main
so let's just save that jump over in the
main activity okay so here we are inside
of this guy and now I just need to come
in here and set everything up first
thing I'm gonna do is I'm going to
create this SQLite database and this is
going to be directly tied to my
application so contacts DB I'll just
give this a null value here for now then
we'll define all of our buttons so
create DB button add contact button
delete contact button get contacts
button and delete DB but gonna do
exactly the same thing for our editable
text boxes name edit text email edit
text contact the list edit text and then
the ID that they want to delete that
editable text that's all we need to do
there now let's go down inside of on
create and then we're basically just
going to create or initialize all our
buttons so create DB button there it is
C equal to
it's button find you by ID straight DB
button then we got to do that for one
two three four more buttons just go in
here save some time then we'll just grab
these guys up here and I like to always
give them the same names for me it works
some people some people don't like doing
that I don't know why but I like doing
it this way to each their own and then
delete button it is and there this is
now I'm going to initialize all the
editable text boxes as well and then
find you by ID and this is gonna be our
dot ID dot name edit text then I got to
do that for three more of these guys and
fix the email here for us there's the
contacts list that's where all of our
lists of data is gonna show up then the
last ones ID edit text alright all set
up so the next thing we got to do is
create our database I'm gonna do this in
a logical order here so move this down
here I was gonna do a really complicated
sort of thing with databases but I think
this is more useful for everybody
because it just shows you what what you
want to do and what you can do anyway
very easily so to initialize our SQL
database what we're gonna do here is
open either a current database or it's
going to create a new database and to do
that we're gonna say this open or create
database right like this you're gonna
pass in whatever the name of the
database is I'm gonna call it my
contacts then I'm going to say mode
private which means my application is
the only one that's going to be using
this information and then pass in null
and the null part here is actually or at
least it can be used to handle database
errors and what you would do in that
situation is pass in a database error
handler in case there's like a database
corruption issue or something but I'm
not gonna focus in on that right now and
then what I'm gonna do is execute an SQL
statement like I said before if you
don't know SQL Lite I have a in-depth
tutorial and there is a link to it in
the description so we're gonna say
create table if not exists and it's
going to be called contacts and then
I'll put a spacer down to the next line
and then I have to
Nate what I want to go inside of here so
if I won an ID which is going to be my
primary key I'm gonna put integer
primary key and if I want to have a name
variable number of characters is what
that is so that's a string and then an
email variable number of characters and
then you got to close that off and put
that semicolon in there and then
semicolon to end the statement so that's
how easy it is to send a query to a
database if I wanted to come in here and
verify the database is on the file
system
I could go file it's equal to and then I
could go get application context right
like this this is something just add it
in here just so you'll know how to do
this if you need to do it
and I could say something like get
database path and then inside of error
you just put my contacts dot DB and
there that is and then we can come in
here and check if the database exists
and to do that just go database exists
like that and in this situation which it
does you could do like a toast make text
this and go to a database created and
let's say you wanted to have your toast
link short and then do a show and there
you go and otherwise you could come in
here and say else paste in another toast
and say something like database missing
or something like that and there you go
that's how easy it is to create that and
then just to handle this triblock issue
down here I'm just going to catch
everything
just to keep it simple E and maybe print
out a log message or something like that
so we could say something like contacts
error creating database and there we go
and that is how easy it is to create the
database now remember also with over
inside of here with these guys these
buttons are not clickable until the
database is created so we want to jump
it over here and before we end this
we're now gonna make all our buttons
clickable and to do that let's go add
contact button and then we could do is
clickable to true pretty easy and we'll
do that for everything else and so now
all those buttons will work now to show
you how easy it is to come in and add a
new row of data or a new contact in this
situation what we're gonna do is first
get the contact name and the email
entered in our little app that we saw
and of course you could put all these
things in different fragments
bounce back and forth but I just wanted
to keep this simple so I'm not gonna do
that I trust you're able to do that on
your own because I've shown how to do
that and we can just go get text and
then - strength there it is and then
we're also going to come in here and the
ID the primary key for every contact
that you create is going to be generated
on its own so you don't need to put that
in their email edit text and get text to
get that guy and then to string okay now
that we have that how easy is it going
to be to insert that information into
the database well you're just gonna call
for the SQLite database contacts DB and
exec again and this is what you're gonna
use for every query on the database this
guy except in the situations in which
you're going to use select what you're
gonna see here in a moment
so we're just gonna say insert in two
contacts which is the name of our table
and we're gonna just say exactly what
information is gonna go inside of there
and then we're going to designate the
values that are gonna go inside of there
put that little quote there close that
off let's jump down to the next line to
make this easier to see and then we'll
just go contact name there it is
and then you draw two plus sign and then
close that off put a comma close that
quote off and then contact email there
that is plus and then we got to close
that off with a quote and then another
semicolon and there that is that's how
easy it is to go in and add a new row of
data to our database now if we want to
get all of our contacts and display
those on the screen in this situation
we're gonna use a cursor which very
simply just provides read and write
access to the database results that you
get from your query that's it that's all
cursor is not that complicated just call
it cursor is equal to and we call
contacts database and you're gonna use
raw Cori here why because we're going to
be using select in this situation I'm
gonna say I want everything from the
contacts table that we have and then
pass in all and there you go you got it
now you're gonna use this cursor which
like I said before provides read and
write access to our database results
from this query so it says I want
everything so then I'm going to use all
that information first thing I need to
do here is get the index for the column
name that I'm going to pass in so first
I'm going to get the
i d-- or this current contact i just
call cursor and I say get column index
like that and I pass in whatever the
name of that individual thing in the
table is which is ID do the exactly the
same thing for our name column equal to
cursor did column index and this is
gonna be named int and then this is
gonna be email column is equal to cursor
alright good column index and this is
gonna be email because that's the name
of it inside of our table if I want to
move to the first row of results that I
got cursor move to first write like that
I'm gonna put all of my results into a
big string that I'm going to call
contact list start it off with nothing
inside of it first thing I'm gonna do
here now is verify that we actually have
results so I'm gonna say if cursor is
not equal to null and I want to check
that there are results if I want to
check how many results I use get count
is useful in many different ways I'm
gonna say if get count which means the
number of results is greater than 0 well
then I know I have results so now that I
know I have results that means I can
cycle through them so I'm gonna use a
do-while loop here and I'm gonna say wow
I have results keep getting those
results while cursor and move to next is
going to tell me that close this off of
course don't forget that semicolon and I
need to get the results and store them
in a string so I'm gonna say that I want
get the ID I want to get that say get
string I do call them it doesn't matter
if it's an integer inside of there
you're still gonna use get string and
I'm also going to get my name cursor all
right
good string and then I'll pass inside of
that name column which is what we just
created above and then string email is
equal to cursor get string again and
then this is gonna be email column there
it is got all those results store them
in strings now I just need to save them
to our contact list which is what we
created right there so is equal to I
want to say contact list whatever was
currently inside of there plus ID and
now you could do anything here but let's
just say I just want to put a call
in between all these guys I can do that
I could say something well let's do name
first and + : inside of their floss and
then put our email inside of there and
then at the very end of it let's go in
throw a new line so they could say new
line and there that is that's how we're
gonna generate our contact list and
that's all we need to do that right
there that little bit of codes going to
hop right through that database and get
us everything that we need then what I
need to do is after we get out of the
wild loop there's nothing more here for
us to work with I'm gonna go contact
list I'm gonna call the editable text
box and I'm gonna say that I want to set
my results what I just grabbed out of
there inside of that editable text box
and that's how that all outputs on our
screen else if we went and didn't get
any results we're going to want to do
something down here inside of this now
let's just say a toast make text there
it is this and then we'll just say
something like no results to show simple
and we could say something like toast
link short and then show and there it is
and then something else you might want
to do is come into our contact list
editable text box and let's go and set
the attacks since there were no results
let's set the text to nothing there it
is that's how to get all of your results
now what we have left here is to delete
the database and also to delete a
contact see is that inside of here let's
go back over here delete contact should
be third button in our little list here
so one to leak contact and there's
delete contact right there for some
reason it didn't go and create that
let's go and create it right now there's
delete contact I'm actually gonna put
delete contact first because it makes
more sense to me there it is not a
delete of contact first thing we're
gonna do is we're going to get the ID
that they entered if you remember from
the beginning of the tutorial where I
showed you the app alright so get text
do string there is okay so now we know
what it wants us to delete now to come
in here and actually delete it we just
go get contact or contacts DB just call
the database and again we're gonna use
exec SQL just like we always did
remember we're going to use this for
everything except selects and then
select situation will use that raw query
like we saw before
and we're ID is equal to and then we'll
actually go and get that ID ID plus and
then don't forget to close off that
query and that's all we need to do for
that that's how easy it is to delete
contacts now how easy is it to delete
the database pretty easy just go this
delete database and then say whatever
the database is name is my contacts
that's the name and there you go
something else you might want to do is
to close the database whenever your
application is destroyed it's just gonna
right-click I'm gonna say generate and
we'll go over here override methods and
we could say something like on destroy
in this situation we're going to say
that we want to close our database so
just go contacts database right like
this so that whenever our app is shut
down not available whatever we're gonna
need to be able to close it and I'm not
gonna do it right now but you could also
come in here and temporarily close the
activity whenever onpause is called it
gets called anytime the activity is
pushed to the background and then you
could reopen the database in exactly the
same way that we opened were created
database in the beginning of this
tutorial
inside of the on resume method so there
you go guys that is how to do a whole
bunch to do different things inside of
SQLite inside of your Android apps
please leave your questions and comments
below otherwise till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>