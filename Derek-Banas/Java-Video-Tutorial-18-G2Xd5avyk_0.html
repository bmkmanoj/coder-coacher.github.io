<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Java Video Tutorial 18 | Coder Coacher - Coaching Coders</title><meta content="Java Video Tutorial 18 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Java Video Tutorial 18</b></h2><h5 class="post__date">2012-02-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/G2Xd5avyk_0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">whoa internet and welcome to part 18 of
my java video tutorial series in the
last part of the tutorial which you
should definitely watch if you haven't
seen it yet I covered some of the basics
of using threads inside of Java and
today I'm going to show you pretty much
all the other different things you can
do with threads inside of Java and
instead of using things like the sleep
method and all kinds of for loops and
things we're going to use a lot more
intricate sort of system well the first
thing that I'm going to do is I'm
basically going to do the same thing
here I'm going to be checking the system
time and then I'm going to be performing
checks on the mail and the calendar so
check system time is going to be pretty
much the same as the last tutorial
however I'm going to use implements
runnable instead of extending the thread
class and that's going to allow us to be
able to extend another class which is
always a great thing
other than that though basically all
we're doing here is we're just using
date format library that we have up here
we're opening up a date object we're
going to define our location we're going
to be able to format that date
information so that we were able to get
the time instead of getting any other
information and then we're going to save
it as a string and then output it on the
screen all the same stuff we did before
so there's no reason to go through that
so basically all I needed to do here is
make this implement the runnable
interface and everything's done so we
can just save that and move on now I
created in another class it's called
perform system check and this is going
to be all brand-new and this guy's going
to introduce you to a lot of different
things first thing I'm going to import a
new library and what this library is
going to allow me to do is lock down a
method because this method is going to
be called by two different threads
there's a possibility that both of those
threads could call it at exactly the
same time so we want to protect against
that and that's what this guy's going to
do I don't get more into this it's
reentrant lock there you are you're
going to see what this library does here
in a second and then of course we're
going to have this implement runnable
again so that we can extend other
classes maybe in the future just
provides that extra option make sure it
says implements not implement then we're
going to define exactly what we're going
to be checking for so I'm going to
create a private string name it check
what and it's just going to pass along
whenever inside of this constructor
whenever we create a new one of these
guys going to say ok what exactly are we
checking and it's going to be passed
inside of there so say this check one
right like that and then of course check
what needs to be passed to the
instructor which you have a lot of work
with there's no reason for me to go into
that and we're going to use the
re-entrant lock up here to find a new
reentrant lock like I said you're going
to see here in a second how that works
no like that and that's all nice and
then of course just fine that this is a
string and like I said before whenever
we want to protect the run method from
being accessed by two different
potential threads at the same time you
can do it in multiple different ways I'm
going to show you how to do it with the
reentrant lock and I'm also going to
show you how to do it was synchronized
if you type in synchronized on any
method whenever any other thread
accesses this method it's going to be
locked down and no other threads going
to be able to access it so that's one
way to protect it however you do not
want to synchronize all your methods
because this will slow down Java pretty
dramatically so that's one way to
protect it another way to protect it
however is to lock it down now you do
that just type in lock and then lock
right like that and that's going to lock
down this method from being able to be
accessible and this guy is just going to
go system.out.print line it's going to
tell whoever's using this program
exactly what's being checked it's going
to do that by going check what for this
specific thread that's calling it and
then it's real simple to unlock this
method whenever you're done with it all
you're going to do is come here and
instead of type in lock you're going to
type in unlock and file save it now this
guy is able to be used so it's all nice
clean code there's nothing over
complicated now we're going to jump into
the actual lesson part of this and I'm
going to show you a whole bunch more
things you can do with threads the first
thing we want to do here is explain that
instead of like with the last tutorial
where I coordinated threads using timing
methods and meaning specifically the
sleep method here I'm going to show you
how to execute code based off of
predefined time schedules and a whole
bunch of other things now if I want to
use a schedule whenever certain events
are going to be triggered I need to
import a library it's Java util
concurrent and this is a long one it's
scheduled thread pull executors and this
is going to be the guy that I'm going to
use to throw all my threads into a pool
and then be able to access them and do
all kinds of different things with it
however if you want to be able to use
these guys you're going to have to
define a time schedule that you're going
to use for your threads I'm just going
to have to come in here and go
concurrent and type in time unit and put
a star and now I'm going to be able to
find that you're going to see here in a
second exactly all that works
and now just to prove to you that you
can actually call for threads outside of
the main method inside of Java I'm going
to do that I'm going to go add threads
to pull I'm going to call an outside
method and then I actually have to come
in here and create this guy and it's
just going to be public static void and
will come in here and start playing
around with all the different other
thread methods that are available to you
all right now what we have to do is
create our thread pull so we're going to
copy this guy up here paste it inside of
there and I'm going to call it event
pull and what this guy's going to do is
allow you to schedule code execution at
some time in the future and also on top
of that it's going to allow you to have
code execute repetitively based off of
different time periods now what you have
to do here is make sure that this guy is
big enough to hold all your threads now
you would think from looking at what we
had here previously we might have two or
three threads we're actually going to
find out that that's going to be
different I'm going to put five in there
it's actually going to be a little bit
bigger than what I need and you guys
always ask me for quizzes so in this
part of this tutorial I'm actually going
to quiz you a bit here first what we
need to do is go and add threads
individually to the poll and this is how
you do it you just call event pull and
then you're going to call scheduled at
fixed rate I'm going to create a new guy
here and this in Eclipse it shows you
exactly what you're going to need to do
here so one thing I'm going to do is I'm
going to create a new object check
system time that's going to create a new
one by making a call to the constructor
and here under initial delay I'm going
to say that I want it to wait no seconds
just put 0 inside of there so this is
going to execute immediately and then I
wanted to continue to execute every two
seconds thereafter and this is where the
time unit part comes in I'm going to
have to tell it that I want to use
seconds as my way of charting all this
information now if I want to create
another thread and throw it into the
thread pool it's real simple I'm just
going to call perform system check
instead and here let's say that I want
to be able to check the mail and let's
say that I want to wait 5 seconds after
the program starts to start executing
and then thereafter check my mail every
five seconds thereafter I know you
wouldn't normally do it that often but
we're just doing a little simulation
here and then of course let's come in
here and also create another one for
calendar and let's say we want to wait
10 seconds and then check our calendar
every other 10 seconds after
of course it's completely ridiculous
we'd never check your calendar that
often but I just want the information to
pop on the screen now it looks like we
have three threads running right this is
the part of the test part here what I
had mentioned before so let's go system
out I'm going to show you how to figure
out exactly how many threads you have
running
we're gonna go number of threads it's
your time to guess exactly how many
threads we actually have thread active
count this method right here is actually
going to tell you how many threads we
have and let's execute this guy and just
see exactly what we got going on here
and as you can see we have four threads
okay so we only created three of them so
what is the other thread you can see
everything's just going right through
here and fixing everything as we're
gonna I'm going to show you you might
have a guess already on what exactly
that fourth thread is you're going to
find out in a second what I'm going to
need to do though is create an array of
threads to be able to perform this check
I'm gonna call this list of threads
equal new thread and you also want to
make sure this is big enough to hold all
of your current threads well what's a
shortcut for that well I'll just call
this method right here active count
throw this inside of there then you're
positive you're always going to have
enough room okay so we created our array
of threads what are we going to do with
it or how we going to fill it up call
thread dot enumerate an input list of
threads inside of there and it's going
to take all the current threads and it's
going to throw them inside of this array
we just created right here now what we
can do is figure out all those threads
so we're going to call this for
statement and then go thread I call int
list of threads right like that I'm
going to cycle through all these
different guys so I'll go system I don't
call print line and then if we want to
say print out the name of the thread how
do we do that call get name and that's
going to print them all onto the screen
and as you can see here is the
mysterious thread main you might have
forgotten about that but that is our
fourth thread and you can see all the
other different threads that are here as
well as what their names are another
thing you can do is check the price
already four threads meaning if there's
a conflict of some sort which thread is
going to be able to execute over the
other ones and you have to understand
that whatever thread created all the
other threads which is you know now main
the priority of whatever main is is
going to be the priority by default for
all the other threads that main creates
and the
fault priority for Maine is five so one
guess what is the priority for all the
other threads that Maine create we can
just come in here and go get right
already like that and this guy's going
to be able to show us the priorities see
five five five five five right there
that information so that's a way a check
priority how do we set priority I'm not
gonna go through it to basically go
through the same source sets except
you're going to type in your whatever
your thread name is and then you're
going to go set priority and then give
it a priority and one is going to be of
the lowest priority ten is of the
highest priority and of course you can
use all the different priorities in
between there and this is thread name
not fine name sorry about that let's
just get rid of that for now and all
this code is available underneath the
video and it goes into a lot of
different information but our thread as
it stands right now is basically going
to run indefinitely so what do we do if
we don't want it to run indefinitely
well we create a try block this isn't
cheating really calling sleep and we're
going to say like let's say we wanted to
run for 20 seconds well that's exactly
how you do it so you're still getting
all this additional power up here but
you're also going to be able to define
real easily exactly how long the entire
all these threads are going to be able
to run and then we're going to do
exactly the same thing
interrupted exception just like we did
before type in E and then basically just
junk information and file save that and
basically what would happen if you would
want to shut down all these threads now
of course you could call a method to
shut all these guys down but just to
keep it simple I'm going to come in here
and if I want to go event pull like that
and then just call the shutdown method
and that is going to completely cease
execution for all the different threads
and we proceed you can see none of the
thread information is coming down here
because it didn't get to this part and
instead shut all the threads down right
there there's a ton of new tricks and
tools you can use to use threads inside
of Java leave any questions or comments
below otherwise until next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>