<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Make Android Apps 12 Multiple Fragment Layouts | Coder Coacher - Coaching Coders</title><meta content="How to Make Android Apps 12 Multiple Fragment Layouts - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Derek-Banas/">Derek Banas</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Make Android Apps 12 Multiple Fragment Layouts</b></h2><h5 class="post__date">2014-07-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Ve6oiF0SkFA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well hello internet and welcome to part
12 of my tutorial on how to make Android
apps today I'm going to focus in
actually on a Google example except
based off of a lot of questions I've
gotten on it I am going to change a lot
of the code to make it work the way you
guys seem to want it to work and where
specifically we're going to focus in on
replacing fragments or creating new
activities based off of screen
orientation and a whole bunch of other
different things okay so this is going
to be our application we're going to
have a ListView over here and it's going
to have a bunch of superhero names and
whenever one of these is clicked on if
we're in portrait mode it is going to
show some information on said superhero
now of course we're going to have two
layouts and we can go and look at the
horizontal one in this situation which
we have the horizontal one we're going
to have the names and the information on
the screen at the same time wow whenever
we're in portrait mode we're going to
switch back and forth in this situation
what we're going to be doing is whenever
we click on one of these names we're
going to open up a new activity and
display it instead of showing the
ListView and in this situation we're
actually going to have a frame layout
over here and each time we click on one
of these we're going to put a different
fragment inside of it and so I have a
lot to do so let's start writing some
code okay and I'm going to call this guy
fragment layouts and click on next and
let all this be the same click on next
have a blank activity click on next the
main activities name in this situation
is going to be fragment layout and the
layout name is going to be fragment
layout we can leave everything else be
the same and click finish okay so we
have everything running here very first
thing I'm going to do is I'm going to
have the superhero data stored inside of
an outside class so I'm going to come in
here and click on this new Java class
and I'm going to call this super hero
info and then click on OK and there it
is alright now what I'm going to do is
I'm going to come in here and I'm going
to paste in all of my superhero
information so you don't have to watch
me type it all in and just like the
Google provided example what we're going
to do in this situation is we're going
to have two arrays one of them is going
to be called names and it's gonna have
the superheroes and then in the other
one it's going to be called history and
you're going to have history on all the
superheroes what we're going to be able
to
do is we're going to tie the names into
our list view so that we have our list
of superheroes and each time one of
those is clicked on it's going to have
an index of course because it's an array
and we're going to match up those
indexes with this history index or
string right here okay so that's all
we're going to do for that so just save
that and then get rid of it now what
we're going to do is come over into
fragment layout this is the main class
for our activity or for our application
and you can see everything that we have
right there this is going to be very
simple to set up what we're going to do
is just get rid of the menus right here
and there they go
and there we are and this fragment
layout that you see on the screen right
here this layout right here is going to
represent the fragment or the layout
that we are going to use whenever we are
in portrait mode now if we want to have
a separate fragment layout whenever we
are in landscape mode we're going to
have to come in here I've done this
before go into the resources folder new
and directory now if you want to have a
landscape specific one we're just going
to go layout - land there that is click
OK and we're also at the same time going
to open up our portrait fragment layout
and there that is so first what we're
going to do is change a couple things
here for the fragment layout that we're
going to use war in portrait mode and of
course we want to figure out which one
just put our mouse overtop of this and
it's going to show that it's the regular
layout so let's come up here and do that
again you can see it says layout okay so
this is the portrait one what I'm gonna
do with this is I'm going to change this
into a frame layout and frame layouts
are basically going to be used to block
out part of the screen to display
normally just a single object on our
screen so I can get rid of all this
extraneous other information just come
in here and delete all that and of
course come down here and change this to
frame layout as well and then inside of
here we're going to be using a fragment
we're not going to be using a textview
so let's come in here and just type in
fragment and for our width we're going
to have this be matched parent and then
we're going to have match parent for
this as well then the final thing we're
going to do here is of course give it an
ID so ID there it is
and we're going to call this titles
close that off and there we go another
thing we're going to want to do for this
is come in and define a class is equal
to and this is going to be called titles
fragment it's going to give me an error
right now I'm going to create it here a
little bit so new think-tank that's
going to be different for you of course
and name unless you're typing in my name
and then fragment layouts and then title
fragment is going to be the final little
part and ignore this there's always
going to be rendering problems unless
something's perfect so just ignore that
whenever you're typing in stuff you're
going to get errors all the time and
just get rid of that so don't worry
about it
and we're going to save that and then
jump over into the layout land folder
and this is going to be called fragment
layout as well so I'll go file and
fragment layout and then this is just
going to be specific to whenever when
tours on ttle mode and this is going to
give me a whole bunch of errors because
there's nothing in there right now
I'm going to jump over into our regular
portrait mode fragment layout there it
is I'll just select all this jump back
over into landscape version and I'm
going to go and paste that in there save
me a little bit of time in this
situation we're going to use a linear
layout so let's change this to linear
layout move this off the screen here not
going to have a reference to a class
anything else there can stay the same
and in this situation we're going to be
displaying both the titles and the
details as well so this fragment is
actually going to stay here and we of
course it's going to be title fragment
now let's change this to titles fragment
come back over make sure this is the
same titles fragment keep my naming
conventions the same don't worry about
that and then I'm also one of the
reasons we're using the linear layouts
is because we're going to want to be
able to divide everything up on the
screen using weight that way it'll work
great on any type of different display
so that's the reason why I chose to use
a linear layout here and I'm going to be
putting everything in a frame layout
once again frame layouts are used a lot
whenever you want to block off part of
the screen to display a singular type of
thing which is going to be actually a
scroll view and inside of that scroll
view it's going to be a text view and
that's how we're going to have
everything divide it up now whenever you
do that you're going to come in here and
type in 0 DP whenever you're working
with weight in regards to shifting
things on the screen in on a horizontal
plane and then the height is actually
going to be matched parent another thing
I'm going to do here and this is purely
just based off of the way that the
Android example worked itself out we're
going to put a background inside of this
and in that situation we're going to use
Android attr details element background
and this is just a background that is
used whenever we want to provide details
about the data that the user is selected
that looks confusing don't worry about
that then we're also going to change the
width on this fragment to 0 DP and then
we're going to add weights to all these
so layout weight and in this situation
I'm going to make that one so I want
one-fourth of the screen is going to be
taken up with that I get rid of this
frame layout right here and if I want
the screen taken up or divided based off
of a percentage being 1/4 in this
situation or 3/4 layout weight and I'm
going to give this 3 so this frame lats
going to take up 3/4 of the screen this
is going to take up 1/4 add those
together equals 4
that's exactly how weights work covered
that a little bit in the past and the
only other thing I need to do is this
frame layout I'm going to give it an ID
so I'll be able to reference it which I
will be referencing it a lot and it's
going to have the name details that's
going to have the details for my
superhero that's all I need to do that
so save it then final thing I'm going to
do here and I'm going to finish up the
rest of the application in the next
tutorials and then come over here
and create a new class and this class is
going to be the title's fragment that we
just keep talking about here over and
over again
titles fragment click OK and there it is
now the titles fragment is going to be a
list view so I'm going to say extends
list fragment once again it's just going
to show the title fragment which is a
list view and whenever the list view
item is going to be selected we will in
this situation put the details fragment
in the frame layout if we are in
horizontal mode or we will create a
details activity and switch to it if we
are in portrait mode so a couple
different things I want to have here of
course I'm going to have to monitor
whether I am in portrait mode or azano
mode so create a boolean in this
situation and this is going to be called
dual pane int I normally write all of
this code on my own but I've just
received so many questions about this
specific example because it's a little
bit it doesn't do what people want
another thing I'm gonna have to check
here and monitor is the currently
selected item in our list view I'm going
to generate a couple different methods
inside here just click on generate and
override methods inside the fragment
class I'm going to look specifically for
on activity created on activity created
right there and there it is and this
time we're going to be working with
bundles because we are going to want to
store the currently selected superhero
or title or what everyone refer to it in
the ListView activity and bundles are
going to save key valued pairs and
you're going to see more of them great
now inside of this class actually so
everything here is going to stay the
same one thing I'm going to have to do
however if I want to bind the ListView
with the data is create an array adapter
cause all our information is inside of
an array and we want to have everything
go inside of the ListView so let's
create an array adapter and what type of
data do we have we have strings and I'm
going to call this connect array to
ListView is equal to new let's go down
to the next line here and I'm going to
create an array adapter and to this I'm
going to need to pass a contact so that
will have the resources that we need and
to do that I'm going to go get
activity and then I'm going to have to
provide a default ListView item textview
to put our data inside of it we've
actually used this in the past as well
or lay up simple list and you'll use
this all of the time as like a junk
dumping spot I'm going to use this one
right here for activate it and except
I'm going to change this to one it's a
problem with viewing everything really
large text wise I get kind of a weird
type of thing that have to deal with and
then of course I'm going to provide the
data or the array that I want to
specifically use for my array adapter
and that's going to be the names one
because we're working with the ListView
there we go now if we want to connect
our ListView to our data well we just
say that we want to set our list adapter
there it is
and what is it called it is called
connect array to ListView there it is
all the codes provided in the
description of this video of course then
we want to check if the frame layout
with the ID details actually exists
details meaning the actual frame layout
name details this guy up here this is
the right one no that's not it this one
right here say details frame layout so
to do that we're going to go view
details frame and we're going to say get
activity and then we're going to do a
fine view by ID and specifically pass it
our dot ID dot details there it is now
we're going to set the value for dual
pane based off of whether we are
currently in horizontal layout mode or
if we are in portrait mode so do that
we're going to just come in here and go
details frame check if it's not equal to
null and details frame check its
visibility and check let's just go in
the next line here if it's equal to
visible so now we'll know and we'll have
that stored we're going to check that
multiple times another thing we're going
to use a lot is a method called saved
instance State and what that's going to
do for us is anytime the screen is
rotated or Android forces and activity
to be closed for some reason those key
value pairs I talked about before which
is just going to be the last selected
hero are going to be stored so what we
want to do inside of here is come in and
store the hero that was most recently
selected and we're going
store that in this guy I hear that guy
muzzle copy it because we're going to be
using it in second so we're going to say
if saved instance state is not equal to
null we want to store the last state for
our check position
so whatever superhero name was recently
clicked on and to do that we're just
going to go saved instance state and get
int and the key for this is going to be
cursor choice and then we'll just put 0
inside of there now what we can do since
we found the superhero that was recently
selected is we can say if we are
currently in dual pane mode or
horizontal mode we want to get the
ListView and highlight the correct
superhero that was most recently
selected and specifically here I'm going
to say that I want to use choice mode
single which is going to allow one item
in the list view to be selected at a
time which makes a lot of sense choice
mode single there it is and the other
options is choice mode multiple which is
of course going to allow you to have
multiple different things selected which
doesn't make any sense in this situation
and choice mode none which is actually
the default and in those situations
nothing will be highlighted at all and
then we're going to call show details
which is going to be a method we're
going to create here in a second and
what we're going to pass to it is the
current index for the most recently
checked arrow so that it will be able to
also go in and get the correct superhero
data history which is from this guy
remember we have names here and we have
history here so we have to do is pass
proper our index and it's going to put
the proper information in a detail
section and we're going to create this
in a second so now we're going to handle
creating on saved instance States so
just right click inside of here and
generate and override methods and inside
of the fragment class if we come down
here we're going to find it and it's
right there there it is and in here
we're just going to say we want to put
our int inside of here and like I said
this on save instance state right here
is going to be called by Android
automatically for you anytime the screen
orientation changes or anytime Android
has to force close an activity to
conserve resources so this is a great
way to be able to save information and
what did we use before our choice cursor
choice that's
got right here say same thing same key
name and in this situation we're going
to get the currently most recently
selected superhero and save it into that
so that's going to be where the indexes
are saved that's all we need to do with
that another thing we're going to need
to do is change the hero history data
every time a list item is clicked on in
our list view just right click and
generate and override methods and of
course this is in the list fragment part
on list item click just click on that
and then once again we're going to do
pretty much the same thing we can just
get rid of this because this doesn't
need to be called at all and we're going
to call show details which is going to
handle updating the details data on our
superhero every time one of these list
items is picked and that brings us to
actually creating show details and
actually covering what it's going to do
it's just going to show our hero data
show details there it is
and what's it going to get passed well
it's going to be passed an integer which
is going to be an index that's going to
represent the most recently clicked on
ListView item and that is going to
provide a reference to the proper hero
data we want to display on our screen so
once again we're going to update this
guy to the index that was passed to it
we're going to again check if we're in
horizontal mode again that's just going
to be true or false of course we're
going to come in here and set the proper
item that was recently checked so set
the ListView set item checked which is
going to be exactly the same as the
index what was passed in here so we're
going say index and then also true it's
just going to highlight that and now
because we are in horizontal mode let's
go make sure I'm in the right one yep
this one right here if we're in
horizontal mode which we would be if
that came back if let's go over and look
at this again if this comes back is true
that means we're in horizontal mode so
in that situation what we're going to
want to do is go into the frame layout
and put our details data inside of that
so I'll jump back over here so we're
going to create a details fragment which
we're actually going to create this
class in the next part of the tutorial
and I'm just going to call it details
and it's going to be a details fragment
and we're going to say get fragment
manager and this is going to give you
errors and if you type this in without
all the other code it's going to give
you errors as well and I'm gonna say
fine fragment by ID and we're going to
create this later our ID well in this
situation details actually does exist
but details fragment doesn't exist and
then we can come in here and go if
details equals null or details get show
index which doesn't exist is not equal
to index what we're going to do here is
whenever the details fragment is
actually created the index for the data
it is supposed to show on the screen is
going to be passed to it so if that
index hasn't been assigned what we're
going to have to do is assign it inside
of this if block so first I'm going to
have to go in and make the details
fragment and give it the current
selected hero index details fragment
we're going to call new instance and
pass in the index right here that's
going to get the proper details data for
the specific superhero we want to show
on the screen and then we're going to
call fragment transaction because we
want to perform different transactions
with our fragments T is equal to we're
going to need our fragment manager of
course get fragment manager and then say
begin transaction and then the specific
transaction we want to do is a replace
which is going to replace any other
fragment with our current proper details
fragment with the right data we want to
show on our screen our ID details once
again this is going to happen whenever
we are in horizontal mode and then we
can go set transition fragment
transaction and let's say that we want
to do a nice fade inside of this there
that is and then if we don't want to do
anything else we can just say commit
this whenever possible which will be
very quickly all right so what do we do
in the situation in which we were in
portrait mode well in that situation
we're going to have to create a details
activity and then take the whole entire
screen up with that activity so to do
that we're going to cover intense more
here very very soon we're going to
create an intent and there our intent in
this situation is to launch a new
activity to show our details fragment on
a screen we're going to go to new intent
there that is and then of course we need
to define the class the activity that
we're going to be calling so set class
good activity is going to provide us
with our resources we're going to need
so that we know what has happened prior
to us call
this and this is going to call the
details activity which we're going to
create here in a second or actually what
we're going to create in the next part
of the tutorial which will be up very
very soon I just wanted to break this
apart so this wasn't so completely
overwhelming and then of course we're
going to want to pass along the indexes
that we're going to be selecting on our
screen in this situation otherwise it's
not going to be able to properly display
the right hero data inside of the
details activity we're going to be
creating and we're going to pass the
index in that situation and then we just
call for our activity to open up on our
screen by passing the intent okay guys
so once again this code is not complete
it's not totally going to be working but
in the next part of the tutorial which
will be up very soon I'm going to
completely finish everything here and
you'll have your little superhero type
activity and we'll have learned a lot
about working with fragments please
leave your questions and comments below
otherwise till next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>