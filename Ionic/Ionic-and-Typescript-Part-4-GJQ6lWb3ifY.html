<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Ionic and Typescript: Part 4 | Coder Coacher - Coaching Coders</title><meta content="Ionic and Typescript: Part 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ionic/">Ionic</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Ionic and Typescript: Part 4</b></h2><h5 class="post__date">2015-12-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/GJQ6lWb3ifY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys what is up Mike here and we are
going to pick up exactly where we left
off in our last video where we converted
all of our controllers to use typescript
es6 style classes so as a quick recap
will convert this angular 1 factory to
use an es6 style class so what we'll
start off doing is creating a class of
chats right above our angular module
definition this class will have a
constructor with no dependencies and
then we will copy the fake data from our
old factory and just paste it inside of
our new constructor from here we will
remove the VAR keyword and replace it
with this and then we will create a
chats property on this class this
property will have a type of any kind of
array then we'll take our methods and
then paste them right below our newly
created constructor then we'll select
all the colon and function key words and
just delete them a last bit of cleaning
up is we will replace all the instances
of the variable chats with the new this
dot chats property from our constructor
will remove the commas between the
methods since they are no longer needed
and replace them with semicolons then we
can finally remove the anonymous
function down in our factory and replace
it with the newly created class chats
now the Taipings from TSD expect a
factory to return data using dollar HTTP
so we'll change this factory to use a
generic service method instead now if we
want to use a service in our controllers
the editor couldn't give us any kind of
hints about the methods on this class
what they accept or just how to use this
code in general
to get code completion we need to use
something called typescript interfaces
these are essentially code contracts
that say this a bit of code expects
these properties in has these methods on
them so we'll create two interfaces one
for the chat service and then another
interface describing each of the objects
that we have inside of our chat array
what we're also going to do is add
export in front of our two interfaces as
well as our class then we'll wrap the
interfaces and the class in a new es6
module definition will call the module
services close up the bottom and then
we'll come down to our angular services
and change name from chats to services
dot chats now the reason for doing this
is so that way when we go inside of our
controller and actually start adding
type annotations we can properly pull in
the code that we need and have
everything available to us so to get
started we'll create the interface for
the chat user object and what we can do
is copy the data from the object and
just paste it inside of our interface
now we can use
the values from this data and actually
get hints about what kind of types we
should be adding to this code we have a
ID property here and this has a number
value so we can assume that it will have
a type of number the last three are are
turning strings so we consume that these
properties will all have a type of
string now inside of our class we can
change the type for our chats property
from any kind of array to an array of I
chats users the interface that we just
created
now to add type annotations to these
methods we can take the names of all the
methods that we have in our class and
start copying them and moving them over
to our interface for our first type will
work with the all method so we can
expect this to do nothing but just
return an array of I chats users the
interface for our users object for our
remove method we need to pass a chat
object and this chat object is going to
be typed with a type of I chess user the
interface for our single user object so
that way we know we're actually passing
in the correct thing for our get method
it's going to expect a chat ID to get
passed in and we can add the type of
string to that and then call this method
complete
now the last thing we need to do is to
tell typescript that our class should
have this kind of functionality so what
we'll do is come down to our class and
add implements I chats service to finish
things in his file so let's open our
controller TS file and start using this
interface first we'll add a reference to
the services TS file right below the
main TSD file reference now anywhere
we're injecting the chat service we can
add the proper type annotation from the
interfaces we just wrote let's look at
our chats controller we can go to the
chats in our constructor and add the
type of services I chats service
now we can go into our constructor and
write this dot chats equals chats dot
and we can get code completion from the
interface that we just this case we want
all add the closing brace semicolon and
we are done if we wanted to use this
remove method we can use the this chats
dot remove and we can see that it
expects a chat object to get passed
along
now we're interfaces get really
interesting is when you need to extend
an already existing interface and create
your own that has custom properties that
you want added to it in this case we
have this dollar state params and when
we give it a type of ngu I I state
params will get a warning that the
property of chat ID does not exists on
dollars stay params
to resolve this will create our own
interface and we're just going to call
this I state params and this will extend
the interface for ng you I'd I state
params so we'll just add a chat ID
property and give it a type of string
then we'll come down to our constructor
and change the type of dollars state
params to I state params and our warning
will go away so we have inherited
everything from the original interface
but now we have our own custom property
in our next video we'll take all of this
code that we just converted and look at
how we can migrate this over to a
brand-new ionic 2 app</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>