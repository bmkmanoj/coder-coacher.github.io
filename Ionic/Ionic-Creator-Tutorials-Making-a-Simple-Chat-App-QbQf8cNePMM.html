<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Ionic Creator Tutorials // Making a Simple Chat App | Coder Coacher - Coaching Coders</title><meta content="Ionic Creator Tutorials // Making a Simple Chat App - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Ionic/">Ionic</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Ionic Creator Tutorials // Making a Simple Chat App</b></h2><h5 class="post__date">2016-09-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/QbQf8cNePMM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey everybody i'm matt from the creator
team and you're watching our weekly
workshop some of you may have already
noticed that we added a kind of weird
component to create a recently called
container now on its own container
doesn't really look like much but we
added it to give you a little bit more
control over layout and let you do some
things that previously weren't possible
right in the Creator tool so today I'm
going to highlight the container
component along with firebase and we are
going to add chat to our mount creator
app now all I did was duplicate our
mount creator app from the Anna Gough
series so I'm not going to show you how
to setup all over again we're just going
to use our attic auth we already started
with and then we're going to add
firebase to this project to add chat so
let's go ahead I duplicated this open up
our mount creator chat version and get
started alright so first of all we have
this home page but we don't want to call
home anymore we're going to rename this
to chat and as you can see - a nifty
little feature when we rename this to
chat the state changed to menu chat and
our code down here that forwarded to
that page automatically updated to menu
chat for us so we kind of handled that
across the board for you so now that
that is named chat let's go to our side
menu here and rename the my profile page
to chat so let's change this to a chat
icon here and let's call a chat and then
the other thing I wanted to kind of call
out is an additional piece of coda added
to login since the last tutorial some
users were reporting that the user data
wasn't loading a hundred percent of the
time for them so on this ionic dot auth
is authenticated part in our login
controller I made sure to just load the
user so that eventually we get that user
back and it's populated throughout our
project and then we go to chat so we're
going to actually set login to our
default page here and we are going to
preview this project and our login page
is going to send us straight to chat and
we should see our Gravatar image and our
name that we signed up with from the
other tutorial chat links right to our
chat page cool so let's get started
building the actual chat functionality
the first thing I'm going to want to do
is set up a new firebase database so
let's go to the
I race console you can find that at
firebase Google comm now let's create a
new project we're going to call this
mount creator chat create project we're
going to give firebase some time to
bootstrap that alright so we're going to
want to do two different things while
we're still in a firebase console the
first thing we're going to want to do is
set up some security rules for our
actual firebase database so we're going
to go to database we're going to go to
rules and instead of auth not equals to
null and for both read and write we're
going to set both of these to true we're
just going to right now let everybody
write to our database if you're creating
your app you probably don't want to do
this but for right now we want to make
sure that it's just open and easy to use
now if we click this home button you're
going to be taken back to firebase here
you can click Add firebase to your web
app by clicking that it's going to
populate your actual firebase data here
and we're going to give that data to
creators so we can add firebase to our
project so let's go back to creator here
go to add-ons add to project for
firebase and we're going to copy over
this information so the first thing
we're going to want to do is copy over
our API key then our auth domain and our
database URL and for storage bucket we
don't have one source codes have none
add firebase to your project now this
added all of angularfire to your project
are ready so we can close out of this
you could see down here that we get
firebase t net j s here and everything's
been added to our code settings to get
firebase up and running so now we can
get started with our actual chat design
so the first thing we're going to want
to do is drag over a container now this
container just looks like an empty
square right now it's giving you a drop
target to put something else in it so in
there we are going to want to start
putting our chat items so we are going
to use an avatar list item put it inside
of that container now the container kind
of looks like it disappeared because now
it's just got a list in it with this
list item okay so let's do a couple
things here let's go back to the page
let's remove our padding and now this is
a very important step we also have to
Abell scrolling on the entire chat page
because we are going to make that
container into a scrollable element and
we don't want to scrollable things on
the same page so disable scrolling on
that page as well so now we've got an
item here we are going to want to
populate this later with content as well
as the user's picture okay and now let's
drag over a form okay we're going to
delete the toggle delete the radio we
don't need either of those just stay
with the message here we're going to
name this message and then I also want
to put a button inside of this form okay
so let's get a button we make sure that
it is indeed inside the form and this is
going to be our submit button okay so
let's go like this let's name it submit
okay and now this doesn't look like much
our stuff isn't pinned to the bottom our
item doesn't have anything so let's
start adding some CSS to our project to
make sure that we get this stuff pinned
to the top and bottom so let's name our
container add a class to it called top
container and we are going to change
this container we don't want it to be a
div anymore we want it to be an ion -
scroll element so what that's going to
do is it uses ionics ion scroll to give
us a scrollable div so ion scroll on the
tag top container in the classes we're
going to style that in just a second
here and then in this form we are going
to want to name that bottom form then
we're going to open up our theming and
CSS we've already got some stuff in here
from our Ayanna goth tutorial but we are
going to bring in some CSS for that top
container and the bottom form so here I
pasted some stuff in the top container
we're going to calculate the height
based on 100% of the height - 96 pixels
which is what this bottom form is going
to wind up being and we're going to give
that the scroll and let everything else
handle here so save that close out and
as you can see now the container is
taking up a vast majority of the height
here and then it's going to be
scrollable and our form is nice and
pinned to the bottom down here
okay so let's preview this page as you
can see this is going to be scrollable
once there's extra content in here we
have the mess
we're going to leave an actually small
minor thing let's make this a full-width
button just to give it a little bit
better of a style here we don't want
those rounded edges showing up all right
now let's go to our chat page controller
and I'm going to copy over a whole
controller that I already wrote here but
it's pretty simple we're going to walk
through the entire thing all right so
here's our controller first we imported
a firebase array an ionic user okay
we're going to set up scope data message
to be nothing and that's what we're
going to tie this message box to then we
set up a firebase reference firebase
database ref trial messages here that
doesn't exist in our database yet but it
will exist once we start querying it and
adding things to it we're going to do
set scope messages equal to the firebase
array of that reference so it's going to
get us an array style return from
firebase for all messages then we
created a function called add message
add messages dududu scoped out messages
dollar add with the text equal to our
scope data message from up here and the
email and the name linking to our ionic
user information that's already been
populated during the login signup
process then after that message has been
added we're just going to clear out the
message form for them so overall super
simple controller let's start rigging
this up to our actual data here so on
message we're going to want to add an NG
model equals data message okay and then
we're going to do something a little bit
differently normally on a button you
might put like an ng-click but this is a
form and we're going to want that button
to work on the actual phone from the
keyboard instead of actually clicking
the button so on form we're going to add
a directive called ng - submit and for
that we're going to do add message okay
so if I save this and preview what we're
going to see is I can add testing here
and I can hit the enter button aka the
button that would be on your phone to
send that message now nothing showed up
because we didn't hit anything to
firebase for this list item yet but if
we look at our firebase database
over here we can now see messages has
been created with a new ID with an email
my name and the text testing so let's
get that to show up in this list item so
for each list item we're going to want
to do an NG repeat we're going to want
to do message in messages okay we're
going to want to do a couple different
things here for the content we are going
to want to do here we're going to want
to do message name the person's name
line two we want message dot text the
actual text for the message and then
we're going to want to set this to the
Gravatar of the user
so now Gravatar we have already set up
as an add-on in this project from ionic
cloth and it's going to give us that
Gravatar source equals an email address
directive that we can use on an image so
what we're going to do here is we're
going to add a directive that Gravatar -
SRC and we're going to set that to
message email then we're going to click
this little button right here that's
going to open up where we can put that
now we don't want it on the I on item we
want it on the image source equals
avatar image we're going to save and
close that okay now that that's been
created what should happen is when I
preview we're going to see that test
message I already added in there so I
preview we see my Gravatar picture my
name and the test message if I click you
know testing one two three again submit
we're going to see another message now
as we start to add data so one two three
four five this is now a scrollable
element now that's due to that I on
scroll container that we set up now
since we are using a chat app though if
I add like another message down here
most the time we're going to want to
scroll to the bottom so an easy way to
do that is I just looked around for an
angular directive that will allow me to
scroll easily and I wound up finding
angularjs scroll - glue now to install
this it says add this leg directly
modules add a dependency that adds it
here and then I'm just going to want to
copy the code from this directive so
we're going to go to source scroll galuu
j/s raw we're going to copy
all of this just to a local file here so
we're going to call this scroll glue J s
and paste that contents and save it now
what scroll glue does is it gives us a
directive where whenever the scope
changes this directive is going to
automatically scroll it to the bottom
for us so all it is is this directive
scroll - glue and we are going to put
that on our ion scroll container element
so just scroll glue no need to give it a
value it's going to automatically work
for us all right so as you can see that
automatically scroll to the bottom for
us then we're going to add another
message here so message 5756 enter and
it's automatically going to scroll to
the bottom for us so now we've got full
firebase backchat in our app with ionic
auth fully up and running yet again this
was kind of to showcase what you could
do with that container element and also
I know a lot of people have been asking
how to pin stuff to the bottom here so
that was using that custom as CSS along
with a container that has ions scroll so
overall you can use all the methods in
this video in your own apps going
forward and as always if you guys have
any ideas for any other weekly tutorials
you'd like me to go through please get
ahold of us send them to me you can find
us at ionic creator on Twitter if I meet
at Matthew Cramer on Twitter and we're
going to try to start rolling out a lot
more of these like I said we're doing it
on a weekly basis so I will catch you
guys next time have a good one</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>