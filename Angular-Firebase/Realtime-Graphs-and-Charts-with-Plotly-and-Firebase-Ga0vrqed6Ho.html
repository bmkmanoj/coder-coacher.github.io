<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Realtime Graphs and Charts with Plotly and Firebase | Coder Coacher - Coaching Coders</title><meta content="Realtime Graphs and Charts with Plotly and Firebase - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Angular-Firebase/">Angular Firebase</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Realtime Graphs and Charts with Plotly and Firebase</b></h2><h5 class="post__date">2017-08-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Ga0vrqed6Ho" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in the age of big data and deep learning
data visualization is an extremely
important tool for many applications in
this episode we're going to combine the
plotly j/s library along with angular
and firebase to create three different
types of charts that are capable of
handling real-time data
we'll start by building a basic 2d line
chart and then we'll build up to a 3d
topographical chart and we'll finish up
with a ternary chart that's capable of
staying in sync with the real-time
back-end on firebase the first step is
to install the plotly j/s library which
we can do with NPM install plotly JSF
lag save then add it to the script
section in the angular CLI JSON file
it's worth noting that plotly is a
pretty big library so if you want to
slim it down a little bit go to your
node modules and find just a script that
you need for your app in this case we're
using the entire library which is
probably overkill for most situations
then in your typing C file add the
plotly class so it's recognized by
typescript now we can start building our
first line chart this chart will just be
completely static just to show you the
general concepts behind plot way in the
HTML create an empty div and then give
it a template reference variable named
chart then in the component type script
we'll use view child as well as element
ref then we're going to build this chart
service in the next step once we start
using live data from firebase so you can
ignore that for now and we'll also use
the lodash library so to get a hold of
the Divini HTML we use view child and
then reference that chart variable that
we named there then we'll name it l in
the type script which is more or less an
angular convention than to actually
build a plot late chart there are three
basic variables that you need to be
aware of first we have element which is
the HTML element that will be replaced
by the chart and then we have data
that's the actual data that's going to
be displayed in the chart here we have a
few numbers on the X and y axes that
will create a basic line chart with a
curve the third variable is style which
defines the style options that vary from
chart to chart and to put everything
together we just call plot lead plot and
pass it the element data and style back
in the app we can see we get the simple
line chart but it's
packed with a bunch of features from
plot lays such as the ability to zoom in
and zoom out you can save it as an image
and do all kinds of different stuff to
it so that was pretty simple now let's
build a 3d chart that uses data from
firebase so I'm building a basic service
here that injects the angularfire
database then it returns the data set we
want as a firebase list observable in
this example my database is a collection
of arrays with each array having its own
set of data points these data points
correspond to the elevation of a
mountain and I'll provide a link to the
data set in the description now getting
back to the component we create a new
function for this chart but this time we
pass it the data as an argument like
before we set the element variable then
we format the data specifically for 3d
charts so we pass the data as the z-axis
and set the type to surface then for the
layout or style we set a few simple
parameters here just to make the chart
look good
and again we call plot lead plot and
pass with these variables now we need to
pass the chart some data so we do this
during ng on a net by subscribing to the
data set in the database in this example
we don't expect our data to change so
we're just going to take one and then
subscribe to it so we don't have a
long-running subscription and then we'll
pass that data from the subscription to
the topo chart function back in the app
you can see we get this really cool 3d
interactive chart based on our data in
firebase and there's a ton of ways you
can customize this so make sure to check
out the plot lis Docs and the community
for more inspiration on what you can do
so the last type of chart that we'll
build is a chart that can actually
update its appearance based on real time
data for this example I have some user
rankings that will rank a user based on
their abilities as an analyst designer
or developer then we're going to
visualize this data on a ternary chart
which is basically just a triangle that
compares three different types of data
first we're going to add a function to
our service that will allow us to make
this update and firebase it just
references a single data point and
updates it with some new data then in
the component we're going to subscribe
to the data in ng on a net
but before we pass the data is a
function we're going to purge the chart
existing in that element and we'll go
ahead and call the function that builds
the chart but before we get there let's
create a function that will just
randomize the data for a certain data
point then you can attach this function
to a click event so the user can
randomize the data just with a click of
a button now let's build this ternary
chart we start by passing at the element
as usual and we map each of the three
categories down to an array of its
values in most cases you'll need to map
your data down to an array for it to
work with any kind of data chart the
rest of the code is mostly just
presentational so we just add a few
options to give it some nice-looking
Styles plently has a big library of
examples so you can usually find a good
starting chart for most situations now
back in the app if we click the button
that says real time update we can see
the red circle moving around the screen
that's because it's actually being
updated in the backend and firebase
that's it for real time trucks with
plotly and firebase if this video helped
you please like and subscribe
and if you want help building your own
features consider becoming a pro
subscriber angular firebase comm you'll
receive a free copy of my book as well
as one on one project consulting thanks
for watching and I'll see you next time
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>