<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Autocomplete Search with Angular4 and Firebase | Coder Coacher - Coaching Coders</title><meta content="Autocomplete Search with Angular4 and Firebase - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Angular-Firebase/">Angular Firebase</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Autocomplete Search with Angular4 and Firebase</b></h2><h5 class="post__date">2017-06-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/eQuVbyBGhHA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this episode we're going to build an
autocomplete feature using angular for
and firebase users will be able to type
into a search field and the results will
automatically be updated in the fields
below in order to demonstrate this
feature we have the real-time database
populated with a series of movies the
search function will match string
patterns to the title on a database
similar to the sequel like operator
let's get the app started by building
the service the service is very simple
all we needed to do is return a firebase
list observable that we can ask a query
to and this query can take either just a
regular string object or it can take a
subject from rxjs passing to the subject
allows you to call next on the underline
subject which is a lot easier more
intuitive way to filter that query now
we can jump onto the component the first
thing we do is build an input field
where the user can enter their search
value
then we'll attach a function to the
keydown event which will run every time
the user presses the cubes field from
there we will populate an array of
movies and then loop through them using
the ng 4 directive and as the final
touch will add the ng-if directive to a
div that will only be displayed look the
movies array is empty in the component
type script we start by injecting the
service that we built earlier and we
also import the rxjs subject class now
we declare a couple variables the movies
variable is going to hold the firebase
list observable that start at and end at
variables both get a hold subject and
it's important that these are each their
own individual subject during the uninit
lifecycle hood will trigger the get
movies function from a service and we'll
pass it the two subjects that we need to
clear earlier then we subscribe to it
and the value that it emits will be our
movies variable now we can define the
search function we start by using the
event variable to get the actual value
that the user input it into the form and
then we use that value to set the two
subjects for the end at subject
we had a special unicode character to
the end of the string this basically
tells firebase to match the first
pattern and then anything that comes
after that first pattern as well again
it's very similar to that sequel like
operator so at this point we actually
have a working autocomplete feature but
there's a few optimizations that we can
make
currently we're hitting the database
after my keydown event which is very
inefficient we can limit this by keeping
track at a time between key press events
and only running it after a certain
amount of time is expired in this case
we'll set it to 200 milliseconds between
key presses a second issue we're running
into is we're getting a firebase warning
that our title attribute is not indexed
in the database we can fix this by going
into the firebase control and then
adding the attributes that we want
indexed at any point in the database and
this case will tell firebase to index
the title attribute on our movies
collection
that's it for this episode if you found
the video helpful please like and
subscribe and if you want to support the
channel consider becoming a pro
subscriber at angular firebase comm for
just a few bucks a month you'll get
access to exclusive content as well as
free one on one project in 14 thanks for
watching and I'll see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>