<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Simple Pagination with Firebase and Angular 4 | Coder Coacher - Coaching Coders</title><meta content="Simple Pagination with Firebase and Angular 4 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Angular-Firebase/">Angular Firebase</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Simple Pagination with Firebase and Angular 4</b></h2><h5 class="post__date">2017-06-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TIGj7KzXtxg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">and this episode we're going to build a
simple pagination feature using firebase
and angular fire to package this
solution allows the user to click a next
or previous button to navigate through a
firebase to list observable the benefit
of this approach is that it can be
applied to a data set of any size but
the drawback is that it's impossible to
really implement page numbers for
pagination in the database we have a
series of common nested under their
associated post ID let's start by
retrieving a firebase list observable
from the service first we import the
angular fired database and then we build
a function that will take a ghost ID an
offset which is the number of comments
we want to retrieve and a start key
which is where we'll start the actual
query in firebase we can't use a numeric
offset like you would in a sequel
database so we keep track of the key and
use that as the offset point for each
query the key for the next page is
determined by grabbing one extra comment
from the database and we use that
comments key is the offset point for the
following page
now we can start building the component
in the template we're going to loop
through a list of comments but notice
we're not using the async pipe because
we're actually going to unwrap the
observable in the component type script
we also had a couple buttons just for
navigating between the next and previous
pages we also want to disable these
buttons if there isn't a next or
previous page to navigate to in the type
script we start by injecting the
comments service and we also import
lodash which we'll be using to do a lot
of the array operations in this
implementation the comments variable
will hold the actual comments from the
observable the offset will be the number
of comments we display on each page the
next key is where we offset the actual
database query and the previous keys
will be a running list of every key for
the previous page now we create another
function to retrieve the comments and
we'll start by subscribing to the
observable from the service when we pass
it an undefined key it'll just pull the
very first page from our database the
emitted value is going to be an array of
comments we'll go ahead and slice the
array with the first two comments to
show to the user and then the third
comment will be the offset to the next
page and if that comment doesn't exist
then we'll just disable the button in
the actual template we're using the
lodash gift function to call this key
without raising an error if it doesn't
actually exist now we can run this
function with ng on a net and that will
populate the first page of comments we
also use it in our next page function
but this time we pass at the key for the
next page
so at this point we can navigate forward
but the tricky part is going backwards
any time the next page function is
triggered we save the current key in an
array it's only when the user starts
going backwards that we start popping
off the last element that was added to
this array similar to a stack data
structure we know the users back on the
first page once the array is empty after
we update the previous Keys array we can
then load the comments for that page if
we go back to the app now we can see we
can navigate through the comments using
the next and previous buttons and
they're disabled when we reach the end
or the beginning of force if you want to
learn more about pagination and
different possible implementations check
out the link in the description that's
it for this episode if you found the
video helpful please like and subscribe
and if you want to support the channel
consider becoming a pro subscriber at
angular firebase comm for just a few
bucks a month you'll get access to
exclusive content as well as free
one-on-one project consulting thanks for
watching and I'll see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>