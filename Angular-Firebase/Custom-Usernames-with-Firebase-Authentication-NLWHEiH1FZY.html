<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Custom Usernames with Firebase Authentication | Coder Coacher - Coaching Coders</title><meta content="Custom Usernames with Firebase Authentication - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Angular-Firebase/">Angular Firebase</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Custom Usernames with Firebase Authentication</b></h2><h5 class="post__date">2017-06-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/NLWHEiH1FZY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this episode we're going to create
custom user names for firebase users
then validate the user names
asynchronously using angular for users
will first authenticate with OAuth then
they'll be directed to a username form
and after each key press the user name
will be updated based on whether or not
it's available in the database the first
step is to model the data first we have
a user's collection that saves just
basic information about the user that we
want to play throughout the app and we
have a separate collection of just user
names where the user name itself is the
key and the value is the Associated user
ID this allows us to make checks for
user name availability much more quickly
than we could if we queried the entire
list of users now we can start building
the off service we're going to import
the angularfire to package both the
database and the auth module we also
import the rxjs which map operator which
we'll use to avoid nested subscriptions
when we get the user data I'm also
creating a dedicated user class to hold
the user data in this case it's just
going to take a username and a user ID
and if the constructor will take the
firebase off objects
in the service constructor we first wait
for the auth object to emit from
firebase and then we use that data to
query the database for the actual
username
the first function is going to allow the
user to authenticate with their Google
account
this codes directly from the angularfire
to package to manage the username
process we start by creating a getter to
see if the username is declined or not
then we create a check username function
which will check the username collection
to see if that particular username is
defined
lastly we create a function for the user
to select their username this updates
both the user names document as well as
the user specific user document under
their user ID now we can start building
the component we start by injecting the
off service then we set one variable for
the username text which is what the user
enters into the form and we set a
separate variable for username available
which is a boolean true or false whether
or not the user name is available first
the user will sign in with Google which
will populate their user ID and then
we'll display the form to fill out the
user name the check username function
will send the actual request to the
database see if the username is
available the return value is converted
to a boolean then we set that to our
username available variable then we'll
create an event handler to update the
database when the user selects the valid
username
in the template we start with the
sign-in with Google button then once we
have a current user and if their
username is undefined then we display
that username form the input itself uses
ng bottle to set the username text
variable in the component type script
then we bind the key up event to the
check username function now we can
display a couple messages conditionally
based on whether or not that user name
is available we can also use the user
name available boolean to disable the
button if that user name is already
taken
so now we have a working username system
and we can see the updated database at
both locations when the user clicks the
button our final step is to enforce this
validation on the backend with firebase
database rules we do this by setting a
validation rule and traversing the
database calling route child user names
and then seeing if the new data the
users trying to enter already exist in
the database if it does the rule will
evaluate to false and prevent the
operation from taking place that's it
for this episode if you found the video
helpful please like and subscribe and if
you want to support the channel consider
becoming a pro subscriber at angular
firebase comm for just a few bucks a
month you'll get access to exclusive
content as well as free one-on-one
project control team thanks for watching
and I'll see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>