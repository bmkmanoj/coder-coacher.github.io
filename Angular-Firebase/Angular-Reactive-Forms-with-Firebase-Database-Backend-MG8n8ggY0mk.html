<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Angular Reactive Forms with Firebase Database Backend | Coder Coacher - Coaching Coders</title><meta content="Angular Reactive Forms with Firebase Database Backend - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Angular-Firebase/">Angular Firebase</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Angular Reactive Forms with Firebase Database Backend</b></h2><h5 class="post__date">2017-08-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/MG8n8ggY0mk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">angular's reactive form module allows
you to build reliable yet complex forms
throughout your application in this
episode we're going to talk about how to
use the reactive form module along with
firebase real-time database what we're
building is just a simple film for
classified ads rather than you the
traditional form submit button we're
going to update the form in the database
anytime a value changes in my opinion
this provides a better user experience
and it also prevents data from being
lost if the page is refreshed so what is
a reactive form basically it's just a
form that's been defined in the
component type script to give it a
synchronous flow of data this gives you
better control over logic and validation
as well as making testing a lot easier
the other type of form is a template
driven form which uses ng model to build
the form in the component HTML the
benefit is that you can create forms
less code however the drawback is that
they're harder to maintain especially as
the form grows larger and more complex
so a good rule to follow is if you're
building a big complex form you should
probably go with the reactive form
module reactive forms are kept in their
own module so we'll need to import that
and whichever module we plan on using it
in in this example we import the
reactive forms module into our app
module and then add it to the import
section now we can start building the
add service that will get data from
firebase for our classified ads I'm also
going to create an ADD listing' class
which will populate some default data
whenever we start a new ad from scratch
so our classified ads will have a title
some content a price and an image from
there we can inject the angularfire
database and then we'll create a
function that will create a new ad in
the database this function will push a
new ad listing to a firebase list
observable but instead of returning that
full list observable we'll just grab the
key and then return the newly created
object as an object observable you can
call key after you call push and that
will return the push key from firebase
then you can just pass that key to
another object observable query then
we'll create another function that will
just update an existing object in the
database with new data now let's go into
the component type script
we will import the ad service and also
form group form builder and validators
from angular forms then we'll set up a
variable for ad which is just the
firebase object observable and also add
form which will be a form group then we
inject our ad service and the form
builder in the constructor the way our
feature works is that when the user
clicks the button to create a new ad
listing it will save some default data
in the database and then allow them to
edit it from there the next step is to
build the form itself so we create a
function called build form and then we
define the add form variable using the
form builder group function and we
passed a bunch of attributes that have
validators attached to them these
validators are based on constraint
validations in JavaScript and you can
attach as many as you want to each
attribute in order to sync our data up
with firebase we need to subscribe to
the object observable and then we'll
populate this reactive form with that
value by calling the patch value method
on it the only other function we need in
the component is an event handler that
will save the new data to firebase
anytime a form value changes I also add
a conditional statement here to see if
the form is valid and if it's not valid
we just return so we can't add invalid
data to the database from the front end
you should also add back in database
validation rules and firebase just to
make sure your data is 100% secure
in the HTML the first thing we'll do is
create a preview of the ad which just
will take the various attributes and
apply the async pipe as well as the
attribute we want to show all pretty
basic stuff here there's a lot of HTML
to get through here so be sure to check
out the link in the description to get
the full code used in this lesson you
add reactive forms to the HTML by
binding the form group to an HTML form
itself from there you can start adding
form inputs to it and the important part
here is that when you add an input you
add the form control name with the
attribute that it's controlling so in
other words this form input will control
the title on our classified-ad and
whenever this value changes it will
update the firebase database then we use
ng class to apply either a red border
when the form is not valid or a green
border when this form attribute is valid
we get the validity state by calling add
forms get with the attribute we want and
then valid which will return either true
or false we also want to check for the
dirty state because we don't want the
form to have a bunch of red borders when
it's first loaded the end result is the
toggling of red and green classes when
the form value is empty we can also use
this to display helpful messages to the
user when a form value is invalid in
this case if the titles missing will
show a message that says title is
required we can follow the same exact
approach for every other form input and
again I post the code on angular
firebase.com if you want to check out
the entire thing now going back into the
app you can see that when we update the
form it also updates the firebase
database after every form change event
occurs if you want a more traditional
form experience you could just add a
button here and then fire the update
function whenever the user clicks that
button that's it for reactive forms with
angular foreign firebase if this video
helped you please like and subscribe and
if you have any suggestions or if you
want to support the channel consider
becoming a pro member at angular
firebase com thanks for watching and
I'll see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>