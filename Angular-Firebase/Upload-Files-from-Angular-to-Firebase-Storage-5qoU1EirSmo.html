<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Upload Files from Angular to Firebase Storage | Coder Coacher - Coaching Coders</title><meta content="Upload Files from Angular to Firebase Storage - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Angular-Firebase/">Angular Firebase</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Upload Files from Angular to Firebase Storage</b></h2><h5 class="post__date">2017-04-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/5qoU1EirSmo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this episode we're going to implement
file uploads with angular and firebase
storage file storage is currently
unsupported in the angular fire to
package but it's still possible to use
firebase storage by interacting directly
with the firebase web api we're still
going to use angular fire 2 for saving
information about fly uploads to the
real-time database such as the files
name and its URL location the structure
of this feature is very similar to the
angular firebase cred lesson so make
sure to check that out also it's
basically just a form that accepts files
uploads them to a storage bucket then
renders the details to a list the upload
class will be used by the service notice
it has a constructor for the file
attribute which has a class type of file
this class is built into JavaScript and
it defines files that are passed via
HTML form includes the service needs to
upload the file the file based storage
and save the details about the file to
the real time database first let's add
the necessary imports including the
firebase API here's how the push upload
function works step by step first
establish a reference to the firebase
storage bucket second define the upload
task as a promise to put the file in
storage
third monitor the upload task event
using the on function and last we'll
handle the events of in progress success
and error
when the upload is in progress we will
take a snapshot to get the number of
bytes transferred using some simple math
we convert this to a percentage to
display a progress bar for the end user
when the upload is complete we just do a
simple database update with the file
information and then we can also catch
errors here as well before moving on to
the components we need a way to delete
files deleting the file only requires a
reference to its location because we
saved the name of the file to the
database we can use it to locate the
file in storage and just go ahead and
delete it here's the code to delete
files from bold filed a storage and from
the real-time database now we need a way
for users to choose files then upload
and delete them let's start with the
upload form component because that's
where most the action is going to happen
when a user selects files in an HTML
file input it fires the change event our
templates going to listen for this event
then pass the event to our component
which contain the list of files that the
user is trying to upload now we can
create methods to trigger the upload
function from the service I created
separate functions for handling single
files and multiple files that will be
connected to button in the template
itself in the template we have a
progress bar that changes its width
based on the snapshot from the service
to trigger the upload we use a regular
HTML input it fires the detect files
function whenever a new file is entered
this will define the selected files
variable on a component then the user
can click the upload files button to you
actually push the file storage
that's it for fire-based file uploads
see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>