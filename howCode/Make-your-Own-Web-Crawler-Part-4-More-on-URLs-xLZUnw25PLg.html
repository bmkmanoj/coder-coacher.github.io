<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Make your Own Web Crawler - Part 4 - More on URLs | Coder Coacher - Coaching Coders</title><meta content="Make your Own Web Crawler - Part 4 - More on URLs - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Make your Own Web Crawler - Part 4 - More on URLs</b></h2><h5 class="post__date">2016-07-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xLZUnw25PLg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in the last part we left off being
able to handle these type of URLs let's
start with a slash in this part what
we're gonna be doing is handling URLs
with a double slash so we can just copy
and paste this and say else if I'm we're
just going to change this delete the
first one because we only want to check
if the URL is a double slash so we're
gonna say if the first two characters of
the URL or a double slash then we're
just gonna say our link is equal to
obviously itself because we don't want
to delete the link we're gonna say it's
equal to parse URL we're gonna append
that on with the dot we're gonna pass it
URL again and we're going to get this
scheme one more time
because that's what we're missing from
this link you can see we have two four
slashes but we don't actually have a URL
scheme and once again if we run this you
can see now we had HTTP and we're just
missing the colon so we're just going to
append on a colon and that's it done
let's run this again you can see now
we've sorted that link out to the next
link we have to sort out is this one
here which has a dot forward slash and
we need to add the actual domain name um
because I've been as you can probably
tell if we tried to go to this I like it
wouldn't work so once again we'll just
copy and paste and we'll change this
from two forward slashes to a top
forward slash so we're gonna run this
and you can see now we have sort of our
URL scheme sort of a panda on to the
front so we're going to pan on the
complete URL scheme we're gonna have to
four slashes there and now you can see
we have a complete URL scheme here then
what we need to do is we need to append
on the host string so we'll just say
whoops paste that there and I panned it
on and we run this again and you will
see we have no the host and we have the
URL scheme and now the only thing left
is to get the path so to do that we'll
use the Dern iam function in PHP and
then we will use the partial function
one more time or peace that inside
and we'll change it to path the reason
we're using the durian function is
because when we get the path what it
will do is it will give us
yeah they find the m2 but by getting the
dirty and function we can just get the
directories on the room and finally we
just append on the file name we're
looking out we said substring then yeah
fine we're looking at because we want to
get rid of the first character so we
just say 1 essentially what we're doing
is we're getting the file name which is
this one here we're appending on the URL
schema pending on the host our padding
on the file directory path and then
finally we're taking away this dot here
which is the first character in our link
so if we run this again you can see our
second link is now completed and now it
goes to the right directory the next
like we're looking at is the link with
the ICO tags you can see this one here
so once again we're just says if slope
string we get the link again we'll get
the first character this time because we
only want to know is the first character
a hash tag so we're just saying is the
first character hash tag if it is we
know it's an anchor link and if it is an
anchor link we'll just copy the link
above we don't want to re-type it all
our code and we'll just get rid of this
substring time we will append on the
entire link because if we were to get
rid of the first character we'll be
getting rid of the anchor link which
would mean our link wouldn't actually
point to the right place anymore
so we're keeping that on we're keeping
that exactly as it is and we're gonna
run this nun and if we look at that you
can see we have our link with a slight
problem we're missing a forward slash so
what we need to do is actually just get
rid of the dirty in function let's run
this again and you can see here we have
it this is the exact link that we want
this is exactly where this a Groening
would point to so we're almost done
masking by with links we just have to
sort at this sort of link and this sort
of link without anything in front of it
so the next thing we're going to look at
is the link that starts with a dot dot
forward slash which is this one here
so we're going to say a substring Blanc
is equal to the first three characters
we want to say if the first three
characters are equal to dr. Ford slash
then we are going to target those sort
of links so what we're going to do is
once again copy from the one above
and we have the URL scheme we have the
host and the only thing left to do is we
can delete the path and app and on a
forward slash so let's run that so the
link kind of changes this one here and
you can see all we did was we appended
on the URL scheme appended on the host
and appended on a forward slash and the
rest of it we just left exactly as it
was because that's exactly where this
link points to if we go back to this
tasks page you can see that's exactly
what the link points to and finally we
just have the JavaScript links to
actually get rid of and this link up
here testa PHP so we'll start with
JavaScript when actually it's the
easiest we'll just say else if substrate
link we're gonna get the we're gonna
start in the zeroth character we're
gonna go up to the 11th character and
we'll say is equal to JavaScript with a
colon the colons important otherwise any
page that was like JavaScript up PHP
would be automatically ruled out I
wouldn't be crawled so we want to put
the colon in because that means that
this is this is a link that's only gonna
run JavaScript code and if it is we're
just going to say it continued which
essentially just means just move on and
forget about it and just ignore it
so we'll run that and if we go back here
you can see the JavaScript link was now
here and now it is gone the crawler has
just completely ignored it because so we
don't need to crawl those sort of links
because they're not actually links so
finally what we have to do is get tests
up PHP I sorted out so the way we do
that as we say else if substring of link
once again start in the zeroth character
go to the fifth character and say it
doesn't equal HTTP and then we say the
substring of link go t to the fourth
character doesn't equal HTTP in other
words if the link doesn't have a URL
scheme then we need to actually give it
one or else won't be able to follow that
link and once again I'm just gonna copy
one of these ones from up here paste it
here and let's just run this and see
what we get so you can see we need to
add two four slashes after the URL
scheme and we're also missing the host
so we'll get the host just by copying
and
seeing this we add the two four slashes
in first Ida pan that on and let's have
a look now we have the post this is it
here so we just need to put in a forward
slash and we should be good to go let's
just run this again and you can see all
of our links have not been treated
properly the way they should be and
what's the way our cron is going to
treat them so it doesn't matter what
kind of link our crawler comes across no
matter what kind of weird link we see
we'll be able to deal with it and our
crawler can crawl it so thanks for
watching so that's it for this video
don't forget to Like comment favorite
and subscribe and I'll see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>