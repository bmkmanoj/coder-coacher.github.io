<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Make a Social Network from Scratch: Part 8 - Creating the User Login (remake) | Coder Coacher - Coaching Coders</title><meta content="How to Make a Social Network from Scratch: Part 8 - Creating the User Login (remake) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Make a Social Network from Scratch: Part 8 - Creating the User Login (remake)</b></h2><h5 class="post__date">2013-12-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ubI-UjqHU18" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so hi and welcome to part it in the
remix of the iron making room social
network series so today we're gonna be
doing is we're going to be making the
user login work since the last time we
made the user registration work so let's
get started
so first I'm going to do is going to
change this to say already a member sign
up a sign in below and then here we're
just going to create another form we're
going to set the action equal to index
top HP we actually should have done that
for this one but it doesn't matter to
set it equal the next page Pinay and
we'll set the method equal to death
actually we'll set it to post okay and
then what we're going to do is we're
going to just copy two fields from here
actually will copy the bottom two kiss
them up here will obviously change this
one to login change this one to username
and password and we'll change actually
leave that a text Fri and then we want
to do is we want to actually do the PHP
code so the action will just refresh to
see what locks so let's just refresh
this page and here's how our login locks
here so what we're going to do is we're
going to come down here I'll just create
a comment that says user login code oops
and we're going to start that long so
the first thing we're going to do is
we're saying if a sad post user login
and password login so let's change this
to user underscore login and password
underscore it's I scored underscore
login
so if these two fields have been
submitted which there will be whenever
the forms our form is submitted
and we want to get the value of the user
login on the password log in add text
boxes but we also want to do a Prag
replace which should make sure that only
ladders only a capital letters lowercase
letters and numbers get three and the
same for the passwords
everything else will get just removed
before it even gets close to the
database okay so what this code does is
it says a MySQL query so we're acquiring
the data PC Gamer saying select ID from
users where username equals user login
and password equals password login limit
1 and what that means is we're selecting
a row from the database where the
username is equal to the username that
was submitted in the form on the
password is equal to the password that
was submitted in the form I'm running
limiting it so that there should only be
one returned
if there is one returned then we'll
actually what we're doing here we're
getting the MySQL num rows of the query
and if the user count equals 1 which
means if there's a user in the database
with those credentials we want to run
this while loop we add ask us also we
want to run this while loop but we also
want to actually just log these are in
which is what we're doing here which is
by standing a session so we're setting
the sash it ID equal to the ID variable
of the session user login equal to the
user login variable and we can actually
get rid of password login or the
password login session done we'll
actually get rid of the session ID
sang-moon want one session which is user
login and we're setting it equal to the
user login variable which is the
username of the person who log in and
now we're just going to paste this last
code in which has exit so after we've
done after we've logged the user in and
redirect them back to the index page to
refresh the page we wanna exit script
and kiss after some reason we didn't
redirect for some reason against our
function fields we want to exit the
script anywhere and then we want to say
if a user card doesn't equal 1 then the
information is incorrect and we want to
anger the script as well so let's try
the oxu this won't work until we go into
our header file and we want to create a
session so
so what I'm going to do is we're just
going to piece this code up here in so
this says session start which is the
very function we have to have that start
of every page running we want to use
sessions on we want to say if the
session user login is not set do nothing
and if the session user login is sad we
want to redirect them to home dot PHP
and then we want to create the home dot
PHP page so let's go back here create
home dot PHP I'm going to also want to
create a log ID PHP so the log one will
do first it's the easiest so just a
session start and then session this
obsession decode session destroy' and
then we want to set header location
index dot PHP so let's a login at the
logout page done we want to just do this
on the hide repeat or the home page want
to include the header file again so
let's come back up here including header
file include it there we want to say
echo user underscore login we actually
want to actual just a KO session user
login to these are underscore login what
should a code the user name of the user
who is logged in so let's try this now
so when use the credentials from the
last video so I use the username Francis
and the password password
I click the login ok
still it all feels ok so we've got our
problem with that again so let's go back
to our next page scroll down and find
um let's see
you
you
okay the reason we got the error is the
the name reg for both the login for the
login submit' button on the register
submit button so I'll just say login and
we'll come back up here and we actually
need to change anything else so let's
try this again
strive Frances for the username and
password to the password we're going to
click login
look at that information is incorrect
okay the reason that we got that
information is incorrect it because
password login isn't encrypted but it is
in the database so we need to just go in
here and say password login md5 equals
md5 password underscore login and then
we just change this to password login
underscore and md5 let's try that
okay it's taking its time but it should
work it's probably okay it's probably
gonna stuck in a it's called a redirect
loop which is probably what's going to
happen
so let's just say I get rid of that get
rid of the header actually just call it
a night and let's try one more time
okay so it should have logged us in so
let's go to the HMDA PHP page and as
you've seen Iraq was our user name so it
is logged in but we were getting it on a
redirect loop which is why I was taking
so long so let's go to logout dot PHP
and then let's go back to home dog HP I
watch it often as it should be black or
yeah we at the era for undefined index
because the variable doesn't exist
because we're not logged in so that's it
there we've finished the login script so
that's it for this video don't forget to
Like comment favorite and subscribe and
I'll see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>