<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Making Flappy Bird in Javascript | Coder Coacher - Coaching Coders</title><meta content="Making Flappy Bird in Javascript - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Making Flappy Bird in Javascript</b></h2><h5 class="post__date">2018-05-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xcPoCtAMoyo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in this video we're going to be
learning how to create our own version
of the really popular game flappy bird
flappy bird was a game that came out a
few years ago and it was really popular
and the concept is you tap the screen to
keep the bird from hitting pillars at
the top of screen or the bottom of the
screen and we're gonna learn how to
recreate that same concept in JavaScript
so to do this we're gonna be using a
javascript library called p5.js so all
we have to do is return with that
library we dyno'd p5.js complete and
when you don't know that you're going to
get a file like this so the only file we
actually need is this file called p5.js
we're also going to download a library
called p5 duck lied to date that's going
to make collision detection a lot easier
for when we create our game so here is
what our game looks like so you can see
in the game we play as this sphere so
you can see we play as this sphere and
if I tap the spacebar you can see it
makes the ball jump and the aim of the
game is to make sure that we don't hit
any of these black bars because if we
hit a black bar the whole game stops
and you can see if you hit the black bar
the game stops and the game is
procedurally generated to these bars or
all random Heights and they're all
generated as you play the game so let's
learn how to create that so all of the
work we're going to do is going to be
done in JavaScript so the index page we
just have to include the p5.js
javascript library we have to include
the p5 collide 2d add-on which makes
collision detection easier and then we
have a file called pipe another file
called bird and another file called word
so pipe is where we have the code for
the black bars that come from the top
and bottom of the screen bird is what
we're calling the player which is this
circle and world is the JavaScript file
that puts everything together so if we
start with world p5.js requires two
functions it has a draw function and a
setup function then what we do is we
create a canvas which allows us to draw
objects onto it which is how we draw
these bars and the circle it's all
inside html5 canvas so what I did was
set the canvas width and height to the
width and height of the window and I
created a bird object a bird object is
just an instance of our bird class in
our bird file so then what I did was I
set the background color to white and
for the next part we have this frame
current variable I didn't create that
variable it's built into p5.js which is
why we can use it without declaring it
and what we're doing here is saying
every 150 frames we're going to create a
new pipe and our pipes are all stored in
an array called pipes then what we do is
we loop through every pipe and we show
it on the screen so this draw method
runs every single frame and the update
method is what we use to move the pipes
to the left so as your if you remember
when we play the game the pipes start on
the right hand side of the screen and
they're continually getting closer to
the left-hand side so the way that works
is in the update file we just have a
parameter called this X - equals 1 so
that just means we update the x position
of each pipe every frame by moving it
one pixel to the left and next what we
do is we check if the bird is touching
the pipe so we loop through the entire
pipes or air every frame and for every
iteration we check if the bird has
touched the pipe if it has we run this
special function called no loop which is
another built-in function into p5.js
which just stops the game how me console
dot log key
over underneath that we are just running
the show function to make sure our
borrowed shows up on the screen and the
update method is how we add physics to
our bird so if i refresh you can see if
we don't actually press the spacebar to
jump the bird falls to the bottom of the
screen and we have to keep it up by
pressing the spacebar so the update
method is how we add gravity to the bird
and finally we have this special key
pressed function which is another
built-in function in the p5.js and that
allows us to use the special key
variable to say if the key pressed is a
spacebar then we're going to run the
special fly method which is how we make
the bird jump so if we go to the bird
class now the bird is just a class with
a constructor that sets the width and
height of the bird
the initial X and y position and the
width variable and the height variable
are built in which is why we didn't need
to declare them we set the bird's
gravity jump on velocity so in the show
method we run another built-in p5.js
method called fill so the fill method
fills all the objects that come after it
so we set the fill color to black and in
the next object that comes after it is
an ellipse which is the circle that we
use to represent the bird so what we're
doing is we're setting the position of
the bird and we're setting the width and
height of the bird so these two lines
are how we implement gravity for the
bird and this line just means that if
the bird hits the bottom of the screen
it doesn't fall off the screen because
if I come at that out and I refresh you
can see the bird fell off the edge of
the screen and we do the same thing for
the top of the screen as well
our flying method is how we jump so all
we do is we decrease the velocity which
lifts the bird up because a positive
velocity going down will force the bird
to the bottom of the window and finally
we just have this touches method which
takes a pipe as a parameter and this is
where we use that collide library so we
run the function collide rect circle
which checks if a rectangle has collided
with a circle and in our case we're
checking if the pipe which is a
rectangle as carol has collided with the
bird which is a circle and if it does we
return true otherwise we return false
finally we just have to look at our pipe
object so the pipe object is really
simple we just have a constructor which
sets the width and the height of the
pipe and it sets the gap in between the
pipes so you can see down here in the
show method we're creating two
rectangles one is for the top and one is
for the bottom so we're drawing the
bottom rectangle first and then we're
drawing the top rectangle and we use
this gap variable to make sure that
there's a gap between them because if
there isn't the two pipes will touch
each other and will not be able to fly
through them so the gap variable is just
set using this random function which
chooses a number between 50 and 300 and
it's another built-in function in p5.js
and that's really all there is to our
game so that's all there is to it when
we create a game using p5.js there's
only about 120 lines of code in this
whole game and what I'll do is I'll put
it on the high code github page and I'll
include a link to it in the description
but that's it for this video don't
forget to Like comment favorite and
subscribe don't forget to follow us on
Facebook Twitter and reddit also don't
forget to sign up to the Haiku org
website but that's it for this video and
I'll see you next time
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>