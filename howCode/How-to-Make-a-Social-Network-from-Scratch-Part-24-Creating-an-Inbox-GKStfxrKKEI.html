<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Make a Social Network from Scratch: Part 24 - Creating an Inbox | Coder Coacher - Coaching Coders</title><meta content="How to Make a Social Network from Scratch: Part 24 - Creating an Inbox - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Make a Social Network from Scratch: Part 24 - Creating an Inbox</b></h2><h5 class="post__date">2012-08-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/GKStfxrKKEI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so hi and welcome back to this
video so last time we left off we were
we allowed the user to send messages to
other users as I'll show you know Waits
and message we get fries and now we have
one row says that cinemas had that to
Francis which is correct because of what
was up here and the way that were logged
in a cinema so we're going to create a
new page and the new page was going to
become hold the message is not PHP
no I'll just set my messages to PHP so
when you first are going to include egg
/ ok so now if we go to the page okay
actually so I'm going to I'm going to
add more menu items because it won't
make it easier to get tallest so let's
copy card settings and send my messages
so if we refresh now we have my messages
if we click it we have a blank page so
first thing we're going to do is grab
the let me see messages for the logged
in user so we'll create a query called
drop messages select all blips all from
private messages wire username equals
user I get message equals mysql fetch
associative as I always say wrong so I
grab as it is okay first thing we need
to do is write so we're going to create
a while loop for this because we want it
to do this for every message that we get
now we'll say ID equals get message ID
we'll just copy and paste this a few
times so next one is user from
these are to message body I finally did
open so now we've got all those we can
just echo message body so now we'll have
one message okay so I know the problem
so the value the row username doesn't
exist in the private messages table so
we just need to say user to know if we
refresh rid of that
so we refresh yeah okay it's because
cinema doesn't have any private messages
so we'll just log in as Francis and I
would say my house eco which is the
message body of the first message we
send so that's good so what I'm gonna do
now is I'm going to echo
yeah you see message body but up here
I'm gonna say if STR then message body
is is greater than 10 then I'm going to
say echo echo St oops
STR sub no it's a sub T ah hmm
so it's a sub STR nothing body um
comma 0 which means it will start at
this beginning okay so actually I'll
explain this so what we're saying is
everything string length of message body
is greater than 10 we want to echo
normal say a sub STR which means it's
real part of the string so sure the
first 10 characters basically zero means
we want to show that we want to show the
character we want to start at the
beginning zone and it'll start the
beginning of this set of the a string
and we wanted to go ten characters in
and then we wanted to append dot up at
the end so actually I'll change this to
f5 just to make sure that it's long so
this the string is longer than 5 so we
can see this works so I didn't say no
which was the first time characters of
the string and then space dot dot well
obviously we want more than that so I'll
say I 150
or else no we could just we can just
send message body be closed message body
so now we just get accurate it correctly
without any dots so down here what we're
gonna do is we're going to act on the
message body and then work append a key
jar which is just a line so each message
will be separated by line and I will
actually send another message so I go to
France proof oh I'll send another
message I'm Mouse hey how are you today
doesn't matter so sign alright
an eye you can see we have two messages
and you have a line in between so we're
going to move up and also a pen the user
from variable oops
so now it says cinema sound we are going
to append a link to it so it's going to
link to cinemas profile and
so now we have a link which I get it
goes to say this profile so then we can
also say now will I send my messages so
let's refresh my messages okay so now we
are going to get the first 150
characters of the message the using them
if I were sent it so I'm also going to
put on another line break well up so
that it's a bigger gap so I'm going to
change this actually to my arm red oops
messages and this way they'll be
separate so they'll cut to the user so
I'll be able to see it better
so which ones they out of a novigrad so
now say um so a lot of times for Klaus
and I will say opened equals no surprise
nothing should change if I change this
to yes we will get zero Wow what nothing
and there well as I said this is just to
make it more obvious when you have it on
read message so we can copy this change
this to read James out - yes so now we
will have to - ass things and just to
prove it works and I will edit this
first one and I will set open - yes now
as you see we won each
so um we're going to say I'm going to
give them an error if they don't of any
so up here we'll say 'numrows write
equals and then we'll say if so if it
equals one we will run this code or else
we'll just tell them you don't I mean
I'll just say you haven't had any
messages
yeah and we can copy this I'm gonna copy
this and there so I'll just do this to
move
so it doesn't equal zero okay so that's
it
so um that's it for this tutorial don't
forget to comment and subscribe and
thanks for watching I know some of the
things I didn't really describe that
much but don't worry in the next video
I'll make up for it so thanks for
watching don't forget to comment rate
subscribe as always on the cnxn</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>