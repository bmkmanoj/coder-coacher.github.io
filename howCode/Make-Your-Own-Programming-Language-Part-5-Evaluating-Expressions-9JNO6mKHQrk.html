<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Make Your Own Programming Language - Part 5 - Evaluating Expressions | Coder Coacher - Coaching Coders</title><meta content="Make Your Own Programming Language - Part 5 - Evaluating Expressions - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Make Your Own Programming Language - Part 5 - Evaluating Expressions</b></h2><h5 class="post__date">2014-07-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9JNO6mKHQrk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so before we get started in this video I
mean it's obvious you can see I've
change this color scheme of sublime text
the color scheme is the same as the
github website uses to highlight source
code so tell me what you think if you
like it or not if your mini is the old
color scheme switch back to it so what
we're going to be doing is we're going
to be evaluating expressions so if I go
here you can see we have our expression
here so what I'm going to do is we're
gonna get rid of the brackets because
the brackets make things get really
complicated we want to evaluate
expressions within brackets what we're
going to be doing is going to be using
precedents but it was a lot easier than
I thought it was going to be whenever I
implemented it ahead of time so what it
does is that me what that means is we do
multiplication and division ahead of
subtraction so this is the exact same as
putting a bracket to write it like this
but we're just going to get rid of the
brackets for life then what I'm going to
do is i'm also getting rid of the hello
world because i just copy over
complicates things so what i'm going to
do is i'm just going to run this code
i've python 3 basic pi and then test
outline you can see it just outputs our
expression so you can see here when we I
put Nick when we output just the
contents of an expression all we do is
we get rid of the where the characters
are beginning of it expr colon which is
with the extra numbers 4 and then we
output that or we're going to do before
we I put it is we're going to evaluate
it so we're going to create an evaluate
expression function like this and then
what we're going to do is we're going to
come up here and we're going to just
define the function and then what we're
going to do first is we're going to
store the expression in a variable
called exp R then we're going to return
got it comma
now just put in expr to show you a
difference you can see it says got it
and then it gives us the expression so
this means it's going through our
function so get rid of the return for
now what we're going to do is want to
create a while loop that's going to loop
through every character in the
expression it's going to do it backwards
because we're going to evaluate things
from our expressions from right to left
so we're going to value two times four
we're going to get it and now we're
going to say it plus 10 is et no that's
what we're going to evaluate the
expression so to do that we have to
create a variable called I so the first
thing we have to do is we have to create
a variable called I and it's going to
hold the length of our expression then
what I'm going to do is say while I is
greater than 0
print expr i see why python treats
strings a cemetary ray so it's like an
array of characters so our expression is
a string so this means that if I just
put our expression down below here you
can see the number tat are the number
one would be what happened in X is 0
then the 0 would have an index of 1 then
the plus would have an index of 2 then
the 211 index of 3 the multiply would up
in the next 4 and the 4 would have an
index of 5 so this means we can access
specific items or specific characters
from the string by using the expr I'm
providing it a number so if I give it
the number 4 or 4 we got the Asterix if
I gave it the number 0 we would get the
number 1 equity to us so what we're
doing here is we're just printing on
each character in the string all in the
expression but since actually we'll just
run that now ok so it's a string index
out of range that's because strings
start from because the length of our
expression is so our expression is 6
characters long and what we're basically
saying here is while I is greater than 0
we actually we forgot to decrement I as
well so we say I minus equals 1 to set
ie 2 to decrement I every time the while
loop runs but we also need to set I
equal to learning X PR minus 1 because
the length expr is 6 but our since
arrays start from 0 then the highest
index so we can provide is 5 so we have
to say minus 1 to make I equal to 5
that's B
so if we run this now you can see it
says four times two plus zero and we're
missing the last character missing the
one is because what I guessed is it when
I is greater than zero
this runs but as soon as I equals zero
it stops and doesn't run so we just miss
a greater than or equal to zero and then
we'll get the one returned to us or
aqueduct and the less with all the other
ones the reason we get the word non
underneath is because we haven't
provided our function with a return type
or we haven't told it to return anything
so we're going to just run a loop
through it and we're going to sort of
assemble that we're going to put the
numbers together so for example we have
the number four that's only one
character long so we don't need to do
anything about that and the asterisks is
one character the two is one character
the plus is one character but the number
ten is two characters so if we don't do
anything we're just going to see 0 &amp;amp; 1
as two separate numbers and we want them
to be at the number 10 so we need to
have a way of working with multiple
digit numbers as well as single digit
numbers so we're going to do first is
we're going to say if a xpr i is equal
to a plus then we're going to set an
operator I'm gonna say or exp RI is
equal to a minus or exp RI is equal to a
divided or exp RI is equal to multiply
and finally or if it's equal to modulus
which is a % then we're going to print X
PR I never to say else print actually
need to put this into a function so just
a quilter or pull just four brackets or
and up we're just going to print a
number so as you can see it says number
x number plus number number but as you
can see we only want that to be one
number so we're going to say is else if
it's a number
if it's a number what we're going to say
is num plus equals expr I will have
another variable up here called num and
it's going to be equal to nothing to
begin with and every time we see a
number we're going to append it to the
num variable and what we're going to do
when we see an operator is we're going
to set reset the num variable equal to
zero or equal to nothing we're going to
create a list as well actually up here
we're going to create a global list
called expr let's actually call it num
stack so we're going to do is when we
whenever we see an operator we're going
to know that that's the end of a number
so we see the number four then we've a
pen we've added four to the num variable
and then we see an Asterix we know what
Asterix is a number so we know that the
num variable is full and we have to add
it to the num stack so we set num stack
dot append and we're going to append the
variable num and we're also going to do
is we're going to append we're also
gonna pad is the exp our I which in this
case is an operator so we're going to
append an operator as well okay so what
we're going to do now is we're going to
go down here and we're just going to
print num stack okay all right we just
need to put this above here because we
went out of the loop so just put that
there when around the singing so as you
can see okay we have a problem with the
okay the reason we're getting nothing is
because we acted the number before we
appended it to the stack so we're just
going to put that underneath I'm going
to run this again so as you can see it
says four times two plus okay we're
missing the ten
the reason we're missing the 10 is
because we use an operator as a
delimiter to taos when we're at the end
of an expression but as you can see
after the 10 there's no dilemma there's
no operator so the way we're going to
solve this is we're going to say we're
going to go down
we're just going to set out if expr AI
is equal to we're gonna have a special
character called end of expression which
is going to be e going and of expression
then we're going to set num stack dot
append nom and then we're going to send
on stack whoops
we're set num equals nothing to reset
the num variable so we're going to
append the AoE variable or the EoE
string at the end of an expression so
the way we're going to be getting the
expression since we evaluated backwards
so we're going to say is exp RHP R
equals end of expression plus exp are
okay actually I just realize this is
more than one this is more than one
character so what we're going to do is
we're just going to put in an
explanation mark and it will put a comma
because that's not valid in an
expression ever so we're going to put a
comma in we'll run this again and as you
can see it says oh one but as you can
see it's also backwards so what we need
to do is we need to reverse the num
variable we do this is we're just going
to say num equals num and we're going to
say colon colon minus 1 and this one
reverse are straight enforce so if we
just come up here and paste it up here
as well it should reverse the 10 so it's
now a 10 so as you can see now we just
put that we've put all our numbers in
the list and we're ready to evaluate
them so that's it for this video don't
forget to Like comment favorite
subscribe follow us on Google+ and I'll
see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>