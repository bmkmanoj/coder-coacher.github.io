<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Make your Own Instagram - Facial Recognition, Getting Online &amp; Finishing off! (10/10) | Coder Coacher - Coaching Coders</title><meta content="Make your Own Instagram - Facial Recognition, Getting Online &amp; Finishing off! (10/10) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Make your Own Instagram - Facial Recognition, Getting Online &amp; Finishing off! (10/10)</b></h2><h5 class="post__date">2017-08-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_1CZCFrKCTw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so because we're using upload card
upload and host our images were able to
use their facial detection features
which might be useful for tagging people
so we're going to do that in this video
to get started we have to create a new
database table to store all of the tags
and their coordinate on the images so
the new model has the idea of the photo
the coordinates on the image that we got
from upload car the user who got tagged
and the person who did the tagging so of
course we have to make migrations now we
have to run migrate and then we can run
our server so we're going to talk to
upload car when we upload the photo and
that's how we're going to use upload car
to figure out the coordinates of
people's faces in the photos so what we
do after we've detected the main colors
is we send another request off to upload
car to detect the faces then what we do
is we start with a tag count of 0 we
save the photo and we go to the data we
first check if there is faces that have
been detected if there's no faces that
have been detected then there's nothing
to check but if we find faces we look
through all of those faces and we insert
a tag into the database to set up with
tags somebody we find a face so then we
insert a photo tag with the photo ID and
the coordinates on the image that we
find the face so we save that and we
increase our tag count each time we find
a tag and then what we do is we update
the photo with the number of tags before
we run that we're going to go up to the
top and we're just going to include our
new model that we just created photo tag
is what we called it and we're also
going to go back to models and we're
going to increase the length of
coordinates in case we have images with
a really large coordinates involved so
we're just going to double that to 40 so
we're going to run make migrations just
to increase the size of that column
we're going to run my grant and now
we're going to run the server and give
that a go so I have a photo here I'm
just going to upload that it's a photo
of a face
it's just a bit strata type
Krisha was weird what I'm going to do is
click save photo and you see those are
photo loaded and we actually had our
primary color in the background
so back in sequel Pro you can see if i
refresh there is our photo and you can
see we have one tagged because we find a
face in the photo so what I'm going to
do is click photo tags and you can see
here is the coordinates of the face in
the photo so there's only one face in
this photo so we only have one tag if we
have multiple faces we would have
multiple tags so now we're able to
recognize faces using upload car but
before we go we also want to be able to
log out of our website because we don't
actually have a logout function
currently so we're going to create that
so to create that we just to create a
URL called logout
I'm just going to paste that up here
we're going to go back to views and
we'll be logout it's really simple all
we have to do is create a simple view
and what we do is we just run the logout
function that we got from Django and we
redirect them to the home page so that's
us a belong now if I trade this out you
can see now I'm logged out so now we're
pretty much finished our website so what
I'm going to do is show you how to get
online get our website online the
easiest way to do it is to use Amazon
Web Services we don't need to use Amazon
Web Services to serve our actual website
all photos are taken care of for us
using upload card so we don't have to
worry about that but to be able to get
online what we're going to use is
elastic Beanstalk which is a product
from Amazon Web Services so the first
thing you have to do is install the
elastic Beanstalk command-line interface
there's a guide here to install it I'll
leave a link in the description so once
you've installed that you should be good
to go
so before ready to upload it what we
have to do is go to our settings file
and we want to set the debug setting to
false because we want to run it in a
production environment we want that to
be false what we're also going to do is
we're going to scroll down and under
databases instead of using a MySQL
database that runs on a server we're
going to use a skew our light because
when we deploy to Amazon Web Services
it's much simpler than having them
manage a separate database for us so
we're just going to keep it simple and
we're going to use SQL Lite so we're
just going to uncomment that because
debug is set to false and I've just add
into our load host switch we're just
going to say localhost so if I was to
run this we're going to get told that we
have to migrate lots of tables so if I
close up we want to do the migration
make migrations that we want to run
migrate to move everything across and
now if we were to run the server it
would work as expected so what we want
to do now is once you get the
requirements for our project we want to
store that in a text file so we can say
pip phrase we run that you can see it's
going to tell us all
of the requirements everything that our
project needs to run so what I'm going
to do is I'm going to say pip fries and
I'm going to send the output of that to
requirements txt
then I'm going to make a directory that
elastic Beanstalk needs called
EB extensions and I'm going to go into
that directory and then I'm going to
make a file called Django config and I'm
just going to paste this text in this is
just text that elastic Beanstalk needs
to be able to run our project we're
going to save that and we should be good
to go so we're just going to go out of
this directory and now we're going to
use the command line interface to say EB
in it which will do all of their hard
work for us so I'm going to pick a
region I'm just going to pick number 4
and we can create an application so I'm
going to create a new one I'm going to
be called insta Peck I'll just go choose
the default we just go through all of
these options we're going to choose
number one because we chose to use
Python 3.4 at the very beginning of this
series just for this reason so if I hit
enter I'm going to hit no so we're going
to type in EB create to create an
elastic Beanstalk environment and I'm
going to give it a name I'm just going
to call it insta Peck we're going to
call it insta pick again for load
balancer we're just going to choose
number one so we stick with all the
defaults and they should start uploading
and this will put our website online
I know you can see elastic beans
for us and it's just telling us what
it's doing I could cook control-c now
and would still keep doing it in the
background there's the sea Miam record
that our websites going to use initially
the websites not going to work because
in Django the only allowed host we have
is localhost so Django is not going to
work so we have to put in our senior
record that we created we have to
redeploy it after it's finished setting
everything up so you can see we're
getting an error at the minute so we
just want to redeploy so we say Eby
deploy and that should get everything
working for us so those are deployment
almost finished so now you can see we
have a fresh installation of our website
and it's live on the internet so there's
no data yet so I have to create a new
account
but now you can see I have a blank
account I'm going to upload a photo
give it a caption
sensor as well and invert it and I'm
going to click save photos so now you
can see we have a live website running
on the Internet
and you can see how easy it is for us to
upload photos using upload car because
it takes care of absolutely everything
for us so that's it for this series
don't forget to Like comment favorite
subscribe don't forget to go to upload
car in the description and get your free
account so that you can make the most of
this series but that's it for this video
don't forget to like comment favorite
and subscribe don't forget to follow us
on Facebook Twitter and reddit but
that's it for this video I'll see you
next time
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>