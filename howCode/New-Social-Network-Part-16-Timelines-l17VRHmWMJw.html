<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>New Social Network - Part 16 - Timelines | Coder Coacher - Coaching Coders</title><meta content="New Social Network - Part 16 - Timelines - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>New Social Network - Part 16 - Timelines</b></h2><h5 class="post__date">2017-01-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/l17VRHmWMJw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in this video we're going to create a
timeline we're going to create a page
that shows us all of the posts by users
that we're following so let's get
started so we're gonna create our
timeline on our home page
we're gonna create a variable up here
called show timeline and it's gonna be
equal to false and if the user is logged
in we're gonna set show timeline equal
to true and down here what we'll do is
create a query so we're gonna build this
query live inside this SQL client so
we're gonna say select all from
followers and we're gonna click run and
now it selects everything from our
followers table since we're logged in as
Frances and Frances has the ID of one we
only want to get these last two rows so
we're gonna set where follower ID equals
one and we're gonna run that and now you
can see with a list of everyone who
Francis is following and he's only
following to your kinds so now what
we're gonna do is get the posts out of
those accounts so we're gonna select
from the posts table as well like that
what we're gonna do is we're gonna
select posts top body to get the body of
the post because we don't want all the
rest of it then what we need to do is
join our tables together so down here
I'm gonna change that to an and and
above it we're gonna join the two tables
so we're gonna say the posts dot user ID
column it's gonna be joined with the
followers user ID column so the user who
wrote the post we're gonna get their ID
and we're gonna get the user ID out of
the follower column and if they're to
match then that means that the user who
wrote the post is being followed by
Frances for example so if I click run
now you can see we have three posts and
those are the three posts by their kinds
that Frances is following and what we're
also going to get is the post start user
ID and that tells us who wrote the post
and we could also do another join
so we could say user stop username to
get the username and then we want to
select from the users table as well and
then we're going to join the users table
by saying users dot ID is equal to post
start user ID and now we can see the
username my favorite to post how cool
wrote those two and verified with that
one and we can now you late the user ID
because we don't need it anymore
so now with the post body and the
username of whoever posted it so now I
give in a specific user we can check who
they're following and we can get the
posts written by the user the file
we can get their username - so we're
gonna copy that and we're going to use
this query now so we're gonna set
following posts it's gonna be equal to
our query queries gonna be a DB query
and then we're gonna pass in this big
string just like now I know we'll just
print underscore our following posts and
let's see what we get so you can see we
got exactly what we expected we get a
list of posts and we get a list of user
names and they're all the people the
users following so down here what we'll
say is 4-h following posts as post echo
post body because we want the body
initially and then we'll put in a
horizontal line so now you can see all
of the posts from people the users
following so what we might like to do is
show the user name we could do something
like this but in a squiggly line and
then say post user name now you can see
who wrote the posts and we might also
want to know how many likes each post
has so we can go back to our table and
we're getting the post party we might
also want to get the number of likes so
we can say posts Todd likes to get the
number of likes and now we can see how
many likes each post has and we might
want to organize the posts to show the
post with the most number of likes at
the top so to do that what we want to do
is at the end we'll say order by posts
start likes des c4d sounding and that
will show the verified post at the top
because it has one like and the other
two have zero so if we click run now the
verified post shows up at the top if I
was to give the haiku post an artificial
number of likes say for example 10 it
has now gone to the top so we're gonna
keep it like that we're gonna copy and
paste this query into our database by
using joins it makes our query a lot
more complicated but it does allow us to
shrink the number of queries but
obviously each query is more complicated
and it takes the computer more time to
actually do each query so we're gonna
run this again and our verified post is
at the top so that's it for this video
we're gonna be building upon this in the
next video and the videos that follow to
do make it do a lot more things other
than just display text on the screen but
that's it for this video don't forget to
Like comment favorite and subscribe
don't forget to follow us on Facebook
Twitter and rat it and I'll see you next
time
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>