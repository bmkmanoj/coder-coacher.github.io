<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Make a Social Network from Scratch: Part 29 - Poking People | Coder Coacher - Coaching Coders</title><meta content="How to Make a Social Network from Scratch: Part 29 - Poking People - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Make a Social Network from Scratch: Part 29 - Poking People</b></h2><h5 class="post__date">2012-08-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/IjBjC8spNWE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so hi and welcome to this video so I'm I
know last time I said I wasn't sure what
I was gonna be doing and I talked about
maybe doing the newsfeed but as part of
the muesli I'm gonna have a feature
called poking which is like Facebook I'm
going allow people to poke people from
the newsfeed but obviously to be able to
do that and to be able to do that
actually need the feature program button
created so that's what we're doing today
and then hopefully next time we'll be
getting started in the newsfeed
so I'm gonna add the poke option in the
profile page because that once we've
created up for the profile page it will
be quite easy just to simply recreate
for the newsfeed so down here which is
oddest for all the artist friend buttons
and the okay so it's in here with a
username so what I'm gonna do is right
here I'm gonna copy this I'll change
this to the poke and obviously I'll
change this to poke so if we refresh if
you poke button might changes from hope
to I don't know I'll just change it to
go to keep safe space okay so you can
change this to X and is a
and the notion of space so now we have
the P because actually that doesn't my
part I'll change that the poke up here
where it says his friend is a table
friend so if we refresh not all fits so
we're we're going to do something
similar to Facebook or you can I poke
users and wait for them to poke you back
and it's just kind of a stupid game but
we're gonna I'm uh I think we should do
it so what we're doing is in here
this that poke code so we'll say post
whoops all we're going to do is simply
and insert it and today this table
called pokes so that's what we've been
to nine so so as you can see I've
created a database table called pokes
and then the structure the table is just
three fields the ID obviously the same
as always prime integer that's auto
incremented and set to the primary key
and then the other two are just four
jars of length 255 so that's the only
that's all it is ready to this table and
all we've done that we can actually
start inserting pokes it sold say is my
spell clearing work real good Mike I'll
clear it up let me come in sir
then sir and you you are hopes
I believe I called it so answer to the
folks values so I think it's as simple
as all we do is we write we leave the ID
blank I mean I use this yeah second
feelings we type in the user from which
is her book the user so this would be
the users logged in which is user
username which is usually profile it is
and if that all comes successfully we
could say using a hope so however if we
go back here we were fresh we click Pope
said no husband poked which is correct
I go to Pope's I'm gonna click browse on
here it is here's the Pope
although we want to put a check so that
user can't poke themselves I so what
we'll do is we'll say username equals
user then hope or so and then we could
say where else
and then this is where we run the NATO
code so now if we refresh and I try to
poke myself it says you cannot poke
yourself if we go to the database
refresh this shouldn't have changed okay
so then the next check we're going to do
is we're just going to check whether the
user is already been poked or not so
what we're gonna do is sort of like the
private message system if it's been read
or not so we're going to so now what we
can say is and okay before thought we
need to create a query so I will create
on the MySQL query once that check oh
and it's gonna pull my strong I'm just
go query select oops wire user to close
or user to who's using um these are um
Eclipse user so I will check if you've
already poked a person and then we can
say oh no oh oh
on my spell check if Pope and simply we
can say and then copy the name of this
parable
equals one and you must point to the
back then otherwise then we'll continue
the rest of it so if we refresh in um
since that's the first check we should
get um since there is a poke in the
database that matches up the most wait
to be poked back now we can attach the
thought by going to that Frances I'm
clicking the book says Francis has been
poked and then we refresh okay we just
read that with this page I like like
poker game
so as you must wait to be poked back um
this because they were my friends sort
of pushes it on over and makes
everything off a bit hard um I'm going
to fix that now so I'm gonna just look
for okay so it's a very friends will say
we could just change this to on fun um
see does it work there we go
well I remove anyway so I was taught
that up next in the next video ok so now
we're going to create a new page I know
this new page is gonna be obviously a
PHP page it's gonna be called my folks I
think so I what it is it's going to be
similar to every other page so I will
copy this page add the home pitch in sit
in and then get rid of anything we don't
need so here really do is keep that in
action
no we will if ok so actually I'll just
go get rid of all this and just start it
fresh so now we got on the my pokes page
is just a header file as you can see and
in the in the header file in the header
file we are going to add a new button
before Nagai alright so what's up here
copy that
I'm just paste it in and then we change
this to folks refresh ok so now we get
thought so um
okay what I'm gonna do is change out two
messages from cinemas profile I'll just
change that to profile okay so now
that's a bit better night out and I'm
going to get rid of this actually as
well so just tell me doll this it's a
bit weird
let's try one I'll probably read the
reason them looks like that is because
that's a snob the Adobe still there and
we left something in so let's try 9 and
our that's all is sorted so now if we
wear around the Pokes page where you're
simply going to create a MySQL query
check or okay close nice girl query all
oops my user very close user which is
the login person which is here we want
to see the pokes then we just say nice
grab match I saw and this is just a
check or oops
and then finally it's wild
Oh cause my match so stock check or oh
then we can create a variable called use
our chair which equals user 2 and then
copy I don't obviously change it to use
a thumb then we can just add echo and I
you
oh I and then we can just and these are
um actually got online break in here so
if we click on pokes in a fresh
when I just delete this shark does it no
yeah it says you've been poked by cinema
and well that's what we wanted it to do
so we say even poked by cinema and then
we could black see but I'm not I'm going
to penned this one separately so I'd say
you've been approached by cinema and we
can I get the quote from another page so
if we open up MSG or is it my messages
even and we find button reply we can
copy the code for that obviously for and
there the action is form is going to be
my stop HP and the method is going to be
post so I what we'll do is we'll change
this to got folk underscore user from
oak
okay so uh I mean obviously love space
in there so if i refresh we have a
button that says poke back except okay
the reason it's in the wrong place is
because I'm gonna copy that
I'm puff it inside the form and refresh
not just poke black so to poke them well
to get it to poke them back there's two
things we wanted to do we wanted to
delete the old Pope from the database to
insert a new one for the new user or
that usually they just poked so up here
I'll say o Pope underscore type our user
from I don't forget because we are using
single quotes we need to do to include a
variable we do single quote space
. space you the variable name space .
space single quote which i let's just
use variable so i Michels works back
home
I'm enemy when the Refresh click it will
get it and so it didn't work so
fresh I check it okay so I put this back
and we'll figure out why this didn't
work
look guys actually you gonna need to
check it out the reason he didn't work
his cousin up here we should really have
fun here because it's using the viral
user from which wasn't declared above
the query it was created and so if we
click post poke back again I worked
which is good so here we can say you
just oh whoops
always like you're just poke cinema
which is okay
so what we're gonna do is I'm going to
firstly create a query incentivate oh I
think was nice go underscore query
delete ok so it's not actually take all
the sleep from a delete from oops
why use your clothes user too close to
the next thing we want to do is 300
which also equals the last query that's
size now will actually we don't even
need to write it out we can go to
profile
copy the code we used so copy that I'm
gonna just call it great new book um
that should be it for them for the
Pope's so we can just check Mitch this
for works correctly so if we refresh
looks like actually we'll go to the
database and we will check now we will
refresh the Pokes page we have two folks
so this is the book that will be deleted
so let's do it
so click poke back ok so what it was it
was since I the first query failed we
would have been certain him hmm so it
didn't it turns out it didn't fail
entirely the first query he was
successful on the second one was also
successful except the variable you the
user to field it wasn't filled in a nice
because we copied it from the profile
page where the user named Barry was
declared but the username variable
wasn't declared knowledge so we need to
change this to use your ok so I know
it's done we should refresh yeah this is
just a bug because of this so if we like
you poke back you just poked and then
for under normal circumstances that
wouldn't work okay I mean Oh
okay so I'm just gonna check to make
sure that that book wasn't just when I
wasn't to check whether bug was caused
by the fact that the the end the
nativist now it was my stuff because of
the problems out here
or if it actually isn't working I today
I acted the table pokes and I'm going
and I logged out logged in Francis and
myself a poke and I'm gonna kick poke
back it's as you just Pope Francis we
click on pokes and then no the ID the ID
has changed from one to two which is
correct which means it deleted the old
Pope which is what we wanted it to do
and the new one is from cinammon which
is them which is me because that's how I
was logged in Oz when I poked back and
the and user to is Francis which is
correct
so after this too provocative and poke
more than once I'm going to matter
it's going to be my oops so let's try
that
well
okay
so says you've been poked by and where
is it here that's because it's out of
the while loop so what we're going to do
to fix this so what copy this and simply
goes oh wait I mean there is no wild
they are simply this point you paste it
up here um
fresh because I don't even need to
refresh all right piss up there we just
quickly am
oops then we just say no oh yeah so and
then so we'll hopefully this may be
correct it says you know poke challenge
is correct so thanks for watching afraid
to cover like subscribe if you enjoyed
it and next time we will be doing the
newsfeed and as you can see it is
working okay so if you liked this video
don't forget to like it
comment on it subscribe to it send me
messages if you have any problems on the
next time we will probably be doing
newsfeed
so I seen I</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>