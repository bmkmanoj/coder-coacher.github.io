<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>New Social Network - Part 19 - Reading Comments | Coder Coacher - Coaching Coders</title><meta content="New Social Network - Part 19 - Reading Comments - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>New Social Network - Part 19 - Reading Comments</b></h2><h5 class="post__date">2017-02-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7GnySrR3Vos" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in the last video we left off being
able to write comments in this video
we're going to learn how to display
comments so let's get started so to show
comments under a post we need to create
a new function
on this display Carmine's function is
going to need only one parameter it's
gonna be the post ID so the idea of the
post under wets t comments will be
displayed and what we're going to do is
go to our post class where we are
displaying posts I what we want to do is
just create a simple query
so here we're selecting all of the
comments for each specific post I'm
restoring them in an Iraq called comment
and then we'll do is just set print
underscore our comments and then on the
index page what we'll do when we display
the post is we will display any comments
about that post so in here what we'll do
is we'll say and that Acco and then in
here what we'll do is we will say
comment display comments and we'll pass
it the post ID which can be post ID so
we'll run that and you can see that
there's no comments under this one
there's one comment under this one and
there's none under this one if I comment
something under the top one like that I
click comment you can see how it has a
comment I can comment something under
this one again
and I thought one has two comments so
now what we want to do is display these
comments properly so here instead of
print our comments we get set for each
comments as comment where we're
referring to each item in the array as
comment we could say echo comment
comment comment which corresponds to
this column in the table which is the
text of the comment and then we could
just append on a break tag or we could
append on a horizontal line and let's
just run that so there we have our two
comments and then we could go in here we
could say comment and we could get who
posted the comment which is going to be
the user ID and since we don't want the
ID what we can do is we will say
username and then we'll go back to our
database and we'll do a query so we'll
say I select all from comments we run
that we can see all the comments and
we'll say where post ID equals and we'll
say a five for example because it has
more than one comment so now we're only
getting comments for post five so now we
want to get the user ID so what we can
do is we can select all from comments we
can also then select from users and then
what we can do is we can say or post ID
equals five and comments dot user
underscore ID equals users dot ID to
join them together and when we run the
app you can see now we have the username
of the person who commented it we also
have all their other details from the
table so we can just be more specific we
could say we want the comment don't
comment so this gets the comment column
from the comments table and then we get
the users username and there we got
everything we need so we can copy and
paste this query paste it into here and
here what we're doing is instead of
saying we're posting a equals five we'll
say we're posting a equals post ID I'm
will add the post ID and later so let's
refresh and now we have the username
printed out as well and then here we'll
just append on a squiggly line to say I
have you posted the comment if we run
this now it makes more sense so that's
it for this video don't forget to Like
comment favorite subscribe you don't
forget to follow us on Facebook Twitter
and reddit and I'll see you next time
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>