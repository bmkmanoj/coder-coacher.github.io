<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>OLD:Make your Own Web Crawler - Part 3 | Coder Coacher - Coaching Coders</title><meta content="OLD:Make your Own Web Crawler - Part 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>OLD:Make your Own Web Crawler - Part 3</b></h2><h5 class="post__date">2015-01-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/92hGPUCztiE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so you can see here if we look at these
links this link doesn't have the
protocol prefix either HTTP or HTTPS
this one does but these ones don't it's
what we need to do is we need to make it
so that our crawler can handle whether
it has HTTPS or HTTP links and be able
to pre pan them under the start so that
we can follow the links afterwards so
that's what we're going to be doing in
this video so let's get started
so the first thing we need to do is we
need to come down here and we're gonna
say if sub SC are linked 0 7 is equal to
HTTP colon forward slash forward slash
this gets the link it takes the first 7
characters that's what the sub STR
function does it starts at the zeroth
character and goes to the seventh
character and then what we do is we're
just tracking is it equal to HTTP colon
forward slash forward slash then we'll
just create the brackets down here but
we actually want to do is want to say if
it is not equal to an HTTP colon force
us forward slash and we want to copy
this and then say and it doesn't equal
HTTP colon forward slash we want to get
the first eight characters because
there's an extra character because of
the s then we want to put the and and
again and we want to check whoops
we want to check if the first character
is a left square bracket we want to get
the first character the left square
bracket is four links that start with
male 2 because you can see up here
we're prepending on square brackets
around the first and last characters of
the link so what we're doing is risking
checking incident HTTP link isn't an
issue to be a sling and is it a meal
link so what we want to do in here is
that if you RL whoops actually so I see
our URL called r0 if they're the first
eight characters is equal to HTTPS colon
four slash four slash that will just say
prepend
GWS else prepared HTTP so what we'll do
here is we'll just link equals you need
to be a scorer for sauce for slash then
the dot operator in PHP is what's used
to prepare or tearpad things so if I had
a string that was said test if I wanted
the string to me this is our test what I
could do is just and we created up
create two strings and add them together
just by adding a dot in between them
so we just want to hide that on the link
and we want to copy this and paste it
down here we'll just change this to http
let's run that now
so you can see automatically everything
is filled in with HTTP or here to be
asked a pentagon what was there before
but we want to do is since best up here
in the to crawl list the to crawl
variable starts with HTTP and biospheres
uses HTTP obviously this doesn't work
the reason for that is because if I go
into this address you can see it
automatically redirected me to HTTP
colon for size path space let's see oh
so the reason for that is because the
Austral way you can do you can redirect
people so if I put in the HTTP colon for
size 4 / the crawler can't get
redirected it's not smart enough for
that so what I do is I put it in HTTP
and I will get the HTTP version of best
space so rather we were actually able to
crawl a website and get the links off of
that website it's time to actually be
able to follow those links so though
we're going to do that is we're going to
first create an array to hold all of the
pages we've crawled and we're gonna call
it CEO Myrna and make an array and using
the function we have to make a global
variable so we just quickly just use the
global keyword and global C in the
function and that will let us use this C
variable outside the function so what
I'm going to do is I want to say F and
then oops actually I want to say if not
in a rare thing say you so what I'm
basically saying is if the link is not
in the array because if or in their
inner a will return true if it's fine
and what I want is if it's not fun so I
want to say if not found that I'm gonna
make money of symmetry which will mean
that in here is if the if it's not fine
in here I just say a rare oops
push also function actually and I want
to provide it with the Iranian I want to
push to first and then I want to pushing
the link so that should push in each
link into the array so what I'll do now
is I will
get rid of the echo lengths and I'll
come down here and I'll just say for
each saying is what I pass in as the
array on pause Mississippi so what I
want to do is I want to loop through the
array see and assign each link that I
find to the variable page so I just say
echo page and I'll put a grip tagging
something here to read we should get
about the same thing equity just as we
do but if I just act right here all
right then we can see that it is in fact
different
you can see it says array
so what we want to do with our for loop
is we want to crawl each website or each
page so what we need to do is set cacked
underscore lengths and we just pass it
the variable page then down here what
we're going to do is we're just going to
tacko we're gonna actually have another
for each loop down here which will run
after this one and we're just going to
echo page again but this time this will
echo it from the array like it did
before but the arrests should be bigger
and I because we're crawling the links
as well on each of these individual
pages so we run this it should take
longer to run because it's got way more
pages to go through instead of just
running through this first page here
it's got all of these other pages to do
as well so just give it a minute so you
can see here that our script finished
running it took a while but it finished
running and we go down here you can see
here's all the pages that it's crawled
it's called way more pages than it did
before because it followed the length
sound it found this page on the home
page and even find a client for a client
flower link it find stuff from the
customer area the announcements page the
index page and all the pages that are
already on that are already accessible
from the home page so I just put in
another website let's try a tip stop
these spirits let's see oh
and I go do it over here you can see
this is what it looks like this is a new
website that we created to help people
who use best places hosting it shows
tutorials and things and it's updated
frequently we have more tutorials that
we haven't actually published yet but
we're going to keep it updated so that
anyone uses best base and even people
who don't will be able to benefit from
it I don't make hosting a website easier
well we're going to put that into the
crawler like I just did and we're gonna
run that and what we should get is if we
go back here you'll see the reason I
picked this is because it has a link to
bath space at the bottom here so what
should happen is it should take best
faces links as well and I'll dam in to
its array so if we go back here you can
see the first thing that crawls is tips
to be spaced at CEO then it crawls the
same thing again but it's different
because it has a slash then it crawls a
post then it crawls and other opinions
about admins then it gets this link
support at be spent at best fist at CEO
then a firing best pistol CEO and then
it went over some other things at far
and some images put in best fist again
with like the slash ignore this for now
it's the crawlers not the smartest in
the world but as you can see here what
it did was it went on YouTube a space
and it followed all the links on best
basis website as well the reason it
didn't go any deeper is because we're
only running this for each loop once but
if we wanted to we get it to go deeper
we have to put this somewhere in the get
links function or make the link they get
links function recursive so we'll do
something like that in the next video
but that's it for now thanks for
watching and I'll see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>