<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Make a Poll with PHP &amp; SQL: Part 1 | Coder Coacher - Coaching Coders</title><meta content="How to Make a Poll with PHP &amp; SQL: Part 1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Make a Poll with PHP &amp; SQL: Part 1</b></h2><h5 class="post__date">2014-01-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/d0R5ci2ASog" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so hi and welcome to this video so today
we're going to be doing is we're going
to be learning how to create a poll
using PHP so let's get started so the
first thing we need to do is we need to
create the basic HTML structure for our
page so let's just do that now so we're
going to do the doctype but we're going
to say change tomorrow we're gonna just
open the HTML tag and close the HTML tag
now we're going to do the head tag and
just a quick tip if you're using sublime
text you can type in the word head and
then hit the table button and it'll
automatically fill it out for you and
click add the closing time
when you do the same for title so whoops
I'm just gonna say a poem and we can go
down here and just do the same for body
and we'll just say the page content goes
here so there we go we have our page our
basic page setup so now we're gonna go
into PHP myadmin now we're going to
create a table for our poll so let's go
here we're gonna just create a new file
and we're gonna plan out our table so
we're gonna call the table let's set
pose then what we're going to do is
we're going to give obviously we need an
ID for each row we're gonna give a name
so that each polonaise inium or actually
use a pole ID so we only need two two
rows for the our columns main for the
pols table so we're gonna leave that
like that and then we're gonna go down
and we're going to specify what we need
for the second table so the second one's
gonna called questions and then the
questions table what we need is
obviously the ID for each question the
question names we're just going to say
question we also need the number of sort
of table who picked that question so
we're gonna say we're just saying um or
actual SEC hunt
then we're gonna need the we're gonna
need the pole ID so said pole ID we're
also going to go up here actually I'm
gonna create another one we're gonna say
IP address so that each person call me
I've sort of vote in the poll once I
will actually change this to votes so
that's all we need for the tables and
the sort of the rows for them so the
first one we have posts we need to add
three rows so let's go here and we'll
type in poles and create three columns
the first one is ID the second one is
pole Miam so let's just check down here
so the next two fields are actually pole
ID and address so let's just say a pole
ID and address
whoops IP address and then we're going
to change this to a varchar' and the IP
address to a bar chart because it's got
its got full stops in it so we're gonna
just say the pole lighting is 32
characters long and the IP address is
gonna be I don't know let's say when the
IP address is gonna be 15 because if we
do for example the high court IP address
for the hug org website
it's 192 dot e at 1.2 10.9 6 and
obviously if we add these up it's less
than 15 and the reason it and the reason
we're leaving at 15 is because it is
less than 15 because having it 1 is the
same as point 0 and then another 0 here
so this is actually the exact same IP
address for example if I just paste this
into the browser let's just go here as
you can see we got the exact same result
so I think see this is 15 characters
long
suppose you see this is 15 characters
long and that's the maximum length an IP
address can be which is why I've set the
length to 15 we're gonna go up here
we're gonna set up the ID dog Auto
increment on we're going to give it the
index of primary we're going to click
Save now over the pools table created
we're going to create another one called
questions
if we go down here we can see how money
we need we need four columns so first
one is obviously ID again second one is
question the third one is votes and then
the fourth one is ID whoops my IP
address the fourth one is pose ID so
that we can relate each question to the
poet's in so this has to be a bargain
has to be 32 characters long boats can
be named because that's gonna be a
number the question has to be let's say
actually a text just to make sure we
have extra room and then we go up here
again we set Auto increment and index to
primary for the ID column so if the two
tables created by so let's go into
sublime text we can get rid of this we
can I start to work on our code so the
first thing I do is I'm going to create
a PHP block and in here we're gonna do
is we're gonna use MySQL I this time I
forgot to say instead of MySQL so we're
gonna say we've to set connect equals
mysql i underscore connect I didn't here
we want to put first is the server host
which in my case is localhost next we
want to give it the username which is
wrote fourth one arming third we're
gonna give it the possible just not and
then fourth we want to give it the
database name which is pose I think I
was polled actually so the database is
pwned now what we want to say is query
equals select whoops select all from
poll let's say a pose where a poll
underscore poll ID equals whole ID so
we're gonna get the poll ID variable
from the URL so we're going to say poll
ID equals get poll ID
and obviously you could sanitize this
with using and with PHP functions but
for simplicity I'm just gonna leave it
like that
it's obviously not very secure but it
doesn't have to be for this tutorial so
now we're gonna say is MySQL I
underscore query and then the only
difference between this and ordinary
MySQL is obviously the MySQL connect
function now includes the database name
and as one of its parameters the
function is obviously called MySQL query
instead of MySQL query and the only
other difference is we partly connect
variable in the first argument and then
the second argument is the query want to
sort of where we get with the database
against so now we've done that I'm going
to say echo let's actually just say Q
sub whoops I'll assign not equal to the
Q variable other words to echo MySQL i
underscore num rows q so let's just
refresh the page and we should get 0
okay so cool idea isn't defined that
just basically means we need to say
whoops whoops sorry a question mark poll
on the score or I think just politely
equals and then we give it some random
ID so let's just say it up the variable
is not assigned and we get rid of that
error but obviously this isn't there
there's no polls that actually exists at
the moment so what I'm going to do is
I'm going to click insert whoops I'm
going to go back to polls and then click
insert when I'm in the polls table and
I'm going to create a new poll called
test that's actually we need a poll
title as well so in a structure well I
it after ID will click go or we'll say
title I'll set it to a bar chart we'll
give it a 255 characters limit and then
what we're going to say is test poll
poll ID is going to be equal to test and
the
pyaare dress is going to be zero I mean
Ambu for now now we're going to say Paul
ID equals test as you can see we got one
returned because we are selecting off
from polls were polite equals poll ID
which is the variable up here so we're
getting one returned it's not that we've
done that we want to actually retrieve
the rows from the database so now we're
gonna say is wild whoops let's go up
here row equals mysql I fetch array and
then we're gonna say Q then we're going
to say down here ID equals row and
instead of for example in MySQL we put
in ID like a string we're just gonna put
in zero because we're getting the index
from of the columns from the arrest
right echo ID at the moment and we
should get one ecwid ID to the screen we
actually already had one echo died so
that I wouldn't make any difference but
if we just on a sort of comment that out
and go back up here and refresh as you
can see it disappears but when we put it
back in and echo it again and it acts
just one so what I'm gonna do is I'm
going to copy this and paste it in a
couple of times we're gonna get the poll
title nine the poll ID and the IP
addresses so we just changed these with
one two three just going up and as you
can see that's just if we click browse
we can see this is the index 0 this is
index 1 this is index 2 and this is
index 3 so that's how we're getting them
out of the database
whoops um we need to go back here and
when you change this to title and we
should get test pull a cord out to the
screen so let's refresh and says test
poll so that's it for this video don't
forget to Like comment favorite and
subscribe and I'll see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>