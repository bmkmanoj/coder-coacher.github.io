<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Make a Social Network from Scratch: Part 30 - Starting the Newsfeed | Coder Coacher - Coaching Coders</title><meta content="How to Make a Social Network from Scratch: Part 30 - Starting the Newsfeed - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Make a Social Network from Scratch: Part 30 - Starting the Newsfeed</b></h2><h5 class="post__date">2012-08-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/gpPBDZd4Hiw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so hi and welcome to this video so today
what we're going to be doing is we're
going to be creating the newsfeed
so let's get started so what I'm going
to do is I'm going to open up the home
dot PHP file I'm not checking these
close out of this so we can actually
pretty much blank this out so what I'm
going to do is an ACCI instead of
blocking recycle because we can still
use this line if the user is logged in
I'm just going to get rid of this echo
function and what I'm going to do is
write h2 news feed and if we go back
here and we refresh and of course we
need to end the PHP tags there so now we
have a header tag that says news feed
and we can style this a bit so what I'm
going to do is open the CSS and I'm
going to create a new style and the
style is going to say news feed into and
what it's going to say is background
color and the background color is going
to be a color move up here the one that
says blue I think so I'm we're going to
copy this color for the background color
and of course the fashion and then
go the next line on the border is going
to be one pixel solid and it's going to
be the color I this one here and we can
check this so far by enclosing this in a
div with the class of newsfeed so if we
refresh now we have the background color
and the yeah running newsfeed so what
I'm going to do is actually I'm going to
say with I'll make it say 70% of the
page and if we refresh not fills up 70%
and then why did this is because we
could M if we want to put an
advertisement along here I don't know
because we what we don't want the we
don't want the news feed to be split up
into columns I suppose so I are not done
here I'm just going to say font size 15
pixels so they are not fit to the
pattern so now we can change this to
your newsfeed so now we've done that we
have a a bar and it's sort of the title
bar the header bar of our newsfeed so
now we've done that underneath we're
going to go to create a new div and it's
going to be okay actually instead of
this what we'll do inside this PHP M the
a block will create a MySQL query and
this query is going to be cat
posts which is going to equal my SQL
query obviously what this query is going
to say is select all from posts so I'm
we can actually make this easier for
ourselves by going to profile dot PHP
and if we go up and always we find the
quick cap posts query we can copy down
this code just change it slightly and
just paste it in so what I'm going to do
is kissed it in here and change this to
the variable we just used which was
actually doesn't matter because it's a
10-page we can use the variable so if we
refresh 9 okay so what we'll need to do
is just for that and kardi bracket to
close that off so now if we refresh okay
let me see okay and one more thing the
variable username hasn't been declared
so we'll just change it to user coming
fresh and this isn't quite what we were
looking for but it does work and but
that's not what we want
well not yet anyway and we can create a
variable and can be post equals and we
can just go down here underneath in use
feed Devon we can just create a new date
I don't know any PHP block and what it
is going to say is a co-host
so if we refresh we have the news feed
title layer on okay so not obviously
didn't work so that's a simple thing
we're going to do to fix this copy this
whoops we're going to copy all of this
code and we're just going to paste it
here before we check that as you can see
we have up here if is not sat session
user login which means if they're not
logged in we redirect them to your
homepage and here we have the house and
then what to do if they are logged in so
we need to delete this and then include
all this code in another curly brace so
that it only shows up if the user is
logged in so now for your fresh hmm and
obviously I need to change this back to
echo so now I finally refresh we get the
you a news feed header up here and we
have the posts so what we're gonna do is
um surround this and I div and close it
underneath so I just close this div off
here whoops and um and here we'll just
say class equals a news feed post and
then just use single quotes
so back in the side style dot CSS file
we obviously have to create the newsfeed
post class and then we're going to first
set the width to match the width of the
header so it takes up 70% of the page
remember that didn't work and okay what
we're going to do is copy this and just
paste it below and then just say HR so
this way if we choose to keep the HR
tags
underneath hmm okay so I don't think
this was necessary the reason that
didn't work was because it was new feed
post instead a news feed post so after
you're fresh and as you can see now it
fills up 70% of the page so we don't
need this one anymore and what we're
going to do is we're going to set
background color and the background
color is going to be white which is 6x
and the border our border M is going to
be one pixel solid on the border color
this time will actually be the color of
the background of the yeah it will be
this color here so if we refresh we'll
probably get rid of h2 tagging one now
it has a very very very faint border and
on the edges so what I'm going to do is
remove a header tag or not how to
package our tag and as you can see
there's a bit of a problem or so we can
just put a paragraph tag or two
paragraph tags nine so one paragraph tag
sorted out but we want to select up so
two paragraph tags should sort
so no not okay the second paragraph tag
has to be underneath so that there is a
gap between the border so now there's a
very very faint border around the edges
and what I'm going to actually use copy
or get rid of the paragraph tag and
paste it up here so it won't make any
difference to the actual posts but I'll
just make a gap between that and the
newsfeed Hatter so now each post has a
slight thin border around it and there's
a gap between not the newsfeed so and
what I'm also going to do is in here I'm
going to say a position fixed and we're
going to because we did that now we have
to just copy the paragraph tag and under
here we just need to put a couple more
and paragraph tags in because Mary too
should be enough when you set the
position when you use the position thing
in CSS it kind of just puts it over the
top
mm I know you can explain that well but
sort of sets over the top instead of
when when you're at a CI HTML elemental
page it pushes your the ones out of the
way to make room for it but if you use
that CSS position attribute and it just
sort of puts it over the top and it
doesn't push anything out of the way so
now as you can see it moved it up
underneath it more and that's with the
two paragraph tags and you'll see if I
remove these paragraph tags and refresh
as you can see this is sort of sitting
on top of everything so we have to make
some space for it
so three paragraph tags you in and
refresh it looks the same as it did
except for one difference
now the
news feed Hatter stands on top I mean if
you don't like that you can always
change it because it's pretty simple to
change pump and I like it so I'm going
to keep it and I noticed that for some
reason these are not quite as long as
the Hatter and that's because of this
Dave up here so I'm not active that's
because of some of the other could be up
here so we can either leave it the way
it is because it looks fine but if you
want to be if you want to make sure it
looks correct we can just line it up a
bit better okay so that's good enough
and the reason I made the border so I'm
light because the newsfeed post we're
just going to copy this and we're just
going to say however on the background
color will be the same as the border
color and then the border color will be
it seems yeah this one so basically when
you highlight over one of these a little
change color you will see why see as you
add this sort of you know I don't know
it looks kind of cool I think it
highlights it so what we're going to do
is Adam also we're going to add padding
around the egg and the edge of five
pixels so well maybe three pixels so
that looks a bit better okay so now
we've done that what we're going to do
is we're going to change this writing
here just instead of saying posted by
cinema because one to mimic the Facebook
newsfeed sort of but obviously I can
lock the way we want it but we just
wanted to mimic this piece of it so to
do that well it's pretty simple
obviously which go to the HTML and we
find this posted by so what I'm going to
do is delete this and we can keep this I
keep it in the Dave posted by and what
I'm going to say is and what I'm going
to say is a user from sad I don't know
posted yeah sup um this on your profile
so we could say that I'm looking to
fresh okay so the variable user from
wasn't in decline that's added by okay
so we change this to added by on they
also cinema posted on on your profile
but as you can see now I've just logged
out I'm seeing these feeds different for
me obviously because I'm a different
user on what I'm going to say or what
I'm going to do is I'm going to go to
cinemas profile and down here are in
here actually I'm just going to say this
shows us the news feed is working tell
your fresh want our first post it and
for some reason my profile pictures not
showing up so I will fix that but please
refresh well look at will last for that
out sometime soon but okay so I'll log
out log back in this Emma I know it says
Frances posted this on your profile
was it working there are this shows it's
ad newsfeed the work is working so right
what I'm going to do now is now we've
got okay actually I don't like the
newsfeed Hatter floating on top so I'll
just get rid of this and in the side
style all we have to do is remove a
position fixed so we refresh and the
newsfeed to no stay
and I can actually fix this now because
the reason it was hanging over I believe
is because there was no power or it was
short was because there was no padding
around the edges but in the hitch to an
option by default there is our there is
padding around the edges so so long as
we match the padding which is probably
two pixels so I will adjust the padding
to two pixels so it looks like that's
too small so what we're going to do so
we'll just leave this the way it is
instead of wasting time trying to get it
down to the very last pixel okay so okay
so I just worked out the reason why
these profile images aren't showing up
and it's because unless you will upload
a profile picture and as you can see if
I go to open this image in the new tab
the uploaded profile picture shows up
fine because if you don't remember this
last part of it is in the stored in the
database and then it's out put it in a
variable but if we open this image in a
new tab it just takes us to the profile
pictures directory because the variable
afterwards guys taken from the database
isn't there so what I'm going to do to
fix that
well actually I'm probably running out
of time so yeah that's one of the things
we'll do in the next video as well as
doing more of the newsfeed and like
showing your notification didn't you see
them letting you poke people in the
newsfeed like things and usually things
like that
so if you've enjoyed this video I like
beef if you've enjoyed the video and
don't be afraid to like the video
comment on video or whatever and if you
have any questions and don't be afraid
to ask me because unless it's a question
about before or I've been asked before
and I will usually have your necessarily
complicated one that I did well even the
complicated one sometimes they will help
if it's a really long one that means
it's going to take me a long time to
answer then I might still help you but I
might not ask the whole thing because it
would take me so yeah two long time
everybody asked me really hot
complicated questions and I had a
working like for each individual person
by looking at their code and stuff but
if you ask me a question and you have to
show me some codes long as it's not too
much it won't tell me too long answer
then I'll be more than happy to answer
your question or at least point you in
the right direction so once again thanks
for watching and see you soon and don't
forget to subscribe</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>