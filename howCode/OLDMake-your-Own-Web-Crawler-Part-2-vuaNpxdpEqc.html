<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>OLD:Make your Own Web Crawler - Part 2 | Coder Coacher - Coaching Coders</title><meta content="OLD:Make your Own Web Crawler - Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>OLD:Make your Own Web Crawler - Part 2</b></h2><h5 class="post__date">2014-11-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/vuaNpxdpEqc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in this video we're going to be
continuing on with our web crawler
so what we're also gonna be doing is
we're gonna be making it smarter so that
it can work with type are different
types of links for example HTTP links
and here's TTP links so let's get
started
so what we're gonna do now is we're
going to check does the links start with
an HTTP colon forward slash forward
slash so the way we do that is we just
say if sub STR link 0 the reason we are
saying link is because that's the string
we want to provide the function with -
as that's the string we want to provide
the function with then we want to start
from the beginning of the string which
is why you put a 0 we want to go to we
see the 7th character which is why we
put a 7 in here and then what I'm going
to say is if that equals HTTP colon
forward slash forward slash and you'll
notice that this is seven characters and
that's why we start from zero to seven
because we want to get this part of the
string
so what we say is if that is a if there
is a HTTP code on for size for size at
the start of the string we just send
link equals link we could we could
actually just leave the F statement
blank but I'm just going to write that
so that we have something written into
it so basically we're doing nothing to
the string of the link then we're going
to say is else and we're going to just
copy this and paste it in here and we
just need to change this to we want to
say else if this is equal to HTTPS and
since there's an S we need to add an
extra character so HTTP colon forward
slash forward slash is eight characters
so we need to get the first eight
characters
and once again
if we see that we just said linking was
linked because we don't want to do
anything because that's a valid link
that we can follow so the next thing
we're gonna do is we're just going to
copy this and we're gonna get links
let's start with two four slashes so
want to get the first two characters of
the string and I'll show you an example
of a link that has that starts with two
backslashes as opposed to the URL scheme
so if you see here I'm on the haiku org
website and I'm on the view source of
haiku org and you can see here this link
goes to a style sheet and you can see it
doesn't specify HTTP or HTTPS just as
the two slashes so what that means is if
I'm on haiku org for example
and say for example I'm just like this
so why punish TTP you'll see the HTTP
you'll disappear because by default
Google Chrome just assumes that if
there's nothing before the URL it's it
uses if there's nothing before the URL
it uses HTTP so that means that that
stylesheet will be downloaded using HTTP
as opposed to HTTP but if I wrote HTTP
colon slash slash you can see now we're
using HTTP on haiku org and not only
that stylesheet will be downloaded using
HTTP because I didn't specify a specific
you are asking so we want to be able to
look for links like that and that's why
we've put it in our web crawler so if we
see a link like that what we want to do
is we just want to strip the beginning
of the link just want to say sub STR
link zero or a two which means we want
to take the link and start from the
second character so we want to get rid
of these first two characters so why
after this runs we take away these two
slashes and this is what were left with
so this is what the link would look like
after it went through that if statement
so now what I'm gonna do is I'm going to
copy and paste another one and I'm just
going to put in a hash here and I'm
gonna get the first character and I'm
gonna strip the first character actually
what else a link equals URL so what this
still
if we see a hash in a in a URL we're
just going to give it the actual URL
were provided with the function so in
this case if we saw a best based on Co
hash something it would just strip the
hash everything else a hash tag and give
us best bits of CO and finally we're
going to copy this again we're going to
check for mail links so we send mail to
so this is going to check for email
addresses and we're just gonna get the
first seven characters of this and we're
just gonna say a link equals link and
then what we're gonna do is we're going
to append a square bracket to run the
link just so that we can see that it's
email address so if you run this now and
we just refresh the page we get an error
okay we had a knack
Jakari bracketed so if we run this now
you can see here our mail to link got
brackets put around it to show us that
it's an email address and everything
else busily said to see him because
we're add we haven't done anything with
the rest of it yeah so what I'm going to
do finally is gonna put another alles
clause in here and it's going to be this
sort of catch-all Clause so if the link
we provide doesn't fall into any of
these if statements it's going to just
fall into this final else statement
so we're saying here is if sub STR link
0 1 is equal to a slash so we're getting
links that start with a slash that will
say link equals this URL dot
and then we're going
Panda / then we'll say link and we
actually need to change this to not
equal to so therefore if there is no
slash in it we just want to append to
the URL plus a slash to the links we got
a full URL and then we'll just say else
link equals this URL dot link and the a
dot operator in PHP just depends two
strings together so I can append these
two variables into one string using a
doll in between them so now we just need
to finally put in the base URL variable
which in this case we got by saying this
URL equals and we're gonna use a
function in PHP that calls parse URL and
what we provided with is the variable
URL which in this case is the URL we
provided the function we write the PHP
underscore URL underscore host so let's
refresh the page now
okay we have error on line 33 so if we
go down here we see we just getting rid
of that dollar sign
I don't know that's not you can say that
everything automatically gets the full
URL appended on to it so you can see
here what was originally just a slash is
my best based on CEO for slash and what
was originally slash best deals is my
best fist on Co for sash best Dean's and
so on and that's how our crawler works
so we're slowly but surely checking each
link on the page and we're building up
phone URLs for each one and we'll be
able to follow those URLs and crawl
those pages and get their content and
things like that so that's it for this
video don't forget to Like comment
favorite and subscribe and I'll see you
next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>