<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Simple MVC in PHP (2/4) - Controllers | Coder Coacher - Coaching Coders</title><meta content="Simple MVC in PHP (2/4) - Controllers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Simple MVC in PHP (2/4) - Controllers</b></h2><h5 class="post__date">2017-03-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/04aTM01Y3uQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in the last video we learned how to
create rows and here we can see the two
valid rights for our application so MVC
stands for Model View controller and in
this video we're going to be doing the
controller which is the C and Model View
controller so let's get started so the
first thing we're going to do is we're
going to go to our text editor and we're
going to create a folder called
controllers and inside our controllers
folder we're going to create two
controllers one for the abidance page
and one for the Contact Us page so we're
going to right click create a new file
the first one's going to be about us the
next one's going to be contact us and we
could create another file called
controller and this could be our base
controller so one controller what we're
going to do is create a new PHP block
and we're going to create an ANSI class
called controller then on the about Us
page we're going create another page
feed block and we're going to create a
class called about us and it's going to
extend controller so that way if we have
any default functionality we want to put
in our controller or we want every
controller to have it we can do that but
for the minute we're going to leave a
blank we might not even use it and we're
going to copy this and we're going to
paste it and contact us we're just going
to change about us to contact us so now
that we've created our controllers we
want to where to actually run them and
display the code within them so what
we're going to do is we're going to go
to our routes class which is in our
classes folder and when we set a route
at the minute what we're doing is we're
printing it out what we want to do is
run this function this variable called
function maps to this actual function on
the routes page so this code will get
run whenever we set the route we don't
want to just run when the route gets at
we wanted to run when we actually access
that specific route so to run the code
in this function we have to use a
special PHP method one we didn't create
but one that's built in the PHP we get
our function variable and instead of
printing all of the routes we're just
going to comment that out below that
runa-san function and we're going to use
this arrow operator and we're going to
set on a score underscore invoke and
that will run the code this is designed
so that if you store a function in a
variable you can execute the function
using this underscore underscore and VOC
method so now if I run the page what
you'll see is we will get about us and
contact us print it out you can see
there we go we got both routes printed
out because this function is being run
no matter what route were accessing is
just being run because we're executing
the stat method so what we want to do is
change that for that it only runs when
we access the about us route so what we
want to do is make sure this function
only gets run if we are actually on the
current route
so in order for that to work we need to
know what page the users on if we go
back to our HT access page you can see
that every single request that we get
for our website goes to n next up HP and
then it's passed as a URL parameter so
in order to find out what page the users
on and therefore what routes are using
all we have to do is say if get URL
equals root then we'll set function
invoke so now if we run that you can see
we got nothing printed out because at
the minute the gap variable will be
equal to index.php because that's the
page we're on even though it's not
actually an address bar but we're on the
root of the website but if I go to a
botos now you can see a bodasse gets
printed out because the o botas function
was executed so now we've solved the
first problem and what we want to do now
is load the controller from the root so
what we want to do is access the about
Us class so what if there is about us we
could run a method called something like
create view so now if we save that we're
going to get an error because on our
index page we're Auto loading the
classes but we're only Auto loading
classes from the classes folder so we
want to auto load our controllers as
well so to fix this all we need to do is
we need to say F file underscore exists
and we just pissed in this then we'll
require it
LSF file exists with pissis and again
and we change us to controllers now
we'll just require the controller or we
require the class so let's run this you
can see we got no errors printed out and
the reason we get no errors is because
we're not actually running the about us
code when I go to about us we're going
to get another error you can see we got
a call to an undefined method so what we
want to do is go to our controller class
and create a method called create view
so it's going to be a public static
function print view and then here what
we're going to do is just echo view
created and the reason we're creating it
in the base controller class is because
the about Us class works down the
controller so it will have access to
this method and every single controller
will have a create view method so it
makes sense to create at once in the
base controller class so if I run that
entities view created and I copy and
paste this changes to contact us and
therefore we get no errors we try this
again and contact us and we get you
created again so that's been a really
simple introduction to controllers and
NBC next we're going to be doing is
creating views for the specific pages so
that's it for this video don't forget to
Like comment favorite subscribe don't
forget to follow us on Facebook Twitter
and reddit and I'll see you next time
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>