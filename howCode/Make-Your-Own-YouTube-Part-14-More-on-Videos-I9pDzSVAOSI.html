<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Make Your Own YouTube Part 14 : More on Videos | Coder Coacher - Coaching Coders</title><meta content="Make Your Own YouTube Part 14 : More on Videos - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Make Your Own YouTube Part 14 : More on Videos</b></h2><h5 class="post__date">2013-03-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/I9pDzSVAOSI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so and welcome back to this video so
today we're gonna be doing is we're
gonna be finishing off the video upload
script so in the last video what I said
we'll be doing is after we've uploaded
the video we're gonna be inserting it
into the database and associating it
with the channel of these are that
uploaded it and we're also gonna be
doing things like checking the md5 hash
of the video to check for things like
duplicate uploads and things so that's
what I'm gonna be doing so let's get
started so as I said in the last video
we finished the video upload script but
I'm just gonna run it again had just to
prove everything's working ok so you can
see here we're on the video upload page
and if I go to the videos folder where
all the videos are stored you can see
that it's empty so what I'm going to do
is I'm just gonna upload a video so if
we click Choose file and then we let the
file dialog open we can see here it says
test video is just a folder and in here
we have a test video which is a vampy
for what happy for like file extension
so we can click on it and since it's a
small very very fast and since it's
uploading it to my computer which is
where it's stored it'll be really fast
actually as well so if we click on
upload it should be done in a couple of
seconds ok the video was uploaded
successfully so if we just refresh there
we can go back and it doesn't matter but
if you see here we go into the videos
folder and the video we just uploaded is
there we can just upload again so we can
upload the same video and click upload
and you can see another very was been
added to the list but what we just did
is we just uploaded a duplicate video
and we don't want to be able to do that
on we haven't actually associated what
the user has logged in so it it's not
associated with any of these channels as
you'll see so that's what we're gonna be
doing today
so let's go to the Davis now I'm gonna
create a table called videos but before
we do that we need to actually plan on
our failed the failings of the columns
in the database so the first thing we
need to obviously is an ID to uniquely
identify every room gibbous in the table
the next thing we need is the venue
title video description video keywords
uploaded by privacy so we can set it to
private or and public if we want um what
else did uploaded we want to actually
also check me and the md5 hash in the
file so we to Andy five and let's
actually an obvious one would be views
so there's a view so there's nine
columns when you do choose so we go back
to our database and we type in videos
for the Timonium and we're going to type
in the columns 59 okay so now we can
create our tables so the first column is
gonna be called ID the next one we said
was video title the next one was the
description next one video keywords and
the next one was next one was uploaded
by so uploaded by
then we scroll down we can see we type
in Krita z it
oops loaded md5 on finally view so
that's all our columns filled in so what
we want to do is want to set the correct
type for them now so the first one can
remain I integer because or only any
cepting numbers in the ID these three
need to be well add description can be
text keywords could be varchar' because
these we need these to be off in numeric
out of it's a varchar' yeah we need a
max length as well
so we set out to the maximum length of
of our chart which is 255 characters we
scroll down a wee bit bring in a set the
uploaded by as a varchar' and what's
that the limit of that to 32 because
that's the limit we set for the username
I think privacy is just average hard
doesn't matter it could actually be
needing them as well but we're just
gonna choose 10 for that it does not key
matter data uploaded is gonna be a bar
char and we're just gonna set that to
the maximum it doesn't matter we can
scroll down a bit more the md5 is sort
of the only important one were the
length matters and we need to set that
to 32 characters
I'm views is an integer so that doesn't
matter
so we scrolled over and we can scroll
all the way to index on the ID field
which is the first one the index has to
be set the primary Ana has to be Auto
increment so that's what the a
underscore ID means and the auto
increment feature just means that
whenever you add a new column into the
row the ID field gets incremented one
each time so the first video will have
an idea of one the second video and have
an ID of two and
the next one will have an idea of three
four five and just goes like that so now
we can click on save this should create
our table so we're missing a value in
the form so let's have a look which one
were missing
okay so I don't know why we got that
error but I just collect save Akeem it
created the table so now we've got our
table we're gonna go to the structure
I'm just gonna leave it at the structure
part of the table for now and we're
gonna go back to the actual code so
we're gonna go to the upload page again
then we're gonna go into context now we
can get rid of this so whoops close this
we don't want to see a bit so we're back
in our code again I'm I want to do is we
firstly want to add more rows to the
form because as you can see we are the
things like title description keywords
and those things don't exist yet so I'm
gonna do that now we're going to just
put in the same form so we're gonna
create an input type of text set the
name equal to video title on the value
equal to no I will just leave the value
at nothing for now
and here we'll just say video title and
the next thing we need to do is we need
to create a text area for descriptions
so video descriptions or no description
it's gonna be a text area the text area
is gonna have a certain number of rows
obviously and then a certain number of
columns so let's just type in something
and see what happens so with a three and
a rose on two hundred columns
so if we refresh this now what we should
see okay we see this massive tax area so
we'll change that to 30 and 20 so we'll
get one tenth of the size it's still too
too tall so we'll take away some of the
rows so there's ten rows and that's it
forty columns so that looks okay
yeah but we're also going to do is just
break in here okay and actually break in
here not a break in here so there we
have it so the next thing we need to do
is we need to see we have keywords as
well to put in so we could just copy
this paste a dime change this to video
keywords and change this to keywords the
next thing we have to do is upload it by
we don't need a feel for that we can
just use they're using in their debt we
don't need a feeling for we do need an
option for privacy I'm using md5 we
don't need one either so we need one for
privacy now and when you add one more
for the privacy so that's really easy I
Webster type in is at privacy and then
here we're going to put an input type of
a radio for renewal buttons and name is
gonna be equal to privacy and the value
is gonna be
public and then we're just gonna put
space in here actually yeah two spaces
and we're just going to copy this and we
keep the name to see him that way when
we click on one radio button in a decent
act the other so we can only choose one
we change this to private so what this
should do okay so you need to just put a
break in here we actually need to put a
space there right public space here I'm
write the private since they didn't show
up so let's try that and we have public
and private so when they click on public
it goes blue and when they click on
private it dislikes the public one so
this is our basic form for ballooning
videos so what we're gonna do is we're
going to actually a sort of similar to
our register and upload we're going to
we've already checked is the form
submitted the next thing we're gonna do
is we're gonna we're gonna say if not
empty oh and I are we actually need to
create some variables so title equals
host video title
we basically need to do this to post
every piece of information just just
write DSA for that change this to
description keywords
privacy we'll leave that for naught
so we've got our four I think we have
four yeah we have our four fail it's the
post so we're just gonna say if it isn't
if it is not empty title and or oops or
the essay or keywords or privacy then
we're going to move almost the form and
we're actually gonna move this time so
we will copy all right cut this I missed
it down here and then put it in here and
then we're just gonna say we're just
gonna start a lot in the air block or
and then we're gonna close the book I
want to say else died on the way just
back oh and you left something blank so
let's try an eye let's pop some
information in here and that's leave
okay we'll put something in all of them
I look like upload on the finding next
video description so let's have a look
whoops first we're going to scroll down
and see oh yeah we didn't get a text
area and me and
we need to call it video description so
that's probably why we got the error so
we're just gonna fill all these in just
with some rotten dummy data we're gonna
click public and click upload and
everything goes through properly so then
what we're gonna do is we're going to
leave on blank someone we don't ever
leave the title blank and fill
everything else in okay so we're not
it's not working in so the reason none
of our errors were showing up is because
when I left at the code or that this
code here where is it actually this code
here which is the code we used only runs
if the code above it doesn't work so
what that means is they had checks as if
statement and if they if statement is or
Novacek said this if statement and if
the video doesn't exist we move it and
that's only if that happens so we need
actually basically just put in a video
so we're gonna go to choose followers
you need to get out a video so test
video warm leave everything blank except
title okay so we're getting a problem
well actually get rid of a lot well we
we that I put this up here
and then we'll say if they're not empty
you know if they are empty
whoops echo we're just gonna basically a
go here not empty so let's try an I
choose file upload video upload and we
get empty aqueduct so that's good
call me holla undefined index so that
means we've done something wrong so copy
here take the privacy variable and we're
just gonna paste in here and make sure
your spell not spelled anything
incorrectly so looks like we spelled it
right so to fix that all we have to do
is put an act or is it an @ sign in
front of it and that you get rid of that
error so let's try it
upload a video and even one of these
blank air we empty and the video
successfully uploaded because we didn't
tell it to stop the upload so if they
are empty we're going to die empty fails
so now what they should do we can
actually check we can see we have a
total of 5 videos uploaded so now I'm
going to I'm gonna leave something like
I'm gonna upload a video and it should
leave it blank and not upload the video
just give this empty field you'll see
that was a bit quicker now we still have
5 videos in the in the folder so that
means you didn't upload which is good so
if they're not empty what we want to do
is we want to if they're not empty you
want to actually insert it into the
database so I'm going to copy this okay
actually I'm
work we're just creating you so we're
just great query called insert equals
mysql query insert into videos values so
the first values ID so we can leave that
blank is that's auto increment the next
one is the video title so we'll say
title the next one description so we
said description next one is keywords
will set up next one is let's have a
look
uploaded by so we'll just say user
I think it's username election next one
nice I think is privacy next one is data
uploaded then so just right date md5 and
leave out like a seventy five four nine
and check views so we'll set that to
zero these two don't matter for the
moment cuz that's there I just don't we
did it before we do anything and when we
finish uploading the video while we're
going to do is we're just gonna echo
your video was success fully uploaded
okay so let's try this let's just type
some stuff in here I choose the privacy
or whatever it doesn't matter
like upload your video was uploaded
successfully and usernames not a
variable so must have been user so if we
click on videos and I just realized we
left that an important one the important
fields or a column you know I thought
was actually video ID so I need a unique
word identify each video that gets
uploaded so as you can see ignore or md5
and date because that's dummy data news
is real data but it was easy it was just
putting in a zero so it doesn't matter
but it did work privacy yes it picked up
the privacy and set it to public
uploaded by when you change that
variable but that's not hard to do and
the other three are correct as well so
we need to set this to user and we'll
try that again so just putting some
anything here video was uploaded
successfully we didn't get any errors
that's good we go to the videos table
scroll down we have two queries or a
columns we can see uploaded by Francis
and the rest of them are correct too
so before we go the last thing we're
gonna do is going to go to the table
over and above the structure I'm looking
at and you row
all right column so at the end of the
table when I had one column we're gonna
let go what we're gonna do is we're
gonna add a column called video ID we're
gonna set it to a bar chart of length
okay we'll set a taxi just 32 for now
now we're gonna click see you
so we've just added that column now this
won't work because this query doesn't
match so what we have to do is very
simple we just add another row at the
end of it and we
create a variable to hold that so at the
moment I'll just write a video on the
score ID which is gonna be the unique
way to identify the video but we've
already created that from done here so
what we can do is or is it we can just
grab this string that we used to
generate the add name of the video so
it's a random directory is the a
variable so we're gonna go up here now
we're just going to copy this and we're
just gonna paste it up here it doesn't
really matter
we're going to change this to video ID
okay then what we're gonna do is we're
going to say md5 or gonna just rhenium
it's alright video ID equals and the
five video ID we just change this to a
variable now we're going to go so let's
try that
it's upload anything doesn't matter so
fill these in upload we got a successful
message that's good we go to the
structure we should say yeah we see
three rows we scrolled on to the end and
here is our unique video identifier and
everything else is working as well so
this is really mostly it there's a few
more things we need to do on the video
upload um this form is not very secure
so you might want to secure it yourself
but in the next video what would be
doing is we'll be finishing this off and
adding some security to this form so
that's it for this video don't forget to
Like comment favorite and subscribe so
you'll know when I upload new videos and
I will see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>