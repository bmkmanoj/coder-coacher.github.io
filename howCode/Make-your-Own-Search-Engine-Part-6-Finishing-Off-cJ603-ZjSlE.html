<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Make your Own Search Engine - Part 6 - Finishing Off! | Coder Coacher - Coaching Coders</title><meta content="Make your Own Search Engine - Part 6 - Finishing Off! - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Make your Own Search Engine - Part 6 - Finishing Off!</b></h2><h5 class="post__date">2016-08-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/cJ603-ZjSlE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in this video what we'll be doing is
displaying our results and we'll be
using PHP prepared statements to secure
our web search engine so what we're
gonna do is we're gonna go down here and
you can see this is our search query
where a construct we can actually leave
this alone but we need to change this to
prepare we'll leave that for the minute
actually because before we do that we
need to add our terms from an array so
the way we're going to do this is we're
gonna quit another array called params
so what I'm going to do is I'm going to
first insert the terms into our array so
the way we do that is we say params it's
an associative array so we pass it a
string for the key the value that we use
to retrieve the information from the
array and we say it's equal to search
and then we pass it the value X then we
say that is equal to term this means
every time the for each loop loops it
will create a new item in the params
array equal to search one such to search
three et cetera and each time it does
that it will insert the term into the
array and then we're going to use that
and then we're going to pass this array
to our execute function to fill in all
the parameters that we're missing so
what we're going to do is since if we
try to say search matching you're
putting the cool on here you can see
this is a string and MySQL will treat it
as such so what we need to do is we need
to use MySQL built-in function called
concat so we said concoct to concatenate
strings together so we pass it the
strings want to concatenate it and in
between them we pass it another string
and this string is search and then we
pass it the number X so if we go back to
the crawler when we use prepared
statements you can see we said : title
is equal to title the colon title is
stored in an associative array and that
associative array stored are parameters
so here we're doing pretty much exactly
the same thing so I'm just going to copy
this
and we're just going to keep passing it
in here so here what we're gonna do is
we're gonna run this and hopefully it
will work before we can run it we need
to change this from query to prepare
then we need to say results equals
results execute and finally we need to
pass execute our params for Ray so let's
run this again so the reason we're
getting this real kind error is because
if we go back to our text editor you can
see here we're executing the query but
what we're doing incorrectly is we're
assigning the output of our execute
function to the variable results the
reason this is giving us the error is
because whenever you execute a query
using the execute method it returns one
if the query executes successfully and
it returns zero if it fails because we
can change the type of a variable in PHP
at runtime what we're doing essentially
is changing the type of the results
variable from an object to a literal
integer that's a 1 or a 0 so because
that what we're essentially trying to do
is access the real kind method on just a
random integer so what we need to do is
just delete that so we're not storing
the iput of this attribute function we
can't store it but if we store it in the
results variable which is the variable
we're trying to access the row card from
we'll get an error so we'll just delete
that we're not storing the output of
this method anymore it's just going to
return a 1 and then what we can do is we
can use results to access the row kind
and we can use results to access all of
the rows that are returned so if I just
save this and we run this again you can
see we get 54 results returned how we're
using prepared statements as opposed to
just using regular SQL queries and that
we were using in the last video so
before we go the last thing I want to do
is I want to just go down here instead
of print our fetch all and just printing
like this array because it looks
terrible we're going to just I put the
results properly so we're going to say
for H
that's all result now we're just gonna
comment is that at the bottom
essentially what's happening is Fat Joe
returns an array of arrays and each
array is gonna be referred to as result
so if we look up here this is the first
array this is the second array and each
one of these arrays it's gonna be
referred to as a result within our for
each loop then what we can do is we can
do something like echo result because
these are associative arrays we can
actually just say something like a
result title and if we go back to the
page you can see these are the keys here
instead of using numbers you can use
both you can use either the string or
the number where you can just use the
string so we can say result title to
access the title out of this array so if
we just refresh whoops it's actually
result title like you this because we're
accessing and I ran on the object so
let's just try this again you can see
here is all of the titles that were just
been printed out but what we want to do
is just append a new line onto the end
of each one percent pipe and a brick tag
and when uncom at the pre tag and we run
this again and you see here are the
titles of all of the pages the next
thing we want to do is print out the
description so we'll say echo a result
description I'm finally echo whoops echo
result URL here we have the
the description the URL on the entire
description URL and it goes all the way
down we're just gonna put in a
horizontal row which is an HR tag and
sometimes we're gonna get results that
don't have a description not on this
page but there will be some on other
pages so if I just delete our search
query you can see we got 1,400 results
that's every result in the database and
you can see here for these Cora pages
there are no descriptions so what we can
do is we can say if result description
is equal to nothing then we will just
activate no description available with a
break tag at the end and that otherwise
we'll say else we'll just print out the
actual description so let's refresh
again you can see now it says no
description available for the lengths
while there's no description for the
other links where there is a description
like this one up here
you can see we have the actual
description printed out so that's it for
this short search engine series we're
going to be doing a more complicated
search engine series that involves
actually searching the text within a web
page and things like that in a future
series but that's it for this one don't
forget to Like comment favorite and
subscribe and I'll see you in the next
series</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>