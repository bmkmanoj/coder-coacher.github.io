<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Make Your Own YouTube Part 16 : Video Watch Page | Coder Coacher - Coaching Coders</title><meta content="Make Your Own YouTube Part 16 : Video Watch Page - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Make Your Own YouTube Part 16 : Video Watch Page</b></h2><h5 class="post__date">2013-05-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xhYYLeyg1sc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so and welcome to this video so today
we're gonna be doing is we're gonna be
going over the watch page we're going to
be making it and displaying a video on
it so let's get started so I'm gonna
open up the PHP tags so that we can use
PHP code in our page and our pages watch
top page bait the extension is important
so that we can use the PHP code as well
so if I come here we can see that
nothing is on the page it's just white
because we've only just added the tags
and there's nothing in between them so
we are not actually displaying anything
so the first thing we need to do is we
need to include the header so it's the
header file is in include / header dot
PHP we save that we go back to the page
and we refresh it and as you can see we
have our header displayed so the next
thing we need to do is we need to find
out you aware to you know to uniquely
select each video so the way I'm going
to do that is I'm going to be using the
video ID well not actually ID now if we
scroll over well okay we can use the
video ID so we're gonna grab the video
ID from the database and then we're
going to well that's how we're gonna
find out what video to display so the
way we're gonna grab the video ID is
we're gonna use the we're gonna use the
URL and we're gonna use something called
URL parameters so we're just gonna say
we're gonna use the question mark then
we're gonna say video ID equals and then
we're going to have to select whatever
the ID is so whatever the ID is in here
so for example if I go back here and I
copy this oops
so I just gotta get rid of that yes this
in we can see this is the video ID yeah
what we want to do when we hit enter on
this just want to load the page the
watch page but we want to give the watch
page the parameter of the video ID so
that it can it knows what they do to
display so that's really easy in PHP all
we have to do is say video ID equals get
video ID whoops and what this is called
when you have a question mark is called
a gap parameter which is why whoops we
use the the dollar underscore gat
function in PHP let's not ready a
function but I'm just thinking about
like a function and then we give it the
parameter of video ID which is the
parameter we specified here which is
what comes directly after the equal or
the question mark and directly before
the equals so what we're going to do now
is we're going to just act without out
so we're gonna say echo video ID so now
we don't we've done laughs when you hit
enter
load the page it echoes this string of
text here but I can check I can type in
anything I want and if I had answer it
will display it out on the page so what
we want to do is we want to put a check
in to see if the video actually exists
in the database so to do that what we're
going to set as we're going to do whoops
check equals mysql query select video ID
well actually we could say select all
from videos where video
ID equals video ID the next thing I want
to do is want to get the number of rows
we'll just say oh we can actually just
do a while loop so we get a while while
I'm MySQL oops
num rows check is doesn't equal zero
then we say actually that's incorrect we
want to actually cut that we want to
store this in a variable so num rows we
actually we don't even have to let me
just paste it in here we could write it
in an if statement so if I surround this
an if statement so I don't need that
the wild boning is wrong if the if
statement is correct so that means the
while loop will only run if our row has
been found and we like to make this a
more secure we'll just say equals equals
1 so that there can only be one row and
if there's more than one or less than
one then we have a problem so what we
want to say here is wild row equals
mysql fetch associative check so what it
does is the busily just creates an array
out of all the items returned so for
example if I was to say ID equals row I
ID
what it does is it selects the the ID
failed out of the row array which is the
array we created up here so if I was to
do that and come down here actually and
just echo ID we had answer was should
get nothing or an arrow returned the
reason we got the error is because MySQL
num rows expects one parameter and that
is that's actually for different reason
it's because our query failed because we
selected the wrong road or the wrong
column it's actually video underscore ID
not video ID all one word so now if we
refresh we get nothing acting which is
that okay that's good so what I want to
do is we just want to copy the video ID
Union and we want and what we want to do
is we just want to paste it up here and
we if we had ant all nom we load the
page we should get one a quote I know we
do we got one I quit out because that is
the ID of the video so if we scroll over
you can see that's the result in the ID
field here so what we want to do is we
just want to get all of the different
columns so we'll just copy and paste
this a couple of times so now we have
which team to change these for each of
the corresponding rows okay so I just
went into the database and got all these
names of the arrows all right columns
Leeman and there actually is one more
it's called file md5 but I'm not going
to use it but cut we don't actually need
that to display to you we don't actually
need to display that to the user
these are we're only gathering the
things that we will just edit the user
and the ID isn't actually required we
just put that in anyway but I'm just
going to paste it in here
and this is just us putting all of the m
values from the database into our array
so we can display it to the user so now
if I was to say echo video title and I
was to hit enter we get this random
string of text answer all right aqueduct
to us but if we remember that and we go
over to the database and scrolled over
we can see it is the same that's the
video title from the video title failed
so what we're gonna do now is we're just
gonna tell meet that we're going to
actually come on to the end of this
what's the F statement we're gonna echo
and you see we're gonna say a header
location index dot PHP
if the we're gonna add with this if the
video is not found in our database so
now we just change this to some random
video I do that doesn't exist and it
will redirect us to our home page and as
you can see it just did
then redirected us to index dot PHP so
go back to watch if we go back to watch
PHP and we put in a real video ID we get
nothing echoed out because we're not
displaying anything that's okay so under
here what we're gonna do is we're just
gonna say hitch to echo video title and
there we have our video title Ahmed ID
so the next thing we're going to do is
we're going to actually go into the
database and scroll over
we have a problem with our with our
videos table so what we have what the
problem is is we're not actually telling
the via videos table or to find the
video file so at this point in time we
can't actually display it to the user
so what we need to do is we need to
scroll over and up and we go to
structure what we just want to scroll
down we're going to add a new column at
the end of the table so this column is
gonna be called a file location we're
gonna set it to attacks just to
accommodate for long filenames and we're
gonna click Save so now we've done that
we need actually odd we need to copy the
name of it actually we need to go into
the upload file the the upload file we
need to update our query insert it into
the database because if we don't update
our query if we don't update our query
won't actually be able to add any videos
to the database so when you scroll down
and find upload we click on that and we
scroll down and click on open ok so here
we are on in our insert query all we
need to do is add another column on
after this and we need to give it the
name of the file so we'll just give it
the file name variable so once we've
done that we're gonna go to our upload
page again so we're just gonna go upload
dot PHP and we're going to upload a
video
we're gonna put it my my video just a my
video example this is my video keywords
just general video this is my I don't
know it doesn't really matter what we
call it what the keywords we use are we
choose the file we choose test video 1
and we click on upload so okay it says
this is a duplicate upload and that's
because of some of our checks we did
earlier so we're just going to scroll it
up click on a video box and what we're
gonna empty the videos table so it says
drunken videos click OK and then there
are we've add just empty the videos
table so we're gonna click inside of it
anyway
and we're going to go back to the upload
page so we're gonna do the same thing
again in my video example this is my
video just say this is my video public
Choose file test video 1 and we're gonna
click upload
so the video was uploaded successfully
we're gonna click on browse here's our
video it got inserted into the database
which is good that shows it's working we
go to file location on here it is and
the free open the videos folder we can
see here whoops
something's not working ok we can see
here that here is the actual video file
so that's it for this video don't forget
to Like comment favorite and subscribe
and there will be more videos coming I
really soon I'm sorry for the delay
and what I'm decided to do is I'm going
to shrink the videos down a bit so each
video will be slightly shorter but I
will upload them more often so that way
you can watch them quicker and if you
don't have time for a full 20 minute
video you can watch a 10 minute one or
if you have time for both for our 20
minute video you just watch to 10 minute
videos and hopefully this'll mean that
more people will have time to watch them
so thanks for commenting alright thanks
for watching don't forget to Like
comment favorite and subscribe and I
will see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>