<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Make your Own Web Crawler - Part 1 - The Basics | Coder Coacher - Coaching Coders</title><meta content="Make your Own Web Crawler - Part 1 - The Basics - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Make your Own Web Crawler - Part 1 - The Basics</b></h2><h5 class="post__date">2016-07-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/2RRSw7Ycv0c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in this series what we're going to be
doing is we're gonna be learning how to
create our own web crawler if you've
been subscribed for a long time you'll
probably recognize that video already
I've already made a series on creating a
web crawler but I only got three videos
in and the web crawler we created was a
pretty terrible to be honest I'd rather
go back and try to repair that web
crawler and make it somewhat usable
we're just going to start from scratch
and the old videos as you can see here
this is the first one I'm probably just
going to either delete or archive or
something like that and in place of the
new ones so the first thing to note
about a web crawler is actually how it
works so what it does is you give it a
website so we give it a URL like
youtube.com and then what that web
crawler will do the first thing you'll
do is it load youtube.com and it will
find all the links on that page and then
it'll put those links in a list and go
through that last one at a time so
before we go much further it's probably
worth checking out how about actually
works so the reason it says hi bot in
this box is because that's the name of
our bot not just us that's not just what
we are calling it that's what the user
agent of the bot is going to be so if we
go to Wikipedia you can see here
attachable user agent is but essentially
what it is is it's what will show up in
the logs of websites whenever our bot
visits them so if I scroll down you can
see this is the user agent for Google's
bot and our user agents going to be hi
bot so this slide shows you the inputs
and then what our bot will do to those
inputs and then what it gets on the ipod
so for example the input for our bot is
going to be this one website which is
actually the local website running on
the computer here this is it here this
is a test page that has different sorts
of links that the bots can have to learn
how to understand and how to work with
because these are the sort of links
we'll find on the Internet and you can
see on the right-hand side the output
are the lengths that the bar is going to
find on this particular webpage this
webpage on the input doesn't actually
have these links these just made-up
links just to show you how it works so
we get one link as an input and then we
get a laugh a lot more than four links
as an iPod in reality the bar actually
continues indefinitely until we tailor
to stop
and but this just shows you we get one
we put one link in and we get multiple
link so we actually get more information
about a webpage other than just that URL
because the whole point of crawling the
website is to get its title its
description there's keywords and things
like that things that we can store that
if we were to search them in a search
engine we could display our search page
so the I put in the last page was just a
high-level demonstration of how it
actually works but here we can see is
the actual output that our body is going
to produce you may or may not be able to
tell but this is actually JSON so the
reason we're using JSON is because it's
a really easy format to store structured
information that we can actually map it
to a PHP array so that whenever it comes
time to actually insert our data into
our database we can just treat this as a
PHP array because there's a special
function in PHP called JSON decode which
will convert the a JSON string which is
this whole thing here to on a rampage P
that we can actually use and if you look
here you can see the information that
we're actually storing about each
website is its title its description its
keywords and its URL and you can see
that these are in a JSON array and each
item has four different properties to it
and as you can see there's two websites
here the two actual webpages every
single webpage will have these four
items stored about and each time the bar
crawls a webpage and gets his tightness
description his keywords it's going to
append them to your big massive JSON
string so we can then do whatever we
want with it we can either keep it as a
file or we can insert it into our
database using a PHP script or whatever
we want to do so let's get started
actually building our web crawler now
that we know sort of the basics of how
web crawlers work we can see this sort
of data that our web crawler is actually
going to open so the first thing I'm
going to do is I'm just going to create
PHP block and I'm not going to close it
off and then I'm just going to create a
variable called start and that's going
to be equal to the website we want to
crawl to begin with because the way our
crawler works is we start on a website
and then it follows all the links from
those websites and eventually it just
keeps going on and on and on forever
until it runs out of links which doesn't
actually happen so the website we're
going to start off with is this
one running on my local computer now
we're just going to paste this address
in here
the reason we're using this as opposed
to an actual live website on the
Internet is because if we go over to
this page here the reason for this as
opposed to a live website is because we
can actually test all the different
types of links that our web crawler
might encounter and have to be able to
handle so you can see the first link is
HTTP link so this is a completely fine
the rad crawler doesn't have to do
anything it just takes this link as it
is and it can work without fine but the
next one is one that causes problems but
because we haven't given it the full web
address before giving it a page name
which will imply that this link is
relative to the current page that were
on so if we were crawling google.com we
came across a link that said test of PHP
our crawler needs to be able to know
that the actual link that we wanted to
crawl is HTTP Google com /and test of
PHP the next link is one with two
forward slashes as opposed to a URL
scheme these two four slashes just mean
that if the web page is currently using
HTTP then we want to append that onto
this link and if it's using HTTP when I
append that instead so if I was on
YouTube comm YouTube uses HTTP so I
would want the crawler to understand
that and it would append HTTP onto the
link the next one is a folder and we
want our crawler to just pretty much
just append the name of the website
ahead of up so that that way we can
actually access this page so because
this starts with a single four slash
that means that this folder starts in
the root of the domain so if we were on
google.com a4-sized test for slash
another and then just keep going if we
want the bar to append just the root of
the website which is Google calm in this
case next we need to be able to work
with anchor links and these links are
just links without redirect you to
another part of the same page so you
could argue don't actually need to s
store them but we might want to store
them for certain reasons that I'll come
on to whenever we do the search engine
s-series this lacks link we've already
been over this next link with a dot
followed by the forward slash and then
the knee
the page is exactly the same as this one
up here test up HP and we need to be
able to understand this one too this one
here is again the same as up here
because it starts with a forward slash
and this one here is one that's
particularly trekking it's a JavaScript
link so it actually doesn't point to
another web page it runs some JavaScript
code on the web page we're already on
but I wasn't sure you're aware this
won't be of any use to a web crawler so
if we see a javascript link we want to
just completely ignore it so that's all
the time we have for this video we've
got a lot of the groundwork out of the
way we understand how the bot works now
we understand what the bot is going to
produce what sort of output it's going
to create for us and we know what kind
of links we're going to have to deal
with whenever our actually crawling the
web so thanks for watching and I'll see
you in the next part</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>