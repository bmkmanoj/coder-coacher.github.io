<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Make your Own Instagram - Photo Feed (6/10) | Coder Coacher - Coaching Coders</title><meta content="Make your Own Instagram - Photo Feed (6/10) - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Make your Own Instagram - Photo Feed (6/10)</b></h2><h5 class="post__date">2017-08-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nW2_w1a9LY8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in this video we're going to be
learning how to create our infinite
scrolling photo feed so we've already
learned how to upload photos and store
them in our database and I blew them to
upload car in this video we're going to
be learning how to display them so in
this video we're going to be doing the
profile page and photo feed that shows
all of our photos and all of the photos
from people we're following so let's get
started so the way we get photos is we
send an edge ax request to edge ax photo
feed and we pass it a start variable
which is hard we do the infant scrolling
because we're only dialing small chunks
of pictures each time and we scroll to
the bottom of the page and what we do is
we just append the photo into this class
called old photos and we append this
effect onto the photo which is an upload
car fact that reduces the quality
because we're not displaying the images
at their full size we're shrinking them
down and we want them to load really
quickly so I've set it to the lightest
setting you could set it to a slightly
higher setting or you could leave the
site entirely if you wanted your images
to be their full quality and then down
here is the code for liking photos we're
going to get onto that in a later video
so what happens is when the page loads
we run get posts we load our photos and
then we do our infinite scrolling system
just like in the social network series
on high code we do the exact same
infinite scrolling system so this is all
we have to do on the index page what we
have to do is create another URL for our
Jack's request so we have our Ajax photo
feed and we want to send it to the view
Ajax forum feet are not viewed looks
exactly the same as every other edge
Axew but one thing to notice this
request is a cat request not a post
request we are sending the user details
along with it because this is a request
that you have to be logged in to be able
to sand just like saving a photo you
have to be logged in to send a request
otherwise we're going to assume the
requests are invalid so back on forms
that's what we're going to do the
majority of the heavy lifting so this is
the code of our photo fade so the first
thing we're going to do is we're going
to check the request isn't malformed and
this start variable just tells us which
chunk of photos we want to download then
what we're doing is we're checking if
the user has a profile photo and if they
don't we're just going to give them a
default one the reason this is in a loop
at the moment is because we're going to
change this to check the follower list
but we haven't implemented that so for
the minute we're just going to leave it
checking just our user name and then
down here is where we print out the
photos so we select all of the photos
where the owner is our user name and we
order them by the date that were
uploaded and we get all the photos in
chunks of three and then what we do is
we just append on the right part
photo ID the photo URL the caption the
owner the likes did upload and some
other information as well now what we do
is we just print it out I know what
we're going to try and do is load the
page so when I load the page is going to
send the Ajax request off so now you can
see it's sent the Ajax request and it
returned the one photo that we've
uploaded and it returned it with the
effect with our caption and everything
that we wanted so the next thing we have
to do is our profile page so for the
profile page it's a bit more complicated
we want to be able to go to our website
forward slash our username to access our
profile page so the way we do that is we
use a chat is we use a regular
expression in Django this is it here and
what we do is put in the regular
expression for our username that we have
when we validate user names and we're
just going to store that in a parameter
called username we also have the Ajax
profile feed which is how we load images
on a profile page so inside our views we
just want to paste in our edge acts
profile feed so here's our profile and
in our URLs whenever we pass this
username parameter it gets passed to our
view as an extra variable and what we do
is we check if the user exists if the
user exists we download their details
and store it in this variable we check
if they have a profile photo if they
don't we give them a default one and
then we create some variables for the
page in this case with the profile photo
we have a variable a tells us whose
profile it is and we have another one
that tells us who were logged in as so
then what we do is we check if the user
is logged in if the user is logged in we
show them the logged in profile page
otherwise we show them the non logged in
one the logs improve our pay is just as
additional stuff on it like the ability
to follow people and if the profile
doesn't exist we redirect the user to
the home view so just going to paste
these two templates in
so in the profile page we just do we
regularly do it's pretty much the same
as the photo feed except we're accessing
edge ax profile feed and we're passing
in the username the rest of this code is
just the way we display the images the
only difference between any profile page
in the logs and profile page is only
logged in one we have a follow button
and we have these menu buttons along the
top we don't have them for a user who's
logged own so the Ajax profile feed is
really simple all we do is we get the
username of whoever's profile it is and
we usually start variable to determine
what chunk of photos we want to download
it's very similar to the photo feed and
what we do is we check if the request is
malformed or not and then all we do is
we download all the photos where the
owner is equal to the user whose profile
it is and we do we did last time where
we order the photos by the date that
were uploaded so the newest photos are
at the top and we only get these photos
in chunks of three that our iPod is
exactly the same as it was for the photo
feed so if I save this and refresh the
profile page now you can see we got our
one photo return to this button should
that follow it's just a bug because we
haven't implemented following yet and
when I click on this photo it downloads
the photo from upload car and whenever
it's finished downloading it shows this
box with the photo and then I can like
it and do whatever I want but that's
pretty much it for this video don't
forget to Like comment favorite and
subscribe to forget to follow us on
Facebook Twitter and reddit in the next
video we're going to be learning about
how to use upload car for profile photos
and how to change the profile photos and
because we're using upload car we're
also able to apply a fact to our profile
photos but that's it for this video and
I'll see you next time
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>