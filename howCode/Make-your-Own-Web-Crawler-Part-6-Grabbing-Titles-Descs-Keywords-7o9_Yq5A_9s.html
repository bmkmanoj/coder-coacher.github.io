<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Make your Own Web Crawler - Part 6 - Grabbing Titles, Descs &amp; Keywords | Coder Coacher - Coaching Coders</title><meta content="Make your Own Web Crawler - Part 6 - Grabbing Titles, Descs &amp; Keywords - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Make your Own Web Crawler - Part 6 - Grabbing Titles, Descs &amp; Keywords</b></h2><h5 class="post__date">2016-07-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/7o9_Yq5A_9s" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in the last part we changed our user
agent and we also inserted every link
into an array so that whenever it's
crawled we won't crawl it more than once
so in this part what we're going to be
doing is going to each website and
actually getting its title its
description its keywords it's things
like that the actual things that the
crawler is here to actually get so let's
get started so the first thing we have
to do is get these lines here I will
just copy and paste them into this
function here and this is just the code
for us to download pages so obviously we
just can't reuse it to download the
details of the length because this is
the code to download each page and we
have the pages link we haven't actually
visited Google comm or visited
youtube.com touch upload yet so we need
to visit that page to get as HTML to get
his tireless description as keywords
things like that so we're gonna create a
variable called title and we're gonna
set it equal to dark get element by tag
name and we're gonna get elements by the
tag name of title there should only be
one title on a page so we're gonna say
is title is equal to title item zero and
then no value okay so what we can do is
just echo title with a new line and we
need to just uncomment this function and
if we run this let's just see what we
get so the reason for all these errors
is actually just it's not really our
fault we can just hide these errors
because they don't actually prevent the
page from working so with all these
errors what we can actually do is just
suppress them so if we just put an @
sign ahead of our contents
function and add sign add of this dark
location ml and if we run this again you
can see we've got the title of the web
page which was Google then we've got a
title of another webpage which was
YouTube and the other ones are all just
made up and they don't exist so we
didn't get any titles for them so now
that we've got our title we want to get
the meta tags which will hold the
description and the keywords so to get
our description if you see here we have
a meta tag and then we have a name and
that name says description and then they
have another one called content and that
says the actual string we want to polite
so that's what we want to get first so
we're going to create a variable college
option and just set it equal to nothing
for the minute I will create a viral
called keywords why we're here set that
equal to nothing then we'll create
another variable called matters which
means meta tags and we're going to set
that equal to doc get elements by tag
name meta so because there's more that
there's because there's probably nodes
and loads of meta tags we're going to
use a foreigner to loop through them for
NSF for for I equals 0 and I is less
than matters then we're gonna get the
length property I'm gonna say I plus
plus and then we're gonna say a single
meta tag is equal to matters item I
which is just a number so if you can see
up here to remember we went to item 0
because there's one title
there's loads of meta tags probably so
we're looping through them all and each
one gets a number and then we can't
access node value because that's not we
want we don't wanna get node value
because meta tags don't have a value as
you can see the title there's no closing
meta tag as there is on a title so we
want to get big content attribute and we
want to get the value of that attribute
so the first one we're gonna use is
description so we're gonna say if matter
get attribute the attributes calls Neum
which is going to be here
Madden name and we're gonna say if that
equals description so we're gonna say
STR to lower because as you can see in
the case of Apple they've used
description with a capital D but other
websites use it with a lowercase T or
the use all capitals we wanna make it
case insensitive for our bot to be able
to find it so we just said STR to lower
description and if that's true we'll
just say description is equal to matter
and attribute content
so essentially what that says is look at
all the meta tags which are these here
and as you can see if you find one with
a property of Neum which is this one and
the name of that is equal to a
description
now we want to get the content which is
this one here so that should be us being
able to get content before I forget I
just gonna put in a semicolon there and
down here I just want to suppress these
errors too in case there is any this
just means if there's any web so there
doesn't have 100 percent perfect HTML
we're gonna get an error so we're just
gonna suppress those up there I'm just
going to run the body in and we got our
rare we weren't actually printing out
the description so we're just going to
actually print out our description and
we will run that and you can see we have
carrier videos with your friends and
family that's the YouTube description
the reason we don't get one for Google
is because it's not one perfect Google
could be using JavaScript or something
like that to insert the description
dynamically or something like that and
our bot wouldn't be smart enough to pick
that up which is why it wouldn't have a
description for Google I'm at the minute
so what wouldn't you do next is get our
keywords so we'll just say if paste this
in again change this to keywords change
this to keywords as well
and that should be everything not every
website you just keywords like that so
it might not work let's just have a look
we're just actually we're only printing
out descriptions so we'll say keywords
it's possible again nothing we can use
different techniques to get keywords
that this doesn't work so yeah it's
something it doesn't work it's that we
aren't getting many keywords because it
turns out that and Google in YouTube
don't seem to include keywords of their
pages so it looks like it doesn't work
but it actually does it's just the not
every website will include keywords and
things like that in the actual way
they're supposed to but that's it for
this video don't forget to Like comment
favorite and subscribe and I'll see you
next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>