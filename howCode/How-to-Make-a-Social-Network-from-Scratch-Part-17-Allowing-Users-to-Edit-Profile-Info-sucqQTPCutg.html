<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Make a Social Network from Scratch: Part 17 - Allowing Users to Edit Profile Info | Coder Coacher - Coaching Coders</title><meta content="How to Make a Social Network from Scratch: Part 17 - Allowing Users to Edit Profile Info - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Make a Social Network from Scratch: Part 17 - Allowing Users to Edit Profile Info</b></h2><h5 class="post__date">2012-08-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/sucqQTPCutg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so welcome back to this video and
as you probably already know we left off
our last storm allowing users to change
their passwords so for example if I
change mine to password again it works
if we can check this if we to find logs
then log back in with the new password
it lasas in okay but first we have this
new text area called about you that's
what we're doing today
well we'll be doing that on but a few
other things and whatever is it about
that text area is what's going over here
so obviously we need to create an extra
money row or whatever for it so at the
end of the table I'm just gonna scroll
down I'm sorry I can't lend a button so
I'm going to create one column and it's
going to be called by bio from biography
which is like about the person and it's
gonna be of type text that's it okay so
before we actually allow user to update
it I'm just gonna put in some running
text so we can display it on the profile
first
like you know so that the ie the feature
is working this is set up sorry
okay so go there it is so what we're
going to do first lead out open the
profile top PHP page and here it is it's
okay I don't you know why but it says so
in here first I'm just gonna open a PHP
block I'm once again gonna create a
query calls about query it's just gone
up and it's gonna be a MySQL query
obviously and we're gonna say select
well we don't even need to do that don't
think no would know what we yeah we do
need to create a new query so I'll say
select IO um
users user mmm equals I'm going to say
isn't it so it selects the bio row from
the users table when it user name as
username let's
the variable meter here so it selects it
out okay so now we just say get but now
I'll just say get result that's gonna
equal my SQL batch so associative array
which is just a soccer for short
a bug query and once again if you thinks
about is create a wide loop and we're
gonna say a while and get a result we
don't even need to do that actually
so we'll get rid of the hot we'll just
say about the user equals a get result
I'm the name of the road bio just keep
doing that okay so should be it so if we
just echo about the user on the profile
page hopefully we won't get any errors
so yep onion see this is working so
that's the text we showed up here that
was just a simple query to get to
retrieve that and inside the profile
left side content you can just say
that we can just say tax for line
justify and then not just lines of text
aboot better okay so now I back to the
account settings page okay so I
underneath this I'm just gonna say first
name last name and about the user query
okay so once again we'll create a new
query if it's really called get info
doesn't matter what you call my SQL
query it's gonna select first let's
let's just say that what we called the
rows I think that's what we called him
know there was an underline so select
first name last but as you can see they
all get it don't get a bit repetitive so
you don't
I'm sure you could work the most of the
stuff out for yourself if you needed to
so you can see it and from users
username equals user the variable user
is once again from our header dot Inc
file which is the session log in our
user login ID on the profile page the
variable username is um whatever is in
the top bar so
for example since we used dot htaccess
we don't need to type in profile the PHP
it still works so what that does is it
grabs whatever we call it after you
equals and it places it in the username
variable but since we use dot htaccess
to make it look better we can just put
in this and it does the same thing
grabbed it from it grabbed and whatever
is in the top bar is the value of the
variable username okay so next it is a
capped row we'll just say close
let's go fetch cat info and then we can
just say first name equals yeah row
first mean I just know so I lost me and
I'm sorry this tutorial isn't what some
I was asked in the comments of the last
video of the last one of the last videos
because I actually do these of make
these videos a few days for further up
down before I post them so I don't feel
yeah your sub box is just full of my
videos I leave a few days in between
them so people can actually yeah also
watch them so the value of first name is
snoring we're gonna set it to the
variable just created so
this checks out we called it yeah okay
and lastly aims to see him and so is the
text area so text areas don't take the
attribute value so you just put it in
between the opening closing text area
and we just call them okay so if we go
to find settings now you can see these
have all been filled in and if you're a
new user you shouldn't miss it people
like it's only filled in for me because
I put in the dummy text up here okay so
now that's queries done I'm gonna do it
I'm gonna make another one I'm going to
actually submit what the person types in
to the database so it says quite
repetitive so we're just gonna say
submit what okay so we'll go we create
well create a new variable and what
calls call it actually yeah I'll do what
I did in Austin we'll call this DB first
name and just to show it's the one that
was in the database already and DB by
ole DB last name and change these so we
can use the variables first name last
name and file for submitting the data
just to keep it simple just make sure
that still works okay or oh it's okay
that's the only problem to make sure we
didn't get any errors yeah that's okay
so we change the names correctly so once
again we can say if wasn't called sad
data okay then we will sit actually how
much I can use that twice I'll just
check all right let's go come so and
once again if the for is submitted or
else do nothing okay so we can say if
this form submitted create a variable
called parsley which equals owes the
first it's just sure I think I called it
Ethne actually so okay so I'm called an
Afghan treat another one last call it at
post and I always bio
okay so we're probably going to get
hours for this so if I just submit it
just hit answer yeah okay I thought
that's just an hour because we didn't
put anything in the password fit okay I
just okay I just realized the problem
but we also have this undefined index so
just than thought
I never realized this so as you can see
if I hit enter says your passwords
incorrect because we didn't we told it
if the form submitted and there's
nothing in the password and the
passwords and the this password yeah
doesn't equal what's in your password
field or what's the password what's your
password in the database we're gonna
give it an error so we get that our goes
away if even if I'm trying to update my
profile info not change my password we
get that error I'm look just checked it
I just just look I find a problem yours
it yes so I didn't realize this but not
after I log in with the password again
it says it's incorrect now the only way
from a login is if I type in sin and I
leave the password field blank
that lets me log in so actually I'm
going to fix that now so what we can do
is it's really simple and just make
another form and we can just take this
right then we just put it here so we end
the last form here we use we still use
this and data thing so it should still
work and then underneath the create a
separate form for the action okay so we
get the form action of client settings
it's not that's the same the only bit
that change is not just we need to
change from sand data to can call it do
you oh wait I just got update info I can
leave out the same it wasn't mine so now
we have two separate forms so I tried to
help did something in this form the last
one won't interact with it but we also
set up the problem where if I type in oh
my I just need to check Carly my
possibly blank so I just did it to
password okay so if I type in password
and I need the other two blank it will
still let me update my password so we
just need to make a simple check that
says okay so here's what's here's where
it finally processes the query so what
we can just say here is if you we can
only do this for one because the other
one checked it's the scene so if a new
password if str lang new password is
equal to or no is less than or equal to
four
then we we we could say sorry much your
password must be more than five
for our there's um we could just say
that doesn't matter and then we just say
else finish the query and here we just
we end the if statement so hopefully
that doesn't give us any hours so just
fill my pad like my old password I'll
just change it to show you it not work
hmm let me just see wise huh
okay so I think I figured out the
problem was so where is it
hmm okay sorry about that so after a lot
of like ages looking at what I did wrong
it turns out what I did was I left I
felt that in the wrong place I'm
supposed to close it off their sonar
this will work okay so if I type in a
sword which is my old one and type in
pass with three characters I get the
error if I type in the password which my
old one before I pass four characters I
still get the air because it's if it's
less than or equal to four characters
but as soon as I type in and more than
four more than four characters it works
okay so I'll just back to password
okay so it's orcs night I can live on so
it's time to yes try and let us update
the first and last name then we'll do
the bio
ography so now we have that query can
say if okay I just thought oh this that
if that's your name
firstly less than five characters then
echo actually I'd say less than three
characters so we can say your first me
and must be more no must be yeah three
or more characters long
okay then we can say we just copy this
we just changes to last name I mean you
can whatever you want so I'll just
change these and pasted it
no that's okay we don't need to thing
for the bio okay so now you just won't
submit anything but if we say first name
it's two lighter two characters long
and last name is full of characters mom
let me try to submit it my whores okay
okay so the check this is actually being
submitted with you know oh I just
realized we changed this form from
update to edit and update Eric from sand
data and to update info so I just
realized we're still checking if the sad
data variable is sent since this is a
different form
this isn't submitting Sandhya if I was
to do for cup it do the same thing again
but I clicked this one and I we get
these two our way yeah we got the first
error you see yeah okay so we just need
to changed up the info we also need to
before this we need to create a new
variable this is probably the most
complicated page we've made so far but
it's really long winded so we can I say
I will create a new variable called
update info which equals update info and
just for good measure we can just do
okay so if I was to advise just to
submit this toy days these are these
fields are all acceptable so you submit
it okay when the first
okay made the same mistake again so you
need to be careful of that so no I fixed
that so if I once again submit this form
I should get no errors because these two
fields that are accepted but if I type
if I change this to being the first one
being two characters long in the next
one being four characters long we will
get first name must be three or more
characters long so it has to change this
three character onion that's three
characters long this do you still make
the same mistake for the last name we
get both we get the last mean are okay
so who we've checked that we can say
else okay so no we've checked the the
string length of first never the last
name we can actually send what the you
actually I you just thought from extra
security wicked pot so for added
security we could just put
this means and actually I'll show you
first so I've added it to the first name
field so now if I was to put some PHP
tags in here we will be act okay so if I
keep that the way it is alright
submit that it masses okay maybe it
isn't I just could pop some random text
in here little okay so what isn't
actually submitting for well that isn't
actually doing what I expected it to do
so but anyway this is good practice
because it means it it stops to go
submitting tags no wait yes I don't know
where it is
it's still actually is massive with the
page we just can't see it because I have
an equity so if I was to say just
quickly echo bio I was young but I need
security on what goes through that I
could have popped some PHP tags say I
put in the variable first name which is
a variable on our page hmm okay whatever
looks like it isn't showing up but it
still good practice to strip the strip
tags from the data before it's submitted
this in the passwords as well
that just makes it harder for hackers
and things to get into our website so
that's its sordid notes we're secure
right so we can submit it to the
database so we can create another query
called it just call it info submit Clery
call a MySQL query on insert and to know
it's update update first name last name
and bio we're actually remember wasn't
yes okay oops
so it's update users set their first
name equal to first name last name okay
once again work
okay so now that's done we can just we
could sit we can just say no I don't
need to
we just echo you know oh sorry
okay so if I change this to if you can
see this it means copy it
yeah we got the successor map okay
I must have missed something on see what
I did
yes that should work you see all right
let's try another things set color
update it okay so something's gone wrong
okay so I think I find what the problem
was I don't even think there was a
problem actually well I don't know what
it was but I think it's fixed
no doesn't hmm okay so I'm going to do
is just get rid of that I'm going to see
does this fix it okay for some reason
there must be odd feeling you
so that one's working and I just again
this is actually exactly what I did to
figure out what was wrong step see does
that still work but I did realize you
have to refresh the page for you 10/10
notice any changes every round them
turning does not matter
yep okay so so these work a wit I know
what it is um the reason I oh I noticed
doesn't work is because I was stupid and
something they give the text area just
do that
I notice the bio stays blank so if
you've done - here we can see I call it
about you so if I just call it bio and I
whatever I put in the bio fingers so the
actual form Khan actually there is work
so um hmm gee I don't know why all right
if we could just get rid of that so that
to the user they don't think their
information is not been updated so
alright so
you just let's just see forget those
brush okay so it's all minor I know why
that's been caused and it's because
let's go up update info isn't an
implement and these are on these
variables only declared in the if
statement so they're only declared if
the form has been submitted so since the
phone hasn't been submitted we get the
error from declared variables but just
I'm just gonna need that back
we could always say header don't always
we don't need to do that we can just say
user so it should go to their profile
that doesn't work we can always redirect
him of the HTML I don't this is
something so refresh when we get hit oh
we get Santa back here that's good and
it's correctly the only thing we're
missing on the profiler is actually
showing they were username but it's no
big deal I can show that so in the next
video we making this picture work given
people a profile image
and maybe it depends I'm not ready
thought about it so it depends how long
it's gonna take me to explain and create
but maybe making the post then make it
maybe make posts refresh those like
refreshing the pH I don't know I don't
really I have already thought about it
precising see I just need to refresh it
hmm oh yeah and also fix the problem
with the posts well we can fix some of
it like I'll just fix it I'll fix some
of it no there's one that's going to
take a bit longer to figure it out okay
so user ID by his chain shot - or is it
okay actually we can do this tonight
okay so we'll just create a query a
MySQL query and what's gonna be called
is added by query
I'm very inventive with my query names
so let's go query so I've slacked in the
user from the users table
where
okay actually we don't even need to do
that it's much simpler to find out who
added it we'll just go to our header
file this copy is no actual copy at all
yeah we'll go back to send post session
start again let's paste this in so now
we can just say I added by using the
added to is a bit more complicated so
again on to that in the next video
probably so I don't forget to comment
rate and subscribe thanks for watching
and see you next time bye</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>