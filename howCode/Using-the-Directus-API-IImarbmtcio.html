<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Using the Directus API | Coder Coacher - Coaching Coders</title><meta content="Using the Directus API - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Using the Directus API</b></h2><h5 class="post__date">2017-08-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/IImarbmtcio" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in this video we're going to be
learning how to use the directors APA so
the first thing we're going to do is
we're going to learn how to install the
PHP SDK so we're going to install
composer if we don't already have it
so as per the instructions on the github
page we're going to copy this
create a file called
we're going to paste that in and see of
it I know we're going to say a composer
install
so now that we've installed that we're
ready to go and what I'm going to do is
create a file called index dot PHP and
I'm going to paste this in this is the
code from direct is's instructions on
installing their sdk so we're going to
scroll up and we want to change the base
URL to the URL that our servers running
on so we're going to say directive start
hi code and we're going to access the
table users how we're going to print out
user names
I'm put the PHP tag in at the top so you
can see we got an error the reason we
got that error is because we look at the
code you can see we haven't created a
user token this token is going to come
up as invalid so to generate a user
token I have a program called par and
what we're going to do is we're going to
send a post request to our server we're
going to go to the API version 1.1 we're
going to reach the art folder and we're
going to request a token so we have to
pass in in the body of the request our
email which is Frances local org and our
password which is password so now if I
run that you can see we got a token
returned so if I save that token and I
paste it in here and we want to change
the version of the API from version one
to version 1.1 so now if we try to run
this you can see we get to users printed
out and you can see we at the HTML
printer as well if I just run this you
can see now we got our two users printed
out and if we go back into the code all
we needed was four lines of code to get
the users out of our database and we
could actually compress that into two
lines of code if we wanted to versus if
we had to do that with PHP and MySQL by
itself we have to worry about the
security because we'd have to worry
about SQL injection but we'd also have a
lot more work to do just to retrieve a
list of users from our database so we
can access the API using the PHP SDK or
we can use HTTP directly so what I'm
going to do is I'm going to create a new
user
so I'm going to go to FBI for size 1.1
for such users for its last rows and I'm
going to pass a username field and our
user name is going to be Frances McNamee
and we've one more field which is
verified and that's going to be true and
the data type is going to be a boolean
which is a tech and if we send this now
we're going to get an error and it's
slash tables such as ourselves so if we
run this we will get an error says
permission denied to be able to get this
to work we have to go to our headers and
we have to add a header called
authorization and then we write the word
bearer and we want to piss them beside
that or authorization token so if I run
this now you can see we created a new
user and I forgot to direct us click on
users there is the brand new user we
just created so inside our admin area if
I click on user directory you can see
the two users who can log into
directives if I add it one of those
users I can scroll down to the bottom
and I can generate an API token so if I
generate this token and copy it and I go
back to har so you can see we got 403
for
because in group permissions and
directives and the basic group all the
users in that group can do are view
photos and view users and what we tried
to do was create a new user so if I want
to enable that I click on add I know we
can add new users to the users table so
they go back to par and I run this one
more time now you can see that went
through and we created the new user and
you can see how easy it was to modify
the permissions and all the fine-grained
control we have with interactors so why
would you want to use the API versus the
SDK it's completely up to you maybe you
don't want to use PHP for whatever
reason maybe you prefer to use Python
and I guess you could call the FBI
director using the HTTP and points we
can see how much easier this is with
directors so that's it for this video
don't forget to Like comment favorite
and subscribe don't forget to follow us
on Facebook Twitter and reddit but
that's it for this video and I'll see
you next time
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>