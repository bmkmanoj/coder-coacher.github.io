<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Make a Social Network from Scratch: Part 16 - Change Password | Coder Coacher - Coaching Coders</title><meta content="How to Make a Social Network from Scratch: Part 16 - Change Password - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Make a Social Network from Scratch: Part 16 - Change Password</b></h2><h5 class="post__date">2012-08-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0YKuTjrE_Yg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so hi and welcome back to this
video so as I said in the last one I'm
not really plot these past couple in the
last video in this one I have already
planned out I just sort of made him up
as I went along and the last one seemed
to work alright so in this video I'm
sorry
what well this isn't the air we had last
time last time we the problem was right
it's not even do this we'll get the
error again undefined index okay so the
reason I ended the last video well I
would say hourly want it was half an
hour long so there wasn't really but the
reason I ended the video was because I
couldn't off the time I had I couldn't
really think of how you fix that error
so but then I went back and I looked at
the other pages and for about a couple
of minutes I saw I remembered putting in
the odd sign here and then I remembered
what it did so what it know what really
I never really known what I meant
I just find it out one day and I just
seem to work so if you got the undefined
index error or if you're when you're
creating variables like this just put
the add sign in front of it your error
will go away so now I just has placing
bets in there so no wait that's good
marriage going on but if we click update
it disappears what shows us that the
variable sand data is actually working
and it will submit our data so we this
was only for testing so we can get back
get rid of this
okay first thing the first thing we're
gonna do is we're going to we're gonna
create some variables basically so I'll
just bury a squared variable there we go
the first one is called old password and
it equals post old password and in case
you're wondering where this comes from
the word old password it actually comes
from in here these that the name of the
failed real password but as you'll see
we will get the undefined index in our
friend variable like this I don't know
why we get it but I just know that so
you fix it I don't I don't always get it
so I'm a bit confused by that so anyone
that knows can yeah they're more than
welcome to say in the comments because
I'm kind of interested to find out so
we're gonna create another variable
which is similar and it's gonna be
called yeah a new password and then once
again one more variable called repeat
password don't even call these variables
whatever you want I mean doesn't matter
I'm just calling them whatever I want
and then this one is called new password
to gene C here so then we have our
variables we won't we shouldn't get any
hours from these whether the at symbol
in front of so we can just say we can
act on a lot just to make sure they've
been submitted so we could say old
password comma you what is wrong with me
today new password repeat so if we go
back to the page we won't see any change
but say I put in a key that's up to make
it easier while we're learning we're
just going to change these two tech text
so you can see what I type in them ok so
we just said this is my old password we
can just type the new password whatever
once with this my new password I'm going
to say I'm not possible so if we just
hit enter
I should see it's half of the page we
got the old password the new password
the repeat password but at the moment
they repeat password on the new password
don't have to be the same so that's why
they're different
ok so now we know what's working I just
go back and let's go up so here it is
wait that we know this anymore
so what's the first thing we need to do
is we need to create a query called well
we thought whatever we want and as I
said earlier I'm making these two lists
it's at least in the past two tutorials
up on the spot so I won't be using the
best methods for them all as you'll find
out pretty quickly crazy
I mean the work as you can see even the
world only selecting the password to
keep things quick and simple I'm just
gonna select every row and what does
actually query means select everything
from users more the username which is
the username field which is this one
equals the username of whoever's login
so if I'm logged in and the variable
user what equally the same offenses are
Google was just a cuss I need to test
things ok so that's basically it what it
means over here we're just gonna create
Y loop you might find this harder um but
I think it's simpler than finding just
one on its own um I don't really plan
these very much so I'm just gonna do
whatever comes into my head whatever I
find is quick so password query and
underneath here we create a variable
called DB password and this very week
whatever you want but it's just called
DB password cuz it's gonna it it's gonna
equal whatever the users password is in
the date that's currently stored in the
database so it's equal to row password
so that and I can either person's car
old password contained in a variable we
can just echo it right and if we go back
to the page
I'm refreshed we won't see anything at
the minute because as you can say this
this query and the squad look so nice at
to go off whenever the San data variable
contains information which means that
form is on the farm sent so we have to
just click update information to submit
the form and it was just the end
five-string of our password from the
database so here it is here since I'm
logged in my username cinema whatever
here's the new password in the database
and here is it I go down the page yeah
whoops let's go back okay so that's good
and that means it's working so now we
actually make an if statement sad make
it I'm making it up so it doesn't I mean
you don't have to do it my way but this
is just a way I find it works and
whatever so we can make we're making a
check to check comment it check there
yeah equals just equals D V squared
which means if it equals the password in
the database so if the row old password
equals D V sword we continue back just
that continue changing thank you
password or else we can just say use
echo M your own
the old possum word he actually the old
eyesore those and much I just say is
incorrect
so no if I can't even remember one
password is right so what I'll do is
I'll just quit
so what sorry
so what I'm going to quickly do is
create a new account I'm just gonna give
it a random user name so send the two it
doesn't matter what he meant I use I
just puts a night for the and my
password is going to be s word okay so
yes in a map too
okay so we're gonna work on settings
main tasks this side
it's my old password is password okay
actually I'll change us a pass we want
because we're checking if it equals I'll
show you
so in the code we said if password if
old password which is in my case
password equals TV password which is the
old one so if they match they wouldn't
continue to query but we didn't say we'd
hackling actually I will echo great you
want passwords match okay so now let's
go back to the page and I will type in
password hit enter all right yeah I just
remembered
so in our database we had this problem
with the login script awhile ago
so in our database the password is the
md5 encrypted I shall just load it up
again to show you the new password so in
the database the passwords are md5
encrypted and when we as you saw earlier
when we act without DB password we get
the md5 string of it but the old
password is an md5 so essentially
they're different even though the main
the same thing so what we have to say is
we just an egg I'll just create a common
set that says amplify the old password
before we check it matches
so what they still do what I'll create a
new variable called old house old
password underscore ND v equals md5 old
password so what this means is we're
going to check those old password md5
equal DV password because all that old
password md5 is the md5 encrypted string
of old password so if I make sense
so what it'll be doing is it's checking
instead of checking password against
this long string here what it's doing is
its encrypting whatever it's encrypting
whatever we put in this box so in in md5
with a md5 then whatever the encrypted
string it mix is it checks out against
the database password and if there are
the same if there but if the DB password
is password and the password you enter
in the old password box is also password
the md5 will encrypt and there will be
exactly the same
the encrypt and the empty n the
encrypted version is the same so it's or
should works we type in password now why
is it not working
nine-thirty
hmm all right okay so let's just see
this is some password great.you
passwords match that means it works so
actually I have a better way explain it
another way I collect TV I'm will also
echo
old password in d5 and as you will see
they are exactly the same these two
strings and that's why it works if I was
types if I was to type something else it
wouldn't there were the two strings
would be different when they were
encrypted so it wouldn't work so you can
check that now so we know password works
because that is my current password so
if we type in password one that is not
my current password so we should be
getting an error it says the old
password is incorrect which shows the
script is working and we're ready to
move on okay so um okay I'm moving on
we're gonna continue changing the
password and then what we're gonna do
next is check whether the two new
passwords much so what this means is if
your new password and repeat password
match will continue to query and
actually update the data update your
public your password and if your current
password if those two passwords don't
match those two fields don't match we
will stop the query and tap or will stop
the script and tell you there's an error
and make you correct it before you can
move on so to do this it's quite simple
we just need to remember the two
variable called new password and repeat
password so we create yeah I want it on
yet another you know it's as if new
password
equals equals equals means if it is
equal to when you use one equals it
means you're signing the value to
something like a variable if you use
acclimation multiple means doesn't equal
and last and sign is less than equal to
or more than sign it's more than or
equal to so I throw that in there just
in case you are wondering
so it's repeat password or else echo
your to get your two new words don't
match or else we'll say awesome yeah
passwords so we pack the page again so
actually you just need to remember we do
it we need to type in the password and
it is failed because that's the first
check it does the second check is
whether these two fields much so new
password I'm just gonna type in cinema
and cinema um we should get yeah awesome
your passwords match okay so if I hit
enter we should get awesome your
passwords match which is great because
it means it's working so then again we
try cinema under each time yeah but this
time we type in office your passwords
don't match which is good okay so I'm
saying we're ready to go further it on
in the query
I know we're ready to say great update
the users passwords so we'll create a
query we will create a query up we'll
call it up via query know there's money
that we'll need out for other ones we'll
call it possible word a bit weary cloes
up it and then we say the row we want
updates one update the password field or
the row in the database um set o update
users set password equal to cook
actually we can't do that quick quite
yet so we need to say md5 the new
password before we add to the you know
base so what this means is instead of
just an if my new password if I stop my
new password of Francis right by someone
your password of Francis instead of this
all as you see the way all these fields
they're all md5 encrypted but they're
all 32 characters long and they're all
md5 to keep it more secure but that's
great for when it look further
when we're at
them but we don't want it so that when
we update when the user decides to
change their password it doesn't and
encrypted a game so then it goes into
the nativist unencrypted its last secure
on I don't think I've ever login I
haven't checked it but I shouldn't be
able to log in as so we just say new we
probably be able to work like chef so
new password mb5 equals and five I know
how many five isn't the best but I
didn't crimp things but I didn't realize
that when I was creat when I started
this series so I'm just gonna finish it
if I decide to do another one of these
series I will do it more in-depth and I
will be using better form of encryption
things so we just say it yeah
if I update user set password equal to
new password md5 where username equals
user it was earlier so if these name
equals and using my powers login okay so
next thing we're just we're nearly
finished here so the next thing we need
to do is just this kind of optional just
say success your password
being needed so that should work I'm
gonna check nine okay so we'll just do a
quick overview of the things which they
all work that's not my current password
cuz my current password is just password
so we should get an error yep so I use
the correct posture this time and then
these two go too much then we get the it
way it's a lot a second hour so let me
just check it this time
so my current password is password so we
shouldn't get an error there and let's
say my new password is Francis hopefully
we'll get success success your password
has been updated
okay so success your posture has been
updated and I am logged in as cinema - I
think yeah ok so when i refresh this
page we should say that's the md5
encryption of password so if i refresh
that know if i just go back to the users
table everything worked
should we definitely yes so now you can
see it so if I log out and just so you
can see this box I will type in Francis
up here copy it and paste it into this
field oh and I will pop pop right
actually just so it's more believable to
make sure it works I will go back to
this page and change that from type of
password to type of text so I can see it
so my username cinema to my old password
is password and we should get an error
whoo I just realized that don't think
it'd work cinema - don't try just that
shouldn't work yeah okay something it's
pretty simple I'll just fix it I'm sorry
I'm an idiot I actually did think that
that changed but didn't it's really
simple to fix I think I just have to get
rid of oh you know what went wrong just
got type MySQL query so let's try this
one more time the old password is
password my new one is Francis enter
passwords been updated and that's
actually check it house this time so now
that md5 sum should change fully no all
right let's just try another thing get
rid of that
yeah don't place it inside a variable
just try it this time okay I'll come
back to you and fix this okay so I'm
back and turns out it actually was
working a password query update doesn't
matter there's there if there's M if it
if the query is placed inside a variable
you know
okay so as it turns out I'm I need to
sleep more because it turns out I was
actually logged in to the wrong account
I was logged in a cinema instead of
cinema - so I was looking for this road
to change and actually all along with
this room and that's why we were getting
this error yeah that's why we when we
typed in password because I thought I
was on cinema 2 and I typed in answers I
was getting your password is incorrect
and I couldn't really figure out why so
I looked at the code and I looked the
most basic thing that well which car I
was LogMeIn myth and and actually one so
if I type in fastest because I've
already changed no I know Allah God so
um
type in cinema to type in password
because that one hasn't changed yet go
to account settings type in password and
Noah will change it Francis says it's
been updated make sure I look at this
row here when i refresh and as you can
see now that is the my encrypted sum for
Francis so if I type in cinema 2 and I
type in password like it was before I
don't let the one on me in but if I type
in cinema 2 and I use the password
Francis hit enter
no I'm not me so as you can say no the
user password change works so yep thanks
for watching don't forget to comment
rate and subscribe and I almost forgot
the set I was meant to say that start um
do you guys prefer these sort of videos
or make them only go along and I make a
few mistakes sometimes but I get the mic
I make videos I make more videos and I
make them more often they're usually
longer so I kind of want to know what
you think I would like to know what you
think about that and if I and I am
planning on making a store so if you
have any suggestions of anything you'd
like to see in it or anything you might
actually want to buy that I haven't
thought of just send me a message or
leave me a comment and I will definitely
put it in so once again as always if you
have any questions or problems as I did
find I had myself
um I don't be afraid to tell me because
I will answer them or I will at least
help you out or point you in the right
direction or whatever so once again
thanks for watching don't forget to
comment rate and subscribe if you like
the videos</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>