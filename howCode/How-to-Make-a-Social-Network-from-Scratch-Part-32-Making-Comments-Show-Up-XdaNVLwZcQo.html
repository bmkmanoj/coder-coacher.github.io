<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Make a Social Network from Scratch: Part 32 - Making Comments Show Up | Coder Coacher - Coaching Coders</title><meta content="How to Make a Social Network from Scratch: Part 32 - Making Comments Show Up - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Make a Social Network from Scratch: Part 32 - Making Comments Show Up</b></h2><h5 class="post__date">2012-08-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XdaNVLwZcQo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so hi and welcome back so I'm today what
we're gonna be doing in this part is
we're gonna be finishing the comment
system and I remember in the last video
I said that it was going to be a
complicated process that would involve
arrays and things but I think I find
don't like worked out a way simpler
process and it's really really easy to
do but I haven't tried it yet so I go
back to you know so our first thing we
do is we start off by creating a new
document and that what we're going to do
is we're going to use iframes so but an
iframe is is basically HTML element that
loads an external page in to the current
page so I can actually make give an
example of that so I'll call this
comment free m dot PHP change it to PHP
and see if it and all we do is write
iframe and close the iframe tags and
then we don't even other-- line and all
we do is write SRC equals and then we
give it the website so for this example
I can just write Google on the wedge
good oops could be in 100 X our 100
which is 100 pixels on the height could
be and 150 okay so now if we see if save
that we all we do is type in them
comment frame dot PHP let me see okay so
what's actually happening here is when
we refresh the iframe actually is
working and it is loading the website
I'll just say if we view the page source
not the page except it doesn't load
Google or someone the reason so I what
we're going to do is we'll load let's
say local oof smash tutorials I'm just
going to know them the fine friends okay
so yeah I'm just going to load the find
friends website now when you hit refresh
and as you can see it is in the iframe
and it is the dimensions we specified so
that's good that means it's working
but what we're gonna do is we're gonna
get this to dynamically load
m-mom we're gonna put this iframe now
we're gonna take we're gonna cut this I
will put it on the home page it in the
section where it says comment body rid
of that and we just pasted in
well actually we just rewrite it but
it's quicker so it's just two iframe
tags the first one that's are seeing
equals and in our case it's if you do a
dot forward slash it's the same it just
means it look in the current directory
it's in so it look in the find friends
directory for the file so if we do that
and then we look for comment free and
PHP to make sure it works on the comment
frame the PHP page we just say this is
comment better so we say that we hit
refresh where you see it says this is a
comment okay so actually the reason we
see this is the comments because that's
what's on the page so now we just go
back and we go to this only hit show
comments it's we got this is a comment
and the comment box is the height of the
iframe so what we're gonna do is we're
going to set
the wood so what we're gonna do here is
we're gonna add style to the iframe so a
height we're gonna SATA Auto so that it
resizes and depending on the mind of
content the woods we're gonna set to
100% percent so that it fills the div
and we can also use another property
called min height so that I'm there it
just means there's a minimum height of
the iframe basically and the minimum
height we want the iframe to be we could
set 10 pixels and if we were if we go
back here and we refresh we had show
comments and as you can see it sort of
fills up a lot of space but as you'll
find out if we type in max height and we
set the max height to 20 pixels I'll
refresh you'll see that the eye cream is
not only 20 pixels tall so for the
minute we're just going to leave the
Mocs hideout refreshing mean and there
we have it so I'm you've probably
already guessed it on the comment frame
page is just where we're going to load
in comments for an individual post and
the way we're going to do that is it's
going to look for the ID of the post so
it's going to be common for him
question mark ID equals on the ID is
gonna equal the ID the ID in the ID
variable is the ID of the post as you
can see this ID row is part of the query
for retrieving information from the
posts table which means that is the ID
of each post so now that we've done that
we go into the iframe or the comment
frame page
and what we're gonna do is we're gonna
say um yeah ID equals yeah ID so what
we're gonna do is we're creating my SQL
query this is going to say cat comments
equals mysql underscore query the
queries gonna say i select all from okay
so I just checked on the table we're
looking for is post comments so post
underscore comments were ID I don't know
you see so if we scroll down we look in
here for the post ID field so it's where
post underscore ID equals the variable
cat ID and then what we want to do is we
want to say comment equals mysql or no
we're after you gonna say wild comment
equals mysql fetch associative and then
i'll obviously get comments then we're
just gonna actually we can copy this
from the other page save time so we can
eat we can just copy this whole thing
and we can actually cut it because we
don't need it here anymore so i just
paste this in here
and I'm just going to do this to tidy it
up and make it easier to read okay so
now we've done this okay this is
slightly different so all we do is put
the while loop in here that's it
so in the while loop we just want to
echo whoops
comment body and then we're gonna I
panned a break on to the end so that's
on a new line so now if we refresh and
hit show comments okay hmm so now we can
check for errors by going to this page
and then just going to comment from PHP
and obviously of being undefined index
because we need to go just ID equals 14
okay so okay the reason this is wrong is
pretty simple it's I wrote a GAD ID up
here and I said were post ID equals ID
which isn't a variable we created so
it's not going to show up obviously
so I'm we're just gonna refresh 9 okay
so I also stupidly forgot to I include
the connect what sorry sorry about that
I think I'd like a cold or something so
what we're gonna do is we're gonna go
into the ink folder and we're gonna go
to I think it's ink files or maybe
scripts probably yeah it's scripts so
we're just going to type in include
egg / Inc files / script / my SQL
underscore connect whoops
connect PHP so I'm and obviously sir on
this in quotation marks so let's try
that again
masculine the scope okay on its mascot
underscore connect to talk pink that
meets me they go back I don't actually
know why I did that but whatever so we
hit refresh or reload okay yeah it's not
Inc smashing files thing / scripts fresh
and we get echoed the two rows from the
database that are associated with and
our particular post so as you can see
post ID equals 14 post ID equals 14
there's two of those so I ups to are
displayed so now if we refresh here we
hit show comments and we got those
comments okay so I'm what we're gonna do
now is we're going to actually change
this so that there's not this huge gap
here okay so as usual I'm just gonna go
for the easier way out and by that I
mean I'm just going to say um frame
border equals zero
um I'll say I'm mocks height oh and dad
by the way I go over to the hide our
attribute as so what I'm gonna say is
max height 150 pixels so if we refresh
when you'd show comment obviously it
hasn't changed yet but
what we can do is where we can change we
can fix that up later so at the moment
it's got a mock side of 150 pixels so
after that the comments will sort of
have a scroll bar beside when you can
scroll through the comments and well
that's what I'm gonna do so right next
thing we're gonna do is another we've
got that we're gonna say we're gonna go
up here I'm gonna say um current equals
mass ql num rows and numbers at comments
so then we're gonna say is if conte
equals 1 but doesn't equal 1
no let me think if it doesn't equal 0
which means if there is comments and
well show up well show this code
otherwise we'll echo no comments to
display so we could just say something
like got hit refresh showed the comment
okay and I'm 21
okay so I'm right it looks like I just
left on yeah curly brace so refresh in
show comments it works this one has no
comments so it says little comments to
display so to make this local wait it
batter what I'm gonna do is put a few
brief tags in
and I will actually Center using the old
center tag you've probably already
realized that I don't use the most
efficient or effective methods but I
like to keep things simple and easy and
they work for me
so she'll comment and I chose up okay so
I also noticed that when you click on a
comment and there's another one showing
you have to double click over so you
don't
nevermind maybe I was just doing
something wrong so now we've got that
sort of sorted what I'm gonna do is I'm
gonna come up here and I'm gonna put
some style tags in I'm just gonna say um
body no star for all and I'll say a font
size 12 pixels font-family:arial Vatika
sounds sorry
so let's just try that probably won't
work but whatever okay so what did work
okay so eventually I probably will get
run into making that shrink but film in
it it doesn't bother me so I'm not gonna
do anything about it for a minute so the
next thing we're gonna do is we're gonna
say we're gonna pen this on I'm gonna
say hosted by
no I'd actually posted no I can't do
that no okay so it doesn't matter posted
by sad and we could even put a hitch our
tag in doesn't matter so it fresh hit
show comments and okay that's a bit okay
yeah that's not great so what we'll do
is we'll get rid of the hop we gonna
cooked duh
HR tag here trying to meantime with off
you change the color of it so it looks a
wee bit better it's not great still look
and we'll fix that boy so what I'm gonna
do is I'll go into the CSS folder I'll
hit all files site style and I'll find
out where the other huge char tag is
here instead of just including the other
one the other CSS file since I've
already got some inline no not inline
CSS but some CSS here then it doesn't
matter I can just paste it in and as you
can see that's change color now so what
I'm gonna do now is I'll stab both for
this and there are no sort of comments
are working we can okay so it looks like
we haven't checked I got the date of the
comments oh man maybe we'll do that so
but for the moment I'll leave out like
that until we make a form to actually
send comments okay so actually that's
what we'll do you know so when I will
create a new document save it as
okay know why we don't even need to do
that what we'll do is we'll create a
second button or a button in the
comments that says post comment so I
will actually do that not so I up here
then see above here we can just say you
can close the PHP tags actually and then
reopen them here so in here where you
are afraid to use HTML code so what
we'll say is a link post comment so I
hit refresh show it we get post comment
that's a wee bit weird looking so I will
do is put in there dude and I put it in
a Dave close the div off some style
float all right whoops float:right
display:inline let's try that so no now
we hit refresh and now as you can see we
have a link that says compost comment
it's just met in line which means that
it's on the same line as this one so now
what we're gonna do is whenever the user
presses post comment it's going to open
a form like sort of the way we showed
the comments it's going to kind of do
that it's going to create a form allow
someone to post a comment without
leaving the page that hit post comment
refreshes the iframe and it shows up as
if we were using something like Ajax or
whatever
so I'm afraid that's all I got time for
today and thanks for watching as always
and don't forget to comment like and
subscribe
and especially subscribing this time
since as you probably already know I had
to swap channels so I'm I'd be really
grateful if anyone who's already
subscribed and anyone who hasn't
previously subscribed whoever likes my
videos would subscribe because it really
helps me out so thanks for watching as
always and see you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>