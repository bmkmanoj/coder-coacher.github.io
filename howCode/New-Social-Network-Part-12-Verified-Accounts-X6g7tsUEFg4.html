<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>New Social Network - Part 12 - Verified Accounts | Coder Coacher - Coaching Coders</title><meta content="New Social Network - Part 12 - Verified Accounts - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>New Social Network - Part 12 - Verified Accounts</b></h2><h5 class="post__date">2017-01-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/X6g7tsUEFg4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in this video we're going to be
creating an option to verify users just
like Twitter so the first thing we need
to do is update our database so we need
to go and update our database and add a
new column called verified which is
going to be a boolean
so in our users table what we want to do
is go to structure and we want to add a
new row at the bottom called verified
and it's gonna be a boolean and we're
gonna allow that to be no because not
everyone's gonna be verified and then
what we need to do since we've modified
our users table we need to go into our
create a current page and modify our
query so here what we want to do when we
insert into users so we just need to
modify this by adding in another row for
our new verified column and we need to
cancel like these single quotes and we
need to provide a value so the defaults
going to be 0 which is unverified and
one is going to be verified and then
what I'm going to do is create a new
user and I'm gonna click create account
and you can see it says success and we
refresh the database table and you can
see you know the verified for that user
is zero and what we're also gonna do
actually let's change the align all to
not allowing all and the defaults going
to be 0 and then therefore all the other
rows have just been updated to 0 as well
so nobody's verified then what we're
gonna do is we're gonna go to the
profile page and we're going to check if
the user is verified so when we check if
the user is verified we're going to say
- and we're just going to print out if
the users verified
just like that so if the users verified
we're gonna say that they're verified
and their profile header if I go to the
page and refresh we aren't gonna get
anything printed out except we get this
error because we haven't actually
declared the variable verified yet and
then what we want to do up here is when
we get the username will say verified
equals and we'll just do a simple query
we'll copy that query and just paste it
down here and change it from username to
verified because we want to get the
verified column and we want to get the
verified column here it probably is a
lot more efficient to just run one query
and select all but it's a minute we're
gonna keep things simple and we're
probably gonna change that in the future
so at the minute we're using one query
for each individual item we're getting
from the database just for simplicity
now we've created verified we also want
to go up here and say verified equals
false and then what we'll do is refresh
you can see we get nothing printed out
if I go to the database and change this
to a one
now it says verified so how are we going
to verify users to do that we're gonna
create another account and we're going
to call it verified
similar to the way Twitter doesn't and
we're just going to click create account
so now that we've created our verified
account what we're gonna do is we're
gonna login to that account so we're
logged in as verified and we're going to
go to the France as a kind and what
we're gonna do is we're going to check
if the user is being followed by
verified so if you're being followed by
verified then we're gonna verify the
user just like the way a Twitter does it
so we're gonna click follow and then
we're following Francis now and then on
the profile page what we want to do is
put in a check that says if you're being
followed by verified then we're going to
verify you so what we'll do is when we
follow the user we'll do a simple check
that says if user ID and we'll go to the
database and get the user ID of verified
which is six so we're set if the user ID
equals six then we'll run another query
and this query is going to update the
user's profile and make them verified
and we actually want to change this from
where user ID equals sex to our follower
ID equals six because the follower ID is
gonna be the idea of verified and the
user ID is going to be the ID of the
user that we're following so by checking
if the follower ID equals six we're
essentially checking if the user is
logged in as verified we're going to up
to the user table and set the verified
column equal to one which means the user
is verified and then we're going to
follow the user and we're also going to
copy this before we delete the follower
from followers we're also going to
unverified user so we'll set verified
equal to zero
so let's try this and see does it work
so if i refresh you can see that my
profile isn't verified so I'll just
manually verify it in here you can see
it says verified if I click unfollow and
i refresh now you can see it says I'm
unverified and i refresh my verified
status has come back to zero and I go to
followers nobody's following anyone but
if I click follow it says I'm following
that user
i refresh you can see that the user
Francis is thing followed by the user
with the idea of 6 which is the verified
account I go to users and Francis is
verified Stas has just been updated I
refresh and you can see it says verified
now if I go to hi code for example who
isn't verified they don't see that and
if I click follow they get verified so I
don't know if that's exactly how it does
it but on Twitter every user who's
verified is followed by a special card
called verified so that's how we're
gonna do it for our social network we
have a verified account that follows
people and then if the verified account
follows you your profile will become
verified so that's it for this video
don't forget to Like comment favorite
and subscribe don't forget to follow us
on Facebook Twitter and reddit and I'll
see you next time
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>