<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Simple RESTful API - (1/3) - Getting Started + HTTP | Coder Coacher - Coaching Coders</title><meta content="Simple RESTful API - (1/3) - Getting Started + HTTP - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Simple RESTful API - (1/3) - Getting Started + HTTP</b></h2><h5 class="post__date">2017-03-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/CmBm59V-SOE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in this video we're going to be
learning how to create our own simple
restful api the reason for this is
because I was going to do the design for
the social network series but then I
realized when we start adding air Jack's
to a social network series the smartest
way to do it would probably need to have
an API in the background that our web
page can talk to using something like
JSON and then get a JSON response back
which will make our lives so much easier
in the future so to understand what a
restful api is we need to understand how
HTTP works so the HTTP has what's called
verbs and the verb is gat had post part
to late traffic shadow there's a couple
more as well the ones you're probably
most familiar with are gat and post
because if you ever use forms then you
know set the action of the form to
either get or post a get request is
where you send all of the data in the
URL so whatever you try to Google
Website you type in its URL where your
browser actually does in the background
as it sends a get request and you've
probably heard of post before post is
what we use whatever we want to send
data to a server because in a get
request your parameters are passed in
the URL and the post request you can
send data in the body of the request
which means it doesn't show up in the
URL which is why it's used for sending
large chunks of data so neither we know
what a gat request in a post request
does we can sort understand what a
restful api is a restful api just means
if you want to retrieve information from
the api you should use a gap request and
if you want to create something if you
want to send data to the server use a
post request for example if i wanted to
retrieve the information about a user i
would send a get request if i wanted to
create a new user i would send a post
request to the CM page as the get
request and if i wanted to update a user
I could send a pot request and if I
wanted to delete a user out send a
delete request those are the most
obvious things you'll notice when we
start to create our restful api so now
that we know that let's get started
actually creating it so you can see here
I have two files I have indexed up HP
and I have hasty access here's the
access just takes every request sent to
the website and sends it to the index
dot PHP page because the index page is
going to handle all of our requests
that's exactly the same as the MVC
series either to see them as this KC
Access file in the haiku source code on
github and you can see I have the
browser open here but we're not going to
using the browser of this series we're
going to be using a special client
called paw which will make creating our
FEI much easier so the first thing we
need to do is we need to handle post
requests and get requests and our API so
to do that we need to go to our text
editor and we need a way to tell what
kind of request
received an a PHP you can do that using
a special variable called server request
method so if we jet if server request
method equals post then we run this code
I will actually put in another one if
server request method equals cat and
we'll do cat first and we'll put it in
house here so using this code we can
handle get request I'm going to add a
post request if I just echo kind of
world when we get a cat request and I a
Co post when we get a post request I
have a go to Paul you'll be able to see
why we're using a special client for our
API if I set a cat request as you can
see here and I send it you can see we
get hallo world's printed out if I go to
the browser and I click refresh you can
see we get hello world project as well
because the browser also sent a get
request want to access the page but with
Paul what I can do is I can click on gap
and I can change its post and I can
press out and now you can see we have
post printed out so we're huddling the
different requests but if I go to the
browser and refresh again we're just
getting out how to words because we
can't stand post requests in the browser
without using stuff like HTML forms and
things like that so we're going to use
part because it's easier so now that we
can handle get requests and post
requests we're going to do a final else
and we're going to handle any other kind
of requests because it's go to par you
can see there's a lot of types of
requests we can use and what we want to
do with our API is you want to stand at
HTTP status code depending on whether or
not the request was successful you can
see in pause it says 200 okay because
that means the request was successful we
get the post request in this case was
successful and if you've ever noticed if
you go to a page it doesn't exist
UCF 404 returned that's a 404 status
code this is a 200 status code HTTP has
lots of those status codes and we're
going to use them in our API so I'm
Wikipedia you can see the list of HTTP
status codes you can see they start at
one and they go up to 5 it's go to 4
will recognize D 404 error code what
we're going to do if they using HTTP
verbs that we don't support we're going
to say 4 or 5 which means math and
download and you can see there's an
example of when you would want to use it
down below so to do that what we're
going to do is go to our text editor and
we want to use a special PHP method
called HTTP response code and then we
put in the number we want to display in
this case it's a 4 or 5 hour so if I go
to pause if I change this to putt which
isn't either get or post so it's not one
of the supported verbs so far I send
that request you can see we get 4 or 5
method now load so that we've done that
we're going to go to our get request
we're going to do that first and in our
get request we're set
just going to query the database and
return a list of all of the users so
here I am in the source code of the
social network series and if I go to
classes you can see we have a DB class
and that class allows us to connect to
our database
I'm query so I'm just going to copy that
class and I'm going to use that for this
series because our sample data set is
going to be our database from our social
network series so I'm going to paste in
DB here into our folder you can see
there it is there now all I need to do
is include the class so we say require
once
I want to require GB PHP and what I like
to do is will change this class from
private static function connect to
public function construct that's what we
create a constructor in PHP and our
constructor just means when we create a
DB object it's going to connect to the
database for us and instead of returning
PDO we're going to say this PDO equals
video and then up here we'll just create
a variable private PDO and then finally
we'll modify this instead of trying to
get the connect function we're just
going to say this PDO note that we can
create an object from a DB for us we're
going to just delete that static because
our query function is associated with
the object and then what I'm going to do
finally it just put that change that to
host and we're going to put the database
connection details in the constructor
just like that we're going to put in DB
name here and then fighter we're just
going to put in user name and password
and finally what we're going to do now
is create a DB object we're going to say
DB equals new DV and then in here what
we do is we pass in our host which is
127.0.0.1 our table name which is social
network our username which is root and
our password which is empty next what we
do is we use the DB object we've just
created to query our database we're
going to print our DB query and we're
just going to start select from users
now if i refresh that you can see we
have on a rat containing all of the data
from our database and then finally what
we're going to do is we're going to say
echo JSON and code to convert that array
a to JSON I just take out this print R
you can see it's all been converted to
JSON and then finally what we're going
to do is we're going to copy the HTTP
response code and we're going to paste
it up here and change this response code
to 200 to set it with successful the
browser will automatically do it for us
on the server a lot a lot of you do it
for us but it's good practice
so we're deliberately telling the client
that our request was successful so what
I'll do is go to Paulo now and I'll run
that query again and you can see we got
all this JSON printed out if I click on
this a conversa to JSON text and there
we go we have a JSON representation of
all of the users in the database and
this is how our FBI is going to return
data we're going to be able to use
JavaScript to go in each one of these
items and retrieve any information we
want we could use any programming
language actually but if we're going to
using it off
frontend we could use JavaScript to do
all of this this will make our lives so
much easier when we start to use Ajax
and our social network series so that's
it for this video in the next video
we're going to be taking this further
because we're going to the users page
but if I just delete that and run it
again we'll get exactly the same result
because we're not actually checking the
endpoints we're not checking whether
they went to users where they went to
some other page on the API we're going
to work that out in the next videos but
that's it for this video don't forget to
Like comment favorite and subscribe
don't forget to follow us on Facebook
Twitter and rat it and I'll see you next
time
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>