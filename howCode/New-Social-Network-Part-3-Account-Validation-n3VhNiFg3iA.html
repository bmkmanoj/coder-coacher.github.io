<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>New Social Network - Part 3 - Account Validation | Coder Coacher - Coaching Coders</title><meta content="New Social Network - Part 3 - Account Validation - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>New Social Network - Part 3 - Account Validation</b></h2><h5 class="post__date">2017-01-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/n3VhNiFg3iA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so that's part of this series we're
going to work on tracking the values the
user provides us before we insert them
into our database so the first thing we
want to do is check does the username
already exist in the database so to do
that what we need to do is create
another query
and in this query we
user name as the parameter so create
array and we say username is equal to
username just like we did below what we
want to do is to get this so that we're
checking if the user doesn't exist now
we want to add them to the database
and then before we can run this we need
to go back to our DB class and here
we're not returning any data anymore so
we need to actually fix that so we could
just do something really simple we could
say if explode query comma space so
we're exploding our query on spaces and
then we want to access the first element
of the returned array which is going to
be the first keyword through putting
zero to access the first keyword which
in the case of the first query will be
inserted in the second query would be
select so what we do is we say if the
first keyword is equal to select then we
will run this otherwise you won't and
that should fix the error we would have
been otherwise getting
so before we try this will set else echo
user already exists and before you run
it we need to just swap these parameters
around and
not now so let's click create account
and says user already exists if we go
back to our table and try and refresh it
you can see no user was inserted if I
try to add another user and I click
create account
you can see it says success
and that new user was added so after
checking if the user already has been
entered into the database we want to
check the length of the username so we
want to say if STR land username is less
than or equal to 3 and STR land username
is less than equal to 32 which is the
maximum number we picked when we created
our table
and when it turns out to greater than or
equal to that what allows user to be
registered otherwise invalid username
next what we want to do is check the
characters in the username so what we
want to do is want to say if preg match
which is ph please regular expression
matching function and we want to pass it
a regular expression so we have to have
two delimiter x' which are these two
forward slashes then we put in square
brackets and then a third square bracket
we put plus then inside the square
brackets we want to put our regular
expressions so we're going to load
lowercase n is that uppercase add to Z
and 0 to 9 are more the kind of like
underscores and we're going to check the
username so if it matches that
expression will allow the user to
register that username otherwise we'll
set invalid username next we're going to
check the email address is valid so to
do that we'll just use page please fill
serve our method like this and then
we'll say F email solid then we'll allow
the user to be registered otherwise
invalid email and then finally when we
insert the password we don't want to
insert the actual users password we want
to insert a hashed version of the
password so we want to use PHP built-in
function called password underscore hash
and the type of house we want to use is
called bcrypt
so let's try and run this now and
actually just before we do the password
should have a minimum length so in here
what we'll do is we'll say if STR land
password is greater than 6 greater than
equal to 6 and SQL and password less
than equal to 60 then we'll say the
passwords valid else will say echo
invalid password so let's try and run
this now so we'll just try and enter the
new user first hi codes or even inserted
so we'll just - hi code 1 we could
create a current and the passwords too
short actually so it's a success we will
go to the database check the content tab
and you can see there's our hashed
password
those are user name and those are email
we'll try to insert an invalid email so
we'll just put in any username a
password that's the correct length and
we'll put in any sort of email so Google
Chrome telling us what a not sign in so
let's just do that and see does this
work and PHP is told us the email wasn't
valid so that's it for our validation
we're storing the username the password
and the email and we've hash the
password to keep it secure so that's it
for this video don't forget to Like
comment favorite and subscribe so we
have to follow us on Facebook and
Twitter in the next part since we just
finished registering users in the next
part we will be logging in users and
that's actually quite a lot more
interesting so thanks for watching and
I'll see you next time
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>