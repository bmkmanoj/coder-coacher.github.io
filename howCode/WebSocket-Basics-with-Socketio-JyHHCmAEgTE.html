<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>WebSocket Basics with Socket.io | Coder Coacher - Coaching Coders</title><meta content="WebSocket Basics with Socket.io - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>WebSocket Basics with Socket.io</b></h2><h5 class="post__date">2017-02-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/JyHHCmAEgTE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so in this video we're going to be
learning how to use socket IO socket IO
is a library this allows us to send data
from the browser to the server and from
the server to the browser in real time
without having to do lots of p HTTP
requests socket IO uses WebSockets and
what we'll be doing is learning how to
set it up so the first thing we want to
do is create a droplet on digitalocean
you can run socket IO from your own
computer but if you're using Windows who
proves has to be slightly different if
you're using Mac so to make it more
simple we're going to run it on a
digital ocean server so we're going to
create and you going to 1604 server it's
going to be the cheapest one it doesn't
matter where it is and we're going to
give it a hostname of s Frances McNamee
comm so now that I droplets being
created we want to log into our droplet
and set up nodejs
so we're going to say SSH root as stop
Francis Mac Mediacom because that's our
server we're going to yes they're pissed
in the password and we changed our
password and now we're good to go so the
first thing we want to do is to apt-get
update just to update our repositories
now we want to install no Jassa apt-get
install nodejs
and then finally we want to install the
node package manager so we want to set
apt-get install NPM
so now we want to create our first No
the am/pm in it we're going to call our
op socket and we're going to leave
everything else blank and now we're
going to do is install socket IO as you
can see here to install socket IO we
just copy and paste this line
now we have socket IO installed so know
what we want to do is actually set it up
so we're going to create a file called
endo Jas so we're going to do is we're
going to save our app equals require
Express and then to put these two extra
parentheses at the end it up Express
just makes it a lot easier to create our
HB server then we want to create a
variable called server and it's going to
be equal to require HTTP server and then
we pass our express up and then here we
want to save our IO equals require
socket dot IO and then here we want to
pass our server next one is that apt-get
so whenever someone tries to go to the
root of our server we're going to run
this function we got a request and a
response and what we're going to do is
just send a file so we're going to set
response send file index.html I know
we're sending an index page back to the
user so next what we're going to do is
we're going to say server dot listen on
the port 80 and then we're going to
create our index page so we're going to
set Nano index dot HTML and we're going
to set hello world so now we're going to
run that word and said no jazz index
touch is and we have an error because we
didn't actually download the Express
package so we're going to say MPM
install Express and now if we run this
we get no errors and our servers running
and now you can see we get had a world
printed out but as you can see there's
no network activity going on because we
haven't created a socket yet so what we
want to do is we want to create our
socket on to get rid of that error we'll
just change that to sand fire with a
capital S so what we'll do is we'll
create an event listener with the IO dot
on to create a Nevada listener and we'll
listen to a connection and then we will
just run a function when that happens we
can get some data and we'll run the
function in here so anyway what we'll do
is with this console dot log connection
and because we've changed this to sign
fire with a capital F we have to give it
its absolute fire powers just slash root
because that's whereabouts on the server
I have this file stored we run the
server you can see we can have a world
we still get no network activity beyond
the initial request because on the
client we haven't actually tried to
create a socket so one socket at i/o we
want to screw up and we want to get the
JavaScript client library we want to get
it from dist
we want to get this file here and we'll
just copy that close our server I will
say W gap and we just paste in that
address
that's going to download the file for us
so now you're back on index dot HTML
what we're going to do is we're going to
create some script tags and the source
is going to be socket IO Jas and if we
run that we should actually get an error
if I run it you can see socket IO de
chasse wasn't phoned so what we're going
to do is go back into our server and
we'll change this actually to sockets
not is our socket a thas because this
one will automatically be served by the
server we won't have to do anything
otherwise not to create another path for
that file so if we run that that's
probably the quickest way to do it now
you can see those are sockets on a ojs
file so now we're going to do is we're
going to create a socket we're going to
create more script tags and we're going
to save our socket equals a new IO and
then know if we just save that and
refresh the page when our server is
running now you can see our servers
running we have a socket going and we
have a connection now I have two tabs
open and we have two connections and
what we'll simply do is instead of just
console.log connection what we'll do is
we'll set dealer dots and and then up
here we'll actually do is just create a
global variable
and then what we'll do is we will
increase that and we'll say count active
sockets and then here what we'll do is
we'll say socket dot on message and here
we just get the data on say document dot
write theater I'm a roto server and now
if i refresh usage as what active
sockets go again we get two active
sockets so that's it for this video
that was a short introduction to sockets
and socket IO in later videos we're
going to be doing more advanced things
we're also going to be incorporating
parts of this into our social network
series but that's it for this video
don't forget to Like comment favorite
and subscribe don't forget to follow us
on Facebook Twitter and reddit I'll see
you next time
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>