<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Make a Social Network from Scratch: Part 34 - Making the Like Button | Coder Coacher - Coaching Coders</title><meta content="How to Make a Social Network from Scratch: Part 34 - Making the Like Button - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Make a Social Network from Scratch: Part 34 - Making the Like Button</b></h2><h5 class="post__date">2012-10-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XjmUYqJcOS0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so hi and welcome back to this video so
I'm it's been on a really really really
long time since I've made one I'm almost
like four weeks now but um I've just
been really busy with things like like
school and things I got so I'm so I've
not really had time to make any videos
and well I'm going to make sure I find
time now because I'm not going to just
leave this series here because like I
enjoyed making it on I want to make more
series on things like that so I'm back
and I'm not going to have as big a break
in between videos in future I'm just
going to upload regularly like I used to
so before I get into the video there's
just a bug I want to fix so if we go
over here we go to the actual website I
would like show comments we can say here
that we scrolled on some of the comments
have the person's username and some
don't and you'll notice I'm logged in as
cinema as you can see if I go to profile
and um if I post a comment myself then
um it shows up like this and it doesn't
show the name and I will prove that now
so when we hit post it says comment
posted it got posted but it doesn't show
who posted it and that's actually simple
the reason and not it's not working is
because if we go down here we said user
we got it - okay I'll show you in the
database so if we go to post comments so
in the post comments table you can see
we have a failed called posted by and as
you can say here's the one I just posted
and it's empty
and that's because and we gave it the
variable user and if we go all the way
back up to the top again
here we are
create defining the variable user like
we did in the header file but I have
forgot to write session underscore start
because otherwise if we don't have this
line here if we leave that if we act
with that our if we commented that item
and all this means nothing basically so
if we uncomment that we leave session
starting at the very top and we hit
refresh now this time if we have post a
comment so and I was it going god okay
how's it going we hit post comment my
username chisel so that's just a bug I
wanted to fix but the real part of the
video is I was originally going to do
more of the news feed but after leaving
it for so long I just kind of got bored
so I might I'll definitely come back to
it it's not another time but instead I
kind of want to do something more fun
which is making a like button so like
Facebook so what we're going to do is
I'm just going to create a new page
actually and we go into the root
directory and this page is just going to
be called now we could just call it like
but free
top page me so when we hit save so now
we have a page brand new page empty
that's called like bot frame so we open
the new PHP tags and in case I
I left my youtube channel for about four
weeks and I didn't really look at
anything so I came back made like 39
comments of people asking questions so
I'm sorry for ignoring them and I'll
answer them
I'll go through them now I'll answer
them and hopefully pretty soon so I
don't worry I'm sorry if you thought I
was ignoring you because I did read your
comments it's just I couldn't be
bothered to spend ages explaining it
because it's easier just to do it in a
video so that's what I'll do probably
and for anyone having problems with the
scripting it doesn't work the one they
download off and the one that I put up
on the Internet everything that scripts
correct
apart from sometimes sometimes if you're
running a PHP server that doesn't allow
the shorthand PHP tag which is what I
used for us some of it I don't know if I
used it any yeah there there's an
example of a shorthand one and if you
get any problems just try changing them
all to longhand ones and from now on
that's what I'll be doing using it in
the FO PHP time sort of the long hard
way because that way it should work for
everyone so now we've got this a page
now we're just going to UM create a form
the form action is going to be like but
free em clap HP and the method is going
to be post and the reason is when we
post is because we're just going to be
posting M a value into the database just
don't one just say that someone liked it
online we could well we don't really
need to post a value we could just
increment the existing database value by
one and what I mean by that is we're
probably going to have a fail that's an
integer to count the likes and instead
of posting and updating the database
with a new number like um one and then
the next time update it with another one
all we have to do is up is incremented
by one which is basically like an
variable like we could create a variable
called I don't know like say we did that
I'm gonna get rid of that just what's
not confusing and all we have to do we
can see it sort of like sequel then zero
and then all we have to do when someone
hits the like button is here likes plus
plus which basically just means and
likes most one I don't even know if that
works or not but it's like saying like
plus one I liked plus one so I would
have the existing value is it just
pluses one each time which is what we're
going to do to make our two likes and
mod new ones so all we need to do is
create a submit button name is going to
be like button and the like button is
going to have a unique ID so I will do
like button underscore and then ID maybe
because that means if there's more than
one like button on a page it shouldn't
cause any problems okay
so just so we don't get errors up here
in the PHP tags I'll just write we'll
just I declare the variable ID okay so
one last thing we need to do value
equals like so if we go to open a new
tab and we go to like but frame the PHP
we just have a button that says like and
it does nothing let me click it so what
we're going to do is we're going to go
up here and now we're going to say if is
set post like button
underscore and we'll leave it in nothing
because that the minute the variable ID
equals nothing so that should work and
then we will just do that on to cardi
braces and then the echo like so if we
go to our web browser again and we
refresh we just scat liked which is good
because that means it's working so what
what we're going to do is we're going to
create a new table inside our database
and now they did it part of the table
and the code to create the table look
SQL file you'll need if you don't want
to do it yourself
will be in the description with the
source code so what we're going to do is
going to set like and we can go to
contacts then plan out what we're going
to do so obviously we need an ID to
uniquely identify every like then we
need user liked which is the username of
the person who liked and whatever it was
we need total likes which is that just a
number of likes and well that's probably
all we need a front of anyway so we'll
do three fields so I our three columns
okay so I'm assuming a bit and I'll do
it again so likes three columns so now
it's a bit small but at least you able
to see everything so a wave ID user like
and total likes so a user like is
obviously going to be a varchar' of like
255 oh no we don't need 255 we can just
say you know 50 and total likes isn't
our likes is an integer now we're going
to auto increment the ID obviously on
we're going to set it to the primary key
and just scroll down and hit save
so now it says has our table social
network likes has being created which is
there so I can zoom in knife and so now
we have the likes table we could say F
is set likes then we can just say in our
like equals mysql underscore query
insert and to now I will so what we'll
actually do is we'll say opt it likes
set and then we'll say a total likes
equal to we'll just say total likes and
we're going to go up here and we will
create a variable called total likes and
it's going to equal another variable in
a minute so I will do another MySQL
query which is going to be get likes
which is going to also be a masquerade
and it's going to be select at all
from likes where we could actually sell
what you ID equals new ID so I will
create a new go to structure and at the
very end of the table we will create a
new column and what it's going to be
called as you ID which is unique ID it's
going to be a number yeah you know we'll
do an alphanumeric so we'll do 30
characters long I'm going to see if so
now we've got that we're going to I also
say if if I moves it actually so I would
make a symbol we'll go to profile
because we have this script already
created we'll go up to the top and just
um copy this and paste it up here so we
have to also close off the curly brace
or curly brackets so close off both of
them and they get UID and just change
all these to UID
so the next thing we need to do is I
generate a unique ID so well now we'll
do that in the next video when we're
actually creating the likes so what
we'll do is we'll insert I am a like
button so we'll say user liked which is
going to be the person who created the
like button and I'll say is cinema well
actually no said creative code total
number of likes zero unique ID for the
men it doesn't matter so we'll just type
in it around them thing and copy it and
then let go so now that's been inserted
we hit this it doesn't look any
different but so that we can tell it's
different we will accrue UID under the
minute we get nothing because I'm up and
echoed a UID I mean there's no a unique
ID in the URL so what we need to do is
type in UID by D equals and then PS that
in and there we have it and as you can
see it's not just taking this part of
the URL if we type in something doesn't
exist hmm the reason it's doing that is
because this was accurate before we
selected it so we echo this after the
query okay
oh yeah it's not just the query we also
haven't selected any rows from the query
which is why it's just taking whatever
we have any a URL bar
so what we'll do is we'll go to the
profile page we'll just copy this so
that see is this writing that and you
sit in here so I will just copy this
paste it again and we'll just say UID
and add total on the score likes and
paste it in and write up so now if we if
inside this Carly brought these curly
brackets we echo UID we should only get
a code something if it's actually in the
database so and let me just check I'll
just copy this so if I just piss this up
here okay okay so uh let's just get rid
of that
see is it okay so I'm an idiot basically
so I just put all that back and the main
reason he didn't work is because I go to
and can i didn't include I skew I'll
connect file so what I'll do now I'm
just say include other reason I forgot
is because normally I am it's already
included in the page so I don't need to
normally worry about it because I the
header file normally takes care of it
all but as like obviously this file
doesn't have a header file so I need to
do that and there it is so I know if we
type in any random stuff it doesn't show
up but if we type in and the UID of a
real like button think it's a code so
that means that's good that means them
that it's working basically so all right
where were we so two likes and this is
going to equal zero at by default and
we're also going to echo total likes
include a break
tying there so where we refresh this we
get 0 which is that correct so what we
want to do is we want to increment the
like by 1 which is what I showed you
earlier so plus what we'll do so okay so
total likes we're going to say equals
total ikz plus plus
so let me have a look now if we refresh
we're still going at zero I think
because I'm we're acting it up here and
this sag total likes ya the increment
where we actually implement the like
happens down there so what we're going
to do is put this in here and then echo
so this is the old number and we should
not get a new number that says 1 you're
not oh yeah we have to click the like
button up so I know that didn't work and
it's because the foam didn't submit to
the right location so it was that our
you ID equals echo UID so we hit refresh
I like we get 0 slot anymore
so it turns out and we count a core like
that so we acro it I was to look at zero
yep
so if we increment it and then we echo
it again this time without the increment
hit refresh we get one so that means yes
that's correct it's working so now we
know that's working we're going to go
where new ID equals now we've to say
here is UID
that's it so I like that went up by one
so we go to likes okay so let me see
okay so I will get rid of this I will
just say total likes equals total likes
plus one let's do that instead of the
app plus plus because it doesn't seem to
be working so we do that only get rid of
this and now if we refresh look like
like and we go to the database says -
okay let me see why it is have two
okay so it looks like it's working um so
we click like again and it goes up on
each time so that means it's marking so
before we go we could also just say God
give stay in line and then we just say
HB echo total like and then we just say
like so we refresh like that says five
like swings like that says six likes so
I am we could also just say header
location equals like not free and top HP
new ID equals new ID so let's try this
and as you can see it's time you like it
it goes up so that's it for this video
and in the next video we'll be finishing
off the like button and we will be maybe
styling it maybe make the button so
whatever so thanks for watching I won't
take too long between uploads anymore
sorry once again for that hope you
enjoyed this video and don't forget to
subscribe and favorite if you did
so I'll see you next time thanks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>