<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>New Social Network - Part 4 - Logging in Users | Coder Coacher - Coaching Coders</title><meta content="New Social Network - Part 4 - Logging in Users - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>New Social Network - Part 4 - Logging in Users</b></h2><h5 class="post__date">2017-01-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/15hVqug7bjM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so today we're going to be learning how
to create our login system so to create
our login system the first thing we need
to do is create the form so we've
already created the login dot PHP page
so on our login dot PHP page the first
thing we're going to do is create the
form
you
so now that we've created the form let's
preview in the browser
so you can see we have our login form so
now we need to actually log the user n
so to log them in we're going to create
a PHP block up here
and we're going to go to
get a kind' page and we're just going to
copy this DB file
so now we can connect
to our database and we can use our DB
class so once again what we're going to
do first is check if the form has been
submitted
has been submitted we're going to grab
the username on the password values
so now that we've grabbed the username
and the password from the tax boxes we
need a query our database so the first
thing we're going to do is check if the
username exists
so here what we've done is we've said
query the database select the username
from users where the username is equal
to the username value we got from the
text box and we pass that value to the
function using our array over here just
like we did in the last video and then
by simply saying if and then passing the
query we're saying if this query returns
true which it will if the users find and
it will return false if they're not then
we're going to run the code in here
otherwise the user it doesn't exist so
otherwise we'll say else user not
registered so let's just try that really
quick so if I put in a random username
that doesn't exist in the database and I
click login you can see it says user not
registered so the first thing we're
going to do is we're going to say DB
query and here we're going to put in our
query to get users password
so what this query does is it gets the
password of the user with the username
that was entered into the tax box and
what we want to do is access the zeroth
element of the array that's returned
because it's going to return an array
and that array is going to hold all of
the rows that are returned but because
there's only going to be one row
returned we only need to access the
zeroth element and once we have the row
that's returned we want to access the
column that's return which is password
so we want to access that with the word
password so this should give us the
password from the database then what we
want to do is we want to give this
password to the password verify function
we set if password verify password comma
and then we put on our query the
password is the password from the tax
field and the second parameter is the
hashed version that we just got from the
database and then if this method returns
true the passwords match and if it
returns false the passwords don't match
and we can't login the user so let's say
echo logged in
otherwise we'll echo incorrect password
so let's test this nine so we have a
smallest syntax error so we can fix that
we just left like a parenthesis so let's
put in just nothing and click login it
says user not registered because there's
no user with no user name if we put in
hi code which is registered we put in
any random password and click login
it says incorrect password and finally
if I put in hi code and I put in the
correct password which is test pass and
click login
it says logged in so of course the user
isn't actually logged in we need to use
cookies for that but that's what we'll
cover in the next part of the series
because that's quite a significant part
of the series on its own so it deserves
its own video so that's it for this
video in the next video we're going to
be using cookies and login tokens to log
users in and to keep them logged in in
the browser for a certain length of time
but that's it for this video don't
forget to Like comment favorite and
subscribe don't forget to follow us on
Facebook and Twitter
and I'll see you next time
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>