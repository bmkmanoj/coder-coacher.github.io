<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Make a Social Network from Scratch: Part 21 - Showing Peoples Friends on their Profile | Coder Coacher - Coaching Coders</title><meta content="How to Make a Social Network from Scratch: Part 21 - Showing Peoples Friends on their Profile - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Make a Social Network from Scratch: Part 21 - Showing Peoples Friends on their Profile</b></h2><h5 class="post__date">2012-08-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_WFfGIokP5o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so welcome back so where we left off
last time we will just finished making
the odd friend function work on there
what we're doing today is how long
people see their friends on the profile
I think I'm gonna leave the removed
friend function for the next video
because that's quite complicated it's
more common I think it's more
complicated than the ad friend functions
oh I think I'll leave it till the next
video tomorrow
so I'm in the profile apps
wait it's not right okay so here we are
and we can delete these except I'm going
to keep one because that that's a Sam
see what we can sort of use it as a
template to see how big to make the
images and stuff so I'm gonna start by
making a PHP block um the first thing
I'm gonna act was just David because um
we I'm gonna make a div to hold the
pictures so we're gonna put a div and
it's gonna be called
friends then we can actually get rid of
this okay so um and I quit again
so now we're actually I'm ready to start
um make not making work actually
displaying a person's friends friend
array so what we're gonna say we're
going to be using
some of this code here for our example
the first thing we're gonna be using is
the friends variable which just tells us
how many friends the person's got a
check so many check so many items are in
the array and the array after the commas
basically so that means it will come to
many friends we've got so we can say if
can't friends doesn't equal zero so
means if the if they I have more than if
they have one or more friends with lot
some code here to display the friends or
else I can just echo could actually just
append all right with username hello
just has no yeah let's do that and then
bite refresh we're just gonna get
nothing
nothing that we didn't already have
because this user does have friends so
that's this is there anyone that doesn't
know any friends there so let me say ok
so everyone is friends so I can I'll
just log that I'll just make a round
little con on since it seen you look
onto one of any friends so just a new
user yeah it doesn't matter what I do
sorry I'm right okay so if I log in with
new user password oh wait what was their
user name maybe I got it wrong
hmm so that didn't actually work so I'm
gonna come back and check on that I'll
come back when this is done when this
works well now I will show you why it
wasn't working and how to fix it
okay so what we do I don't even need I
just unpause it really quick so I just
remembered the reason why this doesn't
work and I should have corrected it way
earlier was because it'll put it up
actually we can just know what just
takes it all so I'm the reason this
didn't work is because or is it the
insert into failed and we're gonna be if
we told it to a chrome asked ul era we'd
be getting an hour because the number of
fails were telling it insert values into
isn't the same as the number feels there
is because the weather was at the time
we created the register form but we've
created three more fields since then bio
profile back and friend array so we can
just say we just add three empty speed
spaces here so that it will leave those
three fields blank I won't tell the
person them fill it in
I'm good just in the bio one just say
and write something about yourself just
we could set up so that it automatically
fills it in so yeah we can try and sign
up again that this should work okay so
let's check so a new user password yep
that's worked so if we go to the profile
ok we'll fix that out as well says new
user has no friends yet which is what we
wanted it to say so let's see so I fix
the NR was kind of is quite easy to fix
so I'm whoops so all I have to do is
remove this cardi bracket and just place
it down here underneath the the a quad
is friend variable well yeah
underneath that line and then we just
said else then we can copy this line
from up here paste it in and then we can
also just say echo I was friend so now
if the person there's no friends um and
no if you're not the person's friend and
they have no friends we don't get an
error so it seems to this seems to be
working so I if I go back to cinema'
this looks like yeah it's all working as
well so I'm I'm just going to check this
all still works
so I'm because I changed that so I'll
just go yep you can out yourself as a
friend
cinema yeah okay so
looks like this is working so I can sign
alright now I'm going back in the cinema
oops
password wrong we can go to friend
requests I don't just accept it well it
looks like it's worked so we can move
online um go down here so um where is it
if count friends doesn't equal zero so
it means if they have some friends
we're gonna set for each which means for
each friend we're gonna do this um so if
they have one friend of it we'll do this
once they have two we'll do it twice
they have three whenever we'll do it
three times so we're gonna say a friend
or a equals no friend or a 12 which is
the variable created here which is just
slicing the array into twelve parts
so um friend or a 12 and as okay we
didn't create this variable this is just
it's kind of weird it's like a built in
sort of thing so just follow along or
what it should work so now we you equals
greater than sign which means sort of
means age then once again value is just
and a built in sort of thing so then we
just say we just an open the curly
brackets for the for each loop then we
just create a variable called I and well
I've never really explained this but the
PHP you can increment so you could say
like plus 1 or plus T or whatever but if
you do two signs the I variable it's
going to increase by one each time
we said was to have it increased by two
but since we wanted to only increase by
one please hit plus plus so it
increments by 1 each time and it
increments for every time this for each
loop runs which is if they have two
friends
it runs twice if they have one runs once
so this variable I change is depending
on how many friends the person is so
then we create a variable called a cat
friend query that's another MySQL query
a select all users where username equals
value which is the variable that was up
here that we didn't create but um as I
said it's built in sort of things what
should still work and then limit one
okay so then we just and just like any
other one any other my scope where we
can just say gap friend really just
MySQL fetch Assoc then get friend
Clery them as always just say when we
just like get the row we want we create
a variable I'm gonna call it whatever we
want so I'll just a friend friend
username equals get friend row
so oh we can also use this to get their
profile picture because we want to
display their profile picture as well so
we'll get Sam friend file thick and then
row
pick so I'm this is quick this whole
frying system is worked out to be way
more complicated than I first
anticipated it being so don't worry if
you don't understand everything if you
want I've also started making a learn
PHP series so if you watch that then by
the end of it this everything that I go
over in these tutorials should make
sense so say if this is just a match AK
does they whether to display the default
profile pic because if the person's um
nor is it if the profile pic row is
empty we don't want it we're just gonna
get this bad with this sort of image
just to show that I can't find the image
so you want to show the default one in
them the images folder so we just do the
check to see whether they have a profile
pic or not so if the row is empty so
basically if they have no clapping and
then we're gonna echo this statement
which is the thing that's gonna despair
the friends and then we're gonna say
else and then we're just gonna otherwise
echo um the same and the same link
except well these are just going to be
links to the person's profile with an
image above it while the image is gonna
be the link but if the opera bouffe if
they don't have a proof of it we want to
show the default one up here and if they
do we want to show that profile pic so
we're just gonna say we're gonna create
a link and the link is going to be equal
to friend username because since we used
tot HT access profiles you know the
profile page URLs are just the user name
so that's the what is what the links
Toonami just image source and
image source if they don't have a
profile back is image slash default jpg
um to keep we can also say alternative
so I called and then this is Fran
username then we use the escape
character so I'm in bhp which is a
backslash no it's a forward slash it's
the same no no it's definitely backslash
and so um friend usernames profile we
can just say we can copy this and then
we can say title so when the person who
puts their mouse over um we can set we
can the reason I kept this up here is or
is it down here is because we can put
the height in the width of the image
because that wasn't this is a good size
for each profile picture I think so I
just wanted to remember so a set the
height to the fifty the width to 40 and
we're just also going to step style and
I'm we're gonna add a potting of padding
right up six pixels so there that each
picture is six pixels away from the last
one so every one correct means we don't
need to give above either I don't think
that we created this start saying we can
do this instead so hmm that's if they
don't have a profile pic and this is
what we want to display if they do have
a profile image so this is pretty
similar all we just say is user day in a
ford slash profile
yeah pics /pret profile whoops
like you spawn that wrong Franco phobic
which is the value of whatever it is in
the database it miss real so if I'm
correct that should be everything we
have to do so we can check it out so if
I hit after refresh the page scrolled on
oh and we come delete this line on these
two days we created a start we don't
need that I don't think anyway we might
but I don't believe we do so scroll down
so we we will we move a mouse over you
can see that links to Francis which is
correct this links to Google and this
links to new user which are the Friends
of cinema in the friends oh yeah
friends table in the database say yep
so three friends and teeny bit in the
database hum three pictures displayed so
it looks like not a skip cocked okay
actually we don't I don't think we
needed Liam
escape character remember like see I'm
just gonna do this I think I get the
escape character wrong because okay eyes
and Z it says Francis and then there's a
backslash it doesn't say Francis's
profile so let me just check why is this
not working
it's definitely a backslash so we could
just actually change this so we can just
the comma there I'm sorry on a common
apostrophe I can just change this to
double quotes change this as well so I'm
right all you need to put in the escape
character saying okay so we'll just put
a backslash here and slash here I'm
gonna be leaving on a backslash and box
Bosh so I'm feel fresh no I know yep
there okay so um no I know that was a
small thing to fix but not work are
these images not
okay so we go to the instructor II let
me see
yeah okay
that's quite simple I just called it the
wrong and it's actually defaulted not
default so now it's a profile photos and
they're all the default profile image so
if I check on my other friends works as
well so um I'm just gonna upload and see
I'll just upload this search icon it's
my girl father it's just to prove that
it displays the other ones correctly all
right I mean it's nice the profile
images correctly in the air friends list
and here we go there it is
so I don't forget to comment and
subscribe thanks for watching
umm umm next video what we'll be doing
is I'm allowing people to remove friends
I think that should be the friend system
finished there if you have any
suggestions on them and I what to put in
over in the videos or in this series or
how I can make the videos better or
whatever I just send me a message or
something cuz I'd be really happy to
find out if there's anything I can do
better
so yeah thanks again for watching don't
forget to comment rate and subscribe
um in accident</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>