<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Make Your Own YouTube Part 2 : User Login | Coder Coacher - Coaching Coders</title><meta content="Make Your Own YouTube Part 2 : User Login - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Make Your Own YouTube Part 2 : User Login</b></h2><h5 class="post__date">2012-12-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yet5y32-uAc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so I'm working on this video so as you
can see this is the login dot PHP page
on them
I've just created it and there's nothing
on it's just empty so what I'm gonna do
first is we're gonna go into the header
file and then I'm going to tell the
login button to go to login dot PHP
obviously we'll be doing user logging in
this video so the first thing we're
going to do is we want to create a new
database on our database table and
before ya do that we need to plan out
our fields so obviously wouldn't have an
ID we're gonna have a first name last
name user name email password date of
birth that we can leave that out
actually we can okay actually you know
what even in native birth and then we
need to check if their cards been locked
or not um so we just said locked we
could say um okay we'll just leave it
without so there's uh it feels we need
so we have it fields so let's go to the
database create a table called users and
then give it eight columns but I have to
just zoom out of it so that you can see
everything so if I click go okay so as
you can see I've just zoomed out so we
can see but I just added names of the
fields in the save time now we're gonna
set the types
so obviously varchar' for the names for
the username farm for the email password
as well March our data bars to me of our
chart as well are ya okay varchar' and
then locked can be um my looking to be
of artists alright through all of our
chars
so at yeah the first-name length could
be thirty characters
every 30 characters using Ruby 30 email
could be the full length of the varchar'
password is 32 because we'll be
encrypting them it but it with md5 I
will also be doing some other security
things but it has to be 32 characters
long data bars can be it long and then
locked can be three because it's either
yes or no so if we go over to I'm on the
ID field we keep going
it says index we click primary and then
Auto increment spell we're just gonna
scroll down and find the Save button
okay so as you can see we have a user's
table nice so if we click on the users
table and then we insert a user I'm just
going to do me
so I'll just to Frances opps I'm I don't
know Gmail doesn't matter that's just a
made-up email by the way password it's
not going to be encrypted for the moment
we'll just put in anything so I'll just
set password theater birth is just gonna
be anything for the moment unlocked we
know so we get go on that we have a
query we have one user in our database 9
so now we're going to try and log in as
that user so if we go into contacts and
we can delete all that not it let me
just start a new page so what we're
gonna say first is include includes
whoops includes Smosh Hatter it up HP so
we go here and we click on or we have to
refresh actually
and now we can click on the login button
we're talking to the login page and we
have our Hatter so um what we're gonna
do now is we are going to first go into
the header file and the very top we're
just gonna say above the functions
include sashen underscore start because
we were using sessions to login the user
so now I'm going to get a hitch to zag
and we'll probably make it a lot better
in the next video but for this video
we'll wait work on functionality so I
just said log in to your account and
then below here we'll have a form the
method is going I'll do the action first
so to me Sal submitting form so it's
gonna submit to login dot PHP and the
method is going to be post the method is
actually going to be get then we use two
fields so say input type equals text me
and Miko's username value equals
username and then we could say on click
volume equals and nothing and then on
blur which means when they click away
from the text box we'll set value equals
no it actually what we don't want a lot
because otherwise when they cut away no
matter what if type 2 the value will be
reset and that's just pointless so we're
just going to put a paragraph tag in
there and then we're going to go down
and copy this change this to password
change the name of it to password
well you can just be password as well
and so now if we refresh you'll see we
have h2 tag and then two fields that's
what we're gonna do now is we also need
to include an login button so on either
side would work on making it look better
in the next video probably sorts the
input type submit me equals submit i'm
the value it's gonna be log into i so
now if we i refresh we have our simple
login form it's not very nice-looking
but as i said we'll fix on the next
video so the first thing we're going to
do is we're gonna say it gonna go up
here and we're gonna say if is set post
or it's actually i get
it's just that username because that's
the username field no actually will say
submit because that's the button so if
the button is pressed then we'll just
echo form submitted so that's a refresh
now i click on login to my countenance
as form submitted so that's good that
means it's working okay and that will
actually change this post and then hit
login to my car okay something's not
right
I change that to method post and then I
strike so it's s form submitted so
that's good so what we're gonna do now
is we're gonna say check user name
because a MySQL query on this query says
select all from our know we'll just
select user name from users where
username equals or username equals okay
that's not right
okay so we're gonna system say username
for nine I will say use we'll just say
I'll actually keep it simple then up
here what we'll say is username equals
post username so I will just I'll just
comment this line out and then we'll
just say back ooh whoops user name so
we're just gonna hit login to icon and
we're a quadruple that what if and
whatever values in the username box so
if I was to type Frances and then hit
answer to post a form yeah we can act
with Frances that means it's working so
we can trauma that plural uncomment that
line so we know that we know this query
will work and then we want to say is um
num rows close - - I'll underscore rows
that's not enough square it's - cutty
brackets masculine um Rose username so
then down here what we can say is if num
rows is equal to ok so weird
if norm rose let me see doesn't equal 1
then we're just gonna say active that
user doesn't doesn't whoops I'm just
gonna put in the backslash because it's
like an escape character so this won't
ever actually show up it'll just allow
me to put the single quote in there so
it gets ignored because it's just part
of our sentence so I'm just gonna say
that user doesn't exist so Nora let's
refresh and let's type in a user who
does exist so Frances hit enter
okay so masculine rooms expects one
parameter okay so the reason we did that
is we did that wrong is because it's
actually MySQL num rows check underscore
using him because that's the queries
that that's the variable that holds our
query username was just the variable
from whatever was submitted from the
field username so we're just going to
type in and use it does exist again okay
we're getting it's mistake still okay so
I the reason this is failing is because
we didn't we haven't created a MySQL
connect script so this will do no I will
just create a new file really quick now
we haven't actually connected to our
database so it doesn't actually know
what to look for so just say I'm connect
underscore to my skew out PHP and then
we're just gonna say MySQL or connect
and then we're just going to give it
three parameters first one is the host
which in my case is localhost
second one is the username of that
you're trying to log in with so in my
case its root because that's just the
default one I'm the ghooost
another password I don't have one set so
that when you just leave up like and
then we're gonna set my SQL select TV
and then the TV we're looking for is
called video box so I'm that's my dear
base name so this should work now if we
include this so if we set include
includes slash connect to MySQL dot PHP
so now idea for yet try this again if we
hit login to my account
since username since that is not
actually a user we get the user doesn't
exist but if I type in Frances it
matches one of the rows in the database
here so we got nothing aqueduct to us so
what that means that's working so then
we're going to say else and then in here
we're going to check the password so
we're gonna just copy all this and paste
it in here and we're going to copy that
and then change this to password
password as well then in here we're just
gonna set check password select all from
users or password equals password that
since we've got no encryption on the
password for the moment but the login
will just not include anything but when
we finish the registration form we will
have encryption so then we'll have to
update our login form too so I'm just
going to copy that change this to numb
underscore those so that the variable
name is different
that what we'll say is if gnome
underscore rose equals or doesn't equal
1 then we're also going to echo that
user doesn't I'm gonna obviously put the
escape character before that which is
just a backslash so we're gonna say that
user doesn't exist okay so then we're
also going to say else which means that
the user does exist we're just going to
echo great so if the user if the user
name and the password or the sims now
are the same as the one in the database
we're gonna say great so let's try that
now okay just so I just thought of that
idea so what we're gonna do now is
instead of checking not because we don't
even check these are all that exists
we're going to compare it with the
password the user M entered which is
actually what we've already done so what
we're doing is we're selecting the user
whose password matches password which is
for a variable we put into which is that
okay I'll just refresh password is
whatever is in this box is assigned to
the variable password where else are
actually also going to say and user knee
and equals user name so that were only
selecting one user so this what does the
means is we're going to get the password
or we just will change that from all to
just password I will change this to user
name so we're not wasting M bomb with
stuff I got so what we're gonna do now
is
we're going to we're going to say if
last word okay actually we need to
finish the query so now we've done the
actual query part of it we needed it now
we're going to say a row equals nice URL
fetch associate our a sock for
associative now we're just going to say
check password i'm swatching for about
the while loop so wild row equals our a
MySQL fetch associative array and then
check password we're just gonna say row
equals or no sword underscore DB equals
row so what this is doing is it's just
checking this is just I'm actually
getting the password from the database
so I'm in here what this is basically
doing is just getting password from the
at word it's just getting the user's
password from the real password so
whatever is in the real password for the
specific user is returned in the stored
and password DB and then over here we're
just gonna say if password underscore DB
equals password so if the two passwords
match then we echo that you can't log
the user in so then not what we're going
to do is we're just going to refresh
again and we're going to save Francis
and we hit enter nothing happens we hit
fraud we type in Francis and let me type
in password and it says you can log the
user in
five in Francis and then we type in a
positive doesn't exist we actually need
to say that now I'm so weak to else echo
incorrect password' so now if we were
actually not refresh just to I go back
up here and type in Francis and then
around them password okay let's try that
again actually okay so what we'll say is
just create another if statements over
else if password doesn't pull this cover
to the house we'll just say TV posture
doesn't equal password we'll use tackle
and cracked password so Francis okay
okay so for some reason that's not
working but will tidy that up later so
I'll just leave that as it is so as you
can see it says you know I log the user
in so instead of a cueing that we're
just going to actually say header
location indexed up HP or I will
actually say members dot PHP for not and
then on the or create a new page called
members dot PHP
here we will just obviously include the
header file so it includes chatter it's
being so now if we refresh type in
Francis we type in password it takes us
to members don't page me but we haven't
actually set the session yet so it won't
remember so we're gonna do that now so
what we're gonna say is
in the hydrofoil we'll just say the user
equals a dollar sign underscore session
and we're just gonna type in user we're
actually going to cut that from that I'm
put it in the login file so you're just
going to put it that in there and then
on the members file we're just going to
say echo session user
alright user name actually excuse me
okay so let's try that it's not a deck
what's our user name so Frances password
okay so we use your name husband hurt so
what we'll do is we will copy this and
put on the header so let's refresh so
we're gonna change this instead of
saying user equals session user username
we're actually just going to say that's
the other way around
so we're just going to say a session
user name equals user name and then
we're going to just a crow session user
name so that's how we sat a session so
now if we type in Frances I was having
password it says save password so just
click yes and there we have Frances echo
type so I know we want to be able to log
ID so yeah we're going to create a file
called logout dot PHP and all we're
going to do is say session start
underscore destroy so I s do not know so
if we go to logout dot PHP it does we
don't get accurate anything because we
never told it to know if we go back to
members HP says I I are I'm sorry
undefined index username which means the
variables not been declared so if we
type in Frances and password it works
again so thanks for watching this video
we're going to be cleaning up the login
script a lot the next one this is just
to get the basic functionality now we
have to do a lot of security things to
improve that but that's thing basically
use your login and the next video will
just be finishing it off and tidying it
up and making it look better probably
under the next video after that we'll
probably be doing the user registration
so thanks for watching don't forget to
Like favorite and subscribe and I'll see
you next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>