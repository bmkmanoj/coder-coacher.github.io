<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Make Your Own YouTube Part 18 : Video Comments | Coder Coacher - Coaching Coders</title><meta content="Make Your Own YouTube Part 18 : Video Comments - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/howCode/">howCode</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Make Your Own YouTube Part 18 : Video Comments</b></h2><h5 class="post__date">2013-06-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Ed8GpQkOuh8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so hi and welcome to this video so today
we're going to be doing is we're gonna
be working on the comments section on
the video wats page on our video sharing
website so let's get started so they
have the video comments are just going
placed underneath the video on
underneath the video description and the
views and they're just going to be sort
of separated with horizontal lines to
show you which comments which and it's
gonna have the person's profile image to
the left hand side their user name and
then obviously there are comments on the
right-hand side so if we come into our
text editor so the first thing we need
to do is we need to create the comments
table and the best way to do that is to
plan out the fields first so that's why
I have this blank text document here and
we're just gonna plan out the fields for
our comments table so the first thing we
need is an ID obviously to uniquely
identify every single comment within the
database the next field we need is the
let's just say user underscore commented
so that way we can I have record the
username of whoever wrote the actual
comment we finally want the octacore
we're not finding necessarily but we
actually just want the comment next so
we could just set comment
the next thing one is the get posted and
obviously the video that it was posted
under so video ID and that's probably
all we need to start so we have five
call RF five different fields we need to
create so let's go into our database I'm
going to create the five field okay so i
zoom down a little bit just to make it
easier to see but we're gonna create the
table cup or the table we're going to
create is called comments and it's gonna
have five columns because that is the
number of rows we specified here we can
just see how to use' UND a line number
of the final failed so if we click go
and it'll load up in a second okay so
here's our sort of interface for korea
tables and we're just gonna choose our
out fill in the column and so the first
one we need is ID the second column we
can check to get the exact name of it we
can just go into our context document
now we can copy it and just paste it in
or that was just at one of the unique
video IDs I used earlier
that's whoops so let's copy that and
paste it in here and the next one says
comments so we don't need to actually
copy that so the next one says comment
the next one says it posted under the
final one says video ID so obviously the
ID has to be an integer because it's a
number the user who comment it has to be
a varchar' because it's a username I
will set the max length of this to 32
characters the comment can be taxed and
once at no limit on the length of that
dip posted actually we could set the
limit to 500 maybe 500 characters they
posted can we have our char as well
we'll set that to the maximum of 255
video ID is a varchar' and it's also
going to be a 32 characters long so we
also need to make the ID field auto
increment it and we need to set it so
that it's got the primary key so when
under under index we just click on the
drop-down and click on primary and then
it says a underscore I and we just click
on the checkbox underneath this to auto
increment the ID field so what we do now
I'm just gonna scroll down whoops
scroll down all the way to the bottom
we're gonna click see it okay so our
comments table has just been created and
we can see here that it's empty so what
I'm going to do is I'm just going to
insert some random information so that
we can actually view our comments on the
video first so the first thing we need
to do is we just need copy the video ID
and we're gonna we're gonna go down and
we're just gonna paste it in here the
date posted I'm just gonna write it in
myself and because that we can format up
whatever way warm watch is that's why we
add shows of our char so just write 24th
June 2013 for the idea posted the
comment is just gonna be this is just a
test comment and the user comment it is
just gonna be Francis so if we hit enter
and we insert this into our database
what will happen is I will obviously
we'll have one more one row in our
database but what we can do that is we
can create our comments section below
the video and we can decide we can add
two so it's going to lock on everything
because we'll have some an actual
comment to display on the page so here's
our comment here in the database so what
we're gonna do now is we're going to go
to context on the watch stop hp page and
we can actually a get rid of add up one
okay so down here what I'm going to do
is let's just go down here in here in
between these two cardi brackets
I'll get ya but in here but we'll put it
in here because between these two curly
brackets because the first set of cardi
brackets is this and I just says if
masculine numbers check equals one so if
the video is a real video and it exists
in the database then we run all the code
in between the cardi brackets and the
second karlie bracket which is this one
it's just specifically for getting
things about the actual video
information with the video on the
database so and now we we just wanna
this is whatever is enclosed between
these two is just specific to the videos
but whatever is between this and this
curly bracket is well like doesn't have
to be specific to the video it can be
anything at all so that's what we're
gonna put it here I'm just gonna put a
comment in because it'll actually make
things easier to understand so I'll just
put a comment here saying this is the
section of the watch page that using
specific the video and then up here to
make that make even more sense I'll just
put it in here this data is only
specific to the video okay and then
since we've got that common thing to mix
things that we've it easier to
understand so the first thing we're
gonna do is we're just going to create a
query called select comment and add were
sneeze MySQL query some people say that
you should use MySQL ie but MySQL is
better I think because my sqli is I've
heard it's unstable and things I don't
know if that's right or wrong I just
so I'm just gonna stick to my SQL for
simplicity okay so what we're gonna do
in in our query whoops is we're going to
say select well from comments where
video underscore ID equals video ID so
let's just check is that a real variable
let's actually scroll up to the top
video ID is up here so yes that is a
real variable I'm going to say here is
if maestro no whoops
num rows select comment doesn't equal
zero so if there actually is some
comments then what would I we will just
write the video some some comments and
then here we're just going to say else
the video has no comments so here we can
just say won't create a variable called
comment okay no Mackey will just a quote
out well actually I'll probably use a
variable so we'll just leave that blank
for now and then we'll sort it in a
minute so we're gonna say is weird
luckily we can just a copy all this code
from over here it's basically the same
so what we can call you someone but we
don't need copy at all it just saves us
timing it out so
just paste it in here now we have to add
the while loop so we're just gonna we're
just going to say instead of row we're
just going to change it to our when
you're 2.2 when you change the query
it's checking so we'll just set comment
and get rid of this and this is actually
right so far because when you of an ID
field the next field we have is user
commented equals our user commented then
the next one we have is the comment
itself equals our the next one we have
is the was it the Tiant hosted equals
our get posted and then finally we have
video ID so video I video on well
actually we don't need that one because
we already have it so we do not know
that's what we're going to do is we're
just going to echo comment so that's
just
hit enter to refresh and we have our
comment up here so what we actually want
is you want to below the video so what
we're gonna do is we could actually just
move all this up so if we cut this and
we came up here above the comment
section we close it off and then open it
your PHP block and we paste it all of
this stuff in here in between the two
PHP blocks we should get the same result
except the comment text is here which is
good because that's below it all even
though it doesn't really look like it
it's a minute so what I'm going to do is
I'm just going to append some break tags
on so just to move it on so that we can
see it below the video and the eye
description you keep doing it two more
should do
so here's our comments showing up here
on let me see well we might actually do
is might just leave the comments here on
this side of the video no ok I will put
them below so as to put them below what
we're gonna do is we're just going to
get rid of all these break tags and as
you can see the comment will go back up
here and we need to scroll up to or the
video is and then under here just write
some random letter so we can see where
they go they should go below the video
yeah they go up there I'm just putting
in some random letter so that we can see
where abouts they go on the page okay
what we're gonna do is here we're just
gonna put in a load of break tags just
for simplicity put it in like that man
you should be enough I know what I want
to check is work okay it goes there
whenever I think it was further done
so whenever what this shows us is that
whenever the comment is pushed on enough
instead of being stuck in line here it
gets it fills up the whole page which is
good that's what we want so what we want
to do instead of using break tags we
want to we could just set the minimum
height for the description so we just
increase it a bit to maybe 300
that's a feed 350 okay well that would
leave that as it is it's a minute so
what we'll do is we'll copy this for the
views and we'll just paste it in here
there's the stack close it off and then
opening your block so in here we're just
going to paste it and we're going to
change this to obviously comment and
what we're going to change is we're
going to change this to 100% so sweat
fit up the whole width of the page so if
we refresh and go down we can see it's
underneath the video and it takes up the
full width of the page and since we have
this kind of annoying thing you know we
could just decrease it to 95 it might
just be because the screen I've liked
the window size I've chosen is really
small that might just be what's causing
the problem but it doesn't matter we can
probably still fix it and it's let's see
okay so if I full-screen if I use full
screen on the page that goes away so
it's just because of my a tiny window so
we don't need to worry about us we can
just make this back to 100% and we need
to make sure that the font weight is
gone so that it's just default and the
font size is gone so that the page uses
the default font size so let's scroll
down we can see here's our comment now
we actually want maybe a bigger margin
from the top sufen and we can get rid of
margin on the side
so that without losers just puts it off
to the edge of the page and from the top
we want a margin of 20 pixels maybe okay
that's a bit much maybe 10 so add this
is just sort of trial and error in a
minute how to make things a bit more fun
we can actually use the built-in
developer tools in Google Chrome
which makes it a bit more interactive
and stuff I don't know why my computer
denying so slow today so what we're
gonna do is we're just gonna open all
these up and scroll down and then open
them up and here's our comment so what
we're gonna do is we're just going to
mess about with the Styles here so I'll
expand this a bit and I'll scroll down
here so here we can see we have a margin
and everything and maybe we'll add maybe
we allowed to 5 pixel margin from the
right so 5 pixels and another 5 from the
left so that's even and then what we'll
do is in here okay we can't actually if
fact that looks like we can only mess
about with the CSS okay so what we're
gonna do down here is we're going to we
actually need to add some more to the
div actually so what we're gonna do is
we're gonna copy copy the CSS code and
paste it in and then just obviously do
this to me I set up a space what we're
gonna do is we obviously don't just want
to anchor the comment to echo your
comments so we're just going to say echo
user commented comma or not comma
semicolon
and then we should get Francis aqueduct
okay we'll get ready sparingly and we
want is we also want the dam posted so
we'll just copy it again okay so here it
says Francis 24th of June 2013 and then
it says the comment so what we want to
do is we want to style this up a bit
more so what I'm going to do is in
within this div I'm gonna create a new
div and set it style to float:left wood
40% maybe not 30% and then here we can
end the game and create a native throat
left as well so that it's at right
beside it and then the width of this tip
is gonna be 70% so what this does is it
just separates the user commented only
posted by with the comment so I have a
syntax error on line 58 that's because
we need we didn't end the PHP block so a
line Mathare and that opened a new one
here
we have to end this one before the div
okay so that's it um refresh and as you
can see now we have a gap so this takes
up 30% of the page and then the
remaining 70% is filled up with a a
comment that's obviously too much so
what I'm going to do is I'm going to
change this to pixels and sat it to I
don't know 100 pixels and then get rid
of the width here so this she just fit
up the rest of the space so there we
have a 100 pixel 100 pixel box on this
side sort of and then 100 pixel box on
this side so what we're going to do is
we're going to create a okay we're going
to create a link around user commented
so we can just append it so it works i
padded like that now we're just going to
set it to nothing at the minute we have
talked she also closed the neck off so
now we have a link or on the username
and this is just going to link to their
profile so there's our link what we want
to do after that is you just want to say
side and then put a break tag in we also
could put the get posted above that
actually so like that and then just
append here so whoops we just sit on the
date posted and then put another space
here so on the day I pose
this person said we can actually give it
more space than 100 pixels so that's
that 200 pixels should be enough maybe
maybe a bit too much 150 she being nice
and like ok so on June 20 or 24th of
June 2013 Francis said and then the
comment then we want to separate every
comment where the horizontal rule or
just us horizontal line so we have to
put that outside the PHP block and we
actually want the horizontal line under
under everything so let's just try this
and we refresh I'm gonna have to put
like a brave tiger something in
hopefully this change is push it below
the text writing another one as well
okay so now we have our line horizontal
line under all of the text and we're
just going to set the oops
width of it - I don't know 90%
maybe not 1995
okay maybe 98 and let's see okay that
looks okay it's not great but it'll do
for now and then we want to do is just a
style attribute to it so we're just
gonna say height 1 pixel quarter
non-border top 1 pixel solid and we want
I don't know
33 3 so it's sort of like a dark black
so what this basically is saying is set
the height of the horizontal line to one
pixel remove all the borders then after
you've removed all the borders add one
border should add a border along the top
of one pixel solid and set it to like an
already dark sort of a grey because as
you can see here this is more than one
pixel this border or I mean this
horizontal line so let's just see what
that looks like as you can see we have a
horizontal line now maybe we don't want
a dark one so we'll just change it to
99.9999 or if we wanted even lighter
we'd say f5f5f5 okay that's a bit too
light we'll just use that the generic
gray that we use normally so we'll use
that for nine so that's it for this
video don't forget to Like comment
favorite and subscribe I'm a lot less
busy now should be a lot a lot more
videos coming soon and I'll be aware
more than one a month and with tiny all
this up in the next video as well as
every time we'll also start enabling
users to actually write comments
and we can also do things like allowing
people to mark comments as spam and
thumbs up comments and dislike comments
and things like that so thanks for
watching don't worry like comment
favorite and subscribe and I'll see you
next time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>