<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Django: The First Five Years | Coder Coacher - Coaching Coders</title><meta content="Django: The First Five Years - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Django: The First Five Years</b></h2><h5 class="post__date">2008-12-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/aJ_7KtjIVLQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'm Jacob Kapoor Moss I'm one of the
lead developers of Django and I'm gonna
be sort of rehashing a talk that the
other lead developer Adrian and I gave
at django con which was held here at
Google in September we showed off kind
of for the first time publicly what
Django looked like in the couple of
years before it was released as open
source um and I it's it's a pretty funny
it's some pretty funny stuff I think I
think you'll see some really interesting
things here um so for me this this this
is where I start thinking about where
Django is and where it's come I think
this is one of the most apt observations
about software that i have read anywhere
which is that good software takes a
really ridiculously long time i right
remembering that Google is about ten
it's just turned ten right I think that
there's a pretty is a pretty magic
number there and around that ten-year
period so you know we are halfway there
and looking back at where we've been I
think hopefully there's will be a
continuing trend forward as we move on
from there so excuse me a bit so Django
was born in Kansas which comes as a
pretty big surprise to anybody who is
involved in tech most people think that
the Bay Area or maybe maybe New York
maybe Chicago maybe Boston gets to live
up there with you know places that
invent cool stuff but I'm here to tell
you that that Kansas despite some of the
stuff you may have read in the news it's
actually it's actually a neat place and
there are smart people there to
specifically django was invented at the
lawrence journal-world which is a small
family owned since the 1850s newspaper
in in lawrence it's a town of about
80,000 the paper paper has a circulation
on the order of 20,000 I don't know the
exact numbers not exactly the place you
would expect to find
and these guys working that's Adrienne
holla voddy on the left and Simon will
listen on the right you might recognize
Adrienne's name as the creator of
Chicago Crime which was the first Google
Maps mashup and if you look on the very
early Google Maps discussion list you
can see a post by Adrian encouraging
them to release an official API he
actually reverse engineered the Google
Maps JavaScript stuff to embed it on his
own site adrian is also extremely well
node within the field within the field
of journalism he's coined the term
database journalism to describe what he
does on Chicago Crime and on his new
startup every block Simon on the right
there um he's not always blue is a you
probably know him sort of as a
JavaScript luminary he some of the stuff
that he worked on early on is now part
of the current crop of JavaScript
frameworks he's also one of the bigger
open ID of Angela evangelists out there
but he's sort of a general all-around
you know tech maven I had been following
these two guys for a while really
impressed with what they did and so when
a job opened to go work with both of
them the fact that it involved moving to
Kansas didn't seem like that big a deal
so back in 2003 2002 2003 when Adrian
started working there the project that
they were working on Elizabeth's
Lawrence calm this is now maybe this
sixth incarnation maybe seventh of the
site Lawrence calm is the site that you
wish your town has but doesn't it's a
local entertainment site that tells you
what's happening all what what the local
bands that are playing what the drink
specials are at your favorite bar it's
sort of the the one stop shop for
nightlife in Lawrence and it just beats
the pants off of any other any other
similar site anywhere if you've seen
Metro mix in Chicago that they wish they
had this
citysearch that Google Local got nothing
on us the thing about it though is gotta
remember this is a tiny little company
trying to develop this thing this was
originally developed by Adrian a
designer Dan Cox and an editor Phil
coffin three guys and this site has
absolutely everything it is the
comprehensive place to go for
information about about Lawrence so
small team big ambitions originally this
was all they started writing this in PHP
I'm not going to go over the reasons why
that didn't work out those are well
documented what I'll say though is that
Adrian and Simon knew pretty early on
that they wanted to switch to Python but
circa 2003 the state of the web in
Python was was a disaster this is from
my cores round up of a talk given at
PyCon in 2005 about the current state of
web development and python by this this
quote refers to circa 2004 by 2005 the
situation was even worse at the talk
given at PyCon there was a slide with
over 40 Python web tool kits of some
sort or another template languages
dispatch mechanisms or m's all sorts of
pieces and it was nearly impossible to
know which were robust enough to use
which were going to work for your site
and you're not just not feasible going
to evaluate 15 or 30 or 40 different
technologies there was no whiskey at the
time wsgi which is the glue that today
binds together the Python web world into
sort of a more unified whole there was
there was no real serious discussion of
the web as an important place for Python
to be at that time so Adrian in time it
did what most engineers do when
are confronted with a very confusing
technology landscape they started from
scratch this is chainset 15 of the
internal repository from which from
which Jango eventually came this is a
regionally a CVS repository converted to
subversion and what's kind of cool is
this was the very first code that was
checked in to the repository that Django
came out of all the previous commits
were setting things up and various cruft
at CVS to svn through in there and if
you look at this template library that
Adrienne checked in in 2003 this is the
example template in that template
library it's nearly identical to this
template would almost perfectly work
right now there's a couple of things
there's no there's no byline list tag
that Adrienne kind of made up there and
we've we don't allow hyphens and
variables anymore but other than that
this is exact this is an exact replica
of what the template language in Django
is today over five years later this is
what the context class looked like back
then the context is what a template is
rendered against it's essentially it's
could was conceived as a stack of
dictionaries the idea being that when
you enter a block tag like a for loop or
an if statement you don't want variables
from inside that loop to leak out to
containing contexts that's what this
simple data structure was here it is in
2003 here it is today it's almost
identical there's actually you could you
could do a really good sort of
programming quiz problem on why the
change in the slight change in semantics
between the 2003 version and the 2008
version was done there's some very small
differences that actually have important
ramifications but
and that theme that theme kind of
persisted as I looked through the early
days of of Django most of the stuff that
we now see in Django are much of the
stuff we now see in Django existed in a
very rudimentary form all the way back
then revision 36 introduced the poll app
if you go through Django's official
tutorial you'll be building up this app
that was introduced in 2003 @ revision
36 I should mention by the way that at
the time there was no there was no
Django there was no framework that it
was just the CMS we're pretty bad at
coming up with code names as you'll see
in a minute revision 84 introduced the
validators framework which is now part
of the forum framework in Django one
point 0 revision 159 introduced the
paginator the pageant is a really neat
abstraction for dealing with large data
sets and paginate enthral occation the
current paginator in Django is somewhat
different but the core concept has been
there since 2003 the auth app was
introduced very early on and it had
nearly identical it's nearly identical
in terms of the data structure to the
way it is now now there are some people
who say that that's not this is really a
good thing we can we can debate that but
the fact is that it was developed there
very early on the URL resolving
mechanism so we had these apps but there
was there was no where i should say they
had these apps i wasn't there yet um
there was no way to actually hook them
up to a website until this came along
and i'll look and a look at this in in a
minute the site's subframe work now
django contribs sites was introduced
also incredibly early as a way of as a
way of differentiating between requests
to different urls also introduced
extremely early on was the admin
interface is what it looked like in 2003
just a very basic really ugly HTML form
there was no designer working with them
but by februari 2004a revision a
thousand if I showed if I gave you this
code right now and gave you a couple of
bits of information about how to
mentally convert from what's in Django
now to what was it in in the CMS then
you'd be able to start writing
applications and things would feel very
very familiar to you this this
completely blew me away when I you know
went back and started looking at when
these things were introduced I I'm
completely amazed at the vision that
Adrian and Simon had sort of from the
very beginning deviant idea by the way
of how this was being built around
revision a thousand is when the not
clause for the if tag was introduced so
this was being built very piecemeal
there was there was sort of a rough
outline of what things were but Lara
large pieces of functionality were
completely missing so this is what a
model such as it was looked like back
then you can see it doesn't inherit from
anything there's no metaclass thing
going on this is just a plain old python
class and in fact if you look at the
save method you see that there's just a
bunch of hard-coded sequel embedded
directly in there there was no there was
no sub classing there was no dynamic
generation of sequel that was really
there was really nothing you wrote a
model such as it was by hand and it was
just a plain old Python object that
happened to have the save method that
ran a bunch of really ugly sequel and
every time you wanted to write a new
object you would write another one of
these by hand but using it looked
reasonably similar to the way using a
model looks like right now you would
import the model you would instantiate
it and you would save it this almost
works today you'll notice though one of
the really ugly things early on models
didn't accept keyword syntax so you had
to remember okay the seventh argument is
the number of days to keep it open and
the ninth argument is
the you know URL piece it was it was it
was tough it was tough so you had a way
of saving models into the database but
you needed a way of getting data back
out of the database so to do that you
would write some functions by hand get
poll by ID and you can see there's just
some sequel code written right in there
to look up a poll by ID and when if you
wanted to look up a poll by its label
you would write get poll by label and if
you wanted to look up a poll by its date
you would write get poll by date again
no magic all by hand totally plain and
simple and easy well sort of whoa what
is going on there yeah mm-hmm I hope
that's good enough mm so yeah that's a
good one oh well the colors you're
seeing are completely different from the
colors I'm seeing but I think that
that's readable isn't technology awesome
i love this where was i right so that
was how you looked up a single object if
you knew you wanted to look up a list of
objects you would write a get pole list
function that name is will look familiar
to anyone who started using django very
very early on and i'll explain why that
is a bit later sort of make a mental
note of it there was also no generation
of sequel you would open a file by
convention called DB layout sequel and
write your sequel and then stick it in
the database by hand there was also no
concept of a sort of route dispatcher or
a root URL conf you would have to have a
separate location block in your HTTP
conf for each app that you wanted to
have you can see there was this Python
option app
thing which would point at the app you
wanted to use which meant of course if
you introduced a new feature to your
site you'd have to reload Apache and
edit your httpd.conf and that was super
fun this is interesting this is a early
URL conf again circa februari 2004a the
basic idea was there from the very
beginning you have a pattern which is a
regular expression and you have a view
which is a callback that gets called
when the URL matches that pattern I
actually I tried to figure out what
these other what these other things are
in here there's there's four items in
this tuple there's a pattern something
something that's always none and
something else I think which the last
ones the view I don't know what those
middle two pieces are but you can see
the name URL patterns that was there in
the beginning and this concept of having
four or four and five hundred handlers
as a fallback still there in Django
today and finally you'd write a view and
the views are kind of cool because this
view would basically work right now if
you changed get pole list to pulled out
objects at all everything else would
essentially work the basic workflow of
look up some data load a template render
the template given the context return an
HTTP response that was all there from
the very beginning as I understand it
the idea always was that views were
supposed to be really wide open the only
rule for a view then was it takes a
request and returns a response and the
only rule for views now is they take a
request and return a response so you put
this all together this is what writing
an app in Django in the CMS looked like
circa 2004 you would write your day to
class you would write an admin view by
hand i should mention you would write
the data access functions you would
write the admin template by hand you'd
write the admin URLs and I'm missing
here the views you would write an
etcetera etc this obviously is not a
great way for a small team to develop
things rapidly
so around what is this march two
thousand four Adrian checked in this
this code data descriptions and the code
generation library which should be
giving you willies just thinking about
it but just wait so the idea was you
were doing these same things over and
over again you're you're writing a day
to class you're arriving an admin view
your writing data access functions
you're writing an admin template you're
writing these URLs you were kind of
writing the same things over and over
again with very small changes and so why
can't we sort of dynamically generate
that boilerplate from some sort of a
description of the data that you want to
be able to store and that's what these
data descriptions were were so here's
the poll data description and its really
verbose but you can see that it's
already starting to resemble roughly
what a current Django model now looks
like there was all of this boilerplate
you had to do you had to provide a doc
string and the database table and all of
these things were required the fields
had work we're very verbose I really
don't know I don't know why there's so
much for both verbosity here auto
increment field was required that that
same line was the is the you know
primary key ID the Django ads in most
cases automatically now you had to spell
it out in full you also have stuff like
create lists lookup function now if you
remember back I was showing the slide
where you would write the list look up
stuff by hand this would automatically
generate those types of get poked get
pole list functions but you had to
specifically say which were the field
you wanted to be able to use when you
were looking up a list so notice that
the slug there has that look up equals
Jen not exact you had to actually at
model definition time tell the CMS what
fields you were going to want to look up
by later on
and that was because there was nothing
actually dynamic going on here you would
write this file and then you'd run this
generate code pi and that would do what
the name implies and generate a whole
slew of code you would get a poles dot
PI module this is just a plain Python
file written out by reading this data
description you would get polls not
sequel you get the admin view you'd get
a bunch of templates generated and a few
other files that I couldn't quite
remember I managed to roughly get this
code working the other night um it was
hard to get set up sit so this is the
awesomeness that is a the cogeneration
library this is a 2,000 line file all
that looks like this it's it's the most
mind searing code you can possibly
imagine the problem with generating
python is that indentation is what
controls structure right so you have to
be able to keep track of indentation in
your in your Python code you can't just
throw a brace and an end brace and not
really worry about the white space there
so there was this library this code
generator library where you would give
it the number of indents to use and and
in a way of trying to appease the masses
I suppose that that that library
actually can use spaces or tabs
depending on how you want your code
generated but you can see just some
amazing stuff in here where you have to
keep track of notice at the bottom here
you have to keep track of whether you
have a primary key or not so that you
know what level to indent the next code
you're saving level equals 3 your level
equals 2 so that you keep track of where
that code ought to live and if you get
one of those one of those numbers wrong
I mean you know if you have a 4 instead
of a 5 somewhere now your file doesn't
work and it's all like this two thousand
lines all like this and any time you
wanted to make a change you would have
to go in and and modify it but but it's
it's even awesomer than this it's even
better because remember that data
description isn't actually used by the
running code
anyway it's purely it could have been a
text file it's purely a bit of
configuration to be used by the code
generator so if you wanted to modify
model behavior add extra stuff to your
model you'd actually do it by putting
Python code inside a string extra model
code extra model class code extra model
code top extra model code bottom extra
module code you would put these things
in here and notice notice me rather
interesting indentation in extra model
class code remember you have to get the
indentation right in that string so that
your code will properly show up in the
right place in your file and of course
you can't you don't get you don't get
syntax highlighting you can't check this
you can't check the syntax of that you
can't analyze that code in any way all
of the outputted files had this up up at
the top of it I and I just and I just
love it it was generated by a program
the dubiously clever aspect of the code
generator was that it would it would
check for this comment at the top of a
file when it got ready to override it
with the new version and if the comment
had been deleted it wouldn't generate
the new code right the idea being that
if you wanted to make a change to the
generated code you could delete the
comment and then just make the change so
you'd sit there and you make a change
your data description rerun the code
generator restart your web server and
your change wouldn't appear and you go
back to the code gentian you'd go back
to the data description scratch your
head make the change again rerun the
code generator restart your web server
and the change wouldn't be there and
after you know for five iterations you
be sitting going why isn't this working
and it wasn't working because you would
did you would modify that code a while
back so obviously completely untenable
the germ of a good idea but not a good
idea in its own right um we were kind of
proud of it at the time I remember
pretty clearly Adrian I were up in
Chicago and we showed this off to Ian
bicking is a another big name and the
Python community helped write the wsgi
spec and even kind of got one of those
horrified looks on his face and said
have you guys heard of meta classes well
so seven months later Adrian checked
this in and this was this was code model
/ meta dot pie the first release of
Jenga the first open source release of
Jango contained this code this was
conceived as a backwards compatible was
we had a whole bunch of code already
written replacement for the code
generator that would do the generation
dynamically in memory instead of writing
stuff out to disk it's not quite as bad
at that didn't actually generate code
and eval it but basically had a whole
bunch of really gross meta classing
hacks to emulate the behavior of
generating all these modules all over
your desk so here's what that the code
looked like here's what a model looked
like under this system and another sort
of increment step closer to what Jango
looks like now the only real the big
difference we need SNA and a data
description was the introduction of the
metaclass which you notice is still a
meta data description the idea of the
idea of having this calling this thing a
model hadn't really occurred to us we
still had a sort of mental separation
between the data description the
description of your database layout and
what the fields are on your model and
those sorts of things and the actual
models itself when this metaclass loaded
it would actually create a you can see
that there's a module name option there
module name equals polls it would create
it would insert an entry into pythons
module table so that you could import
that module as if it were a file on disk
again it was trying to copy this
previous code generation behavior around
that this is a screenshot taken around
that time of the of the administration
page maybe just a little bit a little
bit later because by this point
obviously we had the name but we had the
styles and we had the look and feel of
the admin
done circa 2005 but at that point Jenga
was still it was still the CMS it was
still this tool that we use to produce
our websites it we had no real thoughts
of this being any sort of general
purpose tool we hadn't really identified
the difference between the sort of
framework II parts of it and the CMS see
parts of it and we didn't we hadn't
really thought about open source I mean
it didn't seem like we had anything that
would be useful outside of a journalism
newspaper context a couple of things
happen that sort of changed that view
the first was Pikkon 2005 when one of
the big big topics was why is web
development and Python so hard at this
point for us it kind of wasn't and so
hearing a bunch of people tearing their
hair out about how hard web development
and Python was had us going well I mean
maybe we should show off what we have so
Adrienne gave a five minute lightning
talk he did the classic build a weblog
app in five minutes thing that everyone
does with everything but it was it was
kind of a runaway success and we had
people coming up after saying man you
really have to open sources this would
be this would be the best thing ever you
know I need this the other thing that
was going on around that time was Ruby
on Rails was reinventing the was
reframing the debate around web
development I really I can't stress
enough how much credit I give two rails
for redefining the terms that we talk
about web development rails came along
and said why is web development boring
which shouldn't be why is it a drag why
is it Rep repetitive why is it a lot of
work why can't it be fun why can't it be
interesting why can't we think about our
websites
as applications as large units of code
rather than a bunch of collections of
pages glued together and we looked at
rails with a certain amount of envy we
said well they're getting all this great
press deservedly but we think what we
have is better so we started jumping
through the legal hoops of releasing
releasing Django is open source and we
also started thinking about what to name
our web framework these are some of the
names we came up with around that time
I'm personally partial to brazos I just
think that's got a great ring to it
there's also some really amazing
amazingly bad ones in their private
dancer that's just embarrassing to me
garbanzo I kind of like garbanzo that's
got a good name to it we wanted to name
it after Simon but he didn't think that
was a good idea we nearly we were very
very close to calling it the tornado
publishing system and and releasing it
with a reports module TPS reports office
space thank you but it turns out that
that name is taken we actually
instituted a trademark search on that
name and it turns out that it's actually
taken there's a company that sells a
product called the tornado publishing
system so we were we're out of luck I
can pinpoint the exact moment at which
Adrian came up with the name Django and
actually this page is still there on on
the journal world's internal internal
track install and at that point it was
decided so we spent the next three
months four months splitting up the sort
of framework II stuff from the CMS II
stuff this parts that were of general
purpose of general interest became
Django and was released as open source
and the sort of newsy CMS stuff was kept
internal it's now a commercial product
called Ellington
and actually if you look at early
versions of Django you can see that this
split wasn't completely easy there were
still certain hooks deep in the bowels
of Django that would look for pieces of
ellington still there we first started
that we started doing the big the big
split in early June this is when I added
the Django directory and we knew that we
needed to do a few things before we
could release it as open source at that
point Django was very very tightly tied
to postgres and although we love
postgres and think everyone ought to use
it the reality is that my sequel is sort
of the dominant web database so in early
July we refactored the database parts to
make it possible to have multiple
database backends this turned out to be
a pretty big deal these days we support
the big three open source databases my
sequel postgres sequel light as well as
Oracle and there are third-party modules
that add sequel server support as well
as some more esoteric stuff like
Firebird and what have you and we're
continuing to sort of expand that
capability of Django to talk to other
other database engines the reason I
mentioned this is this was the first
time this was the big corner turn we had
to make as developers from scratching
our own itch to trying to anticipate and
scratch other people's itches this was
the first thing that we checked into
Django that we were never going to use
that spoke to other developers and that
was and continues to be a really hard
thing to do in in that transition from
closed source to open sources realize
that it's not necessarily any more about
what you want it's about sort of
anticipating the needs of a community
and responding to them so switching now
to a different track install this is
Django's track install code django
project
you can see change set 3 was the initial
import of Django from our private
repository created from revision about
88,000 keep that number in mind and come
back to it a bit later Adrian gave a
sneak peek of Django the site was barely
up at that point we hadn't announced it
we had just sort of put the site online
quietly and started a little blog and
Adrian gave a presentation at chippy the
Chicago Python users group apparently
did very well Adrian man he gives great
demos he's very good at making things
look sexy and we started getting almost
immediately we started getting people
asking us hey come on release it already
released it already so we did we
released it with a little bit of
documentation and a tutorial and it was
nuts within within a couple of hours we
had a hundred people in Django's IRC
chat room talking about it we really did
not expect to have this quick and influx
and this quick and uptake frankly Django
wasn't even anywhere close to being what
we would call done or even sort of
feature complete or or or well designed
there was plenty of stuff in there at
the time that we were really embarrassed
by but very quickly and this is you know
it's crash course and open source very
quickly we started getting patches and
that started fixing this stuff a lot
faster than we possibly could the next
day Django supported wsgi the day it was
released it only would run under mod
Python the day after it was released I
ran under got under wsgi because of
people's contributions from the
community and within what is this five
days later we had added sequel light 3
support and this is this is just what so
this is what I point to when people ask
if releasing you know internal code is
is is useful at all and and it sort of
demonstratively is you have people
you have people who are willing to knock
off you know you have those to-do lists
and down at the bottom you have the
someday stuff the things you want to do
someday if you have the time the great
part is those things are higher up on
other people's lists so you get the
stuff you always wished you had but you
don't actually have to do any of the
work yourself it's really nice so in
August we had the first of what was we
didn't realize at the time but what
eventually became a series of rather
large sweeping changes to Django's model
syntax now remember at the time a model
looks sort of like this we had gone from
data description to model we had we had
sort of identified the idea that we
wanted that these things were models we
had sort of loosely adapted the
model-view-controller terminology to
make things easier for people to get
started but one of the things that
really pissed a lot of people off was
that you have this sort of repetitive
way of declaring fields you they were in
a list and it just kind of looked just
kind of looked ugly you had to repeat
the name twice the first one is the name
of the attribute and the second one is
the human readable name of the attribute
you can see from pub date and date
published etc and a few people pointed
us at Ian bicking sequel alchemy sorry I
sequel object which supported a
declarative style of of defining your
models and so this was the change that
we made is to change that into the now
familiar to anyone using Django or
sequel object or a number of other
declarative libraries in Python style
this has become something of a sort of
hallmark of what we think of as a you
know Django esque is a more declarative
way of of programming you're not you're
not necessarily dealing with in calling
functions imperative or or defining data
you're sort of declaring there's this
field slug and it's a slug field there's
this field question and it's a
character-filled
Ruby folks would call this a DSL a
dynamic static language dynamic no
domain-specific language excuse me get
that confused with something else and
and whatever if you want to call it that
fine it's not exactly there's nothing in
this that's extending Python syntax in
any way it's using some of some built-in
abilities of Python to do neat stuff
like this but it's definitely become
something we try really hard to
introduce as we bring along new features
to sort of copy this declarative style
of development we think it matches more
what you're doing as you as you write
these parts of your program and around
then we made the first of a series of
rather rather ambitious and and silly
statements Adrian wrote when he checked
that change in and and again we're still
in 2005 here august 2005 I can't think
of any other backwards incompatible
changes that we're planning before one
point oh this isn't the last one and
it's least the last major one well he
was wrong on let all counts Django 1
point 0 was released in September of
this year and this was by no means the
large the last large change and in fact
it was one of the smaller of the large
changes that we've made in Django since
then the next one was a kind of a kind
of cool move and one that also sort of
has started to define the way we think
about Django esque the admin originally
was it was always there it was always
loaded you could of course just not ever
loaded in your browser but you had to
have the admin it was it was a built-in
part of Jango's HTTP handling layer and
that's you know that's a bunch of memory
overhead that's a bunch of code that
could potentially break that's if we
were bad developers and they were
insecurities that would be an insecurity
that everyone couldn't turn off so we
broke out the admin into a standalone
app this also marked the creation of
Django contribs which is the location
for you know stuff the chips with Django
but that isn't necessarily required some
of it is sort of more important than
others with this mark the beginning of a
trend of separating even farther the
totally generic parts of Django that
apply to everything and then the sort of
other stuff that we think most people
need an auth framework and admin etc and
we continued that trend we have
continued that trend of pulling more and
more pieces out of the core originally
Django had a handful of models that were
always installed the auth app was built
in you couldn't you couldn't define your
own user table because we had ours the
admin was built in etc and over time
those have been pulled out into separate
pieces so now you can even use Jenga
without a database without any models
and people do late in the late in the
year was our first really large
community contribution
internationalisation support downside of
being a bunch of developers from Kansas
we live 20 miles from the geographic
center of the United States and at that
point our code our code showed off our
biases as Midwestern developers people
speak other languages there are other
character sets so we had a some
contributions from a few people actually
this is where Malcolm trinnock first got
started working on django he's now one
of the he's the most prolific committer
to django and has been for the past
maybe six months or so this is where he
first got sort of started fiddling
around and with that in place we felt
pretty comfortable releasing a version
of Django until then you would until
this date where we looking here in
November 16th you would had to download
Django from this from the subversion
repository and then people did but you
know there are there's an importance to
a numbered and named release and there's
even more of an importance to a number
to name one point 0 release so why then
did we call it Oh point 9 we had we had
a big debate actually over the numbering
we some people said we should call it 0
point five halfway there some people
said just damn it just call it one point
oh really what does it matter to us
though one point 0 met something pretty
specific and it still does one point 0
meant if you upgrade from 0 point 9 20
point something else you kind of expect
your code to break that that 0 there
says it's not done that one that kind of
says it's done like if you go from one
point 0 to 1 point 1 you shouldn't
expect all of your code to explode if
you go from one point 0 to 1 point2 you
might expect a few things to break
because you skipped a version but really
when you upgrade from one point 0 2 1.1
you should just get a few more features
we're really strongly influenced by the
Python core team on this each successive
Python version starting from 20 20 21 22
23 24 it's kind of a no-brainer of an
upgrade you just install the new version
you get some new stuff and the end your
code modulo a few things generally just
keeps working I've actually never ran
into in since Python 20 I've never ran
into a feature and a new version of
python that made me have to change any
of my code and we wanted to be sort of
that level of quality so we called it Oh
point I know we had an install guide by
that point that was a pretty big step
actually we released 0 point 91 pretty
quickly afterwards a few months later it
was basically open I know with a bunch
of other stuff that had come with the
release we had a bunch of new exposure
and with that exposure brings new users
so we had a new developers and so we had
a bunch of new stuff in there including
the the first new admin branch not the
second new admin branch by this point
that I think in Django 1 point 0 the
admin is about
sixth incarnation of that particular
feature fifth we stopped storing
passwords in plaintext we yeah good good
move huh we added the pretty the pretty
error page which i think is still kind
of neat we relaxed are pretty dogmatic
stance against the use of includes and
gave people and include tag although you
still shouldn't use it we had an or look
up to the database API hey that's a good
feature wonder why anybody ever needed
that but then we sort of took a more
holistic look at what was going on with
Django at the time and we realized there
was still a lot of really confusing
stuff going on remember we're still
dealing with this this meta replacement
for code generator thing what happens
when you what happened when you defined
a model in early Django was when the
metaclass ran it actually your your
class you defined became unaccessible
you couldn't import it anywhere and
instead a module not a model but an
actual python module magically appeared
under Django dot model so you would
define a class in my app / polls /
models pi and you'd call it poll and you
try to import and it wouldn't work and
you'd ask a question on the users
mailing list and they would say oh you
have to import Django dot models dot
polls I didn't define that there's that
that's that file doesn't exist if you go
look in the Jenga models directory it
didn't exist and this this confused the
crap out of people who knew what they
were doing who knew Python and in fact
we got a question at one point on the
users mailing list from gido from the
inventor of Python about why he couldn't
get something to work and that was
that might have been I don't remember if
that was actually the turning point but
it makes a better story if I say that
was the moment when we realized we had
to remove the magic sort of badly named
effort in retrospect Django is still
relatively magical but what we did was
replace confusing and complicated and
weird and outdated code with stuff that
wall complex ought to make sense to
anyone who's reasonably proficient with
with python python has one one way of
doing magical stuff and it's a metaclass
and it's a bit complicated but once you
want understand meta classing everything
else kind of shakes out from there as
long as you're not doing really crazy
weird stuff like dynamically generating
modules you're fine this was a really
big improvement before like I said you
would have to import from this rather
weird Django models location I actually
I think I'm missing i think it was
actually Django dot models got poles dot
poles import pole because saying it once
wasn't enough you had to say it three
times for the incantation to work now
you just import the model from where you
defined it shocking another rather fun
part is that because of this magical
Swizzle that went around any imports
that you defined in your data
description were lost when it was turned
into turned into a module so we had to
inject stuff into the namespace for you
to be able to use it so you didn't have
the shakedown of this you didn't have to
import say date time it was just
magically there for you which of course
made syntax checkers and any sort of you
know static analysis really really
awesome because you'd be referring the
stuff that just blatantly wasn't defined
there we moved around we sort of this
continuing trend of taking things away
from an imperative style and into a
declarative style we made the admin more
declarative declaration and we got rid
of this nebulous weird magical module
thing that that existed there instead of
importing this pole's thing and calling
this get list
which you didn't write and that doesn't
exist on disk anywhere and whose
internals are incredibly hard to find
anywhere now you call a method on this
objects thing which is a manager and you
can go look up the implementation of
filter and see exactly how it works and
it's very clear where it comes from so
we merge all that in 2006 and this
change is highly backwards incompatible
highly highly it made a lot of change
this is what get tells me about it
twenty-two thousand insertions 15,000
deletions 339 files change I think it's
basically all of them is what is what
this is telling telling you here and
once again we got a little too big for
our britches and said hey we're almost
there this is you know once we fixed a
few bugs in this and then this inspire
to cut a couple of people including bill
to think hey after this merge Django one
point o can't be very far off I was two
years ago keep in mind two and a half
with with that working with some of the
cleanup a couple months later we
released Oh point 95 a formal packaging
of all the significant advances blah
blah this is the sexiest version of
Django ever and it was slicker faster
easier better so so this name Oh point
95 we were going to call it OH point
nine too but we didn't think we thought
the change was big enough we wanted to
say that we were going to you know what
we're getting there were getting towards
one we decided early on we weren't going
to do something silly like ODOT a
hundred so we only left ourselves a
couple of revisions before we had to
release a one-point oh by the by the law
of numbers honestly though in retrospect
this should have been called Jenga one
point oh this was the first release of
Django as you know it now if you
download 0 point 95 and start poking
around eighty five percent maybe ninety
percent will work the way you expect it
to we made some bug fixes a couple
months later Django point 96 which was
really nothing nothing big was just sort
of a cleanup from opal Oh point nine
five in retrospect we should have called
this one point one included a couple of
cool new features now in django Django
new forms the new forms library which is
no longer knew this is just Django dot
forms these days and in a sort of
embarrassing move it actually wasn't
until then that we had a test framework
as part of Django yeah that was one
lesson that we didn't learn from rails
from from day one rails has had a
built-in test harness and the culture
has encouraged people to write tests
Django didn't have a built-in test
harness until what was this until march
two thousand seven and as a result our
culture has suffered and testing in the
Django culture is not nearly as
emphasized as it ought to be and people
don't do it as much as they should that
point though we had wised up on
promising things so when someone asked
with a point nine six when will we
release one point Oh Adrian smartly said
it'll be done when it's done when it was
done was about 18 months later changed
at 89,000 now remember I'd said back
towards the beginning keep in mind the
revision from which Django was moved out
of from private to public it was about
revision 88,000 8825 I actually think
it's really significant that the one
point 0 release of Django is has roughly
the same amount of of change sets as the
first public release it really feels
like that's that's a way of it's a very
succinct way of saying that Django 1
point 0 is as much community developed
as it is as it is developed by any of
our core team it really feels like over
the past years the needle has moved from
the bulk of the code having been written
by Adrian and Simon and me to a lesser
extent to being written really by random
contributors all over
the world in the way that open source
ought to work and that was really it was
really neat to see that we sort of
stumbled into this this numerology as we
released one point out like I said it
took 18 months from 0 point nine six to
one point oh there were three just over
3,000 commits that doesn't count branch
commits so they were more there this is
what I was saying earlier thirteen
hundred and seventy of them were
directly direct from the community
patches taken as is and checked in and
probably another fifty percent of the
ones left were started as a community
contribution we had a 230 new people to
our authors acknowledgement file we
fixed over 2,000 bugs we made whole lot
of code changes we added forty thousand
lines of new documentation we had four
new committers now that we didn't have
10 point nine six was released and we
added a whole bunch of incredibly nifty
new features in one point oh not just
internationalisation support but full
support for using Unicode internally
this just makes dealing with
internationalisation a breeze one of the
other contributors Malcolm assisted a
while back with the internationalization
of pounce the now-departed social
networking site built on Jango and he
had said you know when he did most of
this Unicode work he had said you know
hey I think that it should be relatively
simple to convert an app from pre
unicode support to post unicode support
and when you do you know alternate
character sets will just work well turns
out that that's actually what happened
converting pounce was incredibly simple
and worked on a site that was running
without causing any problems so that was
that was pretty neat to see it was the
query set refactor work which finally
rewrote the internals of how queries are
constructed you can now do a lot more
with the ORM than you could previously
there was the second admin refactor
called new forms admin
jingle one point o ships with Gio Django
which is I think the coolest part of of
django by far and i get to say that
because i didn't write a single line of
code in it so I'm not patting myself on
the back in any way here if you haven't
checked that Gio Django take a look it
extends Django's support for relational
databases and add support for Geographic
databases and basically everything you'd
expect to work does you can do lookups
based on boundary boxes and contains and
are these two polygons above or below
each other and it supports British
chains and rods and inches and fathoms
you name it model forms a much better
way of doing data validation and sorting
them to a model Django's template
language now Otto escapes by default
protecting from sort of a whole class of
cross-site security hacks actually we
have some stuff going into 1.1 to
protect from cross-site request forgery
attack so this sort of started the the
auto escaping work started the theme of
Django should help people who don't even
people don't quite understand how these
things work it should make the default
bead to not be susceptible to them and
jingle when point 0 runs on Jai thon
thanks to Leslie here and and and Google
for supporting the Summer of Code this
was the Summer of Code project um help
shake out all the final bugs that
prevent Django from running on actually
really any other alternate vm the most
work was done by Leo Soto did the the
Jai phone integration but we fixed the
bugs that would have prevented Django
from running on ironpython and pi PI and
what have you so Django now runs on at
least for Python implementations that I
know of and we added a whole lot more
I'm just sort of given the highlights
there's a big release document the big
stuff that the big change that was made
in one point 0 and this comes with that
one point 0 label this is why I
mentioned earlier what one point 0 means
to us the big change that came is API
stability and forwards compatibility
Django 1.1 you will be able to upgrade
to it and you will get new features and
you're one point 0 sites will not bring
now we'll see how good we are at
delivering on that promise but that's
the goal we've documented pretty clearly
what we mean when we say API stability
we're not this isn't you know this is an
ABI interfaces we're allowed to add new
methods we're allowed to change the
meaning of old methods as long as we
support the old usage in some backwards
compatible way and we have a schedule
for deprecating features that we need to
remove they're there already are some
stuff that we're going to start
deprecating in future releases we also
have instituted a formal release process
release will releases will happen
roughly every six to nine months
depending on the scope and the ambition
of what we want to have in the next
release and we have a process for
supporting previous releases we've
already released one point 0 1 and 1
point 0 2 as we've been developing
django 1.1 and we have a process for
doing security releases and all of the
stuff that you would expect from a
functioning open source team we feel
sort of comfortable building the stuff
on top of 1 point 0 because it's a
stable platform so in last couple
minutes i'm going to talk really briefly
about what's next for django this is the
question that I get asked a lot and I'm
going to be deliberately myopic here and
only look forward about five months to
march when django 1.1 is released we
have a roadmap for 1.1 which describes
in some detail what will be in 1.1 what
we're working on i'll mention kind of
the highlights I'll also mention that
this roadmap was sort of developed in a
collaborative manner we we we had a
period when people submitted suggestions
we discussed those suggestions we had a
sort of rough voting period not exactly
voting but more trying to ferret out
consensus on various issues and the and
the the features that we shook out for
1.1 are roughly the ones that most
people want to see in the next version
of Django and will continue to do this
going forward so the idea is after each
release to collect feedback on what
being the next release try to prioritize
in as best we can and move on from there
so the big stuff that should be in one
point one is support for aggregation
inside the ORM this is another or
started as another summer of code
project which is great it'll look
something like this sorry I should
mention this is it's the work is being
developed on a github branch um freak
boy is one of the other core committers
to django Russ and that's where most of
the work is happening on it that in
related branches so this is what it'll
vaguely look like this is show me the
average price of a book as well as the
maximum prices of a book and you can see
that you can either you can either
specify a name that you want to use for
that thing or not these average and max
things or these aggregate objects so yes
you can define your own types of
aggregates for using built-in functions
and and anything other than that
yeah it should be yeah that should be
average good good call that's a typo in
the reason it's a typo is because in
reality those are floating point numbers
and they don't fit on a slide so I
truncated them the way that python won't
actually you can aggregate across
related fields so here is show me the
sum of all of the books that have an
author here's some other stuff you can
also besides just returning values you
can do what's called annotating which is
annotating a aggregate on to an existing
query set so here I'm looking up all the
books and I'm attaching to them a field
telling me the max age of all the
authors attached to that book so this is
vaguely what what that will look like
there you can also do more complex stuff
this is this is show me all publishers
who have more than one book ordered by
the most number of books you can see
that when I annotate a query set I can
then use that field in the next queries
this work is nearing completion it's
sort of in the shakedown all the bugs
phase this was close to done for one
point oh we just decided it was too big
a change and to potentially potentially
destabilizing to check in sort of the
last minute if this is something that
you've been missing in Django and a lot
of people have I'd really encourage you
to check out the branch try it out see
how it works and and please report bugs
we'd like to check it in to trunk
actually working and not have to fix
bugs after the fact so the more people
we get sort of knockin the tires the
better along with this will improve
query set that update a little bit at
long-standing complaint is it's hard to
do stuff like you know update every
person and increment their age that's
you have to write ross equal to do that
right now which is sort of annoying so
we have a syntax which will look
something sort of like this which you
have this filter this a field expression
thing which you can use to update this
would increment everybody's age
we'll also add we're also working on
support from model validation which will
work similar to the way you validate
forms right now if you if you stick
invalid data in a model and save it
you'll get a direct database error if
you know if you put a string into an
integer field or you put a negative
value into something with the constraint
you'll get a all the way up from the
database will probably add something
similar to this validate equals true and
and also a model not validate function
which will perform a similar thing to
what forms do and check that the data
saved on the model is actually valid
work on this is taking place in a series
of patches so if you want to check it
out you can play around with it my
personal pet project is rolling this
neat little third-party project into
django django batch admin lets you
define actions and check boxes and you
know perform bulk actions in the admin
it's relatively simple ought to be built
in very useful you can use this batch
admin thing right now if you want it
before 1.1 but i see no reason why it
ought not to be the the built-in we're
also going to introduce class-based
generic views this is another this is
also my sort of pet thing this is
another instance of replacing a more
declarative more imperative style with
the more declarative style so instead of
generic funk generic views being these
kind of weird functions that you call
and have a whole lot of arguments
they're just classes and you subclass
them and you define the fields you want
to use on them and it kind of just works
again there's quite a bit more and we
need help we have large ambitions we
will not get all of them done this is
how open source gets done so if I didn't
mention something you want to see in
Django this is where to start and I
really appreciate both your time and
knock wood your help thanks a lot
you
Oh</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>