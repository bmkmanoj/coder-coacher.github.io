<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Urbi: a new parallel &amp; event-driven script language for robotics, games and more | Coder Coacher - Coaching Coders</title><meta content="Urbi: a new parallel &amp; event-driven script language for robotics, games and more - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Urbi: a new parallel &amp; event-driven script language for robotics, games and more</b></h2><h5 class="post__date">2008-07-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FFLiIu2PtHQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody thank you for being here
today
JC is the founder and CEO of Costa a
French startup and he's going to present
the Irby framework let me just remind
you that this talk will be on YouTube
and as such please nothing confidential
thank you ok so thank you everyone for
being here I'm going to talk about the
Irby script language mainly and in
general about robotics which is the main
application for Irby and as such I would
like to start with a little bit of
background on where we come from what is
cost I and what I'm doing there
we're coming from academic research I
did a PhD in a Sony Computer Science Lab
where I first discovered robotics and my
main interest was in artificial
intelligence so trying to make this
robots more lifelike interesting
surprising and so on so that's where it
all started when I had to program this
robot in particular and then later on
all the types of robots and I discovered
that it was very difficult to do so
usually with C++ and traditional methods
of programming where you had robots with
tens or hundreds of models that you had
to control and all those things in
parallel and react to events and all
those things so I decided first builder
B as a way to make these things easier
so with clear focus on simplicity
because I had students there that at
that time that were coming for two
months internship and they were spending
one month knowing how to move a motor of
this robot so that the first focus was
on simplicity and the second was was the
second one was on flexibility so trying
to make these tools as flexible and
usable with any other technologies that
are currently used in robotics or other
domains in general these are the two
historical keywords that we kept as I
founded the company two years ago to
roll this technology into a product and
then try to address the current issues
of robotics but if I try to summarize
what is there we I think we can go
beyond robotics and say that it's
basically a platform to handle complex
and parallel systems which includes four
things that I'm going to describe as I
said with the clear four
on the language but also not only
there's a component architecture which
is called you object that allows you to
connect components to Irby and extend it
basically so I will come again on that
later
there are interfaces I will not talk
about that whether our interface is to
C++ Java MATLAB that's already we have
so far but there is no issue to
extending these to Python or other
languages there's the language that I'm
going to talk mainly today about and
Irby studio ide maybe I will have time
to make a demo so I show you what we've
built on top of RB has higher level
abstractions to develop behaviors for
robots or maybe also to for video games
there is a clear connection between the
two domains so just to set up the
landscape the idea of RB is to try to
make all robots compatible and easy to
program and to use so that's the the
focus of the company there are maybe you
don't know that but there are hundreds
of different robots coming on the market
mainly from Japan Korea but also from
the US all for Europe from Europe and
all these robots actually completely
incompatible on top of being very
complex to program most of the time and
ever be as an ambition to try to make
all these robots speaking the same
language if you want and making the life
of programmers much easier so that's the
the ambition ok so let's have first a
quick overview with a typical sample
program from RB that is kind of
summarizing what you what you find that
is reading you in the language and that
makes it interesting I'm talking about
the herbs people anguish so it's a short
video and I'm going to make the live
demo at the same time so the idea is a
very typical behavior for robot you have
ball tracking so you have a robot and
you want it to follow a red ball in the
image there are of course many ways to
do that the point is not that RB is the
only way you can do such a thing it's a
very classical example the interesting
thing is how you do this and so in terms
of productivity how fast you can do
things how easily you can
so this is the example of the the
smaller B script program that is making
this behavior happening which you've
just seen so I'm going to run this thing
here so you see this is how it works so
o is very interested by the red chairs
there so it's basically detecting the
red color in the image there's nothing
interesting in the vision processing of
course that's not the point so as you
probably have understood by reading this
the idea is that you have a script here
which says whenever I see the ball I'm
going to move the heads toward my head
towards the ball that's the basically
what you can guess from what you read
and if you look a bit more into the
details there are three things that are
illustrated in the script that's why
it's a good example to start there is
this whenever thing which is the
illustration of how one of the ways you
can do even programming in RB basically
says whatever the condition is true
execute the code behind below in a loop
and as long as the condition is true do
it again and when it's not true you stop
doing that and when it's true again you
do it again so the idea is that it's
like a while but the big difference here
is that is it kind of detach itself and
run in the background and it's always
there ready to fire whenever the
condition is true so here you have
clearly even based programming you react
to events we will see in another slide
that other tools to do even programming
in Derby but you have something also
that is implicit here is already its
parallelism because if you have hundreds
of whenever like that in your in your
code and if they trigger at the same
time because the condition is true well
then the code has to execute in parallel
of course that's the obvious clear
requirement so what you have here is
implicit parallelism and what you find
in this example also is explicit
parallelism with this end symbol here of
course you recognize the semicolon which
has the traditional meaning of you know
a sequence or ordering of commands but
with the end symbol you can basically
say that you want the two pieces of code
to be executed in parallel of studying
exactly at the same time so that's
exactly what we want here
the headband motto is this this guy and
the helmet or is this guy you know and
we want them to move in parallel we
don't want they had to do this but when
they had to do this well yes he agrees
so the point is that we could have put a
semicolon but the idea is to express the
fact that we want those two movements to
happen at the same time the third thing
that is extremely important that you
have to remember is the fact that the
language is extendable with clear
connections to C++ so if you look at the
ball object here of course it's an
object in RB script so it's an
object-oriented language you can define
objects and so on but in that particular
case this object is written in C++ so
you write the C++ division algorithm you
know basically to detect the ball in the
image extract the red pixels and so on
doesn't matter you write this in C++
because you expect speed and you expect
this to be very fast and then you plug
it inside RB and so you have your object
which is in C++ that appears in every
script and you can start to use this
object inside your scripts and make it
interact with other objects in power in
the parallel or even driven way so this
is a very important thing it's called
you object so it's a library in C++ you
take you or you see your C++ class your
favorite class you make it inner it from
you object you do one or two changes in
the constructor so it's really simple
things you do and then once you compile
it you can plug it in in Irby there's a
second way by the way that you can
product the object with a just mention
here is hard linking to the interpreter
of the language but you can also unplug
it and run it as a remote process that
will be running on a remote computer and
we'll do the connection over the network
and all these done transparently so you
don't really care or you don't know
where the board is inside the robot or
inside the application if you want to
extend that to other domains or if it is
running on the remote computer which can
be running Linux Windows or whatever so
oh thank you mr. robot the idea behind
this is that herb is an Orchestrator
that is going to call in eight
components as I just said so
c-plus
those classes that you have plugged and
make this job of coordination in the
event even based and parallel way in
that sense it's very close to the
approach that you probably know about
video games well you have more and more
today typically this is the example of
World of Warcraft you have a view a
script or you have another scripting
language like Python also that is used
to script the behavior the logic of the
game so what the game is supposed to do
to express the high level things about
the game and on the side of course you
have C++ for rendering pathfinding
animations and so on and so you clearly
separate the logic on one side which is
the job of a script language and heavy
duty calculation which is handled by c++
or something else this is exactly the
same approach we have with a be the
difference is on the script language
side we add some capabilities for
handling parallelism and even base
programming of course inside there B as
you can guess there is a there's a
scheduler that is capable of scheduling
all this command in parallel so it's a
little bit like a small operating system
in the sense okay now this is a reminder
to summarize the the what I just said
about you objects and so on the thing
you have to know also is that the
classical way of handling an interaction
with derby is to open the circuit and
you know it just operate n net to the
robot or through your application so
it's your client-server architecture you
open a connection and you send some code
that is executed this brings a lot of
flexibility that's how you can connect
anything too early and connect your
existing programs or you graphical
interfaces whatever you like to the
domain
control system and so as I said you can
have link some new objects or you can
use a tcp/ip connection here to use some
remote new object in C++ for the remote
mode we also have support for Java which
is a an extension we plan to add more
languages in the future and the other
one supposes Java MATLAB is through the
library which is basically a telnet
inside your favorite language with open
so sockets sends commands and pass the
result of the messages that you get in
return
okay so as I said I like to focus on the
early script language I think this might
be interesting for you and like to have
your feedback also on this since we
mainly evolved in the robotic world I
think this is interesting to see what
you guys may have to say about it
the main facts about every script you
already see I made the distinction
between therapy which is the platform
that they include you know you object
and also some tools and so on and the
language itself which is at the heart of
it but so the language itself is a
dynamic script language as I said it as
parallel and even driven semantics
embedded in the language the object
model is inspired by IO and self so it's
on the you know the script language side
is very similar to things your family
are too I'm not going to talk about that
it's what you expect more or less and
what is really new and interesting is
the pollen and even driven things as I
said also it's very important to
understand there is strong binding to
C++ of course you cannot write
everything in Herbie it doesn't make
sense in the script language so you need
to connect it to other languages another
point that is very interesting and
important is that it's in easy syntax
that is inspired by known languages so
the learning curve is not like you have
to learn a completely alien stuff you
know it's a family of thing except for
the new syntax that endures parodies are
more or evens so there are I think to
start with is to mention the four words
that exist in every two separate
expressions evaluation so as you have
seen already there are two that we have
seen in the first example the
traditional semicolon and the N symbol
and actually there are four ways so
there's also a comma and a pipe so let's
have a look at what they do exactly the
semicolon is doing just like in the
middle anguish the classical thing so
you have a and later on when a is over
you start to do B but there might be a
gap so there is no guarantee in the
semantics and the particular if the
scheduler wants to schedule B later
because there are some other things that
are more important to do it might do so
if you want to prevent that there is
this syntax a pipe B
which basically means that the end of a
is is going to be connected to the
beginning of B and there should be no
gap so it's a way to make them as an at
home of execution and you cannot the
scheduler can not split them and put
something in between this is very
important in robotics when you want to
coordinate movements of the arm of a
robot for example and you want to
specify the things should be following
exactly one another so these are serial
operators on the parallel side we
already have seen the a and B so the
basic basically it means that a bit
should start exactly at the same time so
it's a very strong constraint again very
useful for specifying things in robotics
and you have the a comma B which
basically while you see the idea it's a
gap again so it's kind of loose version
of the previous one the intuitive
understanding of what it does is to put
a in background so you have a big thing
that a is doing like it's taking a lot
of time and you want to detach it so you
don't want to block the flow of
execution
instead of putting a semicolon you would
put out canal and then it's going to
basically detach it because even if it's
not over and if you throw a B after that
B is going to stop as soon as B is ready
is going to stop so it has the you know
imp well intuitive meaning of detaching
it's not exactly like the touch but this
is going too much into technical details
and maybe if you want we can discuss
that later with questions so that's
about parallelism and even base for
parallelism and that's about even based
programming now three example so we've
seen already whenever there's only if
construct that says basically when the
test is not true then execute something
else you may think of it as a while that
is detaching and executing a forever the
little drawing illustrates the idea that
you're going to loop a and loop B as
long as the test is true or false and
you have the more which a
state-transition version that more even
based version of whenever which is at
and at a test B is going to execute
a only once when the test becomes true
switches from false to true and you have
an else construct to say what happens
when the test switch is to force again
so these are two very basic you can
think of it as a if that is detaching in
some some sense so these are the two
basic tools that you can use to program
events in inner B there's another one a
very simple one which is wait until a
test as you can expect it's going to
block until the test is true and then if
you do a pipe remember there shouldn't
be no gap in between so it means that
pipe a means that a is going to execute
right after the fact that test is true
again so this can be used very easily to
make some synchronization points in
several threads of codes you want them
to stop all waiting for some condition
and as soon as the condition is true
they will all start exactly at the same
time in in parallel
well what and me by exactly at the same
time as you can guess is a little bit
complicated but the idea is that it's
going to start very quickly at the same
time depending on what support you have
for multi processors and things like
that on the side of events also you have
constructs like pure events that you can
omit like omit my event
omit my event with some parameters that
you attach to the event so later on you
can catch this event with the add for
example or whenever and if you want to
get the the value of the the parameters
of your event if there are such a things
you can use these syntax to say that you
want to instantiate x and y and then use
it in the code that follows the even
catch up you can of course also filter
based on this so you can say at my event
1 and s means everything that starts
with 1 and anything else afterwards so
this is a tool that you can use to
filter based on certain values on the
event parameters you can omit an event
for certain duration so evens are not
just points they can be things that last
for a certain time you can have this
type of constructs which are extremely
useful and maybe something very
fundamental in the language
think which is every two seconds execute
some code here again you have implicit
parallelism
if the code that you have behind is
lasting for more than two seconds it's
going to superimpose to itself and there
is no problem with that it's it's
completely and all by the language a
typical example is two person an event
here every two seconds emit my event so
that's illustration of well some of the
things you can do on the even side of
the language okay another thing is this
very useful construct for robotics the
idea here is for the first line neck
equal ten time 450 milliseconds you
should reach the value 10 starting from
wherever you are so in the example in
the upper right side you see that it
starts from value -2 and you do this in
a linear way and it takes 450
milliseconds so this is generating a
trajectory and the assignment lasts for
that amount of time lasts for 450
milliseconds so if you put 10 things
like that one after the other it's gonna
take 4.5 seconds well you get the idea
that the duration of the the assignment
is a real thing and if you want to
detach that you should end it with a
comma so that your flow of execution is
not impact by the duration
another example here is leg while you
use the speed modifier to assign a
certain speed to reach the value and the
last one is an interesting one it just
oscillates around the value of 14 with a
given imputed and a given period for
seconds so this of course never
terminates
so it's think of it the equivalent of a
while true so you better end it with a
comma
otherwise your program ends there and
that's the thing that's going to be
executed I say your program but you must
remember you can open many connections
to the same robot so there's no such
thing as the program there are hundreds
of different pieces of code running in
parallel that's the way it's usually
done in applications with RB so of
course this is very useful for robotics
I'm not sure it's useful in general but
for robotics in the enables
design complex movements for robot in a
very simple way so as I said you should
use the comma at the end this is another
interesting thing the blending mode so
you have a way to say what happens when
you are accessing the same resource at
the same time so you're trying to assign
different synthezoid all assignments to
the variable X so what happens so you
have the classical way of detecting
these things so you have a one only that
can access the resource at the time so
this is a blend mode equal queue but you
have other types of blending other types
of blend modes available like mix which
is basically going to make the average
of the concurrent access to the variable
which could be used in a robot for
example as a way to superimpose signals
thank to the same motor that comes from
a Fourier transform for example that you
know will reproduce a poetic signal and
it's an easy convenient way of doing
this and in general I think it's
something we're still working on it's a
very difficult topic as complex and but
it could be an interesting way to be an
alternative to mutexes and have a more
general vision on this because the
language knows about concurrent access
so it has some smart way to handle it
and it's not always the only thing you
want to do which is to queue or have a
you know an arrow that this room there
could be some other cases typically in
robotics where you want to mix those
things and make sense of it ok and the
last thing I want to talk about is maybe
it deserves a big screen because it's
maybe one of the most important feature
of Irby and maybe the most significant
and most original one of all is the tags
the idea is extremely extremely simple
it's the fact that you write some code
and you detach it so maybe I should use
a cone instead of a semicolon my example
but then you name it so you put the tag
in front of it so you use my tag
whatever you want and then later on in
another part of your program or when a
certain even trigger so what I don't
know when but you can at any time stop
this piece of code if it's not already
stopped so it's still running by using
my tag that stop which is going to stop
this code you can also freeze it so you
tamper already stop the execution of the
code and then later on you can unfreeze
it so it resumed where it was and so
this allows to really give the Irby the
possibility to make his job as a novice
trader and do its job as you know
starting this you wait you start and
when that happens you do this and this
in parallel and so on so it's very
important it's a very important feature
that you can name your code when it's
running in parallel because if you think
of it when you start to have hundreds of
threads you want to act on these things
you have to objectify those lines of
code so that you can handle them later
on and we plan also to add more things
on the tags capabilities not only to
throw a stop freeze and so on but also
to control the level of priority too so
to interact with the scheduler and so to
use these tags to be the point of entry
to act upon the code that is running so
there are a lot of things we can do with
that including also debugging features I
will show you some example the tag the
tag knows when the code is starting and
when it's stopping and this can be used
to signal interesting information by
emitting events that you can catch and
that you can integrate a new program
there's also a feature that is
hierarchical tags so you can structure
my tag dotsub tag that sub sub tag and
using this you can have more elaborate
ways of organizing your code into three
and of course if you do my tag dot stop
you're going to stop everything that is
my tag dot star so anything that is
starting with my tag and so you have a
tree of tags and your code is is
cleverly put at different levels
depending on where it should be this is
a very very very useful tool the last
thing about tags is when you stop the
evaluation of an expression why it was
supposed to return something why it was
supposed to evaluate to something so if
you don't want it to evaluate to void
which is what is going to happen if you
use the first syntax I shown you can use
my tag that stop and
the value as an parameter so this is
going to stop the evaluation of the
expression and return the value it is
very important and useful feature for so
okay so let's start VI if nobody is
against it and we're going to see some
code samples how much time do I have the
thing we can afford that
because it might be a little bit long or
maybe I'm going to go quickly I want you
to show you some real code examples
because this is the main ideas I
explained so what makes RB you approach
something interesting
yes we've designed a new language which
is something like a heresy we should
never do that but I think we really had
appointed on making this language and
embedding these abstractions on
parallelism and even based programming
that I used every day all the time in
every program you do in robots and I
guess in many other domains so the idea
is to integrate this abstraction in the
language and so that that's the the
reason why it was maybe not such a bad
idea to design a new language but I want
you to have a look at what it looks a
real example so this is how it's
happening when I interact directly with
you know I tell it to the the Irby
engine and get this this line so I'm
creating a variable and evaluate it what
you can see on this is that the value is
returned with something before we call
it the header and it's the time it gives
you the time when the value has been
evaluated again this is absolutely
necessary in robotics when you ask for
the value of a motto you don't really
care of the value if you don't know when
it was this value was true the other way
that you can also well the other feature
that we need when we try to really use
it with the robot is the notion of
channel so this the last line it's a
simple way to attend to the header it's
a string that will help you on the other
side on the client side will help you to
sort what you get according to what you
have requested before imagine if you
request the value of the motors of this
robot I think there are 20
Oh 24 something anyway you get a lot of
streams of value back to your client and
you don't know which one is the lag
which one is the head so the idea is to
use these channels to sort on the other
side based on the channel name and then
dispatch to the appropriate code that
should end the value so these are very
practical things that are useful and
necessary when you really use the system
at least in robotics
mai-chan yeah this is an example I just
mentioned before of the tags used as a
debugging tool the syntax may evolve we
are still working on the syntax itself
but the idea is that you can have some
tags that are customized if you want so
that they can send a stream and send the
string amid some message when the code
that they are attached to is starting
and when it is stopping so that's what
we did with the begin and end tag and so
basically you have this kind of things
when the code starts at some point you
get this message with the the tag it
belongs to the main tag as a header as
part of the header so think of it as a
customized Channel but anyway you get
the information that it begins and it
ends and this is extremely useful to
design applications that monitors what's
happening in the robot so designing
debuggers it's a very simple idea again
but it's it's proven to be extremely
useful some other things interruptible
functions so this might be a bit strange
but the idea is that when you enter the
function you put some ads that says well
if the value of x or whatever you want
actually happens to be dead and
interrupt whatever you're doing and
return that as an exit value and that's
it then you do your calculation you
manipulate X and you whatever and this
function is supposed to return X plus X
plus 1 x 2 so that gap goes very well
for 1 and 10 as you can see but 41 it
gets somehow interrupted at the second
stage because 41 plus 1 is 42 so the ad
which is always running remember it's in
the background
interrupts the the execution and returns
a value at that moment so this is very
convenient for shows the the case of a
negative value so this is a way to have
interactive all functions and to and all
some unexpected events or whatever you
want
another thing is well the use of lambda
function so you can well it's just to
mention that this exists in a language
you can define functions like a function
that takes no name but one parameter and
returns the value of x plus the value of
the parameter and then well you can use
this kind of function and apply it on
the the on the list so this is basically
to show you what is the family of the
language what kind of taste it has it's
nothing new again there's nothing
particularly original but it shows you
the look of you know what you can do
with the syntax what is this so this is
a well lazy evaluation of parameters for
function so you get this function is
very simple it just executes a block of
code until a certain value gets true so
the function just evaluate the second
sorry
the second argument so yes and while
it's not while the first argument is not
true then it carries on they execute it
again so it's like a loop but you have
written it in pure B so what you see
here is lazy evaluation so you can take
an expression that is transmitted to the
function as as a parameter and evaluate
it later on so you don't have the value
of this expression on the right but you
have the expression itself once again
this is not specially new it's just to
show you what you can do with the
language so transmitting expressions and
evaluated functions and that this can be
used to redesign your your language in
some some sense this is an interesting
use of tags to show you what you can do
with it so the idea is that you are
going to define a function that
execute the what yeah it's accused the
first argument but it's going to be
interrupted after the time given as the
second argument so when the second
argument is when the time exceeds the
second argument is going to stop
whatever is happening is going to stop
the execution of the code so you can
think of it as a timeout so timeout some
time and you put some code that is going
to be executed and it has some limits of
time to to run so we define the local
tag t so we use it then to store the
whole program that well the old content
of the function and we do in parallel as
you can see with the n symbol we're
going to do two things in power evaluate
the first argument which is a what is
inside the stop parameter that you see T
dot stop and at the same time we are
going to sleep for the time given in the
second argument and once we are over
sleeping when it's over we're going to
stop T and so this returns void but if
the second one is well if the the
argument one is finishing before the
time given in the second argument then
it's going to be used as the value to
stop T but we turn that value at the
same time remember T that stopped and
the value stops T and returns the value
as a result of the evaluation of
whatever was tagged by by T so this can
be used as this example so we we sleep
two seconds and we have three seconds
time so it's okay it's going up to 42
but if we do the opposite we want to
sleep two seconds and but we have only
one second of time then it's returning
void interesting use of tags and local
tags that are local to your function
this might get a little bit complicated
but the only thing you have to look at
here is that we have a function f that
takes the tag as an argument so you can
pass the tag to somebody that knows
nothing about yourself
and it is going to be able to interrupt
you because he has a tag that you can
use as a handle to to do something so in
that example the function f basically
returns the square of X but if it's 42
then 1o is
abort and return 42 instead of 40 to the
x 42 and so this function is called to
do the multiplication of a series of
value inner in the list but if ever you
have a 42 in your list and it's going to
stop the execution and return the
current multiplication of the values up
to the 42 number so that's an
interesting way of giving a handle to
another function so that you can kill
yourself I'm not sure it's a good idea
but it illustrates what you can do by
transmitting tags as a as an well tags
are regular objects there's nothing
special about tags you can do whatever
you want whatever you usually do with an
object so this one is I don't think I
have time for going into these details
what is interesting in this is the
notion of closure so you see that this
function returns a function so then this
function can be used later on so I'm not
going to talk too much about that I
think we're running out of time this is
now things a way to watch futures it's
very easy to detach the execution of
some you know heavy calculations like x
and y in that example do some stuff and
then put a synchronization point where
you wait until there is something inside
X and something inside Y and then you
carry on so this is this is not futures
exactly because you should do this
transparently so you use it you use x
and y and whenever there we needed it's
going to block but you can see how you
can build this because you can loop the
execution of hook the get methods of X
so that whenever it's really going to be
used it's going to block until it's
really defined so this is an interesting
way of doing this classical problem ok
so that's it for the B script language I
would like to show you a little bit what
we do on top of our B as development
tools basically graphical development
tools and the main thing I will show you
is the
finite state machine editor the
hierarchical finite state machine and it
all that we have which is again a very
typical way of describing behaviors from
robots so this is part of what we call a
bee studio which is a suit of a list of
applications that you can use to design
we have your design animations for robot
simulate them in an environment or
simply create a lab to interact with
your robot in an easy way so this is the
application so I think I'm gonna do a
demo it's very risky but I'm not afraid
so what you see here is a hierarchical
finished state machine so every single
node that you see is a small piece of
Ruby script that is doing something
useful for what a simple elementary
action attached to this node like
looking for the ball or following the
ball whatever and the arrows that you
see are transitions that are attached to
a certain condition whatever condition
you want so the idea is that you execute
the code inside the node and when the
condition becomes true we'll jump to the
next node that's it and you have a
hierarchy code description so you can
have one node which is itself described
as a subgraph and so on as deep as you
want the thing is that I think the
interesting thing is not this approach
it's already existing for many years
hierarchical fisted machines you will
find hundreds of different applications
doing that the interesting thing here is
that this program is generating our B
code so it's a code generator and what
you see is just a way to represent your
program
in a convenient way instead of having a
series of lists of files you will
present it in a fan in a way that makes
more sense
regarding your application and the
interesting thing is since it generates
every code there will be a lot of things
that you can do while the program is
running by interacting with the robot
stopping some parts and monitoring some
values and so on and some also due to
the client-server architecture well you
can have maybe five or ten persons
connected on the bottom checking so
different aspects of the the program
running this is very very flexible and
very so let's try to do
I had a video but I think it's better to
do a real thing yeah we are so here we
are executing this init node which is
basically making the robot stand up and
we are going to jump to as soon as the
walk is ended we're going to jump to the
signal here's the code so it's a very
simple code that is looking for the ball
so it's going to probably find the the
chair as being a ball so let's do that
so we found a ball okay so now he's in
this big node and basically is trying to
keep the distance with the ball so if I
want the robot to fall now I just have
to do that I won't do that but so what's
happening here is you see the transition
in real time the way you can see that is
because every node is in fact enclosed
in the tag that you monitor you remember
the beginning and so the application
knows when it starts and when it stops
maybe it will stop now okay so I can
speak so the idea is that you can see in
real time what happens because you are
in the client-server kind of interaction
with the robot and you get the messages
and what's going on and the interesting
thing is that well maybe I should detail
what's happening while it's seeking the
ball when it sees the ball then it box
you see the green node is the start node
everywhere where you have a green node
it's why it starts so it starts by
barking and then it goes to keeping the
distance which is a very simple you know
every line that says I loop the fact
that if the ball is too small the way
through is too small and I walk for
three seconds all the while I wait so
this is keeping this tense if I move the
ball away from the robot is going to
move I walk towards it and this is a
chunky ball basically the expression is
here you see no here up basically it
says when the angle of the head is too
great greater than fifty degrees then it
has to turn his body towards the ball so
if I do that
here he's going to turn his body towards
the ball there's a lot of red things in
the the landscape so it's disturbing is
a ball detection but anyway you get the
idea and if I if I hide the ball and
it's going to walk again and seek for
the ball again seeking is just two
things that happens in parallel turning
the head around and after if we have we
don't know seconds turn my body 430
degrees these things happening in
parallel and guess what it's done with
the end simply and so you have a
parallelism inside the node because it's
written in RB and of course polish them
at the level of the node because it's
impossible the robot is moving all the
way so I'm going to do something I'm
going to stop it so let's do this it
stopped so how did I do that
just press the stop the pause button
here and as you guess there is a tag
that is enclosing everything that is
generating all the code generated and
when I press this button is just doing a
tag dot freeze which is temporarily
freezing everything inside so the
problem in that case and if I press play
again the robots is then following the
ball and doing the two behavior gap so
well stop it
what else to say well yes you can you
know it's what you expect you can have
happy eyes like it's pickle behavior
that we have predefined and you can
connect it well you cannot have anything
before in it so it's a stupid thing to
do but you can connect it I don't know
somewhere here and you can design like
that your application very easily we
will add also the fact that you can of
course run several graphs at the same
time there's no problem doing this and
you can very easily build more and more
complex behaviors that you enclose in a
big node and use as an element or in
your later on okay so but the
presentation of course everything we do
is going a run cross-platform on Linux
Mac
or windows so this was the video I'm
gonna skip it I can't skip it yes I can
okay the the other application it's very
very classical thing also it's a
animation generator so every line you
see here is actually available which
happens to be motor in that particular
case and then you assign some movements
on every moto this is a timeline what
you see on the x-axis and you can have a
solution you'll pass and so on you can
also recall so if you press the record
button the little red thing here then
you will move your robot 3d and it's
going to record the series of position
then you get a series of point that you
can edit to customize your movements and
so on the interesting thing here again
the original thing is that it's
generating our B code of course so you
can import this as a node in a previous
application for example or simply share
it with friends or whatever so it's part
of the suite it's integrated in the Ruby
studio to make life simpler when you
design animations and this is a very
nice program or switzer B lab so the
idea here is that you can drag and drop
some widgets and have them I don't have
time to make a demo I think okay well
the idea is that you type the name of a
viable and then depending on this type
is going to appear as a slider if it's a
real number or it's going to appear as
an image if it's a video or it gonna
appear as something else depending on
what it is and then you can move this
widget wherever you want on what we call
a layout save this layout for later use
and and then use this as a way to
interact with your robot or your
application again I don't think this is
necessarily limited to robotics you can
add buttons also so when you press a
button you can add the script that will
be a script that will be executed at
that time or when you release the button
so you can redesign a remote controller
if you want for your robot and again
there could be five or ten people
connected at the same time with the
specific controller to look at specific
things on what's happening on
exportable contracts application okay so
just to conclude I said something very
ambitious at the beginning we want to
make all robots compatible and make them
speak the same language so where do we
stand today it's been two years that the
company exists the technology I started
it I think six years ago so where do we
stand now basically we're 15 now 16
different robots there are 14 on the
picture so there are about 15 robots
already compatible so I'm sure you
recognize some of them if you have seen
that there are a lot of people
interested in Lego in Google so we we
are compatible for example with the leg
of mine stone with the now robot which
is replacing the the iboot to the rubber
cup a fantastic french robot by the way
look a lot of robots from Japan the AIBO
of course historically Korean robots
Canadian robots robots for university
and so on Wow this HR Picchu which is a
human sized robot basically we can run
with any robot that is capable of you
know accepting C++ compiler code so
that's the idea we also have partnership
with companies that develop this very
typical technologies that are needed in
robotics and in many other domains like
a voice synthesis recognition object
recognition face detection and so on and
OpenCV interfaces and recently
localization to have the robot knows
where it is in the in the room so these
are of course you objects the things
that you can plug in or be and various
objects and you can meet Li script them
and use them in few application as I
mentioned there's this company Aldebaran
robotics which is selected to replace
the I bow to the Robocop Robocop is up
early you know but it's one of the main
event if not the main event of Robotics
every year that you know you have robots
playing soccer and this is a
the test for university is to measure
its themselves against each other for
developing the best AI to have robots
cooperating and and winning a soccer
game so this is going to happen in China
in a few days now
this year and these are be inside this
robot and there's also an online
competition which is a robot Stadium
which is going to take place there well
a lot of people you think so just to say
that there are various people using our
before very complex applications Robocop
is a as a big challenge and they are
developing very complex the code in
terms of community there is a website
called a report where you can exchange
with people there's a forum and all the
things recently we also have started the
dev blog to talk about more technical
issues and when we talk about the
preview for example on rb2 this was more
or less will be 1.5 that we've seen not
exactly some parts were already taken
from only two but basically we're gonna
really be too soon there's a road map I
think that's the last slide and you can
download there before most of the robots
you've seen before on our download page
for free so that's the road map we had a
technical preview in April we are now
running for the beta in September and
hopefully early 2009 we will have the
version of 2.0 working the big
difference with the current version 1.5
and to 2.0 is the coloring which itself
so the way objects are represented and
all the things so that's the big
difference for example everything is an
object into the zoo were 1.5 was not was
built for many years with layers and
layers and layer so we have redesigned
the core language into tons you which
makes it I think interesting because it
gathered the more the experience of many
years of language design that exists
today in the world and some new ideas on
pollination and even base programming
and you can test it right now I think
it's it's working you can go on demo
that go stay calm it's a work in
progress but you can go there and you
Rochelle and you can start to do some
where we code and type it and test it as
you want of course if you want you can
contact us and we can give you some
versions and listen about your projects
and see what you would like to see in
terms of features and so on
so to summarize it's a parallel even
based coordination language that is the
ambition is to be a small piece of your
application that is coordinating the
rest you're not going to write
everything in Herbie I think maybe a
typical our big project will have only I
don't know five 10% of every code maybe
the rest being C++ and other things so
it's perfectly normal that is its job in
Aston capitalist capabilities to monitor
ongoing parallel code we introduced the
idea of tag based debugging features and
we will work a lot on that to improve
and integrate it with the graphical
applications that you use in which is
called a beat studio I think that's it
and be happy to answer your questions
thank you very much yes exactly what you
mean okay so the key thing is that of
course we don't spend all the time we
evaluating all the time there are hooks
that are the diversion is passed
whenever we see viable we say to the
bible's hey there is somebody that
integrates you in the expression that
calculates this trigger so please let
him know whenever this is a chant
whenever you are changed so that you can
reevaluate so in principle you can have
as long as you remember you can handle
it you can could have a
thousands of at if there are no reason
through revered we did them so it's not
going to take well the new object the
library you have something called you've
R which is an object inside that enables
you to make a bridge between your C++
code and B so whenever you have a X cube
are within your you object is going to a
parent as a member X in your object and
it's going to know about in both ways
you can be notified whenever X is change
on the occipital suicide and of course
every knows whenever you change
something in X so this is completely
integrated and in particular with the
the hooking mechanism I mentioned before
so you should not have to worry about it
but if you do some pure C++ things and
it knows nothing about it and you
there's no miracle of course yeah it's
the difficult question a lot of robot
company listening it depends on your
budget that's the first question some
well the price range is from two or
three hundred dollars to two or three
thousand or even more for research
robots so I think I've seen you have a
lot of Lego that should be the example
Lego Mindstorm there's also the below it
which is the more maybe more motto stand
trait approach where you have motors
that you you know math symbols know if
you could know this it's natural but if
you have also if you can wait
beginning of the year there will be this
humanoid robot from Doubront
which is a I would say a bit like the
eyeball in the sense that it's complete
robot with a lot of capabilities and by
the CPU and so on but I'm sure I'm
forgetting some very
interesting robot so there are a lot and
that's a good news and we believe that
it's the beginning of a big industry by
the way that's why we're doing all this
we think that there will be a robot in
every home maybe in three five years I
don't know that's the idea so you should
not have a problem to find out the basic
business model is om licensing so when
the robot manufacturers wants to embed
Irby then we make a deal so that he can
have his well there'll be engine inside
the robot but we're also working now on
applications this is the next step I'm
not going to talk about it right now but
we're working out on building stuff on
top of Herbie
so that well if you had an engineer or
hobbies to somebody with somehow is
interested in programming the robot you
can have access to very nice
applications that are based on RB and so
that's the next step as I said you have
to contact us but we are going to
release some free available versions for
everyone but this isn't in progress so
it's the answer is there is no problem
just contact us and we'll go and give
you everything you need especially if
your university or club there's a free
academic and cap support program or
provider before universities if you're a
business interesting interested in using
early in the application you develop
then just contact us and we will make it
smooth but the goal is of course to have
a free version over be available if
possible depending on the business model
in particular but this is a for
non-commercial use typically that should
not be an issue
and is there important or anything like
that
so the question is whether our B is
running inside the robot or not is that
correct
that's okay well the answer it depends
on the robot for example I cited a few
robots like viola weed or mine stone a B
cannot be inside so we ever be on the
remote computer and I'll be remote
controls the robot for more advanced
robots like the eyeball or the now robot
for example then everybody is inside and
you don't have to what you'll need an
external computer to control it is there
so yeah the minimum size of the CPU that
is required that's what you mean or the
operating system well basically if you
can run Linux and you have one or two
hundred megahertz on an arm platform for
example that's in typical example where
it works well I'm sure I don't really
understand if we can bind the engine for
a commercial application in service yes
but is that your question
for the moment the source is available
for all the things that connect sorry to
other languages like you object
architecture or the Liberty I didn't
detail that these are GPL open-source
but the heart of Irby so far is not open
source we have not found a way that we
could at the same time sell it as we and
at the same time have it open source GPL
for example or other so the current
situation is no there is no access to
the source except in some contract were
you know industrial robots or things
like that for certain cases we can have
an agreement with the company and give
access to the code source code but it's
in specific cases and it's it has to be
discussed but we know that a language
should probably be open source if he
wants to grow and extend his kept one
its its audience and the community so
this is a we're well aware of that yes
so how much were two robot manufactures
have to do to support her being the
robot the way it's done is through you
objects we design new objects that are
like for example a motto objects that is
a proxy to whatever API is in the robot
so that's completely in the ends of the
manufacturers in whose body are two
control models and then you design a new
object that is going to rub this into
standard way of presenting things like
dot Val had pandered Val if you seen any
examples for example that that is the
typical way to access the value of the
model so you have a bit of standards
that we have designed so it should be
but then once you've done that you plug
the new object and you have access to
your model and you make some instances
on the herbicide so you specify this
generic motor you instantiate it for the
different models available new robot so
how long does it take it depends on the
complexity of the underlying API and
what the robots
as a way to be control I mean if it's a
simple C function that you call to set
the model it's in a week it's okay now
sometimes it's a very complex
architecture where you have well it can
be very very complicated or it can be in
Japanese and documented all those kind
of things so in that case it could be
several months so it really depends on
what you have but the principle is easy
you build an object that makes a proxy
to your motor so you camera
yes software
is there software for simulation that
you can use the Irby
the answer is yes there are several one
of them is a web lot which is a very
famous and very useful more than 10
years now a simulator for robotics and
we are partnered with the company so
basically you can have our before web
BOTS which means that you're going to
make a program for your simulated robot
that is going to run on localhost
typically so that's where the simulator
is and when you want to put it on the
real robot you just change the IP
address of the urban engine and that's
it
of course there are some limitations and
how accurately you can render the physic
of the world and those things so this is
common to every simulation but well
apart from that the way the program is
done is exactly the same so web bots is
an example and we plan to support more
and more simulation environment the key
word of what we do is technology neutral
so we don't want to bind to one we want
to be compatible with every operating
system every language is every simulator
and being really a bridge that allows
you to use those things
okay well I think there is no more
questions thank you very much for your
attention thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>