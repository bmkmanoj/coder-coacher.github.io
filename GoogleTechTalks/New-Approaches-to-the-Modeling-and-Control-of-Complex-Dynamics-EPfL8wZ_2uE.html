<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>New Approaches to the Modeling and Control of Complex Dynamics | Coder Coacher - Coaching Coders</title><meta content="New Approaches to the Modeling and Control of Complex Dynamics - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>New Approaches to the Modeling and Control of Complex Dynamics</b></h2><h5 class="post__date">2008-10-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/EPfL8wZ_2uE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">it's my pleasure to introduce I didn't
Roy he's a faculty member at CMU and
before that he was a grad student at
Washington mr. Washington with certain
Popovich he's authored several excellent
siggraph papers and other papers dealing
with the complex dynamics and simulation
and how to make them controllable and
scalable and today is going to talk
about modeling and control of complex
dynamics so take it away Thank You Veck
ok so I'll open this talk with a picture
which is sort of an inspiration in some
sense here we have something which
happens in our real world maybe not to
all of us on a daily basis unfortunately
but we have this we have these three
systems okay so one of them is a fluid
system right here and this is this is
typically this kind of thing needs to be
simulated using representation with
millions of variables in particular here
we have the splash which is a very
complex nonlinear phenomenon and very
high dimensional and also the wave is a
breaking wave so this system can't be
simulated with sort of more simple 2d
representation of a fluid representation
at the same time coupled with this
breaking wave is a surfboard which is
typically modeled as a 3d rigid body and
then on top of that is this human which
not only has let's say very very
conservatively 80 degrees of freedom and
is following dynamic laws but at the
same time is actually controlling all of
the muscles in his body in order to
actually manipulate this surfboard on
the wave so what we have here
essentially are three non-trivial
dynamical systems some of which require
at least traditionally a huge number of
variables represent and they're all
coupled with one another and the goal of
this talk will be to convince you that
we can look at these kinds of problems
in a new way such that we need many
fewer variables to represent these
systems and that we can also compute
coupling between them in real time so
the themes are in short the simulation
of high-dimensional phenomena in real
time and in particular we're going to be
exploring two techniques
one of them is model reduction so here
is an example of a sneak preview of some
model reduction this is a real-time
fluid simulation and another one is
control so I'm going to show you a ball
of smoke which has been controlled to
form an armadillo shape and these are
two highly interrelated topics as you'll
soon see and what I'd like to convince
you is that in order to tackle these
complex dynamical systems fundamentally
new algorithms and approaches to looking
to these systems do exist okay so in
particular we're going to look at these
themes / the / these five topics right
here the first one is fluid control I'm
not going to say too much about this
except to say that fluid dynamics are
you know ubiquitous part of the world
around us they are and there's there's a
lot of sort of complex dynamical things
which go on so in particular the
difficulties are the complexity and
non-linearity of the fluid if you're
dealing with free surface fluids like
this there's actually a discontinuity at
the surface of the water which makes the
dynamics more difficult to model and
then there are major efficiency concerns
with respect to the number of variables
you need to represent these kinds of
systems and I'll talk about that more in
the next section of this talk our
solution was to I'm not going to go into
the math whatsoever here we're going to
just breathe through this to generalize
the fluid simulations that it contains
not only the variables inherent to the
fluid simulation but also set of control
variables which allow the simulation to
diverge slightly from what the
differential equations would tell us
exactly should happen and then a general
template for efficiencies for
efficiently solving these kinds of
problems so there's just a really brief
flavor of this whole stream of research
I'll show you guys some cool examples
right now this is a ball of smoke
forming the ubiquitous Stanford bunny
I'm sure you guys have seen it since
you're near Stanford just look in the
bushes this is forming an armadillo
shape
and once again these are essentially
simulations have been minimally
disturbed in order to produce these
kinds of animations so this is a
considerably more complex animation when
we're controlling a free surface fluid
simulation to match a set of key frames
of water to match a set of key frames of
a human walking and this is the for this
research was the first time control of
free surface fluids had been
demonstrated in any field and sort of to
show that we could do it we took the
exact same sequence and we created a
controlled smoke simulation of the exact
same thing so that's really all I'm
going to say about this is this very
early work of mine I'm going to really
cut to more recent stuff now but one of
the exciting things about working in
this field was that it basically we
publish these papers about seven years
ago oh my god at siggraph and a little
bit less than that and and it's actually
basically spawned a whole a whole
subfield within grass a graph and within
the graphics community of controlling
fluid simulations so that's sort of an
exciting thing to have to see happen to
your research especially when you're
doing it as a young grad student okay
but now the fundamental issue I realized
in doing this is time okay running a
fluid simulation is extremely
time-consuming if you want to do it at
high resolution and running these kinds
of controlled fluid simulations requires
rerunning fluid simulations over and
over again doing sensitivity analysis
over your control variables to try and
find the control variables which match
let's say your key frame sequence or
whatever your objectives is so there is
a major problem in dynamical simulation
which is the dimensionality of the
problem and the amount of time it takes
to simulate these things and what we
need are fundamentally new
representations of dynamical systems and
new algorithms which act on these
representations in order to do faster
simulation so that's what I'm going to
talk about now and the first the first
area in which I'm going to talk about
this is crowd simulation okay seems kind
of esoteric not something that you'd
find in a first-year physics textbook
but there's actually been a lot of
research in the a cadet
in the academic community on the
dynamics of crowds it's an important
thing it has to do with safety
engineering has to do with architecture
and the design of open spaces and from
the perspective of building virtual
worlds creating special effects
simulating the world on computer with
computer graphics it's a ubiquitous part
of the world around us now why is crowd
simulation difficult well for one thing
typically the way crowds are approached
is by putting a little agent system in
each crowd members mind now there's a
lot of people in that crowd so already
we're starting to run into a
dimensionality problem the other thing
is that a lot of things happen in a
crowd so for example if this character
right here is trying to walk in this
direction they may find their path
obstructed by another character this is
the typical base thing that happens well
we can't allow them to collide with one
another humans don't just bump into one
another at least usually so maybe our
green character decide well what I
should take a left some kind of program
in his mind says can't go straight must
take left okay well what happens if
there is a obstacle there may be has a
different strategy well what happens if
there are other people in this world so
these in other words what I'm saying is
there are a lot of a lot of things that
can happen in a crowd even if you just
look at a local area around each
character and it's extremely there are
lots of boundary conditions and it's
been proved very very difficult to come
up with algorithms which robustly solve
all these problems so in to follow up on
this theme of the talk what I did was
look look for a different representation
for crowds and it works like this we're
going to take our individual people in
the crowd and we're going to lay them
down on a discretized grid okay now at
every point in the grid we're going to
compute a density function something's
happening on that screen but I'm gonna
ignore it we compute this density
function which is essentially how much
how many people or how much of a person
is in each grid cell now we're going to
throw out the individual people entirely
and perform all of the crowd simulation
from this point on using only the
computational grid itself and not the
people so
out of this work well given this density
grid we could come up with something
called a speed function which is a very
simple linear approximation to how fast
you could go given the density in the
grid slower to go through high density
areas it's faster to walk with the crowd
than against the crowd at the same time
the animator can define something called
discomfort grid this is just a grid of
numbers on the same computational domain
between zero and one which express
things such as you would prefer to walk
on the sidewalk rather than walk in the
middle of the street or you'd prefer not
to be standing in front of a moving car
that's going to hit you or something
like that okay these grids can be
combined into something called a
potential function and I'm going to talk
about this a little bit more how it
works on the next slide and the gradient
of this potential function forms a
velocity field such that we can simply
move the individual characters in this
crowd as if they were massless particles
in a fluid-filled ok so we've thrown out
the idea of trying to move people around
by actually trying to compute something
in their mind and instead we're going to
sort of define a fluid like
representation for what it means to be
in a crowd and the people simply move
along with this velocity field ok at the
end of the time step once everyone's
been updated we recompute the density
field and we continue on for it ok so a
sort of continuum fluid like approach to
crowd simulation now what does this
actually mean where does the potential
field come from well turns out that the
base hypothesis of our simulation is
that people move picking optimal paths
their destination according to a very
sort of simple and psychologically
plausible set of a criteria basically
they're trying to minimize this cost
function which has three terms the first
is the distance to their destination
you'd rather pick shorter paths and
longer past the second is the time to
their destination now this is turns out
to be a little different than distance
for example the shortest path might take
you through a very congested area in the
crowd so maybe you're willing to trade
off a little bit walk slightly further
if it'll get you to your destination a
little
faster and finally we have this
catch-all thing which is the discomfort
felt per unit time so that's the field
that I was telling you about earlier
which says that for example you'd prefer
to walk on a sidewalk than in the middle
of the street and that's expressed
mathematically here by saying the
integral of your path will be one which
minimizes discomfort in addition to
those other terms okay so this seems
like a very agent centered approach to
how you would simulate a crowd we're
talking about what every single
individual person is trying to do but
the connection between them is that we
can prove that if people are trying to
move according to this objective
function then there exists a potential
function fee who which satisfying this
ordinary different I'm partial
differential equation right here such
that the gradients of fee the velocity
field induced by fee is a fluid flow in
which every person is precisely
minimizing the objective function we
described on the previous slide okay so
we can define a velocity field which is
essentially dual to the individual
desires of each one of the people in the
flow so this is a very new way of
looking at how you might simulate a
crowd okay well everyone's in a flow
field that sounds great but the wait a
minute it's not the case that everyone
in a crowd has the same notion of where
they're trying to go or even is walking
at the same speed or even the same
understanding of discomfort well how
could we deal with this well we could
come up with a separate flow field for
every single person in the crowd but
that then we'd be back to square one
doing a huge amount of computation per
person so instead to create
inhomogeneous crowds we there's a very
simple trick which that we divide the
crowd into a set of groups so for
example maybe the set of all people
walking north it through New York and on
the set of all people generally walking
south and east and west and then each
one of these groups we do we run the
same algorithm which I outlined for you
a couple of slides ago and they're all
coupled together by existing within the
same density field so let me give you
some examples of actually the way this
works so here we have two groups of
people crossing one another in
hallway and with goals on opposite sides
obviously now the interesting thing here
if you'll notice that they form these
things called lanes this is land
formation is the fundamental phenomenon
in crowd dynamics and actually it's
totally amazing I didn't really realize
this when I started this research but
just look at people crossing look out a
window look at what's going on when
you're crossing a crosswalk and you'll
see this amazing thing which is people
just completely self-organize into lanes
and walk through one another without
bumping into each other this is actually
a phenomenon which is Falls naturally
out of our system we didn't bake it into
the dynamics at all specifically but
basically the hypothesis generate a
system in which this naturally happens
this is a slightly more exotic example
right here called vertical land
formation so now we have four groups of
people each of which is trying to get to
the opposite corner of the room and
you'll notice that they actually are
forming a vortex remarkably this also
has been noted in the empirical crowd
literature and it happens for a good
reason once the vortex starts to form it
would be complete insanity to go the
opposite direction of all these people
so you tend to walk with people who are
going to the far corner with you so
here's the vortex forming obviously the
the direction in which it forms has
nothing to do with which side of the
Equator you're on or anything like that
it's just a it's just a has to do with
the initial conditions basically okay
here's the final example it's a crowded
City Street in New York where I grew up
and we have these people in yellow
evacuating this building so there's
basically five groups here those walking
north south east and west and the
evacuator 'he's they have a different
notion of discomfort and speed than
everyone else does and the thing to
notice here to note here is that we
don't have any individual control of any
of these people whatsoever instead we
basically have five coupled fluid-filled
layered on top of each other and that's
defining the entire dynamics that you're
seeing here
okay so in summary I've described a
fluid simulation or rather a crowd
simulation based on fluid like
principles in which everyone moves
according to optimal paths given a set
of psychologically plausible objective
function for human motion in a crowd and
I'll mention that this work has actually
been licensed to Electronic Arts and
Microsoft for use in next generation
video games so that's sort of exciting
but the most important thing is that
I've hopefully have also starting to
give you guys a taste of the fact that
new algorithms do exist okay new ways of
approaching these problems do exist
which will allow us to have sort of
major computational games and other
sorts of gains over traditional approach
to looking at these dynamical systems ok
so I think you'll see that yes
that doesn't seem to explicitly
saying them all there are these lames
we're trying to get behind you it's very
crowded with people
that is that is taken into account
because basically the speed field is
such that it's faster to move in the
direction that people are already moving
the speed field is actually an isotropic
so the speed in one direction can be
different than the speed in the opposite
direction and it turns out that it's
dependent on the density times the speed
of what people are moving to that field
so that is taking it again and
interestingly that actually is the
ingredient which has to go into the
model to get land formation and we
didn't have that in the initial path and
and you know we're getting some sort of
interesting crowd dynamics but some
things were definitely missing and we
put that in and all of a sudden we were
looking at like sort of real crowds and
in particular all of the lane formation
vertical information just fell out of
the model or came out of model yeah but
my question is what does it look like
you committed one's life are you an
intensity and suddenly got killed of
speed which takes into account some
foxing you talk about now but they they
do it out there yeah yeah that's a good
point there's these slides are the
slides are sort of approximations to the
algorithms because there's a lot to talk
about if you want to go I mean I
encourage you you can read the the
siggraph paper or look at the cigarette
 if you want to see exactly but but
that's a good point there is it's we
don't just go straight from density of
speed we go density and velocity to
speed so these simulations what is the
size of the cell compared to the size of
a person right okay so the question is
in these simulations what is the size of
a cell relative to the size of a person
and the answer is it depends how high
resolution you want to get and and we
have we actually use different relative
sizes for different simulations
well okay so in the case of okay in the
case of the of the people who are
crossing one another actually you can
see in this slide right here very
faintly a checkerboard on the ground and
that actually is the underlying grid on
which they're being simulated if you
look at our if you look at our results
online or at siggraph we have some
simulations with like 10,000 people in
them on very coarse grid and you get you
get lower resolution dynamics but you
also get some approximation of the same
thing yeah like from one tentacle human
dude Benjamin Moore like from one width
of a human to maybe a hundred humans
with so like fact two orders of
magnitude yeah is it possible to model
around this and say here are some some
people really crazy who doesn't satisfy
this mathematical optimization or
passion
people just won't directly to you have a
reaction right so the answer is we don't
have an explicit formulation for that
now you could you could imagine various
ways of baking randomness into this
model but but but the more general point
is very well taken look sorry so the
question is is there a way to get
randomness into this model or the motion
of people who are not acting optimally
the the more general point is very well
taken that there's a lot which is not
captured by this model and in fact as
part of this project I was on the roof
of buildings with permission from the
University of Washington filming people
anonymously and and then we ran a vision
algorithm and we computed all their
paths and stuff and it turns out that
there are lots and lots of things that
people do like tie their shoe or like
notice a friend which are not captured
by this model so this is really a very
more like a large-scale statistical
model of what a crowd is doing rather
than a good model for any individual
human is doing but there's decisive now
say some people carrying a wide load so
how it is why so our Commissioner motion
kill around right it may not be a ideal
Floyd right right auricle right and so
the question is that the size of the
particle matters there is a there's a
support function which we use to convert
the people into a density representation
that can have various widths but at this
but but once again the point of this
model is actually to model fairly
homogenous crowds very efficiently it's
not meant to capture individual
variation very at a very very fine grain
that said since all the representation
happens through this density field you
can insert agents some of which can be
user controlled other which could have
other ideas what they're doing into this
simulation and it would work completely
since the communication would just
happen through discretization on the
density field okay i'm gonna actually
move on if that's okay because we have
like so much to talk about there's and
then at the end hopefully i'll get all
these questions okay so real-time fluid
dynamics fluid at once again a very very
beautiful part of the world around us
ubiquitous and very high-dimensional so
how would you ordinarily simulate a
fluid like this well the answer is that
you would lay down a computational grid
this is the standard oh de sorry PDE
fluid dynamics approach to this and each
one of these grid cells you would define
a set of numerical quantities such as
the pressure the density the velocity if
you want to do this with anything close
to a sort of reasonable resolution
typically you'll need millions of voxels
which means that all of these quantities
need to be defined millions of times
over and all of these physical
quantities these doubles in your program
if you will have to be updated every
single time step and this is something
which we're just very very far from
being able to do in real time which is
why fluid dynamics are essentially only
used for offline simulations are there
special effects or
you know designing airplane wings and
stuff like that but you don't see it in
real time okay so before I talk about
specifically how we approach this for
fluids I want to take a step back and
look at the general statement of the
problem here so suppose that we have a
vector u in this case it'll be the state
of our fluid system but it could be
anything in a very very high dimensional
space r n where n is let's say three
million what we want to do is come up
with a reduced vector R of vastly lower
dimension which is an approximation to
our high dimensional space so in this
case M the dimension of our is maybe 64
something like that so we're looking at
an orders of magnitude decrease in the
dimensionality of our system these two
different coordinate systems are related
via a linear transformation an
orthonormal linear transformation where
B is basically the basis it's the code
book that takes you from the reduced
simulation to the full simulation and
back now just for a second to make this
concrete in the case of fluids be would
be a set of velocity field okay so that
if we took our first reduced vector and
multiply it by our first field and then
our second reduced vector and multiply
it by a second field and so on and so
forth and add these all together we get
our full velocity field back okay so
that's the translation between these two
states but let's take a step back from
fluid and just consider this in the
abstract for now okay now we have some
partial differential equation f u equals
F of U which describes the dynamics of
the system how does it work and what we
want to do is come up with an analogous
system f hat in the reduced space how
can we do this well it turns out that
the solution to this problem is known
and it's almost mind-bendingly easy what
you do is you take your vector in the
reduced space you convert it to a vector
in the full space you apply your
dynamics there and then you project back
down to the reduced space so it's very
very simple there's just this triplet of
compositions right here now and this is
incidentally this is call it math
matically this is called the gelirken
projection of F onto the basis beam now
this doesn't seem like a very good idea
because we're going through this full
dimensional space but it turns out that
in fact for large class of functions
that's not the case so you can imagine
that if B transpose F and B were all
linear transformations then this would
be a 3 matrix multiply which can be pre
computed and subsequently the entire
dynamics can be computed in time
proportional only to the reduced number
of variables so we can do the entire
simulation in the 64 dimensional space
rather than in the three million
dimensional space without ever
explicitly looking up any one of those
three million dimensional vectors and
its equivalent according to this formula
and it turns out that this is much more
general than the linear case in
particular it applies to polynomials of
any order and an even more general class
of functions which I won't go into but
in the case of the navier-stokes
equations which is the equations that
govern fluid fluid flow what this means
is that this differential equation right
here can be turned into a reduced
differential equation where the two are
in perfect corresponds with one another
and you'll notice that even the degree
of the terms is maintained so this first
quadratic term stays quadratic the
linear term stay linear and so on and so
forth and the entire reduced
differential equation has only the
number of variables in the reduced space
so we can do all the simulation in the
reduced space so this will give us as
I'll show you in these videos fluid
simulations which are orders of
magnitude faster than if you were to do
a standard grid based simulation the
problem here is that we have a thick set
of boundaries in the flow so this is for
example a fixed yin-yang boundary in
this slow and we can simply run a
simulation but that's not very
interesting from an interactive
perspective you want some way to touch
this so we need to have some way of
actually having objects inside the flow
and moving those objects around this is
a very vexing problem from the
perspective of fluid simulation and
reduced fluid simulation and it turns
out that we can perform the same kind of
trick which is that we define a basis
for the object itself and this is now a
separate reduced velocity basis for the
object which in
forces the correct physical boundary
conditions at the surface of the object
which is what the physics dictate is
required so how does this work okay we
have our object in a fluid-filled we
need to compute the effect of the
background velocity field on the object
well what that means mathematically is
that we take B times R which is our
background velocity field recall that B
is our set of basis vectors for the
background velocity field times the
readers quarter system and we add in B
hat r hat which is the reduced
coordinate system for the for the
optical I mean for the object and then
we look at the velocity vectors on the
surface of the object normal to its
surface and the constraint which must
hold is that these must be equal to 0
okay that's what the physics tells us it
must be equal to 0 but an interesting
thing B is a linear transformation be
hats a linear transformation as a linear
transformation the composition of all
these is a linear transformation we can
invert it solve for R that's a linear
transformation we can pre-compute the
whole thing which means that in the
reduced space the transformation from
the background velocity field to the
object reduced representation can be
computed linearly in a single matrix
multiplied in time that depends only on
the number of reduced vectors in both
spaces ok so we're communicating from
one reduced space to another reduced
space and the bandwidth between them is
very very small it's just the reduced
number of vectors likewise if we want to
compute the effect of the object back
onto the underlying flow it's very
simple we take the fluid-filled around
the object we multiplied by B transpose
which I don't know if you remember is a
projection back onto the reduced space
and we add that into our reduced space
for the background field and here again
B hat and B transpose are both linear
transformations so that once again the
reduced object to background coupling
can be computed entirely in the reduced
space so we now have a method for
inserting objects in the flow
approximately satisfying the correct
physical boundary condition
around those objects and the
communication between these two systems
can be carried out entirely in the
reduced space and I think this was
somewhat unexpected result and it was
really exciting for us to come upon it
because I think it opens up the
possibility of a template for how to do
physical simulation in the future where
you can imagine trying to build rich
worlds like this in real time where the
individual character is a model reduce
simulation his clothing might be a model
reduce simulation the stream might be
the trees might be and the graph of
connections which couple all these
systems can also be computed entirely in
the reduced space so I hope that we'll
start to see simulations based upon
these principles in the coming years
I'll show you some videos of this now
this one's not very exciting Andrew will
recognize all of these she and I labored
for four months on this and and actually
he demoed this it's at a cig graph and I
think it was it was really fun
experience for all of us because it was
I think it was I think the crowd was was
really impressed to see them to see
these sort of high-resolution fluid flow
so this is just the video but we were
actually demoing this in real time at
siggraph and in fact we had multiple of
these simulations going at the same time
so people could see how fast it was so
this is a ball in some rising smoke
everything's being computed in real time
and and this would be very very slow to
compute using standard CFD techniques
I'll tell you the numbers on the next
slide actually so this is a picture of a
car driving through leaves I'm sure
you'll remember with this and and this
so this is a very large grid this is a
256 x 128 x 64 is that right okay I
think so anyway whatever it is it would
take something like one minute per frame
using standard techniques on standard
hardware to simulate the system look at
this vortex that's just a really nice
vortex it takes something like one
minute per frame to stimulate these
kinds of systems using standard CFD
techniques and instead one minute per
frame that means that every minute
everything moves forward by a tiny
little amount okay and then another
minute of computation goes by and
everything moves a tiny little amount
again and we're able to do the same
simulation at 30 frames per second okay
so there's a lot of places that we can
take this research I think it's very
exciting one of which is to apply model
reduction to more phenomena the
underlying mathematical transformation
we're describing applies to a wide range
of functions another one which I'm
working on right now with a great
student at CMU is coupling of model
reduced systems which is the thing I
described to you a couple slides ago and
then finally model reduce systems give
us a window onto the world which uses
fewer dimensions to represent things
which interest us and this is highly
important for control for example
defining motion for animals and stuff
like that because these to create that
kind of motion requires control
algorithms which are very very sensitive
to dimensionality and that's actually
I'm going to talk about in the next
slide so enough real-time fluids Google
go on to human motion so you know human
motion is something which we're all
extremely familiar with it's sort of a
holy grail for computer graphics now
typically a human like this would
require would
would be represented with something on
the order of 40 to 80 degrees of freedom
for a for a basic skeletal system that's
actually sort of laughably less then
then are really present in the human
body but but it still is able to
represent a lot of the ways in which we
can move around now 40 degrees of
freedom doesn't sound sounds like small
potatoes compared to the 3 million or 10
million variables that we were dealing
with in fluid dynamics but the
difference is this in control optimal
control algorithms require time which is
exponential in the number of dimensions
okay dynamics is polynomial in the
number of dimensions these control
algorithms are very very sensitive to
the number of dimensions in your system
so we need to we need to find a way of
solving this and in particular the goal
of this project was to create realistic
real-time human motion given a set of
multi-dimensional inputs what we mean by
that is we want to simultaneously
control a number of things at once for
example the speed of the character the
direction which way their head is
looking other things as well our
approach was to build a controller which
is one of these objects which tells the
human how to move around given the
future forest of motion primitives and
and following the theme of this toll
talk we're going to use a low
dimensional representation of the
control space to make this tractable so
here we have a bunch of motion clips
which we captured and then they can be
sewn together into it essentially an
infinitely long motion clip without foot
skate preserving linear momentum using a
technique that we described so we
basically have this graph of things that
our human can do and we can transition
between different nodes on this graph
the question is which transitions do you
make and this is a non-trivial question
and it turns out that if you simply make
the greedy transition to do whatever
your goal is you will actually come up
with very suboptimal and unrealistic
looking human motion so what you need to
do into that is the find a value
function which assigns to each point in
your space the value of being in that
point with respect to your objective
taking into account the future
given depending on your objective this
value function can take a number of sort
of complex shapes the other thing about
this value function this is sort of
well-known optimal control theory by the
way the other thing about this value
function is that the dimensionality of
it is exponential in the number of
degrees of freedom of your space and
essentially needs to be defined for
every single point so our approach once
again was to attack this with a low
dimensional basis for the value function
we're instead of solving for the value
at every point in the possible control
space trying to figure out how good it
is for a human to be at any possible
configuration of their body we're
instead going to come up with a basic
which which distills the main features
of the control space and solve only for
coefficient in this basis state and when
we do that we can get a simple value
function like this which control is
human motion so what does that mean so
here is our little character and moving
around I don't know if you can see this
but he has two arrows underneath him one
of them is this is being controlled by
human one of them in its real time of
course one of them is his direction and
and the other one is which way his torso
is going so now we're going to increase
the person's speed and notice what
happens when we flip them around you see
that there's a foot plant and then he
spins and it turns out that this is also
what people do when they turn around and
it's something that's hard to capture
and I'll show you why and it's just a
second
so you can pretty much make this guy
here now we're independently controlling
his torso telling him to walk one way
look another way it's going backwards
yes you can pretty much make this guy go
on forever it's like a little exhausting
after a while because you're like you
like leave the lab and come back and
he's still like trotting along at the
same speed okay so what's the value of
of this controller that we built well so
here's a comparison result each one of
these first five grids is a controller
where we add more and more and more
dimensions to the control space and then
down here we have a greedy controller
where he there's no notion of the future
and he simply transitions to whatever
state seems best at that exact moment
there's two things to note about this
comparison the first one is that it
doesn't really matter how many the order
of your polynomials which means that we
can throw tons and tons of variables at
this system and solve it using things
which approach traditional techniques
and yet the controller doesn't get any
better so in some sense we don't need to
have that much information about the
world to build people who can walk
around in realistic ways on the other
hand if we don't take into account the
future at all if we have no model of
what's going to happen then the
character suddenly starts walking very
suboptimal so let's go to the point
watch when they flip the person around
you see this he's sort of very very that
let's see here when they flip the arrow
around he very very slowly turns 22 to
go in the opposite direction so that be
I just like you know you sort of turn
around like this when all you want to do
is this and to do that foot plant and
just spin around requires having a
little bit of foresight into what your
feet are going to do about five seconds
into the future so that that's the value
of planning here's another example this
time the state of the human also
includes moving obstacle and one of the
cool things is that the human responds
in sort of very different ways given
their knowledge of what that obstacle is
going to do so once you have humans
which can avoid moving obstacles you can
now actually define simple collision
avoidance algorithms where people view
one another as moving obstacles and try
to get out of each other's way so this
is a very different approach to crowd
motion from the one that I showed you a
couple projects ago in the sense that
these people have no long-term goals
whatsoever essentially but on the other
hand we have a very very sophisticated
motion model as you can see their motion
is much more high fidelity than what was
shown in the crowd simulation before
and then this final video basically
shows that we can that we can couple all
these controllers together so we're
going to start with the general walking
around controller that you saw before
and we're going to turn it into a sort
of dizzying spinning controller
and we can transition smoothly into
obstacle avoidance and back to spinning
okay so lots of things that we can do
with this project as well moving away
from a discrete understanding of the
underlying motion space to do model
reduction on the state space itself
should give us a richer set of emotions
from which to work and also require less
data in the long run the one of the
principal goals of graphics is to move
away from motion capture all together
because using motion capture to generate
human motion is a little bit like saying
we've solved graphics by having cameras
right you want to actually you want to
actually come up with algorithms that
can generate these things from scratch
so move to full musculoskeletal models
of human motion using based on dynamical
laws and finally one with one of the
things that I'm really excited about is
in the longer run once we can actually
define a human once we can actually
generate human motion given an
understanding of a skeletal system then
we can start to study the property of
the skeletal system itself and ask
ourselves why was it built this way what
kind of motions was designed for how
would those motions change that the
skeleton changed how would the skeleton
change if we needed to perform different
motions I think there's a huge set of
really interesting problems related to
animal morphology okay the final thing I
want to talk to you guys about I'll talk
for about five more minutes and and then
I'll open up the floor to questions is
protein folding so this is a somewhat
different flavor of problem but it's
something that I'm just really really
excited about once again it's one of
these issues where dimensionality is a
major problem because it's very hard to
figure out how proteins fold okay so
what is protein folding even mean well
I'm i guess i vas piensas this before
usually half of them know what it means
so I'll say for the other half which is
that proteins are these things are
generated based on your DNA sequences in
fact that's all that DNA does is a set
of instructions for generating proteins
they start off as these extended chains
and then as soon as they're created they
collapse into this shape and this shape
is a small machine inside your cell and
proteins carry out all of the essential
cellular functions of life okay so this
is why we're all alive because these
little machines are in us doing all
sorts of things repairing DNA ferrying
chemicals around okay one of the one of
the Holy Grails actually the holy grail
of structural biology is being able to
predict the folded shape of a protein a
very very important problem from the
perspective of of all sorts of things
designing new proteins for specific
genetic diseases lots of other things so
how do people solve this I'm going to
give you a general schematic right here
which is that biochemists come up with a
certain sequence of amino acids on the
left these that sequence is then sent to
a cluster of computers typically or not
typically but the largest labs have
hundreds of thousands if not millions of
computers basically a set at home type
distributed network of computers which
basically try to fold the proteins in
various ways and which return the energy
of the proteins and the solution
quote-unquote is the protein which has
the lowest energy and that's what you
see on the right okay the funny thing
about this is that if you actually look
at we can we can come up with fairly
good solutions to this problem if you
throw millions and millions of computers
at it but if you look at what any one
individual node is doing you'll find
that it's doing something very very
stupid it's kind of like blindly folding
the protein trying to find which
confirmation or shape has the lowest
energy it's a little bit better than
completely blind for those of you who
know about Monte Carlo sampling but it's
not much much better and certainly when
you see it happening you're like ah this
computer what is it you know why is it
doing this stupid thing why doesn't it
just put this part over there okay and
in fact I was working with some
biochemists and they said people write
them all the time they're looking at
these graphics on their screen saver and
they're like why doesn't the pro team
just put this part over there it's so
obvious that's what you need to do well
it turns out this is a geometric problem
okay it
is basically how can we pack this string
as tightly as possible and the sort of a
game of 3d Tetris if you might say and
it's the kind of thing which people can
solve so the goal of this project was to
replace those millions of people
computers with millions of people
individually folding proteins in a
competitive computer game and we've done
this we launched it a couple months ago
we have close to a hundred thousand
registered users now from around the
world so we don't have millions yet but
we're getting there and there was lots
of you know press in the new york times
and stuff like that so it's a very very
exciting project and I'll give you I'll
give you an idea oops ironically this is
telling me that I have a meeting about
the project which I'm not attending
obviously
I hear you
so here is
hmm
oh I see
well this is very vexing it doesn't want
to move my windows from this screen to
that screen see if firefox will do it
here we go
the game is called Foldit i'm going to
use your guys technology to get there so
this is what you see when you when you
get to the game i encourage you guys to
go there and to go to this site download
the game and play it here we have some
of the best groups you can see this
group is called the freedom folder
freedom folders they have well they have
a lot of players and and you know we
have the best players which are good at
evolving solutions with other players
the best players who play on their own
the best topics which I won't show you
because they are the most popular topics
on the board should I won't show you
could probably i'll be like bugs and
stuff like that so let me actually just
show you the game instead
so so this is the main screen that you
see when you enter the game these are a
bunch of puzzles which you can play
which essentially introduce you
step-by-step to various aspects of
protein folding so they start off they
start off very trivial you know I'm
actually a big part of this project was
not just building this giant network
infrastructure and all and trying to you
know get all this protein folding code
into a game but also making explosions
and stars when people win because it's a
huge part of motivating people to look
at all the little sparkles here to do
something like this it's really a huge
part of this of this project which stuff
like that and that was sort of
interesting for us to work on here we go
anyway you get the idea so these are the
basic levels and once you complete these
the idea is that you should have a basic
understanding of how how protein folding
works and then you finally graduate to
the oops
okay a little hard to do over one
shoulder to these puzzles right here now
these are the main competition puzzles
and fold it and the interesting thing is
that so we have large numbers of players
who are competing on these puzzles and
groups you are competing on these
puzzles and the interesting thing is
that these can come to us some of them
we put in to calibrate you know how well
we're doing designing the interface and
various other things that we want to
study about the user group but some of
these will come to us from the
biochemist or they basically say we need
to understand how this protein folds put
it on the game and in a week tell us
what the result is and the results have
been pretty amazing that the most elite
players of this game do just astounding
things when it comes to protein folding
they do things that that biochemists are
like we don't have any algorithm that
describes what you're doing right here
so one of the really sort of amazing
things that might come out of this
project besides actually finding protein
shape which is an important scientific
problem in itself is studying how these
elite players do things and learning new
algorithms like fundamentally new
algorithms for doing protein folding and
of course that's sort of a general idea
which would like to apply to scientific
computing in general which is throw out
a game give it to millions of people
find out what the elite people are doing
and that's the basis for your algorithms
and there's tons and tons of you know
things in science where we don't know we
don't have good algorithms to solve it
so anyway I'll let you guys download
this I'm kind of running out of time but
you know you can do all sorts of nifty
things to your protein and and basically
I'm making my score go down to zero very
rapidly because I'm not playing very
well and then you kind of chat with
people enjoying teams and get all
competitive about it and then you'll
once you start doing that and playing
eight hours a day you'll get on the wiki
and affect the wiki and all that kind of
stuff so so this is this is a really
exciting new project and one of the
things that I want to point out about
this project of course
is that it's this is not a one person
product by any mean there's a large team
of people working on this project and
the principal co-creators of this
besides me was a Seth Cooper who's a
graduate student at the University of
Washington who actually worked with me
on the crowd paper and he's just a
phenomenal phenomenal grad student so
keep your eyes out for him in the future
my advisors Oren who's I can't even
describe how much he's done for me and
then David Baker Luke's who is an
amazing who's an amazing biochemist and
who basically gave us all the
biochemistry stuff so I hope I've
convinced you that we live in exciting
times we're going to see huge project in
real time dynamics over the next five
years there are a lot of really fun
projects to work on in this field in the
future new forms of model reduction
biomechanical control and if we can
harvest human intelligence to solve
these high dimensional problems as well
maybe we can save the world so I want to
thank all of these people who I worked
with and in particular Andrew Lewis
who's here in the audience and who work
on the was an author on the siggraph
paper on model reduction and just did a
completely amazing job so thanks thanks
all of them and thank you ok so now any
questions
cute was your question answered in the
oh sure sure um I think the reason for
being your abstract but I was wondering
whether these techniques can be used for
different kinds of simulations for
example one issue that we have is job
controlling in a large number of
machines to get high throughput and as
you can see it's it begin becomes a high
dimensional problem with a lot of
interactive variables right well it
depends so I presented a lot of
different techniques as well and there
there's variations on the same theme but
I mean there's every individual case
require is different you know different
different approaches basically in
general I that's a really really
interesting question I haven't I don't
know specifically what your problem
looks like and so I can't possibly
answer it but I'll say this the this
model reduction approach is very very
general and it's not really it's not a
trick it's a it's a mathematical
transformation basically and it's not
even if it's not even a physics trick
its a math trick and so and we know that
it applies to a wide class of functions
but these are these are continuous
functions so things like the set of all
polynomials and we have reason to
believe that it applies to ratios of
these functions sines cosines
Exponential's which basically gives you
the so-called class of all elementary
analytic functions so so if one system
were described below that way then I
think there's reason to believe that we
can come up with good low dimensional
representations for it if one system has
basically a lot of if statements in it
then then this might not be the approach
that's that sort of a very very high
level view but yeah
we'll get back to you once we've solved
the if-statement problem</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>