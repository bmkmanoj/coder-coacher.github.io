<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How the FreeBSD Project Works | Coder Coacher - Coaching Coders</title><meta content="How the FreeBSD Project Works - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How the FreeBSD Project Works</b></h2><h5 class="post__date">2007-10-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nNkqKdLm1rU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay hi thanks for coming I wanted to
introduce our speaker today this is
Robert Watson a prolific freebsd kernel
developer and security researcher
currently at Cambridge University he's
going to talk to us today about how the
freebsd project works which he's well
qualified to do with being a long time
core team member release engineer and
contributor in general to the freebsd
project Robert thank you Mary so my name
is Robert Watson I am at the University
of Cambridge what I've done over the
last five or ten years has involved a
lot of freebsd work until relatively
recently i was working as a principal
investigator doing double research
projects and for US agencies i also did
some work for apple and some others more
recently i Beant University of Cambridge
where I'm working on a PhD in computer
security so my involvement in the
freebsd project formally began in about
nineteen ninety nine but I was actually
free vyas to use it before then what
this talk is about is the free bc
project this is not a talk about a
particular piece of software in terms of
how its constructed what the software
does this is really about the process of
writing open source in a large open
source project so i will briefly tell
you what the previous see operating
system is but only very briefly i sort
of come in assuming that people know
what operating systems are and kind of
what they can expect from an operating
system mostly what i'll tell you about
is the frequency project which is a
large open source project involving
hundreds of contributors committees and
thousands of contributors i'll tell you
a little bit of how the sort of the
process of writing open source software
and a large project works and if you
take out how it works in the freebsd
project and my feeling is that we
actually do it quite well that it's been
interesting to compare the structures of
open source projects to learn from other
projects to look at how we do what we do
and we spend a lot of time thinking
about how we write software so i'll tell
you a little bit about that and I guess
I would sort of sort of conclude in the
introduction by saying that it really
depends on how you look at the project
since it's such a large project there
are so many people working on it people
have very different perspectives the
uses of freebsd the consumers of
previously that developers of previously
I view the world from the very colonel
centric perspective my interests are in
operating system security there in
high-performance network stacks there
are multiprocessing and so i may see
they do a little bit differently
from some of the other people were
involved in the project people who
Porsha applications people who write
user LAN library frameworks people who
write device drivers so you'll see it
from my perspective but I hope that in
the last few years you know six or so
years working on the freebsd core team
I've had a chance to look at how people
see the project and interest back to bit
I have to say that this is the talk that
I actually always wanted to listen to to
have somebody explain how the free/busy
project works and i started stead of
going to conferences and trying to find
someone who would give this torque and
and eventually i concluded that somebody
was gonna have to write the torque so
we'll see how it ends up so free beastie
is an operating system it is an
open-source bsd base unix system PST
project started in berkeley late 1970s
the free bc project was founded in 1992
this means that it is quite an old open
source project as open source projects
go it is widely used sometimes more
widely used than many people know you
tend to find three kinds of consumers
for the previously operating system
you'll tend to find large ISPs or
organizations providing network services
running FreeBSD these people may offer
virtual hosting services web services
that kind of thing and indeed the
reasonable names up there there's a
notable omission that of course we'd
love to help correct on that list we
also find FreeBSD extensively used in
building products that are shipped to
uses so appliances and embedded products
now when I say embedded I mean this sort
of newfangled notion of embedded
embedded used to me in you know a tiny
little processor and if you're lucky you
have an address space today embedded
means a multiple address based device
naming web servers and file servers
embedded can mean your access point
which may in fact be a file server for
attached storage so embedded has really
changed and so embedded has grown up
into the space where the FreeBSD
operating system provides and we've done
a bit of growing down to we've recently
introduced ports to the arm platform
MIT's platforms powerpc and so on so
there's been a bit of change in our hub
side you can look at the list of some of
the freebsd consumers out there some of
them are operating systems based at
least in part on the freebsd operating
system for example the mac OS 10
operating system reuses our VFS it
reuses our network stack it reuses many
of the library's the command line tools
in mac OS 10 are straight from freebsd
and in fact or regularly synced to the
free/busy source code apple contributes
changes back we produce updated versions
apple
XM up in that product so if you have a
Mac that you are definitely running
significant parts of the FreeBSD
operating system you'll also find the
previously network stack in systems like
the ex works there are some
organizations that extensively change
freebsd when they ship it in that
product you know the net apps of the
world other organizations pretty much
take freebsd and they use it as a
management platform something to run
management tools on but it isn't sort of
the core of their product so you find us
a range of places an inserting
observation you can't throw a rock on
the internet without hitting freebsd you
find freebsd running on root nameservers
on core routers major web hosts and
major providers monitoring systems it
really is everywhere previously doesn't
get a whole lot of press in its role
this way but it is really hard to avoid
it some of the historical focuses of the
FreeBSD project have been in the areas
of networking security storage but we've
sort of expanded out we have a lot of
things going on you find some really
cutting-edge work and wireless available
on the freebsd platform for example one
of the things i'll argue in this talk is
that free bc is actually one of the most
successful open source projects it has
been around for a very long time it
operates very successfully and one of
the reasons it's so successful is not
just that we have good technology but we
have a social process for writing
software for continuing the community
and growing the community as process by
which companies and organizations that
use freebsd interact with the project
contribute their changes back and are
involved in our community and that's
really important i think it's a property
you'll find many successful free
open-source projects and i were going to
details there but i'll say that the
model that we use has been influential
in the way people right open source
software what do you get when you
download free BSC well you get a
complete unix system we provide
everything from the build tools so the
Yuuzhan library is the command line
tools and of course the operating system
kernel which is a particular interest to
me we run on a large number of platforms
you know we don't run on your toaster
oven but we certainly run on your server
hardware it is a multiprocessing
multi-threaded colonel about five or six
years ago we began a large project to
try and move from a giant lock colonel
to a fine-grained lock colonel capable
of running on what we now see is desktop
systems I mean the world used to be an
SMP box was two processes I know if you
live in the what I live in with the
budget i live in SMP boxes two processes
if you're lucky right now you have
notebooks with four processes so the
world is really changed and serve our
Hardware off-the-shelf server hardware
frequent
has 8 or 16 processes and that's that's
not going away and so we've had a big
project there and the multi-threading
work has been very important to what
would be doing for the last few years we
provide all the standard programming
interfaces with a reference
implementation for many protocol stack
components most recently sctp which will
be shipping out of the box and free bc
70 so we're obviously involved in the
standards community we offer arrangement
of build targets we can do things like
build server platforms trivially it's an
extensible build environment you can
subset freebsd down to run on embedded
targets and this is one of the reasons
why the set of users you saw in the
previous slide use freebsd it's very
easy to build a product based on freebsd
another thing that sets us apart from a
lot of other open source projects is our
focused on documentation and i'll show
you a couple of numbers quantitative
numbers that suggest that we really do
invest heavily in documentation we have
extensive colonel documentation we have
man pages we have books online they're
available and there's a lot of work done
in that area including translations to a
lot of languages finally we run a lot of
portable software if you have a piece of
software that runs another unix system
the chances are it's already running on
freebsd and this is fairly
straightforward to do simply because we
implement a lot of standards a lot of
standard API s and in some cases the
standards are derived from freebsd or
derived from bsd such as the sockets api
so there's a lot of portability it's
very easy to do so that was the blurb on
freebsd to software i'm going to tell
you about the free bc project the free
bc project is an online community it is
hundreds of developers working in CVS
scattered around the world i'll show you
how much is scattered around the world
in a couple of moments the one of the
key concepts behind the frequency
development model is revision control we
do everything in revision control we
manage our documentation in revision
control we manage all our source code
and revision control we manage
information like the dates of birth of
the committee's in a revision control so
we are really about revision control
I'll tell you more about revision
control in a bit the online community is
extensive and this is primarily where
freebsd developers do their work the
business of the freebsd project takes
place on mailing lists this is not a
coincidence we are highly to physically
diverse geographically diverse
organization in literally dozens of
countries we have people who can access
the CVS repository directly about 340
committees who i'll tell you more about
in a moment we have thousands of
contributors who send in patches and
when i say thousands we don't
there are thousands because we keep
track of the contributors and the active
maintainer of software in the FreeBSD
project who is responsible for
maintaining ports of applications and
there are literally thousands then we
have an extensive unique user community
we find that on mailing lists we find
user groups around the world one of the
things that makes freebsd interesting is
the open-source license that it's under
its under the berkeley software license
which basically says we wrote the code
you should keep our copyright message at
the top of the file and please don't sue
us this is very important this is
designed for the maximize commercial
reuse it's one of the reasons why you
find free be used in a lot of research
if you want to maximize technology
transfer an open-source license without
any real strings attached is a very good
way to get software used so if you look
at the Berkeley network stack used in in
countless products one of the reasons
for this disaster the network stack and
also for TCP IP is the licensed it was
available under you find free BS to use
extensively in research systems in
commercial systems of this reason if you
looked at the list of companies you saw
our companies like nap and juniper and
so on these companies all have
intellectual property they have concerns
they have products things that set their
product apart the BSD license is one of
the things that lets them make use of an
open-source operating system in a way
that protects the work they do to
briefly about the FreeBSD foundation
free bc foundation is a nonprofit
organization it has the nonprofit status
in the u.s. there was an interesting
question when the FreeBSD foundation was
started we had an open source project a
very successful open source project how
do you attach a legal face a legal
entity to an open source project and
when this was being looked at there were
not a lot of models for how you do that
you know is the open source project the
same thing as the legal entity is it the
same thing as the foundation are all
developers associated with the project
implicitly members of the foundation
what is the goal of having an open
source foundation is it to collect
donations or or collect lawsuits you
know what is the point of doing this and
we were very interested to how to do
this and the intentional design choice
was making the foundation independent
from the project there's overlap in the
people who run it there's overlap in the
interests but the goal of the foundation
is to support the project if you compare
the previously project with some of the
other open-source projects for example
the Apache project the model is really
very different the apache software
foundation is really a significant part
in how the apache
software project works people who commit
to the repositories are members of the
foundation this is not true in the
FreeBSD project what do we do well we
support the project we provide financial
resources we provide legal advice when
the questions are raised regarding
things like licensing we can sign NDA's
we can do a variety of things to
represent the project in a legal sense
we also spend money so we receive
donations and what we try to do is to
help developers get to conferences and
get two events participate and developer
summits for example is a very important
part of our development process you know
get 60 freebsd kernel developers in the
same room and things really happen it's
very important to have facetime you know
communicating by email is a really bad
way to talk to people makes a very big
difference to have them all on the same
room oh we do hardware purchase and when
you go she ate collaborative research
and development agreements this means we
talk to organizations who use freebsd or
interested in freebsd and we try to help
facilitate work that might not otherwise
happen for example research does not
immediately lead to a product or common
interests that many FreeBSD consumers
have but neither is sufficiently
incentivized individually to make work
happen so this is an interesting role in
one that was still developing here comes
the plug if you like FreeBSD if you like
open-source consider making a donation
to the FreeBSD project and in particular
to the FreeBSD foundation to support the
project it really does make a difference
a little bit more about the project so
the brilliant BSC project produces a lot
of stuff obviously we produce an
operating system you know we rise a lot
of code every day we make more changes
to the operating system we add features
and all these things but there's a bit
more to it to nap so we produced this
kernel and this integrated user space
but we also do release engineering and
we do have a security officer function
once the release goes out the door the
work is not done we release security
patches we release a writer batches we
try to support the consumers of freebsd
after it so after we're done producing
this off for Windows put a towel on the
website we also do a lot of posting
applications to the system there is a
very very large community in the FreeBSD
organization that sits there basically
making applications work on FreeBSD they
do whatever adaptation it takes they put
together the make files they adapt the
software they put them these people
submit patches many of them don't have
CVS access directly they just contribute
the work we produce releases these are
ISO is avail
on the website they're available on the
ftp server and this is something that
requires a lot of energy to do we
produce a lot of documentation we help
support the user communities lots of
mailing lists and finally we participate
in events so every year we have at least
three and sometimes more bsd conferences
around the world we try to get developed
as their to talk to the people who use
freebsd we also consume a lot of stuff
so if you like freebsd here are the
kinds of things that you might send us
we really like beer and other sorts of
beverages hardware is actually really
important so many free/busy developers
do work on freebsd in the context of
their employment but that doesn't mean
they have the resources to do all the
things they would like to do with
freebsd so some of them work on free bc
in their free time many of them work in
freebsd entirely voluntarily they may
carry their freebsd expertise from job
to job and just work on freebsd in
between those jobs there may be people
who just volunteer all the time and do
their freebsd stuff and this is really
important but they can't do without
access to the latest hardware so we look
to companies and individuals to help
make that possible donations of large
SMP hardware very much appreciated one
of the things that's very important is
it the hardware come with hands attached
to it you know if you send somebody a
nice 16 way hot piece of hardware to put
in their basement their family gets
upset quickly the power bills go way up
very noisy so it's nice if they arrive
in these neat racks available when
colocation centers and people to help
manage them and we have a lot of people
do that I'll take a little bit more
about that obviously previously
developers like to be compensated for
their work they like to have people pay
them to work on freebsd and many of the
companies that use freebsd pay their
employees to work on freebsd obviously
we like good press coverage we like it
when people look at freebsd and they say
it looks good when they build this into
that products these are all things that
are very rewarding and that is an
important part of how open source
projects work the public feedback cycle
and obviously we like a lot of bandwidth
it is amazing how much bandwidth you can
use if you're released an operating
system to release every six months and
people just download it in vast
quantities BitTorrent very good thing
let me tell you about our processes
these are the kind of things that
separate freebsd from some other
projects and you'll recognize some of
these processes from commercial work and
commercial environments most of the
people who work on freebsd are extremely
mature developers they've had multiple
jobs they've been involved in release
engineering they've been doing colonel
work for a long time i'll show you some
pictures
suggest this might be true and these
processes are part of how the free/busy
project works a freebsd committer is
somebody who has commit access to our
CVS repository this is a really key
notion the free bc committees are the
people who participate in the actual
writing or committing of the software
they're responsible for making sure that
things go into the tree work they often
do a lot of the development to the
features that go into the tree although
this is not universally true there are
portions of the tree where CVS
committers are primarily a funnel
through which goes where it goes in
order to get into the tree how we select
committees is very important obviously
the character of the project is really
the character of the people who are
involved in the project we look for
technical expertise we look for a
history of commitment to the free/busy
project you probably won't make a good
free bc committer if you haven't written
any freebsd code but also if you haven't
been on the mailing list and supporting
your changes we're not looking for
people who write a nice piece of code
and then walk away what we need is
people who will be involved in the
project in the long term supporting the
changes they've made working with the
user community finding the problems and
so on this is really critical another
aspect is they they have to make these
properties obvious to us people don't
get freebies to commit bits by doing
work quietly in a corner they have to be
part of the community that builds the
software one of the interesting aspects
of the RIBA see project is our
mentorship program all new freebsd
committees who join the project must be
mentored by an existing developer who
will propose them to join the project
and then it will work with them for a
period of months are often years as they
refine their interaction with the
previously project we don't bring people
into the project who don't have all the
right technical skills to begin with or
who haven't made the contributions the
point of the mentorship process is to
help them understand how the project
works to help them look out for the
inevitable landmines that exist in a
large open source project to help them
understand what their responsibilities
are to help them understand how to write
a good commit message you know how do we
format our commit messages what do we
have in them these are all important
things and often the relationship
between a committer and their mentor
loss long beyond the point where they be
released by their mentor to you know to
act unfettered on the source tree
oftentimes you know they will continue
through the view work they've done they
have common interests and so
collaboration will continue long after
that this is actually really interesting
it was Fran singing here for the summer
of code mentor summit I guess it was a
lost summer or the end of last year it
seemed like normal open source project
had a notion of Mentor when this
number of code work started in the
context of freebsd project we found that
we already had a model for inducting new
developers into the project it was a
pretty good match for inducting students
into the project there's a very close
alignment between those mental process
monitoring processes and you know
students will need a bit more
hand-holding they may not be as familiar
with Ruby se is the kind of people we
bring in as committed but there was an
interesting model that aligned really
well we found that work very well for us
who are these committees well as I said
there around three hundred and forty of
them there in 34 countries over six
continents we have no committees who are
living full-time in Antarctica in terms
of Ages well it's an interesting
question how all the committee's it's
funny the people who turn themselves in
that is to say tell us their ages are
often at the younger end of our age
group so I sort of done a little sheets
are tree shaking to see if I can figure
out how old developers are interestingly
there about a mean age of 33 this is
actually I think fairly old for open
source projects when I was looking at
some of the other open source projects
we talked to previously developers often
join after they've been to college after
they've had their first maybe their sack
in the ruin their third job these are
people who are amateur developers who've
been working a long time and software we
have professional programmers we have
hobby SP of consultants we have quite a
few university professors we have quite
a few students who are involved in the
project especially thanks to the google
Summer Pro code program so a nice little
Google picture thank you google maps
where is it you find free bc develop as
well you really do find them everywhere
certainly we have a concentration in
north america and europe also in japan
we'd really love it google maps could
have like these little vertical things
are varying height to show you how much
is going on in one place what you can't
see there in japan is that there are a
lot of previously developers in japan
likewise in Australia and in India
especially in bangla how old are free bc
developers this was an interesting graph
to look at i don't know what was wrong
with this year something was wrong with
that year but what you'll notice is that
we actually have a really intense
tribution I'd sort of hope before I came
here that I could shade in the google
Summer of Code students and what you
find is that the sort of the section
here is all Google cover of summer of
code students who've been joining the
project as a result of participating in
the program burger stuff but obviously
we also have a tail off on this side I
was looking at how long people have been
involved in the previous tea project and
for that matter the bsd project we have
people have been
working on the BS the operating system
for going on 30 years that kind of
longevity working on a software base is
really impressive many companies wish
they had people if you work on the
software that long and it makes a big
difference you know you you know why the
code is the way it is because we use
extensive revision control we know why
things were done even 15 20 years ago
which is really quite important I said
we had committees where we have 340 of
them it turns out these committees come
in flavors there are people who work on
the base operating system there are
people who work on documentation and
there are people who put applications to
the platform as you can see a lot of
people are interested in writing in the
source tree and in particular most of
those people are kernel developers
there's a lot of overlap between these
categories and sometimes I have a slide
in this torque which is how many people
are across multiple categories you'll
find that most documentation communities
days are also saw submitters and a lot
of the people work on port have source
access or people work on source at ports
access I'll tell you a bit about why
these are separate types committers
surely one of the properties of the way
the free bc project works is that we
have a core team historically the core
team were self-selected group people who
just worked really hard on freebsd there
were people who made key contributions
and it should have invited more people
into the core team as time went by a few
years ago we actually changed the model
we move to an elected model in which
existing committers select from among
their number nine people to work on
managing the project and the notion of
management is interesting and we have a
bunch of responsibilities as the core
team we have administrative
responsibilities we have to kinda make
sure that the paperwork of the project
takes place we have some strategic
responsibilities you know looking around
and seeing what's going on what kinds of
changes are taking place anticipating
problems before they are having it
before they happen anticipating new
technologies before they happen
committing the project as a whole to
very large types of things such as our
SMP project over a very long course of
time we participate in for example
conflict resolution trying to make sure
that the inevitable conflicts we have
the disagreements in the project on
technical direction or for whatever
reason get resolved these
responsibilities aren't written into
stone what we do have is a set of rules
that defines how we vote for the core
team and then the core team kind of does
what it feels is necessary and we
thought when we wrote the rules that
this was really necessary that we needed
flexibility and how the project was run
because we weren't sure how the project
would change over time especially as it
grew
there's actually a tenth member of the
core team and this is the core team
secretary a volunteer who helps organize
the course he and keep track of the
gender and what's going on our previous
core team secretary with is now a member
of the free/busy core team we thought he
did too good a job and he needed a vote
in order to get things done better so
that works pretty well ports committees
ports in freebsd are the adaptations of
pieces of software to run on the
previously platform so be it the x
server apache mysql or any number of
other applications this usually well
depending on the piece of software this
convolve a little work or a lot of work
open office for example require a huge
amount of work to get it to port and run
late natively on the free pc platform on
the other hand very portable pieces of
software tend to just work and require
you know a 10 line make file to make
them to pile on freebsd as part of our
package collection we have about 160
ports committers as i said they act as
funnels when I say out 1400 ports main
tenders these are the people who are
listed in the mec files as being
responsible for patches that are
committed to the tree so a relatively
small number of people does a lot of the
work to bring in the changes for all
these other places often the ports
infrastructure to build a piece of
software the free bc platform is written
by the people who write the software
itself so they submit to us the
necessary pieces to build the
application into a package and this is
no different from a number of other
operating system projects where you need
the bundling pieces in order to package
it natively in the operating system org
charts are very popular thing you know
the first question you get when you look
in organization is what's your chart
who's in charge how does this work so I
tried to draw an old chart for the
previous II project and it proved really
challenging so one of the big
differences between a volunteer
organization and a traditional Kirsten
commercial development organization is
how responsibility flows so in a
traditional commercial operation people
at the bottom kind of get told what to
do and the people at the top kind of
tell them what to do and sometimes they
do it wrong and sometimes did it right
but they have leverage over the people
who pay a lower in the charge in terms
of their salary and compensation do they
have a job at all the feedback that they
provide in the volunteer project
responsibility actually authority of
sort of flows upwards through the trees
the people on top are elected by the
people lower in the chart so for example
the core team is elected by the
developer pool and there's a delegation
of responsibility so what happens here
is the various source committees elect a
core team and then the core
team goes ahead and blesses the
activities of various other volunteer
organizations we approve charters for
example the security officer team has a
charter that describes their
responsibilities but also the privileges
they have by virtue handling our
security response and this is how we've
sort of manage authority and we
authorize people on the project to act
with additional authority that most
developers don't have for example during
a release engineering process we require
that the release engineering team
authorized all commits the CVS
repository on the branch that's being
released and they have that authority by
virtue of their charger and the core
team having having had the elected
structure inside the project so I won't
say this is a great or charter 3bc
project but i think it's suggestive of
how things fit together a lot of work
takes place in the context of the free
bc project but i can't even begin to
name all of it but i thought i'd point
out a couple of them i mean we have
these volunteer teams that run around
and do work so one of the properties of
the free bc project is that people sort
of self-organized into these teams and
organizations they join mailing lists on
a specific topic sometimes these men and
lists are closed it is very hard to
resolve conflicts when you have
everything out in the open sometimes you
get people together you need to
understand their misunderstandings so
you do it in private email but the vast
majority of the work is done publicly
what are the kinds of things we
participate in well we have
administrative team through people work
on marketing I can't say you get me
involved in some of the activities there
but it's an important role for people to
participate in the open source project
people who work on documentation
relationships with hardware vendors the
Foundation Board of Directors these are
all very important things to do likewise
we have a bunch of other stuff we have
people who work on specific porting
projects we have people who look
specifically at how to maintain things
like gnome and KDE on the FreeBSD
platform bunch of developers were really
interested in making that happen who
worked together to make it happen some
of the other things we get involved in
we have external projects that take
freebsd and do things with it beyond the
scope of what happens in the base
operating system projects we have a
group that works with Coverity to help
manage the set of bugs that come out of
their analysis tool we also run the
Coverity tool ourselves we have a
license from Coverity and a set of
dedicated servers that are involved in
running Coverity against the freebsd
software we run the prevent tool we look
for new bugs we do very interesting
things there and that kind of thing is
possible because we have organizations
like the FreeBSD foundation and sets of
volunteers who go out
these sorts of things one of the
interesting things that have happened
with the free/busy project I think this
is really in the last four or so years
five years is that we've seen a
blossoming of derived software projects
people think of the previous e project
is this one centralized organization we
really do have you know one central set
of CVS repositories but there are lot of
people were taking freebsd and doing new
things with them things that aren't
really inside the scope of the FreeBSD
project for example they're a bunch of
distributions that take freebsd and
build it into embedded products for
example firewalls we even have freenas a
project which turns which provides
things like vmware images and system
images to build network attached storage
devices based on freebsd so they bundle
in configuration parts they bundle in
third-party software packages and
provided as a single image we have for
example disc eluding systems pc-bsd
takes freebsd and bundles that up in a
neat sort of desktop environment
construction they provide their own
packaging tools that make it easy to
install and manage applications provide
a very outer box experience which has
historically not been the focus of the
FreeBSD project you know we like servers
we like invited platforms you know we
were interested in supporting desktop
hardware but the focus of the project is
never been to provide a sort of a GUI
end user experience and the pcbs you
guys I've done a really great job at
starting to bring that to the freebsd
community it's a very neat distribution
it's a challenge how do you how do you
have all of these different projects
going on even though they have competing
interests then we disagree on the point
of the whole thing and I think it's
interesting that we sort of managed to
grow this ecosystem and it's very
important to the long-term scalability
of the free bc project i said we had
mailing lists well we have over 100
active central mailing lists run in
freebsd to dog there were also a lot of
other mailing lists language-specific
mailing less local user groups and so on
I said vast majority of them are public
we do have some private functions and
these typically have to do with conflict
resolution or dealing with things that
are best not handled out in the open for
example security advisories for
emergency security response we get
advanced notifications from any software
vendors about holes in their
applications about bugs in our system
and we need to handle that behind closed
doors so we can do a coordinated
advisories usually they're organized by
topic things like security architecture
and so on and this is where the business
of the FreeBSD project takes place is
it's really on the mailing list we have
archives going back to the early 1990s
and you can really search through
see the evolution of ideas over time the
set of people changing gradually as the
project evolves and so on previously
grew up with the web a lot of major web
hosts actually run freebsd and I think
we exploit the web fairly well we have a
bunch of web pages both from our main
web page and all these derived projects
and things that are going on there are a
lot of them and I won't go into any
detail on them as I mentioned it's
really hard to just run a project when
you have solely electronic communication
anyone who's working at distributor
organization knows that email is you
know one of the worst ways to
communicate with people it's very bad at
handling emotional content it's very bad
at allowing consensus to be reached
quickly it's particularly challenging if
you have a lot of people working on the
mailing lists who speak many different
native languages our work in a language
which is not their native language even
things like the tone of an email can
cause problems if somebody has been up
late at night is having a stressful day
at work and so on so many let's really
make it very difficult to do what we do
so it's important to us that we also get
people together in the same place we
tessa bait in a lot of different venues
there are bsd conferences using these
conferences and so on associated with
these we often hold developer summits
which are typically two day events where
we bring together frequency developers
to talk about the progress of the system
the kind of projects that are
interesting i think this year we're
probably having three of them or maybe
four of them in various locations the
most recent one was in Ottawa Canada we
had very good turnout both freebsd
vendors and consumers people who build
products and previously come to these
and they tell us about how they use
freebsd what they're looking for what it
is they're doing and get everyone
talking to each other thought I'd show
you a couple of pictures this is parvo
he did or ZFS port he made an
observation about ZFS that is they use a
lot of memory we have a long discussion
about that these things is from both
2006 in 2007 these are a social events
as well as technical events some things
we talked about at our last developer
summit a lot of exciting work going on
and what I happen is we know we get
developers in to come talk about the
specific projects that they're working
on for example talking about DTrace or
then introduce things to the broader
community get a chance to get review of
the architectural ideas it's a very
important part of how we do what we do
so it took a little bit about the
free/busy development cycle we use an
heavily branch development model
one of the things that makes previously
appealing for building products on is
that we allow the consumers of freebsd
to live in a number of places with
respect to feature adoption at any given
moment will have several stable branch
is running we might be releasing six dot
x releases and then simultaneously 7 dot
x releases if freebsd consumers are
looking for aggressive feature
development they can live on the CBS the
cutting edge there the head of the CVS
repository they might live on a branch
picking up major new free/busy features
on a regular basis they might just be
looking for security fixes and stability
fixes and they're running several
branches at once we can support that
kind of development model so if you're
building an appliance based on freebsd
and your time to market is maybe 12
months you want to be running on the
previously CVS head because when you
ship your product you want to be
shipping something that is up to date
with respect to what the free bc product
is releasing that way you get security
support in a Rasha fixes on you have an
actor developer community while you're
shipping the product you get the nate
latest features you're going to need run
on the laces hardware on the other hand
if you run an ISP you may want to run an
older version of rubios teeth or at
least a more stable version two previous
you may want to gradually track a stable
branch may be lagging behind the
project's development cycle so you get
the best tested software you get the
software that see the most deployment
you're not looking for the risks
associated with new features turning up
regularly finally yeah you might sit in
a very old version you might just be
looking for these four patches release
engineering is really tricky in an open
source project when do you choose to
create releases how do you choose to
make them we've tried a lot of different
things someone work very well in some
work less well we find the most
effective way to do release engineering
in an open source project is to simply
to set the dates of releases that way it
doesn't matter people become unavailable
with their volunteers it doesn't matter
of the.com crash happens then you can go
ahead and perform releases and you only
wash features when they're ready to hit
the release we tried doing gating
releases based on availability of
features having a to-do list that had to
be complete to get a release out the
door we found that didn't work well if
you were talking about really major
features in the operating system we have
a cycle of about 18 to 24 months for
major zero releases and then we cut
incremental releases off a branch as
time goes by this gets device drivers
out to people what refines features that
have been shipped in a dodo release the
balance is really tricky to get right I
think we've been refining our processor
a lot over the last few years
in terms of development branches I told
you have these different branches going
on we have a concept to the CVS head
where most of the aggressive changes
happened ten years ago the CVS head was
a really unstable place to be we were
reviving the vm system doing a lot of
aggressive work and developers rely on
the CD s head to be able to layer allow
the changes they make that are really
aggressive to get out for wider testing
but we found this model didn't work very
well in this model what happens is
changes appear in the CVS head and then
they get into one of these branches
these stable branches in one of two ways
they are either released as part of the
dodo release or their merged over time
we use the CVS revision control system
for the base revision control project it
does not have very good support for
merging features over time maintaining
branches and so we found that we really
have to supplement that right now we
have three sets of major release branch
is going on all of which is aborted we
have 5x but we've now cut finally our
last release from that branch but we're
still providing support for the branch
some incremental feature improvement is
on we have the six door decs branch
where we're seeing active releases maybe
every six months or so the most recent
was 62 and 72 x we're actually just
entered the release freeze a couple of
days ago for the 70 release cycle very
excited about that release has a lot of
really neat features I mentioned a
couple in a few moments and probably in
about the next month and a half will
brunch the 7th on X bronze create a new
one of the branches that I showed you in
the picture before and start cutting the
releases from that brunch so we're in a
sort of quiet time and development while
we're trying to settle things down to
cut one of these new release branches
you can get free bc in a bunch of ways
the easiest ways to download an iso from
our ftp site our release cycle resembles
a commercial release cycle you go
through a process where development is
relatively open you have aggressive
features being merged into the system
for example in our case that would mean
revisions to the vm system revisions to
the count 0 S&amp;amp;P architecture new device
driver frameworks and so on gradually
you slow down developments as you reach
the end of one of these one of these 18
or 24 months release cycles you freeze
the code this requires the release
engineering team to be approving every
commit whereas in a code slush the
release engineering teams role is to
coordinate the committee features to
make sure things don't get out of hand
you have too many features going in at
once results and instability that
prevents forward progress we released a
series of betas eventually we create a
branch either you know the the stable
branch for the release
or we Bruce a release bronze that we're
actually going to cut it from and manage
a rata and then afterwards the release
branches are actually continued to be
used to hold these security advisory
fixes to hold their Russia and so on and
we actually generate binary updates
straight from builds of the CVS branches
for the releases we do the dog zero
releases pretty infrequently but this
process applies to individual releases
as well as to the branched model for
entire release branches right now we're
preparing for 70 I think we're looking
at maybe three to four months out for
the actual release big focus is of this
release of being multi core scalability
we're looking at scalability to 16 or
more cause we have new schedulers we
have new threading library new Malik
we've done things like poor ZFS to the
previously platform support for the
Niagara hardware and so on we're also
being a lot of very exciting networking
work work and 10 gigabits zero copy
packet capture that kind of thing
support for sctp as I mentioned with a
reference implementation for the SQ
protocol support for super pages and
they are oh s so a lot of pretty
aggressive each is you would want to see
this in a dot 3 release on a brunch
eventually you CVS so we keep pretty
much all authoritative work of the
project in the CVS repository this is
where we can't release is from this is
where we do branches and you really do
find you know the entire history of the
project in CVS and and this is really
important to us we sort of did some
stats and we found that basically every
12 minutes somebody makes a commit to
the CV to the base or CVS repository
even from the beginning I think the
limitations of CVS were apparent to us
when you have 300 or 400 people actively
working to CVS repository I mean you can
barely check out so will you see this up
to replicate repositories so that users
have their own read-only copies of
repositories that projects have their
own read over the copies and then we
channel the rights back to the central
repository so you're only get right
activity on the center of all super
surgery not read activity but even this
is a big scaling problem a branch
development is very difficult to CVS we
actually have four different CVS
repository is holding different aspects
of the process of the project each one
of them with with lots and lots of files
it's you know even in the very the
layout for the repository we have
difficulty capturing the FreeBSD project
about five years ago six years ago we
introduced perforce we use this as a
supplemental repository in which do we
do a lot of the aggressive development
work so I mentioned that the current
brunch used to be a really unstable
place to live the reason it's
not now is that we do much of the really
active development in perforce we merge
relatively complete features back into
the base OS so our perforce repository
branches the FreeBSD CVS repository we
do minute by minute imports of changes
in the base repository then we have a
whole ton of reverb different work
branches we do collaborative work we do
individual work we have guest accounts
so that people doing work at companies
can come in and adapt FreeBSD in the
context of the previously project
without necessarily writing to CVS but
do it in an environment with access
control an authentication and so on a
lot of the major projects they've been
done recently have been done in perforce
everything from our SMP work to
superpages to our work in mandatory
access control and security van to
auditing and DTrace and so on this sort
of project would not be possible without
heavily branch development so give you a
picture that suggests some of the
complexity of what's going on here we
have a main branch running down the
center this is what since EDS developers
for example entrusted bsd will
repeatedly pull changes integrate them
for the main CVS branch updating the
version of freebsd that they're running
on and do periodic code drops back to
the base system as features become
stable and they evolve and this tends to
be a very multi-dimensional process you
have project branches you have
individual developer branches branching
is is very cheap and easy to do in
perforce is very easy to maintain
branches of software and pull the new
changes over time and we really take
advantage of that feature we have a lot
of branches in our purpose repository I
for example I think I have 50 or 60
perforce branches associated with
various projects i've had over time and
it's really integral for the way that we
write the software i mentioned CVS not
holding up over time but perforce has
its limitations too we have issues with
running offline purfles also runs into
scalability issues with some of the work
that we're doing we have a lot of
branches and hardware limitations are
becoming apparent to us another thing
that we really want to do is integrate
the two repositories so we can really
effectively use per forces branching and
merging features to flow code changes
from CVS into work branches but the
process of getting the work back into
CVS is rather painful you have to
generate patches and manly apply the CVS
also the revision history for all the
projects exists only in the peripheral
server and not in the main CVS
repository so we've been tired of
shopping around to find a new revision
control system we would like to go from
I guess two and a half revision control
system CVS with CVS
and perforce down to wasn't revision
control system and we sort of do this
evaluation every now and then we're
actually the process of doing an
evaluation now we find that our
requirements revision control fairly
strenuous and so far we've actually not
yet identified a replacement piece of
revision control software that meets all
of the needs that we have there was a
lot of very exciting work going on a
revision control right now and so we're
kind of holding back to see what happens
and letting other people maybe faults in
the features that we need over time so
we're looking to see what it can do
obviously we have a big investment in
the CVS repository we have today and
perforce and we don't want to lose that
investment and you know just like it any
commercial organization changing
revision control systems requires
retraining everyone who's using the
systems requires interrupting your flow
of work you risk the loss of history or
the loss of access the things you had in
the past you need to update all your
procedures for the new revision control
system so this will be a very expensive
changes so we're kind of willing to
defer it until we find the system that
is just right so I show very briefly
about some of the contributions people
who aren't committed make to the project
one of the contributions that companies
make to freebsd is to host the freebsd
clusters that are hosted in very places
around the world we have a primary
cluster that's hosted by Yahoo they
contribute things Rackspace power
handsome and systems and often hardware
everything from mail servers to shell
servers systems to run tests on we have
a donate your generous donation of a
netapp filer from netapp as you may know
netapp as a consumer freebsd and we
appreciate that we have a bunch of other
clusters that are run by different
organizations including is see sin tax
and canada runs a performance
measurement cluster for us we have a
raise of high performance SMP hardware
10 gigabit switch and so on and we do
performance testing their developers can
log in and check out hardware they need
to do development that way you know you
don't need 400 high performance @ soompi
systems you need 16 of them in one place
and syntax is amazingly helpful and
running the system I was doing
development recently and I ran to what
look like a problem with a serial port
set them an email three in the morning
Canada time and you know literally half
an hour later the mother would have been
replaced on the server saying you know
the serial port Calliope has kept on bad
so we replace that for you and and that
sort of contribution is really important
I thought I'd sort of sort of wrap up by
talking a little about conflict
resolution so if you have you know
300-400 people working in the same CVS
repository your thousands develop the
submitting
is conflict is inevitable I like to
think of free bc developers as
independent thinkers you know they each
have a goal in a mission they're
involved in freebsd for a reason and
they want to get that done so conflicts
are inevitable they can be technical
disagreements they can be disagreements
based on personality on miscommunication
and so on and it's really important to
get these things resolved because it can
be very disruptive for an open source
project to have constant disagreement
and and so the previously core team this
is one of their key roles instead of a
quiet behind-the-scenes role what we do
is we actually identify conflicts before
they take place we see that people
aren't getting along we see the
possibility of conflicting work when two
people are doing working independently
in the same area we try to sort of step
in a case you when there are big
disagreements and these happen happen
everywhere they happen in commercial
environments they have an open source
the free bc core team will actually
assign i don't want to call them
handlers exactly but people who were
kind of work with the participants to
figure out you know is the problem
communications is the refund a mental
technical disagreement we need to make a
technical decision about what is the
right solution to a problem or does this
come down to a personality conflict how
do you resolve this I thought I'd talk
briefly about the bike shed some of you
may have heard the poisonous people to a
fist comes from Parkinson's Law this is
the observation that when you have a lot
of people work in a very complex problem
it's hard to find people who have really
strong opinions about the really big
issues because you have to be competent
you have to take responsibility for
fundamental architectural decisions
you're building a nuclear power plant
and very few people are going to come in
and sort of nitpicking details of how
you build a nuclear power plant because
if you if you suggest a change in the
design and you get it wrong then there's
well there are serious consequences on
the other hand you're building a bike
shed outside of the nuclear power plant
and everyone has an opinion on what
color you're going to paint the bike
 pool heading camera at a very nice
email a few years ago on the topic of
bike sheds I think sort of be
popularized among other open source
projects this is a disagreement where
everyone comments on the placement to
prep this is in an big patch and no one
actually comments on the fundamental
architectural issues you have to
recognize these things before they
happen prevent from happening of course
you also have to deal with the people
who will try to close the discussion too
early by saying it's become a bike shed
and it hasn't in fact there are still
fundamental technical disagreement so
the dynamics of mail and less traffic
are interesting to deal with this is one
wash by the way and he's expressing his
disapproval of by
this is the limit edition freebsd bike
shed t-shirt so i guess i conclude by
saying free bc project is one of the
oldest open source projects we're also
one of the largest open source projects
we literally have hundreds of committees
all interacting on a daily basis in our
CVS repository thousands of contributors
and millions of lines of code but what
makes this possible was actually the
social model around which it works the
process of mentoring new developers in
the community how do we do release
engineering how do we do highly
distributed development again dozens of
countries thousands of people working
together how is it that we perpetuate
the project that you know the original
people founded the project you know they
have other interest now they have a job
now why is it that the project persists
even though we have changes in
participation and change the involvement
over time and I think it really is the
community model and we've seen that
model adopted in part or in whole by
another of other open source projects
and so I guess I would encourage you to
take a look even if you don't use
freebsd or aren't interested in free bcs
software to take a look at how we run
the project because it really is it
really is a very interesting place so if
you want to learn more about freebsd
take a look at the freebsd website you
can find pretty much all you need there
there are a lot of mailing lists and we
would really welcome more people
participating in the community so with
that I'm happy to take any questions
yeah yes you tell us which ones ah so
the question was we're looking at
various distributed source control
systems which ones are over interest and
how we evaluating them and so on well
we've looked at number of systems among
them svn SDK we've also looked at
mercurial really extensively we've
looked to get and so on we have a number
of criteria that we need to address and
adopting the system the most important
of which is can we bring what we
currently have into the tree and for a
very long time this was the blocking
factor in really considering any
alternative revision control system we
have a massive CVS repository at history
going back a very long time CVS didn't
meet our needs so we have a lot of
scripts that do things like repository
copies and so on and these cause
problems for importers that are trying
to mechanically important to other
systems I think it was a period quite a
few years ago when someone tries to
import freebsd into subversion you know
month later the importer script is still
running and it turned out there are some
rather divergent things in our CVS
repository the CVS is quite happy to
or so so that's sort of the most most
critical thing we're looking for the
features that are present in CVS and in
perforce we're looking for very easy
branching we're looking for lightweight
merging we want developers to have
dozens of branches when they work on a
new project create a new branch I'm not
talking about one branch by developer
because many developers have many
projects you want to keep this of the
functional project separate we need
ability to have collaboration we need
the ability to have authenticated access
by guests into the system and access
control so we can limit people working
for example on a guest project on a tty
driver to just working in one area of
the system we have varying degrees of
trust the people who join the community
and over time people we build up trust
for those people and we want the access
control in the system to reflect that
one of the requirements that is not
currently met by any of the distributed
revision control system that i know of
it is it's a requirement we've been
talking to some of the people who write
these systems about is obliteration once
in a while something enters your
repository no things these things happen
people commit core dumps you know we
tried we checked for these things in
various ways people commit code that for
various reasons has intellectual
property reasons there's a concern about
it should not have been committed for
technical reasons occasion you just have
to remove things from the repository and
you need the history not to persist and
this is a feature that is not supported
by most or I guess any distributed
revision control systems and it's
something that we've taken to the
authors of these systems and talk to
about so i think it's it's on the to-do
list of there for many of these systems
but it's something that we need we find
systems like subversion very very
interesting we are interested in them
especially once they have the ability to
do automated merge management when you
snow what features have been merged from
one branch to another we need to
cherry-pick features over time it will
be really neat for our release
engineering process if instead of having
people send patches to the release
engineer saying could you approve this
patch they could say okay we've set up
this change step to merge these changes
from here to there could you review the
change set before the merge takes place
or could you perform the merge yourself
using the following change there that
kind of thing is would really help our
release engineering process and it's not
possible in CVS today so we're looking
for the best of both worlds put that
answer the question Thank right yeah
so how r it is in sort of bug reports
and so on yeah so we use the net system
okay sorry the question was about issue
tracking so I guess you know bug
reporting feature requests you know that
kind of thing right now he's the Nats
bug management system Mike no we didn't
have a slide on that we're not very
happy with it it doesn't really meet our
needs we've been looking over time at
other systems I think we've really made
any commitment to pick any of them up
there's been a lot of work just like in
revision control systems in bug
management systems in the past few years
and it's probably something we should be
evaluating more seriously yeah oh yeah
so ESD drive systems and there are few
code similarities between them because
architectural II they derive from the
same system I think you'll find if you
look that a lot of code moves back and
forth between these systems for example
our hips tech implementation is a
combination of the ipsec provided by the
openbsd project and although refinement
done by sam laugher and some of other
developers the USB stack across the
project is shared the ufs to file system
was developed on freebsd and is now
present in a PSD open pam on freebsd
ended up in net bsd openssh ended up and
all them so they're independently
developed projects but there's a lot of
cross-fertilization one of the things
that has made cross-fertilization
recently a little difficult with kernels
as the free bc project has adopted the
scalable SMP model we have very fine
grain locking and then makes it a little
harder to pick up large software
infrastructure components from some of
the other systems but obviously there's
a lot going on there you know the
question
okay thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>