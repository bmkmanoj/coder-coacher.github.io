<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>IMUG Meetup: Google's International Bloopers...and How We Fixed One | Coder Coacher - Coaching Coders</title><meta content="IMUG Meetup: Google's International Bloopers...and How We Fixed One - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>IMUG Meetup: Google's International Bloopers...and How We Fixed One</b></h2><h5 class="post__date">2012-09-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/GmGOXQSFDqQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">let's talk about our topic for tonight
Google's international bloopers and I'll
introduce the rock stars we're going to
speak tonight Mark Davis co-founded the
Unicode project and has been president
of the Unicode consortium since its
incorporation in 1991 that was shortly
after I mug was founded and Yan ho back
there are chairman emeritus was hosting
people on you know talking about unicode
when nobody know what it was and they
used to all of this was was down and
just like a little piece of Xerox paper
posted on bulletin boards around
Stanford um the the rest of the marks
bio here tells me that he was one of the
key technical contributors to the
Unicode specifications he found it and
was responsible for the overall
architecture of international components
for unicode ICU and also architected the
core of the Java internationalization
classes they say that three times fast
and he also founded and is the chair of
the Unicode common locale data
repositories the LDR I could go on but
he's done some good work our first
speaker will be Luke Swartz your first
right and Luke he's got a BS in symbolic
systems and an MS and computer science
from Stanford he served as a nuclear
submarine ER in the US Navy and if he's
got patience for that I think he can put
up with this group and he he's also been
a divisional and project manager on that
submarine USS Ohio ah and short command
commander submarines Europe and Africa
but since 2010 he's been a project
manager for Google's
internationalization team where he's
worked on various projects involving
language in Google products and the
plural gender API and you know I do want
to thank Luke for helping us put this
together and also Ria's Iggy and the
entire Google i 18 n intergroup 'let
without whom we would not have this
room or this event or that good food
let's hear it for the food thank you
okay now I'll turn it over to Luke you
don't need this one yeah okay all right
thanks very much Joe I there is joking
with someone that's sort of like you
know being the opening act for you know
like you know some big band you know
Mark's kind of a star here but so my
initial talk here is about what we
called international bloopers so this is
a talk that we gave internal is slightly
different version of a talk we gave
internally to train engineers and
localization and internationalization
people at Google about just it's mostly
a light-hearted look at things that we
screwed up over the last couple of years
and in some cases they're just funny
things but in some cases there are
things that we can learn from and many
of them are lessons I'm sure that you've
seen before but it helps to be reminded
of them and this might give you some
interesting examples you can give your
colleagues that maybe aren't in the
industry so you could say hey even
Google screw this up and we don't want
to make the same mistake so I'm going to
start with an example that's not from
google though I can get this going so
this is a very popular restaurant the
translate server error restaurant and it
turns out it's actually it's a chain
there's there's another one of this now
this this is not a Google example this
is a google translate does not give this
particular error but this is the perils
of machine translation which we'll get
to in a second all right so so this is
the island of Samos Greece does any does
anyone here read Greek can anyone read
what it says there oh good yes MacGyver
that says MacGyver
alright so what how did this happen this
we this was the this the source of this
was Wikipedia so much of our data on a
lot of the Google properties including
maps comes from Wikipedia and someone
had vandalized the the same host page to
change the name to MacGyver and as if
you're familiar with Wikipedia normally
this kind of vandalism doesn't last long
maybe you know an hour at most but we
happen to be scraping it right when that
happened and we do run it through an
algorithm normally that checks for
vandalism but something was wrong
without algorithm where in fact I think
it was the opposite where the bits got
flipper when it thought it was a
vandalism it thought it wasn't and vice
versa so there was a bug in that coat so
as a result it ended up on all that you
notice it's on desktop on Google Earth
and on mobile we were showing MacGyver
for at least a few days and ended up in
the Greek press and all that it was
pretty funny so you know this is and
it's not strictly speaking a
localization internationalization a
problem but it does show you the dangers
of just scraping things without some
kind of a check for it all right so this
was an example from google calendar so
there's a anyone here use google
calendar yeah okay so this is a feature
I know if you're familiar with it where
you can find a time for a meeting
automatically if you're having a meeting
with more than one person and in Spanish
we translated it and print throughout
and Waco so does anyone know what that
means in Qi Lang June in Chile yeah fine
sort of find a hole in the schedule
right is what kind of it means well in
Chile specifically it means like sort of
sexually find a hole right so so we had
these like these blog posts about what
is this google porn like so it was you
know so and it shows you in most other
like in iberian spanish and most other
Latin American locales this isn't a
problem this is sort of you know it
makes sense but but specifically in
Chile this was a idiot accuse there so
it shows you that you know we recently
launched in many of our properties latin
american spanish but even within latin
american spanish there's there's many
dialects and many of those dialects have
little sore
sort of pitfalls that you can fall into
so this is another thing you know I'm
sure that that no company it gets
everything perfectly localized into
every dialect but you know it's
something you have to look out for and
is you can imagine it's difficult to
hire someone that's familiar with all
the Latin American dialects that can
catch this stuff ahead of time right so
so this is an example of when when jaibo
visited Malaysia so I don't know if
anyone hears that it's kind of blurry
but I know if there's any native Chinese
speakers here but basically this this is
the translated welcome to one jaibo the
prime the prime minister of China but it
it's very awkwardly translated I'm not a
native chinese figure but I've been told
it's something like welcome his
honorable Prime Minister China like it's
sort of like it's not quite dramatically
and when they looked into it they found
out that it's exactly what you get if
you type it into google translate so
they basically just did a straight
machine translation and put it on this
big flyer right behind when he arrived
in the country so you know this is
obviously a bad example of when to use
unedited machine translation you know
when a head of the of a foreign
government comes to visit you so a
similar example so this is an art that
what's funny about this one it's an
article about when to use and when not
to use machine translation that someone
wrote that that Alton end professional
road but then the editor of the magazine
decided to add some graphics and they
added this so does anyone know what this
says in yeah not no it's not quite that
no this this says it's supposed to be
lost in translation but it actually says
lost in Tokyo yeah because this is Tokyo
right so how did this happen well it
turns out once again in google translate
if you type in lost in translation it
gives you the equivalent which is the
name of the film lost in translation
which is lost in Tokyo right so similar
kind of problem there so yeah so so
again it was sort of both of these
examples are what's particularly ironic
about this one is in the whole article
about when to not use machine
translation and obviously the
editor of the journal didn't actually
read the article so alright so this is
from Riga the capital of Latvia and this
is their monument I think it's called a
victoria monument so this is a monument
it predates the Soviet era but it's sort
of a very nationalistic monument it's
seen as like a symbol of latvian
independence and if you look on or if
you used to look on google maps the the
the the label for it was written in
russian right so so here you know again
it is not strictly speaking a monument
to celebrate their independence from the
soviet union but it sort of has taken on
that meaning and you know and this is
again an example where it came from
wikipedia and we just weren't doing very
good language resolution you know that
especially if someone's viewing maps
using latvian there's no reason to show
russian stuff even if it ranks higher on
wikipedia right so and this is one of
those things that we continue to work on
is better language preferences at Google
and I can talk your ear off about it
after the the talk if you like what
we're doing to try and fix that so this
is an example from Swedish so I'm not
try to pronounce it but I think it's on
this nigga is how we translate it get
directions I know if anyone Swedish
speaker here but basically that means in
Swedish get instructions so this is a
good example of when it's the importance
of having good string descriptions when
you're going to outsource translation
through a vendor right because the
vendor just sees get directions and if
you think about it get instructions is
more or less than onimous for that but
in the context of this is getting
driving directions or transit directions
obviously directions and instructions
mean very different things so when we
switch this from instructions to the
correct translation we had I think it
was like fifty percent higher
click-through rate on this feature so it
shows you the the big impact of getting
translations right as well this is sort
of a two examples in one so this is from
a French version of YouTube if you look
up in the upper right there it says
humble you and video and so the first
problem obvious
is that it's expanded to beyond the
length of the text field so sort of a
bad i 10 n problem but then also envoy
yay and French means to send the video
which sort of implies that you would be
sharing it with your friends but this is
the upload page so when they changed it
to a judean video which means to add a
video again they saw click-through rates
go up a lot so this is sort of two
problems in one you know not not quite
getting the context right but also that
the the length of the string or the
links of the text box wasn't appropriate
for all accounts so this is from the
hungry I know if there's any Hungarians
here or anybody all right so what one of
rims in my fellow sort of volunteers and
intergroup is Hungarian and he pointed
out this one so this is one of the two
hungarian national days and in English
it's called they're both called
Hungarian national day but in this case
it's from the 1956 revolution but this
particular day which is the March
fifteenth is to celebrate the 18
something I forget exactly i think is
1890 something revolution because they
had two different revolutions that have
two different national days so it's
basically the equivalent of a hungarian
of like on the fourth of july saying
happy memorial day you know just sort of
does the wrong holiday altogether and in
this case it's because this is one of
those examples where one phrase in
english corresponds to two different
phrases in a foreign language right and
you could think of probably other
examples that are the opposite but so
when we have this sort of you know when
there's not a one-to-one relationship
it's not easy to get it right does
anyone spot anything wrong with this map
so what do you yeah so you notice right
in the middle so this is outside of
Montgomery Alabama and right at the
intersection of those two highways
there's there's a label in Arabic and it
turns out this happened all over google
maps so so that we we had conspiracy
theorists on the internet claiming that
Google was trying to advance Sharia law
and so so what happened my favorite
example there was a comment on a blog
about this one that said well it is
Alabama so I
so the so what happened here was there
was there's a bug in our labeling system
where if it didn't know what label to
show it just defaulted to the first one
on the list well what's the first
language on the language list well
Arabic because it starts with an A right
so therefore it not just in the US but
many other countries just random Arabic
label started appearing and until they
fix that bug so again sort of a sort of
a interesting one there this is another
interesting one I don't anyone can read
it's kind of fuzzy here what this says
here so what is it saying yeah so it's
supposed to be small medium large but
instead it was saturday medium large
right so and there's also that I think
the Chinese version of this was Sunday
Monday large right so this is another
example you know where we're again in
this case I think the the the programmer
did what they were supposed to do which
is spell it out in the string
description in this case the translator
was hasty and didn't actually look at
the description so but you know it sort
of shows you the importance of lqa and
yeah this is the Chinese example that
where it's a similar thing this is
another example from our mobile browser
for Turkish so in this case they were
told sort of you have to take up exactly
the same amount of space that the
English does and as you know languages
don't work that way so in this case the
abbreviated every single word in a
sentence so it's sort of like saying
this is a right you know like you can
bit like you can barely make out what it
means because every single word is
abbreviated so yeah so you know this you
know it sort of shows you can't make
unreasonable demands on transit I don't
know who told the translator to do this
but right it doesn't even Yeah right so
let's say and then this is sort of a
transitional one so to any Russian
speakers here so basically for a long
time on web search if you if you notice
on our web search results on the left
side you can filter by
i buy time period you can say hey I want
to see results from the last you know 24
hours or last three days that kind of
thing so in this case for Russian we
were abbreviate his last three da sort
of like not days because the fully
inflected version of days would change
based on the number so there was no way
to get that right so we were just
abbreviated so it would you know drop
the inflection so now I'm going to turn
over the baton here to my colleague mark
davis who's going to explain how we
tried to fix this thanks Lou ok so
what's what's the plurals problem the
plurals problem is the case where you
say you have one emails and you've all
seen this you've all seen cases where
somebody put the s in parentheses it
doesn't really work very well for
English and it gets worse for other
languages so let's go through this but
the key problem is we have a placeholder
so someplace if this sentence is being
composed using a placeholder which is a
number which can have an arbitrary value
and the rest of the sentence now it's
being correctly substituted in but it's
not making the changes on the rest the
sense that it needs to do in order to
work right so you've got lots of work
around people put the s in parentheses
we recommend it for a long time that you
sort of make it a form style you say
number of emails colon one which can
sound really kind of awkward depending
upon how you're doing the the rest of
the text it gets worse than that Alice
added one context to his address book ok
you want to sound natural if you want to
sound natural you've got to be able to
use things like pronouns and so these
placeholders are changing Alice the fact
that alice is female means that his
ought to be her and once again we had
the same problem with the number
contacts
I'll talk a little bit more about that
okay I have a reveal this so what do we
do we we actually started working some
time ago on this on a plurals and gender
API we did this for a large part through
the open source ICU project and what
this plural and gender API does is it
provides for parallel translation of
messages all of the different forms of
the messages that we need in order to
handle plurals and gender and it handles
the complex plural rules that you find
in lots of different languages it also
handles personal gender roles now what
it doesn't do it doesn't do more than
one plural in a sentence that's actually
not a technical limitation of the
software that's actually a limitation on
our translators because we found that if
you show them more than one plural in a
sentence their minds sister to fry it
gets it gets very complicated it does
not do gender of objects so if I have if
I'm using for example German where a gas
station is feminine it's not going to
know that a gas station is feminine is
not going to use the right forms and it
doesn't do declensions so let's dive a
little bit into plurals and in English
plurals are really very simple you learn
singular and plural but one of the key
things we're looking at is for us
plurals or whatever you have to do in
order to make the rest of the sentence
flow naturally so in some cases they
don't exactly match to plurals or gender
as you think about it when you learn a
language so for English we end up with
really three cases because it's
important to be able to say sometimes no
people no days or so on so we have in
this case zero days one day and other
which is plural is 2 3 4 and so on
well in a lot of other languages it's
much more complicated okay Ukrainian you
end up with these forms 401 you also
have the one category which includes
lots of things that end with a one but
are not identical to one so if you think
about a little bit it's kind of like
first second third in English it kind of
skips over you don't say you say
eleventh you don't have an ST on the on
the 11th but then you go to 21 22 so on
that's how it works a little bit like
that a lot of Slavic languages so
there's a category one which is used for
this these successive versions a
category few which covers 2 3 4 22 23 24
and so on and then there's an other case
and notice how much the different forms
of day differ Arabic is the worst that
we have arabic we end up having to have
six forms six different categories to
use and apparently according to the
people that we talked to the situation
is actually even worse than that in
classical standard modern Arabic but
people are used to using being
restricted to those six forms so we
dodged a bullet there okay there are
lots of different plural rules this
chart shows you the and it's it's hard
to read I'm just going to give you an
impression of it it shows you the
different plural rules for the languages
for which data we've we've collected so
there are at least what 1 2 3 4 5 you
know say a dozen different patterns that
different languages use and these are
just for the languages that we have so
far okay so let's drop two genders
genders is a little bit simpler we have
three genders and it's not because we're
in the bay area we have
female we have mail and we have other
and other is used in two circumstances
one is we don't know the person is is
declined to state the other is the
person has decided they don't want to
reveal that information so the two kinds
of situations where we're just going to
not not be able to know and in that case
we still have to show some kind of
message now in some languages that
message will default to mail in English
there's a workaround you can use the
plural in other languages there are
various other sorts of workarounds we
supply that third case so that people
can deal with it so our translators can
deal with it now these can all nest with
the plural rules so that we can have
person added number contacts to the
appropriate his her or their address
book the other thing is is this can be
used for more than just gender once we
release this internally we found people
we're using it for things like selecting
between short and long messages a key is
that the message is all bundled together
for translation and there's otherwise
not a guarantee that the same translator
will translate the same message or all
the different forms so this way that the
developer can be assured that the same
translator will see each of the
different forms the messages so that if
he has a short and long version those
are going to be translated by the same
set of eyes you're not going to get
gratuitous differences so when to use
gender the first condition that we have
is you have to know the person's
reported gender the second condition is
that the developer we have to tell the
developer is if you directly reference a
person so John did X check out her
profile you're the only participant now
in English it doesn't make any
difference but in French for example
you'll use participant with an e on the
end or not depending upon whether the
you
is muscular feminine you also view the
users library the user might be male or
female then you can make that
distinction what's a little bit trickier
is their indirect references to a person
so there are a number of languages where
if we say look at the photos we're going
to use different construction than
whether the person that you're asking to
look is male or the person you're asking
look is female welcome is another one
there's an implied we're welcoming you
and in some languages you'll use a
different word to pay upon whether
you're talking to a male or female so
what is the developer right the
developer rights as normal a string to
strip description and some of this is
abbreviated because what we do is we
also include a URL in here to give the
translator some instructions on this on
using this sort of thing huh then in
this case the syntax is this is in
JavaScript and so the developer would
write message equals Google get message
and then a certain sort of syntax that
bundles everything together so in this
case the he's got the equal zero case
the equal one case in the other case now
the developer can actually put in more
if it sort of makes sense for the
particular circumstance that he or she
is working on so the result is you get
you get a call at some point in the
program with some of the parameters and
the final result is you have five emails
in real items okay our requirements are
we actually have people put the literal
string ICUs index into the string
description that's mostly for our
tooling that lets us as we're going
through the whole translation process
that lets us find these messages it lets
us know how many
there are in the system lets us double
check and see well if I see you syntax
occurs then the message had better be in
ICU syntax so we can check that and give
people errors if it's not and vice versa
we also checked every message to see if
it is in plural or gender syntax and
it's missing that tag then we also login
error as well and the English developer
has to put in the 0 &amp;amp; 1 forms for
exactly zero and exactly one and has to
put in other so here's a translated
example so the original source is up on
the top and you see the example in
Serbian below one thing that you'll
notice is that you'll see different
forms depending upon whatever the users
languages so in this case the 0 form the
to form are not used in Serbian but the
one few many in other form forms are
used in serve you now right now we've
got a bit of a hack we have a the way in
which we send translations out means
that they go to software that's not
controlled by Google and so we end up
having to fluff this up into all the
possible forms and then we have a widget
that we tell the translators to look at
that will say which forms to ignore so
we tell them okay if you're Serbian the
widget will tell you well don't don't
fill in the 0 don't fill in the the two
we're not going to look at those and the
developer can also put in and say well
I'm never going to tell the user that he
has no friends okay so in that case I
would just put in unused plural form and
it'll never get translated either okay
so it gets actually a little bit more
complicated too there's an example with
a remainder so what we also do is we
also say well there's some circumstance
is where I want to say John and Fred and
Tom and five other people did X and in
those cases we end up having this offset
parameter and so I can say well I want
to have even more messages because I
want to have I want to explicitly
mention up to three people and then have
the escape cases for the other ones so
there's this all set parameter and the
whole set parameter in this case I'm
using an offset of one typically we
don't use more than I think he is maybe
two sometimes sometimes three something
like that offsets because you will end
up with more more messages for people to
translate and I mentioned that you can
have plural and gender and this is one
of the reasons why we don't allow
multiple plurals in messages is because
you get the cross product of these
things so if you have a female male and
other and you also have a person that's
typically the worst case we get I think
there's some messages where we actually
have three levels deep so you have one
person you have their gender yet another
person you have their gender and then
you have a number in the same sentence
and that gets to be pretty big okay our
eighth API supports this in C++ and Java
JavaScript it supports it in wis it
sports in something which we internally
called soy which is also called us
closure templates externally and then
it's open source as part of the ICU
library so this is the original web page
that you saw and we actually got when
this went into production it was kind of
dark and we got this email from our
Russian office and they said oh my god I
didn't believe it when I saw this we've
been complaining about this forever and
you guys finally got it and they were
have so pleased that we were actually
getting the plural forms in for the
first
and it's appearing in other projects
you'll see this in google web search for
example you'll see a Michelle and one
other person 1 plus this and you'll see
this if you had five other people that
it would modify two people so you're
going to see this in more and more
projects on google and i think it's
we're ready for questions loop do you
want to come okay so so the question is
you could have the person you're talking
to will have a gender and you could also
have other people in the sentence have
genders indeed the object or or whatever
I mean it could be a variety of thing
that could be an indirect object job but
we do handle multiple genders you can
have arbitrary numbers of people whose
gender being referred the the key is
that the developer just has to be able
to supply that information so I think
there was a question earlier where does
that come from well it can come from for
example the user profile so if it's
someone who's logged into Google and
they've they've exposed their gender
then we can use that in in explosive
that sounds like maybe I shouldn't use
that phrase having a congressman now it
would happen to him
already resigned so so if they reveal
that's I if there ginger is known then
we can use that and so if John is minced
in the sentence and then you're working
on the computer and you're logged in and
there's a sentence which gets translated
mentions John and you're in there too in
some way we can we can change the sins
depend upon both of those I'm sorry we
do not do it based upon the name itself
I mean you can't uh that would be
speculative okay you don't know that
Jackie is a male or a female it's sick
it becomes yeah yeah it did the there's
Pat there there about too many cases
where and the same name actually across
languages in some cases the name is
strongly male and the same name would be
strongly female in another language so
you can't really do that question yeah
so the examples that you get a also seem
to be showing non negative integers says
your domain so let me ask a little bit
about but domain of things that you
could agree with the number mm-hmm
unless several flavors of this question
um one of them is is written well you
know if you ask a long complicated
question I'm not going to be able on p
diem videos so if you can break it up in
a small piece I'll ask all the questions
you repeat so one of them is fell down
to build out numbers so oh it either so
what so the question is what do we do
about oh any versus the number one and
currently that's a restriction is we
depend upon the number being expressed
as series of digits now it doesn't have
to be western digits it could be Arabic
digits could be ending digits and so on
but it has to be a series of digits
there is facility and I see you for
doing number spell out but that tends to
inflict and we're not prepared to
handle those inflections issue is to
connect surprise decimal fractions and
common fractions so and the interesting
thing very can add exactly the same
value and in one way it's Earl noodle
suitors you can have a half day singular
0.5 days okay so the question is how do
we handle fractions including the fact
that their differences between decimal
fractions and animal to rationals okay
what we do right now is all the message
that the body of messages that were
primarily concerned with our integers we
do have some support in for fractions
decimal fractions actually the problem
even comes up with decimal fractions
because take in English you'll say the
modern American family has one child per
family but you'll tend to say the modern
American family has one point Oh
children per family so even though it's
exactly the same value we tend to use
the plural when we've got a decimal even
if the same thing and you as you
mentioned there's a problem with one
half vs. point five we're looking right
now at that and it turns out to be
fairly tricky fractions for example in
in Serbian you what you tend to do is
you tend to take the last number that's
mentioned and use that key it off except
where you've got two and then you take
the two as if their hunt up if you take
dot to one for example you treat it as
if it was 21 so you get one point one
one will take the same form as 11 does
ok so the fractional rules get really
kind of tricky and we were looking at
those but our primary focus initially
has been integers and positive integers
well not
futures um other questions I was always
hungry I have the kind of some
experience with working with linguist DJ
and honestly I mean I think lots of
different kind of impact from that honey
sometimes you give it kind of just one
random string and they actually try to
translate it in a cut of the Muslim for
way and sometimes they're really kind of
come back and nag at us that being
suspended and then basically for them
and they actually kind of gets really
confused and it actually spent it so
it's just really kind of basically
asking but its body my first more
limited number of languages amazing so
you probably have much more linguist
this so horror stories or as yellow says
we're so one of our sort of people that
helps manage our translation vendors
said that when he first rolled this out
so use the one who does it for Italian
they didn't believe him they were like
no no you just wanted us to write it as
number of emails colon number right i
mean because there's no way to translate
it properly ins like no no look there's
there's three different versions so you
can translate it properly and they were
like wow we've never seen this before so
it is a bit of a shift right and the
translation industry isn't used to this
at least not yet so it does require a
significant amount of training and we
still get errors sometimes pretty
substantial ones but eventually people
sort of get it and that's the key that
mark was saying is that they're all
parallel translations so that the same
translator is looking at all three
versions you know it's not enough to
split it you also need all split
versions to go to the same person
because otherwise you'll get it'll look
like it's written by rent like reserve
ransom note writing where you know when
it's two people it's one phrase and then
when it's 3 people it's written another
way and it it'll be even worse than if
you just kept it the old way you know
with we did we did tweak the format a
lot as we went along to deal to help the
translators that I mean the actual
technology of formatting the message and
so on that pales beside getting this to
all flow through the whole translate
mechanism from start to finish it back
without errors so there for example if
you look at this originally I mean the
technology supports having the thing
that's nested be actually in parts you
can actually nest any part of sentence
arbitrarily in the format but we ended
up after working with translators so in
deciding well we're just going to
enforce that every single version is a
complete sentence and every single
version you you will have it even though
it's not necessary to show all of these
forms it's not necessary to always have
0 and 1 we enforce that on the developer
because we found there were just too
many mistakes if you give people too
much freedom okay if you if you if it's
a very sort of set pattern then they can
learn to deal with it if they have too
many options then it all falls apart
yeah a new question back here yeah so
the question is now that we've donated
this to ICU the question is what tool
sets are planning incorporated that's I
think well first I want to say that this
is the plural and gender support a lot
of this came out of work that was
already being done in ICU and being done
by other participants in ICU so for
example the the selection support which
became gender that was contributed by
Yahoo for example so I don't want to
give the impression that we originated
all of this the second thing is is which
which systems are or which truly is
going to incorporate this well I assume
Yahoo's going to incorporate part of it
since they don't it's um it really
varies and we don't in ICU we don't keep
track of who's using which things for
but inside of Google we can query and we
can find every single code instance of
anybody who's using this stuff we know
every single message is being translated
with it but of course we don't quite
have that same freedom outside we are
exposing it a me see I think it will go
into Google in your language just
naturally I believe it will I believe
it'll go into that it is being supported
in gtt it's being supported in grit
which a lot of people use so i expect
this and more support to appear the
closure tools as well closure term tools
so people are adopting it hoja template
i mean the closure templates it turns
out to be it's it's very easy to
implement if you it's very easy to
implement as a stand-alone function that
a developer calls it's a little more
work if you're doing a template language
like the closure templates where you
have to wear if you want to really
integrate it in more deeply than you
want to make some syntactic changes in
whatever your template languages okay um
just a second i think greatly expanding
the number strings what does that do to
your schedule and costs and have you
gotten any push back yet what we have
had to increase training it does take
more time for the linguistic you a we've
tried to focus the use of these where
they are the most important where
they're sort of the most natural the
most common messages that people are
using where you could depend upon it and
so we're getting we're rolling it out as
we go do you want to add it and so I you
make a good point that you know by
splitting
each you know like you saw in the
plurals particularly in Arabic you know
you're splitting from translating one
phrase to six so you've just you know
multiplied your your localization costs
by six times so that's that was sort of
a known issue when we went in what's
frustrating for the translators at least
initially was hey it's not only more
words but it's also more work for me to
figure out how to how to get how to do
this at least the first few times once I
get the hang of it it's not so bad but
you know there's some ramp up costs and
and that they were kind of complaining
hey we're not getting paid anymore we're
still getting paid by the word because
that's sort of the standard and industry
is to pay by the word so you know the
day the would get paid six times but
just they don't get because they would
argue not only is it six times the work
it's really 12 times the work cuz I it
takes me a long time to like figure out
how how this syntax works right so yeah
so the first was the first time you do
it first time you do it yeah there's
some ramp up costs right so we did get
some complaints about that but I think
in general at least our localization
management team really loves this
because it solves a problem that they
had been having to deal with for a long
time and there's really no good way to
solve this in many cases so like like
Maher said especially for where it's a
high impact string and it's something
that there really is very awkward now
that's where we've been trying to focus
on like obviously if you did it for
every string in your UI then your
localization cost would spiral out but
if you sort of focus it on where its
most year the most bang for the buck
literally you know you might I think
that were bein do it and we did
investigate for example for the plurals
and the plurals are the ones that expand
a lot we didn't investigate to see how
many messages in google what proportion
of those messages were plurals and
that's one of the things that convinced
us that we could deal with the
restriction of only having a single
plural form per sentence is there was in
all of the google translated text there
were only there was only one message
that two numbers inserted in it and so
we were able to get by without sporting
okay let me see
that that's that's you asian languages
as far as this is concerned are
wonderful right you know we're all
familiar with the problems of input and
the problems of fonts and so on and so
forth but as far as plurals are
concerned they're wonderful we love them
so what happens with Asian languages is
typically the sentence will be the same
okay there's there's no difference in
the sentence across when you change
number and so it's even simpler than
English now like Mark said the the
gender thing is just a select statement
so you could use it for things other
than just gender so and many I know like
for example Japanese has a number of
distinctions based on politeness that
sort of thing you know so in that case
you could use that you know you could
use it for a TV distinction in like
Latin you know and romance languages as
well you know so you could use it
anytime you want to have parallel
translations for you know that you want
to be able to to cue on some some
variable right so like Mark said you
know for particularly plurals and also a
little bit gender like most Asian
languages are you know the easiest ones
really on our list but you could use it
for some other things that might be
trickier in Asian languages okay Oh with
a different counting systems for
Japanese yeah I don't think we really
handle that the counting systems and
inflections are one of the reasons why
we enforce that it's in numeric
substitution and so its up but it's so
it's up to the translator to find the
best format given that it's only going
to be a numeric substitution yeah okay a
new face yes okay again well no no we're
just saying that you could use the
generic capability of selecting more
than one thing and having parallel
translations you would still have to
work out
on the developer side when how do I know
whether to use a tea or a V form right
but I'm just saying that you could use
this facility to to have automatic
translations be paralyzed and then be
able to select them in runtime yeah yeah
I know you could have an attribute ism
we haven't figured out how you figure
out the formality attribute like that
that would be you know the developer
adaptive here but I'll give a concrete
example I mean we released this into the
Google source base and then lo and
behold a week or two later we were
looking at some of the messages and
somebody was using it for short versus
long messages because they wanted to
have basically forms of the same message
in two different contexts and in one
context they only could afford a small
amount of space in the other they could
afford a lot of space so they would have
these parallel but they wanted to keep
them parallel but they wanted a very
quaint long so that's what they did is
they use the same interface they use
this it's called a select statement they
define their own short long and put it
in and work fine the actual vicinal
number should appear in the string for
this to work fine but that's not the
case where gender right yes well what
happens is the programmers responsible
for supplying whatever information gets
reflected by the format so if the
programmer knows you're logged in you
said your mail and the end we also have
the information that we're talking about
three emails that you've gotten we've
got a number variable then then the
programmers will supply the fact that
your mail plus the fact that the number
to be substituted is three into the
system and it will pick the right
message based on those two pieces of
information
not quite with your industry 3 in
decimal currently for about the next 10
days is actually required to appear in
the string in the plural form the
explicit forms the equal 0 equals 1 and
so on it is not required so I could say
you roozbeh have no messages or you
roozbeh have a message you roozbeh have
10 messages something would be yes you
have blockages and somebody may ask you
what should I do with these emails right
and what's actually funny i'm taking
aversion but the thing is the pro rules
actually may be different or when they
were just having the numbers and many
bills session so if you add a number
it's for example persian is just always
the same thing was a special items you
have number will always have a stand for
but there are rules so when you want to
refer to them indirectly you don't
actually put the number in it or not
yeah why was i was mentioning and this
is this is a disclosure of future
progress but i was mentioning that we we
are as a matter of fact what we first
did was had a very hard and fast
requirement that you had to mention the
number in english and that you had to
mention the number the placeholder stood
for the number in the translated version
but we're in the process of requiring
that so that the developer can say you
know what do you want me to do with
these messages we use what CL dr says ok
no no which means that what we do is we
show the maximum number of forms that
we've gotten feedback on that you need
ok if you take for example
slovenian there's a dual form that the
dual form is not used with lots of words
that is lots of words are invariant in
the dual form they're the same as the
plural but because some words are in the
dual form we end up having a dual form
that a lot of cases it'll just be a copy
so the translator just takes a copies at
Pompeii style okay medical case
especially in the date and time straight
and I know that this is not coordinated
support for case yeah so the question is
what about you know you told me about
these genders and plurals but I don't
care what about case right so I'm
paraphrasing slightly case is really
tricky I mean in general the inflection
of parts of a sentence in order to deal
with changes in other parts of sentence
is a very tricky problem it's something
that we've taken a look at but it's
something that we want to approach
incrementally and we looked at what we
could do and this project we get a huge
bang for the buck we would really like
to be able to say you know I gave this
to you Vladimir and then Vladimir has
the accusative case okay but we can't do
that yet yeah yeah there there are lots
of different things we could do I mean
there's the if you look at but it gets
complicated very quickly you look at
finish and the number of forms that you
have to have just for a date it goes
crazy so it's it's something that we're
looking at but it's something that
I'm not you know we're not we're not we
don't have an implementation right now
charge adopting was the dog can process
more passive of reactants to when you
Caesar complained about or was he were
proactive yeah so the question was let
me see if I can paraphrase that I a what
was the whole process of getting this
rolled out it actually went back
sometime we in Google in our group we
try to kind of we kind of try to kind of
lead the target you know we're aiming
try and aim a little bit ahead of where
the product groups are going to want to
go and so we put a fair amount of work
into defining what we wanted out of
plurals engender earlier on and then it
turns out there was a project that
really wanted this stuff so we hurried
up and finished up the project at least
where we had the software and then
started working with other groups to get
the whole translation process in place
which took a lot of time and effort by
many people throughout the company that
actually took much more effort than the
basic technology did and got it to the
point where it was usable and once we
released if people started using it
almost immediately yeah in many cases it
was just people discover the API and
used it in through the inventive ways I
think also our localization group has
sort of been advocates for it as well
because they know which phrases are you
know especially badly translated in
other languages so so they would go back
to product teams and say hey you know
this phrase is really bad and this one
product what do you think about this new
API I'll hook you up with Mark Davis and
he'll tell you how to use it and you
know they we got a lot of products using
it for their sort of high value phrases
yeah but it was definitely more of a
pole rather than
push we didn't we didn't really have to
convince people to use it right I think
once people learn it they're like oh
yeah this is this is good because even
in English you can see the benefits but
obviously in other languages it's more
about big deal no no there really wasn't
I mean that has happened in Google's
history when I first came to Google
there were we found 14 different
functions that were doing string lower
casing and every single one of them was
wrong so we've definitely coalesced the
software a lot and standardized it a lot
but in this particular case we didn't
find people doing other approaches to
plurals or gender yeah yeah so the
question is about how do we find these
bloopers basically right so there's a
number of ways that we do it so in
certain cases like I think the the
MacGyver case we found out through the
press so there's that's that's that's
our least that's our least preferred way
of finding these bloopers but
occasionally it's over the bloopers I
think a couple of them were caught
during lqa linguistic QA so basically
that we try and run everything through a
native speaker that can see everything
in context and evaluate it before it
runs out to public launch so but then
there's often a sort of a middle way
where either external users will report
things via we have a number of different
feedback bug reporting tools for
external users but also internal
Googlers that just happen to speak
different languages that report things
and we sort of have a number of
processes in place so once called a
language find it where we'll get
together a group of people that all
speak one language affects
reem just organized one was it last week
I think for French speakers yeah so so
just catching all kinds of little errors
that you wouldn't you know unless you
were you know a heavy user of the
product that was a native speaker of
French you wouldn't necessarily see it
you know so we sort of got a bunch of
people in the room and you know sort of
made them think of their homeland and
sort of you know and plus it's it's a
fun it's a fun experience for the people
to because you get to you know yeah and
it was true wasn't just here was in six
different Google offices around the
world participated so there's there's
lots of ways of catching these won
through the press but but I'll hopefully
be before that and I think it's it's
still an unsolved problem how we can do
better at it and and I think we're
trying to thread a way to measure our
quality as well so the weekend sort of
you know show so ideally even
quantitatively that we're kind of moving
the bar up and and making things
higher-quality you know we probably
ought to translate google bloopers into
all of our languages there's regularly
search on youtube yeah this looks fun so
did you oh yeah so you were asking about
the reporting mechanism so it depends on
the product a one that we're integrating
with a lot of products that began is
actually a localization tool it's called
google feedback i know the the most
prominent thing i know it's launched on
is youtube so there's a link up on
youtube or you can say report I think
it's just give us feedback it says or
report an issue no its report an issue i
think is usually what it says and it's
it's a fairly straightforward tool where
you can it's kind of neat because you
can highlight where the error is and
then on our side there's some some
machine learning so that we can easily
classify what kind of a bug it is that
kind of thing so we often get bugs
bubbling up that way as well so
however us is it in cases where your
bottom something and then some country
tells you hope I need one more case
which what you then added to the English
and integrate the other languages so the
question is what happens if we go to a
language and we get reports in that oh
we need another plural category for
example I assume it's not another gender
this happening for Polish didn't know oh
no but somebody reported that in some
country you had to support like five
genders but i think that was apocryphal
right or some languages yeah this
doesn't mean the same thing yeah but
what one of the things yeah one of the
things is we're really limited we're
really limiting that to personal gender
and of course to the languages that we
support which is about 42 standard
languages and but should we decide that
we find a language where you need to
change inflections based on the age of
the person you know that is something
that we could support with with another
select mechanism we'd have to look
carefully at the at the the return on
investment for doing that oh and adding
if we added a play noob so we found out
that Slovenian actually or Slovak does
need a duel and we thought it didn't
what that would involve doing is that
would involve changing our tooling and
then reissuing the messages for
translation in slovak so we would be
modifying it we'd reissue the
translations and the way the
translations work in Google is as far as
the developers concerned it's very much
sort of turn to switch and then by magic
in a couple weeks things work
so now of course a lot of that you know
there's there's a man behind the box a
lot of machinery behind the box but they
would have it would just the
translations to go out and get issued
through the normal process and come back
in yeah but it would cause a read it
would cause a retranslate of each of
those strings for that language it
wouldn't have any ripple effects into
the other language and it wouldn't
require the developers to do anything
okay is that about the end of the
questions okay well thank you very much
for your attention</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>