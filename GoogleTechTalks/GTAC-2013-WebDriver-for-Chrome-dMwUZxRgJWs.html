<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GTAC 2013: WebDriver for Chrome | Coder Coacher - Coaching Coders</title><meta content="GTAC 2013: WebDriver for Chrome - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>GTAC 2013: WebDriver for Chrome</b></h2><h5 class="post__date">2013-04-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/dMwUZxRgJWs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so our next speaker up is Ken Kenya he
is from google and he's going to talk
about webdriver for chrome and so with
that have fun thank you all right so
thanks Tony so to start off my name is
Ken just little bit of background I work
on the google chrome testing team
particularly on the just the browser
side so a little bit background about
how kind of chrome testing is broken up
just real quick there's the the browser
team then there is kind of the mobile
team then there's a westin so I'm
primarily on the browser side okay so
basically I'm going to be talking today
about a tool that we have supported
within the chrome team which is called
chromedriver or also called webdriver
for Chrome so you can see up here it's a
very simple problem how many of you are
probably familiar with it maybe even
familiar with the tool so we have in
chrome just chrome over 300 million
active users in this pretty old old data
but that's at least that still holds
true hopefully but so we have X
ever-expanding amount of platforms so of
course we just started with chrome with
chrome for beta on Windows 2008 expanded
to other desktops now Mac Linux and then
more recently Chrome OS branched out to
Chrome OS and then now mobile Chrome for
Android and Chrome for iOS so the
question the basic question is as a web
app developer how can we or how can i go
about automatically verifying that the
critical functionality of my app works
across all these different platforms so
this is a pretty broad question they
could look at Justin browsers in general
but today this talk I'm just going to
focus just on Chrome so within Chrome
how can i verify my functionality the
critical functionality that my app
provides across all your different
platforms automatically and so hopefully
during your development process you've
engaged in good unit testing and maybe
if you're a really diligent tester
you've also done some sort of isolated
component testing but at the very end of
the day you want to be able to have some
some guarantee that what the end user
sees what you go through as an end user
is actually correct and that's basically
the the solution this problem
is chromedriver so a little bit of
background chromedriver follows the w3c
web driver working draft that some of
the Mozilla guys talked about earlier on
this morning so because of that
interoperable with all the open source
web driver client libraries whether it's
Java or Python or Ruby or whatever
whatever fits your boat it is open
source chromedriver is open source and
maintained by the members of the
chromium project in chromium for those
of you who aren't familiar is just the
project that supports google chrome and
other chromium based browsers so for the
rest of this talk I'm just going to
describe a couple things number one how
can you use chrome driver what does it
actually do number two what how what
kind of work we have done to enable
chromedriver to work not just on desktop
but also the other chrome platforms
specifically android in this talk and
then hopefully i'll give you a little
bit deeper dive about how exactly
chromedriver works just for you guys who
are care so maybe who want to adopt kind
of similar technologies underneath and
await your frameworks who you are using
so to start webdriver so that the
previous slide doesn't really make a
hotel it's a whole lot of sense if you
don't know what webdriver is so
webdriver is a cross browser automation
API which was primarily for web site
testing that's what it historically was
for now there's more use cases wider
audiences using webdriver but that was
at least one of the main original and
still is original the main intention for
webdriver the webdriver API so it's
cross browser so this API covers i
listed a couple things there we have
browser control being able to user
simulate the user input whether it's
mouse mouse or typing keyboard etc and
also another category i just put
together his web stuff random web kind
of stuff like be able to find elements
on a page evaluate script evaluate
javascript manipulate local storage
cookies so that's basically webdriver so
webdriver is cross browser automation
API and chrome driver is essentially the
implementation of that protocol for
chrome not not a very difficult concept
but so just to get you a little bit
familiar with those of you who perhaps
haven't seen a lot of webdriver stuff
before here's a sample test written in
Python using the open source Python
webdriver library that first statement
we're just creating an instance of
chromedriver we're passing in the path
to our chromedriver binary executable
we'll talk about that a little bit later
second statement is simply navigating to
our test page in this case which is
google and then we're finding an element
on that page with the name q saving a
reference to that element inside this
variable search box we send some keys
which is just typing type chromedriver
we submit that form and at this time
webdriver will then wait if there's any
navigation that's occurring because of
that typing or because of the form
submission and then we actually do the
one actual test part of our test which
is we assert that chromedriver is in the
title of the page that we have navigated
to and lastly of course we just quit
that's a simple really simple test that
hopefully gives you gives you a feel for
what you can do with API so now how can
you go about how can we go about using
chromedriver so an important thing here
is that chromedriver actually for
desktop for Windows Mac and Linux has
been around for quite some time over a
year you can easily find that on our
public chromedriver site code google com
/ p / chromedriver of course you can
just search for it but recently in the
past couple months a lot of several
members of the chromium team from
Android also from the browser side I've
been working on a new version of Chrome
driver which we just call chromedriver
two and pretty creative but uh so
basically this is a riorca texture of
chrome driver to fit to be able to span
like we're talking about the beginning
multiple more chrome platforms because
we want our testers to be able to run
these tests against as many chrome
platforms as possible so with this
riorca texture we're able to support not
only desktop as I have listed at top but
also Android and so yeah I'm happy to
announce that we do have alpha support
for chrome on Android chrome driver on
Android
testing with chrome on Android and you
can get kind of a get hold of that on
our website I posted a couple links here
that you can you can look at a couple
caveats with the Android alpha you do
need currently do need a special
configuration you do need a mac or linux
host connected via USB or actual android
device but essentially there's also a
couple other things like you need chrome
27 a couple more details that you can
see on the site and basically though
really what you need to do is specify
the android package capability when you
start your session and for Chrome OS and
for iOS unfortunately if you want to use
that you just need to be patient or want
to contribute but so you have to wait
for that so how does it how does it work
a little bit background how it works so
there's mainly three components on the
left here i have the webdriver client
which is essentially your test doesn't
have to be a test maybe you're writing
something else which uses the webdriver
library which is available in all those
different flavors different languages I
was talking about earlier that
communicates these are all processes at
least for Chrome so that's one process
your webdriver client process and that
talks to Chrome driver which is the tool
that we're talking about in this talk
which is functions as the webdriver
server and that of course communicates
over the standard webdriver protocol
that we've been talking about today and
chromedriver talks to chrome controls
chrome via right now to two main ways
dev tools and extensions and so this is
chromedriver to the old chromedriver
used a a different chrome automation api
which was desktop only but so now we're
just going to talk about chrome driver
too so a little bit about dev tools and
extensions for those guys who perhaps
haven't heard a whole lot about it so
dev tools is the same thing you can say
easily in chrome by just right-clicking
the page going left clicking inspect
element you'll see that kind of debug
review kind of like that comes up
usually at the bottom of the page and
you'll see the Dom tree you'll be able
to see performance metrics you'll be
able to see you can trace and see the
network activity what's taking so what
resources are taking how long to load
and kind of kind of that breakdown so
that's essentially that debugger kind of
interface is using basically devtools
underneath devtools of course is short
for developer tools so we're using that
and the main benefit behind using that
is number one it's pretty low level it
used to be mostly implemented in WebKit
which is now blink or then split into
blank but it's supported on all the
platforms that chrome rounds on except
for iOS currently you can do on iOS 6
plus you can do devtools but it's only
officially supported through safari on
OS X so we can't actually access that
right now with chrome driver on iOS the
second main tool that we use our API
that we use to automate chrome is the
extensions API that chrome come
supported with so of course many of you
guys are familiar with extensions
concept of extensions but they initially
were meant to extensions were meant to
modify or enhance the functionality of
the browser and we've taken that and we
just of course plugged in our own custom
extension and be able to control the
browser through some of the api's that
are provided there but however since
extensions are only desktop only we've
relied mostly on developer tools for
most of the stuff that we care about so
here's a just a nice diagram for you
guys who are interested in kind of what
it overall the implementation really
looks like so there's three pieces here
there's the chrome driver server and
there's the browser Chrome's
multi-process browser so we have that
browser process and you have those two
rendered processes you can see commands
will come in through the HTTP server
from our web driver client they'll be
delegated to a particular session so
perhaps you might have multiple webdiver
clients talking to this one chromedriver
server so you might have multiple
sessions these sessions control usually
control their own instance of the
browser in this case might be a little
bit misleading but you can see there's
each session has a line to this devtools
server usually those are separate
browsers but the sessions will talk to
the devtools server which then delegates
down to particular renders
through the devtools agent and hopefully
your web app that you're trying to test
is running in one of those renders and
in another one of those render is
hopefully we have the chrome driver
extension running to be able to do some
of the extra stuff we need to do to
automate the browser on desktop so
what's kind of some of the future stuff
that we're considering for this tool
some plans that we we hope to start on
so in general since we have switched to
developer tools for the basis of
controlling chrome that gives us a lot
of more since a little bit lower level
than our old API gives us a lot of
really cool features like be able to
profile you know what in JavaScript on
your page is taking up so much memory
what kind of memory leaks possibly do
you have some interesting performance
measurement stuff access to like logs of
the Java subcon soul talking more
specifically about Android we hope to
we're considering supporting the
upcoming chrome back webview so right
now webview is of course kind of an
Android concept when when we are
considering those supporting when chrome
become one actually chrome supports or
powers that webview to be able to
integrate with that and actually test
that we are concerning also running the
driver on the device instead of that
requiring that host configuration I was
talking about earlier for iOS a little
bit tricky as I mentioned because of the
limitations just in the UI webview how
we're using the UI webview in Chrome for
iOS and we're still pretty in early
stages of development and kind of
planning so not a whole lot to say there
unfortunately so that's basically a the
end of what I want to talk about so if
you're interested in using Chrome
drivers a tool we have ways that you can
file bugs I have that link up there also
there's a user forum public user forum
and of course since it's all open source
we'd love to have third-party patches
contributions you name it but that's
concludes my talk thank you
hey okay thank you can you've come a
long way since writing games based on
the Powerpuff Girls so myself that's
what that's what happens to me tell me
these little tidbits so it looks like we
maybe have time for one question if
there's not a live question ok let's go
ahead take one live question and then
we're probably going to just move on to
the next talk so please for some time
Firefox has been able to control the
last words of profile I think that's
Chrome's handling a profile now is on it
has parody with Firefox's is and I don't
think it's part of webdriver
specification is that something that
you're talking to Mozilla about and
continue will continue to support is
manipulating profiles in chrome right so
yeah so start off we are not currently
talking with Mozilla about that but we
are interested in maybe not supporting
profiles per se but there's a
distinction in Chrome I'm not sure about
the other browsers between your user
data directory and also your profile so
for chromedriver we do in the tool allow
you to specify a custom user data
directory which may be has several
profiles already set up I'd be able to
do stuff like that but we don't have any
way like now to dynamically through the
webdriver API create new profiles or
edit profiles or anything like that yeah
great thank you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>