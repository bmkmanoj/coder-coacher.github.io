<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Enhancing Web 2.0 Accessibility Via AxsJAX: A Tutorial at Google - Charles L.... | Coder Coacher - Coaching Coders</title><meta content="Enhancing Web 2.0 Accessibility Via AxsJAX: A Tutorial at Google - Charles L.... - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Enhancing Web 2.0 Accessibility Via AxsJAX: A Tutorial at Google - Charles L....</b></h2><h5 class="post__date">2008-08-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nF3yhZrtLRw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">good evening ladies and gentlemen
welcome to the latest instance in the
open source developers at Google speaker
series our speaker series designed to
help the public understand more about
once of some of the open Sorcerer's here
at Google are doing in their time here
at Google and I am pleased this evening
to introduce Charles Chen and TV Raman
both of whom share an office here and
work on accessibility issues and these
gentlemen tonight will be discussing
enhancing web to toe accessibility of
via access Jack's gentlemen take it away
Thank You Leslie thanks for coming
everyone writes on Monday evening we
really appreciate your showing up when
taking the time to come for the stock so
my name and the start will be to talk as
little as possible in the low charge to
talk so that's my challenge and at the
end of end you can grade me on how well
I do and child's challenge of course
would be to talk without into without
pausing so that I don't get the chance
to cut it so what we will talk about is
injecting accessibility and usability
into web to door to a patient's the
background for this work is that as you
know if you take a look at the kinds of
web application Google bills we me and
other web tour auto developers have been
for the last few years pushing the
envelope on what can be done in the web
browser and the result of a result has
been extremely dynamic highly
interactive HTML interfaces that work
very well but in the past I've also
presented significant challenges to
users with special needs so for instance
if you cannot see and you're using a
screen reader or a talking browser a lot
of the Ajax applications caused no end
end of pain we've been looking at this
problem for the last 20 years or so and
we've basically gone down the route of
asking how can we use the same Ajax
technologies to enhance the usability of
web toward auto applications for
somebody who cannot see the bad
government for this work is something
called which is now in sort of WTC last
call or getting ready to w3c last call
called w3c area which is accessible rich
Internet applications
it's a spec but the spectrum be sort of
summarized in half a dozen lines if you
think of HTML and JavaScript as the
assembly language of the web it's more
like an assembly language you're doing
spans and devs and attaching event
handlers and styling it if you think of
that as the assembly language of the way
to conceptualize aria is that it's a
couple of additional op codes in that
assembly language that helps adaptive
technologies like screen readers and
self voicing browsers discover
introspect reflect and then provide the
right feedback for the HTML rejects
that's a lot of words are basically in
simple terms it allows a screen reader
to know that a menu is a menu and then
treat it as such when you interact with
that what child would I have been
building is if you have this assembly
language now when you write your Amex
app you typically use a toolkit you
typically use dojo or any other
JavaScript library that you like or in
the case of Google you might use GWT and
those things give you a higher level
design patterns to do your GUI is nicely
what we have created is an open source
library that we call access tracks that
allows you to do the same for good
auditory user interfaces all in the
output that you will hear is actually
produced by the screen reader so we
don't do the talking how we we provide
the web developer the right JavaScript
calls to make the adaptive technology
talk for today's start from here when
Charles takes over he will show you
everything running on a Mac he is using
Fireworks which is Charles's project he
started that as a student and here at
Google he is doing it on his twenty
percent time the we are doing the best
we are doing all of this today on the
Mac because it's one of the best ets
engines that you can find out there
today so with that I will hand it off to
Charles and Charles from where I'm
supposed to present move from talking ok
thanks Robin so now I just like adding a
few other things about access Jax
library one of the key benefits of this
library is that not all
is it something that a web developer can
use to improve their web page and
enhance their usability it's also
something that a hacker you know someone
who's just really into coding into doing
things open source developers such as
office here we can use this library and
apply it to web sites that aren't using
it themselves because at the end of the
day this is just some JavaScript and the
JavaScript can be inserted into a web
page through various mechanisms for
example bookmarklets or grease monkey
and so that's one of the key benefits
here is that even if the web developer
even if you don't own the website and
can still enhance the usability and
accessibility of that website using
access jacks and so of that i'm going to
show you all a demo and i believe that's
the best way to show some of the
benefits that you can get from using
access jacks now before we use it let's
look at before-and-after scenario so I'm
going to do the before case first and I
am going to do a search for flowers on
everyone's favorite search engine ok so
this brought up a page of results for
flowers and you'll see that you know we
have results we have sponsored links we
have related searches and you have many
pages of results that you can go to now
if you're trying to browse this with a
screen reader and get through it it's
rather painful because we have although
we have a well structured content we
have headings and section tags and all
of that it's still not that easy to
navigate because to go through the
results what you have to do is you have
to say take me to the next heading or
the first heading so it's going to take
you here to this first result and all
you will hear at this point is you will
hear the title text you won't hear any
of the snippet content so to determine
whether or not this result is something
that you want to click on you're going
to have to tell your screen reader to
read the next bit and when it reads the
next bit then you're going to hear to
snap
now if this is the link that you wish to
click on now you have to tell your
screen reader to go to the previous
heading to get back up to the link so
that you can click it and you just
repeat this process until you go through
all the results if you need to go to the
next page then it's going to take
several tabs so you'll be tabbing for
quite a bit here to get to the next link
and if you're a power screen reader user
power google user you probably know of a
few shortcuts seconds that can short in
this process but still it's relatively
painful and then you also run to the
problem of trying to group related items
so if you say brought up all the links
on this page and you got you know all
the URLs but then you know how do you
get differentiate between the sponsored
links versus the results I mean they're
all links to other pages here so that
sort of grouping visually you look at it
and it's obvious all the sponsored links
are to the side all the results are
centered to the left but if you can't
see and you're just trying to determine
that it becomes a little bit difficult
so let's see let's step back and think
about what the eye is doing for you when
you look at this page so the is helping
group things and it's allowing you to
quickly scan the page and just look at
the parts that you want to look at that
are important to the task at hand and so
if the task at hand is that you want to
do some research about flowers then you
want to look at the results you'll see a
Wikipedia link and click on that if on
the other hand the task that you're
trying to accomplish is you want to
order some flowers then you probably
want to look at the sponsored links to
the right hand side so you can order
some and so with that in mind you can
think of a busy page with a lot of
content as a page with multiple lists of
related items and you should be able to
switch between the lists depending on
what you're trying to do and then go
through the items in each of the lists
and that is what access Jack's one of
the things that access Jackson provide
so I'm going to enable access jacks and
the same query
you know how I'm just slow the South
plants gift basket delivery 1 800
flowers com welcome to 1 800 flowers
calm the world's one online florist be
sure to visit our summer garden so
notice how it started speaking both the
title and a snippet and you hurt both of
those things together now instead of
trying to hunt around for the next
result i can simply press a key and get
there so now i'm going to ago send
flowers plants and gives a skits flower
delivery from and i can keep doing this
afty flip-flop creatives and dips in
fresh flowers and now you'll notice that
i am at the bottom of the page of
results now remember earlier i had
mentioned that if you want to try to get
to the next page you'd have to tap
multiple times but if you think about
the task at hand what you're really
trying to do when you go to the next
page is you're just trying to get the
next result so logically if you press
the same button to go next then when you
hit next at this point it should just
take you to the first result on the next
page and just do it for you and that's
what it will do Twitter flowers clicker
is almost so notice how when the next
page lilit it immediately spoke the
first result so as an end user your
mental model now isn't about well but
result a result page has 10 results I'd
and now that I'm on the temp result i
need a hunt for the next page link and i
need to click that and i need to find
the first result your mental model
becomes simplified and you just need to
think well I want to get the next result
you press the key for next result and
you hear it and it's just right there
now I mentioned that sometimes you might
want other categories for example
sponsored links if you're trying to
order flowers so i'm going to show you
going through the different categories
and traversing within a category
sponsored links related searches
alternate search categories the results
sponsored links okay so i'm going to go
through the sponsored links on this page
city of flowers flowers and gifts where
every hop same day farm got flowers at
freshman you'll see i can do the same
sort of navigation with that
no I'm not doing tabbing that's a that's
a very good question you know with
tapping you're jumping through all the
focusable elements and well whereas with
this what you're doing is you're going
through logical chunks he's your think
God's information basically using the
fort carson keys to do the navigation
that we're using the arrow keys so yes
yes so now one of the challenges is you
know whether you're tapping or doing
this when you reach the end of a page to
know that you've reached the end and
that the next time you do this action
you've wrapped around to the top because
if you're not sure about where you are
on the page then you could end up just
looping forever so you'll notice how
that's how I was doing this it was
playing this little tick sound so that's
an ear calm and so we have different
year columns depending on whether you're
traversing through items traversing free
list or if you've circled around so I'm
in a circle around here and you'll hear
it Flyleaf flowers by thought city of
flowers flower notice how i made a blip
sound it was different from the regular
text the other thing that you'll notice
is that there's an enlargement of what
you're currently viewing so related
searches alternate search results emilie
simon front so for example i brought up
this search result and if i want to
magnify it i can just press + and I can
make it larger so you'll see that this
is getting larger but this is different
from using a traditional magnifier tool
because I like a magnifier which
enlarges the entire screen and can be a
problem sometimes because you lose
context of where you are overall
relative to the rest of the page when
you do this you're only enlarging the
thing that you're interested in and so
you still have a sense of approximately
where you are yes so right now this will
work in any browser that is aria aware
and works with REO so currently IE
doesn't support REO yet but IE 8 is
working on it 8 so yes okay so with that
you've seen a basic demonstration of
what access Jack's can do to enhance
navigation of a comp
web page and you're probably thinking
okay this is really cool how can I do
this for my web page or how can I do
this for any web page that I'm
interested in enhancing and that's what
the rest of today's talk will be about
so with that let's go ahead and start by
the way all of this stuff all this to
information is available online on the
access Jack's a home page and on the
tutorials so I am going to go to the
tutorial right now so for tonight what
we'll be doing this will be applying
access Jack's to Google Product Search
and we'll go through the whole thing
from start to finish and show you just
how you can do it on your own for any
website
now first off you need to do a little
bit of setup on your machine to get all
the parts that you need to build this so
as I mentioned earlier this technology
relies on way REO and currently browser
that supports way aria the best is
firefox 3 so i highly recommend getting
a firefox reportable addition because
this is a sandboxed version of firefox
that you can download unzip develop on
and it's completely separate from your
default browsing profiles so it won't
you know change any of your settings or
mess anything up there are also no
Safari doesn't support it yet WebKit
WebKit is also working on it but they
don't have it just yet for day-to-day
yes but all the other ones are work out
so opera I and WebKit all have it in
development there are also several
helpful extensions so one of them is
grease monkey remember i had mentioned
earlier that what you're running with
access Jax's you're just running
JavaScript and they can be inserted in a
variety of ways grease monkey happens to
be a very easy delivery mechanism
because it will automatically load the
stripped for you when the page loads so
it's a very helpful way of developing
this the other thing that's nice here is
though okay so is everyone here pretty
much familiar with xpath or at least
know if it's somewhat okay call so if
you want extra help with xpath then you
can notice google for XPath tutorial and
there's you know there are several
excellent one so you can find that way
but okay that's nice
so there's a tool for Firefox called
expat fur and this allows you to use the
Dom inspector so that when you click on
an element on the page it will then tell
you what the XPath to that element is so
you can very quickly discover what what
all the X paths are without doing too
much work there's also something called
events by we won't be using it tonight
but it's very helpful for dealing with
rich Ajax applications because it lets
you know what the style changes are and
which events are coming from which
elements and that's a very useful thing
to watch for and then there's fire box
because it's probably nice to get some
spoken feedback just to hear results of
your work and so they'd wanted of
prototyping with sidewalks is that the
way we've done the library we made sure
that the speech feedback you produce
will work consistently across all the
screen readers that support aria but
fireworks basically gives you an
end-to-end open source solution that you
can prototype wet and so rather than you
know doing the right ones and debug
under every browser carried forth to
write once and then debug on every
browser with every screen reader this
gives you a way to write and debug
against a open source free solution that
talks and then release it into the wild
with the hope that it actually works
with the rest of the screen readers the
other faiths eyes to help speed up
development is see it when you're
usually working with grease monkey you
end up editing it inlining have to save
it and then you close that and you
reload and that's sort of a pain so the
easiest way of doing it is to actually
inject your script through a local
webserver and so there are several
self-contained web servers where you
just have to unzip it and run Windows
the one we recommend is running server
to go because that's just really easy
unzip it and it's there for your local
machine i'm on a mac right now so I'm
actually running something called ma MP
lamp it works the exact same way and
then after you've gone that you're all
set up all you need to do is download a
few simple skeleton files in these
skeleton files form the basis for right
so you just
replace the variables there with your
content and you can begin and so if that
let's go ahead and start extracting
Google Product Search so I've brought
crop product search I'm gonna make sure
i turn off some stuff here and I shoulda
text field exam mute that so i can talk
now before we begin access jack seeing
product search let's take a moment and
think about what the correct interaction
model would be so let's do a search
inside product search and let's try to
find something okay so i've done a
search for google inside Google Product
Search and I've come up with some
products and you'll see that there's an
image there's a title for the product if
it's a book it says you know who the
offers are it has the price range where
you can buy it from and then a
description and some other information
such as whether or not you can use your
google checkout account and that's
pretty much the way the whole pages you
have that and at the bottom you have
some ways to do query refinement but
mostly it's about getting through these
results so let's see how we can do that
i'm going to start Dom inspector and
then use xpadder to find the appropriate
x paths so as he brings that up what
feared essentially doing is those two
steps right finding out what to speak
and then how to speak it the what to
speak basically you are going through
the HTML and figuring out the right bets
when he showed you the demo we showed
you this thing as think of it as these
logical collections of categories of
things that you move through from a
programmers point of view think of it as
polls that you walk through the DOM and
so what he's going to show you is how
you define those trails and then how you
navigate them programmatically so first
off just to verify that we have our
development environments up correctly
that you'll notice that on the skeleton
file the part that you'll be editing is
inside this initialization function
and there are two key parts here the
first part says put the CNR xml here
I'll get into that a little shortly
which is this is basically an XML string
that defines what the groupings are and
then there's this line here that says
access scale loaded and initialized so
when you load if your environment is set
up when you first load it you'll get
this message that says it's been loaded
it's initialized and it's working
okay so now i'm going to go ahead and
select the first result it's going to
look a little bit better if i minimize
this and show it side by side now so
this is the part where you sort of pick
up what to speak
one
okay so I've clicked on the content
section of that result and now Dom
inspector is showing me something so I'm
going to look at it oh by the way our
windows this actually draws a little red
rectangle around what you just clicked
on on the mac it doesn't seem to do that
it seems to be a Firefox issue but it's
still really easy to find out where you
are because you can look at the Dom node
inside Dom inspector and it's pretty
obvious that you're where you are
because if you go to the JavaScript
object you can go to the text content
and you'll see where you are yeah you
can use Firebug as well but the XPath
foretold I'm showing that it's only for
a Dom inspector which is why using that
but you can as you can see here from the
text content you have google talking by
Brian Baskin etc and that's that's where
you are so from that if you just click
on the element in the Dom tree and if
you click on evaluate here you'll get
the xpath expression generate it for you
and so this one tells you okay so this
is your xpath expression and that's just
given to you by the tool now next you'll
want to find out what see this
expression only selects one of the notes
for you and really what you want is you
want to select all of the results and so
if you just come back here you can go
ahead and click on the next result and
see what x-pac you get there and that
should make it very apparent what the
correct expression s
buddy
sure you can do that yes you know what
you can do it by hand I'm just showing a
wave where even people who aren't really
that sophisticated in terms of their
development yeah and they just have
firefox they can you basically just use
these tools and click through it and
even if they don't understand extract
that well they can still write a very
good CNR file that still works and then
the funeral expat after using these
tools you would probably go in and
optimize them by hand yes I like these
things by hand i mean i don't use all
these computers yeah hey back exactly
exactly it's much right as much more
power to drive before everyone else
there are these tools so now I've
clicked on the second one and I'm going
to evaluate that so notice the previous
one had tr2 here which if i evaluate
that now big surprise has changed to TR
free so a very easy way then to get all
the notes I just put a star here and
i'll select everything one of the crime
to the brain three of the prime
everything reply and this is almost
correct right it's it's given me all the
results it is giving me one extra header
row here about showing all the items and
all of that but if i go back here and I
look at my dom i know said hey all of
these roasts they don't have class names
but this one Heather does so I'll make a
very minor change here and just exclude
things that have a class name
oh absolutely yeah so once i do that and
you'll see that I've now filtered it
down to just 10 results on the page I
want and so this is the xpath i'm going
to use now by King and I bring up my
development environment
okay so where the place that you'll be
adding this too is a CNR file CNR stands
for content navigation rule and it's
basically just a bunch of XML text that
defines what where your items are and
how you can and how you can navigate
them the keys so at top level you have a
CNR element and the next in previous
tell you the key said you use to go to
the next and previous list and for each
of the list inside the CNR you'll save
next and previous telling you how to go
through the items in that list and then
you have the item and that's where you
put the XPath and there are a few other
things that you can do with this they're
all documented in the tutorial there's a
reference for what the elements are and
what they do but you can do a a couple
of other things such as you can add
trigger so that when you reach the end
of the list you'll automatically click
on that element for you and you can out
targets where if you just type that hot
key it will automatically click on that
Oh target for you yes yes it is this
like VI the idea is stud yes this way
this way you can do the whole thing
without ever taking your hand off the
home row so that's that sort of an
efficiency thing but again these these
keys can be whoever you want to define
so I thought as a web developer if
another self keys makes more sense to
you then you can use those as well and
so wonder what key is you define here
that actually will end up getting
generated as online help so your end
user will basically be able to hit a
question mark and you know here all the
key bindings and then we'll be trying to
make the arrow keys sort of navigate
among categories and within a category
and i am a unix use that i hate taking
my hands of the home but also you know
hjkl obviously FBI so I've done now is
because for Jason it's fairly simple
I've removed the rest of the CNR file
because we don't need it and this is
what you got so this one is saying that
actually I don't even need the next and
previous keys here because we're not
going where
but for within the list item you can go
to the next and previous item and here's
the your stack stuff that you'll use to
fetch those results now I'm going to go
ahead and embed this in the javascript
file to make it easier rather than
trying to reformat this manually I can
simply copy and paste this into a tool
that we have
okay so this has given me a copy and
paste friendly javascript string and now
i am going to put it into that
javascript skeleton father i've been
using
and now I don't need this debug
statements i'm going to take that out
i'm going to save it and now if I reload
the product page it should do the right
thing so let's let's watch what happens
and it helps to try and grease monkey
when you're actually going to do this
ok don't
okay so now this is loaded and i'm going
to try going through the items so we had
set j devotes an X item let's see what
happens here HTTP colon slash slash
books google com / hooks question it
equals dvr'd arranging wci purse and
Prince x equals front covers and I mg
equals 1 I person soon equals one google
talking by brian backin joshua brashers
Johnny long computers sin risk elsevier
science distributed % c 2 percent a zero
2007 paperback 257 pages nationwide and
around the world instant messaging use
is growing with more than 7 billion
instant messages being sent every day
worldwide according to IDC con score and
media accepts Google Checkout four
dollars to two hundred and eighty-four
dollars at 81 stores compared % c 2
percent a zero crisis okay so that yeah
they are a pedestal yes that's right
that's why that's why I split right if
you look at the yeah it's got more
binding than in the file if you look at
this file here I'm saying I'm binding
both down in j and so I can bind clever
keys I want I could you know put Z if I
want to do that you can do whatever I
want here so you listen to that and you
know the good news is we did have to do
too much work we just clicked on few
tools guy xpath pasted it in and we got
something that works you know I can go
to the next previous item I can do all
of that the bad news is you know that
utterance isn't exactly ideal so blue
let's look at what it did earlier here
it went ahead and it started you know it
first tried to read this image URL which
is kind of annoying because you probably
want to hear that very long image URL
strand to begin it got to this title
which is good but after that it went
ahead and it started reading this
description whereas when you're shopping
probably want to hear the prices first
and then then you went to that and it
gave you the google checkout
availability which is nice but still it
put the prices at the end so what you
really want is you want to carry the
title you why here the process to see if
it's something reasonable and if it is
thing you want to continue listening on
to the description to verify that it is
what you think it is based on the title
and at the end you
want to hear some additional information
like whether or not you can use your
google checkout account so exactly so
this is where we get into the next part
it's how do you take text from this and
then reformat it into something that's
more pleasant more appropriate for an
auto interface because you know for for
visual interface this is fine because
the human eye can scan it and jump to
the correct part of it at the right time
but when you're listening to it it's
just going for it in dom order and
that's you know that may or may not be
the most pleasant experience there are
also a few other issues here you'll
notice that we did this very simply so
we didn't I enabled going to the next
page for example so that's still
something that needs to be done and
finally notice that when it started up
it didn't actually read the first item I
had to hit Jay to get to start so we're
going to fix all that in the next
iteration here
sure sure sure it's at the end of the
day it's JavaScript so you can know that
whatever yeah absolutely yes definitely
absolute definite so basically the way
to think about cnrs it's the experts
tell you what collections of nodes the
arrow keys tell you how to walk through
them and then it's a you know if you
pues design patterns language right it's
a visitor pattern the default action
when you visit something is to speak its
contents but then you can customize that
and that's what Charles is going to show
you by providing your own format or
function and then you can sort of speak
it the way you want and you get to do
this as the web developer or the person
you know enhancing somebody else's web
application by focusing on the quality
of the auditory output without worrying
about how different screen readers are
then going to use it because by the fact
of the screen readers implement Aria
which is sort of this base level
standard you sort of get this common
behavior across all the tools okay so
one of the things that we want to do is
get the next and previous page links in
there so let's find the x pass for that
I'm going to go ahead and go on to the
second page be a saint has both the next
and previous arrows can look at that
oops
ok so i found the previous page link
this one and one easy way to identify it
is if I look at the image and I'll see
that that's what its sources is that I
can do the same thing and find next page
link
ok so now I'm on the next page link and
you'll notice that its image sis nav
next well whereas the previous one had
the g google image so that's one very
easy way to differentiate between the
two links and so i can write an XPath
for that and then the other thing that I
need to do is I need to add it add the
target so that when the user presses
enter on the current result that they
get taken there directly
and so you'll notice that the link that
you'll be using is the link that's the
first link on the element with the class
content so that's that's how you get
linked and all these targets by the way
are relative to the node that you're
currently on so you can specify it such
that you write one XPath because it's
all structured as saying that you didn't
get it for all the items so you don't
have to do it individually
and so this whoops sorry well CNR file
okay and so this is CM our file that we
got until
so this is the clr file from before and
after we add in all of that this is what
we get so you'll notice that we have the
same we have the same CNR for going
through the results but we've added a
few things so we've added that nexon
previous link and they're called the
triggers list he'll enlist head and
we've also added the ability to click on
the current item just by pressing enter
so it's go to results and so the way
that list he'll enlist head work is that
if you're on the very last item in the
list and you try to go to the next item
then you've reached the tail of the list
so it should take that action and the
same thing with list head which is if
you're on the first item of the list and
you try to go to the previous item
before that and go backwards then you're
at the list head and it should execute
that action and with something that's
just a target or you just have a hotkey
then it means that whenever you press
that hotkey that action should happen in
this case two actions by default is to
click on whatever the target is so this
is what's causing it to click on the
next previous link click and click on
enter so let's go ahead and let's change
our sin are to use this newer version
so yeah I'm doing the same thing I'm
putting it into the toll and it will
generate a CNR for me see our string for
me
yeah it added the quote to do the
formatting it made sure that you know i
did with 80 characters so yeah exactly
so yeah copy and paste programming but
it works in this case and and you know
so this tool is also part of the
tutorial and we have it online so anyone
can go ahead and use it so let's go
ahead and let's try reloading this now
with these changes we again with Saavik
reformatted to speech but we've added
these features so that you go to the
next previous page you can activate an
element and let's see what how this
looks like okay based google hosted yeah
it works better if i turn on the sound
unmute so first i'm gonna see if i can
activate this link and go to it and so I
just pressed enter and there I go so it
worked okay now let's see what happens
when I reached the last HH HTTP HTTP
colon slash lab and so it took me to the
first result on the next page HTTP colon
so now if i try to go to the previous
page let's see what happens and indeed
it went to the previous page so cool
then the new CR has improves what we can
do on this page we still need to fix
that all do i make it sound better so
let's look at how we can accomplish that
well so as I mentioned before the order
in which is reading things so isn't very
pleasant because what you really want to
hear is you want to hear the title the
price the description and then some
other information such as where you can
buy it and whether or not you can use
google checkout and so the solution to
doing that is to write your own function
that will generate a formatted string
and that will then speak it using the
access Jack's library and so here's the
code for doing that you'll see that this
code has several parts where all it's
doing is it's just fetching a content so
it's fetching a title the description
the price the seller the ratings and
whether or not you can use check out
there and then it's taking all that
information it's reconstructing it so
you get the title first followed by the
price followed by a description the
seller the ratings for at seller and
then check out information so it's
restructured that vein to a message it's
using the lens library to create that
enlargement effect it's scrolling each
of the result and then at the end it's
speaking that message that you had
generated using the access Jack's
library and again to access Jack's
library will then set all the
appropriate way Aria properties which
then trigger the screen reader into
saying the correct thing to the user
it depends on your text to speech engine
and your screen reader so that varies
generally if you want to insert pauses
use a period yeah spaces will not cause
the TTS engines and general 20 days
applause there they typically treat
multiple spaces as a single space
platform at certain interest of time I'm
going to go ahead and just load up the
final version that uses and I will step
through you know what we did there and
what the changes were okay so this is
the same thing as a skeleton file but
there have been a few changes so why the
key thing said you'll notice is that now
we have all these get functions so we
have get title yet description and what
these things are using is they're just
using xpath to find node with that
content and it's returning that notes
text content so it's fairly standard and
straightforward and here's the function
at gym earlier for speaking the results
so this is a function that's
reconstructing it and then passing a
message into the library and using a
library to speak so earlier the default
visit action was to just take all of
that content and speak and now you
basically use the custom for matter that
you wrote and you get told what you want
and you'll notice that we've also added
a set time out here at the front so this
means that when it loads it's going to
try to speak the first result and that
will help because now the user will know
when the page is loaded and it's ready
to go so let's go ahead and run this
version of it
so so yet another reason why I like
having a local web server and using
grease monkey it says it's very easy to
just try something out and choose a
different file for example right now I
can switch from the skeleton father's
working with before to this finished
version with just just by commenting out
of the line and uncommon ting another
okay so that just switch to file for me
and now if I reload it should give me
the correct one so let's try this others
to two hundred and eighty-four dollars
by Brian Baskin Joshua brashers Johnny
long computers Sandra's elsevier science
distributor % c 2 percent a 0 2007
paperback 257 pages nationwide and
around the world instant messaging cisco
and if i go to another one HTTP colon
slash slash books google com / hooks
question it equals TT 70 G aaca AJ
ampersand pranks HTTP colon slash slap
okay HTTP colon slash slash based google
hosted calm / race under store media
question Q equals HTTP colon slash slash
aki com slashing the underscore assets /
Grodd underscore images / 6 59 / 20 4 10
165 98 and a purse and size equals 2x
and ehm equals 27 9 61 m % h l equals on
google it revisited google it revisited
add to shopping list except google
checkout 80 ok so this is what you get
when you don't completely reload the
page as you'll see us running the
previous script so let's let's reload
this properly yeah now i'm going gentle
so it's very important that you're
loading the write scripts otherwise you
get results that you don't really want
Google talking four dollars to two
hundred and eighty-four dollars by Brian
Baskin Joshua brashers Johnny long
computers Sandra's Alice fire science
distributed % c 2 percent a zero 2007
paperback 257 pages so as you can see
now it's reformat it stopped speaking
the image at the beginning it's now
reading entitle the price the
description exactly the way that we want
it to and if I keep going next I can go
to the next page and HHH HTTP pope
biography the google boys DVD fourteen
dollars and ninety-nine cents DVD
documentary by this at Circuit City 4054
% c t % a zero seller % c two percent a
0 ratings averages out to 3.5 stars so
you even told me how many stars aware of
that which is nice so with that you know
we've just a short amount of time less
than hour we've accessed Jack's the
Google products search page so the power
of all of this has child said at the
beginning is that it doesn't limit it to
the web developer who owns a particular
site in fact even if you are doing it to
your own site sort of doing this in some
sense external to that thing by a grease
monkey doing it to the script allows you
to experiment very rapidly and figure
out what actually works and then go and
do it on your site if you don't own that
site you are just someone who's got an
hour of hacking time to spare and want
to help a friend of yours who cannot see
oh this is a very nice way for you to go
in there and do that and then finally if
you have to know you can also write
something like this if you have a screen
dealer vendor or an open source clean
Dida creator the nice thing is they are
not tying this to any specific adaptive
technology it's sort of using some bits
that are implemented commonly across the
various screen readers firefox 3 is
implementing it and as child said the
other browsers are going to follow very
soon so it sort of gives you a very good
way of leveraging that if the little
time that you have to pay attention to
accessibility so your accessibility has
been
a big success in the last few years in
terms of getting people's awareness
right people are no aware that there are
actually blind users who use computers
and that you need to worry about the
problem but once you sort of get that
far with you know knowing that you
should be doing the right thing doing
the right thing has been quite difficult
in terms of debugging it with each
browser with the screen reader
combination what should I do can I use
Ajax can I not use Ajax am I like boob
to writing static HTML if I have to
support a blind user and so one of our
goal here is to sort of dispel some of
those myths with respect to you should
not use technology X if you're using if
you want blind users to use it and plug
up turn it around and sort of leverage
those same technologies that make the
web dynamic for the mainstream user and
make it work just as well for the user
with special needs and now that we have
this huge level of awareness with
respect to web developers wanting to do
the right thing can be then give the web
developers the right tools so that that
time that you have to put into it gets
leveraged to the maximum or will take
questions and I am sort of breaking my
goal of you know not talking sociable
you know it's ideally would answer that
question differently so i would think of
I sort of think of accessibility as just
a special case of usability and a lot of
times there are guidelines written and
you can look at guidelines but you know
your application best and just as you
design your application to be usable
based on what you are trying to do I
think the same applies for the speech
user further low vision user and what I
personally like to see is a lot of
innovation as opposed to simply adhering
to believing so you can always a theatre
guideline than there are sort of
necessary conditions they are not really
sufficient you know your application the
best you know your user the best the
goal is to sort of experiment a lot and
discover things that work because I
don't believe all the guidelines that
need to be discovered and written down I
have been written down yet yeah so so
that's the thing right so the question
is what do you do to sort of iterate
rapidly get user feedback and then move
back the very tall that I have been
doing this is you know over the web
distribute code over the web open source
said get users to reuse it early get the
get feedback from early adopters via
thing you know mechanisms like google
groups or whatever else your favorite
online mechanism s and then move back
rapidly and you know continue to iterate
on the code observe that actually
applies to all of this library in fact
though we describe this thing to you as
a library it did not start as a library
of the library was actually derived by
first writing enhancements for about
four major Google applications google
reader google search google scholar and
google news and then we sort of looked
back and extract the library out of it
and as we do lord that's actually what
we are doing and that's actually they'd
we would like to take the community as
well so you you know from all the
questions you are asking you're clearly
under
the problem very well so you shouldn't
sort of wait for guidelines for somebody
to tell you what to do but you know
right play with the library use it and
you'll probably discover things that
we've missed and you know we can always
add it back yes
yes yes yes yes so you bring up a very
good point so basically the world we
live in today unfortunately is on that
HTML and JavaScript and the dog is being
used as a very low level assembly
language for the web that's not the
world I would have designed but that's
the world we have so how do you code in
in the face of that situation oh the
best way to I know what to do that in
terms of doing that software is when you
have fragility like that isolate the
fragility in a very small component so
that it does not permeate the codebase
so if you notice in the in the thing
that we built all of that dependence on
the on the shape of the dog is in that
one small xml file it's not anywhere
else also if you look at it and let's so
let's say we do a hundred of these okay
and let's say I hear from now ten of
them break five of them nobody is losing
and nobody there for notices and five
are being used guess which one will get
fixed the five that are being used will
get fixed and so it sort of has this
interesting problem of you have now
pushed out the fragility to the leaves
so the web is basically not a set of six
applications or eight the web is
thousands and thousands of applications
every website is an application and over
time what you've been done is you've
isolated that fragility into very small
pockets so I like this about 10 years
ago now feels like a long time 1998 I
started doing this in the MX peak world
and everybody looked at it and said this
is very fragile it will work because you
are depending
on the shape of the website the first
one I did this for was actually yahoo
maps in 1998 and you know we haven't
maps came online and it was this
wonderful thing right you could get
textual directions but you had to sort
of hunt for those four fuels to type the
thing in and then you have to click
Submit and then you got this bleep age
and then you have to go hunt it out in
this by basically wrote the same xpath
hack a go you know basically prompt the
user for the start and end location make
up a URL submitted get the results back
pull out an expat and you know speak the
right thing and everybody looked at it
and said this is bogus it's completely
dependent on that website and it will
break there are two two things to notice
with ten years of experience one of a
sophisticated website it costs that
website a lot more to rearrange their
dorm then it does you as an open-source
hacker to change one xpath so in fact
those things don't change and the other
thing is that there are two hearts I
told you right one is for the URL
parents that you sort of fill in and the
other is the shape of the Dom in 10
years of use on the shape of that Yahoo
Maps Dom has probably changed about six
times the query parameters have not
changed and today we think of that as a
REST API so too though that's what all
the api's are founded on so so this is
bring up a good question but in the
context of how web applications are done
this has zero impedance mismatch so it
just works and it's sort of you know so
things that get used with fixed and be
it robust over time things that nobody
you use this fall down and it's like a
clue falling in a forest with nobody
around you don't hear it just a quick
plug so I've subtly or not so subtly put
up a page that tells you how you can get
your own google access Jack's shirt so
you'll notice that we're wearing a very
stylish Google t-shirts right now they
have the google braille design front and
access Jack's logo on the back so we can
get the camera on me
a minute hey travel does modeling I love
it too so yes if you write any access
jack script and you know it's good and
you just just post it to the good
accessible groups list sent to us and
you know we'll look at and we'll send
you a t-shirt so a short explanation of
the local child and I conceptualized it
over a healthy Google breakfast drew it
on a napkin and a graphics artist drew
it for us it's what to data is basically
powered by ajax so that what to level
has been styled to look like a car and
so if you have a running car you can't
like start the car dictate that context
for accessibility and special needs the
enhancements also need to come by that
same distribution mechanism for it to
keep pace if if what you are relying on
is some piece of shrink wrap software
that you got that sort of knew how yahoo
maps look last week or how gmail look
last week well now it's going to be
clearly broken in fact it will be way
more broken with respect to fragility
that Bob pointed out then what we are
doing here because here what we have is
we've isolated the fragility that is
specific to a particular application
into that piece and we can read that
independently without doing a fresh
release so well so the metric here is
that the google access to access code
base is on subversion of a consequence
of it being on subversion is that
everything has an HTTP URL so ants
travel I change the code and check it in
our end users don't even know that
something changed they just just works
better and if you think about it that's
how all the Google applications that run
on the web work right you don't download
something every Monday morning to see
what we've done it just works yes
accessibility is turned off
no right unfortunately there isn't such
a thing that that is that would be a
nice thing to have ah so I have I have I
have mixed feelings about that I mean
the thing is so so now speaking not at
so as a developer i would love to have
that right yes i understand that so and
that's what i'm saying as a web
developer as somebody who writes web
applications i would like to have that
as an end user who is blind i hesitate
about that from a privacy standpoint so
this is why i think a better solution is
for sites for a website to sort of have
user preferences where a user can opt in
for a particular type of interaction so
notice that now you suddenly change the
equation you have changed it from say
you know who are blind i will always
give you this one says you are allowing
the user to say what you want and you
know on a given day you might not be
willing or prepare to look at your
monitor even though you can see and you
might go pick that feature and get the
right interaction so my preference would
be to go that route where it's under
user control as opposed to something
like a browser sort of advertising to
the world that you are therefore you're
blind or whatever you know where it is
you are doing you are making the choice
you are making the choice and it's under
your control and the thing is it should
be capability-based not disability based
so it should not your the preference
you're sending shouldn't be saying i am
blind or I am deaf the preference you
have setting should be I want you to
talk to me or I want you to show any
captions it should not be I want you to
talk to me because I cannot see because
all you're asking
what is further thing to talk
intelligently you're not asking for you
no sir yes right yeah yeah so that's
that sort of a more complex answer it
would ever happen it would be an easy
thing to say the browser should just
lift the user's machine and send all
that up with the header I I'm sort of
very hesitant to go that route and you
know we cave it show to inaction on
reader this is go Bonita the Salah Leroy
it has google reader geeky 904 cool
tools three so now Bob returning to a
fragility question now that the script
is actually integrated into the reader
product base code base we basically have
regression unit tests that make sure
that as the dough shape of the Dom
changes we catch those in a unit testing
and you know go fix the scrap life make
people Google John official google blog
18 okay so that's how I read that I can
open it articles voted so don't notice
that it said articles wrote it and I'm
finding a gin specifically because I
want to highlight the fact that we can
actually make the screen d to say things
without actually putting it on the
screen which is sort of a cute hack 510
pn three hours ago in their own words
political videos meet google
speech-to-text technology from you so
you can do that so are added and you'll
even it will even tell if you've added
the star taking a star away and by the
way all of these key board bindings are
just part of google reader by default
and all we've done is we've watched for
events and one event happens we use
access Jack's library to speak the
appropriate thing so basically in an
application as I said you need to do
three things um you need to pick the
content to speak you need to give the
user keyboard means of moving among
things and then as he moves you need to
sort of format what you're going to
speak properly in the case of reader
google reader is actually a power user
app it's completely keyboard driven it's
you know you can also use the mouse if
you like but it's a power user will just
use this with a keyboard and it's very
very power it's a very efficient user
interface so what we did was to
basically add in a dish augment the user
night
action with additional handlers that
produce the rights we've spoken feedback
um so basically the way we are doing our
work is that so far so we the access
tracks work we've done has been
integrated into reader in books but
there are a number of other products
that we have enhancements for that are
in early prototype if you go to the
access Jack's website you will see the
early early ones that we have and that
does include gmail it works very
fluently with gmail using the same
navigation that child showed you so you
can use hjkl or the arrow keys to browse
through your folders and threads um you
can chat all of that works and basically
as these things get robust as we get
happier with the user interaction they
get into integrated over time so gmail
yes it is there in the prototype set on
so if you burn to the google access
Jack's project side there is a page that
called the showcase that sort of has
links to all the things that one and you
can go play with that and you know you
can unread J kirkland hell next look
more page window is bad % e 2 percentage
0% eighty percent c2 so you can do stars
so yeah the same same thing works
when I going to fill me a phone I find
your phone before noon yeah that's
actually a minor pravda tedious I'm not
escaping off the characters properly
that's my bug and on the firebox end but
that's one of the things I'm work on
fixing but I really like the quality of
the text to speech that apple shipped on
leopard by default it's it's it's a real
very very good engine very nice so if
actually / spend a little more time
formatting information you can make it
sound really really good so that so that
is that is something we are abstracting
for you through the access text layer so
remember so there are protected pills so
so how does this work right the user who
needs this probably has a screen reader
of some kind if you're a web developer
were probably using a self voicing
browser like five walks to do your
testing but the end user probably
already has a screen reader that he is
using the screen reader probably came to
the text-to-speech engine that it talks
to her right in the past for a random
that where the problem has been how do
you sort of talk to that screen reader
and get it to say something the only way
of doing it was to sort of you know put
things on the screen and sort of go try
to the screen reader to see what it said
what we are giving you is JavaScript
calls when you get abstracted from all
of that so you as a web developer at a
much higher level so you're not talking
to them so yeah your platform
specificity about how each TTFN engine
works is being handled by somebody else
for you yes
so we have a showcase on the main access
tracks home page so that showcase list
saw the currently available access Jack
scripts so it's many of them are
prototypes for Google Google
applications that you know as they
become robust pitino get integrated and
some of them are for external one so the
jawbreaker game for instance and another
of my favorites is the xkcd comic i want
to show exclusively yeah so it's so so
the exclusive new comic is very
interesting so Randall came and gave a
talk here at Google and during his talk
he said something about blind haircut so
then we had to go over Santa Rosa make
XKCD transcript oh man is sitting on a
couch talking to another man they are
both stick figures first man make me a
sandwich that second man what make it
yourself first man sudo make me out
sandwich got second man okay comment
proper user policy apparently means
Simon Says so now that's something
interesting there's something
interesting happening here so if you
think of a comic like XKCD part of the
fun when you can see the card turn is to
look at the stick figures see that
little caption under it and interpret it
for yourself oh there is a fan a site
that separate from XKCD where volunteers
go in and type up transcripts to help
the comic robot search engines now this
transcripts are typed into that other
site they are actually verified by the
comic author in this case randall and
then they go in now you could say you
know for accessibility reasons for blind
users to appreciate it randall side
should just show that transcript that
will be set of bogus because it would
spoil the comic for anybody who can see
so you can then say well you know if
you're a blind user you go to the site
you can look at the comic then you go to
the other side and then you look at that
transcript and then you can understand
it how often did I do that never all
right guys too lazy right so the lazy
programmers answer is to make the
computer do that work and so that's what
that box is Jackson huntsman did it's
actually in a shot so mashups don't have
to be just visual mashups a mash-up is
about
bringing content on the web from two
different places into a single user
experience and in this case we brought
together the xkcd comic and the
transcript for that particular episode
into a single auditory user experience
at what that's what you had okay so
anything else or
mm-hmm
yep you can open do that but then let's
say excuse next thing I Randall gets ten
million hits a day okay I don't know how
many he gets the methyl gets ten million
hits a day and out of that a hundred
users cannot see so poor and we'll
probably pays for the bites that he
serves right there a bit better where
are you there are design choices the
thing is the web is a very flexible
environment and yes you know doing an
invisible link for say two words is one
thing booing an invisible link for say
200 words and then giving all the 10
million users all of those 200 words
that they never see is probably not a
good idea now on the other hand if you
sort of say well you know do a mouse
Howard over and then you see the
transcript and everybody likes her
that's a good idea so you know you
should sort of have that ability to do
it in many many ways and saying and I
think the other key point to remember
here is that we were able to do this
without getting help from Ida Randall or
from the oh no robot site that does to
text transcripts this is something that
as a third party you could just step in
and do it through access Jackson that's
very empowering it's not do so because
the thing is so after you do this and
you're sure it to say the oh no oh no
guys or vandal wow this is wonderful
right but Mel says if you sort of say
you know if you had done that and if you
had taken the transcript and you had put
that on the outside then you would have
all the blind users come in radio comic
and you know you'll sort of probably get
along yard and see ya we ever going to
get time a little bit so in for any
empowering sort of way so this is how
the rest of the web works right you if
some if you don't like so the whole unix
joy because you know get out of the way
or I'll tell me get out of my way or
I'll turn you into a shell script right
so it's a web you can basically go in
and program at yourself and you know
give it to everybody else and your
friends and take it from there so any
other questions or okay well thank you
all for coming thank you everybody
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>