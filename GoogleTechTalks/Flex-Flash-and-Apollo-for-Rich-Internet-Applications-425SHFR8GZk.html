<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Flex, Flash and Apollo for Rich Internet Applications | Coder Coacher - Coaching Coders</title><meta content="Flex, Flash and Apollo for Rich Internet Applications - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Flex, Flash and Apollo for Rich Internet Applications</b></h2><h5 class="post__date">2007-10-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/425SHFR8GZk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">everybody I'm dick wall i was up until a
few months ago a confirmed flesh and
flex and Apollo skeptic mainly because
I'm a linux user and have been felt left
out in the cold by flash and flex for a
number of years and then I met James and
he encouraged me to take another look at
it and I figured if he can do that for
me you can probably do that for just
about anyone so James Ward he's a
evangelist for adobe for the Flex flash
and Apollo technologies this tech talk
is going to be a publicly released one
so please no confidential questions and
with that I'll hand over to James take
away thanks dick so I am an evangelist
for flex must confess that I am NOT an
evangelist like in the religious sense I
I'm speaking about flex because I have
been a Java developer since about 97 I
started building some athletes and then
transition to servlets and then you know
wrote the the typical couple thousand
line long servlet and then got into
struts and jsps and all that and found
that I was having a really hard time
creating applications web applications
that looked halfway decent and so then
through a series of events i found flex
and started doing some flex development
and just fell in love right away with
with Flex because i was able to create
much better looking applications with
Flex then i was able to do with HTML and
javascript and those technologies so i
want to give you an overview of what
flex is what Apollo is what you can
build with them and then we'll actually
write a little bit of code together so
you can get a sense for the programming
model behind flex some to get started
the the first application that i want to
show is one that we built as a proof of
concept to show what we think user
experiences should be like in web
applications and this is of course built
with Flex running in the browser so this
is an application that an insurance
company would have to to help the user
enter
in about an accident that they got into
so I'll come in and enter my policy
information my username and password and
then my driver information you'll see
that in this application there's these
nice transitions between these different
pages in the in the form and I'd like to
point out real quickly that we didn't
just add these into to be cute and to be
flashy we really did it for a very
specific purpose and this is this this
type of application is showing you what
users what great user experiences are
like and we feel that by adding those
transitions into this application we
really help the user to stay in context
of where they where they were where they
are how much further they have to go so
that the user can make this cognitive
association with with movement to say i
was there I'm here now and I know how to
get to the next step so it's a it's a
very important part of this application
is those transitions it's not just there
to for us to be cute so I'm going to
come in and select my my vehicle now and
it's toyota prius 2006 and it's gold and
here we see the that that car my car
that i selected and now i can begin to
specify the damage that happened on this
vehicle so I'll mouse over the different
parts of this and I can say the hood was
scratched the front bumper was missing
and we can begin to detail all this
information about what happened to our
car when we got in this car accident
maybe we could take it a step further
and let the user even take out a pen and
draw on the car to really illustrate the
details of what happened to this car in
the accident and another thing I like to
point out in this application is that
this this proof of concept is built not
just to show how to build a better user
experience but also to show how returner
applications not only do that but also
provide value back to the business we
don't just do rich internet applications
to be cute we do it for a very specific
business business purpose and in this
case the the business purpose is to get
get more and better information from the
user about what happened in this
accident so so by by allowing the user
to to just select the the parts of the
car and specify the damage we're we're
able to get better and for
mation from the user so if you contrast
this to a typical type of web form where
it's a gigantic text field that says
describe what happened and the user will
say well eyes on my way to work i stop
by starbucks got a large you know
cappuccino and you know who knows what
the user is going to enter in this text
box so by giving them a visual way to
illustrate what what actually happened
this provides much better information
back to the insurance company so and
then we take this to another level on
the next form where now we now we tell
the user alright recreate the accident
so now we allow the user to take the car
and drag it around the screen to to
recreate the accident so you can say
well I was coming from the north I
crossed few lanes of traffic and turned
right this bozo coming from the other
direction he turned left and boom he hit
me and so again this is not just about
you know the flashiness of it it's
really about creating a better user
experience for for the end user and
about creating about having more
business value for the business that is
behind this application so and feel free
to stop me and ask questions as I as I
go through this but so this is a this is
kind of my my my my best concept of what
a rich Internet application really
should be should encompass both both a
great user experience but also provide
business value for the for that richness
to to the business behind it so another
example of some great stuff that we can
do in return your applications is with
Flex is to mash up Ajax and flex
applications to create some interesting
things here so this particular
application and that's because i don't
have my webcam plugged in so we'll get
another one of those in a second but
this is this is taking a flex
application combining it with google
maps so now i can sign into this
application and into this one and now
these two users can collaborate in
real-time says one user greeeeat takes
the map and drags it around we we we
push that event in real time out to
the other users browser to change the
change where the map position is so
that's using a real-time push technology
using a binary socket and so it's it's
not using a common style polling method
we're actually doing a real binary
socket if that binary socket isn't
available due to firewall issues we can
actually fail over to a polling common
stock communication so then this one's
kind of cool we can also kind of show
off the the vector graphics capabilities
of flex and flash here so I can now take
take the map and start drawing on at one
user can one of the users can say I
think we should go this way and the
other user can go select a different
color here and say no we should
definitely go this way and you know they
can argue about the right to right way
to wind their way through New York so
again this is about creating a better
user experience in this particular
application but also specifically
through using real-time communication to
end real-time messaging so that's
another thing that we're seeing with
Richard our applications is utilizing
that real-time messaging to do
interesting things like this another fun
thing that we can do with Flex is we can
get really flashy but these aren't built
with a typical timeline based tool
they're built with what we call the open
source or what will be open source flex
sdk and it's it's free will be open
source by the end of the year and so you
can build really interesting
applications by writing some code which
you'll see in a little bit but in this
particular one the engineer that built
this he he he remembered when he was a
kid having this anatomy book that had
these transparent pages that you can
flip through and it would have different
kind of layers of the body in it so he
thought that would make a great great
flex demo so he scanned in those pages
and created this book component so now
you can take the book and open it up
you'll see if that page was the cover
was hard that's just a parameter on this
component but now we get you know the
transparent page and we can drag the
page back and forth and and flip the
next one over to so so again this is all
just built with it with this reusable
component
and and because it's reusable we can do
lots of other interesting things he has
a number of other other scenarios I'll
show a couple of them this is all
available on his blog quietly scheming
calm it's one of our flex actually the
architect for the the free flex sdk so
this one is interesting because it shows
how you can combine this this this book
component with Flex components or with
Flex charts so now you can get a chart
that's animating as we slide the page
over or even we could play video on a
page so you can really put any any type
of flex component into this component
that you want switching gears a little
bit but still showing this component i
want to show how he then took this the
same exact component and used it with in
apollo sao paulo is our desktop runtime
for web applications so with with Apollo
we're able to take HTML Ajax flex flash
javascript HTML CSS all that and combine
it into a desktop application experience
so he took his his book component and is
rendering a web page so this is the real
life live Google here we can search for
the java posse and this is real life
google but it is in the book component
so now we can grab the page and oops we
shouldn't be showing yahoo here we'll go
back so so here we get here we can go
somewhere else here full load java posse
in this other page so there we get the
java posse site all again within within
this book component so so again all just
reusing that that same book component
but this time pulling in HTML content so
so i don't know if you would ever
realistically use this for anything
useful but it's kind of a fun way to
show component reuse yeah how are we
rendering HTML so Apollo the Apollo
runtime has both the flash engine
embedded in it which is what we use for
flex and it also has WebKit the open
source HTML engine behind Safari so we
combine those two tech
ologies and actually I don't know how
technical you you want me to get but but
what we do is we actually read how
WebKit would would output the HTML we
then take that and turn it all into
flash objects and our ultimate end
result is flash objects in Apollo
application so in Apollo everything the
ultimate output rendering is all flash
but we use WebKit behind the scenes to
have a real HTML engine so a couple
things to note before I move on too much
further about about how flex and flash
and Apollo are work from a product
perspective of course flashes is a
freely available download browser
plug-in flex two applications require
flash 9 which currently in our latest
statistics after nine months of being
out is at about eighty-three eighty-four
percent adoption worldwide so you guys
are probably all are familiar with with
flash being kind of the de facto
standard for for rich interactive
content on the web it's it's the most
distributed piece of software in the
world it has penetration if we look back
to I think flush seven the penetration
numbers are about ninety-eight percent
worldwide for flash so it's it's the
most distributed piece of software on
the web on on I think seven hundred
different piece 700 million different
pcs and mobile devices so so this is why
we have this great foundation to build
these applications on and we even
recently have have taken the the core of
flash and and now the core of Apollo and
open sourced it with with Mozilla so if
you if you're familiar with Mozilla
tamarin that's the open-source virtual
machine that we use within flash player
and within the apollo runtime so so
Tamara now is open source with Mozilla
all that it really does it's kind of the
whole guts of of our flat virtual
machine and of Apollo it takes akma
script byte code or acma script code and
just execute that within a jit compiler
so so there's some some great benefits
about having tamarin in this jit
compiler available
us in our client applications one of
those is performance which is another
benefit here of flash this is an
application that i wrote you can find it
on on my blog james ward org and you can
play with it on your own but i want to
show you i want to compare the
differences in data loading between ajax
and n flex so within flex of course
we're using that tamarind virtual
machine and then within the Ajax
benchmarks will be using just
xmlhttprequest and I'll do Jason for you
today but you can play with the other
methods so what I'm going to do is I'm
going to go to my server I'm going to
have my server generate five thousand
rows of JSON data and that's just
JavaScript object notation send that
back across the wire and then we're
going to do an eval on that within
within JavaScript and then we're going
to take that that eval d code that our
objects and we're going to create an
HTML table from from those objects so
I'll run this and we'll see how long
that takes so we measure for things a
server execution time the transfer time
the parse time and the render time so
total amount of time here for that five
thousand rows is about two and a half
seconds you can see that the various
breakdowns there but the first time
interestingly just the amount of time to
to actually do that that the the eval on
that JSON string took about one in 1.2
seconds now we can go see the actual
output of this of that that benchmark
here it's just an HTML table with all
five thousand rows in it so you'll see
all five thousand rows this one is just
a plain old HTML table it doesn't
support client-side sorting I did added
dojo test because dojo does support
client-side sorting but I won't do that
test for you today but but so the so the
the best method there are various
methods that you can use within flex to
talk to your back-end to get dot in the
best method is to use a protocol called
MF MF is a binary object serialization
of our of our objects so what happens is
an amf
we go the server and say hey get me five
the same five thousand rows but encoded
in this this amf format which is pretty
much the flash memory format then we
send that across the wire and then when
we get it back on the flash side we kind
of just stuff it into a place in memory
and so that then we have all the objects
available to us so we're gonna and then
we're going to in this this benchmark
will then render that that data into a
into the flex datagrid component yeah do
I trust what we do bounce checking on it
before we actually throw it into memory
so and there there is a bunch of things
where you can't overwrite you know
variables outside of the the scope of
that so so it's it's been in flash since
I think flash six or so and we haven't
seen any security problems with it so
far so it's it's them so I'll run this
one this one same five thousand rows
you'll see that that that benchmark only
took under half a second there so same
five thousand rows the the parse time is
nearly nothing because we don't have to
do a whole lot because it's already in
the object format that we that we want
within flash then the render time we're
at only sixty three milliseconds there
yeah
yeah yeah Tamra yeah yeah will at some
point so the Mozilla guys are work
working on integrating tamarin into the
the Firefox browser yeah binary
performance what does that actually mean
I mean you've been buzzing by us here
with a zillion yeah fancy sounding word
about it now I haven't heard you know
what's the confusion here to to a
mainstream product you mean to where
would I use tamarin outside of outside
of a browser or outside of flash what
will the contribution to the mainstream
Mozilla actually G the the main
contribution was for a virtual machine
so so that virtual machine is
specifically for running ECMO script
code or JavaScript to or our
implementation is called actionscript-3
but that virtual machine is just a
virtual machine it's it's you could use
that on your own if you wanted to if you
had needs for a virtual machine but most
people rely on a browser or flash or
something else for their virtual
machines so so i don't i don't know if
that answers your question but so then
we'll part of the contribution be a
virtual machine for running you know all
the javascript in your browser faster in
mozilla yeah absolutely yeah sorry sorry
I didn't make that more clear so so the
virtual machine does execute ekman
script equi script revision for which is
the new standard for JavaScript too so
when the browsers want to implement
JavaScript to within the browser then
they will use the tamarind virtual
machine to actually execute that codes
rather than doing the inner rather than
interpreting javascript in their current
virtual machine or how they do
interpretation they'll actually use
tamron to execute that that that could
okay so that applies to all that in
tamarind then in the future in mozilla
that'll apply to all javascript in the
browser yes yes absolutely yep and at
some point are you going to talk about
what the you know technology integration
he is going to be for Mozilla you know
in the future or Cameron today and
potentially Mozilla the the roadmap that
I've heard for getting tamarin into
Firefox is Firefox for time frame the
the reasons for that are from what I've
heard are not technical they are more
that JavaScript to the language is
different enough from the previous
versions of Java Script that it will it
will break that if we force javascript
to on on sites it'll break some of them
and so they have to wait a while before
they can transition people to JavaScript
to this is something we could probably
talk more in depth with with deon about
afterwards because he he probably has
more information than I do but but
that's that's as far as I know about how
the browsers are integrating tamarin
into the into the browser currently that
tamarin is in flash nine today and it is
in Apollo today and we use it for our
our code execution yeah I yeah so I'm
not as far as i know i'm not able to get
memory usage in javascript but i am able
to get it within flash so so the entire
flex application that we'll see in just
a second it's memory overhead is about
25 megabytes of client-side memory and
then of course the bandwidth is here too
they the one of the interesting things
about a mf3 the protocol is that it why
it's so much less bandwidth is that what
we do in the binary encoding is if we
see a property that is that is repeated
we don't put that in the stream more
than once we just put a reference to
that so it's kind of like a somewhat of
a gzip algorithm but it's but it's based
on property values rather than on you
know looking through ones and zeros for
repeated repeated strings so so that's
why the bandwidth is much smaller but
that also does all improve client-side
memory as well so so let me go back to
the the flex application here's that
here's our flex datagrid with all five
thousand roads you'll see a lot of the
strings in this particular data set are
repeated so that's why the bandwidth is
so much different between between flex
and Ajax and this
circular in this particular use case but
you know definitely depending on your
use case you may not see that that same
performance difference yeah yeah so then
with my memory book plane overhead it's
doing 25 and he shared cause different
hasten know who not be shared yeah every
instance of flash on a page is a
different instance of the virtual
machine so if you pulled in that same
five thousand rows in in five different
tabs it would be twenty five MiG's times
five it's it's flush it's flash runtime
plus it's the entire flash memory
footprint for this application with the
data grid so it's the it's the flash
runtime it's the data grid it's all five
thousand rows of data all that combined
is twenty five megs of ram yeah so one
thing I want to show real quickly which
you can explore further on your own is
that because of tamarin and the fact
that it's jet compiled if I increase
this now to twenty thousand rows one
thing that we can do because of the
performance of the JIT compiler is I can
sort all twenty thousand rows entirely
instantaneously on the client side and
that's something that if you try the
dojo test even with 500 rose on the dojo
test it takes it takes I think 10 20
seconds or so to sort 500 rose so so
obviously that you know we're using JIT
compilers and Java and other languages
because of these performance benefits
and and that's what we're we're showing
here is that the performance benefits of
tamron so and then we'll also see here
the that we still only took under a
second to get that twenty thousand rows
to to parse at or you know shove it into
memory and and then to render that that
end of data grid as well and we'll also
see that the bandwidth is significantly
less is as well still it only 345 k for
that for that twenty thousand rows so
that's that's another reason why why
flex and flash and Apollo are
interesting is the fact that that right
now we can take advantage of this
virtual machine with the JIT compiler we
don't have to wait until the browser
adds tamarin to speed up JavaScript we
can get this performance benefits now so
that's there's there's another example I
want to show which if you guys are java
developers you may be familiar with with
the the napkin skin that someone did for
swing a long time ago so one of our
engineers did the same thing with flex
so he was able to to take our
out-of-the-box flex components and with
CSS styling and with some some custom
programmatic skinning he was able to
replicate the paper the napkin skin so
this is kind of cool he has you know all
the typical things in here in the the
data grid you know still works the same
way as usual but we get you know the
nice napkin looking feeling stuff here
so fun little little application to show
just exactly or what you can do with
skinning and styling so another
application that i want to show is
actually google finance so google
finance is of course one of your
applications and i always demo this
application because it shows a great way
to combine flash based technologies flex
applications and Ajax applications in
the same into the same experience so
here we have a very seamless user
experience where we can get you know we
can go through the news on the right
this is all Ajax HTML based content we
have the flash based chart on the left
we can scroll through it we get nice
vector graphics you know animations and
and stuff that you that you get with
flash but then we can communicate back
and forth between these two so if the
user selects something in the Ajax HTML
content on the right we can send that
event over to the the flexor flash
application here and we can do that by
directionally so so we have a tool kit
called the Flex Ajax bridge that allows
you to easily do this communication back
and forth between flex and Ajax so so
it's not you know we're not with Flex
we're not saying
place everything with flex Ajax and HTML
definitely have great places where they
work very very well and we don't want to
you know tell you that you have to use
flex for those things like HTML links
and text and you know these are things
that HTML does very very well flex and
flash of course are very good at vector
graphics and performance and real-time
messaging and those types of things and
so so we can combine the two
technologies together into a seamless
user experience yeah
yeah um interestingly oh yeah repeat the
question sorry so the question was how
do you layer Ajax and flash or flex
technologies together onto the same page
and I believe that this works on on all
the browsers I've tested it on Safari
and ie and Firefox I haven't tried it on
opera but you'll see that this this
application this benchmark application
is actually a flex application that I
built but the output over here of course
can be Ajax output as well as flex
output so so I did have to make make
that all work so if we run one of these
tests this is HTML layered on top of my
flex application that you see it kind of
surrounds this now but you know if we go
back and run in one of the Flex ones
that's doing the same technique just
overlain another flex application on top
of a flex application so so it's working
here the the technique that we're using
there's a flex component called iframe
that allows you to do this but we're
just we're just put in an iframe over
top of the flex application to make this
work and then you could still
communicate back and forth via via the
Flex Ajax bridge on which one
this one is is the the flex output let
me switch back to a HX output and we'll
we'll see the so this is your basic HTML
output here and then of course over here
is is flex flex application and if we
close that then we're back to flash we
just hit that iframe we actually moved
it up to the corner up to a hidden area
I think that for some reason the browser
in order to actually kind of execute
code within an iframe it has to be like
at least 1 pixel x 1 pixel or something
like that so I just hide it up in the
top left corner there to make it work
it's kind of a hack it took me about two
days to make that actually work in all
the browsers but but as far as I know it
does it does work pretty consistently
yeah yeah interestingly yeah you could
do that you could navigate back and
forward through the the navigation
within your iframe width in Flex we have
a built in history manager that that
does do an iframe on the page to then
hook into the back and forward buttons
within within your flex application so
this may not be the the best example to
show here but but Yahoo Maps is actually
done a really good job at integrating
this behavior into their application so
this is a flex application and if I get
directions from San Francisco to San
Jose you'll see that it's changing the
the named anchor in my URL but it's also
hooking into those the back and forward
buttons so now I can go back and we
restore the state back to previous place
without doing a page refresh the
bookmarks are all or the the URLs are
all booked markable and can recreate the
the the right state within the
application so so yeah so so you get
that the back and forward kind of
integration out of the box within flex
there's also if you need really
customized behavior for back and forward
there is a open source tool kit called
the called URL kit that makes it really
really robust way to integrate with back
and forward within the browser and also
manage the the named anchors as well so
yeah all right so let's see so another
application i want to show is another
apollo application this one is actually
google maps so we were transitioning
from yahoo maps to your guys's google
maps what we did was we took Google Maps
we're actually rendering google maps now
within an apollo application so this
application was launched from the start
menu it could work offline if we cashed
if we cast everything locally in local
files but in this particular application
it's it's just pulling in all the google
map stuff from live from google
and we have also over top of of this
over google maps we have a little flex
component so here we can drag this
little flex component around you'll see
it's semi-transparent we can now take a
contact and drag it onto the map
together you know to get that that
particular location and navigate to that
particular location so this is all
running you know just just as normal
google maps would within the browser but
but within an apollo application that
could be that could be a that could be
downloaded and installed and launched
from your Start menu or your Mac dock or
whatever so and some some other people
have started to do some interesting
things as well porting some of the other
Google applications someone started
doing gmail so now you could launch
dream gmail from an Apollo application
and I won't go all into that but but
there's some interesting things again
that you could do there you could within
that application you could actually
intercept like the when it's getting
mail sent over to the client you can
save that mail locally and do all sorts
of offline things as well within Apollo
11 application that is is doing some of
the offline stuff which I won't show the
offline portion today but the is sales
force application that we built so this
application actually goes out to
Salesforce it loads all your customer
data onto your local machine and even
loads customer documents that you may
have so if you have documents for a
customer or meeting information it will
actually save all this locally so then
if i were to disconnect from the network
close this application and the launch it
again then i would still have all that
same same information synchronized
locally actually I have to tell it to
specifically synchronize an account
because we don't want to you know
synchronize all my accounts unless
unless the user specifies to do that but
but this is this is all completely
working all synchronizing locally this
is something that Salesforce and us have
been working on and one of the one of
the great use cases for Apollo is being
able to take your your crm applications
or your business applications be able to
work on them while you're on the plane
while you don't have internet access so
that's all right so I'm going to start
writing some code to show you guys a
little bit about the the how you build
these flex applications so to kind of
preface this i'm using a tool that we
charge for to build these but everything
that I'm building you could use the free
the free flex sdk to build so there's
nothing special in this tool that you
couldn't do with the free tool the
reason why i use the the tool in this
demonstration is that because of the
code completion and and and because of
the the syntax checking i'm less much
less error-prone so but usually i should
also stay linux is my primary OS i
usually just present on on vista cuz i
can never be sure if i plug into the
projector with linux that it's actually
going to work but when i'm on linux i
use them as my primary ide and use ant
to do my builds and and those sorts of
things so so all using the the free SDK
so i'll create a new project and I'm
sorry that again have to use someone
else's product but we're going to create
an application that pulls in some images
from Flickr and renders those in a
component that the quietly scheming calm
guy made him to model the itunes album
art flipper so I need to go include that
that that that component inside my
library path so I can just add it
there's a number of different ways we
could include that but I'm just going to
add the display shelf here to my library
path and now we've got that component we
can we can now build against we can now
implement that component in our
application so I need to take out my
layout real quick and so now I'm just
going to use the default layout and I'm
going to add a flickr service which I'll
show you in a minute this is going to
talk to flickr for us and then i'm also
going to add a display shelf and so the
display shelf component is a reusable
component that the quietly screaming
calm guy made i'll set the data provider
now and i'm going to use a binding
expression so since flex applications
run on
client within within the flash virtual
machine what's going to happen is this
display shelf is going to be watching
this flickr service for changes and when
it sees changes it's going to
automatically refresh to to display
those changes so we're going to bind to
F dot photos and so that will that's our
photos array that will get back from
Flickr and then I need to add an event
handler for creation complete so
Christian complete gets throwing when
the application is fully initialized and
so when we get the creation complete
event we want to call our flickr service
and call the get photos by tag method
and then i'm going to specify orange as
the tag that i'm going to search flickr
for so that's all we need in this
particular application so i'll save that
and it's just compiled that application
into the the Swift byte code that runs
within the flash player and now we can
go in and run this as a flex application
and so now we start to get some images
from Flickr displayed in this display
shelf component so the display shelf
sometimes I have to close my browser
rather quickly if you know anything I'm
seen comes up but looks like we're okay
I usually use orange because it's it's a
pretty safe term I tried flex once that
wasn't a good idea so I try to stick the
orange ooh that one's kind of obscene so
anyways this is the display shelf
component the eli built you'll see that
it has the live reflection going on has
the nice transitions as we move between
these these photos so that was only a
couple lines of code to use use that
display shelf component and then also
talk to flickr i want to show you a
little bit about this flickr service the
the flickr server how am i doing on time
well i forgot to ask it's 20 min ok
great so so the the flickr service is in
actionscript class so with flex we
combine the declarative XML which we
call em xml with the procedural action
script language and so this flickr
service is definitely more of a
procedural type class and so we wrote
this in action script but this just
talks to flickr for us so you'll see
that the syntax is a lot like java it's
the new JavaScript to syntax or
actionscript-3 whatever you want to call
it you'll see that we have our flicker
flicker service class we have a photos
arraycollection that's set to bindable
meaning that we can use that in a
binding expression like we did in our in
our display shelf as the data provider
here's the binding expression there and
then we also have an HTTP service which
is going to go out and make an HTTP call
because Mara these these flex
applications are running client-side so
in order to get something from the
server we have to go over HTTP or some
binary socket so we have our HTTP
service in our constructor of our Flickr
service we set the URL we set an event
listener to so that when we get a result
when we get a response back from Flickr
we call this handle result function and
then we just loop through the results
and render the and set those items as
add them to our array then we also have
our get photos by tag method which just
takes a string with tags and then we
create our request parameters that we
are restful style request parameters
that we want to send a flicker and then
we do a srvs end so that's real simple
class to talk to Flickr and and one of
the things that I like to show is kind
of the difference here between mxml and
ActionScript so within within flex
everything is ultimately ActionScript so
mxml is just there is almost like a code
generation language so we take em xml
actually we convert it into action
script so everything that you can do in
mxml you could also do in ActionScript
action script is our low-level language
and we just we just provide the
declarative language because it's very
easy to begin prototyping applications
XML is also very familiar to HTML
developers so we provide that as one way
that you can build begin building your
applications so you'll see that that
this this block of the XML is actually
doing what would be you know just a
single line of action script I could say
I could actually add a script block here
and inside my script block instead of
defining my flickr service here I could
I could actually define it here I could
say VAR f which is our ID and that's a
flickr service so you'll see that the
type in use in javascript to uses
colin's then we create a new flickr
service so we could we could do it that
way in the scripting code this block
does in when it's code generation would
look exactly like this I just I for the
purposes of this demo I didn't do it
with these the script block because it
adds like five lines or four lines of
code and that four lines you know makes
the demo not look quite as cool so one
other thing i want to show here is the
debugging features so we can also set a
breakpoint you see I've already set one
here let's clear that set it back can
set a breakpoint now here so that so if
you didn't need to debug this
application and see what exactly flickr
was giving you as a response i can now
launch my application in debug mode and
in debug mode it automatically i got my
response back from flickr and now i'm in
my debugger within eclipse this is
integrated into the Eclipse debugger I
can see my stack trace come in and see
variables set expressions you know all
the all the typical debugging things so
so this this kind of thing helps you you
be a lot more productive when you're
when you're building your your
applications so that's that's kind of
the development experience I could keep
writing code if you get if I've
completely confused you guys with that
that sample any questions before I move
on want to see more code anything yeah
ah good yeah good question so oh yes the
question was how how could I take this
application and turn it into an Apollo
application so that's a great thing to
show so we use the same exact flex
library flex compiler the free flex sdk
to build our Palo application so again
you can do this all with with all the
free tools I'll do it here just for
simplicity but I'm going to create a
Apollo flickr app and i have to again
add to my library path that display
shelf component and i haven't tried this
ahead of time so hopefully it all works
but i'm going to do we could do a much
better reusable model than this but just
for the sake of time I'm going to just
do the copy and paste reusability model
and so I'll just paste in this code into
my Apollo application so same exact code
I'll save that and now let's run this as
an Apollo application oops I'm in the
wrong one here we go run as an Apollo
application and now we've just launched
that same exact application which should
be talking to Flickr and rendering
images no well interesting
um
yeah I should have tried this one ahead
of time so that should be working not
sure why it's not maybe my internet has
problems all right let's try it again
Oh No there we go all right I was
worried there so here we have the same
exact application now running as an
Apollo application and so this the way
that I just ran that is not the way that
your user would run that so let me show
you real quickly the the experience now
for turning this into an Apollo
application and then in in some way that
you could give it to your users so again
this could all be done through an ant
build or however you want to do it but
I'm going to export this application as
an Air file air is the Apollo
installable installable archive so now
we can take this Apollo application
package into an air file and oop that's
not the name I want let's call it
flickered air so now I've just saved
that into an air file so the air file is
what you would put on your on your
website or email to somebody and now
when they get that air file if they have
Apollo installed they can just
double-click it and we launched the
Apollo Apollo installer so now we're
going to say do you really want to
install this application it's going to
have access to do whatever it wants on
your local system are you sure you're
okay with that I am okay with that I
don't want to shortcut on my desktop
continue and now I could run it now but
i want to show you launching it through
the start menu so i'm going to tell it
not to launch it now but now we go to
our start menu and here we have our Palo
flickr we can launch that application
right from own those images were cashed
so it went really fast well that was
kind of obscene so that's that's the
experience now for creating Apollo
applications what we're doing in the
next version of Apollo which will be out
the full release version of Paul will be
out sometime this year but but but the
version that's out now is an alpha
version the next kind of alpha or beta
version will include the ability to
offer your users the the Apollo air file
or the or in a msi or a Mac whatever the
Mac installer is so if the user doesn't
have Apollo installed then they can just
download one one file that will install
Apollo then install your application
so and that's that's how we'll we'll get
a lot of users you know installing
Apollo we have we have some a lot of
really interesting customers i just
found this one the website last night
let's go see if i can find it again ebay
is doing some interesting things with
Apollo project san dimas is the codename
there they actually have a site
somewhere there we go so project san
dimas you can sign up for the for the
the beta on the site but this is a full
ebay desktop application built with
apollo so it does some really
interesting things when you're offline
you can still you know see items that
were cast you can you can you can even
post items while you're offline and then
when you reconnect it will automatically
submit your items that you've that
you've created to to ebay so there's
some really cool things in this
application and we should be seeing
public basis betas of this in the next
month or so yeah
um the Apollo currently runs on mac and
windows and they're working on the Linux
version which should be out sometime
after the one dot overs and they've said
so so as long as its Windows or Mac
you'll be fine linux will be sometime in
the future I believe so yeah oh the
question was could I run this on Linux
running arm and I believe the answer is
yes one of the reasons why I think arm
is you're talking more about like mobile
devices one of the reasons i'll give you
a little secret information about Apollo
one of the reasons why we chose WebKit
as our HTML rendering as opposed to two
gecko was that the WebKit is much more
suited for mobile devices because nokia
has been investing a lot in WebKit so
that may give you some indication as to
where we're going with Apollo so that's
so I I would hope that the answer to
your question would be yes I don't know
what time frames are ya
yeah yeah so the question is how
integrated can Apollo applications be
with the desktop so for 10 the things
you can do are you can you can read and
write files to the local file system
anywhere you're not in a file system
sandbox you can catch online offline
events you can do system tray
notifications you can do background
processes you can do copy and paste with
native applications you can do drag and
drop with the native OS and I'm probably
forgetting a few things but but the main
thing that you won't be able to do in 10
is talk to local dll's and the there's a
lot of people that really want that the
ability to talk to dll's but there we're
trying to figure out the best way to do
that because we don't want to break crop
the cross-platform nests of Apollo we
want to maintain cross-platform at some
point we might yeah I don't we we have
quite a few internal projects using
Apollo currently the we announced just a
couple weeks ago the Apollo or the adobe
media player that is an Apollo
application and there's a number of
other internal Adobe projects right now
going on that are using Apollo yeah yeah
question back
was that DRM in Apollo not at this time
some people have asked for it some
people have asked that we never at it
and I'm not sure what the current status
of that is the adobe media player
definitely has some kind of DRM but it's
not anything that was built into the
Apollo runtime itself so they
implemented it on top of Apollo yeah
what is that here we used to have a
project called central Central was kind
of the the predecessor of Apollo it was
a desktop run time for flash
applications but now with Apollo we're
not just about flash applications we're
about Ajax HTML Javascript and n flexin
flash applications 3d Oh 3d I'm sorry I
mr. misheard you 3d is not something
that is currently supported it's
something that they're looking at adding
for future versions of both flash and
Apollo but but at this point if you want
to do 3d actually today within our
interestingly the that tamarind virtual
machine is fast enough that some people
have done some really interesting things
there's this project called paper vision
3d that's an open source project that
does 3d within I don't know if this is
the right one yeah it looks like it
might be so they've created a 3d engine
or 3d like engine on top of the current
flash 9 virtual machine and we'll see if
we can find a little demo here here we
go so this is running within within
flash 9 we have I don't I'm not a real
3d gurus I don't know everything that's
going on here but but this is just able
to happen through the performance of
tamarin within flash line so and this is
an open source 3d library I've never
used it so I don't know all the details
but supposedly it's pretty interesting
other questions yeah you mentioned that
a bus of Apollo applications in the
example you said you said it from it
gives you full access to the desk
doesn't support any sort of sandbox
we're I don't know what the total story
will be 4 10 I don't even know if work
sure yet what the story will be 4 10
we're definitely working on a signing
model so you'll be able to sign your
Apollo applications and I don't know
exactly how we're going to implement
that as far as different sandboxes for
signed applications or not I don't know
if we even know yet what we're going to
do there because it's a pretty complex
problem it's that we found that the once
a user I think somebody's tell me we did
these user studies where as soon as the
user clicks the button to like download
or run an Apollo application it doesn't
matter what dialog box we put in front
of them even if it's like a gigantic
like hazard sign saying like this thing
will destroy your computer people
completely ignore it and if they want to
install it they will and so so we're
trying to figure out all right what does
this mean to creating a security model
that actually works and you know even
like this has been one of the problems
with Java and signed signed applications
is that if the user wants to install
something if they think that it's
something that they want to install they
don't care what the dialog box tells
them about what's what this application
could do to their computer so we're
trying to figure out exactly what the
what the best security model there is
what sort of protections are there to
keep programs from escaping tenants and
what sort of assurance do I was sort of
QA you to make sure that the sandbox
game that's a good question so what kind
of assurances do we make that that the
that the application Apollo applications
can't escape the sandbox and I don't
have a whole lot of information about
that but i think the the best answer to
that is that if you look at flashes
history of how well it's sandbox has
been and and that i don't know if
there's been an occurrence of anyone
breaking out of the flash sandbox within
the browser that we're putting the same
kind of scrutiny on Apollo to make sure
that it's just as secure and and as the
flash player has been so so that's I'm
sorry I don't have more technical
details for you but but i would i would
hope that you know we have the same team
working on doing the security testing
against Apollo that do the flash player
so so we should be you know similar
similar situations other questions yeah
without oh good question so I didn't
really go into the typing so so the the
JavaScript to actionscript-3 akma script
260 revision for that language allows
you to do optional static typing so you
can type your objects if you want to you
don't have to that's something that I
could actually show real quickly here is
in our ActionScript code for our flickr
service i can take a type off we'll take
this type off and things will compile
just fine but i'll get an additional
compiler warning which i could disable
if i wanted to telling me that they hey
this isn't typed maybe you should look
at typing it but yeah you can you can do
you can mix and match typing as you want
to yeah one more question then amount of
time EMF three yeah so amf is is a
protocol that's documented on OS flash
org there are there are numerous open
source and free implementations of it
one for java is called granite data
services or is also open a MF there's a
MF PHP and read five and lots and lots
of implementations out there we have a
commercial product that if you really
want to purchase you can but there's
there are open source implementations
out there so good question thank you
alright well I think I'm out of time
thank you all for coming hope you
learned something
Oh</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>