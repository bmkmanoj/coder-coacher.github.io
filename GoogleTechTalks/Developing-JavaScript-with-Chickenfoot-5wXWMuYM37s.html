<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Developing JavaScript with Chickenfoot | Coder Coacher - Coaching Coders</title><meta content="Developing JavaScript with Chickenfoot - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Developing JavaScript with Chickenfoot</b></h2><h5 class="post__date">2007-10-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/5wXWMuYM37s" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thank everybody for coming out this
afternoon here we have a very proud of
that Rob Miller is a professor at MIT he
was actually my thesis advisor at MIT
and so today we're going to present some
of the work that we did together and
some of the new stuff that's going on in
Rob's life so let Rob start things off
thanks Michael I should acknowledge also
the help of lots of students that went
into this work not just Michael this was
his master's thesis actually
award-winning master's thesis at MIT but
also read little who has contributed
some of the most recent stuff and a
number of undergraduate Sarah cleaver
and Marcus Ojeda in that way ever
Phillip about Tom Watson and Daris hub
there is the problem that we're
interested in the web as we all know is
now an application platform websites are
no longer just static pages to deliver
information to us instead they're rich
applications where we spend a lot of our
time as we spend more time with these
applications we want to be able to
customize them for our own needs for
example one thing that I really like to
do with my bank is set a bookmark on my
latest bank statement that doesn't let
me do that instead I have to login I
have to go find the statements link
click on that go up on the beginning
this the first statement on that list
click on that and that finally get rid
of mice to my latest statement so I'd
like to automate that and get a bookmark
that will delivery to my current
statement another example is whenever I
download open source software it
displays a bunch of mirrors and asked me
click on the closest one I'd like to
automate that so that finds the nearest
one for me automatically another kind of
automation another kind of change them I
want to make to a web application is to
transform its appearance so if its color
scheme is ugly if it's unreadable I'd
like to be able to change that if it
splits up results into multiple pages
making it hard for me to scroll through
them or search student with my browser
fine feature I'd like to be able to glue
them back together so add an option to
that table of contents there that will
let me glue all those pages together
well I might want to simplify the web
app so that it removes features that I'm
actually use and don't care about the
final kind of customization I'm not
going to make is to take two web apps
and mash them up make them work together
so good example of this that I care
about is you know when i search amazon
for a book it'll offer me a choice of
buying it new or buying it used to are
buying it from an option but it's not
going to tell me whether it's available
in my local library and I probably
shouldn't hold my breath for Amazon to
implement that feature for me but it's
something I can do myself I can get the
information about the book out of that
Amazon page and go over and submit it to
my library catalog and find out whether
it's in the catalog and then bring that
link back and inject it back into the
Amazon page so it's as if Amazon had
implemented that feature for me another
example is when I'm I went house hunting
recently and I really wanted to add to
these real estate sites a feature that
would tell me how long my commute would
be if I bought this house
the good thing is that web applications
are inherently accessible to this kind
of change right they have built-in hooks
let us play with them their connect
connection to a back-end uses HTTP which
we can simulate it replies with sort of
machine readable XML ideally but
sometimes the station all but at least
you can parse it and get data out of it
and what's displayed on your screen as a
user is something that you can go into
and change you can change the HTML to
change the CSS desktop applications you
know the world we were coming from the
desktop didn't have these hooks unless
the application developer intentionally
provided them and whereas with the web
apps they're already there automatically
so it's possible for end-users change
these applications and proof of it is in
the existence of systems like grease
monkey or using javascript in Opera
which lets you inject a chunk of
JavaScript into a page in order to
change the way p aves of the way it
looks but it's not easy and this is one
of the things that we're interested in
tackling in particular there are two
barriers to doing these kinds of
customizations that we've identified the
first one is that when you look under
the hood of a web app even an incredibly
simple one like the Google homepage it's
more complicated than then the user
interface and so you google is a very
simple and clean user interface but when
you actually look down in its HTML
there's a lot more complexity there for
you to understand so if you have to
customize it down at this level that's a
real complexity barrier that's going to
inhibit you from doing some kinds of
automation that you might want to do the
second problem is that you have to know
how to program you have to learn a
programming language and understand the
syntax and the details of using that
programming language so here this is
actually a chunk of of a greasemonkey
script and all it actually does is find
the URLs on the page and turn them into
hyperlinks right so it's a very simple
thing to do but it requires some very
complicated code to actually do it so we
want to tackle both of these complexity
barriers
and our approach for the first part is
to avoid digging down to the HTML code
so we want to try to automate and
customize web applications entirely at
the user interface level without having
to look under the covers and so that's
that's going to be the bulk of our
presentation today that's what the
chicken foot system is about the second
problem which we've only just started to
look at so we don't have a kind of
complete system there are only some
first prototypes we want to look at how
we can avoid having to learn syntax by
just using key words to describe what it
is that you want to do and you'll see
some examples of that later in the talk
so here's the system that we built it
embodies these ideas it's called chicken
foot it's a JavaScript development
environment that is it at route it's
it's a JavaScript programming about it
but it's geared towards end user
programmers as well as traditional web
Packers and the the key goal here is
that whether you're an end-user program
or web hacker you shouldn't have to look
at the HTML so as to the pages that
you're working with in order to
customize and change them it's a firefox
extension it's a it's a little sidebar
here and it's available for download the
urls here you'll see at the end of the
talk so that's a quick introduction what
i'm going to do now is hand over to
Michael who's going to give you a quick
demo of chicken foot and then the the
rest of the talk we're going to first
got to focus on end users and on the the
novel approaches that we've come up with
for reducing complexity for them and
then Michael is going to talk about how
you might use chicken foot even if
you're a courier if you're a web
developer and and take advantage of some
of its unique features so I'm a hand it
over to Mike
thank you rob so let's more into Firefox
so let me start out so this is the this
is the chicken foot sidebar saw a little
screenshot oh it's so the top here we
just have a regular editor for a
JavaScript and you can write JavaScript
just like you would be able to write in
the web page so I could change the
background color right run the script
changes the color nothing nothing too
fancy there but we're more interested in
end user programming things that we can
do from this side bar so we're gonna
start with a little example about how
you could customize this page to say you
want it to customize image search that
is really easy to do a search for icons
and my icons I mean small jif images so
normally the first thing that you would
do if you're going to do such a thing is
you'd have to go to the advanced Image
Search so there's a link for advanced
Image Search over there so in chicken
foot I can just say click advanced Image
Search
and I can run this and that will take me
to the human search page as I expect the
next thing I want to do is let's say we
want to do a search for calendar icons
so we need to get the word calendar into
this box because this is the this is the
search box so we need to find a need a
way to identify this text box in the
page so in Chickenfoot we actually have
a pattern Spain or you can choose
different types of patterns such as
button link this box and see what
Chickenfoot matches so in this case if
we do a search for text box will see the
chicken foot matches five text boxes but
we need to match the first one so
chicken foot actually can look for
keywords in the page and tries to
associate them with elements so in this
case if we went with the all the words
text box I try to match that then now we
see that I uniquely match this box so I
can use this in my chicken foot script
up here and I can say enter all the
words text box and I will do a search
for council Granderson so I run that the
word calendar appears in the box so
similarly similarly like I said we want
to search for small gif images so he
everyone choose small and here we ones
used gif files so chicken foot is a pic
command that can pick items from a
drop-down so i can say pick small pic
jiff
and I run that it chooses those from the
drop-down as we expect it in for the
last step we need to click the google
search button so i can just say click
search bone and i run that and that will
take us to the results page as you like
so this is neat there's now I've just
been able to automate this entire
process without knowing anything about
the underlying HTML form names or if
it's even a form or anything like that
but the problem is that this is just
hard coded to do is search for calendar
icon so that's not too interesting the
other problem is that right now I need
to type stuff in to the chicken foot
sidebar to do my search but the google
image search page already has a box for
this right there's a box for me to input
my search query there's a button for me
to click on the search for images so
instead I'd rather take advantage of
that and just add my own button so in
Chickenfoot we can write insert after
the search button
then we add a new button so I'm checking
foot has a button constructor and the
first argument it takes is a label for
the button and the second argument is a
callback function so so hey but the
contents of that function is going to be
the chicken foot script that we just
wrote
alright friend matching is not something
we can plement to get and chicken foot
unfortunately sir please sir okay I
think you guys need to undo click right
now this is actually still hard coding
to do a calendar search so I really want
to be able to get the valley out of that
text box so I can just say x equals x x
box and then I can get the value about
and replace calendar here
so if i run that now if i run this
script and i will do search for
something else search for pencil icons i
click the icon search box
it'll go through and go through page by
page and top of the things let me call
to do so one of the l also interesting
tricks here the chicken foot is doing
actually to notice is that i tell it to
click and then enter and then pick and
it waits for the page to load this is
actually a tricky part of chicken foot
to synchronize the commands to realize
that web page is loading it should wait
until a page is finished loading and to
operate in the next pages that it gets
so right now we have like a pretty nice
script but now you can see if come back
to the image shirts homepage and my
button is gone so this isn't quite as
useful as I'm like so we really want to
do is make sure that button comes up
whenever I go to the to the immature
stage so there's an ID and chicken foots
called triggers or you can set the URL
or pattern of urls to to trigger the
script that you've written so in this
triggers box I can click this button to
add trigger even a name
and I'll give it a URL so i'll say my
go-to images.google.com
and so now this trigger is installed and
so now even if the chicken foot side
bars closed whenever I go to this page
the icon search button theatre so so now
end-to-end you can customize a website
right without looking at the end of line
HTML just have it always be part of the
page without you know so it's more soon
as the integrated into your browser your
browsing habits so so that's an example
of how you know and you can use chicken
foot so just to show you some of the
other things that we've built a bit so
we have one that matches s80 words in
the page
so this one just goes through and we
took a list of sh t words from the site
so we run this okay just like New York
Times it highlights words that it
considers s80 words which may be a
little low level right now and then when
you mouse over them you can get their
definition so if there's some high
school kid and you're saying to DES a
team's you might want to run this on
pages that your head another one is
Barnes and oval runs on Barnes &amp;amp; Noble
page so it's something that Rob this
graphic work if we'd like to know if
this book is available or local library
so we actually have a script so I run
this so if you pay attention right there
I run this script it actually goes and
goes to the MIT library site books up
the book and as you can see inserts a
link into the page that would take me to
page listing in the MIT in memory so
this is the different ways that you can
pull information firms from different
sites together and so that's a brief
introduction Sugarfoot now we give you
back to raw so you can change time to
tell you how much
okay i hope that gave you a sense for
what kinds of things are possible with
chicken foot at the heart giblets
basically built on top of JavaScript so
anything you can do in javascript you
could have typed over in that edit box
there but we got a few commands on TUF
implement a few commands on top to make
common types of web automation is easier
for example go to pages you can interact
with forms you can do searches on pages
you can insert remove and replace stuff
but all these kinds of commands
straightforward what's what's really
novel here is the kinds of parameters
that we're passing to these commands in
particular the way that we are
describing the parts of the page that
you actually want to interact with and
what we use for that are what we call
keyword commands and basic principle
here is to use a couple of keywords
visible from the page along with the
type of a component that you want to
retrieve as a description for the
component that you want to interact with
for example you might say feeling lucky
button in order to identify the button
label I'm feeling lucky or depart text
box in order to identify this text box
and we have some we have a number of
components not just these kind of form
components but also images and tables
and rose and things like that in many
cases the component type it doesn't have
to be included in the pattern because it
can simply be inferred from the command
that you're using so if you can click
and you don't put a component type at
the end of your pattern systems is going
to assume that you want to find
something that's quick how does this
actually work so inputs are keyword
pattern and the webpage that you're
actually applying it to and the matching
algorithm produces a ranked list of
components with associated scores and
the first step of the process is to take
your keywords and search through all the
labels on the page for labels that match
the keywords and those labels include
actual text nodes that are visible
aged labels on buttons labels inside
dropdowns alt attributes on images and
of course this matching ignores its
tolerant of word ordering and
punctuation and capitalization and
things like that once we have a set of
matching labels we want to find the
components of the type to the users
specified that are associated with those
labels and if we're talking about
buttons then the association is pretty
easy gets the labels directly on the
button but if we're talking about a text
box then we actually have to do a kind
of a geometric relationships to compare
the bounding box of the label that we
found with the bounding boxes of all the
text boxes on the page in order to
determine which text box is most likely
to be the one that's being captioned by
this label that we've done and then
finally we rank the components according
to not just the quality of matching
between the keywords and the label but
also the quality of match between the
label and its corresponding component
and that produces our rank list and we
use the top one on the list
so that's a whirlwind tour of what so
the first problem we were concerned with
how do we automate websites without
looking under the covers the second
problem which is something we were just
getting started on now is what do you do
if you don't even know the language
right so the hope is that chicken foot
is more readable than the alternative
which I showed at the very beginning but
it's not necessarily more writable
because you have to know the exact names
of the commands is it called clicker is
it called push right I have to know
whether which things need to be quoted
in which things don't have to know the
order of arguments right all these
things that we take for granted as
programmers but are actually a serious
obstacle for end-users so our crazy idea
there is to generalize this notion of
keyword patterns which we were using
very effectively to identify components
to the entire command let's just throw
in some more keywords to represent what
you want to do to the component so we're
in Chickenfoot you would have to say
things like go google com with a very
rigid JavaScript syntax the idea with
keyword commands as you can write
something that feels much more natural
and I should emphasize this is not
natural language programming we're
reaching for we don't have an English
grammar over here that is expecting you
to write grammatically correct English
sentences that would just be another
form of syntax that you would have to
learn what we're looking for instead is
to identify that there there's keyword
in here go that tells you that you want
to find a URL in there that you want to
jump to the other advantage of not being
not using strict natural languages that
if you are an expert you know now this
programmer might actually write
something like this is this is the way
they might speak it to another human
being but an expert with the system
might try to be much more concise
because they're already aware
of capabilities of the system and what
it's likely how it's likely to interpret
what they say so they might actually
omit a lot of stuff and it would still
be it would still be interpreted
correctly so how do we actually do this
very similar the way we did it with the
keyword patterns split up that command
in the keywords and search for the
keywords in the context that we're
dealing with where the context now
includes not just the web page and the
visible keywords on the web page that
you're working with but also the whole
space of commands that are available in
the in the chicken foot system and then
we generate a ranked list of possible
interpretations and we actually use
punctuation and ordering to affect the
ranking so if you actually quote
something that's going to boost its
probability to be interpreted as a
string rather than anything else so
that's one way that the user can control
the interpretation process and then we
use the highest-ranked interpretation so
let me give you a quick demo of our
prototype in that area it's not yet
integrated in in two Chickenfoot because
it's it's still very new this box you
see up here is basically a keyword
command command line so I'm going to
type single keyword command in here and
the system is going to execute it on
this page so what I'm asking you to
imagine is moving this box down into the
chicken foot editor and allowing you to
write a whole script of these kinds of
commands
so the first thing I'll do it's just
something we both know if you can see
this but what I'm typing is click on
advanced Image Search link the system
interpreted that and probably was
probably too quick to see but I'll do it
again you got a little feedback about
what it was doing a little green flash
here to show you that that's that's the
component was operating on it also gave
some feedback up here a stylized English
form of how it interpreted your your
utterance and in fact this stylized
version is also a keyword command I
could type this in fact I pretty much
did type that in and get it to do the
same thing I could automate this form by
saying something like enter your
calendar into all the words text box
which again is a verbose way of saying
it but a much more concise way might be
to say i want the all words text box to
be equal to pencil for example so we get
a lot of power from just using keywords
and ignoring the rest of this in text
and let's see also just do the rest of
this example choose small size and use
jip files and then go ahead and do a
google search and so without actually
knowing the language i was able to to
automate same thing that Michael did
basically using javascript let me give
one more example here we'll jump over to
yahoo and drill into yahoo local
and let's suppose what I want to do try
to enlarge this a little bit is search
for restaurants expecting that it's
going to fill in this box here the
system actually makes a mistake because
this tiny little box up in the corner is
also labeled search the web alright so
this is heuristic search it's ambiguous
there may be mistakes made it in fact if
this weren't a prototype we would have
done a better job of identifying this
ambiguity and presenting it to the user
to allow the user to disambiguate to
choose which one they wanted but in the
absence of that I can still disambiguate
by making it for instance a little more
verbose so if I say search foreign
quotes then that's going a much more
precisely match the caption of the thing
that I wanted so if it gives you a
flavor of what kinds of things are
possible with keyword commands one
question here is is this natural would
it be better yeah I just have a question
did it interacts with
could you have also told it to press
that button yes that chicken foot is
inserted that night
hellooo training
for the answer yet
yeah because they're all putting down
and if it's in searching the down at the
time you are becoming a shoot the
commander good bet
so this is natural i mean is this the
right direction we should be going in
together I can come and go back to the
Yak home page
sure
search models that are exactly yes so
that is harder to disambiguate one thing
we don't have anything to get but that
would help here is more content and one
temporal context about what you've been
interacting so that once you feel
something into this box here and then
you say search it will prefer search
bugs that are associated in that box
it's a part of the same form yeah so the
relationship is very close wouldn't
figure it out from the down and women
here problem another way to deal with it
which I don't like showing because it
feels really it's not very robust to
changes in the page is you can count ok
that's a second search button under what
about looking at methods for using more
visual programming like things to do
that sort of thing like saying what
identifies this and having a user click
on the search button and then
getting it yeah so certainly I it seems
weird that we're not using the mouse
here at all right it's certainly
designed to be able to record something
right to allow the user to just enter
this kind of interact with this thing
themselves whatever and then click on
that search bottom and that's the one
that I mean right the fact we do have a
recorder built in the chicken foot from
the NAM right now but but that would be
able to record Chickenfoot commands are
associated with what you actually did
right but I still think I believe that
we still need a textual representation
for what you did and I believe that
representation needs to be
understandable and editable by the user
so even if pointing and clicking is a
great way to initially author the script
if we need to think real hard also about
how to display the script once it's been
offered
obvious application for accessibility
here
get voice commands are
things like scrolling text or changing
font sizes
what you're seeing as well as actually a
wonderful accessibility yeah I agree and
integrating with this with speeches like
the next thing on our list of things to
do and in fact other nice things about
doing it in Firefox is that the whole
browser is a DOM so these techniques
that we're using in the web page almost
translate directly interacting with the
rest of the UI browsing the chrome of
the browser as well so yeah you could
directly have accessibility to see some
of those features that you agile I mean
forestall more questions so that we can
get on the rest of the time so I argue
that this is a natural way to do it in
fact there might be the next step from
pointing and clicking if you look at how
if you think about natural as being how
easy something is to learn and you
compare it to how human beings actually
develop pointing and clicking is sort of
the capability of a nine-month-old right
my 9 month old was able to point to
things that you wanted right now I
understood we met now he's too and he
speaks in keyword commands right it is
not speaking fully formed by Madison
sentences he's pretty good at uttering
words but they're not really connected
well together but and so it's hard for
me to understand him sometimes but I can
I can figure it out because I have a lot
of context and likewise i think our
users are at the same level when it
comes to talking at how men it comes to
talk
computers in a formal language right and
we need to get our computers to become
smart enough to understand and I also
mention that that there might be some
benefits for expert users as well
because they can be much more concise
than they would have to be in a formal
language how does this actually work I'm
going to blaze through this part where
before we had a reputation the web page
now we have a function database that
represents all the commands that are
available to the system so freaks we
have a command for click that expects an
object of a parameter of type button and
then we have a another function that is
able to find buttons on the web page and
it expects as its input keywords that
have found on the web page and
associated with each of these functions
is the set of keywords which are
basically synonyms for its operations so
click might have press and push
associated with it and these keyword
types are mined from the page itself so
we just pull all the labels off the page
to get that so we process one of these
keyword commands simply by trying to
line up keywords that we find in the
command with functions in our database
and construct a type correct
representation of a command that uses as
many of the keywords found in the
command as possible and then we generate
a bit of code like a chicken foot code
out of that
ok so that's what we want to say about
breaking down the complexity barriers
for end users the last part of the talk
I'm going to hand over to Michael and
he's going to talk about how web hackers
like developers at Google might use
chicken foot in their daily work
so go back to firefox
okay so obviously Chickenfoot I mean
originally designed as a research
project targeted at end user programmers
but most of you here are real
programmers which is great and so I
actually work on google calendar and
i've been using chicken foot you know
since I got here to do various things
and if you're new to chicken foot it may
not be inherently obvious like the power
of having the sidebar with what this
power gives you inside bar so I'm gonna
go through some of some different types
of things that I've been able to use
this for and hopefully I'll find useful
as well so the first thing is that when
it comes to the web javascript is
basically the hacking language right if
you're at Linux if you're trying to do
little tasks on Linux you're probably
using bash or pearl or Python or one of
those languages maybe just right like a
simple patch trip get something done you
throw away the code and you move on on
the web that language is JavaScript and
the important thing about putting this
sidebar in Firefox is that there's
information in rendered webpages that's
not available to two other wait web
pages as if you just got the page from W
get and had the plain HTML there's extra
information that we can use in the
rendered web page to do tasks that we
wouldn't otherwise normally be able to
do so the first example is this little
script that I've written to replace or
basically to get a bunch of pictures in
a web page or to extract the pictures so
normally if you ever hit a page like
this right where there's a list of files
and a bunch of them or images and if you
wanted to see what all the images in the
page works right normally if you do this
and probably you have to like W get all
the files you have to find a place to
put them but that's kind of silly
because the browser is already good at
displaying images so here on the Left I
have a little script in Chickenfoot it's
just a little for loop that basically
says for every link in the page take the
link and replace it with an image tag
that points to the same place to the
link pointed to so when I run this
script it will go through and actually
just replace all the links with the
images this is a lot easier it's much
easier to browse image is this way also
if you wanted to going back to the
example the beginning if you wanted to
see which ones are
transparent right you can just run this
little script and now you see this one
doesn't have a transparent background
and most the other ones do so you know
that's a first example of something
that's just easily solved and chicken
foot that otherwise would be pretty
tedious the next example is just
inspecting objects in JavaScript it's a
lot of times people have to make you
know special debug divs and their web
apps to try to try to look at things so
for example in Google Calendar if I'm
looking at this page and I want to see
how it looks on 800 x 600 we want to
make sure that we can support users is
that size we know that there's some sort
of resized commanded window that I could
use that would be handy for doing this
sort of thing so we have a command and
chicken foot called list which just
lists all the properties and values of
the object alright and so check in
Google Calendar that's a pretty big list
and I know that has to do with resizing
so it actually list also takes an
optional second argument which is a
regular expression that matches against
the properties now I can find out find
anything that has to do with size and
window so it looks like there's actually
a resize too and it resized by so now i
can remember that it's resize resize to
and i'll run that chicken foot
and if I close the sidebar I see that
you can still fit for weeks with a data
and calendar so our 800 x 600 users are
going to be all right so I sleep better
and so the next example is sitting the
HTML for web page so you might think
this is kind of silly to actually have
to write a script to do this but let me
show you what happens so if you went to
google calendar hmm and you use the
built-in save page as all right we'll
save this to see dr calendar that HTML
and so if you take a look at what you
get
actually get
a bunch of duplicate HTML and some crash
to junk because the the web page
actually if you looked at the the source
of the web page there's almost no HTML
there whatsoever a lot of it's actually
dynamically generated by our JavaScript
so I ended up writing a script that will
to go to google calendar and run it
spits the page out and you know it's
extracts the script tags and things like
that that would screwed up and now you
have a plain HTML version of the page
that you were just looking at and for
any of you have ever been trying to like
tweak the HTML webpage or anything like
that this is much easier to just be able
to save this out to a text file or HTML
file start editing in Emacs refreshing
and then go back to your code that was
generating that HTML so again this is
something where the information of like
about the rendered page is only
available in the browser and this is
something that you couldn't do from
regular command-line scripting
the last thing that I want to talk about
is making web prototypes and chicken flu
so one thing that we've recently added
is the ability to to take a script and
package it up as a standalone firefox
extension so right now for example if
you used if you use calendar and you
start trying to use these links in the
upper left and you've clicked on gmail
and you get a new gmail eventually then
you click on calendar you get a new
calendar eventually and instead of
navigating back and forth between the
applications which is a little
unnecessary to say the least so we have
a script that I wrote called G calc book
tab so if I love this script and I run
it on calendar it replaces this link so
that it goes to gmail and I run on gmail
and replaces the calendar link and now
you can navigate back and forth between
the two so this is pretty nice as the
prototype actually wrote the night
calendar launch and the now to package
it up into a standalone extension I can
click on this button and it grabs all
the information about the script which
which I added here and it extracts it
and then asked for an identifier which I
can generate a new one from chicken foot
and then save this extension out and so
a file
and if you notice really subtly one of
the things that this did is that it
actually wrote all the metadata back in
so actually in this case it added this
ID and for Firefox extensions is
actually pretty important because if you
wanted to make a new version of your
script it's important that it has the
same ID so that when you send it to
somebody it replaces the old one instead
of installing it on top of it so by
storing all this meta data into the
script itself so the next time you go to
this box now all the all the things are
populated the way that you'd expect so
this makes it a lot easier to create and
then maintain firefox extensions so
that's my tour of different ways that
you can use chicken foot so here's a
number of resources where you can
download chicken foot there's two
mailing lists one is the internal list
they made here at Google if you want to
discuss internal projects or things like
that the other one is the MIT mailing
lists which all the chicken foot
developers are on if you want to contact
them and the last one is another URL
there's a about installing chicken foot
on the neck sickle well there's a little
quirk and so I've described that there
so that is all a material that we have
and we now like to open it up to
questions
yeah possible what package bunch of
scripts up in one
took bachelor
so something like unit yes we do any
questions for the remote sites there so
the question is can you bundle up a
bunch of scripts and run them in in
batch mode the ratchet is still like
you'd like to be doing that right so the
answer is yes so as I kind of glossed
over there's a name
command and chicken foot so you could
write your scripts in separate file or
just have one script that's your testing
framework you know base crafting that
include that in the area tests and then
it schedule that to run
the pointer lyrica actually recording
the user
yeah I think that will be really useful
for the developers reducers that just
want to start their sessions modify it
yeah sure let me live it up so the
comment was about the the day script
recorder that we have in chicken foot so
if I turned that on
go here in a click a typing calendar get
to that in your calendar click advanced
Image Search calendar here
small definite like that so it is a
mostly working but we're still getting
bugs out of that sometimes why we don't
have been promoting it was definitely
yeah back I had a question about the
tabs in firefox considering that it's a
firefox extension do you allow
Chickenfoot to programmatically control
another tab yes so from Chickenfoot you
can you can control other tabs you can
actually also open hidden windows which
is something that we didn't show if you
don't actually want to pop up the page
that you're automating you can actually
automate it in the background and screen
scrape it and get the data that you want
from it and can you can you open new
tabs based on stuff that you're clicking
we have an open tab command so George
yeah sure so if it's pretty
straightforward just open tab and google
com and you can choose true if you want
to bring it into focus and said I'll
just open it up I think some type of
thing
all right any other questions yeah so I
noticed you have file access yes it's
any other like super fancy things like
that so file axis is one of the ones
that we've wrapped I mean we wrap two
Chickenfoot API around you actually have
access to I mean all firefox exposes the
number of API is on its own called xpcom
objects in service platform o'connell
objects and you can get it all of those
from chicken foot so so there's a lot
there just not as much as wrapped like
with the chicken feed specific API is
you know there's this other project on
piggyback at a monkey so
symmetrical therefore
providing as innovation
insert commands to the web browser and
the event sort of stops for content from
the problem
the cooperation of
more silver
yeah absolutely so the question was
what's the relationship between this
chicken put thing and piggy bank which
is another MIT project which is actually
about sucking data out of pages into
your into your own private piggy bank
where you can work with it yeah we are
starting to starting to work more
closely with that group one of the
things that they do really well is
screen scraping and we don't have as
much good screen scraping in here so
you've seen all our keyboard commands
are our keyword patterns rather about
poking at web pages they aren't about
pulling things from web pages so the
piggyback guy's name is David who has
written some some kind of wonderful Adam
screen scraping interfaces for you to
describe give examples of I want to pull
data out of web pages and it will
generate the X pads for you for example
so we are looking at incorporating some
of his stuff in chicken foot so that you
can get those next pass and use them
into your in your in your own your own
scripts we're also looking at ways to
extend the keyword pattern idea to
getting data out as well so that if you
have a pretty well formatted page for
example that's a table and it's got
columns that are labeled like name
address phone number or something like
that we think you can create a keyword
pattern referees
the address column and pull that out if
you simply said that you would be able
to avoid a lot of the complexity of the
expat so we're looking at both of those
directions can you do a textual replace
on the coaster
if question was can you do a textual
replace on the JavaScript that's already
loaded in the page and I actually don't
know we can certainly do a textual
replace on the Dom we could well so
insofar as the text nodes and so far as
JavaScript scripts our text nodes inside
script elements we can replace them but
whether we can get firefox to
reinterpret them I don't know also we
run after the we run after the page
loads because we want to make sure that
it's completed loading before we operate
on it whereas I think what you're
describing you'd want to actually fire
before the page loads opera is capable
of doing that for example but but we
currently don't have don't have any way
to do that chicken foot but that is an
interesting idea
can you change them or can you extract
with the name oh yeah sure um yeah
that's you know that you know the code
for that so we can say something like
find feeling lucky button and ask for
its style and what is it Bob font size
or font name font family
we're not able to use list actually come
out there actually I get computed style
Higgins of that
what style has cascaded down that
yeah so it's not actually directly to
find another love
but so we haven't wrapped everything
that you're able to do in jobs here
communities thing but because we're
building on top of JavaScript there's
all kinds of medications that are built
into firefox email from the client side
JavaScript that you can take advantage
of you know I
like I'm feeling lucky of coding stuff
where you're you know kind of coding at
hazard Lee you mentioned shell scripts
and now you have to be really particular
like I love this for shell script
personally because i'm going to
javascript but i'm terrible at bash as
there have been any any attempt to like
maybe put the insert this into other
environments maybe if they implement a
doll make if you done or something like
that well so i see no reason why we
couldn't do it in in dash we're actually
starting to look at doing it in java
actually so that if you're sitting in
eclipse touching java code you typed a
couple of keywords and maybe hit a
special command key or something and it
generates some generates and calls in
the java api for you they're relevant to
your current content from those key
words that you type um so yeah this idea
definitely is not restricted to the web
I think it works really well on the web
because we have a relatively small
domain with a small set of things you
can do in your current context right on
this current page so the ambiguity is
low once you move into Java for example
which has thousands of classes or into
bash which you know as thousands of
commands scattered around your your hard
drive the ambiguity grows and so we
we're looking at that problem both in
terms of how to make the parsing fast
which is a big problem and also in terms
of how to keep the ambiguity under
control and resolve it
yep Toby one of the things you said
sorry but this is to doing web pages
better just any old way application
especially just on anything you can see
in their service
yeah we haven't looked at using OCR for
it yeah that's an interesting idea I
mean another way you can get at this
stuff and this causing the accessibility
question earlier is their accessibility
api's on desktop applications that will
be able to give you these kinds of
labels and may even be able to let you
trigger them so that you can actually
click on that menu item and then trigger
that command yeah that's very
interesting so another little prototype
we did which I haven't showed you is we
did this in Microsoft Word although we
didn't look at its user interface in
retrospect we should have looked at its
user interface because it would have
worked better what we did instead with
remind the remind the the word API the
word basic API in order to discover all
the commands that we might then generate
yes so this is definitely a direction
that that would be cool right I mean why
should you stop at the browser just do
anything you can
yeah security let's see we have a page
about that because security was
important for Chris monkey had a big
problem with security last year it
turned out that one of their API calls
GM xmlhttprequest would allow malicious
websites to pretty much make an HTTP
request anywhere and in fact to inspect
your entire hard drive and things like
that so you have to think carefully when
you're writing these kinds of things in
fact when you're just an extension
developer for Firefox you have to think
carefully about whether you're opening
security wholesome malicious software
could exploit we've actually opened some
holes intentionally at but we've got to
be a little controlled about how we open
them so we didn't show you this example
but one of our chicken foot scripts
modifies a web mail system to inject
faces of the people that you are
composing a male 2 and those faces are
Stuart its image files on your own hard
drive so you've got this remote page
it's coming from the web mail system and
local URLs to these files and you want
to inject the local evolves the local
images into the webpage normally firefox
doesn't allow that this doesn't want
remote ages to just be able to create
references to you
so we created our own protocol which we
call chicken bypass that allows us a
controlled way for chicken foot scripts
to inject references to the local page
and it's controlled because each of
these URLs has to be basically signed
there's a hash in here that there should
be of the local URL along with a random
knots that's generated at runtime every
time firefox runs so that a malicious
site can't simply copy one of these urls
and put in their web page and be able to
inspect your hard drive and these these
are only generated by chicken foot spits
another aspect of the security problem
is ten years before they're installing
something that they shouldn't and yes
they can but we hope that by making the
scripts actually readable I ordinary
people that that problem will be reduced
if we can make the behavior of the
script more transparent the greasemonkey
script is not at all transparent it can
be doing lots of stuff that you have no
idea then maybe we connect
that Gaston questionnaire
much time
the nation
actually I started on the other projects
another potential called google knows
manipulating say right sucked i have all
these dummies book is actually a
apparently now else floated be great
because i figured we could get to the
top of the search results list like
pretty quickly with the name of my
chicken foot but there's some dominoes i
can still add about sometimes
haha
you mentioned that the driving forces
behind sweats
users of the web to write scripts I
assume you produced ourselves on this
I've seen varying levels of learnability
based on no I don't know any programming
and purses you I've taken a couple
classes versus on a hacker and like how
about what they can do with the system
yeah we have run some music studies they
haven't really been to the end to end
user studies and sense that we SAT them
down with tasks to actually create
scripts for we're in narrow is your
studies looking at things like can they
generate keyword patterns to describe
these features can they use keyword
commands for example one interesting
thing relevant to your particular
question which was about having seen
differences between real non-programmers
and expert programmers in their
approaches to this system the answer is
we we have not really seen those kinds
of differences that they seem to
approach keyword commands for example at
basically the same level and trying the
same kinds of things the it's probably
all I can all I can say about that
because I don't
and that more totally today with some of
those differences that's a good question
boiling hey logical thankfully before
your plans and change
Oh only a couple of months there's a
student working on it as we speak I was
investment no the question was how long
will it be before keeper commands are
integrating into cheap
presence
okay back up it's chicken foot a
standard firefox extension that I can
download and install it is not on
add-ons that means over that org yet if
that's your chicken foot is not
so the Osprey the gene pool is a
standard extension its standard in the
sense that you can download it and
install it and it will run in Firefox
1.5 so that's certainly true it's it's
not yet hosting add-ons
okay thank you very much
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>