<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Google IPv6 Conference 2008: IPv6 on Windows | Coder Coacher - Coaching Coders</title><meta content="Google IPv6 Conference 2008: IPv6 on Windows - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Google IPv6 Conference 2008: IPv6 on Windows</b></h2><h5 class="post__date">2008-03-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/iK0nzdtzjvM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay welcome to the session on ipv6 on
windows I gather that most of you use
Windows is that correct and those
Jeremy's favorite operating system we've
had he said to me just a moment ago said
David don't want to do my presentation
on my laptop please can I do it on yours
because you're running windows XP I said
that's okay Jeremy anyway I'm David
holder I work for a company called area
we've been working with ipv6 for over 10
years we provide training and
consultancy services we've also been
working for a lot longer than that with
unix and windows integration and also at
samba hence my involvement should we say
with with Jeremy which I'll talk about a
little bit later on what I want to do in
this talk is just to give you a bit of
high up stuff and some detail stuff as
well that I think you'll find useful to
know about windows and ipv6 so I'm going
to give you some background then we're
going to dispel some myths that are out
there which may confuse you or mislead
you and then I want to delve into some
details that I hope you'll find useful I
could spend hours talking about details
of how ipv6 works on windows I'm sure
you love that but I haven't got ours
unfortunately and fine now I'm going to
make some comments about developing
applications on the windows using ipv6
okay so first of all a little bit of
history here we've got a little diagram
to help you understand how Microsoft
have developed ipv6 you see way back in
nineteen ninety eight microsoft research
produces stack that you could try out
had lots of useful applications in it
maybe think ping tell me and that was
about it so it's quite limited but what
it did give you was the socket API that
you could use and you could actually try
out using ipv6 as a bolt-on and then
with Windows 2000 there was also a
technology preview that came on after
that these were stacks they didn't
change the operating system
you didn't have any additions to the GUI
or Active Directory was not ipv6 enabled
neither was file sharing or printer
sharing over ipv6 that came with the
advent of windows XP where you've got an
ipv6 stack that came as standard with
the operating system it wasn't enabled
but it was there with sp1 it moved from
being a developer stack to what
Microsoft referred to at that time was a
production stack I'm not sure what
phrase used here but from things that
said before he probably picked up but
nobody would genuinely use this as a
production stack you didn't get full DNS
transport world DNS transport over ipv6
as we mentioned previously you didn't
get integration with the operating
system or with the GUI there are a lot
of things which would stop you using it
in a production environment even so you
could do because if you're a developer
and you write in a business application
for your organization you could write it
for ipv6 and because it is a production
supported stat you could use it over
ipv6 okay and then we had this advanced
networking pack appeared and finally
service pack 2 you got a lot more so you
got a firewall that was ipv6 not just
ipv6 aware but fully ipv6 functional
Buster Edo and peer-to-peer
functionality at the same time windows
2003 gained the same kind of ipv6
functionality now this point you had a
lot of functionality you had an ipv6
production stack and you had a lot of
tools that work with it but what you
still didn't have was full integration
with the operating system or veil
ability of ipv6 addresses in the GUI and
so whilst you had a lot on you didn't
have actually directory which is a minor
problem for many organizations so
there's all the things you could do but
I suspect 99% of companies wouldn't use
this for ipv6 now the world
changed with the release of Vista and
will change even more with release of
windows server 2008 because unlike
previous versions of Windows these are
ipv6 operating systems and ipv6 is fully
integrated into everything as we'll see
okay I think this is very important for
ipv6 I think Google need to take note of
this because of the impact but I believe
it will have upon the take-up of ipv6 in
the world there's just recap ipv6 is
enabled by default it's the preferred
protocol which is what should happen in
an ipv6 stack you have ipv6 and you have
IP before we use ipv6 in preference to
IP all its configured automatically it's
fully integrated it works in ipv4
networks you have is't app you have to
read oh and it's fully supported in
active directory so what I think is
going to happen is this people will
install vista knowing nothing about ipv6
and they will use ipv6 knowing nothing
about ipv6 small businesses will install
windows server 2008 knowing nothing
about ipv6 and guess what they'll use
ipv6 without knowing about ipv6 and at
the other end of the scale you have many
large organizations that have been
thinking about ipv6 but active directory
has not been ipv6 enabled so they'll
have held off now they have no reason to
hold off so you'll have ipv6 increasing
the usage of ipv6 by stealth and by
design ah my jokes about Microsoft
operating systems are just unfortunately
bit me as its crashed however I think I
know the reason is that is that open
office software I install for Jeremy
it's stuffed me now if I tell you this
never has never happened before you just
won't believe me but it's true okay one
thing to be aware of is what you read on
the internet you do a Google search you
get loads of things about windows and
particularly windows vista and ipv6 and
absolutely masses of it is false and
untrue full of facts about ipv6 that are
wrong like it's got 64 bits in their
dress and more serious things so for
example you have stories of how ipv6 on
vista 8 peeples cats reduce their
network performance introduce security
issues now hurry on we've been using and
testing this for a long time and we have
found if we work hard and if we do
things which are stupid we can make ipv6
slow things down and reduce security we
can do that with ipv4 too and we can do
it on linux so don't believe everything
that you read watch out when it comes to
windows the windows ipv6 stack is now on
a par with linux with solaris with hp-ux
with AIX there are technical differences
but they're on a par in terms of
functionality and usability and
robustness ok just as a little
comparison for you with a well-known
open software product called samba that
does similar things to what windows does
this to give you a clue to how well
Microsoft have done and how far behind
open software is well actually it's
catching up but what we have here is
that is a timeline the same as the
previous one which shows you where
Sandra is with ipv6 so samba 2.2 is not
recommended anyway samba 3 can only use
ipv6 units through super demon for those
who know about when Samba through super
demon you know it is a bad idea Jeremy
shaking its net you don't do it so
that's a bad idea now last year here at
Google
said to Jeremy you really ought to ipv6
and able Samba 3.2 and Jeremy said to me
I'll do that and I'll do it in a couple
of weeks and I said no you won't it will
take ages credits Jeremy he did it and
I've been testing this and this morning
before breakfast I did the world's first
ever ipv6 join of Samba 3.2 to windows
server 2008 and that's due to Jeremy and
his colleagues now Sam before can be
ipv6 enabled with a hack last year Lee
last year linux clas client myself and
Steve French got that to do the first
connection over ipv6 to windows server
2008 so by the time windows server 2008
comes out all of the Samba family that
matters will hopefully be ipv6 enable
okay few things you need to know this
being mentioned many times I get the
impression a lot of you will know what a
dual stack is windows uses a dual stack
what this essentially means is that it's
an ipv6 stack because all ipv6 stacks
are dual stack and that means that when
you write an application and it's an
ipv6 application for free you get ipv4
it also means if you have an ipv4
application it can still work on the
ipv6 machine which is pretty cool when
you think about it but it does have many
implications for your administration of
windows and other platforms and also for
how you write applications for ipv6 okay
let's just look a little bit detailed
things that might catch you out earlier
on there are a few mentions of ipv6
addresses now with windows vista and
when
server 2008 Microsoft have made a choice
that the default way that the last 64
bits think what's called the interface
ID will be created is by using a
pseudo-random number now most other
platforms default to using eui-64 which
is essentially your mac address expanded
to 64 bits now Microsoft on Vista give
you two addresses now to global
addresses that is you actually have many
ipv6 addresses and if you look at the
interface identify for these two
addresses that both have the same prefix
you'll notice that they're different and
this was mentioned earlier this one is
your permanent address the outside world
can connect you from assuming you
haven't got a firewall which of course
is on by default remember so it's secure
this one is just throw away address and
the idea is that you have this address
that you use when you're a client
connecting to somebody else now I
actually personally think this is a just
don't think of a word a bad idea for all
of the reasons that we mentioned earlier
because it's a management pain in the
neck it might give you some security in
obscurity but to be quite honest when
you're trying to set up filters on your
firewalls when you're setting up any
kind of security that you want to link
into your ipv6 address it's a nightmare
so hey I don't think it's a great idea
but watch out for it so you'll have
multiple addresses and the interfaces
are randomly generated let's have a look
at how they're written in Windows how
you actually text alee represent these
addresses because this is crucial for
administrators and for developers you
have a global address or a link local
address and the format is like this
you're familiar with this the
hexadecimal with the colons in it here
we have a percent
and that indicates that the number or
the name after it is the interface that
address applies on one thing to watch
out for is if you're using link local
addresses you must specify the interface
on a multi interface device because
there's no other way of knowing which
link it's related to here's an amusing
thing that you might notice from this
picture this is from Windows Vista but
it could have been from windows server
2008 you'll notice it's been carefully
designed so that it crops the end of the
ipv6 address and you can't see the last
few digits please if you're a developer
maitre feels big enough ok here's
another form of the address that you can
have this is your IP VIP v4 mapped ipv6
address it's an ipv6 address if you use
this address I'm sorry for those at the
back I can't see it it's got a prefix 96
bits long beginning with colon colon
ffff and the last is dotted decimal it's
a it's ipv4 address bummed inside an
ipv6 address the stack a dual stack uses
this address to tell it that it must use
the ipv4 protocol this is the way that
you can write code that uses ipv6
addresses everywhere even when you're
doing ipv4 which is cool in addition to
this there's new notation for URLs you
our eyes and UNC's let's go look at you
our eyes and URLs first because you have
letters in an ipv6 address it looks like
it could be a domain name so you can't
write HTTP colon slash slash and the
address the IP addresses you could VIP
for with IP 6 you have to indicate its
IP 6 so you put square brackets around
it however this doesn't work with uncs
because windows in windows with uncs
we're brackets got a special meaning so
you can't use square brackets 0
microsoft we invented something that
isn't used anywhere else which is a
domain which has got the ipv6 address
written into it and the resolver changes
this don't worry I'll show you another
slide with this for those who can't see
it here it is so what you do should
place the colons with hyphens I'm sure
this is intuitive and if you're using a
link-local address which this is you
replace the interface identify which is
normally a percent followed by they
identify with an S yeah S stands for
interface okay I to move on file showing
an ipv6 you can only do it over raw SMB
with port 445 name resolution absolutely
crucial the old stuff is ipv4 specific
doesn't work I on Windows you host file
works your DNS works fully now
thankfully and there's a new protocol
called the link local multicast name
resolution did anybody here use
multicast DNS this is not same protocol
but it looks very very very similar and
it performs name resolution without DNS
using DNS style packets but it does it
over multicast and this is great small
networks you plug your machine on and
you can see all the other machines using
multicast so that's that's pretty cool
but it's not multicast DNS hmm
transition mechanisms this could take
several hours or few days on its own the
key ones foot for windows are shown here
so you've got six to four I to tap
teredo and the most important of all
which is dual stack and we've already
heard many bad things about transition
mechanisms really in an ideal world we
would avoid a lot of them like the
plague the best one out of the
is the dual stack but of course life
isn't as simple as that okay right
developers on windows you'll find that
Visual Studio C and C++ and so on all
support the latest incarnation of the
ipv6 socket API it's gone through many
incarnations so make sure you use the
latest one when you're developing your
applications make sure you use it so
that it's protocol independent you can
now write code that doesn't have to
specify with its ipv6 or ipv4 the code
is generic and that is a fantastic
feature of ipv6 and the new API okay so
and don't forget you get ipv4 for free
so I just got a few references here for
you to read when you get time so just to
summarize with windows vista and windows
server 2008 you get two operating
systems that are completely ipv6 enabled
by default and everything works as it
should do pretty much the new things
that you need to be aware of when you
first start using there are things like
the address configuration the way that
Microsoft does it the format's of the
address is the address resolution and
also the transition makin mechanisms
that uses and for developers programming
in ipv6 on Windows is just as easy it is
if not more so than on Linux or other
platforms okay thank you very much any
question
while i am out of time is it okay to
answer yeah okay you mentioned that with
Windows it's easy to develop for ipv6
and the slacks or supported has this
been backported and put into automatic
patch for older versions of Windows or
developers tying themselves into Vista
only when they do this well yes it has
be back ported by older versions of
Windows I only me windows server 2003
and windows XP you can forget earlier
versions but whether you're going to use
those platforms for ipv6 is debatable
yeah I was wearing when you know about
the performance of Torito tunnels and
whatnot I mean how bad is it if in so
many times to side shows I set up a
treat or tunnel to some site you mean in
terms of performance not secure yeah
right ok well the performance you'll
remember that with Torito what you're
doing is you're encapsulating Europe
ipv6 inside UDP so you amply you have
the overhead of UDP plus the overhead of
ipv4 plus the additional processing so
there is a performance impact which is
worse than just an IP in IP tunnel when
is the tunnel setup that was on the
first request or is it set up already so
I mean how bad is it does it stay out I
see what you mean you know yeah if we
did we turn on it quite a people and
they all of a sudden they start
generating trade or tunnels I mean no
how bad is it going to be ok the this
this is an important issue not just
because of the performance which is
actually less of an issue but also
because of the security question with
Torito it can be used to create
backdoors into people's networks because
it's a very very aggressive protocol for
getting through multi layers of Matt
successfully and it does it very very
well so it creates a lovely tunnel
through all of your security what you
need to be aware of though is that in
enterprise networks where you use in
active directory it is switched off
right so that you can switch it on but
the default security poly is policy
is that it is off for home networks
which is where its intended to be used
it's switched on but of course it only
works if you've got a Teredo server that
it can connect to I guess we'll find out
then yeah thank you okay thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>