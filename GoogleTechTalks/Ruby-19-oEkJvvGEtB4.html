<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Ruby 1.9 | Coder Coacher - Coaching Coders</title><meta content="Ruby 1.9 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Ruby 1.9</b></h2><h5 class="post__date">2008-02-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/oEkJvvGEtB4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">&amp;gt;&amp;gt; 
Welcome everyone. I don't think our speaker
today needs too much introduction other than--this
is Matz. Matz designed and created the Ruby
language which I assume that everyone here
has at least some familiarity if not love
for. And just one note, this is a public talk.
It will be videotaped and put out on YouTube
eventually, I suspect. As well as there are
some external people. We opened it up to some
of the local user groups, too. So, nothing
confidential, nothing Googley, you know, technically
and just everyone enjoy the talk, Matz.
&amp;gt;&amp;gt; MATSUMOTO: Thank you. Hello. This is Matz
and I'm going to talk about the Ruby [INDISTINCT].
Welcome to the world [INDISTINCT], even though
you love it or not. The Ruby is a language
I designed in 1993 and the language I love,
even though the Google [INDISTINCT] is not
allowed to use the Ruby. Actually the--I'm
more interested in the Google Ants than the--this
talk. But there's clear--clear plans unless
you're not Google [INDISTINCT] if not you're
Googler. So I have to pay the price by the
presentation. Okay. I'm going to talk about
the Ruby 1.9 first. The--it's released on
the last Christmas 2007 and it's publicly
available since then and I'd like to talk
about the Ruby in general and then talk about
the 1.9 new features. The--our basic strategy
for Ruby versioning is like this: We have
the three versions of Ruby, the two real and
one imaginary. Okay. 1.8 is the Stable Version.
It's the version for daily use. The serious
developer or the business developer should
use this version. It should be stable and
it should be--and it is compatible between
versions in 1.8 series. The latest 1.8 version
is 1.8.6, and the--is maintained by the other
guy who can--which is more trustable than
me. 1.9, the--is the Bleeding Edge Version
and I am mostly working on the--this version.
It is much faster than 1.8 and is more powerful
and it ought to be the--the language done
right. I mean, the--I've fixed some the design
mistake I did in the long history of the Ruby
Language. And due to the changes, it is incop--incompatible
from the 1.8. And the 2.1--2.0 which [INDISTINCT],
and a--it's--it is a Innovation Bait. In the
official software, the motivation, it matters
most. The--we--the community should move forward
or die, and since--so that we need a bait
to go on. If we don't have any interesting
things to play with, so no one get it--to
get it as a community and since no innovation
or there no improvement happen on the language,
it will eventually die. So I don't want to
make Ruby die in the future, so we need some--something
like the--the well, carrot before the horse.
So the--I'm not--I didn't started 2.0 work
yet but it--the scalability is the keyword
for the 2.0, the scalability in data size,
scalability in the program size, and the scalability
in the team size. But I still have a vague
ideas about that--the scalability but not
yet concrete yet. So I'm going to talk about
the 1.9. We had some incompatibility, some
big ones and some small ones. We have some
big incompatibility in 1.9, some of them are
Block Parameters, and the Strings, and M17N,
multilingualization, I mean, the Unicode handling.
The--until up to 1.8, the Block Parameters,
the variables in the--in the bar at the head
of the bar--head of the blocks is any variable,
can be any variables. But from 1.9, it is
local variable only. Just because, you know,
the--it was originally designed as the loop
of obstruction, it block. But--since the function
of priming people love to abuse the bocks,
so it became more and more like the functions,
anonymous functions. So we don't that--the
global variable as a parameters so we changed
the--the--we adopt the trend, the functional
trend, so it becomes the Local Variables.
And according to that change, it is Block
Scoped now. So, these are--these worked at--in
a 1.8 but it won't go away in 1.9. The parameter
as a--the global variable or the object attribute
with the--array references, they are all errors
in 1.9. And recently I talked with a guy from
Microsoft and he was told that never mentioned
the local variable scope too much because
I might be angry. And it--this was my mistake
in the past. The--in the old Ruby the--if
you see the local variable assignment before
the block, the scope, the whole scope the--the
variable x is shield among the whole program.
So the block variable assignment is--alters
the outer x. But from 1.9, the scope is limited
to the inside of the block. So the--assignment
in the block will not alter the outside x
but it gives you warning. Okay. And the strings
used to be enumerable in the--in Ruby 1.8
but it no longer enumerable. If you see the
strings as enumerable, you see the strings
as a sequence of lines, and characters, and
or the bytes. It is no one--no single right
choice. So, I--we--it used to work on lines
but it's not suitable for some purposes. So
I just abandoned. So you need to specify explicitly
for working long. Each line or the each char,
or the each byte, so there's no ambiguity.
And you can use the enumerator, the virtual
lines, object and the loop on it or the characters
or the bytes. So you can specify either way
what unit to walk on--walk on. And finally
I--we merged the multi-lingualization or the
Unicode function to the Ruby. It's long supported
to UTF-8 since the, I don't know, '99, '98
or something, somewhere, that it truly encoding
aware from the bottom--top to the bottom.
The--the strings worked on based in characters
until 1.8, it worked on--based on bytes and
it supports Character Encoding. That is, [INDISTINCT]
A, B, C and this is--characters are Japanese,
and the--to retrieve the first character,
you get A, and the third character; you get
the Japanese character &quot;A&quot;. So it's really
character based. And according to that, the
line indexes or 3 or the line length 1 is
also working as a character, as a unit. And
it now supports the Character Encoding through
the magic comments just like Python. So if
you specify the coding UTF-8 at the top of
the program, the program should be in the
UTF-8. And you can specify any other encoding
like the EUC-JP or the Shift-JIS or the Latin-1,
any encoding it supports. If it is the AFCI
Compatible, it won't work with the UTF-16
yet. And if you open a file, you can specify
the encoding of the file if you want to specify
it perfectly. So this means they're--they're
open the file to read which is in UTF-8 and
the--every strings read from that file is
marked as a UTF-8 file--UTF-8 data. And there
are so many small incompatibilities. You're
not supposed to read this, but so many and--but
the incompatibility is many but they're--most
of them are trivial. So from the experience
of the David Thomas, who is the Pragmatic
Programmers, then told--is the--30% or 30%
or 40% of the--his [INDISTINCT] a bit. But
not the--none of them has severe changes.
So they're interesting than the not--no severe
incompatibility, I hope. And some features
are gone and the--oh, I made a mistake. Anyway,
file exists--exist now. It's reverting. Anyway,
some feature's gone. It's a kind of the appendix
would--in the history of the Ruby, and the
[INDISTINCT]--if you use these features, you
were warned like the &quot;don't use this method&quot;
or something. So, it's finally removed officially.
And has new features, so many. Again, you're
not suppose to read this but you can count
lines. It even continues. Anyway, the--okay,
here's a highlight of the new features. The
Lambda by -&amp;gt;, the Method Invocation by .() and
the Multiple Splats in the Argument list,
the Mandatory Arguments at the bottom of the
list, and the Enumerators. Lambda, some were
against this syntax a lot, but this how it
works and like--this is an anonymous function
that doubles the parameter and it invoke that
was the dot or you can call that classic call
and you get the four by doubling two. You
can specify the optional argument in the anonymous
function and that makes you--that gives you
ten. The bottom one is the old syntax with
the--at the option of the parameter but, you
know, the second vertical bar is quite confusing,
either logical or--or the end of the parameter.
And De Paso won't agree with me so I couldn't
do that, the primary motivation of that new
syntax. And someone says that this won't see
that Lambda and you have to put the arguments
before the arrow like half--I mean the [INDISTINCT]
but it really does reminds you Lambda once
you get, for example, I changed the font,
twisted it, here you go, this is Lambda. Anyway,
the process does the same syntax. So we are
not allowed. Enumerator; we used to have the
enumerator as external module but since 1.9,
it is built-in and we can use the Chain of
Enumerator like this, ary.map, and if you
don't specify a block to the map method, it
will change the enumerator so you--you apply
the way the index method to the Dot Enumerator,
so you get the index with the value the map
gives. The same thing happens with the find.with_index.
So you can have the with_index on any methods.
Basically, the Enumeration Method gives you
the Enumerator if you don't supply blocks
to them. So this is an interesting Chain of
Enumerators. And you can use it as a External
Iterator like the two ary', you get two ary's
and the--the next method, the--you call each
with a block, it gives you the Enumerators
for each ary, over each ary's. So if you loop
on the--these ary's and it taken the next
ary's so you get 11 by adding one in ten and
13 by adding two on the 11, and seven by adding
three and four, and the e2 gives you the exception
since you get the--at the end of the sequence.
Then the loops suddenly recaptures the stop
Iteration exception, so it suddenly, the timing
of the loop, so it would give the 11, 13,
and 7 peacefully. Get it? 
It's kind of like the Iterator in the language
called [INDISTINCT]. And the--basically the
language change highlights and the way that
I'm going to talk about the insight, the implementation.
The 1.9, the new virtual machine is integrated
into the core. It is called YARV or Yet, in
short of the Yet Another Ruby VM. In the history
of the Ruby, there's--many people tried to
improve the language performance by making
virtual machines and it's kind of easy to
build up the small virtual machine, so--you
know, so many attempt to create the one but
since the Ruby is the big and the complex
language, the complete set of the func--features
of functions for the whole Ruby is a very
tough job. And I might say I had a plan for
about 4, 5 years to create my own new VM but
I couldn't make it. I was just too busy to
maintain the language myself. So, a gay came
in and he present me a new, yet another, among
the gay many other VMs. I didn't expect too
much because, you know, so many people failed.
So that he did--he did through the work and
we find out you get the whole working VM for
Ruby Language. So we worked together to integrate
it the--our interpreter so it now--it now
runs and it replaced the official Ruby Interpreter.
And it is--the guy--the guy's name is Koichi
Sasada who is now working on the University
of Tokyo and it's Bytecode Interpreter and
optimized for Ruby Language. It runs in other
language, for example, a guy made a scheme
inter--scheme compiler to the YARV VM bytecode
and it runs, but that is primarily targeted
to Ruby. And the performance was improved
by YARV. The core performance is maximum--maximum
50 times faster. And in benchmarks, and it's
two times or ten times to ten times faster.
But it improves the Core only, the interpreter.
Other libraries and classes and the garbage
collectors remains same, so the program doesn't
run 50 times faster, unfortunately. And I
use the 1.9 for many purposes and the impression
is very fast. Even though it's not 50 times
faster and the--or ten times faster, and to
my vague failing, it's kind of 1.5 or 2 times
faster than the current interpreter. And the--it's
the benchmark result. Okay. This is one, either
one age performance. Some--in some benchmarks
it gives--goes higher than five times or--but
in sometimes, it's mixed, a little bit slower.
For example, the raise Exception Handling
System was totally rewritten and it--the raising
cost there is--goes up just because, you know,
the--we--to reduce the normal cost, you know,
long exceptional case faster. So in this benchmark,
we raised exceptions a lot. So this is much
slower than the current interpreter but the
exception must be exceptional. So it doesn't
bother the UGL programs, I hope. And we did
some memory diet to the new interpreter like,
basically making the, in the lining, the small
letter into the object, the structure. In--in
Ruby interpreter the--every object has same
size of the--size of the structures. Like
[INDISTINCT] and the additional information
is kept in the--the memory region taken from
hip. So, if you have the small data--so if
we make it embedded, make new information
in lined, in this kind of--the object. And
as a result, we reduce the memories. Okay.
This is the memory graph of the memory consumption
of the Rdoc generation. Rdoc is the inline
documentation system, it generates the--it
register Ruby source code and then generate
the documentation in HTML and the XML, and
the--by the reducing this inlines, the memory
reduction is goes like this, little bit lo--reduced
a lot. So, what is Ruby anyway? Okay. It's
a combination of the language, community,
and implementations, and the language, I think--the
language matters most is the language we love.
Okay, some of them do not love, so [INDISTINCT]
anyway. But--and it's dynamic and flexible
and productive in the community. I'm very
proud of the nice community of Ruby and the--Martin
Fowler once said before me, &quot;The Ruby people
are nice.&quot; So, he said, &quot;It is one of the
best communities in the whole open source
ecosystem.&quot; So the--it's one of the things
we're proud. Now we have the--we now have
the multiple implementations of the Ruby and
since Ruby is a very complex language, so,
I don't know, four or five years ago, Python
people looked down on me, &quot;You can have the
only interpreter that you write--you wrote
and the data of the any other implementation
of the language.&quot; But now we have and the
Ruby 1.8 or the--it's--it--it is called MRI,
Mass Ruby Interpreter and we have now--we
now have Ruby 1.9 the--which is the YARV in
it and the JRuby which runs on JVM, and IronRuby
which runs in the Microsoft.net the--it's
officially developed by the Microsoft itself.
And the Ruby.NET which also runs on the--the
CLR but without the support of the dynamic
client is run time. And rumors says Google
restrict language to Pyth—to the languages
of Python, Java, C++ and JavaScript in client
side. And then Steve Yegge implemented the
JavaScript on Ruby--oh, I mean, JavaScript
on Rails
[PAUSE]
&amp;gt;&amp;gt; MATSUMOTO: I made a mistake. And then using
modified Rhino for good reason. I believe
that reasons he listed in his blog entry and
then--it's fairly, yes, fair reason I guess.
But if you--if he can't use the JavaScript
on Rhino, so we have jewelry. Ruby runs on
JVM and it is comp--1.8 compatible and it
can even execute the Ruby on Rails on JVM.
Actually the--the oracle has the--the site
[INDISTINCT] mix, the people--the collaboration
over the site, it was developed by the Ruby
on Rails and but--the IT people had not allowed
ru--the my Ruby MRI run on his--this site,
the [INDISTINCT] so he--they--the development
team chose to use JRUBY, they allowed JVM
on their site so they put the Ruby and they
compile into the--the cross files and put
it in the--the, I don't know, the GlassFish
or something, then it runs. The development
was completed in just six weeks. If not the
JRuby now runs faster than 1.8, it was kind
of a mixed feeling. And then the access is
all the Java libraries, a bunch of--a bunch
of features of that--that Java has. And it's
almost 10. And I hope to see Ruby helps world
the--every program in the world to be productive,
and to enjoy the programming and to be happy,
that's the primary purpose of Ruby language.
Ruby language was designed by me to satisfy
me, to make me happy. So—-quite selfish.
And it happened to feel so many people, so
many program also around the world feel like
me, so they feel like they met this—-I want
to exaggerate--soul mate. So this is the language
I imagined, I dreamed for long time or something.
And they became happy, they feel happy with
programming in Ruby and I hope it will help
Google's guys as well, via JRuby, maybe? And
thank you.
&amp;gt;&amp;gt; So we'll open it up to questions. Again,
friendly reminder no Google specific questions
[INDISTINCT], so that we can make this available
to everyone. Also, please speak before I repeat
your question so that people on VC can hear--maybe
you can repeat the question. Just speak up
so that it's captured.
&amp;gt;&amp;gt; [INDISTINCT] as well 'cause [INDISTINCT]
for example [INDISTINCT] the law in 1.9...
&amp;gt;&amp;gt; MATSUMOTO: Can you say it more loudly?
&amp;gt;&amp;gt; Sorry I, I
&amp;gt;&amp;gt; MATSUMOTO: Thank you.
&amp;gt;&amp;gt; You mentioned stability and you said that
[INDISTINCT] and I wonder, I mean, is there
any chance of that getting back [INDISTINCT]
or people just have to wait until [INDISTINCT...?
&amp;gt;&amp;gt; MATSUMOTO: Compatible--incompatible features
cannot be given the 1.8 but the--the--oh,
how about the--the 1.8 stability and then
we added some good feature to the libraries,
to the bundle with 1.9. So he asked the--if
that--if these new features available in the—-will
be available in 1.8 in the future? If it is
not the--it's not bring you incompatibly,
right?
&amp;gt;&amp;gt; Yes. Yes. My question is are you sort of
evaluating [INDISTINCT]. If this works out
[INDISTINCT]... ?
&amp;gt;&amp;gt; MATSUMOTO: And then the 1.8 maintainer
which is
the--the good guy and decided some--some good
features which is not--which is compatible,
which does not break any existing program,
will be added in the--gradually.
&amp;gt;&amp;gt; [INDISTINCT]
&amp;gt;&amp;gt; MATSUMOTO: In the ways, yes.
&amp;gt;&amp;gt; I have a mic here if anyone has a question
just--I'll bring it over.
[PAUSE]
&amp;gt;&amp;gt; I find it curious that every release over
the past couple of years, there have been
major releases on Christmas, is there special
reason for releasing on Christmas?
&amp;gt;&amp;gt; MATSUMOTO: There are several reasons. And
the--it's just before the holiday season,
you know, so I work hard on the Ruby and I
get a holiday after the release. That--that's
the first--and the--I'm leaving in a non-Christian
country and I'm a Christian and I wanted to
mention Christianity in a--in a very modest
way. But this year it was tough. I could have
any time that can be spent with my family
on the Christmas day, I was mistake. It was
mistake. So I--would change the schedule to
a week before Christmas next year, I guess.
[PAUSE]
&amp;gt;&amp;gt; Any other questions?
&amp;gt;&amp;gt; Can you see VC questions? [INDISTINCT]
what final syntax [INDISTINCT] in the Ruby
[INDISTINCT], so my question is, is there
in any official [INDISTINCT] or something
similar like [INDISTINCT]
&amp;gt;&amp;gt; MATSUMOTO: Can somebody repeat for me?
&amp;gt;&amp;gt; It's not clear what final syntax will be
available in the Ruby 2 so my question is,
is there an official Ruby specification of
language or something similar like [INDISTINCT]?
&amp;gt;&amp;gt; MATSUMOTO: The JRuby people worked with
the Ruby Nous people. Ruby Nous is the--the--the
interpreter that written in the--they implemented
in the small talk way, the Ruby [INDISTINCT]
and these people are joined together to get
up the--the specs, specification which the--the
set of--by set of test suites and they, you
know, working with us, so it will be the--the
official specification for the 1.8 languages
after it's finished. So they are working on
it, get it?
[PAUSE]
&amp;gt;&amp;gt; MATSUMOTO: I don't think so.
&amp;gt;&amp;gt; Yes. I--I think that answered the question.
&amp;gt;&amp;gt; So you--you, I mean, the fact 1.9 is being
released, 1.8 is already being maintained
by someone else, what's the future plan? How
soon you're going to shift 1.9 over to somebody
else and start in earnest on 2.0?
&amp;gt;&amp;gt; MATSUMOTO: You mean the plan for 1.8?
&amp;gt;&amp;gt; Well, for all of them really. And--and
primarily what are you doing now?
&amp;gt;&amp;gt; MATSUMOTO: I work in the 1.9.
&amp;gt;&amp;gt; Still?
&amp;gt;&amp;gt; MATSUMOTO: Yes, improving--improving 1.9
both the language design, implementation and
if you sell all the 1.9, maybe after release
of the 1.9.1 and I will be still working on
2.0 which is [INDISTINCT]
&amp;gt;&amp;gt; 2.0 is--is, I mean, because I've been hearing
about 2.0 since about 2001 but you know 2.--I
was like on the doorstep now, its close.
&amp;gt;&amp;gt; MATSUMOTO: Okay, could you, could you repeat
it again?
&amp;gt;&amp;gt; I've been hearing about 2.0 and rights
since like 2001 but you're saying that the
time is near and it--it's so much upon us.
&amp;gt;&amp;gt; MATSUMOTO: Yes. The time is near. Yes,
finally. Even the 1.9 in the--the Ruby in
together with Yahoo is a longtime dream of--of
me and it's finally done last year. So we
are--we are stepping forward.
&amp;gt;&amp;gt; More question?
&amp;gt;&amp;gt; MATSUMOTO: Yes.
&amp;gt;&amp;gt; What regular--what regular expression engine
will Ruby 1.9 use? And will the rejerc--rejects
syntax the documented somewhere this time?
&amp;gt;&amp;gt; It's only Gruma and the only Gruma has
it--is--is documentation of the regular expression
it supports. And we're working on the--the
documenting both 1.8 and 1.9, so it--it will
be available as a Ruby side, it will be.
&amp;gt;&amp;gt; Okay, thank you.
&amp;gt;&amp;gt; Do you have time for another VC question,
another remote question?
&amp;gt;&amp;gt; MATSUMOTO: Yes.
&amp;gt;&amp;gt; I'm just wondering do you have any kind
of timeline on when Call/cc is going to come
back? Because I know this Call/cc isn't in
1.9.
&amp;gt;&amp;gt; MATSUMOTO: Well the...
&amp;gt;&amp;gt; Didn't have on the continuations.
&amp;gt;&amp;gt; MATSUMOTO: I know. And you can use--you
can use Call/cc in current 1.9, but you have
to specifically require their continuation
library just because it's--it's kind of dangerous
and it is a cluster Ruby with program it uses.
So you have--you--from 1.9, you to explicitly
declare I'm--I'm going to do something dangerous,
you know. And the--a guy--guy around me once
suggested, &quot;How about naming the discontinuation
libraries, the--the continuation library that
I agree with that dangerous things, something
like that. And as a result, you can use it
if you require a continuation library.
&amp;gt;&amp;gt; Okay.
&amp;gt;&amp;gt; MATSUMOTO: Yes.
&amp;gt;&amp;gt; Hi Matz, this is [INDISTINCT] welcome to
Google, great that you're here. I was wondering
about you're string data type, I don't know
if you changed it for 1.9, but I noticed that
you have a direct indexing like you gave an
example where the third character was a Japanese
character. Do you use UTF-8 internally for
a string representations and how do you implement—-if
so how do you efficiently implement that direct
access?
&amp;gt;&amp;gt; MATSUMOTO: Well, we use the raw byte sequences
as the internal data. So we don't have any
single internal encoding just because, you
know, there is some kind of the translation
problem we experienced in the past and then
we want to--we don't want to any of that kind
of the--the—-from the other encoding to
Unicode and round trip conversion problem.
So I use—-if--if I—-the process, the UTF-8
data I want to process it as a UTF-8 and if
I have the—-the legacy [INDISTINCT] data
like in [INDISTINCT] and I want to process
it in [INDISTINCT] so there. We used the encoding
the data--data structure inside the ECS, it's
a kind of set of functions to access the,
like the character in index, character in
the lens or something and the--that we use
that as a, what--what do we call it? The filter
to see the--the--give you the illusion of
the sequence of the characters and then you
may--you may feel that even if its in--inefficient,
but from our longtime experience giving it
the—-giving the—-this illusion for a long
time in Ruby, so it's most--most of the case
it--it doesn't go that bad if you use the--
the [INDISTINCT] expression correctly. Most
of the--the character based process is based
on the regular expressions, so regular expression
the, the rou—-routines optimized; if it
is optimized there won't be any severe prob--yes,
severe problems can be avoided.
&amp;gt;&amp;gt; Okay but it does sound like your index
a character by-by numeric index is--it can
be inefficient. I would--I would sort of conjecture
that for example, reversing a string using
that--that API would probably BrN-2, if you--if
you iterate from the end, like first you say,
how many characters are there in the string
and then ask--ask for the last one and then
for the long before that and so on, that would
probably be very inefficient?
&amp;gt;&amp;gt; MATSUMOTO: Yes, it--it could be inefficient
comparing to the, for example, the UTF-32
as the internal data, yes, we don't have that
any old one access to any specific index out
there--in the inside of the sequence write.
&amp;gt;&amp;gt; Okay.
&amp;gt;&amp;gt; MATSUMOTO: In the most of case, we can
have any-- we--we can have some tricks to
reduce the complexity.
&amp;gt;&amp;gt; Yes. I--I agree that that's just letting
the regular expression figure--engine figure
it out most of the time works great.
[PAUSE]
&amp;gt;&amp;gt; Have another question?
&amp;gt;&amp;gt; [INDISTINCT] what is the status of the
main parameters which should be available
in the Ruby 2 because I heard very strange
ideas about how it will be implemented. Why--why
just not copy from Python syntax where it's
deemed and easy to understand?
&amp;gt;&amp;gt; MATSUMOTO: Did you get it?
&amp;gt;&amp;gt; Could you try again? We also didn't understand
that...
&amp;gt;&amp;gt; And what--what is the status of main parameters
in Ruby 2 because I heard strange ideas how
it will be implemented and why just not copy
from Python syntax which is easy to understand
and to use?
&amp;gt;&amp;gt; MATSUMOTO: We use--use the Python syntax
for Ruby?
&amp;gt;&amp;gt; In name parameters...
&amp;gt;&amp;gt; A name parameter.
&amp;gt;&amp;gt; MATSUMOTO: A names parameter? Yes, the
names parameter is going to added in 2.0 and
it's very primitive to comparing to the ones
in Python. It's very, the--the a hash of symbols
that can be specified after the--at the bottom
of 
the argument.
[PAUSE]
&amp;gt;&amp;gt; MATSUMOTO: [SPEAKING IN FOREIGN LANGUAGE]
Is it okay?
&amp;gt;&amp;gt; But did you decide what will be the final
syntax because the [INDISTINCT] specs where
only working at--nobody knows what will be
in Ruby 2?
&amp;gt;&amp;gt; MATSUMOTO: Right. The syntax. Okay. It's
the--the core on [INDISTINCT] symbols like
the--the [INDISTINCT] encoding colon, encoding
name or the--something like that. The attribute
colon, value, comma, attribute [INDISTINCT]
attribute name, colon and their values, it
goes—-that goes long.
&amp;gt;&amp;gt; Is it not confused with the dictionaries
with hash syntax, with new syntax which is
very similar with colon?
&amp;gt;&amp;gt; MATSUMOTO: But it is hash...
&amp;gt;&amp;gt; Between...
&amp;gt;&amp;gt; MATSUMOTO: ...at the bottom.
[PAUSE]
&amp;gt;&amp;gt; MATSUMOTO: Like this? Can--can you see
it?
&amp;gt;&amp;gt; Can you see that in the VC side of the
screen?
&amp;gt;&amp;gt; Yes...
&amp;gt;&amp;gt; Yes.
[PAUSE]
&amp;gt;&amp;gt; MATSUMOTO: It goes like this.
[PAUSE]
&amp;gt;&amp;gt; MATSUMOTO: Get it? And then it--it is a
hash at the bottom.
[PAUSE]
&amp;gt;&amp;gt; So what if you want to add another hash
to this--to this list of parameters? Could
be confusing?
&amp;gt;&amp;gt; MATSUMOTO: This is hash, get it? This is
a short [INDISTINCT]
[PAUSE]
&amp;gt;&amp;gt; MATSUMOTO: [INDISTINCT]
&amp;gt;&amp;gt; Correct me if I'm wrong, but I think what
the questioner is after is can you have the
name parameters as well as a hash values?
Is that correct?
&amp;gt;&amp;gt; I think that's [INDISTINCT]
[PAUSE]
&amp;gt;&amp;gt; MATSUMOTO: Can we have the hash argument?
&amp;gt;&amp;gt; Yes, yes as well as it uses to specify
a hash values in your parameter list.
&amp;gt;&amp;gt; MATSUMOTO: Yes.
&amp;gt;&amp;gt; As well as the name parameters, that's
something separate 
or... ?
&amp;gt;&amp;gt; MATSUMOTO: The--it's merely for the colon
side—-sign and then it's merely a hash that
extended. So it's nothing special about this--
this--the arguments.
&amp;gt;&amp;gt; I think probably the best answer is its
Ruby 2.0, so wait and see.
[PAUSE]
&amp;gt;&amp;gt; So it's speculative right now. So I think
that's a wrap. Okay. So that's the end of
the talk. Thanks for coming everyone; I hope
you enjoyed it and thank you to Yukihiro Matsumoto.
&amp;gt;&amp;gt; MATSUMOTO: Thank you.</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>