<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Doubling the value of automated tests | Coder Coacher - Coaching Coders</title><meta content="Doubling the value of automated tests - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Doubling the value of automated tests</b></h2><h5 class="post__date">2007-10-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/v6Pt_pxrbeY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay good afternoon you're feeling a bit
hotter by the end of the day but I'll
try and not put you to sleep so if I see
you nodding off I'll try and change my
face what you can do is if to avoid
going to sleep even my slides okay so
what I'm going to be talking about is a
style of automated testing with director
of curiosity called storytests and the
notion called storage history of
development so it applies the ideas of
test-driven development the label of the
overall system and the focus of it
changes somewhat so what I'm going to do
is I'm give a bit of a motivation and
bit of a history and by the end that I'm
going to show you something of the
button library that I released actually
yesterday so it does make my way through
so I would I run my own company and I I
do work in story testing mainly and I'm
very interested in looking at where
where does not approach work and where
does it not how they're going with using
libraries ok so some of the things I
just want to skip through I'm not going
to go through all of the points here if
you want me to return to the later I'm
happy to do so so overall I'm going to
look at where we come from what are some
of the assumptions about testing example
many testing and in particular the
notion that we should test are in the
user and face a little bit about record
and playback and we've actually seen a
system which provides a good solution
for recording playback look at very
briefly dystrophin development and then
I'm going to go on and look at with
infant library look at some of the
shortcomings of fit and the infant
library as it was and then show how I
have a job
some of those states and this is an
ongoing process of course and also a
furniture and look at some of the some
of the issues that were making some of
the challenges so we're all I'm looking
at bringing together automated testing
detailed requirements and supporting the
Mangrum design and so my kind of claim
which I had no evidence for whatsoever
is that by bringing together thinking
about the domain thinking about what the
requirements are and writing them in a
form which can drive development means
that we have this redundancy and that we
have a common way of talking about what
system should do verifying their stomach
and providing a way on communication
between the various people involved so
some of the people read that but just I
thought there's a lot of brevity more
defeating war with some of the things
that I think it kind of relevant here
such as trying to get past feedback and
we'll see that by heading DA's product
managers and all working with Quality
Assurance people on writing story tests
I've often seen that some of the
thinking early on there's very quick
feedback because people are starting to
write examples and realize that further
understanding is needed and other
element is in terms of bringing the
quality and earlier try to avoid with
unnecessary redundancy allowing for
change clarifying the business domain
and in particular as I see what story
case and in some sense what test these
are concrete examples which I am useful
in terms of verifying that a system that
will do something important ok so what I
want to do is kind of leave from where
piston comes from which was originally
well here we have a system and it's
built and of course it's perfect now the
QA people are gonna start just again
it's a Yui based system
so throwing away this kind of emphasis
on a trace through the system you do
this thing this and so it seems to be
low level in terms of if you think of
that trace
what it is is is like there is something
important happening in the use of the
system but that kind of translates into
a very low level language which is the
sequence of actions through user
interface so I think of it testing terms
testing at the user interface and
thinking of it of those terms is like
writing still the language code as
compared to having a bigger language
were expressing what the test is about
and then generating through into that
level of a language so there are a
number of tools which grew out and then
testing and more recently there's some
great tools for doing Yui testing open
source I make a lot of use of selenium
particulate of web-based systems as we
see later I actually generate the
selenium out of something else
now these publications tend to be very
slow and repetition that's hard
repetitious at the scene a part of
important business abstractions that
come from a trace and traces naturally
don't lead you to think about what are
the business rules that underlie what
happen and so an important thing we'll
see as in developing story test is to
focus on different elements of the
domain and often clarify things around
calculation rules and constraint rules
which are not explicitly into E and that
focus on specific elements of the domain
how many of you here are familiar with
well how many of you are familiar with
domain driven design okay and how many
of you use effectiveness and library
okay so that's what Earth will go
through we'll see that I'm strongly
influenced by the manor of the design as
a way of thinking about story kists and
many of the ideas of that kind of passed
directly into
of story Otis okay so getting rather
than thinking just in terms of testing
half in fact bringing in QA working with
bas women with product managers earlier
on right start bringing in the quality
early and as I said before one of the
important things about that is to reduce
the amount of time from feedback so that
you can if you know that something's
gone wrong if you find out quickly then
it's easier to deal with it so we look
at doing things upfront now a lot of
people have experience with Testament
Department which is a which is a great
approach I used to kind of think a lot
about generating examples use use those
two men use my system so when I came
across it's great this is a really nice
way of expressing examples which can be
used to push the development of the
system that's how I see it and we get
the automatic verification now as we
know you notice only partly about
testing they're also about thinking
about what should this do what is the
interface so it's about analysis of half
design it's about thinking about pushing
the theory or the before the design of
the system further by thinking about
some example that would be harmful so
they remember them for dealing with
implementation Russell's but what about
business dress well we've actually seen
a number of solutions over today lots of
ideas coming together about how to think
about this and you'll see in my talk
that I some of what I've been doing is
very similar to the talking okay so
story fiscal development which is what
can take and others in the edge or
government called essentially basing the
development of stories or pieces of
functionality on functional tests I like
very precarious he's tuned for that
which is a story case which has in the
sense the meaning of a case that
supports
while syndicates that support a story I
also figured that a story kiss tells the
story about the business of the man and
of course we still need program at least
or unity so in 2002 I developed a couple
of different testing frameworks one was
a web-based system I started writing
HTTP unit programs and then I realized
it was very the foes and painful and so
of course I respected that and I started
developing a language domain language in
Java too big to support this and I was
fine from such a pain to remember look
up to find out what the IDS of the
elements were or getting in a field or
about whatever and I thought I would be
a great idea to write a program that
would take that and some HTML and
analyze it and compound all that
informations to make it easier to write
the test and it occurred to me well it
should I don't need to write the test
because I was going to build the HTML up
front in order to drive the development
so the HTML already describes the text
so I used that as a test but then
there's some difficulties because it is
is to discuss that it's to comprar
add an extra capability to allow a
sequence of changes through them for the
wasn't quite right and then I wrote
another framework or testing soccer
based system so i could emulate run
multiple clients against the socket
based system and run tests and civilize
that the effectively sterilizing the
concurrent use of that system probably
and the vet was reporting trying to find
out what was going on again this is the
theme that we've seen earlier today
which was how do you gather together all
the information and use them to find out
what's going wrong so in in the process
of building the second one I heard about
bet probably a big amount group about
fit and I hadn't look at that and I've
thrown readable code I thought it was a
brilliant idea and
as it happened I ended up writing a book
with Ward Cunningham the developer of
effect actually the first time I used
better sigh I built a new fixture which
would do handle the the soft base
business that had multiple columns for
more compliance and I could then do the
same kind of testing so and so I was
experimenting with it and then started
thinking about what I didn't like about
it and how to extend it further and
evidence into a system called pet
library so the three pieces of this
offense which was developed in Java
rittany by Ward thicknesses of a wiki
system that was developed at object
mental a lot of people probably most
people using Fitness certainly in the
u.s. anyway lissa in Europe and useless
so this runs vet or fit library
internally ok so the idea of that is to
make use of tables a very simple format
in order to express the test so it's a
kind of like an action verb style now
what's the point of this well it has a
very simple syntax and it's also
relatively easy to organize things that
are tabular but it's not so good for
things that I'll tell you and I kind of
noticed early on that taste tended to be
very relational in their feel and I kind
of wanted to make them more
object-oriented and I want to be able to
express actions and things rather more
easily so the left hand side one is a
very simple example written in what's
called
a fixture which allowed for a more
expressive language and you can see here
that what we have is a is a small called
style of having actions which which
confirming all the values for parameters
and in the key words which describe
what's going on so that this kind of
helps help them in the development of
the sequence of things within word for
example so I'll show you a little more
interesting taste
and here at thickness as well as an
example I wrote through the use of the
book and which is around a system for
ranging or hiring various products and
this is one single story test which
starts with some setup saying it here is
the current state of the system
we're setting up rental items and
clients staff member we then specify
what the timers and then we carry out
some action so we have a transaction
from from a business point of view a
transaction on the client and a start in
for something happens some payment
occurs the transaction completes and
then we can check our words that the
particular client has rental recorded
against them and we can also check the
rental items have changed so traditional
workflow kind of test which is is the
initial state is some changes and here's
what we expect now the problem was that
for me that this kind of started to show
some of the structure was not so good
with complicated domains I was working
with people who had very complex domains
from a domain driven design point of
view they were very complex entities
with large aggregate structure complex
rules around validation around how these
would be used and put them into attempt
tabular form in the simplest possible
way was like essentially like
normalizing them into relational tables
and it was not that easy to see from the
tables what what were the entities what
were the value objects what were their
relationships and so on and so I started
looking at extending the notion of
tables to support something a little
more the other thing I should just
mention I Alyssa started playing with
using diagrammatic forms with and within
library so that you could draw graphs
and other such things so what I started
exploring was being able to express the
relational rather than a relational
model trying to express more than
object-oriented form so we're making
progress from my point of view I shall
tell you I'm the other satisfied I'm
always going to be looking at trying to
improve things but I felt story case
early on with fit and pet library
helping to communicate the ideas they
weren't program a programming language
base there were many customers pas were
happy to use that many the words of
heavy and particular wiki's so the
support of the tools wasn't that great
but certainly from companies who are
using the staff for developing software
story test-driven development it was
very effective but many people tend to
write these tests rather like Yui tests
and they were very kind of low-level and
chip in terms of their thinking and that
meant that they were quite long and you
think they have a lot of church that
were very similar very workflows
entrance so we've got lots and lots of
tests which are almost doing the same
thing
what is the difference well when you
look at them they have slightly
different arguments the system is in a
slightly different space in this case we
have the system someone is carrying out
an action that's permitted and if some
result in this case here slightly
different the state means that I'm
allowed to carry out the attention so
we're kind of expressing a constraint on
what
likewise for calculating effects so I
saw an important step was to extract out
and I'm using refactoring terms here
because it is a refactoring process
extracting our calculation rules in
constraint rules which get away from the
workflow so having a bit of workflow but
now we can focus on what are the rules
around calculating this particular part
of the system or this constraint so the
selectors for thinking will be one of
the business rules and how we might
might we express them and in fact
there's a very close correspondence
between the domain-driven design patents
and patents of doing things and
storytests went out all right so for
example calculation rules correspond
directly just to the notion of side of
functions the other thing I noticed is
well I would like to be able to
distinguish between entities and value
objects which have a slot so an entity
is something which exists if you have
two copies of it it's not the same thing
so if something has identity in its own
right there's a computer value object
such as a date and the money or whatever
and in use so what I want to do is push
more towards the business tonight now
the other thing was that the amount of
code that wasn't required to connect
between the tables and the underlying
system of the test was was more than I
would like affect what would I like none
at all so I kind of got close to
affectionate man
so so we're here that then was to look
at how to support domain driven design
thinking about one of the domain objects
one of the business rules and so on and
expressing their more directing in the
business in Mussoorie tests and then
making it easier to map those storytests
directly into the code and more than
that by having a direct mapping from the
tables into the code then means that
there is an enforced one-to-one
correspondence between the terms of the
business analyst and the terms of the
program and that works both ways because
the program is in working on a system
may find abstractions that are useful in
writing the code and they can go back
and forth for the customers the BA is
about whether that applies at a business
level and that may lead to refactorings
within the storytests because as the
system evolves in an agile process the
language you bet the Quartus language of
the domain is going to evolve ok so
another element of this is as I said
before that there is kind of a
repetition
see and the different kind of documents
and ways of thinking about these but you
sort of have a certain amount of
redundancy because what artists will
test and code on different
representations of the same thing and
we're testing the consistency between
them and we're trying to make them far
enough apart so that if we don't make
the same mistakes and those different
occasions so we want to keep a certain
amount of redundancy around okay so I
could say something about requirements
or what I really want to point out today
is that requirement in not to involve
along with the system someone writes
them and then the code develops further
in moving forward story test as a way of
talking about the detail of the domain
then they have to evolve along with the
system because they have to remain
consistent and because they are tested
against the system every few minutes or
few hours then we know that they are up
to date and correct with regard to that
system okay so the main driven design as
I see it I've covered most of this is
around this essentially an
object-oriented view of thinking about
analysis and applying so if there is a
business object and there's a term for
that that someone uses such as a fund or
a container or whatever it might be then
those business objects chorus formed
classes in the underlying system and
those classes will be organized in
packages or whatever the my clarity
whatever the packaging mechanism of the
programming languages in ways which make
sense around the domain so between those
two here are Givens and a spot talks
about having conversations ragging UML
and then writing code over here so what
I saw as soon as I saw his book well
story chests are a natural step from the
general discussions and thinking about
the domain
starting to write examples clarifying
the language that's going to be used and
then that maps through
the underlying important in all of this
is the evolution I find if I'm working
with one of my plants at the moment that
there's rebuilding an old system a
legacy system which is had various
problems and it's interesting that when
we sit down hopeful sit down work with
them on writing storage chests or a new
part for a part of the system that
already exists but that's going to be
reimplemented there are lots of issues
that come out of the conversation about
that and some cases that pointed out
that they've had ongoing problems with
getting good communication between the
business side and the programmers in
terms of what should happen here so the
development of examples sometimes it
doesn't take many examples to really
express important differences about the
demand I can only give you a bit of a
hint of that the examples that I hear
here are very very tiny and support and
comparison so the kind of historic tests
that people are writing ok so here's
just a few quick examples of of business
rules and command room and design in
terms of business objects processes
calculations and constraints and this
comes from a conference management
system ok so let's just have a look at
another example
now which takes this a little bit
further and what we're going to do is
start laying out the structure of the
domain a little bit more and this is
only making a tiny stick so what what we
do is so what what I've done here is to
make it explicit the three phases of
workflow and so I separate the people
the separate parts of the of this
workflow and at the moment in a kind of
junky wavelet with a little table that
says are switching phase so now in the
first part here is the setup I'm
defining the state of the system before
some actions are carried out and what
what how this is defined is that I have
a set of property value here
so I'm going to talk as a program here
so I have a property called read from
ivan x which actually are honest rental
items and rental items have properties
name county cetera and I've also got
clients and staff members so these
tables here are showing the structure
they don't have a lot of structure they
don't have much aggregate structure but
they're starting to show the structure
of the business objects that exist in
the system and when this was executed
these tables is probably value piers
correspond directly to property setters
this is Jabba in the in the underlying
object and then we have some some
actions and these actions get mapped
directly into method calls in the
underlying object so these key value
pairs so these key values so these
actions are both supposed to work off I
will show you some that did Rick these
so here we have an action which is fist
time at the time this was we because
this is a time critical application
system here is a an action with the
starting at a transaction with Brenda's
reply in the and then within that
transaction we have a set of actions
that can be carried out so this part of
corresponds to linguistic in the literal
testing system it was a sorry
no no I don't I mean please say here's
the context of which the risks of the
tests are going to apply so you can
consideration thank you so now I mean
within the within this transaction I can
have a set of actions that are applying
to that transaction so what I have will
this this row here is an action that
constructs a new object and these
actions are operating on an object so I
could be thinking about what is what are
the actions of within the domain one of
the variables one of the properties and
so on and then in the last phase I can
then specify again what I expect to come
out of this and so as the at the
beginning we have property value peers
so we have some clients and legal item
times and then we had values so in the
execution this works simply by calling
the getter methods on that object and
compares the structure here against the
actual one
now what does it do in terms of
fixturing well the underlying class here
is just a plain application class it
doesn't have any net relationship for
fixtures at all when we're in the setup
phase the these tables these tables at
the top actually construct objects so
objects are constructed properties to
see it and all of these things are built
out automatically so this is going to
force us to make sure that the
terminology and the table matches the
terminology and the underlying code the
means of the mapping required between
the tables and the coders is very little
now of course there's always things that
happen that you want to express them in
me in the tables which you don't want
have in the underlying code so I had a
notion of introducing a domain adapter
and what did that the main active
adapter does
is that it has a reference to a
application object which may be the
whole system under chases and it can
then simply have some methods and so
during execution if the system adapter
the domain of data object doesn't have a
method then apply automatically calls
into the underlying system so there's a
little bit of perfection area notion
sitting there which is that this domain
adapter has specialized code so it may
have to do a little bit of mapping
between the terminology of the table and
the underlying code in doing a little
bit of extra stuff namely that take
these tables here and here within the
tables you can build arbitrary object
structures and so there are references
between different domain objects
effectively and so they those references
have to be met through into underlying
objects I'm not gonna go into the
details of those you may like them grab
the latest fit librarian have a look in
more detail at that so just a few other
quick examples which I hadn't written
code for here's a system around release
management and so we have some
information about and release in terms
of who the manager is what iterations
and stories that are we have a very
simple iteration as a collection and
then we can show what happens afterwards
so again a classic workflow where we can
set up the objects in the initial state
the actions in general may take complex
objects and their own right which will
be constructed automatically and then we
we have some result the other sort of
rule which I mentioned was a calculation
rule and this is a very simple form of
calculation rule that that which is for
doing validation this is a much simpler
form of something that I work on with a
client and that is that what we wanted
to do is to is to validate in this case
it's a
for scheduling maintenance using a
workflow system and so a particular
workflow has a set of nodes and a set of
arts and the arts have the nodes
involved in conditions on the transition
so there are various rules around what
are the valid our workflow correct and
so what we can do is this is a
calculation rule table so all the
columns up to that empty column in this
case there's only one are the given
values and then on the right inside over
here we have the expected value and so
each row here corresponds to an example
to a case which is laying out who rules
around validation in this case we'll see
a effects similar tables are used for
validating individual values individual
properties of a domain objects the
relationships between properties of the
main objects and so on so an invalid one
for example is the director's empty and
and so on so other one where the there
is a reference to a node that doesn't
exist the there are constraints on the
on the elect period that's associated
with the condition on our and in this
case ambiguity within the graph because
we have two transitions leading from
from one node in their hip an
overlapping condition in this case it's
the same one and so this is not a valid
workflow and so it's been rejected and
what we have in this column here is a
the English internationalization form of
the Euro missive which appears so it may
be that we we might end up with a set of
messages here which has this would be so
so what I'm doing here is using nested
tables to try and express something
about the relationship the aggregates
and constructure of the main objects and
lay them out very clearly so that when
I'm having a conversation with if I'm
working as a programmer and having
conversation with
we can actually look at these examples
and discuss these things and they're
laying out pretty directly the other
thing is that the product managers find
these once they get used to them they
find them very easy to write because
they are rather like a user interface so
we have here a property with some values
so this is like a label in the user
interface in some value where we have a
collection of things in this case
there's a cliff no marks then we have a
table with hitters for each of the
columns which say what is the value and
then those values are included in the
Stephan's recursively so so as I say it
kind of doesn't look like it's hard to
see how you can read there once you get
used to it it doesn't take very long one
if you're familiar with the domain it's
relatively easy to develop these okay so
that's where I got to with us now the
way in which these historically have
written at the moment this is running
within a tool called Fitness it's a bit
of a pain developing these these tables
as mist the tables because it doesn't
support them very well the other thing
is that once you have hundreds of
storytests then whenever the domain
changes you're changing the language we
have a lot of storages that have these
words in them which are the old
terminology of the domain and you want
to update it so to go through and change
the terminology is painful because well
there are no referring tools for
handling historic tests as as expressing
examples in a particular language of the
time so what I'm currently working on as
a reflection tool for storytests so that
it's possible to take take story
Cassandra factored in them that had a
refactorings that are important are
changing the terms this property name is
no number right well actually this the
main object now had some information
that's that there does within it now we
extract that out and deal with it
separately we're changing the error T
that the
oceans we're changing the actions that
may be applied the changing what sorts
of properties may be applied so there's
those kind of refactorings appear as
well as taking a set of workflow
storages and extracting our calculation
rules and constraints which the
differences between those workflows
essentially so in the process of -
what's the process like well the the
customers and the HR since each species
or the areas of product managers using
writing these tables to think about the
domain think about the examples think
about how much should happen within the
story and so it's not a matter of the
saying okay I'm just going to write it
down the pose of you if you've written
an article you know it's very very
unlikely that and this you're already
bored with it it's very unlikely you
could just sit down and write an article
usually when people are thinking about
the domain they have to kind of work it
out and I what I found there's a very
good way of working out the domain is to
talk about examples start with a simple
example express it and then when that
express clearly then say well okay now
they've had a few other conditions it's
involved that step by step well that's
that's complicated enough of the story
in in a few iterations it may be that
it's going to change again some other
conditions come in the Spiritist it
changed so the Spiritist
get organized around the domain and
there's the domain changes they evolve
so they they make a historical
relationship with what happened in the
past in terms of stories okay so this is
all about thinking about the domain
communicating the ideas between the
various parties between the customer
between the QA people between the
programs when I work with the programs
on on taking story case the number
making them then there's a whole lot of
things that the storytests
are laying out a lot of stuff already
for me as a programmer so I may still
have
Christiane's I may go back to the
customer and say what happens in this
case why is this here this seems
ambiguous and so on and that dialogue
then leads to two changes to those story
tests so and then over time things are
starting to it's getting a bit hard to
express various we added the customers
added yet more capability and now it's
it's it's there's lots of story tests
that needed to explain explain things
well then how can that be pulled apart
we're in the abstractions some new
thinking is require here because it's
getting awkward so that's kind of part
of the evolution communication
understanding about these things and
these four tests if they're expressed at
a suitable level of abstraction namely
not true low level in terms and user a
profession whatever then they can
provide a very good result it's possible
for someone to go and look at the
business rules and see what the cases
are now it may be that if you ask well
that's all very well what happens if we
only have a user interface the way I
like to think about the story case is to
drive them directly into the domain
layer of the system but that's not
always possible and there are a good
reason for doing other things so then
things that can be done and how to it's
to look at the same story test being
executed as test in different ways so
what I've done for example is that the
same set of storing tests is to generate
selenium and test them through the user
interface so in that case there is a bit
of extreme code that is mapping the kind
of abstract the essential actions of the
domain of the business domain and
turning them into the detail of the
particular user and so if the the
interface changes whether it's through
selenium or testing directly into a
swing application with Jesse you know
for example there it's only necessary to
change those fixtures what are they well
I think of them as being compilers which
compiling a high-level just
option of the domain into the lower
level a simpler code of the user
interface which has taught a
step-by-step sequence of actions and
then it's relatively it's a surprising
little code that's needed to maintain
notes although that can that could do
with some more support in one of the
companies that I've been working with
who developed applications entirely with
storage disk driven development several
year several weeks ago I did fermented
the storytests the application code and
ran all the story tests with enough to
look at what the coverage was and it was
98% coverage of the code and they were
finding that they were right in fewer
unit tests because well the story tests
were testing a certain level of the main
objects the unit tests were only needed
for infrastructure so it kind of changed
the balance of the tests room selenium
tests were also being used but the pure
user interface testing for client-side a
jet style programming as well ok so in
order to have the story test the owner
to be executed in front in various ways
it's a matter of introducing a little
indirection and so that about going to
now I've introduced the mechanism which
makes it very easy to run a suite of
story tests and run them with completely
different fixture and code so that they
operate in a different way
one interesting thing I've started to
explore was writing people one of the
companies I was working with were
concerned about user libel documentation
and help on screens and so on so we
started writing in some of the
surrogates extra tables which were
documentation based with the idea that
running in a particular mode we would be
able to generate user documentation by
and and we know it was correctly because
the story test could be run and executed
against the system and I've only me that
we go to for mono kiku screen dumps and
build together stuff and all of this
will be done on the fly
when people need to do stuff the other
thing I was interested in is where there
are validation rules which of course
being tested in the domain
well validation rules around what's
possible are useful examples that you
can give to users so again taking in
terms of redundancy are there ways in
which the same information can be used
in various interesting ways okay so
challenges as I said authorities once
they start getting large having lots of
them then they need to be organized that
you need tools to help find things you
need refactoring to support their
evolution and so on so that's something
I'm working on
there's certainly a lot of patterns
around storytests and many of those
comes straight out out of a domain
driven design when you're applying that
style to story testing in terms of
thinking so several people mentioned
about domain-specific languages what
what fit is in fact larger takes this
even further it's actually a framework
for the main specific languages and it
is based on on tables as being
structures for managing that so that the
syntax is essentially tables and so it's
possible to develop languages within the
same structure so I'm interested in
exploring using using the refactoring
tool for generating domain-specific
languages in general not just the tester
I use that library for doing other
things besides testing such as doing
things that you might do with end to
frighten simplification
one of the things of course to be
self-consistent to be consistent
developed all of this with storytests
and so I have a complete sphere of well
a set of storage chests which define
that library and these are being used in
the previous version by for example by
it might stop down to build an
implementation of that library mcjohn as
important that library to small talk in
Python so these allow me these
specifications allowed me to write
storage chests which introduce new
functionality into the system and I can
then make sure I don't break things so I
have a set of it's a suite of
specifications here which running under
under fitness so what the fitness is
doing is going through each of these
pages passing them out in this case to
that library and pet library is running
each of them in terms of supplying
information back in terms of the report
so each of these have a report such as
let's suspect one of them
the report is providing feedback in
terms of what has happened what has
worked and hadn't has not worked and I
think this is one of the really
important ideas Ward introduced that
that was the page the table form for a
test is both the form of the test and
the form of the report so here's so
here's a specification from that library
what it is is it's a table where in on
the side here is a sequence of tables in
this case there's only two and on this
side is what I expect to happen and so
this is specifying something about the
way in which kimmel pacing language
names of the tables are translated in
develop names within the drama and so
when I run there it actually checks to
see that the outcome is free so these
are kind of specialized tests
just in showing that it's working
correctly
okay so the other challenges in terms of
thinking about story testing story
test-driven development it changes the
kind of dynamics I think a little bit
and because the story tests are
expressing the domain obviously you need
people who know about the business of
the main now what I say business it may
be that the domain is is a testing tool
or may be a control system audit that
doesn't have to be involving them in
business
so in general systems which can be
specified so we need people who know
about the domain we need people who have
existing the spectrum and can think
about the bad parts what happens when
things go wrong so that library comes in
to at the notion that you can say this
the space this doesn't happen and the
test passes if it doesn't better fails
and the test doesn't pass if it succeeds
you know what I mean so you can specify
the vendors shouldn't happen and then
another element on that is abstractions
thinking about the domain looking for
proving the terminology thinking about
the relationships between things are
kind of a marble in UML if people who
fit in terms of UML there's lots of
questions that come out of that in terms
of arity in terms of constraints and so
on all of those things draw together to
help evolve the sitter storytests and
that's kind of somewhat different
picture then what has happened in the
past in terms of whose responsibilities
I was evening I'm wearing cases where
testers have been involved in writing
the story test but the the BA hasn't
been up to understand them so that's not
all bas are going to be happy with
dealing with storage tests that look
like this but that's fine I don't mind
if it's
okay so that gives you just a brief idea
of storytests which bring requirements
detailed requirements and testing and
the domain together and try and the
folder system by step by step
introducing these using them to drive
development verifying that the system is
is still passing all those tests and
allowing for high quality injection into
a system into the evolution systems okay
are there any questions having the
business analyst writing test on the
rest of the team on the business analyst
and some cases heavy about thinking
about the wider scope of teach them mini
enough and don't want and they feel well
I don't want to be a tester so where I
I've seen the whole range of
possibilities but one is where the BA is
involved in laying up the overall
structure one of what is the domain here
is a case and then the test has come in
and start looking and ask them questions
about the bad paths what happens in this
case so there's a lot of issues around
around boundary conditions about when
things don't work and so on which are
very much in the domain of the bautista
and then a BA may not necessarily think
about in the end it comes down to who
are the people on your team and what are
their skills and how do you bring
together an appropriate set of skills to
work towards developing storytests and
evolving them appropriately in some
cases the programmers will work with
people where the programs are actually
coming in and quite often changing the
storages and making them changing their
structure and getting agreement
so big variety and seem economy flexkom
anyway I would echo what we just said
that I've seen as collaboration rather
than trying to separate listens
my question is storytests is in some
ways a significant departure from the
starting of sindhu fixture how do you
see these two being used by the
storytests to replace the do fixture or
do you see them complementing each other
in a climb in very different situations
I want to see an example of a do fixture
they call all of the films on the
effects Jensen do fixture
well in the original set there was a
fixture called action affects you in
action fixture allowed you to specify a
sequence of actions were familiar for of
the user interface in for a value into
the spiel
priests the spa was very much quite for
long sequences of actions to chase down
something and as I say had a very much
the metaphor of the user underpants
which kind of encouraged people to think
in terms of writing that was around the
user interface I didn't like that and I
want to be able to express actions and
that's when I introduced new fixtures so
the that this is a all of this has been
a fixture in fact and new fixture it is
kind of a flow style the other thing
about that was that each of these tables
in fit has to have in the first row the
name of the class which is the texture
that is going to interpret that table so
you end up with programming type things
ending up in the company
and the tables and again I wasn't so
keen on that so I got rid of their input
library so and so what do fiction does
is to make a trend allow for complex
actions which met briefly on two methods
within the underlying object and using
keywords to be able to lay out what
these actions mean and reward these so
this new style which are showing you
actually has different do fixed assets
underneath them what I've done is just
introduce that happens before the main
fixture which provides the three phase
it will workflow but most of it is this
a new picture sitting underneath it and
all of its backward compatibility
compatible so that's easy enough to kind
of gradually move towards this new style
does that answer your question
I heard from Christy Newman from
Progressive Insurance we've used Fitz
and loved it in many ways so this is
exciting to see and it seems like very
fit storytest to me some a very
pragmatic application of abuse cases in
a second implementation abuse cases
but my next question then has to do with
the reporting coming out of it
I wonder if you have or you will produce
or design in any sort of high-level sort
of strategic reporting that managers can
use to gain more support for the use of
this sort of thing in other words not
necessarily just number of defects found
which doesn't do much more managers but
rather problems prevented risk
mitigating I would be very happy to
speak to you afterwards about what the
numbers are that you want I hadn't tried
doing that which kind of means that from
what you were saying I think there is
other information that has been bringing
you brought into that picture to do more
than simply say this is past it may be
that there it may be that it's the role
it would be useful to do that with an
effect library or a portrait before it
may be that that's something else I'm
not not really sure yeah I beautifully
hear what kind of reporting you want I'm
I'm always interested in seeing how this
could be improved the other point which
you raised at the start is relationship
to use cases one of the things I see is
that in a sense these story tests often
a set of story kissed actually
correspond to a use case and where
people want to think in terms of use
case it seems to me it would be useful
to allow a set of sportacus to be
organized in such a way so that the use
case the marriage was out of them
automatically or vice-versa you start
with some description of the use case
and then you have the story taste
related but I see that there's the
strong correspondences between what I'm
doing here and what what happens in you
an hour we use cases etc there's these
ideas
around this is just another way of
trying to get it there the other thing
about the historic is as I said because
you're talking in terms of the domain
you essentially are saying something
about what the business classes and
associations are so from the set of
examples it would be possible to
generate your mouth your mouth diagrams
to give the abstraction
I have the charge from a company called
magpie and on your last slide but one
you had their full appointment set there
and history tests can also support
performance of light testing and we
haven't heard much about the Semitic
before the synthesis of
I prayed I can't say much more about
that this was something that I hadn't
started working on with a client that
I've come and got the strength of a lot
of other things one of the things we're
looking at is how how to look at the
performance requirements of a system and
break that down to be able to make more
specific requirements within the system
so it's that may be done at a unit
testing level or at a story testing
level which is to say well how do you
allocate time to different elements of
the system the other thing that we
started looking at in that was to you
look at how to develop the city
storytests well do storytests had the
right property with variability so that
even use a set of storages to generate
the large numbers of domain objects
which map into a database and then to
use those performance but that's that's
as far as I've got if you're interested
in doing load testing and I'm get
working with you on applying soraka's do
it but I don't have any more experience
at this stage does anyone else here have
experience of that you can
salari okay so something on performance
right ruler built over from Cisco
Systems a long duration it might be
difficult for eight story test from
start and min ago you mentioned for
reporting you might be able to export
UML so only kind of tools that would
allow you to generate story tests from
other types of sources it exists
eternally it's certainly possible one
thing I wish but then is with legacy
systems where you can take traces out of
the use of the system
and then extract them with all possible
visits have been thinking as well to
then get to a point of enough to extract
out the story kiss and use those so that
you could get some value from record and
play back with another tool so I've not
tried that but essentially anything that
you can analyze and that you can turn
them to a useful form programmatically
that's possible obviously if it's
written requirements it's going to be
very difficult and less people I mean
I've seen written requirements where
they use lots of tables till they are
cases so if maybe in those sorts of
situations you could pull the tables out
and at least get them closer to being
really for being used for amenities now
seeing a parallel lines of your mouths
as sequence charts with the ult testing
profiles and if you know as well
particularly Malia focus but it if you
have some notation which is not good
semantics and you know what it is and
you can give it some representation if
they are useful then I can't see any
problem and turning them into another
form such as storytests which you can
then use for execution well it's kind of
getting back to something I started
playing with which is in some cases the
the tests are best expressed graphically
so you have a set of complex things that
have associations and the best way of
showing that is with a sequence diagram
or with a Bret or whatever and so that's
where I started playing with the idea
that a test could express that in the
Brett will form
and what the way I did that was to have
but for example with the Brett was
talking about this case here in the
middle is that that's that's a grant
that's generated by dot and underlying
that as it is a textual form which is
used by dr. generator so the way the
case works is it associates the text
file with the record and when it runs
the test that compares the text against
the actual chair supplied by the system
and in fact because it then runs that
ticks through dot and said well I
expected this product off that so
obviously analyzing the graph itself is
not very easy but if you have some other
representation of it in a textual form
or whatever that you've been analyzed
then you can kind of do mappings between
them so that's kind of another way of
thinking about using these other kind of
notations which is useful and people
like well the best thing there was to be
office they've been drinking the test
and then use them and just play the
results of those terms and now I think
about it that's probably the some
properties of interesting work that
could be done on trying to bring lots of
different reports from different systems
together in the end it comes down to
what are you trying to look for how do
you how do you display those those
things
what's this notation for the problem
that you have
hi there James Richardson I was just
wondering if you found any particular
suitable for this the so far I haven't
come across any domains where it doesn't
work well but that may will be that it's
just the experience that I paid so I'm
very very interested in looking at
domains and finding where they go over
the boundary I'm interested in boundary
conditions from my testing perspective
yes I I would be very interesting so far
where I the only kind of things where
I've seen is we're testing is hard
anyway which is around non determinism
so testing a web-based system where you
have multiple users and you're testing
them currently and you're wanting to go
through and make sure that that they
don't get benefits that's a problem of
the respective how you do it so for my
crispy
from my point of view with February will
I need to have a good way of showing
what's happened time but then I need to
make sure that what's happening at the
server level is deterministic or then I
can deal with a non determinism that's
not ready to do with the tool the kind
of areas where I've worked on everything
from very data-intensive where
nomination is a major issue right
through to to detail processing so I've
worked on control systems we you have
bundled onboard computers where there's
a lot of interaction between the systems
within the car system telephony
messaging systems where you've got
distributed systems stuff going on so
it's not a huge range but yes if you've
got specific cases that you're thinking
are understood and chatting with you
about this being whether it may be
things
well Rick thanks very much it's been a
really interesting talk
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>