<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>The Python Object Model | Coder Coacher - Coaching Coders</title><meta content="The Python Object Model - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>The Python Object Model</b></h2><h5 class="post__date">2008-09-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VOzvpHoYQoo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what if the PDS you find right now on my
home site that URL is not updated I
repaired it a couple days ago done some
changes with rotational state search I
will upload the very latest after the
talk I by the way strongly invite you to
interrupt me complete that Casper
clarification anytime during the
presentation because this is the first
time I'm getting this Pacific
presentation and if there's anything
that should be tweaked or whatever for
tonight you will help you will have a
better impact on maybe the student
movement so what's an object model in
more generally speaking
what's object-oriented programming or
Obi
this was protocol our speakers that I
can't make this bigger little work so
you have to be very quiet in this is my
now this is enough they don't be on the
other hand I'm going to talk about
object oriented programming which is the
concept of grouping packaging state and
behavior in suitable trucks for three
main purposes and this should hold for
just about any kind of class oriented
object-oriented programming language is
just about all of them except maybe
JavaScript you want object-oriented
programming to achieve delegation which
is a great sounding task of letting
somebody else do the job and you want it
for polymorphism which is acting like
somebody else and you want it for
instance iation making one blueprint and
several instances of the expels or
exactly we will be exploring these three
edges
they issues are common to every
programming language that tries to do
arbitrary programming all the way or
another as long as it does it's two
classes which is the Association
apartment supposed to prototypes as in
JavaScript or self but specifically I
think issues come up mostly with
delegation and polymorphism so we're
going to evolve by part most of our time
to go and just mention one
very interesting an important point
about the association at the very end
what does it mean to use object-oriented
programming for delegation well there is
intrinsic or implicit delegation time
each time you do an attribute book up on
an object let's talk specifically - each
time you look up an attribute which
could be a method name first of all the
instance delegates to the class if the
instance itself doesn't have an
attribute by that name
no problem the class is likely to happen
every time you call a method is more
likely to be defined in the classic so
look at ugly created programming this
way which may be like unusual an
instance which is an object delegate
most of the attributes to the class
which is another object the class itself
in turn tries to get every opportunity
jerk its its job by delegating it to
descriptor objects you to get into a lot
of details and if that fails to base
classes as long as it doesn't happen to
do the work itself is going to be happy
moreover besides a implicitly Gatien
that a person every attribute will come
to you generally use object-oriented
programming to package up a lot of
explicit or third delegation through
containment also known as Hall the rat
will see the difference delegation to
self which is something that only works
in programming which is validly forcing
yourself the job that you should do and
essentially when we're talking about
intrinsic and implicit delegation were
mostly talking about inheritance and
similarly specific rigid mechanism but
talking about containment
holding and wrapping we're talking about
much more flexible approaches another
way to put it which is passing in other
languages is to say that in Eric
a certain is a so it's basically
something that is an existing
relationship while holding it rapping
they simply a commercial business
relationship for using a certain
supplier of some service it's the
exactly what after the tool cut is the
root of the 300 program each time you
ride is that why you're participating in
their great concern of programming by
the way whether you're going to call but
why or not makes absolutely no
difference most languages for some
reason trees he supplied annex of why
open paren completely different like
different namespaces in small role which
is greater of the traditional
programming language you just can't from
the outside look for its of why unless
you're going to polity essentially
they're only they they methods show in
Python does that kind of an elephant
first you to look up that of why and
then you make the call or control frame
or you may not from our point of view
this works cannot distinguish what
happens whenever you're doing so far
well Python first of all checks out all
the descriptor staff which a very repeat
we'll be covering in a lot of detail
innocent assuming descriptive start out
well first of all Python is going to
look into the dictionary of instance X
you may bypass dictionaries by defining
Slavs will see that but that's the very
special case 99.9% of the time you're
looking into a dictionary if that
doesn't work well you try the dictionary
off the title banks
what I meant by saying that the cluster
the gates to the incidence each class
has its own dictionary as well as each
instance I insist type X is the same by
the way as things start under under
class under under were only talking
about today's object mobile or no not
gonna solve the legacy object for each
person carries around for compatibility
with the way it was five years ago if
neither they look up in Linux is on
dictionary nor the lookup is a basis
dictionary give any luck then typing
walks over the basis of X's time in a
specific order which we will not go
further than L which is called a method
reduce an order for historical reasons
it does not only apply to members it's
an attribute resolution or historical
reasons are for similarly evolved much
more simply whenever you are signed to
is the fine why it was said again there
is an attempt to let a descriptor to the
work and if no descriptor is available
to be suckered into doing the work for
you then just set the thing into the
dictionary of angels in this case we
don't delegate to the base we don't go
and delegated sorry for the class and
much
to the base descriptors most of the time
we delegate lookups to distillers what
does it mean the key infrastructure
quite obvious that they look up of our
tributes in the key of of the current
programming in Python and descriptors
are the key off essentially attribute
access access in the generic sense
meaning getting most of the time setting
sometimes deleting rarely people rarely
you think about leaking articles maybe
mainly because most languages don't let
you do that by $2 but it just doesn't
comfortable but anyway any of these
kinds of process starts by looking at
the time and on the basis of the type
for the name you're trying to get
separately if a suitable descriptor is
found in the time for some base of the
time under the name on the under the
name then everything else gets delegated
to the specific method of description
what does it mean to be a descriptor
well it essentially means to have a
special method under under get around if
you have that your descriptor if you
don't you're not passing by the way when
I say how the method particularly for
special method it always means the base
hazard we will get into that in a bit
more detail later but in the Python
object model they intrinsic lookup of
special names doesn't look at the
dictionary of things doesn't even try to
it works strictly on the time so that
will come up over and over again but I
just wanted to make if a descriptor also
has a method called under under set and
under it is known as a data descriptor
for historical reasons that are much
better names the one we use today
override this program but you will find
data descriptor a lot
in fact in a nutshell what does it mean
to be an override descriptor it means
that the class or rather the descriptor
held by the class override things and so
you don't get in to even look at the
dictionary of the specific instance if
you found an override this printer you
can find a description that it's not a
variety you still have to check the
instance of the dictionary as well and
there is no special name for that it
does a non-date out known override
descriptor so what does it mean when you
have an instance of class see the
politics and you access as in get it's
the truth well if the class has an
actually good name who note that this
already implied all the look up over the
vases anytime when you say has after the
semantics of that or get after or
whatever the semantics of that is to
look into this thing and all of its may
Francis so we don't have to
it's very common so the classes that's
shared of them I mean it's a class very
well
or Sally method or not static really but
then it's just a descriptor is in the
class always and so class can use it
unless their instances of some
subclasses further over riser so we get
that attribute from Class C we get the
classes for that title that I believe
specifically because we only want to
look late for special method in the
class now if that class has that and
rather get a grander than way we have a
description before we can use that
descriptor we need to check that either
it's an override this creditor or it
doesn't need to write anything because
they name is not in the dictionary or
basement if so that we can finally
delegate to and run again this is very
identically to write d dot class
McDonough and run will get open instance
blah blah I would normally write that as
the instance that I'm trying to get
arguments but they point um being
pedantic about here is that it doesn't
matter if the instance itself has
something called third instance in its
dictionary : under get is not even
looked at we only go to the class itself
if it's not a descriptor or it's not an
override descriptor in something in the
instance or it is those are they think
they two negatives then we go to the
dictum II of the instance or we get it
from the classes or we go over things I
mentioned in the freezer but this this
the nested set tests is what determines
whether we can override we can delegate
to a descriptor for a get operation
Freedom Ride operations are simpler
essentially again if what we're trying
to write is in the class and it's a set
it's got a set method then that set
method is what is supposed to be doing
the setting
otherwise the setting is simply in the
dictionary of the instance no spirit no
looking up the classes or whatever
as I mentioned okay so what is this all
for well one crucial issue is that
invitin every sunshine is respected
meaning the type of functions defines a
special method and run get around
therefore you can open and what happens
the semantics of an run together up to
the specific times in this case what
happens is that the argument you passed
gets bound into the resulting call so
the resulting callable has the first
argument 3d fast calling at 23 of 100 is
i calling adder of 23 100 if you look in
more detail another 23 in your Python
interactive prompt you will see it
claims to be a found method 5 if it now
since you know perfectly well that type
int doesn't have anything called a blur
you may be inclined to be a bit
suspicion about how can it be a bound
method if type it doesn't know anything
about it
if however knows about I paint and the
reason he knows about I think is that it
was bundled with an
so essentially the tag doesn't meet
tonight because all of the work is done
in the aggregate method of the
description now as it happened we cannot
add a descriptive type int built-in
types are not available for our
modification in this way but we don't
need to because we can do exactly the
same job from the outside that is from
the function itself this is the
mechanism whereby this is this is a
limited because it only works for one
argument that end must be the first
argument and so it doesn't have a full
flexibility you would like a part of
application or as I still prefer to call
it curving I see you conserve curry here
so the problem so instead of instead of
a point of curry I decided to industry
but
it sounds much better if what I do have
work in the all you I swear anything
basically this is the I'm showing it in
a normal scale but this is what you is
happening every time you call a method
of an instance it gets bound this way so
the algorithm will get method of the
function of the part of the function and
then upon call the first argument is
pretty much an example of descriptor
that didn't use to be in fact until the
two but we are apparently managing
finally to release by the two the three
everywhere you think we still yes they
haven't email in my mailbox the ranks
who are doing that today simulator
300 so anyway so if finally can use
properties about it this is a custom
descriptor tiding there's a few chairs
if somebody wants maybe the position
isms off to all that we can
a property is a special-purpose
type of descriptor you build it by
passing it up to four arguments one of
them in a really think you should always
pass it is a string just a doc string
for the that attribute that's very
useful and it doesn't do any damage so
facet young ones are often not generally
you will always almost all in class you
always passed the get because that is
the function was gonna get cold when the
activities right maybe the sec when I
get cold when they I think we set in
this is gonna get cold and the attribute
is delete it if you don't pass something
it becomes the memory we will get in
exception if anybody ever try to say
delete a property for which no deletion
method of being supplied the signatures
are very simple the gate has to return a
value the setters to accept a value and
the developer doesn't have to divider
and this is a totally trivial example
where they what happens they set and
they'll let you set the property we have
to do anything
delete the attribute and they don't
don't do anything isn't behind a good
thing from you
not this is not recommended to meet a
Fisher of words and then wherever you
get is given is value you get a council
and this is
they talk string as you don't have to
use the net force anytime you bastard
there is a tricky issue which made this
how do you is that I mean by the normal
of the normal Civic subunits of state
fool into F and then stay after bar
print at the bar will call with Galu in
2300 you can say at the bar if all 947
that 947 will be totally ignored I'm
going to be either in Dobby 23 you can
even ask to devil at the bar and it will
just continue said as if the meeting
okay but it's still there so oh the dog
is something that helps if you want they
help on an attribute you can you can get
help or just train to a doc but help is
a normal interactive way and depending
on what interactive development
environment you're using the
commencement documentation strings can
appear like um text tickler or the kind
of thing that hopefully more informative
than that those one tricky issue
property and
Americans the way properties are
constructed today will probably go away
right into fine does a strong proposal
for that but it will be a long time
before we move department to five survey
it's important to understand if you say
you have a base of a base class in which
you build a property this is a property
which is only again now what is
happening you're casting you get who
wanted me to just define that get to
object no other so what will happen when
the property triggers it we'll call that
get a object not another under any
pastor
so if you somewhere else to ignore in a
derived class define another object with
the same name the property will not even
know about so you can change the derived
aprendido to this thing will never get
in play nobody will ever hear about this
so the normal way that gets expressed is
own property doesn't work with
inheritance it talks except you have to
do some work here tense is a complicated
thing this has been W net that I
couldn't find in the diagram off of a
multiple America
the simplest fix until today until you
you get to vital to five is to add an
excellent direction which validates one
of the oldest tools in computer science
there is no deal that cannot be solved
by an extra level essentially instead of
passing to the property constructor I'm
giving the bad example in stopping
writing top strings and just be more
precise instead of passing the thing you
wanna outer ID or something else which
doesn't so the point is that overriding
my narratives works at the moment you do
the lookup of the attribute so you want
to do it as light as possible late
binding with normally Python you could
let played by me whether you want or not
but in this case you have to actually
ask for a binding because property binds
early nights with is constructed so how
is bind to get and who that doesn't look
up and now they derived work you can
also see this as an example if they I'm
going to enter it in the Guinness Book
of record as a simple possible example
of useful example of template method
design factor we'll talk about template
method in other
later but they to play method foods and
parties were an organizing method called
Hookes method within the same instances
they self delegation thing well now here
this booklet is an organizing method it
doesn't do much organizing but it does
do one call to a method which is meant
to be overridden that is what to find
them to five is probably going to do
these two except instead of a function
the name that they do the lookup for you
but it won't be around for a year
besides to be descriptors that Python
gives you which includes last actions
and property such things as static
method class method you can write your
own descriptors most of the examples
fear being no trigger examples from the
stock are taken from the second edition
of the Python cookbook of Spider IV I
can have some copies around this you do
get you can also get all the code only
just download it from your side I use a
form of delegation each time somebody
asks for a tribute foo give him a
tribute bar instead why would you want
to do that well you might want to have
two names for the same attribute for
several reasons and one of the best one
is when it's for unconditional I started
to use case you release the previous
version of your class where you name
something very bad name even if it's
very bad name then and that was released
then on mature reflection you relieve
that name isn't really good so you want
to rename me to very good name a lot of
client code uses very fattening so what
you do well al using it and possibly
with a and placing a warning
each time the very bad name is used
still that old code work because they're
very bad name gets redirected to this
very good name and get some warning so
eventually they call
physics but for example so how you do
that
well I've finished I'm you have to
record the name which you will be
indirectly and upon get you have to
check because sorry this this is I said
obj here and in spear hey I could claim
a typo but EMST is rather distant be
cold without an instance of the object
when it happens on the class and when
that happens most good descriptors
that'll need to do anything weird on the
class will just return themselves so
otherwise he does a tribunal card on the
object of the name he knows the time
circle this one now this default aureus
is override the ball is not overriding
before arrival he Tony has a get so if
somebody says this attribute the setting
takes precedence and from then on that
particular instance doesn't have a
novice and if we inherit and add a set
of adèle then the setting on the
instance will also be redirected through
this
and well no there will never be any
change to the descriptor all the changes
assignment to the descriptor will go to
the we are because by the way the real
attribute could also be any kind of
property or whatever because we do
perfectly normal new cups laughter so
we're using all the normal pattern
mechanisms another example of custom
descriptor is say there is a an object
which potentially has a huge number of
attributes which may take substantial
time to compute this is actually was my
Yusuke that the reason I really got
thought about that my first turn use
case for - was in the contract breach
programming system so I had an object
because I had a handle bridge and a
bridge can be evaluated according to a
million algorithms you can aspirate
distribution shake points losers
controls there's so many things if I
computed all of them I'd never be dumped
however I wanted the object to hide all
of this to solve all the rest of the
system could just ask for any attribute
of interest and the object would compute
and cache it internally just in time so
they built a very adult system for what
can be now gone in and slide essentially
the JIT attributes the descriptor
you basically pass it a methods notice
that by passing a method rather than a
method name we have built in the same
inheritance issues as property so you
may want to add an indirection to fix
them if there is no I default the name
from the method you could
research I get time again if obj is done
I got it right this time return itself
meaning form cups on the class just pass
through otherwise do the computation and
this is a tricky bar set the result of
the computation on the specific object
under the snake for eternity
this is essentially not only an override
herbal descriptor it's a self overriding
descriptor the first time you ask for it
it over rice itself of the instance by
this said I so any future requests will
not repeat the computation will just get
the cash if this of course sues sort of
immutable things because listen this
value is going to be computed only once
the first time many that they a main
point is not so much the caching which
can be done much simpler way it is the
fact of not even doing the computation
for those 90 90 99 % of out of potential
attribute that are never actually
requested this also happens a lot in
signal processing we have an object that
represents a certain signal the amount
of things you can compute on that signal
the amount of transforms and is
boundless there's easily millions and
millions you don't want to compute all
of them in advance but completing them
just in time works just fine again
treating the signal
back to more normal delegation I have
claimed there is a distinction between
holding and wrapping there are both
kinds of containment in the containment
delegate use of mole holding just means
that a certain object all a certain sub
object acts as an attribute that so the
attribute could be a property of
something fancy but that will be totally
transparent from the outside anyway so
essentially you just want to call some
method on the subject you you you call
within the object self s method from the
outside boys man it's simple it's direct
its immediate astronomy why is it wrong
well sometimes it is them nd it's a
matter of degree
but it's coupling things in the wrong
access the you look self as Methodist
right the point is I print every time I
see an old dot s dot method is coming on
the wrong axis you are committed
forevermore to the fact that object all
will have a sub object s which will have
and if this happens with two dots in an
expression you can survive it but once
you start along this smoking plane
there's no stopping in soon that again
this isn't specifically a fighting issue
you'll find it in Java code even C++
code it does more than one daughter or
or arrow in they indicate Oh simple
puzzle make things any better it does to
the three thus for those five your coat
is unmaintainable you are implying
exposing all the structure you will
never be able to change the
implementation of your code without
breaking off client code they way this
is most often expressed in undergraduate
courses nowadays of the law of Demeter
which is sort of a fancy way of putting
it
the simple expression is if there's more
than one dot that code smells and you
know code smell is a technical term so
I'm not saying it's actually stings you
should do this again how do you avoid
excessive tops the simplest way for this
very simple case is instead of just
holding another object you wrap it that
is whole maybe we are private name to
remind yourself and you find that this
should be obsessed and delicately so you
put you use o dot method you call the
method on the main of the pole and it
internally dolls start this man
or implicitly that that's what we have
get out before we do need a now to cut
out all the boilerplate whereby obey
delegated methods get passed to the
Balkans yeah to avoid for doing this rap
if you're recovering I think we're
talking about non special method and if
you're profiling determines that every
nanosecond counts
we're not but you can extract the
Phantom you can extract self as method
into and that's a method the south of
method equal cells of s both negative
you're not saving a function
you're saving a lookup which isn't
really if you have the explicit one then
you have a whole tree to do that in only
so you could you know you can move the
little guard when you sell peasant set
you could look up all the things you
want to delegate to and say them
somewhere so they won't have to be the
propaganda but some people whose whereby
that optimization I've mentioned it many
times
it's a microsecond thing it's not you
the son becomes can take all I mean I
have described of course sort of
conceptually Deluca process and if I
woke up needs to be very sophisticated
you can do several steps but it will
still take a few microseconds unless it
gets into ok so now I send a request to
the database and way to resolve a part
of your content and then you should
resign your property you can say
something where you look up in advance
so you can
the flexibility of office early binding
you can binary I mentioned earlier a
case in which things got found a bit too
early mean it's faster but it may want
to delay the binding the reverse happens
more often
I guess you but one example of where
wrapping is particularly appropriate is
when you want to restrict an object this
is not exactly the same thing but it's
akin to they design back to normal
society so you have this object which
does a million thing you need an object
that those three things which happen to
be among the minions right but you don't
want to expose the other nine hundred
ninety nine thousand nine hundred ninety
seven because they're attractive
nuisances you don't want you're quite
cold too cold as other methods what
you're supplying conceptually is a thing
of those three things so how do you do
that
they this is normally found as request
for okay I'd like to inherit from eggs
except I'd like to be able to remove its
methods or attributes the ABC how can
they do that the answer is you can't
inheritance was not what you restrict
the interface by definition Americans
assert that something is a something
else so non predation love what you can
do with the same effect is wrapping to
restrict you can for example this is a
generic respeaking wrapper take it block
which is a set of names you want war
record the object karate in the block
and every time somebody tries to get an
attribute
from you if the attribute names what you
raise an effort deterrent so nobody will
get through
otherwise we delegate repeat this
doesn't work for a special method
visualizes require special care we'll
see later but mostly that doesn't work
no special measures need to be looked up
on the class so if you want to to have a
class with a subset of special methods
of another class you need to build it
produce this only works for normal
special you're wrapping an object here
yes could you wrap a class yes now I'll
show that later with a bit more the
normal way to route the class would be
to use the magnet class I'm not getting
into classes in this I will show a more
at half way there okay I have sort of
mentioned in passing one of the most
important design patterns not justify
them in everything every language which
is known as the template method my
opinion is that it's a great pattern is
the lousy name because the word template
is way too well below besides the you
describe generic programming in C++
it describes the control technique to
generate for example web pages or HTML
documents by starting with a template
one and then filling the blanks which
has absolutely nothing to do that
method design fashion so prefer the much
more descriptive name or self delegation
of the only disadvantage thereof is a
dumpy only one using it so you say self
that I gave you know but you will
understand in the classic version of
certified method there is an abstract
page about something your mental exam
page which offers an organizing map
clients call be organizing all instances
which a weber must be of concrete
surpasses the concrete subclasses must
implement certain hook methods and the
role of the organizing method is to call
the hoop in the proper sequence director
there's a variant which your will have
the met if you're into like see loops
another
where must be they mix in the fightin
setting the best example of complaint
method design pattern I've ever seen is
in no limitations languages is in the
queue module of the Pakistan library the
queue class in the queue module
for example if you look at Q dot foot
which is a thread-safe first-in
first-out the foot azimuth it was a
certain condition variable weights for
each looking and colleague weight on the
condition by calling a certain under
full method when it's here it has
acquired the law there is not a
condition you can safely call self under
foot and then it notifies another
condition variable over there the
difficult right finally pattern can
guarantee it has relieved I'm not
getting into Python Freddy now I assume
you know what a quasi-religious white
queen is or what I'm trying to point out
is that the real job after all of this
infrastructure related only to running
is done by Kali soft underfoot which
does not invite us all to attend so one
could wonder
so why instead of striving to avoid the
function call wisest I putting in an
extra function call is a biking
indirection free
not the differences between the queue
concept of it and like that the design
pattern and the classic queue is not a
slur
ninety-nine percent of the time you just
use it it's perfectly good
it has the unemployment ation of all
those methods and for example the under
put method is very simple amended up
self your hand but you can sometimes and
the reason is the class is to customize
the queuing discipline you have don't
have to worry about being thread said
all of the locking in the timing is
guaranteed for you by the organizing
members which are the lines that by Kobo
called get put you can override under
that under put under for to use whatever
community what the default is they
simplest and most useful which is why I
didn't plus percent using it is person
to stop you cannot ride yep you can also
provide data this is not something you
probably think coughing most other own
object-oriented languages you can only
write method in fact you can override it
hey does sometimes not he in this kind
that does going to give an example they
don't write for example say that I want
a queue that needs to be last in first
out I can't think of an example I use
gain in which they would want it at you
for communication between threads to be
just impressed after the point is I can
do to example something one slide
because I can do it with it using the
deck you double ended queue which queue
itself
users I simply have to change right
underfoot
to go and attend left instead of their
panic that means something right
terminologies but that means at the end
of the letters that means at the
beginning if you wish and this of course
by appending of the same sytem on which
they are taken I have a last in first
out instead of first in first out
that's the simplest in or I could say
hey I only need a staff I'm a Snooper
stops attack it's a ways to double-ended
you and they don't use only one end of
it well then I can override unclean it
and makes of your list instead of say
double-ended and then the foot using the
append is fine it just need to change
the sketching support appended or are
they saying as pushing so you can they
make advantage of the segment design
pattern by changing chewing disciplines
without having to worry about a really
physical part which are they reading the
coordinated another example of the
Pegman the design pattern using the mix
in its user dick doctor mixing again
from the first of all it is abstract in
that you cannot instantiate it it's not
so not intended to be subclassed as to
be multiplied narrative form but you
could surpass it equation then no
thought if you get that the fact that
it's abstract means it doesn't implement
its own book manage that they crucial
distinction between
struck in the concrete organizing class
so therefore they saw dust masks to
supply over hook man what are the hook
methods for dick mixing the very minimum
at the very least yummy 2x2 cheese
you must be able to return a list of
what is the valid key in your mapping
and I'm going to get items that if you
must supply a mechanism whereby given a
key you can get the corresponding value
nobody else is going to do
similarly if you are doing the rewrite
mapping you should also supply ways to
actually set an item or delete an item
normally you want your mapping to be
initialized you have some work to do at
linearization so you supply a grenade
normally you want it to be copyable so
use a quite common and this is all you
really need
everything else is extremely rich map
interface which is the mapping class
they plan stuff for you they mix in the
video however it does it for you even
rather generic way so if you need
performance you may arrive more and more
methods to you may have sort of course
to see the mental the methods yourself
and not use dick Nixon but it makes it
is nevertheless pretty nice for example
so you don't wanna bother with
implemented passkey well you can avoid
it forgetting it and inherited from
Victor mixer because it will do will try
to get south of key which implicitly
called the gate item and in cases the
key error to return false meaning now he
doesn't have a key otherwise it will
return true note contains the special
method implemented the same way this
would not work optically this would be
too early binding if you instead of the
death contains that return self as key
you have contains equals husky The
Binding of contains will happen right
then and overriding house key would not
change the place in this way if your
override husky contains uses your
overridden this is one example you might
want to override house key for speed if
you have a faster way to check if the
key is one of the keys of your mapping
you don't have to rely on raising an
exception and catching it which isn't
particularly slow it isn't like why
would you want to use decreasing well
for example say you want to chain that
there are multiple mappings in a given
order and you want to put the virtual
read-only mapping which is able to look
up in the first and it's not there in
the second and it stopped during the
third and so on you change given
seekers of victory how do you do that I
mean there's so many things to implement
in the dictionary yes if you want to
make a real complete mapping interface
but you can let use a tactic smitson do
most of the thing for you just to record
to set of mappings when you want it do a
get item loop along of mappings trying
to return the result for each and
northern arrows if you fall through
there is the keys know where we're
secure and for the set of keys we built
it with with a set in in the end we need
to make it equal list that's a formula
it is of course going to be a mess of an
order but as you well know peace doesn't
have the guarantee order dictionaries
are generally hashed somebody's
particularly interested in stage of
strategy for efficient mean working like
something else in some statically type
method you need to use of the creative
methods to allow you need to Americans
to be able or something that looks like
inheritance like in in C++ used exactly
the same syntax to say you're
implementing an interface to say you're
inheriting from a class on in Java used
to different keyboard fillings the
semantics are you now although people
keep wanting it making interface systems
and so on you normally just however we
are still interested in more advanced
physics channel the adoption must rating
design pattern second critical 32,000
and how they separate
the overloading of special methods to be
polymorphic you may see this polymorphic
to a Homburg advanced control of
attribute access and custom descriptor
synthetic process we will not stop this
we've got about six minutes so we don't
really care about the need because this
is a secret to find films productivity
we use duck typing takes a while to
teach the doctor I'm sure she can't
argue with words but so that is for
example let's get right into an example
of advanced control of our changes we
might want to make a class substantial
nobody can add new attributes to it
senses why would that be I have no clue
I have never seen a convincing use case
and yet it is one of the most frequently
asked question in my life
but if somebody could add an attribute
fool
yes and so what I've never been able to
get from anything else to why however
although I cannot know why you want to
use it so restricting attributes price
essentially whenever after all the work
leading to descriptors and so often a
special method that gets called this
expression is said you need to take
responsibility for all the setting of
attributes if you through the vents that
after because it gets called every it
occurs over the name in the very end in
this simple class a itself doesn't
already have the attribute n then it's
an error to try to send it down a wise
we delegate to the superclass I'm not
getting into the super special now of
course this would mind to look a bit
wait a second if we scream blue murder
every time we try to put in an attribute
that wasn't already there how does it
get there in the first place that
catch-22 not remember I mentioned but
has actually does hold the delegation
game so it doesn't have that word
doesn't mean it's in this particular
instance it's in this instance or its
type or any of the basis of the time so
basically any instance the fool has a
crowbar and now see this is not a trick
this is exactly the route of Python Opie
semantics so this actually works and it
avoids all of the issue where they meet
with people
like to use sometimes for the same
purpose which is under Andrews laws
which gets killed by narratives if you
want a class you wish no matter who's
gonna ever be added can you say it's a
sense of - okay and that you didn't
really catch what's happening here it's
not calling this function when you do
the Baba's equal went to exactly because
these are setting them on the class we
know what I said about special methods
are not looked at for specific so
sending something in the class who
doesn't depend on the sadaqa of class
foo but on this attacker of the
metaclass
which are not connected but anyway this
by always systematically looking up
special methods on in the type you get
all these very clear very sharp
semantics the attributes are set by the
Megabus not by fighting what we come on
very classy today so
before you use it become happy but the
point is strong use lots only to save
memory in classes that don't mean
inheritance common behavior don't need
anything but a huge lots of times mr.
Unger anderslost and rounder is a class
attribute which you may define it's a
tuple of names if you do define it
there is no dictionary in the incidence
of that person unless Americans for if
you don't have any narratives if you
don't do anything except they the one
use K is the cost point object I'm Ravis
loss and rounder equal x and y open
paren products come on
that means each instance has the mix and
why and that's it nothing else no
flexibility no behavior you don't forget
in everything forget having inherited
from you just want to have a million
points you you can save 12 bytes per
point it's a substantial saving if you
don't plan to have a million instances
forget but if you are you doing points
than a million instances it's reasonably
realistic they
whenever I talk about advanced
techniques I want to always insert the
slide because it's one of the crucial
principle of programming ain't gonna
need it
so don't prepare these things because in
your mind but don't put them in your
code unless you have a specific use base
wait you really really know okay this is
sort of the reverse it's uh
I like the flip side of France it's the
ability of using a kind of instance as a
module why would you do that well for
example to be able to have constants
which means something different from we
we saw rats which means no new
attributes can be added but the existing
ones can be changed for constant is
rather the existing attributes cannot be
changed into throw you and you can add
and how you do that is again a set after
but in this case the condition for being
an error in sorted order it's an error
to set an attribute whose name is
already baked in France victory but how
do you do that are not module module
some have set up well the answer is you
make an instance of the squares inside
it as if it were a module instead of the
module which define modules second this
is the type of
it's this modules up one more thing
which is sort of doesn't really do very
well there are two ways in which you can
build callable a dynamically by coding
another column over to the fact that
what is very simple into the first thing
what that comes to mind if you've ever
used this for whatever in there is a
lexical post the function is inside of
the function which carry around and use
the essentially an inner function did
not the function can use these arts but
also whatever was here or an object with
an inning and a pole now the point is
that the fortress Factory is simpler and
faster although it will not be what
comes to your mind if you're used to
people's bus or Java where you can like
generate functions at will in fact we
can the key issue is that is an
executable statement there is no such
thing as a declaration that creates
so why do you want to use a corner
instance ever this is one example with
closures you have to forget so fast
there is no such thing again
so you cannot have a base closure in sub
closures for all that many paths this is
for example say you want a surplus for
to use it a plate method design pattern
you can do that but only with a price so
if the class is more powerful and
flexible shouldn't we always use it not
that's not only power up you don't use a
turbo nuclear bomb but to change the fly
now I did mention a couple of times in
the specials come from the tasks and not
from the instance
so how do we build a respeaking wrapper
that fully takes advantage fully cover
specials we build a class on the fly I
the same thing like that class is not a
declaration there's no such thing as
decoration when you run a class
statement to create a new class so we
surpass the restricting wrapper we saw a
few spikes ago and then we knew from the
specials that we are obtaining wealth of
so that is a pretty easy filter I'll
throw in the next slide and then we
define a function of the tree and that
again see for something that I wish that
would be executed each time we step into
the park it's an excuse and we said that
the attribute in the class object and
the means and shake possible
and this is the way you don't restrict
us Nathan on special Skipton engineering
logs get today's that are already know
you know strictly rapper and avoid get
attribute because it wouldn't trip
everything that's okay you never
we are very close to the end of our
object oriented programming is very
handy for instantiation make a blueprint
once and husband e instance for the
blueprint review st. behind er dist
extender the EPA will be professor in
the state be a trade of times we don't
really want we want some of the other
cool things features that of definitive
grounding is that we want get after we
want inheritance we want but you don't
want in something we only want one then
so since we don't want to how many users
with distinct state we can forbid the
same in two different ways we can
predict the main instances and this is a
traditional singleton pattern or much
more effectively we can remove the
distance stay chaining
singleton
mr. Highline there can be only one
that's it
the new special method of the class gets
involved whenever the process
instantiated and may return a new
instance or it may punt and returning
existing and this is what is really if
it isn't always already in teams of the
class then it makes it by delegating the
new today's class and finally it returns
back this is a traditional although
single to design pattern and it was new
in Python it very smoothly from it
however how do you deal with some fancy
it's one of the things you may want for
I mean you don't want it substation but
you still wanna class because for
example inheritance exporters
yes well today that fubar both way who
claims to be a singleton in garbage to
get food well what do you do in this
case because if you make two separate if
F in beer two separate objects it's snv
are two separate objects then for us to
aces because B being an instance of a
subclass is also makes as a fool so
you're breaking the crucial thing that
there must be only one instance of you
if they are the same object what are
they an instance of how can they cannot
be an instance of just food because then
we will not be about they can't be an
instance of our because so might have
multiple subclasses and can be an
instance of all the subclasses class of
trusses can be added this there is no
way out of this logical make singleton
is a flow pattern never kind of nobody
try to do if you care about in every
sense at all
I'm amazed at that
the guy before never notice that they
leave if you really think that replaces
the solution this is narcissistic time
this is not Google's born this is the
old one I think that I named this person
despite before I essentially let there
be as many instances as you just all
share what does it mean to share Spain
well it means to share additional
specifically
let the class have a shared state
initially whenever a new object is asked
for well this makes it all different
problems and then the dictionary of the
new object is replaced with the sheriff
statement
so essentially all instances share the
same instance picture of the possible a
surpassing is no problem because you
decide when the sharing gets broken
things to get a variety but this is what
makes Python so practically it's good
for this because for example bar and
food use the same shared state from war
the bar gets its own share state so it
doesn't share with bar or food there is
a superb article about singleton in one
state by Robert marking carefully
examines all the pluses and minuses of
the singleton in model state and
completely forgets to check whether that
applies to Pfeifer and shows that
they're both a disaster in Java or C++
and both be there is also no way out no
good solution in either geography
philosophy Chinese to the favorite
languages but I invite you to google for
it and check if it's not true that this
little thing here satisfies all the
constraints it's a perfect
implementation of their doings and
unfortunately each time I try to explain
that to guido van rossum the inventor of
Python he runs away screaming but one of
these days of walking he praises his
evil app well resistance is futile</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>