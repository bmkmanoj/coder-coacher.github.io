<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GTAC 2011: How to Hit a Moving Target in the Cloud | Coder Coacher - Coaching Coders</title><meta content="GTAC 2011: How to Hit a Moving Target in the Cloud - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>GTAC 2011: How to Hit a Moving Target in the Cloud</b></h2><h5 class="post__date">2011-10-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Q2fUFSdUq20" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so our next speaker is vishal
Chaudhary we work together at Microsoft
and i gave a talk at gtech when I work
for Microsoft and now I don't just
saying you know be careful be careful
did you sign anything before you okay
never I think you're okay so he's going
to talk about he was in the azure group
and we were really keen to get someone
from the azure group at microsoft at
gtalk this year but then he moved from
azure to ms are on us but we love to
talk too much to hold that against him
so the shelves going to talk about how
to hit a moving target in the cloud off
you go thank you thank you James so did
so today's talk is about how to hit a
moving target in the cloud so first I
want to clarify what's really moving and
what's in the cloud so we talked we
talked about test scenarios where by
it's not really clear what's the goal of
testing it seems that the goal of
testing constantly moves I take an
example a concrete example for machine
translation whereby the translation
output always keeps on changing without
any change in the user input and to tie
it all together it bc we will discuss as
to since the services running in the
cloud how can we leverage that
information to effectively test our
service so the talk is both about the
cloudiness aspects or the fuzziness
aspects of the tests whereby it's not
clear what you want to test and the fact
that the test is running in the cloud so
what what we will go over today what are
the things that expect you to get out of
this talk first is some approaches
whereby you know how do we test things
whereby the output is not strictly
defined and what do you mean by that
let's say you in also use smartphones
and we try to a you know we are typing
an email on our phone and it predicts a
word sometimes it gets it right and
sometime it doesn't
so is that a bug or not so how do you
deal with those kind of things the
second is we will talk about some
challenges about load testing a large
scale web service this is not an
in-depth load in a load testing talk but
I I try to go over some details and and
I want to talk about stress about that
why it is important that we are very
careful about how very why it's
important that we are analyzing how
users are actually using our service and
how can we make our testing better and
also help set product prioritize
priorities through that and last is that
how do you answer the question that are
we done yet in these kind of problems
and taking that final steps you know
most most of the time we are opening
bugs and we are making sure the debugger
get resolved and things like that in
this particular section of the talk I
want us to want to challenge all of us
that can we just go ahead and fix the
bugs you know yes we are tested but can
we go ahead and just fix the bugs and
what kind of what class of problems is
something that we have tried it
successfully finally you know this is
although the talk talks about machine
translation it's it's not intended to
make your machine translation guru I
don't expect you to go and write a
machine translation engine after this
talk at the same time it's not an
in-depth load test Tech Talk ok so
what's Mike what's the Microsoft
translation service it's a statistical
machine translation service what it
means is it's going were millions of
lines of parallel text you think of a
sentence in English hello how are you
doing versus the st. Anselm's it's a
Spanish hola como estas something and
it's trying to figure out what is the
probabilistic model that the phrase in
this particular phrase in English you
know means that particular phrase in
French or Spanish makes its its building
these what we call as translation models
currently our service supports 37
different languages and what it means
that you can translate from any of the
37 source language to any one of the 37
target languages it's so its design of
the hosted services running in the
Microsoft cloud we integrate with a
bunch of Microsoft
like IE office at the same time we also
have an API in that supports popular
formats protocols like rest json soap
and which developers use and build kind
of cool translator apps so wife
translation important so you know I have
this slide whereby you know it as more
and more of us are traveling over the
globe you can find these funny
translations all over and you want to
make sure that you know the right
message is getting across but at the
same time you know this is a funny slide
but I want to give you a really complete
example whereby you know recent recently
there was an unfortunate earthquake hit
Haiti and what happens is as a result of
that people around the globe you know
came in to Haiti to help people out and
say take okay we want to help and the
first thing that you know that they were
kind of blocked with his language that
how I don't understand what this person
is asking from me and within a couple of
weeks we were able to build a machine
translation system just for Haiti
Haitian Creole to English and any other
language and that helped you know
volunteers all over the world to serve
the people better so it has real in real
life saving implications other than
anything of comedy ones so i cant want
to start you know start I would like to
make the talk interactive it's a large
audience so let's see I try to repeat
what you guys said so for a moment don't
worry that we are a GTECH or a test
conference or anything like that and
let's say there is a target that's
moving like anyone who hit this target
what kind of things are coming into your
mind you know what what aspects are you
considering what strategies would you
use to hit this target there's a moving
target yes
ok ok so the up of suggestions for
such try to predict where the target is
moving and secondaries you know maybe
try to control it or fix it and then try
to hit it any any other suggestions
shoot faster ok you shoot faster ok
dandy target ok so you kind of so there
are some it's moving at some speed and
with some velocity light speed and
direction you trying to try to move with
it so you make yourself constant with it
you kind of you know all the target is
movie you also moving the same way so
you book i have both constant in the
field of physics ok use a larger
damnation ok so maybe you know you know
bombarded with you know gazillions of
hours excellent idea by the way nothing
wrong with that i am sorry ok so so kind
of learning right so a suggestion that
just came up with your kind of shooting
one arrow figuring out did you miss or
not and you're learning and then
iteratively working on it get closer ok
ok so any other suggestions ok I'm sorry
move with the target okay so something
that was suggested ok so a lot of
interesting suggestion I would like all
you guys to keep this in mind while we
in a go over the talk and see how we can
apply this thang so let's look at a
typical test case right what would we
typically do let us say if we are
testing a database engine or something
like that what we will do is a test case
will you know create a database on the
table you know insert let's see it
testing insert functionality your insert
and records will query for those same
set of 10 10 records you will make sure
you get back the same thing or not and
you say ok it has passed or fail like
most of the time that's kind of what the
testing we do where we know what's
expected and we validate the actual with
the expected right so let us look at the
translation problem a bit so there is a
sentence in Hindi and I will just say it
loud what it reads this yeh kahan a ke
ke tarike
k and what that means in English is
there are multiple ways to say this
right that's what the sentence
translates to if you think about this
sentence there are actually multiple
ways to say the sentence right you can
say in all of these are valid
translation you can say them anyways to
say there's a number of ways to say this
so now you're the problem that okay now
there are multiple expected outcomes of
the translation and believe me this is
naudi complete set right so you you and
me can come up with a set that is
probably a subset of the entire possible
correct translation so that's one set of
problems so there is you know a larger
set of expected let us say look at
another thing what's constantly
happening is why we are shipping better
code and better translation models the
output of the service keeps on changing
what it means is although I am giving
the same input the transmission output
varies you know release over release
noting that it tested and finally the
translation unfortunately the
translation output is never perfect what
it in this particular scenario the
sentences yay kak and what year the word
yay in Hindi translates to this turns
out the engine returns you that right so
instead of telling you they are multiple
ways to say this the translation output
is the multiple ways to say that is it
do you understand what it's saying to
say yes is it perfect no so how do you
deal with testing a system like that now
before we go into you know testing is
this the only such problem is you know
maybe translation is unique maybe you
know we don't have to deal with anything
else turns out it's not right there are
actually a lot of similar problems out
there look at web search right you are
kind of getting a link of 10 results you
know they kind of change you know
automatic speech in a speech recognition
made very popular by the iphone recently
whereby you're trying and you know my
wife actually got an iphone saying that
I am NOT conversationally enough so she
needs somebody to talk to so
we have please Allah for me at least so
as anything so you know once again you
know automation or a speaker speech
recognition the recommendation engine
that Amazon made very famous and now
it's there all over the place but by
suggesting things for you and it's not
the same right you know look at Maps
whereby somebody is telling you will
reach there in seven minutes okay can
you exactly say it's going to read in
seven minutes in traffic it by take you
12 but no it took me 15 minutes today
says it wrong is that a bug what are we
going to do about it and last but not
the least weather right if you always
will get there whether you know it
sometimes is right sometimes it is wrong
and what's the common thread that is
kind of tying all these kind of
applications are that you are learning
from the past and trying to predict the
future and it is probabilistic it is not
deterministic whether you know exactly
what is going to happen or not and it
can happen to something but you know in
case if you are testing a load balancer
with 500 machines it is going to make a
best guess and send out or request one
of those machines is it going to be the
same every time no because a lot of
factors it is considering while making a
decision like that so there are these
problems that happen throughout having
seen this any suggestions how would you
you know test something like that lets
you have to test you know now if you if
I ask you that hey how do you test this
translation output any factorization yes
ok so the reverse translate I know that
square to come up ok so there was one
physician about reverse translation
anything else this would do better so
you know
okay so you know you translate from A to
B &amp;amp; B to C and maybe you know see
whether she is correct or not I'm sorry
use people okay so absolutely use people
I'm sorry okay so translate it back okay
so you have six training set and what do
you what are you exactly validating with
the training set you kind of is addie
translation output that you validate
yeah yeah
okay okay so the idea suggested was that
you know it's a machine learning system
there's a change in the algorithm and
there is a change in the training data
make something constant I'll take the
last one okay excellent right so you
know use users the priority of
production and see what's happening so I
address some of these concerns at least
some of the points you know the reverse
translation doesn't work necessarily
because you know if we have all learned
probability you know that PA given B is
not the same as P be given a right so if
so it's exactly the same the way the
translation engine working is also
making up taking a probabilistic measure
and the reverse direction doesn't hold
true so you actually notice that when
you translate in a lot of websites which
do interesting stuff there was the thing
about hey that you know maybe we can
keep one of them constant but turns out
in the real life both of them are
changing all the time and it's kind of
hard to figure out when people are
making a lot of tweaks to the engine
freaking you know shoving in a lot of
tweaks to various algorithms at the same
time you are getting larger and larger
data and the last edition retro suggest
is very interesting is that ok hey use
people right because they are the right
that's the only way you do it and you
know and they a day and only people will
be able to give you the right outcome so
the way these things are done at least
is the way we do it here is instead of
an exactness measure I call this degree
of clothes in s measure right so instead
of saying that ok whether a translates
to be you say that ok you know these are
the various correct outcomes of B these
are the various translations that you
are no you know about now let's see and
your translation engine produces an
output so let's see how close it is to
the expected outcome I I take I take
this slide for you from one of
Stanford's NLP courses whereby what is
this doing is it's doing a word error
rate and in terms of speech recognition
when it is trying to identify the words
that you have spoken it looks at that ok
how many words were difference it's kind
of an edit distance my
so we kind of you know if we find out so
it's a degree of closeness measure we
test in a good solution there is we
definitely now track this measure
release / relief and see whether we are
actually improving or not and we tested
across various test sets so what is very
important is what are you testing it
with right just look at the word bit bi
T the word bit to you and me means a
simple this one or zero but you know to
my 16 month old daughter it's a
different world you know she for herb it
means ok I know what bit means so it's
important that you are your your test
data is rich and varied enough so you
can get a sense as to how good of a job
you are doing and finally which is very
important is that do we trust number is
right like if we do a measure like this
it will give you a number of points 6
okay so it will give you that when I
when you ran your translation system
across thousand sentences the eventual
outcome is point six now okay is it good
bad I don't know what is points is
related to what so the interesting thing
there is I give an example of this
sentence let's say I just say right now
that I am NOT going to give all of you a
million dollars right and let's see some
you know you are definitely been doing a
very good job but let's say somebody
starts reading it and brought the knot
and suddenly you read it in your
language that i am going to give
everybody a million dollars so although
i just changed a word which is maybe you
know ten percent indian entire sentence
it completely changed the meaning of the
sentence so you want to rely on the
numbers but you don't want to only rely
on them you and kind of want to do more
you want to make sure that humans are
evaluating a system and i do i I was
kind of debating should I throw in some
some more technical details or not but I
think this is a good talk where I can
this is a good venue when I can and
mostly in moose moose artificial
intelligence kind of systems what
happens is that you are combining this
notion of precision and recall and
trying to come up with a measure what
that means is in your position means
okay ensure that here you are only
giving me good stuff right so for
example I can give you all let's see you
asked me to translate any sentence
can give you all the words in the
vocabulary and I will always get
everything right you don't want to do
that and recall means that you want to
at least give me all translations I just
don't want to give you know one specific
word let's say that 10 were 10 words in
the sentence and I know that this words
definitely translates to that I just
give the output of that that word and I
give you nothing else so I don't want to
be wrong so that's kind of the idea and
there's some metrics like blue what we
use a blue is bilingual evaluation and
meteors and other metrics that kind of
combines these you know concepts and
produces a number out of it having said
that so there was that initial issue of
non-determinism right we didn't really
know how to what to do with it things do
change over releases and how do we deal
with it is that given a specific release
once you log down the algorithms the
only things and the algorithm and the
data then the translation output is
guaranteed to be constant and we kind of
have a baseline make sure that once
things are log down they don't change
and if anything changes it means that
something is broken that's how we deal
with it so finally I want to kind of
what I want to do is close down right
away what what are the things that you
can get out of you know this small
section is that okay make sure when you
have if when you faced with us with a
problem like this you're substituting
exactness you know instead of doing a
double equals you are kind of making a
degree too closely there is a threshold
at your kind of evaluating against if
you have non determinism see you can
break it into a sum of parts and finally
you know don't we want to be data-driven
but numbers are a source of data humans
are another source of data makes you
kind of get both and finally be careful
about what you're testing with right so
we have this so we have the service up
and running so here should we build a
sensation system it's up and running in
the cloud now let's see what happens
right so this is how our service has
been running in the cloud this is data
for the past two years and we have had a
30-percent sorry see thousand percent
you know 30x growth in traffic and the
various colors represent various sources
of traffic in
example you know one color might be
office and other color maybe IE and Bing
and so on and so forth so it's actually
a very good position to be in but also
you kind of look if you just pay a
little bit careful attention you notice
dips whereby people are taking vacations
engineering July and December so very
interesting at the same time when
something let's say right now we have a
Facebook integration and suddenly you
can imagine facebook traffic come into a
service and there is a huge spike in
that source there's this interesting
data points that you get out of it so I
want to kind of so we are going to talk
about load testing this service I just
want to make sure it is our most of us
familiar with these terms or are the new
to you guys okay so moves it looks like
50 persons I one which is at least maybe
talk to a couple of them so capacity is
whereby you're trying to figure out what
is the max yes your system can generate
a can take before kind of falling apart
and in a spike is something that maybe
your system can take 100 users a minute
and you suddenly spiked it to maybe you
know 500 users and for a brief period of
10 minutes and see what happens so so
what's happening here when you're
testing the flow in when you look at
this graph the things are changing all
the time right whatever your so whatever
your service was able to kind of get a
kind of was getting let's say last month
it is getting some percentage more the
factors have changed a lot the way to
translation system works is as you can
imagine if you give a short sentence to
translate it does less work versus a
longer sentence is it going to take more
work there are some languages there are
more complex than others so you know
they will actually although you might
send a ten sentence at ten word english
versus a 10 word maybe spanish things in
it will actually take more time so what
is happening is the different things
things are changing all the time here
your traffic is changing for each
property the percentage of languages you
know what was you know maybe is three
percent spanish to english four percent
English German that both those
percentage just keep on changing and
what we are exactly translating the kind
of data also keeps on changing you are
running the cloud so you know the
infrastructure changes the network
actress
changes machines go up and down you
might you know maybe my kind of add
things and the same time your service is
also changing so everything is changing
on you all the time and now how do you
deal with that so in the interest of
time I'm kind of not going to open this
for question maybe I'll try it for the
last one the way we deal with it is you
know what we kind of we stepped back and
we thought that okay what are the goals
of load testing what exactly are you
trying to get out of it the first is
which is first and foremost is are you
going to be able to sustain traffic in
production are you going to hold up are
you able to fall apart that is most
important the second is are you actually
getting better release over release ok
so if everything remains the same did
you actually improve right I might
actually throw in 10 machines and say
that oh I can now do in a ten percent
more but that you know that doesn't mean
you actually got better maybe you
actually you know degraded and finally
when you get a spike you know
unfortunate incidents happen all the
time you're good or bad for example when
the earthquake inja in japan happened we
saw a huge spike in English to Japanese
and Japanese to English you know
translation both into Japan in and out
out of it so no can you service take
care of that kind of fluid and what we
also do is the kind of t1 our system to
various languages at the same time so
the way we deal with this problem is
these two concepts we are trying to do
we had instead of running a set of load
tests we had we are running multiple
sets of load tests release / release and
this is not a comprehensive this is just
to give you an idea of flavor as to
what's what are the most important
things that are being done so I kind of
move on to this you know the details of
it what we are doing is there's one test
which i call it the same load tests or
think of a test that has the same load
profile so here's where we are testing
that ok let's say we support only these
set of languages and we are trying to
build a test for it so what we do is we
look at the past let's say six months
worth of data and you say that okay
based on the last six months worth of
data this is kind of the percentage
traffic distribution
like then for each of the language
paired what we will do is okay what's in
the average sentence length that gets
translated and then for each of them you
later okay you know sorry average number
of sentences per request because a
request can have multiple sentences and
then for every sentence how many words
in on average number and what we do is
we kind of as a game as was suggested
earlier that we fix something so this
one we fix here we fix our test set we
fix our load test profile and we test
this leaves over delays and we kind of
compare that ok rv4 if everything else
remains the same what that means is if
our machines and our infrastructure
everything remains the same do we get
better or not and we change this
particular profile when you know if any
major infrastructure change happens or
any major architecture change happens or
things like that and what we are looking
for is in things like through port every
time stuff like that and what we but
this doesn't guarantee that your service
will hold in production because maybe
was the last month things change very
dramatically so what we are doing is now
so this is what we have and let's say we
are adding a new language and let's say
it's Hindi and we don't absolutely have
no idea about what in what kind of
percent a distribution that is going to
take so we kind of you know assume
something we make some things are based
on our you know based on a good judgment
from what we have seen in the past and
we adjust everything what we are also
doing at the same time is looking for
all those languages we are looking at
what was their utilization the last
month and we are updating all the data
values and this tests along with the
constant tests which tells us that are
we getting better this is the test that
tells us that can VI if we roll this
release out you know what is the
capacity that we can sustain and will
that hold up in production or not I want
to ask a simple question that you know
let's say we do all this testing in
house and we release it to production do
you think that guarantees that we will
never fail how many of people think that
that guarantees it will never fail it's
good that nobody thinks that way so
you're absolutely right right so we all
know that production is the truth
nothing you know without with your
miniatures
test clusters nothing can be done a lot
has been said about this i'm going to
not going to rehash but the most
important message I want everybody to
get out of monitor that is you make sure
you are constantly looking as to what's
happening to your life system and what
we are doing is we are kind of you know
looking at a large number of statistics
and you know kind of figuring things out
here and just some details about our log
aggregation service so this is the
service that the test team owns in our
team and we are constantly mining the
log data and kind of in a building and
kind of time fig answer those questions
for us some interesting questions that
what is the average sentence length what
is the percentage distribution of
traffic and things like that and things
that we are very conscious that I think
you know that that worked well for us
first is make sure that you don't just
have raw data for wedding what happens
is that I will give a specific example
when the system just starts up things
take things are a little bit slower if
you are searching for the slowest
sentences and if you have not filtered
your data some very knock with once will
show up at the top so you want to make
sure that you're always filtering data
you want to make sure that you know in
this world of you know less than one
millisecond search you want to figure
out what is the best way that you can
give this data to user immediately and
you are always refreshing the data
challenges you know make sure what our
system does is there is no PII
information that we log so if you are
actually translating that my email is we
shall see at microsoft com to french
when we log that we remove the email
address from our system so we can make
sure there is no p I information that
comes to us we have challenges the data
volume we are kind of writing gigabytes
of data a day you can't you don't want
to possibly analyze that what kind of
sampling techniques would you use and
finally you know issues with log format
and how to ensure that your tests aren't
brittle to that as a result of all that
we can answer all these questions and
the point I want to make a cross here is
that these questions not only help
testing but also help address product
priorities right so test is just one
aspect but most important thing is that
ok which language to be
we invest in next and as a tester i can
say that hey this is the language that
has been now getting a lot of traffic
there you have you need to spend some
more time improving the translation
quality so you know these are some of
the things that we learned so you know
we have done all this we have kind of
done a load testing and finally we want
to still make sure that our translation
good or good quality or not now it is a
unique problem right like if you kind of
look at translations probably none of
them is going to be exactly what you
want so the open bunks like I can
possibly open in a gazillion bugs it
will you know people go crazy and public
fired me tomorrow okay this guy is
probably nothing to do at the same time
you want to improve translation quality
so how do you open box how many do you
open and let's say when you're shipping
something when you call it done because
you will never get things like all of
them right so some interesting problems
that we face and what do how do we deal
with them so the first class of tests I
call is you know this general class like
analyst general medicines whereby you
can write thousands and thousands where
by your kind of constantly generating
these stairs just to give an idea about
this let's say there are these sentences
and in each of these sentences there are
these you know 4 sep tember 2010 and
these are factoids lately these are
dates or numbers and things like that
what you can do is you can constantly
generate newer test and test your system
again said what what this has helped us
is find out patterns whereby the engine
performs poorly in translation for
example it might be when you start when
you have any numbers starting it fight
it when the engine completely bars and
gives you a random result so that's one
set of tests another set of tests you
know so that gives you some measure okay
you know what kind of in what how are
you doing a good job or not but there is
another set of interesting test right so
let's say this is the sentence Mitt
Romney move the heads of Rick Perry in
race I can have just got it from the
from the news now when listen you're
translating this sentence to Spanish you
don't want to translate Mitt Romney to
Rick Perry turns out those kind of
things can happen why because since it's
a problem is six
when you when the engine is learning
these things and since mint Romney and
Rick Perry on the same sentence it
doesn't really know you know what what
does Mitt Romney translate to so in
these cases what we do is we have
specific tips you know for you know four
countries languages important people and
make sure that we are translating them
correctly and we have some mechanisms to
fix them maybe not necessarily in code
but somehow fix mechanisms and things
like that finally like are we done right
so we are we ask moonship a new language
can we ship it or not because you know
at some other time we have to answer
that question that okay are we ready the
in-a-day will ask us are we ready can we
ship this and it's a hard question here
because you know there is no such
prioritized list of sentences you know
these are p 0 RP p 1 test cases and we
were executed all of them pass and let's
ship right there is no such thing like
that so what we do is we figure out okay
we have test sets we can have set
thresholds some thresholds we get by
looking at competitive exact competitors
at university systems beginning out that
okay this is how they are that's kind of
the weight that they are doing
translations so you know probably this
is good for us as well we are looking at
our you know various tests you are
special steps making sure that we had
maybe generate you know maybe
translating names correctly and things
like that and finally here what we have
seen is that let's say we find a bug
right let's say we are not translating
this sentence correctly and it is very
important the only way to fix to us that
maybe is to get good training data is so
that your engine learns the correct
translation and we said at okay is it is
it any important for opening a buck for
it how will a bug help a bug doesn't
really help in this case so what we
ended up doing the test team ended up
doing is writing an infrastructure in a
crowd cloud-based whereby we are forming
these sentences out getting back the
good translations and directly feeding
into the engine and in that way we are
kind of directly impacting the quality
of translations and by skipping the you
know the opening of bugs phase in this
particular case so that's kind of the
end of the talk and what I want to do is
you know kind of clothes on things that
we
we started about before about you know
hitting this moving target so you know
somebody said you know use a larger
ammunition lots of Pharaohs so you know
you want to have lots of tests those are
your generic test you know we didn't
talk about okay what does it mean to hit
this are you is this a bull's-eye do you
have to hit that or can hit anywhere
what does it mean really to hit the
target in this case you know what is it
there's no really exact answer see you
know if there's some threshold what is
the cost of missing right let's say you
don't have the cut target for something
maybe it's okay but some things you know
like I am NOT I'm not going to give you
a million-dollar slotto case you have to
kind of figure that out and build that
into your testing and things like you
know spike and things like that so so
that's kind of what you know the talk is
all about
hey visa my name is alia thanks for it
was a beautiful talk so one way of
functional testing like language
translation system systems is obviously
using systems from competitors to like
test Oracle's so have you ever done this
and so first issues I see is that first
google will keep bending you second you
you're not always sure that Google
actually translates correctly right like
like what is the system that's been
around for a couple of years at least so
have you ever done this what challenges
have you faced it was it useful or not
so you know the question is that okay
can you kind of compare can can you
actually use an Oracle can google
translate be an Oracle for Microsoft
translate turns out google translator is
also machine translation system and even
that is not perfect so all our Oracle's
are always human translators so we
always go back to the human translators
and kind of that's where we are getting
our reference translations from when we
are a kind of getting these measures but
what what happens is that in a lot of
you know competitions you know Microsoft
move a lot of university systems will
kind of take part in that and all of us
will be evaluated as to what numbers we
get and we do get a sense as to you know
how Google is doing or you know how for
example USC is doing for that particular
right yeah hang on hang on hang on
that's an interesting topic for me so um
have you tried like as test data did you
like part some dictionaries to get like
golden results yeah so you know i would
love to i think is a very interesting
question and i would love to chat in
detail about it later but dictionaries
you know work for some very limited
translation for limited test case i
forget examples not like this is a
translation is they've got examples of
using words in real life honey like
they've got examples most dictionaries
got examples of real time will word
usage like they've got
all phrase that contains the word yeah
and in the whole translated phrase yeah
well it work did it work yeah so what we
have done is you know if there are
dictionaries like that you know that
those are very valuable and those this
dictionaries actually come in and we
actually use them to learn you know to
build our models so you know so that's
part of our training data so you don't
want to you this actually cares very
important point since these machine
learning systems you have to be very
careful with what you are testing if
there's something that you have already
used up for training you don't want to
use the same for testing otherwise you
end up the same you might try please to
do sanity checks you we absolutely you
do but you don't want to kind of you
know that it's not a good measure you
get very good results yeah okay yes yeah
please sorry my name is nick says nikki
from orbitz i had a question regarding
how you guys were using load testing
specifically in the case where you carry
out you know spike test to understand
you know what your system will do how do
you translate that into actionable
knowledge you know if there is a spike
later on let me see if I understood your
question correctly that so I did it I
did a spike test and how do I use that
in real time that you know how my system
will perform is that right okay so the
the way we do it is that we have you
know we say that okay in the past we
have seen a spike in our system is tuned
let's let me take a very specific
example let's say our system is tuned
for ten percent English to Spanish
traffic and what we have seen is at
spikes and our use that number doubles
okay maybe its twenty percent what we
will do is that either although a system
is tuned for that can be handled that
kind of a spike or if that kind of a
spike happens do we at least degrade
gracefully so those are the things that
we are looking for you know when we are
doing Smike testing and that's and
having done that we are again looking at
production real-time system saying that
okay so this is what we try to simulate
and this is what happened you know what
are we doing better like can we do
better
hi my name is peeyush Patel actually my
question is like how do you do the
accuracy testing under load that's a
very good question so the question is
how do you do a accuracies testing if
Anderson critically testing for the
translation quality under load so what
we try to do is when we are doing our
load tests the bulk of our tests are
doing some sanity translation you know
checks we are kind of testing that you
don't get in empty translations bag you
don't get back things you don't get back
the same the same sentence and things
like that so we are not testing
rigorously for for almost all our load
test let's say you're running late I'm
just taking very simplistic example
let's say I'm running hundred tests you
know in parallel I'm not doing that but
I have a slow running thread which is
actually testing for translation quality
so i have this test that is actually you
know that gets this data recorded it all
this is not doing any quality measure at
that point of time and it's kind of you
know it's logs always data and at the
end of the test there's another system
that picks it up and kind of get this
measure and say that okay you kind of
got the same measure what you did return
without load there was a question here
okay okay sorry my bad okay all right so
John Gomery from you test a question
using crowdsourcing to do basically
close the loop on the quality of it yeah
so how are you taking the context of the
translation in what's being translated
and for what purpose I have to feed back
into your engine I'm sorry I did not get
a lot of the context so the context of
how this translation is going to be used
what type of product is being translated
for web site website purposes so
potentially the language you're using
different words may be used in different
contexts and so the person in the crowd
needs to understand how that word
supposed to be used in order for it to
feedback here absolutely i think so how
do you handle that him yes yeah that's a
very good question so the way we do it
is that i'll give you a specific example
let's say we find a word whereby we
can't we can translate aboard we get a
word which we can't ever translate what
we do is
mine our logs we get real sentences that
user users are trying to translate
containing that word and we present this
that entire sentence to our crowd
community and so that they are not only
getting that word or the phrase but the
entire sentence whereby they can figure
out what is the context of translation
and get back a good translation to us so
you talk a lot about the kind of low
performance spike testing so one of the
problems we've had is how do we
translate our test systems that we can
crash and do bad things to to actually
what our production real system out on
the internet is actually able to handle
because they're not necessarily giving
around the same hardware or tune the
exact same yes yes so you know so the
perennial question of that your test
systems are not the same as products how
do you deal with that so the way the way
we do it is that first of all we you
know we realize that fact that yes they
are not the same we try to we try to do
two things first is we just try to crash
our system right like given you know
given this test bed we just see right
okay can we generate crashes what kind
of scenarios can be generated crashes
and find out what bad things can we do
to the system and we fix and improve you
know we fix and improve on that the
second thing is we do realize that we
can't you know there's something or is
that we cannot cannot simulate in the
test environment and for that we just
are cons depending on the you know once
again be sometimes test in production
but sometimes we are constantly
monitoring in production and kind of
looking at a crash that happened in
production and fixing them so we are
doing a combination of things to kind of
you know fill in this gap so this will
be the last question and then we'll move
on okay so I'll try to make this one a
good one taking a basic example let's
assume you have a very static UI and it
just contains the word hello world
static text yes and you're supporting
three languages yes are you testing that
static string with the three languages
or are you testing with one input and
treating it as an equivalence
class and assume if it works for one
it's going to work for the other two so
static text three languages or X number
of languages and testing each language
for that static text yes good question
so the answer is we test for each
language and I want to make sure that
all of via we can appreciate why the way
this is the translation you know any
such system works is that if let's say
English to French you know does a good
translation that doesn't necessarily
mean English to German will also be good
because it depends as to how you have
built this engine and you build this
engine by Lord you know by draining it
with various sources of data and the
data that we have used to train your
English to French system might be
amazingly good and which you used to
train your English to German might not
be that good so although you might do a
perfect job translating hello word from
English to French you might actually
suck when you do English to German thank
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>