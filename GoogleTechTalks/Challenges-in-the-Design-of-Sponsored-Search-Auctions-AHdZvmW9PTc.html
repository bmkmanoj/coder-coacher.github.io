<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Challenges in the Design of Sponsored Search Auctions | Coder Coacher - Coaching Coders</title><meta content="Challenges in the Design of Sponsored Search Auctions - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Challenges in the Design of Sponsored Search Auctions</b></h2><h5 class="post__date">2007-10-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/AHdZvmW9PTc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">if Nicole are more like at the speaker
today Nicole got her PhD at MIT little
under two years ago although I never
side I've never seen it before my so I
actually I actually had the pleasure of
meeting the Cole at a workshop in Italy
that was a nice place to work the most
so she's gonna speak to us today about
her view of AdWords there's not just
AdWords you know there's also
adcentre okay so I'm gonna be talking
about the challenges in the design of
sponsored search auctions so in 1994 we
saw the first online advertising in
banner ads for Zima and AT&amp;amp;T and they
appeared on hotwire.com they were sold
in paper impressions system and they
were you know quite successful in
bringing the idea of monetization to
online services in 96 we also started to
see some affiliate marketing these are
the ads for like Amazon and CD now and
sites like that where they post ads for
a particular product on a host web page
and then when somebody buys this product
they pay the the Amazon or CD now or
whatever pays some percentage back to
the host web page then finally in 98
goto.com developed the first
pay-per-click advertising systems and
these were ads for text-based ads on
search web pages and they were adopted
by Google in 2002 with some slight
differences in the selling mechanism so
in these systems the advertisers pay
only when the user clicks on their ad
they perform it's some kind of pay for
performance model and it's a middle
ground between the paper impression and
paper acquisition schemes that we had
seen previously in the in the industry
and one nice thing about these pay for
performance models of which pay per
click and pay per acquisition are
are one kind of them is that it provides
incentives for the host to improve the
ad displays because the host only gets
paid when the ad is successful in some
sense so you know as opposed to banner
ads where when users start suffering
from banner blindness as it's called the
host doesn't really care because they're
still getting paid so in these the other
innovation in this scheme was that the
advertisements were sold through an
auction mechanism where advertisers are
bidding on keywords and this had two
huge advantages one is that it allowed
for increased targeting opportunities
because you could specify what sorts of
keywords you wanted to your ad to appear
on but another big benefit here was that
it really made a low barrier to entry
for a lot of the sort of mom-and-pop
shops that we're on the internet so you
have all of these very small businesses
they can't afford to negotiate contracts
for banner advertising with the host
webpages and so the auction mechanism
was quite easy for them to use and they
could start to have online ads as well
so I want to talk about this market
design of the pay-per-click advertising
and in order to do that I want to
introduce to what I assume is a general
framework for what the three major
players in this market are using these
days being Google Yahoo and MSN so we
have a web page let's say let's focus
now in search and so whenever somebody
searches for a keyword we get some
algorithmic search results which appear
underneath the keyword and on the
right-hand side or sometimes underneath
the are above the algorithmic search
results we get some ad slots and it's
these ad slots that are sold through the
auction mechanism I'm going to describe
the rules of the auction as I'm going to
assume them to be for the rest of this
talk through the use of an example I
have here two ad slots and three
advertisers and I say that these three
advertisers are interested in being
shown
along with this keyword and each
advertiser submits to the search engine
the amount that they're willing to pay
for a click that they receive after user
searches for this keyword so in my
example advertiser
a has $10 value per click B has $5 value
per click and C has $50 value per click
additionally each advertiser has an
Associated click-through rate which the
search engine learns it's some parameter
that the search engine learns over time
and I think these days people are
starting to call these quality scores
but basically the click-through rate is
some estimate of the probability at
least the way I'm going to think of it
is it's an estimate of the probability
that this user will click on that ad and
then the search engine takes the bid
times that click-through rate of each
advertiser now this can be interpreted
as the expected bid per impression it's
how much it's worth to the advertiser to
be shown on the search page and it then
allocates the ad space in decreasing
order of this expected bid per
impression so here advertiser B who
actually had the lowest bid per click
anyway has the highest expected bid per
impression and is shown in the first ad
slot advertiser a is shown in the second
ad slot and advertiser C is not shown
because I'm assuming that I had just to
add slots in this search engine page so
now this is the allocation scheme I also
need to in order to specify the
mechanism I need to define the the
pricing scheme so what the search engine
does is some sort of quote-unquote
second price auction and what do I mean
by that I mean that I'm gonna charge
each advertiser
when they receive a click I'm gonna
charge each advertiser the minimum
amount that he would have had to bid to
maintain his position in the ranking so
here for example when I have a click
let's see how much I'm gonna charge
advertiser B when he's clicked on his
closest competitor in the ranking
Advertiser a who has a bid times
click-through rate of 1 and advertisers
B's own click-through rate was 0.5 so by
taking the ratio of these two numbers I
see that so long as B bid at least $2 he
would have maintained his position in
the ranking and therefore I charged him
$2 per click I can similarly calculate
the per click price of advertiser a it
will be $5 an advertiser C is not shown
never clicked on and never charged for
this search at least so this is the
general framework I'm going to explore
in this talk and there are many
challenges that are introduced by this
market design for one we need to think
about what is the right bidding language
for these advertisers so currently we're
asking advertisers how much do you value
each click and you know what's your
maximum budget is this really are these
the questions that we should be asking
should we allow the advertiser to have
more expressivity I learned earlier
today that in Google you're now allowing
advertisers to bid on which slot they
want on the search page so that's an
example of making the bidding language
more expressive and it might enable the
advertisers to more accurately reflect
their true utilities but it also might
introduce complications in the auction
scheme and reduce the transparency of
the auction so it takes a lot of thought
to figure out what is the right bidding
language another interesting question is
what is the right product to sell so
here in the market as I've described it
we're selling clicks that's that's our
product so why should we sell clicks we
had seen before people were selling
impressions and people had been selling
acquisitions should we be selling
impressions or acquisitions or some
combinations of clicks impressions and
acquisitions so this is this is another
thing we need to be thinking about then
we have to think about how how we can
compensate the eyeballs so so far in
this market we've been thinking about
this as a market for advertisers and the
players in this market are the
advertisers and the host websites the
search engines for example but there's a
third player in this market that's
actually
really important to the success of the
market and that's the eyeballs of the
searchers and this is essentially what
we're selling we're kind of if you like
to think of it this way exploiting the
users and making money for us by showing
them these ads and it's not exactly
exploitation because we're giving them
the product you know free web services
as a compensation but is this really the
right compensation should we perhaps
additionally give them some monetary
compensation
finally there's that was the whole point
of the keyword based advertising was
that there's some there's some
assumption that the user is actually
interested in that ad
oh yeah we can make the user more
interested in that ad if we give him
some discount on on the product that he
might buy by following through with the
link imagine for example if you click on
this ad we're going to give you some
coupon for the product at the advertiser
sells this will incentivize the
advertisers to produce more relevant ads
so another thing that I want to think
about is how can we use stochastic
information in the allocation so the
auction framework that I presented is
that every time a keyword comes I run
this auction and this auction is run
blind to the fact that future auctions
will be run for the same keyword or that
past auctions had been run for the same
keyword and in fact search engines have
a very good idea of how many searches
there are for any particular keyword in
any given day from historical data and
shouldn't we be using this information
in a more direct way when we figure out
how to run the auction for each
particular word in fact why are we
running these auctions per word why
don't we run them at the beginning of
the day and sell all the supply we have
in an offline setting and we all know
that offline algorithms are much more
efficient than online algorithms so
understanding how to use stochastic
information Alec
is also related to the idea that we can
try to introduce mechanisms that
guarantee the supply for the advertisers
so we can sell an advertiser like a
hundred clicks and we can guarantee that
he'll get a hundred clicks and if we
under allocate to him the number of
clicks we promised we can try to
reimburse him and this more directly
mimics the systems in in place for
banner advertising and it also could be
attractive to advertisers as a way of
eliminating risk so I'm not sure that
this is the right direction to go per se
but it's an interesting thing to think
about finally so these are all just
vague ideas that I've had about this
market design and I mean many other
people have had about this market design
the things I want to talk about in more
detail today are the issue of click
fraud and the complications that arise
from the fact that advertisers have
budget constraints so let me start with
click fraud click buy what do I mean by
click fraud that's the act of clicking
on an ad with the sole intent of
increasing or decreasing the spending of
an advertiser and it's been in the media
a lot and it's clearly a serious problem
with these pay-per-click systems why is
it a problem with pay-per-click systems
an advertiser is charged only when a
user clicks his ad and so a fraudulent
user may click on ads just to increase
the spending of an advertisers and since
each click costs on the order of $1 of
course this figure varies a lot across
keywords but $1 is a sort of typical
cost this means that 1 million
fraudulent clicks are going to cost the
advertiser 1 million dollars and it's
very easy to generate a million
fraudulent clicks you can write a simple
script I'm sure anyone in this room
could go home over the weekend and write
a simple script to go out and click on
ads you don't have to be smart to do
this as evidenced by the second bullet
here that the California man wrote some
simple script to click on ads and told
Google that they should show up in his
garage and pay him a million
or he was going to release the script
and so at the appointed time the FBI
showed up in his garage and arrested him
and it's also true that scripting is not
the only way to generate click-fraud
it's becoming increasingly common to see
that companies hiring people in second
and third world countries typically
India and Eastern Europe to just sit at
home and click on ads and this is a
great source of income for them since
the ads cost the advertisers about $1
these people when I was doing this
literature search they were being paid
about 20 cents per click to go click on
an ad spend 90 seconds on the target
website looking around at the product
that the advertiser was selling and they
were happy to do this they could sit at
home do this with their kids on their
lap so you know it's there's a lot of
click fraud that's being generated how
can we hope to combat this fraud
currently the one main technique for
doing this at least we assume so in the
academic literature is through machine
learning so we automatically try to
detect and discount frauds and this
could be you know double-checked by
humans and so on these techniques are
you know somewhat successful but there
have possibly high classification error
and they're also quite susceptible to
the India model attack because it's
rather difficult to distinguish between
a human committing fraud and a human
that's really shopping online it's
possible but they look pretty similar
another proposal for reducing click
fraud that's been talked about a lot in
the literature is to change the market
model this is really an issue with the
fact that we're selling clicks so why
are we selling clicks why don't we sell
her impression maybe we can still keep
some of the benefits of the per click
models on selling per impression if we
say do it with along with an auction
also we could sell on Goodman proposed
in the sponsored search workshop in 2005
selling per percentage so you can buy
100% of the keywords for blah as should
show your ad or save 50% of the keywords
you're gonna your ad will be shown so
while these models do reduce the
possibility of fraud they are a
departure from a developed industry
standard and are likely to be met with
resistance by the advertisers then they
also lose some of the benefits of the
developed industry standard so in a
recent paper what we did was we tried to
come up with a way to reduce click fraud
by changing the way that the auction is
run sort of behind the scenes and the
reason that we had some hope of doing
this is the following observation that
each fraudulent click it occurs a
short-term loss which is due to the cost
of the click but it also gives you a
long-term benefit because it increases
the search engines estimate of the
click-through rate and the price of
future clicks is inversely proportional
to the click-through rate so what we do
is we propose a class of CTR learning
algorithms in which these effects cancel
and thereby click-fraud is reduced to
impression fraud you can't cost an
advertiser more than you could cost him
by creating false impressions in an
impression based system so in order to
explain this work in more detail let me
first define what I mean by a CTR
learning algorithm there's many ways you
could imagine estimating the probability
that an ad receives a click you can look
in the history the last 100 times you
hundred hours you know count the number
of times that you showed this ad and
count the number of times that you
showed this ad and it got it click and
take the ratio of these two numbers you
could look at the last 100 impressions
and look at the number of times that
this ad received a click divide that by
a hundred you could look at the
100 clicks count how many impressions
did it take for the ad to receive these
100 clicks and take 100 over that number
okay so these are just three examples of
learning algorithms you can come up with
many more yourself I'm sure in order to
define a general class of which these
three learning algorithms are examples
let me introduce some notation I'm going
to label the impressions starting with
the most recent by 1 2 up to n and I'm
gonna let Ti be the amount of time that
elapsed after impression I see I is the
number of clicks that were received
after impression I and X I is an
indicator variable that the I impression
got a click okay so then I will say an
algorithm is a CTR learning algorithm if
it's parameterize by some discounting
function delta which is a function of
these three parameters the time since
the last impression the number of clicks
sense the last impression and I and the
CTR learning algorithm is simply the
weighted average over the impressions of
the number of clicks okay so in this
formula here you see that I can use it
to express all the three learning
algorithms I proposed in the previous
slide the averaging over a fixed time
window you just simply sent the set this
discounting function to be zero after
the time T I is larger than your time
window T and you can check that the
other two algorithms can be in caps
represented with this kind of formula so
the first observation is that for
appropriate parameters all three of
these algorithms estimate the true
click-through rate to within an
arbitrary accuracy on a random sequence
of clicks generated from a constant CTR
okay so if we have a scenario without
fraud let's assume that the true
click-through rate the true probability
that a receives a click is constant if I
have a long enough sequence of random
experiments in which I'm showing this ad
and this probability of receiving a
click is constant all three of these
algorithms are going to be able to
estimate this true probability and when
the that happens the system behaves
exactly like a paper impression system
which is what we want so this brings up
the question does that mean that all of
these algorithms are equally resistant
to fraud and in order to answer that
question I first have to tell you what
do I mean by fraud when do I say an
algorithm is fraud resistant I say an
algorithm is fraud resistant if a
scammer cannot significantly increase
the average price per impression of an
advertiser in a scenario with fraud as
compared to a scenario without fraud
okay
this is intuitively what I mean for the
exact parameters of what significantly
is and things like this you can look at
the paper basically what I mean is that
what I'm going to assume in the rest of
this talk is that I have just one slot
with a reserve price P okay and I'm not
considering the kind of fraud that
causes an advertiser to fall off this
slot I'm always gonna I have just one
advertiser it's always going to be shown
in this slot can I generate a sequence
of clicks on this advertiser to increase
his price per impression beyond the P
and so the answer is that no not all
algorithms are equally resistant to
fraud in order to see that you can this
is just going to be a sketch of an idea
of how to scan the following algorithm
that advert averages over the last 10
impressions when there's no fraud we
convert you know each of these
impressions to a click represented by a
green line with some constant
probability and the estimated CTR
according to this algorithm is going to
be
but a scammer can come along and insert
a bunch of fraud uniformly at random
represented by red lines here and inch
bursts he's going to convert parts of
this fraud to cliques and parts of it
he's not going to do the click and this
is gonna this bursty behavior is going
to cause the estimate of the CTR to vary
over time if you use this basic
intuition and do the math you'll see
that this is going to cause the
advertiser to actually spend more money
per impression than he did in the
scenario without fraud this is for that
particular algorithm that was averaging
over the last ten impressions I'm gonna
say that an algorithm is click based
if this discounting function Delta
depends only on the number of clicks
after impression I that that variable I
was calling C sub I and what we proved
in the paper in wine 2005 is that click
based algorithms are fraud resistant so
the proof is by a charging argument and
I think I'll skip the proof and we can
come back to it if we have time at the
end of the talk and you're interested in
actually seeing the math details but let
me for now one more last thing I wanted
to say about the click fraud work is
that it gives you a way to try to
implement a paper acquisition system you
know in a manner that incentivizes
advertisers to truthfully report their
acquisitions we can define an
acquisition rate of an advertiser yeah
does it say that the advertiser doesn't
have to pay more on episodes where there
we're not large line clicks due to the
effect of the clicks on estimates that
click-through rate or does it also
include the cost of actual fraudulent
clicks you see there there are two
possible sources so the the thing is
that you don't pay more per impression
in a scenario with fraud than without
fraud but in the scenarios with fraud
there are more impressions and yes you
so you're gonna pay more because of this
factor but that's exactly what I mean by
saying that it's reduced reducing click
fraud to impression fraud you're not
going to be able to cause the advertiser
more expenditure than if you had been
selling per impression and the guy was
creating impression fraud does that make
sense
so we can use these techniques to
develop a paper acquisition system where
advertisers have an acquisition rate we
rank advertisers in order of their
acquisition rate times their bid per
acquisition and we learn the acquisition
rate using an acquisition based I guess
it would be 80 our learning algorithm so
exactly everything I've just said now
about clicks you can say about
acquisitions so if there are no more
questions about the click based work
I'll move on to the budgets work you
still seem suspicious
for an idea after all so if you come an
impression is any time there was an
opportunity to click on a man yes so my
impression I mean the appearance of an
ad and it can be both an impression and
the click if the impression convert it
to a click I'm looking at one scenario I
have one history in which was generated
according to this random process where
ads were clicked on with some fixed
probability and then I'm allowing a
scammer to come along and insert extra
impressions which he can then either
click on or not click on so this is
going to create extra impressions I mean
you saw this in this example here yeah
impressions cost so I'm thinking that
the click-through rates are on the order
of 1% so and the cost per click is on
the order of $1 so impressions costs
kind of like 1 cent so you can't for
example pay someone 20 cents to create
false impressions that's one reason that
it's a scammer that creates a 1%
increase in the number of impressions
which would result in 1% increase in the
cost if you were paying for
pression but clicks on all of them and
so that would double the number oh but
he clicks on all of them the cost per
click is going to become very cheap for
the advertiser because the estimate of
the click-through rate is going to
skyrocket and this is we're capitalizing
on this to prove that in some systems if
you learn the click-through rate
appropriately you're going to track the
fluctuations at exactly the right rate
in order to discount the fraud so let me
move on to the bidding with budget
constraints work so let's talk about
budget constraints advertisers have a
utility VI per click and for per click
per keyword let's let's just focus on
one keyword for this definition okay so
I they have a utility of VI per click
and they have a hard budget constraint
bi on the amount they can spend in one
day and what does this really mean in
terms of the utility of the advertiser
the happiness of the advertiser for his
allocation in price what I'm assuming it
means is that if the advertiser receives
J clicks and his price is P his utility
is going to be J times his value per
click minus P so long as this price P is
less than his budget constraint but if
the price P exceeds his budget
constraint his utility is going to be
minus infinity okay and of course I can
generalize this to multiple keywords
sunny now I is the advertiser so how can
I design an auction setting for bidders
with budget constraints a very standard
technique in auction theory for
designing a truthful auction is called
the VCG mechanism this mechanism chooses
the allocation which maximizes the
social welfare the social welfare is
simply the total value that all the
bidders have for the allocation okay so
in this case if you want to maximize the
total value of all bidders for the
Kayson you should simply give all clicks
to the bidder with the maximum value
this would be the welfare maximizing
solution but by individual rationality
we can charge each bidder at most his
budget constraint otherwise he's going
to walk away from our auction with
infinite negative utility and this means
that the VCG auction in this case is not
truthful because you can just if this
was that your auction give all the units
to the person with the highest value and
charge them at most there budget
constraint you of course would come in
and you would say your value is infinite
and your budget is zero and you're going
to get all the clicks this is not very
surprising because VCG is truthful
precisely when the utility functions are
quasi linear which means that the
they're linear in this price parameter
and you'll notice that this utility
function is not linear in this price
parameter because when the price just
exceeds be the utility jumps to minus
infinity so we could try to circumvent
this problem a natural way to do that
would be to Kathie welfare of a bidder
to be his budget constraints so if your
value is you know infinity but your
budget is zero I'm not going to allow
you to have more than a zero welfare
Freight that allocation and again this
modified algorithm modified VCG I call
it is not truthful even if the budgets
are public knowledge so let's go through
the example here I have two bidders
bidder one has value of ten dollars for
one each of these objects that has a
budget constraint of ten dollars and bid
or two as a value of one dollar for each
of these objects and a budget constraint
of ten dollars now according to this
modified definition of welfare the
welfare maximizing solution is to give
one unit to bidder one and one unit to
bitter two this gives you a total
welfare of eleven dollars the sum of the
valuations of the bidders for this
allocation is $11 I haven't told you how
VCG computes the prices but if you were
to compute the prices you would
that the payment of bitter one is $1 in
bitter to a zero dollars and thus the
utility of bitter one in this scenario
is nine dollars now if we change this
setup and bitter one just lies about his
value and says his value is actually
five dollars instead of ten dollars
now the welfare maximizing solution will
give both units two bitter one for a
total welfare of ten dollars and again
you can calculate the payments and see
that the payment would be two dollars
and thus his utility is $18 which is
more than it was in the previous setting
so he has an incentive to lie here and
this begs the question if there is any
truthful mechanism for bidders with
budget constraints maybe you know this
was just the wrong mechanism in fact we
can show that there is no truthful
mechanism which satisfies three
properties that are you can argue about
how reasonable they are but there are
things that you might want to assume
about a mechanism I don't want to go
into detail about what they mean here
but this so this is a pretty strong
negative result we can also give a
accompanying positive result which is a
truthful auction which maximizes the
revenue by breaking some of those
natural assumptions let me tell you what
the mechanism is it splits the bidders
randomly into two groups a and B and it
computes the optimal price PA of selling
at most half the units to the bidders in
a and its again similarly computes a
price P B which sells at most half the
units two bidders and B so what do I
mean by optimal price I mean if you were
gonna sell all these units at a fixed
price what price would you set in order
to maximize your revenue okay so here I
have to find these two prices PA and PB
and I'm going to sell my units at a
price of PA to the bidders in B and in a
price of PB to the bidders in a so you
can't affect your the price that you're
offered by changing your bid and
furthermore I'm going to sell these
units
in a arbitrary order two bidders so I'm
gonna I'm gonna offer say Kevin you know
here's the price how many units do you
want and I'm just gonna go around the
room in order and sell the unit's
however many units each person wants at
this fixed price until the units are all
gone okay so you can't affect how many
units you'll be offered by your bid
either therefore the mechanism is
truthful why is it not satisfactory well
first let me state the result the
mechanism is truthful and it generates
close to the optimal posted price
revenue so if you were gonna sell all mu
Mnet's to all the bidders and you knew
all their valuations and you didn't have
to worry about truthfulness how much
money could you make at a fixed price
that's what I call opt and this
mechanism gets close to that opt so long
as the maximum budget of any particular
bidder is small okay what is not
satisfactory about this mechanism is
that you can't guarantee any allocation
even by increasing your bid it could be
that you're you know last in the lineup
and everybody else by their fixed bids
are winning particular amounts such that
by the time the auction gets to you
there are no units left over and even if
you're bidding infinity you're not going
to win anything and this is this is
violating the first of those assumptions
I said in the last slides consumer
sovereignty yeah it also violates some
other things but this this is one very
negative property of this algorithm
another thing that's kind of frustrating
so this is a very common technique in
auction design that's no random sampling
it's called
another frustrating thing about these
algorithms is they usually are dual
priced and they offer one price to half
the people and another price to the
other half of the people and
psychologically that kind of pisses off
people in the half that's getting the
bit bigger price so that
this is going to be some parameter
epsilon in the in the probability that
the mechanism generates this revenue I
don't remember the exact relationship
you have a market in which there are
only two suppliers that is a survival
assumption two suppliers no this is an
assumption about the like the bidders
budgets right so the question is is is
it reasonable to assume that you know
you can that I'm not giving you all your
revenue if you have just one company
like say eBay that's contributing half
the revenue of AdWords that's a problem
for this mechanism but if all of your
players in the market are pretty small
they don't know no single person has too
much power this is a theorem is going to
go through and the reason that you need
something like this is because if I have
you know a very high value in a very
high budget and every pair to everybody
else the optimal posted price mechanism
is going to be able to extract all of my
budget because it knows I can't lie to
it right
optimal posted price would be to charge
me my value and get all of my budget but
truthfully you can't hope to do that
because clearly I could always pretend
to be much smaller than I am so you need
something like this and all of these
random sampling auctions have some
assumption that has this kind of flavor
that's not why I don't I mean I think
that's a reasonable assumption I don't
think that's why it's not used in
practice for some markets it could be
that there's just very few people
actually interested in purchasing that
budget for or a given advertiser may
actually be fairly close to the total
you need to use these in markets where
there's a lot of demand and fixed supply
okay so that those previous slides
demonstrated that there's a lot of
complication and actually designing the
auction when bidders have budget
constraints there's a lot of things we
need to take into consideration
there's also budget constraints imposed
some complications on the bidders how
they should bid and to see this let's
think about the system that I presented
at the beginning of the talk how butter
bidders with budgets should behave in
these AdWords style systems so I have
two keywords one is popular and that
there are a lot of searches for it
everyday and another is not so popular
there some searches but not not too many
and for the popular keyword there's a
lot of advertisers with unlimited
budgets and utility of $1.00 that are
interested in that keyword I also have
another advertiser the yellow dot here
which is interested in both the popular
and the not so popular keyword and has a
budget constraint of $500 and a utility
of $2 for either of these keywords now
when I just have everybody be truthfully
in the system what's gonna happen well
every time the popular keyword is shown
the budget constrained advertiser is
gonna win the auction let's assume the
click-through rates are all equal the
budget constraint advertiser is gonna
win the auction because he has a higher
utility than the unlimited budget
advertisers and so he's gonna win the
auction and he's gonna pay $1 every time
and he's gonna quickly run through his
budget this makes him unhappy on the
other hand if he were to pretend that he
is not interested in the popular keyword
he's going to win the not so popular
keyword and there's no competitors for
that keyword so he's going to just pay
the reserve price and he's going to
exist throughout the whole day
he's going to be much happier and
actually so with the search
in this case because we're still making
revenue on the popular keyword as well
as the unpopular keyword so how should
an advertiser bid for the keywords when
he's given his budget constraint what
what should you do this is a discrete
separable resource allocation problem
which is well studied in the o.r
literature the resource here being the
budget of the advertiser and if we know
the price of each slot for each page
then this problem becomes a
generalization of knapsack okay so if I
know the price of every slot for every
keyword then what I'm trying to do is
I'm trying to choose at most one
instantiation of each object for my
knapsack the objects here being the
keywords and I'm trying to choose a
price level for that keyword such that
the sum of the prices fits in my
knapsack the knapsack being my budget
constraint and my value is maximized so
a lot of papers in the literature have
looked at this interpretation of bidding
in auctions with budget constraints with
various assumptions about the knowledge
of the advertiser and the dependencies
between the keywords and the arrival
sequence of keywords oftentimes such
bidding here as sticks are not good
enough because they're not fast enough
that could be one reason and another
reason is that the advertisers often
don't have all the information that
these algorithms would assume of them
for example they often have only local
information about the prices of various
slots on various keywords they know the
price of the slots near them perhaps but
not all the slots so as a result it
makes sense to study some simpler
bidding heuristics and here I propose
one natural bidding heuristic called the
return on investment equalizing return
on investment what what do I mean by
this well the return on and
is defined to be the ratio of the
utility that you get from an ad divided
by its cost that's that's the return on
investment and the heuristic is if your
budget is limited you should try to
equalize the return on investment of all
your ads if you're overspending your
budget you should reduce your bid on the
ad which has the lowest return on
investment there by moving your ad down
to a lower slot and increasing the
return on investment for that ad if
you're under spending you should
increase your bid up to it most your
utility of course for the ad that's
giving you the best return on investment
by increasing your bid you're gonna move
up to a higher slot and thereby increase
the price of that ad and decrease the
ROI let's track that's starting to
equalize it across all your ads okay so
this is the heuristic it's a pretty
natural heuristic you see when you talk
to at least people at iProspect and
other SEMS they say that they're using
things similar to this oh I also wanted
to mention that this is very similar to
the two approximation for the knapsack
algorithm in fact if all of the ads had
just one slot you would be exactly
running the two approximation to the
knapsack other algorithm except that in
the two approximation at the last step
you sometimes add the ad with the
highest value instead of taking the
prefix ordering here we're just taking
the prefix ordering for those of you
that know the to approximation for a
knapsack anyway so I was saying that
SCMS
seem to be using this algorithm it's
natural for advertisers to try and use
this algorithm
therefore we should worry about the
equilibrium when everybody is using this
algorithm the system equilibrium for
example you know ad center wants to
offer this as an optimization tool and
many bidders are going to use this tool
and what's gonna be the result when
everybody's using this tool what are the
prices going to converge to or will they
cycle endlessly with allocations cycle
endlessly you know are we going to lose
all our revenue if we do these
optimizations for the advertisers or
advertisers are doing these
optimizations themself
uh one bad news is that there are
examples that don't convert here's one
such example I have two bidders okay and
I have one item and these bidders are
budget constraint and on day one bitter
one it's slightly more than bitter - at
the end of the day bitter one has
overspent her budget and Bator two has
under spent her budget because bitter
one was winning all of these adds up to
the end of the day okay when when they
ran out of budget so bitter - was
winning very few ads at the end of the
day and so on the next day bitter one
according to this algorithm this
heuristic is going to decrease her bid
and bitter - is going to increase his
bid and so they're gonna change places
and now on day two we're gonna see the
same behavior so we're gonna get this
alternation where the bids move up and
down throughout the day and the
allocations also move from bitter one to
bid or two on even in odd days
respectively so this causes cycling in
the bidding behavior and cycling
patterns have been observed according to
some of the papers in the literature
this is a paper of Shang 2006 from a
history of a keyword on Yahoo and you
can see when I enlarge that box there
that the bids do seem to cycle in the
according to the data that this person
had access to there are many many
reasons for this cycling and I'm not
trying to say that this explanation that
I gave is the sole cause of the cycling
but it might be contributing to it and
such cycling is bad it introduces
uncertainty for the advertisers and they
don't like it and what we show is yeah
the colors are different sometimes this
is I mean each of these is a different
bit I don't know what the timescale is
the x-axis is the change in the bid
within one allocation of pleasure yeah
I don't have access to this data this is
from Yahoo and this is what I
interpreted from that paper but it could
be you could try to ask Sheng instead of
me so one thing we observe in a paper in
this upcoming dub-dub-dub is that in a
perturbed first price auction this is
not going to happen we can prove this
this is a theorem in our paper that if
you allow the mechanism the auctioneer
when you take in the bids what you do is
you randomly decrease each bid by this
very small amount okay and then we're
gonna run the same sort of auction I was
describing at the beginning of the talk
except instead of charging an advertiser
the minimum amount he should pay to
maintain his position in the ranking I'm
gonna charge him exactly his bid his
perturbs bid so why is this a good idea
well if two bids are very close as in
that example I was giving you where the
bids were we're cycling on even and odd
days then the lower bid still has some
chance of winning so we're gonna smooth
the allocation or centrally we're
letting the two bidders share the
keyword when their bids are very close
we should be giving half of the
appearances of the keywords one
advertiser and half to the other also
this perturbation idea is very useful
for a solution for spiteful bidding a
spiteful bidding is scenarios in which
an advertiser tries to pit just under
the bid of the guy above him in order to
cause him to spend his budget very fast
but now if you try to do such a thing
you have some chance of winning the
object at a price that's too expensive
for you so in general I think
perturbations are a good thing in
auction design and probably actually
because of the CTR parameter you're
actually are doing some kind of random
perturbation in your auction I'm not
sure exactly what you're doing but I
wouldn't be surprised if you're
effectively perturbing the bids because
of some other parts of your auction
design so we have this result for first
price auctions we also are able to
simulate what's going on in second price
auctions and see that
again the prices and allocation seem to
converge to the market equilibrium for a
second price auction but we aren't able
to prove that and that's one interesting
thing so here's the simulation for that
simple example I was mentioning in the
previous slide where I have two bidders
and one keyword and each bidder has a
fixed budget of $500 and a price a value
of $1 per unit and there's a thousand
units coming per day okay as I explained
in the example you can see from the blue
dots that the when we don't have
perturbations the bidders each increase
their bid to about 0.5 at that moment
they're starting to run out of budget
and so they alternate the allocation on
even and odd days and this graph shows
you the bid level of one of the
advertisers it's the same for both
advertisers on the other hand when I use
perturbation both of the advertisers
will increase their bid to $1 and that's
their value so they don't increase it
beyond that and they're not running out
of budget when they're bidding at $1
because they're sharing the keyword more
or less equally among each other because
I've leased random perturbations
so both the allocation has stabilized
and the revenue of the auctioneer has
doubled in this instance so this was
just a you know contrived example this
graph here is trying to get at the fact
that this contrived example is not so
rare here we have if I recall correctly
10 advertisers 20 keywords one slot per
keyword each advertiser is interested in
each keyword with probability 1/3 they
have values drawn uniformly between 0 &amp;amp;
1 further keyword and they have budget
constraints which follow some kind of
power law distribution and when we run
the perturbed auctions represented by
the X's and the black X's and
pink stars we see that the efficiency of
the auction stabilizes over time on the
other hand if we run the first certain
second price auctions without the
perturbations those are the red diamonds
and the blue circles we see that on even
in odd days the allocation completely
changes so it might look to you like
there's two lines here for the red
diamonds and the blue circles in fact
there's only one but it's just
zig zagging on even in odd days and this
is because the allocation is switching
on even in odd days and the advertisers
on one of those days have higher value
for the allocation than on the other
finally we have here's we looked at the
convergence properties of our algorithms
what do I mean by convergence I'm
looking in that same scenario I
described simulations setup I described
in the last slide I'm running the
auction for 300 days and I'm looking at
how many advertisers actually ended up
spending close to all of their budget
and staying in the auction too close to
the end of the day okay and in the first
price auction and second price auction
without perturbations in many of the
cases not very many advertisers
converged but in the when we perturb the
auctions we see that almost all the
times all ten advertisers converge so I
see I'm already over time but let me
just try to wrap up a little bit first
about online advertising
I think this markets very interesting
and it's still evolving I mean it's
still quite new actually if you think
about it and started really in sort of
98 2000 as the market evolves we're
gonna see more targeted and highly
fragmented sales
so each eyeball is going to become
almost unique and we're gonna have to
figure out how to price these very
unique eyeballs we're going to see
increased connections between various me
types we're gonna see connections
between what you watch on TiVo and what
your advertised advertisements you see
on your search engine and what what you
read on your Gmail and so on
there's going to be new revenue sources
for online advertising we've already
seen YouTube starting to introduce
online advertising in video games
there's a whole big sort of push for
getting some sort of online advertising
when you're saying a car race game the
billboards you see are some kind of sold
through some kind of online auction
system and also we'll see new sorts of
allocation problems maybe we can sell
ads with particular lengths instead of
just one one block per ad you can buy
some number of lines of text I just
wanted to briefly mention some of my
other research in case any of you get a
chance to talk to me and want to ask
questions about it one thing I'm very
interested in is social networks and
I've done some work on the evolution of
social networks and the diffusion of
information and technology in these
networks I'm also quite interested in
matching markets and you Almon in people
I guess saw me talk about the Nashville
residency matching program a few years
ago there's many more matching markets
that are being studied these days
there's the kidney exchange where if you
have a donor for a kidney that's failing
that doesn't match your blood type you
can try to exchange your donors kidney
for some other donors kidney that might
match your blood type and also you know
Adsense for example is some kind of
matching program at its heart because
you're trying to match advertisers and
websites so I've done a lot of work on
incentive properties and matching
markets and also on the use of
stochastic information in these markets
and finally some thing I'm very
interested in these days are secretary
problems this is the or hiring problems
this is how do you hire the best
employee when you need to make your
decision online
so these problems have a lot of
connections to online auctions and
they're also just interesting online
decision problems in their own right so
I've studied these also with the
motivation of bidding in add options
that has in mind I think that's all I
have so I can take any questions</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>