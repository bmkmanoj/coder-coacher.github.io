<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>GTAC 2016: What's in your Wallet? | Coder Coacher - Coaching Coders</title><meta content="GTAC 2016: What's in your Wallet? - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>GTAC 2016: What's in your Wallet?</b></h2><h5 class="post__date">2016-12-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SF7F26E7l1I" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright welcome back let's get back on
track with our talks one announcement if
you are a speaker to go up to the audio
stand in the back to get mic'd up before
your presentation so if you see your
presentation coming up and go on back to
the audio team back there and get mic'd
up so that you're ready to go before
you're ready to go onstage and with that
we're going to start now with human
darling look at that and he's going to
tell us if they continually loop the
samuel l jackson commercial in their
office all time
hello everybody can y'all hear me
alright alright so my name is Muhammad
Ali and i'm from capital one and i'm
here to talk about what's in your wallet
and that's the name of my talk right so
a little bit of background about me I
went to school in Germany and a drank a
lot of beer and I while I'm drinking we
also got my master's degree and robotics
and automation and I worked for nokia
research and department in Germany Spain
and Finland for four years writing a
games apps and mobile phones primarily
acted as a Java developer and i moved to
the state's maybe 10 years ago started
being couple of consulting gigs as test
framework automation architect and all
that in seven years ago I started
joining working with capital one and
I've been with capital one ever since
so my current job at Capital One is that
works team lead building frameworks new
tools infrastructure cloud controls in
CA CD pipelines all the DevOps work that
in capital one death
i meanwhile in it and I'm part of small
business and create car technology
department in capital one and working
for a technology company like apple on a
loan me to do lots of cool things and
that's one of the reasons why with
capital one
so how many of you have heard about
capital one
alright still there some hands so i'm
going to take the help of my friend to
introduce you guys to one of our primary
business in capital one so let's take it
i'm going to make this simple as
possible for you can go ahead and stick
with that complicated credit card that
limits where you earn bonus cash back or
you can get the Quicksilver card from
capital one
quiksilver earns you unlimited 1.5 as
they cash back on every purchase every
where I shouldn't have to ask what's in
your world everything some schooling
that comes out of that guy's mark so and
you know as you can see we are one of
the primary credit card company so just
give you guys a quick glance of for
company
let's get to the important stuff first
we are the proud sponsor for orange ball
it's a you know annual school football
playoffs sponsoring game and we also
happen to be a leading diversified bank
with billions of dollars of assets low
and sand deposits so and also one of the
foot largest credit card issuer in the
states and this is the department at
work for and the third-largest small
business credit card consumers in the
state and issuers in the state and also
one of the biggest Derek banks with lots
of deposits and most importantly we have
around 70 million customers and 45,000
associates and also you know a fortune
500 company so let's take a quick look
at that you know since we have 70
million customers i want to have a quick
look at the what's the in general what
is the preferred banking method
for you know the consumers out here so
as you can see internet and mobile
banking has taken our every other
banking method put together all right
and also there is another observation
where the other mobile users has very
well suppressed the web users and this
is the future right so users are
spending more time in the mobile phones
then you know sitting at home checking
the desktop browsers and all that stuff
ok and so now i want to ask you all the
question what's really in your wallet so
the answer is the mobile phone right so
good so the mobile phones are replacing
you know your wallet so ten years ago I
remember carrying this big wallet i used
to have a fat you know everywhere build
up right when I keep my wallet and then
I it's not getting thinner and thinner
right and these days I don't really take
my wallet everywhere just my driver's
license and my phone i pay with my phone
and you know i do almost of the
transactions with the form so with that
said you know capital one has also
started the you know going into this
journey of you know becoming which the
company also we are building lots of
cool products that provides amazing
digital customer experience so primarily
we're building web apps and native apps
and all the cool stuff so we want to
make sure the customer preferred
channels we take a good look at them and
start willing all this stuff
alright so having said that for today's
stock i'll be focusing on how we saw the
you know
test automation problem in the mobile
devices for web applications so i'm
going to pick one of the applications
that we most of our customers access a
credit card online application and what
did we do and also want to share what
did we do to accelerate our delivery
pipeline
ok so to get little with deeper into our
in
the problem statement we do have a
web-based application where we have
millions and millions of customers they
use our website the login and then do
lots of transactions payments and all
that stuff right
so for their test automation we have
lots of opportunity so the number one is
like every other company we go through
the testing pyramid and all the school
things but we started using for the
mobile devices especially at first we
started heavily using simulators and
emulators and later after some point of
time the device list start growing and
we started observing defects in you know
some defect leakage like for example you
know the real devices we can see the
defects and the simulators we couldn't
catch them
I mean those are minor things but for a
bank it's a big deal so to give you guys
one example we found out for one of the
browser you know android versions we had
the table button with world lab with
another button and it's very important
being a financial institutions you know
make sure you have everything the
realistic you know useful for other
customer right and so because of that we
have to do lots of from you know the
real device testing right and that we
increase the scope of the real lives
real device death and also while we're
doing it
we had an opportunity to increase the
automated test coverage where we have to
write more tests but again
well increasing their device numbers we
had an opportunity to you know how we
can also run the tests on a automated
develops pipeline you know as we heard
from the keynote Dino immediate feedback
is very important for any company on the
test that you run and stuff
ok and also you know faster also right
not only running the tests and the
continuous you know there are spy plane
you know faster text execution is also
important and also quality delivery to
production on an hourly basis is also
you know that's where we want to get
into like we were like in a monthly
really schedule where the testing used
to be a great big deal like we you know
we have like bunch of devices all kinds
of testing manual testing and automated
testing so it's everything there so we
thought of you know finding a good
solution to first address our you know
the biggest pain problem where our
automation testing the mobile devices is
taking a lot of time and so what we do
this up so we looked around like every
other company we didn't don't want to
build you know something new and you
know be out of so we started exploring
for open source tool so we love open
source and also we like to contribute
back
so what we do this we put together a
high-level framework so the application
that we have is a java-based application
and that all the customers in online the
access the application so what we did
was you know we added some more in depth
to our test automation so we want in
cucumber for behavioral tests for
functional so we for all the our tests
we added converter java for the
functional tests and for the layout test
we started using gallon so in case if
you guys don't know everything is open
source gallon is an open source for
responsive web design test an outlet and
like we started using appium to run the
tests in you know android and iOS and
all that so most importantly we
categorized our test in two different
capabilities for example if I'm giving
the same example is the online
application where customers are
releasing the credit card where for
example icon summaries 1 capital D right
so i have all the layout and functional
test act together in one single
capability so i get to run the test I
cover everything for one capability and
I run that in multiple devices
and also for reporting purpose we want
to make sure we get a good visibility to
the test reports like the functional
test report earlier test reporters there
are many options to get the reports in
HTML our JSON and all that you know just
for the easy sec we picked up the hits
the multiple generation so we when you
run the tests you you covered those two
parallely the functional layout test for
single capability and the test results
you get into hitched EML files and to
give you guys more in depth of the you
know the hybrid framework we have the
functional test I don't have to explain
much but i'll just go high level so we
are using cucumber java relating the
functional is nothing but victim or gave
us a capability to write more behavior
test like you know for a product owner
for everybody we can own the main intent
of you know the application behavior and
all that
examples like scheduling a payment you
know checking their messages or
confirmation messages the basic
functionality and also the layout has
this really helped us a lot we didn't
have this before we started using the
you know our existing job our tests we
added more tests to write layout test
using gallon and basically we welded
visual and display aspects of the page
and also display the location of buttons
and menus in a page so as I said that we
are financially student and every bit of
layout is important to us including the
button including the color of the button
right and we take quality engineering
very seriously inside the capital one
and also the location of buttons and
menus and responsive design and
appearance of table button or card image
and all that stuff so let me get a
high-level example for example you know
I have
to display a card maybe a venture card
customer the locks into capital one
account and actually made size is
different from the expected to mid-sized
so what galindez the layer test does is
it does the pixel comparison where you
can see the difference the comparison
map the gallon does that and then gives
you a nice report and even the HTML
report you can see the screenshots and
everything and also just you know
another way of looking into is like
header so no capital one header the
local need to be centerline and all that
so so this is an example of you know how
we do the layout is and all that so what
I did is I put together a quick demo to
show you guys sound how we do the test
and it's like a 23 minutes quick video
I'm going to show you a quick demo video
and running test cases family by hooking
up real devices on Mac machine so for
the demonstration purpose i'm just using
the single desks and where i'm going to
use so imagine they're using one mac
with to android tablet android device
phone are attached i'm using every cell
phone emulator for it's like just a
reflection of the real fun in here so
whatever you guys in see here the real
phone so let's play the video please
alright so this is the hybrid framework
I spoke to you guys about gallon
cucumber and you know the tap test case
that you have is the functional test
case in the cucumber format where I want
to skin you live payment on a mobile
form so and i specify the mobile phone
test case and report i want to get
mobile report successfully it will do
submitting a payment where you know
these are the steps i want to take in
for my test and you know given the user
clicks into that count locks and you
know all the good stuff and makes the
payment successfully so this is a
functional test case on a mobile phone i
have a tablet to so this is a gallant s0
I have a make a payment button i want to
make sure the button is visible it
belongs to the font size and all the
buttons specifications and also the
title of the page header is not
exceeding 200 pixels so let me pick up
the test so for the demonstration
purposes are we are running the tests
family and what you see the real device
you know popping up the real devices in
there has been a Screen emulator so huh
again in the real world after all this
we used you know Jenkins to do all that
stuff i'm gonna share that later so we
kicked off the tests it will start to a
PM sessions and these are the two are
devices that I spoke the world doesn't
really hooked up to their real Mac
machine so when these android tablet and
the other one is a and write down phone
so for the test I as you guys can see
I'm just making sure users table is able
to submit their payment successfully so
you're able to login go to payment
screen so this is an icon summary page
and you go to the payment screen and
some me a payment so it does run the
test family and also it is validating
but the layout and the functional test
family so that tests are completed on
the tablet and the tests are getting
completed on the other device
alright looks like the tests are
completed so we have forwarded ports as
i said so for the mobile browser so for
the mobile the all the green cucumber
test report HTML everything is passing
you can see the test executions and also
for the tablets passing so now i'm going
to show you the preview button test case
it passed for you know it in a review
what makes display the same in both the
devices i don't think- desk case to
check the header size i gave the actual
header size as a tablet header size the
test case failed for the mobile phone
because the header size smaller than a
comeback tablet and that's basically the
failure and now for the tablet device
you can see the test being passed all
right so it does the pixel comparison
and i'll let stuff
ok now let's get back to the slides
please so what we do this you know we so
the basic framework whatever you guys
saw what we did this internally we set
up a private way the cloud device lab so
we set up our we will in our own in
front structure and tools and everything
so we thought that restful api to do a
p.m device management I can't go too
many details into it but again it should
be simple if you guys can have you know
a cloud and run when do all the you know
devices so we set up a device lab where
users can access the devices were chili
and run the test and also we added a
bunch of servers and devices that can
connect to each other and everything so
you know with this type of framework we
were able to run more test cases and and
also run family faster and everything so
we have everything ready so and one
other little piece that's missing is how
how can we get into you know accelerated
delivery pipeline right we're running
the tests but there is no good way of
checking the test results and making
some decisions so
so while you know we have the DevOps
best practices inside the capital one BB
lower pipeline so this is for example
your test running in a pipeline right so
it is very strong right so all the tests
are passing you can go into production
so if I plan is like this i'll go into
production every hour right and if you
see something like that i would ask you
do you want to go into production so so
what we do what we also built together
isn't an internal tool inside the
capital one to visualize the the
software delivery pipeline so what this
does is be named as hygeia the name of
the help
goddess or something goddess of help I
got it right so what it does is it uses
the real time are you know the feedback
for all the tests that you are running
and all that in one single dashboard
ok so and again in the software delivery
we have many tools by we are using
Jenkins but there is no good way of
seeing the test results in one single
dashboard so this is how it looks and
against all mark data right since we
have a bank we can share what we have
inside so i tried to populate with all
the mock data as much as i can so this
is however you know DevOps dashboard
looks like so what it has to do a little
background on how this is built we do
have set of collectors that extract data
from all the types of tools and see if
the data and no sequel database and we
also build set of rest a ps2 exposure
the expose the data from the database
and the UI application that you guys are
seeing here and it's a you know a
java-based application where written in
JavaScript and this caused the recipe is
to fetch the fresh data so you know the
tracking the health of the software
delivery pipeline is you know you can
see the entire so the view that you guys
are seeing here is a feature view right
so in the extreme left of the feature
where you can see
you can plug in the General Washington
the stories that you have right so for
example feature I'm developing a feature
click on summary i will have all the
stories and requirements lined up in
that which I can configure it by General
Washington whatever tool you have and
also there is a portrait portrait that
you see downstairs it so you can hook up
the gatekeeper subversion one
information so it's all about
configuring you don't have to do too
much of heavy lifting
if you just install this in like three
different steps you can just you know
configure this tool and quadrupole you
can see the number of code commits
birthday and everything by just plugging
in your getting information it just had
to extract the data from the all the
backend systems and the bill right so we
use that we all user I mean for us
because Jenkins jobs and you can we all
get the good be of the and the bill
views by hooking up the Jenkins
information for all the bills and also
the quality which is really really
important for us we made this widget
flexible where we can hook up any tests
that you run for example sonar right for
the unit test violations and i'll let
you can see that over there
the phone are violations and also for
security scans if you have any security
test study running and HP 4500 whatever
tool you use you get to use that that
you know the hitch the details in here
hook it up there and also if you're
running cucumber java commerce selenium
any functional steps in here you can
populate it here and also if you're
running any performance tests also you
can just you know configurator here and
also most importantly the deploy aspect
of it is what I like is where I i see
teams going and beating up the you know
the you know the people who are not
regret so all the green stuff is good so
we mainly focus on the red stuff so for
the reply is you can be configured to
Jenkins or maybe if you are using you to
apply it can be configured as well right
so let me show you that so since I spoke
about the mobile test case that we can't
let me show you how our test cases are
populated inside the hygeia so i'm going
to focus on you know the functional
tests so we can public enable jit so I
picked the functional tests which it i
configured all the tests that I'm
running in Jenkins pipeline in here and
you can run many times you know you can
throw in any test cases you want you can
configure any devices you want so for us
we run almost for every release for a
major critical releases we run around
for 213 number of devices to make sure
our applications are working properly so
for functional test upon we can do the
names tablet for s4 and all that
whatever you want to do right so and
also the good feature in our dashboard
days you know you can hold over so all
the data you see here it doesn't end
here you can over to any other point and
then you will get more detailed story so
for example i have the person ages you
see their hundred percent test pass
ok so that's the s pass percentage so
how great force past hundred persons in
case if I am curious to know how my test
cases are passing i can click on it and
then i can expand the test i can see the
features inside the test and also there
is another expand but if you do that you
can see the steps involved in the SS was
so without even looking into different
tools and all that you know this
dashboard gave us a good visibility to
you know to check all our tests and also
since I showed the past cases let's
speak going up the bad advice here the
forty percent the ipad tests are failing
so let's see why they're failing so if
you click on it you will see the you
know the forty percent test cases that
were they
and if you can expand it you can see
more details on you know the features
that were run for that test and also you
can see more details if you click on the
view test job on the water-type the top
corner you will get the details of your
Jenkins job and everything so it's a
very can be found it very useful and
again with this good consultative you
everything that are responsible for
building things they don't have to check
in like in 10 or 15 systems and then see
what is failing and what this so this
gave us a good visibility to make
real-time positions and you don't have
to ask people they can just look and see
if they're ready for production right
and also there is another view to the
dashboard that we built it's a product
of you where you can see the entire
software delivery pipeline from coming
to the production so you know get based
on the feature you know a program team
are you know a product owner can take a
look at it and see how much time it's
taking me to go into production and the
greens are all the good things and
writes all the bad things so you can
hold over check more details and you
know and go through each and everything
and also the best part of this which i
really like is the pipeline help where
you see the 80 percentage for the tetris
project that we have you can see 1892
and 43 if you can hold over it will give
you more and more details on you know
how is the pipeline healthy-looking and
everything ok so if you all I see some
of you taking pictures and stuff so i'll
save you some time
so our cups dashboard is open source so
you can seamlessly still listen get up
so and you know and it wasn't
thank you so again this is the hard work
from lots of the wops engineers in
capital one and this is what we do on a
day-to-day basis solve problems and
that's why I'm the camp alone for seven
years so you can download this
configuration if you have questions you
can just post it and we are very very
good response even answering so there's
some issues out there so you know you
can be contributing and talking to us
and all that so with that being said I
shared two things that we are doing
internally one is how we solve the
problem of mobile device test automation
and also how we dashboard everything
that we are running in a software
delivery pipeline I and that's it guys
any questions thank you thank you
alright we can go to questions i
actually have one question more setting
up do they
capital one just give you a whole bunch
of test accounts filled with millions of
dollars on or at map good that's wells
fargo sorry oh hey easy just the jokes
no but to answer your question I belong
to small business right
I regenerate the virtual test data for
just you know for fun sake I can
configure millions of dollars play
around with it
we call them high spending account so we
really have people with a lot of money
that is not modeling my behavior
let's see if I can refresh any question
from the room I don't know when you're
sorry let me get the microphone over to
do and also we are getting the
microphone how two people from my team
and fortunate to have my guys here with
me and today you guys can hit them up
with questions not only me and they were
part of these projects as well sell feel
free
so how's ur build pipeline change if
there's a braking incident and you need
to like push the product as quickly as
possible because i saw there was a
committed to label all the others up
some wondering how to circumnavigate
that or like to run the different set of
tests like totally yeah so that's a good
question so yeah if everything is green
we don't have to talk about it right so
there is a red that's where you go and
click that and see what type of test we
have so primarily those are not high
practically test cases right so we make
an informed decision like can we go is
it safe to go into production based on
what we see on the number of failures
are are sometimes when we run the tests
in the clearances right we can be run
the high-priority tests in like maybe 10
times a day
low battery test like three times a day
right so based on the type of guests we
run then based on what we see in the
dash would be make that call and again
every product is different and also we
look into the aspect
soft you know how much of it and the
customer impact really town right so
right what security testing tools do you
use for android device Android devices
security testing tools that so for the
android devices we do have internal
security tools so we have you know we
have some security scans that we do and
we use a variety of tests and again
45 is one of them and there's lots of
internal we built some internal security
tools as well by mixing two or three
open-source products
ok I think we have time for one more how
much value do you actually get from
pixel comparison test versus flakiness
alright that's really tough and good
question
so the pixel comparison test is very
important for us because whatever we
display we don't want to display some
other product right and again if a
customer is making a payment and they're
paying pick me
the buttons to be green right i'm just
giving some examples so if the color of
the button is grayed out most of the
times they are not able to you know hit
that button or something
so there is this customer mindset when
you know when they see a different color
they think it's great out and they will
not even do some transaction it right so
for us that's very important and again
the flakiness it happens everywhere we
have to deal with the same way how
Google this we you know sometimes we
record as well to see I'm here who are
writing the test to just get along with
that and also sometimes we do code
reviews and all the best practices that
are out there
fantastic thank you I thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>