<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Google IPv6 Conference 2008: IPv6 and the DNS | Coder Coacher - Coaching Coders</title><meta content="Google IPv6 Conference 2008: IPv6 and the DNS - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Google IPv6 Conference 2008: IPv6 and the DNS</b></h2><h5 class="post__date">2008-03-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8iIngiGqjrA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">as program says I'd like to talk very
briefly about DNS in the context of all
the discussion so far about v6 in the
future of the internet I should explain
the expression rebuilding the airplane
in flight is sort of common around our
shop to talk about any major technology
transition because that's often what it
ends up looking a little bit like is
making sure you don't break any you're
supposed to make everything better but
you're not supposed to break anything
which is inevitably quite the challenge
I'd like to first introduce real briefly
is C and myself is C is a non-profit we
produce production quality
implementations open source software of
network infrastructure protocols
principally dns and dhcp we do have a
dhcp that's v6 compatible thanks to
funding from comcast we're very proud of
that but here are mostly to talk about
dns and v6 compatibility for dns for me
i joined i see in 2002 most of my job
now is business development I also spend
a lot of my time on public policy work
with Aaron and I can and I look a lot at
the policy pieces of making ipv6 happen
and I have to say that I've become
increasingly convinced that really only
operators can do it all the politicians
can do is wait for us to screw it up so
the fundamentals of DNS and what it
means to you briefly everybody's
familiar with it everybody uses it every
day as a little surprised to see DNS
called an application because I've been
doing this long enough that I think of
it as infrastructure technically DNS is
a protocol for managing updates and look
up to a database that's widely
distributed loosely consistent loosely
coherent
supports a whole bunch of different
record types and data operationally it's
how people get to your content and if it
breaks a lot of other things stop the
pieces of DNS that are involved with
ipv6 there's really two pieces and
they're separate which isn't always
obvious there's the process of
publishing an ipv6 address to correspond
to a name that's referred to as a quad a
record it's just another name in a DNS
zone it's a resource record you can
query for the other separate piece is v6
transport and that's what we've been
talking about all day has does the host
talk v6 to something that's listening
there's behavior that it still takes an
expert to understand or predict as far
as some of the details of a dress
selection gating translation typically a
name server with v6 transport will
answer on the same interface the query
came from it's important to remember
that the authoritative server for a zone
has some control over which address
records to send and not much else so
most of what has to happen for DNS to
work is as decentralized as all that
Deanna's as sorry as internet
architecture has become and for all of
the reasons we've been talking about all
day is limited control in the hands of
the authority server maintainer for
managing v6 aspects so v6 availability
of Danis names the route will have quad
I records published for the servers
prepared to answer queries over v6
transport on I believe the data store
away forth
many of the tlds have quad a records
some registrar's are beginning to
support quad a records for names lower
down the DNS tree so if your hosts are
reachable by v6 transport ad qua days to
your zone and you're done right you
really are asleep not quite and we've
been really talking about this all day
but in the DNS context specifically
other routes to over v6 transport are
their routes back from you to your query
source over v6 transport how good are
they a whole bunch of tunnels linked
over routes provision by people that are
still experimenting is of uncertain
quality and it's very very difficult to
tell from where you're sitting as a
content provider of DNS or anything else
how good is the path to you how good is
the path back what a clients do with
hosted with v4 and v6 host records when
they have both there's a lot of ways for
this to become pathological that you
again have no direct control over for
that reason RFC 3901 which is a very
brief bcp on provisioning DNS in a mixed
world basically recommends don't plan on
doing v6 only anytime soon do v4 or do
dual stack but make sure you are not
trying to field production service based
on name servers that are only v6
reachable and add the quah days after
you're sure you know what you're doing I
was asked specifically to talk a little
bit about as kind of a case study the
root name server we operate known as f
root why it matters and what exactly
we're doing to provision v6 service
so I actually came in here this morning
thinking it was four but actually it's
six of the root servers will have qua
days in the root those operators are
verisign is C wide the US Army Research
Lab and the ripe NCC so they're they're
the pioneers and we'll see we'll see how
that works out dns has been one of the
things people mentioned as an obstacle
to v6 only networks or to high-quality
mix networks so frankly we're about to
take that excuse away from them you know
we don't expect many will use the
service at first but we do believe in
the long term here and it's not going to
get any easier if we wait longer so
before we could deploy v6 service for
the route there are a number of issues
to consider some of them are specific to
DNS some of them specific to the root
and the fact that if you change things
in the root and something breaks people
like me and people like David Conrad in
the back there get yelled at a lot
because everybody in the room notices
the entire planet notices without going
too deep into DNS protocol you know
specific concerns um there are a number
of questions to be reviewed first before
recommending qua days and the route the
analysis is documented in a report from
the icon root server Advisory Committee
and the security and stability advisory
committee without these included
primarily backwards compatibility with
clients that wouldn't recognize a quad a
record and some concerns with the size
of the list of root name servers
including names and glue has packed into
a DNS reply packet and you know we can
go into as much detail you know if
somebody has specific questions but it's
basically backwards compatibility and
making sure that people that are before
only I'm going to be v4 only
forever don't have problems because
we've added qua days for the root
nameservers for us as an operator we had
all the obvious set of concerns post
provisioning connectivity for production
service connectivity for troubleshooting
and administration and security because
as somebody pointed out earlier today
the bad guys are early adopters they're
they're thinking of bad things to do
with v6 before most of the world has
even heard of v6 so we have all the
standard security concerns that we have
with any high-profile important
infrastructure service and we fully
expect people to invent new ones
operationally we learned you know quite
some time ago that we buy a lot of good
things by using any cast and it's part
of our plan for doing v6 without
breaking anything the word means
different things to different people but
here's what it means to us as operators
all anycast is is injection of the same
route into the routing table from
multiple separate points identical
content topologically this is identical
to a single well connected site what
this adds is redundancy d das resistance
it allows us to contain attacks it also
adds troubleshooting complexity you know
the trade-off has been well more than
worth it but there there are some real
issues and it does it does raise the bar
a bit
the way ISC does any cast on a fruit a
number of the root servers actually
deploy any cast everybody's architecture
is slightly different we think of that
as a good thing because everybody has a
slightly different set of resources
slightly different set of preferences
about how they do their provisioning and
management and so on and the more
different ways we have of doing this
within good practice the less likely it
is that one set of bad guys will be able
to do a bad thing to all of us at once
the way I assy does it is a two-tiered
model and we actually have a tech note
that you can find from our website that
goes into detail about the routing
protocols and the how we set this up but
we have a couple of very well-connected
global nodes and those are major
facilities multiple transit providers
lots of peers where places like packs
and am 6 and a whole bunch of local
nodes that are in exchange points and
major kolos that we primarily interact
by BGP Perry the routes are propagated
now export this improves latency for
local clients this has enabled us to
really spread a lot of benefit and a lot
of improve the service to large areas of
the world that have good connectivity
within their own area without
necessarily having good connectivity
back to us so this is actually allowed
us to improve the quality of the service
dramatically and turns out in some
degree to be very suitable as islands of
ipv6 spread so it's kind of a bonus so
how are we doing v6 without breaking
anything besides very carefully
v6 transit on our global nodes is as
good as we can make it we've got
multiple providers to each location
we've got a lot of services within the
same facilities some of which we've been
making available over v6 for longer and
for wider user bases then we expect with
the route at first we've got a dedicated
address block from Aaron and we're
rolling out the local nodes as
capabilities become available all our
hosts are dual stack capable we're
adding v6 peering as available in some
places the invitation to appear with a
root server is the first excuse people
have had to turn up v6 at appearing
point and we're sincerely hoping to see
more of that we're sincerely hoping to
be a driver of at least people
experimenting and trying out v6
connectivity in the usefulness of these
six connectivity in some places we won't
we won't do the production service
without native connectivity which is
easier with the local nodes because it's
we just have to peer in some places
we're resorting to tunnels for
administrative access in some places we
only have before administrative access
so where are we starting from day one
and beyond we've got native v6 transit
to our global sites 15 out of our 38 if
I counted right on our website this
morning 15 of our local sites will offer
v6 service more details about that at F
dirt service org we will initially be
able to log complete query data for
future research we have no way of
telling how long that'll be feasible I
hope it stops being infeasible sometime
before I retire but this is a historic
opportunity to really watch a major
technology transition from the get-go
you know there's a whole bunch of data
we don't have about what it looked like
when we
deployed the v4 internet that it would
be kind of nice to have about what it's
going to what it's going to look like as
we deploy the v6 internet we know for
all the reasons we've already talked
about that this is not going to be
perfect we'll probably find problems and
make compromises with v6 service
initially that we don't make with before
service will get phone calls will have
trouble shooting to do with people that
never had to spell qua day before in
some cases it's possible that things are
going to get worse before they get
better to some extent is a non-profit we
we've justified going ahead with this in
a way that some commercial guys can't we
are here for the greater good and it's
got to be done and we believe strongly
that waiting is only going to make it
harder so we are ready with production
service and it'll be really interesting
to see how it goes and I think I'm
almost out of time so we can do
questions now or later this is something
could be taken offline but let me just
ask I'm always happy to gossip about
danny's sure how about Oh gossip about
the ICANN board I haven't heard a thing
since I step to him um that's okay but
we don't lagging important if you're a
resolver and you're sitting in an
environment where you have both v6 and
v4 capability and somebody hands you a
DNS query and you're going to go off to
do something let's suppose for the sake
of argument that you are going to a v6
root server one of yours so you launch
this this query in v6 carried by v6 and
you get back a response that leads you
to think that you need to go to another
server alia but it happens to be one
that only responds with v4 so are the
resolver is the resolver software
already known to understand that it may
need to switch back and forth between v4
and v6
transport because not all of the servers
will necessarily be capable of both
flavors we don't we don't start the
process out by saying it's all going to
be v6 because the first query was v6 do
we know we don't each specific court was
right engine and it has to do it and
that's going to be determined by the
address selection on the source of the
query rather than the data content of
any response it gets what you hope is
going to happen is the resolvers going
to c quoi de zen A's or it's just going
to cas and say okay okay query over
before thank you people will find a way
to break this just because I oh I'm sure
they will they don't worry we're looking
forward to it no okay thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>