<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Searching and Mining Open Source Code from the Web | Coder Coacher - Coaching Coders</title><meta content="Searching and Mining Open Source Code from the Web - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Searching and Mining Open Source Code from the Web</b></h2><h5 class="post__date">2008-06-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/18ZCKl9NySs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right next to like to welcome taozi
he's going to talk about mining open
source code saying strong I'm going to
talk about our recent research on
searching and mine in open source code
from the web this is joining work with
my students graduate student for North
Carolina State University
let me first give you some motivation
our of our research so to reduce soft
determine cause and many programmers
I'll be using some api's provided by Sun
library or frameworks why enjoying the
benefits of reducing the development
efforts at the same time they face the
complexity and the lack of documentation
of these frameworks or libraries they
therefore they spend a lot of time in
like browsing the documentation if they
have any or the source code
implementation the figure out how to use
the AP is provided by these frameworks
or libraries and some in some situation
they might even like I have defects in
the code that they wrote of using the
api's of these existing libraries and
frameworks the basic idea to adjust
these issues is to look at these
existing API client codes available from
the web and then discover the common
patterns as kind of a guidelines for the
programmers to write new API Chronicle
to reduce these api's or to detect the
defects that may potentially exists in
the API gronckle written by the
programmers to summarize the key ideas
in one slide it's kind of a really
simple basically given a particular code
entity for example a class or particular
public methods or API method provided by
the class and then we formulate a curie
with the name of this API method for
example and then we issue this curie to
an existing code search engine such as a
google search and then we collect a
relatively large number of the code
examples that might include the call
size of this particular API method then
we do some analysis to collect the basic
facts about this API usage from these
code examples and finally we apply some
data mining techniques to discover the
common patterns that may exist among
these code examples of using this
particular API of inches if we are
focused on cold use or helping people to
drive API client code more efficiently
then we can recommend the common
patterns together with associated code
examples to the programmers if we focus
on the task of defect detection then we
can detect the violations of the mind
patterns of the API usage as the
potential defect for the programmers to
look at actually in recent years there
have been a lot of work on applying data
mining on software engineering data for
example those data in the sofa durrin
environments one problem with existing
data mining minus of engine data work or
especially on applying data mining on
source code is that they may not have
enough relevant important data point for
you to discover this kind of common API
patterns that I earlier mentioned you
may apply the data mining techniques on
a very hublot base like linux or eclipse
in java but for a particular API of
injured the usage the locations of using
this aps might not exist on even very
logical base so that's a key issue for
data mining as you may know are having
sufficient relevant data point it's very
important for you to get good results
out of data mining so in our new
research we kind of exploit the power of
the existing code search engine to
expand the mining scope to the whole
open source world basically depending on
how the underlying code search engine
can deal with the
a different kind of a code repository
available on the web then after we
gather the results and then we can apply
some mining techniques on the gedit code
examples from the web and then we
discover the patterns as I mentioned we
can use these discover patterns in color
use or in defect detection in particular
our approach and our center around the
search in infrastructure which basically
is based on the existing code search
engines such as google search and then
based on the information we gather and
we apply different mining techniques or
together with different program nash's
techniques we can help us to rye api
client code to implement certain
programming tasks we implemented tools
called a password for Java programs we
also apply these kind of techniques in
fighting defects in applications for
example we develop a tool called nag web
inviting those negative conditions in
the code that you have written in
reducing certain API for summer you
might forget about checking the
arguments values or checking return
values of certain API when you try to
reduce certain API we also develop a
tool called ex wet which is used to
detect some defects related to exception
handling basically for example if you
are you are reading certain database
content and you have encounters and
exceptions then when after you encounter
the exception you need to close the
database or some other resources that
early on you open so these kind of
defects have are very common in practice
later on I will show some of our results
on detecting these kind of defects in
open source world now let me first focus
on the the central part of our approach
the search in infrastructure which is
based on existing code search engines
there are several are kind of well-known
code search engines are very
in the internet they can index million
lines of open source code available from
the web or even billion logical such as
Google search some other example concert
engines like codebase Khoda Khan Kruger
com basically for many of these existing
code search engine they can search these
open source projects hosted on some
well-known open source repository such
as a sourceforge.net and and some other
open source web sites and google code
search can even like using is underline
like searching techniques to crawl and
index a public available code repository
that you actually like you put on your
website I mean it the code repository
might not be within sourceforge but if
you put on your website google code
search can can search an index the code
samples inside the holy poultry put on
as i mentioned earlier when you have
certain api you want to see like whether
there's an existing code example that
might be relevant to your programming
task then you issue securely with the
name of the API and give this Curie to
the existing code search engine but not
every returns co example might be
relevant to you i would give you some
examples on some senior ends of
searching google code search and the
code the next one is on the Kruegers com
this is very example you just try to see
okay whether you can vice an existing
code example relate to our use in f open
which is kind of well known api many co
search and you can allow you to specify
the language of the the co you want to
search for example for google search you
can specify in your puri like the
languages see and you want to search f
open and then you can
get like a very large number results and
we basically menu look at the top 20 to
see how many of these are actually are
using f open function in the cove we
found that only two out of 20 but this
existing code search engine can provide
more complicated interface for you to
refine or improve your Curie's in order
to get more relevant examples here we
can use another more complicated regular
expression basically saying that it's
languages see the finder extension see
and you have f open and then here
basically saying that you you had the
blanket so I left and right hand side to
match which indicates like the match
location would be likely to be a
function call instead of just a variable
name so that can improve significantly
of the search results for krueger calm
we can also do some similar search with
some curious I in the interface it
actually can allow you to have some men
you to specify whether you are searching
in C so and then you enter f open in the
Curie text box and then you can get also
large number of the code examples back
again like just using this default
search in keywords you will have very
few number of the examples in the top 20
example written by crew goes to be
relevant but google.com has this kind of
configuration to allow you to search
only the like the function call have
that kind of an option to help you to
improve your search then we select a
particular feature and then in the end
they also get very good results similar
to google com google co such but still
there's an irrelevant code samples and
here are just listen of the reasons for
the irrelevant examples returned by
these co search engines depending on
whether you in
neighbor those advanced features are
provided by different co search engine
when you search f open sun function
definition microf open not necessary
function call some variable name may
include f open some co comments are my
include open not necessary the actual
call site and we step particular are
like a very complicated regular
expression earlier and show you given to
google co search you will still match
against the co come i mean the the
particular f open you put the f open and
like put the left prank it and write
blanket you would see like match that I
mean although you may not want that son
closer shinji might not be case
sensitive for example you may have some
co example invoking the particular
functions like f open like with
different case and then Kruger calm
would just return this example although
it's not actually what you want so
depending on where the Sun co search
engine provide this kind of feature of
allowing the specified case sensitive or
not google code search would provide
this particular option but not all the
consulate engines would provide that now
let's get back to like our
infrastructure which is basically based
on this existing code search engine the
idea as i mentioned earlier we try to
our formulation Curie's including the
keyword of the class or the api message
we want to search for examples and then
we issue the curie to an existing code
search engine we gather the code
examples and store this example in our
local code repositories and later on
video apply our program analysis and
mining techniques on these code samples
one challenge we will face in contrast
to traditional paagal analysis or on use
in- of engine data
the issue is that the code samples are
partial that's expected right when you
search these Co examples this code
search engine would normally return only
a single fine but of course cole haan
jee might have option to allow you to
download the whole package the whole
source code library or the repository
but that's too expensive when you have
too many these examples for you to deal
with so normally the code samples are
partial so we need to have some special
kind of partial code analysis to deal
with this issue some of the techniques
that we have developed in dealing with
these issues in this trice basically we
will not start from the main message
Yuri when you have the whole codebase
you would like stuff on the main method
or main function and then construct the
call graph for example from there and
now we can load only one class by class
then we consider each public method as
an entry point for us to construct our
call graph for example or control flow
graph and we do some local inlining what
I mean by that is when when we download
one file for particular call signs it
may call another method or function
declare within the fight then we
automatically enli that method to put
the co portion on I mean put in another
method being called being invoked to the
location of the core size one very
important issues we need to deal with is
that their son types are in the program
that we downloaded from the from the
code search engine returns examples are
unknown basically for example for
certain variable was a type of the
variable you might not not may not know
that because you don't have the whole
code base for you to resolve the x then
we use some type heuristics to do with
that it's kind of
reverse direction of the the compiler I
will give you some concrete example to
give you some ideas of what we mean by
these heuristics for this particular
statement for example in the code
example we gather and we may not know
the return type of the create q section
because we don't have the decoration or
the implementation for this particular
function or method for the code that we
download it then but we still can like
in first and information about the
return type of this particular method
basically for this assignment we know
the return type of the create q section
would be exactly the type of q on the
left hand side or a subtype of it okay
so then we can kind of use and can do
this many this situation where we don't
have the types being known there's
another situation for example we have
this return statement return the return
value of create q sections again we
don't have the decoration or the
implementation of this this creative
session we don't know the return type
but we observed that the return type of
the enclosing method is a cue section
then we again we can infer that the
return type of that particular method
would be exactly the cool section type
or a subtype of it okay there's another
technique so I basically try to use
information we can gather from different
places in the code examples for this
example like we have n one's return type
of the queue then for this end too we
don't know is it's a receiver object
type just by looking at the code here
but early on we can infer that the m1's
return type is cute then we can infer or
the subtype of Q again we can infer that
M to the receiver object type would be
q or subtitle q so these other
heuristics that we we use in dealing
with this kind of partial / examples
which would exist in this particular
scene irin of exploiting the co example
Gator front code search engine later on
I will give you some example why these
types are important in our particular
application after we have this certain
infrastructure we download these files
and we have some partial color nurses
together the facts about these Co
example them you can do some useful
things for us the first application is
called password basically help us to
write code in like Clank Oh of a
particular API method in particular the
problem we try to adjust is that during
some programming task I mean trying to
deal with certain programming task you
may know what object you have at that
point before you actually write a new
code that's kind of a really easy for
you to understand like when you're
trying to fill in the master body of a
particular method you know you have the
object of the argument type right or you
have the objects of the object fields of
the class that you try to fill in the
code so these are the object times that
you have but as sometimes you may know
the target object you want to produce
but you don't know how to ride the co
secret the massacre sequence in between
from what the objects you have to the
target object that you want I will give
you one example here one particular task
it in like you creeps programming is to
pass the code in a dirty editor which
includes the code that haven't been
saved we can chance rate this particular
turns into a puri like we know we have
the type or an object of the I edited
part are in order to pass a code for by
using different technique for example
you search the documentation or you kind
of a
browse different classes provided by the
framework you know you need a particular
object of I compilation you need but you
don't know how to write the code in
between from this particular object I
editor part you have to this I
compilation unit here are other examples
solution that the password can suggest
to you when you issue this purely in the
forms I put up on the slides so
basically you have the object of iad I
editor part right it can come from your
argument of the method that you are
trying to fill the meta body or in from
somewhere you invoice and other methods
and the password would suggest that
first you get help this editor part
object you need to invoke your editor
input to get an AI editor input object
and then you need to invoke a static
method declare in Java UI which is get
working copy manager and get another
object of the type I working copy
manager and finally you invoke this get
working copy method declare on this I
working copy manager object and with the
argument of the editor of the I editor
input object early on you God and
finally you got the I compilation Union
object then you accomplish your task of
getting this object as you can see it's
really not trivial for a programmer who
is not familiar with these complex
framework I mean which are often the
case and in the in the like the reward
for example the ear clip frame will also
an other frame will set you are familiar
with for this particular example you can
see we even need a particular instance
of I working copy managers in the middle
in order to achieve our goal and this
particular object actually is not quite
related to what oranga we have so that's
very difficult for us to guess I we
really need this object
and in addition and also need to involve
a static method of Java you I class to
get that particular instance okay this
particular static method is not quite
related to what we earlier have like I
did editor part it's kind of a difficult
for you to come up with this particular
step as well so let me just give you a
kind of video effects on how it would
work for basically you have the IDT part
there you may try to like get this
passer object but you don't know what to
fill in in the middle of this code
segment and then we issue a curie live
from iad depart and I compilation you
need to our password to in the equip
protein environment and then we issue
sanctuary to underlying code search
engine such google code search we gather
a bunch of this co example from the code
search engine and then we exchange mis
which basically represents a message
invocation sequences leading us from the
tag the original I editor part to the I
compilation object are a unit object
then we kind of Allah appliance on
simple statistical analysis to find out
the frequent Mexico sequences for
leading from I editor / object to the I
compilation unit and then in the end we
recommend the most frequent ones to the
programmers so that's basically the
target sequence that the programmer can
filled in and to accomplish the tacit
the program at have
inside the password infrastructure it
has has several steps for as I mentioned
earlier you have the curie and then we
download we issue the curie to the code
search engine and then we download the
code examples return by close engine and
we store in the local repository and we
do some partial code analysis to collect
the measure invocation sequences after
we get the sequences we also do some
post processing the reason he said for
these sequences that still quite many I
mean even we try to narrow it down by
focusing on the frequent message
sequences then we use some clustering
techniques by grouping those similar
message sequences together for example
for to measure sequences if they kind of
have one or two meses kind of been
different in the middle I mean we can
see that they are similar enough so that
we group them together to reduce the
inspection efforts of programmers and of
course we also use an ranking heuristics
to help us to recommend most likely
useful sequences to the to the
programmers next I would like to focus
on a very interesting problem and the
corresponding solution that we developed
in this particular situation this
situation is because as you can remember
like for the sequences we ones that we
want to find out a particular measure
sequence star from the the existing
object type right and invoke a boundary
Messer and then reach the point where we
have the target or destination object
time what if this particular method
sequence cut across to source files is
possible right you have another method
declare in another source file
eventually I mean overall putting
together you have the complete sequences
but using co search engine we can gather
the source file including both the
source of the type and that a
destination object type in the same file
so
that force that causes and issues for us
for some of the Curie's in our
experience and variation we couldn't buy
any code examples by using this together
these two are two types issue to go
search engine we propose a solution
which is quite effective in during which
the situation the idea is said instead
of just putting this source object type
and destination of tied to the code
search engine we basically split this
particular purely into multiple ones and
then in the enemy composer results from
these multiple Curie's here as one here
is one example and to show how this
techniques would work this is a real
Curie that we encounter in our iteration
so here basically saying that currently
we have the I structural selection
object type and we want to reach certain
porn have the input stream object type
so as you can imagine it's kind of like
reach some point we can read in
something right but how we can get from
the I structure selection to that object
and we can use password right we just
formulary Curie as like this source
object type and destiny up to type but
we get nothing from google search
because we couldn't find a particular
source file including these posts are
types in the single source file then
next we can basically start from the
destination type we issue only this
curie to a call search engine then
basically we look at like what are the
object types culinary are used to reach
these destinations object types ok and
then we find out like input stream byte
array input stream five input streams
can lead to this object input stream
after we get this most frequent 31 a 3
object-type we issue
for each of these intermediate object I
reissue another Curie starting from the
source which basically is the ice crop
to selection then we are lucky at this
one actually we get like four three of
these intermediate object I we actuary
for two of them we get nonzero examples
back then in the end we basically can
assemble the code sequences with this
path and this part okay then we get the
result so these are this is an
interesting like techniques for us to
use to deal with this kind of a
situation of relying on a co search
engine to expand our scope but at the
same time we may suffer from some issues
and we use some new technique to do with
them here I would like to just give you
some very brief overview of the
experience and the evaluation we had for
more details in information you can
refer to our ase 2007 paper and here
basically is some example questions from
the developer forums as you can imagine
i mean when you try to address certain
difficult tasks you just ask questions
in the foreign to force and other
experts who to help you this particular
problem is that how to dissemble java
bytecode this is a particular task that
you can achieve by using son Michael
engineering library like this one bc ii
l and for past where we basically can
return some patterns that's kind of
internal representation together with
sample codes for this particular task
here basically saying that you have the
code object and you want to reach a
instruction object and how we can do
that first you invoke gate code on this
code object as argument for this
instruction this our constructor
invocation and you get this injunction
list object and finally you invoke get
instructions on
instruction this object and then you get
an array of instruction so that's a
solutions that we can get from past web
to accomplish this task as you may
notice I for return type we have some
unknown there that's basically like
showing the issues that we may have
enduring with these partial code
examples although we use some heuristic
to try to get more or more and more
these kind of a type information but we
still face on situation we don't have
the non types for certain return type or
argument type but for this situation it
really like doesn't affect our results
because we only care about the ending
one and the beginning one we basically
can use this corresponding co example to
help us to adjust this task and we also
carry out some comparison with existing
tools there are two other related tools
and one is called a pro's spectral the
worked at UBC and short corner or sorry
the web at UC Berkeley and the
strathcona developer at UBC British
Columbia and we basically like issues on
Curie's front particular objects based
on eclipse graphic graphical editor
framework and see how well these
existing tools can deal with this kind
of a task and we also use google code
such as the last comparison based for us
so basically from the table for the
first column of the each category it
shows that number of the total examples
returned by each two and the second
column shows the rank of the target
sequence the the right sequence and as
you can see like the password is doing
really well in conscious decision tools
for the non border task can be
successfully achieved we can see past we
can do with a out of 10 of the Curie's
that
we put here at post Specter can do is a
six out of ten and stressed Connor can
deal with five out of ten and for google
code search if we use Google Cosell for
this particular Curie's we can find out
for some of the cases we really need to
browse many co examples in order to
figure out the sequence that you want
okay so that shows that just relying on
Co search engine without doing some
mining ore processing it's really not
sufficient enough to do with this kind
of a particular programming test Thanks
next I will quickly discuss our two
recent tools on using google code search
or in general cause such engines 25
bucks in the code that you have written
for using some api's the motivation for
our expert to is that when you try to
reuse certain AP is provided by
frameworks or libraries especially when
you are dealing with sun-like resources
intensive applications like database or
networking you Yuri need to use certain
AP as they can throw exceptions for
example for the section API that section
is the class AP a-- of the hibernate
framework it can so hibernate exception
and in addition there are some kind of a
programming loose which might not be a
directory express it in the document on
this kind of exceptional handling for
example we may require you to the client
application to row back open and
committed transaction after this
hibernate exception occurs okay but as a
programmer you may not remember to do
this kind of a row back after the
exception stroll and during testing is
very difficult to expose these kind of
issues
failing to obey this kind of program in
loose in essential hindering can cause a
lot of troubles for example if you your
transaction is no log back then your
database rock would then be released and
then that would cause really serious
issues there and it can also cause your
performance issues a recent study by way
murs and natural in 2005 they discover
that for a particular application they
try to investigate after they improve
the exception handling of the
application they discover the
performance of the application can gain
like seventeen percent of the game after
the corrector e-tendering the exceptions
so that's kind of like another benefit
after you fix this kind of issues I will
just give you like very quick overview
of what kind of patterns we can get up
on the examples that we can we can
collect it from co search engine so this
is a 1 July example that we can collect
from the web let's focus on these
particular exceptions like sqlexception
based on this code example we're in
construction control flow graph we some
solid lines on the graph as normal
execution path and the dotted lines as
exceptional path basically inside the
pants you would need to go through when
you encounter a particular exception
notice that we use some program NASA to
figure out like for certain notes you
don't need to have an exception pass to
the exemption handle in block because we
know for example four no six for this
particular set you I method koi you
don't have the sq I inception being slow
then we can avoid like these false
positives and for this senco segment we
can recover this kind of exception model
which is used to detect these kind of
violation of the model as the potential
defects so basically here what we are
saying is that for note 9 which
basically SQ updates if you have this
mess invocation before this mexico and
you may need to do these kind of things
right you need to roll back you need to
close the statement close connection and
close oracle data source you need to do
this otherwise you may potentially her
problems okay and after we discover
these patterns then we can detect the
violation and there are some results i'm
not going to go through the details but
basically we detection real defect from
the open source application and we
reported like 12 defect to hsqldb and
then the developer confirm like seven of
them are real and they they will fix
them i'm not going to go through the
neck web which is kind of a helping us
to detect negative conditions basically
you forget about checking certain
conditions check-ins and argument on
return values and we can discover this
pattern to help us detect the defense so
in conclusion searching is very powerful
nowadays with the discount existing
powerful search engine but we feel that
is very important for us to step have
one more step ahead like to help us to
use the results the co example returned
by this code search engine to help us to
adjust like holy use or defect detection
and mining is one promising direction to
help us to discover the common patterns
among these co examples might taste some
questions
any questions
so I guess you didn't get to discuss
much related work here where he's been
all that work on using the types to find
to find code sequences like this so what
do you mean like oh you mean the
prospector so why on the name of the
project it was work from Russ body it
was very close in the functional
programming languages community and so
on right so how in orthogonal is that to
this thing or will be possible somehow
combine this and dad 22 in more precise
answers or something like that I mean
understand this is completely different
approach but it's obsessed it's all in
the same problem right given this type
given that type finding sequence to get
from here to there right so indeed like
for the later parts for mining paths
there might be existing techniques kind
of similar or can be used in our context
as in the the challenge of our contact
as I mentioned that the partial code and
how you can issue a special kind of a
curie to help you to do with this kind
of a situation indeed like when you had
the code examples at him you can use
many existing techniques to do with
those either mining or defect detection
Thanks ok ok thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>