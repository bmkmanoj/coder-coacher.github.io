<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Low-Cost Internet Access Using Mechanical Backhaul | Coder Coacher - Coaching Coders</title><meta content="Low-Cost Internet Access Using Mechanical Backhaul - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Low-Cost Internet Access Using Mechanical Backhaul</b></h2><h5 class="post__date">2007-10-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/f9RnczZUBOA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'm very happy to introduce professor
SKF today to talk to us ketchup has at
various times being an academic and
industrial researcher and a Silicon
Valley entrepreneur and now he's moved
back to academia and university of
waterloo in canada where he's working on
among other things the problem of
getting low cost reliable internet
access to india and has come up with a
novel way of doing so thank you I should
add that this work is joint work with
other tissue estate who's my PhD student
and so all the good ideas belong to him
and if there's something doesn't look
quite right that's my contribution so
that's there we are so let me start off
by saying what is a kiosk kiosk is I
think of two things technology and a
person technology because you want to do
some communication or something special
and a human operator because the people
are using this aren't quite up to using
it themselves maybe the illiterate okay
so you need a human operator today chaos
provide a variety of government to
citizen services and I have a list over
here which you can read we are working
with a partner called Eagle services in
who are based out of South India and
they provide 200 different services
including actually mutual funds crop
insurance railway reservations and so on
and so forth and I'll talk a little bit
more about how the technology works but
this is actually out there they're
actually well established means of
delivering technology to large countries
the public call officers or opportunity
is called SCD i SD officers there about
150,000 of them right now and they're
all profitable and they all actually
support one entrepreneurs a 150,000
people who are making a living out of
this and based on the success of this
particular model the ministry of
information technology in india is
proposing to set up 100,000 chaos over
the next two years and there are several
people who are trying to bid for this
opportunity so this is actually
something which is happening and the
bids are going out and what you're
trying to do in this research is to
actually make these kiosks useful so to
make a kiosk useful it has to be
connected if it's not connected it's not
doing any work for you
and the three options are out there for
connectivity or dial up we SAT a very
small aperture terminal and the long
range Wi-Fi so died up is you know your
typical phone modem you going it between
eight and twenty 8 kilobits per second
and the problem with this is that you're
going over a wire and in a hot dusty
environment where people are digging all
the time because building buildings and
roads you have outages and he's also
just takes very long times to fix
typically three to four days so if a
kiosk is down for three days and
somebody comes and says I want my birth
certificate or do some kind of financial
transaction you're going to turn people
off and in fact a project after project
in India and other countries the kiosks
have died out because people go to the
kiosk it shut down because it doesn't
work so part of what I'm trying to do
here is to address that problem and say
how can we make you us at a low cost and
reliable and and we could talk about
that both on the operating system
perspective and the communication
perspective the vsat very small aperture
terminals are popular these are like
pizza sighs dishes which you can put on
the roof and problem is an upfront cost
is fairly high plus it's a monthly
rental fee and the monthly rental fee is
also high so if people who do this kind
of thing with v sats end up making a
loss they're not able to sustain
themselves on the kind of transaction
fees that you're extracting which is
roughly between five and fifteen cents a
transaction so you can't really do that
is not enough money to pay for the vsat
and spare parts are hard to get it and
long range Wi-Fi is a couple of people
are trying to do this work out of
Berkeley work of IIT Kanpur and so on to
take 802 11 B and make it very long
range and make it low cost it's
experimental and the upfront expenses
not in the Wi-Fi card as it turns out
but in the tower cost trees that are
roughly 16 meters most parts of India 50
feet and you need 18 meter dolls and
hitting me turtles are way more
expensive than 15 meter tasks which are
way more expensive than 10 meter tasks
so the cost goes up exponentially so the
big cost is in the towers so dark cost
roughly thousand dollars okay which is
essentially unaffordable for the kinds
of deployments thinking about a hundred
thousand kiosks at a thousand dollars
one hundred million dollars right so so
what is the what mean what can you do
and this
something called mechanical backhaul and
the idea is not mine the idea is due to
a company called a project called dark
net which is done out of MIT Media Lab
about three years ago and as you can see
on the right hand side they have this
bus and they actually put a Wi-Fi access
point on the bus and a small device
which has storage and when the and I
don't anything get my mouse here okay on
the left hand side we had this honor we
had these kiosks in the villages and in
each kiosk you have a Wi-Fi box and what
it's doing is it gives it to the bus and
the bus actually carries it to the city
and it goes off into the city and it
goes round and round very much like what
a postman would do and the term
mechanical backhaul is you do Arno
Penzias who said oh this is just doing
backhaul but you're doing it
mechanically so I love the term and they
stole it so both the idea and the term
are stolen okay which is in the normal
research practice so what are you going
to do so this gives you the intuition of
what we're trying to do and what I'm
going to show you in the next few slides
is that while it sounds simple here you
just put a bus and access point in fact
you have to re-examine the very
foundations of networking things like
naming addressing routing location inc
all of these things are completely
changed and so i will talk about an
architecture and i'll tell you about the
open problems and our implementation and
just to give you a sneak preview we're
actually going to deploy two of these in
May in South India so this is not just
you know talk we're actually going off
and doing this so what are the goals in
academic research it's very normal to
come up with random assumptions and
goals okay but you're trying to build
something for the real world you to make
sure the goals match what's out there
otherwise you're building the wrong
thing so these are the goals we have the
first one is low cost low cost because
you want to have mass scale so we want
to have less than two and fifty dollars
per kiosk upfront and less than fifty
dollars went operational costs and the
stew and fifty dollars includes the the
PC or the machine that's providing the
services as well as all networking you
know everything has to be in the tune
fifty dollars so it's fairly stringent
we want it to be reliable because as I
said earlier if it's unreliable people
just get turned off there
to use it anymore we want to allow user
mobility because it turns out social
studies have shown that villagers
actually move in about a 15 kilometer
radius and it's not as surprising as you
would think because they're going to the
market towns to sell the produce the
visiting relatives and other villages
they may be peddlers or small-time
traders for picking up goods from other
towns and bringing into villages and so
on mobility is necessary so that the
villagers or the people using this are
able to use the kiosks it is closest to
them in strobing type 2 particular form
kiosk ok they don't have to go you can
go anywhere and pick up stuff we want
our data privacy to allow banking
transactions Mary medical records
financial transactions of any salt so we
need we need privacy in the specific
sense of authentication and message
privacy we want to be able to use
existing internet services because a lot
of stuff out there you know people want
to use Google no matter where they are
so we want to but Google or the servers
in Google are not aware of
disconnections because you know we don't
have a connection all the time so how do
you do that we want to exploit every
possible connectivity option that we
have some chaos will have dial-up samuel
out develop and the long range Wi-Fi
some will have vsat whatever is there we
want to use it and so we have to have an
architecture that allows you to specify
this an urgent message said it in a cell
phone this is a message that can wait
send it on on your Wi-Fi whenever the
bus comes by and so on so forth and
finally we want to support two classes
of users kiosk users who are going to a
kiosk and using something there and
people who have their own device it
could be healthcare workers or
government workers who have a PDA and so
on and won't use it so and spending a
lot of time on the gold because as you
can see if I don't have the right goals
then I'm going to do that then the wrong
thing so if any questions about this
amounts of that now make sense so
okay so why is it hard right i mean if i
had these goals what makes it difficult
the first thing is that we don't really
have a connection end to end if
somebody's on a pc on the kiosk and they
want to access email service a hotmail
or order to do some web query both ends
of a so-called connection are not
simultaneously present so you can't
really run tcp end-to-end because guess
what all you have is TCP to the bus and
then an hour or two later tcp for the
bus to whatever is the back end but you
don't have the same thing end to it so
you can't do things like TCP window flow
control end to it you only have
hop-by-hop right that fundamentally
changes the character of what you can do
so you can't use standard tcp have you
got use DNS because there isn't the dns
server you can talk to all you can talk
to us a bus you can't use SSL because
ssl has a three-way handshake right says
here's my dance you can't use that
because there's no it's all it's all hot
by hops assumptions so that's one change
in mindset the second thing is that this
a bunch of technologies are out there
which have been using which are mobile I
phip alphabet soup of things which all
are using which deal with mobility and
something deal with this connection but
they typically assume you're mostly
connected and rarely disconnected or you
switch think of TCP my great for example
camus aware of that you're saying well
my IP address keeps changing but I'm
connected all the time and you just kind
of flipped the IP addresses using a
handshake using your public key or
something like that but here we're in
the opposite regime we're mostly
disconnected and rarely get connections
your transient upload as a bus goes past
and then here transient another bus
ghost bus and then finally we have these
issues of low cost and reliability which
are very stringent assumptions and these
change the design and without going into
too much detail we did look at all the
existing work and couldn't find you
couldn't use them so what is it we can
use what are the building blocks the
Lego blocks if you will that you can put
together to get what we want and one is
you can use storage storage is very
cheap two dollars a gigabyte you can get
maybe one dollar gigabyte maybe less if
you buy it in bulk wireless networks
everywhere and both the cellular kind of
wireless networks Wi-Fi these cards are
cheap and
and then there's this new technology
which has come out in the last few years
called delay tolerant networking it came
out of the interplanetary space research
group of JPL but then it's been a
considerable amount of work being done
out of Intel research Berkeley by Kevin
fall and others in a nutshell what it
has is an overlay network on top of
internet so what you're talking about is
hop-by-hop and each Harper's tcp/ip for
the most part and we send messages would
look like bundle which are called
bundles which go over potentially
disconnected links so the the which is
exactly like the chaos to pass in the
bus to the next hop and think of it like
email email doesn't require you to be
present both ends don't need to be
present you just dump it in your mail
server it makes its way somehow to
destination mail server and then
somebody picks it up and that's what dtn
does except that you can do better
routing and i'll talk about rotting in a
bit and finally dtn allows you to have
extensible maiming addressing and
routing based naming an addressing place
on you are ice so everything is a URI
and we do name base for billing and so
these characteristics of dtn are very
well matched the kind of things that we
have however dtn does not address things
like mobility does not address issues
like security and and routing so we
actually have extended dtn to take care
of those issues so that was a big
picture what are the goals and
principles and the techniques and now
I'm going to kind of dive right into the
architecture and so this is what it
looks like and here i am going to and a
wave my hands because i don't have a
pointer am not supposed to use a pointer
and i don't have a mouse either i guess
all right so what we have on the left
over here is is this bus route a and the
bus route a can you think of the regular
bus route where you have a guy on in a
kiosk was a regular user and the bus mix
of the data and goes to an internet
gateway so the bus goes round and round
picks up data from here and then
opportunistically and then drops it off
at that JP which is the brick wall over
there and then it enters the internet
and the upload is typically through a
DSL at about 100-200 lil bits per second
so it's not super fast but it's okay
this over here represents a very
interesting case where the bus is
dropping stuff up with
intermediate kiosk and then you have
another two kiosk which is simply
connected through this intermediate vas
kiosk over here so the chaos is actually
acting as a store and forward Roger okay
and in the third case over here a bus
rowdy is actually not talking to kiosk
it's talking to sub the news at home and
you know the picking up stuff along
through that person's house as they go
past so all of these are typical use
cases and you would like to support all
three of them we also have users who are
kind of going for one chaos to another
and that's represented on the bottom
over there so that's the architecture so
what does it look like in a kiosk and
what we have is a design that we want to
make work in very limited circumstances
so what we do is we give the kiosk
controller the entrepreneur's running
the kiosk what you call a kiosk
controller with this so Chris box those
have you seen it it's about eight inches
of an inch thick it has no fan it has a
low-power CPU and a couple of pc card
slots and it's headless keyboard layers
no video out takes with me 7 watts so we
can take a 10 watt solar panel stick it
on the roof put it in a lettuce itself a
jail cell and power that four five six
hours based on that and what it does is
that it has incited a raid one disk this
is a mirrored risk and provides netboot
in the file system and a WLAN access so
what the entrepreneur does is to go buy
a jug PC a secondhand PC cost 100 bucks
sticks it into this box and hits reboot
and it comes up clean comes up running
the box is running debian linux the so
presumably the pc comes up running you
know of linux using terminal services
it's actually hacked up terminal
services first thing to contrast this is
with One Laptop Per child project as you
know MIT is trying to do this thing with
this one laptop every child is given and
the difference contrast is immediate we
have one recycled pc / village versus
fun laptop per child so the cost targets
are about factor 100 away 310 cheaper
right right off the bat the second thing
is one laptop per child will get dust on
it and it'll break down I mean it's
going to happen right somebody leaves it
in the Sun for five minutes ago to fry
very going to get spare parts from
whereas here spare parts of PCs are you
know they are in fact everywhere because
they're about 700 million of them and
people just have these things and
getting recycled pcs is kind of easy or
how many of you all peace in your garage
okay chances are pretty good if I ask
for donations that have 20 in five
minutes right my lab is full of recycled
pcs I just asked once and you know
people are throwing it at me it's easy
to get these things so they will run for
sure they will run pirated windows okay
that's what's going to run on these pcs
they will run on its software which is
not quite the right thing to run okay
and it's going to have irises adware
spyware malware whatever it's going to
be all sorts of junk in it and that's
okay what you do is you put in these in
the table and Fritz reboot and it boots
from the net and it's not going to use
your disk it's just going to use ram
disk and is going to be clean so so
that's really designed it and you know
this is all working if we had so we can
take any old pc you don't care what's on
the disk inside you can jump the disk
and just boot off the note so close and
you're okay and so we have as i said
spend some time thinking about what are
the environmental conditions under which
this is going to be used inside fairies
or bus you know the buses we call them
fairies data fairies and gateways same
kind of thing we have a box with some
with some raid on it here is not it
looks like from a network networking
perspective is a graph what has shown
over here on the top is this cloud which
is the legacy server whatever silver and
it goes to a proxy we have a proxy to
hide this connections from the rest of
the world so from the perspective legacy
servo holly has a proxy and they'll go
deeper into what's inside the proxy in
just a minute these I 1 I 2 I 3 and so
on our internet gateways and these
dashed lines represent slow links slow
meaning 100 per second as opposed to the
Wi-Fi links which are you know 10 to 50
megabits per second considerably faster
these rings called b1 b2 b3 are the bus
routes and this actually opens up a very
funny question which is how do you draw
a network where the nodes are moving
okay when you talk about a graph a
network graph you draw a graph and you
expect everything to stay where it is
but here I have a node which is going
all over the place
and in fact I don't think this is the
right way to do it either okay because I
can talk about that offline further but
representing statically the bus routes
turns out to be very problematic when
you're trying to do any kind of link
edge link weight-based rodding
topologies routing metrics ospf or
something like that because depending on
different points in time the cost of the
links changes the time varying gospel
failure probability is also changed so
it gets messy but for the moment this is
a first order approximation it seems to
work and as you can see we have user to
over here going from one chaos to the
other kiosk one is on to bus routes and
so on and one can imagine constructing
shortest paths in a graph such as this
and inside it does do the right thing
though there are some problems talk
about later so this is just to give you
an idea of how the whole thing models is
a graph so this is a protocol
architecture and the bear with me it's
not as horrible as it looks on the left
we have the kiosk and I'm showing it
smtp example so under this line over
here is the standard smtp you know hello
from to data acquit right standard stuff
what's happening at the kiosk controller
is running as in pd and it's running a
simply be demon essentially saying i am
the mail server you know I'm and it
fakes hotmail whatever gmail its if I am
I am who you want me to be and gets all
the data what it does is it puts them
into this protocol called OC NP which is
our own protocol for opportunistic
connection management protocol and it Oh
CMP essentially judge the data puts it
into persistent storage on a MySQL
database the reason is because the so
Chris boss is going to go down you know
we have five hours of power but it may
be a cloudy day right so it will comes
back up it's just fsck at the equivalent
of that and we know what bundles are out
there so we you know will power fault
tolerant and then the we had the single
adi p/n a bundle protocol agent which
essentially grabs the bundles sensors
your network of routers using dt and
routing and offered a portion to the
proxy and in the proxy you have this
application ID that says this is email
application and they are plugging on the
other side which gets the data and sends
it to the to the regular email server
using smtp users over here so
essentially what you've done is taken a
normal tcp/ip connection
put it into these bundles or messages
and replace the whole thing under under
the covers so that neither the client
nor the server needs to know the
difference okay so any questions about
this okay so now the dog gets heavier
this is the easy part all right so I'm
gonna talk about naming and addressing
and let's see okay about half an hour
all right so we use names for everything
fairies kiosks gateways all have a name
and for us a name is just a string any
string you want it could be a name and
address it could be your phone number
could be your email address it doesn't
matter uniformity we just hash it
negated to any bites string which you
use for forwarding so it's a named a
system where all the forwarding is done
our names clearly see right away you
don't need DNS because all you're going
to do is to simply hash your name and
you get your address and off you go we
call this a GUI d globally unique ID now
we have this complication of this
connection right this connection says
you can send it to somebody but they are
not there they turned off the PDA or a
senator chaos and kiosk is down because
there is no power available right now so
what we do is use this notion of a
custodian in the custodian is somebody
who's usually supposed to be on all the
time okay it's exactly like your name at
mail server you're not there but email
say was there for you so that's your
custodian so we have this notion of a
custodian and they said that everything
has a GUI d so custodians a GUI d and so
the full name of somebody is going to be
this custodian gyd you Sergio ID just
like name at mail server that's my GU
ideas Cassidian GUI d in the same day
via this tuple and what you're going to
do or the sender is going to do is to
send it to the custodians GUI d somehow
and then after the custodian will figure
out how to send it to the user ok so
that's the that's how you deal with this
connection and the custodian also acts
as an anchor point which is shown in
this picture over here so for the
regular kiosk user the custodian is
right here because we're going to pick
it up from but a mobile user will pick a
custodian over here which is the closest
point under which you're moving in terms
of the subtree so wherever you are just
pick it up from the custodian so when
you go to this village is say okay I'm
picking up from here
that will you pick up from there and
everything is cash there for you or
stage there for you to pick up later and
in the case of bus Rodney the custard
actually is the bus because the buses
the point which is going to give you
your stuff so the notion of custody is
fairly nice it allows us to deal with
this connection properly okay now I've
not talked about mobility had interests
or disconnection however we had a deal
with mobility and what mobility means is
that your custodian can change right
because you go to a different place in
the custodian changes so we need to
somehow tell senders that I'm at a
different custodian and how do you do
that use the old trick but cell phones
have been using for 20 years which is we
have something called a home location
register which says if you want to reach
me I am available and so on so location
and what we mean by location here is the
custodians location because that's
what's going to get to me so what we do
is that we have this home location
register which is this big lookup table
in the internet think of it as a
distributed hash table if you want and
every user says my GU ID is X and my
custodian is why so if anybody wants to
reach me tell them to send it to why ok
and we put that in the home location
register the sender may not know why
because miss entamoeba disconnected also
center some other village so what we do
is have you a special custodian name
called unbound but says I don't know I
don't know who the receivers custodian
is I'm just going to cook the unbound
and whenever the bundle gets to somebody
on the internet then that person can
bind it at that point in time to the
right custodian so you kind of sending
this message with a GU ID of the
destination but with no custodian name
but then halfway through it figures are
where is really supposed to go an
analogy that might help us to send IP
packets with names in the in the header
and when it gets too close to DNS it
results at an IP address stinks the IP
address in and then you know where to go
right be doing the same kind of thing
except we're doing it name to name
translation ok unbound to a name
translation so how do you set it up well
that's done through signaling it's a
standard control plane and the cell
phone you turn on your phone register
message is sent to your what's called a
visitor location register it says
so answer cell phone is and so on sort
our area same way over here is in there
is it's a message which goes cordon put
towards the internet and the way dude
towards is by configuring every router
with a default route that says this is
my default route to go to the Internet
is what you do today so we're just
setting one configuration parameter and
every router every detail router you
know exactly how to get to the internet
the register message flows up to the
internet and then you update the home
location register saying this is the
custodian right so that's the that's the
solution in a nutshell there are quite a
few race conditions and there's a paper
I can share with you which has all the
solutions to race conditions which are a
little bit tricky okay so that gives you
kind of the flavor of the naming and
addressing and so to summarize we have
to have custodians to deal with this
connection users have names names are
any string that you want forwarding is
done based on the names how do you do
forwarding based on names that's routing
okay and that's when we talk about next
so we just assume that magically I the
sender's it has a GU ID and magically
Reese assassination but this is actually
pretty hard to do and I'm going to tell
you three solutions and then when I show
you the third solution will tell you why
it's hard so the first one is just
flooding which is just dumped give
everything everything everybody and it
actually works right by definition it
also finds the shortest path because it
finds all parts but it's not something
you'd really want to do but for very
small deployments yeah just a couple of
buses and you know five ten kiosks why
not just just then it everybody the
second choice is what you call reverse
paths forwarding and this is a it's easy
to understand but conceptually is tricky
so let me show you what we're doing over
here so imagine this user you five on
the far right corner who wants to who I
said is registering with the hlr right
that's what you do when you change your
location or you go to a new place or you
come up for the first time so you fire
is going to send this red message along
this particular default route all the
way to the internet saying hey register
me now what we do is very simple let's
say you look
kiosk a 3 when Keith k3 gets a message
from bus 3 saying you Phi is registering
it says oh you face registering through
you therefore if I want to send to you
feii should just give it to you you just
swap the rod back that this is a very
old rig that dates back to the 60s I
believe 67 or something like that it's
called reverse bath for weddings if I
got something on this port I must be
able to reach you on that port and you
just do that recursively and you get to
the top and so the registration which is
a location update is actually co-opted
to do routing table as well so you're
going routing and location at the same
time sounds very clever but it has a
fatal flaw which is that it's a single
spanning tree which means it's
susceptible to failure so in this case
for example bus to goes through Internet
gateway I 2 and I 3 but but it has
decided that the default route is I 3 so
if I 3 goes down though I to is
perfectly reasonable way to go you can't
use it right because that's not the
default rod ok so you know there are
simple hacks to get around that but
generally speaking because you're
constructing a single spanning tree you
get efficiency because a single copy not
multiple coffee but it's fragile and so
the the the one hack again or one way to
get around that just to have a soft
state every half hour is a new register
message so if you're down you're down
for half an hour and that's exactly what
we're doing under implementation today
but it's not very satisfying because you
know this is not very good what you
really should be doing is link state
routing ok this is the kind of the Holy
Grail which is to represent each link in
a link-state packages you do know SPF
and then flooded so there everybody
constrict so in topology construct
shortest routes and so on the two
problems over here one is that I don't
know how to draw a topology for a bus I
mean that the ring i showed you is a
first approximation but it's not very
good because imagine that there's a bus
and this a user who's just picking up
data from the bus as it goes past
anywhere along its route anywhere along
its route how do you represent that
right what is a link metric that goes
from the bus to the user it depends
where the user was ok and in fact the
routing policy you should have
and where the user was if you have a if
you catch a buzz just as its setting out
from the bus depot which is the internet
gateway then the best roaring policies
for the bus to give it to another bus
which is going back to its bus depot in
the opposite direction now cross the
street so that goes back to the depot
however if you catch the bus towards the
end of its duty cycle then it should
just keep it right so the bus has to
make this kind of decision and you would
like to make the decision using standard
ospf and sign in link metrics but I
don't know how to draw a graph so so
this is really kind of funny because
I've been doing the setting networks in
nearly 20 years and I've never has his
situation I had one on a draw a graph
and well anywhere maybe somebody can
help me here the other thing is that
depending the link metric is hard
because as I mentioned to you the uplink
is s.a.d is a DSL or something like that
that I three uplink is a dsl so that's
about a gigabyte a day but you know
ballpark gigabyte a day the buses carry
about 40 gigabytes on the disk so if you
dump the whole contents of a bus you
have 40 days of queuing at one router
okay sounds crazy but it's possible
right so you want to be very sure of
which particular gateway your choosing
however the link metric in this case
will the queue length changes before you
get there so the bus made the site at
when it gets here it says oh I three is
likely a heavily loaded I to is lightly
loaded so i'm going to send 1i to but by
the time it gets there somebody else may
have dumped stuff onto I too so the
metric has changed on you because the
time scale is ours right and some other
bus some other opportunity connection is
dumped more stuff in it so managing
these link costs becomes quite important
and pathological cases are very easy to
construct where your ping pong routes or
you have very large delays and so on the
solution that we have in mind is to use
use cell phones and use them as a serial
modem and hook them up to our so Chris
boxes and send at 8 kilobits per second
which is the GPRS straight routing
updates so because the real underlying
problem is at the time scale at which
your routing links are changing is the
time scale of forwarding another way of
putting
this when you do TCP flow control today
you do window up and window down your
additive increase multiplicative
decrease but the path is fixed the rod
is fixed it's not changing on you as
routes are changing on the order of five
minutes and the TCP is changing in the
order of 100 milliseconds here the rate
at which data arrives and the rated
based their links or routing metrics are
being updated are in the same time scale
which is why I have this problem of time
scale coupling we need to decouple it in
the way to decouple that as I said is to
use cell phones and that's one way of
looking at it but load sensitive routing
which is really what you have to do when
you have open loop flow control we can't
do closely flow control because the
ganja plant propagation delays are in
the order of days you have to do open
loop so open loop flow control with load
sensitive routing is unknown hard
problem and for those of you remember
the old ARPANET metric the load
sensitive queuing metric will recall
that it had horrible oscillation
problems and we want to avoid that and
so we need to figure it out we don't
have a solution yet but we have some
good clues and this is our current work
ok so how about security kind of
switching gears here why do we need
security well as I mentioned earlier you
want privacy in authentication for
banking secure email bill payment
reservations and so on obviously want
non repeatability and things like that
what we've looked at is why not use pki
mainly because I don't know the public
key so everybody right I mean I have to
if I go as a pki give me the public key
of so-and-so well it's hard to find you
could use certificates but then you have
some revocation problems because you
tell everybody revoking is a problem and
so what we're looking at is a different
solution which is based on
identity-based cryptography this is
something that came out of Stanford
about five years ago and the idea is
very simple your public key is your ID
remember your ID is just a hash of your
name so if your name is a at be calm or
user provider calm then I just hash it
that's your public key now oh if I know
your public key then I missed I must
introduce a secret to create the private
key because it was an algorithmic way to
go from public
private everybody knows your private key
as well so it has been an additional
secret and that additional secret is
injected by something called the private
key generator so this is sort of how it
works you you say you go to kiosk and
say I want to sign up I want to sign up
as a as a user and then the kiosk I says
okay your user name is so-and-so it's a
provider and by the way that's also your
hash it that's your public key and
that's also your address all three are
the same okay and then the private key
has to be given to you by private key
generator and we have a protocol which
I'll probably skip in the interest of
time it allows the private key generator
to give you your private key over a
disconnected network okay so the nice
thing is that if I know somebody's name
or their phone number I can send in a
secure message ever stabbed a secure
channel with them with the property that
the private key generator can spy on
everybody which is a bug or a feature
depending on which country you live in
okay in this country it's a feature in
Canada it's about ok so this given this
thing you can actually communicate
anybody you want to because you just
need to know so bank one at Main Street
you know wherever you take that whole
string hash it and as long as everybody
agrees that's the bank's name you
actually have secure channel to them
which is really great and so you're
standing by the roadside and you want to
send a second message to anybody you
don't need DNS you don't need pki right
all you need is to know how to hatch
which was easy there are some schemes
who come up with on how to give a
disconnected user a private key and
there are some interesting corner cases
to worry about because the kiosk guy is
is not to be trusted you know he's
somebody with this in random person who
wants to make money so how do you how do
you make sure that guys and you know
using the people's bank accounts to you
know make unauthorized withdrawals so we
have a scheme that uses essentially
shrink-wrap cellophane wrappers around
you know the sim card like things to do
that we have to worry about revocation
if you have a smart card or rfid which
represents your key and you lose it you
don't want people to be able to use it
and so we have some schemes for
revocation and we also have scheme from
you too
application where a user and the bus a
kiosk in the bus can authenticate each
other so you're standing by the street a
bus goes past you can be sure that it's
a valid bus and the bus can be sure it's
a valid user and they can audit you and
they can also set up a trail of usage
they can bill you so I'm going to skip
those things and can I go on to the next
part which is application support I had
given you a preview of the application
support earlier where I said that we had
the email you have this server
pretending to be the mail server and
it's using something called
opportunistic connection management
protocol so I'm going to talk now for
native applications or supporting native
applications or supporting applications
which are the server site which are
pretending to be applications native
applications so you want a simple API to
use it we want to have a session
persistence it means that the client and
server has some session going be a file
upload session and the session persist
despite many buses going past so each
plus carries a part of the session and
that's okay it's all put together the
right way we won't be able to choose
which network to use right if you say I
want to use a cell phone link even
though it's expensive because high
priority I wanna be able to choose that
and finally we won't do you allow legacy
servers and the solution is this thing
or cmp and it's a java based application
so you can run it on smartphones and you
can also run it on kiosk controllers and
you know we run it actually on a bunch
of different platforms the one nice idea
is to hide disconnection Thunder a
directory API and the idea is that you
drop something to directory and it
magically appears in some of the
directory somewhere else this is
actually was motivated by the plan 9
file system which allowed you to use
directories for mapping ftp so the ftp
map stuff which i think you Dave maybe
you did that back way back when in bed
laughs I know that is a cool thing so
using the same thing over here you have
each application is associated with the
upload and download directory and has a
status in the config file so config file
says what am I parameters username
password and each application can simply
drop stuff into the upload directory and
it magically appears in upload directory
in the corresponding server on the proxy
and
and the proxy plug-in on the other side
knows what to do so it makes it very
easy to write apps and essentially in a
minute if you've done about six apps
already and I can get a student who has
no exposure to this to write an app in
about two hours training all they need
to do is grab a file drop in a directory
and then forget about it so most of the
work actually is writing gooeys we use
proxies and we have this ability to
relocate open connections which is not
particularly relevant to this project
but we using in a different project so
this is now the complex slide and I'm
going to spend maybe five minutes
walking you through it is kind of cool
at the top left I have the application
and just look at the middle line it says
directory watch your plugins what the
app is doing is is dropping stuff into a
directory and then forgets about it the
nice thing about this is it encourages
people to have non chatty protocols you
know you don't help request response
that thing's going to a directories
because you drop in a directory you
don't know when the response is going to
come so it forces people to do the right
thing the directory watcher plugin is
part of 40 CMP implementation it simply
watches you know change times and when
it sees something over there then its
segments it into bundles and puts it
into persistent storage into mice to
database or equivalent it's just if you
don't really care what database you use
the reason is because this thinking fo
can dot right when you come back up
again you just recover as I mentioned
earlier below it we have this thing
called a connection pool and look what a
connection pool is a bunch of sockets
okay each socket is bound to a
particular Nick a deep dial-up neck or a
gps GPRS snake or in this case a bundle
protocol agent Nick so we have pool of
worker bees and I can say here send this
bundle and it just goes and since the
bundle so all the applications share a
single connection pool so we really only
have one end to end connection and in as
those of you recall from HTTP 1.1 having
persistence TCP is a good idea when
you're talking about dialogues you don't
have to go to a slow start each time so
the connection object is sitting over
there and what we have is the ability
for the when you when you choose to send
a bundle we do an up call into the
application saying look I'm about to
send this bundle where you want me to
send it to and that allows you to have
very fine grain selection policies okay
now what the policies actually are is
too
current work but we had a mechanism to
choose exactly which Nick you wanna send
it to and then it gets into that it goes
in our case the BPA the bundle protocol
ladings is running on the kiosk
controller and also running on the bus
so it gets the bundle and puts it into
local persistence toward the disk drives
it over and it comes to the Internet
gateway of it's also ending a bundle
protocol agent and often goes over the
internet over the DSL line to the proxy
and the proxy gets the bundles
reassembles them and basically calls the
application plugin so what are what Oh
cmp is doing is the ability to provide
plugins to do segmentation reassembly it
does proxy to client session persistence
and it provides the selection make
selection choices so these are all the
things that all cmp is doing and you can
think of it as essentially application
support for dtn ok this is implemented
works oh great that's the next slide so
we've implemented all of us stuff as
extension to the DTN arge the DTN
research group Apple implementation
which is the c++ implementation so we
added all the applications support to it
you also added the reverse path
forwarding support to it the application
support is on Java it runs on pdas on
cream on any standard pocketpc 2003 and
the home location register that I
mentioned to you is actually using open
DHT from Intel research at Berkeley we
made some simplifications for the first
implementation the first is that we can
restricted custodians to be internet
gateways so we all custodians all
gateway internet gateways are also
custodians the using reverse path
throughout pass path forwarding routing
we're not doing both sensitive routing
we haven't implemented the control cell
phone-based control plane that we'd like
to and you're not doing any data
replication we could easily do tornado
codes / UDP it's a TCP but there are
some funny interaction between data
replication and so control or open-loop
flow control that we haven't quite
figured out so we have it we aren't
doing that right now that we have made
these following changes we have a
separate control plane so we have an app
called the control plane app which makes
it very easy to say this control plane
app
we'll always use the cell phone so this
data plan control plane separation is
something that I really believe in and
so we've done that over here we extended
the deity and namespace the URI
namespace as i mentioned to how the
tuples the custodian ID and the user ID
one problem is when a user walks up to a
kiosk they don't know anything but when
he bites strings and all this other
stuff right what the effect with them is
unix IDs just standard UI this and you
say your unix ID corresponds to this 20
bit string so the end user is never
actually exposed to these new IDs
they're just getting standard logins and
passwords on the linux box okay and so
that allows us to keep track with the
file system very cleanly and we have a
file called at cid map that maps from a
unix ID to a GUI d and as i mentioned
earlier all the recycle pcs just mount
the root file system from the soakers
box and so they inherit the same uid
architecture so we don't have to worry
about in a YP password which is get one
UID and everybody's happy from there we
just use web meant to create new IDs and
finally the home location register is
implemented using open tht in the
original dtn implementation there's no
mobility support so we have to add that
in all of the stuff is actually done and
working all cmp is implemented in Java
we're running it on linux windows XP
when siiii and the student at iit delhi
working with us has ported it to dotnet
compact so it runs or should run on
the.net comp windows mobile platform
whenever get our hands on it the code is
open source being used already there you
see davis student UC davis for RSS news
reader Sprint is using it for HTTP and
iit delhi is using it for x and pee pee
Jabbar or g gtalk these are the
applications we have running right now
we have a mobile blog and this was the
first thing the side of the whole idea
was to take a photograph or enter some
text put it on your PDA and then walk
past the starbucks right you can do the
same thing over here can walk past the
kiosk so you're a journalist or you're
some random person who wants to upload
things you can just go past the kiosk
and it will actually sync up with the
soakers box put it in your user
directory the bus will come and take it
away I was talking to student yesterday
at Berkeley about
the situation happening in Rwanda about
malaria control they don't know who has
malaria in which district so they had
these shipments of malaria control drugs
is coming it is randomly send it to
random districts because they have no
clue where it's going they have no
communication infrastructure in place so
when you say somebody is sending these
things that one thing we're trying to do
and I hope it will work out is to give
these guys in Rwanda a so Chris based
thing in the car that you drive to the
district width and the O symp you run on
their cell phone and you could actually
do a survey and say what what is the
incidence of malaria in this district
and have it collated and be uploaded and
go to central government which actually
knows where to send malaria medicine
right now they're just doing whatever
they feel like doing the the it's pretty
horrendous the we're looking at Jabbar
not because you could do instant
messaging with one-day delay not sort of
is an instant messaging or what is it
but Jabbar is a nice app because it has
3 modes you can do file transfer you can
do email and you can do instant
messaging so you get all the three kinds
of things and you can actually do
instant messaging on top of dial-up
right so you won't actually separate out
within the app that these bundles go on
dial up those bundles go on Wi-Fi those
bundles go on GPRS or whatever so you
know we can actually think about doing
those things so that's Jabbar is a nice
test case we have HTTP GET for obvious
reasons be working on email and take a
minute because this is kind of an
interesting be using thunderbird and we
are internationalizing it just doing the
internationalisation extensions and this
gentleman showed up at my office the two
weeks ago saying I I can do any language
you want using six keys and he's figured
out a way to use the six keys to enter
12 different languages he can do his
five Indian languages he can do Chinese
Korean Bengali Gujarati Hindi and in the
ticket which is what the Inuit speak in
northern Canada and he does is a six
keys and he just saw my website and
showed up I said can you do Telugu
because the deployment is going to be
under Pradesh and he said give me two
days he comes back two days later and he
has Telugu he doesn't read or write
language but he's a speech pathologist
and he knows how to do these things and
he taught himself basic programming
visual basic or whatever he is the
adding the stuff so we're going to have
English keyboard with six keys with
stickers on them which will be used to
enter Telugu and will provide Telugu
email in a deployment so this is kind of
nice so if you're interested send email
alerts and you he has a website with the
video of how he does these kinds of
things flickr upload is under way flickr
is a great way and if you looking for
photographs of where is the water
collecting you know for malaria
prevention programs you can take
photographs and actually upload them
using this so flickr is a nice way to do
that so as i mentioned the DTN two
extensions have done or simply is done
the kiosk controller is ready to go and
if anybody is interested be writing up a
tech note on how to make your so Chris
box work this way so you can just
replicate this securities being devil's
stand along you need to integrate that's
going to happen in the next couple of
months and we do a first deployment in
two villages in in Andhra Pradesh in May
so we're going to go off and do this
conclusions okay so what were the goals
we wanted low cost so the so Chris box
costs about 200 bucks give or take
depending on what you put in it the
recycled pcs with one hundred dollars so
we're roughly the two hundred fifty
dollar ballpark right which is not bad
because it will is a final review system
in fifty cents a person which is okay
because this includes communication plus
computing reliability I don't think we
got there because we need to do data
replication and we got stuck with
routing so once you get the rotting
figured out and the flow control figured
out you can do reliability but for now
I'm not too happy with it we allow user
mobility wheel or data privacy using the
ibc stuff we are able to use existing
Internet services using proxies we are
able to use any available networks so if
somebody says I have a kiosk with Wi-Fi
a long range Wi-Fi and dial-up no
problem will support that and we are
able to support laptop and kiosk you do
so we met most of our goals and I hope
to meet the last goal by this form so
what in line cook us are a good idea
despite all the bride bad press that
they get in some quarters because of
failures I think the good idea
because it costs the very cost-effective
you know the cost per person is in the
fifty cents to one dollar range however
the failures are because of
inappropriate technology people are
taking fully-featured windows XP boxes
that take 70 watts so far they have
seeded on bribes and they put them in a
conditioned room with a dial-up okay
that's your standard state-of-the-art
today all of these are bad you should
not using full feature window XP because
it has so many viruses worms and etc etc
in Cambodia people find that sixty
percent of the network bandwidth on the
dial-up is used for updating virus
definition files okay this is a bad idea
they should not be taking 70 watts of
power they should be taking like a
factor of order of magnitude less like 7
watts they should not be using a dialog
which is flaky they should be using the
buses going round and round anywhere you
may as well just use them so by using
appropriate technology you can solve a
real problem and the underlying problems
when you try to build appropriate
technology are not easy just this graph
problem at all you bought is not easy
just solving the time scale coupling
problem is not easy so this fundamental
research you can do which is
intellectually challenging but also is
very applicable in this particular
situation so we think fairies are
attractive we have practical solutions
for some of these things mostly working
I've told you exactly where we aren't
working and I'd like to acknowledge that
the DTN code comes from Intel research
at Berkeley and the open DHT is also
from into research and Berkeley and
funding this is being funded by a bunch
of people and you will note the asterisk
thank
yes said the right for using GV area
okay so the question is question is what
about using satellite or GPRS satellite
you have the upfront cost of the visa
terminal okay we said terminal because
it depends on where you get it from and
so on but talk about roughly but five
hundred dollars or so and then you have
monthly fee to rent the space on the
transponder and that's anywhere from two
hundred dollars fifty dollars two
hundred dollars a month okay this is
costing you basically nothing right GPRS
you pay per bit like a paper bit in
Canada for GPRS service and the lowest
rate plan I pay $23 a megabyte okay and
the highest rate planet pay three
dollars a megabyte in India it's cheaper
India it's about I think it comes to
about thirty cents a megabyte or
something like that but still you cannot
imagine transferring ten pictures over
GPRS you just you go bankrupt life and
death certificates you can wait a day or
two because right now they have to go to
district headquarters which by bus get
the certificate and come back so it
takes two days anyway so you may as well
just use this so the question is can we
do low bandwidth transaction services
using GPRS answer is yes okay this is
mostly useful for higher capacity
value-added services like email with
attachments or if you do only
transactional smalls kind of things you
can just use a cell phone link go by the
way that's not widely available either
okay it's not the coverage is not as
good as you would like yeah but we're
looking at essentially beyond beyond
very low end transactions yes
yes
the question is people like Reliance in
India digging trenches around the
country how far is it from reality India
is in fact one of the most wired
countries in terms of fiber recent
studies have shown that every point in
the countries within 25 kilometers of a
fiber drop ok papa fiber pop the fiber
parts are not lit the dark fiber and
they were 20 fickle with it but they
within 25 kilometers which is quite
amazing another statistic which actually
we found quite surprising was forty
percent of the world's fiber is owned by
India including internationals type so
it is fiber rich ok however the issues
of can you get it to the villages from
the from this the back hog right that's
really what you're trying to solve over
here we're not saying we're going to
have the high capacity uplink but maybe
you go from dsl to OC 3 but the last
mile for 100 thousand villages is not
easy and that's what you're trying to
solve over here yes how does it feel
better dialogue dial-up you pay what is
it one rupee a minute for dial-up here
you pay zero two piece a minute it's
free right there's a buzz going round
and round anyway so other than their
maintenance costs which is you know
depends on outages you're not actually
doing a new is only upfront costs
there's no monthly fees it's just for
free number of bytes per second okay so
here the dialogue typically in India is
10 kilo bits per second okay you can you
can use this one you can get up to five
minutes of bus time is equivalent to one
day of dialogue ok that's the ratio so
if you have two buses going past five
minutes contact time you're twice as
fast period native dialer actually it's
faster because buses get there in a few
hours
one more question
yes how many people oh right so the
questions are they are these buses
dedicated to the snow these are just
regular road transport buses that happen
to be going past or what we do is they
have 12 volt DC in the we just take the
12 volt DC / user / condition power
conditioner and stick it into surplus
boxes just sitting there we need to
potentially drill a hole or go through a
window for an external antenna but
that's at eight dollar antenna the
maintenance maintenance of the kiosk as
I mentioned you're working this partner
colleague of services and they have 80
kiosk in operation today already the way
they work is like this they had 300
people in Delhi who are doing business
process outsourcing and they have a team
that split off to provide the
infrastructure ok these guys right have
written application front end and
they're an Oracle 10g in the kiosks and
they do all the transactions in store a
file and then they train the kiosk
operator to upload the file using
dial-up ok that's the problem right now
is that the upload is not very fast so
they can't provide email the contrary
attachments and they can't do very much
more what we are doing is working with
these guys who already know how to run a
kiosk and getting them better plumbing
ok that's our job the kiosk training the
entrepreneur training all that stuff is
being handled by yougov services and
that is they plan to scale to 4200
kiosks in a body or so so they are
pretty well capable of doing that yes
each chaos is going operated yeah ok
thank you very much
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>