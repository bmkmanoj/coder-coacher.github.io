<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Spatial Query Processing Utilizing Voronoi Diagrams | Coder Coacher - Coaching Coders</title><meta content="Spatial Query Processing Utilizing Voronoi Diagrams - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Spatial Query Processing Utilizing Voronoi Diagrams</b></h2><h5 class="post__date">2007-10-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8cnDGhX2HCo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">my name is Maddie sheriff's today thanks
for attending my Todd this Todd
represents parts of my PhD research at
the University of that in California
which is partly funded by Google during
the summer 2006 by a research grant all
discuss how the computational geometry
data structure named world war on
diagram can be used to efficiently
process queries and data sets of special
objects shapes points polygons mainly
points here ok this is the outline first
i'll introduce and motivate this
research then i'll talk about which
category of special course I'm talking
about and then I'll define going
diagrams formally using an example and
then I'll talk about different
interesting properties of these diagrams
be different case studies let's see how
many of these we can I can cover here at
least two of them different case studies
of this especial queries that we can
address using war on diagram efficiently
using were diagram relation of these
calories to Lauren diagram and how we
can have War II based special query
processing algorithm for this I'll
discuss that I then as always I'll
conclude the talk and hopefully you'll
be still happy by then at USC I'm part
of this project named geotech dudek is
towards building a geospatial data
decision-making system this is a
multidisciplinary project people from AI
computer vision computer graphics
databases are involved in this it's
partly funded by Google Microsoft
Chevron and NSF and those people and the
mission of the project is that we want
to beat built rapidly and accurately a
Jewish special space which is
information rich and realistic so it's
kind of building a 3d model of a city
but using realistic data and the system
should be connected to different real
data sources about that city and then at
the same time using the system we can
support visualization we can issue
interesting queries
on top of this data in this model and
then do data analysis capabilities there
are different applications and CD
planning crisis management real estate
and even these days news broadcast and
then let me first show you a video of
whatever we have so far if you see the
video okay i guess i need to search
time
I have the video summary
ok another
this one should be seen
No
ok
okay here we go
so here you see you're looking at the 3d
model of buildings of USC campus at the
same time we have a satellite image of
the of the building we have bunch of
vector data road data interesting
locations in the in the data and then at
the same time 3d modeling 3d model of
some buildings built using real pictures
from the area at the same time
superimposed on the buildings there are
different parts of these projects there
are parts involving involving building
these 3d models parts involved in
involving accurately laying out those
road networks on top of satellite images
images you know that they are not always
accurately align and then there are
curries you see these little labels
coming there are labels of the buildings
and this is the live video feed that we
put from from the videos on this 3d
model so this is at the time that we see
the demo this this is a live picture
coming from the outside board and the
same 3d model we don't have sound so we
cannot hear them but it would it would
be cool if we have like microphones it's
against privacy but we can have
microphones there as well so you see
having this you spatial information
reached data we can have different
queries is issued on this on top of this
kind of system let's get back to the
presentation now what we have is that we
have provided this dude this user
interface to this geospatial space that
through that interface we can
coefficient which an issue queries so
here you're looking at this nigga user
interface but supports information of
formation of queries so we said this guy
is doing a range query here we want to
find all the trans which are this campus
trams that are passing during the
arrange a time bridge from the area
inside this rectangle and then at the
same time we have we have different core
interfaces so here we are using this
cyber gloves it's like kind of Tom
Cruise
and to do this and then we are
supporting different spatial queries
range query shortest path the same
driving direction that we have in google
maps and then this application is
connected to different sources like 3d
models Road vector data traffic data
point data moving objects which are the
trams and then once we use the issue the
query the code the query results is
coming back from the engine or special
color processing engine and then being
visualized here at the same time we can
generate KML files and visualize the
result in google earth as well so now
how my research fits in the whole system
I am targeting a spatial query
processing and I'm mainly interested on
those special code spatial queries that
are looking for a special objects in a
database of objects that minimize or
maximize the distance based location it
is an Smith function which is geometric
function for example let's say this is
my location X Y latitude longitude give
me the closest restaurant to this
location that's a very simple sample of
these quarters a time I'm targeting or
let's say I have a database of the
location of restaurants in an area the
location of all policies station in that
area give me the restaurant in that
database that with the maximum distance
to its closest policy station let's say
we want to say okay if there is
something going on in restaurant which
restaurant is critical because the
police this session is too far or close
parks road segments with minimum
exposure from nearby buildings this is
this is something that we are providing
for the 3d model so let's say president
is going from point A to point B give us
a route with minimum exposure from the
3d buildings the top of the buildings
because we want to see how many guards
we can put on top of those buildings to
prevent events
ok so these type of queries are not
limited to systems idea that they are
even beneficial for online maps like
Google Maps so what this map systems
these days the simplest form of cory's
they have they have nearest neighbor
query you say just give me the
restaurants in this area give me the
restaurant in the in this area all
you're just saying ok give this is point
a that's point B give me the driving
relationship direction from A to B what
we want more I want more as a user so
one thing we can do is that ok the user
says of here this is location s location
B give me the restaurant closes to both
a and B which is I want to I want to
minimize the travel the total travel
distance we are two friends we want to
meet somewhere to have to dine in an
Italian restaurant give me the closest
restaurant to both a and B this is
called group nearest neighbor quarry in
database terminology at the same time
you might have this interest in quality
you say this is location a and then I
want to go I want to start from this
location a I want to go drive to a gas
station to fuel my car after that I want
to go dine in an Italian restaurant
after that I want to go and watch a
specific movie in a movie theater that
shows that that movie then give me the
path which is the shortest route from a
to a gas station a restaurant and a
movie theater and then the total travel
distance should be minimized so the
result of the query would be go to the
gas station a go to the restaurant are
and then go to the movie theater m and
then the their autism minimize the
travel to travel to distant we call it
sequence route here
so there are two main specifications of
these quarries that we can recognize one
is that either in the quarry result for
example this closest restaurant to both
a and B the result resides in a local
neighborhood for example here that there
is the restaurants which are candidates
for this for the result of this query
are close to the shortest path or
driving direction or the route from A to
B or or there's a region between beach
the result of the curry is invariant so
for example if you say the curry returns
from from location a go to gas station G
restaurant R&amp;amp;M and then you move a
little bit further in this region again
the query returns you g RN m so there
might be a polygon like this a region in
general within which the result of the
same code is invariant so if you say ok
this is be my location B I want to go to
gas station restaurant and movie theater
gives you the same result so now we show
how this data structure named Warren
diagram exploit this kind of properties
to address these queries so now let's
first define the Warren diagram what is
a Warner diagram a voronoi diagram given
a set of endpoints but this orange
points abnormal diagram partitions the
space into n region each region that
this region corresponds to one point and
include all the points in the space
whose closest orange point is that point
so any point here so any point like you
within the region of P its closest
neighbor or closest orange point is P Q
inside the cell of PB call this voronoi
cell of P distance between Q and P is
less than distance between Q and any P
prime
they have been used since sixties but
they named it after someone named
Georgie burning which should be why here
it's not it's not it's not limited to
Georgie and math and those things they
have seen everyone in the nature you can
see it in art architecture so they are a
source of inspiration for encoding the
concept of closeness were the ones the
points are the center so the points has
been deleted but the point is the Center
for example if we go back in this is
stone the points are the center of a
force that we're just forcing something
outward
it's it's unique what do you mean in a
boring diagram is always unique it's
always with a given set of points all
that you're getting the same thing so
that if I my segment in this place
arbitrary with would you say this is a
verb oh that that's that's not a problem
looking at something you can find points
it's not always for any arbitrary
partitioning of this space you cannot
recognize the corresponding point that
generate that one either yes why the
real point
exactly so there's a fourth power
pushing things out fourth and then we
have became so materials places where it
starts
there
okay now let's go further properties
generally disk at this type of diagram
they capture the concept of closeness so
you see you have a distance then based
on this distance and objects you define
this diagram then for a given set of
points or objects they are unique and
then what we call ordinary world diagram
are the diagram in which the the points
or objects are 2d points and or ND
points and the distances euclid
understand so shortest the length of the
line connecting to those 22 points and
then using oops sorry okay now using
word diagram in the voronoi diagram the
complexity of diagram is order n so the
number of vertices and edges of this
diagram this vertices and edges is order
n and the average number it's proved
that average number of whirling
neighbors or vertices of each cell is
less than or equal 6 if you average over
all the points for any distribution and
this is this is good
ok now the definition of warrior diagram
is flexible with respect to two things
one is this type of data data space
whether it would be it would be 20
points to the polygons or even if you
can map documents in a peer-to-peer
network to high dimensional points then
you could you could have the warrant
diagram of those four in that high
dimensional point there the distance is
similarity between documents and then so
two parameters type of data and the
distance that you're defining now if we
change any of these we will have a
variation of the water diagram so one
variation that I'm going to use during
this talk is additively waited for our
diagram in which each point is assign a
weight a numeric weight and the distance
between any location in space and any
point orange point here is defined as
the length of the Euclidean distance
between Q and P here plus the weight of
P so here the difference between this
one item tivated varela gram and general
or diagram is that you have this weight
here and now having this weight you're
the boundary of the warning cells are
not line segments are not straight lines
here you will have curves and you might
have points with empty cells
now different variations can be used for
processing different queries let's go
for the case study to see how these guys
are connected together right okay
consider this problem let's let's say
you're traveling to LA for conference at
the same time you want to decide about
the hotel that you want to stain you
have different attraction areas
attraction points location in area that
you want to visit one is the one of the
beautiful beaches of Southern California
the location let's say is fixed one
point so you have one point beach one
point the conference venue the location
of the conference and one point is the
airport which hotel you want to decide
to stay in if you want to decide just
based on the distance between the hotel
and these points of interest beach
conference airport obviously if you
compare hotel one and hotel to hotel one
is much better than hunter too because
it's closer to airport than hotel to to
airport to beach then hotel to bitch and
conference when you attend hotel to the
conference ring so in terms of all three
distances to these three interesting
locations one is better than two so
you're not going to decide about to you
have one to decide about it at the same
time you you have different you have
different locations hotel location that
you cannot compare them together for
example you cannot concert you compare
h1 to h3 because each one is closer to
conference when you down h3 but h3 is
closer to airport Danish one so you want
to give up on something you should give
up on airport or conference we're
looking for this query we call it a
specialist skyline quality looks for the
location of hotels which are not which
are which form a candidate for you from
which you want you want if you want to
find a hotel so in your candidate to is
not in your candidate photo 1 3 &amp;amp; 4 on
your candidate why because there is no
hotel better than three weather
for but in that one so the problem is
that finding hotels close to airport
beach and conference the core is that
what are the candidates interesting
hotels and then the criteria is that no
hotel should be better than a candidate
or in terms of all these stances to a B
and C and it has applications it's ripe
to planning again even worse wireless
sensor networks we have examples this
query is defined in terms of distance
but it belongs in general form it
belongs to larger category of query in
reading database community they call it
general skyline code that's the reason
that we call it a special as Carolyn
query and publish this paper in vldb
2006 this year so let's go to the
abstract space we have a set of data
points p 1 2 p-4 we have sort of query
points the p12 p for our hotels curry
points q1 q2 or conference menu airport
and then the distance is here Euclidean
let's say then we define p2 is
especially dominates p1 once the distant
the corresponding distance between P 2 +
q1 and q2 is less than the corresponding
distance between p1 and q1 that formally
defines it this sense between p 2 and q
1 is less than or equal distance between
p 1 and p 1 p 2 and k 2 is less than P 1
and Q 2 and at least one of these should
be less than instead of less than equal
so in this space we say p 2 especially
dominates p 1 with respect to distances
to q1 and q2 so what are the points
given this data what are the points that
can dominate p 1 this is geometry high
school geometry let's say we have
circles centered at q1 and q2 with the
radius equal to c q 1 p 1 q 2 p-1 any
point inside this circle center that key
one it's it's this sense to the center
of the of the spherical q 1 is less than
its distance the distance between Center
q1 + p1 right so p2
the distance between P 2 and q 1 is just
as the distance between p1 q1 so in
terms of just distance p 2 dominates PP
1 now Pichu should be inside this circle
as well because the distance between P 2
and q2 q2 should be less than the Sun p
1 and Q 2 so anyone in the intersection
of these two circles this area any point
here can dominate p 1 because its
distance distances is less than these
distances this sense is between p 1 and
q Corey points so this area we call it
dominate your region of p1 if there is
no point here that point is not being
dominated at the same time anything
outside these two circles is being
dominated by p1 so p1 dominates point p3
because it's outside this circle and we
call it dominance region of this p1 at
the same time there is no dominance
relation between a point like p1 and a
point like p 4 p 4 is not within inside
this dominant Dominator region of p1 not
inside the dominance region of p1 so if
the pump if you find points like p4 for
them no point is dominating them those
are the kind if for instance we want to
find any question here
so the curry obviously is finding the
data points that are not especially
dominated hear the answer will be p2 and
p4 yes because p1 is being dominated by
p2 p3 is being dominated by p1 now how
we solve this not in the knife way if
you want to solve this in an IV bag for
each point like p2 we need to alter it
over all the points like p1 we need to
compare the distances to the
corresponding distances of p1 with the
quarry points if all of them are less
than this and then we are iterated over
all the points p1 p3 and p4 and we found
that there is no point that is better
than p2 with respect to distances to q1
and q2 then p 2 is a part of solution
just a part of solution and then we do
the same for all the points so that's a
knife solution efficient there this is
not a vision they can do many things to
make a division but let's just focus on
this what is the complexity of this we
are comparing every tube every pair of
the points so the complexity here has p2
which is a number of data points and
then for each point for each two points
that we are comparing them together for
each one we are doing q distance
competition between the data point and
curry points q distance computation for
one point of the pair q distance
competition for the other point of the
pair so we have to queue distance
computations for each of these tests
dominance tests so then the complexity
will become order P to Q but this is not
good this is not the complexities high
and the dominance the number of
dominance checks that we were doing is
getting increased with the number of
data points and the number of quality
points so once you have different
attraction location that you want to
visit you have a movie theater yet you
want to go you want a museum that you
want to go and see you want to cite
visiting a site visiting point like a
summer a mountain or something that you
want to say you want to go and see this
is not this cable in terms of number of
points that you're adding to your foot
the distance augmentation is really
limiting value
the quarry is coming in real time right
so but for one period you don't need to
look up
distance preparedness
going to eat
no at the time of the quarry you're
getting a number of Corey points if you
want we pride if you've already you can
catch that thing that's one thing yeah
yes there are many things you can do
over that knife approach the naga
approach is just because you want to
realize that how a naive a push or even
an improvement over of a naive app which
is not good so let's go to the
properties what do we have here now okay
this belongs to the general skylynn
algorithms the category at a large
category of algorithm queries there we
have a database a multi-dimensional
database each record has two columns
rating price this could be hotels but
they are not locations each point has a
hotel the information of a hotel rating
price then the skyline of this data is
the points whose are not that are not
dominated by any other hood any other
point here so if the hotel is here the
price is the directing is less let's say
less rating is better here the rating is
less but the price is high but there is
no other hotel that has the less rating
than this so if you find the skyline of
these points or the hotels then we are
getting this cotton of this this
database but the thing is here these
attributes are static and they are not
special what what we have is that we
have the space of locations longitude
and latitude and then the quarry comes
by user in real time the location of the
user the location of the queries and
then these attributes which are defined
in terms of quality points are dynamic
so we cannot use general the skyline
algorithm for this problem and at the
same time this problem belongs to
geospatial space so there are lots of
opportunities opportunities for
optimization once realizing the geometry
properties of that of this of the
problem
domine works in the electric chair on
general skyline Korean a special nearest
neighbor I'm not going to talk about
them so the complexity of my approach
was order P to Q we want to decrease in
this complexity by increasing the number
of data points that we want we are
checking and decreasing the number of
Corey points that are affecting the
result we show that there are coded
points that they're not actually
affecting the results now first we all
unified asada a subset of definitely
skyline skyline points for these points
we don't need to do anything we don't
need to do dominance check let's see how
these points are so we have data points
orange points quality points light blue
points if we have the Voronoi diagram of
data points orange points then and this
is this is the query points and the
triangle is the convex hull of the
quarry points the convex hull is the
unique the unique convex polygon that
includes all the points in the inner
data so now if there is a point like p
whose voronoi cell intersects with the
convex hull the point p is a definite
Scotland points and there is no need to
do dominance check for this point so if
you have the diagram of the data set and
we form the convex hull of the quarry
set then we just do an intersection
between warren ourselves and the convex
hull we don't we don't need to do any
diamonds check for these points I'm not
saying that these are the only points in
the results these are definite points in
the results so there should be actually
in there is out there are more points as
well that's the main property we are we
have exploited and proved to find this
algorithm so let's go for algorithm to
see how this works the algorithm is
voronoi base so its uses utilizes the
world oil burner diagram how it works
with no dominance check at any data
points whose were nicer intersected with
the convex hull of Q so we eliminate
a number of dominance checks here at the
same time we do Dominus check only for a
limited set of points and what are those
points those points are the neighbors of
these different at the skyline points
that we just found here so we don't need
to do the pairwise thingy we don't need
to do lots of computation at the same
time as we are using the convex hull of
the quarry points you see that if there
is a query point inside the convex hull
obviously that query point is not
affecting the result so the previous
example in the previous example here we
have for Corey points but one of them is
inside the convex hull so we can just
eliminate this we can prove that this
point is not affecting our result so
even if we do the knife solution we
don't need to do the query on the compy
distance competition with this point so
these are two observations and actually
we prove this so let's see how this work
so we have a set of data points then we
are getting quick we assume that we have
the Voronoi diagram of data points given
or pre-built precomputed so we have this
then we got the query points like blue
points here for the first step of the
algorithm the name of the algorithm is
vs 2 is that we compute the convex hull
of the query points this is easy order
log n log number of query points which
the number of coins are always is not
there not that many compared to the
number of data points then we start
traversing the world diagram from a
random point any point at each step we
do hope so the order of this traversal
is in the order of some of these stances
of the point that we are traversing we
are visiting in the diagram the sum of
the distances between this point and the
vertices of the convex hull so if you
want to get inside the convex hull we
want to traverse this and get inside the
convex are we need to minimize that
this sense so we start from that point
we visit all the neighbors of that point
of the cell of the not that point we do
the same alternatively at each time we
are visiting this rich red point and
then you're extracting all the points
who's worn we sell our neighbors of the
whirling cell of the visited point we
use a min hip sorted based on the
distance between the points that we are
visiting and the controversies of the
convex hull so this obviously gets us
inside the convex hull of the points we
don't have noticed we don't have any you
don't have any tool to browse the space
data points you're using the curve or a
diagram we're using this voronoi diagram
to traverse the space we don't have any
our tree we don't have any index
structure flat data point they're not
sorted so once we get here we know that
this point is the convict one of the
Skyland points why because it's for
annoy cell is intersecting with this
convex polygon convex hull of the quarry
points then we go further so for this
point we didn't do any dominance check
we just check the intersection of the
warning cell and the convex hull further
that's the second point third fourth so
far we did no dominance check instead we
did intersection check between the
warning cells and the convex hull now
here comes this point this point is not
a definite point why because it's
voronoi self is not intersecting with
the convex hull of the koi points so we
need to examine this even now we just
examined this and do the dominance check
between this point and the points found
so far we have proved that if any point
one want to dominate this point if any
point in the data points want to
dominate this point it should be found
so far using this Traverse all of your
drain
so you see the whole bar diagram and
traversing the whole war on diagram
during the world using that adjacency of
the Warner itself gives us this noise up
this noise directed traverse all of this
space so that we found we find the
specialist kailan points in an order
that eliminates the pairwise comparison
of the points now here that's another
point because of this intersection and
then we are done now you might see you
must say okay we have traverse the whole
space but now notice that this could be
a small part of the whole world diagram
of the points and then once we start
from any point here even a point here in
a small number of steps we can get here
we have I have the complexity here it's
okay let's say it is now you might say
ok when you want to stop this driver
solve this Travis all stop somewhere in
the middle of this reversal why because
if once we have the very first skylynn
point we can form the dominance we can
maintain the dominance region of that
point the dominance region of that point
is anything outside this so once we
arrived at the boundary of this small
rectangle we can stop so obviously this
is stop somewhere and we have observed
that we are stopping very earlier than
getting to that boundary now what is the
time complexity order s to which is a
number of skylines that we found number
of results we are doing in the worst
case that we are doing dominance check
your checking just with the vertices of
the query points which is the vs. of the
quarry points are always less than than
the number of Corey points so this is
obviously less than order p 2 ki q and
even any efficient improvement over
knife now we have another factor here
which is the complexity of finding the
data points from which we we get inside
convex hull that could be order logp if
we have a point location algorithm or it
could be a square root of P even with no
tick nothing because if you have all the
all the points in an S square shaped
region then you just need it on an
average you just need to get to traverse
just one bit of it or beaten length of
it we did this experiment using the USGS
data including 1 million locations X is
the number of query points raining here
a number of Corey points and this is the
query response time that we got me see
VBS is the only general Schuyler an
algorithm that is applicable on this
problem but it's just for general
Skyland problems is use it an artery on
the data points we uses we use a variety
of pre-built for a diagram on on the
data points now you see how the
improvement is so once we get more
queries are improving getting better so
less than 0.5% given with 10 query
points and it's it's getting better it's
so that the difference in improvement is
getting better so I guess even with 100
I have tried this with hundreds query
points even with half of the data size
even with 250k query points I steal I
don't have a number here but it is feel
better than videos much better than
videos any questions so far so let's go
so what are the benefits of warming
diagram for this is specific query we
got a data structure that gives us
directed traversal of data points at the
same time we can explore the local
neighborhood that have that includes all
the result of the query at the same time
at the same time we have this finding we
found a set of definitely Scotland
points in terms of
they're voronoi cell so stillborn or
sell or voronoi diagram is useful here
now in the in actual paper we have a
variation once you have the number of
your query points are moving or you have
known as special attributes you want you
want to decide on the hotels based on
their distance the distances and the
prices or their rating and then the
future direction but I'm working on is
that instead of those euclidean distance
between hotel points and the conference
menu we need to drive so we need to go
through the road metro second case study
his name optimal sequence route Corey
that's the quarry we talked earlier we
have this home you want to draw it from
here to a gas station restaurant and
movie theater and then problem is that
finally you find me that optimal route
from home gas station restaurant movie
theater obviously the greedy route that
is we go to the closest gas station to
home the closest restaurant to that gas
station and the closest movie theater
that to that restaurant is giving us a
larger larger longest distance route
because we are at each step you're
optimizing only a segment of this route
so here if these are one unit the length
of this route is 15 once we go with the
optimal route the optimal route is this
one which is 12 you see that the gas
station is actually the second closest
gas station to home and the restaurant
is the farthest restaurant from gas
station well the thing is the whole the
travel distance the sum of the travel
distance from home to the movie theater
is minimized so you see that the greedy
route is not good here and it's not
working sometimes it's much worse than
optimal route so you cannot even use it
as an approximation to the optimal route
because you're making errors in them the
size of number of sequences the type
sequences that you want to visit
okay now again in an abstract way we
have a set of points locations and then
each point has a type shown in different
colors here we have five points 5 point
types here the distance let's say again
Euclidean distance for simplicity then
you have a query points and a sequence
you say I want to go to a pink red and
orange point then the optimal route is
something like p1 or 101 the answer of
the query will be p1 are 101 if the
query is starting at Q with the sequence
pink red and orange and then the greedy
route is here obviously longer than on
tomorrow so in real word in some of the
real world applications this sequence is
important you might say okay why you're
enforcing gas station before dining so
you want to feel your car before going
dining or you want to dine before going
to going to movie theater and there are
again applications the same area 3
planning crisis management now what is
the challenge if you want it if you want
to solve this in a naive way what is the
solution you can form this graph this is
your query point this point and then you
have all the pink points which is the
first type in your sequence in group a
red points and orange points you connect
this Q point to all pinpoints each pin
point to all red points each red point
to all orange ones now if you find the
shortest path and then we're from okay
and the weight of each edge from cue
from from one point to another point is
the distance between two points and then
if you want to find the optimal sequence
travel you need to find the shortest
path from q2 any of these orange points
then you pick the smallest one the one
with the shortest distance so any
Dykstra flavored algorithm is our
algorithm any shortest path on directed
graph directed graphs algorithm can be
used to solve this but the problem is
that the number of edges
are growing with a number of data sizes
the whole computation grows
exponentially with the side of the
sequence and polynomially with the
number of data points so once we add
more points here this lot is getting is
this graph is getting larger it's a
structured you don't want to store it
but even if you want to start a store it
or keep it in main memory you cannot do
it maybe you want to use external memory
algorithms but again there are lots of
improvements that you can do over this
this knife solution now we introduce
this Korean vrd the journal we provided
two solutions one for vector spaces
which is not actually voronoi base it
was using an art are three data
structure and another algorithm for
metric spaces which was true road
networks the distance was the shortest
path through rodman person single
quarries has been introduced by the
database committee especially the
Visconti through planning queries they
eliminate the sequence they just a
subset let's say I want to I want to go
to a gas station restaurant and movie
theater but no sequence give me the one
with the sequence that gives the optimal
job and that's actually NP hard so they
provided approximation solutions and
other queries like Kate's top queries
now let's say how i'm using i'm using
Warren diagram to solve this remember
ordinary world diagram we have euclidean
distance to the points and that was the
point Q is inside burner cell of P
distance between Q and P just
understands any P Prime and Q now we
have additive liberated were diagram
each point is assigned a weight and then
if Q is inside the warrants a loved pet
p then the distance between P and Q
parts the W or weight of P is less than
this sense between Q and P Prime and
weight of the Prime so you're adding one
weight to Euclidean distance to define
another distance
we are going to use this for up for
sequence qualities now we have exploited
two properties one property is that if
the answer to this query starting from Q
going to pink red and orange is p 1 r 1
0 1 then 0 1 is the closest orange point
to r1 which is a red point and the
intuition is that if you add any other
point like 0 2 which is not the closest
point to r1 you'll get a longer point
along the route the same can be
generalized for any sub route of this
drug actually a suffix route of this job
so if again if from q2 pink red and
orange you're getting p1r 101 then if
you start from a specific point p1 and
you want to go to a red point and an
orange point then our 101 is your answer
obviously the same we generalize that
the previous result because if from pink
point p1 we go to our 202 which is red
and orange and this is longer than this
then the end result is longer than p QP
1q 101 so you see that we are
recursively defining osr quality so if
the oils our query the answer of the osr
query from q2 a pink red and orange is
p1 r 1q 101 then the oils our query from
p1 which is the first very first point
in our optimal route to a red and orange
which is the suffix of this original
sequence is our 101 so any suffix of the
road is optimal if we start from the end
this was the closest point to r 1 r 1 0
1 was the closest route with pink oh
sorry red red and orange from p1
so here we have the same result the
suffix are 101 is the answer only
depends on the location of p1 why
because once we found p1 which is the
first pink point in the route then the
rest of the route can be independently
find using the subsequence of this
original sequence red orange and the
location of p1 now we do this for each
pink point we do this we find the
optimal sequence route from each pink
point to a red point and our end point
once we do this for each pin point we
can assign one weight the weight is the
length of the optimal second route that
we just found for each pin point so here
the weight of p1 is the distance between
P 1 R 1 and R 1 o-1 the sum of this now
what we have we know that per definition
of all sr as the answer of this query is
starting from q going to pink red and
orange is p1 are 101 then the distance
between q and p 1 plus the weight of p1
which is p 1 r 1 plus r 101 is minimum
over all the pies because we just define
the weight of P I as its distance to it
to red and orange is in its optimal
second job to read an orange so now it
reminds us of this formula we were
minimizing distance between a point q
inside this region to p1 plus w of p1
here we are minimizing the same so you
see the relation its it might be hard to
get but at least you see that the same
relation that we are having to define an
additive additively rated Warren diagram
the same relation is coming out of the
properties of the result of optimal
sequence raft
so now based on this we define this
optimal sequence route query processing
scheme if we assume that we have the
sequence beforehand before the core
attacks so you know that the users are
going to query for gas station
restaurant and movie theater that's the
limitation we have here because we want
to pre-compute then we construct if you
have three types we construct three
different additive / on diagram to find
out Mon sequence route to any query then
this is offline so we can't strike this
points offline then in online we just
get the location of the query you say ok
here is my location and the sequence as
gas station restaurant and movie theater
and I have built all the Warren diagrams
pertaining to that situation sequence
then the I creatively use this for
another one how we use that first we
have the additive / diagram of all pink
points let's say the sequence if pink
red and orange I have the aww for a
diagram activated one diagram of all
pink points first I locate q inside this
diagram I find the point p1 the point
corresponding to the cell including q
obviously here distance of q and p 1 p
i+ the wake of P is minimized per
definition of activated born diagram so
I have point P P 1 then i use the idols
innovated war diagram of red points i
find i locate p 1 the pink point that i
just found in the wiring diagram of red
points i find our one as the red point
corresponding to the cell including p 1
the same happens with r1 I find our one
in the ordinary warring diagram of
orange one points then the cell includes
our one has 0 1 as a point now what is
the result the result as p1 are 101
three points they just found using this
31 diagrams I didn't talk about how we
build these diagrams because it was the
same the same way that we answered this
query the reverse traversal of this
query can gives us the same dysphoria
diagrams so beating this war on diagram
is similar to doing the same query
processing but in a reverse order you
start you start from the ordinary world
diagram incrementally being actively war
diagram of red activity were diagram of
pink and then we are done so now this is
the data set we use a sample of those
USGS data set locations entire u.s. 250k
locations X sequence size the number of
types in the in the query and this is
query response time we compared this
voronoi based approach OS RV with the
art three based approach our lord and
then you see this is even using 12
locating the points in 12 warrant
diagrams we are answering the query
almost instantly because obviously we
have pre computed everything but the
nice thing is that the whole
pre-computation information is encoded
in Werner diagram but the result is
getting increased the time is getting
increased even with even if you have
more number of locations here sorry
Senora trees just like
it's archery is especially index yes
it's tacky regular index structure that
they have in oracle DB too now what are
the benefits the benefits is that
included all the regions with the same
result in one voronoi excel so now we
can just locate the points and then get
the result and then again we explored
that local neighborhood that included
the result now I want to show you a demo
if we have time we have time five
minutes time okay this one at some point
I decided to beat an interface to
decipher it i'm using google api so here
we have a number of data points types
these little icons are representing
locations the color represents the type
so here for example buildings are blue
this is USC campus there are lots of
buildings ER and then cemeteries are
grey charities are red and then you can
say ok I want to go to school and then a
hospital and then let's say a church I
have bad I had a bad example where we
were we had been wearing this I had this
hospital cemetery and church which was
giving a good result I'll show you that
one as well so now you say ok I am here
then you see it's going through
Euclidean distance so it's not going
through the road network but the blue
one the blue route is the optimal route
and the red one is the greedy one that
you go to close as the school then
closest hospital and closest closest
church 37 in this fight this is not real
differences in this in the data too long
to the space is 37 the optimal 145 is
the greedy one
and so on so you have different point
types once we traverse this that's the
hard thing that I'm that I need to get
from google map to somehow get the
points from google map and plop + them i
have the google map these points data
somewhere else I have a JSP that I curry
there and then I plot this everything
here because google map this gives me
this blind raster image ok what else we
have if I have five minutes I can show
you this demo as well this is ok this is
not working on firefox because it's
using microsoft mappoint so sorry to
showing you that but at some point i was
i wanted to do this so i see he's
working a lot yes is working so now this
one comes from up microsoft mappoint i
am loading location data hopefully gets
here very soon ok we have location data
these are the point this is this is the
demo of specialist column query that we
have the point the points let's say
these are our hotels and then you say
this is one location this is for example
conference venue this is airport and
then this is beach and then give me the
skyline or the location of the hotels
that I that I need to select from them
and there is no hotel better than them
so you see the results come back the
this is where this is a this is a very
small subset of USGS data so the blue
points are hot actual location of the
hotels I have mapped them to the
intersections for implementation issues
and then the black points are the points
that are in a special skyline so these
are the points that you need to decide
about
obviously this point is worse than one
of these points okay so we're going to
finish this I have two more case studies
but let's keep them
so to conclude the Voronoi diagrams
before conclude the wiring diagrams they
encode this concept of closeness and the
concept of closeness defined based on
any arbitrary geometric relation based
on this sense they encode it and then
whatever you precompute in space you can
represent it using a voronoi diagram and
then a pre computed solution to many of
these special qualities and that large
category of qualities can be fine by
Warner diagrams and then after you find
Warren diagram answering a special code
is just locating points inside the war
on diagram you might say point location
is expensive you need something for poor
indication yes on top of the warrior
diagram you need an efficient unit and
efficient algorithm to do the point okay
locating the point inside a map the
partitioning of this space what we're
doing right now is that we want to use
the network for my diagram these are
worried diagram optimized for road
networks network diagram to process both
optimal sequence route queries and
spatial scales on queries once the
distance is the distance to the network
the actual distance and then thanks and
these are the references publication on
this material thank you
I know I am ok so we're diagrams are
being built so they are a piece or an
ordinary boring diagram are closely
related to sorting so order n log n is
the thing that you can get so the
classic algorithm fortune algorithm that
you have for building boring diagram
ordinary world diagram is order n log n
but additive dividing awaited were
diagram should be more complex because
you have these curves and then you have
this points that they don't have any
cell but it should not be that bad
yes at least with the ordinary even with
the activated or diagram for with
ordinary boring diagram the number of
vertices a number of edges is order n
once you start at this order n and then
once you have the average number of 40
neighbors 6 you'll end up having like
six and storing six and information and
there is a dual representation of the
whole thing and that's actually the
thing that we are using we're not using
or not you're not we're not using those
polygons born yourself you're using this
Delanie trying triangulation order
Lonnie graph which is a dual structure
of the warning diagram I just talked
about voronoi diagram and I described
everything based on rolling diagram
because they are very good for
visualizing things but the whole
implementation is using their own
interact triangulation or Delanie graph</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>