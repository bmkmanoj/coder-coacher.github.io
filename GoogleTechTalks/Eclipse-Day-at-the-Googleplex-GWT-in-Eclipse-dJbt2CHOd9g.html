<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Eclipse Day at the Googleplex: GWT in Eclipse | Coder Coacher - Coaching Coders</title><meta content="Eclipse Day at the Googleplex: GWT in Eclipse - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Eclipse Day at the Googleplex: GWT in Eclipse</b></h2><h5 class="post__date">2008-07-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/dJbt2CHOd9g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so let's make this really laid-back and
interactive because I actually have to
admit I don't really know what everybody
knows about Google web toolkit and what
aspects of it might be most interesting
I'd be happy to talk about really any
aspect of it but I have sort of a walk
through assuming that you know nothing
about it and we can go faster or slower
during various parts depending on what
people's interest so let me let me start
by well first introducing myself Bruce
Johnson engineering manager from Atlanta
where we work on GWT and now let me ask
you do you already know about google web
toolkit the basic idea could you could
you raise your hand if you do know a lot
about it already ok so i think that
would justify some amount of
introduction to it so I think for so GWT
is is it's kind of a weird concept
actually and and I mean even if I didn't
say that you might so I like to start
out the presentation by motivating why
you need something like GWT which is
fundamentally a Java source to
JavaScript cross compiler ok that sounds
like a wacky thing to do if you're a big
fan of javascript javascript it might
even seem Laurent to you but hopefully
by the time we're done it will at least
make sense why we did it ok web one
point 0 world treats browsers like HTML
dumb terminals now that worked well
because you could write you know
powerful Java code on the server use all
your abstractions so long as you could
spit out HTML and the basic interaction
model was you know use your powerful
tools to create sophisticated HTML
spitter outer code on the server but you
were using you know tools like eclipse
and all the power of Java and so on to
do that but the UI itself was kind of
kind of impoverished because there's not
much you can do with a static HTML page
this leads to some very concrete
usability problems that you've probably
seen this 1i is one of my favorites to
dislike it which
don't use the back button and that
happens because the act of doing an
action within an application is
inextricably linked to updating the UI
in order in other words in order to get
to the next state of the UI I had to
have done some action and consequently
by conflating history and behavior you
end up with an admonishments like this
and you get really weird situation say
in a multi-step wizard say suppose you
have a twelve-step wizard okay using the
web one point o model and I I go you
know fill out the first six pages I've
gone you know next next next next and
now remember I made a mistake three
pages ago so I click the previous button
previous previous previous and then if I
click the browser's back button which
I'm trained to do is a user that
actually moves me forward so I click
back and I went forward in the within
the wizard that's bizarre but it's an
outcome of the web one point of model of
HTML dumb terminals the other one that
gets especially annoying when you're
doing say say stock trades for example
or around Christmastime when you're
buying those last-minute gifts on Amazon
don't click Submit twice well our will
charge your credit card twice and
implying that it's your problem as a
user right but this is it's the same
basic architectural problem to do
anything at all you have to go to the
server and go to a new page so it's it
really is a awful situation for users
because suppose that the network hangs
some server along the way hangs so if
it's Christmastime and you really want
the order to go through how you have to
wait you know you don't have enough
money in your account to to afford to
get charged twice so you don't want to
hit refresh or post it again and yet you
want to be sure it goes through so you
wait and you could wait forever anyway
bad situation okay in the web two point
O world the world of Ajax we realize
that the browser is a capable albeit
frustrating platform for app development
in other words there's plenty of fire
fire power within the browser but it is
very hard to harness it I don't think
any of this is news to anybody
so the web one point of worlds static
HTML in the Ajax world you can do the
same thing programmatically using
javascript now there's also some people
like to make to paint this as a
philosophical debate about whether you
want markup centric applications or
programmatic applications our answer to
that is we don't care we just want
applications that don't suck so so you
can with GWT obviously we want to
support integration of code with
existing HTML page so there's lots of
interop with primarily declarative UI
but you can also create completely
programmatic qi if you want to so in
terms of the the infrastructure Ajax can
be good not only in that it solves those
usability problems and it does the ones
that I talked about before it solves
them because by decoupling the act of
refreshing the page with invoking user
actions you can update the UI in place
by running JavaScript on the client and
orthogonal to that you can make remote
procedure calls back to the server and
evoke actions on the server so in the
the page by page model from there's
another subtle point regarding
scalability and responsiveness in the
the web what point o model you create
this sort of relationship between one
particular browser one particular server
because you've got session state if the
browser is a dumb terminal then you've
got a store state somewhere so you store
it in a session on a server so that
means that when I have multiple
interactions over the course of using an
application I need to create a
relationship between this one browser
and this one particular server which is
exactly the opposite of what a load
balancer really wants what a load
balancer really wants is a bunch of
stateless requests and so in the Ajax
world you can actually achieve this by
moving your rich persistent state
application state to the client
basically a running application within a
web page a bunch of JavaScript and then
it makes stateless RPC calls back to
your server so the better
of is more responsive and it's better
use of network resources and generally
would result in lower latency and better
scalability and then the other benefit
of the Ajax world is you can genuinely
do things that are impossible in the web
11 point 0 role so you can't have a you
know real-time draggable map for example
in the traditional static HTML world so
now we get to Ajax badness and this is
where GWT starts to make a lot more
sense if you have written a lot of
JavaScript code especially without the
use of a nice JavaScript library you
realize that there are just arbitrary
differences a different browser vendors
do different things for different
reasons but the point for in terms of
how it affects you is that it's just
different and so it's it's very hard to
create one set of code that works you
know across all the different browsers
then there's so mostly the problem is
the browser api's so you know if I want
to set text on an element it's called
inner text on Internet explorer and
safari it's called text content on
Firefox little things like that across a
large code base are very annoying but
those are API problems javascript itself
you know in theory is not a bad language
it's just it's just a very flexible
language which you can say is good or
bad depending on your goals if I'm
writing a big app though I would say it
would tend to be bad because of
situations like this so there's this
concept in JavaScript if expand O's
which means i can assign to any
identifier i want as a sub object of an
object in other words i can create
fields merely by assigning to some
identifiers that did not exist before
probably you've all seen this well this
this leads to a new class of bugs that
we didn't have in Java spelling bugs
right so this is a spelling bug well
what you said we fix this in fortran
though she said yeah right i mean it's
it's a but when javascript was invented
there were a different set of criteria
or you know what they were trying to
solve and nobody conceives of writings
and thousand lines of JavaScript in the
same page so you know it's not a value
judgment JavaScript it's just a fact
that you can write this you know
somewhere in the middle of a 10,000 line
script but the problem is it's not an
error technically there's nobody to say
that it's wrong in terms of the
machinery you can't identify it as a
problem but most importantly you can't
really test it unless you have
absolutely one hundred percent code
coverage on all your all the code paths
within your application and but worst of
all like and I chose this example for a
particular reason I mean if you look
what it's doing its hooking up an event
handler on some element so the way this
one manifest is later on I click the
user clicks um button and the button
just doesn't seem to work nothing blows
up there's no exception it just doesn't
have the effect you had hoped it would
okay I won't even mention that it's very
hard to do code coverage analysis on
JavaScript due to a lack of tools but
we'll come back to that so what do we
really want in terms of the user
experience what we really want is no no
installation this is why the web is so
popular we want to be secure and
browsers are pretty secure by default we
want for the user it to be easy to use
that's what's nice about hyperlinks back
forward and so on a familiar user
interface users obviously love the
browser so really what we do want to
build in the future is browser
applications it's a good model but the
thing is browsers only understand
JavaScript and we have sophisticated
apps to write so so something has to
give well what do we want as developers
we want to be very productive when we
write code we want to catch errors early
and avoid the kind of dynamic typing
errors that we saw we want to be able to
debug the code using powerful debuggers
especially type where debuggers make it
really easy to reuse code in libraries
things that we've been doing in Java for
decades well a decade but we've been
doing in general for decades in
statically typed languages
and it would be nice if the tool stack
was free that would be kind of cool in
other words what we really want is Java
development okay so here's what we have
we develop in Java deploy is JavaScript
so GWT we around here google we call it
wit which it makes a lot of people
cringe but I'm sorry it's just it just
is the way it happened so it is probably
most primarily a Java to JavaScript
cross compiler we always say optimizing
compiler because a lot of people assume
that the you know you know you can it's
the ease of writing in Java with only
some amount of cost relative to
handwritten JavaScript when in fact it's
quite the opposite it's the productivity
of working in Java and better JavaScript
faster JavaScript then you would have
been able to really write by hand
realistically a lot of people don't
believe that but that's I mean we can
talk at length about why that's true
later but there's also debugging
infrastructure so that you can actually
not just cross compile from source but
you can actually debug in Java in a high
level environment like eclipse I'm going
to demo that in a moment and then sort
of high-level what drives us as a team
is to give developers the tools to build
the most ambitious of browser
applications because at the end of the
day there's a lot of ways to create
average applications you know it's just
that when you start doing really complex
things things that have to be high
performance highly scalable highly
responsive very usable internationalized
the number of tool changes that can
satisfy those increasing criteria become
dwindling Lee small we want you to be T
to be the obvious choice for those type
of ambitious applications so i will i'll
show you now what it looks like in
practice this is a male sample
application that lets see how's the font
can you guys see the font okay yeah
I'm working in a regular clip since at
all I'm going to talk about the GWT
eclipse plugin but I want to make it
really clear that you don't have to have
a plugin we'll come back to that point
but this is just basically clips
functionality so I write I write Java
code I've created here a mail
application that that creates basically
a mock email you I I launch it the way I
would launch any you know application
that i'm debugging and the result is
that you get a an interactive
application that is currently running as
java bytecode but it is giving me the UI
that i would expect to see in the
browser so let me let me kind of make
this this point like really clear what
you're seeing here is called the hosted
browser it is really Safari but it is
being driven by java bytecode so the
when you put those two things together
it gives you the best of both worlds i'm
actually in a mode we call it hosted
mode where i'm using my ide and debugger
but i'm seeing the app and interacting
with the app through the the authentic
browser interaction model so i'm seeing
what it'll really look like just to give
you a sense of what you can do with this
this is this is the web inspector that's
included with safari
so you get some tools synergy there
which is nice okay anyway so here's the
application this is all running
client-side it's not doing any round
trips at all ok so the exciting part is
I promised debugging right so i have a
breakpoint already set and when i click
on any hyperlink here it'll trigger the
breakpoint ok ready 1 2 3 click so now
on my Ajax application i'm looking at
the stack frame where I set the
breakpoint there's where I said it and
I'm able to single step so let's take a
second and think about what kinds of
benefits were able to leverage now on
the process of developing this Ajax
application single step debugging
breakpoints any type of break point that
your IDE or your debugger support so
exception breakpoints data you know
watch base breakpoints data breakpoints
regular old line by line break points I
know maybe there's some other types of
breakpoints I'm not thinking about the
ability to look at at you know
individual string values within the
debugger these are all just sort of the
normal things you'd expect except it's
client-side Ajax code that we're looking
at another neat thing about most java
debuggers is that they automatically
call the two string method on your
objects from within the watch windows
you guys have seen this right so it's
good to over implement to string we did
that for the GWT widgets so that the two
string method would return the HTML
associated with the dom sub structure
for that widget which helps you get you
know more of a declarative view of that
same information so here I've
instantiated a contact pop-up widget and
when I select the pop-up object in the
watch window here you can see the
associated HTML is down here and if I
wanted to copy and paste this into a
separate editor to kind of analyze the
structure I could do that
alright then I press resume and the sure
enough the pop-up pops up like I wanted
it to okay so it showed you debugging
but let's not forget the types of things
that we were able to do in creating this
application in the first place right the
all the Wizards so new the new class
wizard they're refactoring capabilities
the code inspection capabilities you
know I can I can look at this in the
browsing view and I have easy access to
all the I'm really just demoing Eclipse
this is like the easiest thing in the
world the demo but perhaps the most
boring thing to you if you're already
very familiar with the clips but
realizing that you can leverage the
strengths of the clips directly to this
problem of client-side rich web
applications it's pretty cool okay so
where were we oh yeah now people who are
already JavaScript gurus rightly say
well this whole cross-compiling business
even if it's good in theory it is
annoying during development because
what's great about JavaScript
development is I can have an editor open
and a browser window open I can make
changes to my code and hit refresh in
the browser and instantly see the
effects of my change which is true which
is why we've made hosted mode work
exactly that way and I'll show you how
that pans out okay just to remind you so
here we have this thing this accordion
panel and a label there is called
contacts which was built up from this
code right here so let's say we want to
make a change now notice that I never
stop running I'm still running the
hosted browser session I can hit refresh
and I can continue and the code is
updated so i get the the effect i get is
essentially all the benefits of java the
simplicity of the whole edit refresh
continue like workflow and development
and
really only at the cost of smaller
faster JavaScript that gets compiled so
that was supposed to be an ironic joke
all right so now I want to tell you
about the JavaScript native interface
this is obviously interop is an
important thing in this model because
there's a lot of existing code out there
a lot of good JavaScript code a lot of
good HTML and we want to make sure that
it's easy to interrupt with that stuff
so fundamental feature of GWT is
allowing you to implement native Java
methods using handwritten JavaScript so
we abused the native keyword and we
ripped off you know the term J&amp;amp;I and
turned it into jsni here's what it looks
like so there are there are things where
it is more efficient to do something
using a low-level method that's
available only in JavaScript that
doesn't have semantics that map onto
Java in which case just dive right in so
if somebody says well javascript is
faster at this one microscopic thing you
could say okay that's fine I can capture
that same thing in a native method
adjacent I method and then create a
type-safe wrapper around it for
everybody else so in this case what
we're using is the strength of
javascript regular expression engine to
take a name that includes a first name
and a last name is the idea and then
find the space between the parts and
reverse it and put a comma basically
flip the name around so it's last name
first not properly internationalized I
realize that does that make sense i
guess one other thing to notice is this
special comment right the slash slash
star dash brace that you're that's the
signal that this is jas and I okay does
it are there any questions about this
what a bizarre debugger that's a good
question i'll show you that yes
is it very similar to Jay and I um it's
no not really it's only in the sense
that you you'd use the native keyword
and the IDE thinks of it as a jni method
so there are some times when you do a
refactoring it says are you sure you
want to rename this this is a native
method you might have binary code that
would be you know invalidated by this
rename but otherwise it's really just a
sort of a simple binding between a Java
callable type signature and the
corresponding JavaScript the the types
of values that you can pass into and out
of Jace and I JavaScript through Jas and
I simple values map exactly as you would
expect so strings they just become
JavaScript strings numbers become
JavaScript numbers very opaque objects
so complex object that was defined in
Java when you pass that into JavaScript
you need that you can only treat that
opaquely unless you want to call methods
back from the JavaScript you can call
java methods as well so you can have you
can make calls into javascript and you
can make calls from javascript back into
java so it threads both directions i'll
show you an example of that I'm sorry
and jealous
I didn't quite catch the first thank
JavaScript right well if you do if you
do really sophisticated right like
interactions it might be that what you
want to do is include an external
javascript library let's leave you a lot
of JavaScript code and then you
introduce stub or call through methods
using Jace and I that reference the
larger window namespace the references
identifiers in the JavaScript yes we do
well we do because it manifests is just
a normal method call / to the compiler
we do all the type checking that you
would always expect would know when
you're calling n so Jace and I method
here from Java so that works as you'd
expect right on the way back we don't on
the way back you have to eat coerces in
hosted mode and I don't have an example
of that but so for example you can make
things blow up if you mismatch things
right which is kind of the point of GWT
in the first place if we could solve
that problem then we could write a
general it's good JavaScript you know
optimizer in the first place so we can
do a lot of checks and i would call
those like they're at the level of
assertions that we can do at runtime to
help make sure you're not doing anything
dumb but the overhead of genuinely
checking all that stuff in the final
output would be too heavy so anyway how
does all this work so if you have seen a
GWT presentation before you've never
seen this like as I just made this one
okay so it's kind of neat plumbing I
mean even for even for a Java
environment to being able to you know
change your source code and refresh and
continue running without having to stop
and restart it's still kind of unusual
and the way we made that possible is
through a compiling class loader so it's
actually easiest to trace these arrows
backwards so if you start at the
top left with the hosted browser that is
driven by objects from this compiling
class loader the compiling class loader
gets a request from a class from the
hosted browser and then it asks the JDT
compiler which we host internally Thank
You Eclipse and then it goes and fetches
indirectly requests source files which
have to go through a processor that rips
out the jace and I code that I just
showed you and does some special fix up
as we compile it so it comes from the
IDE affects the source files we slurp
those n rewrite some things for jsni to
work compiled as the bytecode in RAM
answer the request in the class loader
using the bytes that we just compiled
and that's how we deliver bytes that can
be run in the hosted browser the full
details about this or probably fairly
excruciating but is there anything about
this that anybody wants to talk about
yes
right exactly yeah the question was
there is there at some point you're
interacting at the lowest levels with
the browser and does that vary based on
the browser that you're using and the
environment and it definitely does
that's um that's one of the harder
things that we do so that jsni rewriter
the way that it transforms your source
is that it it parses the source it finds
the JSON I blocks it rewrites those as
regular Java methods that aren't native
that that do two things one it takes the
string ified version of the jsni source
that you wrote shoves it across a custom
platform-specific channel into the
hosted browser and then invokes we have
this whole invocation stack invokes that
logic that we shoved into the browser so
take take a bodies of these of these
methods create little thunks shove the
definition of the method into the
browser and then when the thunk gets
called it routes the call into the
browser and the result back so it's very
platform specific so it right now it's
each of the main development platforms
primary browser sort of most known
browser so on Windows it's Internet
Explorer that we host on OS 10 it is
Safari and then on Linux it's Firefox no
no opera although i'm happy to say that
one of the next big pushes that we're
doing now is switching this around so
that instead of having exactly one
hosted browser that we choose hosted
mode will work so that it is simply a
depends on a browser plugin so and so we
flip it on its head you can run this
plugin in any browser that we can
support and hopefully opera will be in
that list and then you can test across a
lot of different versions even on the
same development platform another cool
thing is for people running on Windows
has been a problem they want to use
firebug because it's got a great Dom
inspector and some other things then
when use Firebug in combination with
hosted mode debugging you can't do that
right now because on Windows the hosted
browser is internet explorer when we
switch it to the plug-in based model
later this year you will be able to
combine those two things and any other
tools that you want so pretty exciting
oh cool thanks okay well so basically
there we don't do anything very clever
with the JavaScript we do parse it but
you know generally we leave that
untouched
that we might need to talk about that
more details I'm not too familiar with
the specifics so the you can see that
the architecture really is independent
of any IDE but I want to talk about how
we integrate with the clip specifically
so actually so let me let me do that we
are working on Eclipse plug-in now
finally we did want to make sure that
you know we're kind of the you know I de
neutral because it a lot of people have
different preferences for different for
what they want to use and there are a
lot of good ideas out there but we have
to we want to add a lot of value with
one ide and eclipse is going to be that
one at least that's the one we're going
to work on so I talked about Jas and I
and i'll just show you a couple of
things that you can do i mean most of
this stuff i would really won't even
waste time showing it because i think
you'll be able to guess what it does
like the new project wizard the point of
this wizard is that you can be up and
going with a brand new project and just
you know a matter of seconds I haven't
actually timed it but i believe it's
it's actually seconds not minutes maybe
minutes probably hopefully seconds one
of the things I'm kind of proud about is
that you can the Eclipse plug-in is
going to work with multiple different
GWT releases so we can release them
independently which means we can give
you plug-in updates more frequently but
it also means we can do kind of a cool
little thing which is provide a special
runtime version of GWT for open-source
contributors where I can actually work
on the the live projects that are
checked out onto my local client not
from jars so we think that will make it
a lot easier if you're actually
contributor and obviously all of us on
the GWT engineering team at Google will
use this mode as well so you can step
right into the authentic source for all
the libraries and make changes right
there hopefully get gift patches back to
us okay so that's one thing the new
project wizard some of the other things
that are probably most interesting
usually you know what I have notes about
this I was going to show you all that
but I'd rather leave more time for QA
so our philosophy is to try to pepper
GWT functionality throughout eclipse not
have a separate top-level GWT menu for
like everything that you might want to
do so everything would be
context-sensitive so for example one of
the things that you would often want to
do is take an HTML page that has a
reference to some GWT module so this
page for example this is an example of
including the the male samples how that
module gets included so it would be
really nice to be able to sort of say
debug this in a hosted mode session and
just kind of go and it'll start the HTTP
server and set up all the config stuff
that you'd want automatically the same
thing is true for unit tests and I don't
have a chance to really show you but
you'll be able to right click on the a
test case and say you know run this test
case using GWT s genuine integration in
the same way that you can do that with
regular j unit test cases now see so the
other cool thing just to give you a
sense of where we're going we want to
make sure that the plug-in makes it easy
for people to get started with GWT but
also that it really rewards you even
more if you're very sophisticated GWT
user so when you're doing some of the
most complex stuff we want the plug-in
to provide you surprising amount of
support even when you're doing corner
cases we're not there yet by any stretch
but we're sort of getting there so this
is a this is a sample app that I created
that just basically shows the J and I
somebody asked about setting up what
happens when you call a native method
I'll just I wrote an app that does this
oh so mode is I admit so a little bit
slow to start so I set a breakpoint on
the declaration line so right here and
this is the best we can do right now we
don't we haven't yet figured out how to
integrate deeply enough into the Eclipse
debugger to let you step through the
JavaScript as well that would be the
holy grail that would be really cool
yeah that would be cool I mean I I'm
definitely not promising that okay all
right that would be great that was one
of the other things I was hoping would
come out of this it in today's I could
make some connections who might have
some ideas about how we could do that
yeah we use rhino to parse the right
around swing debugger yes I mean let's
let's talk about how you do that so this
is uh this is going to call that method
and you can see this is really the best
we can do it does let you well I thought
it did maybe we've made some changes
yeah it does let you check the well no I
guess it really doesn't sorry at we must
have lost this somewhere along the way
I've been out doing presentations
instead of using GWT but nor it used to
be the case that you could look at this
parameter value on its way into the call
for some reason I'm not getting that
right now but yeah it is actually so
anyway that's the example of it running
but the where the features start to come
in things like this is I mentioned being
able to call from from a JavaScript
block back into Java code and to go back
to somebody's question earlier about how
is this similar to J and I this is one
way in which is sort of similar to J and
I like if you if we were to specify the
overload of the java method we wanted to
call you specify the type names using
J&amp;amp;I syntax here in the parameter
but what this is doing it's a it's a
method i can call set timer that would
call set timeout which is a native
JavaScript API that when it's done would
call back into my lambda here which then
would call back into some Java code and
how so the kinds of ways in which the
plug-in is helping this is normally
would be formatted you know green or
whatever like a comment we're actually
parsing and formatting the JavaScript
for you so that you get syntax
highlighting we also do things like
let's say you did made some sort of
obvious syntax error that's not even
valid JavaScript then you get you get
you know errors like you'd expect so
there's some small amount of help we can
provide there we can also this is a 1
i'm pretty happy about is as you these
are very verbose identifiers like that
it's because we need to be very
unambiguous about how to map back into
the Java code but if it's easy to make a
mistake and now though if you make a
mistake we can flag that good example
mixing job
yeah this here is a JavaScript this
right this keyword is a JavaScript kiss
yes
method of Oz as a job yes that's right
you know I didn't test this to be honest
this this could be a bug I I write
JavaScript so rarely now there's there's
a special case some JavaScript guru here
well you so it's this really funny thing
that happens when you you lose the
discontent javascript in certain
situations if there's a javascript guru
here please remind me but you in which
case you have to do this funky trick
where you do like that yeah exactly so
the other thing I just have to demo
because I'm proud of it is is
refactoring also works now so suppose we
call it due time to finish if you notice
down below in the JSON I block you'd
want that reference to be refactored as
well and it is supposed to have been let
me try that again oh yeah I think I do
it
okay so I am this is like totally
bleeding edge code the plug-in is pretty
new so you no excuses and so on does it
work yay it did work alright well
there's actually two modes so we talked
about hosted mode in hosted mode it
really does do that because we have to
have this distinction between bytecode
and JavaScript and we magically wire it
all up so in hosted mode it does do the
hard thing in web mode it does exactly
what you said that becomes just more
JavaScript and so it's a very easy
transition from one to the other and
again the reason you need such such an
elaborate identification mechanism for
what thing you're referring to is
because you lose all type context within
JavaScript so you have to have something
that you can just unambiguously identify
with ways you're parsing the JavaScript
code
right right so the question is basically
about the what when you compile it to
JavaScript what are the dependencies on
which browsers and all that so this is a
whole other topic that we really don't
have time for but there's a subsystem
with in GWT called deferred binding and
the purpose of deferred binding is to
actually create not one output file but
actually multiple output files
permutations such that each one can be
independently optimized for a particular
out target basically right exactly right
so startup it's two-face startup you
send down a selection script that
decides which permutation should be
fetched and then you fetch that
permutation the benefit is you pay one
small sniff cost at the beginning but
you've been able to optimize that
permutation with all the knowledge of
the specific platform that you're
targeting it has really dramatic effects
on the size and speed let's see so I
think that's pretty much the big thing
to provide a little more context and
then let's do QA actually our plugin is
the worst GWT plugin that I know of in
its current form the stuff I showed you
has been like other vendors have been
doing this for actually like a year and
a half two years so in IntelliJ they
have great support there is a NetBeans
plugin that can do this there's siple
studio which is an eclipse plugin that's
been available for a long time but we'd
also like to see deeper integration with
other great tools instead of us
reinventing the wheel we want to
integrate with existing good tools so
selenium find bugs code coverage with
Emma and so on so this area we're
considered continuing to think about but
one other great Eclipse plugin is thin
with designer which has a whole bunch of
stuff all the stuff I showed and a lot
more so WYSIWYG you know drag drop
editing i 18 n or pc support all the
idioms that we use to with in GWT they
support directly in eclipse in the
plug-in so here's an example of you can
just do drag and drop sort of visual
basic style but the what's better about
instantiation approach if you've not
heard of it is that it actually writes
the code that you would have written my
hand as you drag and drop things around
so it's not like this opaque thing you
can then go edit that code and then
it'll pick the changes back up now if
you've ever looked at this problem you
know there were limits as to how much
you can edit that code is love but as
long as you stay pretty you know pretty
much within the pattern that's there you
still really can touch it it's not too
fragile and then other little things
like internationalization we emphasize
doing a lot of things statically in a
compile-time so it makes it easy for
tool vendors to right tools that go in
and find the internationalisation
strings and so on so they did a really
good job with that and then i'll talk
about the community and they let's do QA
we're all open-source everything's
apache two point oh there's a
contributors list where the open-source
contributors talk there's seven or eight
hundred people on that and it's really
active and then on google code project
hosting there is something like 300 308
projects that are labeled GWT so and
some of them are I would say quite
non-trivial some pretty you know as
you'd expect there's a lot of just sort
of half done projects but there's some
really good stuff too so if you're
interested in in borrowing some existing
code check those out so with that let's
just open
I know that right
use of GWT within Google is it only with
Google help that's not quite true there
are some additional applications but
yeah I'd see that the pipeline is only
now getting full so because if you think
about it we the set of people that we
hired to work on those apps were the few
people in the world who were you no good
at Ajax and really like to work in that
environment so there's a lot of momentum
to keep doing things the way that they
have been but they're starting I think
you know more and more teams are
starting to see the real unique benefit
of this approach yes
are there any limitations on the widget
set so the question is is it a subset of
SWT I should have clarified we didn't
talk about the libraries too much but
it's it is not supposed to be swing or
SWT actually it's it's it's it's a
framework that was created that's not a
framework it's a set of widgets
basically and they're modeled on things
that a browser can do efficiently so as
opposed to like a swinger trying to take
swing or SWT which I've heard of people
trying to do those are really designed
for desktop capabilities and you really
need a different set of api's when
you're talking about what the browser
can do naturally yeah there's lots and
lots of little specific examples of how
that manifests but one way in which its
most different is that we almost all
styling and even some aspects of layout
are deferred delegated to CSS CSS is a
great part of the web technology stack
it's really efficient it's it's powerful
and declarative and so when CSS can do
something we don't make you write code
to do that same thing we tell you you
should use CSS yes
you write a Java code that's they're
gonna come jump right call it a dog
right so there there is there is a
complete RPC mechanism to and it's
something you can use outside of the UI
if you want just to use like rich or PC
you can do that and the way it works is
you define you know pojos or just
whatever type of objects that can be
serialized and when we compile we you
define an interface that declares your
services which are basically methods
whose parameters and results are our
serializable like our mi basically yeah
yeah and then at compile time we compile
client-side proxies for all the types to
serializers and d serializers and then
we have a servlet that you can use or a
library if you're not using servlets a
library you can use that understands the
wire format and so basically you get all
Java RPC back and forth across the wire
it does all the stuff that even the
heavy lifting stuff like what do you do
about cycles in your object graph it
handles that properly the security
perspective you are mentioning go to any
server or whatever you know I'm just
something intimate
if i want to check my email for example
and kind of go out and talk to the
server obviously there's some
identification information that has
passed that's something that kind of
luck to us yes if you didn't hear that
question that question is how do you
deal with authentication and cross sort
of like cross-site authentication and
general authentication issues with
regard to our PC and yes it's left to
use the application programmer we expect
frameworks will be built on top of that
layer but at the you know it's really
just the lowest level of plumbing and
maybe I should have said that to GWT is
really a pretty low level framework it's
about giving you lots of leverage on
creating code what code you choose to
create is really your call we would
expect the different companies they have
different use cases so they're going to
build up their own vertical frameworks
that work really well for their
particular set of use cases hopefully
using a you know high leverage tool set
in the process is the idea
server-side controls that they manifest
some behavior on to the client side and
there's a JavaScript execution at
runtime but it's really warm a low level
bright green rather than the higher
level element you have any something
here at the biases really towards like
in other ajax toolkit for you not full
conceptual model of the client readers
if there are there any plans to do more
server side yeah so um let's see what's
the mostest extinct way they asked me to
repeat the question so basically yeah
the GWT model right now is to is to
assume that the the client the what's
running in the browser is as if it were
thick client more or less the
application logic runs there at least
the client-side application logic does
there's an alternative architecture
where you treat the browser more like
it's almost like x windows you treat the
browser like just a rendering engine you
run the UI manipulation logic even on
the server and you send down commands to
the rendering engine so it's a powerful
model in some ways and there are lots of
implementations I think the Eclipse raa
approach is this right and there's some
other companies then why i think is
another example icefaces and so on iit
mill and the way we look at it is GWT
would be a great way to create that kind
of system because you need efficient
client-side code in order to make that
client-side render work really well and
that's what I tmill for example did do
their client is written in GWT and and
that also does give them some of some
continuity in how they expose an
extension SDK so so for example if
something is too heavy weight to render
it just through Delta's from the server
to the client you can actually
and add genuinely client-side GWT
widgets as part of it so instead of
sending down like all the descriptions
as to how to render some table which is
kind of verbose thing to say I can just
have a table widget that I add to the
stack and send down small amounts of
data that with the knowledge of that
that there is a table widget there I
don't know if I said that well but but
now I do i do have a reservation an
admonition i guess about those type of
architectures which is that they really
don't scale basically it does any does
anybody does anybody think that i'm
wrong about that i mean i've never seen
an explanation of how that could
possibly scale and i can see a lot of
reasons it can't scale it creates that
one client one server affinity that i
was talking about the beginning that's
like the antithesis of what you want in
a load balance system plus it means that
i suffer a high latency internet round
trip for every more or less every
interesting interaction so let's say
there's validation logic as i type in a
text box with GWT if you use it sort of
at full power you would run that
validation logic mostly typically you
would run in the client if possible
suppose it's just like is this a well
formatted email address or something
right you'd run that in the client well
suppose in this other type of
architecture you'd have to send back a
request to check what to do on every
single keystroke that becomes maybe
that's a caricature but
Yeah Yeah right that's that's basically
true too yeah right I mean he's saying
that that I mean it obviously scales
better if you can distribute work out to
the client so that's sort of a as you
said that's sort of an obvious reason it
takes load off the server that's
definitely true but then in terms of
like massive scalability to say millions
of users if you've only got say you know
a dozen servers and at Google we have
like three dozen and but you've got say
ten million users you know that there's
a lot of contention and if I start if my
load balancer has this extra constraint
placed on it that I've got it you know
this particular user has to hit this
particular server that's not the
arrangement that you really want in
order to support a large number of
clients at once we still have a little
bit more time I mean there's a whole
bunch of stuff all these topics are
things we could talk about
passport
thank you thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>