<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Theory and Practice of Cryptography | Coder Coacher - Coaching Coders</title><meta content="Theory and Practice of Cryptography - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Theory and Practice of Cryptography</b></h2><h5 class="post__date">2007-11-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/IzVCrSrZIX8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome I'm Peter Allen I'm the director
of Google University and I'd like to
welcome you can hear this helpful okay
great
thanks for letting me know I'm the
director of Google University and I'd
like to welcome you to one of the very
first GOG classes Googlers teaching
Googlers it's a series we are piloting
this quarter and we're very excited
about the fact that Steve is teaching
this class and the fact that you're here
just wanted to take five seconds for a
few administrative details one is
there's a sign-up sheet going around if
you would be kind enough to check your
name off or add your name if it's not
there that would be helpful to us
another is that we will send around an
internet-based a web-based evaluation at
the end of the course that will be also
helpful in terms of keeping track and
lastly just to encourage you guys to
think about teaching a course yourselves
we instigated this series because we
believe there's a wealth of knowledge
inside the Google population and a great
desire for learning and so we have an
email alias it's g2g underscore
proposals and we'll be sending out more
requests but I just thought since we
were here in person we'd ask you to to
think ahead so without any further ado
welcome to hearing practice of
cryptography and Steve Weiss hi
everybody my name is Steve Weiss and I'm
glad to see all these people out here
for this class and really excited to
teach it and I think I'll be really
interesting a lot of fun this lecture
today's is gonna be not as technically
oriented it'll be a little bit of
historical and kind of just give you an
overview of some of the modern
cryptography primitives and
constructions so some of you this may be
review some of it if you're not engineer
it might be new material so if you're
falling on the vc or watching this on
video all the course materials gonna be
at this website go slash crypto course
there's a presently link right now so
you can follow along with the slides if
you're watching live and all the course
material will be posted here throughout
the rest of the course there's a first
exercise set that's up and some you've
already start
on that this is you know pretty hands-on
there's a couple parts that I'll talk
about in the middle of lecture and
should be fun and you're encouraged to
work with others on it there's no
deadline you're not turning it in and
that's kind of the theme for the whole
courses come to lectures you're
interested in do the assignments that
interest you and feel free to ask
questions there's also a QDB link on
this page and whoops presently he's got
this little chat window if you want to
join in there's some people in there
already so feel free to add a QDB
question or whatever you like as we go
through the lecture so you know as I
said this lecture is gonna be more
historical kind of general next week
will be more engineering oriented I'll
actually talk about using crypto at
Google and if you're writing code what
kind of things to avoid what kind of
things to do so that'll be definitely
more engineering oriented so you're
welcome to that you know whether an
engineer or not third week I'm gonna
focus on more theoretical cryptography
and talk about some more of the math and
the underlying definitional stuff so
that'll be interesting if you're
interested in more the math side or the
kind of the theory of computation side
and the last week it's gonna be special
topic and I'm gonna let you chime in on
what what kind of things you're
interested in so if you go to the QDB
page for the final week which is also on
the main course page you could submit
some topic ideas and vote on them and I
put a few up there my selves but feel
free to add anything you're interested
in and we can do a lecture on that
depending what it is I might have a
guest lecture that week so that one will
be a good general lecture that people
should be interested so you know getting
started like what is cryptography kind
of the classical definition is that the
roots of the word are secret writing and
historically this has been just keeping
messages secret so it's a military-type
thing where you want to send messages
out to the field and don't want your
adversaries to intercept them and know
what's going on and that's kind of the
classic informal definition of
encryption it's taking a message and
rendering it unreadable to somebody who
doesn't share a secret now cover related
thing is steganography and that comes up
a lot in like popular media and you'll
see it a lot and I'll kind of
distinguish that later in the lecture
that's kind of hiding messages in plain
sight so I'll give a few examples
later in the talk so we're the earliest
kind of known ciphers that have come up
in history is called a guitar and this
is basically just a stick that you wrap
either a piece of paper or in this
picture it's a piece of leather around
it and write your message on it across
the different wraps and if you think
about this the only secret in the system
is the size of the stick so if you get
one of these messages is just this piece
of leather or piece of paper just try a
bunch of sticks sizes and you know
that's kind of secret key to shared is a
view and I want to communicate a message
with a cipher the secret key is a stick
size so it's not too hard to break and
it's obviously very primitive but this
is called a transposition cipher so
you're basically taking these letters or
characters and just reordering you're
not substituting anything it just kind
of the jumble that's in the newspaper
every week just words that are scrambled
up so a little bit more advanced is
called a Caesar cipher and this is just
a substitution so basically you take a
letter and then you replace it with a
letter that's three letters forward in
the alphabet and this is also rot13 is
the same thing just a simple
substitution and if you think about this
the key here is just how many letters
you're shifting over in this case it's
the value three it could be minus three
it could be 26 and this will have a
little bit to do with one of the
assignments on the exercises that you'll
get to do so this is you know a very
classic cipher that comes up a lot it's
very simple and obviously knowing the
key is is very trivial to kind of brute
force through a little bit more oh this
is another example of a cipher so back
in the 70s there's a Zodiac killer in
the Bay Area and he would send in these
messages to the newspaper like the San
Francisco Chronicle and you have these
ciphers in there and this is one of the
earlier ones that it was unbroken for a
while and some amateur up in Marin too
started you know pen and paper trying to
guess what the symbols were and so what
he's done is actually taken a little
more complex he's taking each alphabet
letter and has multiple symbols that
could be so like the letter e might have
five different symbols and you can use
them each interchangeably so he's
actually kind of smart with it is he
took the most common English letters
like 'hey i tio n which appear much more
than other letters like q and z and he
gave them more symbols so if you look at
the statistical analysis of this these
symbols don't appear as much so as I
said this one's been cracked and you can
read about it online there's still some
out there that haven't been cracked so
if you want to go play around some
ciphers this is a you know out there and
it's been kind of sitting there for
twenty years now and so there's more
complex to one so after they broke this
he you know went back and did something
else and you know I imagine that some
government agencies probably able to
break this but no one's really bothered
but it's out there and it's something
you could look up this is OD xi4 it's a
little more complicated that is called
I'm gonna butcher the French name but
it's a polyalphabetic cipher so the idea
here is that your key is still basically
just doing a substitution but you're
doing a different substitution for each
one so in this example here the key is
Google and the plaintext is by YouTube
that's our secret that we're
transmitting and so the first character
you're gonna shift down by G so in this
case you know you go either to the row
or column that's B and go to the
corresponding row or column that's G the
way there's letter that's there's gonna
be H and if you keep doing this and you
get to the end of your key what's gonna
happen is you're gonna reuse your key so
if you're gonna say Google Google Google
is your key do the across your whole
message and so this is about from the
19th century in France and they let me
publish this and there's different
variations on this where you might have
different you know amounts of shifts in
the table but it's basically this idea
that you're shifting and kind of
depending on the position of where you
are in your cipher and it's kind of just
going back and forth and this has come
up in practice too and I'll talk about
that in a minute
so as I said this idea of this
polyalphabetic cipher was used in
mechanical crypto systems as well so
this is a very famous encryption machine
called the enigma and it was from world
war ii and it's been in a lot of movies
and books and things like that talking
about this and what it is is this
machine you're looking at that's got
this keyboard and you know just a
regular keyboard
and these rotors and basically the
configuration of these rotors is your
secret key so what's going on this
picture is that somebody's typed in the
letter A and these rotors are spinning
around and the signal of that a it's
electric signal it's going to go through
in these different configurations and
it's gonna come out and output a G so
that's just kind of the same idea as
this table it's you know you've got a
key that's in a certain state and before
is the position of Google that you're in
and now its position is rotors but
that's gonna change as this goes through
and so if you notice the rightmost rotor
has advanced position so if you see the
two wires on the bottom are now shifted
down one the bottom wires gone to the
top and now when you hit the same letter
again a different letter comes out and
at its core this is you know the same
thing is that previous polyalphabetic
cipher and the keys here were they had a
bunch of different rotors that you could
substitute in so there be many different
configurations and people would plug in
these different rotors so both with this
in kind of the previous you know pen and
paper ciphers the way the people would
break these is that even with you know
this complexity here the underlying kind
of patterns and information in the
message would still be visible people
could do analysis of what the message
looks like this is part of one of the
exercises on the thing I've posted that
you're gonna actually break a message by
doing a little statistical analysis of
trying to figure out what it is because
you know that the message is English so
with this particular example what they
would do in World War two would you know
their German submarines would have this
and they'd surface and give their
weather report every day and so in the
North Atlantic the weather doesn't
change much so pretty much every day
this submarine would surface and they
would say it's cold and gray outside and
you know that's pretty much the weather
report every single day so every day
they knew essentially what was going
into this the cipher they would know
okay well this person's encrypting you
know it's cold and gray out every single
day and sometimes to do this they would
also go out and create an event they
would go have a plane fly over and then
you know ten minutes later you'd have
this like encrypted radio so you know
that would say something and they would
know that the word plane is in there
from that they could try to determine
what rotors had actually generated that
message and this is something that Alan
Turing was involved in and it led to a
lot of the development of modern
computing was that you know by the end
of the war they had built the machine
that would be able to crack the daily
key by generating enough this known
plaintext and so this kind of a you
knows how you would actually break he's
in the past and it's still kind of a big
part of cryptanalysis is knowing what to
look for and I'm kind of looking for
patterns in there and trying to actually
you know maybe give somebody some
plaintext that they're gonna encrypt it
get them to crip something that you know
what they're doing so kind of a side
topic I wanted to mention because it
comes up a lot in you know internet
people always talk about it and there's
a lot of things are is steganography so
kind of classically this is the idea
that you're hiding a message in in plain
sight and so a classic one is this
Herodotus and he had a slave and what
you do is shave his head and tattoo the
message on there and the hair would grow
back and then he'd send the slave with
the message so the message is just there
but it's you have to know where to look
for it they'd also do this thing where
they would take a tablet and carve in a
message in the wood and then put some
wax on top of it you know just look like
a wax tablet but if you knew what you're
looking for you'd melt off the wax and
so you know this isn't really something
that's been done a lot but it has come
up in kind of history and so some things
like invisible ink and micro dots
micro dots what they are is basically
it's a message that's been shrunken down
to a very tiny dot so I'd send you a
letter and the period at the end a
message would be this incredibly small
like a microfilm picture and then when
you got the letter you would just
magnify that up and then it'd be you
know microfiche in there and that was
used in World War two people send
letters with micro dots in them another
one here I've got the finger so this is
kind of stretching a little bit but
there was a case when there was some
POWs in the Korean War and they took him
out and like you know that the North
Koreans took a picture of them you know
as the the prisoners and the guys just
flipped the bird in the camera and the
North Koreans didn't know what that was
but it was kind of like you know a
message back if you know what you're
looking for if you know what that means
you know it's it's a signal to the US
that you're doing fine or something
like that and prison gangs use
steganography a lot so they'll have
letters that are censored and read
through and they'll do things with the
letters that are actually you know
different fonts or different size or
different kerning you know they're
pretty basic and they've prison guards
know about this stuff but people are
actually doing this in practice and one
that always comes up it's in the movies
all the time and people you know there's
slash articles about it are lowered or
bits and images so you take an image you
tweak the low-order bits and the message
you know if you look at the image of the
message in there cuz just changing a
little my new part of the the actual
image but you could hide messages in
plain sight that way so people have done
research where they've gone out and you
looked at a bunch of images and looked
at lower bits and nobody really found
anything because it's probably easier to
just send an encrypted message directly
and so this is kind of more thoguh new
to cryptography as well you can put an
encrypted message you know in a second a
graphic message and the reason people
might want to do that is if you live in
a country where cryptography is illegal
which is still a lot of places you can't
you know send down encrypted messages
from China as far as I know or Saudi
Arabia so a lot of countries where you
may want to do this and so it's a little
bit of a side note and you know if you
notice maybe there's a message in this
slide or something so you look at it
later so another thing that comes up
connery let our codes so codes are a
little bit different than ciphers is
that the idea is that you're gonna have
a codebook of words that are symbols or
sentences that are predetermined and you
know rather than it replace individual
symbols you're placing like strings of
symbols and so the lines a little bit
blurred because you know they're very
similar but you know examples of codes
might be like Paul Revere like one of my
see two of my lands like you've got
these predetermined messages and like
one if by sea means the British are
innovating by sea and two if by land
means like British inviting by land and
so you can establish this kind of code
book ahead of time and you have to know
the entire content of the code book to
you know do this message and you know if
the British did something that wasn't in
the code book you don't have any way to
convey that so other examples are a
Beale code and
this was something back in the 19th
century where this guy Beale released a
pamphlet that had you know it said it
was like a mapped gold or something and
what he would do is take a book an
actual you know book or a source
material and the code basically say you
know go to page 55 and then take like
xxx word so the message was just you
know fifty five thirty and then like 100
20 40 and so on and so on
so one of those messages are just
actually decoded because it was the
declaration independence so that was one
and that was like the first part of the
message and then the rest of the deal
codes I think maybe one more speech
great Ben decrypted but there's a couple
more that haven't and there's a lot of
speculation on it if it's a hoax or if
there's any gold and people have looked
at it and there's anachronism because
like the version of the Declaration of
pens he used was some weird and Miss
printing so kind of said oh this is
actually after it was supposed to be
published so that's kind of a co2
because to do this you need to actually
have the same copy of the book to decode
the message now another one I'm gonna
actually play a little audio here this
is called a numbers station and
basically you know during the Cold War
and currently there'll be these radio
stations that were just read out numbers
all the time or at pre designated times
and try to play one now this is a German
voice reading out numbers and letters I
don't reckon but there's all sorts of a
station if they're all over the world
and there's still some existence if
you're a shortwave radio operator and
you know the non intelligence community
doesn't really know what they are but
you can there's a link to one of them
here you can find more on that page but
speculation is that these are kind of
pre designated codes that the agents
would have saying you know if they say
two three four five then you know go
assassinate so-and-so the other
speculations they might be one time pad
encrypted things I'm gonna talk about
that in the next slide and the last
bullet point here is called ECB mode and
I'm going to talk more about that next
week but that means electronic codebook
mode
and that's a cipher mode that I'll talk
about more in the more technical talk
next week so I mentioned one-time pads
and I want to mention this principle
about crypto systems and it's a
kerckhoffs principle and there's also
it's called Shannon's Maxim and
basically the security of any crypto
system should only depend on a secret
key shouldn't depend on secrecy of the
actual you know crypto system of how it
works
so if you think about steganography or
codes all that relies on actually
knowing not where to look or not knowing
that this is the codebook I mean you can
consider the whole codebook to be a big
secret but kind of the defining thing is
that I could publish this algorithm or
say hey this is how I'm going to do my
encryption but I'm going to keep the key
secret and the key is just the core of
the security in the system so the kind
of morwe say this is like don't rely on
obscurity for your security so you know
publish your algorithms and basically
the only thing that should have any be
CD the only thing that security should
rely on is a small secret key and this
kind of brings us to one-time pads it's
the idea that the one-time pad is that
this is actually comes from the idea
that you had a physical pad of paper and
going back to those number stations this
might be that somebody goes into a
country and we've got this pad of paper
and there's a bunch of letters or values
on there that are completely random and
when they hear this message they just
add the message with the values on the
paper and decrypt it so this is like you
know in binary this would be an XOR but
on the assignment on the exercise it's
gonna be adding letters together so the
idea here is that if your key is
actually random and has been shared
securely this is called information
theoretically secure so there's no
computation that could break this and
the idea is that if I have a message
just a coin you know if I have a bit and
I have a secret key that we shared and I
say heads heads is the
he plus the coin you know the key could
be it's 50/50 that could be heads or
tails so there's no information that can
be determined by actually listening to
this as long as the keys are secure so
what you know if this is information
theoretically secure
why isn't crypto just solving why don't
we just do one-time pads and you know be
done with it now the problem here is
that you have to transmit a large secret
message in order to transmit a large
secret message so how do you actually
get these one-time pads out to people in
the world to start with if you do it
ahead of time you know maybe you can do
this a year in advance and have a stack
of pads that you're gonna use but it's a
major problem of doing this and another
thing is that you actually have to do
this per message so you know I have to
do this for everyone I talked to for
every message I said I can't reuse these
pads and the second exercises shows what
happens when you reuse this pads if you
do that you can actually break a message
because somebody reused a one-time pad
and the problem is that these keys are
as big as the message so your
communication is now doubled in size
rather than you know us sharing a very
short cypher secret or secret key we
have to share these huge one-time pads
and keep them secure so like where do I
keep these secure messages if I'm some
spy who's behind enemy lines so what
time pads are what is this unexpensive
yeah why not pads are information
theoretically secure but more or less
unusable in practice I mean there may be
some applications where it could make
sense but in general practice they are
secure so this is like kind of a one
pitfall that a lot of kind of like
amateurs on the Internet will fall into
they'll say oh it's encrypted with a
one-time pad it's secure and blah blah
blah
but you know there's a lot of things to
think about with the key distribution so
you know we've talked about a lot of the
classical crypto and what are some of
the problems with this so you know going
back to like those mechanical ciphers
and the you know Zodiac cipher and all
this stuff wouldn't be problem is these
are just weak
you know these were mechanical systems
they're pen and paper systems and now
with the advent of modern computation
these are very weak and easy to break
so you know the enigma machine that was
broken by kind of a modern computer and
you know these are just not gonna
withstand modern computing power the
problem is that these are pretty
informal like there's no in the past
there was no real formal way of saying
what it means to be secure and what is a
cipher and what is a signature and what
are these things and that's kind of a
recent development in cryptography sin
being the last 2530 years and I'll talk
more about that in the third lecture
about some of the actual formal
definitions and security definitions and
what it means to actually be secure and
you know being able to base your
security on some problem I'll talk a
little bit about that today another
issue in the classic is that you know
the knowledge and the technology was
very closed it was available to
militaries and intelligence agencies and
maybe you know large companies like you
know ibm's of the world and it was not
available with the average citizen like
if you want to communicate securely to
your friend not have your government
listen you didn't really have any
options I mean you could try one of
these pen-and-paper schemes but you know
they've got all the resources they've
got the knowledge they've got the you
know the resources to actually break a
lot of this cryptography so finally a
big problem if you think about the
one-time P one-time key is key
distribution if you think about the
number of people in the system you know
even if we had a cipher where we share a
secret key there's n people and everyone
wants to communicate to everybody that's
N squared keys that have to be
distributed and you're still this
problem how do you actually get the key
from me to you if you know maybe an
insecure channel all the time how do I
actually ever get my secret key to
somebody else
especially in a networked setting where
I may never meet this person I may have
no means communication and how do I
actually get my keys out to people so
some things that kind of bring us into
the modern area one of them is
standardization of strong cryptographic
primitives you know there's actually in
modern times you've got standards that
have been kind of vetted and that people
have actually looked at have been
subject to public scrutiny these are
publicly available and it's kind of this
kerckhoffs principle again is that
everyone knows what these standards are
and we're going to look at them everyone
pack them and there's no secret about
what people are doing all the secrecy
comes back to these keys
another big development that kind of
leads is modern era is public key
cryptography and I'll explain what that
is in a couple slides and as I said
before third thing is formalization of
security definitions actually saying
what is secure what is the crypto system
and growth you know another thing that
kind of brings us in its modern era is
the growth of personal computers in the
Internet in the past there was really no
way for an average person doing these
ciphers they I mean it pretty much
everything was pen and paper maybe if
you're smart you could build some rotor
machine yourself but this technology
wasn't really even available to an
average person or maybe even small
businesses or typical people but now
almost everybody's using crypto every
day and even if you know it or not and
finally kind of a something that also
brings in this modern era is more recent
just the liberalisation of laws I mean
for a long time
crypto was illegal for regular people in
a lot of countries and there's a legal
to export in this country until recently
unless those a weakened form so I think
that this is one of the major
developments as well is that governments
have kind of relaxed and realized that
it's good for people to be open about
this and have open protocols and open
standards
so I mentioned standardization I'm going
to talk about this for one slide so you
kind of know what's out there and one of
the big developments was the data
encryption standard so this is a cipher
just like the kind of previous ones
we're talking about but it's strong it's
something that's been designed to be
computed on modern computers and be
resistant to modern computers it was
originally designed by IBM so the NSA
kind of went out and solicited people to
design ciphers and you know IBM came up
with this one called Lucifer and the NSA
went and tweaked with it a bit and then
gave it back said okay this is this is
DES and so people were very suspicious
about this they thought that maybe the
NSA put in a backdoor or that they you
know did something to it to weaken it
and one thing they did actually was
shortened the key length and he said oh
I don't worry about it it's fine so
people are very concerned about this and
it turns out that about you know 15
years later in 1990 some researchers
discovered this
technique for cryptanalysis called
differential cryptanalysis and then they
realized looking back that the original
Lucifer was vulnerable to this and des
was not or not as much so basically the
NSA knew about things fifteen years
prior to like kind of public academia
doing it and that's why they you know
changed some of the things about it so
you know des was 1970s technology and by
1999 Dez's can be cracked in about a day
for a hundred thousand dollars so now
that it's you know two thousand seven
and you know we've had computing power
become exponentially better dads can
probably broke in much faster for or for
much less now there's a variant called
Triple DES which is basically doing des
three times and you effectively get a
double the key size and this is still
used quite a bit it's still out there
but people are generally trying to move
away from it and the new standard
they're moving to is called AES and this
is kind of the modern era to DES and it
was designed in a more public fashion
basically they had a contest where a
bunch of different researchers submitted
designs and then they come with through
a couple rounds and got comments on it
and went back and forth and the end
result was actually developed by some
European researchers and that's that's
currently what is now the government
crypto standard and it's out there and
said you know large key sizes 128-bit up
to you know 256 or bigger key sizes
they're not really gonna talk anymore
about particular standards they just
kind of want to give everyone an idea of
what's out there and before I move on
I'm gonna use any one of any questions
to look at the chat out here if anyone
has any questions online no okay so
let's go back to this key distribution
problem you know if I want to
communicate to somebody how do we
actually agree on a key if I'm in one
side of the world somebody else is on
the other side how do I get a key to
them in the first place and what happens
if either parties compromised if I'm
talking to somebody that I you know
maybe I mailed it by mail and we've got
a shared key that you know it's maybe
it's a DES key or a s key if one of us
gets compromised then
both of our communication is compromised
in both directions anything that gets
going back and forth and sorry about
this and finally you know I said this
before is what happens when a third
person wants to join us
well now each of us need to establish my
own key with her and we get n people in
there we have to have N squared keys in
the system and I need to maintain all
these keys for each of these people and
it kind of grows quadratically every
person who joins a system you need to
create a whole new set of keys for
everyone else in the system so in the
70s
pair researchers named Diffie and
Hellman and kind of stuff in the yellow
you couldn't well I can't really show up
as yellow but you know the formulas and
stuff that's kind of therefore if you're
interested in it there's a couple
researchers who came up with this idea
called diffie-hellman key exchange and
I've also got this guy Ralph Merkle on
there and Williamson so this is again a
technique that was invented in the
intelligence community by the sky
Williamson a couple years before it was
published in academia so you know they
had the idea at this is actually in
British intelligence and it's possible
as invented independently the u.s. as
well but basically this is a protocol
that you can share seeker of the
stranger I'm going a little bit of the
math and not go too deeply in it today
but basically Alice is gonna pick a
group and this is a mathematical group
and a generator just a value in this
group and some random value X and she's
gonna send Bob basically G erase the
exponent X and this is within a group so
if you've kind of got some familiarity
with kind of modular math and things
like that you think of it mod prime but
we need to go to many details but you
send this value G to the X Bob and I've
got the notation broken here but he's
gonna do the same thing and pick his own
exponent Y and send it back to Alice so
Bob has her capital a value Alice has
his capital B value and they raise each
of these values to their own exponent
they picked so in Alice's case she's
raising it to X Bob is raising it to Y
and they end up at the same value G
raised the X&amp;amp;Y x times y and
an eavesdropper if you think about who's
listening on this channel they see for
values they see the group in the
generator which is you know basically
just some numbers or the group is a
description of a particular group of
some numbers an A and B which are these
G's the X and G of the Y and the
question here is how hard is it for to
actually compute the shared value that
they have G to the X Y and this turns
out to be to our knowledge right now is
a hard problem we don't know how to do
this effectively and it's called
actually the computational
diffie-hellman problem and as of now we
don't have efficient ways to do this and
so somebody listening in on this
conversation isn't able to actually
determine the same shared secret as
Alice and Bob so they know they shows
value G to the X Y that no one else
shares and they can use that to
determine a you know DES key or a s key
or any other sort of shared secret now
you know holy
does anyone see any problems with this
if Eve is not just an eavesdropper yeah
there's a man-in-the-middle attack and
so what somebody could do on this is
actually sit on the channel and pretend
like they're there Bob to Alice and that
there Alice to Bob and just take their
values and then forward I don't a
different value and they're gonna know
the shared secret that each person is
using so this is responsive script you
know this doesn't really solve the
problem completely you still would need
to establish N squared keys for n people
so you don't have to do this protocol
with everybody and maybe you do it for
every communication session but you know
it's not like you can have one key that
everyone in the world can use you know
this is an event in the 70s and at time
computation over these large groups can
be expensive and it still is relatively
expensive today it's not it's not
especially cheap to do this all the time
and finally as somebody mentioned it's
it's vulnerable to a man and middle
attack this is not you know if it's like
a wartime scenario or if you have
somebody active on the line they can sit
in the middle line and switch messages
out and are actually able to completely
break this protocol now since then there
have been new protocols developed that
are resistant to man in the middle of
and there's there's more modern options
out there but this is kind of innovative
because it's the first time that two
complete strangers can actually you know
establish a key where somebody
eavesdropping in the middle can't
determine that key interesting thing is
that this is based on a hard
mathematical problem it actually has
some basis saying that if you can't
solve this hard problem
you can't break this protocol you know
versus some other scheme out there where
you know you know this is kind of first
time that you actually have some sort of
mathematical reason why this would be
secure and if tomorrow somebody figures
out how to solve the discrete log
problem or computational diffie-hellman
yeah this will break but that's a hard
problem that people are looking at for a
while so you've got some confidence that
it's actually gonna remain hard if
you're interested in this the original
paper is on the wiki page you can look
at it's a fairly easy read so this is
one of the first kind of papers in the
field and you know if your internet you
can read through that so we've still got
this key problem so you know what if you
could have a single key that's public
that a one in the world could see and
they could use it to encrypt messages to
you but not decrypt your messages so the
idea here is like everyone in the world
might have a post box out there that you
can drop letters in but no one else can
open the back of the post box unless
they have the private key so anybody can
send to anybody but only you can open
your own box so this you know this
crypto system would consist of three
algorithms G and D and so the first
thing else would do would be to generate
what's called a key pair so this you
know hypothetical public key and a
secret key she would publish her public
key she could put it up on her web page
in a phone book she could you know call
somebody over the phone and telling them
what her public key is so now what Bob
can do is just take that public key and
encrypt a message so anybody can use
this public key there's nothing secret
about it you can put it up on a
billboard doesn't matter and he can you
know generally the ciphertext C so then
he can send the ciphertext to Alice and
only she can decrypt it she's gonna keep
that secret key secret and is able to
obtain the original message that Bob
sent
so the question here is you know is this
public key encryption even possible now
it's got some nice properties here
because ever in the world could just
publish their own public key you know
everyone could have it the phone book or
on a you know web directory so it's nice
and I could I could communicate with a
stranger with you know I can do it
offline I could prepare my message and
send them a message I don't need to have
this interactive protocol I don't need
to ever do any key exchange with them I
just need their public key but some
problems there's that you know is this
even possible I mean how before a
certain time it wasn't even known if you
could do this another thing is how do
you actually get Alice's public key and
you know why do you trust that the
ciphertext has not been modified I mean
just because you encrypt something
doesn't mean that the ciphertext hasn't
been messed with in transit and you know
the second question here is actually
part of the exercises you're gonna do
one thing where you're gonna get my
public key and use it to verify a
message and somebody's already done it
before the class actually so yeah the
first question is was this even possible
and in 77 RSA which is Rivest Shamir and
Adleman showed a scheme that could
actually do this but again this is
actually invented in the intelligence
community in 1973 Clifford Cox had a
very is kind of rudimentary version it
wasn't as generalized as RSA but they
knew about this years in advance and I
thought that's pretty interesting but
some of this is kind of discrete math so
I'm not going to go too much into it but
here are the public keys there's gonna
be this exponent and an N and n is a
large composite and to encrypt a message
I'm just gonna raise that at message to
the exponent and in this case you know
it was often three or like a firm op
rhyme but it's just it's kind of public
value that everybody knows and you know
there's gonna take it mod this this
group n which is a large deposit and
then to decrypt I'm just gonna raise it
to another exponent D and so again you
can read the paper that's linked online
it's pretty easy to read through because
it's you know again one of the first
papers in this area and it's it's very
interesting
now some problems with this is that the
ciphertext is a fixed size it's gonna be
as big as this group and so you can't
encrypt arbitrary size and
this way computation is still relatively
expensive back in the 70s it was very
expensive and even today it's it's
expensive it's need you this over very
large groups and again why do we
actually trust that the ciphertext has
not been modified when I get this value
see somebody might have done something
to this so and so for example I can
multiply values in there and change the
value that you're gonna get that you're
gonna decrypt there's no notion of
authentication here and you know more
technical thing this is called it's not
what's called semantically secure and
I'll talk about that in the third
lecture but that has to do with this
with some of the properties of the
crypto system but you know now we've got
a way to actually do public key
cryptography so I keep coming back to
authentication and what about how do we
know Alice is actually Alice we talk to
her and how do we know that a magic
message came from her and how do we know
that wasn't altered in transit so you
know if I get a message claiming to be
from Alice's and previous message how do
I know it's actually from her how do I
know she hasn't been altered in transit
by somebody else
so another cryptographic primitive that
didn't really have an analogue and the
class players is authentication
primitives and one of them is a message
authentication code and this is very
similar to a cipher so it's kind of
similar to des a yes where Alice and Bob
will share a secret key and there'll be
two functions sign and verify and
basically anybody who shares the secret
key can sign a message and produce a
signature I'm using Sigma or Sigma for
that and then if I give you the message
in the signature you can take that
secret key and verify it and so these
are often constructed from other
primitives there's a lot of literature
on Macs and they're basically an analog
of ciphers so what I could do is I could
send you a message that's encrypted
along with you know a signature on it
and you both know that the message
hasn't been altered and because you
believe that I share a key with you you
know that somebody who shares the key
with you actually produce that so it
doesn't really identify the person who
sent it but you know that whoever sent
it shares a key with you
and again this has the same key just
beat just recent problems of ciphers if
you want to be able to sign a message to
anybody in the world you need to create
you know n square or n keys for everyone
in the world that's its exact same key
distribution problems so like with
public key encryption we can talk about
public key signatures so it's it's very
close analog and you know the idea here
is that anyone in the world should be
able to assign the message with a secret
key this time and that anybody in the
world can verify with the public key and
so suit I've done actually sent a
message out to the mailing list that's
signed with my secret key and anybody
here can go grab my public key and
verify the message actually came from
the person who knows the seat of course
my secret key so you know like a public
key scheme this is gonna consist of
three algorithms one of them generates a
verifying key and a secret key or a
signing key and then Alice will now
rather than publish the public key shall
publish the verifying key so anyone in
the world can verify and assign a
message she'll just it's the same type
of operation she'll take her secret key
or signing key and applied to the
message and output a signature and then
Bob I don't have this signature in there
but he can take a message and a
verifying key and the signature and
it'll say you know is this valid or not
valid and so this is a nice primitive
that allows anybody yes um you could do
it and I think it's just there's two
issues here one is that it's just the
complexity of it I need to manage and
end keys instead of well you know
actually public key system you would
still be managing hand keys yourself but
you need to create and create and
distribute end keys so it takes away one
side of it where we each create one key
and need store and keys for all friends
so kind of rather than having to
everybody has to store well I guess
everyone does have to sort of keys so it
takes makes it easier to create your own
key and manage your own secret key so
instead of having to manage and secret
keys I need to manage one yes
I'm gonna talk a little bit about that
yeah so I'm gonna talk a little bit
about PKI in a minute and you know about
what how do we actually trust these
public keys yeah
so yeah what he was saying was that if
you want to do a key online or if you
want to establish a key with like
diffie-hellman both parties would have
to be present and online and using a
public key scheme I can prepare this
offline to do at home and then when I
log on I can upload my messages and send
them to you so okay so yeah so basically
public key signatures are kind of an
analogy of a Mac and it kind of brings
up the same questions is this even
possible I mean can I do something like
this and this was a question you know
early on when people kind of proposed
these ideas it wasn't clear whether it
was even possible and again we have this
distribution from how do I get my
verification key out there why do you
believe it
and it turns out that this is possible
and RSA can actually also be used as a
signature scheme and that's a very nice
property this crypto system and is why
that it's gotten so much usage and so
much attention and actually won a Turing
Award for the creators because it's both
can encrypt and sign data but it's only
fixed size so I can only sign messages
that are so big and how do I actually
sign big messages those leads in the
next premier when I talk about briefly
which are message digests there's kind
of a lot of overlap with message digests
and hash functions and a lot of kind of
collisions in the naming because there's
hash functions out there for hash tables
and like universal hash functions which
aren't security related so message
diameter message digests kind of
distinguished in that but basically it
can compress an arbitrary length input
down to a fixed size output and there's
no keys involved so right now there's
standards out there their message
digests warnings called sha-1 secure
hash algorithm one version and one that
used to be used more what's called md5
which is now broken but there's
basically just algorithms out there that
you can use and typically in
cryptography they want to have one or
two properties or both and these two
properties are actually you could have
one or the other or both together and
doesn't necessarily imply each other the
more that's called one-wayness and I'm
kind of informally describing it
basically means that if I give you the
hash output of something it's hard for
you to invert it and find the preimage
and that's kind of often the way people
think about
just like it's a one-way function the
other one that's actually more important
for signatures is collision resistance
that means that I've hashed to a value
and it's hard for somebody to find any
other value that hashes to it so I don't
really care about inverting it it's just
finding a collision and one of the
homework or exercises is to see who can
find the cuny who can find the biggest
collision so it's hard to actually find
a full collision but you can find
collisions on the prefixes and so
program a little like contest to see you
can get the largest one if you get up to
the entire thing that's a pretty huge
breakthrough but you know I put one up
there that's like 32 bits I'd have 160
so that took like under a second and so
you know we'll see you can actually get
the biggest one and it's gonna go till
next Wednesday so basically the noon
before the next lecture you can see you
get the biggest one so yeah I posted
that on the mailing list and you can you
can check that out right so and the
reason why message digests are useful is
that I can take an arbitrary size
message and hash it down to this thing
that's difficult to find something else
that collides two and then instead of
signing the whole message I can just
assign the small hash function and this
is nice because when put together these
primitives and I can now sign arbitrary
length messages and so I'm relying on
both the signature being hard to forge
and the message digests being hard to
find collisions so we go back to key
distribution and it's still a pretty
major problem when you have this issue
of how do I get your public key and so
you know I put my public key up
somewhere for you to find and it
shouldn't be hard to find but how do you
actually believe that I did this and
when I was at MIT we did this in the
class is the same assignment and what
some students did they wouldn't put my
public key up for me so they were
getting the messages themselves and like
there's no way to actually take the key
down and like let people know which was
which so it's it's a problem and so one
way that you can think of this now we've
got these kind of printers you've got
public key signatures we have public key
encryption we have message digests a
tool that was actually invented by
Lawrence cone burgers at Google now it's
called a certificate and what a
certificate is is just a signature on a
public key so I could put up my key on
our way
Paige and then somebody else can sign it
and attest to it and if you go in your
browser well you can look at it in your
browser there's a bunch of certificates
and these are signed by what are you
know called trusted authorities or roots
and they're just people like Verisign
18t knowledge companies who their
business is basically signing
certificate signing people's public keys
and what you end up getting is like a
graph so you've got these trusted roots
at the top and then they confer trust
with a signature and they sign other
people's keys and those people can sign
other people's keys with their keys and
you end up with these chains of
certificates and so when I send you a
message that's from me and I say hey
here's my public key what you can do is
go look up and say okay well his public
key is signed by Google and Google's key
is also signed by them and I can get a
bunch of signatures on my key and that's
kind of an attestation that it's a valid
key that is my key and so some people
like Verisign you know you actually have
to go in and show them an ID or
something and it kind of pens but you
know that can give you a idea of you
know why you would trust somebody's key
and so one kind of early early in the
early 90s there was a this software
called PGP which is now there's a new
one called GPG that you're gonna use for
the first exercise and it smells a
little bit different and rather than
have like one trusted Authority it's
kind of like more of a social graph it's
like a web of trust so you would
actually just sign the keys of your
friends and they would sign yours and
your friends would sign their friends
and you'd end up with a chain coming
from different directions so if I wanted
to communicate with a stranger we are
likely to have maybe some friend in
common who signed us both or he knows
somebody and you basically could find a
path from your friend to another there's
kind of a nice analogy with all the
social networks now so all those
connections could be you know public key
that can be certificates it could be
signatures from one person on somebody
else's key saying yeah this is so-and-so
and this is their their key but there
are still some problems out there of
like how to actually revoke a key if I
if I get my laptop broken into and my
secret key stolen how do I go tell the
world that my public key is
longer valid and one thing here that you
may hear about it's called certificate
revocation list these are basically just
revocations that are pushed out there
but basically PKI is still very hard
problem and actually getting the keys
out there is very difficult so that's
pretty much all the material I have for
today and like I said the rest of the
course next week is gonna be more kind
of practical engineering like how to use
crypto in your code third week is gonna
be more theoretical and math side and
talking about security definitions and
the last week will be I know whatever
topic people are most interested in and
you can vote on the QDB page I'm gonna
go look at the sieve and with put stuff
on qtb and repeat any questions you have
for the benefit the audience and the VC
sorry about that yeah pretty much I'm
gonna probably answer these offline
these look a little bit more geared for
next week but if there are more
questions from the audience feel free to
ask right now yes could I give my PGP
fingerprint I will send it I will send
it out to the mailing list I don't have
it available right now on the screen but
that that would have been a good idea
how about this I'll put on the wiki page
because I haven't got the know okay
don't trust it you can come to my desk
and I'll I'll get it to you and I'll
show you my ID yes
it's not necessarily the case actually
and this is kind of an exercise that you
can do is you can construct you know a
hypothetical one-way hash function that
is not collision resistant usually it's
kind of something stupid where you make
it easy to collide on purpose and so
these are two separate properties and
you have to think about that I think
that I mean these are separate processes
actually three different properties and
once called preimage resistance second
preimage resistance and then collision
resistant collision resistance is
actually two of the three one way this
is two of the three and I hear what
you're saying but I have to think about
it offline yes
so I think this is kind of a lesson from
the the first exercise is that actually
using this stuff is hard and like even
setting up that first message took me a
while and then the first person responds
take him a half an hour I think the
average MIT grad student in the security
course it took like 90 minutes to just
you know decrypt a message and then send
us an encrypted message so I think I
don't know if I repeat the question so
the question was why you people will not
use crypto in practice why is it hard to
actually get people to use this
I think usability is a huge part of it
and you know almost every client email
client out there like outlook has s/mime
compatibility it has for years there's
no reason why people couldn't start
using this today and I think it's kind
of usability and just actually having
the infrastructure there it's it it
pretty much needs to be invisible for it
to be Universal like there's no way
people are gonna take the extra step to
encrypt their mail unless it's you know
a very special case to time pad examples
are yes basically seven so the alphabet
in space yeah and a few I can post some
Python code to do it if anyone needs
that
yeah raise any more questions all right
well thank you very much and I'll see
you next week for more practical use of
cryptography</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>