<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Does my button look big in this? Building testable AJAX... | Coder Coacher - Coaching Coders</title><meta content="Does my button look big in this? Building testable AJAX... - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Does my button look big in this? Building testable AJAX...</b></h2><h5 class="post__date">2007-10-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/gSP3cptwtjY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">there's my butt look big in this all
right um hello I'm Joe and just in case
in there with translation and so Ajax
applications and they're kind of all the
rage these days all the cool kids are
doing it and you know impress the girls
all that stuff and but they're actually
quite hard to do that the web needs to
be really really really simple to test
I'm really simple but quite simple you
can use things like HTTP that you could
send her up send an HTTP request and you
know you just get to register on vaca
document it was a fairly simple but
effective model 8x change of that is so
much stuff that happens now so yeah
working in the browser you've got things
going on at background got asynchronous
stuff you've got Tydings you've got
wickets and the page updating itself I
Natalie you're responding to user input
user input could be changing whilst data
is streaming in from a remote server and
there's all kinds of cool stuff it makes
it really really really hot test and so
we're going to look at and just some
just some approaches so what we can
learn ray Jackson in particular treating
Ajax as a different medium it's not
really like the rest of the web maker is
more like the kind of rich client moment
we've seen in other areas such as in a
desktop clients and swing cutie link
forms even vb actually and i think if
you learn a lot from there from the
patterns and processes people have
discovered well whilst using these rich
clients and in particular this this talk
is not so much about kind of the QA soil
testing of end-to-end you know I've got
some acceptance s but more about
actually unit testing individual
so Ajax application and finding a little
tiny bitches and that can even movements
around how you do test-driven
development of HX applications okay so
to kind of brand a little bit you're
startin like a typical Ajax application
we're going to a good at it later
application that we wrote for i'm going
to refactor it from making more more
testable which you're going to take some
steps of refactoring it and how you test
each section but they can take away from
this is there are parts of working with
web apps and ajax that just really our
land test so we're trying to take the
complexity of the application away from
the bits on a hard test in two different
region test so let's look at the
demonstration this is our sample a
jacked web application it's great it's
an online web dictionary and you type in
the word and every time you type a
letter it goes off and it comes up place
around different server and it comes up
with some suggestions for what word you
might be trying to find the definition
of and then you click on a suggestion
and it goes new to the definition really
really simple i like i like design
coming my fortune sir genius it really
is so three said we're going to
demonstrate some of the building blocks
of typical web app the user type and
stuff into the book form that's firing
on document events our application
responds those making some back-end
requests and then those responses you
coming back for what making gun show the
use of the answers so one could look
through how this and this app works tell
us how it works
so with what I love a wallop an event to
the input form so you don't really be
made for minam JavaScript but you've
probably all seen this before every time
the user hits key this function input
trained chefs five and in this iteration
is first iteration all the
functionalities in this one function
this function it will change over time
user hits key we go up and we make a
round trip to the server this all
happens behind the scenes this excellent
HTTP request and we have to call that
function they get called when the server
responds and there's a bit of mitigative
it obviously you check you can chat stay
to the response you pass the response so
you've got some JavaScript objects and
it you just run through your list of
suggested spellings and you present it
to the user I'm manipulate and on so you
can see lifted through all the results
and you create a bunch of missed items
to when content into the user that's the
list of words this is Fallon suggestions
on the left hand side and the last thing
we need to do is we need to assign an
event another dom is then to each one of
those other suggestions so when the user
clicks on these families suggestion we
put the definition of the right hand
right so you can see here for each for
each list item for each spanning
suggestion where a monthly function when
the user clicks if we just set the
source at the right-hand fry their
simple the job what do you think Joe
that's sucks so it it does suck and it's
functional but it's so tightly coupled
babe looking back at the code we've got
one big method and inside the method
there's something to go to serve the
same case and manipulate see the visual
elements there's potentially other bits
of business logic
it's really really of the test and I'd
be ashamed if I business in Java on the
server side or something we did Roger
drug okay oh so there's some things we
can do let's break it up and so adamant
there's pretty much no way of testing
that those little sex in isolation the
sex importance the server the steps of
how do we check that it display properly
and does it look okay there's my bottom
of business and any algorithms so we can
we really think we're improvement
improvement coat so so we can be utter
we prepare for code we have into modules
are separate because what you want to
separate concerns how you do this it
varies in a row it's a pretty good way
of doing it but it's not the only way
you can just use some kind of naming
convention made me wait if you can name
things like this and then add them some
visual you name something like that and
there's something the talk two things
behind the scenes I prefer to use our
they're also like crazy component
frameworks and stuff you can get the run
in the browser it doesn't in degree mode
the important thing is separating the
curb concerns in some way and once
you've separate the concerns out and you
can then test into these in isolation
and there isn't a golden hammer approach
for how you test an AJAX application
there are so many different things that
can happen so many different kind of
responsibility some of this can take you
need different approaches for testing
these so as an example testing the
visual sight of
application that's that's quite hard to
automate maybe you need to do it
manually it sucks but maybe and where
it's testing an algorithm you can easily
create an automated unit tests back
testing slowly goes n 2 n's the server
can be a bit harder we'll see so you
know how can we stop splitting part the
code in system maybe finding great
objectors distinct responsibilities okay
so so joe said what the real pains of
web applications is is the interaction
with the dependent on the on the browser
so for iteration 2 first thing you can
do is just spit out the view and so
we're going to hide the don all the text
interaction with the document object
model in the browser and going to just
hide that behind the view object you can
put in the view docx file so that the
view code the dong interaction being
scattered all the way throughout our
application we could just make sure it's
all in one place and its
responsibilities in the view to wire
itself up for just the past the Dom that
I our applications interesting so in
this case we're interested in the input
box where these are times there there
were interesting themselves list
supernal spellings come come back from
the server and we're interesting the
preview frame where we can see the word
definition and what complex application
obviously if might be composed of many
some subplots and other objects that
represent different parts of the page
but for this particular act that's all
we need so the view the view simply just
hides them and from now on the rest of
our application is kind of it's going to
work for the view so the v % various
operations that we can deal with on we
can get input from the set the input we
can show the preview these are all
pretty trivial they just wrap the dog
and I'm sure results a bit more complex
and it's the same code as we had in in
the first iteration we just get a list
of results we loop through them and we
create list items and
into the dog to the utica see that
remember we wanted to attach an event to
each list item so we use you click on
the list item and get the definition of
the word so you can see here in this
show results operation we've got the on
click event as we have before and we're
really tempting to why that on clicking
then up to the View do prototype show
preview and make sense with the preview
but what happens there is you you you
embed knowledge about the application
flow into the view which actually turned
that actually not such a good thing so
what we really want to do is keep all
the application flow which tends to
become a real focus for complexity for
the app keep it out and view keep it on
keep the view don't as possible so
instead of wiring up the on click event
parent show preview the view just fires
another event its own events so you can
file an unchanging pop event which
happens every time using kids key input
box and you can power it on peebs also
then every time the user clicks one of
the spanning suggestions now at the
moment the need for the definition of
the view please don't do anything so our
app is content moment we need the we
need the import object the index top
jazz smile and to wire it all together
so here's the view and you can see the
events are gone we can set the input at
the input show the results and we also
have two events as well we can
unchanging put an old people zone here's
our inner function so whereas before
whole happens in index objects and in
that dropped it up jess just contains an
inner function and this was up the
events so the only change i pod events
causes the service go off make it HTTP
request more money gets its response
from the server it shows the results
joseph and suggestions when the user
clicks on a spanish suggestion it's this
in-depth address file that science shown
preview
so you can see that the flow of the
application is contained here and the
view knows nothing about flow of the
application what do you think oh that's
good actually and so what would nice
things about that is we now split out a
non check with with a responsibility of
the view and brushes how do we test that
and oh let's go on Celine and this
despite seeing straights the public
object item this this comes from Michael
feathers wrote a paper a few years ago
from Kabul dialog box and which was
talking about how you can how you can
test and rich applications and papers in
C++ and this this is the humble object
ism it's a generalization of this which
is pretty much things that are hard to
test isolate and make as as mean as
possible with as minimal gaudium as
little look no wrong and that way the
rest of the code you don't have to
impose this hard test dependency in
things like substituted for another
object for test automation purposes and
and this this humble object name or
maybe you just test it manually and in
this case the view it's poisoning wants
testament Lee so specific specific
implementation of this is a passive new
pattern and an acid view is is taken
from a lot of view controller and so
there's lots of variations of one of
your controller and passive you
basically is an approach where your view
has always known logically whatsoever
it's just purely you have operations
that shows on it to the user and your
events when user
that's within some way but it doesn't
have things like in binding data to
model objects and supply that providing
verification all that stuff as an
external controller that is responsible
for receiving an event front of you may
be doing something and then telling the
view object is open it in another way so
how we can test with you and one easy
way to test the vehicle well not so easy
involves many of work but is now that
now that we've got this page and we've
got this deal to Brandon we can just
manually poke these operations we have
and I pull the result and check it looks
okay and it is manual this is the
automated s conference but this is this
is a good example of something where you
know it's it's hard to potable to
regular stuff and there are approaches
to automate this but really they don't
catch the kind of things you want to
test and testing the view which is
things like does it look good and you
know you may have things that check it
it renders and it updates the dog
properly it does it does it look right
that's quite human thing and so you know
we can crop the sector per operation and
we can show results and we can show
preview as well that we can we can also
that that's let's change the results of
it then you pump in there so this thing
we left this looks all got it's just a
little page and page we hacked up that
has just got some some buttons and when
you click the button it'll go and all
that
thanks mate we just we're just gonna
call a full of you update manually we've
also got interactions that they use it
does so you want to check that when
someone starts typing in the input box
thus those of you notified does it raise
events that the info has changed and so
we can see down there yet when we do
that we see the right then and when we
click on it when we click on a result do
it does it raise the pic result then
yeah that's unfortunately the screen too
small so it's scrolled off about that so
that's how we can test test test at the
object it's manual but it's now isolated
from the rest of our logic and maybe we
can test the rest well Jake in an
automated manner we only really need to
bring run these many texts when
something vision changes rather than
when absolutely anything in application
changes so you could just you can just
code this up yourself and we thought we
found that we were right in these little
toolbars and too frequently so we're
able to all that would auto generate
these little control the control panels
down the left-hand side just to make a
bit easier we give it a tiny bit of
metadata about what the operations are
what some typical examples are and all
the events we expect back and it would
generate the whole do it for us and you
know we know in focus tilton that's also
because we're doing it manually before
that and it's just as effective just a
bit more work work to be done this is
all about the process of how we can
split these things up
so the kid take oh that is that the
viewer time to test you can automate on
assertions on pits or distances but as
you what we found very effective was I
keeping the news bill as possible you
really want to live on it and you want
to talk privately and this this one is
pretty handy for that but it I mean it's
not a complexing for homegrown think the
ideas that takeovers to keep the viewers
simply possible so and are we going to
test the rest of the code it's all still
quite tightly coupled look we do about
that good question during it's almost
like I need to ask so Tom super question
the data from server is another
responsibility and we want to separate
our act that's pretty trigger and this
is well I really had it before you can
see that whatever there's an unchanging
top request when I'm the user it's key
and we go off we make our request to the
server and get the response back reach
an understanding with pass response and
then send the results to the the object
and we just pull out the data source
object and it has one function called
request and it's responsible for the
back end requests and pausing and check
in steady state so now our index address
file index a it gets extra vent it makes
the request and their shows results so I
mean this is startlingly familiar to you
and majors Model View controller but so
the inlet andreas are going to rename it
to make it frog who's gonna redo things
a little bit to get this sorry out so
the rule the controller is sablan the
viewing the datasource together in such
a way that encapsulates and flow of the
application and the application flow
tends to be where a lot of the contents
do the attention Gomes so we can isolate
this out from all the other concerns
this is amit they're going to end up
testing off automatically which will
come on to a bit so just to show you the
structure with the
controller is in excellent dress where
originally all the applications held
this is the view responsible for the
interaction with the popular model the
nasals just one method makes requests
the back end but here's the controller
and you can see that's all all that in
the control than I am is is the code
necessary to plumb it to the new
together so the old changing put event
makes a request the back end and when he
gets the response it shows results and
the on pins alt event causes the pre new
pad panel to be updated that's really
straightforward but in a more complex
app you'd imagine than a single user
interaction single user event saying to
change the view can cause a whole
cascade of world events to be fired or
the backend request to go off there is
parts the page updating that causing on
the back end requests and its control of
it responsible for orchestrating all of
this and so the nice thing is if you
just to recap this where we started with
with iteration one and all of the
applications in one function you can see
on the left hand side you agreed these
are we're done interactions happen in
the code and in the sandy brown color
which is red on my screen this is where
all the back end interactions happen and
you can see both sensor intervened
ordered scattered around the code more
importantly what's not the long
interruption was not a back-end
interaction is his application flow it's
the semantics your applications shape
your application its i press this button
that this sequencing men's happens and
having those mixed up in your poem makes
them really hard to test this is where
we are in operation for in lift objects
Pacey just praise creative view page
source the controller it passes the view
of the data source to the controller
which is it
the view is where all the dog
interaction happens they saw swear on
back and interaction happens and the
controller orchestrates all of these
things and if I'm going to finance our
potential flow okay and so the
controller is probably one of most
important parts of the application and
particularly as your application grows
and gets more complex in this scenario
is a pretty simple thing but we start
having lots of widgets and data going
back and forth you know let's say there
will be an email client or something and
in with it would get very very
complicated and so this is probably sort
of that needs the most testing and this
is the kind of thing that changes the
most rapidly as well and usability
tweets that kind of stuff like what
happens if you they got you just
requested something and it's still
coming down from the Sony cancel
operation and going edit this check box
but this is disabled sure that won't be
enabled to it has all that kind of logic
and that's really the stuff that we
ought to be testing and so by putting
out that the sort of the complicated
bits the view stuff the actual
communication of the server we've got
this bit in the middle that the
controller that is a lot more expressive
now and it is a lot easier to test so
how can we test it okay so we're going
to use just a unit testing poked a we
use James unit for the sake of an
example and again that's just one of
many many unit testing frameworks we can
use and and we're using a test a test
bubble so we're to test the controller
rather than passing in a real view and
a real data source or use a test that
will test level substitutes a reluctant
for some kind of vehicle drip the second
testing so there's lots of time to test
though what objects are probably the
most widely use and stubs it's actually
quite a clunky turn right object I have
no one wheel it's a few jobs for
libraries and they weren't too good so
eat listen I we just made a recorder and
allies in something where it record all
the calls for the to the object and
allows you to assert afterwards what the
state was and I'd like to see nicer
JavaScript more Columbia's in the future
but this was simple it did the business
it took about ten months of how to
actually write this recorded thing and
how we passed those into the controller
so unit has rather than talking to a
real view it we're basically talking to
a view that just that we can record the
interactions with so our first test when
we will check that when some type
something into the input box it goes and
makes a call to the data source to pass
that information so this is a very very
critical test it's really just to get
something up and running and how we did
it we we fire require the view events
say you know quietly has changed and
which it's hard because it's been wired
up with the controller that should ask
the data source to be on request
something and so this is just a little
syntax for looking at what the last call
was to the
to the vector source code request method
and we ascertain the URL equals the URL
we expected and it's very simple and but
the strong next test let's check check
the if you're looking at preview and you
go and you type something from the
preview has changed we're going to be
looking at all pretty similar thing and
we check out the high-affinity method
wasn't called then we change the say in
the view and then we check that the
hybrid nuke with the boss cooked and and
we can go on with you all these tests
and let's check that the show preview is
shown when someone clicks on themselves
similar thing we checked the shape you
it wasn't cool we then pick something we
then check it was cool and we assert the
value of the your raps it's what we'd
expect it to be inspected asian and
there's a call physical to google with
them ticking query based on the input
one more this one's a bit this one's a
bit harder because there's actually
testing some asynchronous logic and when
we're doing here now is that when we
only when we make requests to the data
source the data source at some point in
the future will return a response saying
okay right is infected to insert the
list and just because it's just because
it's asynchronous when we interact with
the data source in the real world and
our test it doesn't have to because we
can fire off those events when we when
we want it to happen
so this test is still lightning quick
and so in this case we we change the
input we check them their results and
come back and then we and then the
callback that was passed into the show
results in the original JavaScript we
had a callback function are you positive
we then manually invoke that with some
with some data and we check the check
that when the response comes in from the
pool back the show results has been
called and and yeah we can check that
what the results are and we can go into
checking or checking the view contains
all the individual results maybe we do
something in the controller like eunuch
to just the first 10 results or sort
them and that's the current place so we
can test that logic and so this demo is
unfortunately not that interesting
hopefully all you can see is a green bar
but this is just running the unit tests
yay automated so we've actually
automated the testing of a fairly fairly
hairy bit of the Ajax application which
is why all the events and making sure
their callback bubbly and checking the
URLs all that and and we completely
separated from the view there and from
the basis loss there okay so we tested
the view my Lily we've tested the
controller automated data source and we
probably will select that and that's
that's a simple one it's not really a
unit test because we're actually to test
the data source and data sources
responsibility mr. going veg data from
the server and look expectation from the
server and bring it back in an
appropriate format you could do things
like walking out the
so now HTTP object really the problem is
our benefit in that yeah you're not
going to find boasts many quite awkward
and you're not really testing
responsibility the object which is to
get data back from the server so in this
case we can write this test we're
actually really does hit that hit the
server and so and in a nutshell Gaither
is mind blowing my line but we make a
request to URL and this is under
sumption that we know that particular
your own will always return a a
statement set of data and sometimes you
come across tests let's say we were
testing and let's say we're running
testing into the search engine for
instance and over time that search
engines going to change and we wouldn't
want to put some results in there which
we knew we're going to change and create
a bristle test but we can set up there
we can start and server to or
particularly you're out always return
search results in a consistent way for
them and then search index or something
so that was the whole thing into it so
we have already shown you anything new
we showed you a hold of you control that
pattern and plant variation on it what
we've done is is taken some of the
lessons from GUI and development it's
all been jabbering apps and being the
apps and applied it to into an ajax rich
fine and the key take homes are that
there are certain parts of interacting
with ajax while writing a generic
applications that are difficult to test
on the dole interaction back in
interaction so but a good structuring
your application the right way to keep
those sessions as simple as possible so
then you to manifest you might have to
do or the potentially brittle text you
might have to do those parts I kept
remember and crucially don't change that
often and pushing the complexity of your
application in the controller which is
isolated from all the plays units so you
can automate that testing can write lots
of tests and eventually comes of tests
grivet when you're right
section 2 code that can able you to
automate not to attest even a jam-packed
episode decomposing things in the
symmetrical chunks freeze pretty
straightforward what's kind of a bit
annoying is that we know all this stuff
already I mean and certainly you know we
do this in every other kind of
development and but when I came to the
first are doing AJ's I was just
JavaScript you know don't take it
seriously just one event in the HTML and
it's almost like a regret after the vb
days when you built a whole geary by as
right class on the draw button and then
i go on click on the button and then
write ten thousand lines of codes on the
only thing and and there definitely is a
trend to be doing it in in sort of the
javascript ajax applications at the
moment so and think about think about
the patterns you know what of your
controller is isn't nice one it's not
the only one that's there's all sorts of
patterns but and take it seriously it is
that this thing really and I admit I
haven't really taken seriously in post
and and for the things once you've
broken it down into these things you
really want to minimize the can minimize
major components that are awkward tests
like the view I think of you is our
little book own in that application and
other applications you may have another
significant thing and there are certain
things like timing related stuff a lot
of applications ticking Ajax
applications have had time related
things where you click on something
maybe start uploading a file a little
progress Oh kind of and after a while
they'll tie now and things like that
that's really really hard to write with
way to test for but if you construct out
the bit that's actually doing a time
related stuff you can part you can pass
in test bubbles for the time stuff like
it and what cook or something like that
and let's pedal to make that through
just normal unit testing good looks and
you will get download code examples but
not yet Stanley probably not and any
questions
of
still on HP I think by not testing of
you automatically you're cheating when
you you've been saying all that's too
hard will have people song like you know
I think it right and it says yes you
have to look at it and see if it's
pretty but you can't automate the
machines of looking at it say yes it's
still pretty on five different web
browsers and make sure all the buc ee's
having suddenly grown full times of them
on safari or something like that yeah
absolutely can and it's really just
about and it's about when the effort is
worth the value in our application you
know what it was pretty easy to just go
to the views maybe if we if we did that
once in a while and it takes my most of
the time they saw we still have some
pain there are approaches that you know
you can also make that people doing
things on your checking the pixels still
going up on white one checking the poem
that doesn't seem to be that successful
actually but you know so screen wrapping
and but actually going up and running is
a fair amount of infrastructure if you
can do it right there and if you just
want something that's very simple it
works and this at least takes out most
of the paint and testing I mean there's
at all tomorrow mass media and that's
the drop you I don't think this is not a
replacement or different approach to
that the the key thing is structuring
your implication so you can keep the
view side of things as simple as
possible she might going to get away
doing only you can't then things like
selenium that their family
okay so I Alex have a question on how
you deal with the asynchronous nature of
Ajax and how I score based conditions I
mean it's a problem in any language
whether it's multiple Java or C or
whatever and it's right to me that Ajax
is probably more likely to hit based
conditions with multiple multiple things
happening at one time then perhaps other
languages are you thought anything about
how you might test for that so actually
and it's it's actually easier agents
because the browser has a single than a
single event League he can't you don't
have more deference there are waging
Craig multiple threads by light and
having a better job Rapids and activex
controls and stuff like that and but you
can't have JavaScript running
concurrently which does make life a lot
simpler yeah one single event loop and
so when you click on a button it does
some code it does it in the event loop
if that code that late has a call back
from and you know an XML HTTP request or
maybe you set timeout they'd say you
know in 10 seconds do this that codes
well didn't you badly and if somebody
have something else has been running
then it will wait and that finishes
which doesn't make a lot easier
hey this might be a dumb question so
really not really much a chance so but I
know that's quite a few like these out
there to try and simplify an abstract a
lot of the interaction with JavaScript
where they show using such libraries how
does that how do you go about testing
attack because a lot of your test
methods here all quite relying on
low-level JavaScript where all the
libraries are trying to move you away
from that question okay and so it
doesn't really make much difference and
even if there's a lot of frame lesson a
so-so dojo Christmas is a very popular
one where it makes judgments later to
use and the google web toolkit is a
complete crazy weird world where you
write it with in java but still you can
still take the same approaches as well
okay I've got the view I've got the view
here you know whatever whatever very
much your user you can still abstract
out the view is to abstract out and the
model controller or whatever things are
appropriate for you if you can't then i
would probably question how useful that
will be in the long term it might it
might make great demos but i suspect you
might be stunned later it's like it's
like the whole magic wizards used to get
any ideas i hope i can to pay could pop
up and say I'm gonna build you an IDE
that does everything and opens you would
tallish i don't think i right click all
that and and then chase something later
and everything breaks and so i guess it
depends library but good why BTW
hysteresis n approaches book
and see my car named testing reflections
hey cool tati muslin I'm I was
interested to watch your until I'm just
curious to know was it intentional that
you demonstrated writing the code first
and then test second oh yes so just
wondering because you have not cheated
in practice a little T doing so yeah we
we thought about doing this test verse
so actually from this point onwards now
it's a more testable state with
intensity things test first and when we
did it test first we found that we focus
too much from explaining out right this
is an xml httprequest object and and and
we got two we've got too caught up in
the details of Ajax which isn't what
we're gonna do it will try to talk about
breaking apart the other reason is that
in reality you always come across code
that hasn't been written test first and
we wanted to show that you know you can
take a herald piece of code and turn it
to submit that it's a lot easier to work
with and not just throw it away to start
again and then from there you can attend
the talks kind of a lot of our learning
process so being piloted UD using Java
wrong time but then comes JavaScript
kind of really really hard to work at
right so it's very fiddly yes so kind of
getting the code into a certain shape so
that you can start learning how to write
in the first half
oh I have a question I'd love to dig
into that this brian campbell red hat
like to dig into what you just said you
said it's a little harder to do test
first in ajax and i apologize i think
that's what you're touching on but why
is it so hard because the toolset isn't
there is because you're working a browse
or what what makes it hard to do test
first with agents i think a little bit
familiar motives or prejudice it's like
algebra 50 language like or just passion
out as a as a conceptual shift that
actually is the application become more
complex we have to take I mean
presenting applications on web page is
sort of the hacking first place at all
doc manipulations come back and there's
a learning process to recognizing that
as the applications where we're
delivering this way get super complex we
have to modify how we approach design
that's what the problem yeah I thought I
just I had the mentality if I I won't
ever test that and and we're finding the
more we do it actually it's easier and
easy to do tests first but like any name
was taking jobs for 12 scripts are very
very very dynamic language and you can
code yourself into a brick wall quite
easily and it takes a lot of discipline
much like a Magna tree I dependency on
brands as well because is it may feel so
it's difference between trying to write
tests first if you just got standalone
genre vers different tests velocity of
an application server a lot
so so just kind of get into that a
little bit more do you see tools that
could be developed that would make it
more convenient to do task force
development and take away some of these
barriers yeah absolutely and I mean you
know come from Java vocal things I tell
you Jana clips and I'm going into play
test although these kind of ideas in
science poor jobs right now which makes
life a lot easier and debugging we've
actually found and we use j/s unit in
the browser in example here we're
finding more and more that because I
think that Jess unit is and it runs to
get browser which is great but looking
at the control go map which is where
most small logic will probably end up
there's no browser dependencies and
there doesn't use XML HTTP it doesn't
use at all so we did things like
actually run the unit tests outside the
browser using things like the right
attitude and other comic JavaScript
engines motor sort of got their
attention as well which is a lot quicker
and and it kind of forces discipline of
making sure that you really can't do
pronounce a specific stuff in there in
right places and you get a much faster
turnaround time
that price he inherited on thirteen
sixty i noticed a curfew was actually
quite big and itself conflated a number
of different concerns they might have
the input box he had the last year that
would you hope you find it useful to my
broken TV pública surfer men making
unit test some view components
themselves yeah i think the mall complex
page you had the beauty components that
there is different components that were
about different parts of the cottage he
would you think it was actually unit
testing magazine same with in my unit se
swing widgets of your honors I think if
there were no visual parts of it than
probably with you interested like it had
a sorting algorithm or something I
London of great knowledge another object
and and you attest that and in practice
I found I haven't written crazy
automated tests for the actual official
site and
if you want to keep the passive view
model even it would hope you have to
have non visual part in the views so it
would really help to do test it and and
we have power over time there's more
things creep interview and go going back
out again and and that's just gonna add
missionary processing hi john august
robert ok where are you yeah you could
have cost over something which measles
one of the biggest Pony areas which is
testing the doll lots only a lot of the
doing code you've gotten jobs coaches is
quite close to the doc and made any
progress of any family it's also any
good approaches to doing this I thought
I'd ask we've linked to lots of tools
and really the most effective is to try
keep it on suppers as simple as possible
and do it manually and I'd love to see
at all to lenders want something that
can help with this and we haven't seen
it yet we do at least and we do at least
have some basic infrastructure where
it's very easy to test on different
browsers and different platforms and
stuff and
in focus okay it's all automated skin
bacteria and I thought even though I
actually thought about modifying firefox
to make it kind of a better test runner
than what we have features for testing
the inside my foot system and yeah I
mean there's there's these things like
this there penguin plug-in which is a
pretty good JavaScript debugger that not
since I firefox and ie is got the script
debugger and they didn't break my face
yo when they work which is about half
the time and other than that I'm even
thinking like that well I'm just
thinking if one of the barriers is
testing review stuff and if you use some
like no joke you're relying on them
having that test and they don't have any
decent tests either sorts of the dojo
people about how they will swing their
tests and then run away so it is a
problem to say you know could we modify
firefox to make it a better touch them
you can stick in some circles of the
state of the view or something like that
probably
I am Adelina for smaller ones like a
bitch I've ever loved thought something
I was wondering if you've taken a look
at some of the work of the devil because
they've already take a little tackle all
of this stuff about building complex
JavaScript applications and I was
thinking maybe the staff day you don't
learn or rip off from those people that
we haven't actually and that's like we
can go
I think I just like to defend the other
the knob testing the viewing the unit
test I think people sometimes forget
that unit testing isn't the only way of
testing things your report that selenium
awesomes like that could be used in
order to test the application full for
an end to end user perspective in those
kinds of cases it doesn't matter if
necessarily if you're done view isn't
unit testing really what you've been
testing for is that HTML is formatted
properly and there's very small bits
that you could test in the view in our
solution if it needs to be passive yeah
you can and I found that to be I mean we
tend to move we started doing that for a
while and it's tend to be quite brittle
what do things like you know checking
that when when when you click on
something in the view that it renders
the exact amount of HTML code like more
that's all regression test and then
every time you might have change
something your finger to change the test
and test for propios it wasn't we
weren't getting the right kind of the
balance of effort versus benefit and and
it turns out that when you're suffering
it even if you take a very very
complicated rich GUI application there's
not that many things actually happen on
screen and you know you've got memories
my partner hides and most erotic is the
actual interaction you have the
application i if you do things a certain
order that's that does that care and so
there is a there is a fairly lower and
nationally testing this Destiny's maybe
but I'm I'd love to say I'll approaches
to how we can help make the testing in
the game put it on HP and yes I pagadian
what you were saying now is Steve
suggested about Firefox you work for
google so most of the mo meters in
Firefox work for the word how you
thought about talking to your own people
absolutely I will essentially saying
with a good tool kit you know some of
the things that happens with equations
that people don't think about they keep
on adding new features like the dojo new
component that can show you a tree but
they don't boo the knee boots in those
components to the customer speak to
check you know what is the size of the
component and I query the component or
the test for the show in the component
hundred so are you further wat talking
to the people of one and trying to
enforce them oh yeah so you are putting
one of the main uses of there yet yes
laughter yeah i mean that's that's quite
nice having access to all these people
but yeah i guess i think is a sneeze
talkest I don't really like Australia
given web toolkit it's brilliant and but
we don't come cheese on our projects we
work on other teams doing and what ways
kid well whatever frame where he use and
even if it's actually pushing the way
it's very hard test it's easy to wrap
behind things and but I mean Google web
toolkit has a solid that hooks for
testability as a stage actually and they
weather weather actually you know tested
thoroughly I don't know but for from
using point of view it's actually quite
easy to wrap these things
if I can just make an observation i
think the discussion now is hitting on
something that's really germane that
your presentation says that doesn't
sound really really directly which is we
need to really get involved in the
software design process and build the
software for testability and really work
with the developers and so that i think
when we think about test automation we
sometimes take a very narrow focus we
need to take more expansive buckets in
terms of how we can do it and how we can
achieve it and i think that's a topic
whole topic how do you interact with
development engineers to get them to
build testability in to take it
seriously to see it as a factor that a
feature that really needs to be there
from day one well yeah i convey get
great and it's often the sad case that
the tester to the QA guys are the last
to hear about an application until hey
looks application tested and and do
right you know we need to find better
ways of having testing and QA influence
at patient design from they won buddy
which one
I think what you really need to drive
through in our company we have what we
call interdisciplinary product teams and
so from in the minute a concept comes
out for a product you've got a tester
there you know quality engineer you've
got dad you've got product management or
product marketing represented the
product support they're all there and
you can't get past the it's a good idea
base with with it without that and it
doesn't it doesn't work perfectly but
it's a start because yeah right you get
the stuff thrown over the transom you go
Oh what I need to pay it down of it I
was a bit disappointed cuz I had this
vision never mind that when Joe is going
to talk about Ajax development that heat
launch Firefox with a very funky Firefox
sidebar that was basically IntelliJ
style debugger and all these fancy
should be then I come hate using the
text written where is the cooler in to
hold you guys need to have wisely been
applied to a technical development
virtual PowerPoint yes I that's another
interesting thing we did a big tendency
to try and solve tough problems by
throwing sexy technology at it and
really a lot of the time the answer is
to take things away and just simplify
things
all right and Joe thanks very much
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>