<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Applets Reloaded: the New Java Plug-In | Coder Coacher - Coaching Coders</title><meta content="Applets Reloaded: the New Java Plug-In - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Applets Reloaded: the New Java Plug-In</b></h2><h5 class="post__date">2008-09-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4wi9Q1x8j7E" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello gives me great pleasure to
introduce today's speaker Ken Russell I
work with him for five years at Sun
Microsystems he did a lot of interesting
work mainly concentrating on the hot
spot vm he optimized the reflection in
the jdk used to involve native method
calls now it doesn't and that is almost
entirely his work he did some startup
time work and he optimized locking in
jdk six that's need the bias locking
stuff so whether you know it or not
you've been using his stuff for quite
some time but he's not going to be
talking about that stuff today today
he's going to be talking about applets
so take it away ken so good morning and
welcome topic of today's talk is applets
we're going to be talking about the
reloading of applets and the new Java
plug-in that has been introduced in jdk
six update 10 so today's agenda i want
to keep it really informal want to do
some demos one have a little discussion
let's do it again over and over all
right and now many of you if you think
about applets you may I'm not quite sure
what your conventional wisdom is so what
I'd like to do is defer to some examples
that are out there on the web of some
other opinions some external opinions
about applets so let's see this is an
interview from October last year with
Ben Galbraith of Ajax Ian
appletalk in the browser
java applets has sucked in the past 10
years and were really accepted other
prospects of that change
would necessarily say that they sucked
them
I think there were certainly
improvements that
alright so there's a brief opinion from
Bengal breath about the state of applets
at the time here's another example from
the java posse this is there round up
session from 2007 on java applets and
sort of what what should be done in the
in the space of java client technologies
but can i announce that in the christmas
special holiday special which will be
coming up everything alright thanks and
enjoy this is java posse round up 2007
the last quite the last session the last
technical session before the closing
session we are talking about applets and
what are they suck and what doesn't suck
about them and another part of this is
does java need an answer to flex this
will probably go all over the place I
just wanted to kick it off with an
opinion and that is it would suck I want
to be specific end and give some
recommendations that make them not suck
the biggest thing is the plugin the
plugins in the browser so that's pretty
much where we stood as of last year and
so what I'd like to very happily
announce is that we have changed the
implementation of Java plug-in
completely so in Java 6 update 10 which
is the release of which is imminence now
we have executed a ground-up rewrite at
the Java plugin this is the software in
the web browser that makes applets run
an interesting aspect of this rewrite is
that the new plugin is written mostly in
the Java language and to be honest the
rewrite never would have happened if we
had used some more traditional
architectures where there was more
native code associated with it because
we're really using all the features of
the language the high-level abstractions
the built-in thread synchronization and
multi-threading primitives in order to
implement this system we have a pretty
advanced new architecture which executes
the applets in a different process than
the web browser and I'm going to show
you a little little diagram of what that
means in a minute but there are some
major benefits from the rewrite number
one is improved reliability the applets
are really very strongly wall
from the web browser and it's basically
impossible for an applet to interfere in
any way with the the proper execution of
the web browser the user experience has
been improved applets now load
gracefully in the backgrounds and they
sort of pop into existence as they
become ready without interfering with
the scrolling or other rendering of the
web page we have a bunch of new
interesting support like you can now
request a larger heap size for your
applet if it's a really sophisticated
program just like you could for a
desktop application you can specify even
low-level JVM command-line arguments to
your app that if you need to tune things
like the the graphical acceleration
primitives so without going into too
much detail let's just show what the
architecture looks like on left you can
see this is the web page as its rendered
in the web browser and maybe we have
three applets hypothetically speaking
running on the page now in the print in
the classic java plugin you would have a
JVM embedded in the web browser and that
would be what was executing all of these
three applets in the new Java plug-in we
have the opportunity to spawn a new
virtual machine to run any one of these
applets so in this example you see on
the left side the the Firefox web
browsers process actually does still
have a small headless embedded JVM
inside and that's used to mediate the
connections to the one or more attached
JVM that are actually executing applets
so in this example we have one JVM on
the top that happens to be executing two
of the applets and a second one on the
bottom that's executing the third by
default i should point out that the
sharing characteristics are exactly the
same as in the classic plugin so namely
all applets run in the same jvm instance
so we're not doing anything too radical
like spawning a new JVM / applet we're
still trying to take advantage of
sharing of the running JVM instances
okay so this sounds like a fairly major
change right what did we do about
compatibility how well did we do well
we've run hundreds of athletes from
throughout the web and platt proud to
say that we've achieved better than
ninety seven percent backward
compatibility with the new system this
is again based on the applets that we
have run and on customer applets and
feedback throughout the beta testing
process of java SE 6 update 10 and we
are continuing to
proved as we find you know little
details that we may have not quite done
exactly the same way as the old plug in
and have the flexibility to to adjust it
so the main thesis of this whole work
was that the applet that the concept of
the applet is pretty good all right the
life cycle is very simple there are
basically four methods that you may want
to consider overriding to take control
over how your program starts there's the
init method called once at the beginning
of time start and stop which
conceptually can be called more than
once although in practice nowadays
they're called exactly once and then
destroy when the applet is about to be
terminated and that life cycle model is
completely unchanged in the new plugin
so all we've done is change the the
container which is just like a Java EE
container it's the applet container it
provides the services to the applet and
all the services by the way are
completely supported so things like
querying implicit querying of the
browser's proxy settings when the applet
attempts to make a network connection
that's all their access to the browser
certificates store and the browser's
Authenticator if if a piece of HTML
content is protected with a password or
something then the applet will or the
job networking staff will wrap back
through that the applicants request that
you show a document to another frame on
the webpage Java JavaScript integration
which I'll go into in more detail has
also has also been redone and is really
robust and really portable so the most
significant new feature of the new Java
plug-in is built-in integration of Jane
LP support have any of you written a
java web start application and deployed
it one all right well representation so
the major the most important new feature
of the new java plugin is that we've
tried to unify the concepts of applets
and applications by a java web start
okay so now it's possible to use the
same exact deployment mechanisms for
these two forms of getting your java
content onto the users desktop okay
effectively what you want to do is write
your program in the form of a components
in this case it's you know java.awt
components subclass or a
a swing jcomponent subclass and then you
want to get most of your logic into that
form so that you can basically just
choose the top-level container into
which you want to put that program it
might be a top-level frame in the case
of an application or it might be an
applet which is implicitly a container
and I'll show an example of what this
looks like in a minute but this one
major feature one major improvements
here is that you can now incorporate jlt
extensions trivially into your applets
there's a bunch of cool stuff that you
can pull into your web started
application already today like there's a
Java OpenGL binding which I happen to be
the maintainer of which lets you get 3d
graphics hardware accelerated into your
Java programs you can now incorporate
that extension trivially into your
applet it's a it's the identical
mechanism it's like one line in your
Jane LT file and that pulls in that
extension there's a new JavaFX
initiative its Sun which I'll talk
briefly about later which is bringing
rich media to the Java platform and the
runtime libraries for this extension are
published as Jane LP extensions and then
you incorporate them trivially into
either an applet or an application
another cool thing is that you can use
the J no PAP eyes which have been
available to java web start application
developers in your applets okay so if
you want to store a little bit of data
but you don't want to have to go through
the process of signing your code or
presenting a security dialogue to the
end user you can get access to a small
amounts of persistent storage on the
machine from your applet by just using
the journal p persistence service so if
you recast your applet and deploy it
using this new journal p support you get
all the benefits of a java web start
application in your applet okay and by
the way a consequence of the new
architecture of the java plugin means
that in the JLP file you can request JVM
command line arguments you can say that
you would like to run on a particular
JRE version you can auto download a
particular JRE version if you're an
enterprise you want to say this applet
runs best on a certain update of Java 5
for example all of these capabilities
are now supported for
it's okay so we've really tried to to
unify the the stage between in browser
and out of browser deployments so here's
what it looks like here's your applet
tag you specify your width and height
etc and the way that you points the JLP
file is just using another app the
parameter okay and this is all covered
in the release notes that are up on the
web and I'll have pointers to them later
but basically use the new Jane LT a href
at the parameter that points to the jane
LP file that contains your app the
descriptor now the bottom segments here
is the actual contents of that jane LP
file so in the resources section you
might say okay well I want to run on one
dot four or later maybe this is a
sophisticated applet that needs more
Java heap size so it requests a larger
heap size using the max-heap size
parameter maybe it uses opengl and some
of you may know that there are
incompatibilities between directdraw
direct3d and opengl and windows so we
may specify a low-level JVM command-line
arguments for this applet and then we
can reference the the code for the
applet and any extensions like joggle
that it might use and then finally wrap
it up with the applet descriptor saying
this is the main class etc so it's
pretty simple and we're just reusing all
existing concepts that have already been
present in java web start in the JLP
file format for a long time okay so
let's let me show you a quick demo of of
this so these demos are on the web by
the way you can go to jdk six devta
java.net plug into and that'll take you
to this page I'm just in the demos
section down here I maybe I'll increase
the font size a little bit okay so what
I'd like to show you these are some
demonstrations of the scene graph
library that's underpinning the first
release of JavaFX ok so the preview SDK
for the new JavaFX system went out last
week I think and these are some
demonstrations of the Java scene graph
that sits underneath it and lets you do
things like it lets you write
object-oriented code to represent graph
seems this is the major sort of
innovation instead of writing a lot of
immediate or imperative code sing draw
this oval draw this line etc you get to
say I want a group here with this
transform here's the oval that's an
object and then a line over here that's
what makes it so much easier to produce
this kind of you know
interesting-looking content it doesn't
look like traditional Java content with
you know rectangular buttons and
rectangular text fields and stuff it's
more you know curved and rounded so this
is the library underneath things that
that gives you these kinds of effects
and we can do things like you know play
with this little egg timer you know
there's a little calculator example
stuff like this now these demos are
written against the scene graph
extension and the scene graph extension
is pulled in via a jane LP extension
link okay so your applet you just build
it normally in your IDE and when you
deploy it you have one line in your XML
file saying I'm pointing off to this
extension and drop and the new plug-in
basically takes all the care of
downloading the extension cashing it
locally etc and then finally launching
your application with the the classes in
the extension available to you and you
can do some pretty neat stuff you can
take swing components and transform them
arbitrarily whoops there's some nifty
shader effects present to do things like
motion blur you got you know very good
performance on dynamically animated
content so anyway lots of lots of fun
stuff to play with so encourage you to
take a look at that again these are
linked off the the java plugin release
notes okay so so this this is covered
the basics of the new jane LP
integration in a new Java plug-in and
some of what this provides and more of
the demonstrations later are going to
show other examples of pulling in Jane
LP extensions any questions please
well the the main reason that you would
want to provide a previous
implementation or an alternate part of
your applet tag is if you wanted to
maintain compatibility with older
Jerry's okay and you know different
customers have different needs and
requirements here sometimes you might
just want to say you know you're going
to need to upgrade your going to need to
have 6 update 10 or later in order to
run this content but if if your app
would is phrased in a way that you can
mostly you can use most of the
functionality and there's like a little
bit of stuff that takes advantage of the
new functionality then you actually can
write your applet AG in a way that the
same applet tag and web page with no
JavaScript or anything will be handled
both by the old Java plug-in and by the
new Java plug-in cleanly so if you've
got the new one it'll see the jano phrf
initely use that as the you know it'll
replace all of the content effectively
from the applet tag with the contents of
the JLP file is there any reason
you
basically no you'd pretty much always
want to use it although one caveat if if
you're really like trying to get
something out there really fast it's
really simple it's one class file or
something sometimes it's more convenient
to use the old syntax okay but generally
speaking if you have any content of
reasonable size you're going to want to
use the new jlp mechanism because the
features that it gives you or just you
know much much more powerful than you
could do before any other questions
please please ask sometimes earlier you
could be multiple process thing that he
said everything
Genia and complying
okay so yes definitely so the question
is we were talking about multiple jvms
potentially being used to run applets
and yet also talking about no footprints
impact of the new model the new process
model for the Java plug-in and sort of
how do these things gel so let me
explain a little bit more the there's a
constant costs overhead of the new Java
plugin of the small headless JVM that's
embedded in the web browser process okay
now this is an implementation detail in
some sense one could write this in a
native language C or C++ although there
would be some major disadvantages to
doing that because we actually use the
same exact Java code both on the left
side here inside the web browser process
and on the right side in any of the
attached JVM instances that are used to
run applets and this is how we use Java
code to serialize the messages back and
forth between these VMs that say things
like start and applets or on making a
JavaScript to Java call and I need the
result back in some future point right
so by writing everything in Java we got
some major architectural advantages in
simplicity of implementation in code
reuse etc now again by default all of
the applets run in the same jvm instance
okay so just as before there used to be
a a vm embedded in the web browser that
would run all applets it had us the
default heap size or maybe a little bit
more roughly 60 for Meg heap size you
know certain JVM command-line arguments
that you would specify in the control
panel by default if you're just running
old style applet content that's exactly
what you'll get you'll get one VM
attached to the browser that's running
all the applets so basically you've got
just the one fixed cost of the small
embedded JVM which has like a 16 megs
heap doesn't come close to using that so
it's pretty pretty slim
yes the point tim is making is that if
you start to spawn additional VMs that
yes you will pay a cost for you know the
additional overhead there I should point
out that these VM instances you and will
time out of their idle for a certain
period of time and so actually you'll
get lowered footprint with the new
plug-in if you visit a page and there's
some Java on it then you browse away and
there's no job for a while it'll
actually shut down that attached vm so
you know in a steady state the footprint
is actually pretty small cool other
questions any other questions ok so
let's let's go ahead and talk a little
bit about interaction with the outside
world so Java JavaScript integration is
a really powerful thing that's been
present in some form for a very long
time since the very early Netscape
browsers and it's it's a real tragedy
that it wasn't in some sense more robust
or more you know beat up on by use cases
and this is one thing that we tried very
very hard to address and I think that
we've got a good solution at this point
so the the mechanism by which Java and
JavaScript interoperate has been
completely rewritten in the new Java
plugin all right and there are some very
exciting properties of the new
implementation number one is the new
implementation of this bridge is
actually written mostly in Java it's
surprising that it's actually possible
to write this kind of thing mostly in
Java we have the smallest amount of
native codes a glue into the browser's
javascript engine and from there we get
up into Java and then up into
platform-independent Java as quickly as
possible and from that point this entry
language bridge is built only with
message passing all right so it's just
sending messages over our inter process
communication mechanism back and forth
so number one the implementation is much
more complete than it has ever been so
when you're calling from Java down to
JavaScript there's a jace object class
which represents all of the javascript
objects and the calls against them look
a lot like reflective method calls you
can do you know call a method you can
fetch a property of the JavaScript
object etc um so I'm proud to say that
the
support for this is more complete than
it ever has been all of the methods
actually work now on all browsers so you
can do things finally like interact with
JavaScript arrays uniformly across
browsers this works all right you can
you can call methods in you know against
JavaScript objects works a hundred
percent all right so functionality that
is sometimes not been supported in the
past is now working correctly on all web
browsers this means by the way that you
can write both Java code and JavaScript
code and just not worry oops not worried
about the browser on which you're
deploying it's just going to work as
long as the new plugin is there there's
another cool thing which I'll give a
demonstration of in a minute which is
that in the past the best Java
JavaScript integration has been on the
Firefox browser family the Mozilla
browser family there you could call
static methods on Java classes you could
it create new Java objects from
JavaScript so you really had a nice
tight inter language binding now you can
do the same stuff an Internet Explorer
and any other browser where the new Java
plugins available I'll show you some
examples of this so what we're doing
we've got the opportunity to re specify
and reintroduce live connect to the Java
developer and we're excited about this
to finally be able to say okay this
support really works it's really robust
and you can rely on you can build
applications around it now another sort
of sister technology to the Java
JavaScript bridge is Dom access now
since Java one dot for it's been
possible to talk to the document object
model around your applet iterate down it
modify it but the the coverage to be
honest was a little bit spotty or it
wasn't really heavily tested some of the
methods weren't implemented so the Dom
access via the w3c api's has been
completely rewritten and it's built on
top of the new Java JavaScript bridge it
was before but the implementations been
radically simplified in a lot of lot of
ways another cool thing that's been
simplified is how you actually get
access to the Dom in the first place so
before you had to make these runner
bowls effectively and hand off the work
to another thread but this is no longer
necessary because the new Java
JavaScript bridge is implicitly
thread-safe
okay all the communication back to the
web browser ultimately gets funneled
down on someone single thread and that
is a hundred percent reliable so this is
how you fetch the Dom for your applet
you just call Dom get document and then
you have to dump the documents you can
cast down to HTML documents if you like
and then you can iterate the Dom you can
modify it if you like of course if
you're trying to do this from multiple
simultaneous Java threads you do have to
worry about whether one thread is
yanking out the piece of the Dom that
the other one's about to put content
into or something but that's more of a
rendering question as opposed to a
correct answer crashing question all
right you're not going to crash the
browser but you should take care if
you're trying to do document object
model modifications from multiple
threads and so this allows you to use
Java as an ajax engine all right you can
use Java is built-in multi-threading
capability to potentially have a much
simpler conceptual model for your app
and then Java can drive the modification
of the surrounding web page so I'm
pretty excited about this and would
there's a demo out there on the Java
plug-in release notes that I would
definitely encourage you to give it a
try and give us some feedback so let me
give you a quick demo of what this looks
like all right so this is not the most
exciting set of test cases but let me
let me show you this the page source
here all right that's the most
interesting aspect all right so we
create one simple applet up here okay
this applet does nothing and just it's
like a no-op just gets itself
instantiated and note that we name the
athlete on the webpage and we've we've
taken the opportunity to add a little
bit of functionality to the live connect
a concept live connect bridge so
basically everything's object oriented
and everything scoped around a
particular applet instance so we can
take our test applet and use the
packages keyword against it and that
lets us dive into the namespace that's
defined by that applet so you can call
static methods in classes that you
define in your applet from JavaScript
you can create new Java objects
better in name space is defined by your
applet from JavaScript this really works
i mean you know finally this is portable
and its robust so you really can rely on
this ability so for example we can do
things like hall static methods in the
core libraries like java.lang.integer
Parsons so if we do that this little
test pops up an alert dialog that you
know puts the result up all right system
out print line is less exciting because
we'd have to open Java console here's an
example that calls Java x-wing J option
pain to pop up maybe a more
full-featured message dialog than you
could get with you know built-in browser
api's ok so here we call this and note
that we've got the little you know alert
notification saying that this is an
unsigned applet window okay so it's it's
still still safe as it used to be here's
a more complex example that really
scripts things that have a fairly deep
level it creates a new swing jframe sets
the default close operation makes a text
field add some text to set some text
sets out the size of the frame and then
sets it to be visible so if we run this
from JavaScript you know we can do some
pretty neat stuff you know you can
actually start to do real gooey
scripting from JavaScript so you can
have a very flexible kind of app and and
do neat stuff all right so all of this
stuff is really portable runs on every
platform if you got the new Java plug-in
this stuff works guaranteed I personally
guarantee it alright so again these
examples are all up on the Java plug-in
release notes that are on jdk six devta
java.net and i will again these slides
will be available so that you can have
the links okay so this is sort of a
baseline functionality now what can you
do with all this cool stuff all right
you can make really sophisticated
applets that what that do as much as a
desktop application does or you can
again tweak the the hardware
acceleration parameters and pull in 3d
graphical acceleration libraries so I'd
like to show you some some really cool
demos that have been written by stellar
teams out there on the web all right so
here's an example that's produced by our
friends over in Moffett Field at NASA
this research center this is their world
wins Java software all right so NASA for
a number of years has been working on a
an earth visualization package that they
call world wind and in recent years
they've actually taken this technology
and rewritten it using pure Java code so
this software is one hundred percent
Java and rests on top of the Java OpenGL
libraries which provide hardware
accelerated 3d graphics access on all
platforms by the way OpenGL is a it's an
industry standard cross-platform
standard runs on every kind of unix and
windows and mac platform that you have
out there alright so this example
visualizes the Cascade Range it's using
some text courtesy of wikipedia and you
can visualize the earth simultaneously
in the web page right so we can and this
is a web page right there's some
flickering issues my bug actually I
think but you can visualize stuff in 3d
on the web this runs portably all right
this web page will render on any
platform out there that has java support
basically and it's also written in a way
that while it uses the new Java plug-in
features they also have a version of
this that runs with the for the earlier
version of java plugin so it really runs
you know on any machine from you know
the past I don't know 57 years okay so
you really can get broad deployments of
this kind of content in the browser all
right now this is interesting and nifty
enough but it doesn't really show the
capability so we've got a bunch of HTML
links here in the web page and you can
see in the status bar that it's actually
each one of these is linked up to a
JavaScript call so if we click this link
it'll call into the applet and tell it
to do something all right so watch this
so we can click the mount or near link
and it'll just drive us over to that
part of the earth all right maybe we
want to go check out Mount Adams or
something navigate us over there really
smoothly all right this is a fully live
view or a we can come in here and
interact with this thing all right and
this is on a web page there was no
software installation at all um the the
most that you would get is a one-time
security dialogue asking do you want to
trust
software from NASA Ames Research Center
user accepts that the program runs
there's no software installation of any
kind this runs on the Mac runs on
Windows runs on linux runs on solaris
okay so this is the kinds of really
nifty applet deployments that we've been
trying to enable with the new job plugin
really robust fast hardware accelerated
3d content on the web question you have
driving across the country absolutely um
we can that's a good question we can
come in here and zoom at I mean this is
a fully live map right so we can come in
where do you want to go all right so
just come in here all right here's
Manhattan this is on the web right I
mean it's the cool and powerful concepts
is that this this world wins component
is embeddable in your java program your
java application your java applets and
now you can deploy it uniformly on the
web off the web doesn't really matter ok
it's there's a very uniform deployment
model ok any other questions please
I didn't get all the question can you
say a little bit louder which today
yeah I mean I got it I got a profess
ignorance on some of some of that I mean
I know about the GWT and that I thought
that it compiled down to JavaScript so
that yeah
I think I think so right i mean i think
i think that we've got here is a robust
and reliable enough means of getting
java content hooked into the browser and
integrating with your surrounding
javascript code that you can now rely on
it all right i mean you know in previous
versions the java plugin you could do
this but you know there were some
implementation problems that might have
given you some reliability issues or
something that obviously you don't want
in your widespread consumer deployments
all right so what I'm here to say today
is that we've solved these issues and
that this stuff is really robust now and
you can rely on the the behavior of the
Java JavaScript bridge in the new system
okay other question useful for me to
have some benchmarks tough performance
of this versus flash flash plugin in
terms of
um that's there's a lot of dimensions to
that question right I mean depending on
exactly how you're putting your
graphical content on the screen I mean
you may choose to use OpenGL directly
although maybe that's not a you know in
some sense is platform independent as
using pure Java code by a java 2d but
Java 2d has new hardware acceleration in
6 update n by the way that gives it an
dramatically higher performance on you
know wide ranges of of Java content so
it kind of depends on the kind of
content your true that you're trying to
put out there in terms of raw Java
JavaScript performance which is is is
that part of your question or is it
mainly about the graphical performance
and like in using flash because
javascript and ajax could not
that I'm honoring what it is but
I I think that we can yes I mean I would
I would vouch for the performance of the
Java VM and the Java libraries um
compared to competing web technologies I
think the main problem that we've had in
web deployments has not been the the
performance it's been the reliability
it's been the robustness all right and
that's what we've addressed in this new
release the Java plugin so you know with
this release I can really don't put a
stamp on and say yes you know we are
ready for the widespread consumer Java
deployments and I'd be very happy to
talk with you more offline about that
and about so you know certain domains
etc but I mean you can see that the
performance is pretty good here right
this is pure Java code dynamically
generating the terrain every frame is
you're animating across the world other
questions okay so let me show you
another example let's shut this down and
go over here all right so a few years
ago some crazy guys in Germany that
called themselves by tonic software
ported that they took the GPL quake to
source code in software and they
transliterated it to Java so you kiss is
actually possible i mean c and java have
similar sin taxes and there are some
idioms that you can use like a c
function pointer can be converted into a
Java interface for example so they used
a bunch of these idioms they didn't
riorca tect quake 2 they just
transliterated it and then they use the
Java OpenGL binding underneath to
actually get the triangles and the
textures and everything onto the screen
now for a long period of time you've
been able to go out on the web and go to
their website and click a link and it'll
use java web start to run the game so as
long as you have Java there's no
installation click the link game runs on
your desktop full screen or not you know
anything any choice that you make and we
thought that it would be interesting to
see what you could do with the new
capability of the Java plug-in and the
ability to get this kind of content
running as an applet instead so here's
the user experience okay please watch so
I'm going to click this link it's going
to pop up a new browser window it's
going to show us a little animation for
a second and then the game is running
alright this is really runs and we can
come in here and III suck so all right
come in here like now get the armor and
stuff alright alright so yeah enough
about that right but but the point is
there's no software installation by the
end user at all the user experience is
you've got java installed you go to the
webpage game is running this is the
future of game distribution on the
internet alright no need for DVDs or CDs
anymore just you attract people to your
website with your compelling content and
by the way it's really easy to repackage
this as a java web start application so
that you can run it in you know more
offline manner than going to the web
page and we have a little more to talk
about that right now actually so any
questions about this okay of question
yes
job is basically everywhere as well I
don't have the marketing numbers in
front of me we're we're on like more
than ninety percent of the pcs out there
and we actually ship with the majority
of the piece the new pcs going out every
day we have auto update mechanisms to
you know get users on to the latest
versions of Java and we are aiming to
get this much more powerful release the
Java plug-in onto the majority of the
desktops out there as soon as we can I
mean this is sons general goal
950
exactly so point point is that you want
to ensure that you get good market
penetration by availability the plug-in
you rely on couldn't agree with you more
and you know Java a certain at least
some version of the Java plugin is
available on like again almost all pcs
of course this version is brand-new its
release is imminent it's not actually
out there publicly released yet so it's
going to be a little while before it
gets that market penetration but we
anticipate that the mechanisms that we
already have in place are going to
enable broad penetration of this in the
market once we flip the switch and auto
update to it question in the back oh
yeah 100 sure ok same web page ok
same link
game runs
nothing up my sleeve sounds good all
right okay so and yeah this works on
well it works on every platform that's
supported by the new java plugin that's
it all right this one really does rely
on the capabilities of new plugin by the
way it's it's an application it's
written as an app wasn't designed to run
as an applet so we're using some new
functionality that's documented in the
new plugins release notes to completely
wall off this applet into its own JVM
instance so it really just it's an
application only it happens to be
displaying its content in the web
browser all right and you need that for
stuff like because it's got global
networking state and it really doesn't
work well if you if you're running it
from two different you know threads
within the same vm question is it
support the new bugging to a new bra as
a good question we've really tried to
refactor it and so the like as much as
possible and get as much code shared as
possible so it really takes a matter of
a couple of days and a couple of
thousand lines of code to port this to a
new browser even the Java JavaScript
bridge has been refactored into the
absolute minimal number of native
methods that you have to implement and
once you implement those you know 20 to
30 little native methods that are of
couple lines each for the particular web
browser then you can just call from Java
to JavaScript all right so even that
bridge has been refactored and so we're
happy to say that this is quite portable
question the back how does this work
when the user is offline
feel able to play a game well it's a
good question so we I'm going to show an
example in a couple of minutes that
shows some some interesting new
possibilities of bridging between online
and offline content ideally we would
probably figure out some way to to allow
applets once run with the new plug-in to
run an offline mode so in other words if
you if you had a jnlp applets then you
could effectively run that as an
application if the applet allowed it to
be run an offline mode but we that
having been said we actually have some
new interesting possibilities in this
domain that i'm going to show you in a
minute so if you can if you can wait two
minutes will i think we can show you
some cool stuff other questions please
you mentioned the user clicking clearway
trust this applet dialog how many of
these capabilities are available to
ensign apples well let's see the only
reason that you would need to click the
security dialogue is if you want to use
for example the java opengl binding
which has some native code okay so it's
really only if you've got a native code
components or you need say access to the
local disk world when java has an on
disk cache and it can't you know it
can't really work within the confines of
the app with sandbox because it just
needs to cash these these imagery tiles
on disk so that's why it it needs the
additional privileges yeah but I mean
stuff like Java JavaScript integrations
to all this works from unsigned athletes
yeah the baseline functionality all
works any other questions ok so um let's
let's move on to a couple of a couple of
other Jesus top topics ok let's see all
right now here's something I hope you'll
find kind of interesting all right so in
addition to the baseline rewrite and the
improve robustness and reliability the
Java plug-in we've we've incorporated
some experimental new functionality and
what we've been trying to do is to blur
the distinction between in browser and
out of browser content using the Java
platform okay now you've already seen
that by reusing java web start concepts
we've been able to get some really
interesting unification between how you
develop your java content and how you
get it onto the user TC either inside
the browser or outside the browser which
are actually trying to take this a step
further to change the nature of
application distribution and deployment
all right so let me show you a little
demonstration okay so these are some
applets that we developed for Java one
2008 they're written using JavaFX the
current version that's out there in the
preview SDK actually you know to be
honest these apples are written against
it and even earlier version of the
JavaFX runtime and we're working on
porting these to the preview SDK that's
out there so let me just give you a
quick you know if run through these so
these are some really simple applets
that are built using the new JavaFX
script language and runtime system so
here's a stopwatch okay it tells the
time all right it's got really wizzy
gradients and stuff looks cool looks
almost 3d it's got drop shadows on the
second hand and stuff very nifty very
compelling another point is that this
thing is fully vector graphics so you
could scale it up or shrink it down
arbitrarily and it would still look
perfectly smooth all right so here's one
little example of something you could do
here's another example this is a buddy
list okay it shows you your friends
names chose the weather that where they
are shows you that the timezone that
they're in and it even shows you where
they are ok we can come in here and
click our friend's name and it'll pop up
a 3d view of the earth and take us to
where they live all right using the NASA
world wins Java technology so this is
showing interoperability between
existing Java components and the javafx
stack and the ability to take your java
swing thing embed it in your FX scene
and it all interoperates really really
smoothly ok here's a third example this
this shows the hot movies of the day as
of May of 2008 so this is what was in
the theaters at the time shows you the
movie posters shows you a little
synopsis of what's going on
and we can even play a trailer of the
movie alright this is showing off the
new media support in the in the JavaFX
runtime there's ten percent for shoes
were just walked down to 155 so okay and
what I'll point out is a javafx filter
effects are being used to to do the
effects like the you know fake little
movie strip need a little jittering at
the top and bottom and stuff all right
so it's showing the ability to process
the video in real time as it's going out
onto the screen okay so these are all
well and good you know very nifty little
effects ok now this buddy list this
buddy list actually might be useful
right maybe it would even incorporate an
instant messaging client or something
into it and maybe you'd want to use it
beyond your visit to this particular
webpage ok so with the new Java plug-in
here's what you can do you try it on the
web page you like it so we'll just take
the applet ok and we'll drag it out of
the web browser on to our desktop ok
that's the installation step now I'll
come in here and completely quit the web
browser and the applet is still running
alright so on the fly completely
dynamically this applet transforms from
a jnlp launched applet into a java web
start application no state is changed in
any way it's the same running applet
application instance ok we simply
dynamically change how the services are
provided to this applet on the fly so if
this applet for example used the show
document functionality to view a web
page and another frame on the on the
same page that it used to live in now it
would open a new web browser window
because it doesn't have a web page to
talk to anymore if it was querying
things like proxy settings instead of
going back to the web browser it would
now delegate down to the system proxy
settings which are you know again system
dependent
okay if it was making Java JavaScript
calls then those would begin to throw
j/s exception instead of completing okay
so there's a very graceful degrading of
the services that are provided to the
applets in this model and the user can
request in there Jane LP file just like
they can for a java web start
application speaking to the question
from earlier you can request that a
shortcut be created for your applet when
it gets disconnected from the web
browser we get you get the little
dialogue saying you want to create
shortcuts for this app if you say yes
then it creates the shortcuts and you
can double click or run from the you
know start menu or whatever the system
GUI option is you can rerun that a boot
later without going back to the web page
so this is the installation step take
the live app out of the browser put it
on your desktop that's it all right
retains as many of the services we can
provide reasonably to the thing
basically transforms into a java web
start application dynamically only with
Java ok so I'll shut that down and there
is actually more to talk about a more
functionality that's in the new Java
plug-in which we just don't have time to
discuss all right so there's backward
and forward compatibility mechanisms
talking to one of the questions from
before there are examples on the web
page of how you write your applet AG in
a way that runs with older versions of
the java plugin and the new one there's
multiple JRE version support for
enterprises if you want to QA your app
but against a particular version of Java
you can do that and you can run it
simultaneously side-by-side with apples
that are hosted in other versions of the
java runtime which is new you can move
your that this has been there for a
while this functionality but you can
move the update checks for your app into
the backgrounds that will improve your
startup time pretty dramatically without
changing your code in any way we finally
have support for cross domain policy
files so unsigned applet contents can
gain access to web services from other
vendors that are published all right got
a thumbs up from the audience there
that's good you've got better control of
the loading screen so you can get rid of
any you know son branding and keep your
company's brand there and you can get
animation in there more stuff to talk
about so please take a look at the
release notes there on the web and there
will be pointers available later so what
I'd like to the thesis thesis of this
talk and I don't know whether I've
convinced you all but the thesis is that
applets are back and what I'd like to do
is leave this this thank you slide up
for a while the development team worked
really really hard for over a year in
order to get this stuff out there
non-stop the the testing organization
did work evenings and weekends in order
to QA the stuff in parallel to the stuff
that was going on with the main line
product until this became the main line
product and then we had to partner with
many valuable partners in order to get
this stuff out there Mozilla was very
helpful it wouldn't happen without them
basically they had to they had to gut
the Java JavaScript bridge and allow us
to replace it with much much simpler one
in order for this to succeed in the
Firefox browsers and it did in firefox 3
so anyway so many people to thank and of
course manager Gustavo gallon Bertie for
sticking his neck out so many times and
james gosling and bob brewin for giving
us moral support from the project's
beginning so i'll leave this up and ask
if there are any further questions in
the audience please I didn't mention
64bit explicitly what I can say is that
the new Java plug-in compiled completely
cleanly in 64-bit mode the first time it
was tried and we are aiming to get a
64-bit version of the plug-in out there
soon please sin separates a the episode
should I mean correct me if I'm wrong be
possible to run some of the applet
64-bit that is absolutely correct yes
the applet itself you can specify the HD
64 for example and then you can have a
32-bit browser running a 64-bit applet
yeah that that actually works and on on
some platforms where there may only be a
64-bit java 6 available some proof
concept prototypes have been built that
actually bootstrap off the 32-bit
browser and the applets run in the JRE 6
in 64-bit mode so that does work please
ah that I don't know I thought that they
did actually not hundred percent sure
but basically the basic concept is that
the you can run a 64-bit applet from the
32-bit browser and that works in this
architecture yeah other question ok well
thank you very much for having me and
have a good day
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>