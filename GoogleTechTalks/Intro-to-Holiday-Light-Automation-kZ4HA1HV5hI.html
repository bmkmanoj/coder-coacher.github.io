<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Intro to Holiday Light Automation | Coder Coacher - Coaching Coders</title><meta content="Intro to Holiday Light Automation - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Intro to Holiday Light Automation</b></h2><h5 class="post__date">2007-12-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/kZ4HA1HV5hI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi welcome my name is Andy swing I'm a
hardware engineer here at Google working
here for the past year and a half or so
here today to talk about automating
Christmas lights or holiday lights if
you so choose a couple years ago I set
out to do this on my house and tight
little bit about what I've done there
and the different options available to
you that I've looked into I think it's
pretty fun so what are we gonna talk
about well maybe why would anyone do
this right seems like maybe a crazy idea
show you kind of the basics of a you
know real simple system will talk about
how to hang up the lights things to
watch out for it's not quite as easy as
you might think you can just let them up
and have it go I'll talk about some of
the different hardware components the
software that controls that hardware and
then I'll kind of show you how it gets
all put together using my house and
someone else's as an example and give
you some links that so that you can
check it out for yourself at the end so
why why on earth would you do this well
I can tell you that it's a lot of fun I
enjoyed a lot you know I'm an engineer
so I spend all day doing technical you
know nerdy stuff and this is sort of a
creative outlet right something about
being able to write software and build
hardware that does something sort of
artistic just fascinates me for some
reason it's also a good learning
experience so I learned a lot about
different aspects along the way plus it
just looks cool I have a bunch of
different patterns and stuff and we see
the car slowing down in front of my
house that's kind of fun believe it or
not animating your christmas lights can
actually reduce the amount of power they
take so sure you might throw up a lot of
strings but you can actually sort of
mitigate the power costs and things
there plus you know it's not just for
Christmas you can you can spice up any
holiday with automated life
I did did some stuff for Halloween this
year for example anything the doors wide
open so what does it take to do this
well you need a lot of lights preferably
at least twice as many as your neighbor
because you know you have to that gets
into a bad cycle by the way you'll need
some extension cords to plug things
together you need some sort of hardware
to control the lights right so you can
plug them all just into the wall but
then they'd be all on all the time
that's no fun and with the hardware
comes software so you have to have some
way to build patterns and control
everything in a neat and easy to use way
and it takes a lot of patience it takes
a long time just to hang the lights it
takes a long time to to write sequences
and things if you want to build build
one to like a song that can take you
know up to 20 hours for one song you
know three minutes of glory so depends
on how crazy you want to get so here's
kind of what a simple system would look
like you have a control computer that's
running the show there's a hardware
control box and a bunch of lights that
plug in somehow plus you need a good
good source of power depending on how
many lights you put up so that's kind of
what it looks like so let's talk about
putting up the lights you see those
houses where people just kind of buy a
whole bunch of stuff and they throw it
on it kind of looks icky or overdone
right so it takes a while to kind of
plan it out and you can use sort of the
existing lines of your house so outline
windows put it around doors use the
eaves all kinds of things like that that
make it look sort of part of the house
that gives a better look I think it's
also sort of challenging to work out
where do I put the lights how am I going
to plug them in without it looking ugly
and nasty plus you know you always end
up with a string that goes all the way
around the window and then you have like
half the window left what do you do with
that so it takes some work there plus
most of the lights you can buy are
either like multicolored or white that's
okay it's a lot more fun if you get six
strings each of a solid color then you
can control the different colors and
play around the other note about strings
is you can buy really cheap strings
don't do that you'll end up spending
more in the end so you know it pays to
spend a couple extra dollars and get you
know quality quality hardware but that's
just me you have a fixed number of
channels that you can control so you
know if you go out you buy 100 lights
well you're going to have to pay for a
hundred channels of control for those
lights you could gang them together to
some degree but that doesn't look as
good if you get really nuts you actually
have to worry about power capacity like
will my house have enough power to run
all these lights believe it or not
people run into these issues I'm not
there yet but someday plus all this
stuff is outside so think about its kind
of winter season right now it's rainy
and and wet and all that so you have to
be a little careful where you put stuff
and just to keep it safe and dry and
working without issue so here's how I
did my setup I like Google Sketchup it's
fun so I went and drew a picture of my
house and it's actually to scale so I
some key dimensions and things and
sketchup is really really good at that
so that let me sort of plan out you know
okay i have ten strings that are 15 feet
long where can I stick those so I came
up with sort of a map okay I'll put
these here and those there and that made
a lot easier when it came time to hang
it because I knew the lights I had and
where to put them in and all that plus
it makes kind of cool pictures so here's
just an example so there's there's
lights around the window and things
which is all planned out okay some more
more lights seems to actually have like
a whole bunch of multi colors along the
top and things like that cable
management sort of an issue as well
which will see more yeah lots of lots of
extension cords and yeah cable
management right so you know what cords
hanging all over the place preferably
you tuck them under eaves and things
like that yeah I wish I could have done
that better
so so thats hanging the lights now you
worry about controlling them so there's
there's actually a bunch of different
theories out there different different
types of things you can build you can
buy stuff that just works out of the box
you can build crazy kits you can fill it
all from scratch if you want using
surplus components there's different
trade-offs but the the basic idea is
that you have an AC light like Christmas
lights or anything little trees things
like that that you want to control with
a a low voltage signal from a computer
right usually you want to keep like high
voltage AC and low voltage computer
separate so that's that's a little bit
of a challenge so there's this sort of
two main classification you can build or
buy simple controllers that just let you
turn the light on or off so it's full
intensity zero intensity the cooler ones
let you dim the lights and you can
actually do things like fades or color
mixing and things like that that's a lot
more fun but it costs a little bit more
money so let's talk about how you would
build one of these on-off controllers
usually it uses a component called a
solid state relay so that's just a
simple little block and it takes a low
voltage signal in and it controls high
voltage on the other side and it's
actually optically isolated inside so
keeps things separate which is good
there's just cool website called Planet
Christmas calm and they talk about sort
of their strategy for this this type of
approach the thing that's sort of
fortunate is that every controller you
build has to have a wire that goes all
the way back to the computer so if you
want 100 channels that's 100 wires you
gotta you know make their way back so
that can get a little out of hand as
well see in these pictures so here's an
example schematic they had this is a box
that could control 8 channels so they
have a trill relays over here those
signals go off to the computer and they
have their power that comes in but you
know it really doesn't look that pretty
seems like maybe something could go
wrong there so as I was saying you have
to have a signal that comes back to your
computer for each one of these this guy
has more pictures in this but it gets
kind of gnarly it's all the cables and
everything
he actually has these two big cards in
the computer that drive digital outputs
which are kind of expensive and clunky
and this one let you dim by the way is
only on off so it really doesn't scale
well so there's also a bunch of
commercial controllers that you could
just go out and buy there's two
companies that are kind of the main
reseller to those it's light o rama and
an animated lighting i'm not being paid
by then there's just the two two people
out there I could really prefer light
Aramis gear makes a bit more sense and
that's what I used but basically their
products are the same you can buy an
eight channel or 16 channel controller
which is pretty cool so you can get a
lot of lot of lights on there and the
best part is that it uses a serial
protocol to communicate between the
controllers so that means even if you
had a hundred controllers all you have
to do is run one cat five cable that
daisy chains its way between the boxes
so that makes sort of spreading your
controllers around your house easier
it's a lot easier to debug and things
like that too so you can buy them
pre-built and some even are like even an
enclosure and everything you can also
buy them in kit form which is what I did
because they're cheaper because I can
solder so that that's another way to do
it I recommend against kit form if
you've never done that before it does
take a bit of work it took me you know
good four hours to solder it up and I've
been doing that for a long time so so
here's kind of what these commercial
controllers look like this is one of the
ones that's straight out of the box it
has cables on it the whole deal plug in
and go this is one I built from a kit so
the only thing that came in the kit was
the circuit board I had to solder it all
together and I put it my own enclosure I
put extension cords on there the whole
deal turns out that costs more than
buying the kit or the completed one
rather depends depends on how much your
time is worth so these are some cool
diagrams from Leiter Brahma and kind of
shows you how you could set up a show so
this is really simple they have seven
lights control
Peter over there and there's that little
serial cable i was talking about come to
the controller box you plug it in the
way you go you can even do audio with
their software you can get crazy too so
here they have a whole bunch of
controllers that are wired in there you
can actually buy these little wireless
things to send them across so I don't
know if you had a huge mansion you
wouldn't have to string cable everywhere
I wish I had that problem and you'll
notice they also have a FM transmitter
so one of the really popular things to
do is to put these to music and then you
can broadcast that music so people that
sit outside in their car can can listen
to the music while the show goes on
pretty cool I'm not there yet either
okay so so we talked about dimming AC
power and I thought I'd go into a little
bit of technical detail and tell you
exactly how that's done so if you look
at the AC power that comes out of your
wall it's a sine wave 60 Hertz here in
the US so how could you sort of vary the
amount of power that's delivered to the
lights that's what you want to do less
power means less brightness so you can
use this thing called phase angle
control use this old track chip
basically the idea is that you want to
cut off pieces of the sine wave so the
area that's over here it sort of equates
directly to the brightness so you can
kind of turn it on over here and shave
off half and the other half gets
delivered to the light and that can be
pretty fine grain you can get you know
over a hundred steps it's pretty cool so
that's kind of how it works if you want
to know more just google it so now it
seems like an appropriate time to
mention some safety items electricity is
dangerous believe it or not we all play
with it every day but it can't bite you
so especially with Christmas lights
right i was i was talking about them
being outdoors and and there's weather
issues and water everywhere and let that
sounds a little little sketchy so
grounding is really important the whole
theory behind grounding is that say i
had one of those controller boxes right
and it was shorted out inside if i touch
that box i become the path to ground
right through my heart and that
that so grounding is all about giving
this sort of safety path so that it
doesn't go through your body so you
never want to use Christmas light
controllers and things on ungrounded
circuits keeping things dry that's also
very important one of the techniques I
like to use I have some little trees
that are out in the yard and they're
less protected so I run extension cord
up to the base and I run the light plug
underneath and I put the whole thing in
a little plastic baggie a zip tie that
way water can't get in everybody's happy
the other thing to talk about too is
GFCI protection so you may have seen
these outlets in your home they're
usually in like the bathroom and the
kitchen outdoor outlets things like that
it's actually a safety protection device
and what happens is it it detects when
there's current flowing not through the
normal path like through your body for
example and it'll it'll shut off the
circuit so this is a good thing right
then if our Christmas lights are
shorting out it'll just turn off the bad
thing is that that'll shut down your
show and and also if you just have
Christmas light strings across the
ground there's enough sort of leakage
there to trip GFCIs so if you look on
the forums and things you'll see that
people don't like these devices and they
usually try to get around them but
they're there for your safety if you're
careful about not not leaving plugs and
stuff on the ground where they get wet
it's not too big of an issue alright
that's enough about that let's talk
about software so there's there's a few
different software options it's actually
kind of lacking in my opinion there's no
open source stuff in this area there's
some freeware and two commercial
packages basically both light o rama and
animated lighting each have their own
software that they're happy to sell you
along with the hardware it's like
hundred bucks or something so the basic
idea of all this software is to create
sequences right and a sequence is
nothing but a bunch of slices in time
where you define the values of all your
lights so for example you might change
the value 10 times a second so you kind
of build a spreadsheet looking sort of
thing that defines your pattern and
things and I'll show you picture in a
second here
so you create all these different
sequences that might correspond to a
song they might not might just look cool
then you want to sort of build a list of
sequences to walk down through and using
the software you can actually turn that
on it like 530 and have it run through
and do its thing on a schedule and
things like that so it's pretty pretty
advanced yeah let's see so there's one
freeware option that I used called vixen
at vixen lights calm I think there's a
link later it's pretty good editor it
has some some pretty cool plugins
there's one where you can import a
picture of your house which I threw my
Sketchup diagram into and you can
actually draw the little lights on there
and as you're building the pattern you
can preview what your sequence looks
like which is really useful because you
know trying something out then running
outside to look at it gets old after a
while especially when it's cold outside
the other bonus of vixen is that it
stores its sequence data in an XML file
so I actually wrote some of my own
software to parse the XML out and run
the show so if you like hacking with
stuff it's a good option for that it
also supports a lot of that sort of
do-it-yourself hardware and their their
website has a lot of good links to
different different things you can build
so if you're looking to do this all
yourself is a really good piece of
software for that some good community
behind it it kind of has some support
for doing stuff to music but it's not
that advanced yet the major downside is
it doesn't support any of those
commercial controllers so you can't buy
a light o rama controller and use it
with vixen you have to use their
software so here's kind of what it looks
like so cross here is all those time
ticks if you look at the top is actually
a 10-second pattern split into 100
different pieces and you have all your
lights down there and you can assign
them colors and things so you can see
there's kind of a neat little pattern
going on up there as well as a fade at
the end so as you're you're changing the
intensity down the color intensity
changes so you kind of get a good visual
representation what's going on and it's
pretty easy to use all point-and-click
and everything the commercial software I
haven't actually used it myself but
it it's basically the same it'll work
right out of the box with their hardware
whereas vixen might need a little
messing around with they actually have a
lot better support for doing a show to
music you can actually buy a little
pieces of dedicated hardware that will
run mp3s and things as part of your show
which is pretty cool they also have some
good hardware testing utilities so
especially we going to build them from a
kit you want to know that it works and
you can test it all out which is cool so
talk about my setup I have 32 strings of
lights all over my house I have so far
12 different sequences like I said it
takes some time to build them so the
controllers I use or light o rama have
two of them each have 16 channels if
everything's on i'm using 1200 watts
which is not so bad that's that's safe
enough to run from a single outlet but
like I was telling you if you write your
patterns right and everything you can
you can severely reduce the power
consumption so it a virgin's about 300
watts which is not so bad I can justify
that one and i use fixin to build all my
sequences i wrote some custom software
to parse through those and control the
hardware did all in java because it was
easy and it actually works and that runs
on a linux box every night some of the
things that i'd like to do in the future
is have it go out and figure out what
time you know the sunset is and turn the
lights on exactly sunset everyday things
like that those sort of things with it
you can only do if you write this out
for yourself so where did I put my
controllers under the eaves on each side
so this let me sort of run the cables
from the coroner's out to the lights for
each half which was good the year before
I put all my controllers in one corner
and I had this big bundle of cables and
it was all ugly so take some planning
like I was saying there's there's one of
the controllers that's the one I built
from a kit and it's under the eaves so
it stays dry and there's the other one
from this year with lots of ugly cables
and things
but it's also protected some more shots
cables and things i hope that gutter
doesn't overflow that could be a problem
more lights ah so here's a video of one
of the sequences that i have this kind
of cool is the like Knight Rider effect
goes back and forth so I want to show
you the pattern that corresponds to that
video so it's actually pretty simple
right it's a nice little sawtooth wave
thing and you can see when the
interesting things I did here is it's
not just one box on its kind of on and
then fades off a little so it gives the
emotion sort of a trail I discovered
that it gives it a much more real sort
of look which is pretty cool so yeah
that that pattern didn't take long to
write so here's another video so this
one's look a little bit more motion
different colors stuff like that
and the pattern for that one's a little
bit more complex and you can kind of see
the elements from the video right kind
of starts in the middle and and works
its way out the other thing I should say
about the patterns is you know this
lasts for five seconds right obviously
it was running for more than five
seconds so it's sort of a wraparound
deal so you have to you have to time
your pattern just right so that you know
this point has to wrap around to this
point in order for it to work well and
you can see that this pattern kind of
does you getting some frustrating timing
issues there okay so so my house is
pretty cool i think i spent enough time
on it to be there's this other house
here in sunnyvale actually locally that
completely trumps mine these guys there
are two houses next to each other I
think there are retired engineers or
something like that they have 60,000
some odd bulbs that's a lot spans two
houses like I said if everything's on in
their house its twenty five thousand
watts I don't want to see their electric
bill 188 channels they have some really
good animated songs and things 30 of
them actually which is pretty cool some
other displays these guys do it right
it's very cool um so I have some
pictures of these to show you they do a
lot of you know basically any object in
their yard is covered with Christmas
lights and then they add some like trees
and reindeer and and things like that
it's it's quite a sight I'm sure their
neighbors hate them some other cool
things
these are some of their led like to
think which are pretty cool yeah so a
note about LED lights I was gonna
mention that earlier get more popular
which is cool they they burn a lot less
power they don't quite dim as well as a
incandescent bulb with the traditional
controllers so if you're going to do
LEDs you should go all out and and spend
a lot more money on on the right kind of
controller to get the right effect but
you can limp along for now so you
probably saw I was like a couple years
ago this guy did this crazy video and
everyone the world seen it did this kind
of thing to his house to music well this
house and Sonny was talking about did
sort of a rebuttal to this and we'll
play that for a minute here
pretty crazy this guy's spend way too
much time on this stuff but there's a
link to the website i encourage you go
check it out and if your local here you
should definitely go see it because it's
a million times better in person opposed
to get a whole bunch of other stuff
going on it's very cool but they've been
doing it for a long time so maybe now
you want to know more you want to go do
this for yourself it's a lot of
different resources available you know
easiest way to get started is to Google
you know how they like display or
whatever but there's some links to the
the two companies there the Vixen
software that is talking about planet
Christmas is this cool website that has
a whole bunch of different how to
information and links to other sites and
things like that some of it could
resource and then here's the link to the
savage peas house that's here local it's
pretty cool yeah so I threw up a real
quick Google pages thing that has some
of the links and it'll have the
presentation and things on there too so
if you want to know where any of them
are you can go there and i think that's
it yeah so this is a video it's like
four and a half minutes long of all the
different sequences that my house does
so i'd like to open the floor for
questions now yeah yeah go ahead and
step up to the mic silly vegas for the
video so besides the making the changes
four different times when the sun sets
to read other changes would you were
were you anticipating of making well uh
a lot of ideas i guess try to remember
what they all are I'd really like to try
to do more things to music because I
think that's really fun but the time
sink maybe I'll get started in july or
something more lights is better I don't
know it's it's kind of kind of open to
possibilities it would be kind of cool
to set up a web page where people could
pick different patterns or give them
sort of the base fixing files they could
write patterns of their own maybe have a
contest or something so people could
design design things from my house and I
won't have to do to work lots ideas yeah
cool other questions hi it's andy right
thank you for the talk I enjoyed it I
wanted to sound like I liked your second
house better than the first one but I
wanted to ask about music
synchronization and I wondered what
tools are available currently or should
be made available besides these based on
you know hand creating a specific and
carefully timed pattern to sort of deal
with music you know maybe you just play
it some music and it make something up
sure you know based on what it hears I
think that'd be really cool anyone wants
to write that software that would be
awesome yeah i think there's there's
plenty opportunity to employ different
algorithms and things that could maybe
know about the different colors that you
have set up and things like that you
know there's some really simple things
that people do based on different tone
levels and things that'll turn on
different lights but in my opinion it
never looks as good as as what you can
do by hand but yeah there's there's
plenty opportunity there I think so so
far generally everything is just by hand
coded by hand yeah and ruined if you
imagine programming your sequences with
180 lights I mean you must take him
forever no I could not yes thank you
thanks um kind of a related problem is
let's say you have electronic devices
that consume a lot of power when they're
supposed to be off sure so let's say a
TV and you want to have a single device
that's controlled by a computer what is
a or do you know of what would be like
an inexpensive way of doing that with
just a single device computer-controlled
sure so you know there's lots of good
options if you want to go really simple
eight channels or less actually is sort
of a key number I believe there's
there's some of those do-it-yourself
projects that use the parallel port
coming out of the back of the computer
and that gives you at least a channels a
couple more if you want to squeeze them
out so you can use those solid state
relays like that and you can actually
just drive them straight from the
computer no extra components if you look
online there's a lot a lot of different
projects like that and actually some
pretty cool software there's some
different open-source little things that
let you control stuff over the pale
important things like that
so yeah the Internet's a fun place with
lots of cool stuff any other questions
oh great well thank you all for coming</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>