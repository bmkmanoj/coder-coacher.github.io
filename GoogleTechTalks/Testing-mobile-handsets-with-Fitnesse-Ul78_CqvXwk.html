<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Testing mobile handsets with Fitnesse | Coder Coacher - Coaching Coders</title><meta content="Testing mobile handsets with Fitnesse - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Testing mobile handsets with Fitnesse</b></h2><h5 class="post__date">2007-10-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Ul78_CqvXwk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay i'll just get foul down somewhere
firstly introducing ourselves I come
from company called TTP come we were
recently acquired by motorola they were
a customer vows and they liked it so
much that they goes city becomes so now
get for royalty camp rock group the
group has our headquarters a Cambridge
just in the bomb near Cambridge we are
700 people who role as a much bigger
company from a group that I know of and
in our history we've been developing gsm
protocol stacks originally GPRS 3G all
kinds of protocol stacks and then we've
been moving towards writing applications
as well application layer and
application frameworks that's where i've
been spending most of my time so the
process when developing a mobile handset
a mobile phone you go through a sourcing
because nobody builds everything from
scratch just too expensive and so you go
and sauce and protocol stack some
drivers codex there are some suspects
you need to maintain to be able to fill
out to be allowed on the different
networks you buy an application
framework and a set of applications
applications are typically something
like the browser messaging application
and the likes then you go and do the
integration that's a very very very
expensive process because you take all
these and there's some of them in what
kind of c and some of them in very
proprietary platform so a lot of the
code has also been tied very heavily to
purple thanks
no specific chipsets from vendors like
tiio and of devices attached so on
toshiba then you go on validating this
huge amount of work that's also very
expensive then you often send up sit up
and do customization for operators
operators are the driving force behind
mobile handset business in a way that
they collect all the money from their
fuses and then they want to say in the
business they want to have protocol over
or multiple items so something that they
they decide they want something for
their money and then there's an
acceptance test at the end accepting
that all these creatures have been
correctly so our basic guitar I our
teachers could say in free cheer we have
an application day on top we have some
middleware protocols different kinds of
protocols we have would believe how many
many protocols protocol stacks you have
an assistant like this HD tcp/ip you app
push-to-talk different times and then
you talk down to to the modem in fact we
think very much of our our way of having
an application play and education stash
and then we connect to a modem
so what we did whatever is and pre
integrated platform that can then be
customized and added and added the
People Power customers can add their
their own specific entrance unique
selling points to differentiate a
marketplace so the process comes from
amex take steps to three we also
displayed I mentioned before where we
have a split with an application stack
and then about it below it aims us to do
almost all our development on PC so we
had set of tools we develop and we able
to run our stuff on the pc and test it
out and then basically just well
compilot the relevant pc then compiled a
big pilot could be with the real
protocol stacks chipsets and so on and
put it on a target zone so the problems
in testing our platform is going in
approximately 100 million from handsets
next year from Aurora so you have to
time that each bar under heading for x
so
that expensive that we've been doing
Mendel testing so far our system system
level end user experience so for example
sending an SMS or making a phone call to
somebody we have 4500 test cases
approximately and my colleague Parker
hit him and has been maintaining those
documents then the League of the
development and maintenance of those
tests fix and Mark is a there's not a
big fan of word anymore so then we had
to perform these tests case once a while
and that takes us more than 49 days to
do so that doesn't happen very often so
our test for maybe running for five
times a year at best the lot of bugs
were greeted in between that at the same
time yeah as I mentioned Marcus were
struggling with the documentation
keeping that up today a lot of eager
developers here to pick some books and
not always being structured enough to
update the documentation we both have
you our specifications that specifies a
requirement specification how things
should work and test specifications that
won't more concrete on exactly how
things should work
so an ideal with testing approach to
testing a mobile phone using a robot
pushing the buttons and a camera looking
at the screen and then being totally
outside the system but that obviously
has some costs so we took we took an
approach yeah no time the problem is is
that we want to add these automated
tests too well a legacy system there's a
couple of million lines of code and we
don't want to change the existing design
too much because then we publish the
changes and we would like to get gridco
integrate the US bank statistics at best
in X cube specifications allow us to be
able to test on PCs and relations from
different manufacturers of chipsets and
a non-real handsets so the testing would
be cheaper and more frequent that's why
pip is going to picture as Rick
demonstrated and talked about yesterday
Fitness is a software development code
razor tool and this is from the fitness
web page description so where you can
communicate about software communicated
take us how something should work how
how a system must work how to interact
with the system so you can do that
multiple levels you can do by stories as
written action yesterday all you can do
it inflows obviously there's a there's a
constant to doing it and flows
because you need to maintain them and
keep them up to date and so on
that's part of what we need to test so
the story about fit got that yesterday
from brick and specifications excuse
vacations being due to some sort of
target system so our approach is the
virtual black box system test we want to
test the end user experience the end
user functionality making holes
receiving calls doing all those things
with the headline examples but we only
also want to test the on scenarios where
you gonna call and receive an SMS and
suck your battery goes down and
something off happens we want to be able
to test those so we are we went for a
domain-specific language as opposed to
what Tim and Robert prevention yesterday
we went for the field solution with the
domain-specific language for testing
mobile phone device it's better stretch
and home calling that at the main
specific language but
then we'd setting one step below the
surface them the camera and the robot
approach we're sending signals to the
system over a serial port or or yours
videos whatever we have available and
then we simulate that they keep her calm
so we want to keep its face into the
system simple so we also component two
different different systems we we have
two levels of tests where we have our
components visual component or the
widgets and they can be I can stream
text editors stuff like that so we use
high and low level functions to verify
those press certain key name or that we
use midnight comparison with those so in
specific testing applications where we
where we make sure that the visual
components render themselves properly
then we have a different set of tests
that assume that even these wicked tests
aren't correct and passing so that we
can make them hip sing Senate
application test more robust against UI
changes and so those we can use pilot
higher level functions like inter
Motorola has text and and would
translate into the long sequences of key
presses press the two key two times
press the other key
times so that an application-level test
case wouldn't be miles long we also have
menu menu navigation and fractions like
select extras from list the verification
part in the application test we use an
XML representation at the screen so
we've added a test interface into the
system where we can get we get the
visual components the widgets to dump
themselves their stake in XML so the
screens made up of a compound of widgets
inside each other and make sure each
other and so on so we get it each of
those to report how they are how they
look at the certain certain time so
here's an example very simple screen of
a stubborn trepidation so we hit the
target system the target may be a PC
simulation we might also visit the phone
or evaluation form like one we've set up
over here mention that layer and we said
in a signal asking for a representation
of the screen and then this is what we
get back all those decent CDs at a is
our naming conventions for four
different classes that weighted classes
crazy people our IDs are resource IDs
because it's a resource system resource
based systems or we can configure these
widgets with the separate resources
outside the coat and then we get this
done per person representing the screen
then what we do is do xpath queries into
this so it says case for this one could
read like
football navigate to the stopwatch page
then verify that it says 0 0 colon
000000 then you could think of a test
case where that would press the soft key
the left softkey tough do you want we
call it when you press that and then
verify that the stock has been replaced
with stop vertical or lap
so we build up at the main specific
language at this vocabulary existed well
consists of two parts the stimulant and
the checks so as I mentioned we have the
key presses something most of the time
you should have short keepers we need
long keepers and some granted sometimes
we need to be able to hold one prisoner
one called a third one and to test those
scenarios if somebody chooses one of our
customers choose to make the UI that
there does that read them then we have
the highlighted text the number entry
conscience we have scrolling functions
and then we also can operate on the file
system of the target and upload files
counterparts compare files the dig fast
so on we can stimulate external entities
like an SMS or mms gateway where we
control that one and have that one
sending an SMS MMS to our test system we
can do hope our control of the boards we
can we can turn it on to turn out we can
verify if it if it has died
and we have different sets of functions
and then we have our district capital
area of test check functions that can
either verify certain text or graphic or
property or something but but mostly
something that's specially represented
the reason that forest using these and
there are we we got to this this setup
of verify functions was based on the our
existing test specs because they were
out there the type breasts this key into
this verify that this string is shown
and verified that the South Kihei the
changes from this to this so on but we
wanted to keep basically keep our
current testing level not change that so
we can make the transition directly from
manual testing to automated testing and
then later on you can take tests in two
phases whenever we can afford it and
have the time and so on other places in
the system below that you are
so this is a screen capture of a simple
simple test the fitness weekly puts up
these tests actions we created some
press key and verify and then they clear
up something so you can impress this one
our PC simulation would start up it
would go to the the idol screener would
enter these things and then you can see
the tests in form and things go green
whatever whenever whenever things were
correct
inside fitness you can also easily edit
your test cases go in the editor here to
the introducing the error or make sure
that test is failing
free run the same test
and then suddenly we get a lot more
information so what we get here next to
the failed assertion is the
representation down the boundary from
the target which actually shows oh this
is how out the screen accident all these
blocks bits and previews in here our
previews from our PC site design shin
will thin out the real thing but they
just an augmentation of the xml dump to
actually make it easier to see what the
different components so as we can see
them here it's highlighted that one two
three was shown on the screen and our
test was looking for 890
okay so as I mentioned we have we have a
different test equipment about this we
control we have some reference hazards
hence if we trust and we control those
by an 80 year in command it's based on
the data cable so we can have them call
into our system or receive calls from
our system we also can move up to
anticipate and sort of big protocol test
machines and we can have them interact
with our system obviously when you use
some reference handsets you also
depending on the network twerk
everything so for for developers test
stations you reuse that bug form for
more serious test efforts sometimes we
use these network testers where we hook
them directly up instead of having an
antenna system I mentioned we can we can
throw these gateways for SMS and mms
email and instant messaging and the our
system interface has kept that very
simple so we have just a couple of
signals into the system for for
requesting an xml top of the screen and
then a very simple interface for
ejecting the key presses so we can't run
the test from a browser but we can run
them in a fully automated environment
like control a billboard something now
our case we run it from an in-house
developed execution
so that's an example I'm here from this
system called pork that we develop that
help icon to my screen so this is
showing running fibers 60 spaces here's
the summary of how that looks the result
which work past which one failed and we
can click one go in and see the actual
details down here of how did that
perform and immediately start looking at
the the problem if they were one so that
brings me to the time to take from other
people run production tests and product
is sorry where we test the functionality
of the system so the development team
will then say oh we've done this thing
and the previous speaker mentioned
developers can always be trusted so we
try and run some tests and what they've
done and then when that set of test
passes then we also have this as a
reversing system and run that as
regression in resurface but a major
which Mallis came as a bit of a surprise
to us a big advantage was the battery of
tests we have a load of bugs reported on
our system that we were going to work on
a fix we change the font box for each of
them we then writing a simple test case
that promote the book and then I also
verifies that the book is gone when it's
been fixed making the combination with
other ad test pastes but these East
added test cases then also automatically
increases our test coverage
just type that we intended to you know
bugs have a good tendency of showing up
again and again so by adding by having
them the actual bugs driving the test
coverage helps us find bugs immediate
again you can also use this for must run
test suites that are must be must be
tested our artists are on every year
night used for Bill Burkett verification
test before any builder or developers
can send the bill to anybody he must run
a certain subset of tests and we can
test both on our main line our release
branches and our permit branches so
we've extended the fitness system with a
few modules free we've integrated with
our version control system we use purple
so that a developer can can work within
within the fitness with you the parallel
Chester and work within the fitness
weekly and just add tests without having
to think about version control he then
gets the first row later on when he's
ready to check in this test that's very
useful then we can export these test
cases FPS in case we need somebody
somebody external leg or me basically
need to production and how something is
tested so the PDF up there is a version
of the same test that we could actually
give to manual test and he could get and
or perform this test hesitating and we
have integrated without institution
manager and our in-house results
database so that every test problem is
recorded in this database and we can
then use statistics and find out how at
his place is doing overtime so what are
you found that having this helps
communication between testers and
developers and managers so we have
managers that that use this as a as a
contract between them at their
developers what are you going to work on
the next week are you going to fulfill
these four test cases and then they go
do that everybody is very happy about
that how can creat that is we found that
it has an extremely low learning curve
we are I recently took on a new set of
of the testers the experience testers
put but had no experience with our
system and without within a day and a
half they were writing test cases in
this system very very fast so it also
proves that when I features done it also
makes our test specs missing
twinsies it also makes our suspect be
pinging the scripts and there is the
easy to write they use it to edit date
to maintain so what we do thank you back
so what we've continues you're doing is
a factoring this test obviously flow
tests have a tendency of growing very
tall but you have to do something
complicated and there's a lot of
repetition of that so what we do is is
create a common step such a problem
basically ask that happen all the time
from creating a contact in the phone
book so we're creating a higher-level
language inside the test cases so we're
extracting that bit and then including
that in all the test cases that need to
do so we're doing that continuously
it's not as expressive or clearly stated
has the story test rig mentioned
yesterday but it's a wonderful way that
that everybody can work with in our
experience at least and it also allows
it to to actually run smoke tests so
full full test needs so much more often
we still in the process of converting
all our test cases but what we have
converted now we've been everybody's so
happy about it and then we can actually
have our test engineers instead of
spending all day word they can spend on
actually extended test coverage instead
of having to to manage ooh
a new manual testers being taken on and
off as unique as a neat places test
engineers can poke testing so obviously
we had some challenges one of them being
speed of tests so testing through the UI
is not fast one of our things our issues
is also that a phone is not a fast
system to use if anybody manually would
have to go and internet contact info
book info but that will take some
seconds at least and then we've had some
some timing issues where we're sequences
of things and it happened in the GoPro
temple during an incoming call we have
animations different notifications
coming up if you have cold familiar them
look like that and we've had issues with
getting the time the right of hitting
the information from the system at the
right times because we this test
interfaces the system obviously affects
the performance of the system and OMA do
that too much this testing cramming task
is part of the lowest proj task in the
system it's a multi task that worksheet
asking city but an urgent task system
with the different tasks one
and then we have not touched on the area
of testing audio and all your paths so
we can make a test case where we set up
a call have the call being accepted but
we actually currently have no way of
knowing whether there's and all you have
who that yeah so in our system our view
layers we call that applications that we
have our service services below that we
want to do service testing system and
the top top lay out the services our
business model is based around our
customers customizing all writing their
own set of applications on top of our
services but we don't have a function
called interface we don't have an RPC
the interface on it on a target system /
0 link and the serialization of course
and objects is a challenge we're trying
to do that by by a text string beans the
commands we think about making a test
case recorder we don't want to make
record playback ok wrong but we may want
to recall and then have this recorder
help you win an IDE kind of thing help
you use these common steps and the
London evil species use the vocabulary
test vocabulary and also in the back
room in case this might be some
chocolate test cases but we just want to
record pretty fast we don't want to lose
that
information so we worked on moving all
our documentation around the fetus
duplications design documents and
obviously test specifications and yours
notifications into the fitness regime
and that's where we work out now and
then we want to spread the usage of this
system it's very popular in parts of our
our development but it's just a matter
of selling it further when we have built
more trust in the approach we taking so
thank you very much we brought up on
some hot breath the basic I can also if
we have some questions I have a running
pc simulation on this pc but over there
mark brought an attack mode that's
actually a real phone just a large one
and we can also run tests and on that
one so if you want to have a look at the
combine any questions
they're very certain done it's
dimensional vector R well as your ideas
or Monica plans for future is to move
all the plantation and those specs to
Guinness niggas language because you
have to move your box database there is
it convenient would it be here for
instance it doesn't know when to stop
someone from audience culture experience
I would think it'll be well they're
thinking what we've done in that sense
is this popular in test we have a
separate popularity base and then
whenever somebody is created about them
says they actually put in the URL we we
have configured the way we chose to use
witnesses that everybody has a local
tuition on the NPC and then we have some
remotely in a lab but everybody has one
then in the pop pop database we had a
URL to the local host server that any
developer when receiving about having to
fix it just presses and Link purses the
test the menu has a reproduction in
space also for people so we don't put in
use it for about tracking as such
and no actually not
hi advancing marcano testing reflections
the virtual controls have interests me
an idea of questions associated that by
will respond to watch because I'm
obsessed arson I'm working we welcome
fitness for a few years and my things I
do is help companies set up how they use
fitness and generally speaking if
they're starting on a new project
particularly an agile projects and my
specialization and they had things like
continuous integration we had a similar
situation to you we have a local install
a bit but we have that all computer
running inside the ID you retire the
actual research of things like the
thickness archiving and stuff like that
and the developing basically just checks
in their fitness project instances to
form long coats and boys lock the code
together but one of the key things is
that we still haven't been six months of
his projects and several iterations and
various releases we still have a bug
tracking system principally because we
don't need one because as we find a bug
we don't bother logging in a bug
tracking system we just write the test
for it check that in and our cruise
control build basically grab the latest
version and dumps that onto a server
snapshot of the current version of the
exception system and the courage Dallas
what if you want help without having my
car later but for that was the response
so it can be done and in my opinion I
think if you are able to take instance
where you can use symbolic link eclipse
to separate two it's it's worth trying
to run bug tracking system but I want to
ask you how do you keep the version of
your acceptance tests and the code in
sync with each other okay we do that by
keeping in the them in the same
repository in the same branch so
whenever we branch up for for release
program for release we branch out both
the tests and the road so as they say as
find some bulbs and fixing bugs under
branch from his range we add disqus and
then reversion treatment okay so hi Alex
see I've got a couple of things one of
them was in your experience of using
fitness and maybe new mobile devices
that have slightly different menu
structures or whatever do you find it's
quite difficult to refactor the test
cases for those devices and then there's
a sort of second question the fitness is
quite good for testing functional stuff
like this does it happen but I've seen
some phones from different companies
that you can press the button and you
can literally take a couple of seconds
before something comes up and it strikes
me that this test harness doesn't is
able to test for that saga general the
ideas that have sort of a big movie yes
last one button and some things do take
a while yeah many things in a calm takes
a lot actually but we built that into
our system so that we have some
sunbathing will you try mechanism and on
the test functions but only to observe
them so we sometimes we have sleep
functions I hate that but we also have
built some functions webseite look for
this string retry 10 times 365 so it
should come within the 30 seconds
some persons but it's pretty functional
and what was the perfect time first
question was so is it easy to have how
do you deal with refactoring the test
cases in yeah and so far we we've tried
to to make them as robust as we could by
using these select from this fraction
where a person doesn't care and the list
it is we have also been lucky enough
this will work and regret French you are
so we haven't made any different
versions we have some quite extensive
things skin spa forms and we have been
been able to reuse the test cases across
those but generally it hasn't been a big
issue protection and Chavo I promoter or
before joining Google and they have
their own destination framework which
have similar will use similar concepts
from what to describe here I think the
same keep the major difference would be
that they don't what understand of your
solution you have hardware integration
when you put the device in a box and
respectively British Queen stimulate the
devices that right now we don't use we
use signals on a serial cable basic
YouTube to ask for the for the current
reputation screen make my question would
be as for writing your pregnancies in
that
the device you have to give folks inside
of your applications open system to rip
down to take that information back to
the client back to work libraries asking
that sweetheart we dumped me to do that
because we build it into our rigid set
so our wizard said that that is used in
all of the applications have the docking
mechanism a little bit so that all the
applications we had on they don't have
anything it's just the widgets that
happen I mean we rely on that how about
I look into that system all right oh it
after I transfers from our group is
there any possibility in the future that
handset manufacturers like yourselves
will make these kind of technologies
framework settings available to the
broader thats a content providing
community so that they can start using
real handsets for testing the quality of
those services actually remain in the
handset to do the testing yeah that
could be possible obviously the heads of
matt fraction would need to see the
value i do i see value but that's good
news everybody about me but but i could
see the idea that some some have done it
how that through extended 80 comments
and overseer link so you can control the
Senate key prices to fall in the menus
on but not the high level once i was
curious as to how much effort went into
got nervous system and which it takes to
medium so it's still being developed and
we have part of it quite a big
vocabulary that vocabulary is being
extended on a church driven actual
tested proven just when I testa comes up
with a new requirement for vocabulary
dictionary function we then he that
writes the test for it and then I get
that and then I you can test function in
my team now I think we put six seven men
months into developing the system
getting on top of fitness basically
writing a fixture to fix to surpass that
that by apartment talks to to our our
taxes and maintaining it is the test
system
the kind of thing we only building we're
not spending much effort continue but
the test cases obviously there's a lot
more maintenance but so far we haven't
had
just an idea for the Arab cyclic escp
idea the savings how long does it take
out of tester to convert one of the
descriptive word documents into a fit
test as compared to how long we're
taking them on the executed so how cooks
the pale what if they might put what our
average I think you convert 1015
education today it's about the average
there whereas you can obviously for more
than that in a day maybe twenty thirty
eight months
look II thanks very much
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>