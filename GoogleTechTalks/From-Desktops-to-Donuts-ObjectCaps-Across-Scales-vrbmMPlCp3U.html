<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>From Desktops to Donuts: Object-Caps Across Scales | Coder Coacher - Coaching Coders</title><meta content="From Desktops to Donuts: Object-Caps Across Scales - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>From Desktops to Donuts: Object-Caps Across Scales</b></h2><h5 class="post__date">2007-10-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/vrbmMPlCp3U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'd like to introduce mark stiegler uh I
was my pleasure to work with mark more
years ago than I care to admit and he's
been doing some very interesting stuff
in the intervening time and he's here
today to talk about the future of the
browser if I can be so bold and I don't
know if he wants to be so bold but I'll
be so bold hey that ball two okay there
you go and this is our last talk in the
authorization based access control
series if you haven't seen the previous
three talks they're up and publican you
should I encourage you to watch them and
if there's interest will try to do some
more so with that thanks in advance to
mark and curious okay shut this off okay
quite sure what to do with that Mike I'm
wired up in a way it's more appropriate
because I like to walk when I'm talking
we're going to the business of the
future the browser is actually the
climax of this presentation we're not
going to start out with that we're going
to talk about we've been talking about
object caps for three long weeks now
what I'm going to do is I'm going to
sort of tie it all together in the sense
of showing how the object capability
paradigm of security enables you to
build systems that are easier to use
more powerful and more secure all at the
same time at many different levels of
abstraction okay and so we're going to
start out at the object level at the
individual object level where the
computer programmer is the user and
we're going to show how we can use Emily
which is an object capability language
derive from o camel okay to increase
your productivity and and make your
system more secure at the same time then
we will move on to the desktop confining
the applique
Shin you already saw Polaris three weeks
ago this time we're going to look at cap
desk which is the grandfather of Polaris
which has many security properties that
Polaris does not have because Polaris is
a retrofit onto an existing operating
system that was not designed to support
this whereas cap desk was designed from
scratch finally we will show how from a
cap desk you get to the internet with
the darpa browser and that is where we
will talk about the future of the
browser the original abstract promised
to talk about donut lab which is a full
ecosystem built on an Network overlay on
top of the Internet we're not going to
get that far today we will look at each
one of these things from two points of
view the first point of view will be
from the point of view of the user of
the tool and the second point of view
will be from the point of view of the
power box that's in control of the
system the power box is actually a term
that we and the object capability
community invented to describe an object
that follows a certain pattern the power
box is the object that has a great deal
of authority and it stands on the trust
boundary before between the entity that
has a great deal of authority and the
entity that is on the far side of a
trust boundary that must be given a
complex dynamically changing set of
authorities in order for it to be
constantly receiving principle of least
authority can find powers so it can
actually do its job but you do no harm
at the same time that's the power box
will see three examples of the power box
here so the first example is Emily Emily
Emily is a 0 camel with a design rule
verifier basically every Emily program
is an L camel program it will compile
with euro camel compiler you can use
your o camel debugger with it however
Emily enforces principle of least
authority confinement on all of the
objects in the system using
capability paradigm and for the example
what we're going to what we're going to
walk through is a very simple power box
that was designed to support the
construction of safe bash commands on
Linux okay one of the things that Mark
Miller talked about two weeks ago was
the fact that the CP command the simple
little CP command to copy this file to
that file must in order to do its job
have both read and write authority on
every file that you can specify okay
which is an outrageous amount of
authority to have to give something just
in order to copy this bull file to that
little file so the the sash power box is
designed to allow you to plug
applications in wherein you don't have
to grant that ridiculous amount of
authority in principle if we had an
appropriately a extended security review
of the emily system which we haven't had
yet but you would be able to go out and
get a world-class cracker to write your
CP command and you would you would but
you you would compile that in with the
power box and you'd be able to run it
secure and confident that even though
this was written by a world-class
cracker it could do your system no harm
except corrupt the file that was trying
to copy to so a couple of words about
what what this looks like from the point
of view of the guy who's sitting there
at the bash command shell basically the
sash CP looks a great deal like the
ordinary seek CP command the difference
is that the the first file name has a
dash in front of it the second file name
has a plus in front of it come on
okay now let me go fix my tools here
there we go basically if you prefix a
character string with the dash the sash
power box will interpret that as the
user wants to grant a read-only
authority if you pre fix it with a plus
the sash power box interprets that as
the user wants to grant a read write and
edit authority and finally if you put in
a special authority like star time it'll
go in the start time will actually grant
the authority to read the clock so let's
take a look at what this looks like to
the youth to the programmer I doubt that
many of you have used though camel I
have tried to write this in an
imperative style so that it looks at as
as unalienable to the job and the C++
programmer it's still going to look a
little bit alien for which I apologize
but that's where we are the rules of the
sash power box are very simple now
remember that the sash power box has
full authority okay it's going to come
to life with jit with just as much
authority as the CP command ever did the
difference being that the power box is
really small it's used for many many
different applications and so you can
have it written but once by somebody you
trust and then you can plug in all of
these suspect applications and be
confident that they can do no harm
beyond what the authorities granted
through the power box oh wow so what it
does what the what the power box does is
it looks at the list of arguments that
the user typed and for each one of those
arguments it looks at the first
character if the first character is a
dash then it grants a read-only
authority if it first character the plus
an edit authority the first character is
a star if it happens to be time then it
sends back authority to read the clock
if it's if the first character is
anything else that just simply takes
that argument and passes it on as a
string uh the other things that we do
here the other thing that we do is we
create a special mechanism for printing
a printing output to the standard out
now Emma leave objects objects in Emily
are born in a level of confinement so
strict and harsh that the JavaScript
sandbox in the browser looks like a
cornucopia of authority delights one of
the ways i describe javis the javascript
sandbox is that it makes it easier for
the writer of the javascript to steal
your data than it is easy for the
application that results to save your
data because of course you can't put a
save button on the darn thing but it
always has a connection back to the guy
who who wrote the JavaScript well anyway
so coming back here these things are
boring such strict confinement they
don't even have access to standard and
then standard out okay so we're going to
have to confer them standard in and
standard out but there's a problem
standard in if you give somebody
standard in and standard out there are
actually attacks that you can perform
with just that little amount of
authority okay my favorite example of
that is the is is you know we've got the
cracker he has written the CP command
for you what he does if he gets eat
standard in and standard out is he
writes a bunch of stuff on his screen
that makes it look like you are in the
middle of a session with your GP g
command line and it's asking you to type
in its pass phrase ok this isn't a fit
this is a phishing attack on the command
line nobody's ever done that but there
it is it's a threat ok it's it's you
know it's it's the real deal so what we
have built is we're not going to give
the the the application by default a
real standard out we're going to give
him a standard out that has been wrapped
in such a way that the output is robust
against these kinds of phishing attacks
basically every time the application
uses the user al function to print
something it's going to prefix what is
being printed with the name of the
command that the user typed in and every
line thereafter is going to and and this
is the simple one so it would fit on it
on the page anyway its robust against
phishing attack it always tells you who
it is that sent you the information
finally the last thing we do is we call
the actual application okay now the
power box from the point of view of the
operating system the power box is the
main when you launch one of these
applications it is the power box that
gets launched then from but from the
programmers point of view the the his
name is this confined thing that's being
launched by the power box and the the
form of the the kick off from the power
box to an application in sash
environment is every application that's
written to run with the sash power box
must have a module called cat main that
module must have a function called the
start function and it will receive and
in channel the standard in it will
receive an out function this robust
against phishing attack function that I
just described and then it will receive
a list of authorities to be determined
by the power box in conjunction with the
human being for this particular run of
that particular application given this
this is sash CP ok this is the CP
command and it's really very very simple
even simpler than the power box the sash
CP command takes a look at the arguments
that it got it does a pattern match if
receives to file arguments then it reads
from the first argument and it writes to
the second argument and you're done and
if it gets anything other than those two
arguments that then it tells you hey you
know you got it here's your help okay
now we're moving very quickly here this
is the sash deck program the sash deck
program was actually written to
demonstrate that indeed Emily software
Emily code has the same perform
approximately the same performance
characteristics as code written in C++
I'll show you that benchmark in a second
but what the benchmark program is a
little thing called sash deck it's a
deck shuffling program if you tell the
deck shuffling program to shuffle 5,000
times it will generate 5000 x and
shuffle each one of them five thousand
times ok and then it told you how long
it took this really tiny program the
sash Tech program is already large
enough to show security properties
emerging ok emergence security simply by
using ordinary object oriented
modularity how this this program is
organized in the fashion of well you've
got the main and the main is going to
there's there's a separate module which
is the deck you know this is the thing
that shuffles the deck of cards and
there's an interface for taking the next
card off the top blah blah and then
there's a pseudo-random number generator
these are appropriately different
modules ok you just do that because
you're no oh god but what happens oh
yeah ok unless you're fortunate guy but
what happens here is let's watch the
authority attenuate the power box comes
alive with the full user authority when
the power box calls this cat mang what
the what the user has supplied is well
he supplied the standard in right that's
one of the
standard default authorities it's always
granted as you saw in the earlier shot
of power box it grants this user out
function so that you can communicate
back to the user and and receive the
authority to read the clock those are
the only three authorities that cat
meaning gets now which authorities does
the deck need okay you know what the
deck doesn't need any authority at all
and so it doesn't get any okay you don't
need to send this guy the clock you
don't need to send him the user out and
because you're a lazy programmer you are
a lazy program where i hope i'm a lazy
programmer okay the only way these guys
the only way that deck is going to get
an authority it was born in this very
strict confinement the only way it's
going to get an authority is if we pass
it an object that is Authority bearing
and since we're lazy we're not going to
pass it any objects that it doesn't need
well it doesn't need the clock so we're
not going to send that the consequence
is that you know what the deck has no
authority and so when the deck creates
the pseudo-random number generator I
could already tell you how much
authority it's got its got none because
the deck had none to give so now let's
take a look at this from the point of
view of the security review guy okay the
security review go I comes in here he
looked at this and he says I gotta look
at that power box really close that
makes sense but you know what it's it's
short and it's been widely analyzed by
other people because it's used with many
many different applications so that's
cool then the campaign gets these three
authorities and you think about so what
are the threats you can do with those
and in this example it's really hard to
think of a threat that you can do even
with just those three authorities but
nonetheless you look at those and you
say oh the cap Ming you know is a
subject to a certain number of threats
until you gotta examine the Catman the
cat mains are supposed to be short to
the cat mains again just using standard
Oh techniques should be really short and
it should create new objects and down
each of those obvious with just the
authorities that they need to get
started so this should be real short to
now the security reviewer comes over
here and he looks and says wow the decks
got no authority at all you know what
even if the deck returned the wrong
answer I don't care how wrong the answer
is it can't cause any really bad damage
according to my threat model I don't
have to look at any of the code and
because the pseudo-random number
generator is you know it has no
interface of the universe except through
the deck I don't have to look at that
either and this technique was actually
used to analyze the DARPA browser on the
cat desk in a security review funded by
DARPA and they're right up describes the
fête describes the fact that this made
their analysis much more effective they
were actually able to do a line-by-line
analysis of the entire cat desk and
DARPA browser system because they were
able to throw out most of the code
because it bore no authority and could
not cause a security risk even though it
could cause the program to behavioral
really quick for those of you who think
that only C++ runs as fast as C++ o
camel runs just as fast as C++ if you'll
go out and look at benchmarks you'll
find that that's the case and emily
because Ollie oh Emily code is o camel
code and because the parts of a program
that do hardcore high-performance number
crunching don't use any authority
calling an authority in general is
expensive right writing something to the
file is not something you're going to do
inside your innermost loop and your
compute cycle it turns out that the code
in Emily to do this benchmark is
identical to the code that you would
write in o camel and so it's got an
identical performance characteristics
and so Emily runs as fast the approach
you know it's roughly comparable to C++
benchmarking is art not science
but that's proximately correct let's
take a look at cap desk and for this
we're actually going to go turn the
puppy on okay this is cat desk as I said
earlier you guys have seen Polaris so
some of this is going to be a little bit
of iteration but this is the cat desk
file explorer if you will it's a pretty
ordinary file explorer you know you can
click you can browse around you can go
up and down through your file system cap
desk is actually a distributed file
management system i'm not going to show
this but i have that crimes had three or
four cap desk file servers scattered all
over the world i can just double-click
on the icon for each one of those file
servers bring up a window on it drag
drop copy paste back and forth across
all the file managers all across the
world securely all encrypted all the
sites are authenticated blah blah so I'm
going to come on down here and it's an
example so now I'm going to come down
here this is a very normal file explorer
I'm going to come down here there's a
document that I want to work on test
that text and I'm going to do the normal
thing I'm going to double click on it
and when I double-click I bring up the
application that's been installed for
editing text that is cap edit cap edit
is once again born in absolutely strict
confinement unlike notepad okay when you
launch notepad or emacs on Linux or
Windows it comes up with all of your
authority and if you pop open a dialog
box that says where if you pop up a
dialog box to specify a file for this
thing to edit the real truth of the
matter is you are the humble supplicant
and the application is the king who
rules because the application already
has the authority to read and corrupt
every file you've got
and so when it opens up that dialogue
box what it's really saying is you know
I'm going to go off and Hammer every
file that I feel like hammering while
I'm doing that is there a particular
file you would like to edit okay the
application is king in cap edit we have
inverted that relationship capita is
born with almost no authority at all
it's authorities are the default
authorities granted by the cat desk
power box which we'll look at in a
moment it comes up with the authority to
read and write only one file in the
entire universe the one file it has the
authority to read and write is the one
we designated by double-clicking on it
and as a consequence when we bring up
kept at it it has all the normal
features it has a Save button it has an
open file dialog button and so on and so
forth and we can edit here it's worth
noting the simple yet importantly
sophisticated security policies that you
can develop in an object cap system very
easily I'm going to show you some of the
more sophisticated characteristics of
the security policy we didn't just shut
off the universe we shut off most of the
universe but we grant it to it the
authority to create carefully configured
windows so it's created this window and
this window looks pretty much the same
as every other window that's ever been
created on a on a desktop like KDE or
Mac or Windows but there's a number of
things that are not visible that are
true for example the ordinary
application has the authority to set its
icon so if you're running on Windows or
KDE or the Macintosh if cat bet it was
it written by somebody who has
additional motives other than to help
you he could put in his top left corner
the icon for quicken he could label
himself as quicken and then he
come out and ask you for the quick and
password okay he can do window forgery
well it turns out that here in the cat
desk environment it's not so easy this
icon and of this this name were chosen
by the human being and the application
and the cap dress system together during
the installation process okay and so the
application once that's done now finds
that all it has is a pen de Fora t it is
in charge of specifying watch shows up
from the right of the dash over to the
left of the minimize button this area it
can write in but this area it cannot and
for somebody who is a guru in Java I'd
be very interested in seeing a job of
solution using the security manager and
stacking stro spection and all that
stuff to implement that policy which is
four lines of code in an object
capability system okay this area down
here is also part of the trusted path
between the human being and the power
box that is controlling this application
application actually does have control
over everything from this top left
corner here just below the title bar all
the way down to here but he actually
it's very hard for him to figure out
there's actually another area underneath
and this is the area where you can speak
to the to the power box the application
does not have access to the clipboard
okay access to the clipboard is actually
a dangerous authority you can sit there
and read everything that goes by
including your passwords so when you
want to do a copy or a pace with an
application you want to speak directly
to the power box you know and the power
box when it when you say do a paste the
power box will at that moment take
whatever is on the clipboard and hand to
that one thing to the application
okay and last but not least the other
thing you can do is you can open a file
dialog box now this file dialog box was
not opened by the application the
application said to the power box would
you please open a file dialog box on my
behalf okay the power box has full power
and so it opens the power box and you
can tell that it wasn't actually opened
by cap editor itself because it's using
a different icon it's actually using the
icon of the cap desk colonel okay and so
it comes out and this all this text is
something that you can rely on capita is
requesting an editable file okay and the
only part of this dialog box that the
application has any control over is this
area over here which is the area that
the application can explain to the user
why it needs this file now in the
typical situation if you just press the
Open File dialog button you know I needs
the file you just asked it for something
but just in case is a different
situation he can at least attempt to
negotiate with you okay
so that's what it looks like to the user
what does it look like from inside on
the power box in the beginning when we
started this up we had a cap desk file
explorer window which is associated with
its own power box which in turn talks to
the cat desk kernel and when the human
being clicked on a file inside the file
explorer the file explorer said to the
power box we do please open this
document using the appropriate
application I don't know what that is I
don't have the authority to find out
much less actually launch it and so that
gets passed through and what cap test
the cap does Colonel Lin does is it
creates a new power box specifically for
the application that's about to run cap
edit and then that power box launches
the text editor and we see a partial
listing of the authorities that are
present in the power box the authorities
that the that the power box uses
immediately upon being launched include
the manufacture of the window come on
baby
where is this thing keep on becoming
automatic okay the first thing it does
is it opens a window the second thing it
does is it reads all the application
resources right right the parts of the
application that were shipped with the
application itself that includes things
like the graphics images to go in the
icon right those are resources the
application is given read authority on
its own resources the next thing that it
will look at is the initial file
authorities the authorities that were
granted at the launch of this
application at this time in this
particular example where we double
clicked on a file it'll find one file
authority there the read/write authority
on the specific text file that we
designated with the double click and so
it can open that window and load that
file okay and there's lots of other
authorities that we can use such as the
request for an open dialog box which we
saw just a couple of minutes ago okay so
you're running on a cap desk and you
want to browse the web okay well that's
when you use the darpa browser and once
again we'll go straight to demoing how
it actually works so I'm going to bring
up a darpa browser okay this is a very
this is a skeletal browser this is not
firefox ok this is skeletal it's a proof
of principle and just to show you that
it works ok they'll I have hooked up I
have it I have gone to the web server
that I have running on my box here so I
don't have to depend on the unreliable
internet the web server that actually
served this page is actually an object
capability web server you should not be
surprised to hear that all of the
individual servlets running in that web
server are confined based on pole
huh and we have a couple of amusing
links here one of the amusing links we
have is the Gospels that you can find up
at the mic microsoft 1010 immutable laws
of security the first of which is if a
bad guy can persuade you to run his
program on your computer it's not your
computer anymore I hope at this point in
this for lecture series you understand
that that is only true if you're using a
legacy operating system like windows or
Linux ok and as an exercise for the
reader you're all invited to go up to
the microsoft site and look at the 10
laws and find out how many of them are
actually true mmm let's see another
amusing link is the e language in the
wall nut all of this stuff was actually
written and eat while all a cat desk was
written in E as was the darker browser
and now we will talk about we'll come
back to this in a moment but for the
move but but immediately the DARPA
browser was designed to demonstrate a
particular characteristic it was
designed to show that you could achieve
flexible kinds of security policies that
enabled secure cooperation indeed
policies that were beyond the state of
the art in security and the specific
requirement that was laid on us was that
we would allow the rendering engine
think the gecko rendering engine we
would allow the rendering engine to be
written by a world-class cracker and the
goal of the rendering engine would be to
steal the authorities that belong to the
user and to the browser and anything I
could get its hands on ok so now we've
got an actively hostile rendering engine
which is by the way exactly the kind of
rendering engine you have the Gecko gets
a buffer overflow ok this is absolutely
realistic ok now so what I'm going to do
is we're actually running the benign
renderer here I'm going to
Oh two different renderer and when we
load the evil renderer so let me go off
and do this chug it chug
ok this is the evil malicious renderer
now just to make the distinction Stark I
have I have exactly the same renderer
running exactly the same browser with
one exception ok this version is exactly
the same code but it's running in an
environment with all the normal
authority that a renderer has just
simply because it's a part of the
browser which just happens to be running
in a particular user's account ok just
the stuff that's floating around in the
air ok
okay here we go on the right we have the
darker browser fully confined on the
left we have the unconfined browser now
have I mentioned that these malicious
attack renderers are braggarts okay
every time they make an attack I don't
like the ordinary attacker of course
every time they make an attack they tell
you about it their brackets are very hat
they're very proud of what they've done
to you and they tell you about it so the
first thing these renderers do upon
coming to life as they look around and
see what kind of stuff they've got
laying around that they can use so over
here in the DARPA browser it comes up
and it discovers how I'm running can
find I'm going to attempt to breach my
confinement over here on the left yang
online browser comes up and it looks
around says oh I found all the standard
authorities that are normal on a Windows
or Linux system I'm ready I'm ready to
exploit so let's take a look at what
happens so this guy tries to read the
directory system we're not surprised
that it fails are we this guy tries to
read the directory system it's a windows
directory system I recognize that one ok
I'm going to read all those confidential
documents in email I'm going to try to
edit that file system uh oh here we go
I'm ready to put that Trojan into the
users startup profile every guy that
kind that guy turns on he's running my
spam bot I'm very excited oh and by the
way while I'm running my spam but i'll
do a little full identity theft on the
poor sucker trying to get a socket so i
can make more copies of myself haha yeah
ok i'm going to transmit copies of
myself to everybody i find in that guy's
address book ok this is all the browsers
in the world
if this is not the future well no this
is all the browsers in the world if this
is not the future is that good for
google okay which one's better for
google okay but we're not done yet
let's look very briefly at that power
box this is actually a very simple power
box yes the files that it was trying to
open you've given that it had not been
passed them as object oh oh oh the evil
malicious renderer what I did was I
designed it so that all of those
authorities were in the ambient
environment okay I actually rigged it so
that for all intents and purposes it was
as if you had stdio imported or
java.io.file available okay uh uh if
you're asking the question how did the
one who had no authorities try to do it
okay he had a try-catch block and inside
the try-catch block he would go through
appropriate ebay smashing nations to
find the appropriate things in the
global scope yes that's right okay he
has a global scope even for things that
are fully confined but that global scope
contains only utilities you know like
list manipulation and no authorities
okay so this is a very simple power box
here we have the browser frame and when
it goes to create a renderer it first
creates a renderer power box and the
power box creates the renderer the
powers that are granted to the renderer
our first of all it's told where its
render panel as I can't believe I've got
this problem again
the print the render panel is told or
the Brender is told where its render
panel is that's the only panel it can
write to it can't right outside of that
confinement it's given the Dom tree
describing what's supposed to be
rendered the evil render that we just
saw of course pays no attention to this
Dom tree right it's too busy bragging it
gets a list of channels read streams on
the embedded objects like the images
that are supposed to show up in this and
the other thing it gets is it gets a
list of of jump request objects so if
the user goes in and clicks on a link
inside this panel that the render is
operating the renderer can look at the
link that the guy clicked on and then go
into this request jump lists find the
function that matches that particular
link invoke that function and when that
function is voc invoked the browser
frame is informed by the power box to
switch pages okay now there's a very
clever little thing that happens at that
particular point so now you might think
that this renderer has to jump lists at
the end right he's got the jump list
from the first page in the jump list
from the second page but he's got a
little problem which is that when the
browser frame jumps he killed that
renderer and creates a new one okay
everyone's familiar with the old joke
about if I tell you I have to kill you
well this is now that I've told you I'm
going to kill you at the earliest
possible opportunity okay let's move on
to the second part okay and this is
where we talk about the future of the
browser I hope that the first show was a
little bit about the future of the
browser it's up to somebody around here
to make that be true but let's go on to
the to the really fun part so
let's start up the DARPA browser again
let's go back to our main page now as it
happens Brett was recently telling me
about this really cool new text editor
it's awesome it's far more powerful than
Emacs and far more user friendly than
notepad it's the text editor to end all
tech centers ah now the name of this
text editor is it's the evil editor it
was written by a world-class cracker I'm
going to download this off the web sure
i'm going to download this off the web
i'm running in the dark web browser on a
cat desk what are you talking about okay
this text editor even though its goal is
to subvert my computer it's a very good
text editor why is that it's a very good
text editor because the guy wants
everybody download it so he can take
over their machines so it's great as a
text editor we want to be able to use it
as a text editor and still be safe from
harm doesn't that make sense so let's do
that we're going to bring over this text
editor and that's the code for the text
editor as it happens what I'm going to
do here is ok now this editor okay this
is another skeletal editor right it
doesn't even have the Open File dialog
button it could it's got a power box
exactly like every other power box it
could do a request file open with a
dialog box and then it would be granted
a read/write Authority I'm very
interested in seeing somebody do that
with the javascript in its sandbox okay
but this one actually doesn't have that
I didn't bother to build that because I
wanted to show you something else the
most natural metaphor for an object
capability system
in the user space is drag drop what are
you doing when you do drag drop you're
taking something you're dragging over
here you're saying use this good job so
why can't we use drag-drop here well so
we're going to come down here now I have
to reveal a little secret about my past
life I used to work with the NSA while I
was working with the NSA i did find out
who shot JFK i mean they know right ok
and so you know it's been many years but
I've kept this file with me and it talks
about who shot JFK and so what I'm going
to do well I want to edit my my file on
who shot JFK this is one of the most
sensitive documents and you would not
believe how dangerous it would be for
this information to be revealed oh well
look at it so I'm going to load it into
the evil editor oh the evil editor has
achieved the glory of all its dream this
is the penultimate moment in the history
of the evil editor it knows who shot JFK
it's just got one little problem I can't
tell anybody it doesn't have a
connection to the network when did we
give it a connection to the network we'd
dinner what's it what's notepad doing
with a connection to the network it
can't talk to the network where is it
going to save this information well it
can send the information back in the
file that it got from it's got read
write authority on that far it doesn't
have any place else where it can save
the information that's good dancer it's
forgotten
that's a very sad evil editor okay
everybody see why that works yes figural
you can do anything change huh how so
you'd like give us our store these
projects little % we don't want to feel
or that that's right that's right the
answer to that is a little bit more
complicated okay I mean we can okay we
can we can what we can do is we can take
a snapshot okay we can bring up the evil
editor we can take a snapshot of
persistent snapshot of the evil editor
at that moment then okay well okay we
can bring it up we can configure it the
way we want to we can take a persistent
snapshot of that then we can load data
and then when we delete and then we when
we close the application there will be a
persistent snapshot of the well
configured version but it won't be a
version that actually has the data in it
okay now this is a little bit fancy for
your grandmother to try to use but if
you've actually got the information
about who shot JFK you're very happy
that you have this mechanism yes editing
source code in the evil editor that's a
really good question and you've got to
be a little bit careful with that okay
yeah yeah you're right you're right this
this application which was downloaded
off the web and is an unknown you know I
don't know what this is Cat Cat desk
looks at this thing that it just
launched and says I don't know what this
is I don't know where it came from and
so it gives it a default name and a
default icon which are representations
of this is a little bit funny here okay
I know if you notice the the icon was a
smiley face huh okay so in any event you
know some human factors guy can figure
out what the
can't ought to be for that but there's a
default icon if you if you haven't been
done an installation yet if you like the
evil editor one of the things that you
can do is you can save this persistent
snapshot of it not in the current
version of cap desk right this is
skeletal but we know exactly how to do
that I mean that's well that's actually
well tread technology inside our world
the and when you win when you save it
okay then you can then you go through an
installation process and you can specify
an icon specifically for this thing okay
let's go back here no but I'm going to
have to set the thing again yep
now i think what i have shown i hope
everybody there's no argument about this
the DARPA browser plus an object
capability scripting language enables
you to do things that you cannot do with
Ajax today okay I open a read/write
authority on my local hard disk I can
also because cat desk is a distributed
file manager I can open a read/write
authority on any file server that I have
an authority on in the world from this
application that i launched from the
browser now in this demo i launched the
ex the browser from the file explorer
from the desktop as you will but each
one of these objects is being separately
independently exactly confined by the
principle of least authority for that
application and consequently there is no
reason why we couldn't do it the other
way around with this technology you
could with with the strong security
properties you could go into your
browser and launch a file explorer from
your browser ok you can invert that
relationship now the browser becomes the
desktop and the desktop becomes a file
browser application that you've launched
off of the browser this gives us a new
twist on the desktop metaphor there have
been many desktop metaphors in history
some of the most famous ones is the text
editor as desktop as embodied by Emacs
the integrated development environment
as desktop the central point in the
central focus of the users world as
embodied by small talk the Macintosh
introduced into the popular world the
desktop as the desktop the file explorer
actually as the desktop back in the days
of the browser Wars which not all of you
may remember back in the days of the
brown
other wards where the visions of
Netscape was to make the desktop
obsolete to get rid of the desktop and
make the browser the focus make the
browser into the desktop if you will as
the time finally come for that we
actually now have the technology that
would enable that these applications can
have all of the deafness of user
interface that is standard on a desktop
application all of the quality of
granted and revoked authorities that are
necessary to do every kind of
application we can envision and we can
launch them all off of the browser why
hasn't the browser destroyed the desktop
why it's very simple the programmers for
the browser have faced the same
impossible choice as the users of
applications it is the choice of full
authority or authority so puny that you
can't do anything useful with it or at
least the useful things you can do it
quite limited and and if you grant full
authority then you are toast like I said
this is the same problem the users face
every time a user turns on you saw in in
Alan's presentation three weeks ago he
turned on the Excel spreadsheet and it
came out with this impossible choice
when he turned on the killer spreadsheet
application it came out with his dialog
box saying do you want to grant the full
authority to destroy your machine to
this applet to this spreadsheet or do
you want to not get your work done
that's what yes and no mean in the
dialog box from Visual Basic for
applications ok there they have an
impossible choice you have had an
impossible choice we can snake we can
make possible real useful choices for
both of you using the same technique
okay object capabilities enable you at
many different scales to create
easy-to-understand secure cooperation we
can build a browser today that is more
secure than any desktop that is more
functional it's more functional because
you can put the scripting back into all
those objects right microsoft word the
entire microsoft office suite they spent
millions of dollars installing
development environments for visual
basic for application scripts into the
office suite and now they have shut it
all off it's too dangerous to use you
can turn that back on again you can
bring life back into the documents so
it's more secure more functional and
easier to use it is see a single dialog
box up here that didn't have a
reasonable answer that you didn't see
any dialog box value saw one dialog box
but Lisa had a reasonable answer uh-huh
lots of people when I'd give this
presentation particularly kids right out
of college say you know I just don't
care about security all I'm interested
in is cooperating I want to cooperate
with everybody in the world the world is
my love nest you know let's get on with
the sharing okay there's a problem with
that I respect that I appreciate that I
believe in it there's a problem and that
is if you do this for a little bit
you'll find out a painful truth which is
that if your cooperation has no security
you will quickly find that the number of
people you dare to cooperate with is
limited if you unless you have security
you can only cooperate with your friends
by making this cooperation secure we
enable you to cooperate with people whom
you
you do not trust like the little guy so
if you think you just want to do
cooperation you do indeed care about
security so at this point we have done
four weeks of object capabilities we've
shown you how to use it with the browser
with the desktop with the programming
language with the with the links that
you send to each other to tube to
private pages what can object
capabilities do for you thank you yeah
every fit of an object capability system
to a legacy component requires a new
thought about how to make it work each
one of those things is a custom fit Alan
showed you one okay Polaris is a
retrofit of the cat desk ideas onto the
Windows desktop if you have a particular
legacy problem that you want to hit deal
with ask one of us because we've spent
ever since having built cat desk every
waking hour of my life since then has
been figuring out how to retrofit this
stuff onto the legacy junk that's laying
out there already okay and every one of
them requires a different answer yeah
shuffle systems you have any convenient
boundaries representing authority his
old web browser a lot of creepers
informal links to a fairly narrow
interface for what interface for example
they are sending you then the gated back
and forth like like I database queries
or something yeah okay so-so oh right
right so the question is so you're doing
SQL queries back and forth to a
particular page how do you deal with
this in this kind of an environment okay
the only thing that's being replaced is
the renderer you know when i switch
pages so you know the renderer collects
you know the SQL query submits it it
comes back as another page yeah you're
you're you're shaking your head i have
not answered your question successfully
that's a good a very tightly coupled
system how do you represent to keep
abilities active for example a scripting
language and say Microsoft Word
documents which is pretty created a
separate for an Excel spreadsheet okay
okay so you've got a spreadsheet which
actually needs to speak to somebody out
on the network no yes okay I'm looking
for a real a real specific example
because i'll answer a real specific
example i'm not going to answer a very
vague example okay I mean one of the
questions that I offering up I have
gotten in the past and these kinds of
talks is yeah but the but the programs
of the future they're going to use all
different kinds of authorities all the
time you can't control it they're all
ambient they're all you okay well it
turns out that they're not okay but
anyway screen back and forth and so it
is by its very nature caller daunting
proposition eight if either give it
access to the entire Schmidt it or you
give it access to nothing so in a sense
you're requiring the capability you know
like an object capability interface to
that external system
really supported right you you okay you
understand that you've actually asked
the same question of this person back
here and the question was okay suppose
you're speaking to an SQL database where
your representation of the query is this
character string okay so you got no any
no objects but you're trying to use an
object capability system to control the
authorities and the answer is this is a
legacy interface problem and so you have
to come up with a specific legacy
interface answer to that particular
problem and I can talk about database
views and other things that approach
this but but but that's that is the hard
problem is retrofitting to legacy and
for the person who said what would you
like to see changed in the internet
standards i'd like to see objects being
passed back and forth on the network
rather than character strings because
you can actually do powerful things with
objects okay why are we still using
character strings on the Internet how
did we get into this place yeah you
speak days we handle legacy by writing
wrappers and we had very good luck so
the NQ series to give us reliable
messaging was wrapped in about took
about an hour we did the purchase order
component of sa p took a knowledgeable
SI p person about two and a half days
but then we were able to apply these
principles to the legacy apps the secret
was the legacy apps had to be running in
an environment where if corrupted they
couldn't hurt anything you cared about
because we couldn't do anything about in
turn their internal environments so
either we ran them on another machine or
ran them under accounts with limited
privileges but the idea is we were able
to accommodate legacy quite easily with
rappers the rapper was customed to the
application so what he said is true but
we didn't have to wait for the
applications to be changed alan here is
the world's foremost
spurred on wrapping legacy applications
for object capabilities I've done some
myself polaris was my idea but Alan's
done it over and over again in East Peak
and tylers currently using a face used
so brightly problem right and Tyler
Tyler is actually using database views
solve a problem quite similar to the one
you described although not exact okay
what other questions do we have yeah
what's that many of the ideas were
already in multics no actually multics
didn't tell already have these ideas the
actual thing that already had all these
ideas is older than multics it was the
Denison Van Horn operating system did it
have a name Markham the supervisor by
Dennison Van Horn back in the 60s had
all these ideas okay multics was
actually an access control list oriented
system it has many of the weaknesses of
current modern-day access control lists
based systems you know one of the
amusing things I just actually was
writing a document and I suddenly
realized the following thing was true
I'd known all the individual pieces of
the following truth before but only a
couple of weeks ago did I put them all
together and realize this deeper truth
so I'm running with an Access Controller
system multics linux windows I don't
care and somebody gives me a reader
thority on a file I want to give that
read authority to somebody else so how
do I do that in an Access Controller
system I continuously make copies right
here's the important feature okay in
order to grant somebody else an
authority on a file I have to have the
authority to modify the access control
list if I have the authority to modify
the access control list by I have de
facto full edita thority on that file
because I can always set the access
control list to let me edit the file so
if i only have read authority on a file
i can't delegate that authority to
anybody
even if the guy who gave me the Rida
thority in the first place really wants
me to be able to delegate it to somebody
else it's not possible with the access
control with system what you have to do
is you have to bypass the access control
list system by doing something like
copying the file okay you have to move
to exactly the song kind of mechanism
that we use an object capabilities for
everything which is a transparent
forwarder okay we do enter mediation
okay since intermediation works so well
for all these problems why do we have
anything else okay what other questions
do we have okay well certainly if you
want to take back the right then you can
use what's called the revocable
four-door pattern you can read about it
in the picture book of secure
cooperation if you google for picture
book secure cooperation you'll find the
right up that describes the revocable
forwarder now as far as it suppose you
don't want me to delegate to somebody
else we've already discussed that the
answer to this in the presence of an
access control list system if I want to
delegate further is to make a copy and
send it to somebody what technology do
you know of that allows you to give me
the wreath authority to read without
also giving me the authority to read it
and then by some other means sending a
copy to somebody else what technology do
you know of that will do that what oh
yeah
okay i'm hoping that everybody's
laughing about that because everybody
understands it's a joke okay thank you I
was worried that I actually had somebody
who believe that was serious okay okay
the truth of the matter is delegation
cannot be prevented the further truth is
we do not appreciate how fortunate it is
that delegation cannot be prevented
because in fact delegation is the
cornerstone of civilization it really is
if you buy a computer from
hewlett-packard okay and the you know
the the the screen starts to wiggle okay
something's wrong with the graphics card
well it's under warranty so you call up
HP and you say there's something wrong
with my you know my screens wiggling if
HP said to you well yeah that's
invidious fault don't call us call
nvidia i would hope that what you would
say is look you guys I don't care
whether you got it from Nvidia I don't
care whether you got it from nati I
don't care whether you got from joke
slow down in Beijing I don't care i
bought a sly BOTS computer from you I'm
holding you accountable okay I don't
care where you got it from we assume
delegation we want HP to delegate these
things out to the lowest cost highest
quality bitter that they can find we
don't care who it was okay if you've
ever read there's this really delightful
little thing called I am a pencil and
nobody knows how to make me as anybody
everybody read that okay you should read
that it's really wonderful was written
by an economist describes how economic
systems work but it also describes how
human beings do delegation we live in a
world so steep so saturated in
delegation we're not even aware of the
fact that it's going on all the time
okay enough about delegation what other
questions
thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>