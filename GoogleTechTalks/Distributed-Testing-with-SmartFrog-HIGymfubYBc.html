<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Distributed Testing with SmartFrog | Coder Coacher - Coaching Coders</title><meta content="Distributed Testing with SmartFrog - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Distributed Testing with SmartFrog</b></h2><h5 class="post__date">2007-10-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HIGymfubYBc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright people get so quiet so fast it's
very unlike a Google audience where
people just keep talking anyways that's
great our next speakers are seawater and
you have they are here Phil yeah they're
here from HP Labs at Bristol and they're
going to be talking about the system
they put together called smart frog
Julio is a senior researcher at HP Labs
he's one of the smart frog architects
and has led the transition to open
source his research interests include
configuration management testing and
security of distributed systems steve is
a researcher at HP Labs exploring the
challenges large scale system
deployments he is an Apache member and a
commuter on something well on ant oh
he's a co-author of the ordinary book
java development with it and has just
committed second edition to the pasta
party this will ship just in time for
Christmas so gift wrap it for everyone
in spare time he's overthrowing the
classic soap stacks of Java and writing
a lightweight alternative album so Steve
and Liam
hello everybody science takes in Korean
food is moving the second doctors work
so how does introducers we work in HP
Labs on research and we walk on
deploying large-scale systems digital
and when you deploy large doses into the
form of getting working and that's why
we 50 into testing was my main focus but
it's something we have to do forget
think working go start off with what way
the text distributism so what is a
distributed system here's two on the
left seven large hadron collider on the
right a plastic 3t web application hands
up anyone has a problem of bringing up
the big thing on the left any witnesses
to get that working at one person anyway
right he gets it wrong Geneva's going to
cease to exist in a large collection
Highness and the web application well we
want to be with us how do you get these
things working well sir know that if
they get things probably wrong there a
big holes engineer so that people love
after into it they steal all the
computing resources / continent I put a
lot of effort into making sure
everything's right people spend their
entire PhD just generating test data to
test the application people with fingers
life it is a really big budget whereas
if it's doing a little three team up
with the patient oh that doesn't matter
maybe we'll do some testing if we have
time before we go live and do Emily snow
machines DX is no laptop in the corner
whose battery's gone we'll post it hands
up who's mr. text and change the type of
things on the right all right one that
this isn't part of my home back to
Center by the way when we test me
against the micron so it's just like
those little creature applications web
applications don't take me seriously
they build them unless they click on the
browser hit me a couple times ownership
it really that has to change because it
is a distributed system and it doesn't
work first time so in the classic unit
testing world they say any feature
without the text doesn't exist we're
going to extend that the system to say
any application without adequate system
text doesn't exist it is up to you and
your management to define what adequate
is but the people is no system tests no
application hands up who's shift an
application gaffney system test
so have you actually make system testing
pop it work probably the biggest
challenge is getting those people to put
their hands up for the hands of saying
we haven't done tests all of you pretty
much to sit to go home and write text
it's that education is about motivation
and its really not porn I think it's one
thing we can discuss next couple days is
how to get people writing a good contest
I don't know how to solve it what I can
say is if we make it easier for people
to actually write tests even by really
compelling value from writing those
tests if you write a system text me
results how is no good we've got results
then maybe people will actually go ahead
and wipe those pencils so who you like
we've been worried about the other parts
of problem writing the texts running the
test and analyze the results our first
thing is writing unit tests and then we
are not going to announce a toast
framework we don't have a successful DJ
unit we have nothing like that and the
reason is we don't think there is a
single unified test framework for system
testing there's so many different
machines of time to deploy and there's a
front end as the back end was all that
stuff and you cannot say yes here is a
test framework for testing systems I
quick glance here are some of the things
that you can do tech job sites up you
got your basic Jane at three and gentle
keyword extensions to learn soon
especially a key characters you've got
HTTP units smtp pages and then if you're
doing ajax up on the client side you j
iz units ripping javascript we want
selenium which will be hang around later
with all these things they become a
central parts of testing system and they
all need to run together to say your
system is ready you've got to run the
unit test cactus tests the cellines has
an all this stuff and then when things
go wrong you want to find out
so we're saying it's not our problem to
say which has frame that you want to use
what we're trying to do is coordinate
all those and run them together so it's
running the text that the area we've
been focusing on local now today system
testing it's kind of not before unit
testing is just something that's slowly
coming together people understand about
Gina and running in unit tests and all
the development tools they've come to
click on to terms with that thing that's
d really focus on it and they can unit
testing you have your ID in here and you
have you know simple tools where you can
type where the come online and say and
test your under text you get the results
everything builds on j unit test Benji
and it have any system testing stuff it
runs behind Jay you hit so let's say
look over your Jimmy unit types right we
can also do system test put it's an
afterthought and it's an inadequate
afterthought because the machines people
are testing a non-realistic they're
still testing on your local machine
you're still testing with different
network you are going to run tests where
you deploy to your server this beyond
the fireball over slow network
connection and if you did then you
discovered it in fact your then so
clients to chatting it's so final Molina
people don't do that they write it as
think it works only ship it and it
becomes phone up saying oh it doesn't
work
the firewalk so that's why he realistic
system tests unacceptable adequate
system test so we need to stop thinking
about system tests as an afterthought
this is not a vision of the future of
the future and this is what's going to
happen and the key thing is is that you
stop saying I'm going to run my texts on
my local machine instead you say we have
a farm machines I'm going on my Texas
over them you're going to talk to some
kind of server it's then allocate the
machines you want with the operating
systems you want bigger ations you want
it's going to build them up on demand
presenting to your test runner defending
a deploy your applications or something
your tests on the other it's even that
have the network that you want in there
as well you say right foxy server that's
unreliable and returns the wrong
responses you can get that and so it's
the host and the network a part of
things you have to simulate then you run
those tests things aren't going to work
so you want to find out why they didn't
work nothing is you want the output from
both ends the system you even want the
output from that unreliable proxy server
as well so you're going to collect on
that data and then you have this problem
which is you have to vast another theta
from a test run and you're trying to
think that why it doesn't work in some
machines why it works for mothers so you
need to have a different way of
presenting load results and finally it's
too much hassle to talk to the come
online we're on these texts and running
all the time to the textures and it's
running away on the Sun as soon as you
make a change to web application
everything reed boys the tests run
against a real deployed system and then
at the test fails you get to know so
instead of having this kind of life
cycle normally people think something
where they say code either the encode
and ship the waterfall model is a code
test code tesco test ship when we
actually think about deployment in the
process and that becomes code deploy
test code deploy texas
and finally once you're ready to go
straight to intensive the ship so you
adapt how you work taking account of
employment consistent ethic so that's
the future and that that is still a
research project I'm going to be honest
there is nothing that can do that today
the good news is we do and I we work in
a research run so we're allowed to do
research few things and the primary
thing we actually research is large
scale system deployment how to write a
complicated application and deploy it
across five machines 500 machines for
different sites the challenge of
actually bringing up big complicated
applications okay we kind of respond to
work on that the smart all we work on
can deploy large-scale systems but any
other problem which follows on languages
how do you test that you'd be pointed
successfully how do we test that slot
for gets off work when it is actually
calls us to do is testing for people
curious this is actually an entire open
source product you can go and download
it from the website and giving you so
you can actually play with this when you
get home I'll point out it is a research
project is not production its research
but we use in production inside HP so
how does it work one of those key things
our belief is that the problem with
deploying a distributed system is not
the simple problem of getting your
application of the people who think
employment all that means copying the
binary current system that is not
deployment employment is getting the
sake of the freakin to work it's a
challenge actually configuring the
different bits of a big system so they
actually can parent so that the database
khandelwal machine the application
server comes up in the other and
application server sports are they
expose with the right user
consummate it symmetric variant DNS so
they will walk to time and it's a
problem actually choreographing that
deployment so the dns server comes up
before the database server before the
application zone and the way we deal
with it is their slot from language that
is not xml and sabrina and it is a
language that is designed to describe
complicated systems through inheritance
so only the designer assistant here at
inheritance and aggregation that's be
precise so i have a distributed system
the first thing had down here with my
login server so logging sent log and a
moderate level 3 or directory here
that's a one machine the next thing that
is in my database and it's extending on
my sequel component is Tommy knows how
to install figure my sequel but I'm
going to say well the log over there and
here are some users able to create and
also add the actual database tables
they're instantly popped a shindig based
on the other machine over here are the
application server there is now balanced
events folks and it gets excited for
runtime reference to that it gets
mounted in copiona so they're sharing
information when they get brought up and
finally up top we say the system
consists at the application server and
the database under logging so you build
a big system by taking small things and
merging together but then when these
things get deployed we have a set of
node a little demon running each machine
that can deploy the entire thing down
and talk amongst the different machines
to actually bring system up so you can
talk to my machines they write their
ploy everything and bring up the
different bits in order so smart from is
a language for deploying a large-scale
systems where the challenge of
deployment is configuration and
choreography I'm not going to talk about
language today it would take too long
but we just
as you go through some of them is the
key point is as far as smart folks
concern a text it's just something else
to deploy if you can employ an
application serving a database on one
machine it's even easier to deploy a
popular gene on a different machine if
that machine is mobile it could be 500
miles away it's just something else to
the point that's what we do and a lot of
changes how you think much happening
instead of saying I'm going to run the
application in the IDE you start saying
I'm going to deploy my text and just
leave and run it says a txt run consists
of the point application server and a
big space and they even consist of
bringing up virtual images of you know
copies of fish from Windows XP Windows
98 only machine to say all the texts or
no change to that's all the kind of
things you want sleep attachment will
collect the results and finally at the
end of it once on deployed nice able to
roll back and everything you correctly
just gives away so that's what we try to
do now my clinical its research and this
is something we're not really a project
that works on texting we're credit works
on deployment it's just texting is
something we do as part of our process
actually got more and more involvement
so it's still something we're evolving
for our needs but we think our needs are
quite they're quite advanced if other
people working on the same kind of the
point problems we have similar needs so
what we don't do is have a test we open
you text friendly getting Jane hood
between texts in duisburg what we
instead have is a test runner or way of
running arbitrary tests so smart frog it
deploys components on different machines
and we have a set of components that can
deploy tests and collect results I was
something equal to test runner that can
run test Suites right now we have text
weeks for Jane frequent acres working we
have Jane at four and testing geez that
don't exist yet is not part in attacks
there is it but the idea is we can run
conectate in different languages and we
just want to collect the results in
correlation it doesn't matter to the
test runner which language which
framework using to run the tests main
thing as he generates reports in a
format we can turn so you can run your
texts on the net machine you deploy to
the results of that can be relayed over
the networked anything is listening to
test when we have outputs we have
effectively cremations their standard
console output statistics and XML and
underneath that we have an XHTML this
thing is extend XML GX HTML result so
while you're running your texts your
listeners a collecting results that
collecting statistics and there they can
generate xml and XHTML report on a
different machine where you're running
the texts I could be running the texts
on five different machines but have one
single server collecting the results
trying to correlate between and produce
reports that aggregate the results of
all the different machines
a test suite itself is as something we
described in the stock front language
this is simple one for an HTTP unit test
it says HTTP unit tax extenders during a
test suite but I right and we're doing
the test week I'm learning package deal
on web app tests so it's running
everything in classes in that package
and then down here are a list of classes
and the ugly time index tax but mainly
thoughtful little the test you just
whose Java itself doesn't provide any
way to say give me a list of all Ted all
foxes in particular package that it's
nicely let's make it has any comments
out texts that are working but then what
we do here is we say only deploy this on
a machine called client is the magic key
word in SF process homes line that says
when I deployed this component I mean
the deploy on the machine called client
so that's all we're just adding one
attribute we can actually deploy this on
a different machine so we run these
tests on the client machine and even
pass in a server your else is TV DVD to
be defined so that URL we don't know
what yet we define this template but we
say before you can deploy this you have
to fill in the euro elephant server and
then we're going to pass that down to
the Jane of tests as a normal job system
property so we'll be running these tasks
in a new process my new machine and
selling properties for the Jamiat tests
themselves they look like little jaded
tax they know they're being appointed
the smart from pulling over there
running somewhere and as a signal
property pointing them up server tonight
is pretty much will it take for taking
existing Janey test and deploy and slow
however its lineup just do saying well
we can distribute your application we're
going to think about you know what does
that mean for a methodology for testing
how you can work there and it is the
process we think we can seem to work
neat while okay bigger test systems that
could be done on demand it could be done
in advance you can deploy the
application punch your notes you can
deploy your tests on different nodes
finding an eclectic results and then
you're going to post for instance so
let's find you a showing first of all
will it be different deployment
scenarios and it's not for different
scenarios become we come to encounter so
far where you have an application mostly
test so traditional testing says under
the deploy the application of single
note on a deployed attesting single load
so then another problem is we deploy
attachment single note we're going to
deploy the application on multiple notes
and that's that's kind of client service
could we say Holly toast my client
against the four different service see
how they behave and see how they differ
finally you say next problem we actually
won't text or multiple nodes and the
first 10 says I have a text I don't run
it on 20 different machines I would run
on Windows Linux Mac wats very notions
of all of them there you're basically
here in the classic world of Jarvis our
job is right one text everywhere and so
they bond with that the main thing is
been really confident that we work if
you can automate you look testing you
can say yeah we really can't so to
everyone you say we really have test in
English between and finally how this
cutting-edge problem we have fully
distribute application up and text so
your application from the multiple nodes
the text phone will promote and somehow
you trying to get
and work early stays pretty bonds so we
did I would currently still invite
people to steer clear of that right now
listen it is complicated start with
client server or texting look when those
ones for the hang of that move to the
people so let's go to our first full
demo I'm going to find phone working
code here what I'm not doing this ring
up VMware images so will it all
deploying the same sooner but here is a
simple simple simple three-tier system
web application they expect web page at
the front so we're going to bring a
database we're going to be an
application to move jingles and how
we're going to test that well we're
going to different pilots ass right
we're going to use HTTP units there's
anybody know what HTTP unit is something
that's really good those you know that
work GD period is a set of job classes
for testing static HTTP HTML pages you
can basically say fetch me a page
navigate around it so I want the link
with ID link one all of that if you get
an error message if tails attached to
you can you can walk around the nice
Otis Patrick web pages very easily the
other bit of run is Apache cactus tests
hands up you know for Apache cactuses
okay there about eight pounds and new
organs Apache captain wonderful for
anybody writing server side stuff in
Java when you go home go to cover
Patrick I purpose what it actually does
is it lets you run a unit tests inside
the application zone so we're on a
papist test here what is doing is
talking over a server application server
saying
thanks for this moon and the results are
being fed back in now classic it to be
plastic cap is a very problem here is
it's a real pain to set up a classpath
on client machine would insert machine
and it's really clearly we have plans to
fix that but right now we're just
running practice unchanged on drug tests
bug so now further ado that's let's do
it down now first thing is i'm running a
copy of smoke from being honest and fair
right now as a root process that's one
of a window nothing exciting we're about
to deploy a web application to it and
off the point
there didn't deploy rather than faster
Floyd actually rebuild the entire
application and stick it out in one go
this is going to talk to application
server we have now deployed our
application we have just deployed a
database and jboss income other than 600
now it says yes in the diary here and
the diary consists or database was in
various attributes drivers part the
deployment says what I deploy to JD boss
I have to run the copy that my sequel
jdbc jar of java application server and
that's kind of the fix up for the
application so you can pour it right
there now the web application is stuff
done is deploying in here for a classic
java enterprise application from so
those are application deployed and will
we will we can show that working by hand
that's the heart yeah only month
a web page here is generating an RSS
feed as a happy page it says on some
tests if I click on this 8-bit an error
because in fact jboss on Windows the egg
significant J books on lit and ejb isn't
working system both so this system is
not correctly deployed it's going to be
failing them if we should find out when
we run our tests so that's let's run the
test and see aunt or uncle
providing this from inside out so let me
attend before time so now we are
deploying on the smoke from the text on
the sign machine and now we're going to
test on the side just go on the nerves
all specimens let's find out what
happened what's happening is that when
we run this application we are creating
such results as we go along we're
actually creating HTML pages these HTTP
unit tests and they're saying is a
summary some tests worked little areas
of a fifty percent success rate if you
scroll along summer green and uh P so
i'm not happy i'm going to 17 an error
from the server and winning start first
things aren't working that is my life
music now what have we actually deployed
that that's actually going the pin code
and say what we did point
I'm deploying a component here some
people in a test run it says I'm going
to run on a shingle dinner and if it
finished at the end of the run i'll
finish i can also deploy a repeating
test run which actually sleeps the three
seconds and runs the texas indefinitely
so i can keep running a test around
which is actually kind of nice drink
have an evolution development just have
a test running real time every time you
point that web page you hit reload and
the results get updated immediately no
notion that having to respect you
remember to run the test they're running
all the time so we've actually extended
a existing test suite which is this one
here the basis we're going to run tests
and we're gonna listen to HTML results
i'm going to take to make you peanut
tests that thing said before i'm going
to bind it your own so this is where the
don't find it comes in if i decline
different machine after speeding a URL
to the other systems it will get methods
go and work so we're deploying the
application server and the tech side by
side there's not in the stoppers
deploying those tests on a different
machine inflation results which Isis
tested for the networks and welcome to
the letters texts that be that the final
isn't getting in the way and it just
they'll actually you know scale things
up we're out becomes interesting is if
you start reading something like
selenium where you can actually say i'm
going to come to text on three different
web browsers and collect oprah's
altitudes well know that my application
works properly on the Safari under
firefox on the IE underwriting seven
within one lives some equipment results
it if everything working for they get a
nice green bar if something isn't
working maybe a red bar you're in a
Lauren Jabbar to say work on some
I don't know this but then you're in it
you're in the problem analyzing data but
the first step is we can run tests on
multiple machines simultaneously in the
background while you're busy developing
your application
so that is is the first problem the
simple problem of testing at three tier
application server next interesting
problem we've been trying to text is the
the single client against lot learn
point as other said introduction I've
been writing my own soap star and the
reason for that is because I think the
officials some soap stack and conceptual
model of sofas remote procedure calls in
fact fundamentally misguided I also have
to use a soak sack as part of the
implementation the HP implementation of
a soap api for deployment which we're
standardizing as part of the global grid
foundation or poking very foundations
for this week open report hello so we
have a so track and an application on
top of it that we have to be able to
take off before the thing to understand
the saying this thing works and how many
a touch that well if there was in ideal
world there will be a nice standard set
of tests for things like you're
suppressing which would all be run
against them so yes we have sent that it
works but there isn't that so instead
what we do is we run our tests against
different machines we have a resilient
implementation with NEC implementation
and we have an alleged en pointe that
actually runs of that datacenter our
show them beginning a slight a lapse of
Madeira and we actually we're going to
run our client against all this with
being single changement now you can
actually do this on the run you can
write a pretty complicated build our
little lonely sometimes but there is two
there are some big differences we
actually treat these as something to
deploy the first one is we can run each
test climb in power
so we protect against the implementation
against the only segmentation against
Brazil invitations simultaneously three
separate processes with herbs results
streaming and for website as we go along
and that's important because
particularly one in Brazil it's a long
way away this please like it takes a
couple seconds reach operations come
through here as every single test cases
making little operations your task can
take a while to run so we're going to
run the tax collector results I'm going
to stream those results to the website
as you go along the other fun thing we
can do from not demonstrated a is that
this hpn point it's running on top of
sparkle and provided the ports in this
firewall rope enough i can actually
redeployed from my machine tear or my
machine at work i can redeploy the age
of implementation even though the
application of building final which
means i can do a coordinated text of i'm
not going to text on my local machine or
good deploying testament per machine i'm
going to do a deploy right beyond the
firewall and run attacks that's nice is
if it works for me you're on the file i
can be pretty much sure that's going to
work for the people to one of the big
problem to have the testing the other
end points as i say they say my
endpoints like so when I can't see at
all firewall to keep on forgetting
because do it when people say it works
on my machine so it wants to be outside
you need to fire woman
so that's good
now single applications running right
now
okay so we're still running a dollar
application on port 8080 let's bring up
our own copy of the application server
bring the pants again
big balls come true the more complicated
flow descriptor the longer it takes to
the four unit here we go we deploy an
application there we are this is jackie
running copy of cables and jetting out
reports so this is our sixth up
localhost
50 yeah all right
check that
you can join in a particular paper so
you can put your browser at this point
we're all sort them there it says this
is a soap endpoint usable in the fires
and going on so that's that's why those
tests against locals localhost and
protest over on the test target or lift
house that has been deployed a test
against localhost so that's me saying
yeah it seems to work locally we're
getting so nervous
that's because irvine calif i'm gerry
none other phone internet person so now
we're going to deploy the intensity
the false crime so we're now running
again a test clean up at least the right
wait to show this is not a good dinner
we've go to localhost directory we're
saving results under here under the
hostname in process thanks to localhost
and shingles owner and says right we're
testing so portal and look at that
everything works of needs a nice green
color as we want to my summary so i can
say my implementation works my machine
no real networking between and that last
part of a test because it's so is
designed to work over the network so
that's wrong against HP that is not
going to run against that for my house
ok that is that funny now let's run it
against anything so we start these texts
in power being deployed not running them
there's going to go up and run the
process and run the tests now however if
our grid is Brazilian grid much games
and really interesting stuff is all
based on Java you can donate CPU cycles
to it and I providing this and we can
deploy stuff with Avery so now I'm
deploying they represent I picture what
I've just done then is I just employed
for copies of the unit testing different
purchases one against local host one is
HP one against any see all in against
civilians so how do we know that let's
go and check the results show you go to
set up the rector is going to HP one
and there we go I'm still passing all my
classes my implantation interoperates i
applied interoperates with my server eat
mobileuncle network what about the
resilience let's check manner well right
now we have an HTML file of sizes 0
bytes that means that test is still
running as we go along every time
another test passes we should be
flushing out some files they're coming
empty page runner but the program
actually the test cases get streamed out
of 5 if you look at how normal test
things work under say owns and runs all
the tests Craig's XML files once it's
finally finished those an extra cell
transformation generates result the
effect is you've got a long text that
takes 20 minutes to run you might as
well go have a coffee because your tax
do you are going to begin to see any
test results until the complete text is
over what we're doing here fine finish
is generate xml HTML pages on the fly
single
so now we're basically about different
processes running without the test day
shipping process when it hits the
listener in tests and Christopher all
running away and now slowly collecting
test results as they come in but let me
very well all right the point is we are
trying to stream on test results of you
good luck we're certainly screaming
every single test suite when it finishes
the same results it looks like it's not
a fashion properly on individual test
cases I'm restraining this file out as
we go along and the reason for that is
that we can generate test results on the
fly which you have to wait entire entire
set of tests to finish brings results
what we're actually doing it can cure it
is we're creating HTML XHTML page will
be actually pasting are starting so you
can post a single HTML page around and
it's just saving out all the thing in
different classes so it is both an HTML
page for end users but it's also an XML
file view plus you post process later on
and that means that we can actually you
don't need to generate a classic XML
patient we generate XHTML and convenient
other applications with our analysis
so we're running those metal leading go
another engine compartment results so
absolutely testing of a remote endpoint
and it's nice because it means like fine
I get to test how well it handles the
main networks I've other hand was
unreliable networked we actually have
this running over our continuous
integration server so it was running
every every hour it was rerunning all
that tests against our endpoints and so
one of the other endpoints phoned up and
told her to stop it because it was just
putting too much lower than their system
the way they design a system is when
they deployed is breaking your processes
and we effectively bringing a certain to
sneeze the other interesting things
point out is that because there are no
standards for the inventory of
suppressing our soap stack them together
properly we have errors in there and a
lot of those are actually arrows in the
underlying interpretation of things like
obvious resolves framework and WS
addressing another standard beginning of
the words WS and we get this fantastic
process in blaine assignment it's jeff
your programming is your machine your
problem but if your program their
machine somebody is at full and you
don't want to go when ya go to change
ohhh coach so one of the things we
actually do is on my remote machine
this is my remote Ching and it is
generating logs on the fly every test
run so whenever somebody wins a text
again to me I'm actually creating a log
of what went wrong and I'm saving it in
a public place so people can see the
sack traitors on my machine when they
fail and this is actually the night
expected i'm using apache log4j can we
make this a connection well page and a
controlling HTML page and I'm just
publishing that somewhere in reason that
is when the tests fail as they will the
other person and the my cyber center and
trying to find out what went wrong I
even say the payload of messages that
come in so there is a consumer's anymore
here is an XML messages from you see so
much we don't sell or whatever and
that's really nice because when that
test fails i am now have the exact
message somebody sent me to a remote
machine that i can use to fix my coat
what would be nice will be nice and we
don't like any nice if i could actually
get that text this little dog data into
my application test run so that when i
run the application here i'm collecting
all the log things that against runs on
the client side here but i would like to
get the log output for my remote end
point i'd like to pull it back and
integrating with that logs weighted
stack traces on the logs of two machines
intermingle to really find out what
happened because right now get to blogs
at the stand and slide my side and say
okay
I just kind of correlated pattern and
now i'm going to hand over to my
colleague julia to be the rest at all i
think about how actually tested smart
for yourself so the reason what we
started interested in testing and why is
in terms of us even if it's a kind of
society activity eurosceptic was a smart
for yourself smart frog is a mistake has
been describing it is at his DVD system
so when we started definitely smartphone
verify that it work in every possible
situation awake that is especially when
we extended taking it into production we
went through all these different
scenarios for texting in traffic so we
went from the traditional testing of
using yet you need to test all the
different classes in the code then we
started testing parts of the vimana
parts of the application that were
deployed then we started as well running
as much work in different platforms
because we basically run a smart frog
and parking over sin in our site with
this is rougher with four different
platforms with tests with linux with us
with windows with us because we're HP
with XP the hp-ux and also be test with
mac OS so we have to write to read to
run all the tests in all the different
systems but as much focus of this DVD
system so that wasn't enough to to test
the verify that we worked many times we
went into production and when we will
deploy it I really is to be the
application something was fighting the
system to test the distributed system
one of the things that we have to do was
to develop an application that we could
test at one so the automatic application
here that is being deployed as part of
the test is a an application that we
have a deterministic output so it is a
very simple application is a calculator
so each component runs a different
operation and different mathematical
operation so in that respect what we can
do is to generate accomplice calculation
then create a template using
language that describe that operation
and then distribute the different notes
the different operations in different
notes and then collect the results
because we know the output of the dekalb
operation we can verify the applications
working the application in itself is
generated automatically so we can decide
if we want this application three notes
or five nodes or 500 notes and then the
system will take care of it different
sources for the pollinate then once we
have the application of what you do test
we try to look around to see if there
was anything that we could use detention
this application to basically to test
and fluency and we didn't find anything
so the singer we thought about well that
we do we do the point of landscaping
system so let's use transfer to the
party so in that all you can see is that
basically we use unstable version of
smart frog which is the boarding area in
every note and then when we deploy a
test when we are doing it really
starting a new network of nodes using
different area so this dis nodes will
deploy a new JVM indulge new nodes will
use the latest code from CVS using
whatever works in your you want anything
with the ponytail applications on top of
it and the last thing that this test
runs is a basically goes to the same
application running it through different
scenarios so basically you can deploy
smartphone without not security we don't
recommend that unless you are running
your own system and you are in a closed
Network we run the system without and
economic life loading where all the Java
classes and everything can be done
remotely when the demons made it and
then we run through the same system the
same operation in four different
combinations over all these different
possibilities to eat without security
and the combination of everything and we
refine that everything all the different
results are coherent one thing that we
don't know yet is and when we run we run
a fixed set up in a fixed number of
resources at the boy so we have Windows
machine
don't we change and HP ref a chance and
we have different different versions of
the same application that will run
across these different machines in in
different ways but what we are going
it's a to be able to deploy this in and
in a change in apartment so so you can
prescribe as part of your pets you put
this product basically what is the setup
that you want in each machine which kind
of networking you want so you could
create virtual machines use in fact
switches in between for fix water to
introduce problems and to run through
those different scenarios automatically
and also to allocate these machines with
different versions of Linux with
different versions of windows with
different versions of hp-ux verify the
advancing all the different setups and
everything using a non non fiction
resources so this text is probably the
most bad things that we run at the
moment in terms of testing and it is
very good it is very good at
highlighting basically very fine that
your application works is fantastically
we tell you basically something breaks
we will take you to you have a problem
in the network you have big delays you
have something miss configuring the
network for example DNS which could by
the way smart reduces halima internally
so one of the problem for example if
your network it's not properly
configured basically he will screw the
java the JVM basically will go in Pig
poses and the whole system and won't
work properly so this application is
really good at highlighting sometimes
you know customers scenario because you
go to the network doesn't work basically
we give you a good overview a favorite
inner is working there probably is it is
good as well as generating lots of data
because it's going to be collecting data
about the application is gonna be
collecting data of the different demons
it's going to be collecting data about
the different environments in which is
running what it is not do that is once
it breaks is how do you find what it
broke there are so many variables in
this setup that can go wrong and it's
very difficult you have lots of data and
that's probably where Google could have
even take money this data
that is God who the last thing I wanted
to talk about this is basically and get
units is generating good reports
everything everyone is generating looks
and everyone is there a teen not how to
generate data but the problem is how do
you quickly identify what is the phone
into your application people working
this dude assistance probably know what
I'm talking about this is the firewall
you see the dog local networking is the
local machine is your application is
your code because especially when you
have something like it smart forgetting
certain source the first thing that
people said is I've tried your example
eggs it doesn't run you have a problem
you have a back yeah let's let's go back
and see whether your project is we have
dns working your machine is it working
properly have you bring the two machines
that you want to connect you to you know
I'm many many many times it be something
happening in their system in the
configuration so to support that claim
basically we need to prove this ant HTML
before it's probably one of the most use
reporting tools at the moment for for
unit testing on for system testing and
this was a really good five years ago
this give you information about your
different packages and structures
everything in packages it basically you
don't have that many companies is
something that you can browse through we
can find information but the moment you
have two machines it doesn't give you
information about what's happening with
road machine yeah it will collect some
parts and information about environment
but that's not usually enough so the
reason for this is the underlying and
cemented and using so the only thing
that in this report give us information
about the host name is this little
activity I would seem to defy stiff few
years ago when we discover that you know
run into different tests in trying to
merge then was a problem because they
didn't say where he was running so how
do we know which machine was causing the
problem worse than my playlist was the
window
they're the Linux was a different
version of limits the isn't it with this
is that also it gives you very little
information about the context in which
this is test is running the original it
does is people to the Italian instruct
the system properties and is an
additional problem this particular test
report it basically generates an honest
a description here it's a statistics
about what happened when you will run
your tests to do this well it passes to
hope in memory a big dumb dog print with
all the text that you are running on all
the debt defaults so if your get you
need to process fails halfway through
any crisis you're lost everything so
that's a big problem so one day the
thing that we would like to discuss an
open discussion is a basically as a
Steve pointed before we have different
ways of testing applications and we have
different frameworks that are testing
different parts of your system but each
of them is generating a different kind
of reporting and now then usually have
or are thinking or third-party
applications collecting rotate that data
so we would like at least we'll start
discussion about basically paid in a
particular shared representation for the
data this coming from testing frameworks
so we can collect these this data people
who write application for data mining
this data and try to start thinking
about you know what are the kind of
things that people need when when the
test fails well detective is the
metadata that you need there and also
think about that it's not gonna be
running in only one node is going to
need Randy different note so you need to
be able to get the data and also
basically think potentially knowledge
are on we're testing applications we're
testing many other applications
the first approach is that that we have
taken it and we have generated our own
reporting as deep as we mentioned in
with some ten different things but the
main the main feature that we have here
is that hideous report in life basically
everything every test with that is
executive thumbs the content to the
network basically under report will done
that to a web page so you can see the
progress of your on your test you don't
have to wait a million and if it crosses
halfway through at least you can
everything a worker you don't have to go
to a local lots of the machine or what
I'd fun what happens in our case by the
way or making shirts topic is this to
the system but we work in utility
computing so things that we do is
allocate machines on demand and those
machines probably are not there by the
time you're going to check if that's
what successful so probably the machine
was already rebooted and reallocated to
someone else out do you need to be able
to collect all that data as much as you
can and then be able to do the
post-processing after one thing in the
right direction with being collaborating
with well is this at once PhD that he
has been right in something called great
unit it is open source with this insert
force and basically this is a strange
movie and written in Java but what it
does whatever it is the first step in
the right direction because this is
trying to aggregate all the data from
different machines and trying to give
you a way of navigating easily between
the different sets of data that you
collected and you can compare why a text
was failing one machine one why wasn't
working in the other machine even if it
was the same test and also that were
running Linux but still is it is a first
step is nothing certainly but would like
you know people think about this well
the desk you to include the top
basically instead we literally described
here was a people have to think about
system test people are getting good and
writing tests for applications my
background is I
emigrated company it was working for a
telco and there they people could afford
long side of development developments
and basically they can have two teams
one developed in the application the
other one testing the application we
think that this is not acceptable in one
so when you when you are creating
application they time to market is
decreasing so you are adding new
features you want one near services and
you have to wait for the development
team to produce the application and then
the testing potentially for a week and
then if you feel bad about the bats and
you know you're not going to make it in
time so this has to be a continuous
activity and it has to be automated
which is a main theme of the conference
so forth when you think about system
testing place if you think about
automatic deployment once you have
automated your application how do
application can be deployed in different
configurations adding automatic distant
testing is something else is basically
if you added into it and you have to
deploy your application by hand and then
you want to do the automatic automatic
test testing of it it's going to take
you far too long and it's not gonna it's
not gonna work also if you are working
in a small things as well it makes
impossible and warm bodies cannot afford
to have a delegate 15 Lester see the
other thing I would like to get out of
these conferences and we'll open the
discussion about creating an open format
for all these test frameworks that are
available we know that there are some
people here right some of this so I
start thinking about you know what would
be the right format to do it so that all
people can contribute with tools to
analyze the results and if you are
basically a test framework and you
basically like to talk about this come
to see us and we promise that we will
integrate it with Anton with the
smartphone Oh probably unit also a
journey to student smart or
asking with this man from this is it a
website web services market the road and
11 have a bit of topic I don't have any
one here works on standard
is anyone working their stomachs and
then the conference whole person to top
three so we've been working with
calmness 44 few three years because of
the this TD at the global reach forward
and one thing that people tend to do is
they develop or they describe the
standard on a piece of paper and then
after six months old once a year
basically they get together and they get
they do an intubation fast they find a
nothing works they were way and they
modify the standard again this cavity is
a product you cannot even implement some
so why don't we change the way it's
telling us on pain describe why don't
you describe I stand up to text anything
additional tests and if you modify one
that the external is being defined you
continually finds well this text and you
will help you because development will
find things that don't make sense before
they make it into the paper and the
standard is a proof and then someone
else we have to do and easily within the
problems so your interest is a lot as
well this is rescue you have to be a bit
basically controversy so if anyone has
any questions this is there in like five
minutes
um I want to bring up something that I
didn't see explicitly mentioned in your
presentation one of the issues that if
you're managing and testing process your
receipt of testing process is selecting
the test to be scheduled and you
figuring out the sets and putting those
together maybe even automating this
lecture then you may have a base set
that you want run on every build and
then you want to go deeper on subsequent
runs and I didn't see that and so it's
kind of configuration of the testing of
the tests and putting those together and
how do you do that and driving that but
i can give you my viewing the idea what
idea what would be a kind of port on
where you send like in our case we send
and commercial description to a port and
the portal really scary that the way we
do these configurations there are
templates so a stick said you can come
and parts of the description you want
and you could send its best but also you
could only fly change attributes so the
portal you could basically decide in
your template which parts you want to
click or you should make that test you
can say okay you know this part of the
test able to run it is what I don't want
so and the whole thing the other senses
is done dynamically it doesn't that
answer some of it but then also you want
to work with association of defects to
particular tests so that you for example
you say this is a regression test for
defect 2000 and we want to make sure
that you know that they're going and
touching this I mean just so you know if
you want to kind of be strategic in your
testing you have to be able to select
the tests that are run based on what's
being changed in the system based on
your knowledge and so I think as much as
the analysis side and you talked about
that very difficult problem I think the
scheduling and configuration side needs
as much as tension yeah it enough and
you know there are some open source test
case management systems may be looking
at how you can
your work with those
I
collecting test results is from a
discrete system very similar to network
monitoring dimension and HP already have
a very good tool earnings would open
view did you look at integrating or
extending a computer to be a platform
for this kind of thing I thought open
source and you know what people I just
wanted to work well yeah I mentioned you
might open the open here is a good place
for its medicinal here we are fantastic
source of test sites and feelings a lot
having a nitrogen monitor and analyze
was going on in your network yeah that
would be one of the that that would be
one of the sources for your data so in
this case for example we are not getting
any invicta or in our smartphone that we
don't get data from the rooters in other
cities but sometimes you know we have
examples of its from what you got still
so we would like to know the
configuration of the truth is imported
up that's where you could feed into you
could get information from you which is
good at collecting that and then still
we have the project how to aggregate
these data and make sense of it when you
have it yes as much for example we music
use case as well for testing because you
know it cause some existence and so many
that persistence and so they have adept
at problem very much okay so i've got
one observation in the question the
observation is that if you're looking at
an xml format for sending results back
then I think you should ease base it on
atom feeds because out of entries can
live outside of an atom feed and have
data updated and so forth so you can use
that as a wrapper for whatever payload
that you have underneath but the
question is really how you deal with
testing different versions of the same
thing I mean it seems very plausible
with your test set up your testing
different applications at the same time
what about if your dip if you're testing
like the head version versus the stable
version of the
think that maybe book collisions on
various lock resources like ports or
files and that's a configuration
coordinate the LHC basically us bitch
five in that part of your case or I can
talk about this matter or different so
you were you can specify you can build
when these application that you're out
of the gods you have to leave your
system project two different person for
the same and try to do that that the way
it is how do you describe these you know
how do you describe the configuration of
what you work depends what you need to
separate configuration files for making
that happen because really it's the same
thing you've got you've got to configure
it in the same way it's just putting
different instances almost yeah
different code next week it's actually
if where it can given something like the
label repository things actually switch
versions of your acting practical use
chain on property value say what version
10.1 and you can open our switches
that's how we run one thing about not
running different versions is a good
source of regression data that's other
datum line and getting off the same it's
not enough to say it works women's like
it's worked it takes three times as long
and the root is setting than that so you
just plug the network you know so there
is some by running multiple versions are
a lot of extra data you can generate and
analyze me we have done nothing of that
but I like the voluntary new minions
nobody move
ok
I'm interested in since I think do you
actually use smart frog are encouraged
groups using for your production
departments because clearly if you're
going to test for that department if in
I tend to just be able to flip the
switch and actually you know push out on
your server infrastructure that way and
live see you saw you usually do it but
you also use a command line you know how
develop so the GUI tools within that are
they you know suitable to give to people
from operational point of view and is
that is that a focus is it something
you're interested in do or generally
that's a very awesome though some people
so we are getting some more tools we
have very basic graphics goods ordering
anything through a graphically so the
language will allow you to do that and
drop and things like that but we don't
have included so usually a language is
much more flexible that what you can't
represent the language that's not excuse
not to have a GUI for some concerns but
we don't have we have basic rules I'm
also the tool for managing the right
decision to you can exist they call so
that is people are using thermal access
to the rail system is all the later is
represented in the population data is
the real structure of your application
so you can navigate through 10 because
ever make changes but we will have
anything for them that so we have a
plugin for Eclipse but all these foods
are facing sun we are becoming one more
portals but we're not the good people
basically we are interested in the in
the results problems and the challenges
of a new of writing and describing misty
with resistance we have put on tools at
lan and so have servants were heavy on
the poet artist in the dacoit businesses
are going to be boy something about Chef
an inline swamp provenzano copa de
century
yes sorry star repeat myself oh yeah
would you encourage people to use this
for production deployment and it's
simply that when you decline production
you don't run the clients asks you're
just you know you deploy your serve you
to play my SQL Server exactly with oh
I'm strongly in favorable to making
production side deployment is
interesting working operations because
they are wonderful people who would be
paranoid about the Creator up in the
morning phone call our also pulls out
your work operations you get the phone
call 315 in the morning you know where
doesn't work they go straight into the
developers off with so I'm actually I
think one of the things you need a
deployment centric process where you
don't have a separate operations team
you actually work operations right from
the beginning and you're continually
texting to some machines they manage
their working with you right from the
beginning so you don't have a hard split
between development with production
isn't all one system with one team
working woman and yes you want to make
production system equipment so my heart
official yo dms or envision smart from
demon running on you know it's part of
science and Ervil enix distribution or
whatever so then you know developers can
write this stuff and then I know its
operations in the same way to mind you
is it done package rustles amala yes
yeah with we just finished a project
that we did with 12 animation compact in
UK we run our experiment we had some
interpret what about collaboration 18 up
with name works on when I think it's an
interesting Brenda an application for
example so we did and we just finish our
project called seat se3 d taking go to a
specially written is public on that what
we're taught people were competing for
resources
so they were accessing remotely
cooperativity so all the background
servers 500 machines in the back end
where managed to rip my throat different
doing nine months for 24 hours so I give
you a lav of United's products or action
ready or not I'm machine porn le bristol
some people were contacting with part of
the primary soda machine very public
remotely manage their because they have
machines
actually have two questions first one
get the opportunity to try multi
development platform experiments where
you have third-party tools for
microscopy party components for
Microsoft job in clients or just
multiple platforms in that scenario we
got this theme reviews that and that is
that over on the browser side we have
done that much with windows itself a
little bit on that facebook then the
second half you're talking about the
difficulties and displaying the output
and getting data out of all these things
just for an inspiration source you might
want to consider looking at Microsoft's
new team bill output cooking foundation
sweet because I have a nice multi test
one output as part of the bill report
and it's located waiting for it over
if to my got Bentley one of the problems
if you mentioned this data mining and
I'm actually curious if you considered
using the scripts to be inviting for you
because in any case you got dependencies
in scripts such as a dns server or
something else which seemed like they
could be addressed by subscripts or miss
Sato script has a dependency on a B and
C and have suffered some unit tests
disabled if this fails go run these
individual tests now where you're not
doing the data mining yourself you got
your own scripts good for you where you
can call it scientific about it but
react changes in the system so when you
know it would be an active flesh that
behaves differently depending on what is
happening on that but they're still
doing collector lots of data and if it
is only one patient fails that's why I
buddy you are collecting they different
your sweets from your network provider
from you know dillard application system
was pointing somewhere same collecting
the data that obligation Tim help you
present up in a way that the CC for the
developer to know what's going wrong and
yes
the one of the hardest aspects of doing
testing designing distributed systems is
what you do in the face of hardware
failure and I saw that you are bringing
up virtual fists and running into
cases we love them yeah they bring on me
how do you thought about how you might
use those two deterministically produce
hardware failures and then check the
software reactions avenge not fair
hardware files but what you can do is
you can bring up some post something
that's host configured like those
Reuters and you can simulate that work
variants that way and unreliable proxies
and that kind of stuff but we haven't we
haven't simulated things like the pc
that overheats can avoid anything like
that or the the machine is prone to race
conditions one of the interesting
problem with dynamic allocation machines
is that not all machines are equal then
under how much open so that your 500
machines were identical there's one in
the corner that the Hogan eats faster
and it's been a different clock that is
more prone to race conditions so we have
one machine Eric's machine which is
hideously unreliable he's not allowed to
touch it because it shows race
conditions more than in the box and we
just leave out like that that's actually
something you want to remember when you
do a test run is that actually which
machines you would allocated and we can
rerun your test years once they are I
want to rely on all those folks were so
I want to rerun on the windows box that
failed before and also just maybe not
going to bring up a virtual machine
running it and say when you hit this
breakpoint killed virtual machine I'm
going to export this Martha system done
I'm suddenly this machine what the hell
things were going to do then is you
needed where you can simulate in terms
of hardware failure the insightly
simulate network partition is quite
easily
yeah you wanted test framework authors
to contribute to an external
interchangeable but do you have come
another version one that we could try
and hit right now hey wait anymore
missing and we framework even anything
we have got sooner see green sea and
some testing PHP yeah I've done it I'm
entirely sure what makes the best form
and we still need to decide that but
then you're to collaborate if we're
probably the good one I promise about
the slot frog and likely announced as
well and the test ng people quite
interested one so we could we can work
together on this once again no yeah we
asked them well we have the app long
have our one without been limited Lotus
lessons we should use an agreeable time
yeah the prize that we have a live
interview that's why we are racing the
question important we have different
needs all your needs that was actually
after a limited version vulgar I could
hit right now figure out what progress
okay we can look at what we've done
seeing what works
so we're going to have to cut the
question short at this point because
we're running out of time but thanks
very much guys and they're going to be
around for discussion and watching
through the rest of the conference
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>