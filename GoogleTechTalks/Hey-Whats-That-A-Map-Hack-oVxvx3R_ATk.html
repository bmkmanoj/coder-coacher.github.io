<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hey, What's That? A Map Hack | Coder Coacher - Coaching Coders</title><meta content="Hey, What's That? A Map Hack - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hey, What's That? A Map Hack</b></h2><h5 class="post__date">2007-10-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/oVxvx3R_ATk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">thank you all for coming my name is
Michael Weiss Malik it's my pleasure to
introduce our guest speaker today
Michael Kozlowski is among other things
the creator of hey what's that calm a
unique two and a half dimensional Maps
API site that lets people generate
mountaintop vistas and explore them I
think that's about it so without further
ado Michael it was really nicely done
well thank you thanks for having me out
here and thanks for that kind
introduction actually you got it better
than I've got it in the presentation a
much gentler introduction that a
colleague just related to me where he
was introduced with the words and as you
know Andrew Wiles proved Fermat's Last
Theorem in this auditorium last week I
hope you have an interesting talk
planned I'm Michael kizashi I'm from
Lincolnville Maine I'm the sole
proprietor of hey what's that what I'd
like to do is simply show you what hey
what's that is provide some background
on how it got here and speculate a
little bit about what's going to happen
next so this is where it began when we
moved into our new house in Maine I
asked the owner what are those mountains
over there and he responded he thought
they were out on Deer Isle and a couple
weeks later I had a friend over an we
just bought one of these large scale
maps of the state so we took some
bearings in if anybody's ever tried this
it's extremely difficult to do it
particularly if there are a couple of
choices so we're there with the rulers
are everything everything we realized he
was wrong but we didn't quite know what
was right and now several years later
unveiled in the first week of march i
posted about the site on a couple of
forums a week late are emailed some
bloggers and within 24 hours of the blog
post coming out i got this invitation to
speak here so it's all pretty new and
i'll show you where it started this
statement actually appear
years on the first post on on the
keyhole BBS to answer the eternal
question what am I looking at when
standing on a mountaintop were pulled
over to scenic overlook and that's where
i'm going to start because that was the
focus for the site when i released it
so when you first go to the site and
let's do this live you're greeted by a
window with with three panes this is a
view from mount batty it's a local
summit you can drive to in Camden Maine
on the top and and again the focus is on
letting you know the names of the
mountains you can see so we've got a
computer-generated silhouette along the
top we've got a list of Peaks along the
side and a Google map on the lower
left-hand side and I want to thank you
all for Google Maps because otherwise
it'd be this big hole in the middle of
the screen and it's all got the kind of
interactivity we we expect from from
applications if you click on a name it
shows you where it is on the silhouette
and on the map you can click on the
silhouette and if you happen to hit a
peak I'm sorry if you happen to hit a
peak it'll tell you what it is otherwise
it'll just give you the sight line along
the google map and of course you can
click here and either see or as a myth
on the top
or if you click on a peak it'll it'll
it'll show you the information a couple
other things about this display there is
an FAQ which tells you most how to do
everything and if you go to the FAQ
there's a further technical faq sign up
simply asked for an email address at
this point and the best way to keep a
prize of what's going on with the site
I've been sending out an email every two
or three weeks i think as things develop
comments let you email back to me this
view in google earth will come to in a
little while you can switch back and
forth between true and magnetic north
and it updates the bearings of course it
doesn't turn the google map but it does
play a little bit with the it changes
the silhouette from true to magnetic at
least it has in the past and and it
should be changing these bearings as
well
this arrow I don't know if anybody ever
comes comes across this you can you can
change the viewpoint of the panorama and
down here if you don't like decimal
degrees you can go decimal minutes or
degree minutes seconds one thing that I
haven't spent much time on is browser
compatibility this will run great under
firefox 2 i'm running here on firefox
one which was I think some things weird
updating a moment ago or this is one and
a half it seems to work pretty well
under ie7 ie6 I know there are some
incompatibilities
I told you the name of the game at the
outset at least is peak detection so the
way I do that first first I take data
and then I apply rules to it the data i
use currently is the usgs nasa shuttle
radar topography mission data from
november two thousand covering 60
degrees north to 54 degrees south it's a
digital elevation model which means that
it gives you the elevation above the
surface of the above the geoid at a
regular gridded interval in this case
it's roughly every 30 meters in the
United States and every 90 meters
outside of it and you use that data
because you basically place yourself
somewhere and look over the gridded data
and figure out what the silhouettes
going to look like then there's a I need
a geolocation database just a set of the
names of summons together with their
latitudes and longitudes in the United
States we've got the Geographic Names
information service another USGS
database which is extremely
comprehensive I believe it's the same
stuff they use on the on the topo map so
that's where it came from
internationally i've been using geonames
org which is a terrific community
project they preload a huge database
with the GN is data for the United
States and then internationally there's
i guess it was originally military
sourced the NGA data the problem i run
into outside of the united states is
that the summit positions will be
rounded to the nearest minute often and
we'll see that that that's going to
cause trouble in a minute so one of the
things i wanted to find out is if
there's some better free data out there
then we apply rules to the data the
first thing i do is dry that silhouette
and then there are three rules that i
apply the first is that the peak be
visible enough and the way to do that is
go outside and I
you know it was looking and it's it
looks like you need a couple arc minutes
on either side of the peak for it to
make the cut the second thing is that it
have a name in the database now
detecting the peak I'm not doing any
surface fitting or anything like that so
all the peaks that it comes up with
they're going to be on grid points and
seldom is a name of the database going
to be on a grid point they come from
completely different places there's no
reason that it has to be on exactly the
the one second grid spacing so I look
for a name that's nearby within a
certain maximum radius and this is where
the fact that Peaks are rounded to the
nearest minute outside of the United
States runs into trouble because a
minutes a mile and that's just I don't
want the false positives of allowing a
peak to be identified that far away that
of course leads to the subsidiary
problem of what you actually display
where you calculate the peak to be or
where whatever gazetteer you using says
the peak should be if anyone watching
the site real closely they've noticed
I've waffled on this one a couple times
I spent a week going back and forth and
finally in a fit of user unfriendliness
I do I do this moody mountain this is
where the GN is data says it is I'm
sorry this is where the peak calculation
says there is a peak and this is where
the GI n n is data says it is you know
of course I could round you know the
last decimal place here is about this
big and I think the fourth decimal place
would easily yeah the fourth decimal
place would easily fit in this room I
think this really speaks to having an
expert mode of some sort is so if you're
interested you can drill down to get
this all right the last detection rules
against the horizon now this
interestingly it was originally there to
make the computation simpler and in the
top view which is Mount badi again when
I was testing this around my
neighborhood the fact that I wasn't
picking up the names of stuff this is
all pretty minor stuff against the
horizon is where the interesting things
were as was quickly pointed out to me
in the first week of March that's not
true for Mount Washington it turns out
some of the most interesting peaks are
these down here this is going to be easy
to code around I'm more worried about a
simple UI issue if it's really nice
having the peaks just along the top if I
have to start throwing red dots in
throughout the entire thing I'm going to
have to think about a little bit more
I've recently heard about prominence
which i guess is one way to rank these
things and maybe we'll just have a
sliding scale of the most prominent and
then you can see more and more my wife's
uncle thought I might have to motivate
the choice of Mount Washington for those
of us in New England it's majestic 6280
six feet really impresses us but it but
I understand that that might not be the
case when you leave New England but I'm
sticking with it just in passing I'll
mention that I do use the world geodetic
system 84 reference ellipsoid and I
correct for refraction as a practical
matter I do it so that if anybody asks I
can repeat the statement that I just
said one of these is on a spherical
earth this element Washington again one
of these is on the reference ellipsoid
without refraction and the last one is
on the reference ellipsoid with
refraction does anyone care to hazard a
guess at the order
refraction is if you look at a distance
because of the exponential atmosphere
actually at every there's out mascara
cleansing and there's a rule of thumb i
discuss this in the technical faq that
says the surveying rule of thumb is you
is you raise up what you're looking at x
amount equal to fourteen percent of its
decline due to the curvature of the
earth well you know what's interesting
is I'm going to be looking at that I'm
more interested in and not just
apparently the lapse rate of the air
it's the rate of change it's not the
actual temperature that's going to do
that and the lapse rate they say is
fairly constant what gets interesting is
what if there's a front and that's
something that I want a model and I've
borrowed it that's different yes yes
yeah yeah there could be a mirage
version and but but but just under
general conditions the question is how
much is it going to change and people
have been telling meteorologists that
there's a story that I don't even have
any been saying it just doesn't change
that much my own calculation show that
that fourteen percent should be reduced
to about eleven percent when you get up
higher anyway but it's a small effect I
think that the point here is if what
you're looking at is the names of Peaks
it turns out to be a small effect what's
interesting I should give the answer
when you go to refraction because you're
raising up things that are more distant
that rule that i have about it being
against the horizon means that you lose
some pics because stuff that was flat
and beyond it comes up a little bit in
the peak is no longer against the
horizon as a practical matter like i say
it doesn't make much difference although
if you took printed this out and went to
Mount Washington on a clear day you
might be able to tell whether the earth
is spherical or ellipsoidal that morning
there is a print view where I try to get
everything on one page interestingly I
can't get the google map to print I
don't know if you guys are aware of that
if you do do this i recommend bringing a
compass because i can only make this
work
if I have these numbers in conjunction
with a a compass so that so the bearings
become useful I'm sorry if I have the
image in conjunction with the bearings
that's any way I can get it to work I've
got this all panoramas view and the idea
is that you do an interesting search and
you can elect to make it public the my
notion was to sort of create a community
without having to go to the work of
policing forums and responding to posts
of course the morning after the the blog
blizzard I woke up and somebody had made
public a search effing Buffalo so that
throughout the editorial ease of this
particular approach it is interesting it
is interesting to look at what people
have decided to make public but they're
really I have two issues with this
particular view and it's probably going
to go away one is just in general you I
this is I think only the second version
of you I for the whole site so I'm so
I'm ready to change it you know this
should be a cascading menu actually if
somebody has a cascading menu for me on
the way out that would be great i wanted
to look just like this there's right now
I mode switch so if you go from viewing
something in particular going to all
panoramas it's pretty costly because I
throw out all the markers Amell the new
ones I know that the Google Maps folk
have some wonderful dynamic marker stuff
now some I'd like to make it modeless
the back button doesn't work I'm well
aware of that I don't need anybody else
to tell me that so one issue is you I
and the other issue is editorial you
know it turns out other than removing
profanity there are a lot of mistakes in
the in the stuff people make public
someone just point out to me the
Kilimanjaro is in a three degrees north
it should be three degrees south you'll
see some other examples later on so
somebody's got to do something about
that so this may be should turn into
more of a curated issue
new panorama the whole point of this is
that you can do your own so let's go
back to the live demo you click on new
panorama you get the opportunity to
enter we need to get a latitude and
longitude from you can enter one
directly you can search for an address
you can enter whatever elevation you
wanted to be taken from the default is
is my height 6 feet then there's this
move to the highest near bullet nearby
spot and what that does
what that is supposed to do is move you
along to follow to find the highest
point within a certain radius according
to the digital elevation model again if
you're looking up a latitude and
longitude in a gazetteer it's not
necessarily going to match the high
point of the digital elevation model i'm
using which means for instance that you
could be asking you could be requesting
a panorama from a point on the southern
slope of a mountain and your entire
northern view would be occluded you
really wanted to be up on top is an
example of what can go wrong I really
want to thank whoever did this when it
when I took a look this was on the
public page as googolplex and it turned
out I I took a look and it's taken from
the middle of amphitheatre parkway so i
reran it as googolplex across the street
that the loot the nearest high point is
at the shoreline golf course the top of
the golf course you can i noticed i
could see it as i was driving in much
more informant much more informative
image and it also points to that
editorial thing i was talking about i
don't know how many visitors have come
to the site looked at google and seen
this when i really would have liked them
to have seen this change that later on
no it's just hi it's the front of the
golf course i haven't taken a close look
but we can go outside afterwards and
take a look and it's also you know that
the data is course when you're when
you're up close
yes and and you're looking yeah you're
getting blocked by the rise of the golf
course so you come back to your new
panorama and then you hit submit and
what I do now is I take you back to
whatever screen you came from which
doesn't really feel like the right thing
to do what I used to do is leave you in
the new panorama which is certainly not
the right thing to do what I think the
right thing to do is we've got a captive
audience here for a minute or two at
least the first time you do a search
you're going to be captive for a minute
or two and we know a location that
you're interested in so the right thing
to do is geo-target the visitor so you
could sponsor searches in a in a state
you could sponsor surgeon searches in a
region maybe it's a thematic thing you
want to pay for and and as a Mother's
Day special we've got this and thank you
to my younger daughter for making this
work for me still on Peaks I've got us
I've also got a phone system and I'll
briefly show you how this work it's all
in the FAQ
yep
welcome to what's that to skip the
instructions hit the pound key at this
point we'll ask for your latitude and
longitude you get the option to move to
the highest point in the area and we
accept lots of formats you you can read
about in the faq the computation will
take about two minutes ok we know where
you are you're just sitting there with
the phone tier so again perfect place
for an ad the computation found 32 peaks
the bearings are magnetic for true
bearings add 14 degrees Mount Diablo boo
and tee face I oh 2 degrees 33 miles so
yeah you get you get the point you can
also do it by email I've got this nifty
short little email address please right
now plain text emails if you're going to
try it all we need is a latitude and
longitude you can check the faq i think
an optional p means move to the highest
peak you can instead alternatively send
an address that I'll geocode this is
where you get back it's formatted to fit
on a smaller screen if anybody is going
to try the voice thing you can drop me a
line and I can tie your phone number
through caller ID to an email address so
you don't have to listen to the voices
oh by the way this this is what it was
reading I made sure to use the same site
here at the same position I'm going to
get SMS where interestingly the sum of
the global interfaces SMS wasn't working
for my local carrier so I didn't wasn't
able to get it working before but I
think now I'll be able to send it back
to SMS and you see you get the URL so
they can go back and investigate it when
you get back to a to a machine
alright so back to this statement I've
been focusing on peaks but what I
learned pretty quickly in those first
two weeks of March is that Peaks really
is in what seemed to be important to
people or did it isn't what seemed to be
important this is what seemed to be
important if anybody knows how to
pronounce I don't want to mangle his
name on on the air okay there been a
couple bloggers have been extremely kind
to the site and you saw that in the
abstract but this is really where i am
now I to draw as much as possible the
data while developing only enough
interface to find out if there's a way
for the site to support itself I think
that was generally captured the
imagination of people coming to the site
has been all the auxiliary functionality
that I've implemented to let you drill
down and visualize the data that I'm
using my wife jagged me that I get into
a cycle where I'm stuck in the dark days
of bugs and interface development and
browser incompatibilities and suddenly a
you know a bright ray of light shines
forth either because of a phone call or
a posting or because there's an area of
a code that I'm not involved with it I
suddenly have a thought about and and
and then you know we got a new piece of
functionality that's showing us
something completely new about the data
and that's I've been fortunate that
that's happened a couple times on this
site so okay so you take this drive to
visualize the data in new ways and you
temper it with laziness and patience and
hubris and and and this is what you get
so we'll start with contours
I'm a little leery here just because uh
let's see if we can get contours working
you have to zoom in one level just
because of the size of the computation
you zoom in one level you can get these
contours as you scroll around thanks to
the marvelous G tile overlay it fills in
beautifully you'll have to try it
yourselves oh and if I was going to say
stay off the site so I can get some good
response time but it looks like I can't
use the live site anyway so G tile
overlay has been phenomenal I also want
to be able to show the names data that i
use the geolocation information I
haven't worked this into the UI yet but
I've got a routine called get names data
in the JavaScript of the site and I love
this this hack you know you can create a
bookmark with arbitrary JavaScript in it
so you create this bookmark you're
watching the site and if you hit this
bookmark it will run the routine which
looks at the center of the map that's
currently be just being displayed and
retrieves all the location data for the
square degree of latitude and longitude
that the map is looking at so as you can
see here as you see here you get these
little plus signs if you mouse over them
it'll give you the name of that
particular peak you can do things like
you know click on an azimuth here you
get the sight line here and you can see
what these different mountains are that
way this is going to become part of the
UI but if anyone wants to do it now that
this is the way you get at it all right
so I'm saying to myself in one of the
revisions of the computation if I if I
change the way I do and if I do it this
way i'm actually going to be able to
tell you for an arbitrary point whether
a particular for an arbitrary point
whether it whether or not it's visible
from to the viewer i call this a
visibility cloak Harry Potter's been a
big part of our family the last couple
of years I have been told repeatedly
that in fact it has a real name as the
view shed
you can play interesting games with it
you know you can scroll around and see
how far what's the most easterly point
you can see from Mount Washington this
fringing is kind of interesting I think
it's actually you know I know how a
quantization error aliasing or round off
error here's a better example but what I
find interesting about is one of the
emails i go from somebody pointed out
you know remember that elevation data
has an error bar and and so in fact your
visibility cloak is not binary it's not
an on/off thing it's a probability cloak
and this sort of illustrates that not
intentionally in fact some of my most
beautiful images have always been bugs
in graphics code all right now a quick
intro to the integration with Google
Earth and filth you can certainly all
hit the site while this is going on if
you hit either view in google earth on
the web page or view all in google earth
on the all panoramas page you get some
layers loaded into Google Earth you'll
get the visibility cloak and I'll point
out that i actually have to generate two
cloaks the google earth uses a plot car
a projection just means it's linear and
latitude and longitude google map
chooses a Mercator there's not much of a
difference at at our latitudes here if
you're drawing a 1200 x 1200 pixel image
for a square degree in the middle you
have to shift up about three pixels
between one in the other in addition to
the visibility cloak in google earth i
gave it give you this thing called
entire visible area and all i'm doing
there it's a polygon joining all the
furthest points along the silhouette one
commentator noted that it's what it does
is it shows you your horizon which i
think is a much more poetic way of
saying it of course you can turn on this
cloak at the same time as the other
cloak you've got a peak layer
you can turn on that as well and because
of that rule about against the horizon
you'll see all the peaks only appear at
the vertices of the polygon sort of the
proof that this is working is if you
position yourself at the viewer and look
out all you should see is red in the
visibility cloak and it works pretty
well I personally have a deuce of a time
positioning myself at exactly or so this
is the closest I could get what I like
to do is you know as you will know fly
around so here again is from Washington
we're looking at some of the other
presidential mounds and you can see
exactly which side is visible from Mount
Washington and which isn't the
silhouette is available to you as
another overlay and the silhouettes
exaggerated I don't think I mentioned
that it's exaggerated to fill the space
so you can sort of see what's what's
going on here this right here I guess is
this right here and this over here is
maybe that the point is it looks like
you guys got it right in google earth
the intro duce was supposed to be oh now
I told you who you go to the site why I
got a lot of mail about the visibility
cloak people asking what's the load on
the server it seems awfully response of
what have you got going there and while
i'd love to maintain the illusion that
there's something very smart and dynamic
going on there isn't if we look at the
briefly at the architecture the data
i've already talked about I've got a lot
of C++ code that I've written in here a
lovely data access layer to draw the
stuff out manipulating coordinates and
then the actual applications to come to
in a minute but this is the important
thing this cycle right here a request
comes in either telephone email or from
a browser it gets dropped into Q we run
through the answers and we just throw
the results in a directory those results
are
a text list of the peaks this PNG for
the silhouette PNG's for all the
different cloaks I just use all of your
wonderful overlay mechanisms to then
implement the cloaks this is a good
opportunity to thank the world of free
software an open source software you
know ranging from the canoe compiler and
pearl to linux and Debian that I'm
running Astrea sex and apache okay so
we've got all the data what else can we
do with it the last feature came from a
colleague asking if he could get a sense
of how clean the line of sight was
between an antenna he had and somebody
was trying to get to and the answer was
sure so I also look at this as if you
were to walk from this point to this
point what would you have to travel you
can even go across the country if you're
willing to wait for it this is walking
from on Washington to somewhere in San
Francisco I found this fascinating the
first time I saw it I had no idea what
happens is across the country again you
left away 20 or 30 seconds for that
and you can no I'll go ahead and just
trial show you what one would do if this
were working you come up you just open
the show profile window and then
wherever you click it would draw in that
same members that we just saw which
looks something like that you have the
option to put a scale on it that's
fairly new all right but in the in the
rule that no good deed goes unpunished I
make this functionality available and
almost immediately I see this post on
delicious nice but according to what you
can see the Appalachians from pikes peak
Colorado it doesn't take into effect the
curve of the earth now i just spent
quite a few hours of my life taking the
effect of the curvature of the earth
into account and no idea what he was
talking about till i thought oh well
there it is he must have run the profile
seen this and concluded that i wasn't
thing about the curve of the earth so a
little bit more work and i am willing to
state definitively that you cannot see
the Appalachians from pikes peak the
earth does get in the way
I think I just got zeros for the for the
data let's come back to that here's what
the curved earth I just wanted to show
that once i implemented curved earth now
i have this wonderful synergy where
maybe some of your laptops are working
you can bring up the visibility cloak
and then you can click on different
places and actually see why a point is
or isn't in the visibility cloak I'll
caution you that this is a straight line
it doesn't take refraction into account
this particular line drawn here the
calculation does so you might things
might not jibe perfectly but it gives
you a good feel so so in this case we
see that you know we're just barely
we're getting by this mountain with a
fairly good margin if we you know move
much closer things are going to get in
the way interestingly you know Michaels
title for this talk was a a 2.5
dimensional map hack and I dropped the
2.5 d when I sent him the abstract first
because I don't know what it meant but
then when I discovered what it meant I
was having trouble justifying it until I
came to this slide in the preparation I
realized yes I am I hope in fact telling
you everything I can about the structure
of the earth on a flat screen granted
the very analytical style you know I
don't have textures and polyhedra and
monsters pursuing gradients but it's it
I think you were right so I appreciate
that this post appeared on on google
earth does anyone know a way to get
plots of elevation versus distance along
a Google rude and I was showing that I
was sitting with a friend when we read
this and I said well yeah I can
certainly do that and that's the path
profiler was born i'm going to try one
more time that this one is really a hack
i refer to the UI as unapologetically
anachronistic in an email
because how many web two point apps do
you know that or how many apps will call
themselves with impunity web two point O
apps and Ajax and all the rest and have
a button marked backspace my daughter
responded that's the dorkiest thing
she's ever seen my older daughter I
she's talking about the backspace button
she may be referring to the fact that i
called it unapologetically anachronistic
i hope it's one of those two the idea is
that you you you plot points on a route
and thanks to google directions you can
even hit this get root and what it does
is it will fill in a smooth path along
roads between the last two points that
you've clicked you then hit calculate
profile will try it and you get
something that looks like this where
it's showing you the different segments
and your elevation here you have
available to flat earth and curved earth
I've also given you the option for
English and metric I for some reason
this the posting about this site got
picked up by some Spanish bloggers and I
had all these Spanish sites mentioning
the path profiler I don't speak Spanish
but thanks to google translate i
discovered this plane one common with
this plaintiff well i guess we'll just
have to wait till it can do metric so
the main site doesn't have metric but
but but this site does one interesting
application is that my wife called
running out of gas in rural maine late
at night which for us means after about
8 8 p.m. so great i could get on google
maps finery gas station but had I had
this integrated with Google Maps not
only what I've been able to find out the
closest gas station I could have told
her the gas station she could coast to
nope
this is what the profile is actually
plotting you take your start point your
end point it's the X is the Great Circle
distance as you move along the Y for the
flat earth is simply the elevation above
the geoid for the curved earth I add
this distance from the cord between
start and end this has some interesting
properties are in fact lack some
interesting properties that I can go
into during Q&amp;amp;A alright so so so where
are we have got a version out it's been
interesting to see what people are
interested in there's clearly lots of
different levels of work to do I've
lined about the UI repeatedly I'd like
to get more detail into some of the
output that I show and I discussed
ranking the different ranking the
different peaks in terms of monetizing
the site there are various ways to
specialize it and there can be consumer
stuff a hiking site then maybe could
draw some high-value ads for hiking a
biking site coastal boating there's also
business applications cell towers you
put up a cell tower one another region
it's going to cover I I propose that the
getting rid of refraction and changing
some of the line of sight that I do I
should be able to handle radio
frequencies fine there's the other
problem if you put up a cell towers are
going to be visible from in fact there's
a controversy going on in my own
hometown right now so if we were to
couple the visibility cloak with
information about how far away different
designs are visible under different
conditions I think I could have some
interesting answers to that question I
want better data for outside of the
united states on the plane i came up
with this game pin the name on the
mountain the idea is we take Google Maps
or Google Earth create one layer which
is the local maximum of the elevation
data create a second layer which is that
names data and let people who know an
area drag the name over to the over to
the peak funnel all the data back
out through geonames org or something I
mean Summer of Code right that's the I
think that's a good one I want to do
more mobile I mean you could certainly
build applications into you can make a
phone application available a GPS
application available that would do more
than make you listen and scratch down
the bearings and names as they came
across the telephone this barcode every
mountain is I should I want to bring I
got to bring a stack of barcodes with me
so whenever you're on a peek that's
interesting leave one there email me
where it was and the next person comes
up with their cell phone can swipe it
and get the list of what the what they
can see web services I love input on how
to monetize some of this either OEM the
search so let's say you owned a chain of
coffee shops or something when somebody
searches through your site they get not
only the names of the peaks but the
distances to the closest coffee shops
and certainly the architecture would
already let me be a list of Peaks a
profile a contour or view shed server
you'll have to trust me that usually
when you hit those buttons something
changes on the screen and
the and I've got to acknowledge Midcoast
internet solutions who for their
extremely generous colocation service
for all of this since I know this is
being archived and I don't do talks like
this very much i just want to do to
personal acknowledgments if you'll
indulge me first just to my family for
their support and patience and then i
just want to speak aloud in the names of
two friends who have been very
supportive of this whole process who are
particularly excited about the
invitation for the talk but didn't
survive to reach this day it's it's my
neighbor nichter kovitch and my
mother-in-law Susan drawbridge now back
to the eternal question somebody got
their thank you that I opened with what
are the names of the mountains I can't
do it live if this is the view from my
backyard you click on that mountain
right there it's Bernard mountains 36
miles away in a Katy National Park thank
you all right there was a question about
over bodies of water
more information
how will change change the color for the
water I mean it should look flat yeah I
I haven't been coloring this there's
lots of stuff you can do with the
profile and I one thing I'd like to do
is make it interactive with everything
else so you can actually figure out
where you are on the profile my personal
orientation
were you ever tempted to make
image panorama County
interesting question I actually spoke to
a gentleman how much time do I have yeah
let me tell this story because this is a
pretty good one one of the first posts
in response to my initial post was was
this your view from my watching fails to
show Mount Katahdin which I recall to be
very visible from the summit of
Washington so my first response I him in
ha about refraction you know it might
have more effect than I think that it
added I'm driving my younger daughter
down to our high school team was in this
basketball the state championships go to
a bookstore afterwards and there's this
book called scatters white mountain
viewing guide with this gentleman Brent
Scudder climbed 50 different Peaks he's
a retired meteorologist took photos
projected them up on his wall made a
slide of you know azimuth bearings
projected that up took the data covered
his barn floor with topo maps and drew
pictures like this for all of them so I
talked to him I mean opened at page two
twenty Katahdin has never been visible
from here so I gave him a call on the
phone and I asked him that very question
why isn't your book pictures and he said
one problem he had was as he takes
pictures keeping the horizon in the same
place okay that can be overcome the
second is to get the full 360-degree
sometimes he has to move because there's
an obstruction so having a seamless
photo was a problem and the third point
he made and I've heard this about bird
books also you can tell people a lot
more in a diagram because it doesn't
have a lot of extraneous stuff like the
particular weather conditions that day
or occlusions here you can specify
exactly what you want somebody to see
I'm not against the idea but
oh yeah he hasn't yeah
I was talking about the creative
from the from google earth
oh okay no I haven't thought about that
as that's a great idea
now when I fetch the tires I don't have
any control over the exaggeration
there's like 12 48 or something
I'm just going to say but that it that
is the case I wouldn't be able to I
agree that for some views you don't but
isn't there a little choice for does
that happen afterwards in Google Earth
that if that particular part of grounds
is well
and your fuchsia just in fact
I'm gonna have to ask you guys
afterwards cuz I'm not following enough
night I I think we need the whiteboard
the rest of that story is that he
suggested I called Mount Washington so I
called them and they said no you can't
see Katahdin I wrote the curved earth
code no you can't see Katahdin there's
too much stuff that gets in the way and
this was the lovely post i got back
thank you for your diligence and track
and i know this was a week of my life
but it turned out that you know there
was somebody up there who said it's it's
Katahdin that happens frightening Lee
often same thing with Mount Ranier it
missed the big one first place I looked
was queen anne hill in seattle which is
famous for its view of Mount Ranier so I
thought well I look it I know that he's
going to be wrong this is great and then
I searched for queen anne hill and i
can't say you can't see it that turned
out to be a fairly interesting bug part
of it was the data you can see this
thing right here that went away when i
moved to s rtm version 2 then there was
a little bug in the way I did things it
points to a semantic issue which is that
when people think of mountains they
think of these massive things when I
think of mountains I think of the
latitude longitude of a peek so in fact
what you're seeing here is Liberty Cap
because it occludes the specific peak
known as Mount Ranier but I had to do
some fudging so that because we all call
this or apparently he calls it Mount
Rainier
this note nobody's complained but
obviously buildings and trees and always
talking about cell towers it occurred to
me that one issue would be rural cell
towers
yeah I think that would be you know as
soon as you get out at all that stuff's
gonna get lost in the noise any other
question all right</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>