<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Google IPv6 Implementors Conference: Vendor Roadmaps Session &amp; Limitations Session | Coder Coacher - Coaching Coders</title><meta content="Google IPv6 Implementors Conference: Vendor Roadmaps Session &amp; Limitations Session - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Google IPv6 Implementors Conference: Vendor Roadmaps Session &amp; Limitations Session</b></h2><h5 class="post__date">2010-06-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mXMMBrWRnvc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">let's knock knock knock knock
oh wow there it is hey sandy was
wondering what the first youtube video
streamed over v6 was yeah now you can
sleep at night um thank you all for
coming back this early in the morning I
hope everything is still going well if
there's a problem with anything don't
you know don't find me or find Sabrina
and we'll try to get it taken care of
and I think we should just we should
just start right this morning where
we're starting with a vendor roadmap
presentation so get your your vendor
questions ready don't be don't be afraid
to ask hard questions and to suffer the
first slings and arrows of outrageous
fortune is mark town say Francisco
thanks Eric um I don't know what I'll
use let's see usually like to move
around should I keep up with did the
karaoke thing um this doesn't work too
good so yeah that was yip yip and we had
the TCP dump now here knowing that we
were actually doing v6 I I had a lot of
fun at the barcelona networkers yeah
several months ago I got the opportunity
to do a preview just a few hours before
these guys released the qua days to the
world and the first public the first
public video streamed over YouTube was
of it urgent and this is something that
Eric really wanted to have done and it
was a really moving moment if some of
you might have been there after that was
Eric actually streaming
saying hello from Japan which is where
he was and then we had a discussion
about ipv6 deployments several hundred
people there and then they talked a lot
about eating dog food my dojo mean why
not
play
and I just found that during while
everybody else was giving their
presentations I was like you know well
youtube okay I had this little ipv6
YouTube thing my mac and nobody else in
the world right privately looking I was
like okay this is a good one and plated
at the end and it was it was pretty
funny thank you very much Randy because
that leads me right to my next piece dog
food did you see that you Randy that's
not through a translator that's that's
dual stack from UCS servers on San Jose
campus Manny where's Manny Manny from
our IT department did this with his team
actually stand up so I can knock you
down it's actually a lisp connection and
you can go beat up do you know for that
the the setup we have now is actually
quite similar to what don was talking
about yesterday in terms of Lisp do list
connections so on and so forth we go out
here native v6 and in the Palo Alto
exchange pick up the the list of tunnel
servers into our data center the target
plan for this to go live so that right
now again like like in Barcelona just
this mac can do this right you there's
not a dns entry for this in fact there's
an ACL on this mac though i know but
that i'll tell you why and there's an
interesting twist so the plan for this
to be available for everyone is into
July but I went to these guys and said
hey let me do a preview in advance right
and the reason for the ACL was because
the infosec policy guys hadn't you know
reviewed it whatever and they were just
like ok if you can just restrict
just to your laptop sure I can do that
this is ipv6 if it had been ipv4 it
would have been impossible right so you
started to see ah okay oh you mean
you'll have a static IP address that's
really cool because normally if there's
been I pee before I would just been
added and what they asked for from a
security perspective would have been
effectively impossible so it actually
Illustrated something to our IT guys to
our security guys something you can do
with ipv6 that you can't do with ipv4 I
was happy to do it fine in a month it
goes away anyway right so I can poke
around here for a little while Cisco's
got lots and lots of products in fact I
I wanted to kind of do a a overview of
the ipv6 readiness across our entire
portfolio so I took looked at our price
list and I did again Oak @w C minus L
whatever you know there's 178 178,000
entries in our price list that's a rough
job so instead I i'll be showing you in
the short amount of time I have some of
the new implementation strategies that
we're bringing into cisco whether it's
from the grassroots like you saw from
Bob yesterday or from the top down and
in fact somebody was so excited that we
were doing this they wanted to have
something to say now didn't load because
it's in my cash got a load over v6
reload still in my cash dog gone it
developer disabled caches don't know why
it's still in the cash hold on
there we go loading loading / v6 over
360 v6 didn't hear you Randy all right
hello I'm John Chambers chairman and CEO
a Cisco it's a pleasure to be one of the
participants along with mark here at
Google's ipv6 implementation conference
all of us have seen the tremendous
explosive growth of the internet over
the last two decades and while many of
the expectations of the internet people
thought were stretched too far at a
point in time almost without exception
we overcome those expectations in a
shorter time period that many people
anticipate I think it's very important
for all of us to realize that if we
don't overcome the challenges with ipv4
in a quick time period we will slow down
the growth of the internet and actually
lose momentum as an industry ipv6 is
important to all of us not just to cisco
over to Google but to everyone around
the world it's crucial to our ability to
tie together everyone and every device
at cisco we're committed architectural
across the board all of our devices all
of our applications all of our services
we've been a very active member and many
of the focus groups in this area those
with our customers and IETF etc and it
is the importance of understanding how
rapidly the internet is changing every
aspect of our lives not just changing
the way you work live learn and play but
changing business models changing the
way government delivers services
changing the way we deliver healthcare
or education of our children how service
providers completely changed their model
in terms of the value they bring and how
content providers literally make a
difference for always close in our
entertainment and our business lives one
of the things we're very proud of at
Cisco is we've always been leading in
terms of a partnership for doing what's
right for the industry as well as much
right for our company I think we are in
complete agreement in terms of the
important thought leadership of ipv6 you
will see this and everyone
our products as I mentioned earlier
every router every switch all of our
core iOS software and we will explain it
in the services such as security and
management we also focus with literally
a hundred our largest customers in US
and Europe are not pv6 development
council to say we are committed as an
understatement to say that we will
partner for life on this one is exactly
what we'll do together to bring the
industry leadership here and all of us
will focus on how we use this not just
in terms of what we say in building our
products but even how we do this preview
today with this video for ipv6 and
building this off of our new server
technology or San Jose campus the UCS so
we do this we walk the walk we walk the
talk but would do it together as a team
but for it to be successful it requires
the industry collaboration I want to
thank Google for playing such a key role
in helping to make that happen we are
completely committed to a common view of
the future and real although be
challenges as we achieve that common
goal and there's a lot more to do there
will be bumps in the road I think
together we can remake a difference this
conference gets us a step closer so
enjoy the session and mark back to you
so at Cisco we've had a foundation of a
lot you know years and years of people
working on ipv6 we the usg v6 programs
that Thomas was talking about the other
day has it been a driver the work that
deer in does are the hundred customers
and our deployment council that the John
Chambers referred to these are customers
that we meet with by telepresence every
quarter in different geographies around
the world and talk with you the early
adopters the people that are deploying
right now or about to deploy and if
you're not in that some of you I know
from that if you're not in that let me
know and we'll work with your account
teams to get you involved so we want to
work with you very very closely here so
that's the foundation but we've got new
stuff coming as well but back to dog
food we get to the presentation here
that was the end um this is what you
just saw by the way that's sort of the
network diagram right we pulled off ipv6
cisco.com we've dual stacked it it's
running essentially a copy of the entire
entire branch right now okay the less
you know an entire tree the entire
content to let us play around just like
oh thank you just like with with
facebook there's some stuff that goes
over to before if there's a redirect or
whatever and I want you guys to talk
about some of the tricks that he was
talking about the other day I wanted a
lapel mic for a reason okay any huh so
here's it's-- deployment plan very very
loose no dates here but it is a plan
it's it's it's underway it's official
it's not you know Gunther and and Eric
pink going in and hacking things up this
is this is from our IT department and
this is something that internally within
Cisco we've been wanting for a long time
and it's under way and I'm really happy
about that and the the cisco calm
preview that you've seen it's not a demo
it's a preview this is the exact actual
servers that are going to be used next
month when we go online similar to you
know all the other ipv6 dot fubar comms
and then eventually fold it into two ww
so i talked about implementation
strategy you guys want to know how
you're going to get these products you
know out and how we're going to reach
that that wonderful utopia of parody um
again the foundation ten years of
standardization and writing code we've
got a lot of code under there but a lot
of it is very very product focused right
whether it's your checklist that you're
trying to meet or one specific product
because you know one specific account is
coming in with you know i'm with up with
a lot of money or what have you and we
developed this feature it's very product
focus but we're moving to what we're
already have started is a systems-based
approach okay where we go and we look at
how you're deploying ipv6
and identify not only the particular
features that we have to have to
implement in order to bridge those gaps
but developing new technologies to
bridge the gap across areas of the
network that it just aren't ready for
ipv6 you've heard a lot about 6 rd
yesterday those kinds of things right
get the traffic moving so that's one of
the parallel tracks it's the second one
up there the third is really about
culture change process change ok this is
where the engineer who's writing the
code has ipv6 available because we we've
deployed it on our campus right knows
what ipv6 is because we have a training
program that helped them know what ipv6
is and just codes it by default ok and
that's that's how we target new code a
new development right so the idea is
you've got lots of code out there we're
going to target we're going to
prioritize someone at the mic yesterday
asked how do you know what to do first
well that's how we're going to know what
to do first right and at the same time
you heard it from the man from the top
bring in process change ok so no new
features go out no new products go out
without ipv6 in them ok now that's not
going to happen overnight but we've
already got you know VPS of product
lines signing up for that so I talked to
blog about deployment strategies we have
tailored deployment strategies that
drive our development tailored to the
markets that we serve we serve lots of
markets ok here's five of them that are
important service provider at the top
right we got to get the users connected
content of course frankly content we're
watching you we're watching Google we're
watching Facebook we're doing it
ourselves right that's how we're
learning what to prioritize and we know
we've got some holes there public sector
public sector we've got the lists that
Thomas talked about right they are very
clear what they want right but you've
also got smart grids and the sensors and
these kinds of things it's a it's a
different market because they are so
clear in their ipv6 requirements in
enterprise it's a little bit
I'll talk about that at the end right if
you can think of a public sector as
enterprise that kind of overlap and
finally in consumer as well we talked to
an Eric think here talking about what
we're doing on the cpe side but it's not
just that it's also the consumer
products I don't have time to talk about
all that but we're looking at it across
the board on the service provider side
everybody knows this chart right but
this is the one that got people moving
about a year or so year or two ago on
the service provider side it was it's
the highest peas that are deploying ipv6
okay this chart not all that scientific
it was done by Ralph drums he basically
ran around the company to all the SES
and said if your customer has a date for
when they're going to deploy ipv6
whether it's a trial or production tell
me what it is and created that chart so
you can just kind of see the the plans
for for ipv6 deployment and that drives
things like this carrier-grade v6 so my
friends over there helped work on it um
this was launched last last October and
it's really about what to do with ipv4
exhaustion very similar to the work that
you see in the IETF you've got soft
wires on the bottom you've got behave up
here at the top with you know a large
scale nap v Porter v4 as well as before
to be six why did we have to do those
kinds of things right the one of the big
reasons at least on the wire line is is
this let me actually flip to the next
slide that the big red thing here and I
presented this exact slide at a right
meeting year and a half ago or something
like that and it hasn't changed much in
the industry the access networks
particularly IPO II into one VLAN were
designed very ipv4 centric mindset the
the these are supposed to be layer 2
devices but they're not they're layer
two and a half right and ipv6 simply
just doesn't work
this it we went through a period when
they mentioned it yes yesterday when we
were in the PPP world we understood
multi-protocol then we forgot and we
rolled out all these new IPO e-type
technologies and didn't think about
multi-protocol and now in 2010 and going
what do we what did we build oh my right
now I said the PPP stuff kind of works
right because it was designed back in a
time where we had multi-protocol what
does that mean to get ipv6 to the home
how are we seeing ipv6 getting to the
home one to one VLAN IPO e naught into
11 to 1 so it's just a point-to-point
link this works dual stack PPP works
reasonably well as well ok there are
some problems in particular you heard
some of this stuff yesterday with
respect to the wireless you also see
this in wireline where you end up
enabling when you enable ipv6 you end up
with double the session count and this
is insane ok sessions user sessions
should be per subscriber multi-protocol
in the architecture in the way you sell
the equipment and buy the equipment in
the way you operate it the idea that you
have to have pay for to subscribers just
because they're using two different
stacks is it is really painful to ipv6
deployment oh yeah and the other one my
last two favorites right not really
favorites l2tp we actually see this used
a lot it was identified in the
software's working group as as a
preferred transition mechanism it's
really good for when you need to spawn a
tunnel from behind an ad 6 rd you heard
a lot of service providers adopting that
as well one of the reasons is because it
just provides that minimal Delta over
ipv4 into in order to get ipv6 deploy
speaking of that hear me talk about free
telecom a lot there I like to think of
as my personal testbed in Paris they're
wonderful to work with their lot like
Google they just kind of that's a good
idea let's do it
and that's how I get my ipv6 in Paris
using 6 rd up until oh I forgot to put a
traffic slide in here guess what that is
alright this is straight off of their
stats right from their six rd deployment
and one things changed it's running on
cisco gear now instead of their linux
based implementation they've moved it
over to our ASR 1k running in production
with their traffic and that's going to
be commercially available next month in
our inner in our lease eight or whatever
it's called of the ASR 1k you can go out
to the store and buy it and set up one
for yourself this is the ping party it
was a lot of fun going in there and
setting all that up these are that's the
happy Cisco account manager that's
really this is this is Ulla he was
supposed to physically be there but a
volcano a cloud got in the way so we had
to bring him in over Skype and I got to
do the fun part which is the port of
champagne this is in Paris after all
quick moment on dual-stack light okay
you hear a lot about dual stack light I
hear people talking about dual stack
like makes ipv6 easier dual stack light
is ipv6 heavy it's a wonderful idea for
the when you can run your ipv6 network
native ipv6 to carry the ipv4 over after
right think of it as less ipv4 to enable
L I T E ok its main purpose is to turn
off the ipv4 so deploying I do double
stack like before you're able to turn
off the ipv4 is jumping the gun a little
bit it's a little bit backwards and I
see people rushing to that when they're
not able to turn off the ipv4 and and I
worry about that a little bit on the
mobile side we've got all the standards
and it all just works you heard
yesterday from a couple of mobile
providers when Cisco goes
out and buys a company from the arc
central architecture group ipv6 group
did I work in we kind of step over and
go okay let's see how their ipv6 is it
was fantastic with the star it guys you
know they even had the stories of oh
yeah when we tried to deploy it for this
service provider in Japan seven years
ago and we wrote all this code then they
didn't do it earn but you know they've
been at it for a long time they're
following the standards and they've got
good they've got good stuff so here's
sort of the transition I alluded to it
with six rd with DES light okay you
start out all the colors are horrible
here sorry you get your double mad in
here if you need it for your exhaustion
hopefully you will hopefully you won't
if you can do dual stack fine if you
can't something like 6 or D something
like lttp and then eventually you flip
it over and you end up with dual stack
line okay but notice all of these things
are basically dual stack every single
technology there at the end of the day
the service to the home is dual
Stecklein a little short on time so I'm
not going to be able to talk about this
in detail the this is the this is what
everybody wants when they first start
thinking about okay I'm gonna deploy
ipv6 I want a translator and when we
when we chartered this work where do you
go when when yari and I worked really
hard on the this meeting in Montreal
drew up a big circle ipv4 internet ipv6
internet translator and everybody in the
room was like yes that's what I want but
it's impossible okay and so what you end
up having to do is break it down my ipv6
network to the internet or my ipv4
network to the ipv6 internet in this
direction or in that direction maybe you
can state you stateless maybe you can
use stateful it gets a bit complicated
okay if you have a very controlled
environment and I applaud the efforts of
t-mobile that the discussion yesterday
if you have a controlled environment
where you can really watch everything it
becomes viable right but as a general
service like a subscriber line into the
home I'm going to give you an ipv6 only
it's a it's not an easy thing to do
today dual stack is far more viable
right now bit about enterprise
deployment if I can how am i doing on
time five minutes so I had two different
market segments that was service
provider I want to talk a little bit
about enterprise there's anything that's
core to cisco's business we we have a
lot of effect on how the enterprise
deploys things it a number of our
forward-looking enterprises have been
doing ipv6 for some time I like I said
we're constantly in telepresence with
you guys talking about your ipv6
deployments and parading all to be the
PM's and business units in front of you
and getting knocked in the head um but
how are we going to get to the how we're
going to cross the chasm right so a most
of the enterprises that we work with
today have some sort of mandate or they
they're there they have a bleeding edge
visionary mindset but how do we get to a
mainstream I think this is sort of a
picture of how the mainstream enterprise
is going to be affected this slide is
from a forrester research study or what
have you I've kind of populated with
with my own favorite little icons but
the idea here is we've got web enabled
devices cloud-based services consumer
software the consumerization of the
enterprise as well as the borders
breaking down and when you take that and
you look at it you realize how much
stuff it's hard to see in this there's
lots of stuff green there this is all
stuff that is either ipv6 now or they
made a public statement sometime in the
next six months is going to be ipv6 so
your enterprises have devices coming in
the cloud service is turning on etc etc
the borders breaking down and there's a
push and a pole right so as the internet
moves to ipv6 to enterprise moves to
ipv6 and perhaps the deployment strategy
looks a little bit different for the
mainstream versus the early adopter and
so our prioritization might look a
little bit different for example we
might prioritize towards the
internet presence first instead of just
the routers switches core routing
routing and switching core or what have
you right but that's one thing that
we're looking at now we really think is
going to be a major trend so reaching
functional parody again talked a lot
about a foundation implementation
strategies targeted development ipv6 by
default the ultimate goal was a quote
from John Chambers right there so all of
our devices all of our applications all
of our services questions i did i'm
charles perkins from y chorus i noticed
you said that you had stateless v42 v6
net and he characterized more I guess
stay fuller more a general approach to
that is infeasible because there's not
enough before addresses to cover the v6
address space but there are no I never
you know my question and I just wonder
if you would be willing to soften
infeasible to let at least not yet
standardized our exploratory because you
know there are results that show that
it's at least somewhat feasible and
there's a flavoursome on even though
that I VI which characterizes a
stateless you can have dhcp based I VI
and you can have some other gradations
all the way into this source IP net
which gives you a really good let's say
reuse of the v4 address but that you
might have signed to the nads yep and
Dan are we looking at that I've been
talking to last time I talked to that
about that was about a year and a half
or so ago is it the same idea some say
my deal with you might say plus plus
because it turned out there are some
additional with we have deep packet
inspection and if you use that you can
give some experiment well I'll just say
one hundred percent accuracy on the
translation from before to v6 okay one
hundred percent accuracy you off to tell
me exactly what that means
if I remember correctly the limitations
you end up in this situation where it
still kind of depends on what your IP
distribution is the dresses that you're
reaching and the dresses you're coming
from and if you get lucky then it works
great if you get very unlucky it could
break down but therein lies statistical
multiplexing right so that isn't to
explain it fully would take longer than
you have and I have right here that
would have been my lightning talk
yesterday but but suffice it to say I
think that it has advantages and
disadvantages and the advantages that it
eliminates that word infeasible from
your slide alright and the disadvantage
is like getting that it's not perfect
it's not perfect right one of the things
that that well yarn and I when we were
working on this struggled with we
started out this chartering of the nat64
Heinz adopt as as let's just do it for
these cases and then the world pushed us
into the general and then we chartered
every iteration and then that's Dan
slide he's telling me that's what behave
is focusing on which is you know like
instead of every possible iteration
something less than that to get a focus
right so that as far as i know for the
roadmap talk we're following what Dan
tells us to do from the behave and but I
understand that there could be you know
plus pluses to this and ok we'll see yah
react so it's us to respond to Charlie
as well I of course you can do many
things you can we can cover all possible
combinations and network situations the
question is not just theoretical it's
also what do we need to do or want to do
and we're in my vendor hat now for a
moment I I see a lot of demand for a
case case one on Mark slides here but
the other stuff is not not not in so
high demand so that that sends one type
of
Mehsud's my I Matthew from in tonight
we've we've got a global net yogi a
whole bit what's at loadmasters you
paint runs a pleated wrap intercom
behind and can you tell me what went
wrong there very fair you know our
weaknesses arm for this WWD cisco.com
i'm only one user not a problem Manning
I believe that we will be having an open
source SLB solution in the interim until
we have our ace products able to do ipv6
load balancing and that won't come until
second half of next year it's on the
road map it's committed we have some
historical problems on the platform but
they're being addressed as rapidly as
they can new hardware is required the
new hardware is available in testing so
on and so forth but it's going to be
next year before we have the the server
load balances on the ACE platform and
there you go but that's better than it
was was even further accelerated it to
that mark hi hi so I'm sure lots of your
customers that I deployed v6 have
already happy for networks they do
things for their business like collect
net flow for peering decisions or other
business decisions or security reasons
how do i get v6 content and net flow and
when can i do that on my fancy ASR 1000
the families are 1k i believe it my na
yes released nine ten kumar's telling me
which is like in love this year end of
two thousand and if not now right
indicate doesn't I'm deploying now
though I'm sorry so my business is you
know at risk while this is happening
right tell me we all knew we needed this
data right hey I know you're not that
guy
but who is your right alright so today I
collect net flow off my v4 network and
it tells me this IP address talked to
that IP address with this port and
protocol this much time but why would I
want to do that now the next guy is
gonna have to pull it down so I want to
be able to do the same thing in v6 right
I need to know that this v6 address
talked to that v6 address you you know
through this yeah just right straight
NetFlow data but you know 128 bits for
addresses instead of 32 which is IP fix
right you can do it on Nexus now on
Nexus great right you can do it on Nexus
and i have i have gs ours i have that
fancy crs-1 that i put a new sticker on
to make it a crs three you know okay so
I mean it's a I make him a joke but but
the point here is that the businesses
have needed this functionality for the
last 10 years the vendors have known
that v6 was coming and the IETF declared
it sort of a baked and done product when
they disbanded the v6 working group so
this is all you know it's all production
grade right and I can run my business
with this right but I don't have net
flow so I can't so there's yet another
barrier to deployment right or at least
right so I I guess all that says it's a
fair point and I think different
platforms in cisco have are in different
stages of their roadmap and um so that's
the only thing i can say about it that's
been hardware so right so i think as a
as a feedback to to cisco in this case
and i'll repeat this exact same thing
when juniper comes to talk but instead
of crs 123 it'll be a t6 42 to 1600 so
not it's not quite a sticker upgrade but
um the point is that everyone who is a
customer of these vendors really ought
to be saying the exact same thing which
is hey my business needs these things
just like my enterprise business needs
dhcp sort of equivalents for v6 not not
your platform
anyway thanks yeah can I get give me
give me give me just a line here and
keep things kind of quick cause you need
to get on to the next presentation yeah
actually I'm done in terms of time we're
eating into Dave's time now Jimmy can I
so talk about procedure for 10 minutes
Jim they can ask his question okay how
could you go to the tried showing the
transition from not 40 40 to 60 D then
there's something uh yeah so in terms of
roadmap if do you have any prawn about
these things ah sick Sergio projects are
1k next month on the CGS he played the
CRS later this year uh-huh dual stack is
available on it for PPP and 11 b lands
on Ras or 1k today I mean this is just
off the top of my head right that's the
bng platform that we have the dual stack
light is further up north pacific from
what I mean it so its roadmap okay okay
but yeah the six RDS is is is more solid
on the platform you so you're targeting
and yeah okay first sorry Dave I mean
I'm happy to sit here just quickly i
guess i wanna cook Christmas common it
that I think we have to be careful when
we talk about the roadmap and fish and
it's not all to Cisco back to the
vendors and general that we build the
feature set to make something deployable
because a set of discrete features it's
not necessarily gonna gonna push a
product out and we've running running on
to that I guess not flow is one case
Galea is another and so forth so it's
very important to pay attention to the
collective set of features to make
something deployable not discrete
features yeah when I talk about the
deployment strategies we identify a
deployment model and identify those
features within it that's the idea I
mean not every model is addressed it of
course I that's absolutely
yep Randy Bush i J luckily when I use a
road map when driving it actually has
real distances on it and and and when
you say that hardware issues what I hear
is you haven't started spinning the
frigging asics yet and minimum three
years the past hardware issues and I
also said the hardware is already
available and we're putting the new
features on I don't know the details
Randy my detail okay good I can find an
engineer that does you should join our
development council is that all thanks
thank you oh this sure Dave Ward hello
everyone good morning I see you've all
had coffee thanks mark thanks a ton
appreciate it yeah I'm Dave Ward
recently to juniper and I was one who
put the sticker on Chris's new router
but anyways actually if don't mind mark
I'll answer Randy's question actually t
cams on the big boys 144 bits one so big
boys won't always help a big boy router
so it always helped everywhere in the
network but anyways it's dead today I'm
going to talk about what's going on at
juniper now perhaps not so shockingly
the general trajectory of trying to get
all products in the portfolio running
the same feature set is the same general
mindset that we're trying to accomplish
as well but because there are 42 million
things in the order book and because
there aren't again 42 operating systems
that need to be worked on at the same
time things are a little bit different
in how the strategy actually ends up
rolling out basically although I can't
channel JC himself to speak to us today
in any kind of movie basically the same
strong commitment to try and build both
ipv6 and transition
knology where we're going to end up in
this talk is that we realize that
getting v6 out requires that there's
coordination with the deployment of this
transition technology at the same time
in addition you know v6 is clearly
commitment with respect to seeing new
features rolling out in every every
single feature across the portfolio as
well also there's a bit of a different
mindset with respect to the duration for
which Hardware generally is is being
supported and really what I'm trying to
say is that the perhaps faster pace of
upgrade of hardware and the ability to
roll out asics again because there
aren't 42 million items in the and and
different variations of these platforms
that need to be maintained rolling out
new asics for these for these platforms
and reuse of these a6 across platforms
you see perhaps a little bit more of at
juniper in addition what's critical in
our mindset and trying to create this
ubiquitous service is that in fact the
end-to-end services across the portfolio
are available similar to what Chris was
talking about or nibbles just talking
about as well so let's just jump into a
little bit so what should be obvious
from talks that were discussed yesterday
sorry is that there's basically a couple
of conjoined strategies that need to be
discussed one is the transition strategy
on how to preserve v4 and v4 access and
the other one is of course attempting to
deploy v6 now what's interesting is that
even the technologies that were
discussed yesterday with their six rd or
dslite again do require a cooperation
with CG ends and envy for transition
technology and what I mean by this is
that you've seen over and over again in
the presentations and even the
presentation we just saw that cgm is
embedded in des light potentially or is
also potentially embedded in the in the
six rd deployment so it's critical to
understand exactly how they fit together
and exactly the scaling parameters of
these different building blocks that
need to be put together so in essence
and the bumper sticker version is that
trans
technologies whether their translation
encapsulation or what have you are being
built as building blocks that need to be
able to be put together in various forms
in various orders as are necessary as we
begin to learn and understand how to
deploy this technology so the toolkit
that we're looking at again is a bit
different the size of the organization
is no more than 10 times smaller than
what Mark is trying to organize with
respect to his technology to roll out so
we're able to potentially move a little
bit more nimbly as well as potentially
move towards some directions where we're
not sure or the industry isn't sure if
they're all potentially going to work
out not saying that we're living in the
research realm but we are willing to
experiment a bit there's others and
print we heard presentations yesterday
of others who are willing to experiment
in new directions to find out which are
effective transition technologies which
are effective ways to deploy v6 so on
the three axes that I put up here
there's no doubt that depending what's
attempted to be accomplished and again
we're looking at everything from
translation back to transport Corps
these bits of technology are things that
we're currently working on that are
currently available and so yeah it's the
laundry list of stuff that you typically
see but perhaps even a few extra and
we're going to be rolling out a number
of these different pieces through time
now most of what and I think everything
I've put up on this slide right now
except for the A+ PPC PPS is actually
available and so we're absolutely
looking and trying to understand at how
v6 and how transducer technology is
going to deployed it will talk about
some data that we've collected off our
boxes at the end so some assumptions and
I think these are the same assumptions
that we just that were discussed
yesterday as well as most people have in
this room is that what are we doing to
get v6 but we need to keep subscribers
sorry I have a meeting in 15 minutes
that I won't be able to make that we
need to be able to continue to bring on
new subscribers particular wireline and
wireless of course also regions outside
North America and Europe obviously don't
have access to the same v4 address pools
and therefore need to roll out
b6 and Brazil Russia India and China
certainly come to top of mind of rapidly
exploding use of the internet and rapid
advancement of a large number of
subscribers being added as well I think
what's obvious in John put up some stats
from the work that they've done it
comcast what's critical to understand is
that today even with marks singular
advancement of the technology and being
able to use v6 Cisco 0.15 percent of the
top 1 million websites in the world
today have v6 access so there's we still
need to obviously realize that even if
we make all of the endpoints dual-stack
the global Internet there's no games
there's no gambling there's no girls
there's not a lot of places to go so the
v4 access needs to be maintained through
the different types of transition
technologies or translation technology
clearly something to understand is that
v4 addresses aren't going away just
because you can't get / eights instead d
aggregation is going to be something
that needs to be handled and I heard
some talks yesterday we know some
technology that needs to potentially
roll out obviously rise of middleware
boxes we talked about the port
connection protocol and the control and
interaction that's going to be necessary
to these middleware boxes as well as the
middleware boxes that we discussed with
respect to firewalls gnats and other
devices that that are there the last
thing that I think we're going to find
out is the next stickler even beyond
netflow chris is going to be that CPEs
need to fundamentally change and there's
a whole lot of tens of millions if not
hundreds of millions of cpes out there
that need to be upgraded that need to be
modified there's going to be deployment
decisions so if you notice and Mark
slide with v6 is turned on by default
transition technologies are going to be
turned on by default by the cpe vendor
you now have an incredibly important
deployment decision to make of how to
handle the policies of which of these
transition technologies you're going to
be sending out into dhcp advertisements
and how you're going to be handling the
the opportunity for your customers to
all by different devices if you aren't
running manage CPEs therefore what I'm
trying to say is that when you go down
to frys or best buy and you pick up a
cpe
are what are its defaults what are you
gonna be advertising to HCP are you
going to have a symmetric traffic
running in your network interesting
problems that we're going to be
discussing next year here hopefully so
it's a little bit different from what
we're doing at juniper versus at Cisco
is that there is still one operating
system that's running across a product
line at least the part of the product
line that we're going to be discussing
here so running out of time you have the
slides I'm not going to page through and
read all these bullets but these six and
junos has been around for a real long
time deployed in 2000 2001 operational
tools forwarding forwarding capabilities
that line rate in MX M&amp;amp;T typical routing
protocols that you'd expect with pop
with full policy enabled basically
extremely close to parody of v4 where
it's possible same thing with multicast
one thing that's that's a little bit
different here and I call it out in
yellow and it's actually a challenge for
the industry is that the entire routing
that similarly control plane and junos
as well as the rest environment isn't
actually necessarily completely defined
for how to work over v6 and certainly
hasn't been implemented not only not
implemented by juniper but by other
vendors as well so I've called out here
that the mpls control plane is typically
the most challenged one with RSVP as an
example or potentially ldp so that means
that the current most widely deployed v6
transition technology which is 6pe is
running over vie for control plane if
you're running it you know that if you
attempt to run the entire control plane
over v6 industry wasn't there yet on any
front one thing that's interesting i
mentioned this extremely quickly on the
ASIC slide is that the ASIC evolution
that we're building is attempting to
enable not only of course v6s have been
in for a long time but move the
ubiquitous features that we're currently
seeing which includes the six RDS Nats
translations etc directly into the
forwarding plane tunnel cards tunnel
picks which has been alive and around in
juniper routers and all routers for very
long period of time are again
centralized forwarding engines inside
outer of limited bandwidth in limited
scale and now that these features have
become ubiquitous move them into the
generic forwarding plane of the routers
themselves and that in in some in a
bumper sticker is the general trajectory
forward move things that we can into the
forwarding point but as long as I'm
talking about tunnel cards what's
interesting about some of the work
that's been done on the tunnel cards are
perhaps some features that some folks
are excited about and other folks are
interested in investigating in
particular NAT 6 that's six state sorry
v6 NAT v6 stateful firewall NAT 66
exactly but what's interesting what's
interesting about this cool eh is that
theoretically we know that it's got pros
and cons practically we still need the
experience to be able to do it and as
you know if it's only software and
writing code on this is only software
let's find out how it actually operates
in the network or in experimental
networks if you want to interrupt you
know a chlorine dear product manager
nat64 is not available opcode available
today doesn't necessarily mean it's uh I
didn't mean to connote for those three
that it's in a shipping release but
that's fun Lorenzo 6 rd is also I think
a year away or at least as I was told um
on ma on MX it's available to some
people no no even you Lorenzo if you'd
like so what's interesting is that
there's a second approach and Mark
didn't touch on this but it's something
that has been discussed a lot in vendor
space because it's an extremely
challenging problem and the challenging
problem is how much a che do you need
for this transition technology we've
discussed in the past at this conference
and other conferences taking a look at
and we're going to discuss even in my
talk what is the average number of
sessions that an operators using what's
that what's the rate at which this stuff
comes on do you have to open up a
million sessions per second can be a
hundred thousand whatever the case is we
don't actually know that much about how
our networks are actually functioning
and certainly the session statistics
associated with our subscribers so it's
interesting is toss up the SRX which is
a which is one platform
minute goes from very small versions or
small versions to very very large
versions but what's different is that
trading off scale with a che the scale
numbers that you can see here up to the
tens of millions or over 10 million does
include staple redundancy and so what's
critical is we understand how the
sessions and how our subscribers are
using the net for which I believe we
have very little information where it's
been a long time since since we've
looked at this again we need to
understand exactly what this is going to
mean do we mean do we need full a che
and all these sessions in this
particular case it was easier just to
solve the problem which was do full a
che and be done with it but we might
find that things emerge if we continued
along with centralized technologies so
the SRX is the is again the service
appliance it also has a roadmap and it's
moving down this chart of what's
available today both in product and some
in in the top prototype and then moving
forward and what's what's going to be
available heading down the path of
making sure that enterprise endpoints
have the services they need the security
the firewall the intrusion detection etc
that's necessary to be able to deploy
this stuff as Chris was saying in the
bill was saying extremely valuable point
not only our potentially now that not
potentially are all the operational
tools not available but if you can't
plug in your lucrative customers or
important customers with the technology
that they need they are not going to be
able to transition for an extremely long
period of time so it's interesting is
that the SRX is the transition from the
screen OS which is the isg platform
which actually has all of this enabled
today at scale and moving it over to
junos so again we're trying to get to
the point where there's a ubiquitous
feature set of all these features across
the operating system mark brought up a
very interesting point and I'm going to
power through some of this so that way
we have some time at the end to talk
about the necessity for ipv6 subscriber
termination so today you can get ipv6
subscribe determination on juniper boxes
including the MX we've got a large
number of pages what Mark mentioned
which is
uncle and I'm not going to walk through
all these what's critical to note is
that he mentioned that a subscriber
that's running v4 or v6 must have the
same object construct in the operating
system both for billing for management
as well as just for general overhead
thankfully that's the way the
architecture works today and so
therefore you're able to roll out v4 and
v6 subscribers not have double the
overhead of the overhead sorry w
overhead on the operating system itself
in addition the way the architecture
works is that the features that are
available for v4 subscribe determination
are available for v6 subscribe
determination so if you take a look at
the the be res that's currently being
shipped on the MX terminate v4 terminate
v6 toss in the tunnel card and have an
at enabled encode that soon available
off the beyond just prototype an early
beta release for 6rg for DS lite for
these different things put together
these pieces in modular ways so we can
find out exactly how to roll out the
maximum number of our subscribers you
can read these slides at your leisure I
I don't have fancy pictures but i'm
going to page through it because as
mentioned in due time okay so I've got
my dark slide with odd colored fonts so
that it's eligible as well but it's my
only one so with a point that I'm trying
to make here is even though you have
modular pieces that can be put together
with their encapsulations translations
or other different ways of terminating
subscribers having enterprises your
vendor here is to remind you as we've
all been discussing over the last couple
of days there are things that we know
work and there are things that we know
don't work it's my highest
recommendation that you don't attempt to
deploy the things that we know don't
work so we know for example and I kind
of started off this talk again a mix and
match of technologies is critical to be
able to deploy any of this stuff that
Max and six rd we can handle v6 apps we
can everyone say the network can handle
not just herbs but they never can handle
v4 apps v6 apps duel stacks everything
you need to do
with accommodation these technologies
why because it's a combination of v6
access technology as well as private v4
addressing but not 64 is going to be
fundamentally limited your v4
application is simply not going to run
over in at 64 perhaps this is this is
overstating the obvious but it you
really need to understand that nat64 is
a solution for only specific network
environment it's not a pic with solution
perhaps again that's a overstating the
obvious we know that any combination of
for the wireless world again a v6 access
technology and translation technology is
going to be able to work depending on
the mix and match that you want I'm not
here to argue about which encapsulation
is the better encapsulation frankly we
don't care in implementation we're
putting all the encapsulations in almost
all the encapsulations do you know but
also with wireless combinations rolling
out nat64 again you're going to be
stymied on some of your some of your
legacy devices or if you want to think
of v4 applications which are the
predominant wants legacy applications
again if you're only rolling out v6
handsets you're going to be caught
roaming in other difficulty roaming in
other worlds again perhaps overstating
the obvious by putting the two together
tethering your laptop to your new mobile
cpe which is your handset it's been run
into the same challenges so remember all
the different network combinations of
ways that people are seeking access out
of the network need to be related back
to the different combinations of
technologies that can be put together
for ubiquitous access for all these
subscribers so I'm going to finish now
with a bit of data and although this
we're going to we want to talk about v6
I really tried to hit home that it's a
combination of these technologies that
are required even in six RD&amp;amp;D a slight
which is give us v6 access has
translation technology that's available
so let's look at some more data that we
took sorry that we collaborated with a
provider in in Europe directly off of
our devices just to take a look at the
order magnitude that we're talking about
what's interesting is that as I
mentioned we don't have a whole lot of
data about our subscribers in the
sessions and how they use the network
therefore when it comes to comes time to
talking to
solutions engineers are attempting to
provide a solution for how many Nets do
I need how many border relay gateways do
I need how many total concentrators do I
mean it's extremely difficult needless
to say your account manager is going to
say you need a gazillion of these things
but it's much better to understand
exactly how many you need where you need
to place them and how they're going to
interact with the rest of the network so
relatively recent data small font may 27
2010 2 jun 3rd 2010 the total number of
flows so you can see how many zeros
there are here place commas in the
millions and tens of millions and you
can see of course that it's spiking you
know time of day type stuff and you'd
expect flows per category in different
colors what's interesting is that we're
looking at the top the colors maybe a
little bit challenging but the top one
that's going up and down that's the
latest colors UDP and you can see that
it kind of skews the rest of the metric
because everything else is fundamentally
at a different level which includes web
peer-to-peer gaming I am and other TCP
so it's getting a little bit interesting
we've seen some counter did in the past
about the importance and relevancy of
UDP but let's think now back to the H a
question we've gone down the path of
saying on the SRX stateful switch over
of all sessions each one of these UDP
sessions is consuming that state and
consuming that performance and scaling
it's an interesting question to
understand whether or it's interesting
questions to see if you solution you
need for this next thing let's take a
look at the average flow consumption per
subscriber same rough same time period
this is may 29th to june six relatively
recent that's not that bad sitting on a
net you need to open up 120 hundred
twenty-eight sure you can bump this up
to 256 and double it if you want to have
some Headroom but really the point on
these order relays and tunnel
concentrators whether it's dias later
6rg that you want to plug into a nap
what's the rough order magnitude that we
need to figure out for scaling how big
is that net and how many how many
subscribers are we actually terminating
through their number hundred and twenty
actually not that worried looking at the
flows per subscriber we've got number of
subscribers in this column we've got
number of flows percentage and
cumulative percentage and you can see
that sure there's there's some folks
that in this range right here where you
actually get into an interesting
percentage and cumulative percentage but
nonetheless only a small number of
subscribers have an extremely large
where we're talking about 1k to 4k flows
looking at that application what we're
looking at for UDP which is always a
critical question what are these
sessions again take a look at this when
you get an opportunity it's on the web
on the agenda web with respect to the
UDP ports yeah of course we're looking
pretty much at swarm casts and going out
and finding you know who's got the data
where's the data small extremely small
session flows very few packets very low
bandwidth and then the the data starts
data starts flowing back mostly over TCP
what's not on here is session flow
length or the total number of packets
which is another interesting variable
but there's only so much data that we
can tell us up at this point really it's
going to be interesting to trend to this
over time whether or not these are the
applications these the number flows it's
a flow count going up is the flow count
going down etc and I highly recommend
that folks begin to analyze the networks
in this way okay in my opinion the
medium number of flows is actually low
hundred and twenty was expecting to see
much higher we've had you know over the
years of this conference or the last
couple years this conference we've seen
predictions that the number of flows is
actually you know is it 500 is it 1k you
need to allocate no it doesn't appear
that that's the case the other thing we
talked about was the end of the 505 12
and 1k was do generally to Ajax in you
know the Google Apps whatever the case
that might use various forms of tiling
on the web page to be able to construct
it note that didn't really observe that
right maybe it's because they were
instantaneous and he captured but we
captured all the data it was interesting
to see that we didn't see this massive
explosion during these different events
gaming tirado's
surprisingly popular okay and the the
use of web streaming does seem to be a
limited phenomenon in the world so also
a LG's are in use that we can get out of
our stats and that without having dpi or
something similar just based on port
really doesn't give you information into
the data that's being collected so when
looking at net flow Chris wherever you
sat down net flow is going to be
interesting it's going to tell you
something about what your subscribers
and sessions are doing but it might not
be telling you enough to be able to
understand how to handle the transition
with respect to where we going to place
concentrators we're going to place Nats
how much bandwidth do you need how much
state to need to hold on these devices
so we're going to finish up in just a
sec so the old license required for v6
for attending this conference you'll
even get a discount last so really just
to some Soviet aply shin and D
aggregation of the routing table is
going to occur we're absolutely
committed to building transition
technology and and veep fundamental v6
support in the a6 in the operating
system and maintaining that ubiquitous
feature set across the portfolio and
clearly deploying v6 alone doesn't
address v4 depletion doesn't address
solely what needs to be done to keep
connectivity available but it's
absolutely critical as a solution for
the future thank you very much any
questions when can you get yourself or
xor perfect I don't know that these
talks made me just so infuriated it's
like I don't even want it to some degree
but a general feedback both to juniper
and Cisco's at your support
organizations when I call them and tell
them I have a ipv6 bug or issue they're
scared they don't know what to do
because they're not trained um
double-talking the slides really don't
like that coats not available to me I'm
doing not 64 you know UMTS roll out of
the United States and it's not available
to me I don't know who it's available to
control plane in ipv6 I'm not sure we
need that so much the
the issue is users and content my
backbone links people may be asking for
it but personally I don't see it you put
up a slide about less than 1% of
websites and qua days Facebook Google
that's forty percent of my traffic
bandwidth in sessions so we may you may
look at the long tail the internet yeah
the Internet's really big but I care
about the ones that do the most sessions
and bandwidth so thank you what's chris
first chris go for Lorenzo go for it ok
so um I am you said earlier that we you
know there's no problem in the core
because well there's a problem in the
core but the problem with the edge is
much bigger because all these see pieces
but have to be forklifted and they
actually they don't I mean what what
needs to happen that new users need to
get CPS that do v6 I mean the old
geezers just fine i already have before
dresses that can keep using before until
2050 if they want assuming there's still
any content available to them but if we
do want to accommodate new users we need
equivalent level of support in the core
and on the con side and the access site
for those users right for example i'm
not to come back well they actually to
come back to to the earlier point i mean
if we need to fork lift all our Reuters
to get net flow that's a problem right
it's not like changing cps for new users
we have to rip everything out and put it
back so i know that their security folks
here that that are you know very anxious
to get information about who who's using
the network right and and we don't have
an answer for them so there are problems
that we can't just gloss over agreed you
like notable Chris yeah what's up it's
interesting using your slides actually
you know the capacity planning
information that that you also would
want out of the v6 network right so you
use net flow derived sort of use in
session data very very applicable to
exactly what we want and so Lorenzo's
point about fork lifting this is very
challenging I mean at Cisco
oh you know we were or Cisco folks had
told us for at previous jobs you know
you want this feature you need to
upgrade you know just simply upgrade
this card you don't use this anyway like
i have three thousand of those cards in
the network i can't just forklift those
right i have x number routers in the
network i can't simply replace them so
it and it doesn't make sense to me that
corpus would be required so i should do
well I mean thank you I know it seems
like a self-interested agree yeah so I
think there's there are some customers
or at least one customer who would like
to speak to somebody in the development
group of Juniper about why it is that
the situation is the way it is and how
what we can do to get out of it and then
hopefully juniper can go back and to the
rest of the customer and say hey you
know these features are going to be
available in X timeframe you know short
timeframe hopefully you know some code
upgrade is probably fine everyone's
plenty to that anyway but hardware is a
problem so but you know that's right so
see the rest of your organization your
organization being juniper yep thanks oh
I'm we I heard about this netflow V
something that has gets bigger and it's
got 32 bit is ends in it can we do the
same thing or something it's it's only
suddenly little few more bits right so
maybe maybe there's some sort of
irresolvable irresolvable technical
limitation of the a6 of respond but it
doesn't seem that much harder to
implement a fixed frame packet format
that's a little bit longer granted
implementing something like IP fix and
variable length you know tlv stuff
that's a problem maybe the asics can't
do it but you know adding a few bits
here well you know best but it maybe we
can work out a solution that's gets us
ninety percent of the way there okay
while I'm waiting for the computer to
boot and for camara to give me his
slides Ida question about NAT 66 and I
forgot my pitch pork at home it doesn't
that doesn't fit in my car but
I mean please dear God why I mean so
high so I have yet to hear an actually
good reason for announced 66 that is not
multihoming I understand multihoming is
a critical problem that needs solving
but otherwise mostly they seem to be
situations where people just have not
thought about how to do it in a new way
they just want to do it in the same way
sure but you know that might be the case
where people are confused right but at
the same time when we are in the code
and your and you have an architecture
which allows you to do the same
manipulation on one address family or
another some code is easier than others
to write as long as the hood is up so
also the customers folks are at can you
license hit it like a million dollars
per flow or something just just to you
know yeah Dan so i have a presentation
on nat 66 that will get to do you have a
segue that'll be fantastic I'm glad you
left your pitchfork oh it solves all the
problems you didn't know you had thank
you Dave thank you thanks actually sorry
I was uh I thought he was going to say
something but he didn't it turns up if
you want to talk about congruence and
pietra parity between up you for my PP
six then you don't get to be picky about
what you want to admit because you don't
like it so that's a success kind of a
contentious issue at least for some of
us anyway the IAB issued a
recommendation regarding it but dan if
you have a second I think we're finally
ready sorry for the delay cool alright
well this is great timing um so well
it's interested in at 66 everybody wants
one everybody would like to have one
right so I'm here with two hats I work
for Cisco I'm also co-chair of the ITF
behave working group the ITF if's behave
working group works on NAT I've been
co-chair that working road for a couple
years I have co-chaired a birds of
feather session at ITF where we
discussed doing effectively an at 66
what's interesting is everyone's
reaction din at six sixes I don't want
that we had that same reaction to ipv4
mats we all have ipv4 knots in our homes
there's probably five or six exceptions
here Randy for example of people who
don't have Nats in their homes but you
don't have a residential internet
connection you have a business internet
connection where you're paying for more
than one IP address a lot of people
don't like to do that that's the big
reason people like to have gnats in
their house 802 11 guests come over for
dinner they want to look at their movies
they want to look at their pictures they
want to download their email but neck 66
is different so the purpose of nat 66 is
not to share IP addresses I guarantee
we'll have questions at the microphone
talking about sharing IP addresses but
the only published specification for
Nats
six which is on there at the bottom does
not share IP addresses this is important
to understand so it's stateless it
doesn't diddle with or mess with TCP
ports and UDP ports and all that kind of
stuff and it is stateless so you can
deploy many of them all over the place
and they can do all sorts of good stuff
for you and I'll talk in the next slide
what all that good stuff is and why
people are interested in at 66 the right
way to think about NAT 66 is it rewrites
the ipv6 prefix and it does that to help
out do different things get you onto a
different network the reason that a lot
of people like to do NAT 66 is they
can't achieve one of the promises of
ipv6 which was multiple prefixes because
there's some very specific small
deficiencies in the specifications and
the implementations there's some other
reasons that people like to do NAT that
i'll hit on the next slide but some of
these deficiencies are what are causing
and forcing us to look at doing that 66
so my talk here is to talk about some of
those deficiencies how we can get them
fixed so one of the reasons we we are
using that today in ipv4 is because we
have hosts that only work well with one
IP address ipv4 hosts don't have all
this source address selection and all
these other fancy capabilities they're
generally kind of stupid so the solution
to that was hey let's throw an at in
there and this is one one way to do in
that is what's on this slide here or one
way to deal with this problem is to
throw a net at the solution that we have
a a spit at built mean I don't going to
work this is an equal paper network this
is terminating on the router and an at
going to the service provider so this is
where you are residential subscriber at
home and you have a a router that is
providing a tunnel into your corporation
so this would be a telecommuter at home
and this is how this is implemented a I
this at home a couple thousand other
Cisco people do and we sell this to
customers and this works pretty well you
can add a DNS proxy into that NAT device
as well so that if you are making
queries for boeing com or for Ford com
or for cisco com if you're a
telecommuter for Ford or Boeing or Cisco
it sends the query into the corporate
networks dns and all the other queries
going to CNN com and amazon com and etc
go out to the internet so you can have a
split dns split-brain dns there in the
nap and that's because a lot of hosts
can't deal with doing that themselves so
because the v4 host can't deal with
doing that themselves we do that in the
middle we do the policy in ipv4 if we
simplify that diagram i had in the
previous slide it's really kind of this
this policy controller this thing in the
middle the little router disk decides
does the packet go up towards the nat
and towards the internet or does a
packet go down and it can decide this by
looking at the NS queries for for the
dns proxying function and it can decide
this just by looking at the destination
IP address for all other sort of packets
and then send them down into the the
private network and across the tunnel
over the over the network but the the
host doesn't see the difference between
the complex diagram it was in the
previous slide here in this simplified
diagram my interest in showing this is
this is multi-homing this is the
multihoming that a lot of people say
gosh I never do that I don't have to ice
peace who wants to pay comcast and AT&amp;amp;T
for dsl and cable that's crazy well yeah
you're not really doing that but as soon
as you start tunneling into enterprises
we start doing this and also as soon as
we start having service providers
offering some services but not all we
start doing this so an example is a
service provider doing IPTV or service
provider doing voice over IP but they're
not providing your internet connectivity
so they want some of your traffic but
not all of your traffic and as soon as
trying to get some of the traffic on two
devices in the home like you know a VoIP
phone that runs 802 11 n in your house
or teenage bedroom then we're trying to
attract some of that traffic down into
that private network that's not the
Internet we're trying to get some other
traffic up to the internet so the
problem is how do we do this with ipv6
we want to do kind of the same thing but
we want to do it without this NAT
without this NAT function that we had to
do with ipv4 that's the goal how do we
get that to happen because we can just
put an app here and solve it exactly the
same way because everyone wants feature
parity with ipv4 right except this one
we don't want this feature so how do we
do this without doing it so here's the
problems that are causing everyone to
look at NAT 66 are these really these
three problems and then kind of this
fourth a little nuance problem which is
how to identify a host that actually
supports these new features these these
slightly tweaked features from what we
have today and at the bottom in blue it
shows up in blue in my sights are other
reasons that seem to be very popular for
people doing and considering that 66 i'm
not talking about these today notice i
put a line through the IP address
sharing so we're really hoping people
aren't talking about not 66 because it's
not helpful for that and there's no
suspect no nothing written about you
know how and why to do that for for ipv6
but these other reasons people are
interested in doing that for these blue
reasons I'm just talking about the stuff
on the top in black so let's jump into
some of the problems with source address
selection so the nuance here is that the
RFC that we have and a lot of the
implementations that we have but not all
don't do a good job dealing with
multiple prefixes on one interface and
do a fine job with multiple prefixes on
different interfaces so as long as you
have it a wired Ethernet and why
ethernet with different prefixes a lot
of hosts work just fine everything's
okay but it's the problem is the sub
interfaces the virtual interfaces
whatever we like to call them on
whatever OS we're running don't seem to
work so well and when we pick the wrong
prefix as is shown here the host picks
the the wrong prefix to go to the
Internet senso picks the top prefix the
1000 prefix and sends it up into the
wrong router and goes to the wrong ISP
source IP address filtering will drop
that packet and we want all the ISPs to
do source IP address filtering and they
want to generally they all want to do
source IP address filtering so the
traffic goes the wrong isp now remember
everyone comes back very quickly when I
showed just this slide and says yeah but
I never multi-home I mean that's comcast
on the top and that's a AT&amp;amp;T on the
bottom I would never do something crazy
like that and spend money on two isps
well remember the simplified diagram I
showed before this happens when we're
doing tunneling the other problem is if
I'm connected to an ASP so someone
providing some application to me IPTV
voice over IP something else that's not
really fully connected to the Internet
and it's it's a very similar problem as
before but the there's a subtle issue
here that if the destination address
happens to have a longest prefix that
matches the wrong source address just
due to how the number how the networks
were numbered and and and when they got
there their network numbers we can route
to the wrong place and here of course
source address filtering could cause the
packet to get dropped but even if there
was no no source address filtering
there's no connection from that bottom
network back to the internet so it fails
again another problem is next top route
selection so the previous two things
we're trying to get two networks that
are connected directly to the ISPs here
we're trying to get through a network
we're trying to get through our
corporate network and go across this
tunnel again but our corporation has
partnered with someone else who might be
delivering training H outsource HR
services
is IPTV service as part of the training
or as part of a a feed like a bloomberg
feed or something like that and we want
our packets to go there through that
tunnel the difficulty there is our poor
host way back there on the Left doesn't
know the IP addresses of that partner
network and they'll just take the
default route and try to go up that red
path up through the internet and into
the partner network don't have a good
solution to that other than yeah make
the corporate network also have IP
addresses for all these partners causes
address leakage way we saw this today
that's with NAT for ipv4 so we'd like to
avoid having to do that again for ipv6
and the last problem splits on DNS so
here's where we run and run into some
issues where querying different dns
servers we get different answers a lot
of enterprises love to do this a lot of
asp s love to do this because there's a
feeling that if i if i don't respond
with the IP address of HR dot
example.com I don't tell you the IP
address of the HR server then I can't be
attacked or you know it helped hide my
network and this is just how people
deploy networks a lot of people don't
like it shouldn't have a split-horizon
dns but it's it's there it's how things
are deployed and it's one of the things
necessary to get all this stuff to work
is to have support of this again in the
host we can do this dns product seeing
in the router if the router is
terminating the tunnel we don't need to
have to rely on that we don't want to
have to terminate the tunnels on the
routers we'd like to kind of terminate
the tunnels on the host sometimes too so
then the last problem is let's say we
fix these things the source address
selection the next top rap selection the
split zone dns if we fixed all these in
the specs they're not really hard but if
we fixed all these in the specs and then
we fix them in an implementation how
does the host know that host supports
all these new fancy things or it's a
printer that i bought last year that
doesn't know how to do an
this stuff or it's a host that doesn't
know how to do this stuff windows XP for
example how does it know if it should
give the hosts to prefixes and trust
that the host is going to do all the
things right or know that the host is
effectively too stupid and it's going to
do things wrong and I need to enforce
the policy and by that I mean I need to
run the NAT 66 to enforce the policy for
the host on behalf of the hose because
it won't do the right thing so the last
problem that was the parenthetical
problem i had earlier is i need a way to
determine that the hosts know how to do
the right thing so i don't need to have
that at 66 hold their hand and help them
this sort of outlines the scope of the
new work that seems to be necessary in
the standards bodies and would be
necessary in implementations to get all
this to work so we can avoid doing that
66 for those reasons i listed again i
have those other reasons i listed in
blue that you know are other reasons to
do nat 66 that's a different discussion
and a different analysis for how to
avoid nat 66 for those reasons so the
purpose of the draft that we wrote and
the purpose of my time here is not you
know this is how to solve it but rather
there is activity going on in some
working groups in ITF that is necessary
work so that we can avoid NAT 66 and I'm
here to instill some fear in everyone
consider your pleasure with ipv4 NAT and
your desire to avoid NAT 66 what's
important to avoid it is not to cover
your eyes not to cover your ears and not
to cover your mouth but rather to take
action and help this stuff go forward so
that we can avoid 966 it requires more
than saying no I don't want NAT 66 cars
understanding why people want at 66 and
helping this stuff go forward and
demanding that vendors solve these
problems two questions
it's very quiet you know hi Bob Bob
hindered from checkpoint in we
co-chaired the debuff so um a couple
comments and I senior slides earlier so
not coming on something I asked you to
change I think so the thing you said at
the beginning my home users don't want
nap they just get it and they just want
a network that works there's a bunch of
small home offices that would do it and
large companies just do the you know yet
p I addresses and run bgp and all is
fine before and b6 work the same way and
I think it I certainly agree it's
important that we solve this problem
because it's it'll bring multi-homing to
a lot of people but the other come in
ahead is and this showed up in someone's
talk yesterday so there's there's what
I'm going to call the the way Cisco does
VPNs at least for their employees where
the VPN is done in our router not the
host I think but where will the traffic
is always sent down the VPN i mean i run
a VPN would right this instant that
decides knows the addressing domain of
stuff on the other side of the VPN and
doesn't send everything up that way and
so this some of this problem is a
implementation policy choice it's not a
protocol problem you can because we have
working examples of both things so it's
not necessarily you know and so that
pharma multihoming at least for what I
run works perfectly fine okay I backed
up to slide for and slide for is exactly
the sort of VPN service that I have at
home with the equipment that's provided
to me by Cisco right this is different
than what a lot of people like to have
configured some enterprises like all the
traffic to go into the enterprise so
that they can scrub it for bad
JavaScript there are things like that
but it there's also there is sort of a
policy decision and the last comment is
that
think that some of the problems you
pointing to about you know outsourcing
services if those so if those services
get global addresses so they're not you
know they're not in the same net 10
domains like happens in before then then
it really doesn't the package will get
to the right destination and come back
and then it really doesn't the package
will get to the right destination and
come back it's not just optimum let slip
sliding my nose it's not just optimum
let's look at slide 9 and also slide 10
that X is not there to show that that's
not optimal that just doesn't work aspb
doesn't connect anything it doesn't
connect to the internet so if I happen
to choose the wrong source address which
does happen on shipping major operating
systems we go to the wrong path wait but
so why wouldn't it go why wouldn't it be
connected to the Internet what's the
point it only runs IPTV they are not
trying to serve content to and from the
internet their service is not internet
connectivity they're trying to just do
IPTV isn't that broken then I mean they
should be serving it on the internet
it's IEP you haven't you have an ISP
it's it's the one on the top that's
connected to your house yeah this this
is exactly what happens at ntt this is
also exactly what happens at major cable
companies in the United States right but
it doesn't it just work if that private
cloud has global addresses and you make
a routing decision then it would go
there if you over route and that's a
longer prefix they don't want it they
don't want to connect to the internet
okay but again but I pram an agreement
with you that we should try to solve
these problems not not trying to sweep
them away but caught we are mean we
should try to try to not have to do
everything there's a ways of doing
things that may avoid some of them right
my hope with this presentation is to
show this doesn't just happen with crazy
telecommuters at home but this is
happening with people with asp s and non
internet connected network connections
should sorry about that bow forwards
then you know but anyway and I have a
some minor technical correction you know
you say that not 66 is just a perfect
replacement right but the you know
actually you know we've already taken in
a tried to implement some nap City 66 in
my lab then we found out that I'm you
know we have we should use the mother at
the sermons you know the proposal the
check some free in a conversion you know
then otherwise in a if the packet is
going to be no fragmented you know every
single night to see 66 device in a
master have their liquor curate TCP and
UDP checksum right so the you say that
an ad yeah very simple notion it's just
the perfect replacement but actually do
we have to modify the or Saudi you know
that it needs a very specific prefix yes
yeah yeah in order to be tracks on
neutral yeah or you know it modify the
64 bits you know the interface ID pot so
then we we should talk about that too
that maybe then because that goes rise
is not as a program probable yeah but I
was spending my talk here about why we
how we can avoid 96 not how we can do it
better yeah and and we we can do it
better and there's a bunch of stuff that
we can improve and there's stuff that
when we do not 66 because if we can't
get these hosts changed real soon now
we're gonna have to do not 66 in a lot
of networks yeah that's just it we have
no other way to do this policy the bay
scary have to give a better I really
fully agree with that in your proposal
Anna so that make a new host and I can
accept them to inner / fixes I also they
we really need to think about that a lot
i dobut eyes met I think you know
because that if we simply use a lot
advertisements to give the multi prefix
to the people even all the staffs
deceives the you know new to prefixes
find near natural you know work right at
the specification right so two words the
new house to you you know you know
proposed you know maybe we have to have
the another mechanism to give another
prefix to the new type of horse right
right that so that's that fourth problem
i put in parenthesis we needed identify
is this a new supporting host that
understands how to do all this stuff
right or is this an old stupid host that
doesn't yeah then we have we need ever
about all the stupid the host can
deceive multi proper fixes yeah they
will probably fail but I when given
multiple media to have a very good but
blood compatibility yes a great thanks
agreed so I'm not going to talk about
NAT 66 but I'm gonna need to get the
line did you wanna say some Eric okay so
I'm not gonna say anything about nan 66
but I do want to talk about the problem
it's been proven over and over again
that multiple addresses on host is a
very complicated thing the complexity of
the solution is like over the top ok so
don't change the host yes they have
disadvantages as you stated give them
one single address the one single
address identifies the host ok they have
a locator that's the public internet and
they have a locator that's in the VPN
when somebody wants to talk to them from
the VPN you give them the locator for
the VPN when somebody's global you give
them the locator so stay with the
internet and that's it we have this
working thanks to you suresh krishna I
just had a comment about like one of the
stuff you pushed office like a kind of
not main topic like which is renumber
and I and I thought like the like the
blue topic yeah so our three numbering
seems to be like one of the major
our reasons people ask for not sick sick
so I would like you to put it in the in
the main category rather than a
peripheral category right and and the
reason like I heard for this is that
there's lot of systems that need
numbering which doesn't change when
somebody changes is peace so there's a
lot of provisioning system back-end
systems that have addresses okay so far
so if you put it in the main thing we
can like think about how we can use like
you LS or something along with global
addresses to keep the address the same
and the provisioning systems and
everything so I just wanted to move it
to a primary goal instead of like a
secondary goal okay um uh okay I'll
consider that thanks thank you thank you
Dan quick what sorry one more hey Dan
Steve quick question about the problems
that you're looking at the slides you
have here look take a look at things
from the client or the
you
sailors you have to consider return path
so in the direct access case we want to
have a deterministic path out of the
enterprise is that have you looked at
that problem yeah it's tied into this
this this whole thing because looking
like it's fly date for example if you if
you pick the wrong path going out you'll
you'll even if if you don't get filtered
the path coming back would go up so if
let's say the ISP at the bottom was not
filtering and instead of showing an X
and actually went through is PB it would
come back through is PA but what I'm
talking about is actually the enterprise
edge so needing to and exit the
enterprise in a specific point and exit
the enterprise at a specific point and
have returned traffic come to that same
specific point right for application
inspection that kind of thing yes yes
very similar problem yes I mean imagine
seeking your application inspector down
there at that bottom router and then the
return traffic's coming back it's nearly
the same problem Matt math is a long
time IETF participant and a new hire at
Google I wanted to point out that the
there's sort of an architectural problem
here and prefix rewriting has actually
been on the table for the next
generation IP as it used to be called
for a long time because it was
understood that the prefix the scope of
the prefix is really the organization
not the host and there's an
architectural problem the host has to
know its global prefix and I think
calling it NAT 66 causes more bad karma
than calling it prefix rewriting agreed
agreed completely as an architectural
feature prefix rewriting is not such a
bad thing if we had a way for the host
to know what that prefix was going to be
rewritten to or could be rewritten to
and there's there's proposals for that
right we could solve a whole lot of
problems yes agreed so so I'm not
disagreeing that we should not fix the
other things as well but right but
trying to call comparing it to NAT 44 is
probably not a good thing okay thanks
thank you think you did
yes hi this is a Yoshi knob message from
why I gem today we're going to talk
about the past Emma to discover you
fatal cases also go fast as possible so
as you may know we can use passivity
discovery to take advantage it's a big
size of pocket so this is a path MTU
discovery scenario in general so right
side host want to send data to reft side
force and the host has no clue about
path MTU so the horse send a packet a
big pocket as possible to the net world
but on the network we have a small we
have our links that Emma tu is a little
bit small so the pocket can't go through
the rink the center router and then
discard the pocket and they generate an
EMP arrow and send it back to the sender
and then the host realize the more
suitable path MTU and a listen data to
the network so it works and the kids
icmp so first case incapable a louder
can generate as in Paris or a host can't
handle the S&amp;amp;P arrows either case breaks
path MTU d this is a well-known and
second case filter
the router generate hmp and send it back
to the sender but somewhere the ocean
pier is broked bi-curious packet filter
or karez security policy this is well
known as well and that this is a last
case i'd like to share today so i have
two questions here how often can allow
to generate a shame Piero's and how many
networks put a limit for watching p we
don't have such kind of atrophic limit
in your network but i heard some
networks deployed a shamble a limit in
the network to protect something though
i don't get the point but anyway there
are and talking about originating limit
let's assume on left side we have a
consumers okay can i use a row here yeah
we have consumers and that this router
is a consumer aggregation louder that
terminate pppoe or toenails tons of
tunnels then the user try to access
website on right side so this central
router responsible for generating or
originating as compared to support Pass
em tud do you know you're loaded
performance about this okay here is a
configuration for that and that is a
default value for the limitations so
Cisco router can generate two packets
per second for ipv4
and 10 Puckett per second for ipv6 it's
a little bit small and for juniper they
have a thousand pocket pass second
limitation for icmp but this is a full
whole ICMP so including pings or
whatever i simpiy so is it enough for us
I don't think so so summary of failures
the path MTU d could fail even if all of
given devices support there are a lot of
issues and I feel people consider the
path MTU diaz exceptional wandering
actually we are focused on the folding
performance or routing performance or
whatever but we need to care about pass
a material as well here here's a data
from a production Network so I gather
the TCP syn late on our consumer
aggregation louder so peak is record 10k
PPS and I think in this date listened
cry and support Pass em tud for ipv4 IP
v4 tcp and it looks working it's a does
a little hot enough capability to send
enough action periods probably not
people doesn't users don't rely on SMP
in the ipv4 Network because almost up or
broadband broadband routers have a tcp
ms
och and it chokes TCP mas s on a
tunneling pppoe or whatever the links
metu is less than 1500 and this avoid
unnecessary for box endure it's working
fine no complaint from customers so do
we need similar walk around for ipv6
there are two possible options for ipv4
ipv6 one is empty you notification by ra
so this case ipv6 node can set a smaller
MTU for ipv6 packet but there could be a
side effect this reduce whole ipv6 emiti
on the link so but performance of a file
transfer inside or on the inside of the
link on the link and another one is a
tcp MSS hug by broadband latitude this
works for TCP only but in these days
almost up or traffic transferred by tcp
so it could work my suggestions abroad
well-endowed to implement the TCP MSS
hug for ipv6 as well it's daddy but
still it works I think what Adi bust was
a city and a crime scene you in Ruby
deposit question Sal judgment with
I want to mention about 22 things and
the person is that are from my
experience the are about icmb dropping
that happens not by not always
intentional but from my experience some
myspace are deploying you are BF and the
some ICMP basics error messages hub kind
of AA wrong source address not
appropriate source addresses that is in
my in my case that they use ipv6 map no
I PP hamata BBC sad result so they
dropped those messages at your BF that
should be an easy birth defects yeah
either but I maybe they just a other
vendors and we should fix it ASAP yeah I
think yeah and another thing i want to
mention is that up to about the tcp
issue is ask it's jay the RSC 2923 i
remember our recommends to implement the
empty MSS for buck Holbach if the tcp
connection chokes it recommends to
decrease same MSS to the verb 80 so and
modern overseas right windows already
implement that function so it doesn't be
such a big program right now because of
that function i I guess thank you thanks
Dan so Mars I want to add to one of your
path MTU problems so i think there's no
dispute that will probably be
encapsulating ipv6 packets in ipv4 and
there's probably going to be somebody in
the middle of the tunnel that's going to
want to send a two big message back but
the problem we have with ipv4 is only 64
bits of payload is returned from the
original Datagram where ipv6 did it
better so can you ask the vendors
too I think there's an RFC I Thomas
Thomas might know about it or Bob might
know about it where there was a proposal
for ipv4 ICP two big messages to contain
the entire Datagram that would be useful
because the tunnel encapsulator would
have to do some caching and remember
stuff we have to do this sort of thing
with trace route which is a lot easier
to do if you want to build a cash that's
kind of broken too but with these sort
of path and few problems there's real
live streams of data coming in it would
be nice if we can make ipv4 ICMP two
bigs carry more data in it that would be
really really important okay and if
anybody has any comments or any users
think that's important please come to
cisco and juniper whoever and pound on
this really hard so I suffered some path
MTU problems on v6 for half a day I'm
curious if the statistics and analysis
gathered by Google and by yahoo are
doing any analysis of path MTU problems
I know that there was a problem inside
of Google that was reported on the on
the dot de v6 ops lists like six or nine
months ago but what's more interesting
is where there's problems with all this
is fun tunneling stuff because Nats
that's are great but you know it's this
tunneling that causes these properties
answer not yet we this is something we
plan to do we can't do it because of a
bug in the linux kernel so in particular
if your linux kernel has two interfaces
and it receives a packet too big on this
one and it's sending packets out on that
one it ignores it so we're sending out
1280 x packets so uh we can't we can't
measure it we do have plans to measure
it as soon as the bug is fixed Thanks
it's not gonna John google uh it would
seem that even if now think you actually
works I said it does break it's it's
really slow right if the packet might
have to travel all the way across the
world and get like I mean if it's at the
edge it's not a big problem you can
rewrite my sis or whatever do you think
we
somehow could move this knowledge about
my MD over here is low like all the way
closer to the user for instance just
like randomly say and I'm an SAS option
in HB not sure need to consider but fake
you're icky and I think sure because I
mean you don't really want 200
milliseconds added to every single
connection to a new host right and the
cash in here is single host only yeah it
could be can I respond so what we're
trying to do with Lisp is we're doing
our load probings between the
encapsulator d capsule later we can make
those large packets and do path MTU
discovery at the control plane before
user data packets come and then for each
map cache entry you know what the effect
of the effective MTU is between those
two points okay thanks Long's question
hey my name is Stefan lager home from
secure 64 I have two short questions
comments first of all I'm concerned
about security if if people tell me to
open up 44 ICMP packet two bigs messages
I don't know if I want to do that first
of all there's a bargain in some old
version of Mac OS that crashes the mac
OS if you if you send an ICMP packet too
big that's specially crafted second of
all you know this can be used as a
control channel for some botnets or
something like that you know wake up
million box with you sending out an ICMP
packet so from a security standpoint I
don't understand anybody would do
anything at it other than you know 1280
but but so that's one question at a
question is is this I heard a lot of
talks today about using Lync locals to
do routing between routers and stuff
like that and and can you really do that
when when you have this icmp pack two
big messages going back I mean don't the
routers need a a unique global address
to be able to set to send those icmp
packets back so that's just a question
for whole you know I don't remember who
talked about you know using Lync locus
for link locals for routing but I don't
see how that's going to work in a real
scenario they can have a global on the
loop back in a dress right you sign a
global address to the global unicast
address in the loopback interface hang
on you can assign a global address and
looking to the right okay and that's
gonna work because I mean you get the ad
pack is coming in on that particular
interface it's not coming in a lil you
know I don't know how to how to what
it's gonna work okay Thank You him Thank
You Man last but certainly not least
Kevin Moore son um 510 okay okay 15 all
right all right hello everyone um my
name is say chi camera I'm from NEC book
club oh I'm from Japan um I know
everyone wants to go for a coffee break
so I'll try to make it short as possible
so what I want to talk about today is an
easy big globe is an ISP in Japan it's
one of the largest eyes peas and we're
trying to turn up or all our services
dual stack by down to 2011 and we've
been doing a lot of work turning up ipv6
soon and backbones and a pairing links
and everything but most of our troubles
that we had or that we're having turn up
turning up ipv6 and the access lines
like FTTH dsl is mostly a political
problem for us because we buy wholesale
from like ntt and other DSL providers
but we have our servers and like mail
services web services for sites that
were turning up ipv6 and challenges
there were mostly technical so i would
like to sure the problems in the
limitation of since this is a limitation
session that should call it limitations
that we experienced and that's about
today and just a brief explanation about
big globe its ace number to find 18
we're on hearing DB oh by the way i'm a
network operator i do like bgp
operations and stuff not really a
several guy but i'm going to talk about
those kind of stuff today our main
business is a residential broadband iris
view we have about two million customers
in Japan we have a portal site did we do
w big globe
ap and we also do is be hosting for
enterprise customers and we also make
mobile prices stacee's we just started
doing this actually this runs Android so
I guess that's ipv6 capable and our
plans I just I just said earlier we're
trying to make all our services
accessible via ipv4 and global ipv6 so
um I'm not going to know about these
residential apartment is P stuff and
mobile plastic stuff today is going to
be mostly about servers and application
stuff in the troubles that we went
through so the limitations were
basically three points data center
networking email services and portal
server servers and operational needs
that we have to go sure and here's a
basic IP what we have and our names our
data center network king it's very
simple this is a simple diagram there's
two routers router one router to Iran
vrp there compared with the global
address we have a load balancer and uh
there's servers behind a little bouncer
which I forgot to draw and the internet
is on the is on the top sorry I'm draw
that either and we have a management
network on side that's monitoring and
pulling the routers global addresses as
well as to brrp VIPs so when we turn up
ipv6 in which was several years ago the
first problem we came across was the RP
VRP could only be configured with a
link-local VIP and voila the problem was
the load balancer we had could only be
cannot be configured to have the set
next-hop set to link local address so
the load balancer could not get to the
router and that was as n so no
redundancy and we had we had to go with
no redundancy for a while until that got
fixed and another well limitation that
we had to
get there was we want it to monitor the
virtual IPS but we can do that because
it's displaying clinical so those were
two issues there are many are broken on
mailbox implementations came across um
not be able to set it like net local
addresses next hop is kind of a disaster
i guess and most vrp implementations VRP
ipv6 of implementations only have link
local addresses as virtual peas and I
receipt what I've discussed this with
the slow bouncer uh implementers and
some people told me in that but Darcy
didn't doesn't say that you must be able
to sit next to local address but I on us
and the VR PRC does not mention anything
about handling global addresses it's
basically I think based on link local if
i'm not mistaken but I species expert uh
we wanted to monitor the virtual IPS is
because that's what we do with ipv4 so
we want to do with doc 86 so what we did
was we asked for a fix on the little
bouncer saying we got yes we got him
fixed but we had to get rid of some of
the versions cannot be upgraded as for
vrp we did ask for a global scope
virtual IP to be implemented and I think
it's being worked on right now so how's
it does that's the data center
networking and then we turned up ipv6 on
our servers and then we wanted to put
claw days on him because you know you
want traffic cone come to us VIP v6 so
we try to do it on our portal site and
our mail service these uh waw big Logan
a.j.p and melee club Andy JP mailed up a
club a knee JP is a pop server that
serves those of our customers so we
turned up ipv6 and a lot of things went
wrong really and for the portal site we
said quad a on
the portion of the website and then
instant we saw a five percent loss of
page shoe I think there is a talk about
yesterday about how much how brokenness
would affect you does depend on what
kind of customers you have or how many
how bigger customer base is and what
kind of environment you're in so no
that's the figure we got doesn't mean
another ice P and you can get the same
figure but we got a five percent loss
and the five percent is pretty big for
us so we had to revert it back to race
it qua day and for male we said quad a
on the same domain mailed up a club in
each AP that we were using fruit with
ipv4 10 i am lee said it five minutes
later phone starts ringing and won't
stop and after about two hours we had to
raise claw day again so what went wrong
there the bad ones were the MU is the
mail clients even the highly popular
ones behaved pretty badly with quite
when cadre was fed to them and
enterprises have these customized mail
clients that I work together with other
applications and those just cannot be
fixed that easily I'm not really know
how these customers millages but that's
what people use so that was a problem
and some we did it oh we did this last
October and back then there were still
virus scans that's just drop claw days
and becomes silent thought those were
problems too and I think what really
another thing that really hurt was a
poor poor quality or a walled garden
networks and these distant unmanaged
tunnels wait you know drops things
so those were the kind of things that
went wrong well we knew something bad
was gonna happen but we didn't think it
was this bad but why did we do this
we've been doing ipv6 trials for a long
time we got our prefix back in two
thousand one and we started doing trials
in 2004 and we've been doing lots of
different trials for years and it's just
hard to catch real-life problems doing
trials so we just wanted to stick in get
numbers and you know back out and think
think it over that's kind of what we did
and we've also been doing ipv6 thought
whatever domain for years and we really
didn't have too many problems there so
we really want to test that but that's
not what were we after so we wanted to
test what can happen if we put ipv6
quad-a on the same domain as we have on
not be before and testing a site that
has millions of pageviews per day does
give an actual figure so that's kind of
what did and with um so we got ipv6
running on our services and I got a
chance to talk to her people from our
NOC that's those other people that work
24 365 monitoring your servers and
routers well they gave me a lot of
complaints there to say modern targets
have nearly doubled that means they have
more alerts to watch out for and more
things to check out when something goes
wrong and log blogs are nightmare
because I just represent representation
is very different on different
implementations like for example here
the address on the left and an address
on the right are the same mean the same
addresses but you know when you grab
them they're different didn't they don't
come up and also many tools still are
not ipv6 ready especially it wasn't that
cost money open source ones are really
working fine for us but the ones that we
paid for it manually fixed yet and also
difference in commands have been
troubling these are not
people for example the we want to check
out MAC address of a neighbor you type
our pie for Nate for ipv4 Linux says ipi
56 naisho that's a very long command and
freebsd says NDP I've hyphen e and kind
of hard to remember all these canals
when it with ipv4 is just ARP so a
person is still not really that easy but
things are getting better for example
the log parsing um there's it's the
drought rotors off it's in the rci
teachers q I think it's going to be post
pretty soon and most open source is run
pretty good ipv6 sex I think we need
more work on those ones that cost money
and also a better operation quality
needs better service quality so we need
more operational practices that's what I
think so here's a summary of the lessons
that we learned broken implementations
are still out there we need to get them
fixed especially the commercial the
first way we need more of them abyss
forces have been doing really great and
deal stacking over a single domain name
is what we're after and that's going to
reveal all them so i kinda want to try
it out and see what how many percent
problems that little have and also
operational issues i think should have
more focus and I think this draft is
pretty close written by Brian carpenter
and shen jen so it talks about is peace
na rios in turn up ipv6 what RFC stay
should read it what problems they would
come across and those kind of that
stories need to be shared so they can be
fixed and i think that's it thank you
questions yeah yeah I know
oh this one yes yeah I just curious
about what kind of problem with Corey
this is about the Pope crying right yeah
yeah so my general understanding that
there should be basically nothing
special about quadra for this type of
application that generally youth yeah
generic reservoir library was something
like that so that should be it should be
no different from other normal
application like we brother something so
I was not sure what special in mua in
this case um I can't yell out names in
the microphone right now so I can kind
of whisper it to you later on but um
there is a difference some male clients
get fed quality to stump ah when it's
pretty if it works perfectly fine would
that be before but we went okay so how
about the exist yeah it exists and it's
you're probably probably know to say
when you start trying a lot of male
clients last two questions oh but father
so I'm Bobby ended so the thing you said
earlier about verb and load balancers or
something uh well so yeah I mean so if
the load balancer that load balancer if
it can't talk to a link-local address is
completely broken yes because all of
neighbor discovery works with link local
addresses and so it is that there's
nothing wrong with burp or anything like
that it um there's nothing wrong with it
but it would be nice to have a global
virtual IP address with along with the
link local I mean well not asking for it
to be a must divert I mean at least yeah
purpose designed to sort of make
neighbor discovery redundant so it
followed the same model yes again the
load balancers just broken yes yes
that's that's that's correct yeah I just
have a stupid little comment it's a IP
space and is a short alias for IP
neighbor show Tommy chose ipv4 and ipv6
so it's just an education thing yeah the
same thing with Nets
you can just do dash 6rn lash 4rm yeah
it's just a habit it looks like if
you're a support personnel Heather or
your networking guys have a hard time
figuring this out yeah they should have
been educated in this and have the habit
in it yes education is a problem too yes
lots of discussions about that yesterday
yeah yeah your plan huh thank you thank
you thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>