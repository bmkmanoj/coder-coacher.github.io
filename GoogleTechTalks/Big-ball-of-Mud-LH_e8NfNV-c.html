<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Big ball of Mud | Coder Coacher - Coaching Coders</title><meta content="Big ball of Mud - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Big ball of Mud</b></h2><h5 class="post__date">2007-10-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/LH_e8NfNV-c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">patterns is that it's a so a bunch of
starchy academics projecting some sort
of ideal world how things should really
be and I think Brian can really help us
sort of debunk that myth because starchy
academic doesn't exactly come to mind
and I think that and I think the
patterns he's going to show today also
talk much more about our so a real
developer life as opposed to some ideal
vision so knowing Brian this will be
entertaining and insightful which is
probably a good combination so you can
get something out of it one way or the
other so please help me welcome Brian I
thank you thank you Gregor it's really a
lot of fun to be here and indeed I do
hate starch I'd like to begin as I did
with this story of the mysterious mound
builders of mountain view because I
think by better understanding the origin
of these mounds in the strange rituals
that surrounded them we can better
understand ourselves and more
importantly our code indeed the ethereal
chanting that you just heard was
recorded during such a strange ritual I
trust that you all recognize the
majestic Twin Peaks that command the
strategic Heights to the north of the
Googleplex but I'll bet you all didn't
know that these majestically sculpted
Mastiffs were not of geological origin
but were the work of man that's right
folks they're fake I was strolling down
Charleston Avenue last fall when the
discussion turned for some reason to
potential tsunami activity and the fact
that we stood at the edge of an estuary
and were presumably mere inches above
sea level and someone mentioned that the
mountains of mountain view would protect
us now I'd always assumed that mountain
view is named for the distant Peaks that
surround the town on three sides and was
surprised to hear that the newcomer to
town was clearly under the impression
that the mountains in question were
these right over here and moreover that
these were mountains at all it does have
to roll an easy mistake to make I know
after all we're software engineers
dammit not geologists
of course not being geologist but being
software engineers we prattled on about
liquefaction and the like and we all
naively concluded that the invent of a
powerful earthquake or tsunami there
would be better places to be than the
place that we were standing but herein
lies a tale and it's a tale that I will
return to shortly get back over here but
in the meantime I'm the guy faced with
the somewhat daunting task of meeting
the lofty expectations that people
who've elected of their own free will to
attend a talk entitled big ball of mud
must be harboring the big ball of mud
has turned out to be god help us our
best-known work and I'm hoping that I
can at least tell you something that
will make you feel good about some of
the things that we're going to be
talking about if I can't in fact tell
you something that you already know and
with that in mind I'll proceed now first
of all I'd like to say that it's a treat
to be back at the Google place
googolplex this is an exceedingly
stimulating place to be it's one that
always leaves one help ibly less stupid
when one leaves then when one has
arrived people are always asking me what
it's like to be here and I tell them
it's a lot like being its Starfleet
Academy for one thing we're this the
24th century and they did have
replicator technology life at Google
wouldn't be terribly different than it
is now t year old grey anyone so you
need to go to a little more effort than
Captain Picard did but not that much
books laptops network cables clothing
they all just seems to appear there's a
there's a post get a post-scarcity
Roddenberry esque techno taupe Ian post
National Air about the place the likes
of which I've never seen and then of
course there are the cadets brilliant
young minds from every corner of every
known inhabited planet in the universe
somehow conversing in perfect English
there is of course only one known
inhabited planet in the universe so let
me get back to the mound builders I was
walking around the wildlife refuge for
permanently Creek flows gently down to
the mountain view Slough in search of
inspiration the other day and pondered
the mountaineering challenge that you
guys call the Vista slope eye rested and
returned the next day I was emboldened
by a keynote at agile 2007 a couple
weeks ago where a woman who had climbed
the seven highest peaks on earth more or
less left us with the message that
there's nothing that you can't do as
long as you're willing to leave a couple
of Sherpas in the crevasse own place so
emboldened by this I attempted my
assault on the peak early Sunday morning
after becoming well rested so as to
ensure i had time to reach the peak and
return to base camp in building 46
before sunset my Sherpas had instructed
me to carry plenty of caffeine which is
said to increase stamina at high
altitudes and standing a top mount
Sergei and surveying all around me I
reflected upon the fact that I was
astride what could only be described as
a powerful metaphor but for what because
I was reminded at that moment that I was
standing atop a monumental heap of well
garbage and I was reminded by what you
might ask and the answer is the smell of
course so gazing down from Mount sergej
at the carnival tents I was seized by a
powerful sense of deja vu that sense
that I'd been there before and of course
I had it was during the days when that
ritual chanting that you heard opening
this talk emanated from the carnival
temps behind me over there it was a
performance by the Grateful Dead in the
June of 1995 when much to our surprise
the gyote amongst of Tibet stepped out
and did that impromptu throat singing
a performance that you heard at the
opening of talk and I found myself
thinking about Joseph Campbell and
ritual and the fact that the hills were
alive with well what you heard when the
talk opened I was horrified to hear
myself using that line but they were
alive with something else and that's
something else with large rodents
because even then it was obvious that
this whole place this entire ritual
encampment was built upon a big
monstrous pile of Refuge so why do you
guys need to know this you're in the
mean pool cartography business and you
sell eyeballs why should you care about
whether you're so your software is
any good whoever looks like whoever
looks at it so when do I balls every
gaze upon it well let me tell you why I
care and I'll hope that you do to the
first let me tell you about this scene
from a nightmare it's those of you have
taken any of my courses no I like to
open with this slide there's one of two
slides i always put in all my talks and
i'm fond of asking people now no
cheating if you know from having taken
one of my courses if anyone recognizes
the man with the shovel ok close john
lennon this ladies and gentlemen is the
late john lennon and what you see before
you is literally a scene from a
nightmare this was a nightmare that john
hag one day in 1967 after having taken a
little too much LSD as was the custom
during those days and he went home he
had this awful nightmare that he was
shoveling load after load of spaghetti
into the lamp of Ringo's aunt Jessie and
being an artistic sort he reenacted this
scene and what I used to call a
perfectly awful movie entitled the
magical mystery tour and they made the
they put this scene into the booklet
that accompanied the magical mystery
tour album and as it turned out that was
the first record album that I ever
bought they used to use primitive 20th
century analog music distribution
technology involving grooves and vinyls
probably most of you are too young to
remember it but this is the first album
I ever bought and I was taken with this
scene so years later when I first had
spent three or four years working in the
software industry I found myself in a
position where I was working with really
smart people who wrote really really bad
code they would write something
perfectly awful in Fortran and then they
would go into the dumpster and get
someone else's code and do something
perfectly terrible to that and there'd
be another copy and then there'd be
another copy and yet another copy
there'd be 13 15 18 copies of almost the
same thing and they all looked just like
this heap in aunt Jessie's lap and as
these metastasized you'd be put under
the chore you'd be put to the short of
maintaining all of them and this is what
got me interested in the question of was
there a better way because I came to
realize that John Lennon's nightmare was
my nightmare and our nightmare too and
began to search for an answer to the
question of was there a way out so let
me cut to 10 years later when we found
ourselves asking the question in the
light of all the high-minded
architectural discussion that had been
going on was there in fact something
missing was there something that people
hadn't been talking about we said
something like this I've always a
thought I couldn't put this better
myself and in fact I can't so it goes
something like this well much attention
has been focused on high-level
architectural patterns what is in effect
the de facto standard software
architecture is seldom discussed the
ball of mud paper examines the most
frequently deployed of software
architectures the big ball of mud a ball
of mud zat casually even haphazardly
structured system its organization if
you can call it that is dictated more by
expediency than design yet it's enduring
popularity cannot merely be indicative
of a general disregard for architecture
a ball of muds a haphazardly stretchered
sprawling sloppy duct tape and baling
wire spaghetti code jungle we've all
seen them some of us have built them the
system showed unmistakable signs of
unregulated growth and repeated
expedient repair information is shared
promiscuous ly among distant elements of
the system often to the point where
nearly all important information becomes
global or duplicated only those who are
unconcerned about architecture and
perhaps are comfortable with the inertia
of the day-to-day chore of patching
holes in these failing dikes are content
to work on such systems still the
approach indoors and thrives what makes
this architecture so popular is it as
bad as it seems or is it a weigh station
on the road there's something more
enduring to more elegant artifacts what
causes good programmers to build ugly
systems can we avoid it should we and
how can we make such systems better you
see here is a shantytown and Frank Lloyd
Wright's mile high Illinois it would
have been one of the most magnificent
skyscrapers ever constructed but it was
never built he wanted a square mile of
land around it and had all these other
high-minded ideas as to how it should be
put together and they never did figure
out what to do with the elevators leased
in the conclusive sort of way so before
I continue I should give a nod to my
co-author and buddy in this enterprise
Joe Yoder Joe's depicted here and get
engaged in what I can only presume is
some bizarre agile trust building
exercise in the skies over Brazil Joe
and I fathered a small family of brain
children back during the reign of
William the fourth is to say the fourth
united states president named William I
reckon time by the reins of the American
Regents and find numbering them as if
they were British Kings amusing as an
American borning what's nominally the UK
I came by and honestly I suppose so our
brain children now or something like
eight nine ten and twelve years old and
you
esperame children can have two daddies
the way I usually describe our
collaborative relationship is that I'm
responsible for all the good parts and
Joe's responsible for all the bad parts
of course Joe gets to say the same thing
when he does this material there's a lot
of benefits that come from not working
alone however if you come across a
passage you find particularly
disagreeable there's a pretty good
chance Yo to wrote it furthermore it
takes a village to raise a brain child
and I'd be remiss if I didn't mention
our intellectual paternity debt and yes
they are all male and the pun with
pattern is intentional that this work
goes to the likes of Fred Brooks who
wrote The Magnificent mythical man month
and my favorite software engineering
paper of all time which is essence an
accident in software engineering big
ball of mud also owns a tremendous debt
to Stewart Brand mr. whole earth catalog
and the author of the wonderful how
buildings learn then of course there's
Ralph Johnson our spiritual mentor the
University of Illinois the man who's
versus better paper almost caused us to
not bother to write this paper the poet
laureate of the patterns movement
Richard Piech Gabriel test erdman
testing maven Brian Merrick is the guy
who came up with the line big ball of
mud and first applied to this
architecture in Ralph Johnson saw
software engineering reading groups and
of course there's none other than
Berkeley's Christopher Alexander who's
the another spiritual father of the
patterns movement and the guy who's
pompous writing style we strove so
valiantly to emulate in big ball of mud
and of course there's Neil be Harrison
who was responsible for my co-pilot on
the patterns of programming language
designed for volume where this work
finally formally appeared and of course
a nod to the Gang of Four and a special
nod to the lake John blue CDs depicted
here helping Ralph Johnson and Erich
gamma eat their words ten years after
the
application of the Gang of Four book now
there's always an emperor's new clothes
quality to this particular work and it's
something that probably is is worthy of
an explanation but first i feel as if i
should mention it's kind of intimidating
downstairs to look at all the turing
award winners who've gotten to speak at
this place and the turing award is
pretty prestigious i suppose it's often
been described as a Nobel Prize in
computer science I presume in the same
sense that a Daytime Emmy is the Nobel
Prize and soap opera but you you really
know you've made it when your work has
been slashed dotted and this paper I
think that's the highest honor that our
field has to bestow and this paper has
been slashed thought at not once but
twice and I can tell you from personal
experience because this paper lives in
our living room at home that the getting
/ dotted is a very effective denial of
service attack now this paper could be
seen as yet another retelling of hands
Christian Andersen's classic the
emperor's new clothes at least is the
tale of worse is better we almost didn't
write it for that way but one of the
things that's most remarkable about this
papers I think back on it is that in the
10 years and yes it has been 10 years
since we first started working on it
that was first presented at plot 97 no
one has ever challenged our premise no
one has ever said no it isn't the most
frequently deployed out architecture out
there it isn't what we're all doing
there's something really profound going
on and I think it's uh I think it
ultimately has to do with Brooks's
notion of essential complexity we're
trying to do something complicated and
in modeling a complicated world why
isn't our software complicated it may
come down to that in the end and there's
a lot more that could be said about that
but before we do that I think I'll take
us on a bit of a tour through a couple
of different spots one is the realm of
metaphor and the
other is the patterns that are actually
in the paper I might add that with me
and brain children it's a breech burch
birth every time even as brain children
go this one had a long gestation period
it wasn't really finished the last piece
wasn't in place until around two
thousand but the idea was to contrast
this with what everybody else seemed to
be doing and saying and here's how the
story went before I begin the story then
we'd recognize this guy anyone okay it's
a Kent Beck can't fix one of the most
remarkable figures the 00 communities
produced I met him about 20 years ago
when he got me an under-the-table copy
of the Apple Smalltalk interpreter his
brain children are numerous the fathers
of the pattern father of the pattern
movement small talk evangelist with Ward
one of the original pair programmers
he's the Vince Lombardi of extreme
programming he brought the word coach to
our field I think it's been said that
real genius exhibits itself in the gaps
between disciplines and for this reason
I think it's one of the reasons why
can't will be remembered as the founder
of the field of computational scatology
because this notion of clothes smells is
and unified with software engineering
computer science has really
revolutionized the way that we think
about code but that's not really what
I'm going to focus on here one of my
favorite Beck moments was a talk he gave
at Upsala 2002 on metaphor it was really
one of the most courageous things I'd
ever seen because he talked about how
the war on metaphor was working so badly
with respect to the war on terror Nia he
addressed the issue of maybe whether a
different metaphor maybe disease maybe
something else might have been more
effective and this idea of metaphor had
always been one of the pillars of the
agile movement and I I think in terms of
things I could add to the discussion
beyond what you could get out of reading
our desultory spasm of pomposity right
here
that emphasizing some of that might be
the most effective thing I can do yeah
he's also unified software engineering
and literature football architecture
he's just out there between the gaps
code smells was a fun a fun metaphor and
it fell I let use this slide in our
classes in Illinois we don't have a
whole lot of words to describe what
happens when you don't like a glass of
wine we can drink a glass of wine and we
can say well that's really kind of good
or that sucks but we don't have the
vocabulary you Californians have we
can't say that it's overripe or oxidized
or lemony or grapefruit II out here when
you do a wine tasting it's a verbal
slugfest it we look at this and you ask
yourself the question wouldn't it be
great if we had a vocabulary like this
for talking about just what was wrong
with code and it turns out we do there's
a long-established vocabulary of codes
Mills there beyond the scope of this
particular talk but this is one case
where this notion of taking a metaphor
and beating it to death is served us
really well metaphor is important
because it's interesting to ask
ourselves the question what the hell is
it that we make all day and as far as I
can tell what it really do goes
something like this and this is the only
part that's real romantic you lessly
delicate delicately choreographing a
miniature bonsai thunderstorm rolling
across a delicately sculpted bonsai
silicon plane every bolt every strike
pregnant and laden with meaning a
diorama in Silicon and metal it's a
stage it's a dance but with every
gesture scripted every tiny lingering
both of lightning ripe with meaning a
realm a thunderstorm isn't about
anything but our toy hunt thunderstorms
are our toys thunderstorms means
something to us the rest is just baggage
that we assign in the realm of semiotics
and metaphor and metaphor matters it's
how we get from that
that silicon plane and the thunderstorm
to the stuff that we think about when we
think about code and if we don't
understand how it is that we think about
this stuff all day what is this we're
actually visualizing what it is that we
mean by it but those strings are then
figuring out how to keep it from turning
into Mount sergej and Martin Larry back
there Sergey sorry it's going to be
something it will be difficult to do so
metaphor matters how many of how many of
you have ever bitten the head off of a
chicken or any bird whatsoever how many
of you have ever been referred to by a
civilian as a geek quite a few of you
this is the reason I'll never subscribe
to vonage because metaphor matters let's
talk about where mud comes from where
does it come from what is the reason
that good code goes bad why should
software ever need repair software
doesn't break and software doesn't heal
software doesn't rust like iron termites
do not attack it water does not erode it
insects do not nest in it the only
vermin that attacked software are
programmers software has no natural
enemies it's only known enemy it's most
dangerous enemy is man so where does bad
code from come from where do you think
it comes from anyone want to venture a
guess bad programmers good programmers
to come from go every programmer but
that guy right there I think that about
covers it so good architecture bad
architecture I've seen a lot of things
called good code but I'll be damned if I
can read some of it maybe I'm lazy but I
don't know what's up there sometimes it
seems as if code is one of those things
like poetry and web blog posts that
we're just better at writing and enjoy
writing more than we
reading you know as a as a first
approximation maybe the problems nobody
looks at this stuff of course mud could
just be a broader manifestation of a
broader dilbert Ian dystopia that our
cube farms have become it could just be
Conway's law writ large but let's see I
think this paper actually began in 1994
when was listening to Desmond Decker's
double-oh-seven shanty town and found
myself thinking as I so often do when I
do nearly anything that whatever it is
I'm doing would be a great metaphor for
talking about software and this was in
the context of thinking about the
difference between all the high-minded
architectural patterns that people were
proposing and what we saw every day and
you know the rap in the paper goes
something like this shanty towns are
squalid sprawling slums everyone seems
to agree they're a bad idea but forces
conspire to promote their emergence
anyway what are these people doing right
shanty towns are usually built from
common inexpensive materials and simple
tools shanty towns can be built using
relatively unskilled labor even though
the labor force is quote unskilled in
the customary sense the construction and
maintenance of this sort of housing can
be quite labor-intensive and quite
complex there's little specialization
though each housing unit is constructed
and maintained primarily by its
inhabitants and each inhabitant must be
a jack of all the necessary trades
there's a little concern for
architecture since infrastructure
requires coordination in capital and
specialized resources equipment and
skill there is little overall planning
or regulation of growth shanty towns
emerge where there's a need for housing
a surplus of unskilled labour and a
dearth of capital investment shanty
towns fulfill an immediate local need
for housing by bringing available
resources to bear on the problem and
lofty architectural goals are a luxury
that has to wait
now this vision of undercapitalized lone
wolves doing the best they can with
whatever materials they've got might be
one place where mud begins but let's try
another metaphor and well the mound
builders of Mountain View carried the
materials for their Mastiffs to the site
in vehicles like this one they didn't
think at first that they were in the
mountain building business but they were
a leading cause of mud is an expedient
attitude towards throwaway code it might
be that quick and dirty script you
didn't think anyone would ever look at
again it's code that was intended to be
discarded however this is often the case
code being in that it does something
useful serve some useful purpose lives
on and in doing so it's subject to
modification and we all know what
happens when programmers get their hands
on code that they don't understand do
you think they make it better most of
the time they make it worse one man
gathers what another man spills and
being into that it's bad to begin with
does it get better once people start
beating on it what do you think you know
code code repair and refactoring we use
this technology a lot a lot of people
use this analogy it's any of you in
college remember what it was like to
have to live in shared housing and have
to deal with the kitchen you'd make a
meal and normally when you make a meal
you clean up the kitchen so that the
next meal make some day be prepared in
the same space but if you defer cleaning
up the kitchen one day two days five
days ten days what starts to happen well
for one thing bugs start to appear
eventually the Board of Health shows up
that shuts down the premises and things
of that sort but a lot of ugly stuff
happens in the meantime messy kitchens
are a good illustration especially our
good old fashioned collegiate messy
kitchens of a notion that we call
technical debt if it's okay when you're
working on something to let things get a
little out of hand to let entropy
increase but if you don't engage in some
entropy decreasing activity you're going
to get yourself into a world of hurt
messy kitchens are one illustration of
that all too much of our code is another
in fact your say you know to switch
metaphors and you know I can I don't
know if I'm good at a lot of things but
I can mix some metaphor faster than a
Manhattan barkeep can mix a martini
let's go to another metaphor and that's
agriculture slash and burn it's one of
those things we all think it's terrible
but people do it what are the forces
that until them to do it may be the only
thing selling is a robber crop like
tobacco maybe they don't even understand
the basic laws of of Agriculture and
what have you they don't know that their
robber crops anyone think of a
programming language that we might
analogize it's producing Robert crops
might be fun to think about it but
slash-and-burn agricultural practices
are as old as agriculture sustainable
yields and real honest-to-god sod
busting would be preferable but all too
many people get on two projects beat the
heck out of the code and move on to the
next project the code dies the codes
unmaintained a bowl nothing else can
grow there the enterprise founders it's
the end of the story another place from
which bad code comes is from small
volumes of good code that grow in an
unregulated fashion edward abbey
environmentalist activist and writer has
said that growth for growth's sake is
the ideology of the cancer cell now this
cut and paste nightmare that I'm talking
about is the same one
that I talked about when I showed you
the slide filled with the spaghetti bad
code comes from the duplication of good
code the metastasis of good code the
divergence of good code and when people
don't come back and refactor the
commonalities the bad code each of which
might have been decent in its own right
proliferates duplicates and pretty soon
the entire system becomes unmaintained
abul you could say that expedient code
copying has been observed to be a
characteristic of the early exploratory
phase evolution of object-oriented
components but the virtual
indispensability of its indispensability
the framework developers has been less
widely acknowledged the thing that least
widely acknowledged is just how common
this is and it's easy to to see that is
there anyone here who hasn't used cut
and paste to get a job done sometime
during the last year I mean everybody
it's really my god everybody does it
it's one of those things everybody does
that isn't widely acknowledged and and
the reason that it works is you take
something that's working rather than
build something from the ground up you
put it in a little sandbox and you start
to beat on it until you take it from
what it is and turn it into whatever it
is you need then you declare victory and
you move on typically and it's only that
final stage that that's something that
should really be disparaged you know in
in the genome one of the ways we managed
to survive is it will do something like
take a hemoglobin gene which works just
fine stick it on another chromosome and
then let it start turning into something
else most of the time it turns into
something that doesn't produce anything
useful at all that's the end of the
story but every once in a while those
genes mutate in such a way so that
something even more useful comes of that
copying and you could see that as a path
toward something better on occasion it's
a difficult process to manage but cut
and paste isn't totally of the devil now
this is a this a picture of it's called
the Queen City of Death Valley for a
brief period of time it was the
second-largest
city in Nevada it had school houses it
had all manner of brothels it's
concerned for infrastructure was
commendable you know they built all
kinds of things for a town that they'd
hoped would be around for a long time
but it turned out that this town didn't
last for very long at all a hundred
years ago it was thriving a couple of
years later it was completely gone from
shantytowns de boom towns to ghost towns
to our towns too many of our systems are
like mining towns a railroad camps their
tent cities Quonset huts squatter shacks
dens of gamblers thieves what have you
this is sound familiar are these
similarities merely metaphorical or
their underlying technical and financial
concerns these domains have in common
you can almost imagine the saloon filled
with mountain dew slamming hard hacking
bit slingers pontificating and locking
horns over indentation Skiles and
hungarian notation well they squander
their winnings on overclocked game
machines the piano player is an iPod of
course now in contrast to this is this
notion of piecemeal growth for some
reason I've never really been able to
explain myself big ball of mud exhibits
a an amazing fascination with Soviet air
technology which is actually a
fascination I've had since my youth and
it was interesting to contrast the
manner in which the MIR space station
was able to gracefully accommodate
growth especially as contrasting with
the poster child of reuse horror stories
that was the space shuttle in those days
the core was put up in 1986 and over the
years the modules managed to accumulate
because they were in fact designed in a
manner to make the system extensible in
fact in 1995 the docking module to
accommodate American space shuttles
which was a development that couldn't
possibly been imagined in pre Gorbachev
era Russia was added and the first
phase of the International Space Station
program was begun but piecemeal growth
has with it in some ways being the Cure
also the seeds of its own demise and you
look more at those as we go one of my
favorite patterns in this collection was
sharing layers this was an idea that we
got straight from Stewart Brand it was
an observation from the architectural
world it was the notion of changing
things that have changed quick I mean
separating things that change quickly
from things that don't change as quickly
what changes most quickly in a software
application presumably it's the data one
way we can cope with change one way we
can keep the code from getting squalid
is to push decisions out onto the users
and into the data now among the things
that change more slowly our code in
particularly programming languages so
there's sort of this there's this
hierarchy at least is this strata of
things that are able to accommodate
change at different rates and one of the
problems that we'd always see with top
down designs is that they would prohibit
people from taking advantage of the
knowledge the feedback that came from
observing the rate of these changes at
the time when they had the information
and then their sprawl this up in
Washington DC that's where I heard that
agile you know it's interesting to
contrast the different growth styles of
communities that were planned with a
skeleton of some sort and those that
those that were not Washington is one of
them abuja is one Brasilia is one then
we've got the Levitt towns of the world
the the modular early constructed houses
here's a here's a double-wide somewhere
maybe we could tell from the phone
number where it is one of the things
that we've learned over the last decade
or so seems to be something along the
lines
modules just haven't really lived up to
the potential that everyone thought that
they were going to have people don't
want to build skyscrapers out of a pile
of of double wides you really can't seem
to compose them in that fashion modular
housing seems to have failed because no
one wants to live there instead they
seem to want to have structures which
are crafted with the requirements at
hand integrated in a fashion that is
fitted to the space and the problem and
the inhabitants and this is something
that modules don't always do well but
that pattern based designs and the more
labor-intensive designs do do well now
what are you doing you've got one of
these things there's some more
soviet-era technology this is the
sarcophagus around reactor 3 at
Chernobyl one of the most famous
technology failures the history of
engineering and it's one thing to talk
about things you can do to prevent balls
of mud and we will but it's another
thing to do to talk about things you can
do once you've got one on your hands
what on earth you do and you've got one
of these festering steaming venting
piles of god knows what and what you can
start to do is at least start trying to
contain it now in general this problem
of taking an existing ball of mud and
disentangling it is as intricate and
challenging and desperate and deadly a
problem separating Siamese twins I hear
about twin separation surgeries that
take 20 hours and I listen to the
stories about the doctors in the way
that they plan these things and I think
about some of the balls of mud I've seen
and find myself thinking these guys have
the easy problem you know we've got
things that are so tangled they're so
filled with spaghetti that's separating
them so monumental architectural
challenge and yet that's one of the
things we have to do this picture here
depicts what you have had to do in order
to build the great mounds the Great
ceremonial amounts of mountain view
these works of man
my dad used to do a job like this you'd
have to take one of these big pieces of
heavy equipment they call those guys the
guys who drive them engineers as well
and you'd have to cap the thing you'd
first have to find a way to contain the
u.s. it was running out of the things
and then move from there to try and
gentrify it a little more in the kind of
fashion that we see around here what
strategy do you apply apply well I think
this guy pretty much summed it up we
can't really do a whole lot better than
what Julius Caesar called divide and
conquer when it comes to figuring out
how you take a big on differentiate that
differentiated mass of something and
turned it into something more
differentiated then of course if you
can't fix it at all you're faced with
the kind of decision that the builders
of the great baseball cookie cutters of
the 1960s or the pruitt-igoe housing
projects were faced with and that's what
you have to blow it up all together you
know I think this is another interesting
reuse horror story the problem with
these cookie cutter stadia was they
tried to build a facility that was good
for baseball and good for football and
good for rock and roll and they
succeeded in pleasing no one and the
reason was in those days each of those
wasn't sufficiently well capitalized to
justify the expense of building
customized tailored better facilities
for each of those activities by itself
you know I think as the wealth
associated with each became greater the
possibility of not having to compromise
like this occurred as well and I think
we see a phenomenon like that with
software but it's worth mentioning that
this Impala tear it down and build
another one is what Joel's ball z has
called at the various times one of the
most dangerous things you can possibly
do because when you blow something up we
blow software up you are blowing up
along with it all the hard one painfully
fought battles in the trenches with
entropy to get the thing on the air that
will be discarded if you tried to do the
thing over in fact ball of mud adamantly
recommends the incremental iterative
style of keeping something on the air
the entire time that you're trying to
get something better and there's a
position from which we have not be
treated now I'm afraid I have some bad
news for you and that's that the war on
bugs is lost the generation since Nancy
Regan consort to Ronald the first
implored us to say no to bugs America's
bug problem is worse than ever bugs are
kind of like prime numbers by now we're
pretty much resigned to the fact that we
can never find the last one but after
the first billion or so they start to
thin out a little bit so just say no to
bugs didn't work they're still in our
schools in our code we spent billions
trying to fight them bug traffickers
reach repo fortunes we call them
software companies they hire lawyers
these bug cartels I'd named them but
they cut me down in a hail of bullet
points it's a it's not a problem if
enforcement it's not something we can
simply make disappear vs a stronger type
checking the supply of bugs is larger
than ever and attempts at domestic
crackdowns have just driven bug
production overseas that the old story
sounded something like this you'd start
with gateway bugs first you neglect a
few error returns you'd let a couple of
exceptions get by unchecked the next
thing you know it's on to the NP hard
stuff a dependency injection overdose
perhaps even deadlock the war of but on
bugs has diverted attention from things
that work and the things that work are
these testing prevention and treatment I
mean I can't say enough about testing
you know if all the practices that have
emerged over the last 20 years out there
way beyond the formal logistic train way
beyond what the type checkers can keep
us out of trouble by doing this notion
of having the tests have your back has
made a bigger difference than any other
practice
scene prevention if you can keep your
code via a regiment of constant
iterative incremental refactoring from
subsiding into a ball of mud you can
save yourself a lot of expensive
treatment treatment of course sometimes
means putting a containment vessel atop
the festering mass more often it's about
communicating with others who have the
same problem communication is actually
one of the things that can keep code
from going down the drain in an
organization like yours where you have
and I think this is admirable small
commando teams who are het broadly
advancing on a number of fronts I call
this the agile hike model it's necessary
to somehow manage to coordinate their
activities not by telling them what to
do but at least by making sure that
everybody knows what everybody else is
doing treatment is better than checking
your code into rehab it's about
communicating with others that share
your plight one way of thinking about
this might be to use rudy giuliani and
the malcolm gladwell's broken windows
analogy now I've yet to officially
endorse a candidate for the next
election and this is not the time or
place for me to do so but one thing that
these guys did that was admirable as
this notion of fixing the little things
fixing the broken windows taking the
graffiti down if you take that attitude
towards reflecting your code if you fix
the little things then an atmosphere
where you can fix the bigger thing
starts to become easier to see we
thought about sequel to big ball of mud
about the return of the swamp thing
we're still working on aspects that one
way to think about draining these swamps
might be to think about what the
Theodore Roosevelt and Walter Reed and
whatnot confronted when it came time to
build the Panama Canal it's the same
argument as broken windows but I love
the mix metaphors or similes or whatever
you want to call them and metaphors war
highbrow than similarly but similes just
fine it's like this
you know focus on sanitation was
necessary to get the Panama Canal built
it was first by draining the swamps and
dealing with the little bugs that the
major problems were addressed and that's
a nice metaphor um it'd probably be a
good time now to talk about some newer
material this is a there's an idea that
might have gone into a ball of mud
sequel we called it the big bucket of
glue some of these ideas that I'm
talking about here were in fact
conceived in the same round windowless
room at Larry's Mars national center for
super computer applications where Marc
Andreessen and Eric bina first devised
the first modern web browser and its
corresponding server mosaic I call it
the first modern browser because it had
pictures unlike those European browsers
so that they've never been knighted but
they did receive the highest honor that
America can bestow which of course our
wealth in celebrity now I think this
room ought to be declared a world
heritage historical site you know they
finally did put up a plaque to honor
mosaic but it's in front of the new ncsa
building referred to by some as the
mosaic mausoleum rather than in front of
mosaics actual birthplace but the code
bases live on arguably to this day both
the Mozilla threads and the spyglass
trees branches live on to this day and
both have been both have been referred
to famously as poster children for the
big ball of mud problem now the ball the
the bucket of glue idea actually is one
that came out of the original mosaic
code the idea is something like this a
lot of what we're seeing these days
there wasn't a lot of new code in in the
original mosaic instead it was just a
bucket of glue it held together a bunch
of existing open source and easy to come
by applications there wasn't that much
new in it at all it probably would have
been a good addition to this collection
although the collection was done at the
time and it's probably these days one of
the most commonly deployed architecture
the the services world I worried about
services there's this notion I remember
this from an old Star Trek episode there
were it was an episode where Spock was
talking to ambassador callous or
something of that sort in is there no
truth in beauty i believe it was called
and this was this guy who if you ever
gazed upon him would drive you
completely insane you couldn't actually
stare at the ambassador or you would go
completely bonkers which in fact did
happen in the episode the Medusa was an
apparition so hideous that all who gazed
upon her were turned to stone I think
we've got this problem in the services
layer these these a days the ball of mud
phenomenon has not only not gone away
but I think that at this new layer that
we're building atop the stuff that we
already built some of which was only
merely adequate to begin with the duct
tape and baling wire that we're using to
so all of these things together are an
absolute horror show it seems that a lot
of us probably couldn't stare at some of
these things without going completely
insane and tools and mechanisms for
making this better would certainly be
welcome and as a conclusion to all of
this I'd suppose I'd say this tools are
probably one of the most important
things that we can focus on if we're to
make this problem of awful code better
the code is just bits computers will
execute bits just fine but we need
metaphor and we need tools to be able to
cultivate them so the human beings can
stand them that's John Henry on the left
and the steam drill on the right we all
know what happened to John Henry we
build a lot of refactoring tools that
Illinois in the old days when I hung
around there that's a agile like we'll
skip him all right it's a fun story if I
could been a jewel he'd have said
okay I'll take my half million guys I'll
divide them up into 50,000 commando
teams and say Francis that way here's
the guy you want to get there be a
certain coordination problem yeah we'll
skip that one uh I always try to get a
picture of my dog into one of these
talks and the pretext I've got for doing
this this time his dick Gabriel's notion
of habitability code is habitable when
the people who live there when the
people who spend time around it every
day have a sense of it being a decent
place to work my dog is named Laika she
was named after the first dog in space
we're nearing the 50th anniversary of a
couple of remarkable soviet-era
achievements me being a soviet-era space
bump we've got the got the 50th
anniversary of Sputnik in October and of
the first living creature a canine being
launched into space coming up in
November it was in honor of that k9 that
we named our dog the reason I'm bringing
this up here is if you can generate code
I mean if we make programmers go away a
lot of the problems we've got with
making code readable making it a good
place to live go away it's more
expensive to have to have people live
someplace like space or in code than it
is to generate it automatically but as
long as we're doing that you know for a
lot of the same reasons that we ought to
have you know smoke-free workplace is
code ought to be something that we can
stand to be around and you know if
nothing else this is a lecture in those
directions so we all know we all know
the answer right so this is the it's
been branded and well documented so let
me associate a couple of words with with
the answer testing nothing I've seen in
the last 20 years has had as big an
impact as testing and of course that
stands on the shoulder of objects
refactoring there's simply no question
that we can't nail these things on the
first attempt that the incremental
iterative quasi agile way of thinking
about the world that we talked about in
here has largely won the day but we
often honor it in the breach
and metaphor our store our systems our
programs are code they've got to be
about something they've got to tell a
story there's got to be something that a
human being can stand to look at and the
human being can understand and that's
the place where I think we've been
slowest to be able to make progress and
it gets the place for more work is it
needs to be done there's been some
really good work done on notions of
domain-specific architecture even
domain-specific languages but a lot of
our code still looks like something that
you wouldn't want to show your mother
let alone your colleagues and with that
I'd like to thank reger Hopi for setting
this up Josh Carrie have ski for getting
me into this place and Rick bellaca for
putting me putting up with me when I'm
in town and at this point I've heard
that questions at Google can make a
Guantanamo Bay interrogation look like
an Oprah Winfrey appearance but hey
let's see what you got got I have no
idea the back over there so we're all
these elegant commercially successful
code bases heck if I know yet I got a
good story about that there was a there
was a guy we were talking to who was a
you might be making my point here there
was a guy was talking to was a game
developer and he came in and said you
know our company just went out of
business and its really frustrating
because we came up with this really
great framework for building these
things was the most elegant code you
could ever have possibly imagined and I
asked him why his company went out of
business and it was because nobody liked
the games you know I found myself
imagining a kid saying oh dude this game
really sucks but yeah it's got a really
elegant code base I mean this is why the
guy blew it in the market and I don't
know the answer to your question in fact
I think it may be reinforcing the point
that elek you know elegance doesn't
always make it in a fast-moving our
marketplace i think lewis one of the
points we make in here is you miss your
market window you're already dead so the
slash-and-burn guy is going to be way
ahead of you slashing burning works a
lot of these things work you know it's
an ugly world out there and so um do you
know no I I think if I was evaluating a
start-up as an engineer I'd want to see
and if I saw I'd see as a company smell
would be a too elegant code base and not
enough shipping I was curious if from
think people being sort of rational and
you know we're all doing our best job
and yet we observe all this copy paste I
was wrong it's like Oh is there
something rational ground there's there
so it could be characterized the
environments where copy paste is totally
appropriate and then you know so we do
that first then we sort of switch to
some other motor there's some signs we
could look for I think it's what I
always do actually if you know if as is
the case in the 21st century there there
are very few greenfield projects and we
sell them or writing command line
applications but instead we're doing
things that have GUI Xin and talk to all
kinds of other things that are already
done the way you've just about get
anything on the air is rather than
building it from first principle from
the ground up you say well i got this
pile of stuff over here that kind of
looks like it you know i need an
airplane so i'll take I don't know a
Volkswagen I'll plop it over here but I
won't wreck the Volkswagen plans because
hey that's working they sell a lot of
those i'll put it down over here I'll
slap some wings on it you know well
goose up the horsepower on the engine
and i'll put a propeller on oh the back
of it because I'm not an aeronautical
engineer and after a while i may get
something that could get off the ground
and then i'll just factor it into say a
737 no it's this up it sounds
preposterous but i think it's a
state-of-the-art approach you know this
this paper in part came out because a
friend of mine was an expert witness in
a trial involving a really awful pile of
RPG code and the basis of the suit was
that the people who had commissioned the
software had paid
for a state-of-the-art system my friend
was describing this system and I said to
him you know what that is the state of
the art and the they he managed to get
them on they settled out of court but it
was one of the things made us write
paper yeah go ahead one of the reasons I
think that balls of mud persist is it's
just so expensive and not worth
justifying re architecting something
riorca teching is like you know removing
the spine and replacing the skeleton on
a living human being and who in their
right mind would do that if you can make
you know little incremental improvements
and kind of you know cover over the
parts that are ugly it's like there's no
intrinsic value to the architecture
except that it may block you from doing
something and it seems like you know
isn't the main reason people riorca tect
if you actually can't do something that
somebody decides you have to do probably
no I probably the main reason the people
the flip side of that fanciful is an
example of all we want an airplane is
sometimes it seems like in the realm of
software requirements people can't tell
the difference you know they say you've
got this application why can't you just
put some wings on it you know that they
really don't perceive that the
difference between what they want and
what they've already got I mean since
it's just bits it's as great as it is
people don't perceive that you go
against the grain again of certain
things that are already present in a
system and it's just not possible to get
there from here you know head am I used
to walk to work in an old neighborhood
where people were doing a lot of
remodeling and one day I saw them
lifting up a house to put a new
foundation underneath it and I thought
to myself gee that's so labor-intensive
and that's you know just so physical I'm
sure glad that I work with bits and the
thing I was trying to do that week was
refactor an object-oriented framework to
make just one of these make precisely
one of these sorts of pivots you know
from a set of requirements that I
adequately addressed it's kind of nailed
to another set that we're really going
against the grain and I walked by this
place every day for three or four days
and it
in two three or four days they were done
replacing the foundation to this house
and I hadn't begun to figure out how the
hell I was going to pull the foundation
out from under this framework and it was
that point I realized that it was yep
legitimately and actually way more
expensive to do what I was doing then
what they had just done you know
software was just malleable not
malleable at all in that way okay I open
it yeah and so I like the picture of you
head of the building airplane out of the
car as you know saab is actually
airplane factory which ended up building
cars we were first wants to put the car
in the wind tunnel because what else do
you do when you go actually design
something where has gone a little overt
move so they essentially built the car
from airplane parts and that's a private
industry and so so want to turn the
finger runs like okay we can't get rid
of the balls of mud right but how about
making sure if the balls of mother
really small and we can build them such
and they do what they're supposed to do
really easy to write less code your
other program exe injections slamming
guys I think it's le code things is
actually pretty cool and that that's one
of the the neatest things I've seen
since I've been around here is but the
problem with it is it's buying into that
bucket of glue problem at that next
level you've done got to figure out how
do you so all of these things together
you do it with bots can anybody read the
things that actually pull it all
together I'm just if something's going
to generate code for me I wanted to nail
it you know I don't want to have to read
it yeah that's a like a channel DeForest
Kelley and say I don't want to read any
code that was written by a damn computer
you know if it's a if it's going to be
generated it's got to be something that
you're not supposed to tinker with leave
Jennifer for my taste and that's where
the gamble is with this I mean that this
think the component factory idea goes
all the way back to Bragg Cox and I
never there was a workshop that uppsala
87 where he talked about how long it
would take for there to be a reusable
conant component marketplace and he
predicted it it'd take 20 years and we
were all horrified at that time horizon
you know everybody expected it to happen
really fast
still not here hi um do you mention
about testing sup I deity the other I
don't like about testings that you have
to write code to make tests so I mean
like today I have to go fix on tests
that are not properly done we're not
testing anything so that I want to hear
your talks about that and the second one
is that I also want to hear a little bit
about more the failure of components as
the was sold to us was the solution for
the software problem okay let's see um I
kind of I've you know there's something
addictive about writing tests and I kind
of like to write code and it doesn't
really bother me to write tests because
the thing that I really dislike about
the thing that I dislike about
programming are those days when what
you're doing just rubs your nose so
badly and your own FAL ability that you
can't stand it you know and that's what
you know heavy duty nightmarish
debugging sessions can do and my
experience has been that I can save
myself being in that position more
effectively by you know writing modest
amounts of test code than by doing
anything else I've ever ever learned how
to do so it kind of becomes a virtuous
circle as for components it's such a
beguiling vision you know if it's been
this thing that has been you know like
the sirens calling us for 20 years if we
could just figure out how to factor this
base properly we can just pull
everything off the shelf and all these
problems would go away and here it's
partially a metaphor issue it's we're in
this space where the things that really
are the bricks that really were in the
supply chain that really we're going to
be reusable you know people went down to
the double-wide from you know from
Decatur route and couldn't get the
components right it's it's not that it's
an insane vision it's just that in its
execution figuring out what the you know
the virtual you know software
engineering world
analogues to those things really were
has proven to be a much bigger problem i
mean software is so broad so diverse I
mean the very breath of what we do and
still call it software is just enormous
and it could be that for all of those
disciplines the basic materials are are
fundamentally different than that we
just thought it was going to be easier
to just build it you know the whole
world out of Legos you know it's a
software engineering guru Michael
Jackson used to talk about that not be
that other one the neverland guy he used
to talk about how yo software engineers
would do something like Oh steals a
great building material let's build the
whole car out of steel you know so you
have windows with steel mesh on them you
know yet every the whole damn thing
would be steel you know we we just like
to take anything a parka is a great
solution to the problem of clothing a
human so let's wear them all the time
you know if we can demonstrate a you
know a situation in which a parka isn't
practical you can take it down to
copacabana beach not practical well then
it's been refuted we need to find
another way to solve the problem i mean
just one of the things we learned in the
patterns movement from alexander is the
importance of context and there's just
all kinds of context dependencies and
coming up with these vocabularies and
components it's it just turned out to be
a big fat interesting problem but you
know I think the the ravioli code
movement is actually making some headway
there finally and I think that is
actually quite promising Andy
right</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>