<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>&quot;Flex Your API Skills to the Max!&quot; : Using Maps + AJAX APIs in AS3/Flex | Coder Coacher - Coaching Coders</title><meta content="&quot;Flex Your API Skills to the Max!&quot; : Using Maps + AJAX APIs in AS3/Flex - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>&quot;Flex Your API Skills to the Max!&quot; : Using Maps + AJAX APIs in AS3/Flex</b></h2><h5 class="post__date">2008-07-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/5BsQ_VUOqJo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright so today I'm going to be talking
about the Maps API for flash and just
kind of some general flash flex tough to
get you you know started using our API
so my name is Pamela Fox I'm the support
engineer for the Maps API so that
includes like a JavaScript Maps API the
normal Maps API the map with api static
Maps API etc so my job is to do articles
sample code help out in the groups etc
all right so we're going to start off
with an intro to flex because a lot of
people ask like what that is and let me
start off by prophesying and giving you
a little background on my experience so
I started off using like flash way back
when like you know when I was in high
school or middle school or whatever and
I was actually you know the kind of
person that helped people make websites
and flash and they're really cute
websites I made one for like this truck
trucking club and they were all a bunch
of people who own trucks and it had a
little intro that had a truck that would
go and drive off and become the logo the
kind of thing that you know works great
in flash so I actually started off using
flash for creating websites I went on to
do like an animation minor so I use
flash to create animations so I had to
use flash from kind of both an animator
and programmer point of view so that was
like high school start of college and
then I came here and my job was
primarily the JavaScript Maps API so I
went heavy into JavaScript for you know
two years and now we came up with the
Maps API for flash so I've kind of been
thrown back into flash but now it's all
completely different because it flex its
actionscript 3 so I'm coming at it from
the point of view is somebody who used
to use flash then did JavaScript and
then got thrown into plaques flex and
as3 so this is kind of my impression of
it based on that experience all right so
I was talking about flash I started off
in flash
moved on to using flex for the new API
so flash and flex are actually flex you
can think of as development framework
but it's also an ID and that's what
we're looking at here and I II kind of
helps us visualize the differences here
so this is a flash cs3 you can see you
have like a stage your ruler you
actually have scenes and then you've
like sub-objects in the scenes then you
have like layers and the scenes of any
of this timeline and the timeline is
where you get the animation from and
then where you bring in the programming
that we feel like a little there's
little ease over here that actually
stands for actions so you'll have you
can have actions associated with an
object actions associated with a
particular frame in the timeline so
flash was designed for animators but
programmers could use it in order to
create games website even to create rich
Internet applications what is really it
was kind of a hack like if you look at a
lot of the code to create that kind of
stuff it's usually messy um so this is
splash and then we have flex so flex
looks like your standard IDE right you
have you know these are a bunch of the
classes i'm working on here you I've got
my source code mice index I leggings
this is actually an outline of flex
components so flex is more component and
event-based so you get to set up a bunch
of components and then use actionscript
3 2
those components and for the components
to interact with each other via events
right so you can tell from the iee that
you can see this whole complete
breakdown here very component based in
Belper based it's the focus here is the
actual code here you can go into a code
mode put your default units so that's
flash first flex oh yeah cuz I went
there yeah there is I discovered that
this morning so the design mode is to
help you visually layout for components
but there's still a difference between
who ah ryan is pointing out that there
is a design mode in flex and so that
would that does look a bit more like
this but you still don't have a timeline
it's still component base versus this
kind of timeline animation base well the
idea is this if your goal is to create
like an application you use flex right
flex is designed to like it comes up
with all these UI components cousins are
components that interact with each other
right so flex is designed around these
components and like using the
ActionScript 3 to make these components
work together so if you want to create
an application use flex if you want to
create like an animation or a website
that has some amount of like minimal
like you know interaction then then you
use flash so like I used it to make a
game that which had a lot of animations
in it if I was going to do it now I'd
probably just end up using flex because
it's much cleaner to developing
basically as a developer you should use
flex know if you try to use flash as a
developer you're going to realize like
there's all this stuff that designed for
animators that could confuse you okay so
this is what flex development looks like
and we use mxml which we'll talk about
in a second it's an XML markup language
we use that to lay out the application
and all the components
we use actionscript-3 to define how the
opponents are going to interact with
each other and you know do anything
additional if we want to create some
graphics whatever then we use flex
builder or the compiler to turn this
into a swift file and then we embed the
Swift in HTML or you know even make like
an error application all right so mxml
it's an xml-based markup language that
we use to lay out the components for
flex apps it's it's like HTML but it's
basically like if HTML and JavaScript
had been designed from the beginning
with like their interaction in mind
because right now they're kind of
hobbled together you know via like the
Dom model and stuff like this but mxml
is designed to work perfectly with
action short three so it's got like a
consistent syntax and like a huge set of
tags for visual components and it works
perfectly with action of three so like
an mxml like I'll give something an ID
this ID then becomes like a global
variable in my in my app I don't even
have to do like a document that got
element by ID so it's instantly
available for me to use and then we have
like a consistent like model for having
getting events from these mxml
components so it's basically like what
HTML would look like if it knew from the
beginning that all this javascript stuff
wouldn't would have come along and so
there's tons of really cool components
and the best way to see them all is we
go to the flex 3 style explore this is a
one of my favorite places ago because
it's really pretty ok so here you can
see a lot of the components datagrid I
mean granted like so you can think about
this is kind of like when you're using a
javascript library like a script
calculus and it has lots of components
but this is all stuff that's built into
flex so it's really easy to use like a
color picker progress bar tooltip
sliders
and you can see like there's tons of
different styling options and then you
can even do some styling with CSS as
well scrollbars horizontal rules
accordion navigator tab navigator always
got to have tabs all these form elements
different types of lists the tree lists
you have to have a tree list right and
then different containers if you know if
used to like swing apps or something
like that these are just ways to you
know you can have a panel that has a
eight divided box inside of it and then
that can have some components inside of
that so the containers are for doing
like your general layout and then you
can put the components inside of those
you know buttons etc so these are all
the components that come built-in with
flex but you can also if you want it you
know create your own components but you
often find that almost everything you
you want to do you can do with one of
these components or you'll kind of
modify your UI to to fit these
components so that you don't have to
make your own just that generate
this thing no it doesn't generate it
usually what I do is I look here and
then like so if I want an H slider I'll
just look up like H slider reference and
you see MX dot controls H slider so this
is that's how you know it's one of the
Flex components and this is just a brief
demo here of the syntax so H slider and
then I looking at all the different
properties i want so h lighter extends
from slider so most the properties are
actually under slider so it shows off
all of them here and all the defaults so
usually i'll look at this so i'll look
here and then look up the actual
reference decide what i want to use and
figure out what what properties i need
to set and check out the events so
usually subscribe to like a change event
there's a couple other ones as well all
right and they even have comments at the
end of the docs just in case all right
so then we have actionscript-3 so it's
based on ECMO script like javascript is
but a couple parts of it are based on
more like advanced specifications of
echo script and the advantage of using
one of the advantage of using it over
astu is that they've got a new virtual
machine to deal with it and it can
execute a s 3 code up to 10 times faster
than a su code so if nothing else that's
one reason to port your code over from a
s2 to s3 um but some highlights about
the language is that it sports xmas
script for xml style parsing and i'll
show you some examples of this later
because it's what i've been using
heavily the nickname for that is e 4x or
the abbreviation it has a standardized
Dom event model based on the Dom three
events back we'll see that as well so
that means that it's your event
listening as much cleaner and consistent
and it's easy to make like new
components that trigger their own events
and then if you want to you can type
your variables and then it'll actually
type them at runtime and so you'll get
you know better performance and memory
from that
so here's an example of how mxml and as3
work together so I I paired this down
quite a bit but so here we have flex
application and then we have a
horizontal slider we give it an ID of
zoom slider here I'm just saying the
maximum value is 20 giving a width of a
hundred percent and saying with when it
changes this is the change event we're
going to trigger this function and pass
in the event so then when you go down to
the MX script and so in between here is
where we have all of our ActionScript
free we have this function on slider
change gets passed an event I don't
actually use the event what I do is say
I'm going to set the zoom of my map to
the zoom slider value so all of these
properties that you set here you can
later you know retrieve down here so
I'll show you that demo actually just
live ok so here we have the slider you
take see it's taking up the whole width
I set the maximum actually I did some
code to set the maximum dynamically
based on the maximum zoom level of the
map very max of 20 so here we can change
it go set the zoom level here's a little
cool trick is that a lot of developers
when they're when you're using flex
builder and making like example
applications they'll compile their
applications with view source enabled so
whenever you're looking at a cool demo
and you're curious to see the source
right click and see if you can find this
little view source thing right here and
so when you click on that if they've
enabled that you'll you'll get to code
it this thing and that will just show
you all the source and it even make it
easy to download so i can download the
source as a zip file and there's quick
link to the flex sdk so this is really
cool and we've for the flash API we've
compiled all of our demos with this
option so that it makes it really easy
because otherwise you have to you ended
up having to say like okay and here's
here's all the various like source files
that make up this this example it's much
easier here because it'll bundle it all
together for you so you can actually
look at this this whole
the whole example here so we have the
application we actually I used a panel
in a V box and then even an H box to lay
out the components and then I have the
the horizontal slider yeah I can control
plus you can see the change event say oh
here we have a map that's going to go in
the UI component i'm importing a bunch
of map stuff and a few other things and
so when that the UI component is created
that's going to hold the map I create a
new map and then when that map is ready
I do some stuff enables some zooms set
the center of the map and then I also
set the maximum of the zoom slider to
the maximum resolution of the current
map area so that's why you saw it
actually went to 17 instead of 20 and
here's the function we saw before when
the slider changed I actually checked to
see if the maps been loaded and if so
set the zoom to the current value of the
slider so that's the full code for that
example and that's kind of the basics of
how mxml and as3 work together is that
you create the chemical smell component
give an ID assign some events and then
in your axe script you can respond to
those events alright so once you've
actually created your application you
have two options for compiling it one of
them is that you can just download the
open-source flex sdk and it comes with
all the necessary like base flex classes
you need like all those components and
it also comes with a command-line Pilar
so this is like if you've installed it
on flex xdk you just run flex sdk bin
mxml see this is the emek smell compiler
and then pass in the name of your M XML
file so the advantage of this is that
it's free so any like it you know anyone
can get started using this and this is
what I used when we first came out with
the flash Maps API since I didn't have
this other option so the other option is
flex builder and that's the IDE that
I've been showing you and that's pretty
cool because it's 90 e it
does like real-time error checking it
gives you a WYSIWYG design mode for
laying out the components which I only
discovered this morning so I've been
doing it all manually you know it'll do
code refactoring for you stuff like that
it's basically a fool I de however that
means it costs money so it's two hundred
dollars but that's still not that
expensive if you're going to be doing a
lot of flex work alright so that's
basically flexed so let's go into the
Maps API for flash first of all we
launched the Maps API for flash in like
march of this year and the reason we
launched it was because there's just so
many people that where there is probably
like 20 different unofficial google maps
api s and flashes because be in flash
because so many people wanted to be able
to use google map tiles and the google
maps experience from within flash that
they were just constantly like rewriting
it and but all of those things were
against our terms of service because
you're not allowed to use the tiles
unless it's from within our AP is so we
wanted to encourage people to do like
these really cool flash maps
applications but in a legal way so we
had to come up with our own official
Maps API for flash so lets you write
code in as3 and mxml compile it against
our interface library and i'll put a
swift and then you can embed the swift
in your web page google earth wherever
it actually doesn't support area that's
the number one feature request is to get
it so that the swifts work as air
applications there's some technical
reasons why that doesn't work yet
alright so let's do a live demo so the
first thing you would do is download our
sdk so if you went to our homepage
you just click on this little link
download the google maps api for flash
sdk that comes with basically the
documentation and the interface library
and the interface library is this SWIC
file swc and i have it here's the
download here so this is and you can see
this is one point so our current version
is 1.5 so we need that swig file in
order to compile against so let's let's
see I think I've got it on the desktop
too alright cool so I've got to drag to
the desktop so the next thing I do is go
to flex builder and i'll say i want to
do a new flex project product name is
hello world live demo it's a web
application so we don't sport air and
very good let's create it alright we're
going to add the Swick to the libs so
that it can compile against that alright
and finish okay so it gave me this base
application however what i'm going to do
is just go to the documentation and copy
and paste something let's go to basics
alright so here's our basic application
let's take this that's flash enough flex
ok
and see some compile-time errors those
are my other things all right cool yep
so this one's all set so now what I can
do is go to the little Run button tell
to run this decides to do some stuff in
the background
ok
this is going to open up Firefox and
hopefully it worked
ok
right so classic problem didn't specify
an API key if you're familiar the Maps
API is you know that we always require a
key and it's really annoying but it has
to be done because of our contracts with
our data providers so now I'm going to
go and say shoot gotta sign up for a key
I'll just give it and my personal domain
let's grab the key and go back to flex
and I can actually just do this right
here map key equals you can also pass it
in through the flash bars and your HTML
if you want to so you a couple different
ways of passing the keys that's that's
kind of cool it makes a little easier to
use so now let's reload and see how it
worked ok cool dude it was working now
you'll notice it actually says debug
mode this is because it knows that it's
turning off the file system since our
Terms of Service say that you have to
create web like use these inside public
websites we put it this debug mode on
top of the tiles if you're running it
from the file system some of the
developers think that's kind of annoying
but terms of service are what they are
so such as life alright so that was
basically hello world the code was
really basic just had that UI component
created the map when the math was ready
I just said the center of the map
alright so features the Maps API for
flash it hasn't caught up with the
JavaScript Maps API yet since the
JavaScript Maps API has been around for
three years now we just had a birthday
so they've it's got it's very
full-featured right the Maps API flash
is young so it has some catching up to
do but the advantage is actually going
to be able to catch up a lot faster
because the Maps API for flash is its
own code base and the only thing that it
outputs is the Maps API for flash the
JavaScript Maps API is a subset of the
code pace that powers google maps so any
time we make a change to the JavaScript
Maps API we're actually making a change
to Google Maps
so because of that we can't iterate as
quickly in the JavaScript Maps API we
have to be very careful not to break
google maps as it has quite a few users
so so the Maps API from flash right now
we have events we have all the standard
controls we've got overlays markers
Polly's info windows ground overlays
tile layers the only service we have is
geocoding driving directions is the
number three feature request right now
and it looks like we're going to support
that in 1.6 or 1.7 so the only service
right now we have is geocoding since
that's kind of the essential service and
then we also have some interfaces so
right now you can extend control and you
can extend tile layer you actually can't
quite extend overlay yet so we're
working on that as well and another
thing we have which is different from
the JavaScript Maps API is that a lot of
our controls and markers and info
windows have Styles associated with them
and style objects you can set since
styling is something that's uniquely
important to flex developers like you
noticed in that flex freestyle Explorer
there were so many different styles that
we could set for a particular control so
styling is really important to flash
developers so because of that you'll
notice that we have tons of different
styles for all of like our overlays and
controls like you can actually make a
gradient poly on the map which is pretty
cool that you can actually do I don't
know why you would do it right like why
do you actually need a gradient poly but
I mean the funny thing is that the flex
developers they've already asked for the
ability to do like a poly that's filled
in with hashes or we call ya hatch
strokes and stuff like that so I I can't
explain why these people want these
styles but they want them it's very
flashy so I'll do it I'll do a little
demo some of the styles let's see
polygon
alright so here's our polygon options
demo so you can do fill style and stroke
style and then you can do this radiator
and the gradient has all these
sub-options so let's turn on the
gradient and we'll keep the default
options because they're pretty good and
so now I've got this crazy gradient poly
on the map so technically completely
unnecessary but I'm sure there's
somebody out there that's using this
right now and there's somebody else who
wants their hash style so yeah all right
um so let's go into some reasons why why
you use the Maps API for flash one of
the primary reasons is if you already
have a website that's in flash it's
easier to integrate a flash map than a
JavaScript map it actually is possible
to integrate a JavaScript map because
you can communicate between flash and
JavaScript but it's much easier to embed
a flash map so we'll look at this
example yeah on the green
the future masters that just eat your
flash this visit is a feature of flash
that were taking advantage of so so Ryan
asked about the gradient feature if that
has to be a feature of maps but it's
really just feature of flash so the only
thing you're seeing here that's coming
from maps are the tiles and the
copyright everything else is been
written in flash so because of that like
because all of our Polly's are just
written using like the native flash you
know vector drawing code we can do
anything that you would be able to do
normally when you're drawing factors in
flash so because it's really easy to
fill in a vector shape with a gradient
in flash we can then support that in
pawleys all right let's see all right so
this is an example of a panorama viewing
site they were using quicktime VR before
but then we moved that they move to this
flash viewer so flash is a great way to
view panoramas it's very smooth so I can
go we you can imagine that you wouldn't
want to write this in JavaScript I mean
you could because people do crazy things
but it certainly works much better than
flash so we this is all done in flash
right now you can see they've integrated
this little google map on the bottom and
i can actually increase this if i want
and they have a little marker that has a
beacon coming out of it and the beacon
indicates what we're looking at now so
this is pretty cool because then I can
go and I can actually see that this is
the building that we're we're looking at
right now so they're really happy when
the flash API came out they they
actually made this like a week after the
API came out so it was really easy for
them integrate another example that I
won't show cuz requires a login but nav
X was basically sites for doing like GPS
tracks and they were already using our
JavaScript Maps API but they were using
flex in order to do like you're really
rich you
I around it so we listed them as we made
them a trusted tester for our flash API
and they converted from the JavaScript
using the JavaScript API to the flash
API in just a week and that was before
we even had the real version of the
flash API out so it was like changing
every three days so it's pretty
impressive that they were actually able
to do that so now it's great because
instead of having a flex site with a
JavaScript API embedded they have a full
flash flex flash site so they're only
relying on one technology for their site
so you may argue that yeah maybe they
shouldn't do their UI and flex and they
shouldn't have a website that's all
based on flex but it's pretty slick
interface so I can understand why people
use it so another reason why you might
use it is just for smoother video and
animation I mean flash was designed from
the beginning to be good at animation
and obviously we use flash for our
YouTube videos so something you wouldn't
want to write in javascript is the you
know the YouTube player so because of
that like you know it's great to use the
flash Maps API when you want to do
something that involves like smooth
animation or smooth video yeah that's
here it's great not having to test in
multiple browsers I love it so here's an
example of a driving simulator and this
guy actually did write this originally
with the JavaScript API and ported it to
the flash API and he ended up getting
half the cpu usage and twice the speed
so he was happy so you can see that's
like you know an immediate improvement
let me try and play this okay we so all
it is is a driving simulator and I can
like change the cars and I can zoom out
you see the car gets smaller I can
change the bus and I can stop there we
go so it's just a driving simulator it's
really simple but a lot of people
actually really like this example
because i was getting google alerts
about it for like weeks after we blogged
about it
and you can imagine taking that and like
combining it with Street View and
combine it with actual Street data and
actually doing like collisions and stuff
like that if you've ever got to try to
do animation in JavaScript you can do it
but it gets choppy flash is a lot more
reliable for that here's an example just
using video and here they're just
sinking the video being displayed to
what's on the map and it'll go I think
goes to vegas next so that's just an
example of using video with it all right
another reason better vector graphics so
in the JavaScript Maps API we have
polygons we have polylines however we
now have four different ways that these
are implemented depending on your exact
browser and browser configuration so as
of well I can say would have been as of
today except we rolled back the push but
as of next week we'll have four
different ways so one of them is SVG
okay so a couple of hours support SVG
Firefox Safari etc the other one is
canvas and that's kind of the same set
of browsers firefox safari the other one
is vml that's internet explorer and our
complete fallback is a graphic server
will literally render your Polly's into
images and serve them as tiles right
since we know that images at least work
in every single browser okay so we have
these four different techniques and we
basically query the browser browser and
see okay is canvas supported if so use
canvas if not is SVG supported use SVG
if not is vml sported use vml if nothing
else just use the graphic server and
render some things tiles so it means
like our Polly's work but they have
different they work kind of differently
across different browsers sometimes you
can get donut holes to show up and other
times you can't depending on which you
know version you're using and so it
makes debugging for us really knowing
too because we have all these different
whenever you report a poly bug you have
to find out exactly what what browser
Oh s they're using I'm going to figure
out if it's something like depends on
the implementation so our code for it is
super messy complicated not pretty to
look at in the flash API our code for
Polly's is like five lines long like
Darlie j/s Maps API engineer got really
depressed when he saw the the code for
the flash Maps API polygons because it
was just so simple so the cool thing is
that flash support vector drawing
natively like this is you know this is
something that it's really good at so
because of that like codes really clean
but also your performance is consistent
so in every browser you know that you're
you're going to get the exact same
performance for loading and like vector
graphics on the flash API and your
performance just generally better right
so I actually have a comparison where
somebody decided to do the exact same
thing in both ap is okay so this is the
flash version that load really fast let
me find the the JavaScript version are
you
Shh okay so then we have the Ajax API
version so you can see that this
actually takes visible time to load in
right this isn't meant to have the
effect of moving in country by country
it's simply the fact that it's so slow
so let's go back to the flash again
reload that counting one two done so you
can see like performance is better and
the cool thing is that in every browser
this would be pretty much the exact same
performance the JavaScript API it's
going to vary across every browser so
it's much easier to do things like this
map of the world and anything involving
Polly's um all right and then another
cool thing about Flash is that it can
actually make raw socket connections so
you can read continued streams of data
and it can also read in binary data so
those are two things that JavaScript
can't do you natively apparently gears
is working on being able to read in
binary objects but until then and until
everybody has gears installed we can use
flash so here's a really cool example
where somebody did collaborative chat
rooms taking advantage of the ability to
you know streaming data fast so I'm
probably going to be the only one here
if anyone who's online right now all
right all i am this to you will get
somebody else in the room
you do don't like going yeah are you
there already uh yeah yeah gmaps let's
do the gmaps room ok let's see are you
doing my flat my resolutions all off
okay I'm gonna go to the whiteboard yeah
there you are ok so can you see what I'm
doing all right smiley face sure hey man
ah did you erase your raised in you you
press the eraser erases everything
Fisher sex oh so this is cool like we're
both able to use this map at the exact
same time and you could fake this in
JavaScript using stuff like comment or
whatever but it's very easy to do this
in flash I forgot the name of the server
they're using but it's something that
Adobe provides to make stuff like this
really easy okay Fisher we're done now
and there's also somebody we met with
its really excited about the ability to
load in binary objects because they're
going to be able to pass in like a lot
more data over the wire all right so
this is something kind of silly but kind
of cool and it actually gets asked for
since our map in in the flash API is
just a sprite and since you can write
like rotate any sprites in flash then we
can rotate the map which is basically
next impossible in JavaScript because in
JavaScript you'd have to actually rotate
images on the page so you'd have to use
canvas vml like SP all that crazy stuff
in order to do that but it's super easy
in the flash API so let's look at
example sometimes this is best viewed
under the influence of something
so the cool thing is like so I can stop
this ready let me go a little farther
and I can actually keep using the I mean
this is just it's just it's fully
functional I can keep using it and you
may think this is kind of silly but
there's actually a lot of people who
want to be able to rotate the Mac
because like sometimes when you're
looking at an area you think of that
area as you don't think of it the way
like the world thinks of it right
because we're always oriented to North
you might think of like think about your
college campus you probably have an idea
of what's north in that campus it is
probably not North right because usually
like you take something that's squared
and kind of think of it that way you
know so there's times when you actually
do want to be able to rotate a map and
you can do this in flash do you a
question is a pleasant for rotating
everything by keeping it actually swear
ah so the question is if there's planned
support for being able to rotate
everything but the controls so no but
what you can do is this you can create a
map without any of the controls and then
just use you could use a flick flex UI
components on top of that in order to
like that H slider that I showed earlier
i can easily like put this inside of a
of a panel UI component and then have
that horizontal slider above and just
use that to zoom in instead so you would
create a map without any controls and
then manipulate it outside with some
flex controls that's true so I mean so
the you so he mentioned that the text
will always be upside down this is true
because in the in google maps we bake
all of our texts into the tiles to have
the most you know efficient performance
for rendering the tiles because if you
had to actually load in like at least in
javascript if you have to load in like
text is for all of the different cities
that you see in any given time you're
loading like an awful lot of stuff into
the browser so we always render
everything into the tiles so what
ideally what you'd want to be able to do
is
have like a base tiles that didn't have
any labels on it and load in your own
like your own like tooltips or labels
based on some data that you had we don't
really export any of that data for
people to use right now because of the
data provider stuff so that's a good
point as well so right now the spinning
map is probably more of a fun demo
something to do friday nights yeah but
you know maybe in the future when we
offer more options for like tiles it'll
be more usable last reason is that flash
there there are places where flash is
allowed likes where Swift's are allowed
to be embedded where javascript is not
allowed to be embedded one of those
examples is google earth so Google Earth
does allow you to embed swift's in the
info bubbles so let's open this up this
is just KML file mm-hmm it's going to
open up earth
ok
and I think another example of another
place you can embed it where you can
embed javascript is my space but now
with the OpenSocial I'm not sure that's
true anymore but I leave previews I
think previously they had a limitation
where you can only do Swift all right
click
okay there we go so click on the place
mark and you can see it's actually
loaded in a little flash Maps API inside
the window um yeah it is I moved it hey
I can I can edit it right now ready
quick k milk you guys it's copy paste
this fix it alright so where is Sidney
in fact do you know the last ulong tuned
because we don't know the latching
longitude we're not going to fix it huh
we'll just guess so it's past the date
line it's very near the date line let's
go for 175 and it's below the equator
let's go for negative 30 hey now yeah oh
my god I got pretty good where's it look
at that dude I'm like no that's New
Zealand which is commonly confused with
Australia so that's pretty good alright
so those are the reasons why you'd want
to use flash 10 minutes alright so I'm
going to just show some integrations of
flash with our other AP is so the first
one I wanna show is integrating the
flash API with our Ajax api's now many
people probably don't realize that you
can actually access the results of our
Ajax API is just with an HTTP GET so in
the documentation they call this the
Ajax API is for flash and other non
JavaScript environments you could think
of alternative ways of thinking of that
but this is pretty cool so you can do an
HT me get to some URL and you get back
Jason results and Jason is really cool
because so many different pretty much
every language has its own module for
reading and Jason and parsing it this is
a great format to use so here's some
quick code in flash
to do a query to them so using HP
service and so we can set some
parameters so this is the URL and then
this is some parameters that we're
pending to the URL so v q we're going to
search for Paris Hilton we want this the
normal text format back and then we so
we're adding an event listener so that
when the the URL returns and loads loads
correctly we're going to go to this on
server response function and then we
just send it so this looks a lot like a
like an XML HP request really and then
we have code here which you can't really
see so we'll look at the actual
documentation to see that code phone G
all right so here's the flash code so
then when we get the result back we can
just decode the text into JSON and this
is using an open source JSON parsing
library and it's hosted on code google
com so once we de toda to get JSON then
we can access all the properties of it
and you know use it or however we want
all right so here's an example where
we're using the local search api plus
some flex components to enable users to
search the map for businesses and other
results all right so we'll actually look
at the demo
I always search for Fox because that's
my last name and I think it's a really
good search actually sometimes i search
for pizza that's true all right so we
got some results here basically just
created some markers on the map give
them some labels now let's do let's look
at the source for this all right so
first we have some flex components just
the text box I gave some options here
and a button and then we go down here
this is our our HTTP service so we're
setting that query is equal to the text
that they entered in that input box
we're asking for a large result size so
we get eight results instead of four
we're also setting a restriction type
which is kind of like it's specific to
local search basically and we're setting
in the span and the latitude longitude
which is the center of the map doing
some special stuff there you can ignore
it weird basically did a site restrict
as well and then we're going to send the
result and then when it comes back we
need to code the results into JSON get
the array of results from the JSON and
then we iterate through them and then
for each of them we can get like the lad
geelong dude result out lat result that
street address resultant region etc so
it's really easy to parse and in use
inside ActionScript the cool thing about
JSON is that it's basically the same
thing as ActionScript object notation or
as3 object notation I don't know if that
exists but it's a JSON if you want it if
you had JSON and you wanted to use it in
ActionScript all you have to do is copy
and paste it into your action strip
project and then just give it a type of
object and in your set so is the exact
same since they're both based on xmas
script they use the exact same way of
representing objects like this so it's
super easy to use an ActionScript all
right then weeks just create some
markers add them to map the next thing
we want to do is use the Ajax feeds API
so if you're not familiar with it with
vapi will do is take in a URL to an RSS
or atom feed and it'll give you back the
result of that URL as an array of
entries and then it'll kind of
generalize art because RSS and atom
feeds have different ways of
representing like different information
like the summary in the content so it'll
generalize the results into a standard
result format so you always check title
updated content so it's basically making
it easy for you to use RSS and atom
feeds without having to worry about the
particular era tease of what's the
difference between us and Adam so they
generalize the results for you so it's a
cool API and so we can use that from the
HTTP service as well and but because I
want to load a G RSS feed so a jira
thespeed is an RSS feed that has some
special geo tags in it in order to
specify the point of a particular item
in an RSS feed so because I need to get
those extra tags I actually need to use
the mixed XML JSON response format
because that will give me back the
generalized JSON but then also just the
raw XML for that feed and I need that
raw XML in this case in order to get the
geo information out right um so we're
going to use we're going to use the XML
response and then we're also going to
use this open-source XML parsing library
our XML syndication library which
basically sports Adam RSS etc so let me
just show the demo that might be kind of
confusing all right so here what we're
doing is we have this it's a flickr feed
and we're looking for things that are
tagged with gio and Paris so we get back
a bunch of results in Paris presently
enough and then we can click and like
see an image in the info window so you
source on this this one's a little more
complicated so we have the standard flex
components again
and then we're using the HTTP service
and this time we're saying the output we
want JSON XML so this is give us back
the JSON and the raw XML and so then
when we disco'd the JSON we actually
have to first a code the result into
JSON and then just code the JSON
response data into an XML string so once
so we decode that in the XML and once
we've decoded that we use this atom
class so this is talking about we have
the open source syndicate XML
syndication library and so that has Adam
classes RSS classes etc so we can use so
we say okay we want new Adam 10 and we
tell it to parse in this XML string and
then it lets us iterate through the
entries and we can look forward entry GU
and true to you at a point and then
create some stuff from it so I actually
ended up modifying the X the this XML
syndication library in order to support
your SS so it didn't naturally so we
look at the source I think that's
actually included in here so you can see
the source we have this mxml but then we
also have all these other things so we
have the JSON theorization library and
then we have all these adam RSS etc so
you can actually look and see what the
atom code looks like here it's basically
doing XML parsing etc and just building
up this entry array so this is if you're
if you're doing flash and you want to
parse atom or RSS or any variations of
it I recommend using this this open
source library and modifying it however
you see fit so it gives you a good
starting point at least so in my case I
had to modify it to support to your SS
but it was cool that all it had a lot of
pre-existing classes that I needed
alright so then after I did that I
enjoyed parsing XML so much that I
decided to write a KML parser so least
two of you know a KML is and that's the
google earth air basically it's a
language for defining geo files that are
browsable by geo browsers such as Google
Earth so it's starting with Google Earth
but now supported by google maps marks
offer to earth etc all right so KML is a
very common format for people to
represent their geo data in so we
immediately got questions in a group
like hey how can i parse KML files and
the answer was well it's XML you can you
know parse it that way but people wanted
more of an example so I decided to write
a KML parsing library and do a little
demo of that and I based the KML parsing
library on the XML syndication library
that I'd used for the g RSS example so
here's the actual demo this is using the
this is just using the sample the KML
sample of what's supposed to work in
maps so I support polygons placemarks
line string ground overlay don't support
screen overlays because we don't have
those in the flash API so we look at the
source for this the mxml is really just
creating next the KML and creating the
tree the tree list really the essence of
this is in this library that I created
here and I based it off lib KML which is
a C C++ library for person came oh so
you can see I've defined like all these
different classes for different elements
of KML to coordinates document feature
folder geometry and really all they're
doing is just like an example they're
just doing the using the e 4x XML
parsing so you can see here I'm just
looking for the lat long box element in
that kml kml feature let's look it on
your ring
yeah let's look for something that
actually has feature all right so here
like I'm getting the description by
checking for the description element
snippet kml name looking for an atom
link as well so i was able to take
advantage of the atom classes I'd
already used since kml uses adam for its
attribution so we create an atom link do
some other stuff so so yeah that's a
example of it's really easy to use efore
x to parse different types of xml so i
recommend if you want to do that just to
base it on the open source libraries
that are already available and modify it
for whatever whatever particular xml
format you're using so final example is
just using flash with PHP my sequel so
here we're basically going to do exactly
what we do in the JavaScript API what we
recommend is that you use PHP to output
xml based on your my sequel table and
then parse that xml into your map so
that's what this is doing I actually
followed the majority of my JavaScript
tutorial and then at the very end just
made the flash version to display the
XML so here we're just doing we're
sending off euro request and this is
actually running live on my server and
that's generating the XML and when the
XML comes in I'm just parsing it so you
see i'm looking for all the marker
elements iterating through them and
getting attributes so marker at name
that's attribute address type lat long
etc and creating the marker on the map
so it's a very simple XML parsing
example but it works all right so yeah
that's
uh that's pretty much everything any
questions yeah so this is e 4x and I
think it's similar to xpath but not
exactly the same so you can look up
efore x let's say data I think it's
similar to X bath but I don't it's not I
don't think he's exactly the same and
yeah so it should be so that action trip
three supports it but I think the plan
is for JavaScript to support it soon
it's pretty cool it's basically you can
do the traditional style XML parsing
like get elements by tag name
getattribute you can still do that but
when I actually did that and post this
sample that did that somebody that flex
developer in the group was like hey why
aren't you using e4x I was like whoa
okay so the cool thing to do is to use
the fur exile parsing and that's like
the modern modern style of XML parsing
and it's nice because it's pretty it's
pretty compact to write as well it's
faster to get elements
what kind of size do yet ah don't
usually look at the sizes but we can
just check some of my yeah and we can
just look in the flexibility so the
question is about size what kind of size
we get so we can look at the one that we
compiled today and the Swift is 286
kilobytes now the way the Maps API for
flash works is that we actually
dynamically load in the Maps API when
the Swift loads so that to 86 kb doesn't
include the Maps API probe lash it at
the minimal it just includes like our
interfaces right so this is kind of a
technique that we came up with because
then we can actually push we can push
updates live we can push bug fixes live
to people without them having to
recompile against a new a new Swick so
the way our versioning works is that if
it's a new feature like a new function
or class you'll need to go and download
a new Swick and compile against it so
that like it knows about it and knows it
exists but if it's just a bug fix you
can actually wait for that version to
become the default version right once
we're sure that like it's it doesn't
have any new bugs in it or you can just
pass in version equals 1.5 through your
Flash bars and that will force that
version to dynamically load in so that's
pretty cool and it's a system that the
flash engineers came up with for being
able to push bug fixes without requiring
people to recompile right now people are
generally recompiling because we're
actually launching lots of like new
features but you know when we stop doing
that which is when we start to stabilize
more it'll be mostly bug fixes that
people want so okay
okay so you gonna go make a flash map i
had i think i really recommend action
like using flex an extra three I it's
just really pleasing I know this is like
the train javascript and stuff but
actionscript-3 is just really like clean
and the ability to use like all these
components just off the bat is really
nice you know I know I could go and use
like a library like subtract Ulis and
use a component in there but it's it's
really cool when it's just part of you
know the like if HTML came with a tree
list by default that's what it's like
and it's just cool to be able to do that
and it's nice awesome because it creates
kind of a common user interface across a
lot of people's flex projects so when I
come to somebody else's flex app I
immediately know how to use it because
I'm used to the component there too so I
recommend it I think it's fun all right
done
Oh</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>