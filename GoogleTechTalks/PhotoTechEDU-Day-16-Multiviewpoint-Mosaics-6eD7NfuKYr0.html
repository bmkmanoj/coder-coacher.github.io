<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>PhotoTechEDU Day 16: Multi-viewpoint Mosaics | Coder Coacher - Coaching Coders</title><meta content="PhotoTechEDU Day 16: Multi-viewpoint Mosaics - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>PhotoTechEDU Day 16: Multi-viewpoint Mosaics</b></h2><h5 class="post__date">2007-10-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6eD7NfuKYr0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay thanks for coming everybody to the
16th photo tech lecture today we're
happy to have leads Elna kman or from
caltex vision lab to talk to us about
multi view image compositions we take it
away thank you so the stock today I'm
going to present some things that we've
been doing it's about ideas we had about
how to compose images everything that
you'll see takes place after the images
have been taken so this is not about the
the process of capturing the pictures
but rather what do you do what can you
do with them afterwards okay so this
works so why do we take pictures many of
us probably you're here so people just
love having cameras and taking lots of
pictures and having digital
photography's even made that an even
greater experience we just go around and
grab hundreds and thousands of pictures
and usually we're just trying to capture
memories so it could be memories of a
person or place an object something that
we found interesting but just taking a
single picture in many cases is
insufficient it's not it's not the
Google presentation of what we've been
doing I don't know how many of you find
themselves just doing click lick lick
lick lick a few pictures or just moving
around and looking the different pieces
of the scene around you and just
probably put in here some some comments
some citations from Stefan Johnson so
there was this symposium a few weeks ago
in Berkeley and saw Stefan Johnson who's
a great photographer said those things
that memories are simply acquired over
time in many moments and photography is
often a concatenated experience so you
don't just take a single picture take a
few sometimes it's just no you cannot
capture the whole scene within a single
shot because I'm maybe you cannot move
backwards and that's all the zoom that
you have so you can take snapshots which
are pieces of off the scene and then you
want to somehow maybe organize them in a
better way like here I put them in the
right place or rather than being in each
picture being and it's as this appear as
a thumbnail as a guy and it's greed
sloth we put them in the right
geometrical organization and what one
such formed it's very popular for
organizing pictures is using panoramas
here just took those four pictures so
you saw in the previous slide and we
perfectly aligned them using some
transformations I will discuss that a
little bit ahead and then merge them and
you get something which looks like a
single bigger picture of the scene so
why do we use such panoramas because
regular photo is like you see this
example this is in the courtyard in our
building you cannot capture much more
than this this single arch from since
the courtyard is closed so your video
stand here this is more less what you
get with a single photo you could use
fisheye to get more but it's rather
distorted and then you can use tools to
undistorted fisheye alternative you can
try and do something like that which
hopefully looks better so it gives you a
big bigger clip fill the view and it's
not distorted and obtaining things like
that is the first thing I'm going to
talk about today so first part of the
document going to concentrate on
panoramas which are smooth looking our
image compositions that and our goal is
for them to look good and this is very
subjective but I will try to convey what
I mean when I say look good throughout
the talk
so what was the standard solution for
for panoramas so this is engineers or
scientists I know how you want to call
whoever worked on this problem figured
okay if we have let's take the camera
and put it on a tripod or if it's not on
a tripod if you're holding it just don't
move you're not allowed to move your
camera the only thing you can do is
rotate it now if the nice thing is that
if you limit yourself to rotations the
geometry is very very simple you can
think of that as if you're taking you
have a sphere around you and you're just
capturing pieces of that sphere and then
what you need to do is to research them
on the sphere add methods for doing that
are readily available you can download
why few tools that do that there is auto
stage pano tools a number of those i
think like canon cameras come out with a
tool for stitching / stitching images
photoshop and most of them are based on
the same idea so the geometry is well
known it's it's well defined and then
the details are and how do you actually
do that so typical methods will start
with finding features like this point
here and the corresponding point in the
other image once you find enough of
those you can compute the transformation
how to align the the images with respect
to each other and then you can stitch
them on the sphere so this is something
that's known
Oh something that's not really clear is
once you stitch your images on the
sphere get something that looks like
that how do you then open it back again
into a single flat picture which is
often what you want to obtain so just a
note of that so I think already in
eighteen seventy or so there was forget
the name but the first panoramas were
constructed and people would the
panoramas were placed typically on a
cylinder or a sphere and you would walk
into this in your full body oh just walk
into this big construction and look
around you and you will see you will see
what you will see will look as if you
were there in the original scene this
places you at the center of the sphere
and you're just looking around and
seeing as if you were in the in the real
place when you come to computers this
was replaced with things like qvt are
where you have your given just a small
window and you can rotate and look and
go up and down but you're actually just
seeing at each time you're just seeing
one piece of the sphere you're never see
the whole sphere and there are no issues
but if you want to see the whole scene
which could be 360 by 180 degrees you
need to flatten it if you wanted to
print it if you want to send it to
someone just want to get full view of
what was there you have to do this to
take this step and this step is not
trivial and anyone who ever tried to cut
a ball and flatten it knows that it's
impossible to do it without distorting
the surface so distortions are
unavoidable you cannot get a correct
nice or a correct looking undistorted to
the image from a panorama there must be
distortions the question is which kind
of distortions you want to put in which
ones you'd rather have and how do you
how do you mix them or choose between
them now the interesting thing is at
least within the so I'm a computer
vision person at least in my field and
from what I know are within graphics
people haven't really touched on
to just say okay let's do the standard
things look so I'll show what they've
done but what I'm going to explore two
things one is what cartographers do
because cartographers have map of the
globe and then they need to flatten it
out so they have the same problem they
and they've solved it to some extent an
artist have also tackled the same
problem of trying to represent scenes
complex scenes on a 2d canvas so the
solutions that scientists gave us or are
typically using one of two types of
projections so the first one is
perspective and perspective projection
takes just go have a a pointer I don't
have a pointer yeah okay so perspective
projection just places a plane tangent
to the sphere and then emanates ray from
the center of the sphere and the pixel
here will go there and so forth and this
is what you'll get this is very similar
to what you actually you're actually
doing when you're taking a picture
although you have some less distortion
so it's not exactly that but more or
less than but perspective so but
perspective is very problematic so
perspective can only work up to some
angles like you can see here that it
cannot most do 180 degrees and when you
go to 180 degrees hold of you this plane
will have to extend all the way to
infinity and things will be completely
smear now if you were to stand right
there at the center of the sphere and
look at this plane even though it
extends to eat finity it would look
exactly as it should but typically we're
not standard typically once you have the
picture Europe can be at any distance
from it and these are so this is very
famous picture taking by that was shown
by Pierre on this is a sphere in reality
and it looks completely distorted when
you take a photograph of it this is the
little reconstruction that we made so
just we took five pictures of the same
person just standing in letting the
camera rotate
so this face is in the four corners and
this is what the face should look like
but this is what it comes out and the
photograph there it comes really
distorted because of perspective now if
you if you were to move close here and
look at it it will look good it's only
once you're far away and you're not at
the center of projection is if our than
standing here you're standing here and
then things just look distorted so
that's perspective another one that I
just I grabbed from Time magazine thing
yesterday or the day before and I don't
that noticeable but i think the heads
are somewhat elongated and i couldn't
find a better one yesterday but
typically when you go in if you look at
time at is in whenever they have people
that like taking the photographs a
little bit from below and when there are
lots of people standing in their heads
are the corners of our towards the
extremes of the picture you can find
them looking oval shapes so this is
perspective with panoramas we're doing
since we have wide field of view this is
typically not a good solution and here
just tell you a summary so if you send
the center of projection you're good but
people tend to move around the picture
or move that picture and it doesn't look
that great another projection that's
been used is called cylindrical and this
one is actually is like you take your
sphere you wrap cylinder around it and
the simplest one just says okay let's
take every angle theta every horizontal
angle and map it to a column in our
final image and every vertical degree
will be a row and then you can choose
also final resolutions but you maintain
aspect ratio of angles this one is
called cylindrical projection I think
also rectangular and equi distance I
mean I'm not sure about the deals
details and this is what you will get
from it so this is we took a set of
pictures we stitch them into a panorama
on the sphere and when you flatten the
sphere using cylindrical projection this
is what you get so vertical lines look
straight because vertic
Alliance on the sphere or vertical lines
on the real world and when you put your
cylinder around it they remain vertical
horizontal lines are bent because they
were not all they were so horizontal
line in the real world are like latitude
lines on the sphere and then when you
project them they open they they bend so
this is what you get with cylinder can
and this is by the way this is the
common projection with most panorama
tools that you will find online this is
the projections are typically being used
not perspective perspective just kind of
cover wide fields of view and if you
have buildings and structured things you
will notice the distortions if you just
have scenery with mountains and maybe
here you'll have grass and at the top
you have sky you won't notice the
distortions the distortions are mostly
at the bottom and the top the center
looks good the distortion is less
prominent there and this is just summary
of what happens so the center looks good
horizontal line is more or less kept
horizontal aspect ratios are more or
less kept properly as you move far away
from the horizon things are get more
distorted but kotaku first came up with
other there are numerous projections and
one of them for example is Mercator
which is very similar to sorry to the
rectangular one that we saw before did
so the previous one was just theta in
the horizontal direction and see the
vertical angle in the vertical direction
this one just takes the vertical
direction and stretches it a little bit
so aspect ratios are maintained its a
conformal mapping it was important it
was really important for calligraphers
to be able to navigate properly using a
map it's not that crucial for us for
things to be conformal although
for this gives you it shows you the
difference between the two so while here
there's so this is a panorama of the
pantheon and the little shaft that the
ceiling is circular shaft it's perfectly
circular and with the rectangular
projection it looks it looks squished
while with the Mercator it looks it
maintains its correct aspect ratio so
these are different differences between
different projections that you could
choose maybe but in some cases you could
choose something else or maybe transfer
medicator which is just takes the
Mercator and transposase it in this case
divert the horizontal lines will be kept
horizontal vertical lines are bent now
in most cases when you have people when
they take panoramas they tend to move
more right left this is just the way we
are used to won't capture out the world
look at it so this is not a good option
but if you do want to take panoramas
which are more elongated up down then
this the transverse Mercator could be a
better choice so here I craft only so
you see only the visible area but you
can see that you can see the legs of the
photographer all the way to the top and
everything looks straight while here the
horizontal lines are bent and here as
well
there are many such projections and you
could very easily implement all of them
play with them choose the ones that you
like here you see the full views of the
previous visualizations I just cropped
the part which is full here you see
black parts because we didn't have the
full sphere when you took the pictures
so there are things that are left and
you can see what happens with each with
each projection so this is where cater
perspective we see the huge distortion
and its its crop because beyond that it
just got too much distorted and
stereographic postel and there's a book
by schneider with all those projections
and you can actually come up with good
heuristics on which one you would like
to use depending on the scene content
and depending on the geometry of the of
the panorama like the angles and so
forth so that would be one option that
you can look at we were looking
something slightly different we said ok
we like the cylindrical projections
because they capture wild fields of view
but there are somewhat distorted in in a
natural way the band horizontal lines
perspective feels better when the field
of view is not that wide so let's try
and see if we can do something which
gives us both it looks like perspective
but still captures wide fields of view
and artists have been doing that for
many years so even though people tend to
think that perspective has been known
already since the Renaissance days and
most artists can can draw using correct
perspective they don't many of them
don't do that like this example which
has multiple viewpoints and you can find
many others which are not correct
geometrically and what's being done in
many of those in a sense is rather than
taking the sphere and placing just one
plane and projecting onto it you put the
multiple tangent planes and then you
just open them like an origami now each
plane is has perspective projection so
it looks good the big distortion will be
at the intersection of such planes
this distortion is often very nicely
hidden like in paintings you like any
distortion here won't be noticeable
because it's just kind of greenish
yellowish you don't know what's going on
there so you can change the viewpoint
but this was also used a lot in Chinese
crawls where you have views of the city
from side view in the top view and they
just change between EU points freely and
you don't care you look at it and it
looks fine so what does it mean for
panoramas so given a panorama what we
need to do is Mark maybe so rather than
having placing the cylinder we're going
to put a parallelogram we will call it
how we call it in okay so you put the
parallelogram around your sphere you
were wrecked with a set of planes you
need to find those vertical lines where
you're going to cut the planes and then
you will unfold it and the trick part is
actually fine choosing those
intersection points between the planes
to be nicely hidden so for example here
there are natural vertical lines at the
intersections between the walls and you
can get this result which looks rather
believable you don't have any bending of
lines and the distortions here there are
distortions but they're not that
evidence so here just a comparison at
the top you see the cylindrical
projection with the bending of lines and
here see the multi the multi-plane
projection which shows you everything if
you see I know if the quality is good
enough but this sculpture for example is
distorted you can see there so there is
some funny shape here so maybe this was
not the best choice for a cut but maybe
I know so this is what you pay for
having this a few more examples it's
just the machine shop in Caltech and the
building is is a standard rectangular
building it's not it's not a round
building and the top of the city in
recovery action you could think this is
around building but it's not it's just
and here I hit the so I hit the multiple
plane the the second things I think more
or less here and since there's this is
just a homogeneous region with the road
don't notice that it you don't see it it
looks smooth another one with the
sculpture and you can see the difference
so here he'd I there's a plane here and
another plane for the sculpture and you
can see that here the legs if the
photographers are shown in nicely stores
proportions here you don't see them
because it just they got smeared so much
where the cylindrical projection that I
cut them out another example and another
one in our courtyard again I think like
if you look at the cylindrical
projection it just looks as if there's
the arches are within a big arch whether
or not this is this part is straight
this looks more realistic one thing that
happens with this projection is that
even though you can use you don't need
to do that many planes to fit
perspective perspective looks good up to
45 50 degrees people still look bad in
such viewing angles like this guy sees
is somewhat stretched in a funny way
he's very skinny person he shouldn't
look like that and that's also something
that it's been known for a long time
here's here's another another example so
these are five this was these are five
frames from a video and this is one of
my sons and I was just tracking him
while he was running and making fun of
me and stitching those so that the
background is aligned and then showing
you what he would look like in each of
those frames you see that he's had his
stretch to the right here another shape
here this one is more or less realistic
here is that he is at the center of
projection and this is what he looks
like it doesn't look like the other ones
and we don't want that we want him to
look good in all of them now this has
been noticed by artists for a long time
so if you look at Renaissance paintings
most of them don't give the same
treatment to the background at the
foreground
many of the paintings are drawn use a
perspective to draw the architecture and
the fractures in the scene and people
are just pasted on the scene in complete
just not obeying any correct geometrical
or constraints like for example look
here there's a little ball here and if
you enlarge this region you will see
that it's perfectly spherical well it
should be somewhat oval if this is
perspective projection and there are
many other examples of that so we said
okay this is good for painters why not
why can't we do the same thing we have
all those great digital tools we can
take pictures and do the same and this
is another version of doing those multi
planes so in this case the background
will be just one plane and then the ball
will have just will be painted as if you
we attached a little tangent plane here
and then it's just placed in the right
spot on the big canvas of the background
how do we can do the same thing with
images so just taking those five images
we cut them out and you can do that
either automatically using or semi
automatically using Photoshop or GIMP
and that's what I did in this case of
their intelligent scissors that you cut
out the people very easily very quickly
in this case i also have filled in the
background the fill in is not perfect so
I have a separation of background
background and foreground of the
original pictures this is not crucial
it's just it just was just used to
generate the background panorama which
is not perfect but now i'm going to put
back put back the de little guy and all
the occurrences and what I did to put
him back now is rather than put him in
the correct perspective projection i
just took those images where I see him
at the center of projection and pasted
them on top of the panorama
look at that for comparison so look at
his head here and his head there and
here and there I think the difference is
is vivid and just what you see the top
matches more so typically when we look
at the scene we turn our head so we
always see the person at the center of
projection that's what this person
should look like he should not be
distorted and that's why this is more I
believe at least this is a better fit to
what one would like to see them then
this is just another example so the top
is cylindrical cylindrical by the way
doesn't distort the people that much but
it does distort the background so you
can fuse the multiple planes and place
the people paste the people like on top
of it and they tend to look better
another one this one is really extreme
so he's so he's very tall so that's why
he got that distorted so I was sitting
low and he's 65 so he was just at the
right at the corner of the panorama and
he got really distorted and pasting him
makes him look normal and this other guy
that we saw before again so the final so
well so this is what a standard panorama
tool will give you nowadays and this is
what we're saying maybe you want to look
at doing something like that right now
it requires some manual intervention but
not intensive and you can get things
that look somewhat better and we're also
working on automating that it's doable
to some extent
so so what I showed you so far i believe
convinced you that we can have multiple
viewpoints in a single panorama and it
doesn't look bad in fact in many cases
it looks it looks rather good so then we
decided yes okay so actually here I'll
show you I haven't used the other frames
to fill in the background what I use
this texture propagation and I used one
of the older optimism so this one is
from 99 it's not as good at this why
this is why you have such artifacts but
there are methods we just take a hole in
image and do in painting and kind of
smart way you do it pick you can think
of I can be viewed as very just
intuition so say you have a whole you
choose a pixel which is on the boundary
of the hole so you have some part of the
neighborhood you do have only one part
is missing and then you look in your
image for other regions that look that
at least the area that you the piece
that you do have looks the same then you
copy that pixel from there and you
propagate that and you can optimize it
and you could get better things than
that in most cases i didn't i didn't
even need to do that or maybe just a
little bit so what happens why did i do
i need to do that let me show you
another example
like here so the reason you need the
background propagation is since he's
going to capture less than he did before
and you just need to fit in these areas
so either you saw them in other pictures
which is very common because we're
talking about more panoramas so you do
see things and if you haven't you just
use that but yeah it could be it could
be a problem so not so not only from
from video we have this issue don't see
with multiple frames typically also the
leftovers are not that big so the
texture propagation doesn't need to be
that great but you're right
okay so everything we saw so far looks
smooth and nice but we forgot one thing
the camera needs to stand in place it
can only rotate you cannot translate and
sometimes you want to do that right here
there are three people we want to move
around it could be either because we
want to avoid obstacles like here there
is this PO in front of the building and
if I want to capture before bidding I
have to move one side of the pond to the
other side of the pool I cannot stand
still sometimes just you want to see
more of the Cedars if you love vehicles
or machines like I do then you want to
see both the front and the back you
don't want just to see a single view of
the machine so what do you do then
there's actually no there's no solution
there's no correct your metrical way in
which you can stitch these two images
and they will look smooth and nice there
is no such thing you can think of what
what would happen if you take pictures
of a person so we'll take a picture from
here you will see this side of the nose
they hear this side of the nose how do
you stitch them it's not just the
transformation that there's no
transformation even nonlinear that or
maybe there is I don't want to say
something that's strong but probably you
cannot get something which looks like
which looks completely good so people
just said okay don't move and we didn't
like that we said doesn't make sense and
let's again we started exploring what
others have been doing so we find this
piece of work by Michael collar who's
been taking long images of streets in
San Francisco and I've heard so that
this is a high interest to you guys
there's also work from Microsoft I think
it came last year or the year before
where they were taking lots of pictures
on Long streets and then merging them
together and these ones actually were
done by him manually so he would take I
think about 200 pictures for some
something like that
and and then he would teach them
manually one thing that you can see that
he did is that he cropped off the
background and that's because it's very
difficult to make the background align
nicely as well as the format so get
getting both things with our clothes and
things that are far look good is
difficult so it's typically cropped but
you can find solutions designed for such
a scenario where you know that your
scene is more or less flat and you just
walk along it not that many surprises in
terms of structure in the scene
but another idea something that we found
artists do and that is looking for
non-smooth compositions and the artist
David Hockney has been has played with
such ideas I think in the 80s and he
constructed lots of lots of compositions
where he would just take lots of
photographs and at that days he would
actually have the actual pictures and he
would manually stitch them on and
compose them into things that look like
that which many people find very
compelling so his work is highly
appreciated and there are many more
examples of his work and you can see for
example like here you can see the
texture the bottom of the trees so
you're looking at this from above and
you're seeing things here some things he
does incorrectly in purpose like I don't
know if the resolution allows you to see
but there is a piece of graffiti on the
wall and he put that in front of the
tree because he wanted you to see what's
on the wall so consistently he breaks a
geometrical constraints and put things
and places pictures in a way that that
is appealing to the eye and an
intriguing and captures the essence of
the scene
see me I found a similar work by James
Balog that mostly takes trees for some
reason this one looks rather smooth and
it's interesting because this guy said
to get his compositions he was actually
using cables and all kinds of machinery
to make him to go up and down next to
the tree and it's interesting to read
and there are many people who are just
amateur photographers who are playing
with these ideas um you can find them on
flickr sir this is one and another one
if you go to flickr yo and you search
for tags like Hockney or joiners or
compositions photo stitch you'll find
hundreds or probably more of those so
people are just playing with them they
like them they're constructing them and
we decided to try and see if we can
automate the construction of things like
that so we call them joy or David
Hockney call them joiners and turns out
that we can at least to some extent and
what is the idea we want to align the
images so we are assuming that our
images are not completely independent
there are some overlaps between them and
the overlaps are somewhat consistent
they don't have to be completely
geometrically correct we want to align
them we're going to allow the images to
only translate rotate and scale for two
reasons first because if you wanted to
construct those manually in any image
editing software that these are the
things you have available second having
a warping in hand makes it more
complicated and sometimes look too
confusing and also we were thinking of
treating the pictures as the thing that
as objects as the thing that you
captured and you want each you believe
that each picture is an answer
presentation of what you wanted to show
so we're not want to distort it so we're
just translating rotating and scaling
the images now while typical panorama
tools align
images and then blend them this blending
is not going to work here because things
are not going to be dead consistent and
this is what you get things get Larry
when they are not nicely aligned there
are other methods to merge images but
all of them will not work well when the
images are not perfectly aligned and in
our case they will not be perfectly
aligned so we're going to layer them
rather than merge then we're going to
layer them just like in the joiners so
we choose an order of the images and
while we could just choose a random
order we instead try and find an order
which will give us as smooth as possible
composition and this is we do that by
observing that for example if this is a
picture and these are the green or the
boundaries of the picture so we want
these boundaries to be consistent we
care less about boundaries here which
are going to be hidden because there
this is going to be a layer underneath
so this is the trick that actually we're
going to use the fact that we cannot get
a globally consistent solution but we
can hide the artifacts as much as we can
or get something which looks as good as
we all better than as good as we can so
this is a summer of the system it's
basically the same it's very similar to
what's being used with Santa panoramas
you start with finding features you
match features across images once you
match features you align them and here
we're just using translation rotation
and scale but what's different is after
we align them we can look at the
different orders of the images we choose
the one that we prefer this one in this
case we can sell this one is decidedly
this one is nicer and then you say okay
this is an important regions let's try
and make things look good here and we
care less about other areas let's just
look at the step-by-step so here's an
example of four pictures of an airplane
and we start by matching features and we
used David Lough sift sift matching but
again there is available software for
doing that
and after you match the feature you can
compute the transformation you get
something like that which is it place
the images more or less in the right
position but there is for example a big
discontinuity here and there if you just
change the order of those of the of
these images you get something like that
which is already smoother but still we
have so we have this continuity's here
and discontinuity is here so here are
the the engine and at the top of the of
the airplane so now we find those areas
that where we have seams and we try to
realign the images by giving these areas
more importance and we're trying to
optimize there and give more slack in
other areas so this is done by if we had
features in those areas we give those
you see by the size of the service how
much means what's their importance so
here we are close to seem so the
features here have high importance and
well the other one's got completely bare
there are lots of features here there
are tiny dots because they're not really
important we don't care how good the
alignment is there so we realign the
images to optimize for those areas we
get something like that so now we have
you see we have a lot better on
alignment here that the engine and the
top of the airplane and looks smoother
so I'll just show you some examples of
composition of such jurors that we
constructed automatically so long beach
airport cacti Garnett garden and
Huntington gardens and you can see the
multiple viewpoints so we're looking at
this from above so this is the top of
the cat eye and you can see the side and
then we went up to take pictures of the
long of the tall kacta practice and if
you choose the wrong order what happens
is that you get design cut in half and
think don't look as smooth a look over
patchy over fragmented this one is left
right up down
a truck so that's what it was one of my
motivations to be able to see the front
and the back of vehicles the tractor and
they're not they're not perfect right so
there is so this is not smooth but
they're still rather compelling I
believe sometimes the sometimes doesn't
work perfectly and you need to help it a
little bit so in this case we had a huge
collection of things something like 50
pictures and they got split into we
could only stitch more half in half we
couldn't stitch all of them Simon
together there's a tree here in front of
the bridge it was impossible to take to
see the full bridge from a single
viewpoint so we're standing here taking
some pictures and then we move to the
other side of the tree took the other
pictures of the bridge and we could not
match them because they were not enough
features so then we mark them manually I
don't know if you can see the yellow
dots so we just marked two points on
each side on each composition and we
merge them together and this is this is
a completely impossible rage so there is
actually tree here with the cruise the
tree so you cannot take a single picture
of this bridge and you can see that the
building at the back is here and here
it's the same building and that's
because we changed the viewpoint
Oh
um okay so
finding features aligning and the lining
is fast just like and if you have any
experience with panorama software it
depends on this resolution of your
images and the number of your images but
in the order of I'd say minutes few
minutes it could be less than a minute
if you have just a few if you have 50
high-resolution images will be few
minutes the ordering of the images
currently is very slow but that's
probably my fault so it shouldn't be so
I have stupid matlab code that's not
doing things efficiently I would guess
that it would it should not add too much
to the overall computational cost i
would say it would still stay in the
resolution of a few minutes just to put
this in context even if it's slow so
building something like that manually so
we so we've done it so typically what
one of us so I i work with pedro piranha
on this and typically he would take the
pictures and do it manually and i do it
automatically we do it independently and
the last one he did took him 40 minutes
to put them in and he's not an artist
right so he's not doing but he's trying
to get something with he likes and they
took him 40 minutes to do it and if
actually what one of the things that we
would like to do is even if it's slow to
be able to give you that you push a
button will give you something that is
roughly what you would be looking for
and then you will end up refining it you
might decide that you do want to see the
tree here and we got rid of it so you
will change its it's completely
subjective but that's the purpose yes
right so looking at pieces of images
make sense so probably if we were if you
were willing to cut the images we could
get smoother looking results we were
thinking also of not just cutting them
into rectangles but you could also use
methods like graph cuts which are not
rectangles this extra degree of freedom
is at this point was over was too
confusing for us and and also we find
some of the compositions look when
they're okay we found it at least for us
we had to get a costume to looking at
those non-smooth joiners and when they
get over fragmented we tend to be
confused by them now the more you look
at at examples the simpler day because
the easier that we come to you you're
more a costume you become and you're
willing to look at more fragmented
things so I know that even artworks of
David Hockney that I didn't like a few
years ago I do like them now I can I can
handle them so maybe the next phase will
do things like that it's quite possible
we had some ultra projects at the
reproduction so this is the fun part so
this is a fresco by Paolo cello which is
it's very famous because I think he did
it like three or four times and there
are debates wine but this one is not is
incorrect so you look at the Podesta
from below while the rider and horse or
looked from a side view so it's
inconsistent but and there was there's
the debate whether he just didn't know
what he was doing or rather he would
know exactly what he was doing and he
wanted tea so you'll see the Podesta
from below so there's gives you the
sense of oh like you're looking up to
the rider and then if you look at the
person from below they don't look that
right so you see the person from the
side view this is my reconstruction of
the same thing so this is my Podesta you
see the worst from below and from the
top you can see its main and the rider
is seen from a side view this way
actually if i were to blend it and and
fix the contrast and i just the converse
it would look almost perfectly smooth
even though it's multiple viewpoints
this one is an example okay so maybe I
should show this one first so I found
this one on flickr and i liked it and I
contacted the person to the pictures and
asked him can I get the originals and he
sent them to me so this is what I got
and this is what he got it's not exactly
the same but I think this could be a
good starting point if you were to do it
so i think his smoke is a lot better
than mine mostly in and the alignment
that he got is better but we're not far
from it another example so so these are
so David Hockney did a lot of those so
it has the whole project where he took
photographs of people and he was just
moving up and down and stitching them so
we did a few of those since Patrick
Hughes
and now you can see that the background
is is non-consistent so the background
repeats but people look interesting and
then finally we thought that this could
be a way to also if you don't if you're
not into their artistic part of the
story on your more looking more for
useful things so you can think of that
as a better way to organize your picture
so it took lots of pictures in the same
place or of the same person you could
organize them like that and then when as
you move your mouse you will see the
corresponding pictures open up on I
think I actually have that online let's
see if that works for me
so let's see I think they like I click
here and I ok they're not perfect
resolution but you can click on the
different regions you can see the head
you can see the foot all the photographs
of the foot and so forth
so this could be a different way for
browsing your your photographs and
organize them in a more geometrically
consistent way and then in this case
obviously you're not looking for
something that looks perfectly smooth to
just want to have your photographs
organized and this is more that's what
we're providing so okay I think this was
well let's take me to the beginning now
okay so I think this is it so just so I
showed you a couple of things here I
think the main thing I want to say in
doing those compositions is that people
tend to look for correct solutions and
things that are smoothing and brightened
and it's not always necessarily the best
thing you can do or for some
applications for some usages for some
reasons some things which are wrong can
be correct or better for you and another
thing is that when you were doing those
constructions of panoramas and
compositions it's not a pure geometrical
problem you must look at the contact so
if you have people there you might want
to do one thing if your buildings you
want want to do something else it's not
something that you can just do by have a
general algorithm that works for all
images unless you really know what the
content is and that's something that's
again not has not been explored that
much and I think people should look into
that so yeah that's all I have to say
today
seems to work well for staff giving
suggestions for Aaron
some way that you can minimize
distortion yet still has great lines and
our
okay so is there anything that we can do
with an arbitrarily moving camera I hope
I got the question right where you're
thinking also people moving in the scene
or just the camera moving or flick so
okay so the examples I showed the last
set of examples I show the camera was
moving it's not just single viewpoint
but not a lot so it's not an exploration
of like I cannot just walk around this
building take pictures and and stitch
them we haven't touched that yet I'm not
sure I'm not sure I don't have a good
answer so it could be that for some
cases doing something like that would
work but so if you were to walk along a
scene and just take pictures probably if
I just put them one next to the other it
will be more or less could be one kind
of representation but maybe it's not a
good one another idea would be okay
there's something an idea that we are
discuss it is completely preliminary and
it's to think of this as some kind of
origami so you have a set of planes that
you will use and pieces of the pictures
that you took will be assigned to those
planes and then you will somehow have to
put merge those planes so like
multi-level so here I had just one
canvas and I try to put images we're
taking by moving camera on that the
canvas and there I will have many maybe
a few such canvases and I will try and
merge them somehow maybe I'm I'm not
saying this is necessary good but yeah
in your goal complainer reasons
junction is that fully automated where
you just give it the spherical image and
then it selects the appropriate plane
cuts based on minimizing expected so so
right now no there are examples i showed
you here we're done manually we clicked
on the points where you want to do the
the planes to intersect we do have
software that automates that the way the
our software doesn't so it looks at two
things it looks it tries to infer
geometrical structure in the scene so we
look for lines we try to find the
vanishing points and then we try to
place the intersections there and then
also with the cat homogeneous region so
if they're originals or homogeneous or
just textured and we wouldn't care we
like those and then we give so we look
at the cylindrical one and we kind of
give it each possible column a grade and
we choose the best ones so we do have
software that does that I'm know I'm
somehow i wrote this offer and i'm not
convinced anyone will ever want to use
it just because it's just know when you
do two clicks you get exactly what you
want maybe it's better to do the two
clicks I could offer you a few options
but then you'll want to refine them
either
is that
okay so we don't do we haven't done any
contrast matching so far on purpose and
just it's it is so subjective so
probably if we wear if we were to do
that you will get smoother looking
results but you will change the pictures
you can actually find many examples so
okay so we take most of our motivation
from the things we find on flickr just
because these are it's not as its other
people who are constructing them and
many people are actually playing with
focus and d focus so so you can find
maybe once where you have a table and a
coffee cup and everything is Blair just
the cup is in focus you could so and
their algorithms which let you the focus
images there are and sometimes you'll
have the similar effects with darkened
areas and lighter areas so we didn't
touch it we felt this would be too
subjective maybe maybe at some point but
the pictures are actually British
playing yet cycling you can get you can
get cycling oh you mean like going on a
cylinder arm so this is actually yeah it
will so oh no I don't have it online so
there is an example where I had some so
we had pictures taken for 360 degrees
and rather than get is something
straight I got the circle yes so you're
right thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>