<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Google Faculty Summit 2009: Google Flu Trends | Coder Coacher - Coaching Coders</title><meta content="Google Faculty Summit 2009: Google Flu Trends - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/GoogleTechTalks/">GoogleTechTalks</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Google Faculty Summit 2009: Google Flu Trends</b></h2><h5 class="post__date">2009-10-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/YE6ZQijRqLA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome glad to be with you today here
things have been going really well so
that's that's fun hope you've had a good
time
sounds like you'll all be filling out
your surveys my name is Cory Conrad I'm
the google.org project lead for flu
trends I've been with google.org now for
about two and a half years and before
coming here worked on pediatric hiv/aids
care and treatment in Rwanda for about a
year working closely with the Rwandan
government I have a master's of public
public affairs from Princeton's Woodrow
Wilson School so that's more my
background but I work closely with a
team of engineers a statistician and a
couple of others on Flu Trends so
quickly during this lightning talk this
is kind of the structure that I'll be
going through I'll give you an overview
of flu and why it matters and then we'll
really delve more into some of the
details about Flu Trends our methodology
and our models and then talk about some
of the recent additions that we've added
to Flu Trends so what's the problem
well maybe you heard a little bit from
Jacqueline fuller yesterday about
influenza and some of our work in Mexico
but seasonal flu is it's a big deal it
affects millions of people around the
world every year hundreds of thousands
of people die as we all now know very
readily pandemic flu is a real and
present threat novel h1n1 has spread
across the globe
and the challenge is often that
traditional surveillance takes time
there are kind of two main ways that
influenza surveillance may occur in a
country or a place one of these ways is
more of a symptom based surveillance
often called ili or influenza like
illness as the indicator this tends to
be a fraction of patient visits patients
presenting to a doctor who have flu
symptoms over the total number of
patients that that doctor may see this
makes up what would be a sentinel
surveillance network in the United
States we have over a thousand doctors
that are involved in physicians involved
in a sentinel surveillance network like
this based on symptoms
and then a second form is often called
viral logic or it's based on lab data so
lab confirmed strains of influenza blood
testing this analysis just takes time
and this can give delay or response by
days or even weeks so what do we have to
offer then as as Google org in this to
this challenge well our team has found a
close relationship between how many
people search for flu related topics and
actual seasonal flu activity um how many
people actually have flu symptoms so
some search queries tend to be popular
exactly when seasonal flu is happening
and by training our models over multiple
seasons were able to control and filter
for news driven terms that may have been
popular one season but not the next or
regionally as well may have been popular
in one place but not another and so by
using aggregated search data we can
estimate the current flu activity level
in different countries around the world
basically and you know effectively
providing a multi-national near
real-time flu tracking system this is
simply an additional tool in the flu
surveillance toolkit it's not meant to
be a replacement for the traditional
surveillance I was explaining to you
which is based on real symptoms and
actual doctor analysis and lab confirmed
data but it does offer an additional an
additional and potentially useful signal
so let's delve now a little deeper on
some of the details of flu trends and
our methodology this portion of the
presentation is taken from paper
published by many members of our team in
November of last year in collaboration
with some of our colleagues at the
United States Center for Disease Control
and we'll start with some stuff you
probably already know but basically
health seeking behavior online health
seeking behavior exists people look for
health information online this starts a
little bit dated but and it's it's only
for the US but over 90 million people
searching for online health information
in the u.s. a year we can aggregate this
data and process it quickly
here and we know that users may consult
search engines prior to a physician
visit so dr. Google if you will one of
the challenges though is knowing what
people actually search for when they're
sick and there are a couple of things
that you could do to try and determine
what people might search for you could
guess you can make some educated guesses
you could use ontology Zoar medical
dictionaries or actual symptoms that you
think people might have but this is this
is tricky because often queries are
issued in very creative ways and ways
that you might not guess and they are
also influenced by media so let's say
your favorite basketball player has the
flu and you're curious about that or a
company closes down for temporarily
because people are sick this would
influence what people search for as well
so we took a rather naive approach we
looked for search queries that basically
who had popular who's popular we varied
according to the historic surveillance
data so we obtained historic
surveillance data which is publicly
available from the Centers for Disease
Control for the nine regions across the
United States and we tried to pick the
queries then that fit that curve we use
Google's wonderful computing power to be
able to do this and compare each of
these candidate search queries from our
database against the historic data that
we had from CDC it's worth noting that
we didn't pre-filter anything from this
database so Britney Spears was just as
likely to show up or just as eligible as
flu and then we once we identified the
queries we had the best fit for the ili
data we combine them by summing them
together so we had a single predictive
aggregate variable and our model is
designed to then estimate the
probability that a random physician
visit is ili related the sole input
variable is the probability that a
random search query is deemed to be ili
related so we take the queries which
best fit the historic ili data we sum
them together we divide them by the
number of web search queries observed
each tweak to get probability our
percentage and this is the data that's
then about available our estimates are
available from download for download
from our website which I'll show you
momentarily so it's pretty
straightforward it's a pretty simple
methodology really
and then we separately tested each of
the 50 million candidate queries by
measuring how well a model based on each
query could predict out-of-sample data
points so this is a called
cross-validation and since the US CDC
provided data for nine multi-state
regions we fit the models using the ili
percentages going back to 2003 across
these different regions excuse me so the
database has various country it has a
across countries across states so for
the United States the queries that
showed up were specific geo located
within the United States is that the yes
so our model was validated for each of
the nine regions so for each region it's
a model specific to that region so it's
fit to the the data for that region from
CDC okay maybe we can get back to it
after and I'll make sure I've given the
best answer I can so the topics that we
found then fortunately the top 45
queries were and the topics here on the
left and they were all influenza related
so that was a good thing
the the next 55 were not so influenza
related so actually I think you can see
that here the the drop-off that happens
here at 81 was Oscar nominations in the
top 100 high school basketball did show
up
but the top 45 were all flu related
these tended to include things like
complications remedies symptoms and you
can access more of this from the nature
paper available on on flute Trent the
flute Trent's website
so as this 2007-2008 season started we
watched with anticipation
the Google Flu Trends data the trend
line is in blue here and CDC is an
orange and on January 28th we detected a
significant increase in flu activity
this is kind of two weeks ahead of where
the CDC was and their reporting at that
time and so we had our fingers crossed
hoping that okay putting ourselves out
there let's let's hope that this is
accurate and in fact as we watched for
the rest of that season we tracked quite
nicely with the CDC data yes exactly
yeah yes yeah yeah that's exactly right
so that's why it was important to have
the the seasonal data from multiple
regions because a peak in one region
would be at one time a peak in another
region would be at a different time so
across space and time you're actually
then able to kind of filter these
queries that may have been popular in
one place at one time or you know one
season but not the next
so both the geographic and the
time-space time differential piece was
important so this is what our website
looks like this is a screenshot from
February at about what was actually the
peak of our season for seasonal flu here
nationally and you know we were trying
to make this user friendly and nice to
look at and I like the colors you have a
chart here from kind of minimal to
intense from green to red but I think
definitely the most beautiful part for
our engineers and perhaps for you was
this so beautiful
raw tabular data freely available for
analysis and download in a CSV file from
the website and this is what our
correlation looked like for this last
season so the first four peaks here from
left to right are the the training data
or the what the model was validated
against and then the the hype the second
to the left here the higher peak was the
the season that was the holdout so we
were actually seeing how our model
performed and then the 2009 season was
this last season you can see that it
didn't correlate quite as well as the
season before but still doing quite well
this is for one of the nine regions the
west north central region this wasn't
our best fit it wasn't our worst fit it
was kind of in the middle so we thought
it was more or less representative yeah
huh well this is actual oh that's a good
point
yeah we didn't for this region the we
had the peak we didn't identify as
exactly the same for West north-central
that's true the previous season though
so this is looking back over the the
leading is on reporting time so at the
end of a season you'll have all of the
data that has been reported throughout
the season and you'll just line up your
curves so you don't necessarily see the
timeliness piece at the end of the
season but the difference in Peaks is is
an interesting and curious thing for
sure yeah
that's that's a good question that isn't
something that we have really looked at
specifically in the United States but
for an example I'll give you in the next
few slides for Australia that's exactly
what we did so let's let's get to that
so recent additions this is what our
current this was a screenshot from just
a couple days ago we've got our southern
hemisphere country is on top and our
northern hemisphere countries on the
bottom it's flu season right now in
Australia and New Zealand and so we'll
look at these a little bit more closely
Australia I just mentioned so for
Australia there was data publicly
available for the state of Victoria
which is the state in the bottom right
hand corner of Australia here and we
then took the data for Victoria and
validated a model against that and
applied that model to the whole country
and four other states in the country for
some of the states they didn't have
publicly available data or the data just
didn't exist and so this is a bit of
this is more to your your question this
is an example where we did validate a
model against one place and we'll be
watching this season to do a
retrospective analysis where other data
is available to see okay how well did we
do for other states in Australia their
territories and for the Victorian
infectious diseases reference laboratory
whose public data I mentioned we used I
got an email just a few weeks ago from
the head of Epidemiology there he was so
excited he said oh you've detected this
downturn and our data is showing the
same thing and so we're now included in
the vigil a weekly official report with
a Google Flu Trends analysis there in
the bottom which was kind of exciting
for us and you can see that we had this
downward turn and at the top there from
vigil is actually lab confirmed data but
also showing the decreased starting at
around the same time as we did so this
is more anecdotal but we'll be looking
more specifically at data analysis here
at the end of the season and then for
New Zealand I had received a an email
from the head of serving influenza
surveillance they're saying hey this is
a November of last year hey I see that
you've launched this for United States
could you do something so
for New Zealand and so we kind of began
to research using data from the World
Health Organization's national influenza
Centre in New Zealand the New Zealand
Ministry of Health what might be
possible there and were able to provide
estimates for both North and South
Island so again at the end of the season
we'll be looking to see how well we did
in comparison with their data and then
finally experimental flu trends for
Mexico so this methodology is different
from from some of the previous examples
that I've given for Mexico we did not
have historic data and so we actually
hadn't also been looking at Mexico we
were contacted by some of our colleagues
at the US CDC the week of April 20th
they said we're seeing some interesting
activity we have identified a few cases
of this new virus in California can you
look and see what's going on in Mexico
with flu related search activity well we
hadn't been looking at Mexico we didn't
have a model for Mexico but we said okay
we'll see we'll see what we can do and
by taking some of the terms from the
English model and translating those into
Spanish or by taking some of the Spanish
terms that hadn't made it into the
English model but because we have a
spanish-speaking population in this
country we were able to have an idea of
what those terms might be by some of the
other research we've been doing we we
kind of took this basket of terms that
were flu related in Spanish and applied
those to Mexico to see what sort of
trend it yielded and it did have a
seasonal curve over multiple years and
it was showing an uptick in April and so
we said okay in conversations with some
of the Mexican government officials that
were responding at that time and our UN
CDC colleagues we would work to pull out
a build out an experimental model for
Mexico and turn that around quickly so
we launched from Mexico the last week of
April and we're able to provide
state-level data with this experimental
methodology for about 16 states in
Mexico so going forward we're working on
adding more countries and I think we'll
have a little bit more time for
additional questions after but you can
always contact me at sea Conrad
with further comments do we have time
for one more question now Rana
one more okay in the back that's a good
idea I'll have to see what we can talk
to you about that can we just put a
button on the Google search nice that's
a good one
all right yeah yeah that's also a really
good question and one that we're
continuing to think about um I think
influenza in many ways was kind of a
low-hanging fruit it had this nice
seasonal pattern there tends to be data
collected on this you know over many
years and many places so you actually
have a nice golden data set that you can
compare against because it affects so
many people I mean we're talking
millions and millions and hundreds of
thousands dying we've got enough of a
threshold that we think we could pick up
some aggregated activity that shows this
trend so something like e.coli or
foodborne outbreaks or things that don't
have this sort of pattern and don't
affect as many people I think are going
to be more challenging but yeah well
we'll keep you posted
nothing nothing yet but yeah okay thanks
thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>