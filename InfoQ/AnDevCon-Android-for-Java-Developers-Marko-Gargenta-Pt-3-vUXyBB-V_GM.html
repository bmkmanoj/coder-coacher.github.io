<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>AnDevCon: Android for Java Developers - Marko Gargenta, Pt. 3 | Coder Coacher - Coaching Coders</title><meta content="AnDevCon: Android for Java Developers - Marko Gargenta, Pt. 3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>AnDevCon: Android for Java Developers - Marko Gargenta, Pt. 3</b></h2><h5 class="post__date">2011-03-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/vUXyBB-V_GM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so what we what we started doing is
we started working on this little UI
right and there's a lot of stuff that we
can learn through this seems like a
simple piece of UI but you guys are
learning quite a bit about how to build
UI properly as well right because we're
looking at things such as how do you
design design it so it scales properly
on various devices scales properly on
different for different screen sizes and
such right for example let's say that I
wanted to use a third-party tool let me
show you a third-party tool that's not
that's outside of Android SDK
there's tool called it's called try to
draw it's available at dry draw dot org
it's actually online hosted Java applets
so you can actually just turn it inside
of a browser that looks like that
alright so this is why XML is so cool
because XML allows you to do things like
this you can just have a tool where you
can drag a piece of text right you can
take a piece of text I can say okay I
want to put my my title here I think
gonna change this I'm gonna change that
text to be to be something like status
update status
apply right I can make this move it
alright I can then take a piece of
editable text I can drag it in it you
can put it here okay not just the size
alright I can grab a body you can drop a
button here in just the size right I can
in in in
there you go we're pretty much done
right I mean you can adjust certain
things like maybe maybe I want to make
this
slightly bigger so as opposed to 14 SP
maybe I'm gonna make it 30 SP click
apply then there it is you can make it
reposition it and so on so it's a it's a
decent UI right now if you like this you
I do once you're done you can basically
click on generate and this is the XML
for it
I can literally copy paste this into my
UI okay and it's gonna work right so why
didn't I show you this tool right away
why why complicate things with like you
know that content fill parent etc um
this tool is great for quick and dirty
UI alright so you're gonna get to I done
quickly but it's not anything production
to the production quality partially for
one I'm using absolute layout meaning
that positions of these components
they're XY coordinates they're worth in
height it's all hard-coded in pixels
so just for instance let's simulate what
happens if I turn the app device like
this right so I'm gonna change the
orientation did they scale properly it
didn't write how things are off the
screen right so you can do it this way
but it's not really gonna work that well
this is why you know people who program
for iPhone have such it's such an easier
life because they only have one screen
to program for they don't need to worry
about things like this right but we're
building applications for gazillion
different devices out there so we go to
building properly so this is just at all
that you know I just wanted to make you
aware the tools like this it exists and
I expect there's gonna be more and more
tools like this and they're gonna
eventually get it right and it's gonna
be comparable to what Dreamweaver is
today right so you're gonna be able to
do reasonable UI you know you know you
know great tool and it's still gonna
produce xml but the point behind this is
XML is a good tool is a good platform
for enabling tools like this just exist
in the first place
any questions enjoy draw
or any of this all right so so back to
so back to this so we are here doing it
slightly different because we're hand
coding this piece by piece remember keep
in mind that ultimately this is XML and
although it doesn't look that pretty you
can go source format to actually make it
pretty but it's a pretty manageable
piece of XML code right so it's not hard
to adjust
so so far we've done couple passes this
looks sort of okay but not quite for one
I would like this text to be bigger I
wanted to change this text so we did
that we change this text I'm also going
to make it bigger so what I'm going to
do is I'm going to simply go to a text
size and I'm going to put for example 30
SP for scalable font right so there's my
piece of text and remember what we did
before lunch is we outsource the text to
a string sex ml that's why we have ad
drink / update status that that does add
drink points to strings.xml file write
and update status is one of the
properties in in that file hmm SP is
that so the questions about SP SP is
basically the this thing so it's it's
like DP is just used for font so you may
so normally it's 1 to 1 but users may
want to say I want everything 25% larger
just because I don't see very well so
it's a scalable so that's so we're done
with this component this component also
has a piece of text and by default it's
some text edit text which is meaningless
I don't want any text here so you know
delete it from here right I don't have
to have any text however you can provide
something called hint so that's not a
universally important component property
but in this case of this it's useful
hint is you know that great gray text is
you start typing it disappears that's
basically what hint is so unlike text
you don't
- the Elena initial which is annoying so
there's something called a hint here and
again I could enter some English right
here but that's probably not a good
practice instead I'm gonna click on dot
or dot I'm gonna say add a new string
and I'm gonna say hint hint
status so means I mean kin status and
I'm gonna say something like please
enter your status right so this is then
this is the name this is the value in
strings.xml right and so that now
becomes available in strings.xml and i
just refer to it and now I have that
grayed out text there and again it's ad
string slash in status right and finally
button I can same thing just you know
for repetitiveness point of view I'm
gonna delete this I'm gonna do this new
string let me say let me say button
update I may simply say update and
there's my button and I'm gonna just
just first say cough you guys seeing it
I'm gonna make it a little bigger so 20
DP so now this now looks like a pretty
decent UI right I can click on the Run
button here and we should be able to see
this in action now keep in mind and
deploying it on a landscape mode as
opposed to as opposed to the portrait
but should work just the same
let's see starting run as Android app
okay now it's installing it this green
button basically thought the last thing
that I ran was the home screen so I was
trying to run the home application again
okay so there's our screen right so we
have a blob you know button low piece of
text we have Robotnik
type something and I can click on update
it's very simple you like so the
question is does ad string always refer
to strings.xml it doesn't have to refer
to strings.xml but what it does refer to
is to resources string so in other words
I could have multiple file but they're
gonna all end up in resources and
they're gonna be element called string
so that's what it's referring to
it gets flattened right so you could
have multiple files like string one
strings restrict three it gets flattened
to a whole bunch of resources that all
property coaster yeah yes
no namespaces which which is important
because as your application grows in
complexity you're gonna want to come up
with the naming convention that works
for you in other words very soon all
these pieces of text flatten your app in
a single file are gonna become like a
lot of stuff right it's gonna be you
know dozens of dozens of pieces of text
so if you don't name them consistently
you're gonna be sort of you know losing
energy trying to figure out which one is
waitress on that so keep that in mind I
usually do the reverse of what it is so
I would say can't status as opposed to
status can but certain people did the
domain-based so some people in our
company they like to do it like for
example for if it's inside of a status
activity it would be status underscore
and then and so it's it's up to you
whatever works for you but as long as
you're consistent I would say there
isn't a known well-established naming
convention in this case um so that's
that's basically that's basically so
we've done a very basic UI right so we
got the UI the way we wanted it it
doesn't really do a lot but it's there
the next thing that I would like to do
to tie things together is I would like
to switch over to Java to to make this
UI do something so if you recall what we
said earlier is that there are basically
two ways to do a UI right we start here
with the XML we get it as far as we can
to a point where the work
with right the way it looks and then we
program it we give it some business
logic so yes we can keep going with the
XML and in spicing up the UI and we can
do that later
but I would like to tie it back into
Java you know constant integration right
to bring it back in see how it
integrates how it works right so we're
gonna we're gonna switch over to Java
then we're going to come back later on
for some more spicing up to do so before
we move on to Java have a question for
you
out of these four components that you
see on the screen in our application
that's our application how many of them
do we care about programmatically choose
so we care about the piece of text
because we gotta get what is text is
right the user enters and we gotta know
when the button is is pressed
right those are two basic things so so
what the way that we're going to do this
is we're gonna assign an ID to each
component that we care about
programmatically
all right and then later on in Java
we're going to look up that component
based on that ID okay so this is how it
works so there's yet another property
and again it's on my list of properties
so it's ID right so it's a unique ID for
our components that you care about so
that so let's look I'm gonna click on
the big text area and you may notice
that it already has a ID here there's a
property called ID and ideas already set
for it Eclipse always sets an ID a
default ID and it's a it's it's of this
format what it is one two three four and
so on right so it's not very meaningful
I usually take it out if I don't care
about an ID so to explicitly not create
clutter right but if I do care about it
I actually rename it so something that
is gonna you know make me make me
understand what it is so I may say edit
underscore status to be you know that's
my name information again what it is
typed first followed by the name as you
know you could also do status activity
underscore added that's that's a
different sort of approach so this is
the name of
that of that ID now the so that's that's
pretty straightforward you guys get it
now let's explain this at class ID so so
far you saw at string right and it was
pointing to strings.xml or some kind of
resource that had that defined but we
don't have a file with IDs so that's the
significance of that plus right it's
sort of always like this but it just in
case you cared it's sort of because
we're not pointing to something that
exists but we're sort of creating
something on the fly so you're just
saying what you're saying let there be
an ID you know edit status that's it
okay save it that's we're done with that
one and similarly I'm gonna do the same
thing for buttons to select button find
it ID that's now button one okay
they recently change this used to be a
button zero one with a capital B so I'm
gonna change this to button update and
save it okay so now I have those
ploidies the moment you save it you're
our guts gets regenerated in and so
forth yes so well you could show if you
don't have an ID it makes it harder for
you to look at that would be probably
illegal type yeah well I'm not certain
so yes I do get an error here um let me
speaking of errors
you guys are Java developers ja Java is
great when it comes where you can easily
pinpoint what it what happened you know
exactly what's happening where and it's
easy to fix it we have a stack trace
super informative right no no no issues
with job however half of our programming
here is XML based and XML is not so
great with errors right I'll demonstrate
some common errors later on but some are
harder to find than others let's say for
example let me just make that mistake
let me that mistake let me for example
now do clean because I'm like I don't
understand why my project is not
building so I'm gonna say
my project now what happen is not only
see like now I'm like okay why is it not
building a can't sometimes it's hard to
find these XML errors it doesn't really
tell you where it is this is sort of new
okay this little window that you guys
are seeing here that's new that
information needs to be hidden in your
console right so it's even harder to
find okay so but my point was that what
I did is I made a claim right so I had
an XML er but the compile process sort
of works this way up right so it starts
with that a manifest file goes through
all the resources then updates the our
file which is scaring gen folder then
compiles job so since I did a clean now
my our file is gone and what that means
is that all my job is going to be gone
so in other words an XML error can lead
to gazillion xh Java errors right
because XML if XML is off R is not
updated and all your Java the depends on
the tar is not going to be updated so be
especially mindful of keeping XML
tight right and it clips helps with that
it's more and more so so that's one
point in second point is keep saving
your files because if you have things
out of whack
and you start saving it then it's gonna
everything is basically dependent on
each other so files do dependent charge
so so keep that in mind as you use a
developer yeah so this error here so
basically I got an error in XML which
prevents the build script the build
process to even regenerate our file
which depends on the XML right so this
cannot since that there's something
illegal here this is not gonna get
updated and that causes errors here so
now my Java doesn't compile because the
reference is to are no longer valid rate
so it is a Java compiler but it's
because Java our class is missing and
that's that's a very common one that our
our argot
ours missing our is missing kind of
percent because something is wrong in
the resources most likely in XML so this
one was easy to find right because it
says attribute blah blah blah doesn't
exist so if I fix that one I'm gonna
revert this to add + ID / button update
fix that problem look dad got generated
this got generated and this now is fine
right but what if I for example had some
different thing like what if for example
at this icon
I wanted to rename it to refactor rename
to icon 1 okay so now now is a much
tougher error to find let's find this
error so so these are the errors you
kind of hate this is the type where the
you know spending entire day searching
for and you know so it just tells me
your project is not compiled your
project is not building but there's no
Java error okay and there's no there's
no meaningful like forward or lacks to
the problem error right so you know once
in a while things get out of whack so
you know that's what we are trained to
react to that by doing create you know
make clean make essentially that's what
you do here you see clean clean the
current project BAM I clean it and
that's when you use the assumed
sometimes this may not show up
so now problems are everywhere right
that's the kind of like blot problem
situation right all along
my problem was right here with this name
icon one right and the reason for for
that problem was that the only way to
find it was in a console which I keep
hiding but there's some of you it may be
normally hidden and you may not be
reading this error message and it's not
the most the most included error message
because it's referring to a
to a
regular expression right but it's saying
the file name must only contain a c09
underscore and dot
no caps no hyphens right so now this is
kind of like this is not like a weird my
note - what's wrong with the icon -
Lenore icon - you know logo or something
like that why why not why is that not a
valid name exactly so the reason is that
because this - this - is because it's
going to become - in our file because
remember everything I put in my
resources is being watched by coca-cola
apt that then regenerates move my our
file so you remember in our file that's
gonna become a variable so what I was
proposing is to have a variable with it
with the name
Mike like this and you see that why
that's no problem with Java because -
means - right so keep be mindful of
those XML type things because they're
hard to find
um I I believe so yes yes because yeah I
believe you can start a number but so
you know just use a lower case on this
course on you good yeah yeah all those
so these these names here drawable
layout values those are those are
predefined that there's a short list of
names right so there's it's not you
can't create your own folders in here
arbitrarily there's there couple things
that you know you can add like raw for
all data you can add XML menu but
there's a handful of these like half a
dozen not nothing more right by the way
why do I have three types of drawables
why do I have three different roles
exactly this is one resource this is
only one we only have one trouble we
have three versions of it one is for
local low high and medium desperate and
they all have the same content icon icon
icon so depending on which screen you
have it
pick a different icon and there are same
icon except this one is 36 by 36 24 by
24 48 by 48 or something like that right
so different pixel density so this is
based in pics in the nest dpi so high is
240 dpi which which is basically most of
the modern phones medium is what you're
you know Google or Nexus
g1 is for example right that's kind of
60 dpi and so those three were created
for us but we can create our own right
that's what I was talking before lunch
like you can create alternate resources
for example if I wanted to create a
layout for for landscape mode I could
then say ok let's create a new XML new
Android XML file and I'm gonna say
layout but in this case I'm gonna apply
layout for landscape mode and that's
gonna simply add dash lines to it so how
does it work with so the question is you
know what's the fallback what's the if
you don't have the specific what's the
default one can in this case we don't
have it there's simply no drawable
period folder there isn't yeah so
exactly so if I cared for example extra
hide then I don't know what I'm not sure
if low medium and high is neutral
exclusive collectively exhaustive it
could be I think it is but if I had the
fourth option that wasn't represented
none of these would match and you build
simply research not found well it would
scale it if it found the resource in the
first place to work with but if there
was no match for resource it will they
wouldn't find the resource to scale but
yes it can scale the resource as a
matter of fact let's let me so let's let
me do we're gonna get to that let me do
that next we're going to basically add a
background and we're not gonna provide
three kinds of
cities for a background we're just gonna
do one so well we're gonna get to that
okay sounds good
so let me just finish this Java thing
first so then so that you know we tied
it up and then we're gonna do that the
spice spice it up a little bit so here
we are in Java right so this is a
distributor Lee simple little piece of
code right as I said it isn't we're
subclass and activity overriding
oncreate calling parent so so far back
at square one the only useful line of
code is this line of code which
basically says load up that piece of the
XML that we just did I mean you know up
here right so that's that's all that
that carries okay so here's the thing
once you execute this line of code
you're doing what's called inflate from
XML
so we're inflating Java from XML and
this is where Android sort of meets this
is where Java sort of meets an XML right
this is how Android sort of builds the
UI okay so this line of code is
equivalent if we manually took our XML
remember this is just ex-mo we took our
XML
let me reformat it okay yeah I took our
XML and converted it to lead to job
tsunami so if you did this is in
swingin' AWT how would you do this well
you would say linear layout my linear
layout equals new linear layout right
text you new textview linear layout dot
add text text you right
so essentially you you know if you were
gonna build this in Java this would end
up being a couple of objects one two
three four objects in each object would
have a whole bunch of set this at that
right so Saturday impatient vertical
send height this set text that set text
size blah blah blah right
so essentially what here
doing is for every element in XML we're
creating a new job object and for every
attribute in XML we're setting the
property of their job object okay so
there's really not that much magic so
this basically is a one-to-one
correlation between this and Java this
becomes job so on the fly this gets
converted to each other then Java runs
absolutely can you do this in Java and
forget about that smell absolutely you
do not need to do XML at all as a matter
of fact XML is a throwaway
right I mean this is just to get us to
develop faster because didn't you like
that pull button draw button in draw
button there or just sighs rate tools
are an awesome in XML because tools can
exist you can't have toast like that in
Java
can you get a tool like that generates
Java code I've never seen something like
that and creates X edge Java okay so um
yeah okay
so that's yeah so you know that's that's
enough that's another possibility but
the point is that X amount lends itself
nicer to tools like that right it's it's
nicer to create a UI in this sort of
graphical WYSIWYG not being able to
adjust it in here and then having that
be just BAM inflated into ax into Java
okay second point is that ultimately
after this line all that is now a job so
all those objects actually exist in our
memory space right so now that we have
all those objects in memory space we
just need to find the ones that we care
about so we said we care about - right
we care about the text and the button so
what I would do is I would define them
here so edit text so this is my edit
status and button button update right
and then control shift auto organize
imports write them to import it and at
this point
I had those two variables now I just
need to assign them so that's that's
pretty straightforward it looks like
this so and it status right and you say
cast from cast it - it's a edit that
text right and then you say find view by
ID f-- r dot uh-huh there's our dot ID
see how were using are not looking
inside of r dot aha there's my edit
status so that is that ID that we
specified that as as ad plus idea right
that was that ID that here we said add
plus ID edit status that became a
reference in our and now we're using it
to find it here by saying r dot i did
all that stuff
see how r is the glue to xml right so
now that's my ID in the botany same
thing but an update is a button right
and then control space find you by d r
dot ID dot and then button update and
bam so it looks like a lot of text but
the clips does a lot of helps a lot with
with typing even so so that's that's
basically that so we now found those two
those two widgets or components or views
from the memory space and refer to them
by a variable in java again but they are
doing these two calls are expensive
now this these girls are dirt cheap
right because they're just looking up
something in like a binary tree
essentially right so you have a tiny
laugh of like four things and you're
looking up two things you know this is
ultra fast right they look the
statements look long and nasty right but
but they're very they're very fast this
is the little one that doesn't seem that
it does a lot but it's actually you know
a hog right so keep that in mind well
we're gonna talk a little bit about
optimizing as well yeah I mean there's a
caste there's a cost to casting sure but
it's not it's but but it's not that big
of a deal one of the biggest one of the
most expensive things in Java is object
creation just like anything else man
looking and stuff
second big expense is drawing stuff
right in allocating on screen and so on
yeah multiple uses files such as cannon
activity refer to multiple resource
files so yes it can but it can only
refer to its own resources or
system-wide resources okay so it can
refer to system-wide resources remember
I kind of said yeah don't worry about
this I'm not gonna worry I kind of
really quickly change the color scheme
here from white and black to black and
white so you guys can see remember and
the way I did it is I went here and I
didn't really pay want you to focus too
much on that but what I did is I used a
system-wide resource called style but
there's a style that's built in it's
called team dot light right it's just a
team you can create your own style and
if you kept time we can create our own
styles but I didn't want to bother
creating my own style system are the
ships with a bunch of stuff like you
would imagine system ships the bunch of
stuff right
so what I what I wanted to do here is a
basically said let's refer to the system
resource table so this is how you would
do it from one XML file pointing to the
system XML file okay so I guess there's
a namespace but it's only really the
only known one that I know of at least
is the system system if you wanted to
get from Java you would do Android dot R
is supposed to your own arm or you want
to see another common common type of a
common problem let me show you this
problem so let's make another XML
mistake so I'm just going to rename this
refactor rename values new or something
like that okay so it reproduce the same
error this we reproduced before not in
this case because it's just so I'm gonna
rename this to create an error I'll do
the same error that we get before we
have this problem so check this out so
you now say okay I can't figure out what
the problem is right somehow you got to
it you now say project clean to clean
the project right now your R is gone
your R is gone right
so no more are but you don't notice that
you look at this and you're like why am
I getting all this problems with my my
Java right it was compiling until
seconds ago right then you're like okay
you know you look at the problems and it
says you know it says the typical cannot
be resolved so what do you do when
something cannot be resolved you do
control shift all right to organize
imports because it's probably not
important right
so you hit control shift all right and
now it's like prawns are still there
you're like what the heck is going on
finally you need a console you now go
and you fix the
so you go huh this is the original
problem so you go and you see the
factory name and you fix it say that
okay you fix this chizz oops almost fix
it the factory name so you fix that now
that's great your are cut created so
you're like okay I fixed that to fix the
cause why is this still not compiling
and you're like okay I can't figure it
out everything's fine so what happened
was while you are missing our and you
try to fix this code and or ctrl shift o
organized e ports is a great tool
because it just makes development much
easier how many of you use Eclipse for
Java development okay so you know I'm
talking about right so but what happen
in this case is it imported Android dot
R and you often don't even look at your
imports and now this is gonna mess it up
because Android otar takes precedence
over your own R which U is local to your
package right so so that's another
common and you know this could be for
example hidden like this right so you
don't even see it right it's just like
okay what's wrong with this so this is
one one of those reasons why I get gray
hair so so keep that in mind as well
yeah you can't have the uppercase
letters so it's lower case so AC 0 9 dot
in on the square so it says it all in
the regular expression right so we just
got the brush up windows regular
expression so but that's not there's the
error message okay so so far we now have
those two elements now these elements
are at this point as if we created them
anyway like you could have created
button manually just like you would in
Swing button equals new button right so
I can do now stuff to this button I can
for example you know change its color
changes you know I can say button update
dot set text and so on right so it's
pretty straightforward
it works it's more or less exactly like
a WT and swing right
but I'm not gonna do that
what I want to do is I want to attach a
list I want to basically handle this I
want to do something when this is
pressed right so how do we do that
well this also works the same way as
they donated a WTSP so it's basically
you tell the button to call you when it
gets clicked on so it's again it's a
listener driven you approach right so I
would basically say button update dot
set on click listener I know it says
okay who's gonna be the listener for
this and you know yes we could throw in
an anonymous inner class right here we
could also point to a whole new object
and so on but typically what I would do
is I would say this right like let's
make this a listener right so now I flip
says well this is not capable of
listening you go and you say okay quick
fix right let's status implement on
click listener right damn so that adds
on click listener right now it says
complaints here it says you know well if
you're really truly an onclick listener
you got to implement the methods that
onclick listener requires to implement
so just like always you almost always
choose add unimplemented methods and
there's your own click so at this point
we have a placeholder to do to do
something useful with a button right
does it make sense so I'm kind of going
faster this because assuming for 90% of
you guys this is the same old as in Java
you kind of used to this you know what
the interfaces are and listeners and all
that stuff right okay normally I lose
like C C++ developers in this sort of
you know yeah I'll get to that I'll get
to own click as well I know what you're
referring to
yeah so that's probably preferred
because it's quicker and easier but
there's a reason why I want to show this
first so now we have a we have you know
a piece of we have a placeholder to do
some work
so what do we want to do in terms of
don't work well in the spirit of keeping
this whole and complete and constantly
evolving right let's just say we wanna
just walk like just know that something
happened so one way to do that
Andrew it actually has a pretty nice
logging mechanism right so there's
something called log class right and you
can then do log dot and you can you
choose a severity level so for example e
is for error
for example d for long easy for let me
do don't say D for debug but you can do
you can do D for debug you can do for
our W for warning there's even this one
and it doesn't stand for what you think
it stands for it stands for you know it
basically means what a terrible failure
I don't make this stuff up I'm seriously
we're gonna do debug so I'm gonna put
some kind of log message so so it's it's
a tag comma message so tag could be
something like Yamba write a message
could be something like on clicked right
it's a pretty pretty straightforward
thing right it's very useful I really
like you know I don't know how you guys
deep on your Java I don't use the
debugger at all I really like logging
because it's it's tell see what's going
on stack traces are super informative
and the what mechanism actually goes
deeper into the C code as well so it's
the same logging mechanism works in C as
well so all stacks of layer system
locked the same log file which is kind
of nice so so we got this suggestion now
log when something gets clicked on so
that's our app I'm gonna run it just to
see how things work and in the meantime
let's see where the South could goes so
the log output goes to something called
log cat okay just like before
ways to do things one is eclipsed the
other one is command-line so imma show
you eclipse first because it's more
visually appealing but if I switch
remember running I usually use DDMS well
I don't but that's what it's for
usually for running the code DDMS and
here you got a locket for some reason
it's tiny old window at the bottom so it
was useless so you want to drag it and
make it available here and this is
basically the locket this is the system
log right so there's our app and if I
click on update on click on click on
click you can see that there's that in
there right make sense this locket is
pretty cool because you can filter based
on you know verbose debug info warning
error and so on so you can kind of see
what what you want to see and you can
also create filters so for example I can
say on a create a filter called Yamba
and I'm gonna I'm gonna filter just
based on a log tag
yeonbok right you can also filter based
on PID or log level and bam now I have a
very high signal-to-noise ratio yeah I
forget the tax a Glee it's only pure
text yeah I don't think you can do any
sort of even the thought something or
like because it that'd be nice because
that may be you know I could then fine
tune but not that I know I don't think
there's a way to do that in production
go stent into system proc folder right
to live yeah yeah the entry manages the
size and recycles it and so on yeah
so having talked we talked about Chicka
Cisco it works on a command-line this is
all working it's a very useful tool for
debugging let me show you a command line
how this works yeah
no it's the same waterfall as a matter
of fact oh yeah even in the production
code so let me show you in a command
line you will do how to get a walk yet
you would do you would use the tool
called ADB Android device bridge and ADB
is a tool that has a lot of sub commands
right you guys saw a to be install to
push an app down the wire to the device
you can use adb shell to telnet SSH into
your into your box right so to connect
to the shell of the device you can use
ADB push and pull to push files in
profiles back and forth you can use adb
locket to read a lot yeah and so forth
so ADB is sort of like your FTP / 10 lat
slash as a sage slash all these tools
combined it basically provides the
connectivity between the device you know
the phone and your laptop right and it
works the same way for a physical device
right it's not only exclusive to to the
emulator so let me show you this pool is
super super useful and you should not
there also a to be a log cat works like
this physical phone to show you as well
so so this is basically any of you
locket now in the in there so now if I
do update update update it's all there
ok so I I tend to prefer running into um
command-line gaming it always on always
running like this that's my preference
because it's much quicker than flopping
in Eclipse I find Eclipse to be somewhat
slow with that you know enough to create
friction in development but it's
personal I know most of you are gonna
choose Eclipse but that's up to you now
useful thing to know on a command line
is called to also apply filters and
that's not very obvious because if you
read the documentation it will tell you
to do some of this ad beam
log log cat and then see the filter so
Yamba so you see the tag call them what
you want to listen for so for example
you know D would be debug or you can say
Star I want to listen for everything
right so this is what did it reads in
the usage but if you do this it still
gives you everything so it's not
explained in the documentation is that
you also get to talk to what you don't
wanna hear you say star all silent and
now I have my signal-to-noise ratio
right so that's kind of like took me a
little while to figure out so that's
that's that what is this number this is
a PID process ID I mean just for fun I'm
gonna connect my physical phone so just
you know the reason why I'm connecting
physical phone apps gonna I've been
saying hey we're agnostic two devices
and all that which we are but sometimes
people don't believe me
so um ctrl C so if I say to be a locket
oh it's not working
okay so the reason is now I have
multiple devices and it doesn't matter
if you came out Apple emulators multiple
physical phones you can have five six
emulators in phones connecting the same
time which perfectly fine ATP devices
will tell you what's connected right
there's my emulator there's my physical
phone which is the just a samsung phone
so that's the that's the serial number
of it right so now I can do ATP - as
serial number or I can do ADP - D for
device to need for emulator which is
simpler and I can say log yeah okay so
now you're seeing the locket of my
physical phone it's gonna be really
noisy right because it's I mean multiple
apps stuff going on and you know
telephony registry status bar policy god
knows what's going on right so system is
constantly like updating in there but
this is a live real phone right so good
you can also do a DB another one that I
mention is shell oops shell right so now
I'm connected into the shell of my phone
I can do things like PS and so these are
the processes that were running on my
phone right there's my stuff right so
you can see how each application has its
own unique user ID that it gets assigned
at it install and it's good for life
yes oh yeah absolutely here secure I
back to I mean we're hung percent
agnostic so here I'm going to click on
run again and this time around says
which one do you want to run it on look
there are multiple possible targets
right and I'm gonna say let's run it to
my physical emulator right so let's do
this so I'm gonna say okay right so now
so now presumably it's I need to unlock
it but let's see you get my console up
so we can say huh ah ha ha we see the
word promise application requires API
version 8 and the phone that I have is
still at 2.1 I API seven so what I can
do is I can because I don't really care
see this is the reason why you would
want to make sure what your minimum SDK
is is something that you really care
about I don't really care about
targeting 8 I can simply go and in my
accident my manifest change that number
from the minimum SDK version right to 7
okay and now if I run it it says aha
remember before this was a yellow now
it's a green checkmark click on run
yeah there it is can you see it no you
can't so let me show you let me show you
like this because you can't really see
it because it's small well one of the
features that we have here is in the
emulator is Seco now we have both
devices listed here right well there's
my physical device I can actually grab
the screen buffer Oh refresh because
there was a little warning that they had
okay so that's see you know that's my
physical phone it's 59 degrees in San
Francisco apparently and so when you set
the minimum SDK number doesn't all it
does is it ensures that the app is
installable on a target device or not
that's the only track it doesn't check
if you're doing something that you Shane
be doing on that device that's up to you
as a programmer so how do you ensure
that you're not using code in inversion
of application which you claim to
support but it may not have that code so
you you run it on that old version and
see when it crashes that would be that
would be one way to do it that's
probably something you should do anyway
to test early on that version but let me
see if I can get on should well you can
build a target right so you just create
an emulator for that target that's easy
enough on this is the site you guys 111
this is a very important site
developer.android.com and in reference
so for example if I'm looking if I'm
using some API right what's very useful
is if I really know that I'm targeting
API 7 or API 6 or whatever I can turn on
filtering okay so filtering here so for
example I don't know let's look at the
count so then you know what the count
says but see how if I say filter 7 it's
gonna great well see how it gray saw
things that were not even available
right
so for example see how you know certain
things
DRM was not available media audio
effects and so on and so on was not
available so you can basically use this
whole filter to specify what is that you
want to target right see this entire
class wasn't available and so on so
that's that's caught you do it in the
documentation but then you would test it
on that device and you can test it on
that device that lower device by
creating a target at that type yeah are
there anything I need any things that
are deprecated and actually removed from
previous versions not that I know I mean
there were a couple of things like for
example Bluetooth was actually available
available in 0.9 but got he hanged by by
the time one came out right so that's
sort of but I guess that's okay because
it never got released as a one right
Android one but for the most part no
it's always backwards compatible that's
why you were you will notice certain
things don't have a meaningful names
like for example if you do unit testing
we use something called activity
instrumentation test case 1 or 2 right
because the original name was already
taken and the entire thing's been
deprecated so they're just - like
version number 2 or something yeah
possible to set up Eclipse to be aware
of the SDK I don't know that yeah I'm
not sure yeah so so yeah I'm not sure if
it does I mean we do have to set that in
a program I mean here we project build
target so that that is where we set it
yes but I'm not sure if it warns you
actually about that or not it does ok ok
cool there you go
so this log makes sense now all the
logging works yes so you get the full-on
debugger right so I can click on you
know I can anticipate debug mode and you
can run the debugging through the ADB
right so yes
twelve stop and you can you can step
through your code and all that so that
works fine
yes not really no you can't continue you
don't conditionally compile no but you
can tell you can dynamically you know do
stuff so you know each each person cares
you can ask the for the version number
that you're dealing with and then
depending on that you can do you know if
that person do this else do that kind of
thing yeah but it's not completely
conditional compilation it's one big
code base so any other questions you
know so so where we're at right now is
we basically have a this piece of code
so we're done with this so we have this
piece of code running right and it's
reporting here that it's got that
something is happening some somebody was
a couple you mentioned the on click
there's actually a shortcut for as
opposed to doing the scroll business of
declaring a button finding a button as
setting up the input interface for a
button and then providing the
implementation for the button you could
actually get away from by not declaring
the button not defining the button and
not adding the listener for the button
okay not implementing the interface at
all right and you can now and you can
now simply in status activity for the
button there's a property called
on click right so there's a property on
click and you can specify the name of
the method that you want to call so you
can provide the binding this way so I
can just say on click and this will work
just as well and it's gonna make your
code much simpler you just need to have
a method with that name that must take
of you in and in this case this is our
button that got clicked right so you
do something if you get more took
multiple buttons calling the same matter
so this makes it much easier for the
button much much easier but the reason
why I showed you the long way first is
because this works for on-click but
that's just one of gazillion different
listeners that you could possibly have
available to you right so say for
example say for example that I wanted to
listen to the text changes so what if I
wanted to have a little counter that
tells me how many things I kept still
available to me to to you know type in
here right
like what counter so if I'm saying hello
there it will basically calculate the
length and you know give me the number
of remaining numbers or something like
that
right in that case that would not work
with with this with the strategy there's
no there's no on something for that
right but there is a listener for that
right so it is in that case that would
be a text listener that you can you can
add to it we'll get to that so that's
why the other way the longer way is
universally working but don't click is a
great shortcut just for click button
yeah oh yes well that's what we did
oh you mean said they on click for the
button yes but if I'm doing that I need
to again I would need to find that
button so I would need to care my find
view by ID and then on a button I will
need to call oh yes so as opposed to
adding a listener so I wouldn't be
saving a lot of coding in other words
right because they need to still inflate
find a but I refer to the button and
then add it to the button but yes you
could do that as well so this so this is
going to call this is gonna call on
click this is gonna call on click in the
in the activity that loaded it so
there's
is this song it belongs to one activity
well in this case belongs to whatever
activity did set content feel for it
right that's kind of how it works if I
had two buttons then I could do I could
check the button so so here's an
remember how I said integers are
overloaded in in in Android we use
integers to mean too many things here's
a place where it's kind of handy so I
can switch on button dot get ID all
right and since the button ID is simply
a it's simply a integer I can do
something like this r dot ID dot but not
they'd do something in break right so
makes it easy in standard Java this
would be a 4-1 object you would say
instance of you would do have to do dot
equals and like some crazy stuff right
yes exactly you have multiple exactly
you can also have if you do if you use
the onclick property you can have
multiple handlers for that right but if
you're using you know the you know this
as a listener don't you only have one
listener with one on click right so or
you can also get multiple listeners so
there are many many ways ways to go
about around that so it comes down to
you know what's what what works the best
but this sort of works pretty well
shorter code yeah so we now have we have
the button we kept this so if I wanted
to find out what the text is in this
thing so I'm gonna actually undo this
because it's not important in this
particular case if I want to find out
what the text is I can save string
status is going to be basically added
status dot to get text right and it
gives you something called editable so I
won't actually do that to string right
so now I have status and I can say on
clicked with
that's right
so that's pretty straightforward and if
I rerun this this time I'm gonna run it
on the emulator and we you know usually
I have usually I have this running here
all the time right so there's my I say
hello from and pause okay update them so
there it is on clicked with hello from
and DEFCON right so we got a text right
I mean I can keep on clicking and it's
gonna be the same time so we have a UI
we capture the events and we do
something with it it's calling complete
doesn't do much but it's a call it's
going complete right so far so good so
let's assume that we do want to post
this to Twitter and again I'm not sure
if this is gonna work out because of the
various Network issues but let's say I
want to actually I do want to post this
to Twitter so since how do I go how do I
go around that well there's an API
there's a well published you know web
services REST API image JSON API for
Twitter and Facebook and everything
under the Sun right on so as opposed to
making my own you know network
connections and and you know marshaling
my own URLs and all that stuff there's a
third-party library that does exactly
what we want for this purpose it's
actually a library from its called Jade
Twitter but it's not com it comes from a
place called the winner-winner well in
associates however I ran into some
problems with these libraries to
actually modify there are a couple of
places where they parse date
what I think incorrectly so I fixed it I
told them about it only if it's
implemented but I have my own version of
it so if I wanted to add my own version
let me show you how it works
so basically there's an object called
Twitter you login with username and
password it's actually the password is
not supported anymore with Twitter so
you have to use OAuth but for simplicity
reason Cylon
I don't I use username password simple
authentication and then you simply say
Twitter set status done right so create
the object set status so if I wanted to
implement something like this I will
basically find I have that library
somewhere let me let me see one of the
odds right here this is the jar file so
I'm gonna simply take this jar file and
I'm gonna drop it into into my project
damn right I'm gonna right-click on my
project and add it to my build path I'm
assuming you guys know all this because
it's standard Java right there's jars I
simply add that here so this is just a
this is just you guys get this question
what if I had a Java class this is a
Java class I found it on the Internet
it's got nothing to do with Android
downloaded them dropped into my project
gets recompiled into dalek essentially
right but you don't care about any of
that it just happens behind the scenes
so I can now say things like twitter
twitter is new twitter and then username
is student student and then password is
I think password yeah oops organize
imports okay done and I can now say
Twitter dot set status status simple
enough right
so I get it to the object and so this is
behind the scenes gonna create URL
connect open up a socket post
we're either Jason back parson Jason but
that's not our business here yeah no it
doesn't
so that's though it doesn't handle no
connectivity connectivity issues know
that I want to get I like this example
because it gets us to those problems so
we have to deal with those problems this
is just purely making our network
connect connection simpler yes so okay
so the question is basically you have
your project is mass and you have a lot
of Java stuff you don't want to have to
recompile everything every single time
my understanding is that classes dot DX
file is sort of like a jar file so it
does Penn State consists of smaller
pieces right so it's you know changing
changing just one class should just
recompile that one class not the entire
classes file that's my understanding but
I'm not going to percent sure about yeah
you can also there's also there's also
the option to compositing is the library
yes and then you can just yeah yeah so
that that should that should be that's
nothing that that should work like that
right so it should be just really
packaging and realigning the package is
supposed to be compiling everything from
scratch but again I can run into that
problem where the application is so
massive
so okay so let's let's run this so this
is gonna it's gonna crash but that's
that's what we want so well there's it's
gonna crash for our known reason but
don't want to kind of show you that
first on so there it is it's asking me
for username and password and say hello
from Sun tell click on update and bam it
crashes okay so a couple of things about
this error message you're gonna get this
error message all the time okay this is
just a very normal part of development
you do not read this error message it
basically always says the same thing
read the law cat okay so whenever you
see this don't be looking something
broke right it just means look at your
log file
the answer is there okay honestly
because that it's a very common it just
basically means it crashed and there's
nothing useful in this error message but
there's a ton of useful stuff in your
locket right so you can basically scroll
up BAM okay where they died died here
okay I work for the first reference in
my own file aha demo stylus activity on
click line 26
uh-huh died because the UH non-cost
exception API Twitter calm okay so first
of all one thing that I forgot to do is
not use Twitter because I don't want to
use Twitter because again it didn't even
support the simple authentication
anymore so think that I forgot to do is
say Twitter dot set API root and then
I'm gonna point to the pecan slash slash
comm API so that overrides the server
oops that we're using alright so that
was that was one crash but that's not
the crash that I was looking for
so get you the crash I was looking for
so just to and trash yeah be the walk
yet okay so illegal state exertion
cannot execute method unification target
J Twitter and host absorption well it
seems like you're not online that's the
biggest problem here so I mean it's it's
we're there because it appears that the
it appears that I am online at least let
me just double-check something slide
okay so do you carry internet connection
well because the emulator uses your
tcp/ip stack of your own computer but
every once in a while it gets confused
and it doesn't it doesn't have its own
as a matter of fact see the wall see the
little X is it a little X should be logs
so let me say browser it's a good test
so that's the problem we don't have
internet connection on this device to
begin with so it's it's it's a little
flimsy with the network especially if I
started it when I didn't have a network
so unfortunately this is one of those
few times but I do have to restore it
I don't like restarting the emulator
because it does take time to start it
right so but while this is doing it
we're going to talk about something so
called they do here my I do have a valid
tcp/ip stack on my Mac the one that
starts up hopefully it's gonna take that
and it's gonna work so and then that
that piece is gonna is going to work in
the meantime what we can do here is we
could actually catch this you know we
could actually catch this exception so
intelligent 1 plus or this would be to
catch the exception here
so that it's not really crashing right
and I'm gonna do that by saying source
surround with try-catch block it knows
it it's a Twitter exception and
typically you do not want to do this
right because that's just gonna that's
going to use the standard be a standard
error and it will work it will go into
lock yet but a cleaner way would be to
use logged ot right and you can actually
do a tag so younger right message you
know something like can't connect to
server and you can actually pass in the
e right so that's a better way to do it
because you're using the the application
stack but let me see okay so that wasn't
too bad so we're back on line 3G that's
a good sign and if I now deploy my app I
need the console to see if it's actually
going huh there it is
so hello again update okay it doesn't
show it doesn't let me lock yet okay so
this time I caught the the exception
that's why the in crash right but we do
have an exception right all right in
this case is that still you can say
behavior so it doesn't it's not
hmm yeah I'm not sure um the articles
trying to get all along is that we do
not have permission to to to get the
mean which exceptions
oh no the Twitter library so the
question is is the Twitter library
caching the permissions exceptions it
doesn't Twitter the library doesn't know
anything about Android so it wouldn't
catch the operations exceptions I was
trying to crash it here normally
normally it would crash without you do
not get permission to get online that
exception right so my point with this is
hard
it's how the permission system works in
Android so basically anything that is
potentially dangerous such as getting
online right using internet your app
must call all the permissions to do that
the way it works is you ask the system
for you as the user so the app as the
user for permissions at install time
right and then the user either grants
everything or dick or or doesn't so it's
all or nothing
at install time that's it right so and
then you basically you know have or
don't have the permission to do stuff so
what we need to do is we need to ask for
a permission for connecting to internet
and to do that we typically do that in
the manifest file right so this is our
manifest file there's actually a box
here called permissions now if you click
on add you're going to normally think
that we add permissions but we don't add
permission we actually add users
permission right so we're asking a user
for a permission and then you have this
sort of list of permissions that you
have to kind of figure out which ones
you need usually it's
suffice in the documentation for
specific purpose but one of the more
common ones is permission for internet
so I'm saying let's ask for that
permission and now we be asked for that
permission now when I run it it's
supposed to ask us hey do you grant this
app that permission since we are running
in development mode you do not get asked
at install time right so there are some
things when you run you know using
Eclipse and in development mode you
don't have to get asked for so testing
again update who this is kind of good
it's blocking what is that this is block
you know how long my button is yellow
this is good yeah so I don't know what
happened let's see do we have a pool we
don't have a we don't have any problems
here right so let's take a look at the
online verify if this actually worked so
if I go and refresh this page I think
this is me right couple of seconds ago
right try again testing again one two
three click on update now notice this is
a blocking call I'll talk about that
after but while that is blocked nothing
else is happening on the system this is
a same thread right and blocking the
entire thread it interact in other words
unresponsive UI in other words bad but
we all dress that later so we got to
create a problem first right so in
actually having a slow connection works
in our favor because you can see color
it's a problem right so refresh here and
there's my testing one two three so it's
good we just need a permission it
actually didn't fail with the unknown
with the missing permission it failed
with a different error message but it
was related yeah so we got we we have a
UI it makes a network all web services
call post to Twitter yeah if you ask for
permission it's not granted the
application does get installed doesn't
get installed yes
right so can you dynamically choose the
set of permissions or can you
dynamically request permission so in
other words if one of ten permissions is
not granted you're just gonna work
around not having that feature sort of
thing right yeah I don't know actually
because normally I believe you can in DX
so that would be the package manager and
the application manager those are the
two things that actually manage how your
application is installed and what's seen
through it manifest file is just for
static information so I believe there
may be a way to do that but I haven't
actually done it myself
so we basically we kept this posted so
far so this is a this is working let me
just do one minor thing here because we
don't know if this worked or not so let
me just introduce a minor thing you hear
what I'm gonna do is I'm going to say
I'm gonna have a piece of text here so
let me do it like this string mess
status is already use salt you know say
the result is message posted
successfully or here I'm gonna say
result is can't connect to server
posting so now I have a piece of text
now I wanna communicate back to the user
it worked or it didn't work right so
simple way to do that there's a UI
component that's kind of specific to
Android it's called a toast right and
goes like this it goes toast
dot and you say make to make text right
and now it's asking us for something
called a context context this idea is
very important in Android and we use it
everywhere and it basically refers to
the entire application remember when I
was showing you the the drafts I was
referring to the application context
right
I remember when we're talking about
these I said the entire this this is the
application context rate and I said
context is readily available because
activities and services are instance of
context and providers and receivers have
a context right so it's readily
available so in most cases when you are
inside of an activity or service you
simply say this okay now the text is
going to be our result so that's easy
how about duration what do you guys
think duration is going to be it's an
it's it's an integer exactly what you
would think no it's not it's actually in
this case it's a constant and it can be
one of these two things those dot make
long or make short and and even if you
do like though that I would put like I
was like oh this is milliseconds great
10,000 no 20,000 same thing it's always
same length I was like what's going on
here so it's a there make longer make
sure it no here's the thing
this would not work because you actually
have to remember to do dots show it's
another thing that I always keep
forgetting I'm like why is this not
working everything from piles right so
stop shop so let me show you this whole
thing and then we're gonna do a break
after that but let me show you again
because this is setting us up for what
we're gonna blow fell on after after
break we're gonna fix this because right
now it's highly inefficient so if I say
hello again click on update this is
blocking I not responsive but eventually
it's gonna do you know one of the other
okay message posted successfully that's
a toast
that is a toast then it disappears
I have no idea why it's called a toast
it's like a toolkit pops up right any
you know toast here's one interesting
property a service can launch a toast
right so you actually remember service
doesn't have any UI but it can do a
toast and that's partially why I think
one of the reasons why you can do that
is because it's very safe right because
it can't stay for too long of course you
can launch gazillion toasts right that's
a different story but but for the most
part it can't stay too long so that's
that's the reason so we now have a
working app yeah how does it know what
by default put the toast there but you
can you can also put it in other places
you there's properties for that and I
think doesn't layer use toast and they
actually put it somewhere in a corner or
something I've seen I've seen it in
different places but that's the default
location okay so what we're gonna so
this is following complete works you can
download I mean you can install it and
it would work right what we're gonna do
after break is we're gonna look at how
the threading mechanism of this works
we're going to look a little bit behind
the scenes we're gonna measure the
performance of this I'm gonna show you a
couple tools and we're gonna learn about
something called async tasks how to put
this on a separate thread synchronize it
back with the UI so it's a little bit on
a threading sort of angle and we're
gonna do a little bit more on a UI sort
of stuff so all the things that I think
are gonna be relatively new to you and
sort of important so so far so good yeah
okay good okay so see in about 15 yeah
so yeah so the question is do you have
to provide all the copies of the strings
no you're done so basically it it says
oh I noticed that the user is in French
Canada let's see if it's available if
it's not it's gonna go to the default
but if I was in France it wouldn't even
use the French candidate we'll just use
the default
so in other
tries to find the best match yeah all
right so let's do I know it's noon I
know you guys want to get your your
lunch before everyone else so let's do a
and I think it's 1:30 is when we start
again right okay and then we're gonna
continue with this this the fun stuff is
just starting out
you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>