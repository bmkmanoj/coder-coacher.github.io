<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Tutorial: Android Application Development - TimelineActivity | Coder Coacher - Coaching Coders</title><meta content="Tutorial: Android Application Development - TimelineActivity - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Tutorial: Android Application Development - TimelineActivity</b></h2><h5 class="post__date">2011-03-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/wJOt0ANLOn0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so what we're gonna do next is we want
to create the time line activity okay so
time line activity is kind of gonna be
you know the one that the user is
probably looking at the most all right
so it's gonna be the one that shows the
entire you know what people are doing so
it's gonna look like a list of various
you know things that that our friends
are doing right so time line activity
we're gonna so that's where it's fits on
the picture right so that's our time
line activity it's a separate activity
and it's gonna read the data from the
database make sense
that's our goal with that so let's start
slow we're gonna do this again
organically one step at a time always
were always keeping it whole and
complete and organically growing it and
integrating it back into the mothership
this is the mothership right the whole
thing so what do I do
so we're gonna create sure let's start
we're gonna create a new layout and then
we're going to create a new activity for
it right okay so how do I create a new
layout yeah well new Android XML oh yes
we're picking it up so file I'll call it
since I called the other layout status
I'm gonna call this one timeline XML
it's a layout and that's it so all I had
to do again is just enter timeline XML
and make sure it's a layout
so far so good
bam and it gives you good file
right now I could go and create the UI
for this fall and all that but remember
we define a bunch of styles so if I
click on my layout one of the first
things I would do is I would say the
style of this layout is the style that
we already defined which was under
Styles activity right then as a matter
of fact I can remove all the almost all
of the other properties right I did so
the only property that my mother of all
only component on this timeline activity
so far has is a reference to a style
that's it I even remove the default all
the other default stuff
whenever you're missing a window go to
window show view other in the finds
general but if you're not sure you can
just start typing
aha look you know prob there you go
right so you don't really need to be
searching you and just type start typing
yeah um so I selected my component right
and it tells me here that it is really
looking at linear layout right and then
I go here total dot now you guys if
you're a new boot - dah dah dah doesn't
work are you an Ubuntu well do you have
the style did you guys create the style
I mean if unless you created it you're
not gonna have it so just a refresher so
what we did what I define his house was
the all this stuff right so my activity
the style that I'm currently applying
uses knows about the background knows
about orientation knows about layout
width layout height so if you guys don't
have style you can go manually and do
that to your thing if you choose to
right so so that's that I'm gonna make
it team light like this okay it's a nice
birdie so we now have a just one element
here which is the layout right the
mother of everything so let's look at
this hypothetical layout what do you see
kind of like a big scheme of things what
do you see here's components
yeah so we call this guy a title right
so we see a title and we see the the
dump of the data right okay so we're
gonna make we're gonna I said we're
gonna do this organically so we're gonna
do this one step at a time so for now we
just have two components and I'll make
them both be textview so I'm gonna have
one text view which is gonna be a title
and then we're gonna have another text
view which is gonna take all the
available space right so it takes all
the available space and we're gonna dump
data in that like as a just a text
doctor no sir I mean that's we're gonna
get that later on but for now we're just
gonna print it out like you know or one
step at a time so two text views so you
can just go here find two text views
text text where is it textview no edit
text is editable text but am i blind
oh this is layouts uh-huh my bad
so this is different yeah this is
organized differences so these are
layouts and then the quote-unquote
widget which widgets are here all right
dump one dump - Bam Bam I have two text
views one below each other okay so the
first one is easy because I already know
what it's gonna look like I have a style
for it called title so I'm just gonna go
and again I'm just gonna find a property
called style and I'm gonna say the top
one is gonna be style where style
Dada dot pick my style the third define
for title BAM okay
and I cannot now actually remove
everything else because everything else
is just out well except this one is
overpowering it right
so we fuse each we have something that
define locally like for example these
properties they overpower whatever you
have defined in style just like you know
cascading style sheet right whatever is
defined closer to home overpowers the
other guy right so the only one that I
need to care of is style and text I
don't actually need ID because are we
programmatically caring about this one
not gone okay so it's style and and and
text where's the text there press T okay
text so what's gonna be the text for
this what we need to define it all right
so just like we've done I'll tell you
how many times so far so just like we've
done 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15
16 17 18 19 20 21 almost two dozen times
okay so the don't don't say that there
wasn't any repetition we add yet another
piece of text title timeline timeline
BAM
oops total timeline right exists I have
that all done one
I did because I was demoing something
and I created no big deal
there's my time okay so the first guy
super simple text view with two and only
two properly set everything else comes
from the style how wide how tall what
the gravity we use etc so that ensures
consistency with the other activities we
got right so okay sure so so the style
for this one for the title was I defined
the size to be again the two things that
matter our layout width and height right
but then I you know cosmetically I added
text size to be thirty DP and center
gravity to be say ya rabb content feel
parent or up corner so height I wanna
take as much height just to wrap my own
text no more right that's why it's
relatively generous it only takes as
much as it needs for its own text if it
had larger text it would take more more
but it's not gonna take everything
where's the other guy below it's gonna
take everything right
DP which is density independent pixel
sorry we're saying yeah edit so the
second guy should be taking all the
available space right so I can try to
use the one it's not really perfect but
let's see what we get if I change it to
two that style so style I'll say edit
style edits box I thought I'd change the
linear layout but doesn't my orientation
say vertical so but you're right I mean
something is off here
oh this these are over I do these are
overpowering that's what's up fixed yeah
no I I did specifies part of my style
that activity has vertical orientation
yes and then you just got to make sure
that you remove it from here because
whatever else you define here it's gonna
overpower whatever you define the style
okay so this guy looks good
and so so far do you only think I have
is style I'm gonna get rid of text so
style and what are the property I'm not
gonna need for the second guy do we care
about it programmatically right so
meaning the ID remember you guys like
yes we define all this but remember I
said when we talk you know yes you have
zillion in one property to worry about
but I said these are the important ones
and ones that are involved are the only
ones that are universally important
right so you may care about text ID
gravity and weight or not right but
you're gonna care about weight within
height all right I should have had
background possible in here questionable
so back to this so yes I need to specify
the ID because we care about it
programmatically so we already have an
ID it's a meaningless textview 0 2 so
I'm going to rename it to something more
meaningful text stat to sis
okay so if you want to see my my XML
because it's hard to see what all the
properties in this kind of view right if
you want to see my XML I'm going to
switch over to XML I'm going trough
shift F to reformat it and boom there it
is yes ma'am but it it could not be
simpler actually it could yeah if you
don't care a stylesheet then yeah you
gotta kind of reproduce the work that
they did a misdial sheet but that's why
the style sheet is on a USB key sub feel
free to read it okay sounds like most of
you have similar types of problems so if
I didn't have style sheets I do because
we already covered all this on Monday
Tuesday but if I didn't have style
sheets right the key was to - if you
want to create a structure like this
first of all what's holding this
structure so what's the mother of all
it's this length linear layout yes and
what's universally important layout wet
layout height so to make it maximum to
take all the space you say fail parent
right take all the space be greedy feel
parent right that's the first thing
second thing you want linear layer to to
arrange its kids up and down right so
kid number one kid number two right so
that means that it's up-down orientation
I vertical as opposed to default one
which is horizontal so those are the
first two things to so set a player
width and height
always start with left with in height
that's kind of like cheat sheet always
start with these guys fix that first and
foremost and start with the top dog the
mother of all right so once you got that
then select the second one width and
height so in this case with this fill
parent height is wrap content and then
just in second case this one is fill
parent fill parent fill parent for both
right now if this one has no text in its
wrap content wrapped content if you're
wrapping content
of nothing how much space does it have
0x0 so it's gonna be hella hard to click
on something that's zero by zero pixels
it's gonna take you an entire day to
find that pixel okay so that's why we
keep or at least I usually keep outline
open so that I can find it here and
select it if indeed it was set to zero
by zero so those are the common pitfalls
with this but this is it should have
been old news for the most part the
layout right so does everyone have it
more or less like this right now the
only other important I don't care about
because you know you guys take care of
your own cosmetic stuff right the only
important thing for me now moving on to
Java is that this guy the second
textview don't want that we're gonna be
outputting text to has a ID so do you
guys give you actually it complacently
or put an ID on that guy something like
I detect statuses for example that's one
idea so so like that guy give it some ID
something that is meaningful for you it
doesn't it doesn't have to be my name
information but it needs to be just
something that that makes sense to you
so you can later on find it because by
now we have about two dozen but no more
at least three dozen IDs right you know
see how many IDs we have just for fun
remember I said never look at our file
again but sure let's make an exception
just for fun to see oh we don't have any
well these are just IDs right but then
you know or in terms of these are all
the various strings that we have various
styles various things so you can see how
this file can explode really quickly
right so that's why I like to keep it
all some of the consistent naming was so
everyone good so far
you have a style happy with it yeah okay
all right so what's the next step to do
- - you know our creating it we're still
creating a timeline activity what's the
next step
create a Java class right so just like
before
like your package a right-click and then
new and then class right package
right-click new class then and then just
like before we see we give it a name
timeline activity so this is the same as
what we did for preference activity in
status appear
yes BAM
that creates a new Java file for you
right and then what we do exactly so
whenever you're creating something new
in Android usually start by extending
sub classing something from the system
system and activity control shift or to
organize imports and then what is the
into one method facility almost always
universally present and activities on
create right so we're gonna go source
override the employment methods find on
create if you don't want to I mean you
can type it if you like typing right if
that's your thing it's not mine
so you that's why I prefer to use the
tool right so there's the on create and
do you guys remember that infamous line
11 that I talked about when we did hello
world
yeah setcontentview remember I said
there's the line that does all the heavy
weight lifting it was always the line 11
right so so you can control space set
content view and then our dot you wait
aha layup dot you wait
aha there's my timeline okay so this is
important this double check that
actually saved my timeline I know that
timeline is now known and so forth so in
other words do not type these typing
leads to typos okay you don't want to
type in boom so now we have but this
what we have right now right here is
exactly the same as you
world right it's just it hello world we
got it from a template and yes we have
to type a little bit here or you know
let do a lot of completion but this is
exactly the same as yellow world even
the line numbers are exactly the same
right so that's fine for now right so we
have our timeline doesn't do much but it
should inflate a proper resource right
because oops done that because this time
this now refers to that which is this
file here which we just spend some time
designing right so what do we do with
yes so what's next okay so the manifest
file so whenever we define one of the
main building blocks we go and we define
it in the manifest file so just like you
did a preference activity as a matter of
fact copy-paste that BAM and then just
change crafts activity to Timeline
activity done saved right
okay now I can't really see it because
if I run it it's not nothing's gonna
happen so what can I do to now show my
time line activity right so now that we
have it keep in mind we're constantly
doing small chunks of code at a time and
we're constantly integrating it back
into the mothership right Yamba is our
mothership so we now have this activity
presumably it's gonna look like this in
other words it's gonna look great but we
need to somehow fire it up right and I
could you know what we did before is
remember this mumbo-jumbo which we don't
know much about was what what is
determining which activity to start
that's what made status activity
somewhat special right so if I wanted to
make yeah I could copy now this into
timeline activity or what I can do is I
can add a menu button to start a
timeline activity right so I'm gonna add
menu button in this case so I'm gonna go
to timeline sorry to status activity no
I'm gonna go too
yeah let's do it does it so we're gonna
do menu first right I have another item
just like we've done it four times so
far
so item timeline title timelines so
title timeline somewhere there it is and
then icon that's the hard part right
finding the icon and the one that I
found before well yeah I use this one
before
I see menu sword by size
it's up to you all right it's just go
crazy with icons okay so at Android
Bravo slash I see man you sort by size
that's a that's a some system system
built icon underscore yeah it's all on
this course yeah
did you get it yeah but you can also
look at your hello world it's gonna be
the same nothing exciting yeah that just
basically says what to load as the as
the default layout
yeah again it's just like your hello
world
well I remember all the icons all the
system icons are in your SDK and then a
specific platform such as platform 8 and
then in data re s folder right data re s
folder and then you can look at all the
resources right so you can look at it
there it's on your file system in that
folder I also have this website that I
go to that just has a dump of all those
icons on a website Android drawable
explore that appspot.com many that XML
sure again this is the item we decided
and it's exactly the same like five four
other items that we had in the last
couple days
right so the order of these determines
the order so for example if I want a
timeline to show up at the beginning I
can like move this up right so now I
have timeline first preferences second
start sub service and purge loss so my
god are you saying the up and down
doesn't work yeah it does yeah well you
may have to them do it in X amount so
when you're gonna run it as I said you
know this tool is just so-so change the
word wallet this is just saying for
title go see strings so if you want to
change it
go see strings yeah so you would go see
your strings XML and then you would find
a title there and change it
so my all my titles are here for example
that's my titles various titles and son
and son so if I run this I should now
see the button but it doesn't do
anything right menu and there's timeline
right and I click on it and nothing
happens so what do we do to program what
the button does right so so status
activity we need to go where we manage
what happens and that's inside of the on
options item selected right and we
provide the logic for the button case
art ID dot item timeline and then do
something and break right and that
something is gonna be the same as what
we did in preference right which is
start activity right so just copy-paste
what you did in preference to change
crafts activity to timeline activity and
you're done
you test it then by running it
yep and there it is and wallah that
starts our timeline not much there but
it's it's integrated into this now we
can go back to timeline indoor Java and
work timeline activity Java and work on
it the source code for this one yeah
but again it's going to be the same as
preference so we haven't really done
anything new right oh the menu item was
I see menu stored by size
okay so what are we going to do next
what's what's our next step so we have
we have a blank activity it looks pretty
good it shows up when you launch it
what's the next step okay so we want to
put something some text in here in
general right yeah we're gonna do this
in stages the first stage is gonna be
really simple we're just gonna dump text
in here right the second stage we're
gonna you know take it a notch further
and so forth and do lists so for now
we're just gonna print the list right
here in this text box okay so to do that
we need to do what in here we need to
define the text box and find it right
right it's going to be a text where
we're gonna print stuff out so this is
gonna be a textview just like we did
before so it will read the text so
textview texts that this is organized
imports to import it and then after we
you know Lodha
the xml layout we're gonna do text
statuses is textview and then the find
view by ID r dot ID dot and then gonna
find the tax status is there it is don't
type find it right so now now I have a
field to which I can you know print some
stuff out some data
what do you mean right so remember we
did that in status activity as well same
thing you defined two you define these
two guys right and then we said fine
view by ID after we inflated the layout
so just like here so we said basically
this inflates inflates the layout into
the Java memory space now you need to
find it and that's what this does that
statuses finds the spine view by ID so
now that we have it we can print some
stuff to it right so for now let's just
if I was gonna do something very simple
such as print out the data what would I
do
so I'll put some comments here I'll say
you know setup UI right but now if I was
gonna print the data would so get the
data out put it what would be my steps
how would I how would I gather data and
how they output it get the data perform
the database but remember in the
previous section we refactored it into
status datum because we don't want to to
anyone else to know about the database
particulars right okay okay so I can
define that Yabba Yabba application
Yamba right so like you said I'm gonna
get a reference to it so yeah
like Yamba is yeah but plication and
then get application BAM that that's
that sure so now and now I have access
to two Yabba and similar and through
that I have access to the as the to the
status data so so next we're gonna do is
we're gonna export we're gonna go to
status data and make it know about the
database and getting the data from the
database right okay so so far so good I
mean I haven't done really not anything
new like this is all old stuff right get
the reference to your application fine
we've done this four times so far you
know look up your UI after inflated it
we've done this you know writing since
hello world every single time right so
now we're gonna get the data from the
database and to do that I'm going to go
to the status data and just like we do
insert and delete I'm gonna create
another one I'm gonna call it query so
I'm gonna create a new public method
I'll call it query I'll explain why
later but you can call it anything in
code to make you for that matter the
question is what does it return what is
it three strings strings eraser I mean
it could I mean you can return different
things let's uh content you could return
content value array or something like
that
let me for now output void temporarily
okay so let's see how do we get the data
well guess what we're gonna get to do
the same stuff open the database so you
can copy paste that stuff close the
database copy visit stuff right forward
and now we can say you know gather data
get the data the question is how do we
get a data oh I don't know DB dot and
let's see what we have that makes sense
here aha look there's something called
DB query
okay that's a great point why should we
have it writable so dot get readable
database thank you that's a good point
okay
so DV dot query so you guys ready for
this one this one is a long-ass long one
it's very long all right boom look it's
very long right zillion parameters that
we need to provide so I picked the first
one yeah because it's got the least so
let's imagine let's forget that for a
second how would you do how do you do a
query in sequel like when you're in
sequel how do you do a query select star
from status status is so I'm gonna call
right so something like that so in other
words it'd be something like this select
star from stop statuses and then you can
also care where something equals
something like ID equals 47 having you
know something group Group group by
something order by something this is
called this is what the full-on sequel
select statement would look like right
so let's say now in terms of this
quote-unquote prepared statement so the
table is gonna be the part of the first
part so this is gonna be easy because we
already have the variable for table
right
yeah DB helper dot table right now
columns is gonna be does this so
basically this is this right
right now columns is yeah it's it's it's
this what what columns you want so if
you want all of the columns you simply
say no if you if you want specific ones
then you would spell them out is an
array of strings but we're not right
we're gonna say now okay so far so good
selection and selection arguments is
basically with the where part where this
will be the left side this will be the
right side of the where Clause right but
since we don't really have anything here
this isn't we were gonna you know not be
limiting
we just want alright similarly I'm just
gonna make this now and know if we're
blah is true and then this part of blah
is this and then this part of blah is
that yeah yeah this is the left side of
the cognition this is the right side of
commission so ID 47 in salsa yeah but
since we're not using it we're gonna
basically delete from here and then here
this becomes now and now right
do you guys know what group having is
now okay let's not use it in make that
null as well do you know what to group
by is no okay let's get rid of that Joe
so make it now right order by we can use
order by so yeah yeah create creating
that right but descending right so we
want to do DB helper dot sorry not
difficult but it's a C on C underscore
just created that I plus I'm gonna add
space descending make sure it's a space
because we're concatenating these two
strings make sense descending because I
want it I don't want I do I want the
latest first not the youngest first but
it needs to know which column to descend
on right it may work just because they
happen to have it would probably fall to
ID or something like that but that's
yeah but yeah but that's we're not sure
so this is equivalent of saying order by
created at descending so this statement
is equivalent to death function right
something like that right now brothers
though this DB query returned it returns
something called cursor so let's let me
talk about an explained cursor so
basically what cursor is is a pointer to
a particular record in potentially large
data set so it supposed to imagine that
my query returns 10,000 records on 10
million records you probably don't want
to deal with arrays because that would
mean that you have to allocate an array
of 10 million records right cursor is
much better because just a pointer to a
first one and then you can either it
over it by saying give me the next one
give me the next one give it the next
one right so so we're gonna define that
thing called cursor or we can just
return we can just return that it is
actually I can't return I got a define
curse or C is gonna be that right and
then I'm just gonna return C right so
I'm going to return that cursor
yes yes but that's that's a good point
so why what do we wanna let's take a
look at cursor what yes it's so cursor
is being used by the database but it's
also be gonna be something that's we're
going to use later on for yeah yes sir
it's it's supported by multiple
different cursor so cursors so we it
does live in a database package but it
doesn't have to come from a database it
can actually come from a content
provider and so forth
so content providers actually use the
same thing so it is yes so how is that
where is it
so the marker sir class marker sir
closet is isolated that's the test code
from real cursor implementation no we're
using a real cursor plus we could be
returning back in array if we wanted to
so we could then we could take the
cursor and convert it to two to the
array of stuff that it returns but that
may not work if we have a lot of Records
right right so so yeah that's basically
yeah so we're gonna use that cursor for
now and then we'll see how that pans out
but that's the easiest so we're just
going to return the cursor now the
implementation of course or like you
said made change so it may be that
currently it's gonna be implemented by
sequel light but then later on we'll
worry about somebody else doing work in
technically should not be living in a
database package that's the only that's
the only confusing thing because it's
really not doesn't necessarily have to
do anything with the database it's a
data structure so that's basically
cursor just points to that beginning of
some rack or some some table so one way
to think about that is if I look at it
like this so this is my very
is data right so if this is if this is
all the data get then cursor would point
the beginning right so this would be one
record in a cursor this will be a nut
oops
this would be another record in a cursor
this will be a third record and of
course and so on keeps them keeps on
going right but then each record is its
own columns and so on right good make
sense so so back to this so now that we
have this working so this should return
the cursor so now we can go back to
timeline activity and to get the data
can simply be I'm gonna define our
cursor as well here globally so kurtz or
C I should probably call it the curse
cursor organizing ports and then I can
get the data now by saying cursor is
gonna be um dot status data dot query
right so this one becomes really
manageable it's a single cool one-liner
right no piece of the database gets data
returns it
so far so good so what we could do now
is we now want to print out all the data
we want to output all the data right so
what we're gonna do is in to output that
we're gonna iterate over this cursor so
cursor is an iterator right so it starts
at the beginning and keeps on going
until there's no more right so it goes
like this
while cursor moved to next right so this
is gonna position cursor initially the
first record so it's not gonna pass the
first record
so initially positions to the first
record when there's no more records it's
going to simply return false so that's
how we terminate this execution right
and so that's basically our cursor moved
to next and now we basically kept cursor
pointing to one record at a time right
that's that's how we iterate over the
entire record set right so we're
basically going one record second record
third record fourth record and so on
right and so moved on as an extra two
positions it initially to the first one
yeah
so that that that's fine so what I want
to do now is I want to I want to I want
to get those two very odd their username
and the user and the text right and then
print it out so I can I'm gonna define
two strings here so string user comma
text all right and then user is gonna be
something and then text is gonna be
something right the question is what
alright so what is good user gonna be so
now I kept cursor pointing to a specific
record now I need to get a specific
column from that cursor right so cursor
is basically moving like this it's
pointing on it here now I want the
column number zero one two right and
then it in two and three right so code
doesn't like this cursor dot get
strength column index to okay and then
cursor get string column index three
right so this will get me user and text
exactly I'm Chi recording the numbers
here which is not good right yeah I've
did
if the schema changes that's not going
to be good so I could the better
approach would be to define I'm sorry
yeah so I could define I could define
some like final int and then user index
column index final makes it can't change
once it's at it's at oh yeah yeah yeah
exactly exactly yeah yeah so actually
let me just good like this user user
column index okay so I'll create another
like a column so I can a dick I can do
cursor dot get column index of the
column name which we now have defined in
in a status data dot column user right
so this is gonna get it index right and
I can say final int text column index
cursor cursor get column index and then
status data dot text ray
so basically what I'm doing is I'm using
the the constants that we have for names
to convert the names to the actual
column indices right so it's gonna be
two here and this is gonna be three here
right
something like that so now I can as
opposed to card coding it I can do
something like this
was make sense and now that we have
those user texts I can simply output
them so I could go now text statuses dot
append and I'm just gonna append
strength string format right and I'm
gonna say let's do a percent as well on
new line right percent as calm space
percent test and it's gonna be user in
text right so we're just appending it to
the output so I'm going to loop through
all the available records for each
record they're going to extract the user
a value the string the text value I'm
going to craft it into a one-liner and
output it to the output right this is a
first iteration quick and dirty
run it - just to see if it works
starting let's see so if they go menu
timeline whoa I got nothing
why is that well it doesn't matter the
service running since we do have the
data in the database yeah oh yeah why
that's a good question how I dumped it
no I have yeah I have data add datum
okay
invalid statement okay so I I have no
idea why it's not working so let's uh
let's do I'm gonna log whenever you
don't have idea you just log it right
then I actually print the same thing
here - a log just to see what we are
getting to see if we have a organizing
ports to import log define oops - define
a tag like I always do try try but
static final string tag is timeline
activity the claw Clause does get simple
name right so I have the tag now craggy
theorem I could check after we got
cursor I could say I could say log deed
tag comma cursor with records and Court
and I can do curse or dot get count
which returns the returns the number of
rows in the cursor right so I can find
out how many
how much data we got yeah okay that
gives me enough to start with so I'm
gonna run it and I'm gonna watch the law
cat it's a beautiful place to watch okay
so there's my time line activity BAM go
to timeline alright god cursor with zero
records okay so the problem is not with
my time line activity all right moving
on
what they go next
status datum why is this giving us zero
zero
one two three four five six one two
three four five six m
was that dissent this
dissent I'll descend like oh I mean yes
you're talking about no that's fine
that's fine
yeah there is something that I'm
forgetting you know this is I don't know
why this is done the way this it took me
a while to figure it out actually that's
fine
so you're talking about lifecycle of the
activity right so I'm getting your
you're referring to the fact that I'm
doing everything you don't create right
now I mean this is not optimal but I did
this like as a C programmer like I just
dumped it all in one method one long
block just going you can't okay because
you forgot to do something
not because not because not because of
this well you forgot to close your your
database that's why Mars for you here's
a problem yes the moment I do this
garbage collector actually cleans the
data I forgot about that so and I
remember when I first time didn't know
that I took me in a long long time to
figure it out okay yeah menu timeline
yeah so I got a rhythm divided close I
can also shorten this now to return
yesterday
you guys forgot it right that's why it
worked for you right you didn't yeah so
yeah which is okay because in this case
it's a readable database okay it's not
so much about the connection in this
case when it's a readable database it's
not it's not open up or it's a read-only
doesn't doesn't get a close or you don't
need to close it so yeah so this will
seem or return by writable unless the
same problem such as a full list because
the blah blah
if the promised future call to give it
may read only database see a database
object valid until again writable
database or closed it's called
right so we can we can leave it open
because it's not it's okay it's it's a
read only database there's no lock
there's no exclusivity to it so that's
fine you know oh you mean when I'm
reading it
right but it fails you your point is if
it fails right so okay so surrounded try
finally so this is gonna be finally yes
so this will be proper and then I would
return what in this case so DV dot close
okay and we should but we should
probably yes that's fine so that would
be more proper that's because this could
potentially die that's why I was saying
right yeah yeah this would be more
proper so in case that it dies who
explicitly closing the database right
yeah after we return it so as long as
the data is copied so let's test that
but before I test that one of the things
is why is it not printing on a new line
you're seeing just one huh so let's try
this as opposed to move to next what can
I do
let me run it so many of timeline okay
so this time no so this finally is not
working for me in this case let me do
this when it let me test first is that
this is actually working so because I
think it's still closing it and it's
releasing that object so many time line
yes I'm getting well I'm not sure if
it's formatted yeah because it looks to
me that it's actually getting all of
them but they're just running like this
in one line so they're so it's not like
not maybe not be acknowledging my new
line or something well some text us is a
pen some appending it my textview should
be a few parents yeah yeah it's it looks
like it's going out just going so it
looks like it's just going off well but
it shouldn't matter just a piece of text
matter so let me see if I just have a
piece of
let me take a look so if I have I'm
gonna die check that by typing some text
here in text right so I'm gonna go and
type in some text right so that it
appears there that doesn't have to do
with the type that I have
it's not about yeah it's not that let me
I have a suspicion that has to do it
something I have in style let me try
this
oops I was suspicions about something
come on
so many time line there we go
okay so the problem was with a style
sheet in style sheet they had this
setting for input type to autocorrect
and autocomplete and that yanked out my
new lines so I actually had all the data
but it was a sprinting in one line and
it was just going off forever right so
I'm gonna take that out of the style
sheet for now because that was just not
necessary anyhow and I was kind of using
this style sheet for what wasn't really
meant for in this case I was using
another style sheet so anyway so that
solves that product works there and I
was able to verify that because I saw
the output here I was like hey
everything is printed properly there's
my data I know I'm getting the data now
I'm looking over the data right so I
that's what I like my lock yet so there
it is everything is isn't there okay so
now a couple of things that I wanted to
do next is so did you guys get it you
guys okay so now one thing that we don't
do let's talk a little bit first about
the I'll talk about a cursor life cycle
later remind me about that now what's
the problem with with this layout it's
not crawling so how do you scroll it
yeah so there's something called scroll
view the scroll view is basically a
something that allows you to infinite
since you know it's different this
global you can put any big element into
it and it's gonna automatically figure
out how to scroll the only captured
scroll is it can only have one something
inside of it but that something can be
complex it doesn't have to be you know
it just needs to be one alum element but
that element could be an entire
complicated deal
that makes sense so yeah one object one
view so I can't put two views I can put
two views into another view and then put
a table view into it right so that's
that's how it works exactly you can put
a layout yes exactly you can merge texts
you and texts you two into one element
and then play them so what you're gonna
do is we're gonna open up the timeline
XML and we're gonna wrap so you this is
where it's hard to do it via this tool
so from this tool I'm going to fixed it
but if I grab the scroll view I don't
know how to really I don't know what it
does really like this so I usually do
this from from XML so just for the
second text box I would simply do
control spaced scroll scroll view ups go
space scroll view right and scroll you
needs a width and height so I would say
Android layout width fill parent and
then the right left right I can copy
that actually from the start as this one
right and then you just want to surround
it surround your text deal with that and
then you don't want to reformat it so
that wealth is gonna be but that put the
weight oh okay lay out what thank you
so so basically it's close view wrapping
text you
yes it can let me just fix I mean I'm
not in a button but in the
so fair ear on this let's see what you
get
let me change the orientation control
control Ilana see not scrollable right
you see what happens if I just apply the
style on the scroll view and on this guy
right try this so less typing supply
that style because right now my
dimensions are slightly messed up yet
maybe maybe appearing only when it's
needed yeah and the style are here the I
had to find some input type for the
button it was the the bottom of the ad
box so remove that there was an input
type they were specifying auto auto
correct yeah so removed at the line
control f11 yes and this is not really
applicable working this way I'm gonna
say basically say specs to look and feel
that Android layout what the Android
layout height
just changing a look and feel a little
bit because they have applying applying
the same style to both he's not gonna
really do it because there are children
of each other so that style doesn't work
so I just change it to cortex to you to
have more style right just defining what
it is so we'll find out if it works
menu timeline okay so that's a little
nicer what's that
I just changed I applied the style to
the scroll view but then on the text
view I just said layer to filter and
filter that's it
again it's just you can go many ways
right you can you know
okay so we are now we so we got it all
working so it looks like that it
scrawled well right you can see the list
of friends it's all working so just kind
of review what we did is we create the
new timeline activity XML first right so
there is relatively simple like you have
a linear layout which has a title no big
deal about title right we've done it
before and then it's cut the output
which is just text but we have the text
in a scroll view so that it scrollable
intelligently when it's needed
right and then in Java what we did is we
don't you know create we load up the you
could XML we've inflated we find our
view that we care about we then get a
cursor figure out the column no data
after we got a cursor and then what we
do is we loop over all the elements and
print it out to the screen and put the
string into the log file right so that's
basically what we now one thing that we
should also do is we should clean up
after after our we're done with a cursor
so we should basically call you know the
dispose of cursor when we are done with
it but we don't need it anymore
okay so we could do that in what matters
would you do that basically undo this
cursor yeah you could do it on the
stretch so we could do which we could
create or destroy is the opposite of on
create however there's a utility
function it makes it easier it's called
start managing cursor and you can just
give it the name of the cursor and it
basically what that does is it gets the
activity started managing the lifecycle
of the cursor so as the activity is
starting running displayed you know god
it knows to call cursors you know this
occurs with that so that's just another
rule some
nothing yes the start managing cursor is
property of the of the activity yeah so
method allows the activity to take care
of managing the given curses lifecycle
for you based on the activities
lifecycle I know
yeah because start managing cursor is
part of the entire activity because
start managing cursor is manages the
cursor by activities lifecycle okay so
you guys got it so far everything makes
sense call this and you've got something
to looks reasonably okay right so you
can all see the data as well
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>