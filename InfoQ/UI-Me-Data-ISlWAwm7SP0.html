<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>UI, Me, &amp; Data | Coder Coacher - Coaching Coders</title><meta content="UI, Me, &amp; Data - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>UI, Me, &amp; Data</b></h2><h5 class="post__date">2013-01-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ISlWAwm7SP0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">how's everyone doing all right good and
the great can't argue that all right
that's a beautiful beautiful brown I got
going there shooting for a gold but
it'll be okay all right so hey everybody
my name is Harrison that's my big giant
face right there probably notice there's
something missing so I just thought
throwing some beard technology right
from the get go there cuz that's pretty
more to know I got my winter coat going
here sorry excuse me so yep got my beard
technology on which I thought was a good
start for this but uh I'm a front-end
engineer at Airbnb and right now that
probably makes a little more sense about
Who I am and why I'm here and what I
wanted to talk about today Troy and Abed
good guys so I work at a place called
Airbnb and Airbnb is a global community
market place for people that have some
spare space looking for some space and
connecting them together that's our
homepage right there but the bigger
thing about Airbnb is about connecting
people so this right here is the most
wonderful host I've ever had the
opportunity to stay with this is a
Catherine I stayed at her place in
Boston and with two co-workers as well
and she was running her place out
because her data got an ill and she had
had a stroke and he couldn't support
himself anymore so she moved back in and
it is gorgeous like four storey home and
they're running out one of the floors
just so they could help pay for their
medical bills and she's above and beyond
the nicest person I think maybe I've
ever met and it was just so crazy to
meet her through the internet
because it's always weird to meet people
through the internet and she offered to
take us grocery shopping three times we
kept saying we'd love to go grocery
shopping but we don't cook so made it
easy on her but she's so nice but other
than that you know it's it's great about
all the people on our site but it's also
kind of wacky place we have we have
small homes so this is a one square
meter home that you can find in Berlin
Prenzlauer Berg goes for a hefty price
of thirteen dollars per night but you
can move it around anywhere which is
great I don't know what the laws are for
like where you can move it to but a park
seems like a perfect place to just set
up a nice little uh $13 look oh that's
Twitter alright but we also have much
larger listings as well so this is a
castle that is in the UK that you can
read for a 153 dollars tonight and this
is great for like weddings and things
like that but we don't have a lot of
these but it's interesting so we also
have tree houses which are a lot of fun
to stay in and also igloos which is kind
of weird as well that is very well made
igloo I try to make one once it did not
look that good but we also have big
lou's as well but over the last four
years as we've been growing a lot of
things have been happening this is
actually a from our infographic of our
global growth but you can see that in
2008 this is San Francisco sorry so in
2008 is very small there weren't a lot
of people that were listing their places
but now in 2012 you start to make out
where streets are like you can see
market street you can kind of see this
is going to work but you can see where
all the hotels are it gets very office
here's the Tenderloin you know it's kind
of obvious where people aren't renting
out places as well as where they are
renting out places which is always kind
of interesting so it's been growing a
lot really quickly over the last four
years and it's come with a lot of
challenges and a lot of interesting
things but I think what's kind of more
interesting gets kind of the geeky stuff
going I thought I'd introduce just kind
of air view me stack I don't think a lot
of people are familiar
the technology we use that's a s'mores
just getting squished smushed okay so we
use Ruby is on rails framework and we
use get for version control github all
the time who's seen powers our search we
do a lot of like search experiments and
stuff like that we found that we've
scenes much more suited for a search
like that then something like thinking
sphinx which we were on before leucine
and then the other kind of thing we
found when we switch to the scene was
that is actually a performance increase
as well so if you're doing a lot of
search stuff definitely check out we've
seen there's a lot of cool things going
on there we use Hadoop as our data
warehouse and that's actually what I end
up talking to a lot with my job but so
we have Hadoop it's where we're storing
all of our data we're using the Redis as
kind of a key value store just know it's
all in memory so if you're going to need
it right a job to like back it up
because it'll go away at some point but
anyways we use my sequel as our back-end
and our for our database and we've been
experimenting playing around with
CoffeeScript a lot two-point-five
percent of our code base right now is
CoffeeScript it's mostly like mobile web
all wish lists a lot of new features
more the user facing features can be
find that we can move a little bit
quicker if we're using CoffeeScript but
it's not a requirement we don't force
anyone to learn coffeescript or anything
like that we use backbone jss kind of
like to structure our appt our client
side code because what we found is that
a it's really easy to drop backbone in
and get going if you have existing code
already and a bunch of spaghetti and
stuff like that which we had we had a
lot of technical debt so it's a lot
easier to try to like wrangle it in if
we had a structure that we kind of could
build out from which is what we got with
backbone and then we we use sass we love
sass a lot and i'm sure you guys it
seems like a lot of talks around sat so
i'm sure you guys been hearing a lot
about it so that's what that is all
right we're also a web amazon web
services we're one of their bigger users
if they have a feature we actually use
it but this is actually out of data as
well I should throw a beard on it but
really what we're missing as well as a
dynamo DB which we're using kind of less
redis because it can actually back it up
and scale more but so we use ec2 that's
our servers EOB is load balancing EMR
that's our Hadoop machines s3s or
storage our ds's database cloud West
cloud watch for the metrics on that side
we got elastic ash from managed memcache
it's a lot of a soup there so sorry for
that but anyway so that's what we're
using we're all cloud-based these days
right all right so what do i do at
Airbnb I'm on the data infrastructure
team that's what I'm doing right now and
what does that mean it's a lot of fun to
explain that to your parents so i made
this slide for my parents but i'm just
gonna show it to you guys as well
there's three kind of things that i work
on this data collection its data
visualization and then the internal
tools that kind of surround that
ecosystem like what do we use to manage
and actually check in that our data
collection services are still up and
running how do we know that we're
actually getting accurate data all the
time on the data visualization front
it's kind of more of how can I make
tools so that people can actually dive
into our data and make sense of it and
then internal tools is just kind of a
fun way to poke around at our internal
systems and like have unique tools for
the other engineers on our teams like
giving a bird's eye view and the things
like that so that's what a data
infrastructure front-end engineer is
doing at Airbnb but I guess what it
really means in the part that I didn't
really explain to my parents is that
it's about making decisions based on
data when it's possible and we really
think that you should be making your
decisions based on data it's about a
crazy thing to say but that's a pretty
hand wavy slide right there so I'm going
to say let's make good decisions based
on good data and smart ones out there
probably like why you just made those
words gold and add good in front of them
let's say you're right but really a good
decision is an informed decision and
good data is reliable data what I mean
by reliable data is just that anyone
else that comes back and visits your
data and runs kind of the same charts
and graphs and analysis on your data
will more likely get the same results
and yes sometimes I like to read the
words on the slides
a professor once told me it was lazy to
like add subtitles to your presentation
but you know I saw it was great for when
the audio yeah let's go so but seriously
there's two big concerns with bow that
gold again two big concerns with the
data infrastructure is the main thing is
collecting your data and then
communicating that data with
decision-makers because everyone knows
that we have data everyone loves that we
have data then what ends up happening
Tsar like tell me what does this mean
and you're like give me a couple days
and they're like no you need to do it
now you're like well let me build a tool
so that i can do that next time you ask
and then they say you don't have enough
time then you do it anyway it's a ranch
okay so collecting data the thing you
need to know about that and why this is
coming bigger and why you hear about
like big data and things like that is
that storage is cheap storage so cheap
now that you can just collect everything
you want into like one big place that's
a good thing as you start to grow so
when you start to store everything what
you want to do is you want to make sure
that you are actually logging everything
it's really hard to go back and say I
need an answer to this question but we
don't have the data for that and so then
you're like well I'll start measuring
now but you can't really back fill in
there so what you need to do is just
start logging everything as soon as
possible because who knows what you can
do with it we just have a bunch of data
that we don't know what we're gonna do
with yet but that's fine that's okay and
the main thing you're going to be seeing
is that you're going to want to be
looking at your performance and you're
going to be one looking at your metrics
and how those play like
cross-functionally with each other
because you'll see the guys on the
performance team doing crazy things that
makes a site way faster but then you'll
see like if you're watching some of your
business metrics like who's clicking
that Buy It button or whatever it
happens to be goes way down yeah the
site's a lot faster but we're not making
any money anymore because that broke our
button but you should also have a bunch
of tests and things like that for making
sure integration tests to make sure that
you can actually click the button things
like that but these are some of the
things that we look at and try to make
an effort to analyze communicating data
with decision-makers is really just kind
of about considering your audience this
is kind of what the heart of this talk
is about your audience really is anyone
like if you're going to be building
tools for people to make decisions based
on your data you really want to make
them available for everyone in your
company to look into provide
transparency let let the data speak for
itself because really that's where the
truth is a lot of people will have
opinions about what is better and what's
not better but really if you can point
to a graph if you've said I ran the
numbers that usually takes you places
the other thing you want to try to do
when you're communicating data is you
want to try to tell a story it's the
same way with when you're building a
user interface or structuring the layout
of your site you want to make the same
kind of decisions that you normally
would you want like a login button you
want to logout button but you don't show
those once you're logged in you switch
them and things like that and then you
want to build the tool that ends up
replacing you so right now that's what
i'm doing i'm building the tool it's
going to be a better me that's what ends
up what what happens so what i want to
start with is a really interesting story
and it's basically a data visualization
with words and this story goes way back
to the 19th century and it's about a
woman kind of a hero of mine Florence
Nightingale oh noes here we go just drag
that out there we go you can't read that
at all so anyways Florence Nightingale
she was born 1820 little 19 10 but she's
a big deal a lot of people don't know
about her but she basically ushered in
modern-day nursing practices she's the
one that cared about hygiene and
sanitization and things like that so she
was a nurse and she was also a
statistician which was kind of odd at
that time for a person like her and one
of the first big thing she's did but she
went off to the Crimean War hospitals
which was in during the Crimean War
which was in Turkey she went to
hospitals there which were more of like
a makeshift hospital and she started
noticing just the worst things ever she
started to see their lack of fresh air
and light there was overcrowding there's
lack of food there's no sanitization
facilities and things like this but
really when you start to notice things
like this and this happens with your
data is that you can't really convey the
same story to people you can tell people
the story but they're not going to get
the impact without having been there
so really what you want to try to do is
extract things from that so being the
statistician she kind of flipped a
switch and she started collecting data
about this stuff she started writing
down everything about the conditions how
many rats were in the hallway how many
dead bodies were just stacked up outside
and she started to write down the cause
of death before they would just kind of
say oh this guy passed away from
malnutrition and they'd cover him up but
no one wrote it down so then she started
writing it down and trying to see what
she could get out of it so she ended up
with this giant table of all this cool
stuff but you know not as pretty because
they didn't have that kind of stuff back
now oh right so that was good yep all
right here we go so what she ended up
realizing from the data just kind of
looking at and trying to extract things
out that more people were dying from
preventable causes like things they
could have done to stop them from dying
then on the bad battlefield like when
they came in they were dying from just
poor hygiene and like disease and things
like that things they could have
prevented they were dying because they
went to the hospital not because they're
at war which is just a terrible thing
for a nurse to watch like her soldiers
go on and die so she started to just try
to tell everyone she's like I have this
data look at look just look at this I
can prove it and she just tried to tell
everyone so you know she's throwing her
note into the ocean to try to get anyone
to listen but it's really hard to get
people to listen you when there's a war
going on because there's a lot of crazy
stuff happening so the big thing for her
was she eventually got an audience with
the Queen she talked her way up to the
Queen but the bigger problem that came
ups for her was that how do you convince
someone who has little or no statistical
knowledge that this is right or how do
you convince stone with a graph what it
means and so she wrote to one of her her
mentor who was the guy that invented the
pie chart and the bar graph she wrote to
him she was like how do I convince the
Queen that we can prevent a lot of peeps
olders from dying and her mentor wrote
back he wrote back he's like you need to
show the Queen every piece of data you
need to have graphs everywhere but make
a big report for her convince her that
you're the expert and then she will
believe what you said
what you say and Florence being kind of
the you know the badass that she was she
was like no I want I want the Queen to
come to this decision I want her to
realize that this is a problem so what
Florence did which is pretty funny as
well okay there's that again don't do
that she invented a visualization she
invented a whole new chart that had
never been seen before and the way she
did that was this this is called a man a
coke some clot I have a hard time saying
that cuz I kind of started on it so
coaxin pot but what it is is a pie chart
broken up into 12 separate segments each
segment is a different month in the year
and the one on the left is actually
where she started taking Wow my God
where she started taking data and the
one on the left is going to be the next
year so you can kind of see it changing
seasonally going clockwise you know
August into the flu a seasons where it
gets really big and the blue is where
people are dying because of preventable
causes and you can see if you compare
December to the next year you can see
that the blues gone way down like they
they made a decision to finally fix
things but so this was this new plot and
this was the plot that actually
convinced the Queen that they needed to
do something about that and she just
invented this graph and the funny thing
about it this graph is there's no
numbers on it like you don't need to
know the values you don't need to know
the percentage you don't need to know
how many people actually died what these
numbers are you just can see that
something's happening and that happens
during these months and that it's out of
proportion that more people are passing
away then should be and the way those
segments work and that's really hard to
read I apologize is that the area is the
number of deaths overall and that's
calculated using R squared pi sine theta
where theta is just the angle that that
segments making the interesting part is
why did she choose to use the area as
the number of deaths well if you look at
it you can't really use the radius right
because what ends up happening is this
guy you start square the radius and what
happens there let's say you know the
next radius is 2 times bigger than
last radius what happens there well
you're going to square that so you end
up getting a 44 times it's called a CREP
quadratic growth and that's actually a
problem because it's no longer truthful
data it's an exaggerated data and so
yeah it'll it'll seem cooler it'll seem
like there's a bigger problem but really
it's not to the true facts so Florence
ended up actually realizing this because
she had done it using the radius
originally changing the radius based on
the number of deaths and she had to go
back and update her grass because she
knew a lot about maths and things like
that so she went back and was like I
need to correct this that's why Florence
is really cool so going back to the
Cox'n plot you can see that on the left
this is the same data this is just a
different visualization if you compare
it with a bar chart what are we really
seeing if you look at the bar chart you
have to really analyze what's going on
here there's a lot of clutter there's a
lot of valuable information here but if
you're not diving deep into how many
people are passing away every month you
don't really it the data doesn't really
matter as much and the other thing
you're going to notice is you don't see
seasonality you don't see the same
patterns occurring the next month or the
next year so if you look at the big
spike in the middle that's January there
that's huge and if you look at the next
January where it goes ma'am J you'll see
yeah it's big again but that's what
happens in January but you're not going
to see that unless you start to look at
it in the deep way and I think if you
presented this to the Queen it wouldn't
have gone anywhere but you know there
are some other really important visual
visualizations that go into the history
of when you're citing how you display
your data and some big decisions have
already happened from these kind of
things so this is a Jon Snow's dot map
there was a giant London epidemic in
1854 where cholera there was a big
epidemic of cholera and what John so did
being a physician was he went around and
he asked everyone you know that had
cholera and he went down and put it on a
map put a little dot map and you start
to notice clustering which is kind of
hard to see here but right around here
these black dots that
where all the cases of cholera breaking
out you can actually see it occurring on
the same street on Broad Street and jon
snow started to investigate this because
no one else was checking it out and he
was like what what's consistent across
everyone on Broad Street well it turns
out that everyone sharing the same water
from the same water company and he went
and followed the water line and it turns
out the water company was just ditching
in the sewage water from down the harbor
and there's a lot of disease a lot of
bad things that were in the sewage water
dumped it off so you can't just go to
the water company and say hey stop
serving your water you're killing
everyone what he did is he went to the
local council council with his dog map
and he says hey look at this this is in
the water this is coming from the sewage
this is a problem and they're like okay
let's go remove the handles from the
water pump so no one can pump water
anymore and that's what they did they
just remove the water pump handles and
the outbreak stop there was no more new
cholera cases since it's kind of a weird
story from just a simple map and Jon
Snow good guy and you know coming back
to the infographic from before it's kind
of a similar pattern like how can you
cluster data around it to analyze that
and see common patterns like finding out
where people aren't going or aren't
listening their space this map right
here was deemed one of the most
important graphics ever created by
Edward Tufte who's kind of been called a
big deal in this area but what this map
right here is showing is that it is
Napoleon's march into Russia in 1812 and
at each point it's a different location
on their march you can see how many
people in their army we're still with
alive at that point so you can see it
start to dwindle as I get further and
further in the Russia and then you can
see on the retreat the black line there
as it's coming back how the weather
starts to come into play like as it got
colder and colder more and more people
are dropping off and this really just
kind of in one quick graphic you can see
why no Polian failed and where they
failed especially explicitly
and what the place where you see this
kind of map which ends up getting called
a Sankey diagram is you know when you're
checking out your user flow and this is
an example from google analytics but we
have our own kind of user flow diagrams
going on right now you can see where
people are falling off where they're
going to and connecting the patterns
from there and that's just by you know
tracking where your users are going and
what they're doing and seeing trying to
figure out where they're falling off and
things like that that's where these
diagrams become very useful the point I
wanted to try to make here was that you
know this is important because the way
you communicate your data really matters
and it really matters to the people
making decisions and it really matters
to just your company as a whole in terms
of like transparency so the tool I'm
working on right now we've called it
Newton and what it's going to be doing
is uh we have data in all these
different places you know our Hadoop
machines are flogged system we have data
in just a bunch of different places and
everyone's running different experiments
on different things like what's a better
color button what's a better search rank
algorithm and things like this but what
we're finding is that everyone is
running their tests independent of each
other like there's no consistency so
that the way someone measures a better
button isn't the same way as someone's
someone else somewhere is measuring
what's a better button so we want to
build a tool where we can put all of our
data in one place don't know what it's
going to be or how we should analyze it
and generate the graphs that our
producers are the people looking into
the data need to make the answers and
decisions that they can so I wanted to
show you guys kind of this is really
rough prototype what we have right here
but so this is Newton of is built with
ember and d3.js we decided to go with
ember well I decided to try it with
ember just because amber is really nice
if you can just start new it's really
easy to kind of figure out the way they
do things if you can start fresh on a
new project and I saw this as like a
fresh
roderick that i wanted to try it out
with the other big thing is you get you
know computer properties and finding
data both ways and things like that
which is great when you start to
interact with graphs and different forms
of graphs and you know the difficulty
with this kind of project is that this
navigator over here it's not going to
know what projects we have until the
data shows up it's not going to know how
many children each one of these projects
has or if there's subprojects inside of
there and things like that and amber is
a great way to structure your UI around
things like this so this is just dummy
data that i just threw together for this
but it's a quick way to just kind of
interact with your graphs and try to
understand what's actually going on if
you can compare things on a singular
level and like interact with them more
than just the standard Excel spreadsheet
that you know our lovely analytics team
kind of shows everyone at once in a
while we do other things it's just a
dummy there as well but you know you can
see with a interactive Sankey diagram
you can do need things like figure out
overlapping lays and like where things
go wrong and things like that as well so
the big thing coming back to what
Newton's going to end up being hopefully
is that it'll end up being a application
where anyone with data can dump in their
data and be able to browse and analyze
and make decisions from it hopefully if
we do it right will be open sourcing
this and so anyone can use this as their
data analysis tool as well that's kind
of a big goal there probably by the end
of the year hopefully and we'll see what
happens there but with that I would love
to just open up to questions about data
you I product anything about air BB in
general thank you everyone
so I really think that you should focus
more on ways that you can understand
performance in ways that you can
understand like your bottom line like
the metrics that affect where you make
money or better quarter your business if
that makes sense so ideally what you
want to be doing is tracking how users
flow through your site where they fall
off things like that I mean that's kind
of the big use case there but you also
want to find out like how people
interact with it as well if you can do
smaller experiments where some people
get a mouse tracking service as well
where they can opt into it and you can
track and see where they're falling off
and what's wrong there that's really
important as well but mainly what you
want to find out is analyzing the data
of people that are signing up but maybe
not completing their profile people that
browse different parts of your site but
don't actually complete an action like
your problem areas like why isn't that
number higher</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>