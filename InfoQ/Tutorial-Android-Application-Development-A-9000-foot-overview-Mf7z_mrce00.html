<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Tutorial: Android Application Development - A 9,000 foot overview | Coder Coacher - Coaching Coders</title><meta content="Tutorial: Android Application Development - A 9,000 foot overview - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Tutorial: Android Application Development - A 9,000 foot overview</b></h2><h5 class="post__date">2011-01-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Mf7z_mrce00" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'll tell you just a little bit about
myself some of you may know me but so my
background is in Java I've been doing
Java since before it was Java since 95
or so when I was a project that sound
called poke back then I was very much
interested in Android in studying Java
for embedded devices but then what
happened is Java mostly evolved in the
enterprise computing so for the past
10-15 years that's basically what I've
been doing mostly enterprise web
development with Java and then couple
years ago when Android came out I got
really interested in that so that's sort
of my my background over the past three
years have been extensively
working on Android projects doing a lot
of training so of this year alone that's
my statistics have done and actually
it's kind of outdated but I've done
close to 200,000 miles this year I've
been on the road probably hundred and
seventy eighty days something like that
crisscrossing the globe and doing doing
a lot of class for companies like
Qualcomm Motorola Sony Ericsson
Department of Defense
you know Cisco lately as well and I also
often speak at conferences so I spoke at
OSCON couple of times
ACM I Triple E I'm speaking at the
upcoming and DEF CON Android developer
conference which is in San Mateo in
March and and I'm also working on
learning Android it's a book that's
going to be published by O'Reilly so
I'll tell you a little bit about that
book because the the book is actually
came out of this five day class so I've
done this class many many many times and
probably over to over thousands of
people and I sort of saw take certain
things work and certain things don't
work so over time I kind of try to
distill it down into a book so so and
that book is currently available
online at if you go to learning -
Android comm it's going to forward you
to another URL but that's a good start
so learning - Android calm and a lot of
what you guys have in in your material
it's sort of sort of that you know this
is you can think with the rough draft
still going to get edited for language
and all that other stuff so learning
that Android landing - Andrew comm so
right now it's free it's in a draft
version and it's in this format where
people can comment so you can just go
and comment on it as well so if you see
something that's wrong or anything that
could be improved on you can just do it
there so that's um it's just a little
bit about that book um you know it's all
available here and so so far so good ok
cool so so I'll tell you a little bit
about what we're going to do today so
we're gonna talk a little bit about the
stack you know what Android is and what
it isn't we're going to do a little
hello world example and then we're going
to talk probably around lunchtime or
right up to lunch but the main building
blocks that's something that I think is
a sort of very important and new in
Android so after that we are going to
talk about user interface and that's
what we're probably going to spend most
of the rest of the day on so that's sort
of our plan for for today this initial
part here is going to be somewhat more
theoretical but that's just kind of how
we're going to start don't worry this is
going to be very much a cancer on class
so it's not so much a theory and the way
the way that we're going to do it is I'm
going to walk you through an example
I'll actually be doing it live and then
you guys are going to be doing something
similar yourself and then in the last
hour we'll give you a chance to actually
work on a totally different project
knowing what you picked up in the class
so far sounds good
and I know some of you might have seen
some parts of this because you took the
the overview which is essentially the
first day of the five-day class cool so
and by the way feel free to ask
questions at any point in time it's a
it's a small class so feel free to you
know it's your class so ask whatever you
want to know so let's talk a little bit
about the stack how many of you have
seen this before a couple of you okay so
it's basically the you know the stack of
the entire operating system Android is
as you know a full fledge platform it's
got everything we need to get going so
what we're going to do is we're going to
start top up I mean bottom up we're
going to talk a little bit about the
Linux we're going to talk about the
native libraries dalvik the app
framework and finally we're going to
discuss applications so that's sort of
our golf or for now so as you know at
the bottom of it all it's it's basically
a linux android is based on Linux
operating system um what uh any ideas
why Linux is open okay
couple years approval so it's open
you go right LS abstract you can do a
lot of the bug in it the apps use it
this way yeah yeah so it's it's open and
it works right yeah
any other ideas why why Linux so
security yeah yeah it's it is an
operating system that's been in a very
harsh environment so we know a lot about
Linux security and that you know
DuckTales into you know it's an open
platform so we know we know what that is
another thing that I would also mention
is that Linux we understand the driver
model on Linux very well so it's
relatively easy to pour it right so when
when Android started as a project Eric
Schmidt basically said look you know our
goal is not to have G phone because a
lot of
back then Tata Google's working on a G
phone right iPhone G phone right and
they made it clear right then and there
that's not the goal right the goal is to
have a platform that's going to run
zillion different devices and you're
going to see how this decision kind of
is implemented throughout various parts
of software as a platform so it's
basically we're targeting zillion
different devices so such we need a
underlying part of the stack something
that's easy to port and and implement on
different on different platforms so
portability security security is also
important because unlike some other Java
solutions Android outsources its
security down to Linux so like for
example j2me and or Java ME tends to do
more of a security in the Java layer and
that's not the case with the Android
system we basically push the security
down to Linux which is good because
Linux we know much more about than Java
so so those are some some reasons for
linux as the bottom of it all on linux
kernel itself technically is not part of
the android project and technically it's
not a modified version of linux in
practice it is slightly modified but
it's based on you know to 6:30 34 I
think now so it's more or less its a
standard kernel it's just that we use it
to build on top of and it's been
modified for various things we can you
know toward Thursday Friday we can talk
more about the internals if that's you
know if you guys care about that but I
can show you some of those modifications
on the what d-bus I'm not sure I'm not
sure in by downtown you right under
Leslie there the device is more IPC
mechanism each in if we know to use this
basically
occupation isn't necessary for her
entirely on the system beam so much
Supercenter also contracted rubbers so I
mean Android so Android has its own IPC
mechanism using the binder so there is a
proprietary mechanism developed for
Android
nestled deep community Escobar turn your
application or bird or Foundation the
resources community and something I the
ESP penguin if you have a cell phone and
I am patient if you put iron well over
partner yes especially I can yeah mom
I'm not familiar about that I don't
really know so a lot of that is not even
exposed such as USB is not even exposed
to the Android you know higher layers so
it's kept in the sort of the proprietary
part of Linux some some of that stuff
specifically USB for now any other
questions or Linux ear it create a Linux
system in can any Linux system run
Android not really not really there's
there's quite a bit of specifics with
respect to Android for example user
management the there's no password file
right so users are actually hard-coded
in a C file and the file system is
mounted differently it's there's no FS
tab file right
so it's mounted by in it D process so
there's it's quite different
everything around the kernel is
different other than the kernel itself
right so so quite different the way to
use this Linux it's based on Linux but
it's not
you know it's not any standard Linux
distribution that you may be familiar
with controls using the resources on
it's not you well it's not using the
standard it's uh no it's it's a
different file system she's more a user
space policy yes it's more to be user
space file system it and yeah I what I'm
not sure not sure if you yeah I don't
exactly know how that works so um so the
entire stack is more or less licensed
other Apache and MIT licenses because
remember one of the one of the goals of
the project was that you know it's going
to be a platform that many many people
are going to use for many many different
devices so as such the license needed to
be friendly for companies such as Cisco
where you would take this platform and
you would build on top of it and make
changes to it so regular GPL as the
license doesn't quite work in that case
right however you know we are using the
kernel so that's partially why kernel is
a separate project that that Android
builds on top of which is GPL right
but there are some licenses which are
GPL or LGPL but for the more you know
it's a it's a mixed bag of stuff but for
the most part it's Apache MIT that
license BSD and so on so what is they
enjoyed it a fun way to fund such as we
can see Gilligan's about any other CEO
so in terms of the CPU support um the
the ideas that a lot of stuff has been
designed with portability in mind that's
in theory right so in theory it should
be easy to port it to Maps or to in tow
and so on in practice you know they're
more pragmatic they built built it for
specific platform right so when it comes
to porting tools to a different
chipset you would basically have to take
in all the libraries think recompile
them dalvik in itself comes in two
flavors and we all talk about dalvik but
there's basically a flavor that is more
of a sort of NCC fairly portable right
and then there's a flavor that's
optimized for arm so but you would
probably have to do some work in porting
it to a different chipset right so on in
terms of the minimum requirement that it
really depends for example ginger
gingerbread the new version is coming
out does require one gigahertz as sort
of a minimum requirement but that's not
not to say that you know you can't pour
it to something else it's just that it's
been designed to work with that in mind
right so we do have you know Gingerbread
and froy you're running on special
specifically fro you're running on a
very all devices on which it's not
supported but it's possible to port so
but then you're sort of on your own that
comes to poor portability and on it you
know the question is Linux we'll get
back that so on top of Linux basically
what we have is we have a bunch of
native libraries meaning C C++ code that
is more or less copy pasted from other
open-source projects right so we have
other projects that we needed to
complete the whole stack right so to for
example to build a you know entire
system we needed a database so we got
sequel Lite database as a default
database we needed a way to render HTML
so we got WebKit which is the same
engine as Chrome and Safari and many
other browsers as a cell as GL OpenGL
you know various media codecs things of
that nature so so that's mostly in a
board from the other projects suppose
obviously it would be fine for a giant
waffle
these libraries are minimum requirement
so first of all keep in mind that you
know the examples that I took here are
mostly for just educational purposes
this is not the finite there's much
larger list so that's that's the first
thing now what it means to be a minimum
requirement so that's that's a whole
question of fragmentation of Android
what does what does it really mean to be
a valid Android device right because I
can take Android and I can strip it down
and use it for example for you know home
control system or something like that
right on so that's where the Android
team just recently came up with the
Android compatibility certification
forget exactly what it's called but
basically that boils down to to use
certifying yourself or your code that
it's a valid Android system right and
what that means is that there's a
battery of tests that you run yourself
that's going to check that there are
things that a user would typically
expect of an Android device right so
double check existence of you know
default code X the default database
default this and that that's a part one
of the test part two is more more
subjective sort of acute testing that it
as that as a user it feels like that so
in other words you could take Android
you could modify it for some totally
different use like you know home
automation system or I work with a
company that's using it for car for
dashboard right nothing to do with a
mobile experience so of course they
strip you down and modify it but that's
fine they just don't need to call it
Android nobody even cares that it's an
Android subsystem so so that's what
compatibility so you just if you are
going to call it an Android system it
should adhere to certain minimum sort of
set of functionality make sense well any
other questions to native libraries one
thing that you may not you may or may
not have noticed is Bionic
on so that's basically more or less an
alternative version of Lipsy library
okay
so it's it's a modified during written
version of flipsie it's been optimized
first of all for android so there are
some things that are added to support
Android features such as like logging so
that there's a common logging framework
throughout the system but also another
reason for Bionic is again the license
so Bionic is I think derivative of BSD
so it's a license under those terms
which means you know you can build on
top of it and you get to keep the
changes unlike al LGPL so for the
regular license so that's we'll see that
when we talk about the internals later
on cool okay so what we have next is we
have something called dalvik so dalvik
is basically the replacement virtual
machine it's an alternative virtual
machine for Android is everyone familiar
with how Java works with its virtual
machine right so basically the Android
team one of the very first things that
they looked at they're like okay so if
we're going to use Java as a language
Java the language is free Java tools are
free Java compilers are free but virtual
machine it's not right so typically if
you're using the virtual machine you
have to license it from Sun now Oracle
right so that didn't really work well
with the with the whole goal of having
it run everywhere by many many different
companies and the individuals and so on
so that's why they sort of did a bullet
and decided to create a virtual machine
that specific to Android and while they
were working on that so you know one
reason is basically a license again but
the second reason is they looked at the
JVM in Java Virtual Machine it's been
sort of one size fits all for everything
from small devices to very large servers
right and like I said most of the new
development in Java has been more on the
server side not so much on the tiny
battery power device side
they felt the day if they focus on just
the mobile experience that they can make
a virtual machine that's much better
better performing and as such they
basically looked at adult you know the
mobile experience and they said what are
the things that are not going to change
anytime soon soon what are the
constraints that we're sort of dealing
with and they came up with basically two
things you know devices are going to be
small meaning on the power and they're
gonna run on batteries and batteries are
not going to get much better any time
soon right
we're seeing an evolution in batteries
but not an evolution right are not a
revolution right so so dalvik has been
optimized with with that in mind
so you'll see later on but it's a very
very tiny footprint virtual machine and
that sort of goes back to remember how
we outsource security down to Linux so
essentially we're going to run every
single application on its own valve a
virtual machine so unlike unlike regular
Java ME solution where you have many
many apps in the same VM space we don't
do that we have a single process with a
single Dalek VM so if something blows up
it's just that Linux process did blow up
nothing else you know so that's where
Linux is sort of managing the security
of Linux is managing process processes
all that sort of stuff so we'll talk
more about that a little later dalvik is
now JIT enabled meaning it's got
just-in-time compiler is everyone
familiar code that works the adjusting
time compilers like a called hotspot in
Java so you cache the code that you
interpret on the fly right so it makes
it it think the end result is the code
now rounds two to five times faster with
dalvik when it actually has there's some
running code so that's that's a little
bit about like any ideas where I picked
this picture other than it's a nice
picture yeah it's a in Iceland yeah
so that's dalvik it's it looks like that
it's got a church that's about it and so
the
the guy who wrote the dalvik his name is
Dan Bornstein
he works at Google me and him have live
in the same San Francisco building it's
a five people building I mean it's small
I don't live there but we used to have
an office at the bottom floor so I still
on the property sits totally a
coincidence a small world I had no idea
like sounds okay you do enter it too huh
interesting sir but he basically wrote
it so they remember each hours going
over note the draw applications could
deflect our applications modular system
said each paper multiple pole he was
trained by 700 so so basically car is
that we gonna handle the the threads
right now just does time slicing but I
don't know what's coming out I don't
know yet with the details dalvik team
usually works like two releases out so
they don't even work on gingerbread
they're working on honeycomb so they're
like working far out but I honestly
don't know what their priorities are I
would imagine that porting to Intel is
one of them so they just got to jet out
which was a big deal right so the next
big deal would be to to get Intel
version out and one of the big
motivations for Intel version is the
Google TV right so that's something that
but this is again I'm just speculating I
don't have the details and keep in mind
that first of all you guys are part of
the Alliance right the Open Handset
Alliance so sometimes you have preview
of the of the stuff before general
public so that's one thing second thing
is sometimes code is actually in there
but it's just disabled so for example
the JIT compiler was in in Froyo not
nothing Froy but even even earlier in
Android it just was commented out but it
was there in the code it just what they
you know just kind of turned off because
they were still testing it so so that
but objects
Specter that's one of the high priority
items small to support multi-core
processors of phenom oh yeah they were
used for the there is people who say the
vendors a civil process yes so they are
going to take advantage of a loophole
yes sweet leaf and pepper until DMV for
two years of wonder digger by the
medieval Java at the future of the talk
where that is when a shipper to be they
learned every virtual machines ready
yeah exactly so the VM itself needs to
take a better do a better job at
concurrency yeah yeah right now it
doesn't I mean you know we run it in the
emulator but I run it on a multi-core
machine within the emulator and it
doesn't take advantage of the course so
it is basically on one or the other so
exactly yeah we'll look at some tools
how we can actually measure the
execution so we can actually see how
that's working but you're going to see
the times it's just time sliced right
now so any other questions in dalvik ok
so at the top of that we have the app
framework so application framework is
that sort of rich environment on top of
which we're going to run everything
right so it's you know it's written in
Java but the DuckTales into C code it
provides easy access to a lot of
features that are you know maybe more
convoluted down below so for example if
I wanted to find out my location or
Wi-Fi networks are getting the internet
or make a phone call or whatnot
app framework makes that very very
simple by providing a nice cooking a
consistent Java interface so that's what
it is that's the part of the system
that's very well documented explained
understood and all that so that's sort
of the new stuff whereas sort of stop
this below this line you know the source
code is the documentation you know
there's not a lot of documentation other
than that so but
above this part we sort of have much
better understanding well and then on
top of that we have apps right so me
write applications now what an
application is is roughly a it's a
single file it's called an apk file and
that apk file is more or less a zip file
right so it's basically just an archive
of stuff so the stuff that you get in
the dark hub is sort of two things I
kind of have three here but it's more or
less two so you have some Dalek
executable meaning this is the Java code
that you write right it gets compiled to
dalvik we'll talk about that in a second
but that's basically the executable code
and then on top of to that we have
resources so resources is everything
that your app needs that is not code so
it will be something some things that
your app needs that is not code images
icons hmm yeah yeah also a lot of XML so
there's going to be a lot of layouts
you'll see how you describe UI using XML
so there's going to be quite a bit of
XML code all the text all the English is
going to be more or less in XML right so
we're going to outsource all that from
Java to XML so you'll see how this ends
up being a lot of sort of other stuff
that doesn't you don't necessarily want
to pollute your Java code with so we'll
talk about that so those two things
essentially make your APK file now I put
native lips here just because you know I
this is not very typical to have any
native libraries as part of your
application but I tend to work with
companies that always wanna add some you
know secret sauce that certainly see or
something as part of their application
so that's why I kind of put it there yes
you can have some native libraries as
part of that and we can talk about NDK
which is the native development kit
which is used for that sort of stuff
later on but it's not a typical thing
that a normal app developer would
do just that I assume cut you know you
guys the type of stuff you guys do
sometimes you need to deal with that um
so basically that's you know apk is
basically dalvik code plus your
resources um apps must be signed so each
application you gotta sign it now in the
development mode which is what we're
going to be doing it's going to be
implicitly signed with something called
a debug key so you're not going to have
to like actually go and you know sign
it's just get signed by itself
automatically another thing that I
wanted to mention many different markets
many different policies so unlike iPhone
Blackberry Pro some other ecosystems
like that where you sort of have D
market where you you know you gotta get
to prove to get in and that's the only
place to get the distribution from
Android sort of he has a multiple
markets so one big one is the Android
Market run by Google right but but there
are other markets so I know Cisco is for
example working on you know or wants to
work on an enterprise mark at market
right which is going to be sort of
probably higher quality applications
right then your typical Android Market
the US government also is working on
something like that you know t-mobile
many carriers have their own markets a
set of cetera so it's a it's a different
sort of system than other ecosystems
it's much more democratic sort of or
distributed open I guess so so that's
basically that any questions on apps
ok so then let's talk a little bit about
Java in Android so just want to point
out a couple of things couple of
differences so as you know in normal
Java code you write Java source code you
compile it and you get Java bytecode
right this is your dot class and then
you put that dot class fall on top of
JVM and that's where it runs right with
Android it's slightly different so we
still write the very same Java code we
still compile it to the very same Java C
compiler we still get the very same
but then we recompile it once again to
get the dot DX file or dot or dex file
or dalvik executable and instead file
that we now run on top of the dalvik
virtual machine so that's where sort of
it's different so these these steps are
sort of additional ok it looks like you
know more work but you'll see how tools
just make this automatic so you're not
going to see these extra steps it just
happens a quick question for you a
couple questions why Java why why use
Java why not C which is you know what
everyone writes embedded coding or why
not you know some more you know modern
language like Ruby or Python or
something like that if you were creating
a system like this yeah exactly
there ton of Java developers that's I
think the number one reason because
Android was really not designed for the
embedded developer so wasn't designed
for you guys right it was designed for
all those kids who were writing PHP and
other Java what applications are put up
until recently now I want to do
something new and cool all right so
that's sort of it's a much much more of
a mass-market appeal and Java is a
decent language for that may not be the
ideal best language in the world but
it's okay and right so given everything
else it's a good well rounded language
so that's that's a good reason can you
so can you write C applications on
Android so yes you can but what do you
mean by application is it as in an
android application or just a Linux
application that's going to run let's
see so here's here's a thing on I
usually answer that question depending
on who you are right so you can wear two
hats you can be an app developer or you
can be a platform developer platform
developer means you're shipping a new
version of Android and then your god you
can do whatever you want
you can write new C code you can install
it you know you're modifying the entire
operating system right if you're an app
developer then javac is the king so
everything is going to run with on top
of dalvik so that means it's going to be
Java but you can also write C code
that's going to run as part of your
application but it's still going to run
within dalek so that's where NDK sort of
comes it comes in candy sort of like
j'ni in Java right so yes you can have
native C C++ object code but keep in
mind that it's running on top of the JVM
so JVM is loading etcetera etc so it's
still constrained by the same
restrictions to the JVM is yes yeah
there will be some performance
differences and sometimes ten you know
order-of-magnitude performance in
differences I usually do this example
with the Fibonacci sequence and we do it
both in C and Java and then measure the
difference and it's about tenfold yeah
so but you know he and and it keeps the
same even if you do it iteratively
recursively so it's kind of interesting
you know in terms of performance so yeah
so that's the main motivation for having
a native code is to you know cap up some
pieces of your code that otherwise need
to be running faster another question
why didn't we why didn't we go from Java
source code them directly to dalvik why
why do these extra steps yeah that's
that's a really good idea you know one
of the reasons why we hear it from Java
bytecode is that you can then compile
other code down to Java bytecode so for
example I said Ruby or Python right so
they can both compile to JavaScript so
Java bytecode tends to be a very good
runtime environment right for many
modern interpreted languages so Jai
Python JRuby as I mentioned are some
so that's that's a that's a good reason
as well another reason is you know Java
compiler that it does a lot of useful
stuff so we're basically just inheriting
where we left off right so in that way
we didn't have to reinvent the wheel
that Java C already does so that's
another reason on but when I spoke with
a Google team why they did it this way
their main reason for this choice was
that back when they started this project
was 2005 and that's when Java was going
through a major change
that's when Java 5 came out so in other
words this was changing right so they
couldn't base dalvik on something that
was so in flux so that's why they
decided to base it on the on the
bytecode for the most part make sense so
far so good on that okay so let me just
kind of point this out so as you know
Java comes in different packages right
so we have Java ME for Mobile Edition
Java SC standard edition with desktop
Java and then Java EE Java Enterprise
Edition right so Android is neither of
those right it's not any of the standard
three job of packaging and the easiest
way to kind of think about it is that we
started with the standard edition Java
we took out anything that has to do with
UI so a WT and swing anybody did aw to
swing work a little bit okay so that's
gone right so that stuff is gone but
that's been replaced with a bunch of
Android specific API s-- so this is
basically the app framework plus
replacements for UI plus + right so a
bunch of other stuff there's some other
things that are taken out of AWT in
swing I think a reflection and couple
minor things like that but but you know
those are sort of auxiliary things I
think AWT in swing is sort of the
biggest difference so the UI is it's
quite different but the reason why this
you know this is sort of
important is because you're going to be
asking questions like you know or what
about Android networking or what about
Android IO or what about Android
threading well those things are the same
as in Java so not none of that has
changed right so you know you want to
open up a file it's the same as you open
up an open it up in Java you want to
open up an ax socket it's the same as in
Java so so those things can changed
there may be some other support on top
of it but for the most part it's the
same as a regular job okay
so that's why I kind of wanted to point
the thought any other questions to that
job make sense cool so let's let's them
talk a little bit about the setup so how
many of you have set up the environment
okay does anybody not have it set up in
the are you guys using virtual machine
or have it natively virtual machine ok
possible but ok if anybody'd want so I
have the virtual machine and USB key I
can just pass it on to you so let me
know if anybody needs it on it you guys
not advantages disadvantages of running
it natively so in virtual machines the
advantages I pre configured everything
for you you can just set it up and run
with it
and and that's about it right it's
pretty quick to set up the downside is
that a it's based on Ubuntu right so
some people are not familiar with Ubuntu
environment and I can't legally
distribute windows unfortunately and
sometimes it runs slower when you run it
inside the virtual machine so just kind
of like a preference some people like it
one way or the other
um the reason why we we have the virtual
machine is because you know when I do
short classes then it becomes really
hard to set up everyone's environment
and runs on a different system and and
plus setting up Android is a there
there's a second to part two steps right
so first of all for SDK you need
the bezdikian shell then you need to
download the platform right so that
means that in the class where I kept you
know 10 20 people when everyone goes to
do the second part which they have to do
you know then there it just clogs the
network and runs slow and will waste a
lot of time
similarly with Eclipse it's a two-stage
setup you download Eclipse and then you
download the tools for eclipse so that
always makes it really hard to do it in
a class I have attempted to what we not
be particularly but somebody in a
company we've attempted to make setup
much easier so we actually for native
setup so without the virtual machine so
we actually now have a development
environment which is a pre-configured
Eclipse and pre-configured SDK so as
opposed to having to do the second stage
for every single one of them and take
time we have pre downloaded that and
repackaged it so if anybody wants it I
have it for Linux Mac on in Windows as a
different environment so just so you
know it's on the USB key so it's you're
welcome to to use it now let me walk you
guys through the through the SDK and
kind of explain it so you installed SDK
you have a directory something like
Android SDK or something like that right
so inside of the directory are going to
have a bunch of sub directors and
there's going to be one called tools and
tools is a directory where a lot of
common SDK tools go into okay it's kind
of recommended that this particularly
you put in your path everyone knows what
I mean by that right in your environment
that right I guess in Windows or Linux
mostly Windows Mac ok I'm Mac Mac ok ok
so nobody's on Linux a couple year on
virtual machine eeeh ok so and you're
quite you're ok with Ubuntu and all that
okay perfect cool so ok it's for the
most part things are the same
pointed out where where it's not but for
most part everything we do we're
agnostic to the actual platform and so
tools is where your tools are so put
that in a path we're going to be seeing
some of these tools as we keep on going
and we'll see them as they make sense so
we're not going to see them right away
but I'll point them out as they make
sense now the next director that come is
very important is the directory called
platforms and inside of platforms you're
going to have any number of different
sub directories what platforms is is
where you plug in a specific platform
you're working on ok so remember I said
it's a two stage download so before used
to be very simple when we get android
1.0 you just download as decay and you
have everything 1.1 you go download sdk
and you have everything and then they
notice hey we're repeating a lot of
stuff there's stuff that's common right
so that so then they came up with
basically the shell of the sdk in which
you plug in different platform right so
right now I have two platforms I have
Android form four and Android eight
meaning I have android 1.6 ache a
doughnut right and Android a8 aka fryer
aka two point two and that's totally
fine
yes on the VM what I did is that I
worked really hard to make it as small
as possible and that's why you know you
only need one platform it doesn't really
matter which one we work with so as long
as you have one I don't really care
about anything else so that's why that's
fine
did you guys download the 1.5 gig or
denying gig of virtual machine to a
virtual machine 1 or virtual machine to
okay how big was it happy ok ok ok
that's fine so you basically download
explain that I have two versions of
virtual machine and the only difference
is the
the bigger one which is what you have
also contains the source code for the
entire Android platform that's because I
use it for the internal training as well
when we actually built from scratch the
entire platform right and the source
code for Android is about 2.3 gigs on it
by itself plus there's a bunch of other
stuff that comes with it so that's why
it's a little bloated that virtual
machine so that's totally fine if you
want to make it smaller you can just
blow away the director called fryer in
your route but other than that you know
it may be useful to have source code
handy so it doesn't doesn't hurt your
own power choose which one
director directory person they're
linking source regular secure everything
unit job when you build the entire
Android it actually contains everything
including the SDK the NDK the Eclipse
tools basically the entire yeah except
the kernel is part of the pre-built
packages so it does contain kernel but
in a binary format right so the kernel
itself is part of the pre-built packages
yeah yes you there's a place for you to
put that driver and yes you could plug
it in yeah and then when you build it
you can build for different targets so
you can say I'm building for CS or
building for generic which will be
emulator and so on so you can kind of
configure what you're building for on so
inside of these platforms again it
doesn't matter which one you have as
long as you have at least one so there's
a couple of sub directories as well one
is tools which is the platform specific
tools don't worry about that too much
that's going to be done used
automatically there's a platform for
skins which is basically the skin is the
look and feel of a device in the
emulator so I do this get a skin for RCS
anybody knows
the look and feel for CEA's so basically
what the skin is it you know it's kind
of like this is what the phone looks
like it's got 1024 by 768 and it's got
buttons at the bottom right so that sort
of stuff so I'm sure some of these
somewhere has created a skin for CS
these are some default ones and then one
directory that's actually very important
in platforms is this directory called
images okay um an images is not graphics
images is basically the file system
images okay so you technically have
three files two of them are important
system the time gene represents the
entire Android system when it's built
yeah so it's usually about 50 60 80
Meg's of stuff but this is essentially
what the system partition on your device
looks like this is the equivalent of
like you know C colon backslash windows
on your windows right so it is the
entire operating system everything isn't
there in binary format built right user
data corresponds to the user partition
so it's usually much smaller it's a
couple of Meg's thread and then it keeps
growing right
and then Ram disk is tiny it's it's a
just a ram disk and this is a kernel 4qe
qemu which is the emulator - you're
gonna use so I'll talk about that in a
second yeah um so that's all you kind of
care about in terms of the platforms
right so as I said each each platform
you download is gonna have a different
directory here now you guys familiar the
just version numbers what it means
Android eight versus entry 2.2 yeah let
me um let me um you know I'm gonna use I
used to have this file but I took it out
but I moved it to a different place so
this is what that really means so we're
all familiar with these versions right
1.0 1.1 1.5 6 and so on and so on right
and you guys are you've got on nicknames
right it started it was gonna when they
started nicknaming versions they were
going to call them after robots so the
first one was Android but then they
couldn't come up with a beam so they
switch to pastry's right so that's why
we don't then have cupcake donut a
Claire Claire Claire Froyo for frozen
New York yogurt and the next one is
gingerbread and so on and so on
right so it goes automatically and it's
something that's yummy usual so those
are nicknames now the most important
type of a number is this number API
level and what API level is is the
capabilities of the platform right so
for example you know was there version
1.7 1.8 1.9 probably did we care about
it probably not because it was most
likely just bug fixes performance
improvements etc in other words there
was no new there was no changes to the
API so you as an app developer don't
really care the API stay the same but
whenever API changes even slightly this
number gets jacked up by one right so
we're right now at API level 8 which
corresponds to Android 2.2 which curve
is nicknamed frozen yogurt yeah yes so
everything is backwards compatible did
they may deprecated some code which is
basically marking it for you no don't
use it but but yeah we click on Android
predicate Eclipse to select the API
level or third quarter but then at the
bottom it has you cleaner important so
why would you choose a different minimum
portion like why do they have that it
when you already stay in at alarm you
know use in yeah that's that's a great
question and I'll talk about it more
later but let's kind of take a look at
the distribution and this slide is
slightly all the
July 1st keeps changing all the time
this is I did something I did the
presentation for your upper management
for Baris team so it's the data from
back then but the the you know here's
the distribution basically a third of
people are still stuck at 1.5 and in you
know so basically about half people are
still running 1.5 1.6 right so now you
when you're writing an application you
know it's up to you do you want to care
about this other millions of people or
not right so in other words you may say
look I want to take advantage of the
latest greatest things in chrome right
but I would also like to have a large
market share right so you may say in
that case I'm going to design my app for
Android 8 but I'm going to support as
far back as Android 4 right so for
example if that if a certain feature is
not available because user is running
old version of Android you can
gracefully scale down to that version
you can disable a single button or
single feature in your app as opposed to
not have the app run at all right it's
kind of like you know you you know
latest Windows software may be designed
for Windows 7 but it's going to run as
on as bad as far back as Windows 95
right so you want to you want to
gracefully scale down right for example
Bluetooth doesn't exist
up until version 5 so you know I made
basically just disable support for
Bluetooth devices in my app for all
their versions but my app is still going
to run - that's one feature so that's
that's the reason why that exists and
you know a lot of people are getting
updates so let me show you this and
again it's dated but the picture is is
is interesting to see how people are
still a lot of people are still stuck
more or less than 1.5 what people are
still stuck more or less than 1.6 this
is kind of the getting squeezed out but
not
fast enough compared to like like 2.1
almost nobody is running on 2.1 anymore
we're just mutinies BAM everyone got
updated right so in similar for 2.2 new
release BAM people who really quickly
get updated the thing is so you know do
releases get pushed to users via
over-the-air updates right now all the
devices the phone and the firmware
simply doesn't support that so for
example HTC sold millions of g1 devices
right but they're not capable of 2x
Android and HTC is working so is so busy
with like new products they don't have
time to deal with the old stuff they're
just not motivated to deal with that so
that's why and you know and the way it
works in America is you buy a phone
under a two-year contract so basically
these people here they're stuck for two
years right that's why this line kind of
is going out slowly okay so it's not can
you install it you can we've done it in
the office we have gingerbread sorry
fryer running on the oldest phone g1
it's not supported it runs really
sluggishly right and it's not an
official release so but yes it's we
think one upgrade I enjoy from 1 to 2 or
no because try to no more efficient more
2.0 just has more capabilities right so
for example arrow now wants to get to
2.2 because it's got just-in-time
compiler making your code to 2 to 5
times faster so everyone wants the
latest greatest right now when
gingerbread comes out you know 1
gigahertz is sort of the minimum so even
if you have an older droid or something
like that in may run sluggish will not
even be supported by the manufacturer
alright so there is the open-source
Android but then there is this layer
that each manufacturer needs to provide
which is basically all the drivers and
everything
it so you know we do depend on on
manufacturer specially roll out the
firmware updates as well yeah you know
they're pushed by the carrier so in
technically it's pushed by the carrier
but the carrier works very closely with
manufacture to get us updates not
necessarily with Google so Google is
sort of working on the open-source
version of it and they may work closely
with a couple of manufacturers to sort
of you know get it right on their
devices just being pragmatic
but Google in itself is not really it's
not their job to push the updates other
than for Nexus One and the phones the
day support yeah so so that's sort of
how that that works well the
capabilities of the API keep changing
all the time so there's new features all
the time right better support for this
better support for that so if you go to
the end is oriented well Cydia so
certain applications could be taking
advantage of certain things that are
only available in the latest version so
they may or may not be able to run on
the older versions yeah um cool so let's
do so now that we kind of talked about
all the bits and pieces of the as the
Cape let's do a simple application hello
world just to come doesn't you guys have
everything working and you know set it
up and kind of go from there so what I'm
going to do is I'm going to open up
Eclipse and see if I have any previous
hello Cisco projects let me delete
so we're going to create a new project
so go to file new Android project if you
do not have Android project available
there you probably did not install
Android tools for Eclipse ADT otherwise
if everything works if your clip so far
is configured properly you should have a
window like this it's called a new
Android project oh by the way one
directory I did not mention
so just back in SDK there's another
directory called add-ons
okay so add-ons is basically very
similar to platforms except it's the
third-party releases of Android so what
does that mean
so for example you guys may have a
different version of Android for seus
you're likely gonna have that right
you're going to have a modified version
of Android it's going to support some
special stuff right maybe there's like
you know licensing support and like some
something some special sauce that that
you created and you you may want to roll
it out to developers so the developers
can develop for your version of Sia's ok
so what you would do then is you would
release an add-on right so these are you
know just some add-ons that I kind of
made up here but one one one common
add-on that's well-known is for example
Google Adam 4 for Android so for example
yes Google does have the team that works
on the open-source Android but then they
also have a team that works on a
proprietary version of Android so when
you get a phone with from t-mobile or
somebody and it says with Google on it
you likely have a different version of
Android a non open-source version a
commercial version of Android what's the
difference so it
got Google's secret sauce for example
Google Maps right so that that's one
thing that's not open-source right
Google app market is not open source so
in other words if you want to have an
Android that has certain things
pre-configured pre-installed certain
libraries installed such as you know
navigation and so on then you need a
different version of Android yes so it
means that it's licensed now you you
know it's we indirectly pay to our
carrier I paid to t-mobile t-mobile then
catch some multiple licensing agreement
with with Google and so on but that's a
pretty common situation so almost nobody
runs a vanilla Android out of art of you
know the carriers so carriers work in
the main in States at least carriers
carriers work very closely with OMS to
create proprietary versions right so HTC
is probably in my mind the best example
so HTC has their whole sense UI so
you've seen their phones to look much
sexier than a regular Android phone
right the apps are nice and flashy and
it's very much like iPhone experience so
that's the kind of work that HTC does so
they take regular Android to build on
top of it right and then that's what
they provides to carriers well you you
can if you want you don't technically
need it you only need it if you're using
that carriers extra so for example
unless I'm writing an app that needs
that is using Google Maps I don't care
about Google Maps API so in that case I
would just write for standard Android
button and most of the work I do I just
write for the standard Android platform
but if for example and in for example
HTC may not ever want to release their
libraries to other developers because
they're just not concerned about other
developers writing special stuff based
on HD system but for example maybe
maybe sit cisco has added support for
multi users to see us which is something
that you guys are interested in right so
support support multiple users so I can
actually login into the device right so
if there is something like that and I
want to develop apps that take advantage
of multi-user system then I would expect
Cisco to deliver libraries to me and
those libraries would be in the form of
a of an add-on so if you take Google
Alerts these API is here oh this is a
Cisco API just made it up
these are all I was just doing an
example what it would take to but what
what do they take for you to create a
new atom how hard is that
so basically I'll you know let's take a
look at the add-on so atom you know okay
as you you may provide some
documentation you may provide some
sample code that's not that important
but ultimately you may have some
libraries so for example I said yeah I
copied probably the Google on so there's
a jar file with some secret sauce that
is the developer would need to link
again straight but ultimately the most
important thing is going to be another
version of system image right so what
you would do to create a new version is
you would go if you're in a virtual
machine you go to the directory called
fryer you type make you would sit back
and relax for about six to eight hours
okay and that would produce the new
version don't compile the source code
for the entire platform the result of
which would be sitting the time G so
this is now a brand new version of
Android gets flashed onto the device but
for a developer you can also include
this way so the developer can developer
gain stuff right so that's what that is
add-on cool so in you guys don't have it
but again it's not that important for
now don't worry about it at all you can
if you wanted to download it
show you later on how to do it and so
back to this directory so I just want to
do a a quick hello Cisco project so
that's a project name so the project
name is a just an eclipse construct
Eclipse organizer 17 projects then you
need to pick the target in other words
what you're building this project for
and what I have here is the list of all
target up platforms and add-ons it's a
union the union of these two folders
oops these two add-ons and platform
that's why I have five things six things
you guys have only one right so that's
totally fine don't worry about that
we're going to just paste everything on
just Android eight or 2.2 so next what
what it's asking us is for application
name application name is just an
arbitrary name so hello comma spaces
cross clinician mark is often about
people have four how many potatoes if
they're willing to release yes you would
you would be able to get it from then
they just need to release it I don't
know what they're what they're at with
releasing that I recently spoke it says
a sprint conference and I know sprint is
sort of you know they have their own
stuff and so everyone's trying to
release that you know so I'm not sure
how how much they're promoting that it
could be you need to sign up for the
Developer Program but yes that's called
a packager yes
she's which is getting horrible Leslie
they're pretty much a big provider at
their library was terribly and
eventually the carry they have their
home yes so you need to compile
your venture yes but so you know but
then the question is I mean it's also
you know for example if Sprint HTC let's
take those two say is if Sprint has
their own libraries in HTC kept their
own libraries on it you know the
question for you as the developers do
you want to develop something that's
really dependent on both Sprint and
agency because they need to really give
you something that highly motivates you
to use it otherwise why would you
develop your app that only works for HTC
sprint phones as opposed to millions of
other phones so using developer
typically wanna have as wide of a reach
as possible right so but but the vendors
would like you to walk you in
so that's kind of like everyone's got a
different goal okay so next after pack
after application name it's a package
name package name is a Java package and
it's very important it's going to have
to it's going to trickle down into
security and signage and a whole bunch
of other things so it's as such is very
important in Java as you know we
typically do reverse of you know your
domain name so it's been something like
com Cisco yellow for instance that's
typically what the Java package name
would look like optionally we can create
an activity we haven't talked about what
activities are quite yet but it's
roughly a screen and that screen is
represented by a Java class so whatever
we put here is going to be a Java class
name right so it needs to be you know
for example hello Cisco so capital H
capital C right so it's got adhere to
class names right standard and then it's
asking us for a minimum SDK version back
to your paroles question about you know
what that is
so in the past this would just so this
number would just come right from here
so if you just take this number and copy
it because they were always the same
right but now we're realizing Kate
doesn't have to be the same maybe we're
targeting the latest greatest but
supporting the older version as well
which is the best practice so that's why
that number now is smaller it could be
smaller right you keep enter and then it
creates a new new project for you new
project and so that's basically what
we're at so does everyone have this
project so far so if I everything works
so far okay so um because we're about to
take a break and I just want to know if
you guys have any problems with the
setup I can help you out too during the
break make sure that you know we sort of
thought and kind of go from there but
then
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>