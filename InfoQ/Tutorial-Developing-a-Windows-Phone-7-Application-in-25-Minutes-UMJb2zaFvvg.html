<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Tutorial: Developing a Windows Phone 7 Application in 25 Minutes | Coder Coacher - Coaching Coders</title><meta content="Tutorial: Developing a Windows Phone 7 Application in 25 Minutes - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Tutorial: Developing a Windows Phone 7 Application in 25 Minutes</b></h2><h5 class="post__date">2011-05-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UMJb2zaFvvg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so what I wanted to talk about today was
and I think a fire presentation is some
of the you know the developer tools that
we have for windows phone 7 so I figured
the best way to show you guys what the
development tools look like was to
actually build a simple application with
our development tools so what I'm going
to be doing is actually the last time I
did this application I have 50 minutes
to build this app but we're going to cut
it in half today and do this in 25
minutes so I'm going to be going really
fast and you know I'm not going to go
too much into all the technical details
the point is really to show you guys
what the tools are how they work to each
other go over some of the some of the
design patterns and all that kind of
stuff so I'll be going pretty fast so
the gold is to build a windows phone 7
fancast application so i don't know how
many of you guys are familiar with
plancast but it's basically kind of like
a meetup com and they have a public API
that uses basic HTTP authentication so
I'm going to be integrating with that
some of the topics i'll be going over is
the metro UI hit on that a little bit
larry talked about that in more detail
some of the development concepts and
design patterns go into expression blend
for a little bit and then most of the
stuff will be in visual studio so it's
going to go really fast but i'll try and
leave some time at the end for Q&amp;amp;A so
this is basically what we're going to
build right simple application two
screens i'm going to be utilizing the
panorama control for the first screen
and that's going to contain three items
first one is going to be plans which is
going to show me all the upcoming plans
next one will be subscriptions and third
won't be my profile and then clicking on
any of the plants is going to take me
two more information about that plan so
I'll be able to see what the details are
and who the attendees are going to be
all right so let's go ahead and jump in
and build the panorama page so I have a
project that already kind of sub that a
little bit
I just need to find it all right
alright so the entry page are the entry
screen that we go into is always called
main page exam unless you change it so
let's open this up and when we open it
up you're going to notice it's just a
blank screen right so what we want to do
is start building out this screen
because i only have 25 minutes i create
a lot of code snippets that i'm going to
be putting in there but i'll try to go
over all that stuff as I'm as i'm adding
this code snippet so here a bunch of
namespaces these are some things that i
want to be able to use and reference
within the the sam'l and what the sam'l
is is basically the mark-up that you're
going to be using for designing your
screen okay so you can either do use a
visual designer over here on the left
and you can drag in any of the controls
and tools into the visual designer if
you feel more comfortable editing and
marking up zamel you can come right in
here and do that stuff over here it's
actually a lot more simple than you
might think I suck at doing Mario cut
and I'm more comfortable using you know
the sam'l directly rather than using the
visual tools and then the third option
is to use expression blend so expression
blend is like if you're really a visual
guy and you want to go in there and you
want to just mock stuff up you can
actually build an entire application
using just expression blends so i'll
show that briefly a little later as well
so going back to the the screen that I
that I wanted to create I wanted to have
a panoramic control right so there's
three ways that I can add this and I can
say controls panorama and that creates
my based panorama control and then I can
go ahead and i can add items to it by
saying panorama item so i can do it that
way so that's one way right that's if
you want to do the saml go to Zanna path
next way I can do it visually so I can
come in here I can drag and drop the
panoramic control either directly into
the saml or I can drag and drop it
directly into the visual designer this
thing it's hot alright so you drag it
over here and then you have your
properties over here so I can come in
here and I can modify my height my width
I can add and remove items from this so
if I want to rename this to
you plans really simple say this one
subscriptions and all that stuff takes
effect right so I already have a code
snippet which has all the proper names
and all the headings and all that stuff
so I'm going to use that so it's just a
very basic panorama right now I have a
title there I have three items the first
ones plans second wind subscriptions
third witness profile and now i'm going
to go ahead and you know add the content
for each one of those items first thing
i want to do is is modify my taught a
little bit because i want to have an
image up in the title so i'll put that
there the only thing i'm saying is that
i want to have an image before i have
the text block then I want to go ahead
and populate my plans so insert some
zamel in there same thing here you
notice as as I go into each one of those
blocks the panorama item will actually
you know it's rotate so that it shows me
the the current item that I'm on so I'm
on profile I put that in there so great
you know we have our basically out of
what our screen is going to look like
but the problem is you can't really see
what is actually going to look like
because I don't have any sample data
right and I'm not running it not
integrated with the the back end web
service so you can't really tell what is
going to be so I'm going to show how we
can resolve that issue so I'll go ahead
and save that and let me go back to the
presentation all right so one of the
design patterns that I wanted to talk
about was a mvvm or a model view
viewmodel so if any of you guys are
familiar with MVC it's very similar to
NBC you have you you have your model the
view is your presentation layer okay
it's not really supposed to have any
real business logic or anything like
that in there you have your model which
is basically your data and then you have
a view model that sits in between there
and the role of the view model is to
populate the model right and it's
basically it's going to go out there it
can go and access any AP is or any
service references that you have and
populate your model and then your view
is going to access your view model and
it's going to bind directly to your view
models so if you have a text
luck on your view you're going to bind
it directly to your view model so that
whenever the data changes in your view
model you'll see that change take place
on your view and the real reason that
you want to do this is because of
separation of concerns so you can
actually have your designer go out there
and he can build all of your pages and
all you've use an expression blend and
in parallel to that you're the developer
can go out right all the view models
right all the backend code that you need
for your application you don't have to
worry about them conflicting with each
other there's no real code in the view
that's going to cause anything to break
in the view model or the model so let's
go ahead and show some of that so for
each one of your pages you have this
ammo file and then you have a code
behind file so i'm using a c-sharp
project so it's the same name CS and
you're going to notice that the code
that i have behind my view is very light
right so i have a constructor in there
it's going to initialize it it's going
to set my data context equal to my view
model that i have defined which is my
main view model over here and then
basically i'm going to say if my data
hasn't been loaded called the load data
method of my view model okay so very
very thin you know there's no rule logic
behind there my designer can go out he
can write you know do all the design
mockups that he wants and not have to
worry about but you know affecting
anything that I'm doing so let's look at
the view model so I have a couple of
public properties then I'm going to be
binding to from my view so I have to
iron numerals that are going to contain
the list items that I'm going to show
and then I have a profile class and then
I have a couple of properties for is
they loaded and so forth so that's great
and let's go over and look at our zamel
again and looking at our profile you're
going to notice how the bindings work so
I'm saying the text is equal to the the
profile object that's in my the instance
of profile that's in my main view model
and the the name property of that model
right of that object so all that
bindings already there as soon as I
populate that it's going to notify my
view that hey I have data here and it's
going to reflect those changes in the on
the screen itself so that's great now we
have the same problem
where we still don't have any sample
data to show kind of what the screen is
going to look like and one of the nice
things about expression blend is that it
lets you create the sample data really
easily so you notice all I have to do is
just right click on the project open an
expression blend and it launches
expression blend and launches my project
there this is really big so let me try
on a little smaller okay so it's all
hierarchy alright so i can go in here I
can select my profile tab let's say I
want to create some sample data so I
know what this is going to look like
right so all I have to do is come over
here you see this does create sample
data and so there's three ways you can
create sample data you can do it from
scratch right it's basically just an XML
file you can import an XML file or you
can base it off of a class that you have
already so since i already have my main
view model created all i have to do is
click that come over here i select the
class that i want to base it off of and
it's in my main view model i hit ok and
it automatically creates the xml file
for me so these were two of the public
public properties i had there it also
created an instance of that profile
class and I can come in here and I can
actually modify what I want the sample
data to contain so I want my bio it to
be a little longer than a forward so i'm
going to say 26 words or the maximum
length to be 66 characters long and i'm
going to use lorem ipsum for the for the
format so that's that for name i'm going
to say that the format should be a name
and then for the pig URL i'm going to
say that this should be a website URL
and for the URL this should also be a
website URL and that's it so that's all
I needed to do I'm going to go over here
and save this okay so now when I come
back over here I can just drag this
sample data and associate it with this
page so I just drag it over here you see
when I hover over it says data bind to
that context I drop it in there and all
of a sudden how I have the name I have
you know sample the sample values for
all the counts that I had their I have a
URL that are created for me and I have a
bio so it's really easy to create any
type of sample data we can view what
that sample data looks like and you
notice the one of the problems is that
my picture didn't show right so let's go
and look at what's going on there and
the reason for that is that it's just
pointing to a regular URL so let's go
and grab a URL of actual picture and
that's a picture of me playing a ceramic
seat as a bongo as my birthday and O's
late at night so I'm going to go ahead
and replace that here switch back over
you notice not my picture shows right so
basically now in design time I can look
and see exactly what it's going to look
like once I have it integrated with my
API right I don't have to work wait for
my developer to actually you know do all
the wiring to the back-end service it's
all done for me already so at that point
if I want to go ahead and design to some
you know a little better i can click on
any one of these elements i can come
over here i can say apply resource and i
can choose which resource so maybe i
want to have this blue you go to the
color of my accent color i'll do the
same over here apply resource so like
that i can go ahead and save close out
of here this is going to tell me that
some changes were made I'll reload it
and if I go down to my profile item you
can see I see all those changes take
effect here right so really easy to
separate that out right I could I could
have been doing all my coding in the
back end while he's you know mocking up
the screen so that's a little bit about
md be m and expression blend so going
back alright so there's three main ways
to download data on to the phone right
so you can use the web requite I'm sorry
web client or httpwebrequest dotnet
classes and basically be downloading the
raw data you're responsible for doing
whatever you need to to make it usable
if you're connecting or integrating in
with a rest or o data web service
there's a lot of open source classes and
libraries that you can use to make that
really easy and if you're integrated
with a soap web service it's really easy
all you have to do is just point to that
end point it will create all the classes
and all the methods that you need to be
able to interact with our web service so
what I'm going to use is the web client
and so let's go ahead and do that right
now
that's all right so I was showing you
guys the view the view model in the
model whenever i'm integrating with the
back-end service i like to create a
service agent and what this is really
your going to do is make all my my api
call so just show you guys an example i
created a method called get events so
i'm going to create a web client and
this uses a basic HTTP authentication so
i need to provide some credentials so
now you guys are going to know my plan
cast password for at least a half an
hour alright and then what I'm going to
say is that when this is done I want to
handle the event so i signed a new event
handler for whenever this is completed
and it basically creates a step for me
automatically right so it writes you
know it's it's really nice because it
right some of your code for you right so
last thing i want to do is just call the
call the downloads a sinc function and
need the URL for this
alright so we're done there I'm going to
go ahead and use the code snippets for
the rest of the stuff so real quick
basically what I'm doing is that I get
passed in some arguments so I'm just
making sure that there were no errors
that occurred and that it wasn't
canceled i'm using something called
observablecollection to keep to keep all
of my events right so a livable
collection is really nice it's actually
probably not the best use case in this
case but as overall collection is really
nice because if you bind something to an
observablecollection anytime you add or
remove a value or an entry in that
collection Oh automatically fire off an
event letting the view know that hey
some of the data got changed go ahead
and refresh my UI so you don't have to
worry about doing it or monitoring any
of that stuff you know manually all be
happen for you automatically so anyway I
have a whole collection of events I
don't want to block my UI so what I'm
going to do is say that hey I want to go
ahead and kick off to a background
thread and I'm using a library called
Jason net that wakes are really easy to
work with JSON data I'm going to go
ahead and parse the result and then i'm
going to use something called the link
statement so i don't know if you guys
are familiar with this but it makes a
really easy to work with a raise or any
kind of collection that you have and be
able to you know extract value some
assorted or whatever so you need to do
so basically what i'm saying is that i
want to get all the plants out of this
jason response i want to order it by the
start field and i want to put that into
a variable called sorted plans I have a
simple for each loop which is going to
go through all the plans in the sort of
plans add it to my collection and then
whenever i'm done i'm going to kick it
back to the UI thread and i'm going to
fire off this event called the vents
loaded so that my viewmodel knows hey
i'm done with this i can go ahead and
update my UI at this point so that's
done we're going to do the same thing
for get subscriptions you notice the
codes exactly to say I create a web
client I handle it I create the the
collection do the same thing for get
profile and we'll do the same thing
forget attendees alright so we're done
there let's go ahead and go over to our
main view model and hook up to that
service agent so in my load data I'm
going to go ahead and call those methods
so I called get events and I handled the
events loaded event that we saw that we
created over there called get
subscriptions called get profile and
then whenever I'm done I'm gonna say is
loaded as true so I don't have to go
back and reload it every time so I'm
going to go ahead and create these as
well all right so all i have here is a
simple link statement that's going to
group up my event so that i can actually
have them grouped up by by date and as
soon as that's done i'm going to call
this method called on notify property
change and what this is going to do is
let the view know that hey this got
updated go ahead and refresh the refresh
the view so it would do the same thing
for subscriptions and we'll do the same
thing for profile loaded so profile
loaded i need to do anything special i
did was just take the profile assign it
to the profile property of this club of
this object and go ahead and notify the
DUI that i'm done so we're done there I
just need to uncommon something here
okay alright so basically I'm all hooked
up now so I have my you I done my
viewmodel done and I have my service
agent then so going back to the
presentation so I want to talk a little
bit about navigation navigation and
Windows Phone is very similar to you
know how you used to own that like a web
page right in a web browser every time
you navigate to a new page the old page
gets placed on a back stack so that's
how you're basically going to be
manipulating your navigation any forward
navigation is done programmatically
backwards navigation is done with the
hardware button or it can be done
programmatically as well and it's
basically uses navigation service and it
allows you to pass data to the next page
either using a query string or by
storing data and then retrieving it on a
new page it on the new page and then a
little bit of our application states so
whenever your launcher application the
launching event gets fired right so this
allows you to net you know initialize
any of the data that you have or that
you need if the user hits the back
button and you're on the first page of
your
asian the closing event gets fired off
allowing you to save your data and then
it basically terminate your application
if the user hits start button when the
application is launched or they accept
the phone call what not the deactivated
event gets kicked off and then if you
usually hits a bat ki the activated
event gets kicked off again if they have
to start button or navigate away the
deactivate it gets close to get called
again and if they hit the back button
and then it goes back to closing right
so this is important to keep in mind
because you have to manage how you're
saving data right so you can store data
and volatile memory so that you can
actually access it really quickly
without having to save it off into
isolated storage which brings me to the
next thing of persisting data so you
have a volatile storage where you get to
basically save data in your page or
application state whenever your
application is deactivated and then you
have persistent store where if you
wanted to save data across application
launches you'd want to save that an
isolated storage which is basically your
sandbox to be able to go ahead and sit
you know stave any any thousand so last
thing I want to show you guys was
navigation and persisting data so what I
want to do here is that any time the
user clicks on any one of those plans I
want to navigate to the the plan page so
what I do here I'm going to go and
remove this so I'm going to say
selection change I want to create a new
event handler and I can just navigate to
this creates the stub for me and I do
you have the code for it so basic I'm
going to make sure that a item was
selected otherwise I'm going to return
and what I'm going to do is that the
item that was selected as an actual
event so rather than passing in a query
string of the you know event idea what
not and reading it back from the API I'm
just going to go ahead and store that
into state so what this does is it
allows me to read it when i get to the
new page but it also allows me that if
the application was deactivated and the
usually came back in i can just go ahead
and grab it from memory right so i don't
have to worry about it crashing because
none of the values were initialized or
whatnot so once that's done i'm going to
go ahead and navigate to the event pivot
page and let's take a look at that real
quick
all right look at the code mine actually
so on navigated to what I'm going to do
is I'm going to take I'm going to go
back into my application state i'm going
to read in the current event and then
i'm going to load data and basically i
should be done at this point so let's
try and run this application see if it
works alright so here we have our plans
i use the long list selector so i can
actually click on any of these headings
and I can you know have nice little drop
menu that I can use scrolling over to
the right I see all my subscriptions and
I can click on this and I have another
jump jump in you and I have my profile
that we mocked up there and if i click
on any one of these plans takes me to
the details of the plan and eventually
the the attendees will load as well and
that's basically it and I'm pretty much
out of time so any questions there is
some support for memory usage they're
adding some more stuff in mango I don't
have all the details for yet though this
one was if he uses OpenGL and no it uses
XNA for a 3d gaming tablet support no
there's no type of support our tablet
you run a windows seven all right so
thank you all for your time hope this
was useful for you
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>