<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Maintainable JavaScript - HTML5 Developer Conference | Coder Coacher - Coaching Coders</title><meta content="Maintainable JavaScript - HTML5 Developer Conference - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Maintainable JavaScript - HTML5 Developer Conference</b></h2><h5 class="post__date">2013-04-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3MejbqcMC08" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so here to talk to you about
maintainable JavaScript I have some tea
in my hand without a cover on it why
that's relevant is because the very
first talk I ever gave was a version of
this talk it was I want to say like
seven or eight years ago and I had an
open-top cup with me and I was really
nervous and at some point during the
talk I actually tipped the cup over onto
my laptop and I'm hoping that in seven
years I have learned better and will not
make that same mistake but if you start
to see smoke coming from up here that's
what's going on a little bit about me I
work for company called box and I've
written a few books on JavaScript I have
actually written one called maintainable
JavaScript which I wrote to follow up on
this talk so if you enjoy the talk and
you'd like to learn more that's a great
place to go on twitter i am slick net
love for you to follow me ask me
questions about this talk or anything
else at any point in time i won't ask
them during the talk obviously but after
the talk so what are we talking about
maintainability and why do we actually
care this is one of those things that I
find software engineers have a hard time
wrapping their brain around because when
you have a feature that's due and you
feel kind of pressured like well I just
want this stuff to work and you know
maybe put something in and you think
well I'm not too proud of that but at
least it works right well the reason
that we care is that most of your time
is actually spent maintaining code but
so creating new code is what you do when
you sit down at your computer and you
open up your IDE and you press ctrl + or
whatever is the appropriate thing on a
Mac and you create a completely new file
and you start typing and so that's
creating something new now after you've
created something new and you get up and
go and get some coffee and you come back
now you're maintaining code it's no
longer just completely new it's
something that you had that now you need
to continue to work with that's
maintaining code and most of the time we
spend our days and unfortunately our
nights when things don't work trying to
maintain code and so it's really
important to stop and think about what
we can do to make that code more
maintainable who cares well your company
cares all right when you are hired
you're hired by your company not just to
produce code but to create value through
the code that you produce and you do
that by making sure that the code
continues to work even if you're not
around it wouldn't actually be very
useful if you wrote code and then
because you're here at a conference
today that code stops working and well
somebody else eventually is going to
have to maintain that code and the
company that you work for is expecting
you to write code in such a way that
other people can actually maintain it
your coworkers okay
so if how many people have ever had the
experience of like somebody's out of
town and their code breaks and you have
to go in and fix it and you're just
horrified yeah happens all the time
right now wouldn't it be great instead
if you're able to open up that code and
be like oh I get it I know what was
going on here I'm just going to go in
and fix it that's a much much better
option and that's why your co-workers
care at some point you are the person
who's not in the office and your code
breaks never happens to me but I'm sure
for you guys your code breaks and
somebody else needs to deal with it now
I understand the mentality we're in a
very interesting field and why this is
an interesting field is because most of
the people who are good at what they do
at front-end development at web
development whatever you want to call it
most of us are self-taught that there's
not a ton of people who are learning
this stuff in school in college there's
not a ton of universities that are
offering degrees in web development or
front-end development and so we're all
learning this stuff on our own and that
makes us artists that's what artists do
the best artists you know there's like
some little six-year-old that goes over
and plays in the piano all of a sudden
it's a concerto right top by his or
herself and then they grow up and you
try to put them into classes let's teach
you how to read music let's teach you
like all the different ways you can
compose music and all of a sudden like
you're messing with my art man I'm a
rock star you gotta let me deal with my
own process right and we all want to be
rock stars because that's the way that
we learned I learned to write JavaScript
on my own I'm sure many of you learned
to write JavaScript on your own and
therefore you have your own style you
have your own way of doing things you
have your own way of thinking about the
problems that you're trying to solve but
when you're working on a team you have
to give up a little bit of yourself
for the betterment of everybody that
you're working with and so this talk is
about code but it's really about
teamwork it's about how do you work with
code in such a way that you can work
with other people with that code and
that's something that not a lot of
people even stop to think about right
well I know the right way of doing it so
I'm just going to do it that way and
yeah that guy were in that corner over
there like he's totally doing it wrong
but whatever I'm doing it right so what
is maintainable code I'd like to say
that maintainable code works for five
years without major changes that's
usually where people start going mm-hmm
that's not possible how can you write
code that keeps working five years from
now I can't write code that's still
working five days from now it's actually
possible if you stop and think a little
bit about what you're doing and how
you're doing it I actually had which is
pretty cool my second job which now is
over 10 years ago somebody emailed me
last year and said hey I'm working with
this code that you wrote first of all
it's like holy crap my codes still
around after 10 years that's a little
bit scary they'd be surprised how long
your code actually lasts and he said I
just want to thank you because it's
actually really easy to work with as a
cool that's I think one of the best
compliments i've ever gotten is like my
crappy ass code that I wrote when I was
three years out of college there's
something that somebody's still using
today and not finding it horrible well
that's pretty cool and so what are some
of the things that make maintainable
code one is that it's intuitive that
means that you can just kind of skim
over the code and you kind of sort of
understand what's going on you don't
really have to dig too deep you can open
up the file and ask
about 30 seconds of skimming it over
okay I generally get the idea about what
we're doing here that's understandable
so when you go beneath that surface
layer and start looking at the actual
code it still makes sense so you have
that initial intuitive reaction to it
knowing what it's doing and then when
you dug deep it held true so that
actually is what it's doing and now you
get more detail it's adaptable so you
can go in and make small changes here
and there and it doesn't just fall apart
on you it's extendable that means that
you can add new functionality to it and
it doesn't just completely fall apart
and this is usually the area where I see
the most trouble where people don't
build things to be extendable and
debuggable it's actually not a word
there's like a little red squiggly on my
monitor for that but basically you know
that your code is going to have to be
debugged and so if you can do certain
things to make it easier to debug then
that just helps everybody and the last
one of course is testable if your code
is not testable there's no way that it
can be maintained in the future because
people will be afraid to make changes to
it so Chris Epstein who created compass
set on a talk which I really love be
kind to your future self because the
person that may be maintaining your
crappy code could be you so think about
that if you're writing code and you're
like man another mom I'm going to have
no idea what I'm doing here that
probably means you should stop and think
a little bit more carefully about how
you're right in your care
okay so let's talk a little bit about
code conventions code conventions help
you to write maintainable code by making
sure that everybody's on the same page
and code conventions are made up of a
couple different things one is code
style and that's literally syntax type
issues and then there's also programming
practices and that's small patterns that
help you avoid trouble so if you don't
have a code style guide I highly
recommend that you look into it that's
because we spend most of our time
communicating with one another as
software engineers through code we spend
a little bit of time and email a little
bit of time an IRC in chat but we spend
a lot of time communicating with each
other through code that's where we're
saying most in our day to day job and
making sure that everybody's speaking
the same language is very important so
that we can understand each other
there's this great quote from the
structure and interpretation of computer
programs that programs are meant to be
read by humans and only incidentally for
computers to execute that makes sense
computers don't have to maintain that
code just have to run it computers don't
care about all the extra white space in
the comments and stuff doesn't care at
all it's us the software engineers they
care about what the code actually looks
like and people appreciate nice looking
code they will comment you on the
Twitter when they come across code if
you like so this is my buddy Tom who I
was talking about code quality one day
online and he was teasing me I'd like to
stand many people's bedroom windows and
read your code loud but that's what you
should be going for and it you should be
so proud of the code that you've written
that you want people to see it rather
than hoping that nobody ever sees it
because you're so embarrassed I'll it's
not the best way to go and there are a
bunch of guides out there that you can
use as a start
so of course Doug Crockford has one and
you can go check out code conventions
for the JavaScript programming language
google has a JavaScript style guide as
well and these are all just examples by
the way that you can build off of I'm
not saying that one is more correct than
the other jquery core has some style
guidelines I'd like you to follow if
you're going to submit code for jquery
dojo is well has a style guide you find
this with a lot of open source projects
and then there's a project called
idiomatic Jas just started by Rick
Waldron as just a collection of
generally how do you write common idioms
in JavaScript so you should be prepared
when you start talking about code style
to get into arguments with people when I
was consulting I would actually go
around two companies and help them
establish style guides and I always got
into like really heated arguments about
things that you think are not that
important like indentation because
everybody has an idea about how
indentation should be done and everybody
else is wrong so it's either tabs or
spaces and then if you go spaces then
it's how many spaces and then do you
want to mix tabs and spaces or certain
alignment purposes and I once had a
half-hour conversation just about
indentation which I'm glad I don't have
to do any more but you should be
prepared for that and you should be
prepared to figure out how to resolve
those issues because it doesn't really
matter like indentation is their right
and wrong no does it matter no it only
matters that everybody's doing the same
thing and so you want to avoid opening
up code and looking like this how many
people have ever opened up code a piece
of code that you haven't worked on
before and the first thing you do first
thing you do before anything else is
Yuri intent the entire file yeah right
um it's a big pain if everybody's not
inventing the same way so that's like
your baseline make sure everybody's
indenting the same way you can avoid a
situation where it looks like that else
actually goes to the if at the top
because of crappy indentation but in
reality it is not so fix your
indentation another thing I like to tell
people is the the less code on one line
the less likely you'll encounter a merge
conflict so if you think that you're
being like super spiffy and keeping
everything on one line and therefore
you're able to go out and be like wow I
mean I only did that in like five lines
of code but yeah but you have like two
thousand characters on each line but
that doesn't really count I like to put
as few things on a line as possible so I
really don't like code that looks like
this I emerge conflicts abound here so
just moving stuff out you actually make
your life easier later on write comments
comments are like one of the least
favorite things of developers my
comments even though you're writing it
in code comments sneak into that
category of documentation and everybody
hates writing documentation but comments
are really important and there is no
such thing as self documenting code I'm
going to tell you right now that is a
myth perpetuated by people who hate to
write documentation absolutely so why is
that oh but my code is pretty you should
be able to figure it yeah the point is
you shouldn't have to read through every
line of code to figure out what it's
doing that's a waste of time you read
through every line of code when there's
a problem in that code but when you're
debugging something but you don't do
that when you just need to get up to
speed and figure out what's going on
that's when comments are helpful tell me
what's going on so I don't have to read
every single line of code but so what
should you do definitely every method
tell me what's going in what's coming
out and
I the hell this function exists in the
first place I was just looking at some
code with some colleagues yesterday
gigantic javascript file and we went
through every function and tried to
figure out what that function was doing
and i would say about half of them we
had no clue and had to actually go like
dropping through the code base to see if
it was actually used and then seeing in
what context it was used really sucks so
difficult to understand code so if you
look at some code and you think you know
if I go away on vacation next week and I
come back the following week I might
have trouble figuring out what the hell
I'm doing here it's probably a good spot
to start adding some comments and so
this is taken from Yui that was a really
good example of just you know there's a
bunch of arguments being passed around a
bunch of different modes and without
those comments you would really not be
able to figure out what was going on a
code that might seem wrong when you scan
it quickly very important to put a
comment there so in this case there's an
equal sign in the control condition for
a while loop now most of the time it's
in ninety percent of the time that's
going to be a mistake you usually intend
to put double equals because you're
doing a comparison but in this case was
actually intended to do assignment and
so the author added a code in there that
says no assignment so that you don't
accidentally being you know the helpful
programmer that you are see that one day
and be like oh my colleague made a
mistake I'm just going to go and add
that second equals and I'll be right in
the world and congratulations you just
introduced a bug because you were trying
to fix code that wasn't broken so
anytime there's code that might seem
wrong you're doing it for a reason
though if you're going to comment there
let's talk about naming
naming is hard it's one of the hard
problems in computer science we're just
use some logical names I really hate
reading code we're like every variable
is one or two characters because people
are trying to be concise as if that
helps anything I don't worry about the
length name your variables and your
functions whatever is the most
appropriate name that helps everybody I
usually like to say variable name should
be nouns functions begin with a verb for
bullion's you use words like is and has
that kind of tells you what you're
expecting to return and avoid useless
names like foo and temp similar Oh bar
as all that stuff that really doesn't
help me to understand what your code is
doing I want to know what the purpose of
that variable is and how I should or
should not be using it and foo in temp
doesn't really help alright so this code
I showed you earlier it just makes my
brain hurt too many small variable names
have no idea what's going on don't want
to look at that code ever again right
so in JavaScript the standard is camel
casing if you're not doing camel casing
I'm confused that's how everything all
the native JavaScript stuff is done in
camel casing save yourself the cognitive
overhead and just do camel casing as
well and then you don't have to worry
like is this a browser thing is it a me
thing I really know camel casing is fun
so for variable names usually start with
a lowercase letter first and then every
word after that uppercase letter
functions the same objects properties
the same so what about acronyms one of
my favorite questions in camel case is
an acronym a word and so you capitalize
the first letter and the rest are
lowercase or is an acronym just an
acronym and so everything should be
uppercase well it's a hard decision and
you can actually tell that by looking at
the browser native api's right so we
have get element by ID right it's
actually like a so I lowercase D it's a
freudian thing and then you have inner
HTML right all caps so clearly this is a
hard problem that a lot of people kind
of punto and if this isn't confusing and
I got a better one for you
right we're going to mix them xml that's
clearly an acronym that should be all
uppercase HTTP I'm not sure that could
be a word so we're just going to treat
that like a word yeah um so when you're
doing this make a decision and stick
with it if only the browser vendors
would do the same some of the exceptions
I really like to use all upper case with
an underscore for things that are
constant like and since JavaScript
doesn't officially have constants yet I
just like to use this so that it's
really obvious that this variable is
intended to only be read from and never
written to constructor functions
typically begin with a capital letter or
just like the ones that are native in
the browser object or a date or stuff
like that okay so that's it for code
conventions let's talk about programming
practices these are small patterns for
common problems I think of them like
mini design patterns and I really love
this quote there are two ways of
constructing a software design one way
is to make it so simple that there are
obviously no deficiencies and the other
is to make it so complicated that there
are no obvious deficiencies I prefer the
former I like to tell people that if
when you're solving a problem it feels
too complicated you're probably solving
the wrong problem you haven't broken it
down into small enough pieces yet but
the simpler your solution is the easier
it is for you to deal with and for
everybody else to deal with now on the
front end we have these layers and so we
have presentation which is CSS we have
behavior which is JavaScript and we have
data or structure which is HTML and in
an ideal world you keep these pretty
well separate
in other words you don't want to cross
the streams am i dating myself with this
reference a little bit it really
behooves you to keep your javascript
your CSS and your HTML as separate as
possible it makes debugging a lot easier
it makes maintaining a lot easier and so
you don't want to do something like this
you don't want to have your JavaScript
directly embedded inside of your HTML
well why well number one if your
javascript isn't loaded yet and somebody
clicks on that then it causes an hour
number two if you have to change the
name of that function you need to change
it in two places you need to change it
in your JavaScript and then you need to
change it in your HTML and you may be
thinking well that's not such a big deal
if I'm doing it without putting it
directly in the HTML I'll have to change
it in multiple places in the JavaScript
anyway correct and that's okay because
that's where you're working in the
JavaScript but when you're working in
JavaScript it's hard for you to stop and
think oh actually along with this
javascript change now I have to make
this HTML change and then if somebody
else starts maintaining that code then
they have to discover that and that's
some maintenance overhead that's not
really worthwhile so keep your
JavaScript out of HTML keep your HTML
out of JavaScript if you have HTML
strings in your JavaScript that is going
to be a problem so why is that going to
be a problem well when you notice that
your Dom structure is incorrect in a
page where are you going to go first to
try to figure that out just yell it out
pretend we're friends you're going to go
to your HTML your templates whatever
your PHP your smarty templates your
mustache templates whatever that's when
we're going to go and try to find it and
you're going to spend all day looking
for that HTML code that is not there it
is actually in your JavaScript
and if I seem bitter about this it's
because I have been bitten by this in
the past case you haven't figured it out
most of what I'm talking about his stuff
I've been bitten by in the past speaking
of keep JavaScript out of your CSS
thankfully internet explorer has finally
removed this but a horrible horrible
thing please don't do it same thing
right if there's a javascript error are
you going to stop and think to look in
your CSS for no and this was something
that happened to me I know several years
ago where I got a bug it's a javascript
error is ok so i started debugger like
setting breakpoints and granted this was
in the day where we were talking like i
used six maybe firefox someone so things
are a little bit different they are
today but still i was going through and
trying to find i couldn't find it it's
like fine i'm gonna do like the dirtiest
thing that i know and i'm just going to
start like commenting out big sections
of javascript and I just you know would
come out one function two functions
three and eventually I got to the point
where I had commented out every line of
JavaScript in the application and I
still had a javascript error and after
spending an entire day on this I still
don't know what possessed me to look
into the CSS but that's what it was it
was an expression that was in the CSS
that was causing the javascript error so
fortunately future generations won't
have to deal with it but until I ate and
lower completely go away someone be
aware of keep your CSS out of JavaScript
if you're assigning a bunch of
individual styles in JavaScript that's
going to lead you astray why same deal
when there's a styling issue where do
you want to go to fix that issue
your CSS that's right and if the styling
issue isn't in your CSS what are you
probably going to do first look at the
HTML maybe or you just add more CSS and
fix the problem except that the original
problem is in your JavaScript sure you
haven't actually fixed the problem so
yeah don't do that in JavaScript when
you're handling events don't put extra
application or business logic in that
event handler so in this case i would
say that handle click is doing too much
because the cliq happens and then i'm
showing a div in a certain position
right what's better well let's break out
a function that is a show pop-up
function so I can actually call
something that says what it does and
does what it says alright dating myself
with that as well I know but that's not
the best either because I'm still
passing the event object around and that
means that if i want to write a test for
show pop-up i need to stub out an entire
event object and i really hate doing
that because the event object has a ton
of properties on it and that makes show
pop-up kind of opaque when you're
looking at it from the outside you're
not sure what data its using in order to
do its job and so what you do is you let
the event handler just handle the event
and take the pieces off of the event
object that you need and pass that into
a method that does something so in this
case show pop-up just accepts x and y
right very easy to write a test for that
and then handle click just call show pop
up with client x and client why right
much much easier to deal with for
testing purposes
this is one of my favorites don't modify
objects that you don't own so adding
stuff to a radar prototype not the best
of ideas just for fun I'm overriding a
method on Yui also not the best of ideas
why so again this is one of those things
where when you're working by yourself do
whatever the hell you want I really
don't care as soon as my code is
dependent on your code and dependent on
the environment in which all of our code
is running then I care and so if I'm
depending on Yui dot use to act a
certain way and you decide to change
that now my code is going to be broken
because I'm using something the way it
was intended to be used but somebody
else came along and changed what it did
this is also something that bit me in my
career where I was using a Yui two at
the time and had a method called stop
event and stop event very simply would
prevent default and then stop
propagation it's all it did but nice
convenience function so that I didn't
have to write two lines of code I could
write one and we started getting all
these bugs and spent a couple days
debugging and finally tracked it back to
somebody had overwritten stop event with
some other implementation and just for
fun that other implementation actually
attached a different event handler
someplace else and so all kinds of code
was breaking not the best idea because
we were all dependent on what that
function actually was supposed to do and
that's the same for native objects to
going to start adding stuff to array
adding stuff to document all really
really bad ideas and I actually did a
long blog post about this just walking
through a bunch of different examples
that have
and over the past 10 years where this is
bitten either me or other people in the
community and why it's such a bad idea
try to avoid that and also avoid global
functions and variables so this one that
I showed you earlier not the best
example should really always have your
methods attached to some object in most
cases you can get away with having one
global object that you use for your
product for us we have just a top-level
box object Yahoo at a top level a yahoo
object just pick one thing and then you
can namespace everything off of that
just don't start throwing things
randomly into the global scope it gets
really confusing it gets really hard to
write tests don't be afraid to throw
your own errors when I was a young
developer many many years ago I first
came across the row when I was learning
java and I thought man that is the
dumbest thing I have ever heard of in my
life my whole point as a programmer is
to avoid errors why would I ever create
an error intentionally that is stupid
now that I have some gray hairs it makes
a lot more sense to me the point of
throwing errors isn't like I'm creating
an error right it's that there is a
likelihood that an error is going to
occur at this point and when that
happens I want to know exactly what's
going on browsers give you notoriously
horrible error messages by default like
a null is undefined all right attempt to
access property on undefined ok what am
I supposed to do with that
no that sucks so what you can do is if
it's a spot where you anticipate there
might be an error that would be hard to
track down you can throw your own error
and all you have to do is check for that
condition so in this case if the first
argument is missing this method will
fail horrific alee so I'm just going to
check for that and if it's not there I'm
going to throw into error and all you
have to do is throw new error give it a
message and that's the message that will
show up in your console so put it in a
method name put in a note to yourself
whatever you want just put something
that will make sense to you so that
you'll know where to go in order to fix
that our avoid null comparisons so most
of the time if you're comparing
something against no you're not being
specific enough so in this case if items
is the number one that if statement will
be true and I'll try to do items dot
sort and that will cause an error well
the best idea in the world it's better
to test for exactly what you want if I
know that I need an array to do
something and otherwise the world is
going to explode then let's just make
sure that that thing is an array and
make sure that somebody didn't
accidentally pass in a number or a
string or some other random object that
isn't it ray so when you're avoiding no
comparisons you can use instance of to
check for a specific type of object that
you're expecting to be passed in you can
use type of to test for primitive types
that's string number boolean just be
careful because typeof null is equal to
object for some unknown reason
it's also a good idea to separate out
your configuration data from your
JavaScript so in this case I have two
things that I would consider
configuration data and that's a string
that's being shown to the user and
that's a URL I consider configuration
data basically anything that has a high
likelihood of changing even though it
doesn't necessarily affect the behavior
of the code and so what do you do well
as a starting point you can just
separate all of that data out into a
separate object that you can reference
later that way you're taking that data
out of the actual functionality which
means that when you need to change the
data there's less of a risk of you
introducing a bug in the functionality
that's really what you want to avoid
here is every time you go in and touch
code you have a chance of introducing a
bug and how do you reduce that
likelihood well you take the things that
change a lot and you move them out of
the important parts of your code so you
can get those out into an object its own
basically you want to pull out any URL
URLs have a really bad habit of changing
in theory they should be there forever
in practice they change a lot especially
if you're changing application
frameworks they have completely
different URL schemes and then you have
to go digging through all your
JavaScript to find out where to change
those URLs don't want to do that any
strings that are displayed to the user
should not be in your JavaScript those
change very frequently as well any HTML
that needs to be created from JavaScript
you want to have that separated out
these days you have some really nice
options like with mustache and
handlebars and other client side
templating languages that allow you to
have completely separate files that you
can load any settings so items per page
the
things like that you want to have
outside of your primary JavaScript code
any repeated unique values so if you're
seeing the same if you're using the same
class name CSS class name in your
JavaScript frequently you may want to
pull that out as well and basically
anything that has a high likelihood of
changing in the future and because I was
working on this problem a bit last year
I created this little utility called
props to jas and all it does is it takes
a Java properties file which is just T
value pairs key equals value and it will
convert it into adjacent object for you
or a JavaScript object something that
you can include in your JavaScript so
you can keep configuration data separate
from your JavaScript and then generate
JavaScript that has that configuration
data in it so you can just access it
directly up on github open source it's
pretty much done doesn't do much so safe
to use where the last section here like
to talk about automation so automation
makes everyone's life easier now once
you've come up with these code
conventions and these patterns it's
really hard to keep an eye on all the
code that's passing through the system
and so as much as possible if you can
automatically check for style issues
check for other sorts of issues that's
just going to help the quality of your
code overall because you don't have to
keep everything that you're expected to
do in your head you can have a tool that
helps you with that
and so how many people have a build
process for their JavaScript no still
less than half the room that's awesome
I'm very happy about that um having a
build process for your JavaScript really
really helps a lot of things it gets in
the way a little bit with people who are
used to like editing code and then
switching over to the browser and
pressing f5 but there's really even ways
that you can work around that as well
and there's all kinds of cool things
that you can do in a bill you can add
and remove debugging statements I really
love being able to put in JavaScript
code that's intended just to be run in
my development environment and never
actually in production and then you're
stripping that out as part of the build
process concatenating files is a big one
to get as few JavaScript files to the
client as possible I generate
documentation so now that you've added
all those really nice comments into your
code you can generate documentation from
automatically I validate your code make
sure that syntactically correct and
following certain style conventions
testing your code automatically
minifying files before they go out to
production and even deploying and you
all of this within a single build system
and so I have a bunch of tools to share
with you they're all links don't worry
too much about copying down the URLs the
slides are available up on SlideShare so
you can just grab it from there
afterwards so there's this tool called
j/s build tools it's just one tool to
let it fool you don't let you add and
remove debugging statements kind of see
style like pound defined and pound if
that sort of stuff j/s doc for
generating documentation was one of the
first JavaScript documentation
generators it's now on j/s doc three
they've been several versions of it and
keeps getting better and this uses a
sort of Java Docs
I'll comment to be able to produce that
documentation there's Yui doc which has
a format that's very similar to Java doc
but has a lot of different types of
constructs in it like modules
stand-alones and mix-ins that help with
a lot of the more dynamic things that
we're doing in JavaScript these days
there's also doc oh so doc OH is a
little bit different than j/s doc and
Yui doc I Janice doc and Yui doc are
more API document or so they create like
really nicely formatted files but say
here's an object here are the methods
available on this object here are the
arguments that you pass in to these
methods doc OH is more of a tutorial
style documentation generator where it
takes your comments and it puts them
side by side with the code that they're
commenting so you end up with a really
nice HTML file where you can go through
the JavaScript on one side and then read
what it's doing on the other it's very
cool just a different type of tool for
documentation for validating code
there's jslint which is Doug Crockfords
opinionated tool for how you should
write your JavaScript there's j/s hint
which is a fork of jslint that is less
opinionated about what you should do and
has more options for triggering things
on and off for minifying files so you
want to remove excess whitespace you
want to remove you want to replace
variable names with smaller ones
automatically the previous gold standard
for this was yui compressor it was one
of the first tools that actually used a
JavaScript compiler to get the parse
tree and figure out what to do
the current gold standard is uglify jas
which does a lot of the same stuff that
yui compressor does plus a lot of other
either ingenious or really scary things
depending on how you look at it to make
your head even smaller this is a lot of
open source projects that we're using
Yui compressor are now switching over to
uglify there's closure compiler which is
Google's similar tool does a lot of the
same things as yui compressor and uglify
a lot of the same caveats is with uglify
is it tends to be very aggressive in
what it does so you need to be a little
bit careful with what options you apply
but still good tools so overall how do
you tie these together one of my old
favorites has always been amped which is
a java build system and even though it's
a java build system there's a lot of
built-in tasks that make it really
useful for javascript like built-in
concatenating and replacing regular
expressions and vials stuff like that
Julian the compt who created yui
compressor actually wrote a nice article
several years ago about how to build web
web applications with ant the new
exciting one is grunt which is a nodejs
based build system written in javascript
and you write javascript in order to
configure the build system it's going
through a ton of development right now
as a ton of plugins there's also a ton
of changes coming so it's not yet at one
dot oh so very fun to play with make
sure you're keeping an eye on it going
forward and Ben who wrote grunt also
wrote a really great introduction on
what grunt is and how do you use it so
when you have a build system you
actually want to create a few different
types of builds and usually you do like
a development build a testing build and
a deployment build and that lets you mix
and match the different things that you
do in each one
so for all of them maybe you want to add
or remove debugging code in there
validate your code testing code always
good to do and then in development maybe
you also want to generate some
documentation that's important but in
testing and deployment you need to do
that so you just concatenate your files
together and you minify your files and
then deployment maybe that even deploys
your files out to a CDN somewhere so
having this build system in there gives
you a lot of different options I create
as many different types of builds as you
want for just the things that you're
trying to do so at the end here it's
just some things to remember code style
guidelines ensure that everyone's
speaking the same language and that's
important because we are communicating
with each other through code that's our
primary communication medium loose
coupling of your front-end layers makes
changing and debugging easier later on
good programming practices allow for
easier debugging so make sure that
you're leaving yourself little hints as
to what you should be doing and code
organization and automation helped to
bring some sanity to all of this and
just make sure that you don't have to
remember on your own everything that
you're expected to do and I like to
leave you with this thought always code
is if the guy who ends up maintaining
your code will be a violent psychopath
who knows where you live thanks
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>