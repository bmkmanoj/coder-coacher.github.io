<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Declarative Renaissance with Dart and Web Components | Coder Coacher - Coaching Coders</title><meta content="Declarative Renaissance with Dart and Web Components - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Declarative Renaissance with Dart and Web Components</b></h2><h5 class="post__date">2013-03-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/PPJAKLq2ZsY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so let's see who would say primarily
there a mobile developer anyone okay I
suspect in six months that would be like
three times as large yeah hope hopefully
seeing the trends let's see here I'm
gonna go out on a limb and say who here
would say primarily their JavaScript
developers okay cool and then the other
one I'm really curious about out of
everyone just who programs stuff on the
server ok cool so it looks like there's
some nice cross training cross cutting
stuff going on that's cool so I think
you'll like what we had to say tonight
my name is Seth Ladd I'm a developer
advocate as Peter said I work on the
chrome team specifically focused on dart
just a quick background about me I grew
up programming Java my first language
was see but i really like java because
it's the first language at that time for
me that was garbage collected kind of
developer friendly at the time but it
really embraced the browser and this was
cool i mean certainly at that time was
applets of course i didn't work out but
there was this great thing about it you
could load code over the network you
could load the bike code it had proper
classes for say URL classes or
connecting HTTP resources it really
really was started to understand that
there was a network they're involved and
so for that I was all over it of course
Java got relegated to the server where I
spent a lot of my time and then moved on
Ruby on Rails cuz I want to actually be
productive but then I was lucky enough
to get this great job at Google in the
chrome team I was not a JavaScript ninja
I'm the first person to say it and so
while I quickly fell in love with the
awesome html5 platform and modern
browsers and all the awesome stuff
that's going on there in chrome and
firefox etcetera the whole time I was
kind of missing missing something and I
realized it was my expectations in terms
of the development productivity and
Happiness weren't quite being met I was
productive one sense but I missed things
like tool ability I miss things like
being able to refactor I thought that
was important i miss things like code
completion I missed things like an
editor that could tell me if this
particular line of code was wrong
because it understood the rest
the program I missed my classes and
interfaces and packages and libraries
etc etc and so when I heard about this
great dart project I jumped all over it
because it allowed me to program the
browser and the modern web which to me
is the most exciting platform out there
with language tools and libraries et
cetera that really meet and exceed my
expectations so hopefully I can show you
some of that but that's actually going
to be a small part of my talk what I
really am excited to show you guys is
the work coming going on in the web
platform itself that indeed dart does
build on top of but that's in terms of
web components and so just like I like
classes libraries and packages for
encapsulation and modularity it turns
out that the web has actually been
lacking that for well forever and in
order to scale up in order to encourage
more sharing in order to develop more
interesting applications and meet and
exceed our users expectations we know
that we need to actually build in some
sort of component system or some sort of
widgets system for the web so you can
encapsulate things like Styles behavior
structure into these reusable components
share them extend off of them build them
and if you put this functionality
actually into the browser then we all
see what happens when the browser itself
launches with functionality as opposed
to libraries that you have to go
download and integrate you know really
amazing things start to happen so I'm
pretty stoked and hopefully I can show
you some really cool stuff okay let's
move on okay so allegory dem obligatory
demos the web is awesome there's a lot
of great tags what the web does not have
is gangnam style so Oh music all right
okay that's gonna get old but it works
okay okay okay so that okay I could
probably do this by cobbling together a
bunch of CSS and JavaScript et cetera et
cetera but what are we looking at here
right here's an actual tag for Gangnam
style now of course the web doesn't ship
with this but here we are with an actual
tag again that's just a slide so we go
whoa okay let's go ahead and inspect the
element here and sure enough you
probably can read that so sure enough
once i zoom in what's there right there
in my page but X Gangnam style
so that's cool so I'm actually in my dom
i have a tag that i've made up or
possibly use from somebody else and
we'll see how we can make this later on
but that's cool and that's we're talking
about of course you can not just create
arbitrary tags that dude dancing android
robots that play sound you can also
extend existing tags so here's a good
example I'm the thing that I've always
wanted to do ever since I've been
programming the web is extend button to
create fancy button it is crazy today
that you can't extend button but thanks
to web components you actually can and I
both mean it semantically extend but
also behaviorally in actual
implementation so here's mega button
which itself is a button so let's go
ahead and try to click this whoa so of
course you can embed your own
functionality yes and it moves but this
shows you that you can extend actual
button to create new buttons extend
their look behavior add multimedia etc
this is the kind of things that we're
talking about and I envision a world
hopefully in the not too distant future
where we can stop developing web apps
like what's on the left this is how it's
done today this is actually gmail and if
you look in here there's just a billion
divs right and there's no semantic
information this whatsoever there's
nothing useful to web crawlers there's
impossible to debug by hand right
because if you want to go into the dev
tools to figure out what's going on good
luck and what I want to see and what I
think everyone else wants to see is
what's on the right in Gmail what is
it's a collection of messages and what
is a message have but it has a subject
and a body and a Centon date this is the
interesting thing this is semantically
relevant this is easy to parse grok
understand share with other people not
the version on the left and so what web
components will help bring about is this
declarative Renaissance to web
development in that you can just simply
say what you mean and stop worrying
about div soup now of course under the
covers it might be implemented with a
bunch of divs but that's an
implementation detail much like you
might write a class that exposes an
interface but hides the implementation
details the consumers of that class of
course don't care like what's going on
in the covers nor should the consumers
of your web app care about
the 50 million divs and spans you're
going to create just get that thing to a
line so I think we can all agree that
the version on the right is what we
should be aiming for hopefully we agree
okay so let's talk a little bit more
specific about what web components I
because it's kind of an overarching term
that really encompasses a few different
aspects or standards or specs so let's
let's break it down the first one is a
new tag new element called template this
is really the scaffolding or the
blueprint the neat thing about the
template is its inert chunks of Dom and
what I mean by that is you can define
now real Dom elements did spans bodies
external meant by but you know buttons
etc wrap it in a template now your
browser is like okay so that's a chunk
of Dom that you're going to want to use
later I'm going to parse that but I'm
not I could do anything with it but now
that you have a real documentfragment
you can reuse these things and build
with them and it really becomes the
blueprint now we have this constant of
shadow Dom the shadow Dom allows you to
take these templates or programmatically
a bunch of nodes and insert them as the
implementation into another node and so
we like to think of it like the mortar
or the glue and well we'll see examples
of all this stuff but with the shadow
Dom allows you to take ok I've got some
chunks of Dom here and I want to slide
it in and make it implement this other
dumb know that you have actually in your
document and then finally the one I'm
most excited about is elements this is
your custom elements elements builds on
a bunch of stuff we're going to show
including shadow DOM and template and
others for the actual tool belt you can
create new HTML elements you can now add
to the lexicon of your web app this is
phenomenally powerful so just like you
can in your in your app introduce new
classes that express new behavior and
encapsulate ideas you can now do this
when you're programming first class web
apps as well ok by the way if you guys
have questions just raise them up and
i'll do my best answer so let's get
started look at templates let's dive in
what's were they all about so amazingly
templates not a new concept ok and this
is going to be a common theme tonight
isn't that a lot of the stuff we're
talking about is actually not new in
terms of we're just paving the cow
Pat's or making what you guys want and
this is probably just going to get weird
after a while what do you guys have been
wanting to try to do various number of
hacks for libraries etc and bake it into
the platform so hopefully that that's it
it eases the barrier to entry ok so
again not a new concept what have we
been doing up to this point don't we
have stuff to do templates well method
number one off-screen dumb ok so of
course you can create whatever you want
dibs and hide them and they don't show
up but they're still in the Dom and you
can go grab them etc but there's a
couple issues with this right the first
one is the dominant since I or the the
children of the know that you want to
hide it's still completely interpreted
by the page so images are loaded scripts
are parsed then possibly run that's not
what you want when you want to have a
pure template which is to be
instantiated later and think about
performance especially in mobile if you
have a lot of templates with images when
you load up the page you want to first
go get all those images right so that's
kind of a problem and there is
absolutely no encapsulation this to me
is as big or a bigger of a problem there
is no boundary at all between two
elements and there that you may want to
say style and the the rest of the
elements on the page and one of the
themes here is encapsulation there's no
encapsulation here ok yep ok also not
good ok old-school templates so this is
what some people do today you can put it
inside a script tag but to me this is a
complete bastard a shin of what the
script tag was meant to do and so that
really rubs me the wrong way and we're
also doing a lot of runtime script
parsing and if I can do anything to
avoid script parsing I want to do that
here's a good example in to show why
script parsing is always not the right
thing to do I remember a day when the
mobile gmail app actually took its
JavaScript and put it inside comments in
the head of the page to avoid the
initial scanning and parsing of the
script tag on initial load because this
what they found the slowdown was simply
parsing the JavaScript and so this is
why I don't like this because it's it's
introduces performance problems ok so we
have a solution thanks to web components
and or the family of specs that's the
template tag now we've already mentioned
it
but this is proper templating here's an
example again if the web platform has
these kind of baked in things called
elements let's go and take advantage of
that which is another good common theme
here so we ran into it's a new element
called template and inside it is parsed
by the rendering engine but it's not
implemented it's not interpreted so it
is still dumb we're still working with
DOM and we declare it via DOM but we can
go ahead and say grab it later
programmatically and once you've grabbed
it later you can do great things like
clone it over and over insert it
programmatically work with it again just
using the functionality of browser
already like query selector and
appendchild and all that it's just that
we're working now with semantics of an
actual template and you can see here
that it's simply just treated you can
think of it like a document fragment
again something we're probably already
familiar with so I'm really really
excited for template it's such a simple
concept and it allows you to do really
powerful things question so stick with
me a little bit and what we're going to
lead up to custom elements and I think
some light bulbs will go will go off in
the most raw sorry for the video
everyone the question was is this
compatible with jquery in some sense the
answer is definitely because what we're
simply talking about is JavaScript and
Dom nodes so if you can program
JavaScript and access the Dom then
you're going to be fine here and jQuery
work with it however this is a building
block for real reusable customizable
elements and in that case you may not
need so much of jQuery anymore but we'll
see that a good question so we think
this is pretty money I think I think you
guys should too moving on though shadow
Dom now you've had these template nodes
and you can insert them straight away
but will really want is a more way to
kind of slide in and implement nodes
using other nodes and that's where the
shadow Dom turns out or comes up so it
turns out that the browser is actually
sort of that this concept already so
let's let's give an example this okay
here's an html5 video tag we're all
familiar with that bracket video and
give it a video okay now you might be
thinking that okay so some C++ code
renders the UI here because you know
that's how browsers do stuff well it
turns out the browser's lay things out
with
jamel and Dom so if we actually go let
me just right click on this inspect
element uh-huh here's the video tag we
all know and love but we're going to
open this up and lo and behold the dev
tools of chrome is showing us that
there's this thing called the shadow
root now inside the shadow root on now
we see more nodes and divs and what this
is actually using the primitives of the
browser actual Dom to implement the UI
of the video tag now of course why why
don't I see all these divs and input
buttons and you know it right inside my
dom here normally why do I only see the
video tag because it's hidden inside
something called the shadow root and
this is where the shadow Dom comes in
and I'll show an example that and this
manifests itself in many ways of the
date pickers and the time Pickers the
video tag these are all actually
implemented with HTML under the covers
just encapsulated thanks to the shadow
Dom under the tags that we are normally
familiar with so let's try to yeah
encapsulation not a new concept okay so
what's going on and I have this fancy
thing here okay great so here is the Dom
tree that we're kind of familiar with
right this is what you if you go into
devtools you'll see a tree of notes and
just like we saw there was a video
element in there but we also saw that
pound shadow root the shadow root
pointed to this other shadow nefarious
Dom here with its own tree and its own
children children children etc this is
the implementation of this node right
here not these guys I mean these are
straight-up regular old if this is the
shadow node sorry if this is the shadow
room maybe this is like the light dom i
don't know but these are the nodes you
would see if you were to like go into
jquery or the dom and say walk the tree
you're going to see the green nodes you
won't see these pink nodes because
they're there the encapsulation I'm
sorry these are encapsulated there the
implementation detail so these Chevy the
the real element in the Dom the video
tag here is what shows up in the Dom but
what is rendered is the No
or the shadow Dom itself does that all
make sense like that when we saw that
shadow root okay I see some nods those
the implementation details that's what's
actually rendered up to the UI but in
terms of walking the Dom in terms of
going into devtools and seeing what
nodes I have in my page you only see the
green notes because you want to hide
those encapsulation details shadow Dom
allows you to hide the details which is
great so how do you do this well first
you can start with a just programmatic
create a shadow root and you can do this
off of as far as I know almost every
element and once you have a shadow root
it itself just being like a Dom element
you can go ahead and do normal stuff
like you wouldn't any Dom like inner
HTML and then what you see here is yo
you got replaced so let me bring
actually I don't need this I got this
let's Jerry what's going on here we have
a div ID host and it itself has an h1 my
title so just focus on this and we want
to go find the host element which
happens to be this guy we're going to
create a shadow root we're going to
create elements off of the shadow root
and once we attach the shadow root to
the host it is going to completely
change the implementation of the host
element notice how down here you do not
see my title you don't see my title here
you see the elements from the shadow
root and that's what i mean by the
implementation details ok now ironically
I realize this is the most unstyled
slide in this whole presentation I don't
happen but one of the benefits of the
shadow root well certainly you can hide
implementation details in terms of Dom
elements right we've shown that but it
turns out they're also great
encapsulation boundaries for styling as
well my silent of course we means CSS so
what's going on here a same example from
the last slide except in this one we add
a style tag and this one it says the
color is red for h2 elements excuse me
now of course I have other h2 elements
on this page why aren't they read it's
because the styles that I add to the
shadow root and of course the shadow
roots children are only applied to the
shadow root in his children so now I
have this great encapsulation boundary
for styles as well
this is fantastic you can now ship
components that encapsulate their
structure Thanks this shadow DOM and now
can encapsulate their styling thanks to
just the implicit rules about the
boundaries of these shadow downs yes you
are awesome because this is where we're
exactly right there yes because you can
sort of kind of fake maybe if you
rewrite all your CSS selectors to be
really explicit off a some ID and you
have like the CSS processor you can sort
of fake that but what you can't do is
like interlace and give explicit control
to the designers be like you know what I
must style may choose red but I want my
widgets to look like your widgets and so
I'm going to allow you to set the font
you like with shadow Dom you have that
level of control and so here's an
example of it and oh yeah okay so we're
sending the style and then there's two
properties here then I want you to take
a look at reset style inheritance and
apply author styles and both of these
are properties up the shadow root so
we're going to click reset silent
heritance and what does it do for my
from my read on this it is saying i'm
not going to inherit the browser's based
style so notice how I kind of go back to
like old-school Times New Roman there
but it's cool if you want one hundred
percent complete control go ahead and
flip that flag another one would be
apply our style so now when you can
start to let the author styles from the
page bleed back in and notice how now
I'm getting the font from the outside
page there for my for my internal shadow
Dom so you've got these levels of
control but it turns out you actually
have more control there's a couple
things you can do you can even have CSS
rules for the host element itself that's
the that's the element that hosts the
shadow Dom this is an example here so
we've got a selector here at host you
can say this comes up all the time you
want to shadow the thing that you live
inside of so you can do that and this is
where gets really cool and it turns out
again browsers have been holding out on
us here's a slider so this is straight
up html5 element right we and many
people might be like frustrating because
I can't make that look like my site but
it turns out if you go read the source
code
then many browsers implement pseudo
selectors for these specific custom you
know for these specific input fields so
WebKit slider thumb you can go and in
style it and you so you can do really
fancy things what are we doing here you
know make it red and blue or make it
cool and shadowy so you can actually do
this eh if you are like in the cool club
and you happen to know these esoteric
hidden completely non standard pseudo
selectors but the idea is great right
again with encapsulation I don't want to
expose the inner structure of my shadow
Dom so because I don't want my the
people consuming my elements be like oh
the div of the span of the h2 because
those are all implementation details I
as a developer the component want to
simply say I'm going to give you a
pseudo selector and you style that don't
worry about if it's a div or it's a span
inside a div but you get the same effect
you can give these kind of styling hooks
as the author of a component and then
the consumer of the component can style
the pseudo selector here and get that
level control but the author of the
widget gets to dictate how much control
you give much like if you're developing
a class and in the structured
programming language you can expose
things as public or private and expose
as much as little control as you want
you can mark a method is final it can't
be over in or not it can be over in you
have the same level control with styling
thanks to these pseudo selectors but we
can do more we can do better another
hook you can provide as a widget author
is to offer variables that can be dumb
given values by the consumer of your
widget so here's a good example of a
sorry this is the shadow okay sorry this
is the shadow Dom CSS that is this is
the CSS as a widget author i would say
so i'm going to say okay the color is
set by some variable button text color
the consumer of this widget here simply
defines that variable and it works
whoops sorry didn't mean to go there so
it's yet another way for you to say okay
I'm gonna let someone to find the values
for these variables and whatever they
define it that's what it's going to take
so yet again more
opportunities and hooks for you to
define very fine-grain the level of
styling control you want to give to the
consumers of your widget okay so
shifting gears a little bit if we
remember back to the template and the
shadow Dom if I take a template and give
it to a shadow Dom it completely wipes
out whatever nodes were in that original
host and that's kind of a problem I mean
maybe the implementer of my tag that h1
was really important well it turns out
that let's make the next one here that
when you write with the shadow Dom you
can create or define insertion points so
they like to think of this like an
interlacing mechanism where you want to
expose the UI generated by your shadow
Dom the nodes in pink but you also want
to put kind of placeholders you want to
say okay I'm pretty sure I know most of
the structure here but I want to grab a
node from the host document and put it
here then I grab another node and put it
from there so it allows you to pull in
content from the host node and inject it
into your shadow Dom so what happens
then is here here's the no that actually
shows up in your Dom here's the shadow
Dom as defined by you the widget author
and then here is the Dom nodes that used
to be under here you've pulled them down
and even insert of them and at the right
points and this is great too because
sometimes the interface between your
component and the rest of the world is
simply other Dom nodes so for instance
you might think of like a commenting
widget sorry comment field widget and
the comment field might be like oh
you'll take care of the details of
showing the comment but you want the
name to come in from the host page you
can do that the interface is really just
the Dom nodes you insert so here it is
in practice here's the host node we've
seen this guy before right simply did of
h1 h2 now previously remember the h1 h2
here my talents oh those were erased
from existence but over in your shadow
Dom if you say well I want to pull some
content out of my host node and insert
it these are the insertion points now
you're interlacing the nodes and
elements that you've declared in your
shadow Dom with the nodes or elements
whoa that just went orange pear disabled
with the nodes and elements that come
from your host node and now this is
really cool
it's really it's a way to again
interlace the structure of the host
document and yours as well and you can
see right here here's my subtitle which
comes from this h2 whoops you've got
enhanced which comes from the shadow Dom
my title which comes from the h1 and
that's this guy right here and so on and
so on this gives you a lot of control
and allows you to give to the consumer
great injection points if you will so
that's cool too we think that's pretty
cool yeah anime gifts okay building on
top of all that stuff how we doing yeah
okay custom elements putting it all
together this is where the rubber hits
the road this is what you guys we
working with a lot so it's all about
encapsulation again the custom elements
let us encapsulate the structure and
that's the template tag allows us to
find inert sets of Dom nodes the styles
we saw that as if you define style tags
inside a shadow Dom they only apply to
the nodes in the shadow DOM and the
behavior so it's one thing to create
declarative web apps that just sit there
on the page but of course it gets really
cool when you give behavior to these new
elements and give them a programmatic
API wrap it all up and you can define
your own actual elements so how do we do
it well again embracing the
functionality you have in a browser
already the browser argue defines well
you can have tagged so let's create a
tag for element and the tag for element
that has a name and that name is the tag
that is the name of the element that is
being used in the page and what is the
browser platform already provide but
links much like you might link to other
CSS sheets why not just linked to other
custom elements out there and so you can
do that too and here's a very simple
example of a simply custom element that
just to find some structure question the
back
so the the question was it sort of
reminds me of what came from angularjs
yeah you wouldn't be too far off from
that observation I think there's a lot
of great cross-pollination between these
different efforts but one major
distinction and we'll see some more neat
stuff that's even closer angular in a
little bit but one big distinction is
what we see here today is stuff that's
landing in chrome and is on the
standards track and so you look not
convinced by that no no no
cross-pollination like it's great we
influence is taken from both the teams
talk it's really really cool and so what
we can do is we can say here's some
really good ideas angular is a source of
really good ideas and if we codify them
into the web platform now that means
just like if you ship a video tag in the
web platform you don't give them need a
plug-in anymore if we can ship
functionality like reusable components
and a templating system and you'll see
later other cool stuff into the web
platform now everyone has it if they
have a modern web browser and that and I
love to see stuff like that happen
another good example would be some of
the stuff that jQuery did you saw end up
in the web platform now everyone gets it
and that means that's that fewer lines
of code they need to ship over the wire
because you get it for free and that's
always a good thing so again the stuff
we see here today is on standards track
the feedback we get from the other
browsers is very very positive and this
is actually production chrome this is
stable chrome so this stuff is being
landed and tested in the wild and so
very I'm very optimistic question yes
no that's a great question there's no
concept as far as I'm aware of a call
for namespaces so okay I got to zoom
ahead a little bit I think sorry guys
skipping will see this will see this all
okay so this is all good stuff hopefully
you want it you demand it and some of
this actually in chrome today chrome 25
lace release awesome but there's another
option to bring this stuff and more
across the modern web today while you're
waiting for the browsers to land this
stuff in their version and why talk
about one exciting feature when you
could talk about why not to and that's
where dart comes in now I want to show
or a couple quick slides about dart
before we get back to the web component
stuff just so I guys are in the right
space first thing to understand is dars
not just the language it's libraries
it's an editor its compiler to
JavaScript which is very very important
to understand it's a very familiar in
structured language but what we're going
to show today is how we can allow you to
compile down the web components stuff to
vanilla JavaScript and HTML which you
can deploy today because hopefully
you're excited by the stuff we saw
earlier but you shouldn't have to wait
for it to land in every browser before
you use it so the question we always get
is why dart and the answer hopefully is
the screenshots in the background which
is we want more developers to build more
complex interesting feature rich apps
for the modern web frankly put it's too
hard to build Photoshop in the browser
using the stuff you get in the browser
and I want to do better than that it's
too hard to do apps like this really
complex you is and uml rendering photo
shops in the background really slick
touch based mobile apps cad rendering
this stuff should be shipping in the
browser and it should be much easier
like you wouldn't write Photoshop with
Python for instance and so we want to
provide something that's very easy and
familiar for a whole bunch of different
developers come on and deploy to the
most awesome platform there is out there
so I don't how many people know Java so
we're going to skip over this but here's
just a quick syntax it's not a language
talk but just so you understand what
we're doing here here's a couple
features of the dart language that might
be interesting you guys first off very
familiar we have two curly brace
and we have your semicolons so do not
fear we have the keyword class again not
trying to break any new grounds here
with syntax we got a little flak when we
launched our people were like why don't
you build a next Haskell and we were
like we want more than five users and so
we we built something that everyone that
we've seen so far jumps into very easily
but it does have to be totally one for
one copy one of the nice things is when
you build a new language you can say fix
some of the verbosity that everyone
always does so what's something you
always do in constructors this not
equals this that x equals x this that y
equals y etc well in dart if the
constructor parameter is the name of the
field you can simply say this dot amount
and it will set this down amount equals
amount for you nice why don't all
languages do that that is cool okay
named constructors now of course in
statically typed languages you can
overload the constructor based on the
types of the parameters but dart and
many other dynamic languages are
optionally typed or they don't have
types at all so you kind of stuck with
constructors and then you have to make
factory or static SATA data but in
jarred you can actually create named
constructor so you can simply say new
money from double which is great because
then think about this use case if you
get a string it could be either XML or
JSON you want to say populate a person
object you can say new person from XML
our new person from Jason so it really
reads really nicely at the call site
let's see here we also have optional
parameters that's what the curly braces
are and if you have an optional
parameter you get a default value so
that's very cool there operator
overriding that's a pretty great feature
I love that fat arrow syntax for one
line functions that's in there too what
am I missing anything else so I'm pretty
straightforward stuff but with the
niceties I think you might expect other
cool features really quickly I guess
lexical this this is a trip up in
JavaScript a lot so we try to fix this
here what would in fix this okay but
here you have a click handler and in
JavaScript what would this do anyone you
know if you had a click and you know you
put in a call back inside this would be
like I don't know what crank the awesome
is because this in JavaScript would be
the button and not the object in which
you define the function but in Dart you
have actually
lexical scoping everywhere but you also
have lexical this and so this code reads
as if you were to give this to anybody
and they were like oh yeah it's going to
call this method down here so that was a
nice thing that I think we cleaned up
trying to zoom through this to get back
to the web component stuff we have
optional types and art which is great
and so of course you can write code like
this if you want and this is often
pretty good when you're just getting
started but as you solidify in your
design you probably want to add type
annotations to give in clear intent to
both the machine and your fellow
developers and once your machine is the
clear intent it can actually give you
this real-time feedback and so dart a
statically analyzable so of course if
you type a method does exist it's like
ding ding ding you should probably
change that and then you can also get
code completion all these great tools so
let's see if I can sorry I'm gonna skip
through some of this stuff time I'm
really paranoid okay great
do-do-do-do-do this one I should
probably show you really important is
that dark compiles to JavaScript
critically important everything we do so
let me show an example of that so let's
go into the dart editor I'm gonna show a
couple things all at once here's a
simple app that I have imported three
different packages and yes dart ships
with a package manager because we have
formal libraries and oh the editors
telling me that I don't know where those
are so let's use the editor and it and
you can do all this on the command line
so don't worry if you don't like editors
that's fine although they're really
helpful they tell you things ok so when
out of the intertubes and it went in and
downloaded the packages symlink them all
correctly tada it's all working and
notice I've only written like seven
lines of code here that a majority of my
stuff is actually third party packages
I've never seen before alright so let's
run this bad boy here let's run it as
JavaScript right now it's compiling to
JavaScript in the background and of
course you want to see some cat pics
that's so cute but what's the important
thing here to know the cat pic is a
package a third party package the widget
is the third party package the frame is
a third party package and when you have
libraries and classes and interfaces
baked into the language and you ship a
package manager you can actually have
code that all it just works together and
it's really really cool but
neat thing is this is a dart app running
in regular chrome which has no idea
about dart otherwise so another neat
thing you can do when you compile to
JavaScript is let's just pull up a demo
here to do okay so this is the sum of
the demos they got shipped with with the
dart editor if you want to play around
we're going to run this is JavaScript
again okay compiling to JavaScript so
that's pretty fast not too bad neat
solar system okay so you might be
thinking great but how do I debug these
things if you're compiling to JavaScript
well it turns out we generate this cool
thing called a source map and let's go
in here and the neat thing here is in
devtools okay so point number one this
is dev tools in your seeing dart code
now of course dev tools are our chrome
doesn't know what dart is so how is that
mapping the JavaScript to dart well
that's where the source Maps comes in
which is cooling of itself but let's
let's do this now I can set a breakpoint
just like you would in regular
JavaScript programming in your dev tools
I can set a breakpoint in my dart code
and thanks to source maps its map that
line of dart code all the way into some
line and JavaScript down here and stop
the execution of the JavaScript on which
is just like you would I think debug any
other app in JavaScript and we can open
this guy here and you know all that
stuff here's let's say keep an eye on
this Sun here so if we skip through this
right mercury so you get stepping you
get the set to break points even though
you wrote dart in the first place you've
got that great connection between the
two worlds so that's pretty cool and
this is just about source maps and so
this is not just a darn thing source
Maps you can get from closure compiler I
think what does this as well very very
cool technology we are not using the
closure compiler if funny enough the
very first version that we wrote at the
compile to JavaScript I think had a lot
of closure compiler stuff if not
actually used it and it generated very
large amounts of code so now we have a
dart to JavaScript compiler written in
Dart that does complete holistic program
analysis and actually it's a great segue
into this which has this really nice
benefit of tree shaking so one thing
when you know when you can statically
analyze your application
well let me back up sorry and then
hopefully another reason why we did that
maybe to answer your question what are
you today when you talk about JavaScript
you look for very small libraries why
because the number of bytes of the wire
is very important to worry about of
course that's important what happens is
even if you go from like jQuery to zep
dough to literally I think Jojo is
called nano and then probably femto is
coming out at some point but you're
still paying in complete library tax
when you pull in those libraries into
JavaScript well it turns out that in
Dart because it's statically analyzable
we can actually generate a version your
program that is tree shaken or
eliminates the code that you don't call
so now you no longer need to worry about
the size of libraries you simply need to
care about does this library do what I
want because even if you import an
entire library over here but you only
call one function from that library the
tree shaking compiler which the doctor
Jess does will simply include only the
nodes from the st that are actually
using the program and prunes all the
dead code we should all be demanding
this totally awesome bit of
functionality here this any library you
want to link into your dart program no
we can't do a JavaScript use javascript
is not statically analyzable it's too
dynamic for you to be able to make this
these calls for you to be able to pick
up the program by main see the AST and
all the actual structures our program is
not apparent in javascript unless you
run the program but in dart you can
totally you can do that because it's a
structured language and that's correct
yes good question yeah sorry hit me up
after our performance is pretty good
okay I probably have like five minutes
left and so let's bring it all the way
back to web components darn and web
components actually go really well
together because dart is a very
structured encapsulation language
classes and libraries web components
structure encapsulation reusable widgets
so thankfully we have a compiler to
JavaScript and so we can also compile
your web component code to vanilla
JavaScript and HTML as well and we can
do that without sacrificing developer
time and I'll show that here before I
gotta get offered John okay and this is
probably the most important part
the reason why we do this is to bring
this functionality of the new web
component type specs to all modern
browsers today okay let's see some demos
let's go back to the dart editor and
load them up and sail fast and get
through these guys let's first see the
very the simplest most simple example
possible hello world now this is dart
code now this brings it back to angular
right now this is how the web UI library
and artworks you can create see data
bindings live two-way data bindings with
the double curly braces here and
whatever this superlatively will be
printed there you can also declaratively
create event handlers it's all done in
the Dom and we actually compile all this
then we have our own html5 parser that
spits out all the compiled code now
we're going to load we're going to load
in hello world are this is the
functionality the app aha now here's
that super lative okay and notice I have
marked it a tad observable which says
hey I want to watch this variable
anytime this variable changes fire off
all all the events so that the guys set
the live data binding works here's that
change it function and you're just
seeing here is all top-level stuff so in
darts really cool you don't have to put
everything in classes this is just it
all works when the button is clicked
change it is run it simply grabs an
alternative and set superlative but what
you don't see anywhere in here is like
go fire an event or go find that element
by ID and set its value all that's taken
care of simply by the declarative nature
of in here so just to run this just the
show you to do okay well that's lame
Firefox
just to prove that it works on the
browsers so of course that works so
that's really cool so I compiled the
vanilla JavaScript eh now works in
multiple browsers you get the same
declarative nature that say angular has
really promoted but we can go farther as
well and sorry I'm really at a time but
we'll maybe if I have time I'll answer
your question it yes this is a metadata
bit but the web UI compiler looks for
this and he puts in all the code that
wire up all the events for you yeah so
I'm going to show a couple of things
kind of in quick succession I'm happy to
afterwards show you guys more we've got
great iteration functionality so
remember oh that template thing is now
back so we talked about that and now I
can iterate over collection of features
so feature and feature and actually bind
that back down into the template itself
via this to wait the two-way binding
here so that's it eration of
conditionals works as well well show you
that here we go only render the div if
Liang choice is not null or I and Lane
choice is not empty so I'm conditionals
I've got data binding I've got iteration
but this gets really cool when we talk
about custom elements and so let's show
you an example that that kind of brings
it all together and this is really where
the web components really start to shine
there's a ludicrously simple to-do app
sorry I'm zooming through this really
quick but here we go we're going to
iterate all over to the each individual
to-do item and for each to-do item I
want to render out Li tags but inside
the Li I want to use a custom element X
to-do item so where's that defined so
let's go check that guy out here we go
here's an element tag this is X to-do
item he's encapsulating the structure of
X to-do item oh he's got a labeling as
input and span again the implementation
details nobody needs to know this stuff
but he also has some behavior as well
this is this is a dart code right now
and this is really an MD vm pattern
modern view viewmodel in that here's the
view model which is the code that backs
your custom element but itself has a
to-do item which is your actual business
logic right you actually have some data
object like to do or person or account
so you're going to give one of those to
your actual
opponent and notice how I've got methods
that can bind to these events and let's
see here just to prove this all works ok
so I'll run it in dartium actually this
is a build of chromium with the dart VM
which we find is really slick when you
don't want to say wait for compilation
of downloading proxy script well ok so
simple learned art now this is great
because again I don't have to write any
code for go grab the document fragment
and like copy it a bunch of times and
insert it every time I click that I
don't have to write any code for ok
listen to the button and on that event
go over here those all declaratively
stated thanks to those data bindings in
the double curly braces and then this
here the label the fact that it can
change its CSS class the input checkbox
that's all encapsulated inside ex to-do
item so you can imagine as developers we
can create these custom elements ship
them around to our fellow developers
inside your company outside the company
share them reason extend them just like
you can do with any a structured
language we can bring that to web
development that's pretty awesome I'm
pretty pretty stoked for that so sorry
had to totally zoom through that do
that's what I was going to show you but
another time so yes I think that's it
because this was all the other stuff so
in summary hopefully you guys saw the
web components decomposable reusable
components actual widgets system you can
build an actual widget system on top of
this low-level functionality that's
shipping in the browser today and this
stuff isn't dart specific you can you
the first whole half of the slide deck
was just JavaScript stuff but thanks to
our polyfills we can make this all
available to you with vanilla JavaScript
and HTML the deploys across the modern
web and with what we think is a nice
structured language with classes and
optional types and libraries and other
stuff that helps you scale up your code
from ten to hundreds to tens of
thousands to millions of lines of code
and that's a--that's what's required
when we need to compete with native
mobile is apps that big and absolute ma
complex so we think these things go
really well together hopefully you guys
can try them this is all open source
it's all available today and we love
feedback and I'll be around for a while
so
thank you so much I appreciate it and
enjoy the rest of night so the question
was does I'm gonna guess that you mean
does dart ship with any components out
of the box like widget stuff like yeah
so dart does not ship with any
components out of the box but we really
want the community to do a lot of this
stuff for you but I do want to show one
thing I think you guys were like you all
know bootstrap right bootstraps pretty
cool who's sick of bootstrap I think
it's actually really great somebody
ported bootstrap to web UI which is web
components and dart so you yes are there
widgets you can reuse 20 you can't see
anymore yeah thanks okay are their ages
you can reuse today in a web component /
dart world yes here's an example of it
and we are able to like here's a guy
here's a great example X accordion right
i mean this is this is living the dream
right all you guys can see it this is
how i want to work with the web I don't
want to create dibs and gives it is and
give them special classes and then go
pull some Java JavaScript at half of
that code I'm not going to use I want to
actually say no I want an accordion and
I want that in courting encapsulate its
behavior and of course this works right
right right pretty neat hopefully guys
heard that can you create can you
another way maybe can I access my dark
code from JavaScript ok the question the
answer is I don't think so or maybe but
it's very very hard you can go the other
way though we have a full JavaScript
Interop library so you can write a dart
app that consumes JavaScript and we have
you know I could show you google maps
after this if you want but one of the
reasons why this is very hard is because
and this kind of goes back to a question
around the closure compiler stuff we've
written our own co-pilot fully
understands the dark world so we can do
great minification you can do dash dash
minify we can we can go further because
we understand the full program structure
we can do the tree shaking all the stuff
but in exchange in return we make no
guarantees about the public accessible
API of that generated JavaScript code
because out you know when you minify
entry shake the methods become a
and B and so you can't call into that
from JavaScript because we don't want to
retain those names but you can go the
other way no so the interop cause so
here's how we envision you actually do
the interop so again you can access
JavaScript from dark but you want to go
the other way it's actually where web
components come in so you can build a
component in dart and you can expose a
programmatic API or down based API
either by setting attributes or
inserting new Dom nodes it's the DOM is
like where it all lives we're kind of
looking towards the future yeah we it's
very hard to get really great interop
from JavaScript into darts so the
question is already the question is we
ship with full unit tests that work on
the command line and in the browser we
stripped with a full mock sweet that
works on the command line in the browser
and we ship a headless version of chrome
chromium called dump render tree and so
you can actually programmatically run
all your tests on the command line even
in the browser and there's this great
see I service called drone that just
does all that for you it's really cool
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>