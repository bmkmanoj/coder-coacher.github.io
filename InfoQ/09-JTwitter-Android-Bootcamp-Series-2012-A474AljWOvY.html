<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>09 - JTwitter: Android Bootcamp Series 2012 | Coder Coacher - Coaching Coders</title><meta content="09 - JTwitter: Android Bootcamp Series 2012 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>09 - JTwitter: Android Bootcamp Series 2012</b></h2><h5 class="post__date">2012-02-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/A474AljWOvY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so next what we're gonna do is we're
gonna post to Twitter right you want to
be as basically able to do a web service
call now since a dropping since making a
web service call is nothing specific to
Android right what we're gonna do is
we're not gonna spend time actually
implementing web services right that's
just like standard Java instead what
we're gonna do is we're gonna use a
third-party library call Jade Twitter
you don't need to go to this URL I'm
just gonna point out so we're gonna use
a third-party library called J Twitter
that is just a plain old Java library
and it implements the Twitter API yeah
now you could go and download the jar
file from one of these links and I
always have a problem with their jar
file they there's an integer the way
they parse date is not correcting it
fails for streaming services so what I
did is a kind of took a fork of their
code modified it to fix that told them
about it and but down you know they know
about it but I don't think they actually
did much about it so we basically gonna
use their copy of the code we use my
copy of the code but it's just it's the
same for the most part it's the same
code right it just there's a slight
difference in how the date values are
parsed
so if you look at the the draw box place
I copy the file called J Twitter yum ba
jar into there
so what you wanna do with this file is
you want to drag it into your Eclipse so
something like this here's what I'm
gonna do I'm not somebody removed it but
I'm gonna drag it into a root of my
Eclipse I'm just gonna put it I'm gonna
drag it right into it to my clips and
like that for often draw box
yeah there's can't be launched what does
the you're dropping this file into the
roof like this yeah and that's a
cool so what we've done so far is we
copy if we download this plain old Java
library right at the jar right nothing
special about this library it's just a
third-party Java library yeah remember
yesterday we talked about that you can
basically just drop in any type of Java
legacy code into a code and it just
works right it's going to get three
compile two dalvik and supportin now one
thing we do have to do is we totally
have to tell it collapse about our
project and this library so what I'm
gonna do is I'm gonna write the Conner
project go into properties I'm going to
draw a build path libraries okay so
basically right click on your project go
into properties write Java Belfast's
libraries and then add a jar yeah and
I'm just gonna select that jar de to
just set it so that the end of it should
look like that
good
so nice like on a project open
properties so it goes like 1 2 3 4 5 and
then 6 is there I mean it doesn't it
could be anywhere but that's a good
place so first again okay so you click
OK and what we can now do in our status
activity is we can actually use that
library right let me show you how it's
used according to the documentation you
should be able to do something like this
create a Twitter object with username
password and set status yeah should be
able to just create a Twitter object and
set the status in between the object
everything else happens magically
alright so let's test that out so
basically what I'm gonna do here is I'm
going to say twitter twitter twitter is
new twitter yeah
and for username and password we are
gonna use our standard shared account
which is student password
right so you're it's all under lab is
everything is now underlined read at
least weather is so control shift or
command shift o to organize your imports
and that's actually figures out that
you're talking about Twitter object from
winter well and associates and it
actually imports the correct thing right
yeah so so after that we can now say
Twitter dot set step status and then I
can put sales tax
so basically we are creating a new
Twitter object right and then we're
using the piece of tags that we got from
the UI to update the status online right
now there's one line missing here
and it has to do with with the fact that
we're not gonna use Twitter calm so by
default this would go to twitter.com now
we're not gonna use twitter.com and I
mentioned yesterday a couple of reasons
for that right
one is that twitter.com a would have a
rate limit so if we all start using it
with the same username and password it
worked for like a couple of seconds
until they figure it out and they would
shut us down
with something called a rate limit
exception right now so they say how many
subsequent post you can do from the same
ip address or you same user and some
avoid spam right so that's one problem
the second problem trailer is that it
doesn't support user name and password
you can't log in using using any
possible you get the user auth rights
which we talked about yesterday and
since I don't want to go down on tangent
to explain but Olaf is what we did is we
created our own account we talked about
all this yesterday called the ambit of
Maracana dalkom right so that's the
account we're gonna be using to post
right this account you know anything
goes right so people are just posting
stuff and so on so to override where
we're going we're gonna say Twitter dot
set API root and then we're gonna
override the server in the API right is
gonna be HTTP colon slash slash Yamba
dot maradona
dot-com slash API
so Twitter dog jar comes from this site
J winter wall comm software j2 there PHP
or just google it it's gonna be the
first thing it's also available on
github they have their there are people
there so does that make sense so far
what we're doing so able to try to run
this come on
you
don't be shy you can learn let's see
what happens
okay so here's the moment of truth right
hello update BAM blows up right oh
forget this you're doing water so I
don't get it crashing okay so your job
is to tell me why that's that's that's a
possibility it's a good reason actually
um yeah in that that has its own issues
that's correct but first of all where do
I look
what does this message mean and I know
on the older phones it's a little
different message it says unfortunately
blah blah blah block has stopped
unexpectedly or something like that it's
always the same message it's worthless
reading it don't read it right when you
see a message and like you know like I
said they made it a little cleaner
recently but when you see this message
it means one thing look at your law cat
the answer is there my audacity means
your automatic you know knee-jerk
reaction reaction should be talking to a
locket so a locket tells me right here
that I had an exception right
so what I like about Java is that
exceptions are very are usually very
easy to find so since I can unlock it
running like this in the background it's
easy for me to eyeball the exception I
usually just look for the big white
space right bam bam right so it's easy
to eyeball even though there's a lot of
noise again secondly so usually that
tells you what the problem is next what
you normally do is you look for the
first line of the code that you wrote
again the reason for that is that the
assumption is that it's not other
people's for code dying but it's your
own code I'm yeah that's a good
assumption right it's not other people's
called so basically here what I'm seeing
is that I have something called illegal
State exception I have Network on main
thread exception and it's coming from my
status activity line 31 okay so I can
actually now
pinpoint where the exceptions actually
being drawn from and it's here right
now you guys does anybody have any
different exception you do so it is it's
a okay
did you check you around and run it
again
we don't have any firewalls here so I
said I don't that I doubt it has
anything to do with in that's right yeah
anybody else cares anything else
different so I don't cost a networking
on a mentor and on the so if you run
this code on an older device free
honeycomb you're right
so let me put it this way you're running
on pre honeycomb right you're running on
pre county phone yeah that's why so if
you're running on pre honeycomb you're
gonna get a different type of an
exception host exception if you're
running on post on a honeycomb you're
gonna get an exception it has to do with
running something that possibly run it
takes a while on the main thread
basically before honeycomb the best
practice was that things that run a long
time or potentially a long time should
not run on the main thread right we're
gonna talk a little</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>