<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Android DNA - Keynote from AnDevCon III | Coder Coacher - Coaching Coders</title><meta content="Android DNA - Keynote from AnDevCon III - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Android DNA - Keynote from AnDevCon III</b></h2><h5 class="post__date">2012-05-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/r70XGpGC3Ro" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so we basically wanted to put together a
talk about things that we've seen in
android architecture that are
interesting right so kind of wanted to
double click on why things are
architected the way they are and we get
a little bit of experience both in the
app layer as well as the platform layer
and also the privilege to work with some
of the largest companies in the world
pushing the envelope when it comes to to
Android so we wanted to kind of
speculate on certain things and like
Alan pointed out unlike unlike the
Googlers we do not work for Google so we
can talk about whatever we want and if
we don't know we really don't know so we
don't we can't say that we can't talk
about it so you can call us up in that
so that's that's briefly what this talk
is all about so I want to start with
what I think is the cornerstone for
understanding a lot of Android design
decisions right so back in 2005 Google
went and bought this little company
called everything and it was sort of a
unusually then because back then Google
wasn't going around buying companies
like they did like they're doing
currently right last year they bought a
company a week back in 2005 this was a
sort of Oh enough acquisition it didn't
quite feel like Google so a lot of
people speculated that what's going to
happen is google is going to roll out a
gphone this is 2005 this is before
iphone and at that time Eric Schmidt the
boss of Google came out and he basically
said look our goal is not another gizmo
that's not our business our vision is to
create a platform that's going to run on
many many different devices right so if
you give this vision in mind a lot of
design decisions choices underpinnings
start to make a lot more sense so in
2005 they basically went a little dark
for a couple years started working on
this project but to explore that we
wanted to kind of talk about couple of
couple of points couple design decisions
so basically they said look we want to
build a mobile platform so that was the
goal number one right the trans done
many different devices that was a second
role and that that's friendly to the
entire ecosystem so what we're going to
look at through this sort of vision is
we're going to explore all the
constituencies of this ecosystem right
so one can be kept the device
manufacturers the carriers the app
developers the end users and probably a
lot of other people in between that
we're missing but these are sort of the
key key players in the ecosystem so they
basically said look if we're going to do
this we're going to do this not just by
ourselves but we're going to evolve
involve the entire ecosystem and they
went out and they created the the open
cancer alliance now like Korean pointed
out on monday the Alliance's really just
probably probably really just a piece of
paper and some of the lawyers drawer
somewhere it doesn't really have an
office at least I couldn't find it
there's a email press at Alliance bottom
or something like that so it's not
really that strong in terms of an entity
however it does point out that the
Android is a shared project or at least
that's the idea behind it so that's a
little bit about the Alliance currently
80 80 plus members of the Alliance so so
I mentioned different constituencies
that are involved in this so in one can
we hear manufacturers and we got to
understand sort of the motivations of
each of these players so to understand
why end of this put the way it is so
manufacturers they basically want an
operating system for their devices and
ideally it's going to be an operating
system they understand right so so that
that's basically they're the big
motivation yeah it's great if it's free
as well right on the other key and
manufacturers they want to customize so
yes it's nice that you know they can get
windows or or some other operating
system but it's nice when you can take
an operating system get it for free and
get to customize now there are a couple
options in that realm out there in the
universe but some are better than others
so we'll discuss that as we keep on
going so so that's one of the important
pieces for manufacturers
developers you you guys fell out to be
our developers and ultimately want to
make money right so what's important
that's probably one of the most
important of important things to
developer switch ecosystem has the most
potential for generating revenue so you
you need a lot of users but you also
need users that are willing to to fork
out some dollars and put in your pocket
and you also need a system that's going
to make all that very efficient right so
so that's basically the motivation for
the developers it also helps to have
really good toes so it's one thing to
have a great you know ecosystem it you
know it doesn't it doesn't help if it's
really hard to develop for that
ecosystem so tooling the platform all
that becomes really important and as
we've seen from couple talks today it
seems like the tender it is actually
putting a lot of efforts in the latest
release of our are 20 of the ADK and so
on so tolling tools things like that are
quite important for developers and it's
I just want to add something that's not
just the tooling and tools but API is
that make it possible for you guys to
develop a museum it's not in developing
already here so you know yes you know I
iphone in iOS and other platforms have
you no good goods essentially if you
guys but Andrew is definitely pushing
the envelope in terms of what's possible
you know from background services to the
integration between different components
things that are just not at all you know
part of me you know the capabilities of
other other os's yeah yeah so so that's
important to you guys says this is a
developer conference now carriers
carriers are looking for alternatives so
they're basically on one can they you
know you can iOS in similar devices and
there's a there's a sort of a locking on
that so what's important two carriers is
an ability to to help options ideally
they would also like to brand it and put
all that blood where on the devices as
well so that's not nice place for them
one thing else wanted to have there is
you know what's interesting is that yes
I oh I OS r iphone made a huge impact on
80
introducing the a lot of folks switched
to assessment from other areas making
tea and made a ton of money but nowadays
the report suggests that Android
actually you know it leads to better
average revenue per user for carriers
then do you know the iOS devices so if
there's actually a reason for carriage
that excited about you know this is this
the answer is a platform and at the same
time it gives them the leverage against
you know other sort of clothes
ecosystems and Apple as because they are
in a sense of saying well we do have
alternatives that are as appealing if
not more coming to the users yet there
was an article in wired magazine maybe
about six months to a year ago but the
call verizon story call how Apple Google
basically decided to give a big chunk of
the revenue from sales of apps to to
verizon so for but verizon also there
was a changing point because on one hand
they were now even motivated to invest
in the in building out the network
because the bigger the better the
network the more users are going to buy
more apps and the more money Verizon is
actually going to put in their pocket so
that was good and it was unlike the AT&amp;amp;T
in iOS partnership where AT&amp;amp;T had no
motivation to improve the network
because all the revenue was going to the
toto Apple Apple love pockets basically
so that's that's an interesting kind of
article from wild on top of it allows
them to differentially it allows them to
essentially brand devices you know you
said crack where and that's true but
also you know create these exclusive
deals by you know I customizing the
devices for the different targets today
they have in mind different different
essentially use cases and so I have a
much more much more variety than a
single device that I'll assets so they
can tap into essentially a lot more
different markets yeah all right so
Karis also a neat neat phones that the
users are the users are going to be
willing to buy so basically we need to
make sure that there's a lot of phones
and obviously androids been really
successful at that with 800 plus phones
on the market or something official make
all devices devices thanks yeah
officially certified ultimately their
users so
completely the ecosystem we need a lot
of users that are going to love this
device they users for Android love the
ability to customize the device so
that's mean it's unique from other
compared to other operators essentially
it's the opposite of one-size-fits-all
so some of us may prefer a you know four
point six inch screen or you know maybe
it would you know something even bigger
so so this is essentially why again
coming back to the original philosophy
of Google you want an open platform that
appeals to different segments of the
market and people self identified with
the different devices there are there
and that wasn't essentially available
prior to to Android coming into the
place yeah so users ultimately want
absent that's where you guys fit in so
obviously users are not going to love
the devices if there aren't a lot of
apps and that's why it's become the
number of apps essentially becomes a
barrier to entry to a lot of other
players and that's why we're kind of
seeing all the gospel in terms of the
market right now so its iOS Android and
then everyone else sort of so that's
important as well you choose the numbers
we're over half a million essentially
apps out there that you guys have
created this is amazing yeah that's what
we heard this morning so so one of the
things that makes Android unique is the
fact that it's open source right so we
we all know that now not all open source
is equally open open source doesn't just
mean hey I can see the source code but
what's really important about open
source is the rights that you get with
that source with it that you get to see
now back to that vision right the TEDx
print held for for Android we want to
create a platform it's going to run on
many many different devices what that
means is that we are going to have a lot
of software engineers out there working
on this right so we're going to have
Intel's iqbal combs and sisters and Sam
zooms in HTC's of the world putting a
ton of engineering power behind all this
so different licensing in open source
makes a big difference for these large
organizations to put a lot of dollars in
engineering dollars behind a platform
such and such such like this so in terms
of the licensing oh there are hundreds
of open-source licenses out there and in
they're probably maybe a dozen common
ones that you run into but essentially
open-source licenses do I try to boil it
down into something that's relatively
easy to understand and I'm not an
attorney so don't give me accountable to
this but basically there are two buckets
of licensing licenses when it's all said
and done and the first question really
that's important is what is the
derivative work for under so if you take
somebody else's open source code and you
start modifying it who did who do the
changes belong to right and so that's
that's a very important question to
start with and if if you have to license
it on the same terms as the original
source code you basically done under end
up at with one of the either GPL or lgpl
licenses right so that basically means
changes that you made you have to push
upstream more or less right now Android
tries really hard to keep in keep the
licensing in this bucket basically the
bucket where the changes that you make
to that open source code belong to you
and you get to choose how you want to
realize this it outright so that's the
only sort of model that makes sense if
you're going to have the large
manufacturers and software companies put
a lot of engineering dollars behind
developing a platform so well so we're
seeing all the sort of the green room
implementation code in in androids that
being licensed mostly under Patrick to
license but some other MIT and BSD
licenses which are the permissive
license is so basically you get to keep
the delights yourselves and as you will
see also where there's code it's
licensed under GPL or lgpl and really
there tries to replace those components
in the user space mostly when the you
know apache or bsd license also licensed
a permit or tries to essentially
isolated form of IPC to avoid directly
linking to let go it's when you link
where an extended go then you then
become subject to some of these concerns
of detail of and LVL do you feel
specifically you know states that you
have to let you know least your code
under the same license which
no it doesn't allow the manufacturers to
something spectacular IP and lgpl one of
the issues with lgpl is that either you
release the source code or you make it
possible for users to essentially swap
in those components with alternatives
and this being essentially a bedded
device it's not easy or can able to get
users that choice so this is why Google
works very hard to essentially keep this
open but open not just to us geeks that
you actually want to look at the code
but also open to the manufacturers to
build upon and investing too and not
have to be subject to the same sort of
light situations so that's a little bit
about licenses they are very important
to understand a lot of sort of
underpinning so offended sometimes you
run into is crazy sort of why did they
build so many layers of abstraction it's
purely around to get around the license
or patting sometimes so that's why we
wanted to point that out all right so
we're going to use basically the Android
stack as the the main sort of way to
explore different things in Android so
we're going to start down at the Linux
kernel level and just going to work our
way up up the stacking it's not perfect
so sometimes certain things don't quite
easily fit into just one bucket so keep
that in mind and so this is sort of a
that was a simple picture of the stack
this is sort of a little more detailed
picture that we're going to be talking
about just kind of give you an idea so
basically we have the Linux kernel space
here we have the native the native layer
here the C C++ code then we kept the
Android sort of a framework clean room
code that was developed purpose built
just for friends out in my mind except
for the nine lines for those of you
who've been following the Oracle versus
Google yeah and then finally we have the
the apps up there you guys right
ultimately so so that's what we're going
to be looking at so just kind of keeping
you wanted to point out Queen awaits
we're sure let's yeah let's just looking
at dissected stack and chose of the
innovation so so what's provided by
Android what you know where do the
different parties kind of play if you
will where their sandbox so you know at
the deep you know by default Google
provides essentially a you know and then
later based image with all of this
working but and they also provide these
you know Nexus devices that are supposed
to serve as reference platforms for this
entire stack not all of which is fully
open as we hopefully have you know or
seen or discussed but it's interesting
to see like where do the different you
know parties contribute so the Linux
kernel is all again provided by the
Linux Foundation and the linda lewis
community but google extends on top of
it we'll talk about some of the
extensions but that's where a lot of the
drivers of all the drivers that work
with hardware move and they Android in
the user space provide something called
a hub or the hydrants traction layer
where essentially manufacturers build
wrappers around those drivers that now
live in the user space and are typically
licensed under non open source license
licenses and that's where a lot of the
kind of IP lips so in terms of what the
OEMs you know those building you know
the platforms then tells the you know
Qualcomm's and so on and so on of the
world do they innovate mostly in the
kernel layer and in the car later so
think of it kind of this these to my
drawing skills are not as good as
markers in terms of what Android
provides so the rest of this the you
know the toolbox the native demons the
you know the libraries a lot of that is
provided out of the box by Android but
there are also hooks for OEMs to do
additional essentially plugins if you
will like media plugins which we'll talk
about later the Android or the dalvik
runtime is what powers the rest of the
you know most of these are the upper
services and the applications which
we'll talk about later on and then do we
have these system services that
essentially allow you to you know get
this rich api's to work with when you
want to access different peripherals or
different you know get essentially it's
a system to do the low-level plumbing
work for you so that you can focus on
getting your stuff done and what's
interesting is that you know the those
building actual devices you know they
generally depending on again who they
are likes a motorola that's building on
somebody else's platform they will
mostly not be touching the you know so
much the lower levels as they will be
providing the innovation in it adding
new system services potentially new
libraries and definitely you know system
apps and customizations to the
existing does this apply for Mike who
says the skin jobs you guys obviously
play a role in here but the system apps
is also an important part of the
platform so some of the services are in
fact delivered in form of system apps
like we saw yesterday for anyone who
attended my talk but also the the
carrier's tend to do quite a bit of
customization and that customization
essentially happens in this bucket okay
so looking at the different parts of the
stack just want to kind of mention how
you know why did white Google make the
choices they did and why why does the
stack look like it does and I'm assuming
by the way mostly seeing this diagram
before so that you know that's why we're
not going to go into the details of
tidal works with more on why so why the
Linux kernel and one of the big you know
in fact when Andrew was being built you
know they were discussions to use BSD
kernels in alternative because of the
licensing the friendly nature of the BSD
license for d essentially the OEM is
building on top of it but one of the big
you know big reasons for the Linux
kernel is a it's it's battle-tested so
it provides a really good process based
model more process isolation model that
is the foundation of Linux security
model it provides you know superb memory
protection process isolation process and
thread management obviously provides
network stack it provides the shared
library support and whatnot but one of
the biggest advantages for the Linux
kernel has yeah in addition to the
community is this device driver model
and it's grim pointed out more than half
of the Linux kernel is essentially the
wisest wires and not only are their
device drivers that we can take
advantage of and tamp into right right
off the bat but there it did this is
well understood people in the the
different OEMs the different essentially
part is the play the play in the Android
ecosystem understand how to actually
build device drivers and essentially
extend the their platform for their
platforms to to Android so this is the
biggest reason essentially this one
little bullet point is I think the
biggest reason why underwent
specifically with the Linux kernel that
said even though android is a
linux-based operating system we don't
really think of it as a traditional
Linux distribution
there's no standard file system there
are no you know for example standard
lips your library's like we have in
stanley linux there's no g ellipse
standard configuration file the transfer
file group file at this tab file those
things don't exist standard even
utilities like copy command are not
there yes I know you can install busybox
yes I know you can do what you can
change all these things but that by
default these things are not there so
most of the actual kernel is for the
most beautiful taken as is and most of
the innovation happens on top of the
colonel that said there are some very
very interesting aspects of the colonel
where android did innovate specifically
in a very interesting IPC model called
binder which essentially enables the
applications to talk to each other as
well as for applications to talk to the
underlying system services right
remember what I said each and every
Android application runs in a separate
process and for that to be able to exist
you know they need to be able to consume
the services offered system and so
specially an IPC framework like binder
was needed also they have something
called wake lots which is androids you
know man may essentially attempt to to
do power management or to build upon the
Linux is power management now yes a lot
of people find this controversial but it
tends to do a pretty good job in terms
of essentially it's that establishing
this policy that we want to be as frugal
and better use as possible so yes you
know that's you know there's still a
sticking point between the Linux
community and the android community and
still the reason why android kernel is
separate from the Linux kernel but that
said Android folks have been doing a
good job you know keeping the Android
kernel which is essentially a fork up to
date with the latest changes in the
linux kernel another change is the the
way android managers for example memory
so we have this concern of not having
enough RAM on these devices after all
the year these are embedded devices the
you know mobile memory the low-power
memory motor low-power ramp is
essentially more expensive forty percent
more expensive the standard DRAM and
tends to be very slow so we tend to want
to conserve it and so essentially
Android has this unique way of dealing
with essentially memory management and
it doesn't use a swap file system like
say a desktop application could simply
because writing to flash is very
expensive and where is it done
prematurely so it's it's kind of
interesting
all the innovation that has gone into
even the colonel layer that enabled
Android to deal with the environment in
which it was going to operate in terms
of the future for and linux and android
i think the real point of the sod is
already but yes you know initially
android started off as being a bunch of
you know staging drivers on the linux
kernel but they kind of got kicked out
of there and then ended up having to you
know set up their own get 3 in which to
to manage this but there's efforts going
on right now specifically in the linux
303 colonel to bring those changes back
into the intentionally the single fold
so most of the changes that android is
placed in the kernel like the low memory
killer though the the ashman the binder
and whatnot have been ported back into
linux or brought back to the main line
the only kind of two sticking points are
the wake locks and the early suspend but
you know by three or four we're hoping
that a lot of that will essentially
merge yeah question so by no standard
file system is this actually no standard
file system hierarchy okay not the file
system so they do use standard file
systems like the you know ext4 although
our older devices were based on the gas
through flash file system so it's really
about a hierarchy so files are not where
we expect it to be then we can slide
about that total doc but when we talk
about security why the boss is going to
like this yeah so um the native layer so
one of the interesting thing about the
native layer is that Android what let's
go back to the colonel colonel is fully
GPL right so the only way you can get
non GPL components running the colonel
is to essentially a building as modules
and there are some limitations as with
what that you know allows you to do and
so so we prefer for everything in the
kernel to continue to be open source and
GPL but that yet OEMs do have this need
to something to protect their at their
IP and so what android did is they first
created this whole new lipsy library
they call it Bionic which is licensed
under bsd in fact it comes from
d so that essentially there are no lgpl
requirements on on on the under anything
in the user space the link to the
library then what they did is they
provided this API called called hardware
action layer that enables the
manufacturers to essentially plug in the
different user space libraries that
enable the rest the platform to consume
the custom and unique drivers they've
built into the kernel and also protect
their IP how do they do that well the
driver and the kernel can continue to be
open source but if there's specific IP
they want to protect essentially rapid
in this shared library in the crawl
space being that it doesn't link to
anything GPL or lgpl they get to keep it
on you know under whatever license they
wish to and that's why you know even the
most open of the devices these days like
your Galaxy Nexus somewhere you have you
know if you were to try to build it in
fact you wouldn't be able to build it
straight from the nrsv trees you
actually would need to download
additional libraries which are the fact
that they call components there are
other native libraries specifically for
example we have the the media framework
which we'll talk about later on which is
also where manufacturers can plug in
their additional features the native
dimas or gamers that provide low-level
services and some of the basic unit and
tool bugs they facilitate the startup of
the system as well as the basic
management which you know if you
interview attempt grim stock you can see
how to replace some of that with busybox
one thing that's interesting that
android also did is this dalvik virtual
machine you know this has been a hotly
debated topic you know especially in the
inner court so one thing that you know
that I really like about dalvik is is
what it enables again so there's couple
of things that didn't set it apart from
other sorts of other sister of attempts
of its so first of all it's pure joy
well we build applications in job why
Java well first of all I Andy Rubin
comes from danger team they built
everything in Java for their you know
psychic devices he was kind of used to
that idea but also developers out do
prefer Java over the alternatives you
know an average java developer will be
more productive than an average CC plus
12 develop developer one building
application code because of all the
features that java language offers now
that that with that assumption or hoping
that you understand and you know why not
standard
you know and of course you know there's
this whole debate as you know Google
ripped off you know in a Sun they should
have paid for the licensing woodland but
it wasn't really about money it was
really about the control standard Java
doesn't lend itself or did not lend
itself well to Android the standard
desktop Java is way over bloated comes
with API is that make no sense on
Android like you know applets or you
know swing or korba god forbid but these
things just don't make sense in an
Android department or a mobile
environment why not Java ME Java ME is
you know maybe it was good at a time was
first constructed but ultimately it went
with this model where you know it
assumed the running multiple apps you
know required running than in a single
virtual machine because of the resource
constraint it constraints and as a
result of that they moved a lot of their
security isolation insane boxing into
the virtual machine itself in form of
this security manager and so Android
basically you know so what that meant
let's go back to that what is that what
that essentially meant is that
developers could not take advantage of
let's say low level system services say
you know if you're an OEM and you want
to add something to your device you want
your application to drop down to J and I
and access the native code all of a
sudden because dropping down to the
native code would essentially allow you
to circumvent the security manager that
would not be allowed and so you had to
work with these profiles and these
profiles was designed by these
committees that you know took forever to
essentially you know get get together
and come up with something usable and so
ultimately Java ME applications always
sucked compared to the debt you know the
native alternatives they will have never
competed with the likes of iphone and
the ILS so what Android it is they
essentially said no no we need to take a
different approach you like Java that is
great for the developers but we also
want to enable you know the use of the
you know of the low level functionality
offered by the different systems and
again this comes back to Andrew wanting
to be open it and enable the different
systems and so what they did is they
basically created this idea of this some
of you might have heard it occurred to
mention other talks zygote which is
essentially a process that starts up
early on in the end and returns
realization and then loads something
like 2300 classes in Ice Cream Sandwich
and keeps it in memory
a creates a separate heap starts
listening on socket requests to fork
itself to launch applications and then
when new applications need to be
launched the desire gets forth the
memory essentially gets replicated by
reference not by copy into the child
application processes or application
processes and now your applications run
what that enables is for your
applications to essentially run in
separate processes so we now no longer
have to worry about any sort of security
enforcement inside of the Java layer so
we go back to the kernel which we know
and trust in love we and so we are able
to essentially not care you know worry
about any sort of limitations the Java
where yet we don't pay a huge penalty
for it because the zygote essentially
preloads everything that can put most of
it that could be possibly needed and
essentially enables it for use at
runtime so I think we get the best of
both worlds it's not that Android ripped
of Java it's actually superior to the
Javas implementations as they exist at a
time this was built a couple of other
things i guess i should mention is that
android you know dalvik virtual machine
is you know a register-based virtual
machine which tends to be smarter and
faster generally around thirty percent
then a stack-based virtual machine we're
running incorporated code which son you
know oracle disputes you know there's
some benchmarks to prove otherwise but
in general terms it is faster the dalvik
actual you know class files the decks
code is some of you might have seen is
actually more efficient when when
uncompressed it is smaller than
compressed Java code because they
essentially you know join older than all
that pools of you know the reference
pulls the string pools and whatnot and
they are much more about storing that
code because it's uncompressed they are
able to share it across different
processes that's what that enables they
could not have done this how they use a
standard Java cloud class model they
could not take standard Java and
essentially do the same thing that did
with Android would not have been
possible in terms of what this means to
you guys is that now all of a sudden you
don't have any sort of limitations as to
which api's you can access you if you
want to drop drop down to native code
and right you know C C++ code you know
go for it so it enables
you to essentially do whatever you want
without being you know limited by the
sandbox and the Java layer and in terms
of the you know we chose the price that
we pay at runtime there's almost none
okay other things for example the dalvik
virtual machine also has the
just-in-time compiler there's actually
smarter than java's in a sense that it
doesn't just compiling tire methods
rather individual blocks they call
traces that are deemed to be hot so for
an average of about 100 to 200 k of
extra overhead in memory you're
essentially getting five to you know to
25 times performance improvement for CPU
bound code so you know standard Java
doesn't do that job I mean it does give
you the performance benefit but at a
higher memory cost and again what we
said memory is the premium on an
embedded devices so you can see how you
know what they did is they enabled you
know you to take advantage of it and yet
no not not essentially have to force the
OEMs to pay pay in terms of higher
resource um I don't think that was
actually one thing one thing I was going
to point out since this is all about you
know what future may hold as well in
standard Java this is this will be a
standard Java you basically write the
source code to compile it to get java
bytecode you don't need them java vm
right in dalek model so this would be
Android model we write the very same
service code we compile it to the very
same compiler and we get a very same
bytecode but then these are the new
steps so what this ultimately means is
that you could actually be writing your
apps in a totally different language
than jolla right and in still run it
then I I know there's a talk by Tony's
gonna talk on Scala on on Android we're
seeing that being popular some other
languages like Jay Python a Titan
general what's interesting there is that
we were saying is it you know that could
be different so this essentially could
be different what what the dalvik
actually does enable is for this you
know for this entire thing to be
different so the the bytecode itself
while it assumes the semantics of Java
doesn't assume the actual java source
code so it doesn't have this next
compiler could have been replaced with
something it translates Python say for
example directly into the other biker
who else and one thing that was going to
point out so she loves that looks so
much that's his license plate Ashley so
it's because I run the android usergroup
in San Franciscan dojo easy group so
always ask me which side of the equation
in my own well I kind of have a license
for this trip to prove it so again the
biggest takeaway from dalvik is that it
plays no role in security enabling you
to essentially not care whether you
write your code natively or in Java
enabling you to write these you know
amazing applications and not have to be
essentially a subject to any sort of
committed the signs which api's are
going to be introduced when and how and
in terms of the the upper layers the the
framework you know application framework
is composed a bunch of services there's
60 plus services for the draft different
parts of the platform so we as
application developers generally
interact with these services when we
don't really care about the lower layers
you know in fact it be possible for the
most part for someone to completely
replace the lower layers with something
else and say run it on an alternative
operating system we think you get you
know we as application developers don't
have to be oh not yet they don't have to
worry about those so what sort of
services are there and how do they work
I mean that's a subject of a different
talk in fact tomorrow I'm going to be
giving a talk on exactly that again but
just to give you an idea of essentially
how this work is something that just
just one of the services it from I talk
this location service I'm assuming some
of you at least that use the location
service to say access the location of
the ice so let's kind of just try to
dissect this in five minutes okay at a
very low level we have the colonel right
that's that's as we know booted
initially bye bye bye or loaded by
android colonel basically loads a
process called in it in it goes and
provides a one of the daimons called
service manager service managers job is
to keep track of all the services in the
system then also in it goes and loads a
process called zygote like we said which
tends to fork itself and create a
process called system server inside of
system server there's this thick javis
you know fat class that runs within
which there's a trailer runs that
essentially starts loading Java services
mostly services are built in Java why
again this implication level code it's
easier to build an engine to building
this in C++ especially where latency is
not a big concern the one of the
services that this build the system
server
build this location manager service this
is the service that actually knows about
where you are and what it does then it
also it then registers the systems this
location manager service with the
service manager so now the service
manager knows about where this is so now
let's say we run our application here's
a little example application runs your
application goes and wants to grab the
say the latest on location for the
device it may go on to the context ask
for a system service what it gets is not
a system service it actually gets
something called the location manager
okay it's actually gets for the name is
the purpose of the location manager is
to essentially shield the do the
application developer from knowing that
their dis underlying essentially
complexity in the stack it's
specifically what the location manager
does it communicates via some proxy to
the binder via some stub back to the
service to essentially submit your
request for let's say the last known
location a lot of the security gets
enforced in this case right around the
service at the point of that invocation
the service in this case goes and talks
to some sort of a jni wrapper which is
it you know again this is permitted
because android doesn't care whether you
write your code in Java or C which
downloads the hull which I mentioned
previously that implements this
particular you know essentially
interface this is for a galaxy access
device that's the call for GPS that hull
communicates to a particular you know
character based device in order to fetch
the GPS so you know again coming back to
the to the stack you know you as an
application developer you essentially
have very rich api's you're just
interacting with this location manager
which is very easy to use location
managers hiding all the complexity of
the you know the the IPC framework the
binder the system service is responsible
for hosting our location manager
location manager does a lot of
high-level you know kind of
functionality offers high level
functionality like a location updates
and so on and so on it holds the state
of everyone who's interested in
receiving location of it the this is the
bridge so this is you know this is a
particular GPS provider that we for
example
may be interested in and this is the
call this is what the OEMs you know
provide to us in order to build this
into a real device and then finally the
kernel driver why don't you take over
from here so I'll do a little easier
things fewer lines so basically one of
the also the goals so we're talking
about the application framework keep in
mind we're talking about the design of
Android operating system why it's done
the way it is obviously guys for
designing iOS or blackberry or Windows
Phone whatever it's called they they
they don't have as complex of a job as
they entertain dead right so there are
all these moving parts that the Android
team had to put in place to enable us to
target many many different devices with
the same operating system right so that
was remember one of the vision points
was to target too many many different
devices almost mobile operating system
has that problem as much as Android us
so at least that shows in the in the
size of the screen so the framework
itself has to account for you know
running on anything from a tiny old
phone to a gigantic large screen TV so
from using a touch input to using a
remote control to you know post your
tweets via TV or whatever so so that's
another aspect to kind of keep in mind
that they have to deal with at the frame
of that whole one thing that we wanted
to point out is how certain things were
put together so for example the media
framework so if you if you put yourself
in the shoes of google and you want to
build this this operating system and
obviously you want to have as rich of a
support for for media formats as
possible so you're going to grab just
about any codec out there and plug it
into the platform the problem now is our
devices right not everything is friendly
you cannot introduce proprietary stuff
into an otherwise open source project so
what they did is they basically build a
framework a media framework that enables
them to plug in everything that's
allowed for them to plug in and then
leave slots empty for the future
versions of of codecs for other codecs
that maybe you know proprietary or
or something like that so media this is
just kind of other one are going to make
too much details of this and you can see
such as talk tomorrow he's going to
dissect this picture but the point is
there a lot of moving parts and many of
these moving parts are essentially
required to enable this plug ability of
the platform so that you know Samson can
grow and license the my license the
Microsoft codex or the Apple products
and enable them on their phones and so
on so that was one of the very important
design decisions and it reflects itself
in many many little boxes that we're not
gonna going to just mention one thing so
just like there's a how for the
different hardware components like yes
for you know sensors and whatnot I think
of the media is essentially a framework
that offers how like what ability for a
different coding so it enables some like
you know you going to say oh we have a
hardware optimization for the coding
stage to sing support we want to use
that or the say software decoder that's
provided by Android and by the way
android does provide a lot of the
software decoders for you know in open
source format it doesn't mean that the
OEM Sarah get the patent licenses for
free so like and there's an mp3 decoder
but they still use feel as annoying
would need to position their grab the
license for that yeah so final we're
going to talk about the app player so
this is the product space its most
familiar to you guys so we're talking
about both about the system apps as well
as the user developed applications so
like Sasha mentioned earlier an Android
application is quite different than then
another platform so basically ultimately
an application is a process on its own
and essentially in applications almost
doesn't matter what this it's really
just a loose collection of components
right activities services providers and
receivers but what's important is the
sandbox model so basically each app is
going to be its own linux process and
basically within this box you as a
developer can do whatever you want so
you can reach out to native code you can
invoke native code etc and it's safe
because it's not job or dalvik that's
enforcing the safety it's the kernel
itself and that's what Sasha mentioned
earlier that enables you to make
native parts of your abs to be native
like for example Angry Birds has the
physics engine done in C C++ and that
makes it so smooth on Android and
something like that not be possible in
Java ME or similar environment like that
so that's a little bit about application
sandboxing those ads to what you said it
doesn't matter in like applications
asthmatics a new set of components why
is it interesting is in other platforms
applications are really islands of their
own and it's in their very application
eccentric right it's about what
application user wants to use like
there's an app for that in android it's
more like applications are meant to play
together nicely there's more emphasis on
integration in the from this type you
know IPC loose IPC mechanism call the
tents the most of you use so you as a
user you know you could be using
basically a device to read an email and
from that email click on a link and open
up your favorite browser from the
browser click on a phone number and
start you know dollies go back to the
browser click on the link you may find
yourself in a YouTube application from
there you may click on a link to and
find yourself in a yell publication in
salt and so on the thing about that is
you as use you're not thinking in terms
of applications you're taking in terms
of what you want at home it's very user
centric and at the same time it's also
you know enables users to customize
their devices because applications can
essentially compete for the very same
intense the assistant locations you know
provide and so we have a much richer
potentially a much richer though
confusing potentially also you know user
experience from then compared to say an
iOS device an example that would be like
for example standard Android vanilla
Android is very AB centric you have an
app for calendar an app for messaging an
app for email and then you have HTC
Sense which basically they took the
standard enter then they made it more
person-centered so I don't care about
emailing or texting or calling Bob I
care about Bob right so you basically
shift this entire view of the user
experience from App Center two persons
century and you can do that because the
apps are so loosely couple components
and you have this three Mashable sort of
platform that's an its unique 200
compared to other platforms out there so
this is just a little bit about security
security Olivia unit talk about I'm sure
let's just briefly mention this so so
Android gets a lot of kind of bad rap
for its security so you know why is that
so Android basic Google basically wanted
a as low friction you know user
experience as possible as well as
developer experience so the bill this
idea of you know anyone can build apps
those apps can be uploaded to market
there's no certification or curation
process like there is with iOS the
permissions are only granted ones user
cannot selectively grant around grant
permissions it's all or nothing the you
know the the assumption is the user
knows what they're doing which
oftentimes proved to be you know not the
right now not correct and you know it's
more about the user that about anyone
else like users the god of their device
at least that's that's the initial the
initial you know premise of Android how
does this all all work well again when
Android boots you know it starts a bunch
of you know services these are starting
separate processes your applications
when you're running these are also
starting separate processes if they were
to misbehave if they were to try to do
something that's not allowed for that
for them to do essentially they run into
security violation exceptions so when
they try to use the restricted api's
that fails so Android enables the use of
restricted api's through the form of
permissions so generally one API call
one permission although it's not always
map like that and so the default policy
is that by default you know an android
app cannot adversely affect this is the
user the system or other applications so
you cannot compromise users privacy or
integrity of their data cannot shut down
the system cannot kill other
applications is because it feels like
King deserves all the system resources
the actual permissions are you know are
typically built like this and want a
poor a framework defines the permission
and protects the resource and and your
application wants to use that app in
order to be able to access their
resource this is what generally the end
user sees when they're about to install
the application and again yes it's true
that you know maybe too much emphasis is
placed on the fact that users know what
the heck they're doing but and yes it's
true that there's no curation process
but you know
the way google deals with this is you
know first of all they try to link the
original you know a develop or the
application to the to the to the account
that was basically used to register the
developer to the credit card it was used
at a time of the registration so that's
how they essentially establish the
identity between the application that
runs in your device and essentially
there hopefully the person that's
submitted it so so yes it's not as good
as having real certificates but it's
still better than nothing also in terms
of the curation Google now has this
google bouncer service that tries to
essentially simulate running apps in
this you know environment and look for
signs of bad behavior and try to you
know weed out bad men malicious apps
before they actually get distributed to
their market and then on top of it they
do have a kill switch so if you are far
too you know I've installed an
application that's you know not good
they can remotely uninstall all right on
top of it they provide you know as of
obviously the latest plat for they
provide you know full full data
encryption so your entire data partition
for example can be encrypted they have
they have different levels of user
authentication they have different you
know VPN which will guess we'll talk
about security models so you know it's
definitely be approaching the realm of
essentially good enough for the
enterprise but not so much you get just
the enterprise the actual US defense
industry the DoD and the likes are
definitely interested in Android and and
if there were some inherent flaws in
ever itself you know they would of
course you know have been you know who
do something else why are they
interested it's because it's so open
it's because it's so customizable
because they can go on you know add
their own security policies that feel
you know work for their particular needs
so call your nice asked about the file
system so the file system on android is
quite different than or organized quite
differently than on lenox right and
notably we had three partitions we kept
the data partition we have the system
partition we have the SD card partition
for the most part the system petition is
read-only which means that you as a user
cannot modify anything so this is
essentially simulates the device being
locked down just like when you get you
know a laptop issued by our IT
department you there are a lot of things
you cannot do on it so essential
the carrier is your IT department they
log down the device and that's why the
file system is organized the way it is
so system is what the OS is it's kind of
like your seat come back such windows
and it's off limits and then all the
user data essentially lives on its own
partition so it makes it easy to wipe it
out if the device gets lost or stolen
etc etc let me just mention two more
things here is first of all the sdcard
partition oftentimes the simulator and
follow the data partition and yes
there's also DSP the cache practitioner
there's also the boot partition do not
give us any of you specifically see but
it contains your kernel in the language
or the process but what's interesting
here is that you know different OEMs can
actually compute make a huge improvement
to the default security model just by
playing around with some of the
low-level services like for example you
know a lot of the chips these days
including the Intel's chip for example
have this trusted boot option where
essentially you know they can make the
device boot in a way that every stage of
the boot process authentic is the next
stage so that you know you're putting
into trusted hopefully unrooted
environment right so that enables your
device to be way way more secure also in
terms of for example dv8 which i
mentioned previously there there's an
effort DOD to enable something called SC
android which is kind of from the
selinux folks that at NSA they're doing
similar sorts of efforts for the NC
android to make it almost impossible to
essentially circumvent a lot of the
security policies they are currently
scattered across the android you know I
guess file systems if you will and try
to centralize that and impose those
policies so that we have a way more
secure environment without actually
compromising the way we as developers or
you know approach writing applications
so these efforts are possible and
Android again because it's so open and
because of the choices that Google you
know took when designing it a couple of
things in the enterprise early took just
mention so good luck has been addressing
enterprise needs they have been working
on features although these features than
to be not sufficient for the
enterprising basically the takeaway from
this is that
that the planning that Google is putting
into Android is really good but it's
just that it's it's plumbing so if if
you're you know end user and then to
present user you don't have everything
that you need to roll it out to your tea
organization and it's unlikely in the
future that Google is going to do a lot
more than focus on planning Google does
acknowledge that enterprise is real and
that there's a lot of money in
enterprise but their focus is basically
the consumer and they're basically they
see themselves as the ones that set the
plumbing for the Empress and they're
letting other third party companies fill
in the blanks so that's essentially what
we're seeing in the ecosystems there are
a lot of third party companies filling
in the blanks and that's kind of how the
ecosystem works and it's you know it's
11 way since the works work pretty well
VPN we mentioned couple a couple of
couple times VPN is one of those things
that the plumbing is there but it's
useless for the most part because
there's no support for VPN that
corporate America uses which is usually
Cisco juniper or something like that and
again they couldn't include it because
of the license same old same old right
but what they did again just like in the
media case is they let the slots open so
essentially a third-party OEM can go out
and license that cisco VPN the Juniper
VPN and basically just plug it in so
again it's Android design in such a way
that it's licensed friendly yet
pluggable sort of architecture in this
case so it's interesting as a ice cream
sandwich is actually possible to plug in
VPN proxies if you will inform apps so
this is think this can be done on the
consumer devices not not necessarily
hard the traditional it's been you know
someone like sensing would make or may
go up to say Cisco and whites of their
VPN solution and make it into their into
their particular say galaxy s in the
case of you know Ice Cream Sandwich and
beyond it's coming a lot more friendlier
to be you know to bring your own device
to the enterprise and then be able to
install this software to essentially
enable you to participate in the
enterprise ecosystem couple things about
information about the markets really
quick from the get-go Android was
designed to be multi
in market ecosystem right although it's
more I know alagappa right now we have a
couple of the big markets the google
play whatever they call it this week and
and the amazon market that's becoming a
more significant what we're also seeing
is emergence of a lot of sort of booty
kilo bizarre mark markets so a lot of
enterprises are launching their sort of
carriers and so on so basically although
you mentioned that you know google is
not doing a lot about the curation in
their own market they just want the
number of apps other markets are
emerging and they're providing different
curation policies so that's what we're
seeing in ecosystem one thing that we
kind of wanted to mention is the
fragmentation used to be a dirty word
you know everyone asked what about
fragmentation in android space and right
from the get-go and android had the
compatibility test suite and it was
designed specifically for this purpose
this is this wasn't a significant in
early babli is now but it's actually
helping quite a bit to keep the apps
running across all those 800 plus
devices so we have half a million apps
800 plus devices and for the most part
things work which is awesome you know so
that's the holiday adjust the
fragmentation or there's issues with
that like you know writing opengl games
that's always going to be an issue but
for the most part right for the vast
majority of android developers
fragmentation is actually not that big
of a deal for the most part if you stick
to the best practices which is very
important things tend to work well
what's also interesting is the android
is specific address in fermentation
issues like for example by forcing the
manufacturers to support say the
photographic team so that you know their
vocations can work behave consistently
across the range of devices as well as
you will see with their Nexus effort
going forward there you know you know
essentially expanding the Nexus devices
to try to cover the different cases and
have a much broader you know set of
reference devices that others
essentially can replicate so one thing I
want to so speaking next is so in the
early days we saw the bear hugging sort
of like working with 10 a.m. at the time
then Google sort of started rolling out
its own reference brand which is the
nexus brand of devices and they're
coming out
the whole bunch of devices so so that's
basically their effort to kind of just
not necessarily make money but show
what's possible in the realm of the of
you know android space and lately that's
sort of taking it to another level
acquiring an orion becomes annoying
themselves although it's not official
right but we can we can talk about it so
so that seems like it's going to go
through so that's that's sort of a third
leg in the in the providing and you know
a reference device a vertical integrated
solution out there and so so a couple of
things that actually occur mine too so a
couple things that i wanted to mention
is how we're doing so far so you guys
have seen the numbers this morning in
the keynote dara when we measured up a
couple times so far it's basically
everything's just going up up up so
things are things are doing really well
in terms of the growth both apps and
users and money that people are making
so these are some recent numbers in
terms of the the activations and so on
but we you guys gather just for that 300
million devices 850,000 activations per
day and this is why the way does not
include the Kindles yeah and oh and by
the way also what's interesting is that
on the on a tablet front the the you
know even though you know it was offered
a very small small start and we thought
tablets are starting to show significant
you know dent in the apples you know
share that tablet market yeah so so
finally what we wanted to kind of just
wrap up with is are some of the
predictions so what are the things that
you know you can look at given all these
DNA elements of Android when it came
about the way to put together what does
it really mean what's the what's the
long-term advantage why xandred going to
be different five ten years from now and
I'm not going to focus on feature by
feature comparisons with other operating
systems because that that may change
from one release to another but really
sort of the deep down DNA differences
and it really comes down to Android is
open right so what is that what does
that open is give us as
managed over every single other
ecosystem and if we cannot boiled it
down into couple of choices it means you
can develop new devices the advices that
came nothing to do with the phone that
Android was initially designed for right
so you can develop cars planes there was
a there was a satellite nasa launched
one of the cheapest satellites ever and
the most powerful ever tractors combines
there's a barge in the North Pole the
transfer nandroid so lots of devices
that don't even look like Android there
are different uses so you could have a
standard of the shell device this was
actually a requirement for dr d and for
a lot of public safety agencies they
just want to use off-the-shelf device a
consumer device but they need to highly
customized the operating system right so
if you're a life or death situation you
don't want your phone to be you know
uploading your gallery or processing
your your media or check your facebook
status right so you kind of need to
customize the the behavior of the device
specialized verticals so again so these
are off the shelf devices and all of the
shelf standard uses but android kind of
place a nice role in that so for example
kindle book readers point-of-sale
terminals billboards etc so these are
these are things that are kind of
interesting in the end Royd spaces we're
seeing a lot of new development in the
future so ultimately we don't really
know you know what's going to be
released next not even when it's going
to be really started in what it's going
to be cold no we do not see jelly bean
or do we do is it has been us did you
see the grameen he booked up this device
this morning and two DDMS and actually
showed jelly ok well there it goes they
leaked it unofficially this morning
right here oh so but ideally this
openness really means that you know it's
breeding ground for innovation so that's
kind of what's exciting about Android
into space look we're all innocent so
yeah I mean it seemed so do so again
coming back to that point and we may not
know what is going to be the next big
thing you know in the mobile or in the
embedded or in the consumer technology
space but one way or another it will
most likely happen
and that's essentially what Android
enables it's the breeding ground
essentially for innovation you guys are
in the middle so that that's why I'm
personally excited about Android cool so
that's basically all that we got for you
so thank you guys thank you for sticking</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>