<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Fundamentals Training - Tools | Coder Coacher - Coaching Coders</title><meta content="Python Fundamentals Training - Tools - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Fundamentals Training - Tools</b></h2><h5 class="post__date">2011-11-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/DOQi5MeOFfM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so we're going to do some tours of the
standard library this afternoon and look
at a few useful modules although our
tours can be relatively quick and short
and also want to do one run-through of
tools make sure I do that fact I might
do that I might do that first let's do
the tools first so i make sure i don't
forget so tools i use every day and I've
already got most of you set up with
ipython and I love ipython for just
playing around there is a pdb equivalent
to ipython you may have noticed if you
run some PDP sessions at PDP's pretty
bare-bones there is I PDB you can get it
with easy install and I pdb works just
like pdb but has a few additional
niceties like tab completion and syntax
highlighting and that sort of thing so
as you're exploring your code printing
out your structures and whatnot it's
just a little bit easier easier on the
eyes and easier to read and it's not
related to ipython in any way shape or
form but it's the same thing as a
ipython to the shell and IP db2 pdb are
pretty equivalent and easy install we
also talked about easy install easy
install is a Python program that
provides you with a command line tool to
install other Python programs and easy
install is hilariously hard to install
you need to go download it extract it
run it setup or maybe your operating
system packages it yourself which if
you've got a nice operating system it
does or they provide a executable
installer for windows once you have easy
install what you have is a command
called easy install and it takes
packages to install you need to know
what you're looking for you can specify
versions with an equal sign so if I
wanted to get a specific Django version
I could say Jenga equals 1 point 0
and it would find Jenga one point 0 for
me notice I'm trying to install easy
install right now and it gives me a
permissions error so the default thing
easy install does is it installs to your
site wide system packages and this
raises kind of an interesting question
what if i want to have genco 1 point 0
installed and also genco 1.3 installed
then when I dude Django import Jengo
which one do I get I can't have more
than one version of the same package
installed at the same time they've got
the same name they clash so it would be
nice not to be installing packages
especially ones that I'm going to try
out or especially ones that are just for
one particular script into my site wide
system packages library which is what
easy install does by default we can get
around this with a tool called virtual M
stands for virtual environment and
virtual M is basically a bash script or
a Windows batch script depending on your
OS that sets a bunch of environmental
variables and fakes python out so that
python looks for and installs things to
some place other than your system
packages directory and you can use
virtual m fits a commitment it's a
command directly and I'm going to do
that now to create a virtual end that
i'm going to call it labs and you'll
notice it says it put a new Python
executable in labs slash bin slash
Python it installed setuptools
setuptools is actually the package that
contains easy install I want to look at
my current environment right now I can
see I've got a directory called labs and
I look in labs and i can see i have a
bin directory and include and a lib i
can activate my virtual end from here
by saying source labs been activate
don't pay too much attention to this let
me tell you why easier way to do it in a
second but you'll notice that it changed
my command prompt to say labs that
indicates that a particular virtual
environment is installed and minute ago
when I tried to install jingo it said oh
you're not root so I'm not going to
install it in your system wide site
packages
now when I do it easy install respects
my virtual environment and it installed
for instance the Django admin script
that you use in the bin folder of labs
it installed this egg which is the kind
of zipped up distribution of Python
files not in my global site packages but
in my labs site package and as long as I
have this virtual environment open I can
access Django but once I turn it off
there is no Django installed in my
system site packages and I can't import
it and what that means is every virtual
M is distinct and I can install a bunch
of packages and some of them have bugs
and they're different versions of the
ones i want and i can just nuke it and I
didn't mess up my system I didn't
install competing packages in my system
I didn't change anything at all about my
system just now so that's really handy
there's a helper script that is virtual
n rapper this is a project of Doug
Hellman of python module of the week
fame and virtual m rapper simply
provides you a bunch of convenience
functions around virtual m so for
instance instead of saying virtual m
flabs here i'm going to say make virtual
in lab it didn't put it here it puts it
in a dot directory in my user folder
which I can I can change if I want to
change with the preferences file it
gives me a utility command called work
on and when I work on I can see I've got
several different virtual ends defined
those aren't directories in my local
path those are virtual ends I've made
with virtual in wrapper so i was using
do plis
which is a Python written encrypted
backup program and I installed it in a
virtual mm so I wasn't sure which
whether I wanted the development version
or the stable version same thing goes
with rst to PDF a bunch of tools for
converting a restructured text to
various other formats and I'll say lab
and you notice it activated my virtual
em for me I didn't have to do the whole
source bin and activate whatever thing
and if i wanted to work on a different
one I could just switch and as usual I
can deactivate and again the benefits of
virtual em are you don't have to be root
you can install things in a user
directory you don't mess up your site
wide Python install which it is entirely
possible to install packages that then
make every single instantiation of
Python bomb you don't want to do that
and it just gives you a scratch
playground so useful tool I use that all
the time both for development and for
deployment other tools i should mention
it is because it's basically just
setting a bunch of environmental
variables so it's not actually you know
using anything different it's just doing
some some path mingling and you can
achieve a lot of the same effect by like
importing sista path and adding a
specific path to say stop path and
manually passing a dash dash prefix
argument too easy install you know
there's ways to do everything it does
but it hides it all inside of some bash
wrappers for you and yeah it's I I every
client that I have is on production in
virtual ends right now so including
people I'm not in charge of production
for it's a well-established Python tool
yeah so you missed that a tiny bit
virtual em we'll make we'll make a new
invite on your Python environment for
you and then there's another program
called virtual in wrapper which is by
Doug Hellman and it'll automatically
create the virtual ends for you it kind
of hides their location it doesn't put
them in the current directory and it
gives you that whole menu thing where
you just say like work on and with tab
completion I can see that I've got
several define and I can pick which one
I yep yep
Pepe pie I wonder how I'm doing let's
look at some code
here's classmates number nine and I
don't remember exactly where I was in
this but i'm reading from a csv file up
here at the top not inside of a function
or anything I've got functions of saved
two files display a list from a record
get a record gray record at a record
everybody else has code like this right
filter by a role I'm storing my menu in
a dict with tuples of functions and
descriptions and I have a endless loop
in Maine all that code should look
really familiar to everybody
yeah that's not too bad so I run Pepe
pie on my file my Python file you can
install pep eight let's see if this is
true notice I just tried to work on Pepe
there isn't one it tells me what to do
automatically activates it when I
created it this is the virtual improper
deck hellmann's script and can I easy
install puppet yes I can so if you have
easy install installed you can get pep
eight trivially I think I actually
downloaded the development version of
Pepe and have it in my user bin
directory but whatever let's look at
that listing again classmates nine dot
pie it only has a few comments on line
15 it specifies the warning or error
number for each one and if there are
some places where you disagree with Pepe
or the coding standard of the company
working for is different than pep eight
for instance pep eight expects you to
have no lines longer than 80 characters
and maybe the company work for says hey
everybody has big monitors you can go to
a hundred characters and you can disable
specific errors or warnings in a config
file or with command line options that's
what the identifier is for but tells me
I've trailing whitespace on line 15 and
it's true I'm going forwards there and
you don't see the characters because
their spaces but you know that I can go
the four spacious I'm going to delete
that line and hit enter we save my file
and run it again okay that one went away
now it's complaining about line 16
expected to blank lines found 1mon line
16
and the pep eight standard by the way is
you can only put you only need to put a
blank line between functions it's kind
of hard to read if you cram your
functions together like that then I
clear sense of separation so you need a
blank line between functions and two
blank lines between classes and I think
it's two blank lines here is to blank
lines between procedural code and the
start of my functions and I probably
ought to put all this in a function
anyways but as in the middle of things
it's going to complain about lots of
trailing whitespace so I'm going to
delete all my trailing whitespace and
see what it says 23 and other two blank
lines found one hmm maybe it does want
to blank lines between every function I
was thinking it was just one between
regular functions you know what it might
be one between methods in a class and
also line 62 a different kind of error
white space before comma
I've just been adding some spaces so the
line count is off slightly but look at
this Python style is commas in a list
are butted right up against the object
that they're after but then there's a
space before the next one just like
English syntax so if I take out all the
spaces it ought to complain about that
yeah missing whitespace after comma so
it's being totally anal but it will
verify that your code is all formatted
exactly the way it's recommended by a
pep eight so useful tool just a style
checker and I don't use it that much
there's also pilant and pilant is not
just a style checker it's kind of a
quality of code evaluator it's also way
more verbose and so for instance it says
invalid named classmates it's
complaining about my file name and its
opinion is modules and classes are
supposed to be named slightly different
than regular functions and expressions I
disagree and I believe you can suppress
specific specific warnings with pilot
but I forget how to now because I
usually just do it in my config file it
doesn't have much else to say violent
doesn't have much else to say here it
runs a duplicated line checker which
will detect if you've been like copying
and pasting the same function repeatedly
throughout your code and is usually a
sign of badly written code so that's
kind of useful it also catches things
like general quality I have I don't have
docstrings in everything I don't have
any comments at all not many empty lines
they're just kind of raw metrics
and also basically tells me what i have
i've got a module there no classes no
methods interesting lee says that there
are no functions i'm not sure why that's
messages by category pilot is kind of
useful written or it's kind of more
useful run on large code bases and
sometimes will detect duplications in
code which is usually a you know they
used to be this function and we renamed
it and wrote a new one did never take
the old one out which is usually a
problem of some kind so I do run pylant
a little more frequently than I run Pepe
because my code is mostly Pepe compliant
anyways that's it for tools and the
important ones the important ones are
easy install in virtual em and if you
have a saying operating system it may
offer to install Python packages for you
for instance I'm running I'm running
ubuntu here so i could probably see if
my package manager has Django packaged
for Ubuntu which it does in fact and I
would strongly recommend against using
operating system packages for any Python
package you're going to do development
work with because it will probably put
it in a non-standard place it probably
is an older version like it's really
hard for operating system that has a
like Ubuntu that has a release schedule
I'm on a long-term stable version at the
moment I believe of three years to have
like the latest in greatest in soft when
you probably want the latest and
greatest version of Django if you're
going to develop against it so don't use
the built-in packages for the most part
get easy install use easy install and
don't install packages system-wide
unless you know for sure that every
program you ever write is going to want
to use that package or alternatively the
installation process is really really
painful so my one exception to using
easy install is Python imaging library
which is a graphical manipulation
program you can use to resize images
among hundreds of other things and it
involves a see compilation step that
takes a while so I install that system
wide and then I install everything else
in virtual ms what I'm working on things
oh and I and also the Postgres database
driver I installed system wide again it
is a complicated install I just like to
do it once
but especially I think it's pure python
code you might as well just download it
and put it in the back in a virtual end
know so you don't have to worry about
this on Windows but unix and Mac have a
built-in listing of programs that you
can install for your operating system
automatically go and download and
install them so blunt to that I'm using
has a command apt-get that will if i say
apt to get a program name it'll
automatically go download it it's been
packaged for ubuntu i'm pretty much
guaranteed that it'll work appropriately
I don't have to go download like a
executable installer or anything and
that's a great feature I mean if I want
a new text editor i just installed from
the command line but don't use that
feature that great feature don't use
that for Python libraries and in the
case of Windows you don't have to worry
about it anyways because Windows doesn't
have that great feature built-in so if
you use ubuntu in general don't use
Ubuntu's so 12 has a no I'm talking
about your operating system yep so you
might have used like synaptic on ubuntu
and synaptic it's great for installing
programs but don't use it for installing
python modules
and last advice is everybody ought to be
running Linux and I guess you could fall
back to Mac if you really had to
so enough about tools um and those are
on all the tools i use obviously a big
fan of Emax and there's a bunch of Emacs
integration stuff that i could talk
about for forever but those are the
python specific ones that are
cross-platform you can use them no
matter what your editor operating system
or area of area of work is let's do a
opt parse sample and if you want to add
some options either to a toy script just
to see how it works or to your
classmates file you can do that and
we'll see how long this takes and I'll
circulate again and see how people are
doing with their labs and is anybody
planning on leaving early today every
was gonna be here till at least like
four okay cool i'll put up the i'll put
up the survey thing here in a little bit
but you don't need to take that till
you're getting close to leaving but i do
want to make sure i don't miss anybody
that so we've already demonstrated one
method of seeing your command line and
by that I mean how your program was
invoked from the command line with
Python
so if you import cysts and you print
sistar GV you get a list of all the
command line options to your program and
as it happens the program you're
actually writing is Python and my Python
script is the first option if you do
things like this
let's just do those two sis that RV does
show them to you now I've got three
command-line options on my program the
name of my script a string and another
string it doesn't actually parse them
out for you it's extremely common for
console users to use programs that have
tons of flags and arguments to do things
we've already been doing that with
Python a little bit we briefly discussed
the dash mne switch and you can say
Python dash mne pdb and it'll start PDB
when it starts running my script so
that's a command-line flag the Python
yes so that so obviously nothing's
happening right now but I'm just
imagining what options you might want to
add to your classmates and you might
want to pass the name of the file that
you're going to read and write data from
as a option you might want to use backup
to say when you go to write save a copy
of it first as you know filename about
foo one CSV before you write to it I'm
just I'm just guessing at what sort of
options we might want to add here and
demonstrating that the sister Olga V
doesn't do anything smart at all it just
breaks up by spaces the item is that
it's past and gives you the ability to
see them and if you want to
intelligently test whether or not a file
name was passed to your script and
you're just using sister GV you'd have
to look and see if there's a dash dash
file name equals in any of the strings
in the list you know parse about
yourself and that would be really
painful and annoying I was going to say
that Python also has a dash V command
that dumps a bunch of debugging and is
occasionally useful when you're curious
what library it's loading automatically
or what libraries are being loaded and
it tells you all that as well as its
version so option parse up parse is the
answer for parsing your arguments and I
should note that opt parse is deprecated
as of Python 2.7 it's included if not
going away you can feel free to write
against it and I'm going to tell you
about it all my all my deployed Python
code is on 2.6 or 2.5 have some stuff
that's on 2.5 because that's still
standard on them sent OS so I haven't
switched to argh parse and OGG price is
similar to optiparts basically they just
wanted to break backwards compatibility
and wanted to leave all parts the way it
is so all parks won't go away and I'm
going to show you how to use all parts
right now and the way you use octoparse
basically is got to import it you create
a parser you add options to your parser
and then you give you ask your parser to
look at the command line and give you
back all the arguments and all the
options that were passed and for free
you get some nice functionality so let's
say this
and worth noting module docks and a
simple usage example is available right
from help you don't need to go any place
else to figure out how to use it
you
and all we're going to do is make
ourselves an opt parser ask it to parse
the args it returns actually let's catch
it it returns a tuple and we're going to
print the tuple so we haven't added any
intelligence whatsoever
notice the default thing is the tuple is
a dictionary and a list despite the fact
that we have one argument as far as
cystic v is concerned we have no
arguments as far as option parser is
concerned it figures you don't need to
know the name of your script probably
and the contents the tuple are enough to
let us know that we're going to get back
options which are keyword named and args
which are positionally named
if I now try to pass some options notice
the first line is my assists that RV
being printed and I now get a helpful
usage string now not so helpful yet
usage toilet pie options and then error
no such option dash dash filename and
what all parse is basically doing is we
specify what options it is that we
accept the ones that we specify it will
search out and parse for us and anything
else it will consider to be an error so
let's specify some options and I should
note almost anything else if you do dash
H or dash dash help if your program is
using option parser it will print out a
help message which you can customize
obviously and so you get one option for
free and dash H and dash dash help our
standards on the console command line of
most of your Linux commands except
probably the really old ones what if
easy install has a dash H yes it does i
say eating installed a Shh or easy
install dash help and it shows me all
the flags that it accepts so let's add
some options to our parser we add
options just by specifying how they can
be passed and i'm going to specify two
ways for all of them which will give me
a nice fluent command-line interface
let's just do that much
and our two but one away so print it out
okay now when I say tight up PI dash F
toy CSV the first line is again sis dark
V is separating everything by spaces and
it sees the space between dash F and toy
dot CSV so if you were parsing the
sISTAR V and you wanted to accept just a
single dash flag you'd have to look for
successive arguments you're parsing job
would get to be a little bit complicated
notice I didn't say file on the command
line but option parser knows that dash F
and dash dash file indicate the same
option handles the space and goes ahead
and sets a keyword in my dicta vons
you
so that simple
if an option exists it's the options
represents as a dictionary but I can
access it as objects so just dot
notation if options dot file the add
option function takes a bunch more
things including I can coerce it to a
data type so like if I want to get
integers past say I want to say quality
because I'm writing an encoding script
I'm going to have to convert that to a
number i can specify in my option that
it should be a number and not only will
it convert it to an int but it'll also
complain nicely if the user passes a
non-integer version it's also smart
enough to add the options i've defined
to the usage let's say dot help and now
and just because we've seen that enough
want to take out the art V and now it
says I still haven't customized my usage
string and I still haven't customized my
help message at all what it does note
that I take option F file or dash dash F
equals file and I should demonstrate
that I can do either style of option
handling and the result is identical so
command line programs frequently take
either a single character in a dash
which represents a flag and very
frequently doesn't have a value but
confusingly sometimes does or more
understandably I think more widely
approved of is two dashes and name
equals value
that's being defined by me so the
options that you want to accept can be
anything that you want the only one that
option parts are forces on you is dash H
or dash dash help and you can't define a
dash dash help option yep so this
command right here I said I'm adding an
option and it is dash F or dash dash
file and it specifies I can accept dash
F and it gets the name from the dash
dash F if I didn't specify the dash dash
F part I think this is an error yeah
there we go notice I didn't specify the
dash dash F and in this case I get a
runtime error i'm getting my options
file that's all
there we go in which case the name of my
option is just dash F if I provide a
long name it'll use that by default and
I'll also use that in the help if I just
provide a short name it doesn't really
know what to call it it's just capital F
which isn't very helpful or informative
so it's always nice to provide a name
for it you can optionally say dest
equals file which will give it a name
you can see now it says dash F equals
file instead of just capital F but I
never bothered with the destination
because I always allow either short or
long opt passing style you can also
there's just a couple of other things
that might be useful you can define a
default so you can even skip the whole
if there was a file then you know that
there will always be a file past in
either the user will pass one on with a
flag or you'll optionally get the
default you can also we talked about
storing types you can also define the
action parameter and action by default
is store which means create an option of
name long option type or destination and
put whatever the user typed in there
converting it if I specify the type but
action can also be things like the store
true in which case let's add a store
true option here
now notice again I have an additional
line and my help dash B or dash dash
back up no equal sign because I
specified store true what store true
says is the user isn't going to pass a
value he's just going to pass the flag
so no value but backup equals true no
value about backup equals true and this
is in fact it would be how I'd want to
use this i might say file equals toy dot
CSV and backup and I don't want to say
backup equals to I just want to say
backup or more likely once i'm used to
using this program i'd say something
like chef toy dash be sorry for the
highlight there and again just from this
much chef toilet csv be it can say that
i do want to make backups and that the
file option was passed in is to a csv
and arguments are positional so anything
after your flags without dashes are
positional arguments and if the file
option was mandatory like we didn't have
any sort of default
then I probably wouldn't make the file
be an argument and I'd probably make it
be I wouldn't make it be an option I'd
make it be an argument option parser
does not I don't think let you define
your arguments only define your options
but of course if I could type I could
fix that
and my program would complain if I
didn't pass it a file name as an
argument okay super simple I've only
added to my program four lines of code
and then to handle my options I simply
say dot notation it's an object and the
only other thing I should show you is
that you can customize the usage string
and it has kind of a funky format
mmm not even using my usage
there it is it didn't like my format 40
and that's what it is it does provide
the usage argument automatically
nowadays
okay so that's slightly more
user-friendly as I customize the usage
line to say this is how you're supposed
to call the program
so it's kind of counterintuitive to say
you can make user-friendly command-line
programs because hey it's still a
console but you can make somewhat
user-friendly chameleon programs I
describe how to use themselves they show
a listing of all their options that you
didn't have to write as generate
automatically for you they make sure
that what the user is passing are
legitimately to find options and
arguments and make it easy for you to
access those values so if you'd like to
work on option parser you could go ahead
and add an opt parse front end to your
classmates or feel free to just work in
another file and play with it but hey
the file makes sense and you might also
try a backup flag which when you write
with make a backup copy of your CSV file
before you right over top of it and i'm
just going to circulate again and see
where people are at in their labs</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>