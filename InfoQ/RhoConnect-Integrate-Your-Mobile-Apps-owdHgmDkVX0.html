<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>RhoConnect: Integrate Your Mobile Apps | Coder Coacher - Coaching Coders</title><meta content="RhoConnect: Integrate Your Mobile Apps - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>RhoConnect: Integrate Your Mobile Apps</b></h2><h5 class="post__date">2012-07-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/owdHgmDkVX0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so I'm here today to talk to you in more
technical detail about ro connect so Rho
connect is those of you that have been
doing mobile for a long time we'll think
of ro connect as oh that's the sync
server those of you that have been doing
mobile for a while it's been well
accepted that you need to have a
synchronization server so that your apps
can use data even when they're offline
with ro connect we've really tried to
change the game in sync servers we've
tried to not just give you synchronize
data but actually in the process of
getting that data down to your device
actually make it easier to write apps so
that was always been the goal make sync
server instead of this arcane black art
which is what it's always been make it
something truly easy really change the
game and so even though we said that and
we even talk about that was actually one
of our partners para Veda are Stephen
pillow or columns in the room um so that
pointed out to us hey we're using this
on a lot of customer engagements and
we're really finding that it's it's just
an easier way of doing things and even
if customers don't know that they need
synchronize data or need offline data
it's just an easier way to do the app
integration so I'm going to try to
emphasize that I hope you have that as a
takeaway even if you're writing within
the four walls apps where you believe
hey I don't need synchronize data I
think that hopefully you'll feel at the
end of this that we've truly made this
whole process of integrating to back-end
apps much easier so with that said um
this is the typical way that the sort of
environment that row connect will play
in we've talked a lot about row elements
and so r 0 elements you'll have a nap
and as you saw in Rob's I think most of
you were
Rob's quote that's going into I think
most of you were in Rob session where we
talked about how to write a row elements
app where you'll have controllers and
you'll have views that you write as HTML
templates and so that's this is your
whole picture of row elements you then
have the two ways to integrate to the
backend apps you can either connect
directly and I think you showed an
example of doing that and that may be
the way that most of you are doing it
from your iOS apps your Android apps
you're writing a bunch of code you're
connecting directly you retrieve the
data typically you do need to put it in
in some kind of cash so you'll store it
you'll parse through the data you'll
store the data and then you'll use the
data and what we're seeing is in a lot
of enterprise apps especially enterprise
apps that that's a large percentage of
their app code typically if you're using
some kind of UI framework or styling
library with roads you're not writing a
lot of code to do the UI widgets you can
use most of that stuff out of the box
HTML is drastically reducing your UI so
if you if you do this you're going to
write a lot of your code there in doing
this work so we certainly support that
within row elements row connect is not
required every once in a while we'll
have people say oh I'm not sure if I
want to use this middleware server I've
got enough middleware floating around my
enterprise what we're saying is that's
fine you can do that and we support we
actually do some things in row elements
to even even without row connect to make
it a little easier but there's a
different model where you say row
connect all real connect handle getting
the data from the backend app store down
to the device on this object relational
manner manager and then we've actually
reduced our app code because the app now
in your controller you're writing code
that then just retrieves from the ORM so
you're not doing any parsing you're not
doing any explicit connections to the
backend system you just say I have some
data in my RM and now you can make
object calls like you know asset dot
find or a count dot find or
product new and your inventory app to go
in and create and read that data so yeah
as we mentioned you can use this async
HTTP library and row elements if you
choose that route typically you're going
to rewrite whatever web services that
you have you don't have to it's not
required I get to see one of the fun
things about my job sort of the 30
second introduction to what I do I used
to be CEO of roma bowl that meant you
know about half my job was not
particularly fun but half of my job was
working with developers finding out what
they needed and then specifying the
features that they needed and and saying
how the product needed to evolve and now
now that we're part of Motorola that's
all of my job so my job is product
manager for row elements and ro connect
I'm talking about about ro connect today
but I also love to talk to you
afterwards about your feedback about ro
elements um so in working with
developers and we're seeing a lot of
these people are a lot of developers
maybe that aren't even using row connect
if they're using row elements to connect
to that back-end system whether using
row elements or something else if it's
an existing back-end system and there's
a soap web service or an xml web service
you're typically going to have to
rewrite that to serve up JSON and rest
to make these devices do it do a decent
job of connecting to that back-end
system in a reasonable period of time
it's not that it's not possible there's
actually quite it's becoming quite
common a lot of companies will sort of
plan on okay I've got to go rewrite my
web services you'll retrieve the payload
you'll parse it using gates on duck
parse we even remember I said we do some
things that make it a little nicer
enrollment even if you don't use Row
connect we actually give you a
super-fast XML parser called row XML
it's syntactically identical to R XML
which is a ruby library but it's just
super fast it's optimized for mobile so
we want to help you do it if that's the
past you choose we also include the
eighth
in the async HTTP library there are
platforms that don't do asynchronous
HTTP well and we give you that and then
of course he'll you'll store store in
the database by looping through the
records and performing the inserts okay
now all that said will support you if
that's the way you want to do it but
there is an easier way and that easier
way is RO connect and so what that idea
is that there's automatic
synchronization this actually results us
sometimes hear people say hey our row
apps faster or slower you know as there
is a performance overhead Oh write once
run minute it's got to be slow and what
I say is a couple things one is actually
this is not a row elements talk to him
go into details but on Android it's
actually is faster due to the fact that
we use the NDK as long as it'll actually
be faster to do business logic then it
would be with Android Java but generally
in most platforms is essentially the
same but if they actually appear faster
and the reason they appear faster if you
think about what you're spending the
time you're spending on those spinning
wheels what you're what you're waiting
for is data right you're going through
the app the guy clicks on a link you
know he's the field service guy and he's
says okay I want to see all my tickets
for today right and he's going to wait
for that data to come down you know in a
well-designed app that uses row connect
that data is already there because the
synchronization is happening on a
background thread now by the way it's
the combination of Roca necklace
designing it well right you have to
think about taking people in a path
through through the app such that you
are doing those synchronizations while
they're looking at interesting useful
and form a that information so you do
have to design it well but given that
you're designing it well and you're
using real connect your roma by lap if
you will that's at least the ones that
are using row connect should appear
faster now some of you will say hey wait
a minute I can just use some other
synchronization and the answer is true
then it would be just as fast what we
see is
our biggest competition is not the other
sync server sybase antenna orc like our
biggest competition is people that try
to hack out their own and we can talk
about that later what what where people
usually fall down hacking out their own
or just don't do it you know just never
get to that point say I'll do it later
and so what we're seeing is for the most
part this is the difference between you
know sink getting done or not and if you
do sink you will not just have an app
that's more functional because it works
offline but it will actually appear
better and of course the programming
model is much easier because now in your
controllers in a robe was showing you as
controllers their their controllers are
not making sequel calls or data
retrieval calls it's just you're making
ORM calls so beyond that the benefits of
Rho Connect is easing back and
integration offline use these are this
is a just reminiscent of sort of a quick
highlighting of some of the bullets that
Mark pointed out on it is more scalable
because of the use of the no sequel Dana
it's not because we're smarter it's
because we used a rena stata base we had
second mover advantage right if you look
at the other sink servers they all rely
upon a relational database and that is
the bottleneck you go in profile what
it's doing you can you can watch the
spikes by process and you'll see what's
doing the work it's that relational
database server that's the bottleneck we
use Redis and it's screaming fast so
those there are I've talked to some of
you out there that actually are doing
competitive evals love to see your your
own measurements will talk about futures
for the next release our ad hoc
anecdotal data is that we're much faster
but we're investing a lot in the next
release in doing a very sophisticated
seven dimensional analysis of analyzing
all the various performance parameters
it is a non-trivial effort but it's the
way to sort of show definitively yes
this is this is definitely a much more
scalable system we also support things
like a metadata framework so we let you
handle changing schemas to back-end
systems that's a that's a key challenge
that people have is that every company's
system is different if you're an isv
your shipping so if you're a partner
that motorola partner and you're
shipping to an app to connect to
somebody's back end maybe they're all
using salesforce or sea bowl or SI p or
whatever and everybody's different how
do you handle that variation so we give
you a metadata framework that enables
that to be easy to do and it's even
helpful in one in a given company given
that their schemas for their backends
may change and we support bringing this
down to by default property bags which
means that as the schema changes and
enhances even without using metadata
nothing breaks this has always been a
problem and an issue in in mobile
software I need to have my little iPhone
prompt so I can always point to that but
this has always been an issue in mobile
software that unlike the web scenario
where everything's up connecting to a
central server in mobile software
there's something running here on the
edge and it's always been an issue that
as things change on the server it breaks
clients and that's sure if you have fix
kemah if you had used a property bag
which is what we enabled by default you
don't have that issue as new attributes
appear in the server they can just get
delivered to the client in this property
bag model which we use by default and of
course we do for support fix schemas for
other scenarios where property bag may
not be is good like large catalog
databases we also support conflict
management in a very elegant user-driven
way instead of giving you a lot of
policies we let you hook in your own
conflict management validation
capability so this is in more detail to
architecture and what I want to
highlight is a couple things that you
may not be aware of here the essence of
it is in order to make all this magic
happen of getting from the back end down
device you write a source adapter so
that's the essence of it and those of
you that have written worked with sync
service before that should seem very
familiar guess what everybody calls them
source adapters we didn't invent that
term but there's some other things to
point out to you first of all we ship
with some source adapters we ship for
most of the major popular CRMs so sales
for sugar crm oracle and microsoft
dynamics we don't ship with every object
believe we do contacts leads accounts
tasks and opportunities because that's
fairly common among the different CRMs
it's easy to look at what we ship and
and add more objects and we will do more
out-of-the-box stuff later not as a
major theme and here's why we would
consider doing it in partnership with
we're not app developers and going to
far down the out-of-the-box source
adapters is we don't want to be there's
a lot of Motorola partners here whether
you're an SI or an isv we are your
partner we don't want to be removing
your value if you're shipping an app
that works with sugarcrm we have people
have begun met with rum a bowl or
microsoft dynamics or Siebel we want you
to make lots millions of dollars selling
that app and we never want to stand in
the way so we think of the source
adapters is sort of like examples that
people can then build upon we would
consider adding other source adapters
but let's take the example of sa p we
probably wouldn't try to do every object
we would do SI p field service items or
timesheets something to sort of show the
way and provide a little bit of value to
ease the integration but when we're not
trying to ever be app developers so we
have that we also have something that
large will be going into in detail
tomorrow but I just and I'll talk a
little bit about today which is the
ability to instead of using source
adapters where it's running on the
server actually have a dins into your
own apps that you've written so you add
the server plugin to say your rails app
or your java app and then that app
becomes a synchronizing app
and we'll talk about some scenarios
where that can be helpful sort of is a
very unique way to slice this problem
today we're going to spend most of the
time talking about source adapters
because they're always usable whether
it's your app for somebody else's server
plugins you can only use when you're
allowed to sort of modify the app or add
a library source adapter however this is
also very valuable because source
adapters today we're saying hey do these
in Ruby it's very powerful tool for the
kinds of data transformations that you
have to do here though these server
plugins are written first of all you
don't write them but they're written in
whatever language you normally work with
Ruby uh you know c-sharp for.net Java
and by the way you don't even have to
look at the language right because it's
it's essentially written for you but if
you did need to extend it or modify it
it's written in it's in your environment
another thing that emphasize is a lot of
people think that row connect is just
for row elements or roads which is the
precursor of row elements but we do
support objective-c we actually have
several eyes these that have shipped
objective-c app some of them might even
be here today that use our objective c
library we support HTML Javascript lars
will be showing the server plugin from a
phonegap appt tomorrow and we support
android java as well so we're totally
committed to supporting whatever people
need we've even heard people had people
sable can you do it from visual c++ for
my windows mobile app I've tried to
steer people to the JavaScript client
for that so definitely want to get your
feedback and you can let us know whether
that works for that the idea is that if
we have a JavaScript client that should
work everywhere so the first step in
doing a row connect app is you're going
to generate a source adapter so what I'm
going to actually do is just jump in and
because I know we're going to be pressed
for time I'm going to jump in and do
that do that generation
yeah i don't i don't have the studio
just xcode so i'm going to fire up for a
studio
okay so
now what I'm going to do is I'm going to
say okay I want to create a new project
and I want create a row connect
application and will call this app form
and let's look here okay we got up form
so here is up my basic app and there's
really not much that's interesting at
this point I haven't created any source
adapters yet you'll see there is an
application class and this is typically
where I will do something such as hook
into the company's ldap to support
integrated authentication or hook into
you know some other service to do that
but at this point now what I'm going to
do is I'm going to say okay I want to
create a source adapter so i'm going to
say file new row connect source adapter
and i'll create a source adapter called
product okay so now I get a couple
things generated first of all I can go
to my sources directory and I get this
product source adapter and then I what I
also get is I get a spec so I get this
we're big believers in team we don't
force test-driven development and
anybody but we're big believers and test
driven development so Rho elements is
the only framework that i know of this
supports TDD with em spec and then we
have our specs here inside inside row
connect which is where we can go and put
tests in so we can like create a failing
test or say query and then and then add
the code to to the source adapter to
make it work so before we write any code
though let's just look at what we have
here with the source adapter um there's
really four interesting methods query
create update and delete so the idea is
by writing these four methods all the
magic happens I just write those four
methods and everything else happens by
default I notice that there are there
are a couple more methods one is called
sink notice there's no to do there and
so what that means is it turns out this
is how you over
ride how it's stored to the caching
database on the server which is Redis we
can ignore that there's no to do there's
also a log in and log off what that says
is it's not strictly required if you
think about when you do is think you're
creating and updating deleting objects
that are coming from the device right
and you're querying stuff the other way
you probably don't there's probably a
login call to New your back-end that's
shared in between the what you do for
query and create an update and delete so
login helps to put that common login
code it's not required if your back-end
doesn't require login you don't have to
put it in or if you just say I don't
care about that efficiency I want to do
the log in every time but if you have an
authenticated back end now this is
different than authenticating Withrow
connect itself but if ro can a cast will
authenticate to the backend you should
put that that common log in in the login
method now what I want to do is write a
quick source adapter that works with
that works with a theoretical back end
this is going to be a simple rest JSON
back end and so what I'm going to do is
I'm going to go to this thing called
roast or heroku com this is a if you've
ever done our tutorials you've probably
seen this site it's a tiny little rails
app sorry yep yep
it's a tiny little rails app that I
wrote on Heroku many years ago it's the
world's simplest thing but has gotten
quite a bit of usage so this is the JSON
feet and by the way if we just go here
you can see it's a little tiny rails app
but one of the nice things about rails
is typically like if we go to products
they'll be to get the list as a JSON
feed usage is a JSON but this could be
any URL but it's just giving me a JSON
feed and think of this as hey I just
have some XML feed or JSON feet and now
I want to connect to it so what we want
to do is we want to write code that's
going to go out grab all this data parse
it and luckily we're not gonna have to
worry about sticking in a database or do
anything else we're just grabbing it
parsing it and putting it into a
canonical form at now what is that
canonical format does anybody know quick
quick quiz what is the canonical form at
that roast row connect says take your
data from anything in the cloud and put
it into the magic format what is that
magic format hash of hashes right row
connect says everything in the world can
be turned into a hash of hashes so what
is a hash of hashes it's something it's
an associative array of associative
array so here's a simple hash of hashes
it says that everything is uniquely
indexed by you know some unique index it
doesn't have to be a number it could be
anything just it's got to be unique and
that's its key and then the values is
another hash that has another set of key
value pairs and you know is that
oversimplifying it you know I mean let's
put this way I've yet to see the thing
that can't be expressed as a hash of
hashes um does that mean it's the
natural format for for everything know
that you can obviously have things that
are more hierarchical and you will hit
that you'll hit all kinds of nasty stuff
up in the cloud that you want to turn
into this canonical format but I've
never seen anything that can't be turned
into that and the beauty is once you get
into that canonical
ashutosh this format then we take care
of the rest for you the whole thing of
like serializing it over the wire and
doing it efficiently and sending just
the changes and putting into a database
all of thats handled so let's go ahead
and write this we can go ahead and
delete this little note now and we
should remove the Rays exceptions right
because that means if we forget to write
it the road connects going to give us a
nice friendly air mattress says hey you
didn't give me a query method so I'm
going to do a couple things first before
I write this first of all so that's
where we talked about what we're
generating we're generating the sources
adapter name there is that settings
hamill which I didn't show yet but it
has some options like how often you
query that's the basic structure of a
source adapter it says to put some gems
in require to handle back-end data
sources now one if I've said Ruby's
really good at this data munging thing
one of the reasons is the first class
nature of a hash hash is in Ruby as a
language guess what you don't have that
in JavaScript you don't have that in
Java you don't have the ability to deal
with it excuse me not JavaScript in Java
you don't have the ability to to say
here's this language you have to create
like a hash table object so I mean it's
not that it's that hard to work with but
once you look at start looking at the
operations that you have on hashes and
erase then it then you start to say wow
there's really a lot of the stuff out in
the box and one of the things out of the
box is interesting useful libraries for
just about everything so these are some
of the most valuable gems so to speak
sorry that's less by one bad pun for the
afternoon the first one is required JSON
to handle JSON payloads on another one
is XML simple I'm hoping to have time to
show integration with Google Docs
through XML i'm guessing maybe not
require open URI is if you want to
directly connect to just a URL just go
connect to a URL and get it just a
stream back rest quiet is when you know
you're dealing with the rest client I'm
not going to integrate with this roast
or
with rest client because it's actually
making it so easy it's not showing an
interesting example if you really gotta
rest compliant client you probably would
use rest client the sample store app we
use rest client in there and that just
says it does the connection assumes its
rest and and makes all these simplifying
assumptions and so you don't you're not
like grabbing the data and taking it
apart and then there's saban for for
soap there's also no kagiri for large
amounts of xml data so if you're you
can't use rest if you can't use say if
it's not soap so you're not using
stabbed on and it's a large stream of
XML data XML simple can be a little too
slow but XML simple is a beautifully
simple API ok so now we're dealing with
JSON I'm not going to use rest client
even though I could because I want to
make it more interesting i'm going to
use open uri so i'm going to go back to
here and let's go in here and say what i
really should do is perhaps given that
Rob was dealing with demo God's is go to
just go to github com rhomobile store
server and this is all there but it's
sort of fun to code without a net so
require open URI and then require JSON
and so I'm going to say you are i equals
Brewster
calm / products JSON it's also a good
way to sort of make sure your step into
every line of code so this is the this
is what we're going to connect to and
then we're going to say response is open
you or i dot read right that's our
that's our raw feed that we're getting
back and now we want to parse that with
json.parse we're going to say something
like items equals json.parse response Oh
does that mean I'm timed out and that's
not good so items got each to-do item
and now I'm getting this stuff back and
I want to get it into this canonical
format right so I have to have some idea
of like how I'm getting this back so i
think it's going to be something like
this first of all remember Tash of
hashes and the hash of hashes is
returned and at result so here's the
empty hat right and now i'm going to say
at result and I just need a unique field
so let's go look at this and it looks
like it's got this like unnecessary
level of nesting where it says product
next everything so product and then is
so I'll have to say item product and
then I have to get a unique idea that
thanks train looks like there's ID and
there's sku even created at can be used
as anything that's unique so I'll say ID
so i'm going to say item product ID and
then on the right side is item product
okay so no it's not items because this
is our iterator I could say I in here if
I wanted to but that looks pretty good I
missing anything
on one to know
there's
I things isn't going to work so as long
as I have a network connection so let's
talk about how we test this so first
what we want to do is I'm going to go
down and i'm going to write the the
failing tests and what i'm actually
going to do is I'm actually let's see if
we can we're going to get this Wow three
okay i'm actually going to just I'm
going to crib this failing test from I
didn't crimp the the working code but I
want to see what we put in as a test
there so if i go to store server pierced
or server and there is a speck in here
and the spec for product we said it
looks like it actually did a create made
sure that it was of a certain size or
not I'm actually just going to take this
test query size should be greater than 0
and this is just some artifacts that you
always get within our spec so I like
that makes sense and no errors yeah that
makes sense and so what I'm going to do
is I'm going to go into the product spec
and i'm going to say that test query
shadow should be greater than 0 and the
errors is blank and notice that just as
pending for crate update and delete what
this is going to do is it'll lead that
as yellow because it just says I don't
have a test doesn't say it failed but I
just want to test this one thing and
this is going to be easier way of
testing then going and like writing a
sync client so now what I'm going to do
is I'm going to go to
humans work space and i'm going to say
rake rattus start i'm starting the
reddest database I don't have to really
worry about it beyond that and now i'm
going to say rake row connect spec and
it failed let's see what it's failing on
oh did I put my requires improperly
we'll see what it says spec helper let's
see okay so we actually failed on please
provide some code to read records from
it oh did I actually leave that in there
oh I forgot to save it that will
definitely do it okay so it's doing
exactly what it should do which is
saying I don't have any code and you
didn't provide any so I actually didn't
do a save and so now i can do ray Crowe
connects back and it works sweet Wow so
so this is actually working so before I
jump on and I'm going to show you how
you can test this from an actual app is
is what we're doing this is what we
wrote to make synchronization what this
is doing is it's going out grabbing the
data from this little back-end getting
the hash of hashes and then row connects
stores it in the reddest database and
it's actually ready for you know
millions of clients to start hitting it
and requesting data and it's going to
keep track of all the data they have and
the data they don't have and will
actually do is it will give them this
data which is the same as this data
which has all kinds of junk in it
because it's in our tutorials and people
we clear it out every once in a while
but people build it up with more junk so
is this making sense so far any
questions about what we've done so far
those of you that have done maybe the
way to do is to it by exception those of
you who have done sink projects does
this seem easier does this seem harder
does anybody think ok cool so the goal
here sorry all right try it that's all
that's all free to download and try so
okay so now we want to test it from an
out right so let's just write an app
which is also in a way too easy to be
true but you guys already know that
because many of you have used row
elements so we're going to call this app
forum client ok so now I may not form
client nope no I'm not yep good way to
catch me thank you Jim ok so I made an
appt form client and now i'm going to do
is I'm going to create a Rhodes model so
i'm going to say new is quite tricky
using this electron to write code ok so
i'm going to say new roads model and i'm
going to say product and every product
has a brand a name price and a quantity
ok and now what I want to do is provide
a link to this so I'll call this like
product
inventory now by the way I could do the
compile at this point I'm gonna have a
functioning product app that does all
the full crud but that's sort of cool in
it of itself that you have all this
automatic scaffolding but that's a demo
for another session so now what I'm
going to do is I'm going to go move on
from there and i'm just going to enable
sink so there's two things that you need
to do to enable sink can anybody tell me
what those two things are just two steps
come on i know there's some of you come
on partner sit back there there's two
key steps somebody call it out I've
forgotten so um yeah so we set the sync
server exactly makes sense right it's
got to know where this thing is now
what's cool is if we have row hub row of
will actually set up a sync server for
you right so it will give you URL you
just say deployed I could say I want to
deploy this to row hub and it'll give me
a URL back and I could type that in or I
could just use for now I can use my
local thing and my local thing will just
work like this so it give it's giving
this to me in a comment I just type this
in okay so that's sync server and the
other thing is we need to enable the
model for sink so let's go to the model
and we just do this at some point we've
got some of my engineers back here I'm
convinced that it probably better just
have it everything automatically enabled
the first think and it wouldn't be so
bad probably add some little bit of
overhead but anyway so we've enabled it
for sync with similar roe connect
servers so that and that should be it so
now I should just be able to say run run
configurations this is an eclipse ISM
that you have to pick the app app form
client
and we'll say android row simulator so
here's inventory now this link works I
can create products by hand and they'll
be stored and that's sort of cool it's
just the basic work road scaffolding
stuff but I should be able to log in oh
no I have to make my sin server running
and it was missing a step so now what I
want to do is say rake wrote connect
start so that's running now and it's
running on 92 92 so I didn't do any
member i didn't write anything of that
authenticate method so i could write a
little bit of ldap code i'm going to
show you that code in a minute i would
check that against your LDAP or whatever
you want so this is just going to work
right because I don't know if you saw
that code just said true which means
you're in so so now let's do this we
really should have reset the database I
think I confused I did things in the
wrong order there but let's go back here
log out
let's reset the database and let's login
okay well let's see I'm getting any
errors here ah
oh-ho yes this is actually really cool
haha it's actually working really well
anybody guess what the error is it did
exactly what it was supposed to do what
did i do before I tested it I created a
record so went and said hey you didn't
give me a method to go create a record
so it shouldn't do that now because i
just reset the database it's completely
empty and then it's just sink cool so we
did exactly what it was supposed to do
and it actually sink the data this is
all this stuff from the from the server
and the first time now I can go in
create a crate method and if I had done
that to start you know it would have
said okay you know I've created
something for you you don't want it to
you know not do the crate and just do
the query like you have to have a
logically consistent set of operations
if your app expects to support create in
your back-end should support create so
that's it that's the basic rest JSON
stuff working so talk about the query
method we've talked about the valuable
gems we demonstrated this if you want to
look at it more you can look at github
com robles store server I didn't use
that for two reasons one its it's much
more exciting to code without a net and
the second one though is I like to show
it with open you are I because that's
the more general case right who knows
what kooky format you have out there
this sample the store sample uses rest
client to make it even simpler you're
saying it seems too simple this was
pretty simpler simple the this example
though is even simpler because it says
as long as it's a standardized rest back
end I'm going to do even more work for
you okay so another example is from the
demo XML adapter I'm thinking I'm
probably not going to have I'm not going
to have time to get into this this is a
lab that i wrote that's out available to
all of you at bit ly /ro training
there's that doc file is out there we
will be supplying the slides after this
but you can
bit ly Road training in lab 6 does this
I think it's a very confined say so I
think it's a compelling example of
connecting to a complex XML feed back
end specifically Google Docs and it's
actually a lab that helps you build your
own issue tracker with a google docs
back end all using row connect and row
elements so check it out I think it's a
good example of sort of the power of it
but also dealing with sort of nastiness
this is a very simple clean back end
Google Docs is a wonderful product but
their API is just is horrible and and so
it's dealing with that nastiness so
testing your source adapters we showed
this I did ray Crowe connect start but
we now have the ability to do things
with these simpler commands as well I
just have these old instincts where I
like to use rake and I think that way
but you can also say wrote connect start
roken expec row connect detach install
if you if you're bundling up your app
you saw that we scaffold generated the
row elements app we enable the model for
sync we set the sync server parameter in
wrote config text you can also use stuff
with soap this is another simple example
if you just want to sit a quick soap
feed this is a longer class I would show
this this is a US Department of Interior
so feed and this code would allow you to
read it I had a question the other day
about support for sequel and it's
interesting we usually recommend putting
a web service on top end but we're
getting more and more requests for hey I
just want to go directly against the
database and the answer is no can you do
that the answer is theoretically yes
this code and who knows maybe we've
never bundled it with the product
because we felt that was an implicit
endorsement of directly connecting to
databases I still say you should
probably slap some quick web service on
top of it but this code should work
against really any particular sequel
table and this is showing how generic
the issue is right you're taking a
sequel result set and mapping it to a
hash of hashes so you should be able to
go again
this back end this is actually code to
connect to sequel server which is a
product I spent six of six years of my
life on many many years ago and we're
getting it from a parameterised table
but then we're going going through here
and using this is a ruby dbi which gives
you a really nice interface to sequel
we're going through here and grabbing
the column names and then going through
the rows that we get back and looping
through and you know setting our at
result to be empty and then looping
through and setting up the key value
pairs right by doing at result rosier I
make a simplifying assumption that your
key field is the 0th column you don't
have to do it that way obviously could
write a little more code if you knew
what the the key field was but with that
simplifying assumption this little code
fragment should work to synchronize any
sequel table um so authentication
everybody always says well how do I
Santa Kate with my ldap we we have this
in the dock but you would just say
required net / ldap which is yet another
useful rooming jam and then you write
this small amount of code that takes the
general problem is to take the username
and password that you get and you know
and then authenticate it and then return
you know return success or return return
non false return true if it works and
return false otherwise and so obviously
it'll change depending on whatever it is
that you're connecting with so I want to
talk a little bit up push sink and part
of this is to set this up for Lars this
discussion of server plugins later it's
the following idea it's always better if
you can do push sink so and you saw what
we did just there we said ok I want to
sink where we logged in and actually
automatically did a sink and that works
and it turns out there's a polling
interval by default where it will go and
and repo what you really want to happen
is something interests
on the back end and you just want that
data to just appear on the device and
that's always a better way it means
you're not pulling your not draining
battery life and you get this near
real-time data it's a very it's just an
awesome awesome user experience and it's
generally very difficult to set up with
their with competing sink servers in
fact and it most roll your own sink
servers that I've seen don't even do it
the only roll your own successful row
your own push sink that I've seen it
literally as good as an app called
grocery gadget of all things and it's a
fantastic app we actually briefed the
guy he just wrote in and wanted a
briefing and I said oh did you use our
stuff he said no and it's amazing like
you can be walking with your wife to the
supermarket and and you know you're
seeing like push updates were the status
of what got bought was changed amazing
stuff but he said he spent most of the
work on this beautiful app making push
sink work because it was so hard to do
it's always better if you can do it it
does require that your back-end have the
callbacks though that's the key thing
whatever you're integrating with has to
have a way that you can register and say
tell me when these interesting things
happen so that's where um so this is the
code that you would register to say hey
call this code and then row connect
exposes this rest client so this is
something you would call from your
back-end to call to the the server ping
operations and give it these parameters
which tells row connect to go and
basically pain the client which tells it
to wake up and go grab data so that's
really what it all hinges on so this is
an example of calling from your back-end
app with Ruby but there's equivalent
examples from Java or.net but so here's
what I'm getting at you got your rogues
out and got real connect you have a
back-end out now if you have a way to
register calls in the back end you could
put that
this ping thing registered with the back
end so if you're using some Enterprise
back-end that has callbacks you're fine
the problem is some enterprise apps
don't have callbacks and some apps that
you may have done might not have that
mechanism so this is where server
plugins commit server plugins not only
do the thing where you don't have to
write the source adapter right but they
effectively they're expecting to do
callbacks when there's new data right
creates updates and deletes they're
expecting to do the call back so if you
don't have a callback mechanism some way
of your backhand app sending stuff back
this is providing one for you and we
have flavors for java and 444 Ruby and
Fernet so definitely attend Lars's talk
if you're interested in that if you're
allowed to change your back-end app and
you are using one of those three
development environments so the other
thing I want to talk to you about is Rho
connect and I'll try to wrap up briefly
promise I'll take less than the total
our that I started it so 40 connect 33
we are timing it to align with row
elements two dot one which we're trying
to make 20 is is recently out we're
trying to make relevance to dot one more
like on less than a three-month release
so you know late summer and we're lining
up row connect 33 for that and here's
the key themes is analytics so what we
are doing is we're doing a lot of our
own testing this means our analytics
talk later about we want more analytics
that you can you can do and use for your
own operations not to sink but your
usage so what we're doing is we're
looking at this seven dimensional space
of varying the number of devices of your
app so you're going to be somewhere in
this seven dimension space right number
of devices numbers of objects that
you're syncing with numbers of
attributes how wide are those objects
number of sinks how often do people sink
every day how often do people do
updates what's the speed of your
back-end system what's the speed of the
network to the device it's amazing and
there's a lot there and we'll get
multiple data points in each one of
those dimensions and so that is we're
going to get high medium in low
realistic values for each one of three
dimensions so that's three to the
seventh power which is in the thousands
so I'm and obviously we'll use that
framework and continue to expand what we
have in that space and we'll even this
is mostly so we can start to give you
recommendations for what you'll need
here server ram cpu speed numbers of
servers but we're even going to include
that so if you actually look at it and
you add number of service you really got
10 dimensions that we're exploring but
the biggest output is so that we can
give you sizing guidelines now we have
some sizing guidelines today and it's
not like they're not working you can
talk to the guys from par Veda they've
got several successful deployments and
on generic hardware it actually works
quite well I just wanted to give you it
is a consistent theme that we've gotten
especially from partners I just want to
be able to speak intelligently about how
to deploy this stuff and what the sizing
guidelines are so I'm telling you two
things one is we're taking it really
seriously we're spending a lot of
engineering on it and also making
understand thus not the size of the
problem so the other thing is we're
introducing a new REST API so you should
pay attention to that because that will
be the so you saw one of the rest api is
like you could call the server to tell
it to go ping you can you can drive what
role connect does programmatically
through rest so we're modifying that
we're still support than the old one but
we're introducing a new one we're going
to make it faster for certain types of
updates there have been some scenarios
where even though it's scales really
well the individual retrieves of objects
can take some time so we're changing
we're optimizing on the way that we
store entire objects in the reddest
database we're making enhancements to
bulk sync those of you that are using
both
today we didn't support bulk sync of
blobs so like if you have catalogs with
big images on the problem is we always
put blobs in the file system so it's a
little weird you know because you're
doing bulk sync we're creating a
database but then remember the blobs
aren't even really in the database so
it's a bit of a tricky problem but we
listen to our customers and we've had
several requests so we're doing bulk
sinka blobs and then the ability to
selectively bulk sync we had the ability
to turn bulk sync off so it's not like
you're stuck today but we're adding the
ability to just not even do that first
bulk sink and you could say no bulk sink
this model but not this model I mean
books inc is the thing where we actually
if you're sending a huge amount of data
will actually formulate the database and
push an entire sequin amaze down so it
makes a super fast data delivery and
then we're actually introducing our own
push and notification service so those
of you that are Motorola it's like why
is this so critical because today we use
android cloud-to-device messaging and we
use iOS push so why would we want to
have our own service any guesses why so
two two reasons one is we do a lot of at
Motorola we do a lot of behind the
firewall private land installations and
you can't get to android cloud-to-device
messaging service and there's no way
somebody's going to take this device and
say okay I'm going to go sign up for a
gmail account it's not the non-starter
so we'll have our own service it's very
much like cloud-to-device messaging very
reminiscent it was done by the CTOs
office who's Phil here awesome so thank
you very much it's a huge part of our
value proposition I actually had a
customer tell me it's a justification to
raise prices because sybase actually
charges separately for as you know for
the for the push Cape for using their
own push capability they basically have
a separate messaging server but I don't
think we'll do that regardless and then
of course windows
mobile and we'll see there is no push
for windows mobile only know Cee so this
gives us that as well and we will do
clients for other os's as well so Rho
connect 40 more of a longer term and
that's you know some somewhere within
the next you know nine months to a year
or so but some of the bigger things that
we're doing our transactional support
now what does that mean that means
basically say I have multiple sources
that I'm sinking and you want to say say
it's master-detail things or associated
objects maybe products and incident
reports on the project products if you
say I don't want to get the products and
don't and not get the incident reports
or get the instant reports to not get
the products you can say these are all
related objects and they either all sink
or they don't sink because you don't
want to thank be in a mode where you
know not all the incident reports came
in so you think a product didn't have
any incident reports associated with it
or you had a bad purchase order because
you don't have the line items so it all
works Hernandez and then reporting it
back to transactional managers other
thing is writing source adapters in
JavaScript I've told you that Ruby is
like an awesome power tool for writing
these source adapters and it is but
we're not religious we're not like the
mobile Ruby company right we're not
religious about this stuff so if you
want to write source adapters in
JavaScript you want to support you in
addition to of course letting you write
server plugins you know that don't run
on the server for the back end in
whatever language you want we we want to
get you to true zero code server plugins
so Lars is going to show you the Roca
nectar be which is very elegant it's
just you know you tweak a few knobs and
you're good to go in on the other ones a
little bit more code in row connect net
that you have to write but but we'll get
we'll get there the other thing is once
we have our once we have your push
service Phil and that's shipping inside
row connect and we use row hub where we
host stuff we can make it much easier to
build push so it's already easier than
other ways of doing push sink we can
make it even easier because we can
do things like have server plugins that
assume that there's a hosted
notification service and are already
already by default coded to talk to it I
want to we want to support end and
testability inside Rose studio you saw
me drop down to do a couple things like
run my specs from the command line you
should be able to do that from Rose
studio and we want to provide more
out-of-the-box source adapter so my
apologies for running over time I'll
turn it over to the next speaker and
look forward to hearing from you soon
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>