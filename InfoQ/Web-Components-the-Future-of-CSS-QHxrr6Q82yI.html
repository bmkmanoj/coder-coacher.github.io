<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Web Components &amp; the Future of CSS | Coder Coacher - Coaching Coders</title><meta content="Web Components &amp; the Future of CSS - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Web Components &amp; the Future of CSS</b></h2><h5 class="post__date">2014-12-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/QHxrr6Q82yI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so today we talk about web components
and CSS and well standing over there I
was a little bit curious because there's
like two buzz words here and I just am
curious about what the audience thinks
and so you can only pick one if you're
more excited to hear about web
components in this talk raise your hand
and if you're more excited here about
CSS raise your hand okay that was little
bit more even than I was expecting so
i-i've been writing CSS pretty much
since I was born and it's it's been hard
it's been sometimes it's been it's been
really fun it was how I got into web
development and when I first heard about
web components a couple years ago kind
of a light went on in my head it was
immediately obvious how this was gonna
make writing CSS so much better and
since I've you know been following the
development of web components I haven't
really heard for many people talking
about this so I kind of figured you know
I think this is gonna be really
revolutionary and somebody should say
something so I decided that somebody
should be me so some quick disclaimers
about this talk I have a lot to talk
about and every web components talk i've
ever been to has spent half the time
explaining what web components is so I'm
not gonna send a lot of time talking
about web components I hope that's okay
if it's not sorry about that
I also this talk is not intended to be a
how-to guide or a tutorial when I first
heard of web components I said have a
light one on my head and I kind of
wanted this talk to be more about some
of those things that I was thinking
about just some of the ways I think web
components will completely change how we
write CSS for the better in the future
so hopefully you know you'll this this
will be a high-level it'll start you
thinking about some things and then you
can kind of use some these concepts and
just go play around and this is
definitely kind of a new uncharted area
and I think a lot of the things that I
I'm gonna say could very well be wrong
and we'll find it out in a couple months
or years so keep that you know keep an
open mind so I wanna start off by
talking about what makes CSS hard today
and if you ever read anything like
hacker news comments or anything like
that you see kind of the same stuff over
and over again by the way you should
ever read hacker news comments it's a
bad idea and these are the things that
everybody loves to complain about with
CSS you know vertical centering equal
height columns across browser
inconsistencies you kind of have to have
this encyclopedic knowledge of tricks
and hacks to kind of get anything done
and and you know it should be easier and
people love to complain about all this
stuff but in in reality that's not
really what makes CSS hard if you if
you're just making your own website that
might be something worth complaining
about but if you work at a company
that's has a lot like a large
engineering team with a lot of
developers all working on the same
codebase and you're building web
applications you kind of know that there
are bigger problems with CSS than this
stuff you know as I was saying before a
lot of the other stuff you can you can
figure that stuff out by just googling
around or members memorizing some of the
tricks so I want to talk about more
about the real hard problems in CSS so
things like scoping Styles how do you
how do you write your CSS in a way where
you can style the elements you want
without accidentally styling elements
you don't want it's kind of one of the
hardest problems in CSS
everyone has dealt with specificity
issues where you somebody writes a
selector something else writes a
selector and your Styles don't match you
can't figure out why didn't you realize
that's because somebody else's selector
is more specific than yours
non-deterministic non-deterministic
matching is kind of along the same lines
that can happen because of specificity
issues it can happen because of source
order issues if you're loading your CSS
asynchronously which a lot of companies
are doing nowadays that can cause
problems because depending upon which
file loads first you might have
different issues with that depending
dependency management if if you have
some rules that are supposed to look a
certain way and depend on other kind of
global things like global paragraph
spacing global heading Styles how do you
you know define these dependencies in
your code and how do you deal with that
and then things like removing unused
code everyone probably bundles all CSS
into one big stylesheet
and and then you know you have an
application that lives for a couple
years and then you know that there's all
this code that's no longer being used
and how do you deal with that it's just
it's really hard to especially in a
dynamic site there are some tools that
I've seen around there that kind of go
through all your pages and tell you what
CSS isn't being used but it doesn't
really work with the real application
where where your pages are dynamically
generated so what do all of these things
have in common so I hope you can see
that it's kind of grayed out a little
bit but I say hint it's not it's not
these and on the left so this is a CSS
declaration and on the Left I've
highlighted the properties on the right
I've highlighted the selector and CSS is
not hard because of the properties and
values like I said people like to
complain about that but that's not what
makes it hard what makes it hard is the
selectors your selectors and how well
your selectors are written is the
biggest by far the biggest determining
factor and how scalable your code will
be into the future because selectors are
effectively global global variables and
it's incredibly hard to write
predictable code when any rule that you
write could potentially conflict with
other rules and the page rules that may
not be there right now rules that you
don't know exists it can be incredibly
figure-eight infuriating and this it all
has to do with your selectors try not to
turn this way so you can't hear me so
writing bad selectors will at some point
cripple your application development
every company I've ever worked at has
had that you know the opportunity the
resources to implement some feature and
they have chosen not to because they
were afraid because of their CSS and
that just seems like the stupidest thing
in the world but it happens all the time
and it has to do with your selectors so
what are bad selectors really it really
comes down to selectors that kind of
cast a wide net selectors that
potentially match a lot of elements are
inevitably going to be bad selectors and
how you I wrote a slide at the html5
Devcon
apparently people who write CSS like to
live dangerously and here's the proof
this is I want to leave this up here for
a sec
I want to let it sink in this is an
actual CSS declaration that I
encountered at a previous company I
worked at I'm not gonna I'm not gonna
shame them publicly because I own stock
in the company so what was going on here
was this was a page that was there were
there are a lot of pages in the bulk of
this this application was forms and the
forms were all laid out in two columns
and it just so happened that the columns
were divs inside of divs inside of divs
and so somebody said oh I see what's
going on here I can I can make this work
by this one rule and it will apply to
everything in the site and it's great
and it did work but as I'm sure all you
can realize as soon as you add any other
div anywhere in the page it's probably
gonna match this element you know what
are the chances that a div has two
parent divs you know zero right so you
might be thinking okay but my selectors
aren't that bad and you're wrong they
are that bad all selectors are that bad
with a couple of you know very rare
exceptions effectively so we're
developers we we want to notice patterns
in our markup we want to write selectors
that match those patterns and we all
think we're smarter than our markup we
all think that we can come up with the
solution and this time around it's going
to be different and we're all wrong
always because every time if you have an
application where the HTML is going to
change ever your selectors the more
complicated they are the harder it is to
control them and so so really the kind
of the only way around this and a lot of
you if you follow CSS best practices
almost everyone that writes about CSS
best practices tells you that you should
use very low specificity selectors and
they should be classes and all this
stuff but you know adding classes to
your HTML also kind of sucks and without
good conventions that everyone on your
team can agree to that you can come in
for
through you know linting tools and
things like that it's really hard to do
this so this is an example from the
bootstrap Docs page and this is so this
is good because there's a lot of classes
here and you know you have low
specificity selectors but again I want
to just leave this up here for a second
I want to kind of talk through this
because you have a navigation element
that has the class nav bar and the nav
bar default which so far I'm I'm on
board here you have a base class and you
have a modifier class and then inside of
that you have a wrapper element you know
you can tell that because it says
container I don't know what fluid means
but I assume it's doing something here
and then inside of that you have another
wrapper element which if I'm just
looking this code and I'm I'm myself
another boot shop user I don't know
exactly why this is needed but bootstrap
is very widely used it's well tested I
assume this was thought through and this
is you know collapse and the navbar
collapse and then inside of that you
have a ul with the class nav and the
navbar nav and I don't again I don't
know what that is I don't know why those
are there and I'm not trying to diss
bootstrap here my point here is that you
just kind of have to make this trade-off
you have to decide between one or the
other and and I'll talk about this later
but effectively I consider this to be
implementation details it kind of sucks
that if you want to use bootstrap you
have to copy this and you have to make
sure that you write all your classes
exactly like this and if you don't it's
not going to work and it kind of sucks
that that's the way it is so in that
case you're doing something dynamically
you know you're not and that's the form
of abstraction which is good and that
will kind of relate to I'm gonna talk
about so what is the answer and and was
good CSS look like so I kind of wrote
this up earlier today good I'm sorry
good CSS consists of selectors that
match exactly the elements you want them
to match without accidentally matching
the elements that you don't all while
not being overly verbose or repetitive
being resilient to change and being
adaptable to any and all future design
requirements in other words writing good
CSS means you need magical powers and
the ability to predict the future
so all hope is lost right there's just
nothing you can do it's impossible to
write good CSS and so I'm kind of joking
obviously but in my experience you know
the people and as I kinda mention the
people that write good CSS recognize the
shortcomings recognize the limitations
and and don't try to outsmart the
problem they just deal with it and and
kind of accept it and and I'm a huge fan
of methodologies like BAM and smacks and
oh of CSS if you're not familiar with
these you should look them up if you're
writing CSS on a large team they're very
all of them are good conventions but I
think the real question kind of moving
forward and since this talk is about the
future the real question is shouldn't be
how do I write good CSS because we know
that the platform is is limited the
question is how can we change CS how can
we change the platform to make it easier
to make to make it harder to screw up so
what is missing in CSS if you'd ask me
this question a couple years ago I
probably I've kind of cheated cuz I have
the benefit of hindsight I probably
would've come up with this first one
what's desperately missing is the
ability to scope styles to a particular
section of the DOM or to a particular
component because right now in CSS
everything is global and a second thing
that's missing and I showed this what
the bootstrap example is the ability to
hide implementation details it would be
great if if you could just wrap this up
into a little package and give it to
somebody but right now you can't really
with just kind of HTML and CSS and the
great thing is as it turns out web
components give us both of these so kind
of for the rest of this talk I'm going
to talk about about web components and
and give some examples of how these
things are embodied and specifically I
want to talk about shadow Dom because
there a lot of great things about web
components but shadow Dom really is is
the main thing that benefits CSS and in
shadow Dom gives us actual real style
encapsulation to a style encapsulation
so we can add elements of the page that
that won't be affected by the existing
CSS rules and we can add CSS rules file
tags to a subset to like a subtree
those styles won't affect the elements
that are already on the page shadow Dom
also allows us to to to hide these
presentational elements and you can
effectively think of it as a public and
a private API your shadow nodes on your
private nodes and your public nodes that
your main Dom nodes so I kind of just
mentioned this shadow DOM is a subtree
of Dom nodes that you can create on any
HTML element and the the shadow dom
subtree gets combined with the main Dom
tree but unlike the main Dom nodes that
were used to the shadow nodes can only
be modified from within in the same way
that if you're writing a class with
private methods only the internals can
call those things so it's kind of very
conceptually similar to that
yeah shadow nodes are private so so
here's an example a real kind of basic
example what you have on the right is
what you would see in your document
source there's a my button element and
then the Texas click me and on the left
is the the HTML text of the shadow DOM
and you have a style node that has one
rule in it two style buttons and if you
look down you see that there's a button
element and then there's this content
tag so if you're unfamiliar with what
content tag is and web components I
mentioned that you that your shadow DOM
and your main Dom kind of merge together
to form the final render tree and the
way that happens is through these
content elements they're called
insertion points and that's how you
determine what from your main Dom goes
into the shadow DOM and where and so in
this case so this is actually a web
component here live example the click me
text is is all the children of this
button and that's going to render inside
of this content element and and so one
thing to notice here is this is a
regular button on the page and I've
added some CSS that styles this regular
button and it's using a button element
and as you can see from the from the
click me shadow Dom example he's also
using a button element and this is
actually being writing on the page
that's not a screenshot none of the
styles from that I have here that I'll
kind of select none of these button
styles are affecting the main button and
vice versa
none of the
none of the regular full-page CSS styles
are affecting the the shadow Dom button
so how do you make shadow Dom in in
JavaScript I think there's this kind of
misconception that you can only use
shadow Dom with custom elements it's
actually not true
you can you shut it down with any
element and all you do is you grab an
element somehow you know get a reference
to it in this case I'm using get element
by ID and then you just call the method
create shadow root and that creates a
shadow Dom and why don't you just go
ahead and and do that while I'm at it
here just to kind of prove that this
works this way so here's my element how
do I get me some shadow DOM and I have a
reference to that I just say create
shadow root let me go ahead and store
this on variable now if you notice what
happened the text just disappeared
that's because I created a shadow root
and there's no insertion points so
nothing from the main Dom is getting
through at this point so I could say I
could say root inner HTML equals foo bar
and then now that's what's showing up
because that's that's the shadow content
but still that that line how do I get me
some shadow Dom that's not showing up
anywhere but I could change that by
saying you know content and close the
tag content and then as you can see it's
being rendered in between foo in the bar
so that's just one example I'll go ahead
and close this out now it really is that
easy you just say create shadow root and
you know you don't have to use up custom
elements but most of the time most of
time you will so I want to talk about
some examples I'm well how I think how I
predict in the future we will approach
styling web pages and and we'll do that
by creating these basic elements and and
then building sites by composing these
elements together and a very similar way
to if you use things like oo CSS or BEM
you you think about styling your web
page by recognizing these repeating
visual patterns and defining them as you
components in your CSS and so I think
web component is just kind of the
natural next progression of those types
of conventions so if you follow
obviously SS you've heard the media
object and I kind of want to use it
because it's the poster child example of
kind of modular CSS a media object if
you're unfamiliar is effectively just an
image on the left and some content on
the right where the content doesn't kind
of wrap below the image as it would with
normal floats and back in the day was
much harder to make the CSS to do that
today it's much easier with things like
flexbox but I think it provides a good
example so if you're using some kind of
BEM convention syntax it might look
something like this where you have your
container your media container then you
having meet your media figure and a
media body and the figure is an image in
this case and then you just have some
content inside of that and I write in
here one thing to notice is that this
media body element it doesn't really
serve any purpose but it needs to be
there because you need to add you need
to have an element to put a class on to
write some CSS to make it separate from
the image you know so it's this is very
common if you make websites you you
right container elements all the time
and they just need to be there because
you need a hook for the CSS so it
doesn't have to be that way though
because on the Left I have an example of
how kind of it should be how you think
about it from just a purely kind of
semantic perspective you have your media
object and then you have your content
inside of it and and you shouldn't have
to worry about the presentational
elements you should just have the
content and then that should be taken
care of somewhere else and so this
example here uses on the right you see
the shadow Dom don't pay too much
attention to the the CSS rules but this
is just what is actually needed when I
when I go to the next slide to style
them if you're looking at this host one
host is a host just refers to the kind
of the host of the whatever element
you've created the shadow Dom on and and
that's particularly useful like I could
have just said a media object but in
this case you say host in case you ever
extend an element and you have a
different element name kind of host will
apply always to whatever the container
is but the main thing to look at is is
this content
two content tags you have a select
attribute that you can apply to a con to
tag and you can put an image or well you
can you can put a simple CSS selector in
there and that will say from my main Dom
in this case the h1 the image and the P
tag these elements should go inside this
content tag and anything that's not in
that simple selector kind of doesn't go
through and in this case I have a
catch-all with my second content tag but
but if I didn't have that you know you
would only see the image and in this
case because I have to you see that
everything else so this is what the
compose tree looks like again I don't
know if you can you guys see the grayed
out part is it okay okay so everything
that's grayed out is is shadow Dom and
everything it's not grayed out is main
Dom and just this figure shows how these
things come together so in this case you
have the image that's inside of that
figure which was an element in the
shadow Dom and you have the h1 and the P
inside of that div which was also in the
shadow Dom so if you look at this
example so as you can see it like the
text doesn't wrap below and if we look
at go ahead and make this a little bit
bigger if we inspect this we see the
three elements here and then we see the
shadow root if we're looking into
developer tools and you can open up and
you can and you can see the the Shadow
Dom elements as well if you've turned
this if you've been able this in your in
your dev tools one thing that I wish the
dev tools did is it gave you the view
that I was showing over here where you
can kind of see the composed Street it
it doesn't do that right now maybe it
will in the future I would like to see
that somehow to get kind of a picture of
how this works overall because when you
make your when you write your CSS rules
things like first child and you know
child selectors these actually apply to
how the final compose render tree works
so it's often useful to see how that all
fits together but you might be thinking
I don't really like the way that media
element looks or at least it's it's too
plain by itself I want to I want to make
it better I want to make it look nicer
and the great thing about web components
is you can compose them inside of other
web components to build more calm
located components so in this case I'm
creating an author card which is just
think of it like a business card or
something and this custom element
imports the media object and so this is
goes back to the dependency management
issue your elements to declare the
dependencies themselves and so up here
I'm I'm linking to the media object
custom element and then this template is
going to serve as my shadow Dom and I've
hidden the Styles here because they're
kind of too many just showing this one
slide but the Styles here basically
spell everything in the shadow Dom and I
can even override the styles of the
media object here and that works because
it's all scoped inside and then I'm
adding some additional kind of
presentational elements to get my author
card to look the way I want it to and so
here's my here's my author card and it's
effectively the media object with just a
couple more elements added some more CSS
rules added but again if you look at the
if you look at the the source you don't
see the media object in here in the main
source and so if I'm creating this
author card and if you think of this is
just like bootstrapping and I say oh
I've got this kind of alert or these
navbar or whatever you can you can
abstract all of these implication
details the way you can hide them inside
all the person has to know is okay I
have a header and then I have an image
somewhere in that paragraph and that's
all I really need to care about and then
it will look like this and this is a
great relationship between you know
developers and designers because because
there's there's not a lot of these again
do use the same word over and over again
not a lot of these implementation
details that they have to worry about
layout is a big issue in CSS a lot of
people kind of don't aren't very good at
making things work with CSS layout wise
so it would be great if we had these
layout elements that kind of did all of
this stuff for us a lot of people don't
like layout elements because they don't
want to mix their their presentational
elements you know they're the
presentation with their with their
markup you know and I'll kind of get to
that issue here but first I want to just
talk about these two I kind of just made
these two layout primitive as I call
them so the first one is a flex grid and
flex grid looks like this
and the features of flexgrid is it kind
of you have these boxes that that take a
certain amount of space and they flex to
fill the space and if there's too much
space you know they are not have space
they wrap down to the next line and as I
kind of change the width here you can
see that it does like it expands and is
always full width but if it's too small
things wrap to the next line and this is
you know common whenever I often have
this requirement in sights that I'm
working on and again there's no there's
no I didn't write any CSS here I just
used to include this flex great element
and the CSS is packaged inside of it and
similarly this is flex line element
which is conceptually similar to the
Flex grid it's based on the flex box and
all of its children either are the size
that they naturally are or you can apply
this flex attribute which makes them
expand to fill all their empty space and
you can nest flex items flex line items
inside of flex line items and you can
ultimately optionally have them be
either rows or columns and so in this
case I have kind of three three columns
inside of this flex line row and one of
them is its own flex line item that has
you know two children inside of that and
so here's a flex line demo it's a bigger
and so as you can see this is kind of
like a way of doing site layout this is
several nests that flex line elements
the the main one is is vertical where I
starts out with the header and in the
content area and the ads and then the
footer and then you can see that there
are nested flex line elements inside of
those you can look at the source here
too if you want to see so this is kind
of a way of doing layout with with
layout element primitives and and you
don't really again you have to worry
about how these like the style of these
things because the styles are defined
inside of the elements it's entirely
possible though that you don't want to
include these presentational elements in
your actual source if you're a if you're
kind of a market purist you you you want
your market to be a certain way and you
don't like having presentational stuff
inside of it and and as I've kind of
been hinting to web components solve
this problem really elegantly because
you put those presentational elements
inside of your shadow dom so you don't
have to see them in your main
so using the flex line element that I
just showed you you can build other
other layouts and you can just kind of
define them as their own element so in
this case there's the classic Holy Grail
layout which have you been writing CSS
for a while you remember from back in
the day and you can solve this problem
easily with Flex line elements that you
build kind of inside other flex on
elements so hope the topsail bit cut off
but on the left this is what you see in
your main Dom this is what you've seen
your page source and I'm just saying the
body here is a Holy Grail element and I
have my header my main content area mine
my aside which maybe is advertisements
and stuff and then my footer and you
don't necessarily have to worry about
how I've used the Flex line element here
but the point is you see that in the
shadow Dom I'm using flex line - - to
build up this layout and I don't want
the people that are writing the template
that have to worry about it and so if
you look at the demo you see this is the
Holy Grail layout and if I view the
source for this page you know like I
showed you before all you see is is
these elements you don't have to worry
about how they're working the way they
are that's all hidden abstracted away
into the shadow dome so as everyone who
writes the assist no sometimes you have
to use hacks to get things to work the
way you want them to it's not clearly a
perfect language a lot of things that
aren't the way you think they should be
and one great example of this as I was
building this this flex grid layout
primitive I noticed that I was having
this problem and the problem was was
this as this changes the way flex wrap
works and if you guys have tried this at
home but the way flex wrap works is it
treats every line is almost like a
separate flex container and if I have
flex on all of these things then the
very last line is always going to fill
all the empty space and that's that's
not what I want what I want is what you
saw before where as I change this the
last line or the last line kind of
is as all the other lines are and turns
out this is not really an easy problem
to solve and it took me a while to
figure out how to do this but ultimately
what I did see if I can show this here
you source flexgrid source you source so
this is what I did here I just threw a
bunch of divs at the bottom and these
divs are doing nothing other than acting
like flexgrid items that are just there
because they need to be to kind of just
be these ghost elements that that fill
up the empty space when that space is
not needed now if you can imagine if you
had to use a flux grid like this all
over your page and you just had all
these MP divs just all over your markup
I mean like people would probably go
crazy and they would wonder what these
are there for and somebody would
probably see a bunch n P divs and delete
them you know but the great thing about
shadow Dom is you can hide this stuff
away and yeah it's a crazy hack and
hopefully like the flex box spec updates
to solve this problem without having to
use this hack but in the meantime you
can kind of put the stuff and you can
abstract away in your shadow DOM and not
have to worry about it so there are lot
of questions that people kind of often
ask about stuff and so I want to kind of
address those up front and then we're
gonna to have a time for questions later
when can I use this stuff now or is this
some like very experimental bleeding
edge technology or can I use it now the
first time I gave this talk polymer was
was in beta and I think as of very
recently it's well I think pretty soon
it's going to be kind of officially
declared production-ready
in sites like the polymer project and
chromestatus.com are Google Sites that
are built using polymer which polymer is
library that that makes it easier to use
web components and so chrome right now
is the only browser 36 and above that
natively supports all of the web
component technologies like shadow Dom
custom elements the template tag HTML
imports and all these things
but if you use the web components
polyfills you can get pretty much all
these features in all modern browsers I
10-plus and it's worth noting though
that unfortunately there are some
features real actual style scoping in
shadow Dom is not something that can
really be polyfill that's kind of
impossible
I mean without like some crazy axe and
some crazy like you have to you have to
kind of agree not to do certain things
in order to make it work and it just
something to be aware of if you in my
experimentation if you if you write most
of your CSS in a component driven manner
this doesn't end up being that much of a
problem because all of your Styles
didn't become scoped to whatever
component they're in and so there's
gonna be very few clashes and so it
actually ends up not being that big of a
deal I was really disappointed when I
found out that the the polyfill didn't
didn't actually solve this problem but
it turns out to not be that big of a
deal a question people often ask is is
it possible to style elements in a
shadow Dom there's shuttle boundary but
is it possible if I really really want
to to style these elements and yes it is
possible there are two selectors shallow
and deep that allow you to do this or
sorry shadow and deep that allow you to
do this should have been shallow into
you shadow represents the shadow root of
a particular element and since elements
can be nested inside of other elements
so IRA scripts of water since elements
can be nested inside of other elements
the deep I don't know if it's a selector
or company or what it is but it allows
you basically to say any level of nested
shadow Dom's this rule will apply to
that so I would actually recommend never
using these to be perfectly honest if
you can help it I think anytime you try
to use them chances are you are just
kind of you haven't quite made it to the
mental shift yet of of the old way in
the new way I think a good analogy is a
lot of programming languages allow you
to use private methods even though you
like they're supposed to be private
most people say you shouldn't do this
and I think
same thing applies here there are
situations where maybe you have to and
so it's okay
but in general you shouldn't want to do
this they should be extensible on their
own they are in the spec so to quote the
open and closed principle of software
development software entities classes
modules functions web components should
be open for extension but closed for
modification and I think if you're
writing an element you should make it
sufficiently extensible you should you
should allow ways through the public API
for people to use your element change
the styles change the color change the
themes and then they don't have to use
these these shadow and deep selectors
another common question that people ask
is how do I know when to put content in
the main Dom versus the shadow Dom I
don't think it's super clear-cut always
and I think there it's going to be
situational but in general as I've
mentioned a couple of times your shadow
Dom is your private API and your main
DOM is your public API and in general
that's the that's how you should think
about it because your shadow Dom the
styles are scoped it could be that you
really want that scoping but these are
kind of non you know they're not
presentational elements the real
elements but you just want the scoping
so sometimes you might you might want to
blur this line but in general I think
that's how you think about it also keep
in mind that web components in general
you don't want them to be to contain
dynamic content because in general you
have a web component and you're going to
import it and so it'd be great to to
reduce HTTP requests you want to kinda
get all your web components together
bundle them into one request and you
can't do that if you have dynamic
content your web component so it's good
to keep anything that's dynamic content
in your main DOM and also think about it
the public private API differentiator a
lot of you asked about accessibility and
SEO with web components and a lot of
work has has been and a lot of thought
has been put into this and web
components are meant to be accessible by
default because they're just HTML
elements
you can use things like Aria roles and
Aria attributes just like you could do
with any HTML elements today from an SEO
perspective you know search engines they
want to be the best they can be and they
want to if people start like when people
started writing Ajax sites there was
maybe a little bit of a lag but search
engines caught up and they started
indexing that kind of stuff and I don't
think it's gonna be any different with
with web components you know search
engines especially search engines that
could run JavaScript they can easily see
all this stuff so that shouldn't be a
problem
and as with any new technology just to
be sure you should test it with the
devices you need to support so to wrap
up I wanted to revisit the hard problems
that I talked about at the beginning
scoping styles is easily solve the
shadow Dom specificity conflicts will
still exist but they will exist on a
much smaller scale it'll exist within
the component itself and that's much
easier to reason about because most
components are only gonna have a handful
of styles and if you're writing kind of
small components that do one thing in
one thing well it shouldn't be as big of
a deal to deal with specificity so that
shouldn't be a problem and the same
thing goes with non-deterministic
matching since since everything that
applies to the component is is written
inside of the component definition it's
much easier to reason about it's much
easier to look at the source and figure
out exactly what's gonna happen
whereas the CSS today nobody can look at
a full stylesheet with hundreds of rules
or thousands of rules and figure out
except what's going on she's just too
much dependency management is also
easily solved with web components
because components declare their own
dependencies and all that can get
resolved in something of some kind of a
build step one if you're not using a
build step and you're using just the
browser imports the browser
automatically handles that dependency
management and the same thing with
removing dead code I mean it isn't it
isn't just solved automatically but
again because all this stuff is on a
smaller scale and it's modular it
becomes much easier to spot where the
dead code is essentially if you're not
using a component you won't get those
styles and so that problem just kind of
goes away
so what I really want you to take away
from this all when when you start
thinking about how you can use web
components in your applications to write
more scalable CSS definitely shadow Dom
is the key here because you want to be
writing Styles CSS rules CSS selectors
that only affect the elements that you
want them to affect and and then you can
have a large team all working on
individual components and there's not
this fear that one team's changes are
gonna affect somebody else's changes it
makes it makes it significantly less
painful and risky to do redesigns as I
said before every company I've ever
worked at CSS has been kind of a
showstopper in terms of some feature
that they wanted to implement and that
should really never be the problem CSI
should only be a showstopper in in terms
of like designing things it shouldn't it
shouldn't affect other non design
related concerns and and I think one of
things I'm most excited about for for
the future of writing modular CSS is
this concept of taking elements and
taking markup that is only
presentational and abstracting the way
into the shadow Dom and and then having
your main Dom be very easy to just view
source and kind of see exactly what
you're working with and see all the the
real content on your page and not the
presentational content so that's pretty
much it I think we're going to take a
break now and then we're gonna have some
time for questions Q&amp;amp;A later but the
slides for this show or the show the
slides for this talk are up on github at
a football get a comm such for the bold
and slash talks and then I'm actually
I've given this talk or similar talk
twice now and inevitably I'm going to
write a blog post about it once they
kind of find some time to do that and so
if you're interested in that you can
look on my web site sometime soon it
will be up there so you can subscribe to
the RSS feed or whatever yeah so I don't
know if anything else needs to be said
but go get some refreshments and we'll
come back for some Q&amp;amp;A
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>