<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building Web Sites that Work Everywhere - Forward 4 Web Summit | Coder Coacher - Coaching Coders</title><meta content="Building Web Sites that Work Everywhere - Forward 4 Web Summit - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Building Web Sites that Work Everywhere - Forward 4 Web Summit</b></h2><h5 class="post__date">2016-04-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Iv_bjxPb9ps" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay welcome to bude website data work
everywhere I'm doors Chan I'm a
developer evangelist at a Microsoft and
basically I'm a white person I've been
working on web things Ajax and other
thing so and this is my email and you
could also reach me on twitter at doors
teaching notice there's a tea there
because somebody come pray i never reply
because they miss the tea their doors
teaching okay so um this is a visionary
is almost minute and now we're kind of
talk but now i have about 15 20 minutes
so i'm going to actually sort of like
condensed into a few key points first of
all let me share with you some of the
new tools you could use to test your web
interoperability and then we're going to
get into some of the things you need to
watch out of a CSS feature detection and
then i'm going to share with you a real
website let's sort of like debug into it
to see if we could make it better sounds
good all right okay first of all cross
browser testing this is the first thing
because you want to make sure you're
brought your app runs on different
browsers you probably need some tools to
get a star with to understand where you
are now before i get into a to detail
people probably have some questions
about the Microsoft edge just release
the last November and do probably
wondering you know is a just like
another I ye or what so like to use this
diagram to give you some idea if you
look at a distal Graham normally people
say the behavior for the Chrome and
Safari kind of similar and then Firefox
are more similar to to ie so now with
the microsoft edge say by the way this
is a new logo for edge we want to reduce
all the difference which is basically
all the special thing in IE we want to
actually remove that as much as possible
and we want at your increase
interoperability part with chrome safari
m5
so in another word edge is designed to
be much more compatible with all the
other major browsers and all the IE
preparatory stuff we will try to remove
as much as possible that sound good
alright so it would be a lot easier to
look kind to operability obviously so
based on that I'd like to share with you
some of the tools which I think you
might be interested the there is a true
okay first of all all the tools I'm
talking about here up to the first four
2's all free tues the first one is
called size scale basically it is a site
you could enter your URL and then they
would tell you a six or seven different
category of things and we could tweak
look a quick look in more detail and
it's a variable on this URL it's a free
to it's very useful for you to get
started with to check your interrupt a
better day the other one is a browser
screen shots this one will provide you a
common set of browser for different
platform different OS as well as for
different browsers so you could take a
look what your app will look like in
those browsers windows virtual machine
this is ready for people renting our mac
and linux because i see a lot of people
using mac and linux here but if you want
to test microsoft edge or you want to
test IE in a different version so you
will be able to get a free binary image
a bit of choice so if you want to add
you download edge and if we want to do
IE 6 to 11 you could have download any
other version and then I but you do need
some other you know like a virtualbox
power of those things to to help you to
install but it's a free binary image
recording stop now the other things
people are mostly and against free and
another thing that people just say I
don't wanna you know I just want to test
something right I don't want to really
install another image onto my machine so
what you could do is there's another
tool called remote especially if you
want to test the edge or I e on your
enjoy you know Mac or Linux you could
use that it's basically it's like a
utility a current program so you could
actually invoke that to test our agile
different
I eat so this is also something you
don't have to install a binary on to
your machine okay these all the top four
tools are absolutely free or you could
access all the UIL take a quick look the
other tools which is a kind of commonly
used is called a browser stack it is a
paid service suppose so if you are
willing to pay something it's also very
useful you could actually access for
different virtual machine different
browsers and it's really easy to use so
this is a testing 2 i'm talking about
the side-scan so i choose the
weather.com as a guinea pig after run
that it would tell you different
category for example it is fine with all
the mock up with all the legacy plugging
like fresh PDF all those things but it
has some problem with frameworks the
library for example it's using an old
version of moderniser library so the
site basic suggest you could update it
to the most compatible one so you could
use a external latest version the other
one which I may not have time to talk
about is this particular site is still
using browser detection which is
absolutely not a good way to check what
you should do is using feature detection
and I'll talk about that in little more
detail later on and also give you some
problem with the CSS prefix a min ago
actually use CSS prefix in your code ok
some of you so basically this one this
too will show you it will list all the
CSS feature some of them did not take
care of the prefix carefully or properly
so we listed a problem so that if you
fix those problems then you could
actually pass that test two ideally you
should have passed all the six tests
here so that means your site would be
more compatible across all browsers okay
so this is basically the size skin and
all the other tools is also variable I'm
going to talk about virtual machine
remote browser screenshots and other
tools are variable here so you could
take a quick look from this site okay so
let's say you talked about CSS prefix
all right so we all know a lot of times
when we talk
css3 right it is a sea as try this and
it is okay this is better it is probably
you know not a final right so one of the
best practice is for you to observe is
you always have to put the packet for
example transform this is a one of the
CSS a feature and then you should always
keep what's supposed to be the final
version called transform and then at the
same time you want to put all the prefix
to support the other browsers so that
are the browser now this is more like a
transform implementation-specific for ms
right oh this is mozilla this is our
proj this is WebKit which is basically
for Chrome and Safari so this would be a
good way so the other browsers will know
are there would be some implementation
detail there would be some difference
but hey I could have support them pretty
okay because i have my own
implementation now you probably feel
it's really tedious right just do one
transform you have to put all the full
prefix right so what would be a better
way to do is you could actually look
into a to this problem again looking to
the two there is actually pretty it's
pretty straightforward you could use
auto prefix ER i use it a lot and i'll
show you just a minute what it look like
and it's very useful to very easy online
to to use it's from github and it's
actually you could actually what I
usually do is use auto prefix serve with
a grunt into your script so that when
you attribute of those file you have
that you take care of that you don't
have to do a manual one the other one is
similar called our prefix free it's also
online kind of to you could use that or
to getting to generate all the necessary
prefix for you so this is what prefix
auto prefix that will look like so if
you enter any of the CSS feature you
will actually see you don't have to
worry about the prefix right you just
put a transition for the user select and
winnings generator this too will
pends on what browser or what the device
you have it will actually generate all
the prefix for you so basically if you
do you know kind of CSS you could do
copy and paste paste this part into into
your code so you don't have to worry
about all the prefix okay so this is all
good next what I are trying to talk
about it is the browser detection versus
a feature detection okay does everybody
understand why we should not use a
browser detection the reason is there
are over Android browsers all over the
world and it is really a tough job for
any testing team or any test engineer to
watch out all over Henry browsers and
the setup of the right code for that
browser and then press we will have new
browser all the time we will have
different version right we have
different device so it's almost
impossible to support this kind of
browser detection instead we should
always use feature detection feature
detection is much more easier to do
because why it's basically determine a
particular html5 feature Oh a method Oh
a particular library it would picture
say either this browser supported or not
a supporter if the supporter then I do
this if it's not supported then I do
something else right so for every
feature it would be so much easier to
test and to really implement all the
logic across all the browsers so feature
detection is a way to do now who is a
friend moderniser how many you heard
about a moderniser okay modernizer is
really your friend I in my opinion this
is probably best way to do the feature
detection especially currently of the
moderniser you know you have to add you
download a full library you could
customize depends on how many feature
you use right you could actually pick
like I say WebGL i'm using say some of
the new feature inside of that and a
puter library just to check those
feature right so your your library to
start with is very small you don't have
to worry about it's too big to to get a
loaded and the press say for example if
I
pick WebGL if that particular browser is
kind of older browser it doesn't support
a WebGL modernizer also provides a few
older library we call part of views
basically try to mimic the WebGL
behavior in your browser so you could
actually using those party few libraries
into your code to support old old
eyebrows so with that it doesn't matter
different browser different OS or even
old browser you could use feature
detection to implement all your logic to
make your app runs across all browsers
how easy it is very easy syntax wise if
you use a moderniser if you want to
check a phone sighs sorry phone face
just do this moderniser dot-com face
that's it and then if supported it do
something if it's not supported to
something else right is this is very
very simple as syntax to go with now I
like to actually share with you a quick
demo which is a it's a piece of code I
use modernizer to run in a full
different browser so the logic here is
I'm checking the html5 canvas as well as
the audio so basically it says if this
browser support canvas and html5 audio
it do one thing if it's not then do
something else alright so let's not you
take a quick look and I could you run
yet this is running in the edge edge is
a most updated modern browser so it has
no problem running that that's good and
let's actually try it on say in chrome
right so chrome is fine chrome
supporting all the campers as well as
the the audio right that's good all
right well let's try rie see this is the
IE and when I do this it goes to IE 11
so I 11 does support all the html5
feature canvas and audio so that's good
but then one thing I want to show your
ears this is 11 so
I want to actually show you how does
everyone on older browsers say seven ah
this gets into the a little issue here
isn't it so because ie7 does not support
any standard the canvas all the audio so
it doesn't have that so what are they
implemented that i implement hem is the
dancing right so this is basically logic
and you could actually show use
different code this is both different
browser based on the feature all right
so this is what you show you if the
feature supported chemist and see if the
feature is now supported hampstead NC
all right so I suggest for the
illustration of course in real life you
should not just use a hamster dancing
people won't be happy about that so okay
aside you put it back in 2d fool all
right okay so um let's add you continue
just a little bit okay let's talk about
a fallback in part of use I just talked
about a feature detection for you to
test on different browsers but what if I
have some older browsers which does not
support that feature right this is a
time normally you should use part of you
some library to mimic the behavior of
that feature right so let's actually
talk a one of the you know pretty common
sort of like a example so this is a very
simple piece it just says if I have
html5 video and I try to use html5 video
right across all browsers but what if
that particular browser is an old
browser it does not support html5 video
then I have to fall back into either
using fresh right Oh silverlight right
so let's see um may not be yeah it's
missing one tag here sorry so what you
see here is inside a video tag I put a
very simple html5 video markup right
basically give this give the source
where the video is give a poster so
that's for the better performance
because you don't want to see a brand
video at the beginning you want to some
image there give the size and then this
particular video I started to do auto
prey right so it could pray
automatically and then I have some
control so you could control fast
forward pause and stop and all those
things and praying group now if the
basically if the browser would determine
that a particular video right if it says
oh I support html5 video it would do
exactly as this what html5 video puts
but if that browser does not support
html5 video this is really cool about
html5 because they actually give you
what we call for back then that browser
will read all the code in the middle so
everything if you see the tag between
the tag of the video tag everything in
the middle is actually will run by those
browser does not a supported either
html5 video it will run whatever code
it's there so this way it's so cool
because then if it's a good brother
modern browsers support a new feature if
it's not modern browser right the old
browser it will still play as a fresh
video so that way you could actually
make sure your your your site will run
across different browser in out browser
now let's actually look into a very
quick example I have our one site which
I show you it's my guinea pig today it's
a real site its water star with all the
movie clips in all the videos and the
wasting what you see here is it says
this video is now supported that's just
because it's trying to run a fresh and
if you disable all the fresh and you see
the chrome has the same behavior if you
disable the fresh per game because you
wouldn't want to pray king right we want
to break in free then it doesn't really
show anything so how do we fix it it's a
real-life side right so people say um I
don't want you to break in my side it's
a running right but we have a good way
of doing it which is use fedora how many
of you add your heard about federal it's
a very good way to capture on the
network traffic and also render the
response so let me show you how we're
going to do it so let's actually rerun
this piece alright so that a fiddler
will catch up all the data and the pink
thing is finding where the feather the
URL yet so this is the one and I
probably need to decode it so I could
read it later adding up here so that I
could actually adjust the response
manually instead of using their code
there so go to the add response and take
a look at the syntax view the syntax
view you do need to install additional
one on top of the video otherwise it
won't show okay so one thing i could do
is i change the title and the put a big
test in front of it and save it okay
it's just a test and then i go back to
my code okay ticka ticka sorry take a
quick look here I looks looks good
tested it in front of that that means
I'm changing the right response on to
this page okay now next is finding the
code which is basically generate this
piece of a video now because I'm doing
it as so many times I know where to look
for and then this is the tip file they
put everything and what you see is the
problem here is they're checking I don't
know if you can see it but they're
checking basically the fresh their first
choice is using javascript to display
the fresh if not they try something else
right so if you look at that it's
probably not a good way to use fresh as
the first choice we should try to use
html5 tag we should try to use all the
nice feedback so I'm actually going to
leverage some of the code but get rid of
some the other code here so let me
actually get rid of some of the code
here and and putting everything and then
is here so now I actually to save some
time I put on my coat there so basically
I put up html5 video and then I'm
actually give it a control give the the
video file attached with that and then
also says if that a particular browser
doesn't support a fresh that since
absurd doesn't support HTML video tag
then I would run all the fresh here so
this is basically my coat
so let's copy and paste the whole thing
into fedora all right so make sure
everything ok it looks like a right so
that's save it and now let's run it
again you think it's going to work Wow
perfect so the html5 video works right
and then it works with chrome as well
and one more thing I want to show here
is it actually works with the IE not
just I 11 but the older version as well
so let me actually give you this is I 11
right so this is a fine this is a wizard
support html5 video tag let's actually
move into you want to try five or seven
ye doesn't matter ok let's try 77 does
not support an html5 video right and the
only thing you wear support is public
fresh let's see if it's working let's
just give a little time is it sir it
takes a little longer
hmm okay let's just let it run a little
bit and then move on a little bit
because I'm out of time but basically
the idea here is it is working even with
the odd browser because this piece of
code is supporting everything here right
so you should be working ah here we go
so this is again this is a this is a
video tag see here it is walking and you
see why it's a fresh it's a fresh feeder
so this is again this is our I a 7 this
is ie7 and obviously we could have
changed the back to you I 11 and then
that way you could actually see it's a
html5 video praying okay so with that
and people worry about what if I you
know I want to go back right so all you
do is quit quit fedora and everything
will go back to the original which is
not a supporting fresh like this right
so don't worry about it too well screwed
up your life site use video you could
add it to the response and then make the
site the way you want and then lay down
move on to that okay so wrap up sorry to
take your extra time basically it's a
takeaway so you should avoid a browser
detection avoid agent sniffing right you
should always use feature detection use
moderniser and watch out to your CSS
prefix and if it's possible use the
tools to generate outer prefix and then
watch out all the part of use and
implement nice fallback way like the
video one so that your site will run
across all browsers thank you very much
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>