<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>RhoStudio Introduction to Building Native Apps | Coder Coacher - Coaching Coders</title><meta content="RhoStudio Introduction to Building Native Apps - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>RhoStudio Introduction to Building Native Apps</b></h2><h5 class="post__date">2012-07-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ClsDAq1ty8M" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so just want to introduce myself my name
is Rob Galvin I'm responsible for the
developer community around the row
mobile product suite I have been with
motorola solutions for about eight years
now been doing development for a number
of years on a variety of different
things I've started in database
application development moved into
shrink wrap software development have
done some some web development as well
in about about probably bout nine months
ago I took this position to take on the
developer community and support you guys
right and in in that time I've seen oh I
have seen a lot of developers and
customers that have been making the jump
or trying to make a jump so in this
presentation what I want to cover is
kind of go through building an
application step by step and as we're
going through that pointing out some of
the things that I've seen people like
yourself they have fallen into as far as
you know traps and just getting up to
speed with with rocio and building
application this demonstration and code
is also online so if you can't keep up
and you want to you know do the code
after hours or another time it's
available and you can download it in
this tutorial as well so just kind of
has a show of hands how many web
developers do we have in the room ok
good if so and how many are developing
on a mac okay all right so I'm sure if
you've seen some of the documentation
and webinars from from Rhodes rhomobile
everything was kind of mac focus i'm
trying trying to make this presentation
more towards the windows developer and
kind of go through the scenarios there
so have a couple slides to get to i'm
not going to kill you by powerpoint i'm
actually going to go through a rose
studio and point things out and they
jump back into PowerPoint just because
it may be a little bit easier to see on
the slide instead of the code but really
just kind of walking through the
application
and building an application we're going
to build a inventory management
application so this is for the person
that's in the store going through and
just taking inventory of items so
they're going to scan the inventory it's
going to show a picture of the inventory
of the item and it's going to keep track
of how many times that person has
counted that item okay so we're actually
going to build this application from
scratch we'll walk through it and then
at the end I'll have a couple of those
slides to go through some of the
recommendations for debugging and
logging and also kind of talk through
some some best practices and leave you
with kind of like three three top tips
recommendations all right so let's just
talk about the application approach is
really quick with the introduction of
rhomobile sweet we're really giving the
developers kind of the best of all
worlds right you have a lot of choices
for developing applications the first
kind of approach that we've seen is the
basic I have a web application and now I
want to enable device capabilities I
think somebody over there in the last
session and an example of that and today
you know we give you row elements
version 1 which you install on a device
okay you don't need to compile anything
you just basically need to point it to
HTML code okay and we provide you HTML
and JavaScript API is to hook into
device capabilities as well as html5
features the next kind of step up to
that is what we call hybrid web
application and Jeff remembers going to
be doing a great demonstration later
today and tomorrow on taking that HTML
and packaging it up as a native
application right so yes you'll need to
compile this application and Rose studio
but it's kind of like the baby step into
the Rose studio world you don't have to
go full bore and learn Ruby and etc you
just need to take your application and
include it in a row studio project and
now you can customize the icon you can
change the splash screen and really make
it look like a true native application i
have an example on my et-1 and i'm going
to show you guys later that we did it's
it's very simple so that's kind of the
next step
I'm not going to be talking about those
two application approaches I will be
talking about the next to which is a
native two variants of native all right
and the reason I have them down is to I
just want to talk about the second one a
bit is this concept called shared
runtime and I have a slide on this later
on this is a new option that we're
giving you guys for scenarios where you
need multiple applications on a device
and it allows you to really kind of
deliver the application in the smallest
form factor and really have the minimize
footprint on the device and in these
scenarios the native application
approach which we're going to walk
through you now have the full HTML
Javascript and Ruby device API is that
that we give you okay so this is really
the comprehensive list okay so Rose
studio probably cover this really quick
this isn't an eclipse-based ide it's a
plug-in so if you already use Eclipse
showing hands who's familiar with the
clips okay so pretty good good good
amount it does require the native SDK
installed in order to build the
application will talk a little bit more
about that in a second the nice thing
about the Eclipse plug-in is that it
does include a simulator row simulator
and I'm going to use that in showing you
how to develop an application because it
has some really nice tools to help you
build your application so application
behavior so at the end of the day this
application will really look like a
native application it will smell like a
native application it will look like a
native application but was really
important is that it really is behaving
like a web application it's essentially
a mini web server that's running on a
device where your application you what
user interface is HTML Javascript ruby
that is being presented by our motorola
WebKit and it is behaving like a web
application so this is really important
it's like one of the traps that I'll
talk a little bit more about in the
later slides but this is really
important just to understand how it
works because your interaction between
the different layers of the applique
you'll need to be aware of how it's
behaving and it's like a a web
application so your application is
sitting is being presented by our web
kit and like I mentioned before we
expose some device api's through HTML
Javascript in Ruby and then on top of
that it's the RO mobile platform which
provides some services so database
services synchronization services data
encryption and and that's what's talking
to the native layer right you can see
the little puzzle piece there that
really represents an extension model for
you to expose to your application so if
we have if we don't have an API that you
need and you need some native
capabilities you can still hook into
this this role mobile application by by
writing an extension and we do have some
tutorials on doing that and
documentation online i think somebody
actually had this yesterday in the pre
conference session that we walk through
so anyway all right so really quick one
of the questions that came up quite a
bit yesterday in his way through the
slide in there may be more cover this it
was out of the room did he cover this
this slide already but anyway they
really cover really quick a role
elements application when we build an
application Rose studio and you'll see
this is a checkbox that says now use row
elements ok so Rho elements is the
comprehensive set of api's and and
functionality that we had available in
version one and now we've integrated
that with the roads platform so Rose is
really kind of a subset of a row
elements application in fact we actually
move some enterprise features from roads
and now are available just inside a row
elements application so it's you just
need to be aware of when we talk about
row elements it's the entire set of
things here that we provide ok
alright so let's jump out of power point
and we'll just start building an
application so I already have I'm not
going to go through the installation and
setup of the development environment I
talked about that in a little while so
I'm not going to cover that we're just
going to start with building an
application and then I'll come back to
some of the nuances that I have seen
that developers has has experienced when
they're setting up their development
environment so this is probably really
hard to see from the back isn't it yeah
okay all right plus a federal loan
through I have these and slides as well
if we want to flip over to it so we're
simply we already have a a project
generator so an application generator
and you're simply just going through
this wizard that we have and again
you'll notice that there are many other
things here and again this is an eclipse
plugin so eclipse is used for other
development platforms for those who are
not familiar with it but you you're
going to want to pick rhomobile role
mobile application and this is going to
essentially define a structure for your
application i'm going to walk through
what that structure means and the
different components of it so you
understand what is going on here when
you do this you don't have to go this
way this is just an easy way for you to
quickly get started with building an
application so i'm going to go ahead and
we're going to we're going to call this
an application inventory management
application I can spell it and you'll
notice as I mentioned before there's
this check box called use Row elements
okay when you check that that is going
to signal to a row studio that your
application is a row elements
application as opposed to a Rhodes
application okay so that's going to set
up the configuration and the build
parameter so that all of the components
that we need to support all of those
capabilities that I showed before are
going to be in there so that's really
important all right so we'll just click
finish
alright so it takes it takes a second or
so to and probably on a faster machine
in mind to actually generate the
application while it's doing that I
think I want to jump back to the slides
that I think it's going to be this parts
going to be easier to see from the
slides okay and I'll show this to you so
you know I'm not doing smoke and mirrors
here but when you set up when you create
a new application you can see there's a
lot of things going on here that have
been set up already for you know just
kind of walk want to walk through what
are the different different points to
that so that the main area here is the
application folder this is where your
your core application code is going to
go and your seat you'll see that there's
a couple of different files okay the ER
be files are what's called embedded Ruby
we call them views this is your
presentation layer for your application
and we'll look through that in a second
the RB file is your bit is your Ruby
controller this is where if you're
thinking about like a dotnet you know
web application almost like the code
behind is in right so this is where your
Ruby code would go to provide methods
and actually do operations the
application is kind of driven by this
this file called the layout ARB and I'll
show you that in a second and it's
really just kind of a default layout we
set up the kind of the default HTML
structure for the rest of the
application there's some some things
where you can actually change the
loading page and the and the loading
bitmap that are shown okay a public
folder which has the the linked CSS and
JavaScript files by default we're
including jQuery jQuery Mobile you'll
see there as well as the corresponding
CSS this is where you would put you know
other JavaScript files images as well or
in there and then really kind of like to
two important files here the you'll hear
a lot build gamal or dot yml and this is
build time configurations this is
probably the number one area where
people make mistakes when they're
setting up their development environment
and I'll talk about that a little bit
more the rogue config dot text is
runtime configuration so this files
access from runtime so things like
logging other parameters are in there so
it's important that you really
understand these two files okay alright
so let's look at the layout erv for a
second so you understand what's going on
for those of you familiar with HTML
looks this looks very familiar right
standard HTML tags and then you'll see
in here that we have things that are in
you know percent brackets and this is
the embedded Ruby syntax right so those
remove net the same thing with if you
want to have embedded you know C sharp
or visual basic same exact thing this is
all this is all Ruby code and we're
doing some free conditional statements
based on our experience with a different
platforms we made two may need to
include a different CSS file so this is
just again this is just a default setup
if you wanted to come in here and now
there's a new latest and greatest
JavaScript framework library you know
you can basically wipe this whole thing
out and start with the example that they
provide on their website so this layout
file is really you know kind of
controlling the view and the look of the
application all right so when you set up
your application to run for the first
time you want to set up a run
configuration and in Eclipse you can
basically set up you know a run
configuration parameters for each
application that you have so that you
can control the different behaviors
maybe want an application to start off
in in in android windows mobile etc and
the key here is that when you're setting
it up you have a choice of the platform
that you want to run in and then you you
can also pick the destination so there's
three choices on the destination there's
simulator row simulator and then the
actual device okay so Rho simulator is
something that I wanted to demonstrate
and hopefully we'll be able to get back
to that the simulator for the platform
is
the platform simulator right so when you
have windows mobile setup you have the
emulator for windows mobile android etc
and if you want to run in the platform
simulator there's a special thing you
need to make sure that you're aware of
when you set up that linkage in in the
building a Mille here's the project
that's set up here's the folders that we
just talked about in slide we're okay
and now what I was going to actually
show you is was running the application
for the first time just so you can kind
of see what's happening right I know
this is very basic and some of you have
already done is probably like all right
Rob you know let's go on with the rest
of us you know just getting to this
point want to make sure everybody
understands what they're doing so here's
where you're setting up your run
configuration you want to select for a
mobile application you want to choose
new because you're setting up a new
configuration so we'll just call us I am
for now android real simulator we're
going to work on real simulator that to
me seems to be the quickest way to
develop and test your application just
to make sure the views look right the
flow looks right is to use Row simulator
it loads much quicker than the Android
simulator much quicker than the windows
mobile simulator I would try to use Row
simulator as much as you can obviously
you can't test some of the device
capabilities like scanning or image
capture but you can definitely use it to
to you know basically just test the the
main application all right so let's just
run this guy
okay so you can see that really nothing
much is going on here but an application
did load sample page and I'll show you
where this is in the code and you have
this this web inspector some tools over
here which I'm going to get back to this
is a really great great tool for you to
use to help you know troubleshoot and
debug your your application but anyways
p let's just take a look at the code and
kind of see what's going on here so i'm
going to load the the layout the layout
er be we have that in slide where you
can kind of see it here and that text is
really small so we're just going to I
meant to do this before just increase
that text
where's workspace
yeah i'm looking at it sideways okay and
then we just have basic right
okay is that better get rid of this okay
so here's that code that we were just
talking about in slide where we'll skip
through all this this is all conditional
statements that like I said are loading
different style sheets doing some jquery
stuff here a lot of things going on here
and just kind of setting up the default
application and as we get to the main
body of the of the web page you can see
that this placeholder for content so
this configuration parameter that
actually says where to get this default
start page from it defaults to your
application index ARB so if we look at
the app index again it looks like a
standard HTML page we have some standard
div tags you can see for those of you
familiar with jquery you know standard
kind of jquery syntax to delineate how
the application looks some more
conditional Ruby here just to kind of
explain what's going on there so you
understand if the person is logged in we
change the button for the
synchronization engine so just some
simple conditional statements happening
there and then this is what we're seeing
on the screen right add link here that's
all that's happening right now okay so
not very interesting now let's make it a
little more interesting let's just close
the simulator for a second and now we're
going to actually add our first data
model and before I do that let me just
jump to the slides just to make sure
we're okay okay before we add the data
model I just want to talk about the the
database for a second some questions
came up yesterday about what we what we
provide in our database services so we
call our database ROM it's a mini
database object mapper for row and under
the covers the database is sequel light
except for
Barry but on all the other platforms its
sequel light there's really two choices
you have when setting up the data models
there's property bag and fix schema okay
property bag is what we default to this
is very good for when when the data
schema is possibly changing and you need
to easily you can easily add new
attributes so if you have a new field
you don't need to go in and create
modify table structures and and set
properties you basically just start
using that that new property for for the
object very easy very fast everything is
indexed it's on a single single table
okay so super quick lightning quick and
it's it's great for adapting for for
data migrations on the other hand we
also offer fixed schema method and this
is for a traditional you know relational
database type of structure we're
actually defining tables and properties
for each data mom okay so in this case
you know indexes may need to be set up
manually so maybe you know somewhat
slower in that regards but you have both
both opportunities for different types
of data models here and what I'm going
to show you now is is the property bag
model okay so we're going to go in here
and we're going to actually create this
model I'm going to right click on the
app folder this is where all our
application code is going to go and I'm
going to say new row mobile model okay
and now we're coming in here and we're
defining a product catalog
we're going to have ups we're going to
have and by the way it is case sensitive
so just just be careful of that we're
going to have to to data models really
hard to type in you're not looking at
the screen I'm going to have to data
models one is going to be the product
catalog this is the you know typically
this you know this might come from a web
service or even using road connects
synchronization services for loading
your product catalog in our case we're
really just going to store three fields
we're going to you know store the name
of the product we're going to store the
sku which is the barcode we're going to
store a base64 representation of an
image so we don't have to transfer files
for images we just basically use a
string okay and it's really easy that's
how you define your model you just come
in here define the name of the model and
again it's k senses so be careful of
that and then you just define the
attributes okay so if I click finish
it's going to go in and let's take a
look and see what it what it actually
did so you notice that it created a new
product catalog folder under the
application folder and it basically set
up the main operations for that product
model default views remember ER be is a
view so we have an edit view we have an
index view we have a new view we have a
show view which is just to show the the
product catalog item and then we
actually have a product controller file
that ables all of the operations for the
data model okay so if we just take a
look at the new one you can see that
it's basically a form that has the
fields that we define so you see product
catalog name plot a catalog skew and
like I mentioned before with the
property bag model we will want to add a
new field to the product catalog maybe
category we would just essentially just
copy and paste this section of the
bag and now add product catalog category
and now you instantly have a new
referenceable field for your data model
okay and if we take a look at the
controller you can see by default we
actually create all the crud operations
for the data model okay we'll walk
through this in a second so you can kind
of see what's going on so now in order
to access that let's go back to our
index page we just jump back to slides
just make sure to get anything so we
have the default crud operations for the
views the controller which will explore
a little bit more in a second and now I
want to pull up the these default views
I want to show this new product model
and use it okay and the way to reference
views and actually anything inside of
row mobile is to basically use the
controller name or the class and then in
this case I'm calling a view so it's
going to be controller / view i'm going
to add to the index drb product catalog
which by default will load the index so
whenever there is not a view reference
it'll always default to loading index
ARB okay but i'm also i'm just going to
show you how you can reference directly
to a specific page right which is going
to be important for our application so
let me go ahead and do that hope you
don't want to jump the head there all
right jump back
alright so we're going to add and just
so you don't see me typing because it's
getting a kind of monotonous here I'm
just going to copy and paste it so don't
mess up alright so back over here
alright so basically what i just did was
added those lines of text i showed you
in slides okay alright so now let's get
back and do the run run it again alright
so run run configurations telling me
that something's changed yes okay see
how fast it comes up it does actually
come up pretty quick when using real
simulator so now we have 22 new items on
our index page and this should go to the
this loads the index page for the new
model that we created and just by
default you can you know easily see that
we have here's the new page right and
you can basically go in there and
exercise and actually see all the
default crud operations that have been
set up for you just with doing that new
data model wizard okay and here's the
the other one that we just referenced
right to the new screen so this will
jump right to the new page okay so still
not know super super interesting but
this is a really quick way for you to
generate an application generate a data
model and start playing around with it
in understanding what's going on so it's
very good for for learning okay all
right let me just jump back to the
slides okay so now let's we did we
actually did a new record okay so let's
just take a look at that for a second
this code
right here is in the the new dot e RB
view okay and what it's doing is it's
doing a post and it's it's saying you
know post to the URL effectively product
catalog / create so it's it's posting
this form to product catalog / create
which in turn calls this method inside
of the Ruby controller first okay so the
way that the URLs referenced is actually
comes to the controller first and if
there's a matching name associated with
that URL it'll execute the code inside
of Ruby okay and then it'll either
redirect or or go to that page if there
was a create dar be so on the new page
we're actually doing a create and it
effectively calls this rom API so for
every data model you'll notice that I'm
using the data model name here product
catalog and for each data model that you
create you'll have a set of ROM AP is
that you can execute in this case we're
executing the create API and passing it
this this full object okay and that's
actually creating the new record and
then we're returning back to the to the
index page okay is a URL here it's on
the docks website if you go to the wrong
API section you'll see a full full list
of api's alright so let's just do some
pre loading of data and make this a
little bit more interesting because I
know it's probably pretty boring right
now so in this case I'm just going to
load the data from a JSON file now like
I said before typically what you would
probably do is you would either set this
up so it comes from web services or
maybe you do want to preload it and we
actually do have a better way of seating
the database but the way the reason why
I'm showing this to you is I just want
to show you you know how to actually
interface with JSON and then also just
to possibly preload some data this way
so the first thing I'm going to do is
I'm i'm going to create this file
inside of row studio and I'm going to
create a file in the public folder and
I'm just going to call it products not
text oops i did a new project sorry all
right new file all right products text
okay I'm just going to paste this is
JSON file really quick there's three
fields it's descubre code the name which
is the name of the product and then just
to have a base64 data URI representation
of the image so i have to send any files
i can just include a string of data
yours as my images okay so that's just
creating the file now I want to actually
come in here to the application
initialization page go back to app
and if I go into the app application dot
RB this is where the product at the
product the the application starts so it
initializes we'll do some things in here
a little bit later and I'll probably run
out of time with this but essentially
what we're going to do is now we're
going to load the database load the
product catalog table from this JSON
file so let me just go back to my Andy
dandy copy and paste cheat sheet here
and then I'll explain what's going on
like I said there's there's better ways
of doing this but I'm doing it on
purpose so I can show you guys some
things here all right so let's just kind
of walk through this really quick and
let you know what I did so I'm checking
to see when the application launch is to
see if the product catalog has been
created and i'm using this rom api again
this time instead of create am using
find and we're just seeing if there you
know find all and we're seeing if it's
empty if it's empty using another API
that we provide you to access files and
getting the JSON file and just you know
iterating through the JSON file and we
also provide this nice JSON library as
well for you to parse the the lines so
effectively it's reading each line it's
parsing them from json and for each
object each JSON object that iterates
through it again is using this rom api
to to create a record now instead of
passing in an object like we did before
i'm doing it this way to show you that
you can actually pass in this hashtag
and for those of you don't know hashtag
is it 10 the Ruby one-on-one session
that we have tomorrow but effectively
it's it's it's passing in this object
this way and creating you know creating
the records that way ok so it's going to
do that on first run
and that's effectively it i have some
comments in there so now let's let's
save this and just buy a but i always
forget to close the simulator but i
always like to just close it and restart
it in case you don't have to when you're
just changing views and things let's do
another run run configurations so now
i'm going to look at the product catalog
and because it was an empty remember i
created that record before the code
actually didn't run so i forgot to do
something in my step so what I'm going
to do here is we have a nice way of
resetting the database so this is kind
of pretty built in here just as a quick
quick way for you to reset the database
and then I'm just going to launch it
again
okay so now you can see that the records
that we had in our JSON file actually
got created so this might one by one and
created a new object we can jump into
the show page and actually see the data
that came in here so that's preloading
it we want to obviously we don't want to
show the image like that we want to make
this list look a little different so
we're going to do some quick quick
changes to the to that page to show you
how to make it look a little bit more
interesting that's not wanted okay so
let's go back to that list page now
remember we were showing product catalog
and a default list is index so I want to
go into index dot e RB you'll see that
there's a dot b VAR b that's for
blackberry so we're not doing that right
now so i'm just going to go into index
and you can see that that's not the one
I want I went into the wrong one so I'm
in product catalog it is a right 1 i'm
sorry product catalog and it's going
through each product catalog item and
it's it's just showing the name right
now again embedded Ruby and it's showing
product catalog which is the name of the
variable here notice the case is
different right dot name okay so it's
just showing that now we don't want to
show the name we actually want to show
something a little more interesting so
I'm just going to post a copy and paste
some jQuery simple really simple jQuery
code here I didn't follow my slides
sorry guys actually wants to do one
other thing first
ok
so before I do that let me just go back
in here okay instead of the list I
actually wanted to just show you how to
modify the images for the sake of time
will kind of skip this step is going to
do it anyway inside of the the next step
here actually I'm just do it really
quick she only take a second so I wanted
to show you I was jumping ahead of
myself the product show page and
actually changing the image instead of
you know the actual image we just want
to add an image tag here to show you
that it's displaying the image say that
and here's where the where the case is
where you can probably just come in here
and refresh the page I don't have to
reload it it was just a change to the
view so in those cases you can pretty
much just you know have the simulator
still running without having to stop it
and launch it again okay all right so
let's just jump back to the slides for a
second and i see i'm going to quickly
run at a time but let's see we can buzz
saw through here really quick to 45 all
right so all right so we want to add a
second data model in this case and this
is the inventory inventory catalog which
is where we're actually doing the
scanning
so we're going to add it add another
data model we call this inventory and
then we're going to we're going to
create new tunu tunu properties sku in
quantity
ok
alright alright so we are definitely
going to run out of time guys I'm sorry
about this so i think i'm going to kind
of cut to the chase here because there
is some important slides i want to get
to as far as debugging and things like
that i think you guys kind of get the
idea of the application again this
tutorial is all mine and i apologize i
did i did test this out and it was a lot
quicker last time i did it so what I
want to do is actually get out of here
and just kind of show you the
application working okay so we're going
to flip over to the e t1 which I have on
here so it's getting cut off because of
the DVI signal but you can you can see
here that this is the page that we were
going to create which is very simple and
shouldn't take an hour but it is
unfortunately so we basically set up our
default pages and we created this new
page without touching any of the kind of
default pages that were set up okay and
on this page what we're doing is when
the page loads we're actually enabling
the scanner using one of our mobile AP
is that we have available so the
scanners on in this page and when it
when it scans for the barcode if I can
point over and then Missouri okay the
volumes off okay let's keep it that way
it actually put retrieves the the image
from the original product catalog page
displays it on this page and just keeps
account and it keeps a running count and
the button on the top here actually goes
through and pulls up that same index
right so I went through the Wizards just
to kind of create the pages and I'm
recommending this as an approach for
those of you are new to go through those
Wizards keep all that stuff intact and
then when you're actually developing
your your code build new pages and
reference those objects inside of those
controllers and that's kind of what I
did here you'll see it online through
the tutorial if you follow through it
and you'll see it in the source code ok
and that's essentially what this
application does very simple could
probably be jazzed up quite a bit more
but that's essentially it so in this in
this case i want to show you creating a
data model spring some new pages and
then hooking into the device api's all
right so we'll just what kind of buzz
saw through the slides just because
we're running out of time and kind of
talk through what I just showed you so
here's the code where we actually went
through on our inventory index page and
we're looking up the product by we're
doing another rom API for finding the
first the first record that has
conditions now so here's we're actually
adding some conditional statements to
our rom api's and i'm saying all right
where the sku is equal to the SKU that
we're trying to show in the list page
and if it's found them retrieving the
image and then effectively just you know
setting a variable ok and in this in
this case we're just we just changed the
way that list is being shown this is jay
query syntax this span class blah blah
blah is a nice way to show a thumbnail
on the left and a badge count on the
right-hand side and that's what the page
does so this is list this is the list
page for the actual inventory ok very
simple there's really no magic going on
here it's this page right here ok then
this is where we actually created that
scanned page right that that we just
showed very simple div tags some
placeholders for
are you know for the different pieces of
the of the page of the image you know
the barcode the product name etc what's
interesting on this page is how we're
referencing the index list remember when
we click the button we actually went to
the list of you know inventory that we
scanned in and it's referenced again by
app / inventory so this is all you know
you need to make sure you're matching
the names right inventory / index so
it's loading inventory and then the
actual index remember as I said in the
beginning this is a mini web server
application this is why it's important
Singh the different pieces of the code
okay and that's what's happening here
we're doing inventory / scanned page and
that brings you down to that page so
that's how it's referenced just just
just through typical URL references on
this so witness like I said before when
this page loads when we reference
inventory / scan page or actually it's
checking the controller file first to
see if it has a matching method for
scanned page so we added this to the
code or we were going to add this until
we ran out of time we added this scanned
page which matches the URL referenced
and this is where we're actually
enabling the scanner so two lines of
code here I just enabled what happens
when the decode event happens and we're
going to call this decode event callback
method which we would create and then
scanner dot enable and that enables the
scanner so before that page is loaded
this this code here execute and then we
created this decode event call back and
effectively on this event based off of
the API that we used this scanner API
returns params array and one of the
fields in the params array is data which
is the barcode so we set that to a
variable and again we're using the wrong
api's to find the product that matches
that barcode and the reason that we're
doing that is
we accidentally scan something that's
not in the product catalog we don't want
to miss it will just create a new record
and just the unknown product so these
could update it but more importantly
what we're doing here is we're actually
looking up if it has an image we're
doing this function here called webview
execute jas this is really important
because this is how you communicate back
to the view right so remember we're in
Ruby or in the code behind now we want
to tell the page to do something we want
to tell the page to load that image so
we provide this web view remember it's a
mini web server application everything's
display through the web view so that's
how we communicate from the code behind
to the front end if you will and we're
saying execute JavaScript this
JavaScript function that we create that
essentially just changes the image
source it's not only anything
spectacular here but just want to show
you that that's the big communication
link there between the kind of code
behind the front end okay so more stuff
that we're doing on the decode callback
is you know where we're finding to see
if we scan that inventory already if we
did if we didn't then we're going to
create again like we just like we
pre-loaded the product kind of lock
we're using the ROM API here to create a
new inventory item record skewing
quantity setting it to one otherwise if
we didn't find one we're actually I mean
if we did find one we're getting the
current count converting the value to an
integer and updating it now again this
is a rom API to update attributes this
is how you would update a record so in
this case the inventory item is the item
that we found so I already have an
object and now we're just calling update
attributes to update the quantity
property for that object okay and then
again at the bottom we're calling this
webview execute j/s so this way we
display the product name the I'm sorry
the bar code and also the current count
okay let's get this one
okay now going the other way let's say
you what we didn't show in the what I
didn't show in the demo was when the
application first loads it checks the
current count so what i'm doing here is
i'm hooking into the page live event
again this is jQuery syntax for
understanding that the page is fully
loaded and that we want to do something
and in this case I'm calling my Ruby
method that I created before which I
breeze through this get inventory count
is something that I created in the
controller file so now it's the other
way I want to communicate from the from
the view from the web page and call the
Ruby method in the back end and remember
this is a mini web server mini web
application how do you do that for Ajax
right so dollar sign get is just a
jQuery syntax for Ajax and then what's
important here is the path so I'm
referencing the path here to get to the
methi right so it's you know where is
that method it's in the controller it's
in the inventory controller under the
application and that is executing that
that code when the page loads and then
in return you know that page is is
displaying changing the display on the
button all right running out of time I'm
going to skip this running on a device
okay here's some really important things
to note big problems that we had
yesterday for people setting up nothing
problems but things that tip people
typically run into is when they create a
project remember this this relies on the
underlying SDK for it yeah thank you in
order for it to execute so it needs to
be linked properly right and the way
that we do that is we actually provide
in the build llamo remember I said that
the build-out yamel is very important
there's two things you need to make sure
that you have set up properly the first
is in Row studio preferences that you
actually have links to the particular
SDKs there and proper rights
in Windows Mobile I'm linking to the cab
wizard and I'm also linking to the
visual studio build tool if you don't
have the set properly it's not going to
build the application it calls out to
the native SDK and it all through
command line basically and it compiles
the application so it's important that
you have that set up properly the other
thing that's important is like an online
machine I don't have Windows Mobile
professional SDK installed I have
professional 653 DDK blobby blobby blow
this name needs to match what you have
in your SDK installed right same thing
for Android I don't have android version
two dot one but that's what we default
to so I have to dot three dots very or
whatever it is if this SDK doesn't exist
in your Android SDK set up it will fail
to build right so this is probably like
eighty percent of the problems that I've
seen recently on people saying hey it
doesn't build right and because things
are command line you may not really
notice that in in the build log as
you're looking at it okay and there is a
bill blog that is you know displayed as
your as you're compiling you'll see you
know see things happen look at this log
file it may not be that last error that
you see as you guys are familiar with
log files look up above obviously and
there's probably some clues up above and
this is what I was talking about before
you need to make sure that the names are
mashing so this is visual studio here's
Android and if I didn't have this
installed then this two dot one is not
going to work right so very important to
make sure that set up properly in the
sequence of events think about the the
way that it works is it compiles
rhomobile components then it reaches out
to the native SDK and tell Zack to
compile the final product and then it
creates this APK in the case of Android
or cab in the case of Windows Mobile
under your project folder okay inventory
management bin target this is where that
file is going to end up and then it
tries to push it to the
so in some cases I've seen people who
say that it failed to build it didn't
get on the device well this I would
check here just to make sure that it
actually got to that step maybe it's an
issue of active sync or the way you have
Android set up for development and that
it's not communicating properly so you
can kind of narrow down where the
problems are and then you know this may
sound stupid but I know we're at a time
Adam but try hello world application on
the native the native SDK just to make
sure that in build environment setup
properly ok we're going to blow through
some of this ok I will I will spend a
minute on this and they know we're going
over Rose simulator is definitely a
great tool to get familiar with it has a
fantastic resources there for checking
you know the contents of the page page
load time where is it loading is it
taking time in in scripting is it taking
time in rendering this is definitely a
tool if you're not familiar with this
you should definitely get familiar with
it it's also available on other web
browsers as well similar tools so
definitely you know get familiar with us
it has several different different tools
for you to debug your application
logging shared run time we talked about
I'm just going to three final thoughts
and then we'll stop so one thing I just
want to mention like I said before the
application is a web application mobile
web applications so think like a mobile
web developer right get familiar with
the tools even tools that are outside of
Rose studio that could help you in your
application development right other
words page construction use of
JavaScript you know what have you think
you know you although the application is
a native application think about it in
terms of a web application definitely
want to avoid you know a bloated page
again web application mentality we've
seen some some customers and partners
that have tried to load everything on
the page keep it simple you don't real
need you know a hundred million sub div
tags that you're not even displaying
half of them right so be aware of that
use Ajax only load you know what you're
actually showing on the page and not
trying to put everything in this one one
massive you know Dom structure and then
lastly you know watch out for overkill
I've seen some applications where they
had 50 JavaScript libraries and do you
really need to do all that think about
it a hundred times before you actually
actually use it you know if you're just
using jQuery just for the dollar sign
there may be other ways to do it so just
be aware of what you're using and why
you need you may not actually need you
may not need all that so thank you again
apologize for running over and sorry we
couldn't get everything</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>