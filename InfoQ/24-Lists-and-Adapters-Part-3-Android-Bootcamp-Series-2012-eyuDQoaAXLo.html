<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>24 - Lists and Adapters - Part 3: Android Bootcamp Series 2012 | Coder Coacher - Coaching Coders</title><meta content="24 - Lists and Adapters - Part 3: Android Bootcamp Series 2012 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>24 - Lists and Adapters - Part 3: Android Bootcamp Series 2012</b></h2><h5 class="post__date">2012-03-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/eyuDQoaAXLo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright so let's just quickly review
what you've done so we built this thing
called timeline activity right and it
looks oh what happen to my emulator
weird um it looks like that emulated we
have blew up in the break so um all
satyam second but basically what we did
is we subclassed um in oncreate we got a
cursor we got the adapter and then we
set that we set that adapter to that
news 2022 that list rate so essentially
if you look at this design we basically
this is our cursor this was our list
activity initially was the list you know
it's illicit activity and this was our
adapter was basically providing for the
globe eternity so far so good so that's
what we did before the break and and the
way we implemented that was this then
the problem that we had was the mapping
of a particular column in this case it
was that created that we wanted to
inject some business logic so we wanted
to come here and get say is I have it's
a ten minutes ago half an hour ago that
sort of thing so that's why we went and
bothered creating this view binder
normally you wouldn't have to have that
but that's why I picked certain methods
that I knew would kind of point out to
this shortcoming so that we get to
implement it it's a motivation for it
right so that's that was that those our
view binder and I finally I moved to the
the menu system from from the other menu
to to this one so right now I have this
looks like that's if I run the app
but it's my app so that tells you who
posted what all right and if i want to
go to the next menu I can go preferences
okay and I cannot do the Preferences
right and the one that we don't have is
the way to get the to the status update
so now that I changed what even is
product timeline should really not be
time going baby status update right I'm
just going to do that quick change so we
don't so in the menu I now need a way to
to go to the timeline update actually
i'm going to edit this one so the
postcode timeline it's going to be a
status item status update I just call it
status status update about it and then
for the text i think we really have a
piece of tax assessed as maybe not oops
i wanted to say status of it it's fine
oh oh I had one that status of it click
on save and then in my not in my talent
activity but in my this one I'm gonna
say dot item status update and then
we're going to launch status activity
that's it
right and at this point into me in my
status activity I'm actually take out
some of those style stuff just to leave
it to be be as straightforward as
possible i'm even take out this and just
leave a button and this what if i wanted
to convert this one to be a relative and
this is fine it's been going for a fall
of team there's the thing that's what it
looks like that's fine i'll just leave
it like that
so just couple of minor changes to make
everything look pretty I'm presentable
so there's my UI oops oh by the way
there's a holiday party at in the
building next break down stairs love you
so so this is this if I go menu the
status update gives me my status update
they can say hello from Paula oh just
there's a problem with the this I may
change some of this the skins or just
remove them another thing to be nice is
this menu we may want to rearrange it so
for example status update may be the
first thing that I want to do right
preferences maybe the second thing I
want to do and we fresh maybe the third
thing I want to do right so you can kind
of like rearrange these buttons for
instance or like this status refresh
preps whatever works for you and I think
I was going to change some of the colors
in my style because I don't I no longer
like them that's fine padding great Bam
Bam Bam I think the problem was the
manifest file we have a theme somewhere
else we have a theme anywhere right or
style okay so I'm gonna leave that as is
but I think something is still using the
theme
Oh
so this this would be like your standard
looking Android 1211 on look um app
right data menu start a sub date
and then you start a subject I thought
not not working almost all set up did
not not not clicking that's an
interesting question so status at is
going to launch this activity right menu
when you click on status updates that
will serve a bit sticky stuff subject
and I wonder if it has to do with this
private those provinces
so preferences label is going to be
press
I
okay so this is not launching
again
there we go oh just need to reboot so
see now I have to see why that looks
more like standard ice cream sandwich
hello from cola cool look back right and
now here it says yamba and if i go into
preferences it's as preferences right
and if i go into status update it says
status of it it's pretty kind of a neat
right you want yes happy cool um so a
couple of what are the problems that we
have going on right now let me close
everything one of the problems is that
is this if i go back to preferences to
menu um okay let's let me take a look at
the timeline public timeline hello from
hollow so this was there right okay it's
not here right right so the last one we
saw was this message that message is
there right so now if i go fine i can go
menu refresh
nothing happens why hmm yeah so we it
has I mean couple things I mean we did
this what did we do the the actual
updating of the data what did you do is
start getting the data right so which
see if I look at the timeline activity
which method did we do that where do we
get the data from davis on create right
and so how often the song create get
cold okay so so how would we do this you
can want it to notify
yeah we could do that we could basically
have one part of the system tell us if
there's something new right so for
example one one approach would be that
we could have this design right so this
guy knows that there's only knew it
could notify us and say it there's
something new do something about that
right make sense so this is now back to
back to broadcast receivers in a way but
it's in a different case different usage
right because we have to now use this
broadcast receiver within the timeline
activity so we could subscribe it and
say hey when there's only new refreshes
that sounds yeah why can't you save some
sleep who's going to call back how do
you call back okay
okay so that shared object would call
okay so i have a shared object because i
have that share i'll do work right mean
how do you do it in java you would need
to register yourself so the activity we
need to register itself with a call back
with a collar and something else would
yeah i mean presumably there's a way but
it's not as elegant right so um so what
11 mechanism we do have that was kind of
designed for these purposes was the
broadcast receiver right so what we can
do is we can define this timeline
receiver that's just going to be part of
the timeline so let's do that i'm going
to define it in timeline as an inner
class i'll say class timeline Lussier
extends broadcast receiver organized
import and I've done on implemented
methods right
context and intent
so now that we have a song that wakes up
what would this what'd this guy do when
it's woken up right so we can copy-paste
those lines right were recorded the
database
alright
so we will EE the cursor
and then what we need to do just
remember what it is laughter then what
we need to do is need to change the
cursor that we have on the adapter so we
need to do adapter dot swap
there's a change cursor there's a cursor
there's there's a swap cursor home
cursor and there's a difference between
now let's take a look really quickly um
maybe the document is something changed
but there are two basically different
things there's a in a simple cursor
adapter you can swap you can change its
cursor you can swap it skirts and one
just cleans up the memory differently
suave to swap the cursor returning the
old cursor okay doing it really care
okay so I guess we don't really care
about returning change cursor change
cursor changes down like okay so change
person is fine alright so that's the one
we're going to use so this basically now
only see is going to update the cursor
right
might as well do a little tax so we know
that it's going on log.d tagged com
well don't even tell a log thief
yes that's our broadcast receiver so as
you can see broadcast receivers are
pretty straightforward their tiny right
now how do you register dings broadcast
receiver you could register it in a
manifest and it would be registered for
ever and ever yes but to mix things up
to do things differently we're going to
register this guy programmatically okay
so to register it programmatically we
are going to need to figure out where
we're going to register for
grammatically so when does it make sense
to keep on receiving notifications to
refresh so while up oh well yeah right
but if it's not trying we're just not
getting any notifications to begin with
so it doesn't really matter so when the
timeline is in the foreground yes in
other words it's like in a running state
right so if you remember the this we
talked about this couple of times so we
want to basically limit it to this state
here right that's one design way so
where do I want to turn it on what we
want to turn off the registration yeah
let me do green for on so on resume is a
good place to do it to turn it on right
because all the roads go through on
resume and then unpause the good place
to turn it off right so what I would do
is I would go here and then after on
create i would actually implement i
would add those two methods so sore so
override implement methods and then i
would find the
on resume
and on a pause I'll just flip them
because they make more sense the other
way around that
so on resume is where we turn on and
poss marij turn off this so how do i
register is here but there is actually a
register receiver method you need you
need two things you need a receiver and
you need a floorpan
you
and then the counterpart of registering
is going to be I'm register right on
register oops
so we're like cost unlike manifest file
we're constantly turning this on off on
off on off right
so far so good so now we're going to get
to define a property for receiver so
defined here timeline timeline receiver
receiver
yes following so now let's see what
doesn't exist so we should instantiate
it I could do something like this lazily
right if a receiver is now receiver is
new timeline receiver right
so he just lays and initialize it yeah
why needed by the way just to kind of
compare notes to what we're doing here
because I'm mixing it to what you know
we did this before but you guys did it
like this so I just wanted to kind of
like say hey look there's an egg show
different way to do it in programmatic
way right and by the way the
programmatic way maybe a better way
sometimes like in this case it is
because we don't need this thing
registered all the time you just need it
while we're looking at it otherwise it
actually it doesn't exist if it was
registered outside of the activity being
existing doesn't make sense right it
can't update the list because the list
is gone etcetera etcetera so so what we
want to do here is so what we did here
is we said let there be a receiver new
receiver with such-and-such name right
and then what we have to do is we get to
provide an intent filter for some action
which is a piece of text right so that's
what's missing right now for for us as
well so we just got to provide a new
intent filter or some kind of text
so what we now need is just a piece of
text um people define this two piece of
text as a constant I'm thinking may make
sense to put it in the yamba app it may
be creator of create a public Blake
static final string and just up what do
you gonna call that action new status
and we can make up something like calm
dot example well dot yamba dot new
status so piece of text
right the druther I mean I can copy
paste this piece of tax but that leads
to type us so this is a little better to
actually put it as a constant
so now that we have that constant then
here we can say our filter is actually
going to look for young app dot action
steps so far so good it's pretty much
done right so basically what we've done
is we create the new timeline receiver
we instantiate it lazily we register it
for a specific intent filter for
specific text right so that's equivalent
of what you had going on here statically
right so we thought that was basically
it just that you've never seen it like
being unregistered before right in this
case we have to unregister it as well so
on pause we actually unregister this
receiver by doing this line here right
and then the receiver itself is super
simple it's basically just an inner
class here and it says only sieve get a
cursor so basically copy paste in this
line get the new data we change the
cursor that we get from before that's it
now what we've done so far is this part
of the equation we said what should
happen when we get notified right so
what happens one but it sorry what
happens on the receiver like what we are
registering for but we have not
specified who's going to throw this
notification where does that come from
right so who is going to throw this
notification mm-hmm um we could do yeah
I mean it could be let's see I mean
update service is one of them all that
service does no because through you know
for loop
and it does do the insert right so it
does do the insert by the way I may want
to shut down my menu stop service
so so we could do it here right in the
insert I mean I know in this with that
well them so both of them are doing the
same job right well but if refresh does
the same jobs update it is doesn't one
all that's differently but as it one off
right you know so it's the same thing
refresh service was also doing the same
job it goes to a young timeline and gets
saria was the insert into into database
so we would like to know you would like
to know if this was successful or not
right dad insert day datacom directly in
football instead of three two one google
I status data so let's take a look at
Stan's data of so inside the insert
there well it's closer to the action
yeah so we would yeah we could do it
here that's absolutely right we could do
it here we could send a broadcast you
get a new twitter and retweet the thing
is i will probably get 20 newt like you
say i do but it refresh and i got seven
new tweets that would cause 7e broadcast
intents to be fired if i didn't hear we
could definitely do it here i could send
you know send broadcast here right on so
but that's that would work but it would
cost seven times to say consider
consecutive get me to God need to you
know it'd be nice if there was only one
notification that says you got seven
tweets right so another oops another
option to do
this is to cap this guy actually let's
see so this guy returns along the idea
of the newly created draw or the primary
key resistant or if Dean parameter
company or minus I okay Ricky of
existing
we could do it how would you get right
so so what's a good way how would you
how did you dress this it's an
interesting problem so let's say in
refresh service how would we know how
many new tweets we got insert interns
account but insert insert insert posts
only one at a time which lists this
might could be hyper but this is defined
as getting 20 most recent tweets from 20
friends and 20 last 24 hours so we don't
know how many things are going to be
repeating it if I do a refresh refresh
I'm going to actually get 20
back-to-back but they're all gonna
beautiful
right yeah I could do that we could also
be a base it on time stamp right
presumably that's correct right right so
what one way we could do this well we
could clear a database but that sounds
like a lot of work okay so you're saying
you sink refactor this code into into
status data right okay so basically
saying this code that we have here but
you're saying that this code that we
have here so for status data right that
basically fetches the data instance of
the database we are repeating that code
here and we're repeating that exact code
here right that should be that's to
exactly the same piece of code right
right okay so where would you guys put
it now that you know the architecture
with the status data or another places
maybe Yamba okay okay so so basically we
could create so in status data we could
basically create a method that would
simply say insert such fashion insert or
something like that right porn porn
inside okay so let's let's do that i'm
going to create a another method here
public void for
and you served all right so it's going
to do something like that it's gonna
fetch
we don't we have context here
how do we get the application from from
from status data we have the context we
see context that get application context
hmm
I don't know if I can get application
from from here so it may make more sense
to put it inside the lambo app right so
let me let me put this code as a poster
here yeah so yamba could call well Yama
would call status data insert yes yeah
it would yeah yeah so let's uh let's do
it like this so in yamba app so just a
little refactoring so get weather on
share preference changed so i'll put
i'll put it somewhere here so so we are
basically creating a method that's going
to get twitter get timeline right and
then it's going to insert into tama very
simple right
right so pull and insert right
so we're just refactoring a little bit
we're just getting back to square one at
this point to simplify our code a little
bit
but it's interesting how you get to
touch all the stuff that we've done
before right so so pull and insert
should be pretty straightforward and
once you have that then your update
service you can cut all that stuff out
and you can just say number app
like that poem insert so that gets the
data
and in that case we don't have a twitter
exception anymore so this doesn't make
sense with that yes presumably idea then
same here i will now i would basically
replace all this code with that code and
actually on cadwal then becomes super
simple now
I got my refresh service back where I
wanted it like one screen right so and
by the way we really don't care about
the update service that much because
like I said we're gonna obsolete it so
it's not very intelligent in a way it
works I really care more about refresh
service so if professor is simple now
says okay let's go pull an insert in
India vApp right so we cut out a whole
bunch of stuff and then yeah Bob does
pull an insert and yes you guys are
right it could fail so we could catch
the source override insert you know
catch the exception that would be the
proper thing to do and I could say here
that it failed if it did log.e build
cool stuff
so basically a yang told us code and
replaced it with this one so your while
pull an insert wait 30 seconds and then
do it again
this code is very similar to refresh
service it's just that we have to manage
all this shredding stuff ourselves
that's why you have this like you know
spaghetti oh not spaghetti but it's like
you know layered quote stuff inside of
stuff that's why i like my refresh there
is much better which one or the other so
this was no new oh that's what that was
all that was all called oh just parsing
the blog stuff yeah
people enjoy the festivities
so so let me just recap what we're doing
so basically we want it we want to get
to something like this and our this guy
knows when there's something new right
it's aware of new tweets it's job is to
keep on pulling if I am looking at my
timeline only if I'm looking at my
timeline right I would like to get
notified that there's a new treat like
soup if I'm staring at it it says oh
look you got a new tweet like you know
the real Twitter does this pretty well
what is a real twitter browser now let
me just open it up so if i go to
twitter.com and i liked it like just sit
there I don't get to keep on refreshing
it's actually going to tell me hey you
got new tweets coming in after a while
so like it there's gonna be a little
notification here right so that's kind
of what you would like to to do to get
to the point if you would like to get
right so what I would do what you're
trying to do then is we're trying to
create a receiver timeline receiver
that's only going to exist while the
user is staring at this screen okay so
unlike this guy which is statically
registered to some system notification
right like boot completed okay and it's
registered done so in the manifest file
this guy is dynamically programmatically
registered unregistered by us also
unlike this guy getting a notification
from some system we are gonna send a
notification in this case and notify our
guides so it's a different use of this
concepts and principles are the same I'm
just kind of mixing and matching and
this is a good motivation that why we
need something like that right so that
translates into code like this I we
can't basically a timeline receiver
right which was just a broadcastreceiver
you implement only see blah blah
everything up until here is a copy paste
template we gather data
and we refresh the cursor on the adapter
that's it right so far all our broadcast
receivers have been one or two liners
right now what was different unlike the
previous guy which we registered like
death statically we said let there be a
boot receiver that has an intent filter
for this action right same thing
programmatically looks like this right
let there be a boot receiver let
timeline is evil let's instantiate it
let's register it for this action and
the action is some piece of text that we
defined in yamba it doesn't matter what
it is it's usually some constant it's a
piece of text you got mail write
something like that so that's what
that's what we did so we did one half of
that we now got this guy done right now
we were like all right well who's gonna
notify it where's this gonna come from
right like okay well we have a service
but in this diagram we only get the
updated service right and you get over
achiever so we actually have in this
force to services refresh service and
update service right so now we notice Oh
should I got two pieces of code and it
looks hella familiar right so as opposed
to copy pasting from one to another and
maintaining this two copies of code we
said let's do a little refactoring so I
totally get it whenever you do
refactoring it gets confusing right
because I'm moving around and copying
code so that's why I'm walking into it
again so we observed that update service
was doing a bunch of stuff here pulling
data from Twitter and then going through
a what for for each loop and then in
turning into a database right the
Refresh service was doing the same thing
or like hmm how about we take that stuff
and cut it out and put it somewhere else
so we figured alright let's create a
this flow this is the stuff that they
did before this is a copy pasted code
right or cut pasted code right get the
public timeline loop through all the
timeline and insert into database right
old stuff so we just fold it into this
place called it pull and pull and insert
right and then just refer to it here
just it's just basically factoring I
didn't really do anything new just moved
code around and adjusted references
right just plain old java refactoring
I'm sure there's a button in depth for
in eclipse for that somewhere right so I
just don't know it that well so is there
are now on the same page you guys get it
it wasn't really that much typing yes it
was a little bit to a copy paste cut
pasting but that was just the nature of
refactoring and you know trust me i know
it's much easier to do than to watch in
this case and it's even harder to
explain it in a book so like to explain
how I in words on a paper it's like cute
but I do i do this couple of times just
because it's kind of necessary in itself
nice to do right so at this point we we
have a placeholder in status in yamba
app where we do poland in sir so this
guy is both getting tweets and
attempting to incidents now the question
is how do we train this guy to actually
know to actually know if there's a new
tweet right well i mean we could do it
the different ways we could do it you
know insert presumably could return a
boolean if it was successful or not it
returns an ID we could basically do it
based on ID we could also do it based on
time stamp right so you guys it doesn't
really matter let's assume the time
stamp is correct because it comes from
the single cloud so why wouldn't it be
and it's well defined it's in you know
gmt blah blah blah milliseconds and
stuff so i could have a variable
something like this long last time stamp
seeing is minus 1 or something
right and and then what we can do here
when we are inserting right for each
status we can say if status dot created
at dot get time is greater than last
time stamp seen right then that means we
got a new tweet make sense or new status
right so what we could do in that case
is we could introduce some kind of
counter right I could be they have an
encounter and our count is going to be
zero so we start with zero right and so
if we do have a new timestamp we can
just do count + + right and then we
should also set the last time stamp seen
it becomes that status blah blah get
time right
so far so good so this is our little
logic that's going to presumably
determine this right if it works so um
and at the end like even you know before
we get into intense and all that even if
I just simply wanted to return the
number of that I could change this to
int and then I could at the end say you
know return return count right so that
would return how many counts we got so
if you didn't want to do the the what
happened we could pass this on to
somebody else whether the caller is we
make them responsible right but we could
also do the we could also do a
notification here so if you wanted to
notify the user then we can basically
say all right makes sense only two to
send the broadcast if the count is
greater than zero otherwise don't do
this right if we actually have new
tweets let's send a broadcast right send
broadcast okay and we can basically do a
new intent or action is the action of
the action emotion instance new intent
BAM
make sense so now this is what you
haven't seen before because before we
were we were depending on the system
submitted stuff right we were waiting
for system to send broadcast etc in this
case what we're doing is we're sending
the broadcasts ourselves right so what
have you seen so far with intense what
can you what can you really do with
intense so you can start an activity
right so you can anyone can say start an
activity for any time it could be a
service launching an affinity it doesn't
have to be just an activity starting
like that right it could be application
starting activity but you're right you
can start an activity you can start and
stop a service you saw that now you're
seeing send a broadcast right there's
maybe only one other one that you can do
it and that's bind to a service which
will do later right that's that the IDL
stuff bounce services blah blah blah
that have been kind of like laying for
light right so so that's what you can do
with intense and on the flip side of
things you can filter for intense by
using intent filters and you've seen
intent filters both static right which
was this this kind of stuff here
intent-filter intent filter etc etc but
you've also seen the seen them use
dynamically in this case when we said
new intent filter blocks a message IE
action action name yeah the other right
so this stuff is kind of similar it I
mean it's the same stuff it just in Java
may look totally different than in XML
but conceptually it's the same stuff
right
why is it why is this only non resume
rather than on create so if you remember
the life cycle of the activity I made a
business choice to only listen to
updates to keep refreshing my screen
while the user is on watching this
activity I do not want to do it while
the activity is stuffed you could have
spread the net wider it's up to you
right if I wanted to keep refreshing the
screen even while the activity is
stopped I could have done that and then
I could attend my entry point would be
on create my exit point would be like on
on destroy or something like that right
it yeah but usually when you want you
know it's pretty common to do things
especially expensive things just while
in this state and that's why you know
the common entry point is resume resume
resume because it's a common entry to
that state and exit point is usually
that one right just some register
opposite of register yeah unregistered
receiver and you know what maybe I'll
just publish put this here kind of like
I know it's breaking breaking some some
of these rules somewhere but I don't
care so this is kind of like
self-contained right make sense
so uh so another thing that we can do
that's kind of cool is we can test you
can test dream in this yet but another
thing that we can easily do is you can
actually attach then a small amount of
data to an intent right so the way I
kind of think of an intent is that an
intent is sort of like a you are you URL
get right so it's kind of like a URL
right it's a piece of text but and you
can attach some amount of data like
primitive data just like if I you know
go to I don't know amazoncom i can say
you know product ? ID equals 47 right
make sense so now so to do something
like that maybe I want to put that
counting so do to do that they can't do
dot put put into not integer array so
let's say put extra and I'm gonna put
the name the name is going to be count
and the value is going to be count right
so just a name value pair if this works
for primitive data this is sort of
equivalent of saying ? ID equals count
whatever that countess
I'm sending discount information to to
the to the world and those who care are
going to receive it so now our receiver
just to kind of you to know the third
recover yeah you need to know yeah you
need to know what to extract yeah so
presumably this is for communicating
it's not for like randomly looking up
stuff but it's more like you know I know
my receiver my receiver is right here so
i can now the flip side of the thing i
can actually extract that because that
intent that woke up this receiver is
right here right so if i just want it
just for fun i can say with count right
and i can say plus and I could do
something like this intent dot get int
extra write the name would be count and
the default value would be zero or minus
yeah I guess zero right so this would
actually print out the make sense so let
me fire it up and see if it works
see that's what i was saying seagull now
it knows that they got eight new tweets
right you know Twitter itself yeah it's
got a nice little feature okay so um so
let's say I'm interested in in what's
going on here any of you lock at right
on so let's see so this is pretty stale
information right so if i click on menu
update re fresh right if everything is
correct come on if everything is correct
then this should go fetch the data and
it should actually update my list so far
did fetch the data and they tally the
list what did we did get a notification
to a cursor change would count one did I
really just have one new tweet that
possible let's see oh it C is so it did
update my data I don't know if my count
is right
I'll try it again right so I did see the
latest one is zero minutes right so that
tells you that it did update it right so
now that but they should be I think one
two three four five I should have gotten
like I think five different accounts the
question is why is discount to want let
me do the title of change in my I log
because I don't care about not this one
but this one um this logging I'm
actually going to move it one line in so
that I only print out the new stuff
right so so let's see I'm gonna go tweet
a bunch of stuff login hello hello and
so now if I go and do a very deploy this
it's sorted from latest five staff to
knows you do get all the time on the
first won't give you the highest package
then oh I see because of because of the
order that via right so that's not going
to learn
okay so what we can do is not initialize
the last time stamp seen here right but
initialize it later right
let me same like this and then and then
basically do it here something like this
this dot is like that and so I'm
comparing them to death rate should
probably come up with that better names
but let's try yeah I forgot that we are
storing it in reverse order so okay so
four minutes ago if I do menu refresh 28
really see 20 new ones questionable well
but so let's let's say one two three I
need at least two to test this three
four five six you guys now understand
what we're not working with real twitter
right so if I now do wash this and do
menu re fresh no but then my logic is
busted yeah this is working though but
you're not seeing the duplicates or
anything like that but we're not getting
the right count so let me think about
that for a second
let's test it's quicker to test them to
think about it whoa okay my amulet to
blow up well that's the problem it's a
descending order some as I was assuming
that the first one the latest one the
one that you want to check yeah I we
could do that then we are depending on
the fact that yeah the service returns
it the right order let me just stories
we could do that so in supposed to do
click which would also be independent of
that that you're basically saying
something like this if if biggest the
biggest is minus 1 then biggest becomes
the currents this one right because we
are assuming so that's one approach yeah
um but the other approach would be to
basically actually do the this thing
here to be not not to be dependent on it
so basically I'm saying if big if status
is greater than the biggest then assign
the status otherwise use the biggest
right either one will work so I believe
but let me comment this out and we'll
say when we'll see when the amulet
actually starts what happens on but it's
gonna say twenty first time yeah so um I
can't let me start with brother program
but you guys get the idea how we are
passing the data across the intern fell
across the intent all right ok so menu a
fresh one aim
when you refresh too yes it works second
time it doesn't work first time around
so I'm gonna fix that I'll think about
it um in I mean that's beside the point
does this in general makes sense the
point was more about the intense how
we're doing this communication between
first of all there were two points to
destroy that which is that one point was
how we created this timeline receiver in
a different way to be a built-in part of
the timeline activity how we use it to
refresh the the set of the adapter to
swap it to swap the cursor on the
adapter and how we used it to to send a
broadcast ourselves as opposed to what
we did here by a system broadcast right
so so far so good on this make sense
okay um do you guys want to do a short
break now</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>