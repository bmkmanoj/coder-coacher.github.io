<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Context in JavaScript - 4/4 - Mastering &quot;This:&quot; Additional Techniques &amp; Future Support | Coder Coacher - Coaching Coders</title><meta content="Context in JavaScript - 4/4 - Mastering &quot;This:&quot; Additional Techniques &amp; Future Support - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Context in JavaScript - 4/4 - Mastering &quot;This:&quot; Additional Techniques &amp; Future Support</b></h2><h5 class="post__date">2014-01-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/QQ4__W9nELc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">in this section we're going to look at
an ECMO script six feature that makes it
even easier to work around the problem
the way we were looking at in the last
section so if we need to create a
function in line and preserve the value
of this we can take an ECMO script six
shortcut I'm going to create a new
function here I've stubbed out the
beginning of it called print later all
caps print later all caps is going to
access a field of contact and convert it
to uppercase before printing it so we'll
say set timeout and we'll say console
function console dot log this dot first
name dot to uppercase and we'll wait
fifteen hundred milliseconds and the way
we described in the last section we know
that we can preserve the this value that
we need by coming to the end of the
function definition and saying well
instead of passing of the function we've
just defined let's invoke bind on it
with the current value of this and pass
the result of the bind call so let's go
over to Firefox and make sure that works
print later all caps and outcomes Joe in
all caps so where does the Ekman script
6-part come in ACMA script six
introduces a new syntax for defining
functions sometimes called arrow
functions that use an equal sign and a
greater than sign sort of arrow shape to
indicate the mapping from the data that
goes into a function to its return value
we're not going to concern ourselves
with the details of the arrow function
syntax for here what we're going to look
at is the feature of the arrow syntax
which automatically performs a dot bind
this on any function that you define
with the arrow syntax this feature is
sometimes referred to as lexical this
because that this is determined based on
the position in the code where the
function is defined so how would that
work well with arrow syntax we can
replace a function that takes no
parameters with an open and closed
parens literal the little arrow symbol
with the equal and greater then and in
the case here where we need to actually
execute some logic we can put them we
can put the block of logic directly
after the arrow and in this case we can
remove the dot bind this because the
arrow function will dot bind this
automatically so let's take a look and
see if this still works in Firefox and
outcomes Joe in all caps so this last
version that we've seen will only work
in browsers that have the echo script
six arrow syntax enabled or if you're
working in node or another JavaScript
environment and you have it set to
either enable these harmony echo script
six features or if use a transpiler
to change the code from echo script six
syntax to a lower version of Ekman
script syntax but this is something that
will become increasingly common as
people start writing more and more echo
script six code whenever we need to
create a function on the fly and we want
to retain the value of this that
behaviors actually built in the last
thing we're gonna look at just to round
out our discussion of this is to visit
other ways of determining how this can
be bound when we run a function earlier
we looked at a decision tree that showed
how the runtime determines what the this
binding should be if we don't give it
any other instructions here we're going
to say if we have a function and we know
exactly what we'd like this to be we can
actually tell the runtime to invoke the
function with a particular value of this
so let's take a look at how that works
if we return to the problem version that
we had early in the demonstration we had
contact dot print name working great
but if contact dot print name was
invoked without a dot we had a problem
we can see that right here if I say F
equals contact dot print name and then I
run F I've run the same function exact
same function but without a dot and that
this context is lost so next we're gonna
look at how we can run F without a dot
and tell it exactly what we'd like this
to be so there are two built-in
functions that will do this
we saw how well there are three built-in
functions that will do this
we saw how bind produces a new function
with a particular this value but it
doesn't run the function right away so
dot bind is handy when we need the new
function and we want to pass it
somewhere but if we want to run the
function right now we can use two old
fashioned functions called call and
apply if I type F dot call I can pass a
value for this explicitly like contact
and we get the behavior we'd like I can
also call F dot apply and pass that this
context I'll contact and get the
behavior I want the difference between
call and apply is how we can use it to
pass other parameters that the function
might want but in this case we're only
interested in context so for the purpose
that we're looking at here call and
apply are gonna work the same way so now
we've looked at the definition of this
how the browser decides what to bind
this to common problems that come up
workarounds and the future of solving
these problems thanks for watching and
if you're excited to keep diving into
the details of JavaScript I'd love to
work with you and a new circle class</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>