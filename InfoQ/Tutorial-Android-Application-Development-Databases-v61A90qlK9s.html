<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Tutorial: Android Application Development - Databases | Coder Coacher - Coaching Coders</title><meta content="Tutorial: Android Application Development - Databases - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Tutorial: Android Application Development - Databases</b></h2><h5 class="post__date">2011-02-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/v61A90qlK9s" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">let's talk about the databases a little
bit so how much do you guys know about
sequel first of all do you know like
basically insert update delete and
select no okay yeah okay very basic
basic sequel okay so um if you don't I
mean you don't need to know a lot you'll
see what I mean by that so Android
basically comes with a with a database
so it ships with the database that's
what we mean by it's a complete stack in
other words it's a it's an entire system
it's got everything that you need
including a database and the choice of
the database they made is sequel Lite
okay so sequel Lite is a database it's
based on sequel like the name suggests
right and it's the type of database that
it's there's certain things that are
kind of cool about it so let's take a
look at certain things why it's cool so
0 a sequel Lite is 0 configuration what
that means is there's nothing to
configure about the database as a matter
of fact you can't configure anything
about that about the database unlike
maybe my sequel where there's nothing
you have to configure here there's
nothing you can configure which is great
right means less work don't need that's
this admin right or DB admin next its
server less meaning it doesn't have a
server there's no process running so
that makes makes it simpler there's no
separate process that needs to run for
the database setter setter so it's
driven by our library right it's just a
library that you know you know does the
job and dies so you know that makes it
less callable but makes it much simpler
but you know we're not talking about
gazillions of gigabytes of data on a
tiny little phone here so for our
purposes it's perfect right it's a
single database file one database one
file that's it right straightforward and
so this is sort of
things it's cross platform meaning you
know you can create your database on
Windows or Mac or Ubuntu and then you
can pass it on to the phone and it's
going to work at the same file format
it's tiny and it's public domain I think
this get to do a lot with the choice of
the database as well as this is the this
is the license for force equal lights as
long as you agree with that you can use
it it's a relational database but it's
stored in a file so it's sort of similar
to Microsoft Access in that in that
sense right so yeah but it is a sacral
database it is a relational database
okay so with that what we're gonna do is
we need the database right to create
that's going to represent our data just
like we had on a picture so now the
service has data right now just printing
into the screen big deal but we would
like to store it somewhere so that later
on we can read it okay so to create a
database what we need is a we need is
the helper that's going to help us
create a database in store stuff to the
database right so we're going to create
the debthelper and that's going to be a
separate java class for now later on
we're going to sort of refactor some of
that stuff so here's what we are going
to do I'm going to first of all I'm
going to close all these because I don't
need them okay so instead of our project
we are going to create a new a new file
Java class so new Java class ok and it's
going to be I usually call this one DB
helper
you know just it's pretty
straightforward
so that's the name of my class so that's
the only thing that type so far so DB
helper
so you all your apps share one database
so this is one so this database is going
to be private to our application so if
you have many apps sharing data in so in
this is the architecture of our one
application what you see here is one
application ya know this is our this is
Yamba oh no each app is going to have
its own database many many different
databases yeah many different databases
now you may recall that I was talking
about like for example contacts in in
the context of content providers and I
said will be kind of stupid to have to
have a separate database of contacts for
my address book then for my email list
than for my Twitter account people and
so on so we actually want to consolidate
that data and somehow provided platform
what that's where content providers come
in candy so we'll talk about that at
some point later point again we already
discussed it from theoretical standpoint
yeah no it's not so SQLite is sequel it
is a database content provider is in a
in an interface to data so it may it
usually is implemented by a database
right remember you know so but sometimes
it could be something else that's
actually implementing the content
provider maybe it's you know going to
the network maybe it's doing some other
stuff we'll get it
yeah it's a library essentially yes yeah
it's a library it's just that it's just
the framework he has a built-in support
for it you're by no means limited to
using sequel I'd just like I said you
guys are welcome to experiment with some
modern databases there's the call no
sequel movement right so sequel kind of
sucks you know it's like whoever
designed it back into 67 or what they
were thinking right they weren't
thinking objects that's for sure so you
know we're kind of stuck with that but
by no means you have to use sequel or
sequel Lite for that matter so there are
other choices mentioned MongoDB I
mentioned Java DB some object databases
like that but one that's built-in that's
supported officially by the Android is
the sequel I - that's the one that we're
looking at right now so DB Cal / BAM
created so just like before
whenever you're starting something you
are going to define it as by sub
classing one of the system classes so
for this one it's going to be sequel
Lite open helper organized imports
control shift row and bam and then you
need to add unimplemented methods or in
this case it's not an add-on implement
images but add constructor okay and is
there some is there more and then add an
implement in that's you okay so just
just let the club solve all your
problems
and you're going to get to the templates
that you want in the first place right
so this is a template right so just get
it let eclipse like figure stuff out for
you and then where we are going to be
we're going to be good so subclass
sequel I'd token helper organized the
imports by doing ctrl shift o and then
add constructor and then add and
implemented methods and you're going to
get a bunch of - deuce basically as a
result that
over over I'd implement methods one and
do we have to choose some no I didn't I
didn't explicitly go see to undo it yeah
see in this case I have a problem right
I said extend over so to it to extend or
secure wide open helper
you must implement certain things
because they're defined what what are
they defined as in the parent class
abstract so they're defined as abstract
so meaning if you want to subclass them
you must provide them so so in this case
you know I did here at constructor then
more add and implement methods this is I
had to do this I had no choice over that
now if I want to overwrite or implement
some other stuff which I'm a then I can
go source override implement methods and
it's going to give me other choices such
as get readable days get read relays or
as open on open on closed blah blah blah
but those are optional right so you
would explicitly need to go and say
override if you want over item in this
case we don't okay so you guys here ok
so it sounds like here we have a lot of
work but let's take a look at this so
what we have going on here is a study
the constructor it's asking for zillion
names
context name factory version okay
so name is going to be the database name
as in the database file name okay and
version is going to be a database
version number right but those things
are pretty much constant it's not like
somebody's going to this is something
that's internal to us so we're hard
coding this this is our business for the
name of the file is right so what I
usually do is I first of all I do my
private static final string tag right
that's kind of always good
if you want to do the long way you can
do the long way by saying DB helper dot
class dot get simple name right and then
I define the name in the version so
warning about this file it's going to
get a lot its we're going to can end up
with a lot of constants here so don't
sweat it it's this file is going to be
simple but it's going to have a lot of
concepts and in Java to say something is
a constant you have to say five things
you know like probably they could have
just come up with a Const keyword but I
don't know what they were smoking so so
the next so I'll make this public for
names so public static final string DB
name it's going to be a name and you get
to pick up any name I'll call it
timeline dot DB just to be consistent
okay
public static finals sorry this is going
to be an int DB version DP version is a
verb now is the version of version of
your database and it's just an integer
hmm no it's got nothing to do with the
SDK
it's just a version of a database for
you your internal version you can put
any number like 47 you know but you know
one is a good number to start with
right but you can put anything you want
no it's not and I'll explain how that
works it's not mapped to your app
version automatically there is a
mechanism that's pretty interesting but
it's not not not like that basically so
let's say you choose the scheme up
underneath in your PT Education
protected I know whether an educator
update the existing database via the
user application that was edited see you
to be intern manage your we use it the
identity well notice what is you up in
the new of detail after you happen to
update your schema particular changes
here in database and if your page app
you don't have to go into won't change
the version
yes he said it's not tight yeah yeah so
we'll talk about that in a second as
well so okay so now that we have that
those two constants right so those are
the constants it's ultimately need to
pass them to the super right so so name
is going to become DB name right and
version is going to become DB version
right okay and this thing factory that's
optional if we are using a factory to
create cursors which we don't know much
about yet but we're not going to use a
factor so we'll just pass on all right
for now okay so all this basically makes
our constructor much simpler because
guess what we don't care about these
things so just remove them well I get to
make a signature whatever I want as long
as I pass this I don't this is written
so I must give the parent those things
but how I'm going to get creating myself
is my business
BAM oops so I save that and that is now
our constructor and we're done
so when we talked about where that stuff
is stored we said it's stored in let me
kill that it's starting here right so in
a in data data and then share
preferences right your private directory
and that's that's where username
password and all that stuff is yeah so
you're going to notice that this place
like I told you yesterday when we talked
about the file system this place is one
of the most important places on your
file system right slash date is largely
the slash block which bla is your your
package name and remember when we talked
about create new project dialog I said
this package name is going to represent
itself in many different contexts but it
gets a little bit security quite a bit
so it's important right cool
so so back to this so now that we have
organized input so now that we have this
let's talk about on create so that's our
next to do well just basically see how
we're just like filling in the blanks
we're just taking care of the to do this
right so next to do is going to be to
create to handle on create
so here's about on create on create is
the method that is called once in only
once ever for a particular user and it's
called to create a database so this is
where you're going to create the
database right and what I mean by that
is we are going to execute the sequel
for creating the database so if you look
at what's passed to us is the database
is actually passed to us and what we can
do is we can execute sequel against that
but first we need to create that sequel
okay so it's just going to be a
spaghetti of sequel tag code right you
know you guys know create table blah
blah blah so it's going to look like
something like this string sequel is
string dot for
I guess I can do string good format or
if it's simple for you to understand I
could do create table space um plus by
the way so I'm going to define these
each constant so I need a table name
right so I'm going to create public
static final string table we're going to
call it statuses right so Plus table
plus and so now we're going to create a
bunch of your like other stuff right
what's that
so sequel is a language right invented
by some woman back in the sixties for
the Navy I think or something like that
right and it was meant to be a language
it's fairly close to English and he has
to do with creating data and so it kind
of flows like when you say stuff in
sequel it kind of matches English but
it's much so one of the first things is
you need to create a table where you are
going to store data so you're going to
say create table statuses and now we
need to say what what columns that table
is going to have that's what it is so
it's kind of creating a schema for this
database does it make sense
exactly yeah yeah so a name rather than
like computing we're still on clear
records yeah so this is keep in mind
what we're creating is a DB helper which
is really an open data be open helpers
this is the guy that's going to help
open up the database right so what that
means is that if the day
this doesn't exist it's going to create
one right and by the way if you're not
sure what the syntax for a sequel is
let's uh let's Wikipedia it so if let's
say so this is a little bit about sequel
in how compressor let's look for syntax
create table and that's what it looks
right so you say create table right and
then you say table name and then what
it's got right let me see if there's
some more in this the same okay so this
is this is a good example right so you
say create table right so this stuff is
kind of written in stone right that's
the syntax then you say the name of the
table we call our statuses then we open
bracket close bracket right so in
between here we're going to define the
columns so this one has one two three
columns right field one two three and we
just make the Sun feel the primary key
right so and it goes but you say name of
the column and then you say type of the
call so this is field one integer field
two varchar' field three date okay
that's the syntax I've done this about
gazillion times I always forget it and
just look it up no big deal right
Wikipedia it that's what it's for what
did people do before Wikipedia exactly I
mean how did you ask the world before
you get a google yeah I remember
reference manuals what all books you get
on your desk yeah with dog ears your
marks okay so we want to now we need to
create the spaghetti it's going to look
like spaghetti because we're doing it in
in Java so I should use a string code
format here well sure let me do it
string dot format um you know um this is
more optimal button up in because I'm
trying to not confuse you same time that
so I'm kind of reluctant but the syntax
is going to be like this create table
open closed bracket and then I'm going
to have a bunch of percent asses in
there right sorry percent s here so you
guys know what this means so this refers
to that right and then I'm going to put
more like percent as something percent
as something right percent something etc
there's only going to be the columns but
now the question is what columns are we
going to store in our database right so
what do you think yeah so we don't so
let's looks good this let's see what
calls are available right so I'm going
to refer back to what do we get from
Twitter status because remember when we
say get friends time line we get that
they call it status right starting so
this is not just a piece of text but
it's a whole bunch of stuff right so
this is what we have right so we can we
know when it's created we know the ID we
know read it in reply to retweet and so
I said let's ignore these three I don't
really care about them text end user so
how about we start with this four we can
always add right so created that ID text
and user that's a good question so when
you create a database whenever you are
creating a database table one of the
best practices typically you have a some
unique identifier right why would I want
to use that that's and that's a great
question so so one of their first
columns is going to be ID and question
is why do we want to use a why would or
should we use this ID versus our own ID
because what we could do one of the
simplest ways in database would be to
put alt increment and you let database
broad IDs and starts one two three four
and so on keeps going forever so we
could do that and that would be
perfectly fine however the way I see it
is somebody's already managing the
uniqueness of this why would we now have
our own uniqueness it's not always white
yeah those IDs do you see the same ID
comment exactly and that makes it easier
from the updates point of view yes yeah
yeah and so the way I see it is if there
is something already you know unique
why would I manage my own uniqueness
it's kind of like you know if you have a
list of employees you know you can
create a new employee ID or you can just
use their social security number because
if they are employed they must cap one
so might as well ready use that same one
that somebody else is managing you know
questionably managing but whatever
aren't they starting to recycle as
Social Security numbers from dead people
seriously it's we're running out yeah I
mean think about it you only have like
what nine hundred million or a billion
right but but there's also the encoding
scheme so not every number is actually a
valid numbers and they take hundred
thousand living three hundred million
living Americans so so it's really quick
- yeah I mean only three generations in
your auto numbers or even sooner - about
two generations or something - prom hmm
yeah yeah lots of trouble yeah well
what's for politically correct at a
number of likely recycled you know dead
people's Social Security numbers are too
similar number and the
accent by like ex-employees father
actually some are his name also a lot of
the system and what is some other
employees good part that number yeah
saying so looking that exist on parish
of really have I'd like to be but there
he was based on time yeah but that's
actually a good idea maybe we could have
like our parents like pass on the not a
Social Security number to us yeah good
good get it from good don't need it
anymore this is it Rick and especially
they don't need a pension anyways right
so yeah just take that number and any
pen any retirement checks that'd be nice
ok so we're going to go with ID created
add text and user and we'll keep this
simple
we'll make this integer in integer
string in string right we can't so this
is a Java date we can't really store it
as a date right because the database you
know the world of objects you know one
simple thing is to store this as a as a
timestamp which is a string over integer
right long technically so okay so let's
do that so back to this so four columns
1 2 3 so 4 % s so the first one is going
to be int so the first one is going to
be in kids what I'm going to do I'm
going to define the column names as
constant static final string a prefix in
movie so CID is going to be name of the
ID column okay now granted we could call
it whatever the heck we want we can call
it ID underscore ID upper case I'll be
and all that but there is something
special about the ID that is used
elsewhere in the in some systems and
parts of Android so if it's actually
underscore ID is what we should be using
or
if you're not sure you can you can
actually use the constant base columns
dot ID if you're not sure what that is
okay so it's kind of like ID sort of an
exception there's something special
about it name so if you for other
purposes want to implicitly use it we're
going to just call for our ID we're
going to give it the same name as the
system would called it so that we don't
mess things up okay
I'll just put a note and special okay
for ID but the other ones it's going to
be priests at a standard static final
string column created at and we can just
call it whatever they call it here
created that created at I'm so into this
so much typing public static final
string column user and it's going to be
you user public static final string
column and what do they call it text
text now this house is something special
about this because I wanted to kind of
use the same names as they're using the
object right so you know I try to be
consistent whenever I'm I can be
consistent because at some point you're
going to get rewarded by some frameworks
for consistency that's not quite a case
yet and it's also kind of hard to be
consistent here when they choose a name
or a column text right because text is a
reserved word in sequel so I actually
cannot possibly call my column text yeah
user as well so I'm going to call this
one txt mean um yeah we could prefix
them with something it doesn't really
matter if you want we can call it yam
but created that you know yeonbok user
and Yamba
texts it doesn't really matter oops
because it's going to be internal to us
right so that's why I'm kind of
outsourcing the actual ugly name to this
constant rate reaction even spell it out
yeah so that so that we don't have that
collision and that collision is also
dependent on Cerner yeah the word yeah
the youth yeah so this is system already
defines something called ID and we as
while this would be fine
you could just say Yamba ID right that
would be fine that will just work fine
it's just that in some later stages that
that field called by these actually used
internally by android framework so might
as well you know use take care of that
right now
right so that's why you know as opposed
to going with the humble ID I suggested
we go with just underscore ID which is
what it is or to be even more explicit
in case I miss reading our code I would
just actually use the system defined
property which is underscore ID like
that so then my spaghetti becomes so
this is going to be call an ID column
created at column user column text okay
so and then let me reformat that okay so
you can fit in the screen so that's
percent as refers to integer per second
it refers to int as well and then text
and then text there we go
so again you know I apologize for
spaghetti spaghetti spaghetti nice of
this day if you're done with this
something to think about what would be
an alternative way of defining this
spaghetti string yeah so an alternative
to this you guys don't have to do this
but just to kind of provide you with an
alternative an alternative would be to
define it in strings.xml right and I
could just simply say like this this is
much cleaner right I could do string
sequel and I will just type it create
table which alternately is going to be
created table statuses start to says
right and then it's going to be
underscore ID int comma Y Yamba
underscore created at int comma Y but
underscore user text and yum the
underscore text text right um and
actually one thing that I forgot is to
make this one primary key right but now
I save this so now I have that sequel
night more elegantly defined here right
now the question will be let me by the
way add primary key here as well that's
people from Mari here um and reformat it
so it fits okay um but if I wanted the
alternative way how would they get now
that string
right so but yet if I do get please it
doesn't exist so where do I get the
string from right so it's this context
so so keep in mind DB helper is not a
main building block as such it does not
necessarily have context like we took
for granted in service and activity so
if I needed that context around what I
would need to do is that would need to
basically define it so context context
again you don't really have to do this
just this is more informative but then I
will say digital context equals context
first two I save it
because we are getting it by the
constructor right and then I could say
alternatively out sequel is going to be
gone on
TxDOT get string for r dot string dot
oops dot sequel okay that would be an
alternative and I'm going to comment
that up just as an alternative right so
just so you know now you know the
benefit of this approach is that we get
to use our constants so that way I avoid
accidentally like forgetting to put yam
back here for created that or something
like that when I define it like this I
don't really care checks and balances so
that's sort of the the downside may take
put a jumbo back where is the seeker
whoops
Dex okay
table statuses i integer int i'm
primarykey comma what's that
yeah I did but I controls eat it and it
actually remove the whole thing because
it's a little retarded the actual tool
so user types and text text okay I'll
just save it so just for reference so
that's it
alright back to back to this so now
desire on campus sequel one way or the
other
okay chances are you're going to get it
wrong so what I'd like to do is I like
to log deep I like to print it out so
tag karma you know on create sequel is
and what I mean by you're going to get
it wrong you know it is a spaghetti code
so it's easy to mess something up here
so might as well just printed to so you
can see what that generated and keep in
mind it but once you get it right you
got it right so this only executes once
yeah I'm not executing yet yes we're not
done so now that we have the sequel I
actually need to execute it and we
already have the database given to us so
we're going to do DB dot exact sequel
sequel and now we're done well it
doesn't return anything Oh does dB does
it return something
it returns void so it doesn't return
right yeah what if it fails or dies or
Evo yeah frozen sequel exceptions so yes
we could catch it but even if you don't
catch it's just going to crap out and on
the lock yet and where you're going to
see an exception and keep in mind this
this doesn't depend on any user input so
I'm gonna mess it up first time second
time who cares but once again you try to
get it right for good so it's not really
a big deal
so first again okay so now that we have
that let me talk about a little bit
about on upgrade so on sequel uncreate
is going to get called once and only
once when the user first time installs
the application installed first time
well runs the application right yeah
okay it runs to the application so keep
in mind you do not ship a database file
there is it one of the one of the things
I mentioned maybe as a benefit is that
it's a cross-platform file you can
create Tony on Windows but that really
doesn't matter because you're not
shipping a file database file is not
part of AD apk remember it doesn't go
there so anything that you want to
pre-populate your database with it could
go into on create so this actually may
be right now I'm cream I am assuming
that we are starting with a blank
database maybe you're not starting with
a blank database one of my favorite apps
is a calorie counter like I guess not
like it's you can like scan a barcode of
what you're eating and it automatically
figures out calories and adds it and all
that and if I make McDonald's I can
really quickly check another note you
know quarter pounder with cheese and see
how many calories and about to commit to
right and so forth so it partially it
goes online and gets the data but it
also seems to work really fast so I
would assume that some of the common
stuff like how many calories in an egg
or you know slice of bread well it's
probably you know it's probably
pre-populated so let's kind of like talk
about that like a little bit wide at
abyss in the mobile app like why are we
having a database in a mobile app hmmm
speed yeah so um yeah
so I mean ideally these are tiny little
devices right I mean these are things
that you can lose damaged you know you
know lose and so on right on so we do
not want to store a lot of sensitive
data here in in a sense of sensitive in
a sense of like I'll miss it if it's
gone right on I'd rather keep the data
where it belongs
in the cloud like the cloud is a safer
place okay
system a cloud is a safe place right so
we want to keep it in a cloud right so
but but this is much faster access so
it's kind of like you may start with
some data here and then over time just
go sorry over time we're basically just
loading more data into it loading more
data into it and so on right that's sort
of what's going to happen so essentially
this is a cache of the cloud eventually
approaching cloud right so just like my
little calorie counter over time learns
more about you know those common food
like chocolate and beer and things like
that common food how much calories got
so in the future just runs faster and
faster and faster ideal effect there is
a there's a limit I don't know what it
is the whole data partition has a limit
and that's why the whole movement to
move the apps to the SD card was there
and that's what Froyo finally got it
so yeah there's a way you remember how I
said user apps going to slash data slash
a well that may not work for some people
so there's a way to push those apps into
you know SD card because you know people
caught downloading hundreds of apps or
an app that contains like a library that
contains ten megabytes of you know say
drm software something right so suddenly
you need to you know you're running out
of those user disk space
yeah no no the whole app and that's why
you see the folders they keep ignoring
are these folders ASIC in the secure
folders and so on but that's basically a
way to to move the data
those folders apps and system is
supposed to do that automatically now in
Freya but there are key acts to do how
to do it before that because you can't
run before Froy you weren't able to run
apps off of the SD card so one can be
running out of space on the other hand
you have a ton of space you know so
that's what that is
okay so back to this so yes we're
shipping an empty database it
non-existent database so this creates a
database maybe you want to exit maybe
you want to load up a bunch of stuff
right so in that case this approach may
be good because I make it like a but a
sequel to insert right like with a
zillion insert insert records right to
pre populate the database like you know
maybe loading some common stuff that is
doesn't change that much so it doesn't
need to go online so enter so that's all
just wanted to point that out and so
let's talk now talk about the on upgrade
so on upgrade execute whenever the
version of the database that you
currently have installed and the in
version of the database the system
reports as is different so in other
words when the date is so when you
create DB helper by saying DB helper DB
version as this week hard-coded that one
so if I create a database now right and
it's act into the database that it's a
version one okay if I create a database
I run it again and again against as long
as that's the same version one it's
going to be the same version okay so if
I change the version the database is
going to get recreated
so typically what you would do here is
you would gracefully upgrade from older
version to new version so old version
for a user so the version again version
of a database is like we said earlier is
not related to the version of
application so let me give you an
example I do I release version one of my
database of my
it's got database version one at least
version two at least version three
released version four but you cannot
change my database now in version 501 I
add something new I want to add like
location where the tweet was treated for
from right so now in version five my
database is at version two right and
then in version six my databases may be
added something else like you know
support for eat weeds so now I'm at
version three well some users may upload
moved from version one to version six it
doesn't mean that they moved you know so
in other words you got to provide a way
to upgrade from all the other versions
to newer version right that could look
different ways you could you could
basically you know you could say you
know you could say you could care for
example if old version don't do this ver
version is you know one you know
whatever do something and then you can
increment you can say on this dot on
upgrade right and then do it on DB or
old plus plus old version right new
version right so you could do it
recursively like that or you can provide
a bunch of FLC false statements and then
do something could be for example this
statement so for example you may have a
bunch of alter statements be VDOT exact
right sequel sequel right so you could
have now bunch up out so maybe this is a
sequel one sequence equal to is equal to
2 and so on right like for example we
have a web app and our web app has 138 I
think versions of sequel because that's
how many times we changed it and it's
just no no no no mark on it before
different for a different project it's a
Java project but but still it's the idea
is like schemas change
right so you know you can you can see
how you know you could have zillion
versions of schema and typically this
would be a bunch of alter table so it's
not like you don't want to destroy a
database because what if your users been
using your version 2 of the app for like
years has a ton of records right and now
there's a new release and you just wipe
out the users data that would be you
would piss off some users really bad
right you don't want to do that so you'd
rather alter table which means add the
columns but preserve the data then you
know you guys can look up the the whole
altered table that's how it works you
can for example alter table add and you
can add something new and it just adds a
new column right preserves you did
that's what you would typically do
however since we are just doing
development and we don't care about that
right now
we don't have a second version so for
developing purposes what I will do is I
will just blow up users database so I
would say exact sequel drop table if I
think it's drop table if exists drop
table if doesn't say drop table well if
exists and then table so and then I
would run this dot on create right so I
will just run on create this is just
quick and dirty you know
I blow up the database and recreate it
okay sure but you have the past of the
database object yeah no and as a matter
of fact what I'm going to do is I'm
going to walk here flog D just to kind
of show you what's happening that comma
on upgrade dropped table
so far so good so now that we have we
have a DB helper we have a way to create
a table we have a way to drop a table
right so where do you think we are going
to use this D bill helper from take a
look at the picture right so it's this
guy that needs to do that right so a
service so if I look at my service data
service and remember this is where we
have the data right now we're just
printing it the logcat right but what if
we wanted to do one better we want it to
actually open up a database right to a
database and close the database right so
I could do it I'm gonna just do it here
I'll say open database right so I need
to create a DB helper now this is not
going to be optimal code right I'm just
going to do anyth fits in a screen and
then later on we're going to refactor
this okay so I'm going to create my my
DB helper so DB helper DB helper is new
DB helper and it to be passed into
context the context is gonna be updater
service dot this because auditor service
is our context right yeah updater
services Iza meaning somewhere along
it's a child of context right and what
would the way you would find that out is
by saying service service and this and
see how there's a lineage that you can
see yeah
so the can see Oh somewhere along the
way it is a context right so now that
was easy we just created that guy that's
gonna that's going to create this guy
and that's going to internally do some
logic to invoke on create
doesn't need it all create or on update
I just did it you know as I said this is
quick and dirty we're going to optimize
this later on but that this is a place I
just did it for now
mmm
okay so now that we have that once you
have the once you get the DB helper you
can actually get a database so it looks
like the sequel Lite database DB and you
just say DB helper and then you either
do a get readable or get writable
database okay so which one do you think
we're going to need yeah because in this
case we are doing an insert right so
we're gonna get a writable database
organized imports to get that and you
know the opposite of of this open would
be DB clothes like a closed database so
DB dot DB dot closed and DB helper what
that would be just a nice thing so
basically I'm I'm closing what I'm
opening and closing with an open heart
and again yeah not optimal at all I want
this just to fit in my screen right now
yes we're going to refactor this yes
good point but we will be opening and
closing quite quickly
quite often
so far so good okay so what I want to do
is I want to show you how this works I
just wanted to demonstrate couple things
so if I do
where's maybe look at running it's right
there so what I'm going to do is I'm
going to around this and installing
Yamba okay so to get kids kick-started I
need to start a service right so menu
start service okay so here on create so
let me sit on created also on created on
started service on run running right so
it's running
so then what it's doing is on create so
this does my DB helper all create create
table statuses blah blah blah right so
any executed once right
so in 60 seconds it's going to execute
second time and let's see what happens I
think it's I loved 60 seconds right and
this is the list of 20 most recent posts
from my friends in the last 20 hours
right 24 hours so we have to wait an
entire minute on while we're waiting for
that what I would like you to think is
where did this database get created data
data and then okay it's running okay so
so running updated running AHA this time
around there's no create database right
okay so I'm going to stop my service at
this point right so it's all stopped and
all that right so we we see that on
created Ryan once I told you it's never
going to run again right as a matter of
fact here I can you know I can restart
the whole thing and let me
it let me change a line of code save it
recompile it right do a run which
republish the three installs it ok does
all that mumbo jumbo ok to clean this
clean ok so no still not running started
okay so menu start service and see you
don't see it you're not going to see it
there was no oncreate right so never
ever will on create ever run again if it
works successful yes because the table
exists so now let's take a look at that
again so so now that we have the
database and you guys said the database
in / data / dat ax / my package so calm
Maracana Yamba right LS oh ah
there's a new folder called databases
which we haven't seen before right CD
databases LS and there's a new file
called timeline dot DB right
it sounds so what I can do now is I can
actually see what's inside this file so
the good people who created the shell
also luckily included the DBA sequel
Lite DB tool on the shell itself did
then include a lot of other things like
grab VI and other tools that you would
need but they did include sequel i3 so
what I can do is I can do I can use C
politely to connect to this database
okay so for those of you who are new to
database let me show you what I mean by
that so don't get confused about it so
sequel lights if I do a sequel i3
timeline DB space okay I am now inside
what they
when you see a prompt like this that
means you're talking to the database
when you see a prompt like this that
means you're talking to my device when
you see a prompt like this that means
you're talking to my Mac okay
different different languages altogether
same same terminals again don't get
confused about that so I'm speaking
sequel now well you can speak two
languages to this problem one is sequel
one is sequoia tree to seek what is the
standard sequel language right I can I
can do stuff but sequel i3 is specific
to sequel i3 database if we're not sure
what you can do in sequel i3 you can
type type dot help as a matter of fact
all the sequel light sorry doesn't
there's no it's just got Cal all the
sequel light three comments start with
dot so dot blah right so dot if you try
to get out of this if quit but if you
want to know what the scheme of this is
you say dot schema then and you can see
that there's our database indeed
successfully created right yes you can
do you can you can say select star from
statuses and you're going to get nothing
right here you can do describe the
describe table is not a regular sequel
that's a my sequel so it's a different
sequel to sequel has so many dialects so
how to connect your database like if you
want to check what's in the database I
mean you can go and create all this
crazy application to do that but that's
going to take you you know a long time
you just want to dig deep into the
database to see what's inside right
verify the things worked so far so good
okay so so that's that's uh that's
something that I want to show you here's
a couple of things I know you guys are
going to struggle work because it all
this happens um you may be typing select
star from
start to assess and then it's like doing
this and you're like okay dot quit I
told you that quit not listening okay
and it's now in this infinite loop why
yes when you start a sequel command it's
not going to stop until it sees the semi
car okay so you guys do semicolon okay
then you can do dot put in your art okay
right you're going to try to do you dot
dot schema here on a command-line it's
you know this is now Linux and it's
going to say I don't know what you're
talking about right and get and so in a
third final common common problem is
that you may be in a wrong folder all
together so for example if I'm if I'm
just one folder up and now in sequel in
here right
and if I say sequel light three and you
may be doing oops
this is where its sequel i3 timeline dot
DB there's no error there's no problem
it's successfully connected to sequel
lightly however it created a brand new
sequel Ettore in IOB dot schema really
what the hell there's nothing in my
database why is it not working and then
you're going and you're not you know you
know spending your brain cycles
debugging java whereas you're looking at
the wrong place and a file system all
together because if it doesn't have a
far database it thinks that you're
trying to create a new one that's how it
works
so big mindful or just be mindful of
that that so I'm going to be dot
quitting out of here that you know you
got appointed to a write file you know I
guess the safest thing in the world
would be to say sequel i3 and then tie
the whole thing data data calm Markham
Arcana yum yum data bases timeline dot
DV
okay that's kima oops key oh that even
works I guess you don't have to finish
the word schema so but that's kind of be
mindful of that yeah so you had a
question yeah you love Russians good
question so are you allowed to see other
application databases yeah if I have a
rooted device which I do on the emulator
yes so gonna poke around other people's
databases let's see what do we have so
I'm going to quit oops dot quit CD back
pls we'll look all these private package
names remember we said all the private
package names are here let's see let's
see you wanna see for example do you
wanna see settings system settings right
there it is comment rate settings I'm
going to go see deep calm Android
settings and last but there's no
database or the hack what's the secret
here huh what you can see but there's no
database wait a minute so what does
settings store its data let me talk
about that remember I showed you they
want to talk about content providers and
I said we in the system we split we
decouple the app the controls the data
from the app that controls the UI so the
one that I'm looking at right now is the
app that controls the UI it's the UI app
similarly from contacts there's the
contacts app then there's the contacts
content provider so if I go back to this
list you may notice that there is
actually calm Android providers service
so now if I go there unless I look
database good this smells good al l s
settings the DB sequel I three
star okay dot schema
ah that's that's where the system data
data is stored and now I can you can do
brought to dump if you want to just dump
all the data BAM that's all the data
that is in there so these are all the
you know stuff like these are just lock
sound down lock sound car unlocks Oh doc
you know emergency phone number screen
time off well this is a rooted device so
I'm a root and I can poke around the
file system as much as the one on this
the owner on an off the shell device you
can do that I'm not thinking how to
create the super unit when you put it on
you send it to the market there's this
guy yes yes
so yes the DIA that they could look at
your data that's correct so user data on
user device is not secure so that's why
you would do you would either encrypt it
right or you would you would store it
online or something it's not different
than if if you download you know you
know a game for a PC and you're playing
it and then later on you wanna hack its
data it's somewhere stored right in on
the PC and so it's no different and that
sounds so I said this is never going to
happen
this is never on create I'm gonna quit
this and clean this and go see it into
our package sack on CD PWD so CD
Comerica and then what's that it doesn't
because they were the diversion of -
that they get our SH they gave us is
like that but you can replace it with a
busy box and then you can have more
shelves um yeah it's kind of annoying ok
so as I said you know
but if I wanted to now change my
database right right so obviously
changing the software doesn't change the
database so what I could do is I could
just jack up the version number so I
could go to for you know or 47 it
doesn't matter right as long as that
number is different if I go to for
example all right so now the system next
time it tries to open a database it's
going to say look the database I'm
opening is at version 1 it does exist
but it's it's version 1 the new one is
it's version 2 so instead of fusing
oncreate it's going to call on upgrade
to upgrade the database right so you can
kind of see that we're going to see it
but this should be printed out right so
if I run it
now I'll take a look at in a second so
if I click on this okay so on click on
so let's take a look on created on upper
running okay on see on update dropped
table statuses and then rerun on create
so that's kind of how you can run
trigger on upgrade on you for other
users now as I said typically let me
stop my service sudden annoy my online
service but as I said typically you
would do you know typically you do alter
table here right so that's typically
what you would do to to gracefully
upgrade the database schema yes so
that's basically that
so questions comments on database on
upgrade is going to be called whenever
the whatever is in the code version of
your database is different than what's
on the file system that the user has
exactly when you put it push a new apk
and you use the developer card code that
number because there's no reason for
that to be self coded right it's your
you tightly control your schema right
it's internal to your app so whenever
that changes then the system detects
whatever database on the file system is
is different schema version than the one
the your software requires then it off
it turns on upgrade and that's where the
opportunity to job value do is print
your exception if it's a single
exception something's wrong with the
sequel it says right there the answer is
right there in the exception but yeah a
look at the logcat
right I mean okay let me take a look and
you in the meantime you guys think about
how we're going to insert data into the
database so the next question is how do
we we now have the database we have the
database connection here how do we take
the data and then put it into this place
right here right so so in this case what
we did is we created let's let's okay
this way we created a spaghetti sequel
and we're an exact sequel right is
everyone good on that you get stuck on
something else or should be any more
time hmm
everything good you haven't have some
problem okay so yeah so let's let's do
this let's finish this is the last
little piece let's finish this and then
I'll help you guys with your individual
issues so so you know you guys know now
how to create a piece of sequel run it
and we saw that works whoo-hoo um so you
know I'm going to ask crusher how to
insert a new database you could uh you
could simply say look we have the data
here we could now create a sequel so I
could do another you know whatever
string sequel and then create some kind
of don't do this insert into statuses
blah blah blah right I could create it
here and then run my DB dot exact sequel
sequel and be done right but there are
lots of things that are wrong with this
approach for a one we would have to
create more spaghetti code which we
dislike right secondly
tell me what are other issues with doing
stuff like this and one is from
performance point of view the other one
is from security point of view so sequel
injection is the yeah it's the security
101 issue right you never knows what
sequel injection is no so you know a
sequel injection is basically if you
have a piece of you know something like
this and you're going to have your you
know insert into sequel and you're going
to have your parameters well when I ask
you to type in a status who is to say
that you're going to enter the real
status maybe you're going to enter
something else that's sneaky that's
going to once I'm going to put it into
my desk what if you are what you entered
so I'm expecting you to enter something
here the other dot right but would you
add something like this
drop table statuses what if you enter
something like this as a status you just
delete my data see that is the sequel
injection 101 okay what is the second
thing that's bad about doing this
approach yeah yes so that I'm not using
a string buffer sure I could this is the
Java performance thing how it should use
a string buffer from doing a piece
Mealing a string but what's another in
you know right track you are talking
from a performance standpoint but what's
the other issue with a performance care
this would need to be then parsed every
single time and that you know if you're
doing that in a loop that becomes sort
of a big deal performance wise right
we're cranking this parent crank and is
cranking this all the time so that's bad
okay um but if I'm saying that's bad why
didn't I say that's bad here I mean
aren't we doing the very same thing okay
so I'm doing it only once ever so who
cares about performance right once ever
all right secondly there's no user input
so who cares about security because
there's no opportunity to mess this up
it's nothing here is dependent on a user
it's all hard-coded right so that's why
that's why this is perfectly fine and
that's why this is perfectly not fine
all right so we're not going to do it
like this what we're going to do is
we're going to create a values that
we're going to insert into the database
as something called content values and
what content values is is a content
alice is a data structure that is
basically name value pairs Arno's name
value pairs right it's pretty
straightforward
I'll show you what we're going to do so
we're going to create a
should do this outside of a loop but in
intercepting the screen I'll do it here
content values values is new content
values okay organize input and what
content varices is simply mapping from
from one value from database name to
tool value to the actual values so
valleys dot put you just get a bunch of
puts so the key is going to be our
database key so DB helper dot ID and the
value is going to be the value that
comes from statuses right so status dot
I deem house easy so that is what put DB
helper dot column created that is going
to be Patos dot status dot created that
but since that's a string I need to get
it converted to a to get I think it's
good time right get time to convert it
to to a name along right values dot put
VB helper dot user status dot user dot
name right and values dot put DB upper
dot text the status stop toast
so we create valleys create content
valleys and once we get the content
values we simply need to insert it again
and what we're using to insert now is
we're using a we are using something
called a prepared statement so it's
going to look like this
DB dot insert right okay and is we're
going to say table so table is easy it's
DB helper dot table because we have that
as a constant
now column hack is that it's a hack you
know it's um don't worry about it too
much it's now and values become stars
right
so the second argument is a null column
hack so let's so let's take a look so
look at sequel Lite database and let's
take a look at those functions there's a
bit because we're going to look at
something else as well in a second but
there's insert in there so let's take a
look at insert so takes table which is a
constant right we have a table constant
now khon kaen can value x'
so um table is a table to insert see now
connect sequel doesn't allow inserting a
completely empty row so if initial value
is empty is call me explicitly be
assigned a null value right so that's
what we are doing so if initial term is
empty that that's what that's why it
needs to be something so that's what
we're going to put a null in here and
then this map is the initial values to
the rows right yeah don't worry about it
you're just basically going to pass now
well if you want it's something else for
a completely empty column then you can
put something else empty row M
so so let's take a look at remember I
did a dump recently
what was it am i deleted now so again I
defy what I normally would have had is I
would get something like this insert
into statuses and then I would have I
deep sorry underscore ID YUM Bob created
that yum the user um text right and then
I would have values and then in values
that would have a number here like
something some number ID right created
that with the game be some kind of
number user would be another marker and
text will be yellow from San Jose right
that's what we it would normally have
looked at if I was creating a something
like this can by hand right so
essentially what I'm doing is a mapping
values to column names right values to
column names right values to column
names right and then values to column
names right so that's what this is here
create content values right
it's simply mapping values to column
names so this is a column name this is
the value that goes into it got it
that's what your structure represents
right and then insert takes its
structure and intelligently create
this piece of text for us that's only
done it's not really not really doing a
lot of magic there so it's faster
because it pre compiles it so it doesn't
need to parse this statement I'm yeah
and in you do it a lot especially insert
you may be doing thousands of inserts
sometimes right in depends on but this
is a precompiled statement so that makes
it faster and it's since it's
precompiled it knows that it can only
have one specific value here that must
be integer and it cannot have semi
columns and quotes which are the scary
things like the quote is the scary thing
because that escapes let's escape
character so it can it can do some kind
of validation like that it's like hey
I'm expecting a number here this better
be just a number if you're trying to
sneak in some sequel in here I'll freak
out that's what it does exactly
you are one percent safe from objection
when you do prepared statements that's
there that's the goal yeah so if you
don't put it it's a it's just going to
have a tempting it's as if you it's it
it's going to be here the same way as if
you didn't put it here manually so
whatever well it depends on how your
table is created so for example if I had
not now be a constraint on a database
well yeah so that is a constraint so in
this case if I don't provide this that
would be a constraint but that brings
another point to the table so if I run
this let me let me run this and I want
to see what happens I mean my database
directory I am so I'm going to do a
sequel a 3-star sequel i3 sequel I'd 3
star and dot dot dump just to see what's
in the database I guess I have pretty
much empty database right now you guys
can verify that right on now let's uh
let's go
common walls okay yeah just what I was
looking for okay
delete it so what we're going to do now
is I'm going to run my code so menu
start service BAM okay
Durer getting data bloom brand okay I'm
going to stop it so I don't have a lot
of confusion there okay stop it
and so now I'm going to go and do dot
dump again right so we did dump just
seconds ago like right here right - dot
dot BAM look all the data is and
database these are these are the
equivalent of statements that I would
have to do to recreate my database
that's what an insert statement looks
like right yeah make sense dr. Loza you
for new to sequel that's what we'll see
insert statement looks like so see kind
of float insert into statuses values
blah blah blah it's kind of like in
English it optimizes it as opposed to
having the statement itself so as
opposed to having to every single time
parse insert space into column you know
there's like there's a cost to that it
knows hey this is an insert statement
right doesn't have to parse it it's
prepared it's what's called a prepared
statement it's it's much faster because
it knows what it's doing it doesn't have
to every single time try to reanalyze
your English sentence yeah it knows it's
doing insert that's all it's capable of
so so now that we know that this this
this now I can also do a regular select
star from statuses semicolon BAM and
here's the data so the data is there in
the database
was
awesome great whoo cool
so so everyone happy with this so far
your your tiny step ahead so as I don't
have to read this so far okay so it this
worked great right first time
everything's nice and clean let me run
it second time watch start service again
running Wow crapping out exactly so I'm
going to stop it because it's going to
keep doing that so let's take a look at
all these X's so I have zillion and one
exception right the bad news the good
news is they're all the same so you can
just treat them as the same reason right
so let's take a look at this exception
what does this say constraint exception
constraint failed okay so it says
constraint fail and it says car Maracana
update error 91 okay so I go flip to
that page 91 so here it's failing with
an exception called constraint fail
so why so you pointed out the reason why
it's failing is because we said ID is
primary key but then we're trying to
read insert something with a over and
over again because keep in mind what we
do get get friends timeline returns 20
most recent updates from my friends in
me in the last 24 hours
so unlike unlock and we're tracking this
every minute so unless you have a lot of
friends which I don't you're not going
to have a lot of updates so you're bound
to have repeats you're going to have a
lot of repeats this is partially why
poor sucks compared to push right we're
using a poll so we're actually wasting a
lot of bandwidth and computing in cycle
soon all that along but that's a
different story but anyway we have a lot
of repeats a lot of overlap right so
we're trying to insert it and it fails
so what do we do
but how do we I mean but check the idea
what you have to do go to database pull
the data check the I didn't
yeah you can you can just let the fail
and ignore it do nothing that would be
one solution I could just say you know
there's actually there's actually
something called insert don't do this or
put I could just do this source surround
Wed try catch and call it a day well but
I mean that case I may want to check you
know the yeah
depends on what your cost you way you're
going to take yeah be able to try and or
each one you can we try to go to the
database numbers yeah yeah we're going
to do we're going to improve on this
we're actually going to memory since
it's based on a timestamp
everything's or chronologically ordered
so we can actually at some point to save
the timestamp and remember what the
latest record is yeah yeah yeah yeah but
they want to kind of grow it so
exponentially but piece but should this
would solve it so I could successful
just ignore this that this would also
this would work just fine so if they
install this run it I'm not going to
have the problem again and everything's
going to be fine so let's see so menu
start and see it's getting tweets it got
it nothing compliant okay I'm sorry I
just got a bunch of exceptions did
nothing about it ignored it so I'm going
to stop it now get out well but like I
said first you need to make sure if you
are in a select statement need to press
semi column and then quit dot dot quit
yeah or control-d right and Trust
also works so if you look at here in in
Sep there's insert that we used
there's insert or probe that this is why
sometimes you know referring to
documentation is useful but there's also
something called insert width on
conflict which provides for a conflict
algorithm so you can say what to do when
there's a conflict and this is
relatively new it since APA did you guys
notice this there's a Seco I can filter
by API level and then it Gray's out
stuff that doesn't exist
yeah so you can say what API level
you're like working on right so but it
also tells you what what the API is so
here this is available since API level 8
it says that insert with on conflict and
you can provide a conflict algorithm the
role idea of the newly inserted row or
the primary idea of the existing row of
the input parameter so yeah I can use
this I just need to know what conflict
algorithms there are there will be
conflict algorithm abort ignore fail
none replace row back create there you
go
so this is actually pretty cool right I
can intelligently now say as opposed to
so I don't care about this I'm going to
keep it insert or and what is it with a
name insert or so insert insert or with
conflict and then I need to provide a
conflict algorithm and it's going to be
the sequel Lite database dot and then
pick one of these so abort now don't
fail now nor so in a constraint row that
contains the constraint Dalia is not
inserted or change
right continuous normally none use the
following and no conflict action is
specified at it place for example we
could just replace maybe maybe there's
an ID is the same but something changed
I can say we're all back you know and so
on I'll just say replace for example I
can call shift F to reformat and and
that's pre-allocate now as well okay and
just to do a quick test that it all
works and then I do menu start service
BAM got all the tweets but nothing's
nothing complained right I'm going to
stop it and I'm going to just check in
my database I shouldn't have more than
20 plus rack because you know I just
want to make sure that it's not
multiplying right so say select count
star from statuses oops oh thank you I
was I thought I'm used to this working
but it's not c.coli three-star and then
I'm gonna say so like yeah see 20 it's a
sequel I mean you can just do select
star from statuses and count them if you
want but but you can also do select
count and then count as a function a
sequel that gives you the number of
typos
well you can look it up in the
documentation it's right here right
under secret because it's I said replace
but you could just say ignore so any of
those you know if not sure I mean you
can just put them out you can just put
you can just do a sequel I database dot
and then they're right here the inter
explained yeah
no ma'am no but it did you because of
what your database logic should be
independent slippers yeah I mean you are
somewhat committing to yes we are
heavily depending on the framework API
for database yes so we're not by no
means obstructing abstracting the
database this is really entrenched with
sequel light yes so he knows all this
stuff code to magically create a file
update the file store the versions etc
that that is absolutely true
you know so it's not a you know so when
you program for mobile concerns are
different than concerns you get with web
apps like with web apps that would be
more concerned about concurrency I would
be more concerned about user management
right I'll be more concerned about
replication clustering of fault
tolerance that sort of stuff here that's
what I said what are we using hearing
this for it's really a cache of some
stuff online right so do I really care
about replacing the latest not really
it's not in the cards yeah I would have
to yeah I would have to rip up a bunch
of stuff so what I would do what we're
going to involve to is we're for all
those
reasons we are going to replace the
we're not going to do this but we're
going to do this and then this okay for
those reasons so we're going to abstract
the data with this guy cause that
content provider right so that's going
to be our goal and then we don't really
care maybe this is from that point or
not even the database me it may be
somehow going back to the cloud or
something who knows yes because then we
can inject whatever business logic we
want to go cool so at this point we have
this guy working and we have the data in
the database and we can verify that we
have the data in the database and so
that's that brings us to that point so
just to kind of give you an idea where
we're at in the green screen grand
scheme of things that is a roughly the
end of chapter we're like right here
okay so if anybody you know this is sort
of what we just did in second half today
and this will fit in the first half
today just so you can have an idea what
we're at it nicely boils down to that
and then so tomorrow we're going to do
something called lists and adapters so
what's now our next logical step is to
work on this guy and we're going to do
line three iterations we're going to
learn you know a couple iterations we're
going to build it first like quick and
dirty then we're going to say why it's
not good enough we're going to fix it
then we're going to fix it once again
and so on so so that's sort of what
we're going to do and at that point
we'll have the fully working things
everything else sort of a nice to have
but but it's good because we all have a
good day day and a half to do a nice to
haves like broadcast receivers and some
other stuff that you can plug into the
into the mix make sense
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>