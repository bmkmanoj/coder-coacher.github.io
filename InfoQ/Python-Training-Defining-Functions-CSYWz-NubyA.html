<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Training - Defining Functions | Coder Coacher - Coaching Coders</title><meta content="Python Training - Defining Functions - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Training - Defining Functions</b></h2><h5 class="post__date">2011-09-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/CSYWz-NubyA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">and I just want to cover functions so
all the code that we've done so far and
the things that we've used to manage our
program flow and we've done branching
conditionals if else if we choose which
sections of our code to execute and
we've done looping which says take a
section of code and run it potentially
over and over again functions are a way
to break up a second of your code into a
functional unit that's hopefully just
dependent upon one or two variables and
be able to call it repeatedly it's
useful mainly as a management technique
and also to avoid duplication and pretty
much all modern programming languages
are structured programming languages
meaning functions play a large role in
them so let's look at the syntax for
defining functions and just note you've
been using functions all this time
calling functions as a matter of adding
parentheses after a variable if that
variable is a callable then it will be
called so when we say list and add
parentheses list is a variable that
points to a object of type list and when
we add parentheses it actually calls
that object which means execute a
certain amount of code and that function
returns a blank list in this case we can
define our own functions with the
keyword def short for define we can give
them a name a name is a valid variable
name and i haven't mentioned that either
but valid variable names are
alphanumeric starting with a alpha and
lowercase so one is not one foo is not a
valid variable name but foo one is we
use parentheses to specify an optional
argument list a semicolon
says this is a multi-line statement and
underneath is in an indented line the
body of the function and let's just
print one right now and i hit enter
after unen denting and nothing happens
there's no output so I've created a
function I haven't called it what it did
yeah I've got a lot of stuff
is add a variable called foo my local
namespace that is a function and if I
have pinned parentheses to it it'll
actually call it and run the function
body which prints one everybody with me
so far I can make multi-line functions
I can figure out how my indentation
works here
and wanted to and then functions should
be able to accept arguments when I'm
inside of a function what data do I have
access to
nothing by default so isn't that
interesting when i type locals right now
i get a big long list of all sorts of
stuff that i've defined and a bunch of
stuff I python is made and when I call
my function and it prints out locals
there's nothing in locals so a key
Python concept is namespaces and
namespaces are created by a variety of
things including functions but local to
that function body is nothing I didn't
create any variables inside of it it was
able to call the function local because
local is in Global's it's a built-in so
my function foo could still access
variables that are in the global name
space but it doesn't have any access to
the surrounding local variables by
default so if I want it to operate on
something I need to pass it in and we
pass parameters or arguments to a
function just by specifying them by name
and it's a comma separated list
they have they have limited access to
Global's there's a couple ways of
specifying what their access to global
looks like and we'll get into the rules
for how the namespace functions exactly
in a little bit the main thing from that
is just a note that they don't have
access by default to locals exactly
exactly it's there's slight
complications and how they access
Global's but we'll talk about that in a
second so I defined a function that just
prints out a first-name and lastname
that have passed in I can pass different
variables to it and it should give you
an idea of what you might do to refactor
your existing classmates program if
you've got lots of lines that do a print
statement and kind of prettify it and
you've got that same line like four
different places you could define a
function that prints a row from your
classmates dictionary the way you want
it and then just call that function the
four different places that means if you
change it let's say you decide that you
want to make sure that the first
character of a name is uppercase you've
only got one place to change it inside
the function you don't have to go to the
four different places where you had the
line before so even though in that case
it didn't save you any lines of code
you've reduced your repetition and one
of the primary rules of good programming
hygiene is don't repeat yourself dry we
talked about docstrings earlier and said
the first thing in a Python script could
be a triple quoted line and you'd
actually have programmatic access to
that the first thing inside of any
namespace can be a triple quitted line
so I defined a function foo it prints
one you don't see that doc string thing
in the output anywhere but if I do help
on foo there's the doc string so it is
considered a good Python convention to
doc stirring everything by default and
if anybody is ever using your code as a
library from the command line they can
at least glean something useful
hopefully something useful from your
short description it's also kind of
convention to supply docstrings where
the first line is a short description
and then any tests or lengthy
descriptions are separated by a blank
from the rest and several documentation
generation libraries people use will
give you the option of seeing just the
first line or saying all the rest so
let's go back to the classmates file and
try out just a couple of these things
anything else actually you know I take
it back let me let me go just a little
bit further down the path of functions
our zip function that we played with
what do you think the definition line /
zip looks like since zip how many
arguments can zip take we didn't really
say right it takes lists
it works has given me columns and I can
keep on adding lines additional
parameters indefinitely Python has
really sophisticated argument handling
capabilities so you don't have to do
something like this and accept a bunch
of different parameters
so I've got a special function
declaration foo and then star args and
inside the body i'm just going to print
args
notice no money no matter how many
parameters I'm passing to it it's able
to accept them and it's assigning them
to a tuple of all the input arguments
and this is probably what the
Declaration of a zip looks like so two
ways of defining input parameters one we
can give a position separated list of
names
and two we can say I don't really know
how many parameters I'm going to get but
I want a list of them
makes sense to everybody the one new
piece of syntax is star and you could
actually call args anything you want
it's just a variable declaration the key
piece of syntax is star okay um you
should only use star args when you know
for sure that you take a variable number
of parameters so a function like zip is
a perfect candidate for that it takes
some number of arguments and doesn't
know how many but most functions already
know what pieces of data they're going
to get if you write a function that does
a mathematical operation like multiply
it takes two objects so it already knows
so by default you probably won't use
star just when declaring your functions
you will usually not just for special
cases you'll usually not know just to be
explicit if you know that you accept two
arguments you should give them good
names and there should be part of your
function definition because I can
introspect your function and say your
function accepts two variables whose
name or first name and last name then I
can probably figure out how to use your
function but if you have a function name
with just our args that doesn't
necessarily tell me anything and we
prefer clean at all times if possible in
terms of our our code we write for our
we write for ourselves and for other
programmers more than we write for the
computer and okay so two methods of
function parameter declaration let's
throw one more in there
sorry Danny so the additional piece of
syntax I've added now is the equal sign
and a value so I have a function
definition we got def which declares I'm
in a function foo is the main
parentheses I've got a parameter list
the first parameter looks normal first
name and a comma it's a positional
argument the second argument last name
equals Franklin is also the name of a
parameter but I go ahead and give it a
default value and that default value
means it's optional if I supply a value
it'll override the default if I don't
supply a value the default will get
taken so the usage makes sense to people
and this is a way to write fairly
flexible functions you might have a
function that will take optionally three
or four pieces of information and you
might provide sensible defaults and say
something that formats text you might
typically want to format text or look at
it pretty print before you might
typically want to format text to fit
within 80 columns you could expose 80
columns as a parameter with a default
value and if it's not specified it'll
work the way you hard coded it and you
offer the easier chance to override if
they want to in a pretty trivial fashion
ok one more piece of funky syntax
okay the new piece of syntax here is
star star I did star args before star
star star args with what star was a list
is a tuple of all the positional
arguments potentially unlimited number
star star is a dick of all the name
based arguments and those are arguments
to which you have given a default value
so this doesn't work
and that does so just like we can define
default values when we define functions
it can also specify names when we call
functions there's slightly orthogonal
concepts so this function isn't
specifying a default value this function
is saying I'm going to get a bunch of
keyword oriented name's not positional
arguments but arguments that are named
and you know they're not positional I
can reverse the order of these arguments
and it's going to get a dick of all the
name based arguments when we've been
calling functions so far we've just been
passing values not names values
up so a really common thing in functions
is you've got a big complicated function
and it's got like seven parameters and
you really only ever need to supply to
and if you do it positionally based you
have to supply all seven to get the last
one but one time you want to use this
you have to pass a bunch of you know
nils or pulses or zeros to initialize
all the other argument and get to that
last one keyword arguments take away the
positional stuff and say pass me
function arguments by a name and I can
combine our two new pieces of syntax
star args and starts to our keywords for
kind of the ultimate in flexible
functions and I have here a function
that accepts some positional arguments
however many there are and some keyword
arguments however many there are
grants just printing off both in this
case the one limitation in terms of
calling is all your positional arguments
must proceed all your name based
arguments and obviously because the
position arguments are dependent on
position and in this case either one is
optional I could call with none they
lose um yes you can do position position
name but you can't do any more positions
after that positional arguments have to
come first the name based arguments and
our star args and star star keyword args
are only letting us accept an unlimited
number of these I could mix and match
positional and name based arguments
explicitly by saying first name and
that's a positional argument because I'm
not giving any default value that's a
name based argument because I am giving
it a default value def def
right it's kind of what we're doing
before all-star args and stars to our
keyword args does is let me accept an
unlimited number of them and in the
function definition as well as in
calling all the positional Eggman's have
to come first all the name based
documents have to come afterwards okay
you confuse yet there's one more
additional piece of complexity on
calling but i don't think i'll talk
about that additional piece of
complexity till tomorrow for now let's
go back to our classmates lab and let's
do a little bit of refactoring um
question initialize the function yes so
if I bellini private the word you know
taken kinds of positional places
arguments if you don't initialize it
there positional arguments so there's no
equal sign as a positional argument okay
yep foo so that would be the way and by
default you'll typically write functions
that take just a couple arguments in
their positional arguments right that's
how much the code you've written another
languages work or somebody usually can
utilize so bad right nope if i
initialize it then it's automatically a
keyword base value keyword it can be the
first one if you initialize it its
keyword-based and it's also optional and
that's the other funky thing is since
you've given it a default value you can
call the function without supplying that
value and if you want a keyword-based
argument that's mandatory you need to
initialize it to something like none or
false check for that value in your
function and raise an exception if there
ok so we have regular arguments that are
positional we give them names in our
function definition but we only use
those names internally to the function
and outside the function we don't see
those names we passages values rental
values and then we have name based
optional
and outside the function we specify that
we're getting a name based parameter by
saying name equals value when we call
the function and inside the function
about that value did not have to be
supplied when the function was cold so
it's always set whether it was supplied
or not it's got a default argument okay
first and most simple refactoring
refactoring by the way it's a great book
one more question they would be yes
correct so so outside the function body
if I say last name it doesn't exist it's
local to the function name space that's
correct so let's do our first and most
most easy refactoring let's go ahead and
open your classmates file save it as a
new classmates three classmates three PI
file and let's think about what sort
sorts of things we could move into a
function one of the things refactoring
by the way it's great book it's written
about java and but it's basically the
art of rewriting your program that's
already working for the purpose of
making it more maintainable which
usually translates to easier to
understand and easier to change and it's
got bunches of examples and rules for
rewriting things my own personal rules
chief among them is less code the less
code I have to read and algorithm the
easy it is for me to understand it if
you give me a loop that's two pages of
printed code the chances that I actually
understand everything that loop does is
really close to nil it's just too much
code to comprehend if you give me a loop
that has four lines as the body of the
loop even if those four lines are
calling functions I at least have a
really good conceptual understanding of
the loop and I can probably test the
functions a lot better because they're
not part of the loop that can be tested
kind of stand alone
so let's remove some code from our
classmates loop and put it into
functions and particularly I'd like to
remove code that gets repeated so you
probably are printing out a record a few
places let's define a function called
mmm display record and let's pass at our
tuple and let's have it print our nice
you know name first name last name is a
roll and maybe another candidate for
refactoring would be our input you have
several lines of input where you prompt
the user for a first name and last name
and out of that you get a couple of
variables let's refactor that to a
function called new record and that
requires one last piece of syntax I
should have mentioned with functions
functions functions do things they run
the body so we've been calling our
function foo here as we repeatedly
define it and it does stuff but does it
return anything is that X is equal to
foo and X is equal to nothing right now
so functions by default return none but
there is a state language keyword return
which returned stops the execution of
the function when it executes snow
matter where it is in the function if
return was the first statement of my
function the rest of my function body
would not ever run and now when I run
foo I can see that it's got output here
is the return value and it also printed
one and I can say x is equal to foo and
X now has a value so we could write a
function that solicits input from the
user and returns a first-name lastname
roll tuple and in fact I'd like to do
just that refactor
you
yes there are you can't use you can't
use any keywords and keywords I there
was a built-in module
keyword
you were dot KW list has all the
built-in keywords so we've seen a bunch
of these like if for a while there's
break and continue so you'll get a
syntax error if you trying to use one of
these then the built-ins you can
actually over right if you want to like
stir is a built-in but I can go ahead
and type my own function called stir but
just because you can doesn't make it a
good idea and is extremely likely to
break your good so it's worthwhile
knowing the built-ins and not overriding
them if possible
yes there are you can't use you can't
use any keywords and keywords I there
was a built-in module
you were dot KW list has all the
built-in keywords so we've seen a bunch
of these like if for a while there's
break and continue so you'll get a
syntax error if you try and use one of
these then the built-ins you can
actually over right if you want to like
stir as a built-in but I can go ahead
and type my own function called stir but
just because you can doesn't make it a
good idea and is extremely likely to
break your code so it's worthwhile
knowing the built-ins and not overriding
them if possible
you
you
you
everybody's industriously typing away
and are like official lecture portion is
over but would anybody it seems like
everybody's hit the material pretty well
as anybody feeling lost I need to pay
attention to anybody feel okay okay so
we're our classmates program um by day
four is going to read and write from a
text file using the CSV module so you
could look at it with a excel
spreadsheet and so that your inputs and
outputs are saved between program runs
we'd like to present a quick menu which
all I think I have seven options on the
final thing which lets the user choose
what sort of option they want to take
initially and for the moment I just like
to go ahead and add the menu and not all
the functionality has to work but the
functionality that we're interested in
is what we have already print everything
out like a search by name doesn't like
to do some other filtering things like
filter by role so show me only the
teachers or show me only the instructors
we'd like to add a record but basically
the main loop of your program is going
to switch from just soliciting a name to
presenting a menu and executing a
particular function probably based on
what menu item was selected and we'll
talk tomorrow about how best to
structure your program there's a couple
of Python idioms when you start
progressing beyond scripts into actual
programs and probably by tomorrow we'll
be pulling your program out into a
package and module system as well so not
all of your code is living in a single
file and optionally at the end depending
on how enthusiastic people are feeling
we may try talking to a database instead
of talking to a text file and we're
going to be spending parts of the third
day and fourth day on object-oriented
programming and some of the benefits of
which are code reuse and some of which
are just fluency and we'll see the
benefits of refactoring our program to
use objects instead of relatively dumb
data structures like tuples or lists for
our records that's kind of where we're
we're we're going in terms of in terms
of our labs and then we've got a few
other topics to cover along the way doc
tests are probably going to sneak in
tomorrow unit tests which is another
testing library
sneaking on the third day and tomorrow
yeah tomorrow basically we're going to
finish off with functions kind of
reiterate some of the stuff that we
talked about at the end of today and
just one or two extra tweaks and error
recovery with exceptions and code
organization and we'll be tweaking the
classmates to read and write and search
through files instead of just from a
static data definition</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>