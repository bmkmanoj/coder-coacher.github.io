<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Horizon - An Open Source JavaScript Platform for Building Engaging Apps | Coder Coacher - Coaching Coders</title><meta content="Horizon - An Open Source JavaScript Platform for Building Engaging Apps - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Horizon - An Open Source JavaScript Platform for Building Engaging Apps</b></h2><h5 class="post__date">2016-04-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ajb_IeXcVw4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hey guys can everybody hear me okay
alright thank you for coming out here
tonight my name's Slava I'm one of the
cofounders of the company called
briefing GB I'll tell you a little bit
about that but I'm really here today to
talk about a really cool project we're
working on called horizon and this story
is just just by show of hands how many
people are familiar with we think to be
like heard about it before ok quite a
few of you not everybody let's give a
quick background everything to be is a
real-time no sequel database system it's
similar to MongoDB if you're getting
started if you've used that before in a
sense that you store and retrieve JSON
documents you can scale it out to
multiple machines multiple data centers
but that's pretty much where the
similarities end
we think is a real-time database the way
it works is you subscribe to queries so
you say I'm interested in this piece of
data and then anytime something changes
in the database you as a developer
application developer get a notification
and what that does is it makes building
modern real-time apps really really
simple it dramatically simplifies the
architecture in the infrastructure so we
launched the production version
everything to be about a year ago and
right now everything to me is deployed
in a lot of infrastructures at scale
it's deployed for example at NASA at
fidelity where they use rethink to
basically back the mobile app that about
30 million of their customers use every
day to manage their accounts if deployed
at General Motors its deployed in a lot
of places and my story is the reason why
I'm here tonight is as we built
everything to be was shifted we started
getting users we have a great community
of about a hundred and fifty thousand
developers now and it's growing you know
growing every month very fast so we
started working with these companies and
people who are building modern real-time
web applications and one of the things
we learned is that just by observing
lots of different companies lots of
different people from different kind of
backgrounds and walks of life build
their apps ask questions you know get
the database working and like the other
apps working the most important thing we
learned is that a like nodejs and
javascript in general
really really exciting a lot of people
moving are moving to the JavaScript them
know just because of all this a
synchronous kind of real-time features
it's fast it's it's relatively easy
there are a lot of people who know
JavaScript so that's great
but kind of the second part of it is the
building real-time or modern JavaScript
apps is still too hard there's kind of a
lot of stuff you have to do and a lot of
stuff you have to know to make that
happen I'm gonna talk a little bit about
it and the idea behind horizon is to
build a like an ecosystem a project a
set of tools that makes building modern
apps much easier okay so like let's say
you're building a JavaScript app what do
you have to do well like it turns out
that if you're just starting from
scratch there's a ton of things that you
have to just deal with that have really
nothing to do with your application like
it's just kind of boilerplate work so
you have to set up the database you have
to set up your you know your web server
you have to write some pretty basic code
you're doing the same thing over and
over again to create the endpoints you
know you're probably building your
front-end piece of code and like reactor
angular and then okay so you built your
app then you have to deploy it and
deployment is like another big problem
because you could do it pretty easily
there are a lot of services now to get
things deployed you know for a simple
app but the moment you get things to
work at scale like a lot of our
customers did things just get hard like
you can do it in AWS but again AWS is a
set of building blocks it's amazing but
there's a lot you have to do to like
actually get things working you could do
it on Heroku you could do it you know
you could do it in lots of places but
like deployment and scale is another big
problem then you have to deal with
monitoring you have to deal with like a
lot of these issues so these issues kind
of span from just developing your app to
maintaining it to deploying it to
scaling it to monitoring just all across
the development process and so okay like
we have this problem how do people do
this now well right now you have three
options there's probably more options
but there's like three major ones that
the at least a lot of our users probably
90% of our users pick so one is you
could build stuff from scratch there's a
lot of tools now like the JavaScript
no the ecosystem is amazing the front
and the ecosystem is amazing but these
tools you kind of have to get them and
put them all together and figure all
this stuff out they change very quickly
things break like there's just a lot to
do and similarly on the deployment side
you could use a cloud provider like
Amazon AWS or Azure or whatever it is
that you picked but again it's like
great building blocks but pretty hard to
actually actually do anything especially
at the beginning like once you get a big
app up and running things are certainly
doable and possible but there's a lot of
things that you have to deal with and
it's really really hard when you're
getting started so people set out to
solve that problem a lot of companies
recognize that so the first one that
like at least beginners tend to
gravitate do is firebase and just by
show of hands how many people are
familiar with how firebase works okay
almost everybody basic what fire so
firebase is now part of Google it's a
service that lets you store and retrieve
data it's real-time so anytime there is
a change there's a push push
notification that updates all the apps
it's a really really amazing product
amazing service if you're getting
started but we found that a lot of like
a lot of briefing QB customers switch to
rethink rethink from firebase because
they started running into problems and
so the first problem is like it runs on
Google's infrastructure and if you were
a big company or not ok with you know
public cloud you want to do things
yourself you can't that's kind of a
curse or a blessing depending on where
you stand the second issue with firebase
is that it's amazing of what it does but
it's pretty limited they give you an API
that lets you do a couple of things but
when your app gets complicated you can't
really use it anymore so people end up
doing these hacks like they'll set up
another database sync data between the
firebase and their database then they'll
query the database sometimes when
they're doing complicated things they
use firebase at other times like data
diverges things are hard and eventually
like as the app kind of progresses and
becomes more complicated people just
switch off and another example of this
was sparse parts with a similar service
run by Facebook had a very similar
problem and because just like just
financial
I mean as the app gets complicated and
people are willing to pay a lot of money
to solve their problems like these
service type solutions don't really work
out for Advanced tab so Facebook you
know shut down bars for probably for
this reason um so the the third option
that people were very excited about is
meteor and again by show of hands how
many people are familiar with meteor ok
quite a few of you
so meteor is an open source project it's
an ecosystem that again set up sets out
to solve this problem and again people
really really excited about it and they
tried meteor and started running into
pretty significant issues and these
issues have to do sort of was how meteor
was designed again it's a curse or a
blessing depending on how you stand but
basically meteor is a pretty monolithic
like walled garden so when you pick it
you're really picking meteor like
everything you're doing you're doing the
meteor way if you want to scale your app
and you run into a problem with meteor
you can't really like use and now GS
library you can't really do things your
own way
it doesn't operate really well with the
nodejs ecosystem and again like if
people like that that's awesome but our
customers are users and from our point
of view the world is kind of moving
towards open source and like this Bazaar
model versus a Cathedral model and
meteor is much more of a cathedral so
that was that's what people do today and
a lot of our users kind of we're still
struggling so we set out to build this
project called horizon and the idea
behind horizon was to solve a lot of
these problems to design it a little bit
differently have a different philosophy
that will hopefully solve these problems
for a lot of people and horizon right
now is in private betas we're shipping
it in May so you know we'll see how well
it works out we're very excited about it
and I'm here today to tell you a little
bit about horizon I'm gonna show you a
basic app we're gonna look at some code
like it's gonna be great we're gonna
have fun all right so what horizon is
it's an open source project you can
think of it at the beginning as a self
hosted firebase so you literally you
download you know horizon server in your
machine you spin it up it gives you a
self host
back end and you can just write your
your react up or your angular app
whatever it is and horizon will deal
with all the back end it will deal with
the database it will deal with the
endpoints so you literally like all you
have to do is write front-end code and
then horizon cloud as a service is a
paid service where you can deploy
horizon apps to the cloud and even you
can scale them out monitor them do all
the typical things that you have to do
when you have a pretty serious
application so what's different about
horizon though is that we've really
thought through what happens when you
come out of the stage of like a hello
world kind of example project and your
app gets really complicated because our
customers like the people who you know
who really write the big checks like
that's their problem their really big
apps and the way horizon works so when
you start out it's just a server but as
your app gets complicated they're used
to make it modular and extensible so
everything is built on top of the nodejs
ecosystem you can take out all four
services like all the typical things you
have to deal with in the web app you
know sessions authentication data
storage and retrieval like all these all
these presence all these things but then
as your app gets complicated you stop
you typically what people do right now
is they stop running horizon as a
standalone server and the importer
there's a library into there no jsf so
what that does is it gives you an OG a
SAP all these services so it's kind of
like it's kind of scaffolding for your
app and then you can start using
whichever ones of them you want you can
throw away the things you don't want you
can import nodejs libraries like you're
basically building a know JSF with all
this support from horizon so what that
gets people is a they can get started
very very quickly it's very very easy to
build an app it's easy to build a modern
app because it integrates with react and
angular so you know everything's
real-time you don't have to write a lot
of code all the kind of boilerplate
that's taken care of and as your app
gets complicated there's an upgrade path
or extensibility path where we thought
through we've looked at a lot of
infrastructures how people
develop how people deploy and the
project really works with like people
you know with the way people actually
develop as opposed to like enforcing
this idea on people here's how you
should build things like instead it's
just like okay what do people do right
now and how can we make their jobs
easier so what I'd like to do now is I'm
gonna show you a little bit so I'm gonna
show you a basic app just to give you an
idea of how this works and we're gonna
look at some cold so you'll see a little
bit about what horizon you'll see a
little bit about like what horizon gets
you and how easy it is to actually is so
I'm gonna spin up a horizon server right
now
by the way can you guys see this is this
okay can everyone see the terminal okay
so what I'm gonna do is so horizon I
mean I already have it installed there's
a command called HD I'm glad to
initialize basic structure of the
applications what I'm gonna run right
now is HG serve and they just serve will
spin up the horizon server so the app
I'm gonna show you right now is just a
chat app it's building reactive I think
this comes from the react people say
it's a basic example of how to build
chat applications and then we're gonna
we're going to look look at the code and
see how to actually do this so let's
let's open this up I think it starts on
localhost 81 81 all right I've got the
app running right here and I'm just
gonna say like hello world and other
people can type here and you know you'll
see the chat message it's a pretty
simple pretty basic example alright so
I've got two windows here I just want to
give you an example of what I mean by
real-time because I used that word
before so if I say you know fubar
here in this window it shows up in the
other windows though right so this
happens instantaneously that's an
example of a real-time app and the
premise behind we think UB and horizon
actually is that like just like Ajax
really changed the game for people like
once people introduced Ajax apps that
don't use it would force you to refresh
the page kind of felt like they're from
the nineties real-time WebSockets it's
kind of the same the same magnitude of
an innovation although that may not seem
that like like that big a deal because
once you get an app where data gets
pushed to the browser in real time when
people use an app that doesn't have that
like it feels like it was made you know
15 years ago so that's really really
important all right so what I'd like to
do now is show you some code we'll look
at how this app is actually built
all right so the code here is all react
so there are only a couple of lines that
use the horizon API and I'm gonna show
you these lines but everything else here
you don't really have to worry about
because if you go you know if you pick
if you're by the way how many people are
familiar with reactor used it before
okay yeah if you use react like all of
this is standard stuff so nothing is new
here I'm not gonna actually cover it but
you can literally use any web frame or
any front-end framework you want with
this and it will work fine or you could
you know roll it on your own so let's
look at what horizon actually does I'm
gonna search for the word horizon and
there are only a couple of lines here
that matter um can you guys see this
okay sort of okay I'll try to verbally
kind of explain what this is okay so the
first thing we do is we create a
variable right we would say horizon
equals horizon that literally just
creates the horizon object and imports
you know a package this object so does
this code will run in the browser this
is front-end JavaScript code this line
here will connect to the horizon server
so the server is phone up in the
terminal when you start the browser this
will create a WebSocket connection and
it will do the handshake of although all
the things that kind of require this to
work so the next thing we do is this is
just react code so we say so in the
props we say we create a property called
horizon and we say horizon and
parentheses react messages what that
does is it literally connects to react
messages database table in the on the
backend so there is and I'll show you
how this works in a second there is a
database table in the backend right now
back to everything to be called react
messages so anytime someone types a
message that's where the thing gets
stored so in the front-end you say like
all the messages that I care about store
them in this table retrieve them from
this table and then we have to do two
things right anytime someone types a
message we have to somehow get it stored
and then anytime a message appears in
the system we have to show it to the
users so the remaining the remaining
piece of code is literally like to you
know to kind of pair
two lines of code to do the storage and
retrieval and let's look at this here so
this is the save function what save here
does is it says write you know problems
that horizon that's the react messages
table that we created that store and the
stores their Yi you know the date I'm
the author and the actual message itself
so again you run this on the front end
you say save and you don't have to write
any back-end code at all what this will
do is it will take this JSON object pipe
it into the horizon server horizon
server old pipe it into the database and
everything will get stored you don't
have to create endpoints you don't have
to worry about kind of all the typical
boilerplate code that you generally have
to deal with when you're writing these
ups and then on the other side on the
side where a message comes in and you
want to display it to the user is this
method subscribe here so what this does
is it says this is a little bit of a
complicated query but it basically says
order the messages by date time in
descending order you know get me type
top eight messages and then it says
watch and what watch does is instead of
just getting the data once it says like
open a subscription and any time a
message shows up the callback here will
get cold and it will tell react okay
there's a new message let's let's we
render the UI this is literally it so to
build this up this is the only piece of
code or these lines here are the only
pieces of code you'd have to write there
is no back-end code whatsoever and then
later as your app gets complicated you
can start you have full database access
right so it's not like firebase where
you're kind of locked out of the
database and this is the only API you
could use um you can access the database
directly and you can start doing
whatever you want and I'm gonna actually
show you why that's important like why
that matters so we're gonna do that
right now so let's see
all right so what this is is the admin
console for everything to be so when I
spin off the horizon server it spins up
the database in the background we think
if it comes with an admin server that
lets you run queries manage the cluster
those scalability things stuff like that
this is kind of like you can think of it
as a my sequel admin if you've ever used
that before it just ships with
everything directly so this app here is
the admin for everything to be and I'm
gonna show you how these messages show
up in the database real quick just so
you get an idea of like how the full
kind of stack integration works so we've
got a database called horizon and by the
way so what I'm typing here is
everything to be query I'm not gonna go
too much into it because the talk isn't
really about that but this is JavaScript
so if you're using rethink you can write
this you can like copy paste this into
your knowledge AS application this will
work but we're going to do is access the
horizon database the react messages
table and we're going to see what's in
there
all right so let's run this and the JSON
documents here that come back are
literally the messages that I just typed
so everything that gets typed in the
browser that's where it gets stored and
what's really cool about this is that
the whole thing the whole system is
real-time you don't have to do anything
to make bi-directional communication
work and I'll show you an example so
right now what I'm gonna do is I'm gonna
delete so anything to be itself I'm
gonna delete all these documents and the
way I do that is by typing the dot
delete command and hopefully I don't
know how this works was the internet and
stuff when I run this query the database
will notify the horizon server that
something changed the horizon server
will notify the client and all these
messages should be gone so let's give it
a try bang and this actually works this
actually works this is cool hey this is
cool and the reason why it's cool is
because like everyone's trying to build
these real-time applications but to deal
with WebSockets and piping and the
entire infrastructure like that stuff's
really hard especially when you scale
this out all of this just works out of
the box all right so now I think I got
an anchor a qrl so we're gonna do this
the the magical you know mod sweepstakes
and maybe it will work this time
all right so the URL is des you guys see
this
this is no I will read this out for you
it's one d5c bee7bea five dot and
dragged at i/o and unfortunately i think
the people up front kind of get a little
bit of an advantage but you know the
world's unfair
ooh I screwed this up but that's okay
we'll figure we'll figure this out
Oh someone so someone's being really bad
I thought of this I thought of this all
right we're gonna we're gonna do this
here okay I'm so we got enough names I'm
killing Chuck that's it you guys are out
so the names are disappearing but
because we have we have full database
access we can actually figure it out
right here here's our table we're gonna
so we're gonna order this by date time
all right so okay now and now's the fun
part so I'm gonna totally mispronounce
the names I'm sorry that's the fun all
right
this there's a serious business I don't
even know if it's legal to like give
stuff away like this in the state of
California but all right Sergio yeah
okay you guys can make this easier and
just come up they'll be awesome come up
on stage all right so I got I got four
more of these so we got grad V High grad
Charles
we got Anna come up here Anna
and and Matt where are you Matt all
right thank you guys hopefully this was
fun and exciting so I don't know how
much how much time do I have
can someone okay ten minutes okay
perfect so let me just like rev this up
so the project again right now it's it's
in a closed beta but everything so the
whole horizon project is gonna be open
source we think UB is already open
source the reason why we're keeping it
closed is because as it's getting
designed we kind of wanted to limit the
number of people giving comments just
because the initial process of building
this project is a very kind sensitive
thing but I'll just show you the github
page and I got this right here this is
horizon this is going to be open source
in me and right now if you're interested
in playing with this there's about a
thousand people added to this repo we're
kind of throttling it a little bit but
if you want to play with this go to
Horizon Dario
and you know just type in your email
address we're gonna add you add you to
the github repo typically so the project
is still you know it's probably still
got a few edge cases and kind of bugs
here and there but if you're interested
in playing with it and giving feedback
and kind of driving the direction and
design of this a little bit we'd really
appreciate you joining it'd be awesome
because at this point like the basic
architecture and all the basic features
are settled so just having more people
banging on it and giving feedback would
be amazing so thank you guys for coming
on and listening to me but if you have
any questions about horizon or anything
at all yeah for sure yep okay so the
question is the horizon take care of the
build process yeah so horizon so we
don't have our own build system and it
integrates with a couple of build
systems that are commonly and used with
nodejs I don't actually remember which
ones off the top of my head I haven't
looked looked into it recently but like
so all the kind of standard components
like build system the end point
integration all of that stuff it's
pluggable and we are going to ship it
with a bunch of plugins for common
things but then there years if you want
to use a different build system you
could plug that in pretty easily yeah
the question is how would authenticate
work so I haven't showed this I haven't
showed authentication at all but it's a
great question because everything is a
horizon server where you expose it to
the web and then anybody could run any
query so like in this app you know we
have no authentication whatsoever
there's an authentication and a security
model the security model is based on the
notion of owning objects so when the
user created now I'm just gonna kind of
simplify this for now but when the user
creates an object they own it they're
the only ones who can see it if they
want someone else to see the object and
modify it they can share it so it's kind
of a it's similar to like a Linux
security model for files but it doesn't
quite work that well so the Linux model
doesn't quite work that well for this
sort of stuff because like there's
fundamentally people want to share build
apps where everything is shared so it's
extended to allow people to do many
more things like for example create
securities and security on queries
things like that
but yeah there's a model it's like one
way to think about it is it's similar to
what firebase does similar to what parse
does it's it's a fundamentally like
similar thing but yeah the idea is like
when you develop everything's open when
you flip on the production flag
everything's blacklisted by default and
then you can start opening up objects
tables things like that for for um for
your app and set it up in the way where
everything's secure oh yes okay so I was
just talking about a Thursday ssin and
you meant authentication so there's a
couple of things to 1 as you can
authenticate against like all the common
providers like you know Google Facebook
things like that when you authenticate
there is a user's table the gets created
into the database it's it's not really a
special table but horizon has a special
API to access it and then anytime user
logs in or you know gets on the webpage
or logs off there is a presence API so
you could tell whether someone's logged
in and or logged off and it works with a
third with a theorization because you
might want to give some people
permissions to do that but not others
yep
so the question is how does this play
with things like Redux or really so what
horizon does is it exposes a protocol
that basically works over WebSockets and
the protocol let's do the basic things
like store you know store data retrieve
data there's I showed you a semi
complicated query with limits and orders
and stuff like that and then there is a
JavaScript client-side API that makes
accessing that protocol easy but there
is lots of different kind of ways
competing ways to build front-end
applications right now so Redux is like
one way of doing things there are other
ways of doing things so our plan for
this is there are multiple adapters do
the underlying API so the next thing so
the first one the one I showed you today
is just a JavaScript API that we built
the next thing we're gonna build is a
graph GL adapter so there he is like you
know if you're building a reactor graph
and you're using relay and all that
stuff graph QL is like a really
wonderful way
building these apps and you'll be able
to access horizon pro graph QL so the
third one that we're gonna build a spell
for which is a similar thing but by
Netflix so there's different ways of you
know there's different kind of competing
technologies and our goal is to make the
backend easy but we can't really get all
the way to the front end like we don't
want to set direction of how to build
front end apps because you know Facebook
people in Google people in Netflix
people are just way better at it because
they do it at scale every day so we're
just gonna allow multiple kind of
competing technologies you know to let
people build their front end apps the
way they want yep the question is does
it support any sequel like commands like
joins so right now horizon is built only
on top everything to be so it works just
with everything as the backing store
brief in GB itself does support joins it
supports top queries I think it's
probably I haven't looked into this in a
while but I think it's probably the only
no sequel database on the market right
now that actually does joins in South
queries but horizon isn't really tied to
rethink like the reason why we're using
rethink you be for it is because it's
the only database right now that does
real time well enough to support this
kind of real time functionality but
there's a bunch of sequel databases like
for example I think five point DB does
an extension to Postgres that that does
this real time stuff it's not quite as
good yet but it's getting better and
when the first database like the first
sequel database that does this well will
just integrate into horizon so we're not
like dietary thing to be but right now
it happens to be the only technology
that supports the API we need to do the
real time things that people want to do
does that make sense yep the question is
why does everything to be team build
this so okay so like the real answer is
this we so rethink is open source
there's a huge community and we started
noticing this thing like people will go
and get hub and they'll say hey I'm
using everything to be JavaScript driver
it doesn't work like why isn't this
working
and we'd look into it and what we
learned is that people take everything
to be JavaScript driver and import it in
the browser and you can't take like the
database JavaScript driver and important
browser that doesn't work if the
important no so the first time someone
did this were like hey that's not really
how this works you have to import this
you know in no js' they're like okay
cool and then another person has this
question and another and another and
after like getting 50 questions like
this we're like okay maybe there is
something there you know maybe we could
do something to make this process easier
because even when beginners select what
we found is when a beginner asks a
question it may seem like a silly
question to ask but there's always
something there or sometimes something
there when you look into it yeah maybe
it should work that way and then we
started talking to our existing like
bigger customers and we're like hey
we're thinking of building this project
is this interesting to you and almost
everyone was like yes we built so
usually the way people deploy we think
is they'll build one application deploy
the database and then they start
building other applications on top of
that data and they do it all the time
and people are like yeah we build these
apps all the time this would be super
helpful so we found that like a our
existing customers want us are a free
kind of user community people want this
and that's how it came to be all right I
think we're done thank you again guys
for coming up
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>