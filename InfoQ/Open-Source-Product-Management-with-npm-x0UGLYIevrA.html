<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Open Source Product Management with npm | Coder Coacher - Coaching Coders</title><meta content="Open Source Product Management with npm - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Open Source Product Management with npm</b></h2><h5 class="post__date">2014-11-19</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/x0UGLYIevrA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you
cool hello everybody my name as Dan said
is forced Norville and I work for mpm
incorporated mpm is many things and
before I get started how many of you
have used NPM excellent that's what I
like to see that's traction so EDM as
many things first and foremost it is a
project to support the installation of
packages it is also for about the last
nine or ten months a company a company
that in fact employs me it is a small
team of people working together I
believe that as of today there are 11 of
us it is a philosophy and an ethos the
philosophy is based around small modules
and lots of lots of a big ecosystem
putting together many small pieces into
larger applications and the ethos is
very simply stated as nice people matter
we want to be working on fun things
together and pushing things forward
together and remembering that we are all
in this together and most pertinently to
this discussion npm is also a product
family which is to say that it is many
different pieces of software when people
talk about npm they typically talk about
it in the context of the thing you type
in it your prompt when you're trying to
install packages but there is also a
registry where all of the packages will
actually many registries where all the
packages are hosted there is a website
where you can use to find out more about
those packages and how they're connected
to each other and then there's the piece
that I am responsible for the
command-line interface the command-line
interface oh I should actually back up a
little bit and say that each one of
these separate things has its own team
with an NPM so there are 11 of us there
are three software development teams
within the organization and the CXO team
and I think that's basically it at this
point so we are all extremely busy
people with a lot of work to do who are
shipping a lot of stuff very quickly
it's an extremely interesting and fast
what pace place to work but it's also
kind of stressful as a result the COI
team which is what I am on is three
people there is Isaac schluter who was
the maintainer of node for quite a while
the developer originally of the npm
whole thing like all of these three
teams are actually all taking on pieces
of stuff that Isaac did all by himself
for early a long time and he is still by
a fairly long distance the most
productive developer a 10pm but he's a
CEO now so we can't let him write too
much code or else things start catching
on fire there's also Rebecca Turner
she's the newest addition to the team
she works out of Massachusetts she's
working with me on extending the CLI to
do new stuff and then there's me and I'm
kind of a complicated story so I have a
background in working on kind of
ridiculous problem so you say that's
fair dan and I was given the opportunity
i hiked and laurie came to me and
they're like would you like to work on
NPM and I was like sure here are all the
things that I'm really not good at
because it sounds like you want me to do
some of those and like no that's fine
just coming you're going to do all this
stuff and it'll be great we'll have fun
I'd like sounds good to me because these
are all people that the NPM team is
filled with people that I wanted to work
with for a long time we're all we're all
people who have a lot of respect for
each other's intellectual abilities and
it's a very different feeling kind of
company it's not a typical kind of start
up and that was really appealing to me i
also have a lot of interests in things
related to traditional software
engineering which is something that npm
had not had a lot of contact with up
until that point things that i am very
interested in includes support process
and roadmaps and you're going to hear me
to spend a lot of time talking about
roadmaps later on
and I kind of got in there and got in
the middle of stuff I had no idea what I
was doing or where I was going with this
stuff or even really what my real
purpose for being there was for above I
don't know two or three months and then
eventually I kind of got it figured out
and for my sins I got made the team lead
at the CLI team so now I have a lot of
responsibility and not very much free
time it's great so my team's duties um I
put this first I put the idea of meeting
our business objectives first because
this is a really important thing to
discuss when you're talking about
commercial open source software
development we absolutely have to have
money and we have to have a revenue plan
to make more money in the future or else
this awesome product that everybody
depends upon will not be able to sustain
its own development when you are using
any kind of open source project product
that you have to ask yourself where is
this coming from like what is going to
keep this around tomorrow before you put
your faith in it before you put your
work into it you need to make sure this
is something that's going to still be
around in a month or two and this is
something that we are all very focused
on and this is a very important part of
what I do is make sure that all the
other stuff that we do when we're
working on NPM and when people are
contributing to NPM is going to serve
those business goals this is something
you absolutely should be looking at when
you're looking at contributing to an
open source project or starting one
yourself how are you going to sustain
its development long-term it doesn't
have to be commercial but there has to
be some way of making sure that there's
going to be resources available to work
on it another very important thing I do
is fix bugs you know like any
sufficiently complex product there is an
infinite number of bugs in n p.m. and i
am constantly introducing more just to
make sure that i never run out of work a
very very important thing that I need to
spend less time on than I typically do
because it is something that can absorb
all of my time forever if I let it is
supporting our users we have a sort of
non-traditional support channel as
you've probably noticed if you've ever
seen an error trace out of NPM and of
course you never have because it never
has any problems and that is it says you
know file this whole thing on an issue
on our issue tracker and basically one
of
we'll look at those issues and we'll
help you out if nobody else in the
community does and this is something
that I find incredibly rewarding because
why I am doing is what I am doing is to
help all of you out like that is what
gets me going in the morning but it is
also extremely draining and absorbing
and time-consuming work and then this is
actually probably the most important
thing but it actually occupies a
relatively small piece of my time I just
got to keep the project moving forward
we have goals we need to hit them we
need to make sure that we are doing
product development to make sure that we
hit those product goals but that
actually is something there I have to do
more thinking than I actually have to do
coding so my mission is to make in cam
the most useful tool it can be for the
most people and I need to spend a little
time talking about what useful means
when we're talking about in terms of
software values so one of my values is
that pragmatism is more important than
rigor or pedant asst ism people don't
want their tools to surprise them and
here's a really good example of a very
tiny thing that Isaac added to npn that
is actually surprisingly contentious if
you type in and PM isn't all if you miss
type and you don't get install the first
time it will just do it it doesn't bog a
warning it doesn't it doesn't this isn't
even really in the documentation it's
just there it's a little teeny thing
that Isaac added because a bunch of
people miss type install we could say oh
you misspelled this we're going to fix
this for you this time or we could get
rid of that there are people who file
bugs all the time saying get rid of this
this is dumb it's it's I don't know why
you are coddling the weak or whatever
their objections are but like that's not
the point the point is we want the save
people time get out of their way and
help them get things done like I am so
not interested in having absolute
rigorous purity around all this stuff
like you can go use whatever language
you think is overly strict if you want
to do that like n PM's job is to help
you get stuff done and it's to stay out
of your way another one is I would much
rather NPM
have a small controlled vocabulary of
things that it does really well then
trying to absorb everything and be in
everything tool like it's really easy
for package management solutions to turn
into you like world devourers and like
there's several negative consequences
that come from that one is it's very
difficult to completely master the tool
and another one is that you end up
having to impose structure that matches
your workflow because there's just too
many there's too many free variables
otherwise there's too much too many ways
things can go and like the whole thing
just kind of devolves into an amorphous
shapeless max so you basically what you
want is you want something like the
beans apt I take a lot of inspiration
from that the needs of a UNIX
distributions package installer is very
different from a programming languages
package manager like the use cases are
very different and the level of
expertise of the users is very different
like a system administrator is very
different from a front-end developer for
instance but the underlying idea that
you have a fixed vocabulary of very
powerful commands that you can master in
know and like expect them to behave in a
certain way on every single environment
you're running this in I think that is a
very positive value and the idea is here
to make sure that NPM does the things it
does very well and we provide room in
the community to fill in the cracks
around the things that we don't do very
well another thing and this is this is
like as close as I get to like playing
devil's advocate or doing a
counterfactual in this presentation
something I have learned about
developers is they love to skip straight
to the solution they're like okay I have
a problem and I know exactly what you
need to do and I know exactly what line
and here's like a pull request at third
that changes three characters and like
here's no tests to go with it and if I
had tried to run the test I'd see that
I've just broke like 80 things like when
you go straight to the solutions like
that what you are doing is you are
short-circuiting the process where you
talk about your assumptions assumptions
are very important you need to have a
shared consensus about worldviews before
you can figure out exactly what it is
you're trying to do and why
going to do it I used to work at New
Relic which has probably one of the best
product managers I have ever encountered
in my life and basically all Jim does
all day is like waiting to stop talking
just tell me in very simple words what's
the problem you're trying to solve that
is the important thing to know if you
can ask five different people to say in
very simple concrete terms what problem
it is you're trying to solve then you
can learn so much about the larger
problems that people want to solve with
your tool and then start to work towards
creating a common understanding of those
those those problems and come up with
one solution that will solve all five
problems instead of five little teeny
solutions that that that's all five
different problems and probably create a
bunch more because you're decreasing the
coherence of the philosophy of the
product and also what's familiar to you
and your assumptions are quite
frequently incorrect and so you need to
make sure that you are walking through
that whole process so that you get there
like because I actually this happens a
lot of me I'm pmish you track or
somebody will see like I needed to do
this and the fact that it doesn't do
this is totally stupid in your product
is busted and I'm going to go use Bower
and I'm just like okay so let's talk
about this a little bit and that's kind
of like what what's the problem you're
trying to solve what's the like I ever
have basically a canned script that I go
through this and it's amazing like just
walking through this process like more
often than not what will end up
happening is that people will get the
end I like oh you know I don't really
need this at all I can do this other
thing and I'm like excellent less work
for everybody and you have a better
understanding of the tool that's
brilliant and it kind of harp on my
earlier point a little bit earlier uh
something that makes you money is better
than something that doesn't make you
money and like always be thinking about
the solutions in terms of things that
get you closer to your business
objectives like it says again this is
something that is very important for
open source software open source
software is something where that it's
very easy for big companies all the
users of the software to just sort of
parasitically take advantage of it and
you have to proactively work to make
sure you're doing things that are going
to bring in revenue and you also have to
serve the you know we n PM has crazy
traction like we're doing something like
26 million package downloads a day we
just crossed the 600 million package
downloads over the last 30 days line
this week like these are funny numbers
right like there's a hundred thousand
packages on NPM like I could come up
with these kinds of Lake arbitrary
ultimately pretty meaningless metrics
that sound really impressive all day
long the only reason we have gotten to
that point is that we have a product
that people love and the only reason the
people of our product is that it mostly
stays on other way and does mostly what
they expect most of the time and so we
have to keep doing that we have to keep
serving the needs of a lot of people
which probably includes most people in
this room who are never going to give
NPM incorporated a single dollar right
so in order to do that we have to keep
working towards these larger business
goals this is something that I'm
probably going to keep harping on
through this whole talk but it's a
really important thing to keep in mind
because it affects how you as an
individual user or contributor to the
project can contribute most to it
yourself there's a lot of stuff left on
the table for people who aren't at and
p.m. incorporated to do so there's a
problem that NPM has that is actually a
consequence of its success and I have
helpfully highlighted that problem on
this slide there are a lot of open
issues on NPM and there's a very small
number of people who are actively
working to triage and close those issues
so I did a little number crunching
Rebecca and I have spent the last month
and a half triaging through all those
issues and making sure they're all at
the very least categorized and so we
broken it down there's about 356 support
tickets the support tickets can take us
anywhere from five minutes to several
days to work through because people who
are new are very good at finding weird
edge cases like new users have Murphy
fields right like they just cause stuff
to break
around that makes them super valuable
but they're also not in a very good
position to tell you what's going on
like especially people who are you know
more in corporate IT or working with
Windows where they are not accustomed to
really digging into their environment or
they may just be brand new to this stuff
in general like it's very difficult to
get information it's very absorbing so
like this is one of the guy said one of
the things that I have to be very
careful about not allowing to monopolize
my time there are 222 bugs a lot of
those bugs are probably duplicates a lot
of those bugs are probably not actually
bugs but until we actually confirm their
clothes if leave them alone most
interestingly there are 236 great ideas
that you guys have come up with that we
may or may not ever do anything with so
let's talk a little bit about product
management in the abstract a product
manager owns the roadmap which means
that they have to like talk to all the
stakeholders within the organization
including the people who are responsible
for driving forward revenue which means
you know it can be marketing it can be
sales it can be the board it can be the
investors they have to take that and
turn that into a set of benchmarks that
the products have to hit which then gets
turned into engineering plans and then
gets put out there and I actually kind
of skip the step earlier when I was
talking about what I do all day I kind
of forgot to mention the part that like
I have several hats I wear I mean I
still write software and I have to write
software very quickly because it
actually accounts for a relatively small
piece of the amount of time i have i do
quite a bit of front-line support myself
i work on this road map i write blog
posts which are part of my mission
communicating all the stuff back out for
the world at large because it's very
important that the community understand
where we're going with this stuff i
highly recommend that everybody take a
look at the npm blog I mean I know
company blogs are pretty fluffy law at a
time but we actually put good stuff on
ours and I work really hard on the blog
posts all right and I'm always amazed
that they let me get away with putting
so many words on there so you should
check it out there but like that's a
thing like you what a the product
management is actually the thing that's
the most important
thing that I do I think and that is
figuring out what all this stuff works
but it's a little different in the in
traditional product management you have
to say no a lot you have to say we can't
do that this quarter or I know that
we've incurred a lot of technical debt
but we can't afford to clean that up
right now because we have to hit these
targets to meet these sales goals and
you have to be very dogmatic about syd
what you say yes to and making sure that
those things actually get hit open
source product management is a little
different because any power I have as a
member of the NPM community and as an
NPM CLI maintainer derives exclusively
from the trust that is put in me by my
stakeholders which is to say my users
which is to say all of you and at the
same time npm can't be all things to all
people so it is not my job to say no
when somebody has an idea it is my job
to say what is this thing that you need
to have happen to be able to do your job
and is there a way that you can already
do that with the product that you have
and if not is there any way that you can
work with me to actually add this
functionality yourself because that is
not something that sits right on our
road map right now but if you send me a
pull request I'll be happy to see that
it gets merged in so really I can't the
power I have goes away if I abuse it if
I just turn it you see this happen all
the time with open source projects and
this is kind of a lot of the noise that
surrounds in particular like the Linux
kernel like if I just come out and i'm a
asshole of people and I'm like no we're
not going to do that and you're stupid
for suggesting it people aren't going to
listen for very long and like the thing
about open source is they can just fork
it right like there are about five or
six forks of NPM right now and there are
people working on very different ways of
doing things because they just think
that we have our heads up our asses and
you know it's that's the thing about
open source they arc entirely entitled
to do that and as
is not incredibly inconvenient to me I
will try to make sure that i am not
doing anything that breaks their world
too much but like I want to keep
everybody on the main NPM CLI I want to
keep everybody using the NPM registry I
want to keep this whole ecosystem kind
of point in the same direction I
ultimately joined in p.m. because I
thought it was my best opportunity to
support the node community and to do
that I have to make sure that we're all
kind of facing the same direction so I
have to be consensus seeking and I do
sometimes have to say no but I have to
be nice about it like there's there's no
value to us as a community in fracturing
that community by being overly divisive
and being overly contentious like we
don't have enough momentum and enough
people involved to engage in a lot of
the power games at something like Linux
does there is money in the node world
several of us here are working for
companies that are trying to build their
entire revenue base and exclusively on
top of node but there isn't the same
added like we don't have IBM bankrolling
us for billions of dollars like Linux
did in the late 90s and also we're just
generally not the kind of people who
enjoy being you know mean the people for
no reason so like it's the hardest part
of my job is when I have to find out
some way to say i know you really care
about this a lot i know this is
something you really want to see land
but it just doesn't make sense for the
npm community as a whole like the
ecosystem cannot deal with is it Those
it's going to fragment things too much
it's going to be too hard for people to
use and to understand it's going to be a
repeat of adding the carrot operator all
over again which is a joke that like two
of you will get so let's talk about a
concrete example of this people want NPM
to be more extensible because they do
wanted to do everything I mean it's just
a natural thing everybody want like it's
like they want to turn into like the
emacs and package managers it's just
kind of how these things go so we have
this life cycle right like there's
pre-install pre publish like they're
these hooks that you can attach scripts
to the little Roman you install your
package and that's not far fine grain
enough to people so they come to us and
like oh god add more hooks we need to
have more fine-grained events to figure
out when we're going to compile our
typescript or whatever
and that will somehow fix all their
problems forever no workflows tend to be
particular to individual teams and it's
con it's counter its kind of productive
to presuppose you know what workflow is
going to work for every team and like
adding an innocent number of potential
hooks isn't going to be flexible enough
you can keep doing this until you've got
this big abstract workflow engine and
then you've recreated a lot of the
excesses of j2ee which I don't know if
anybody here has spent much time and the
j2ee or asp.net trenches but it's like
there's just too much abstraction and
too little of it actually allows you to
do the kinds of things that Edmund was
talking about or you can spend 20
minutes and have a working chat server
right like you need to make sure that
you are at the same time you don't wanna
be like I've kind of lost patience with
David Hannum ire Hanson write like this
notion of omakase a was a really
powerful simplifying factor in the early
days of rails but like for instance like
I think that the way that rails deals
with databases is and I want to
have there actually be some real
relational code in there but I can't
really do that without cutting strongly
against the grain of the project like no
it is really its power and modern
JavaScript's powers in its composability
like components were thought to be this
like phantom that you were never going
to get like is this there's like whole
books about how component oriented
programming is a crock but we've
actually kind of done it now for some
definition have done it like we've we've
figured out a pragmatic way to make this
stuff works and is basically done by
following some fairly simple basic
software engineering principles of high
cohesion low coupling and lots of small
pieces that are simple enough for you to
hold in your head all at one time so
when you're looking at this package soul
like we don't want to start making this
thing all monolithic and like everybody
has to do things the same way I really
don't like maven like I thought it was
awesome when I started using it like I
thought it was I thought it was like
such a huge improvement over aunt
because it was a huge improvement over
aunt and it was a huge improvement over
make but then I had to start doing
things differently I need adventure
integrated with my continuous
integration server and I needed to build
out some web stuff and like all the
sudden is like oh god this this this
lifecycle is completely inflexible and
it totally doesn't match my needs I
really don't want people to be saying
that sort of thing about NPM so how do I
do that by not having to do that stuff
in the first place and like we go back
and like there's another way like like a
bunch of people max Ogden is asking me
to like make NPM like let me just plug
commands in but like again going back to
what I was saying before like it gets
harder to hold the the surface of the
whole API of em cam in your head I want
people to have like a really simple like
I want people to understand what their
tools are doing for them like I want to
PM to do weigh less than it does right
now over time like there's a lot to keep
in mind like just understanding all the
crap you can do a cember is like a few
weeks worth of effort and like I'm still
running across stuffin in PM like oh wow
that's cool I had no idea it did that
I've been working with this thing day in
day out relentlessly for about seven
months now so the thing to take away
from this is that NPM is just it can't
be everything for everybody if you
flicks it if you keep focusing
exclusively on immediate solutions
you'll end up with something that won't
work or will be completely unusable I
mean you like you'll just be like ah
you'll get analysis paralysis trying to
use the command line by the way I'm
going way over time and if you need me
to shut up at some point just tell me
okay all right cool well I'm gonna keep
talking forever then so let's turn this
problem inside out this is everything I
say from this point is like something
that I have decided to do that may turn
out to be like an incredibly bad idea
but it's what I'm trying and like that
the the willingness to try as I think is
actually something that's super
important if you're if you're trying to
really move things forward with a
project so what I want to do with NPM is
I want to turn it into a set of api's
that are plugged into a simple CLI kind
of like infrastructure and those AP is
can be pulled out and consumed
independently so if you wanted to come
up with something that was like an p.m.
but
to somewhere other than node modules or
you want to integrate browserify
directly in there or you basically
wanted to turn NPM into Bauer or yeoman
directly you just go ahead write your
own package manager you can use whatever
pieces of the npn infrastructure you
want and just consumed them as api's so
right now i'm working on a rewrite of
the cash and the cash is actually a huge
piece of what npm does because it's like
how it figures out where to go like the
registry or to a local tar ball or to
github or whatever to pull all that
stuff down and put it in a form that it
can actually be installed so if you have
a caching module where you give it a
description of a package which is just a
string it'll go and figure out how to
get all that stuff on your local disk in
a form that you can then go ahead and
install so that's one piece there's
another piece that's the piece it
actually talks to the registry and pulls
that stuff down like this cash doesn't
know that the cash model doesn't know
the network exists the registry model
doesn't know that the disk exists and
then the COI it starts integrating all
this stuff together and eventually you
end up with a set of loosely couple
components that are fairly sophisticated
and powerful on their own but our
basically black boxes where all you have
to do are the API calls that you're
going to use and you can build it that's
the theory that's what we're working to
it's very time-consuming work because I
don't ever want to be reimplemented this
stuff from scratch because I'm really
paranoid about second system effect and
anybody who's been a software engineer
for a while should totally also be very
paranoid about that so I'm no idea this
is going to work like it's it's a it's a
slow-moving project it gets interrupted
a lot by a lot of the more immediate
things that I have to take care of
except again I have to make sure that
I'm doing the things that are going to
support our revenue plans by the way if
you need a private registry for your
large wealthy node using company we have
a product called NPM enterprise that is
available today it's pretty awesome if
you need help getting it customized for
your environment there is a a company
called node source you may know some
people who work there who can help
customize that for your environment you
should talk to us if that's something
that you think your company needs but I
do
have to take some chances I have to do
some experimentation I have to make some
big moves to see if we can actually
solve a lot of these bigger problems all
at once like if you're just doing things
incrementally forever sometimes you do
have to do some fairly disruptive things
to actually make a substantial advance
forward so what this is an example is I
took a look at a lot of different
requests people wanted more lifecycle
events people wanted more extensibility
and what I try to do is synthesized that
into a few global solutions for all of
these all these localized problems and I
tried to make sure that each goal is
supporting all the others so that I can
actually say okay so we can finish this
project that will support this other
project over here I do the cash rewrite
that can help me improve NPM shrink-wrap
because now we can use sha sums in our
shrink wrap files and we don't have to
always hit disk to pull down the
tarballs to get the same bits on disk
that doesn't make a lot of sense to you
that's okay but what I'm getting at is
like we have these different ways of
tying all these different pieces
together and that's a really powerful
thing in terms of maximizing the value
of the contributions that we make to the
code base that's the important piece
there you want to make sure that you are
always getting the most bang for your
buck as somebody working on a project
and more open source projects can stand
is like you need to take a step back
periodically be like okay what are the
big things that I need to do for my
project and your project doesn't have to
be that big before there are things that
are would really make a difference in
terms of its usability or its
applicability and build the amount of
traction that people are likely to get
for it so I've kind of talked about how
we build this stuff let's talking Crete
Lee about em PM's actual roadmap there's
a blog post i put up about I don't know
two or three months ago that describes a
lot of this stuff and you know the thing
I wrote two three months ago yeah
finished one item on that list so far I
feel pretty good about that and that's
scope packages scope packages are
important because they are actually what
is going to support both NPM enterprise
and our effort to allow you to have
github style private packages on the
global NPM registry so that is a feature
that is coming probably within the next
quarter and
what that will mean is that you can then
actually have packages that you use
within your own company and that other
people can see but that aren't globally
usable for everybody so we added we had
to get to build that out for that I've
talked a bit a little bit about my
colleague Rebeka she's working on this
project this is mostly a technical debt
project multistage installed but what it
will have the nice benefit of making it
a hell of a lot easier to understand
what the NPM installer is doing when
it's running because right now it's got
this kind of stream oriented pull thing
where it's like it's like okay so I'm
going to read this package.json file
here and it's gonna tell me I need to
install this stuff and then i'm going to
read that like each one of those things
package that JSON files and it like
figures out what is doing is it's going
along what this project does is like
okay here's what we got on disk here's
what we need to add here's the list of
changes that need to be made and like
all this stuff can be like portrayed to
people the real benefit of this is that
we can have progress bars in the npm
installer and we can get rid of the
spinner everybody hates the spinner so
that'll be great and then I'll talked
about this I periodically get people who
are just like frustrated beyond all
measure and are convinced we absolutely
hate windows users and that's not just
true of NPM it's true of node in general
we don't it just turns out that building
11 platform that will support multiple
operating systems when there is
different as you know unix-like
operating systems and windows is
incredibly hard and it's also made a bit
harder by the fact that to be perfectly
blunt most of the people close to node
core don't have a lot of time or
patience for windows I mean I have a vm
that has windows 8.1 in it and i will
run that periodically but i'm not
full-time dogfooding it I know I should
be but that's hard right adds up but the
thing is a lot of the people who are the
who stand to benefit the most from NPM
which is to say front-end developers
working for large shops like people
doing ember and angular apps at big
companies where they're issued computers
by the company are on Windows
there are also people who tend to be the
most i guess vulnerable users in that
they are not necessarily like turbo
nerds right like they have problems they
need to solve and all they know is that
they open up a command window and they
type something and it doesn't work or
they go and they try to look at the
contents of their project and windows
explorer and everything explodes forever
because the pals are too long right like
these are these are these are hard real
usability problems and they are not Mina
Baloo easy solution and that is
something that I intend well all of us
at mpm I want to see addressed better
and this is something that as a
community node has to get better about
and that just meet banging my drain a
little bit and like I said client-side
development support super important
maury my CTO Lori is a dude I should
point out like he gets testy when people
call him a woman on Twitter that's
really more initiative between him and
his parents than anything else but we
don't really need to get into that right
now wrote a long post about kind of the
cow paths that we're trying to pay right
now client-side development or browser
development is a stool a little more
green field than you would expect given
that JavaScript was originally developed
for the browser and has now been around
for like 18 years or so you know there's
a lot of tooling in that space some of
it probably is redundant so we want to
improve in p.m. to the point where you
can have an entire workflow that's just
NPM for all of your stuff that's why
it's not called the node package manager
anymore by the way that is not what the
acronym actually doesn't stand for
anything at this boy but if you press us
will say that it stands for no problem
meat bag it's we are a JavaScript
package manager and we intend to commit
to that more going forward we we do not
see ourselves as exclusively or even
primarily a node tool anymore and that
is a scary commitment for us to make
because there are a lot of different use
cases for front-end development there's
a far bigger API surface for the front
end than there is for the server side
and there are a lot of big heavyweight
players who've been
thinking really hard about this problem
for a long time the good news is that
we've gotten at least verbal commitments
for most of the big front-end frameworks
to work with us a figure that's out
we're spending a bunch of time talking
to people at Google we spend a bunch of
time talking to if that's the way to
describe it the various members of the
Ember team about what they need we are
in fairly good terms with the people who
developed browserify and that they come
and work out of our offices a lot of the
time we want to make sure that we are at
the very least not getting in the way of
people but if we can figure out a way to
solve this problem we would very much
like to it it's not really about empire
building it's very easy to think about
this in terms of like NPM will control
everything and we'll get total
open-source domination of JavaScript and
then make you all work in our sugar
mines or something I don't know exactly
what the end state is there but like
that's not what it's about the real the
real story here is coming up with some
convergence making sure that the NPM
registry is something that can support
all these different use cases make sure
that we've got the tooling necessary to
save you all time because ultimately
that's what we want to do we want to
make web development easier I mean that
if there is a religion that NPM is a
company adheres to it is the religion of
web development and making that as
painless and straightforward as possible
is something that we really want to do
so that's that's kind of this so this is
all what we're doing what are you guys
we're really busy and we would be
completely bone without the help of our
of our users like even just filing
issues is a hugely valuable thing for
people to do because there's just way
too many use cases in edge cases in our
test coverage kind of sucks for us to be
able to like really identify all these
things ahead of time so we've actually
over the last few months of all the
release process and those release
process is pretty easy to state we drop
a new release everything every Thursday
whatever is ready on that Thursday and
this just happened to today I really
want to get a couple things in there
like I gotta put my slides together and
I just not committing us up but whatever
I cut a release and put it out we use
the disc tags feature of NPM which very
few people seem to know about to publish
that new release to NPM
next so that people who like a very
simple thing you guys can do to help us
out is to just install and cam it next
and file issues if things break the
whole point of doing that is let it burn
in for a week let us see if there's
anything that's totally messed up and if
so we can avoid what we used to do which
is we with like the node court to be
like okay guys what version of NPM
should we include for the newly subject
okay let's kind of release will click we
put it in there and oh my god we totally
broke everything and so now we have to
put out a new version of NPM and a new
version of noted it's awesome because
the release process for a node is really
simple because they have like only like
six or seven operating systems that need
to support so we wanted to avoid that we
want a more consistency and
repeatability and the idea is that
whatever is on latest so if you just do
amp and SG install NPM you should get
the latest safest version of NPM and I
encourage everybody to do that although
it's sort of a pain in the ass and
windows and you have to go to the
troubleshooting guide to really figure
out how to upgrade NPM on windows right
now we're working on that that's part of
what I was talking about before
supporting NPM like I said like I needed
this is an attractive nuisance for me I
love connecting directly of people I
love doing this stuff I don't have time
to spend as much as I do on it so we are
going to add a command that will make it
much easier for you it's kind of like a
camera what a boon to calls it but in
and the be in its report bug where like
something bad happens and you type a
command and automatically creates a
pre-populated issue report for us with
all the relevant details on that's a
ways out i think i need to elevate that
popularity because i mean in importance
because that would be a huge
supportability win for us but people
there are several people who like have
never met nobody a 10pm has ever met to
spend substantial chunks of their time
answering questions with the support
label on them and that is awesome i love
that the only caveat i have is just if
you don't know something don't answer
just to try to be helpful like that's
actually bad like make sure that your
only answering stuff that you know about
but like its if you do see something
like oh that's really easy you just need
to do blah blah blah totally chime in
and that means I can just go resolve is
closed yeah thank you very much and then
here's a tweet I put out about a month
ago two months ago I guess these are the
things that this is
like a ranked list of what's most useful
to me i love getting failing tests like
i still know the npm source code like
Isaac and I and Rebecca know the income
source could way better anybody else
it's kind of a scary codebase if you've
ever looked inside it it's weird because
Isaac is really smart and really fast
and one of our goals to make it so that
it looks less like the kind of code that
was written by somebody who's really
smart and really fast and there's a road
kaka plays by his own rules second thing
patches with tests got it what I got a
pull request with tests sometimes the
tests are we more valuable than the
patch that is I know it's a huge pain in
the butt especially because we have this
like weird test structure but like it's
incredibly valuable bare patches I still
like those a good bug report is
incredibly valuable to me like if you
just straight up say you know like if
you can give me a like a gist that has a
complete NPM debug log in it and a terse
description of what happened and what
you expected to happen that's awesome
problem statements like like I need to
do X and I can't do that right now that
is really valuable and then down like
way down at the bottom is feature
requests and ideas we have more feature
requests and ideas that we know what to
do it like having some way to actually
turn those into actual working features
is far more valuable so we're getting
close to the end here just just let
everybody know this is helpful to
navigate our issue tracker because it's
incredibly daunting because like I said
we've got close to 900 issues open these
are all different labels so these are
the top level buckets that I try to put
everything in I something is either a
bug a support request or a feature
request they can be both a bug in a
support request support basically is a
reminder to myself don't spend more than
30 seconds on this unless it's Monday or
Friday which are the days i have
allocated for support i have to be
really rigorous about my time management
or just does not get done and this
is the one this is the thing where I
could use the most help from the
community like like helping everybody
helping everybody else get stuff moving
forward is a really useful thing this is
project management like these are all
things that we know wants to land
along with some rough scoping so next
patch is going to be in the next week's
release if I can get it in there in time
next minor will be the next thing where
we add features the next major means it
is probably going to be breaking in some
way so we want to push it along for the
ride with another breaking feature we
kind of like this is like I could give a
whole talk on Sam ver but we're kind of
like trying to figure out what's ever
really means like it seems to me like
ideally a major version bunch you'd only
have one breaking change in it but
something's are like no way we're just
going to cram all this crap in there
because otherwise you're on like version
90 within three months and that's not a
problem you're not going out of integers
but people think it's weird and then
these are what we're moving towards to
make it easier for people to get started
with contribution documentation patches
are a great way for people to get
involved because the documents do you
guys know about the phenomenon expert
blindness like after you've been working
on something for a while you no longer
know what's easy and what's hard anymore
and like that's really true of anybody's
working on NPM for a while like I was
way better being able to figure out the
holes in the documentation before I
spend all my time working with are like
oh that's totally obvious it's in this
you know it's like taped to the bottom
of a drawer and in this filing cabinet
in ambattur like why didn't you know
about that so like having people
contribute changes of this stuff is
really useful patch welcome and stuff
we're like yes that's totally awesome
we'd love to see that we have no time to
do it ourselves so if you want to see it
happen make it happen and we're
increasingly we're increasingly moving
towards this idea of actually explicitly
tagging issues as novice issues which
are the ones we have curated to be one
for people who want to get started and
contributing to work on because they're
fairly tightly coped there's the scope
they're fairly small it's easier for us
to help you figure out what you need to
do so look for those and if you see
issues that you think should be novice
actually it's totally okay say hey isn't
this a novice as you should this be
classified as such like don't be afraid
to yell at us on on on the issue tracker
speaking of which best practices I hate
this don't ever do this please with a
love of God like I'm actually the
process of going through and locking of
all the issues that haven't been touched
for three months exclusively to keep
people from doing this there's two
really good reasons
but why not to do this one is I'm not
going to reopen an issue because you are
seeing a new version of the same thing
that was there except three things the
second is people of bugs are very poor
devaglia ating whether their bug is the
same as another bug and so they end up
putting these two totally unrelated
things in there so the whole thing is
really confusing for people to leave and
three every time you do that you're
spamming every single person who ever
contributed to that issue and with some
of these more contentious and
long-running issues like you're spamming
like a couple hundred people and that
sucks don't do that if you come across a
closed issue and you're like hey I'm on
Windows 8.1 I needed to do these three
special things to my environment
variables all of a sudden things start
working that's totally awesome the other
hundred people on issue probably want to
know that at some point in the future so
totally do that um there's no so much
such thing as too much information and
there's no such thing as too little
interpretation of that information give
us the raw two tails give us the logs
put them in gists so that i can actually
clone them and look at your like 20
megabyte just file rather than trying to
scan through it on a github page I love
use cases I love saying like if somebody
comes to something this would be very
useful to me because it would allow me
to do blah blah that's awesome a plus
one gets deleted with no remorse I am
done letting people clutter my issue
tracker with patches welcome
yes if you come up with a nice like even
close to being Lana baloch I will work
to land it as quickly as i can i will
actually finish your tests if there's
something or if they're in a format that
i don't like or if you've included
semicolons in your file because that
will you know bring down the wrath of
the isaacs almost immediately like I
want us go ahead and clean that stuff up
for you if it's if it's remotely close
to land a bowl i will get it in there
and like like i say here no patch is too
small i can be like a type of fix i
unlike certain other projects in the
node ecosystem that are you know the
node core project I have no problem with
people contributing tiny little patches
and if you are going to do something
that's going to financially change and
pm's behavior you should probably open
an issue and we can talk
at first because nothing makes me sadder
than seeing somebody do a whole bunch of
work or completely rewriting a bunch of
tests to meet some imagined code
standard or whether and have to tell
them we're not going to accept this like
I really don't like rejecting people's
work so and that's true of all of us
right like I'm talking about me but I
think this is true of the entire the
entire company really so if you're going
to do something and it's something that
you really care about and it's something
that's going to require a fair amount of
work and it's going to change a fair
amount of code talk to us about it first
some brass taxi stuff use NPM test that
will run the top test suite there are
two test suites with in NPN because it's
a really old project and like Isaac
wrote tap after he started working on
NPM and so there's this custom test
framework there that you can run with
NPM run tests all you should do that
before submitting a pull request because
it has a bunch of extra tests that you
don't need most of the time but when you
do need them they can save us from a
whole bunch of nasty regressions if you
make a change it's the behavior be sure
and update the docs and if you add tests
again I love tests oh they're so great
our coverage is so terrible we need so
much help there and the tests are kind
of slow I'm sorry about that we're going
to actually break the tests up into unit
tests and integration tests soon so that
it's faster to do that but we have
actually write some unit tests first
Isaac doesn't really believe in those
like Isaac is kind of like my dad now
right like he is kind of the boss of me
and I kind of have to be like aware and
and respectful of his whims and
particular former forms of psychosis so
like that's sort of how I think of them
in my head now and it did thanks
everybody
sweet only 28 minutes over yeah 20
minutes for questions does anyone have
any questions for for that I'm sure
he'll be succinct oh that's no I mean
like there are a lot of things happening
at the same time we're all working
towards the same goal so the idea is
that if you have a solution in mind for
improving the solution for I mean the
situation for front-end packaging today
go for it don't wait for anything like
we're in the Precambrian phase for all
this stuff right now right like really
rapid evolution lots of different ideas
getting tried you know Bauer and yeoman
and ember CLI and like there's all these
different tools out there and NPM is one
of them like we're not really we're kind
of competing we're kind of not like we'd
like to all figure out how to just see
the problem get solved right now there's
this other curveball in the es6 is you
know coming along and then there's well
then we're going to be es6 modules that
will change a lot of this stuff you know
Amber's already sort of sort of moving
that direction so it's confusing for
users and like by which i mean like
average web developers but i would not
hold off that is what I would that is
the most important messaging like try
some like well I intend to try and do
some of the stuff that Bauer does as
something that just runs as a layer on
top of your package at Jason files so
you still use note am/pm for most things
but then there's another thing that just
uses run scripts to go and do a lot of
the bike accident i encourage everybody
to experiment like one of the things i
didn't really get to in this is like one
of the things that I one of the patterns
i really like is people adding new
features to NPM outside of NPM and like
just creating the cow paths and then we
can be like okay we're just gonna yank
that functionality directly into npm
that's what i would like to see happen
like i'd love to see people like
pioneering new features outside the
product and making it work exactly the
way they want it to because the more
like detailed and concrete and specific
their solution is the more likely it is
i'll be able to
like respond to that or the team will be
able to respond to that and say okay so
we're going to change this a little bit
but the basic core features are really
good one well the trick to this is like
we break this up into the api's but the
functionality is largely standard except
for the things you need specific rights
like we're all interacting with a
registry in the same way or we're all
we're all using the same cache for all
this stuff with the same general
approach towards metadata and it's just
the specific things that you need salt
like the idea is to make it possible for
people to get the extensible
functionality they need without without
actually having this like hugely
fractionated landscape action ated
fracture whatever yes
so that's an interesting question most
of our tests right now our integration
tests so yes well or a classic sign that
the person who is writing this test
thinks that it has four bogus so
basically we're firing off we're firing
off child processes all the time so I
you know I have to go back and look at
the coverage tool landscape again to
come up with something that allows me to
you know do i know that in symbol does
this now but like basically do a passive
instrumenting all the code run the test
suite and then collect and coalesce all
the coverage information after you've
run all these different tap processes
that do all these different things like
I can't just use argh which is a tool
that allows you to run a bunch of tap
this and there because it's all being
done all the works actually being done
by child processes it makes it and also
the thing about integration tests is it
makes hard it makes it hard for you to
get coverage numbers that you can trust
right because you're kidding all the
same code pass over and over and over
again and you maybe incidentally hitting
things but you know you know getting
good coverage numbers is hard any other
questions with the changes there's
that's a really hard question to answer
the it's not like there's nothing big
it's just like things that that you
wouldn't expect to work actually do
things like you know like NPM repo dot
works like it'll read the package that
Jason file I'd open up the github page
for the for the thing that you're
currently in and like I only know about
the excited to make that work again when
I rewrote registry client like like like
it like this this is it there's there's
a ton of little teeny affordances built
into NPM the level of like the level of
thoughtfulness that Isaak put into this
in the first place and that you know
dominic denticola and Tim Oxley and all
these people contributed 10pm over the
years is sort of astonishing like NPM is
really dangerously close to being a do
what I mean to a lot of the
right like it'sit's suspiciously
intelligent there's a lot of emergent
behavior and that's tricky because a lot
of that emergent behavior is
undocumented so you may be breaking
somebody's use case without even knowing
about it which is why running to all the
tests is important run all the tests
install couch too so you can run all the
tests do you want from pagerduty no
Forrest go and I want to thank everybody
for coming out</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>