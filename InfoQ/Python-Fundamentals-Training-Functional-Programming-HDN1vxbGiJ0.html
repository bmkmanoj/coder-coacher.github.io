<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Python Fundamentals Training - Functional Programming | Coder Coacher - Coaching Coders</title><meta content="Python Fundamentals Training - Functional Programming - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Python Fundamentals Training - Functional Programming</b></h2><h5 class="post__date">2011-10-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/HDN1vxbGiJ0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">um one thing that always amazes me
whenever I teach a class or give a
presentation and it's kind of a Murphy's
Law kind of thing but i always find some
subtle bug that baffles me for a moment
i figured out yesterday might roll of
duct test well you lee and i worked on
it afterward and you remember how i had
a doc test and like it said inconsistent
indentation at the beginning is like i
indented it all and i was like i don't
remember having this trouble with doc
tests like it's not really that picky on
your leading spaces and whatnot um I
apparently haven't made duck tests that
check for the presence of an embedded
new line or at least not anytime
recently so you'd Lee was trying make
some duck test herself successfully I
might add and what was tripping me up
was my embedded new line and the reason
it was tripping me up is because there's
essentially double execution of this
string and I think I understand now
what's going on but if you're normally
going to specify a literal / in
character in a string you can just say /
in I have a string that's embedded
inside another string right this isn't
triple quotes so the Python doc test
module takes my doc txt and reads it as
a string at which point it evaluates /
in and puts in a literal newline
character there it then tries to run my
test and says I have a console line that
looks like format line and I'm expecting
to get back opening quotes return and a
closing quote is down on the next line
which it doesn't like
so I had to double quote my /n and as
soon as I did that all the non helpful
error message is about bleeding
indentation in spaces went away yeah so
if you've done if you've done this if
you've done string slashing and strings
maybe should explain that too if you've
done escape characters and strings if
you want to embed a literal / a
backslash in a string and you're using
backslash as your string escaping you
have to escape your back / so two
backslashes in a row would be
interpreted as one single backslash so
the first time it's evaluated the doc
test module now gets this and sees ABC /
in which is what I wanted to pass it and
it evaluates that string so it's because
the string is evaluated twice and
actually when I had to do a quick Google
search to see what the heck was going on
and lots of people complaining about
having control our control T or control
in in their docked essence like ah right
I get it there's two executions of this
string basically so a little trip me up
and it points to something I did know
about doc test which is in general you
should condition your output to be as
simple as possible um Danny was asking
me about order of dicks he was printing
out of his keys and noting that was
always in the same order but it was kind
of a unusual order no logical reason for
it and dicks are unordered so if you
have a function that returns dicks in
your checking the returned value in your
doc test your duck test might fail you
have the right keys and values they're
just not in the same order and there's
no way to guarantee that they would be
in the same order and in cases like that
I might see that I have the right keys
sorting the list first but in general
doc tests should have really simple
output formats so let's talk about new
stuff today um so we're past i mentioned
we're skipping regular expressions i'm
probably gonna come back and talk about
the option parser module because it's
such a useful module which is section 11
i use off to parse all the time um but
i'll probably that for a lab section and
let those of you who are still working
on getting your labs up to spec more or
less get them
spec and those of you who are done in
twiddling your thumbs can go ahead and
put an OP parsh front end on your
program so we are actually at 12 and
we've already talked about some of the
items of 12 and sorry right at 11 wrong
direction 13 like a threat number here
we're at 13 it's a section entitled
functional programming we've talked
about some of the items in functional
the functional programming section chief
Lee functions as objects and we haven't
talked about functions we haven't talked
about objects and classes in any
definite form yet we're going to do that
hopefully by the end of the day but it's
just worth pointing out that everything
in python is an object everything every
type in python may have methods and
attributes and functions do in fact have
methods and attributes we've talked
about the fact that their first-class
citizens and that means that you can
pass them as variables when you pass
functions to other functions it's called
higher-order programming kind of
composing things by units and we've done
a couple little examples of that I think
almost everybody's done the filter
example we're going to look at that
again with sorting today and then this
is going to be applied to your lab so
13.3 if you want to take a look at that
and I can't remember who it is that I
was helping with the lab and I noted
that the built-in sort method on a list
was kind of annoying because it was an
in-place operation and so I couldn't
chain anything on it there's also a
built-in sorted
which has the same signature as the
method but it returns a copy and we can
use both of these python has good
support for sorting and it's sorting is
even kind of somewhat intelligent so if
I make myself a list of numbers and
let's do this in descending order people
see in the range function before it's a
star Dennis stop at does take a third
parameter which is like the stepwise
parameter in a indexing lists I can sort
I could also
yeah so there's the built in reverse now
I've got a list of letters and again if
I do a sort Python is sorting them in
alphabetical format and I could reverse
on but sometimes we have more complex
data structures and what if I had two
poles
how do you think Python sorted my two
bulls
it's looking at the by default looking
at the first key in the iterable and
using it to sort so I've got a list of
tuples and the short in ascending
numeric order by the first key but what
if I really wanted to sort them by the
second key so yeah you can designate
that and how you designate that is pass
a function to the parameter key and the
function accepts the item that is being
sorted and returns the value that you're
wanting to sort
does that make sense to people i define
a function that's called funk and it
accepts what does it accept if I printed
X inside my function what would print so
X 1 is the second value but X itself is
the whole tupple this function is being
called by the sort function and being
passed each item successively in my
iterable and it's figuring out what
value you should represent each item
right so each thing that it's past is at
uppal it's a list of tuples so I'm not
looping at all and basically you can
think about these sorts of approaches as
doing away with the loop again if you
think about how I could do this manually
how could I how could I make this sort
work out manually how would you write
this if you weren't going to use the
sort function and let's not bother to do
it in place because that gets more
complicated let's make a new list that's
sorted so what's being passed into funk
each time is each item in the list and
each item happens to be a tuple and what
it's returning is the value that should
be compared to do the sorting which is a
second parameter in the tuple and if you
if I did this instead
that still works right I'm passing in a
string so each time oh and I'm sorry I
probably cutting off on your own
monitors so it still works I made a list
that has strings all my strings have at
least two entries I could have however
many but they need to because I'm
looking at the second one
and it has them sorted in ascending
order by the second key and again if you
think about how you'd write this
yourself you probably start out now we
could do it in place and use a stupid
sorting algorithm like a bubble sort but
it's going to involve a for loop and
probably another for loop inside it to
iterate over all the items comparing
them to one another and instead we know
what value it is that we want to get and
python has a really good really smart
built-in sorting algorithm so why don't
we just figure out how to extract the
value of you want and hand it back to
the sorting algorithm about dicks
you
I actually have no idea how python is
flirting dicks by default the it
wouldn't surprise me if it's by the
actual string representation of the dict
which yeah it looks like it would work
it can't rely on the first key because
there is no implied order two keys ik
did with two poles but we could do our
same sort of thing
and write a function that takes a
dictionary and extracts the value you
want somehow and here we even have
heterogeneous and dictionaries where the
key is a different name
you
so I'll do something done like that
Oh
keyes is a function
and I can sort of by the value in this
case it's a dick that only had one key
so I described as the first key even
though that's a dumb thing to do since
there is no implied order but hey if
there's only one key then that keys
always going to be guaranteed to be the
first key so I keep on writing these
little functions here and that
especially when they're kind of one line
functions it seems like overkill Python
lets you nest functions so that kind of
cuts down on the clutter it didn't let
you nest functions you might write a
program and say you have like 10
different sorts different places in your
code you'd have ten different little one
line functions at the top of your code
someplace that are sort of you know the
end user isn't supposed to call them
they're just little tiny bits of logic
and then not anywhere near where they
were defined this is kind of confusing
clutter so nested functions lets us sort
of address that from a coding style and
hygiene point of view so i can define
these functions right where they're used
but even that kind of bugs people water
flike def and give it a name and it's
really only like could I just pass the
statement that I want to execute more or
less and in fact you can so Python
supports in very limited form anonymous
functions does so by a keyword and some
new syntax the keyword is lambda so he
thought things remind you've list before
they really do now and the syntax is
lambda my parameter list no parentheses
Delta X and a single Python statement
whose value will be returned from my
anonymous function no return statement
necessary
so what did I just do I have a variable
funk and it's of type function its name
is lambda it doesn't really have a name
I have a variable pointing at it right
now but I wouldn't have to it's a
function that accepts a single argument
X and returns the first key of X there's
no return statement there's no
parentheses it's on a single line I
can't have multiple statements it's
extremely limited but it's extremely
useful for situations like what is X
right now let's get one of our earlier
ex's like that one I can just define it
in line
and I really should give it different
parameter name so I'm not you know
confusing everybody this makes a good
test though this X has nothing to do
with that X this X is the parameter name
to a function and it'll actually be one
of the rows of X so just like before I
was defining a separate function that
accepted a single item from my iterable
and returned to the first index to allow
it to be sorted I've now defined an
inline function it has no name I'm just
assigning it directly as a parameter to
the sort function it has a very short
function body that doesn't even have a
return statement in it it just evaluates
the expression at season returns that
value so no so this lambda form there is
no def associated with it um and how can
I get to now that function that I just
passed a sort I can't I have no name for
it I didn't bind any variable to it I
didn't put a tag on it so it's actually
hopefully simpler to read this statement
I'm calling the sort function and key is
a parameter that accepts a function and
I've just defined an anonymous function
right here if I instead said here X dot
sort key equals my sort function and I'm
going to get a syntax error because I
would define that well that's a little
more straightforward than that you know
that I'm passing a sort function but you
have no idea how that sort function is
implemented and it might be further up
in the page it might be imported from
another library you don't know anything
about it here I've actually defined my
sort function right there in line and
you can see what it is doing right where
it's used you can you can have more
input parameters but you can only have
one single
Python statement as the function body it
can be a complex statement of some kind
which means you can use logical hands
and orders you can use parentheses you
can use some of the tricks will talk
about today</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>