<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Teach Your Browser New Tricks | Coder Coacher - Coaching Coders</title><meta content="Teach Your Browser New Tricks - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Teach Your Browser New Tricks</b></h2><h5 class="post__date">2014-07-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/fxKAPuPPZbc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi I'm dirk i work as a prototype
will and I want to talk to you today
about how to teach your browser some new
tricks or rather as I wanted to to say
first hand like teach you old dog some
new tricks because they can so about
four years ago there was a lot of
discussion about a thing called long
desk and at a point the html5 working
group basically decided to get rid of it
and then there was a massive storm
that fell long and there was lots and
lots of discussion on what to do so
there Bruce Lawson lovely fellow wrote a
epic blog post which was followed by an
even more epic common thread in which
things were mentioned of how we can
basically go ahead and save or make it
better or get rid of it and so first of
all who if you know what long desk
actually is that is not very many people
and that is for good reason because it's
terribly terribly underused so what long
desk is and just links on all of the
slides by the way and you can download
the slide deck later on the link to the
slides eggs on the very last one so
don't cheat so the long disk is a little
attribute on an image and instead of
using the alt text so hope you know what
an alt text is many more people
excellent excellent so instead of using
or actually additionally to using to the
alt text you can go ahead and define a
whole page to describe that one image
that you're showing there which is
actually something that is generally
useful for very complex images so the
image example show here is basically an
image and long description is pointing
to your L just the way it should be now
something that is also defined in the
w3c standard is that it must be
discoverable and it must be discoverable
by automatically it
because I'm just reading what it says
here it must be simple for a user agent
to automatically discover a description
provided for a given image which is
something that hardly anyone does but
some of them do or did then like unde it
and then the other thing is a user
should be able to determine there's a
description available for a given image
that is something that not one of them
bit so basically there's this hidden
little gem of information on that image
and nobody knows about it so I was
approached by somebody i had to john i
was approached by john about what we can
do about this i think we met at the CSUN
or was it at the open web camp I can't
even remember it was yes yes oh yeah
Lucy for you to information it's
animated give of John holding up a beer
it's fantastic the link is John folio
awesome post so there was a month months
of being followed by discussion on what
we could do and I eventually gave in and
wrote a little jquery plugin that github
link is up there which basically allowed
somebody who runs a website and has long
discs attributes on their images to
expose those two people without
assistive technology so for the first
time on ax for the first time but for
first time that I fight like the way did
it was there suddenly a way that people
who don't have let's say a screen reader
who exposes those information to them
we're actually able to see that and this
is how it looked like so this is a
example page I stole this from a web
impact then they don't actually have it
anymore what it does is that image that
you just saw this appeared this one has
suddenly little icon on the bottom and
when you hover over or when you tap on
it it says click for more information
and then you do and then the content of
the URL that is given in the long
attribute is loaded via Ajax on to that
page onto the image and shown so you can
actually read it and consume it and get
information out of there and compared to
that image that using the example that
written information is actually pure
gold it makes much more sense to meet in
the image itself so I was really happy
about this and then John again went
ahead and posted i think basically
everywhere and there was lots of other
discussion on what to do and everybody
was kind of excited about oh yeah we
should do something we should do
something and yeah there wasn't really
anything done was there but I think it
ended up that the w3c did eventually get
back the attribute I don't claim that I
have to do anything with that however my
little plugin that I brought this is the
JavaScript code that drives it it's
completely irrelevant right now but it
should just say that it's very very
small code that had very big impact and
was very easy to write and this is what
it does to the browser so what you can
see is that it's really just adding a
little dumb note a little button on top
of the image that says click here from
information about this image and when
you click on it it makes nitrix request
adds another information sets focus on
it was actually nicely expressible to
people who do rely on assistive
technology as well so some browsers
don't even work for that worked as well
very hard about this and then something
else happened and it has been bugging me
for the last four years again John made
handed me to Charles Charles will give a
talk right after this one another room
and in this room okay nevermind next
talk you should see eight it's great so
chels has been working on a browser
extension for chrome he was working for
him for Oprah he was working for all pro
back then and had this little extension
and it worked and I was asked to I think
make another extension for another
browser
thing and I just couldn't do it I was
this is how the extension looked like
you basically had to click on the top
right and then it would show the image
again and some text on it and I liked
you I did I did that and I couldn't
really do it because I find it looks
dreadful and the code was terrible and I
looked at documentation on how you write
extensions for other browsers and it's
dreadful and every browser does it
differently it was painful so while I
was procrastinating on this Patrick
lauki did the same extension for Firefox
and it worked there just I think they're
it actually integrated in the context
menus you had to right click on an image
hoping me it may even may not have long
desk then it might be there and you
clicked on it edged with then show the
text it wasn't really much better either
however I was too procrastinating and
again while I was procrastinating a good
friend where is he oh he left never mind
Dennis lembrei to the blog posts a nice
summary of basically everything that is
right or wrong about long desk most of
it was wrong most of it was right is a
lot a lot of information I there's link
to this article if you want to know
anything about long desk read it up
there it's right a complete list of
everything that's terrible at long desk
all about what would rent bad about it
so for years I've been actively very
heavily and in my own sweat sitting
there procrastinating over not doing
anything about this and then I went to
season again and at CSUN Joe Dalton
spoke to me saying hey I saw this i know
it was John again John handed my plugin
that I wrote four years ago to Joe
Dawson and he actually was pre the first
one who cut excited about long desk in
the last four years and he did it
something amazing he wrote something for
himself I think it's basically a mix of
what car
and what I did and he wrote an extension
for wordpress and because of the unique
precision that Joe is in he managed to
get this into WordPress so basically if
you want to use long desk in WordPress
and if you write the text for it then
WordPress will very beautifully expose
it to you by showing this little button
under an image and if you would click on
it you would see again the content of
this long disk image this is the first
time that actually long desk has a
platform that is bigger than let's say
the five examples I can find on the
internet because by default WordPress
would actually support it so again after
four years of active procrastination I
was suddenly feeling maybe I should have
done something four years ago however
what basically kept me from doing
anything back then was not just that I
was basically lazy bastard but also that
writing an extension for one browser
didn't quite get me because I've been
building websites and I'm building
websites in a way so every browser can
use them what the hell is the point
about writing an extension that one
browser can use so then I really
stumbled over how the called cross rider
so in Christ rider I only saw this link
in a slot Aztec time was like whoa yes
it allows me to or it announces that I
can create cross browser extension for
every browser in minutes and that was
triggering all the buttons that I needed
to baixaki yeah sure I try that also it
says it's free yes and it powers lots of
lots of insulation apparently so
obviously i registered very quickly and
did I ended on this page where it tells
me that I should go ahead and create a
new extension so I did and it welcomes
me to the developer dashboard
what I can do in actually rather nice
simple words I'm not scared away and I
say start coding and then I'm here and
right away I found this very well-hidden
that's why I have this massive button
and massive ever showing this teeny tiny
button it tells me that i can upload
existing code so of course i just went
ahead and downloaded that code i haven't
touched in four years from github and
uploaded it there and then i started
reading docs of course you start with
your dogs after you did from something
first of course so I have my code up
there this is the code by the way you
can still see that it hasn't been still
version 1.0 it hasn't been touched in
four years and it's suddenly up there
and it's fantastic so this is how it
looks like you click there it wants you
to up select your files and then they're
there and then having looked at the
documentation afterwards I found that
I'm super there's basically two
important files and that is the one
thing I found in the last four years
when I was looking at how to write
browser extensions for one or more
browsers basically that's the one thing
that is basically the same thing in
every documentation for a specific
browser extension there's always a
foreground and a background javascript
file well the foreground transcript file
is the one that will actually be
executed in the context of the page so
it's like you just add your own
javascript file to somebody else's page
I quite like the idea because that
sounds like having something and then
there's the background javascript file
which is the one that runs constantly
while the browser's running and is able
to absorb something like clicks on a
button in the chrome you I I didn't
really need it at points so I just
ignored it so I went ahead and made that
foreground javascript file is called
extension javascript file here because
they abstracted away for so it works for
everybody so i went ahead and included
my long days of a script extension code
which is just one javascript file and
the CSS this needed to make it all
loaded that in the extension Jas so what
does quick information beforehand what
cross rider does is it will load jquery
for you just assume it's already there
and then it will fire the app API dot
ready function it will pass in a dollar
which is your reference to the latest
jquery it takes care of that for you
thank god and then you can use an app
API drop resources thought to include
CSS which will load the resources that
you added by uploading them here and it
will live inside of the extension code
so whenever somebody is coming and
install since tension that's file will
be in their browsers you don't have to
host it you don't have to care about it
it's being loaded and then i went ahead
and initialized that code I last
initialized four years ago by just
calling the jQuery extension and then I
oh yeah there's one more thing that I
edits because I work for Google and I
work specifically for Google Analytics
so when I saw on the recommendation that
there is a ready-made Google Analytics
tag that I can just use that was the
first thing I did data nerd that I am so
there's of course also some Google
Analytics code in there so I can track
whatever happens and it's very
interesting so uh yeah one extra thing
after I tried it for the first time my
image didn't show up so I had to read
more documentation oh man and I found
out that I couldn't just reference a
file an image by just using it well now
I have to use a special protocol it's
called a resource image protocol it's
basically HTTP but for local files in
the extension so I had to make this one
change for that one image that i'm using
there and then i went to click install
the staging extension now that is
something that was very fascinating to
me because it basically promises me that
i can install that extension locally and
then keep developing the
attention online sounds like voodoo to
me I liked it so I downloaded the
extension and it's basically just a zip
file so you unzip that file and then it
tells you to go am using Chrome for
development it doesn't have to be Chrome
but it did use it for all their defaults
I just did at the same thing and I went
to the extensions tab and turned on
developer mode and that revealed the
load unpacked extension button so I
unpacked the the zip file that i
downloaded navigated to it and as you
can see already it's like full of HTML
and javascript file don't even bother
looking at it because the stage
extension does not actually contain your
code what they do so you can keep
working on it is they just linked to
their own server where your code lives
so you can keep working there and it
will just load your code for the time
being while you're developing from the
server so you just need this one stub to
start working so you select the folder
and whoa there is a engine installed in
my browser it has the name of the
extension I built and it looks like it
could be working so I go ahead and go
into the code and add a little
console.log so I know something is
happening and I tried that and it didn't
and then I stopped reading the dogs and
went to stack overflow instead which is
the better dogs for everything and they
told me that you should definitely first
hit the reload button on the browser
because even though yeah so I did that
and turns out it works then I did also
another error because I was just being
quick and I had one ex example that I
downloaded from webaim and I just
dragged it in the browser and it
wouldn't work either so of course you
have to run your demo code on actual
HTTP server because the file colon
protocol doesn't work so i have to get
be an HTTP so whoever hasn't done that
or maybe it doesn't have like member or
something installed there's a teeny tiny
one-liner
python that creates a HTTP server that
you can beautifully use just for stuff
like that it just navigate on your
terminal to your folder and you type
Python dash mne simple HTTP server and
it creates a server that runs on port
8000 and the night run my code and it
worked and it actually got my locks and
I saw my little icon turnin up there and
it's beautiful so after this and it just
literally took like half an hour maybe
and there was a lot of back and forth
and stack overflow and me being already
close to starting procrastinating again
so he actually worked so I being excited
about is I started digging in the
documentation and I was quite stunned by
the beautiful amount of amount of stuff
that is in there because they being a
browser extension so basically being the
browser rather than just a web site of
runs in the browser yo codes and has
suddenly much higher status of oh I can
do this rather than not account so
suddenly things work like crush the main
requests well working load data from
everywhere which was one of the things
that I kind of made me sad when I built
the original long desk extension is that
the link in the long disk has to be in
the very same server otherwise of course
they couldn't HS requests and everything
would fail and of terrible and I can
work around this I haven't done this yet
of course but it's totally going to be
in v2 that's a joke everybody knows I
won't get a syllable total bean v2 is a
browser button which I don't have yet so
but you have probably at least seen that
if you have quite a few extensions
installed this is a profile here by the
way installed everything it's a blank
profile because my real profile is like
all the way up to left just so many
extensions in there and everybody has
their own little button a nice little
graphic in there I don't have that yet
but I will and I will
do something of the like as Charles did
back in is very first extension I
totally want to reveal those long disk
images because if you go back to do you
see this little hiking up there you
probably don't because it's very small
so I know it's there because I was
looking for it if it would randomly pop
up on a page I might not find it so I
totally want to implement a little
button and I click on it it will add
massive red blinking dash outlines to
the image so i can find if something's
there and actually be excited about it
so I'm speaking massively fast if you
have any questions go ahead interrupt me
at any time because I'm burning through
my slides because I'm actually excited
about this by the way did I see wait a
second i'm not sure if you actually saw
this i'm going all the way back right
now did you see this read the text
ok I'm going to read it for Lucy it says
if you have working code you can simply
upload it yo Carl added this just after
he basically put min a spot saying that
I should write an extension for him yes
so there you go yes yes it definitely
can and you can actually just call your
API you don't you have to become a
reduced amount of code you need to write
this or you just go ahead and write that
little extension that you wrote last
night and just inject it into every page
should your work just as well so we
choose totally going to happen and then
of course this is all just code that I
have locally so there's just sync with
production button and if you're proud
enough that it all works and you hit it
and it allows you to push the production
or even better feeling it tells you they
can roll back from production which is
great and then it just goes in
production mode and it tells me you
can't edit any more kind of a bummer and
then you realize ok let's check the
settings and this is where it gets
interesting because there you go ahead
and add a little bit imagery so you can
add a nice little icon I'm terrible at
this so I just did a little screen shot
from the image that it shows on top of
an image and it didn't really fit into
squares I just made it another little
lung desk for the long days and then I
got excited because it started showing
me download links and it tells me that
there's a page where i can just point
people to and will automatically detect
their browser and it can download my
extension oh my god and then even better
there's a way to directly export my
extension to the Chrome Web Store so
until just recently and
I used this before and now it's no
longer there some kind of bummed you
could do the same thing for Mozilla at
on store whatever it's called they have
some problems within delivered now
they're going to the promised me in the
in the discussion forum yesterday that
they're going to add it back so I'm
going to promise you the same thing you
can export it there too or you will but
if you go ahead you can easily just
download the zip for a chrome web store
and then log into your Google developer
account which is just your regular
Google account on Chrome the google
chrome and there you can upload this
little zip that you just got and then
after some waiting it took me about an
hour or so before was public I saw this
and I thought as before and I saw this
on other people there my god has a real
extension it has real images people can
install it I did this screen shot
yesterday you can see it's one user
that's me I'm totally going to rely on
you to download so i'm going to count up
this is the link i want at least let's
say 20 more users in a year because now
after having installed this i can browse
the web and this is the really tough
part right now i've been looking for
examples of pages that have long desk
this ugly little thing is actually one
of the few that still work because there
are like lists of examples and they're
so old most of them are broke but now
this is one of the last ones around and
this is how it looks before now wait for
it this is how it looks now after
installing the extension it's wonderful
and you can click on it and it tells me
oh you look there's more information and
then there it is that's a text hidden
behind in this tiny little lung disk
description and i can read it and
honestly it makes more sense to be in
this which makes no sense to me at all
alright so thanks a lot just by the way
is my son and my dog they teach out of
all kinds of tricks
so I want you to go out and teach your
browser's lots of new tricks thanks a
lot</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>