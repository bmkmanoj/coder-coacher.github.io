<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Intro to Android NDK - 02 - Why use the NDK? | Coder Coacher - Coaching Coders</title><meta content="Intro to Android NDK - 02 - Why use the NDK? - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Intro to Android NDK - 02 - Why use the NDK?</b></h2><h5 class="post__date">2012-04-27</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-0a9mDWqrt0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so now that we know what NDK is the next
question is when or even if we want to
use it why do I say this
well an average Java developer when
writing application code is going to be
generally more productive in an average
C C++ developer raat why well simply
because Java has a superior memory
management model it has a superior
threading model superior exception
handling model it's superior set of
libraries that ships with support for
Unicode characters and so on and so on
that C C++ tend to lack so on average we
prefer to run or write up liquor code in
the Java language and which we know
executes on the final devices on the
actual target devices in the dalvik
virtual machine now that said why do we
then talked about NDK when does NDK make
sense as I mentioned before there are
two main reasons one is when we have a
lot of code that already exists or there
needs to be written natively so it can
function on other devices and we want to
reuse it in the Java or on the android
side we tend to write it in C C++ and
then wrap it using j'ni and access it
essentially from our Java applications
the second reason is performance Google
here mentions things like signal
processing and physics simulation
examples of essentially sections of our
code that are very sensitive to
performance but they also tend to be
self-contained and very CPU intensive
and they don't tend to use a lot of
memory we'll talk about memory
management specifically later now do we
want to write the entire applications in
natively which we actually can we
typically don't for a couple of reasons
one is as of Froyo
so API level 9 or should say eight
Android ships with the just-in-time
compiler and which is part of the dalvik
virtual machine this compiler does a
pretty decent job of identifying parts
of our code base those that are code
base written in Java that can bend
fit from essentially on-the-fly
optimizations and caching so that if
that code base needs to execute very
frequently we can essentially compile it
at runtime into native code and then
next time around executors native code
this is not something that's unique to
Android or the dalvik virtual machine of
course it's been around block if you
will even in the Java land for a very
very very long time but it certainly
means that the performance advantages
that the NDK once had over just
unoptimized interpreted Java code that
essentially runs as dalvik code have
somewhat faded that said the optimized
Java code is still not going to be
typically as fast as hand-tuned
C C++ written code but it certainly
isn't the only reason why you should
consider increasing the complexity of
your code base by going towards the NDK
road now the the framework that Android
provides is for us to write parts of
application natively and then wrap those
parts and by a skeleton written in Java
or to essentially using something called
native activity implement an entire
application simply in scene C++ with no
jaw whatsoever if we go for the second
approach we are actually going to forego
the use of certain features of the SDK
the Android SDK like for example
services content providers broadcast
receivers and so on and so on so if at
all possible we prefer to still maintain
the overall the code base of our
application in Java and only write
certain parts natively</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>