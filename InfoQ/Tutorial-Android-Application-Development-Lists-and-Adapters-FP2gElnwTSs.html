<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Tutorial: Android Application Development - Lists and Adapters | Coder Coacher - Coaching Coders</title><meta content="Tutorial: Android Application Development - Lists and Adapters - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Tutorial: Android Application Development - Lists and Adapters</b></h2><h5 class="post__date">2011-03-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/FP2gElnwTSs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so let's start talking a little bit
about adapters but before we do that let
me ask you what is the problem with our
what we got so far in this application
doesn't automatically scroll by itself
okay what else
place all the records yes okay yes it
can infinitely scroll pretty much yeah
so so here's the problem let me explain
that try to explain this imagine that we
have a database ours is relatively small
I got 22 items in it or some like
something ridiculous like that but
imagine that imagine that we were
building like a gmail client okay and if
you're like me you have maybe 10 or
10,000 emails in your email client
database right this is the data source
could be the cloud right it doesn't have
to be here it and now imagine that that
you have a screen that can have what 1 2
3 4 let's just say 10 items can be
displayed they have a bit you have a one
of the newer phones with bigger screens
so do you see the problem from is that
we are linking a tiny old 10 item screen
to a gigantic 10,000 unit database so in
our current algorithm we display 10
items we're going to fetch 10,000 only
to show point zero one percent of it
right one percent right so they're very
small parts a highly inefficient it's
going to build a humongous
like list for us it's gonna take forever
to display and so on and so it's not
gonna work
right so do you see the problem yeah yes
so that that's good that's a good point
we could have done in our query we could
have done limit and then put limit ten
limit 20 and then in you know 10 10
comma 20 and then we showed second 10
right and so we could have done that but
then you would be building your own
logic for pagination all plus so that's
that's on just on the pulling the data
side of things but what about the fact
that they can't click on any of these I
mean we could also calculate if I click
on here knowing the X&amp;amp;Y coordinate and
knowing the size of the each individual
text then using the font metrics I could
triangulate which itin comparing it to
what you know how many options became an
idea I could triangulate that you
clicked on 17th item right in the list
but come on who wants to do that like do
we you know you we don't have time to do
that so so that's not gonna work really
well for us
so to rescue comes something called
adapters right so that there's their job
is to basically help us connect a list
okay or some other selection widget to
some other data source so a data search
doesn't have to be a database it could
be a content provided they work exactly
the same okay it could be an array for
that matter right array of states for
example array array of days in a week
and so on so there are a whole bunch of
selection arguing components out there
you know I use the pulldown list as an
example I mean the list is an example
but pull downs you know the all that all
those things are basically working the
same way their selection components they
need to be attached to to an array or to
a list of stuff by an adapter
yeah so far so good so what you're going
to do next is we're gonna improve our
our fine timeline by yanking out the the
text and replacing with through the list
so this is going to become something
called the list here and then creating
an adapter that the list view is going
to look to that tube after and this
adapter oops I don't know how to do that
the list view is going to then look at
the database today that's sort of how
it's going to work okay so far so good
so first thing first I wanna go and I
wanna yank out the this guy scroll view
plus text view scroll view post text
view is a poor man's way of displaying a
lot of data right not very scalable lots
of problems for this there's on there's
something that's much more effective
than that's the ListView by the way so
if you guys have a API demos installed
you could just go and see what I mean by
that but a ListView is so you're good to
go you will go to this API demos let's
aim viewers is there something that
starts the list I look lists okay so ray
list okay so this is a list you see this
all the time right in Android lists
pretty common stuff right by the way
what are these they are all what yeah
these are all cheeses and we're still
won't let her be yeah
in case you didn't know that there's so
many cheese's out there yes yeah well
let's say let's see s/w and finds my
baby Swiss perfect yep
baby space rocks so absolutely good yeah
anything with holes in it is good you
guys see that movie recently it's a
comedy I forget what it is it's like
some guys from she's lonesome oh yeah I
love you I love you cheese yeah let me
ask you dude does the milk actually come
like that out of cows like with a false
on it yes yes yeah so if I can back to
this picture so if I have if I have ten
thousand records here right and I want
to only have ten things that they can
show here so yes I could say first let's
get zero to ten so zero to ten records
right and so I could do query and then I
could do it zero comma 10 right then as
the user does that like lifts with a
finger then I would say let's go from 10
to 20 and so on but I would have to
worry about this thing that's called
pagination right right you would have to
worry about that yourself you would have
to get the logic okay can't can't go
past the end can go past the beginning
you know I don't know if you guys I mean
when I did what development in PHP back
then yeah you have to do it yourself
like you know build anything like oh I'd
like a guestbook or shopping cart or
whatever
for the catalogue yet to build it
yourself is annoying
yeah but then people came up with like
you know spraying framework or you know
some other frameworks in its like oh
just paginate this BAM done was like
whoa right you know it's like this is
better than the sliced bread right so so
yes you can do everything yourself if
you so desire but you know somebody's
did and optimized oh sorry yes yes so
the last view is this thing that
automatically does that and you know you
can even like search and you know all
that stuff it's it's really efficient
like you know look I can go really
quickly then go to like an owl you know
BAM from my UI is not the most
responsive notice the CPU but you know
if I go out like L for example say just
gonna jump really quickly and so forth
so yes you can build this yourself but
it's already done yes yes so the adapter
basically sits right here so we're gonna
the process is going to be we're going
to create the ListView
we're going to attach ListView to the
adapter and then we're going to attach
the adapter to a database again so I'll
be coming back to this picture quite a
bit so so first thing first so this is
the list here so what we're going to do
is as opposed to doing this call crazy
scroll view text view right which it
does you guys just did sorry we're gonna
yank it out so we're gonna replace that
with a get rid of this let me get
through this scroll I'll just make one
ListView just like this okay I'll leave
this style hopefully this style works I
don't know exactly if it's well but then
I have ID is going to be important so
I'll say Android my deep and I'll give
it an ID @ + ID slash and
says that says I could say a less Sal
assist or just obviously status I'll
make an exception to my normal role
because I only have one thing here so
let me see if my what my layout looks
like what is decent
we'll see for now look season so
basically that whole you know that call
convoluted textview inside of a scroll
view is now replaced with a more modern
version of last year
so far so good I don't got it
remember you can always switch to a XML
view and then you can do whatever the
heck you want right so now that exactly
so now that we've changed that the XML
then that means that's gonna break the
Java that's depending on it right
because remember our job we're
ultimately told Java just augmented by
XML so the moment you changed the moment
you change XML look this ID no longer
exists you can't find our that ID to
text status is because we change the
name to dot status status says yes and
here's a problem this is gonna compile
and it's going to crash miserably once
we run it because we're gonna get a
class cast exception when we try to
convert I know an elephant into a
locomotive right or you know a text or
ListView into text view right so we're
going to rename we're going to get rid
of text view the text view is going to
become the ListView and I'll call it
status or I'll call it list status
status was
yeah no no no now that think about it I
really wanted to call my ID
starla status oops but it doesn't matter
hey guys can keep it with every fall
I'll just change the name at least that
was just to be consistent yeah you know
at some point somebody should reward me
for this consistency you know because if
you name stuff same way in the XML
wouldn't be nice if it was automatically
bound you know in here wasn't that a
caged PHP candid feature called
to register Global's right dudes like
automatically extracting from from your
HTTP GET in post it was extracting the
variables now it proved to be a huge
security loophole but it made developers
life easier so it's kind of like that
anyway so far we just got rid of
textview and became last year and we
just updated what we look for
so far so good yeah so now what we're
going to do is ListView doesn't work
this way you do not loop over it okay
you didn't you know and all this other
crazy stuff so what I'm going to do is
this all this other stuff now breaks I
can compile my code so I'm going to
comment this out for now I'm just gonna
leave it in here comment it out okay
including the while loop here I just
commented out the whole everything after
start managing cursor is commented out
oh so shortcut is ctrl and then forward
slash yeah yeah you select something you
need to control on a Mac it's a Apple or
comment for slash read like that yeah
or if you forget it's always source and
then adblock on and on no total comment
adblock comment is gonna do the C style
so it's gonna do that right so you can
do that too cool huh all these features
cool so now that now that we have start
managing cursor and we have a list we
gotta set it up so what we're gonna do
basically setup adapter business first
okay so here's the thing we're gonna
need to create an adapter okay and to do
that I'm going to define it right here
and basically these guys these adapters
you know they come in sort of two main
flavors okay there may be a half a dozen
different adapters I don't know but the
two main flavors either connected to an
array or you connect it to a cursor
right either in other words either
connected to a fixed set of data or a
variable set of data because with a
cursor we just get a pointer to a some
potentially very large data set versus
with an array you know I would have the
entire array so you know I would have an
array of 52 States right on but I would
have a cursor of all the products in our
you know mega of a ecommerce store right
so it's that sort of thing so sometimes
you're gonna have occurred sometimes
this data source is going to be a DB
right and other times is going to be in
array okay so similarly you had a DB
adapters or you can cursor adapter so we
have array adapters so in our case we're
going to have a cursor adapter because
that's what we're getting back cursor
right and as such we're going to use a
cursor adapter there's one that's
simpler than others it's both simple
cursor adapter so we're gonna use that
one right because the name suggests it's
somewhat simple
okay so you guys got got the adapter set
up so far right so now what we're gonna
do is we're gonna create this new
adapter so I'll say adapter is new
simple cursor adapter alright and now we
gotta just click here and say add
arguments to match blah blah all right
so basically just gotta get it to match
the actual what do you mean the adapter
a simple simple cursor yes this widget
simple cursor adapter here it's it's
strange why but yes I can see why
adapters in general would be part of
widget because they are binding to a
view right so maybe that's why I'm so
far so good
so it's at so I didn't I didn't have I
just closed it I don't remember what
arguments there is so I just put my
mouse there and say fine fix it you know
add added to mean to match whatever it
needs to match right yeah and now we're
gonna we're gonna like you know figure
out one one argument at a time right so
the first one is usually so let's see
the first argument I put my mouse here
the first argument is a context right so
gotta pass the context so remember I
could Walsh I don't know why clip
suggested pass Yamba does the first
thing in font I could also pass this
which is the context right because this
is a context I solve it I'll just pass
this which but either one is gonna feel
fine because both activity in
application come from the same context
Seneca bull wasn't wrong because the
AMPA is a is an application an
application is also derived from context
it would actually work just just the
same right but they kept a variable they
was called the other yeah this is just a
local variable member variable you may
notice that like if you if you look at
Google code all the variables they grab
don't call them Mpemba meaning it's a
local member variable I don't subscribe
to that strategy but and you know it's
not I don't know it works so okay so the
next thing is something called a layout
and then something call a cursor okay
cursor we already have that's easy right
and there's something called from and to
okay so this here that's a zero that's
actually an ID of a layout but what
layout okay so let's think about that
yes something like that so you know
attempt to draw this nicely so this is
our data right so it comes in a form of
one record at a time right let's imagine
that that record in a database looks
like this right
it's got ID here right it's got
timestamp here right it's got a name
here and then it's got the actual text
right I'll write it in green so this
would be ID right this is the created at
right this is the user and this is the
text right this is what one record of
data looks like right now on the screen
I need to somehow display that and let
us assume that for now we're going to do
something simple we're just gonna print
out then username okay and maybe ID
below user name we're gonna print the
actual text maybe something like that
right so because this this picture here
has only one item imagine I have to
write so somehow I gotta explain what
this looks like so this is the layout
that it's asking for okay it's asking
for what does the layout of one single I
can record looks like right now we could
use one of the built-in ones like in
this case it's using some simple list
item one right but or we can create our
own we're going to create our own but
the point is this is basically a single
record that that we have second point is
that somehow we're going to need like
you said from the world of data we're
going to say oh this is a user user goes
into this field on the screen in tags
goes into this field on a screen
makes sense we're going to need to bind
those two somehow so far so good so
that's the trick that we need to do so
we are gonna start by defining this guy
here okay when you go define what that
cloud looks like we need to define what
that guy looks like and that guys what
he called a row right like one row of
data so any ideas where to start
that's that's correct yes so we start
with the XML so you click on tool a plus
or file new XML whatever and the
relaxing our file
I usually call this guy a row XML
because it represents a single row of
data you can call it anything
it's a layout yes and and that's it you
just click on finish
everyone got the big black box okay so
now what's confusing is that this big
black box in our mind but it presents an
entire row but it's only going to be a
part of it that actually represents it
all right so what if you want to do is
you want to describe what single row
looks like so we are now concerned with
just a single row what does this guy
look like that's what we're designing
right so what we need to do is we need
to figure out what we're going to put on
the data and I said let's start slow and
small let's just add user in text those
things just like we did before which is
dumped out user and text okay so let's
just assume I have sort of user name
here and then I have text everywhere
else right simple like that so basically
my layout in that case is going to look
like to text views text you want text
you to them them again what do I want to
do to make this guys rather one below
each other layout orientation that's
right
and we're gonna make it vertical okay so
there wanna be like each other what else
what about the size the space and all
that so the top one is probably fine the
way it is right that's within height
right the bottom one I'm gonna make it
to us you know for the West else a
filter
so not for the fight but put it with
sure what okay so do you want to put
down on the call King I could do that
right
good depending on the whole thing so one
of treat them in that case one what we
could do is we could define it as in
style right so fine so why don't I make
my this guy the mother of all this is
opposed to defining vertical and all
that here right what I'm going to do is
for my mother of all and the main guy
I'll say style is gonna be activity
that's not gonna be good huh yeah well
actually I'm gonna just make it vertical
from now orientation for Leah so I'm
working on the layout yeah very cool but
for these guys I may create a style now
I'll create a new style oops
style name is gonna be raw text and I'll
say item name is gonna be and then what
do we want to say what did you say we're
going to do four okay so that's gonna be
you know what we'll just copy this line
item damn Paddington okay
what else do you want to do
I'll put text size salsa
maybe not 25 but like 15 you just make
up whatever you want right and then in
row
I'll just assign the style
it's except it's not our relax fits our
W yes if-if-if its hexadecimal for the
color yes
so if you're specifying color as a
catcher that's known value yes start to
the R 0 its 0 X Y s or you can put cash
down detection on shrimp yes so I
applied style to both so I created a
style right just a common stuff and then
I applied it here to both of these items
so now
yep
so let me do it so what we're gonna care
about these guys is IDs right because we
are gonna need to worry about them
programmatically so what I'm going to do
is I'm going to change the IDs something
more meaningful so I'll call this one
text user okay
sorry not text I was changing the ID
text user and for this one idea is going
to be text use a text but attacks text
let's write text text
now the question is do I care about the
text value of these guys now because
we're going to be programmatically
selling them right however I find it
sometimes to just fake it forward to
development purposes because check this
out if I remove it
it's going to be extremely hard for me
to now see what it looks like and find
the first one right
make sense so I find it useful to just
sometimes put something like I don't
know make him make it says you know say
make his you know let's make estas
shopping in Tokyo
okay so now at least you can see what
that would look like right
lay out whisks or I did feel parent for
wealth and for high to the drab content
as a matter of fact the mother of all I
probably don't want in this case where
to be filled parent the probably want it
to be a wrap content so that they're all
I kind of optional the other one the
type sorry like that right and now that
I think about it I don't want these guys
to be like that actually now I think
about it doesn't even want this padding
in here because what I'm going to rather
do is I'm going to set up adding
individually so I'm gonna put actually
know what I'll do it like that here I'm
gonna do it apply the padding to both
right but I don't like the padding to be
so high between them here like that so
you know and one of these I'll put
padding padding bottom to be lower
batting bottom of put 0.40
listen to think doesn't account ok so
far so good
very simple I had with two items
you guys good
and yes I can
so deformities padding:0 VP by the way
this this little thing that they did
where I put some default markup text
right and it said that's useful for just
where you were like in development if
you try to compile this on a platform it
this is not gonna compile because it
doesn't allow the card coded text even
though this is just the text it's gonna
be temporarily no no you say when you
compile for platforms if you upload it
turned it deliver to the platform it try
to compare this gonna fail so if you
this is fine for development Eclipse is
gonna compile it around yeah like
hard-coded like that ya know if you try
to compile it on the device as a part of
the source building some source for the
platform
so now we have basically something that
looks like that
it's our review so in our timeline
activity now when it asks us for a
layout what are we going to point to
yeah our dot layout dot oh there it is
row
so first of all so that is the layout
that's basically saying how do you
display one single row of data display
singular out the key word right now the
only two parameters we got to figure out
at this bottle hasta - and they are from
which is a string array in - which is in
inter a so what are those things so if I
do
string from and int - what are those two
things coming - they're gonna go from
and
what are those two things
any ideas right so remember this is our
data it's got four things right and this
is our deal right
so the from is going to be the integer
the string names of these columns so
from the user from text and so on and
son 2 is going to be an integer
representing the idea of particular view
you're buying with that
exactly yeah yeah so the farm is going
to be then the list of the you know the
type of database names which is status
data dot user and status data dot text
right that's it that's in the database
those are the column name so we're
mapping from column names to IDs on the
screen right make sense ok so what is
the true gonna be any ideas right so
it's going to be the ideas of the text
views it's gonna be our dot ID dot text
to use their column r dot ID dot text
text
it's a good question how does it know
how to bind based on this so basically
this item here the first item gets bound
to the first item here exactly and the
second item gets bound to the second
item over here so then this is bound
back to you right so in other words from
and to must have an equal number of
elements yeah exactly
there's one final thing we need to do we
need to say we need to connect our list
view to les statuses dot set adapter
adapter we need to tell it to look at
that adapter for data with that yeah you
must specify yeah but what we're doing
to be specified oh yeah yeah yeah yeah
so each you got a care layout with a
layout right that's what I said it's
universally important those two things
right let it well know here's the thing
you guys copied my my XML which doesn't
specify it but that's because I had it
in style
finally finally so yeah so I get those a
layout with a layout right specified as
part of my style what can you hear
multiple that Stratus aimlessly and not
really know what you could do is you
could create a sort of a matter adapter
and then collect let a listed at that
adapter have that metadata manage you
know multiple connections
so did anybody run this oh no I just say
the last one before
yeah there you go so so it kind of works
right if I look at it this way a scrum
that's what it looks like for me
so one thing that we gotta do is we
gotta attach this to now to this used
list
stop this service needs to be added the
status adapter the adapters we get a
times in that ability so if you don't do
that it's not going to show well so do
you have do you have in your Yamba
application terminate and D call status
data terminate in this distance data
cause surveys close yeah which closes
the TV check that
design videos text view with a scroll
view yes why not I mean nothing wrong
with the text view we describe you for
example you may have a law about us or
about or like a license agreement right
if I had the light if I wanted to cap
yet another button here where I would
click you know and say license agreement
you know or something text view with the
scroll view will be perfect
why not right or like oh you know
credits similar like that right or help
or whatever you know although I would
rather wrap it inside of a WebKit but
that's another thing altogether so you
guys captivate this so okay so it's okay
so so happy I mean it works right so if
I click on timeline I can view all my
friends what they're doing right asking
for too much
yeah sure so why don't you now add a
time to it okay so your job now is to
tell me how to add time I pick the two
simple ones so now what if I wanted to
add time and here's how I want to add
time I want to say posted so mark agree
and I want to put it here okay and I
want to say something like five minutes
ago ten minutes ago two days ago
if you said a few seconds ago in other
words the one relative time
so do you get it do what they want
let me show you what I want show me what
you want so what I really want
they really really want is this I want
to show like this I want to say it's
posted two days to go two days to go
five days to go etcetera make sense can
you do that okay so that's boil down
touch let's boil that down into two
problems one problem is create me to UI
so add this to that what's what what is
that that is what Rick for what are WR
right right so let's let's add that
let's add yet another view to our row
that's the first problem
second problem is got to put this data
here in a meaningful way
okay so let's work on the first thing
first first thing so the first thing was
to go to timeline right and to add it by
the way I just realized I don't like
this padding here yeah I'm just gonna
change a little bit of this padding it's
you know like that it's but on my
timeline
this was my list I'm gonna pad a whole
list a little bit it's actually already
padded I'd never started okay so back to
it all so that might all looks like this
right now right I want to add a call
component right here the questions file
we can change from linear layouts to
something else right right so that's a
good point so so me now if I add yet
another component is going to go like
right here right whereas I would like to
put it in the same line as the other guy
right so so here's what we can do we can
do the following we can actually or
reorganize how this looks but by doing
doing one verdict one so there's going
to be one layout that goes up and down
I'm going to draw it in red hopefully
you guys can notice right then there's
going to be another layout that I'll do
in green that goes has the user here
okay and then it has the timestamp here
make sense more specifically it's got
the user going up to here and then
timestamp the remainder so so this is
going to be a layout - it's also going
to be a linear layout but this one is
going to go left right
in other words horizontal versus this
one it's gonna go up and down in other
words vertical does it make sense so I'm
basically nesting a layout within a
layout this is like still simple but
it's one more complex than what - that
before so then I don't get it so I still
have my main green or red layout but now
I'm inserting green layout because I
want to support multiple lines this is
not the most optimal but it's Greek it's
okay it's gonna work
so c.i.a now have just these layers so
what I'm gonna do is I'm going to find
my my linear yet another linear layout
then I'm gonna drag it drop it and I'll
just drop it somewhere it's it
hard to get it through this thing to
drop it properly so you might have to
like take this thing and like well they
used to have a little up-down buttons I
don't see them anymore you guys may
still have them yeah so that's it but
yeah I don't know how that Oh does it oh
no actually no you can drag it you need
to do up and down I guess that's the
point but it doesn't work how do I drag
it into it I can't anyway Oh see I just
finished a mess up okay so the whole
point is you know whatever I'm gonna do
this you next in a reformatted I'm gonna
just yang this whole thing well I'll
leave it here but I'm gonna serve I'm
gonna use this linear layout the new one
which you can do manually right to
surround the top so this is gonna be
like this right so this is my second
column but I'm gonna do it let me close
this
so like this with that all the
projectors cleared up there you go okay
so so reformat this so basically this is
my row number two so this is my first
row of data user and created at right
and that's gonna be my first row of data
and then this is going to be my second
row of data and it's going to have text
right take a status right make sense
make this whole simpler I don't know why
this is I don't know why this is uh just
yeah
prettier yeah looks pretty cool so this
is my you know what IKEA I'm even gonna
be nice to you guys I'm gonna even name
these guys so we're gonna name every
single one of them I've usually don't
comment my xml but here you go so this
is the user right right this is the this
is the text right and so user and then
the next one is going to be another text
view might as well talk to this one
don't change it so user and then it's
going to be created at right so I'm
going to call it text created at text is
going to be some default text like 10
May I don't think this padding-bottom
was doing much for me so I'm gonna
remove it but hopefully hopefully you
are from this you're learning not to be
too afraid of just dropping into XML
because it ain't that bad it's not it's
not much worse than HTML right okay
so I can quickly check I can check what
it looks like okay
Bam Bam Bam so now the only problem that
I have is that this cone I want to push
see my problem is I want to push this
guy all the way here right how do you do
that yeah so here's what I'm gonna do
I'm gonna take this guy and I say take
all the available space but because it's
a first child it would normally push the
other guy like of the screen right so
say take all the available space but be
if not acknowledge your children's the
weight right so I'm gonna do that my
this guy so wet is going to be filled
parent okay okay but Android and wait
wait is this alphabetical yeah I wish
those extra probable like its layout
with right
lay out wait I'm gonna say is one
reformat it okay so fill parent but
leave space me not for the others and by
the way I also want my layout width for
the this guy to be filled parent and do
I care about the idea of my second
linear layout thank you so if you don't
care about it you might as well remove
it okay there we go
Mickey ten minutes ago shopping in Tokyo
well now yeah
so the so the way it looks for me is
like this yeah that's what I wanted
right I basically said I said the top
guy right to the top let me open this up
so I said my top column which is
represented by this linear layer first
of all I said fill parent horizontally
so take all the space then I said first
child take all the space as well but be
mindful to your younger kids siblings
right so that's where the weight one
comes in and then for the second one it
just it's just you know it's a portal
youngest child she says wrap content
wrap content
yeah yeah this one is fill parent but
see if you just get fill parent without
without the weight one here's what's
gonna happen
it's gonna push the other kid so the
other kid is really here can't sit for a
little guy right that's why we don't
want that so push it back for that back
end which if Mickey gets too too long
yeah if Mickey gets too long other noise
I'm gonna have a problem yes so we can
there's a what's this thing that I
forget that you can make it actually do
a dot dot dot like kind of like you know
maximum words I forget there's a
property I used it before next size this
is max size
yeah so you can do that
you can specify but I don't think you're
gonna have a problem with the this guy
right I doubt it
by the way here's a cool thing you can
do on this guy on the link check this
out on the my text my actual tweet rate
status you can say Auto link and it can
actually auto link certain things so
that you know there is a URL it
automatically detects the URL right if
there's a phone number it automatically
detects phone number so I'm just gonna
click on auto link all I can make this
one it's a link or auto link auto link
text text this is a italic work anymore
which one Rohit XML so that is the wrong
X now are you looking at you just want
to see well so let me ask you this um so
when you say feel parent you're saying I
want to take all the space for my father
but what if your father doesn't have a
hell of a lot of space right so you
check how much your father actually has
by checking if if his width is fill
parent because you're gonna get you're
gonna you didn't care it everything it's
just that the poor or the son doesn't he
carried much from the poor little father
who doesn't have a lot right because he
didn't ask for a lot so okay I'm glad we
got the inheritance down all right that
was just there was auto link Auto link
all unbound free fix no but let me take
a look you're talking about oh you're
talking about the database table okay so
so what happened to them is that you
dropped you want you you went in here
right into into this file and you get
you get data in there but then it said
drop table statuses and you just under
underneath your own day today the
visitors destroyed it right so dot dump
now there's like no database Wow
so okay so when would get created so if
I run my now my application again of
George here and I click on run
so that is gonna run through on on DB C
did connect to the database going to
much information so that's activity stop
referent data so let's take a look so
what does it run okay so if I go menu
and I click on timeline BAM crashed okay
so if you look at it here then so yeah
exactly so so it try it try to do select
star from statuses order by C this is
the internally like that create prepared
statement right and crashed because it
didn't extends to the database is there
but somehow it's not because we do a lot
behind because we went behind the scenes
and deleted so like I said you know too
bad your your oncreate only happens once
when it ran that's it that's not it
so what will help how will you for some
create what you can't
don't create is never ever gonna run
again sorry okay but exactly exactly so
what you can do is remember the in
status data in DB helper we said that
this only runs once right once the
database first created but whenever the
database version changes on upgrades
runs again right and we currently have a
poor man sub grade version which simply
drops the table and reruns on create
right so if I want to create a database
again I am simply going to jack up the
the DB version from - to say for example
three run this let me delete this you
can actually see it
okay I'm gonna now go up to have that
open menu any time line so on updated
drops or not David drop it draw the
table and which reran on create right so
I bet you now that dot schema is going
to say that I do have statuses right in
thought dump it's still going to have an
empty database but at least we have
various is that answer your question
cool oh I just jacked up that number
from two to three is version number or
an update on upgrade simply calls drops
the existing table says if the table
already exists drop it and then call all
create June so we have a linear layout
with a linear line between inside of it
so
so you guys got it did you get it yeah
cool
so so that's so that so that began this
was our row so we had a mother of four
linear layouts
right with a one first row which we had
to put a secondary linear with in
chapter but we chose to put a sec a new
linear layout just at that you can do
left to right to organize these two guys
right which is basically its top row
that has user and created that and then
second or second row which is DNA the
second layout which is basically yeah
that so you know if I blow this up
that's kind of Paulo so this is my
second row which was just a simple text
view and then first row was actually two
things in wrapped in another linear
layout make sense re the only that it is
that may mean that your database wasn't
closed properly so it's probably open by
somebody for writing and that's why it's
refusing to give you access to upgrade
it so that's probably a lock on the
database you may have to reboot your
emulator or something something you
didn't do it close properly so I
remember we talked about that earlier
that we need to close our data so I
basically said in you know the opposite
of dbo a DB create DB helper is closed a
big helper yeah and then I said the
opposite of of start create your not
status activity but yeonbok application
so the opposite of create the app and
created data is close the app and close
the data so that that's why it stopped
cool so um so now we got what let's run
let's run this so I got to go back menu
and I'll start serious let's see what we
got now
you cannot be connecting to therefore
ooh that's because your friendly Network
kicked me out it's going to say
redirected Cisco fam and now I'm not
reconnected and I'm going to I'm going
to try again how do they get the black
spoon okay so menu Yamba
okay so many oh let me see I'm gonna
just stop service and then start service
check this out through running date okay
menu pause because I don't like to keep
on running menu go to timeline boom
there it is right but did I really type
everything ten minutes ago yeah did I
really type ten minutes ago right
there's me sample text right so in other
words I never bound those two right so
tell me how do i bind it but what do I
go exactly since you guys noticed a lot
of this is a repetition right so just
like we did start the see users start to
see text I would do you know status data
see created that and then I would add
our dot ID dot text created at them by
the way the reason why I left this code
below which I'm going to delete now but
I just wanted to show you that this is
really the same as this okay so check
this out
so here what I'm really doing is I'm
saying how to map from database fields
to to fields in the UI okay here's the
same thing here how to map from a
database field to a field in the UI
right which ultimately goes into UI it
is the my UI here was represented by a
piece of text right make sense but it's
the same thing right that's what I
wanted to kind of show you hopefully
means something but anyway we don't we
no longer need that we obsolete that so
now our code is somewhat simpler okay I
read on this you say and let's see what
happen
yeah man you
Oh
yeah so many a time line this is kind of
getting annoying I think time line
should be our main of main entry point
but we'll get to that then it's back to
your question how about the menus anyway
so now so now everything is we have time
stamps but that's not what you want it I
want it's ten minutes ago okay so the
question is how what to do about that I
mean you know we can't store ten minutes
ago in a database right because by the
time you store it it's gonna be 15
minutes ago right hmm yeah we can't
store relative time in database
so what we're storing in a database is
fine right times then that's pretty
pretty good but the question now is the
question oh is this so in our adapter we
can basically you know remember we have
a piece of data and we have a view and
we can successfully by now we know how
to map a particular column straight to a
particular view right we are pretty good
at that the question of is how do we
inject piece of business logic to
convert from timestamp to a relative
file yes it does yeah so so basically we
would want to do we would want to look
at the simple cursor adapter adapter and
see what call it works with there's a
couple of ways we can approach this is
inject the business logic one one
approach that I used to do before is I
would create a new class called Prime
and adapted that's why actually in the
in the examples tell says that timeline
adapter so I would
I would overwrite simple cursor adapter
and create a timeline adapter okay
mm-hmm why I want to change the business
logic I want to I want to modify how
this gap is called the conversion from
mapping happens from a piece of data
here to a piece of data here because I
want to inject some kind of logic in
there yes so yes so that's what I said
about you know many ways to skin a cat
right I don't know why it's always cats
but somebody doesn't like cats yeah so
if you know one way would be to modify a
timeline adapter and that's my typical
approach but I'm going to try out
they'll do it differently this time
around there's something if they're
basically they're a bunch of this
everything episode is like there's
everything everything this method called
bind view so bind view is what takes a
piece of data and takes the view and
then finds the actual records of one to
the other
what it does and that's the mode that's
what I typically modify by overriding it
okay this time around I'm going to do a
different approach the approach I'm
going to do is by modifying the set
binder view set by a view binder so
there's something called set view binder
and sets the binder used to bind data to
view so that's that's the one that we're
going to do it but then to do that we're
going to create and we're going to need
to create a new view binder and coding
view binder is pretty simple
you basically create a just a simple set
view set view value right method which
basically the binds the cursor column
defined by a specific index to a
specific view right when binding is
handled by the view binder this method
must return true if the method returns
false simple view binder is going to
handle it on its own so in other words
another way in other word
we're gonna create this new view binder
implement this method and only handle it
for particular column index I created
that right make sense yeah is that does
that sound good like a strategy okay so
that's kind of how you would read the
documentation
okay so timeline activity what I'm going
to do is I'm going to create a new view
binder so I'm gonna define it and I'm
gonna do it this as as a as a constant
here so it's gonna be static final view
binder equals new new binder okay oh I
gotta give it a name view finder since
it's a constant right and I'm gonna need
to say that like that and then I need to
say add onion create report
organize the imports simple curve
they're a bunch of view binder so make
sure you
it's very gonna use your common sense
right so which one is it simple adapter
simple cursor adapter simple cursor tree
adapter what do you think a B or C that
would be big B right
okay B is the correct answer okay so now
that we imported the right one now
Eclipse knows that we need to
yeah we gotta get this reversed so my
like that right so now we're gonna zoom
towards oh let's do
okay add that implemented methods thank
you so that's the message we need right
our custom binder to to bind created at
column to its view and change data from
timestamp to lock save time that's what
we are doing here right so just gonna
give you an idea so it's got this one
method and so this is going to be a
particular view right view this is going
to be a particular cursor and this is
going to be a particular column index
okay
so far so good so so now so now the
column index is going to be the index of
the column so this view this this is
called for each column right in a
particular cursor it's called for first
column second column third and fourth we
have four columns right I D created that
user and text right so on this is what
city does so it says true if data was
bound to the view false otherwise
so in other words we if we handled it we
want to return true otherwise we want to
return false so I want to check what
this column indexes but basically
basically column index of so so if it's
if cursor dot index get cursor dot get
column index of status data dot created
at right is not equal is not equal to
call index okay then we are going to
return false
right because that means that we're not
dealing with it else some like that
right so
you are not processing any things other
then create that column here right so
false means let the lettuce let this
simple cursor adapter do it like it
would have done it anyway right like
this true means we're handling it
long time stamp is going to be then
cursor to get long from this index off
in this case I know it's a column index
I can actually get column index right so
I know it's equal make it shorter like
right so we get a value of the cursor
and the view in this case is going to be
attacked you right so I we actually we
so I can say thanks to view view right
dot because I know it's a text view
right dot set for it
there's nothing putting my text yeah
like this okay just takes a while so now
I want to set the text for that you know
this is where now this is finally the
line where I get to inject some business
I want to convert from from timestamp
which is a long to some relative time
and there is something called you know I
done it zillion times but it's kind of
like you can't really remember something
called date utils and it's something
called day details let's see what we got
there documentation you can look through
it and there is something get relative
time span and and let's see which one
relative times plan from
okay it's relative times fan I think is
this one I'm from this from the start
time yes so return wait it returned the
strain is kinder at the time since start
time perfect that's exactly what you
want right right so I'm going to simply
say here you know let me do it like this
to whine string Corral for a lot of time
is and then here I'm gonna say relative
I might just kind of make it a little
cleaner more more logical hopefully so
date your tails dot and then get
relative time and it's the one the
simple BAM and start time is gonna be
timestamp okay
I was complaining because it returns ik
it returns say I should have actually
done to a string right because it is
terms that date sequence chart sequence
as a position right actually as a matter
of fact why am i doing that right it's
more proper anything well the one that
only takes one parameter calculate from
and cue and time now main resolution
which is like minutes minutes hours like
you can say I want relative time in you
know just in seconds but let's try it
see with this what this does well this
one does and start it get you know go
from there
how'd you do that it's a good question
so what the heck is this construct here
fair enough fair question let me just do
it like this if I didn't do it like this
if I did it in as I this is anonymous
inner class right so it's anonymous
because it doesn't have a name like
right it's an inner class because it's
within my main class see cards within my
main class right so if I did this sort
of the wrong way I would have done it
like this I would say I would say my
view so I would say plus my view buying
their implement view binder okay like
that right so that's now a name class so
it's just a class but again I'll give it
a name you guys slowly understand this
right no problem it's a it's an inner
class because it's within the class I
could just pull it out and it'd be just
a regular class right
you know Nautilus yeah it's in one of
those controversial Java features so now
if I cut it like this I couldn't say new
my view binder right so now so now so
I'll need to make it static
now I'll need to make a static myself
but that basically just makes it
shortcuts all this to trip like that and
then I need to since I'm actually
declaring it here so I need to like
terminated here is a cellphone yeah
because I'm come I'm basically saying
your binder is this class but this house
doesn't exist and kind of just injecting
it right here defining it and creating
it right so it's like if it existed I
would just give it a name but here I'm
actually it doesn't exist
so I'm actually injecting its definition
right then in its place of existence
right so that's what it that you know
that is it's it's you know anonymous
inner class yes exactly that's I just
you know remember when I didn't have it
you know if I say I mistyped this right
eclipse a real complaint so you can put
the mouse key and said Adam implement
emetics and it just adds it there right
because it knows that's what's needed to
be implemented by that interface oh I
don't need to call a super in this case
yeah yeah and I check the documentation
and it basically said look if you want
to not if you want uh somebody else to
take care of setting this view I the
simple cursor adapter just return false
and that's what I was saying if the
column is not what we're expecting it to
be right just return false
so logical many methods right so we are
not done right so now that I have this
view binder I will need to set it to the
to binder so when I create my cursor my
adapter right I need to not say add
adapter dot set view binder view binder
right so that now says you know what
like before you do the job that you
normally do check you know for with this
guy and this guy injects some business
logic for that one particular element so
this is one sort of Java ish way of
doing it I have another way that I said
I was going to show typically though but
I'll show you that in a second
so let me see if this works so menu and
then timeline voila
51 minutes ago 50 minutes 5 7 2 hours 3
hours 5 18 hours and then starts
eventually in days right and so on right
so looks pretty decent
let's agree what search picture you mean
if there was a mean author linking in
text oh if I start oh I see oh yeah I'm
not I'm not condition I'm not percent
sure how where it's indexed yeah it
doesn't work nothing happens I need to
enable that somehow so yeah I would look
in the API demos for how that's done oh
yeah so I'm not sure so it's probably
just something used to be bound to
something so cool did ever get this yes
we're sorting it yes so we sorting it in
our status data in our implementation of
query we said this is how we want to do
a query I'll get rid of this stuff yeah
cool so at this point so we kept this
i'm just really quickly show you how the
other way that i was doing it
where's my other example my other
approach would be to actually do it like
this to create a new adapter by
sub-classing simple cursor adapter and
then changing overriding the bind view
because my dear does all the work and
then i basically changed i do whatever
the parent was gonna do and then i
basically
you know redo it for created that right
yeah well yeah i could have done that
the i would have kept two but this is
for the entire row actually so what is
this is called the once for the entire
row so this actually handles all three
things right so it sets user so first so
this cap is for the entire row then
first i do whatever the parent was going
to do so it sets the user text and
created that but then i said okay i know
that credit that is messed up so i
change it well technically i'm every
time i'm letting the system do created
that and then I'm overriding it so yes
I'm repeating a work right but it's my
mind it's quickly developed so it's up
to you but but this is designed
specifically for this purpose to you
know the this this approach with a with
a view binder so we put everything there
and so on what I like is outsourcing
that in a separate class but you know
some either here not there so it's all
good so at this point so where we're at
kind of on the big picture is we
basically have this service it
successfully puts everything in database
and we we basically have a way to
display this and we have a list here and
everything works okay so we basically
have the fully
working app that you can configure you
can mute it you know it's totally usable
right and and all that so what we're
going to do tomorrow is we're going to
wrap up a couple minor things with
respect to this app we are going to
refactor it a little bit because I would
like this to be now my main starting
point and remind me that was the
question about what about the menus
because I want to have the menus here
but maybe I want to have them here as
well right so we're gonna address that
right and then what we're gonna do is we
want to possibly start this web boot or
at Network on-off time something like
that so just explain boot receivers and
and then we wanna maybe package it into
content provider and we want to publish
all this on the marketplace or something
right you know I think have people
complain
lights not working great yeah so yeah so
yeah my plan is to finish the all this
stuff well I mean I'm technically done
but we're going to do a lower
refactoring tomorrow to kind of
particular you know review some stuff
and their couple new things like
receiver and content providers so we're
gonna do that in the morning and then I
would like to do like leave this you
know afternoon for other top is it
interest you on topic was where's this
sticky that we had one topic that we had
in the list was Matt location-based
services so we're going to talk about
that because we could have status
activity actually include the
location-based data maybe it maybe we'll
carry it through to the database in all
that maybe not but at least we'll make
sure that we post it or something
something like that so we can do that
fairly simple right so we'll do that and
then well just some other topics as well
yeah that's the source yeah you
technically cannot change that so
there's a property there's a property in
the API J Twitter API that Allah that is
where's the Javadoc
that for remember status get something
called source but you can't think you
can change that it's gonna hard code it
right
it's web I am and so on and so on so
that's supposed to be part of the
library right
alright so that's basically</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>