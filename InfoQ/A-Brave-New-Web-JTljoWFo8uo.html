<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>A Brave New Web | Coder Coacher - Coaching Coders</title><meta content="A Brave New Web - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>A Brave New Web</b></h2><h5 class="post__date">2014-05-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/JTljoWFo8uo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we're fall thank you all for coming for
being here I hope you're enjoying the
free beer I really hope you're so we'd
like to talk to you today about the
future of the web in about 30 minutes
we'll see if we can pull it off or as we
like to call it a brave new web my name
is Giles my name is Michael and we're
twins in case you haven't noticed yet
we're howís alumni wait we yay how West
exactly and we work for a start-up
subatomic systems right here in San
Francisco we're from Belgium this is a
beautiful picture of against is the city
where I live belgium is very famous for
its prestigious beers awesome waffles
and great belgian chocolate but we're
not here to talk about Belgium tonight
even though i'd really like to do that
but we're going to talk about something
else all right today we'll be talking to
you guys about web components something
that's up and coming please note that we
are talking about specifications at this
point so don't don't expect to go home
and start doing stuff although there are
we'll see that later you can actually do
that nevermind
so basically what a web components web
components is nothing but a set of
specifications set by the w3c that
allows you to create reusable components
using just simple CSS HTML and
JavaScript something we're all too
familiar with and let me actually place
what the specific inches are so we got
at one point templates and we have the
shadow Dom custom elements and imports
those four parts actually are the web
component specification you can use them
separate you can all do that but
actually most powerful one use together
to create your components let me give
you an example of what a web components
actually looks like yeah who's excited
to get the bling back playing tag beds
awesome you can't can't get rid of it
anyway this is what what what it looks
like all you have to do is basically
import your web component and then use
it that's it right let's give you a
moment so one more quote unquote and
sean's example same thing we imported
you use it and you can actually do cool
stuff it like data binding let me just
shameless self blog here we go and this
is all HTML huh it's not an image in any
way this is all just very very small
tips even the codes the syntax
highlighter itself in this presentation
is a web component so let's run you
through some history first all right a
bit of a history lesson I hope I don't
for you guys too much as with many
things it's a really good idea to take a
step back and look at how we used to do
things or how we thought of things in
the old way to appreciate a new way of
thinking and that's what we're going to
do right now back in the very very olden
days we used java applets and flash
controls who remembers that a couple you
guys we're still doing it no one good oh
yeah so the back
picture tells the entire story you had
to install a proprietary plug in and
there were lots of complications with
that not everyone had it first of all
secondly there were security issues so
yeah flash is dead ray there were also a
concept that asp.net invented called
asp.net web controls it was sort of a
step in the right direction even though
i think the syntax is horrible and the
downside to this is that this web
control or web yeah web control was only
accessible on the server you couldn't
really do anything with it on the client
unless you use some jQuery magic or
whatever so that wasn't really ideal
either and of course the jQuery era
spawned many reusable components also
known as plugins but the downside to
that was that you still had to manage
your name spaces yourself you have to
apply good practices to make sure that
it worked in someone else's website and
someone else's Styles wasn't overriding
yours and there were no no conflicts and
events being thrown stuff like that web
components will make that easier right
if you're still suck in one of the first
two slides like the Java flash era I
feel very sad for you kind of like the
kind of like guess person but all as
well enter the era of JavaScript
frameworks where things became even more
complicated who here has worked with
angular before ok a couple of hands good
this is an angular example angular also
has a notion of reusable components or
as angular likes a column two-way data
bounds isolate scope transmuted
directives that sounds like a lot of
made-up words but they're not actually
so let me run you guys through this real
quick we give a name to our directive we
restricted to an element to tell the
browser that this isn't this is an
element exactly we use transclusion so
anything within that tag is accessible
to our components we specify an isolate
scope so no other component can
with it this minimizes collisions of
events and other variables and things
happening you need a template for in
this case template URL and a linking
function where you can do stuff with
your element and your attributes this is
where we apply our jquery magic usually
on to the first piece of the puzzle
alright so the first set of four pieces
of the web component specification is
HTML templates think some of you are
pretty familiar with the concept of
templates so now we have a specification
for it great so what does the template
actually look like as you can see just a
simple template tag you can give it an
optional ID and then you fill it with
some content in this case I get an image
and some common text for a comment
template there are a couple of things to
note with templates they are innards
which means that templates temple
scripts and site templates are not
executed in witches are not download and
the dom is actually not rendered you
don't see it and the second thing to
note is that you cannot reverse into
them from outside so kind of scopes and
so in essence templates are nothing more
but blueprints for your web components
now let us look at a user's example so i
created a function add comments which
takes in the avatar URL some text i
grabbed the content inside the template
i put it with some variables and look
for an insertion point so where can i
add this template to and this is where
the magic happens all you have to do is
actually clone the content of your
template and then it comes life images
or download script is executed and the
Damas rendered and the primitive that
you pass here in clone load function is
whether or not you want to deep clone or
a shallow upload that's pretty much it
so I think if you hear it that one of
what it looks like it's not going to be
impressive so I add a comment yet with a
random avatar
you can see the images are downloaded on
the fly it was a little bit of a black
network lag here not only the image so
you can actually see that that is
happening and the template is actually
to find here in my slide I'm just
bringing this up now finding this thing
oh here we go here's our template tag
and you can see this cool little hashtag
please don't use it on Twitter and so
it's a document fragment that has the
contents with an avatar and some texts
now to show you we can actually not mess
with this guy we can actually take the
this is a settee so so you can actually
try to acquire select it and you will
see that the result of grabbing like the
IMG tag of this is actually null there
we go we can grab the image from that
template so it's cold so on to the next
piece which is kind of creepy actually
let's uh let's stand in all this well I
was going to say amazing jif by mr. div
but it's almost invisible on the screen
sadly quick shadow DOM is maybe somewhat
of a hard concept to understand so I'm
going to keep it simple and here's the
basic gist of it the shadow Dom isolates
your component markup so no one else can
mess with it your page Styles won't be
able to interfere with the styles that
are defined within your web components
and there is no collision in other
functionality from other scripts and
other components so this basically
eliminates all the good practices yep we
had to use and apply to jQuery plugins
just to show you guys this real quick
this is going to be a quite hard with a
microphone I have a video in here not
because I want to show you guys the
video but to show you guys that shadow
DOM is a very old concept that almost
every major browser has been using for
quite a while if I should go ahead and
expect this video right here you can see
that every video has a shadow root
element this is the element that make
sure that you can traverse in it you
can't apply additional styles to it and
if we traverse this Dom here you can see
all the different components that make
up a video element this is pretty cool
right I bet some of you didn't know that
actually all of these interactions are
also built with web technologies which
is pretty cool and the web components
API now allows us to do that as well as
you can see all of these buttons have a
user agent style attached to them that
we can't modify of course since they
won't let us and just to show you guys
again that we can't mess with this
cannot mess with this I grabbed this
video real quick good works what if we
want an input element in this up to bat
you can you can mess with it which is
good which is what we want so in essence
the shadow DOM is the sandbox for our
component I'm to custom elements all
right the custom elements third piece of
puzzle is probably the most important
parts about web components and I so let
me show you why that is so here we are
this is definition of a custom element
basically you just define the yellow tag
here you give it a name in this case
it's hello world we all know the hello
world right the name must contain at
least one hyphen as the requirement for
web components this is probably do not
allow you to mess with other elements
and then there's an actual constructor
here which is actually used to create
your web component through JavaScript
that's also something you can do rather
than adding the tag to the Dom you can
just create it from JavaScript mess with
it in memory and then actually append to
the DOM and then we have some some
content in our elements it's usually a
template but just for the sake of
brevity it's going to be diff and in the
script Agnes this is where real magic
happens so we get stirred or element to
the DOM and we supplied a prototype
okay now we all know in prototype object
in JavaScript we all I hope you all know
what that does and and then you have a
couple of callbacks that you can use for
your custom elements this is the custom
element lifecycle so you guys already
called back an attached callback a
detached all back and I think a property
changed call back if I recall correct
and basically what this does is these
callbacks get calls and here in the
ready callback for example this gets
called when the components actually
ready but it's not attached to do Don
yet so which is cool because you connect
actually mess with the Dom of the
element is help in Mallory without
actually having to do that extensive da
manipulation and anything that comes
after here is in essence your public API
to your web components so we can do
they're actually query select your app
hello world through jQuery or whatever
and then call the dot announced function
on it which will execute alerts hello
world you can have have many other
functions here and you can do you can
make your component to whatever you want
you can make it dance if you want it so
in essence custom elements are the
backbone of web components so on to the
last piece all right the last piece of
the puzzle is called HTML imports and as
you can probably guess what it does is
it imports HTML only not quite why
imports well every aspect of of web
programming has had its own way of
importing itself there was a link tag or
CSS content we have of course a script
tag tag for our JavaScript content and
now there will be a new tech well it's
actually the same tag the same link tag
that will use import for its rel
attribute to specify we can import this
HTML file as you saw earlier in one of
the easier examples all it takes to use
someone else's web components is to just
import that HTML file and this HTML file
is not just limited to mark up it's not
just limited to HTML tags it can contain
inline styles and even inline scripts
which is essentially the entire web
component that you can import also do
note that imports are subject to access
control if you want to load someone
else's web control from their site they
will have to let you do that and this is
very powerful imagine not having to use
iframes for Facebook like buttons and
the like very awesome stuff now on to
support I was going to wait for this
slide and make you guys like oh my god
so can we actually use this sadly the
answer is nope not right now so that's
why its specification right most for the
most part templates are supported in
major browsers there might be some
quirks some some differences from
version to version but yeah you can mess
around with temples for sure and then
there are custom elements which are I
think only supported in Chrome Canary I
think I should check it out and then
there's a shadow down which is also
pretty well supported and Chrome Canary
again and then sadly HTML imports are
nowhere near supported in any major
browsers so you guys probably all
wondering or you showing you this what
can I do with this you can all do know
there is a solution to this skull
polymer which is in essence yes the
polyfill library for all the web
components specifications that we have
they I do recommend checking it out
there will be a you as a veg team of
five events all of a polymer April
thirtieth will be there and I hope some
of you will also be there to attend that
awesome meter and just to whet your
appetite we actually went ahead and
created it sorry basic polymer web
component Peter how are we on time ok
we're doing great Charles is gonna show
you a
small example of a lot component okay so
let's see what a polymer component looks
like i'm going to show you guys what
I've built first so let me pull this up
so what I've built in like 120 lines of
code is this very easy like X album
component is what it's called and I have
a very nice selection of Belgian music
here if you hover over it it's a cool
transition make sure this is not too
loud if you click it of course it just
plays the audio does it oh there we go
so what we're doing is we're streaming
this from SoundCloud some cloud servers
please don't tell them we're doing this
and this is the index file this is all
that you're seeing here we have our X
album component right here it's a big
enough okay we have our album component
here that has a title and author a cover
obviously and the link to the audio file
that we're getting through soundcloud
let's have a look at the implementation
first of all you need to import a
polymer core file so we can basically
polyfill everything that's necessary to
display our components i'm using a nikon
fund for the play and pause icon this is
just a nice fun because i think it's
better than re all or whatever and what
we do is we define our polymer element
with a name are called x album and these
names have to match obviously and some
attributes that we're defining that
we're going to work with later i have a
bunch of styles in here not very
important so i imagine you all know how
to write CSS this is our template
basically oops we have our album class
we have titles if we hover over it we'll
see a nice summary we have a cover and
overlaid with controls a play/pause
button that has an ID so we can
reference it a image and we're using a
mustache style templating we have some
meta info like author or title and then
eventually our audio element
so we have one audio element for each
each components it doesn't have the
controls attribute that means it's
invisible in essence let's have a look
at how polymer works first we define the
polymer we access the polymer class and
we have to make sure that whatever we
call it matches the name of our polymer
element right here and asthma he'll
explain earlier we have a couple of
functions out of the box part of the
custom element life cycle we can go
ahead and use actually in leverage ready
means the component is ready but not
attached to the Dom so this is where we
want to do everything why because
messing what Saddam is very expensive
it's usually single-threaded unless
you're using Firefox this new new new
engine so you don't want to do that you
don't want to always insert DOM and mess
with the attributes itself you want to
do this in memory and then after
everything is done you want to attach to
the Dom which is way way less expensive
so what we do is define our play pause
button here we're using some polymer
syntactic sugar this is polymers way of
accessing elements by ID that we define
here and we attach an event listener
like we always do so if we click on it
it call self-doubt play pass which is
this function grabs the audio if it's
passed you play it otherwise deposit and
which web we swap a few classes just to
make the icon change from plated pause
and to show you guys that wasn't right
no it is right to show you guys that all
of these components have their own
public API I'm going to zoom in on this
really
ok this is this is better we can
actually go ahead and select the very
first course lecturer the very first X
album element ago and we should be able
to call play pause oops so good typing
there you go you can play and pause it
using its public API thank you all for
your attention</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>