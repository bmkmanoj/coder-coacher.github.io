<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>An Introduction to Backbone.js | Coder Coacher - Coaching Coders</title><meta content="An Introduction to Backbone.js - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>An Introduction to Backbone.js</b></h2><h5 class="post__date">2013-02-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/PcTVQyrWSSs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">introduction to backbone tonight a
little bit about myself my name is Syd
Maestri and I am the platform evangelist
for stack mob and the reason I mentioned
that is because I always like to find
out whenever I speak how many people
have actually heard of stack mob so show
of hands have you guys heard of us
before Wow it's getting better at these
meetups we actually host a few meetups
we've hosted the html5 group over at our
offices and I try to get around and
speak at conferences and events and and
so for those of you who aren't familiar
with us
we provide back-end services to help
mobile developers build their apps more
quickly we have this really robust
secure flexible API and we give you
these really easy-to-use SDKs to talk to
these api's and why do I mention that
because we actually use backbone.js as
the foundation for our JavaScript SDK
and that's was actually fortuitous
because I really was looking forward to
learning backbone so when I joined the
company it gave me an opportunity to
learn it and and I found the
documentation was a little bit you know
I won't say it was hard to understand
but sometimes when you're given a full
app and you're looking at it it's a
little bit challenging so what I've done
is I've broken it down into its
component pieces and we're going to look
at each of the pieces and then we'll
sort of stitch them together in the next
28 minutes but I couldn't start the talk
without mentioning that this is the show
down the thunderdome three frameworks
enter only one leaves now this
I'm completely joking I would have my
ass handed to me I'm sure in that sort
of matchup I'm coming at it from the
developer point of view I'm not a
contributor on backbone I'm a user of it
and so I just wanted to put my little
slide up there because I thought that
would be fun so real quick agenda we're
going to be talking about the what who's
and why's models and collections views
and template
router's events and then if there's
enough time just quickly show you how
you can leverage stack mob to actually
put a little data persistence behind
your backbone application so what I
think most of us here know what backbone
jeaious is it's a model-view-controller
framework it's for JavaScript for
client-side and for building richer
client-side experiences a lot of it is
data-driven so we've got these models
and collections that are helping to
update our views and give our users
these great experiences without having
to render it on the server so why do we
want to use a framework like backbone or
one of the other ones that are here
tonight three basic reasons add better
structure to your code especially if
you're working in teams being able to
reuse your code don't repeat yourself we
all know that mantra and having a
separation of roles and concerns between
our models and our views and letting
them know what's going on or not letting
them know what's going on depending on
what role they're playing the who so I
include this slide because I think it's
it's good to know who's using these
frameworks just to kind of get an idea
of the question of can they can these
frameworks be supported on large
projects and I think by looking at some
of the names up here it's pretty clear
that that backbone has a strong
community and also has a lot of large
applications being built on it and when
I mentioned community I also want to
just mention that backbone has a lot of
plugins a lot of people who are building
extensions and doing things around
backbone so that was something that
actually initially really drew me in I'm
a big fan of jQuery and I love the
plug-in architecture that jQuery built
upon and it really created this
ecosystem that as developers can
leverage for the apps we're building so
if tonight isn't enough for you there's
a the MV star is what I like to call it
the because these aren't all strictly
model view control
or patterns but they all sort of fall
into the same family there's other ones
that aren't here tonight there's lots
that you can explore one way that you
can explore them if you haven't been to
the to do MVC project on github this is
an open source project where you where a
lot of developers have built the same
to-do app in all these different MVC
frameworks for JavaScript and it's a
nice way for you to get a feel for the
different approaches they take and I
think that's important I think not I'll
put it this way the shoe doesn't fit the
same for everybody right and these
different frameworks come with different
opinions and come with different styles
and finding one that fits you and
finding the ones that fit the project's
you're working on I think is important
and so I'm happy everyone's here tonight
to get a taste of these different
frameworks and maybe help you make a
decision in the future which one you
might leverage so I've got a little wine
app it's kind of like a to-do app I
guess you could say and this is what
we're going to be working towards
tonight as I'm building the different
pieces for for this app but before I get
into that I just like to touch on how
backbone does its MVC pattern because
it's not totally traditional but
essentially in MVC we have a view it
might have a button on it we might click
that button that button button might
submit a form the controller might take
the data from that form and then save it
into our model and then ideally what's
going to happen is our model doesn't
talk to our view but our view is
listening for changes and when it hears
a change in the model it then says I'm
going to redraw myself I'm going to
re-render myself and so that's how we
separate our models and our views and we
don't want them directly talking to each
other but we do want our views to be
listening for changes in our models and
collections and and re-rendering
themselves so when you add
phone it does have some dependencies
you're going to want to include jQuery
as well as underscore those are both
dependencies for backbone and I want to
start off talking about the model and
the model is the data behind our
applications that's our object our
entities
anybody have a guess we've got a theme
going on here we had the thunderdome and
here we have the matrix we've got for
our our model and when we define a new
model we essentially say some some
variable wine is equal to backbone model
dot extend now there's additional
options we can add in there but that's
the real basics that's that's all you
need to to declare your model and then
in the next line of code we're doing
first wine equals a new wine and then
we're adding some properties in there in
this case we're adding a name and we're
saying Clos PAGASA
so I like to actually see code when a
whenever I do presentation so here I've
got my model and when I click in there
we get a big white screen because our
model is just data there's no view
created yet but if we wanted to see what
was going on behind the scenes we could
say first wine and backbone has these
nice little helper methods like to JSON
where we can actually take the object
and output what its values are as a JSON
object and if we open it up we can see
we have just one property name and it
says cloaca gasps backbone also has some
nice getter and setter methods so if we
wanted to we could say I just want to
get the name property out of there so we
can say first wine dot get and then pass
in whatever the property is we want to
get and we can also do first wine set
and we can put in our name whoopsie
Shh
type lightly yeah all right I'm going to
type out the whole thing so if I change
it to Robert Mondavi now if I go and I
get the name it's going to come back as
Robert so so that's that's our
collections or our models in a nutshell
the next thing that we want to
understand about backbone is collections
so this is a collection of Star Wars a
very small digression
so last night I think I had the most the
proudest moment as a father so far I
finally got to watch Star Wars with my
five and seven year olds they're both
girls and they've been fighting me since
they were born because they want to
watch princesses and I got him to watch
Star Wars and I told him about Princess
Leia and they were like really excited
so at the end they were asking all kinds
of questions like what happens you know
when does when does his dad die anyways
they kind of know they know all the
secrets though it's kind of horrible but
I'm looking forward to seeing the other
movies with them so collections that's
my that's my digression so now we want
to create a collection and so to create
a collection we actually need a model so
we need our sort of our blueprint our
entity for our collection which is going
to be an array of models so all you do
is you pass in the minimum values here
are the name of the model and the URL
and the reason we need to set our URL is
because backbone wants to be restful it
wants to have some sort of restful
endpoint on the back end where it can
save its data and and so I'm just
putting it in pound signed in there
because I don't have any back-end server
that I'm going to be talking to but if I
left that out and throw an error for me
so that's our minimum model and if we
wanted to initialize it we could
actually initialize our model and pass
in multiple JSON objects and then
actually display that in our console and
it would you know output those two those
two wineries
but where it gets interesting is when
you start looking and you see oh we can
actually loop over these collections as
well so if I wanted to I could take my
wines and I could say for each of my
wines I'm going to call a function and
pass in one argument which will be that
particular model and then I can do model
get name and actually display that or
maybe render some HTML on my in my
application so for collections here
I'm going to know actually based on our
timing here I'm going to actually just
skip over the demo part because I don't
think it's that interesting and skip
over to views any James Bond fans out
there I don't know this may have been
one of the worst ones but but anyways I
had to I had to keep with the movie
theme going here so we go for define so
now we're going to actually define a
view here and this is this is our view
it's our home view and it's backbone
view extend and nothing else I'm not
passing any additional arguments I'm not
doing anything else with my view and I
think this one is worth seeing because
this is where we actually got on line
visits here where we actually see
something that I was a little bit
stumped when I started working with
backbone and that was how was it drawing
my view how did it get on to my page
because it wasn't really clear when I
was reading through these full
applications and that's because I didn't
understand what this little al was all
about and this is the element property
and you'll notice in my code on the
previous screen I didn't declare an
element I didn't tell it to be a div and
that's because backbone does that for
you by default you can set that element
to anything you want you can set it to
be the body tag if you
want but it's sort of like an empty box
and if you don't declare it that empty
box is going to be a div and whatever
you render for that view will be shoved
inside that box and so that's something
that you I needed to kind of wrap my
head around when I first started getting
into backbone as well as the fact that
there's a dollar sign al as well which
is your jQuery version of this element
so you might want to take that element
and append something to it or remove it
or do something with that element so
having that jQuery version there ahead
of time
is really helpful and so here we get
into rendering so the render method is
going to be called you can call it
manually or you can have it called when
your view gets initialized and so in
this example I'm saying this element and
I'm going to append some HTML and then
I'm going to return this and so here I'm
adding that initialize function and so
whenever the new instance of my view
gets created it will call initialize and
it will say this dot render and then it
will actually write out that it will
actually create that HTML element for me
so I go back and if I initialize and
render I'm like cool it initialized and
rendered but hold on a second let's go
here
create a new home view here so there
I've got it initialized it rendered it's
not on my screen though so so what's up
with that what's going on with my with
my element let's check it out so we can
actually go in and we can see ok so my
elements there it's rendering well the
problem is is that I didn't actually
tell it to append it to the Dom anywhere
I didn't say now append this to the body
or do something like that and so it
would be really easy for me to to change
that by just specifying that the element
is going to be the body and now when I
do that it's going to actually render
into my body here so there it is it's
been rendered to my body and now I know
that the wine app element is there and I
just want to see what happens here oops
I call render again and the reason I
point this out is because if you're
getting started with backbone and you
haven't played around with it yet you
will probably encounter this at some
point where things are getting rendered
multiple times and you're wondering
what's going on here I didn't tell it to
draw that 4 times onto my screen and
that's because sometimes our render gets
triggered multiple times and often it's
because we forgot this this item right
here in blue where it says this dot
element empty so I'm appending it to the
body and if I didn't empty the body
first before I rear-ended it into that
element it's going to just keep drawing
it again and again into the body so I
was emptying at first and then appending
it and I just want also mention return
this this was something that again when
you're brand new you may not be thinking
about but when you render something and
then you say return this what it allows
you to do is then chain methods and get
access to properties inside of that
method so I could actually render my
view and then say dot DL and then after
it's been rendered pull that element out
and do something with it
so it's important to have that returned
this included in our render method and
so now we get into something that we're
going to see that we see a lot
especially if we're doing mobile apps
and we're doing things that are data
driven with lists and things like that
is the concept of creating a list so you
can tell it to be a specific tag so I'm
saying be an unordered list and then I
want it to empty itself and then append
a couple list items here when it gets
rendered and if I go a step further and
I combined it with the previous view
that I had started with that home view I
now want to take my home view I want to
render it to the body and then I want to
append onto that body a copy of the list
element that's been rendered and I want
to pull the actual element out of it
that was rendered so there's the
chaining actually in action there that
you'll see quite often in in backbone
apps and I'm going to don't think we
show you real quick we're getting close
in through this so here boom it renders
there's my app says hello goodbye
nothing too exciting there and now we
get templates are the replicants are the
templates I know I'm stretching the
metaphor here with my movie posters but
a big fan of Blade Runner
so templates you can use different
templates with backbone j/s I choose to
just use the one that comes with
underscore because I'm just building a
lot of demo apps for stack mob and and
underscore works for my purposes but for
those of you who want to look at other
th TM or JavaScript templating engines
there's mustache there's handlebars and
those all work with backbone but for the
syntax for a template using underscore
you simply declare a script tag I set it
to a type of text template and then
anything you put inside of that angle
bracket % equals whatever value you put
in there that becomes a variable that
you can then substitute values into and
that's exactly what I'm doing here
when I initialize my ListView I'm
grabbing the HTML that's inside of that
template and then I'm going in here and
I'm appending it to the element saying
this template and I'm passing in a JSON
object and the only value I'm passing in
is hello backbone and then now we sort
of see things coming together we get the
collections where we have a collection
of wines and we want to loop over each
of those wines and when we loop over it
we're going to pass in our model which
I'm calling wine is our 1 argument and
then I'm doing an append to the current
ListView element I'm taking the template
and I'm passing in Wyandotte to JSON
which is the JSON object for that model
if I go into templates here there I have
I'm actually creating two wine models
and adding them to a collection and then
when I hit this view it's actually going
and rendering those out for me and the
last part is is a second last if you
don't count events is routes routes our
way of maintaining State and this is
something maybe I didn't mention the
beginning is that a lot of these things
are optional meaning that some people
just use the models in the collections
in their projects some people want to
use the full stack of what backbone
offers routes is just a way of
maintaining state I do a lot of work
with jQuery Mobile and you have a choice
jQuery Mobile has its own way of
maintaining state or you can disable it
and use backbone to to handle your
routing from one page to the next or
from one view to the next so when you
want to start a new route you put it in
your document dot ready method and you
say wine app equals new app router and
then you can set it to start the history
so it'll keep track when you go forwards
and backwards in the browser and this is
an example of what some basic routes
might look like I have the Home route
which is just the forward slash I have
an ad and have a close and essentially
all I'm doing is I'm saying render the
view for for each of these routes if I
go the home render the home if I go to
the ad render the ad view to look at
that and so now we get into this concept
of fragments because when we think of
views we don't want to think of views as
the whole browser screen we want to
think of anything can be of any visual
element can be a view a form can be a
view a list on the left side can be a
view a button can be a view itself so
all these different things can be your
views and you can load them dynamically
using routes
and so here's my route I come over here
I click on add new wine and it brings up
my form and if I hit cancel it's going
to go back to my home and it's not
reloading my whole page
it's simply refreshing it's just
reloading the view inside of this part
of the page based on the CSS class that
I'm targeting so I don't know if this is
if I'm at the right part of the demo
here but if I say add nope we're not
there yet that's the last piece here
events so when we get to events we can
do a click event on the add button and
we can create our own custom function so
we can say when you click on the add
button call this function and here I'm
just outputting the value of the form
here I've got my I'm going to bring it
all together this is my wine I'm going
to set up a my wine model create a set
of new wines and then in my add method
I'm actually going to say wines dot add
new wine so I'm actually going to grab
the value out of the form create a new
instance of the model pass it in as an
argument into my collection and say add
that and then clear out the form and
then on the left side we're actually on
in the home view when I instantiate my
ListView I'm going to pass in my wines
as the collection again this was
something that took me a little while to
kind of get my head around is that when
you're creating your views you can pass
in a collection you can pass in a router
you can pass in a model and then you can
go in and use those later on so here I'm
rendering my ListView into my home page
and then this is the real key inside of
my ListView I actually am binding for
any events that happen on my collection
if something is removed if something is
added to my collection I then want to
rerender this view this ListView
and so here's the last one I go in here
I say add a new wine and I can say to
say hello and I can say add it adds a
new one over there I say goodbye and it
adds another one over there on the left
so it's updating the view it's going
back and forth and I actually went ahead
and created an example here with stack
mob on the back end and when I go in
here it's trying to retrieve the wines
but the wine table doesn't exist yet so
when I go in and I say hello it actually
goes off to stack mob and it creates a
new schema for me based on what
properties I've sent it so now if I
click on hello
it will repopulate the form based on the
model that I'm passing over to it based
on which item I've clicked on and you
can see up here I've got a new route
called update and it's passing in an ID
for the object I just created
and to wrap things up because I think
I'm running short on time here if you
want to go and download all of these
samples I just walked through and
actually see us a longer screencast
version of this you can go to this bitly
URL free backbone j/s and you can go
ahead and sign up for the course go
through the materials and get a firmer
basis for for backbone j/s I have a lot
more material but I don't want us to run
too late tonight so I'm going to
voluntarily cut myself off and say thank
you so much for listening</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>