<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Video Tutorial: Android Application Development - Spicing up the UI | Coder Coacher - Coaching Coders</title><meta content="Video Tutorial: Android Application Development - Spicing up the UI - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Video Tutorial: Android Application Development - Spicing up the UI</b></h2><h5 class="post__date">2011-01-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Kkoh3gFMKQA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so this is what we left it off
yesterday right so did everyone get
screen like sort of like this and it
sort of worked right you can verify
everything verified it did it actually
worked right by the way if you hear the
little X here as opposed to 3G if it
says X that means you do not have
network connection right on the emulator
its equivalent of your phone not being
connected to the network so this is not
gonna work out at all right make sense
so it can easily fail how would we deal
with if something failed or it didn't
failed what what if we just add a little
feature would we tell the user what
happened let's do that first so because
right now the user doesn't know if it
worked out or it didn't okay so one a
sort of Android way of doing that is to
pop up a little box here it's kind of
like a you know cloud like just comes up
says something in this appears yeah it's
called toast okay
so let's start by doing that so back in
our code
it's called toast yeah back in our code
so this can work out or it may so this
may or may not work out right right so
what I would do if something may or may
not work out what I usually would do is
I would surround that something would
try catch right everyone is that I'm
familiar with a try-catch yeah so what
you can do in Eclipse you can do this
you can select the code right that you
want and you can say source surround
word try catch and that actually figures
out even what exception to catch for you
so see it knows that in this case
Twitter exception is what makes sense
right so now if it worked out I would
like to tell the user to worked out or
if it didn't work out I would like to
tell you so it didn't work out right so
what I can do is I can do something like
this
toast dot make text and now it's asking
us for three things context text and
duration we haven't discussed what
context this but context basically
represents you the current application
context each application has its own
context roughly a context is your app
okay so because each act is gonna have
its own sort of set of data and
visibility and a way to share stuff all
that makes context right so typically if
you are inside of an activity or a
service which is what we are mostly
working on anyhow context is gonna be
simple as this that's because both
activity and a service are subclasses of
context so you can just pass this as the
context and it knows that it's this
activity or this service with other main
building blocks such a broadcast
receiver and content providers they are
not is their relationship to context but
context is readily available so will
will you know worry about that when we
get it okay but for now just so you know
that this refers to the class itself
which is in inevitably inherited from
context okay and now text text I could
do one of the two things I could say
message posted successfully right that
would be one thing or I can refer to a
resource which would be the more proper
way right because if I do it like this
I just hard-coded this forever
and even people in Japan are gonna get
the English messages and they're not
gonna understand so what have you the
better way to do it yeah so it'd be
better to actually open up resources
open up your layout also not let values
and then strings and then you can
quickly add a new string so I can create
a string name equals you know say MSG
status updated so success fully
something like that and then since we're
going to have the one for not successful
I'll say
I'll create that one as well so I just
created cue new pieces of text right and
this may look like extra work and all
that but you guys understand why we're
doing it just to kind of do things
properly they probably we're gonna it's
up to you right we could print out that
but it's probably gonna be critical to
the user so I'll print out the actual
exception yeah so I mean the user would
not understand the actual exception yeah
we would need to translate it for them
into a plain English to do it night to
be nice so Aaron got some kind of piece
of text it doesn't really matter you can
use your own names right it doesn't have
to be then it's just to mess to pieces
of text so then if it was successful as
opposed to card coding it here then I'm
gonna as opposed to doing this I'm gonna
point to it by saying our dot string dot
and there's my MSG update and
successfully keep in mind that this is
only gonna be available in R so this is
only gonna be available in R if you have
saved this file so you gotta save this
file first because that causes our to
get updated
so far so good
yeah and finally it's asking for a
duration the duration is an integer what
do you think it mean it means yeah how
long to do it and you said seconds
milliseconds well you I would expect it
to be milliseconds because a lot of Java
stuff would be milliseconds but it's not
okay so that's what I kind of wanted to
point out because it's it's not what you
would expect it to be in Java typically
when you have something like this you
would in assume it's in milliseconds and
you would put some like I don't know
10,000 to mean 10 seconds right exactly
yeah and it doesn't yeah if even if you
mouse over it the documentation doesn't
instantly tell it's not very detailed so
in the past they used to think its
milliseconds I'm like why is it not
showing but it's actually a constant and
if you have one of the two values length
long or lang short okay so I'm gonna put
length long yeah and that's one of the
reasons why it's actually good at wise
because you can't have a son because you
could have something a service and a
background process actually throw a
toast and actually show something at the
user over the user application so as
such you don't want the third-party
services to like suddenly take advantage
of that and start throwing stuff on the
user screen right so a way around that
is to basically make toast only allow
either very short or you know short
lengths which they call long but long is
not very long yeah and that's why it's
supposed to be a small little message
that just pops up and goes away em okay
so it close my semicolon and you would
it looks good right like you
thing that you are done except in except
you would run this and nothing would
work and it's a little confusing it's
hard to figure out why is it not working
everything will obscure it encompasses
cetera but you still need to say dot
show for it to actually show I don't
know why API is designed that way but
that's how it is it maybe maybe it's
maybe it's like that yeah maybe we can
make up make it up and then show it
later on yeah you're right
and I'm gonna control shift F to
reformat it so that everything fits on
one screen my god so so you guys can
actually see it right see oh it needs to
be toast dot okay I'll take a look at it
but if you guys did this one go ahead
and do the same one for when things went
wrong right so the the catch part
Oh
yes
yeah
are
so everyone everyone got that and then
I'll reformat it so it fits in the same
page so when we run it when we run it
now if I say testing toast or something
you should actually report that click on
update and then it says status of it
successful so that's the toast and then
it disappears and then if I click on
update again it should say fail status
update failed because I'm trying to send
the same message twice right so everyone
got that
any questions very second okay let me
know when if it persists when you
restart it any anybody else so is
basically are asking for a dialog like
pop up any wait for you yeah
so there's a dialog that's that's a
different kind of widget but yes there
is a way to do that
I know it doesn't make sense to waste
right so this is the hint so the moment
I start typing hello King hint
disappears if I wanted to put some pre
typed in text like HTTP well like yeah I
could I mean I could have cats text here
and then the you know right I mean
that's that's easy enough cuz you only
have to do is in the layout as opposed
to using the that's how we had it
initially let me just do a quick and
dirty conversion but as opposed to
having the header the the status the
sorry hint I could have changed that or
overpowered it bicycles you know say
it's HTTP colon slash slash right so
there it is so now if you run it right
again I should have put it in a separate
strings etc but this is just a quick and
dirty version so there it is now I can
say you know google.com for example
right that's what you asking for it yeah
so you can put some pre pre typed in
text that's not a big deal okay so once
in a while you may you may think that
you killed an emulator but you didn't so
you know I'm gonna Mac so I can do PS
grab for mu right emulator and I can see
if I have PSA X okay grab emulator and I
can see if there's an emulator running
so it's possible it's possible that you
have an emulator process as a zombie
right so you know in Windows go to your
boat every two tool-using windows task
manager or something look for processes
kill anything that has to do with
emulator shut it down normally as well
and then about what might have happened
is emulator died without cleaning up
behind itself so
you remember you guys in a mule eater
files are in CD dot Android a BD right
and then we're going to particular like
for example my phone ABD and this is
where the files are so if your emulator
died yet it it kept all locks on files
right then when you start it it's gonna
say hey that amulet is being used by
somebody because the files are locked so
you could either you know you could
delete the log files or or you can just
delete the whole emulator the easiest
thing just blow it away create a new one
because you got nothing like it's not
like you hear a data in it and stuff but
if you want it to nicely clean it up you
could go here and you can just RM star
lock right and just remove the locks
right but right now you have an emulator
it's not starting because it thinks that
something it's already running it's
addressing that because the process
exists or it's finding log files which
the previous one did not clean not
properly so can you hear multiple
emulators the same time certainly you
can have multiple emitters at the same
time but they have to help to different
user IDs user images so for example I
can create a second emulator right my
phone - I'll pick you know to go with
Android 9 and I'll call it my
gingerbread actually there you go I'll
put some size 10 I'll pick some
resolution I'll go with a default
resolution and I'll click create and now
I have my second phone and I can start
it as well and I can have two phones
running so you're gonna see very shortly
that see I have two processes it's
coming up so there's one and then
there's my second phone right so yes I
can have two separate phones certainly
yes you can have you can't yeah exactly
you can have two of the same I you know
phone sharing the same user ID user
image because that's you know then
there's a conflict it's kind of like can
you have two phones sharing the same RAM
physically it's quite impossible
so yeah yeah so it seems like a lot of
you guys are carrying phones through the
our file so our file is is generated
automatically right but if you remember
our is generated after after this is
processed so our is based on this okay
based on XML so the problem would be our
is that if there's any problem in here
then our cannot possibly be created okay
or in here and the problem with that is
that XML problems are somewhat harder to
find sometimes because they're not
zombies right so here is a let me let me
demonstrate that so for example if I I'm
gonna blow away my are I'm just gonna
delete it I should be able to do that
right because it just gets recreated see
just automatically got recreated right
that's not a big deal
however let's do something like this
what if I have a typo here I don't know
I forgot to close something I have a
title here right forgot my quote now if
I believe my are right now I don't have
R but that in turn breaks my Java so
it's kind of like a problem here
propagate itself here propagate itself
here propagate itself into Java so now I
have read all over the place and you
would be trying to solve Java problem
and if you like oh my god that you have
are smitten you know problem slight left
and right in zillion and one error but
it's all same source because you don't
have R and the reason why I don't have R
is harder to find because it it's it's
from this XML file right so you gotta in
in that case the best
hint the best sort of hint for you is to
read what it says in the console in a
parse exception value for constraint
blah blah blah you know
so in these are not as friendly error
messages right so but you would kind of
kept luckily the falls are smaller so
you would go here and you have to
eyeball that's a problem so if I fix
this get saved now magically all the
problems disappear right so and so this
was one example with the xml problem
another example with an xml problem in
getting to your particular case is you
try to run a here and you click to run
on a xml file for me it worked but
sometimes you accidentally try to run an
xml file you're thinking i wanna run the
project but your file is selected and
i've seen this happen in what happens is
the result of that obviously you can't
run an xml file but it creates strings
dot XML dot out
well that file is illegal filename for
resources a dot out file and that messes
up resources which messes up are which
messes up Java so just go ahead and
delete that file it's sometimes what
happens is when you try to run here when
I try to run an XML file it it fails to
run it because you don't run an XML file
we wanna run a project but while it's
failing to run it it creates an output
file you know sort of to give you the
output of your execution and that file
gets placed in in this directory so the
bottom line is this folder resources is
sort of special and there's a certain
sort of rules about it like you guys
notice that filenames cannot have
capitals and you cannot have dashes and
things of that nature
right ok so that was it you just remove
that file right
yeah yeah
quite quite easy to happen so that's why
one is a pointed up cool
so there are my two emulators I have put
it oh by the way this is this is what it
looks like in nine I've never seen nine
yet let's see the stuff the bar is
different right the top bar it's black
Sam yeah this is the barebone Android
Open Source Project version 9 yes
cool so with that let's do let's do
something Oh more fun so yesterday you
guys did a lot of stuff around UI we
talked about some some stuff but this
still looks a little bit of it and I
want to make it look prettier and at the
same time explained couple of new things
so a couple of new things that were
gonna add to the to the mix first of all
let's talk about colors so in background
so for example I would like to spice
this up I would like to make it look
nicer okay so to do that what I would
like to do is I would like to for
example put a background image for this
guy so it's not black but that I'm using
some kind of background okay and you
know you could do let me see I I could
for example go to Google and say twitter
twitter and I'm gonna do Google Images
like this and I can find some kind of
graphic that I like okay yeah I would
want a PNG file PNG because they're just
better supported so let's see what you
can find
this app and your phone
okay so this is a little file it's got
some birds yeah so what I can do is I
can now save this image into my project
but which directory will they put it in
yes it would go into resources drawables
but we were right but so it's in
resources but it would go into trouble
now here's the thing I have three
drawable directories not one I have
three so which one so they could spawn
two different things
low medium and high density yes but what
if I mean I for now hmm what's that
which term which picture don't worry
about it you're gonna have time to find
some picture it doesn't really matter
but so for now I'm just gonna show you
how to do it so the thing I want to
point out is that we have three specific
directories drawable high medium in low
density frames right so I could go ahead
and find three different images that are
high medium and low density I just don't
have time to do that so what I would
like to do is I would like to just have
like one set of images for now so what I
can do is I can create a default
drawable directory which is basically
gonna be a drawable without any dashes
right just like remember yesterday we do
that for layout - land and values -
spanish-mexican right so if you do not
have anything that is qualified then
it's a default right so I'm gonna create
a new folder and I'll call it drawable
right so that it's gonna be you know
it's gonna be the same level right so
now if these are specific for high low
and high low and medium right but then
this one is generic right make sense now
also let me say do this and
show you the problem so I did that I
drop some image I'm gonna quote here I'm
gonna click on refresh because Eclipse
doesn't know that I did that
however I broke things now right it's
one of those hard to find errors you
know I just gave a single X here what do
you think went wrong
yeah the file name is invalid and kind
of it says here resource drawable how to
get more followers on Twitter dot PNG
file name must contain only a z09 an
underscore and it doesn't like the - is
any idea why exactly because think about
it whatever it was an RTS file is
eventually gonna be something here right
so imagine that there's gonna be a
drawable that has a name you know
something like this Bob I can't that it
but it's gonna care about dashes in the
name which in Java would be a - right so
that's why so I'm what I'm gonna do is
I'm gonna rename this file - I'll just
put in Amite - something simple
refactoring name - background back
ground got PNG and there it is and now
everything's fine it compiles yes sir
yeah yeah you can you could have just
found some image here and and then just
drop it into eclipse and that would you
don't then you wouldn't have to refresh
Eclipse yeah so so now so now that I
have that image what I can do is I can
go into my status thing right and I want
to make that image the background of my
entire thing right but how do I do that
how do I make the background the image
background super charming do I want to
make it background off the layout so how
do I now click on that layout exactly
see right now I can't click on the
layout behind it because all the
children are sort of on top of it right
that's sort of why it's helpful to get
this because then you can click it here
to select it otherwise I would have cart
I'm selecting it because everything is
on top of it right so far so good so now
in properties I can go in the background
click on the dot dot and under draw a
ball
pick the background and there it is see
my little you can see my little um birds
there
so so go ahead find some image you like
you know
so go ahead find some image you like and
put it in your create a new folder and
put it in that folder yes
it says what it could be that it's not a
PNG image that could be a problem
yeah it could be that just the extension
is wrong so let me see if I like I like
let me see this one so let me let's
let's if I wanted to drag and drop it so
for example I have this Twitter dot PNG
image so what I mean go ahead just
Google Google in image you like right
and and then you can literally just let
me where is it that which I found at
home alright so here I could be able to
just drag it and like this and drop it
into my drama I can't I can caught the
copy image and then go here and paste it
you know face cleaver okay so I guess I
gotta save it first you know saving
images and then I can drop it into that
dropping that's right
Twitter BG yeah and then I can refresh
it here refresh and there it is and then
I'm gonna change my background again so
I'm gonna select my background I'm gonna
go here and pick the different one so
Twitter BG and bam there's my body there
okay so go ahead and do that you get
find some kind of image and putting this
your background
so notice that when you the file name
here is dot PNG but notice that when we
refer to it so when I go when I say God
I need to go to outline to select this
one and when I refer to the there's no
dot PNG in the background yes yeah good
question on Ubuntu the load dot dot dot
doesn't work so you guys kind of have to
type it right so it's gonna be at a draw
a ball slash and then the name of the
file without the extension right so
that's what it's gonna be
and when I run it this is what it looks
like for me right now hey this is new
and nine there's a cursor see yeah
that's gonna call so I guess this is a
transparent I pick the transparent PNG
so that's why it's black on in the
background right but well we'll fix that
you guys remember how I said these are
these direct everything on the resources
is special okay there are some rules
right so if you have images they go into
a drawable folder that would be the
default drawable folder if you want a
specific kind medium or low density it
must be drawable - hdpi - ldpi - blah
blah if you want french-language
it must be values - FR if you want
Spanish in Mexico it must be values - es
- are MX so they're certain
rulz a naming convention about these
folders right that's remember we talked
about alternate versions and I said if
you not sure how to construct that
special name you can use that little
tool for example you know the low at
plus tool so I can forgive I want to say
I want background for in night mode
right when it's a night so dad's gonna
create certain I guess it doesn't you
know or orientation is landscape that's
gonna create a certain folder I guess it
doesn't create it doesn't do that for
aha
it's not for them I gotta select what it
is so for save values let's say I have
strings.xml right so you can see how it
would create a specific naming so the
names are important because they are
here to CERN naming convention yeah so
so that's why draw bone must be draw
about that and then you can qualify it
with one of the qualifiers but must be
an approved qualifier a qualifier BG
doesn't doesn't mean much yeah cool so
did everyone get this sort of they don't
kind of get an image sort of showing in
the background like that yeah yeah in
this case it says it setup the image to
kind of match the disk so you can kind
of see how it's resizing it right for to
kind of match which text box yeah so
well-well address the growing of the
image called that happens in a second
but for now let me just kind of address
something else like right now see the
one of the problems is that and again
keep in mind that I'm picking the
cosmetic examples to show you some other
stuff you mean
not agree with my aesthetic choices
right but that's more just to
demonstrate certain things so for one I
would like this to not cover this
beautiful bird that I have in the
background I would like to see a little
bit of the birdie right so in plus you
know I would like to change the color of
this box so just like you can put a
background to be Eric a drawable a
background could also be a color so let
me demonstrate so I'm gonna select this
this text area I'm gonna get rid of that
hd3 stuff so I'm gonna select the text
area and just like before I'm gonna find
background and there it is right and in
in what I can do is I can put in RGB
color here's everyone familiar with RGB
without getting blue so you know for
example if I do f00 so that would be
very red it doesn't look very red in the
mine on the screen right so because it's
you know F is for red green and blue
right so I could do like C zero zero
then it's darker and so on and so on
right make sense so let me let's say I
want to do some kind of bluish so I
would do zero RGB so 0 0 F would be a
blue color right something like that yep
exactly
so so there's a short form so if I do 0
0 F let me do it like this if I zu 0 0 9
F okay that is the equivalent of 0 0 9 9
FF it's just a short form so if you do
only 3 things it just doubles it right
yeah it's the same thing so I just just
because I it's it's a web-safe colors so
for me it's easier to think about it in
here yeah but there's one thing that
Android adds to this and
that's the fourth color which is the
alpha channel so you can prefix this
with the Alpha Channel so it that
specifies how seat or opaque something
is so for example if I do a seven so you
go now I can see a little bit of a bird
the closer I get to 2f the the more
solid it is the closer I get to zero
let's say three the more opaque it is
right so see now I can see the bird but
they can also see the parry on which to
type okay so that's what I kinda wanted
to show you so feel free to now
experiment with that with that right so
pick up you know create some kind of
color like six zero nine F gives me you
know it's decent
so looking right so I have the image I
have the background but it's kind of
see-through around it okay and another
thing that you can do if you want to
like do some cosmetics on this you can
put a you can look at padding and
padding for property right and margins
so for example if I wanted to to pad
like between the elements it put ten so
I'm not padding but layout margin I
could put ten D piercing like that and
this case just was here but for example
for this element I could do up I could
pad it a little bit and if you so they
see how now it's moved the text inside
from the from the edge
I could put a margin on it as well ten D
P and now it made it like that so it's
not like all the loads to the corner
maybe sixteen
yeah so try to experiment with couple of
minor things like that and and see what
you what you get so we learn about the
colors the Alpha Channel right and and
the margins of the padding so say you
guys generally getting how this works
all this stuff yeah so in this case for
example I picked a I picked see how am I
my theme here is a theme dot light right
and and that's why it looks like this
but if I just get the regular team it
would actually look like that right make
sense so what if I actually wanted to
apply a team so I can apply a theme on
my on my on my activity in our entire
application what the team what the team
is is basically like a CSS file in HTML
so you can apply to the entire set of
applications right so everything looks
consistent so if I wanted to apply this
team that already exists I would go into
the manifest file and stab so I'm
applying it to the entire application I
would say I would say something like out
point or theme now since I don't have a
theme myself I'm gonna point to a theme
that is already provided by the system
so one of the built-in themes so just
like we can have our own resources
system has its own resources
tiyanak so the only difference is then
that you say at Android column string or
style in this case slash theme dot light
right so basically this keyword at
Android column so adding Android to it
makes this point to a system resource as
opposed to our own research yeah exactly
yeah so we're gonna do we're gonna do
that next
yeah so if I do this and now I run it
it's actually gonna apply the theme
light whatever that theme is on my
entire project so it's this should turn
like white on black as opposed to black
and white as opposed to white on black
see so far so good so that's that's
that's how you apply a theme so now that
you know how to apply a theme next thing
that we're going to do is we're actually
gonna create a theme okay so we're gonna
design it
yeah so the system ships with couple of
themes yeah but we're gonna create our
own team basically so we're gonna you
know add some stuff to it
cool
so any any questions and stuff so so far
so we looked at the colors and we looked
at images and how that works
so what we're gonna do next is we're
gonna learn two more things one is hard
to define our own teams and the other
one is how to make images stretch in a
certain way with with a tool called a
nine patch so so those are these are two
things that we're gonna do next so there
I'm good with all this so far any
questions comments concerns so yeah so
what I did here is let me I can show you
this way so if you go into the XML code
and I reformatted so basically two in an
application I said add at Android team
and then Android style team dot light so
themes and styles are basically the same
thing you know when you when you apply
to an entire application you apply it as
a theme when you apply it to a specific
activity you would apply it as a style
so we'll see that later on but so
they're basically the same thing so you
can apply them to an application or to
an individual activities in the meantime
so let's let's take a let's take a short
break and then we're going to continue
with this
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>