<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Fundamentals for Great jQuery Development | Coder Coacher - Coaching Coders</title><meta content="Fundamentals for Great jQuery Development - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Fundamentals for Great jQuery Development</b></h2><h5 class="post__date">2011-03-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/YcylSiDoOio" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">it's great to be back here I spoke in
this room a few months ago at the Bay
Area dotnet user group about jQuery and
have a lot of fun doing that based on
the reaction I saw originally when Bruno
asked upfront how many people are new to
jQuery this there seems to be quite a
lot of people in this room who have come
really to learn about j.crew they
haven't done a lot of work with it
before they're interested in what it
does and so what I'm hoping to do in
this presentation is give you a good
overview and hopefully highlight some of
the really good features of jQuery but
more so to send you away with what you
need or the things that you know you
need to investigate more to become a
really good jquery developer and a lot
of that comes down to actually knowing
javascript so i'm going to spend a
little bit of time looking at some of
the fundamentals of javascript that a
lot of people perhaps aren't aware of
and then will you will see how that
becomes important when we start using
jquery because a lot of these functions
a lot of these features of JavaScript
are exploited when you start developing
with jQuery and if they're new to you it
can you can't it is easy to get a little
bit lost if you're not used to seeing
JavaScript use in this fashion so
without further ado I'm going to switch
over I don't have any slides I am just
code for the next 40 minutes or so so
first thing I wanted to talk about this
functions now javascript is a functional
language it's it's many things but one
of the things it is is a functional
language if you are a c-sharp developer
or a ruby developer or any other
language that has lambdas or anonymous
delegates or anonymous functions or
whatever your language chooses to call
those things this won't be a new concept
to you but let's start off with a really
really basic stuff so if I declare a
function a function in the root of my
javascript file like this this is what
we all know and love as JavaScript
developers every web developer with
their salt at all knows how to do this
type of thing but we'll talk about why
that's bad later on some of the things
you might not know is that you can do
really wacky things like this so in this
case what I've done is nested a function
inside another function now this is
totally fine because functions are first
our citizens in JavaScript they are
values in their own right I can assign
them to variables I can pass them in as
parameters to other functions I can even
return them as a return type of other
functions so I can do really silly
things like return this function from
that function as long as I close it and
then when I execute foo I can
immediately execute the resultant result
from foo because it itself is a function
and you can see people do very
theoretical things with this and get
really wacky where you basically have
code that looks like this because you're
just forever returning functions and
executing other functions now I'm glad
to say jQuery doesn't quite go to that
extent but it does utilize this feature
to to to some important points later on
as I said you know we can we can pass
functions in so I can have a parameter
like this and then I can write code in
here that assumes p1 is a function
that's fine and if I call foo I could go
ahead and pass a function indirectly
like so now there are two types of
functions that I currently have on the
screen one is a function declaration
which is this one here which is fine as
I said these are the ones that people
generally use and then and you know the
most and then this one here is a
function expression it doesn't have a
name
so it's anonymous it's an anonymous
function expression and I'm just
basically passing this function it has a
raw value similar to the way you would
pass in a string using a string literal
something like this this is really the
the same way of obtaining a literal into
this function I can also have sort of a
hybrid which is a named function
expression so I can do something like
this so now that's an anonymous fight
what's on an anonymous function is a
function expression but now it's named
and there are reasons you would want to
do that we don't need to go into those
tonight but it's important to to note
that all of these things are totally
valid in JavaScript and they all have
their have their uses I want to say
functions because then we're going to
start overloading terms and wait till we
get to talking about this and now I'm
gonna really confuse you so that's a
really basic Internet introduction to
functions let's have a look at objects
so objects i said that javascript is a
functional language and by that i don't
mean that it's useful i mean that it
actually treats functions as first-class
citizens
it's also an object-oriented language
and you know we can get to arguments
about this down the pub afterwards if
you want to but for my money javascript
is an object-oriented language and we
can see that very very simply because
everything in JavaScript is based on
objects now I can create an object very
simply using something called a
JavaScript object literal now I'm who's
use JSON okay so you'll know that JSON
stands for JavaScript object notation
JSON is a subset of what is valid
JavaScript object literal notation so in
JSON you will generally see things like
this where I have my little squiggly
brackets to represent a thing in my JSON
result and then I start I well I have an
identifier called foo which I get I use
a string to do that and then I use a
colon to separate the identifiers from
the value so maybe my value foo is equal
to one don't use a comma and I can go on
and do my next value and I can continue
doing this for the values that re that
are in my object and in JSON we can put
these in arrays as well so I can use an
array literal so I can surround this
whole thing with square brackets like
this and you know even though my
formatting is not great I could then you
know copy this paste it in there and now
I have an array of two object literals
using an array literal to declare the
array in the first place let's just undo
all of that now this is JSON and JSON
says what you can and can't put in this
side of the akan the left-hand side of
these are of these name value pairs but
in JavaScript pure JavaScript object
literals you don't need to have these
quotes here to denote the identifiers
you can just put the identifiers like
such and there are certain identifiers
that you are technically able to use in
JavaScript object literals that you're
not allowed to use in json are things
like reserved words and keywords that
you can put in if you you know do things
like like this while technically indian
json they basically forbid that to fit
to stop you getting yourself into
trouble and to become four compatible
with versions of the language but in
javascript you can do those things and
that's not a problem at all
so this is a this thing oh now is an
object and if i hit o dot we can see
that what I'm getting
Visual Studio here is intellisense
showing me that the members of OU
include those things that I just adjust
declared I know by by doing this object
literal my my foo and my bar so that's
all fine but I can do other things like
well sir I want to add another member
like alpha I can just go ahead and do
that directly because we're not talking
about a statically typed language we're
talking about an object based language
where the objects are basically just
property bags the dictionaries or hash
tables whatever it is you want to call
them they're things that you can put
identifiers on that there's a certain
valid set of characters you're allowed
to use to build your identifiers and
then the identifiers map to some type of
value and these can be hierarchical so I
could go ahead and if I went back to my
literal I could put up with our front
here this time and I'll make this
another object literal and so now I can
put alpha who wouldn't met member called
Damien I can make that a function and
they'll zoom out again so we can see and
we can build this object graph up as
easily as just declaring of how we want
it to look unlike classical languages
where we define a class which says this
is how my objects that are based on this
class are going to look and we compile
that and that's what it said in
JavaScript you just do it you just write
it this is the object this is what it is
if I want to change it I can do that
that's fine you can see I've declared
alpha here and then down here I've just
changed what alpha is there's nothing
wrong with that that that's the nature
of JavaScript so that's object literals
but we can do other things with objects
in JavaScript as well so so JavaScript
despite not having classes and
interfaces and being and supporting
classical inheritance it does have
constructors and if anyone's right
anyone read Douglas Crockford
okay a couple of people and by the end
of this I'll forget time I will surely
give you some links so if you want to
learn more about JavaScript he is the
the guy to read constructors are a bit
of a blessing and a curse in JavaScript
I mean that there are necessary evil in
the language in in the version that's
widely supported today in the the next
version es 5 you don't really need them
anymore for doing a lot of things but
today if you want to work with objects
and have things like inheritance or
what looks like inheritance then you
need to use them so constructors aren't
really special they're just other
functions so I can say you know this is
my we'll call this my well let's do
something a little more realistic this
is my animal constructor canonical our
sort of a example now the thing that
makes this a constructor isn't anything
that I do to the fact to do to the
function declaration itself so far it
just looks like any other function but
if I call this function and I use the
new keyword in front of its invocation
like such what I get as a result of
invoking that is very different to what
would have happened if I just call the
animal without the new keyword what the
new keyword essentially does it says
create me a new object that is based on
animals prototype which is something I
haven't showed you yet based on animals
prototype and then run the animal
function over that object and then give
me the result now this is totally
different to how people who use things
like Java and C++ and C sharp and those
statically typed languages think about
constructors so a lot of people when
they see the new keyword in JavaScript
and they're getting started and they've
come from that classical language sort
of paradigm right they get confused or
start using the new keyword in the wrong
way it's also dangerous because if you
write this animal constructor or this
function with the intent that it gets
called this way then what you'll
generally do is start using the this
keyword to refer to the new object that
you're creating you'll say well I wanted
this in here when I create my animal I'm
going to you know put this dot breed is
equal to something on it and I'm going
to put this stud you know smells like
equals to something else on it and you
think this is all fine and sure enough
if I do F equals new animal my F is
going to have in fact I should be able
to see that if I say F dot you'll see I
now have an F dot breed and an F dot
smells like and everything is wonderful
but if you forget to do this and if I
instead do this by F equals animal bad
things start happening instead of this
referring to the object that I'm
creating
this now refers to global scope and so
what I've just done is gone and put a
breed member and a smells like member in
the global scope into my browser is my
window object which isn't really what I
wanted to do so for this reason the the
Constructors are generally noted as a
bad part or a dangerous part of
JavaScript and you have to be careful so
one of the things the conventions we do
is we always capitalize constructor
functions this way we know when I'm
reading my code that if I see anything
that looks like that where I've said F
equals animal some function begins with
capital I don't see the new keyword I
know immediately because I'm you know
that the human brain is a fantastic
pattern recognition machine that I've
forgotten to do something there and if
you're using something like J is lent
that we heard about previously it will
find these things for you as well if you
stick to the conventions that have been
set up to do this type of stuff so we
can do that I mentioned this prototype
thing before so if I type animal down
here and then go prototype what I can do
here is say well when a new object is
created using the animal constructor
function I want it to have these members
other than just the members that I'm
defining and the constructor itself I
want it to inherit a bunch of stuff from
this thing this thing called prototype
now this is at the very core of how
JavaScript objects work and Crockford
calls this prototypical inheritance so
it's not really inheritance it's more
correctly described as behavioral
delegation because the way it works is
that we don't actually the new animal
object F isn't actually getting the
members that I define in here so if I
define a member in here you know a
function like such and maybe I defined
something else in here as a string F
isn't actually getting member one and
member two on itself like you would get
in a classical language where you define
a hierarchy of classes which inherit
from each other you create a new
instance and you know essentially
everything is on that and never you
never go back to the class you're now
working with the object that was built
from those class definitions with
JavaScript what's happening
here is it saying well because it's all
dynamic when I refer to member one at
runtime what JavaScript's going to do is
go okay well does the F object have
member 1 well no it doesn't because it
wasn't added in the constructor and I
didn't add it to myself immediately to
the to the object after I created it but
then what I'll do is if I don't find
that let me go and have a look at
animals prototype or this members
prototype and see if it has that member
that's being asked for and it will keep
going up the prototypical chain because
a prototype can itself have prototypes
until it either finds a member or it
gets to the root of the of global scope
and doesn't find anything anymore and
then that point you'll get an undefined
depending on how you're using that
identifier so again prototypical
inherence you don't need to know a lot
about that to use jQuery but this is how
jQuery is built under underneath the
core and if you're going to start doing
any complex JavaScript applications
sometimes you will find you might find
this tool is something that you like to
have in your belt if you're used to
doing inherited you know inheritance and
an object-oriented type things in
JavaScript so let's move on to the next
things scope and closures if you are
used to working with a c type language
you will be used to variable scope being
block scope and by that what I mean is
that if I do something like this and I
declare a variable in here and this
function is itself a block so I
shouldn't appear outside this block and
everything is fine if I then do
something like VAR j is equal to zero
where j is less than or equal to 10 and
i want to j plus plus each each time so
this for itself is a block and you would
expect that if i declare something in
here that x is only visible with inside
that block because that's how stealing
would just generally work well in
javascript that doesn't work in
javascript scope is function level scope
so x is actually visible outside and you
can see that the editor here is telling
me that because I'm getting statement
completion for X inside this function if
I jump down inside outside that function
we don't know what X is
anymore because the editor is actually
executing the JavaScript so it's just a
good tool for demonstrating what's going
on now this is one of the things that a
lot of trips a lot of web developers up
when they start using JavaScript you in
anger when they come from a C language
because everything appears to work for
the first few weeks and then you'll get
your first bug that's caused by this
scoping problem so it's well worth
knowing that scope is function in
JavaScript now okay so that that may be
seen as a bad part but it also has you
know we can work around but quite easily
we can work around it using closures and
we can work around it using immediately
executing anonymous functions now that's
a really long word or lots of words but
what I'll explain what I mean by that so
if if scope is function level and I
mentioned before about polluting the
global scope now when you when you do
something wrong now polluting the global
scope is wrong and bad for a lots of
different reasons one of the main
reasons is they in the browser you can't
always guarantee that the JavaScript
that's running in the browser is yours a
lot of the times you're pulling in
libraries from lots of different places
you may have the user running script
monkey or something where a wiki like
that you might be using plugins and you
have to ensure that these things don't
clash now if all of these scripts are
trying to use global scope they're
declaring members in global scope and
neva tably you're going to end up in the
situation where two scripts are
declaring the same identifier in global
scope and you get a collision what we
call a collision and then there are very
very hard bug to find so what we
generally recommend people do is you
never do what I'm doing here you never
ever declare a function in in the root
of your javascript file and if you're in
a a document like this and you had a
text block like oh sorry javascript
block like this you would never ever do
what i'm doing here either
you would never declare a function like
this so how do we get around that well
we can use these an not so immediately
executing anonymous functions to do this
so what I'm gonna do is create an
anonymous function that's a function
with no name like this and then what I'm
going to do is I'm going to immediately
execute it by following it with the
invocation characters you know open
parentheses close parentheses and then
to show that I'm doing something special
here I'm going to wrap because Oh
although it's in tactically this is
correct in JavaScript it kind of looks
funky and we want to we want to make it
much easier for me as the developer when
I'm reading my code to see that this is
what I meant to do and so I'm going to
wrap the whole thing in parentheses
which you can do pretty much anywhere in
JavaScript and just wrap stuff in
parenthesis and you can just logically
group in and doesn't really have any
effect on the scope or execution so now
what's going to happen is there anything
inside of this function obviously is
only scoped to this function because
variables in JavaScript the function
scope so I can now safely put whatever I
like inside of this function and as long
as I'm declaring it with the VAR keyword
it'll stay in the scope of this function
now you can do stuff like this
accidentally where you say I equals test
yeah I'm inside a I'm inside an
anonymous function everything's fine and
what you'll find is that these things
can leak out because if you do if you
declare if you forget to declare it with
a var then things can leak out depending
on how you're using these functions if
you want to pass stuff into this
function now bear in mind you can still
get to the global scope if I do this dot
inside of here this is still the global
scope so you can see I've got all my so
I can get alert so that's you know this
is equal to the global scope which is
equal to window so you can still get to
global scope
but what's generally done instead is you
want to pass in the things that you want
to use inside of here rather than
relying on the fact that you've got
global scope access so if I want the
window I could just pass in the window
object and then you know pass it in as W
and now W in here is going to be equal
to window and if you look at the jQuery
sauce you'll see that the entire jQuery
file is wrapped in one of these and they
pass in window and then they pass in
something else
well they don't pass it in but they're
declared as a parameter which is kind of
cool and if you getting into an advanced
JavaScript you can read up on why they
do this type of stuff
my understanding is has done for
minification purposes it lets them use
rather than relying on the undefined
keyword they can just rely on this this
is now a parameter identifier it's not
the under fide keyword and so I can when
I unify this javascript undefined could
safely be turned into you
because it's not passed in here you will
be equal to undefined because the
parameter was never actually passed in
so you can do kind of cool things like
that but the the crux of this lesson is
that to avoid polluting the global scope
you want to use these anonymously
executing and the anonymous immediately
executing functions now when we get to
jQuery we'll find this a slightly easier
way we can do this and we'll have a look
at that in the moment lastly one of the
things I wanted to talk about is this
and I better hurry up because they're
coming to get me
sorry the this is where it gets
difficult because I'm now I'm going to
talk about this and I want to use the
word this to explain this so bear with
me I will get there this is a keyword in
JavaScript you can see it's blue here
representing the fact it's a keyword and
if I am inside a function inside my
classic foo function number and this
function is in the global scope or it's
just a function that exists anywhere
like this then by default this the
keyword maps to the global scope which
in the browser is the window object
that's great
that's fine I said before that if if the
function was a constructor so if I
capitalize it and then I call it using
the new keyword then this no longer
refers to global scope this refers to
the object that you're constructing with
this constructor function so this
mutates depending on how you call the
function it doesn't depend on how you
declare the function this is not a
static declaration of what this is it
all depends on who calls you so that may
sound scary because you go well I'm
going to write my function making an
assumption of what this is but anyone
else could call it and then this could
become bat instead of this and then my
function might work anymore and yes
technically that is true but most of the
time you're going to be now in charge of
what's calling your JavaScript anyway
and it's generally just not a problem
you have to worry about so that's two
ways we can make this do something
different the other one is that we can
arbitrarily change
what this becomes so let's create a
function called
hello in fact I think I have a sample of
authority I do so let's have a function
called foo which is going to alert this
dot hi now by default this function that
this keyword is going to refer to a
global scope because it's just a
function on its own in the global scope
in my script block but what I'm doing
down here is using the call method
that's available on all functions in
JavaScript now I didn't mention before I
said javascript is object-oriented and
JavaScript has great function support
functions are objects in JavaScript
their functions and their objects so if
I type food dot you'll see that foo
itself has members because it's not only
a function that I can invoke by going
through open parens
it's a func it's an object that has its
own members by going through dot and the
prototype that foo inherits from is the
core function object in JavaScript and
that's why I have a bunch of these
methods here one of those methods is the
call method so I can call a function by
calling its call function by and then I
can pass in to that call function
whatever it is I want to be this
whatever it is I can just make it up
so in this case what I'm doing is I'm
going to call foo twice and in the first
instance I'm going to pass in an object
literal so this is what these little
squiggly braces are remember and it's an
object literal that has a single member
on it called hi which is what I'm
referring to in my my function here and
in the first instance it's a string
called tests and the second instance
it's a number one two three so if I look
at this in my browser now what we should
see is I get tests okay
and then I hit OK and I get one two
three and chrome telling me that I'm
doing bad things because I keep popping
bullets so you can see how this is
mutating very very simply and again this
is really important because jQuery
exploits this so that they can reuse
this keyword in JavaScript depending on
how you're using functions inside j.crew
so without further ado let's that's our
JavaScript fundamentals over and you
won't have any questions on that
for I jumping to the jQuery yes I did
thank you very much
and you know why I skipped closures
because I hate trying to explain them
closures are one of those closures are
one of those things that I've tried to
explain it in talks like this over and
over and over again I still haven't
boiled it down to a really six synced
phrase I think the documentation on
jQuery actually has on the site
somewhere one nice little paragraph that
John wrote about what a closure is and I
should just remember that wrote but I
never do so essentially a closure is a
function that references a variable that
is not contained within its own
immediate scope I'll say that again a
closure is a function for start that
references a variable that isn't
contained within its own immediate scope
so let's have a look what I mean by that
let me get rid of these other this noise
down here okay
so let's create a function and outside
of this function let's declare a
variable that isn't within the immediate
scope of that function so when I say the
immediate scope I mean this scope inside
here we have function scope so
everything inside the function is within
the same scope because its function
scope this thing is not inside the
function so I can't really get to it but
I can't get to it okay because this
function exists in the same scope as
this so I can say my var and I can see
that everything's fine everything's good
so far foo is in the same scope as my
var so the contents of vu foo can see my
bar that's fine
so but then what I can do is say okay
I'm going to return another function
this is the easiest way to demonstrate
this I'm going to return a new function
and from within that function I'm gonna
reference my vow no I'm not gonna do
that let's do it differently I'm gonna
clear another another variable in here
uh-huh
and we'll get rid of this one this makes
it easy to demonstrate and inside this
one I'm going to reference I'm going to
return the value of my dot to
straight that's a better okay and let me
just format that so it's easier to read
okay so what have we got here I've got a
function foo that itself is returning a
function inside the scope of foo I have
a variable called my var and then the
function that it's returning references
this my var variable as the return
result now this kind of looks you go
okay fine big deal what's the big what's
the big problem here you okay well what
happens at runtime when I execute foo
any language gates compile the gigs
runtime geeks will go okay well foo is
going to get invoked I'm going to build
up a call stack for Phu my var is now
inside there that's fine and I'm going
to return this function okay well I'm
going to return a function that contains
my eval to string now this isn't going
to get evaluated at that point because
what we're returning is this value the
function value a function is a
first-class thing inside JavaScript so
it's going to be it's not going to
evaluate that it's just going to return
the functions so I can get executed
later and then the function exits so any
scope inside that function any stack is
torn down and it ceases to exist right
because the function is returned I'm now
gone so what then happens say I assign
the result of calling foo to a variable
called myfunc so myfunc is now equal to
this function and then I want to invoke
myfunc what happens at that point well
now it's going to go and evaluate this
line and you see the problem now my VAD
doesn't exist anymore my var only
existed in the scope of foo which is now
returned the reason this work is because
of closure the food or the inside
function this anonymous function here is
said to close over the my VAR variable
which was defined outside of its
immediate scope and it will continue to
live on as long as this function lives
on somewhere in memory in the stack
somewhere and in this case it's living
on because it's assigned to myfunc and
as soon as that thing disappears then
the closure goes away and everything
inside of it goes away with it okay now
this may look like a trivial example
but when we look at event handling in
JavaScript and jQuery in particular this
becomes really really important because
it's really built on the concept of
closures any other questions
how do you get rid of it so when the
closure falls out of scope via so now
that this closure food the result of foo
is a function that is a closure to sign
to my funk when my funk disappears for
whatever reason because it falls out of
scopes no longer there then the closure
just goes away garbage collection will
take care of it the JavaScript runtime
will do its cleanup okay so let's get
back into jQuery then I could talk about
JavaScript on that but jQuery is what we
here to learn about okay so the hello
world of jQuery I have an HTML page in
which I have a reference to jQuery at
the bottom yeah and then I have some
script at the bottom there and what I'm
going to do is I want to push hello
world into this page so I'm going to use
the Donald zoom up a bit now I'm going
to use the Java the jQuery yeah I'm
going to use the word constructor but
it's kind of a I shouldn't really but
it's just easier to refer to this is the
jQuery constructor the jQuery
constructor you can invoke just by
typing jQuery but no one does that
everyone uses the dollar shortcut
because that's cooler and it's less
characters so jQuery and then the inside
this I'm going to passed a function whoa
whoa hang on function okay so here we're
starting to see those things that I've
just been talking about coming to action
already the jQuery constructor will
mutate its behavior based on what you
pass into it something another thing
about JavaScript I didn't talk about is
that there are no function overloads in
JavaScript in object or into languages
that are statically typed you might be
used to going well I'll function food
when it takes one parameter is this and
when function foo takes two parameters
it is this that doesn't exist in
JavaScript because objects in JavaScript
including function members are just an
identifier and a value you can't have
the identifier twice mean different
things so the way that you do function
overloads is you say you know function
foo p1 p2 and then you just if you want
it to do something when only p1 is there
you just check for the existence of p2
and if p2 is there and you do something
and if people
not there then do something else and now
it's not just if it's there or not you
can check its type or if it's all a
string you can investigate the string
and basically you can mutate what food's
going to do based on what gets passed
into it and if even if you don't declare
the parameters you can get to the
parameters because JavaScript has a
reserved word called arguments that
represents everything that was passed
into this function when it was invoked
even if I didn't declare them in the
function signature very very cool stuff
so jQuery uses this so you can call the
jQuery constructor with a whole bunch of
different parameters and the one I'm
showing you now is a function if you
pass a function of the jQuery
constructor what it will do is run that
function when the Dom is ready to be
manipulated when the document.ready
event is fired what you'll generally see
most introduction tutorials do is this
they'll pass in the document object and
then they'll use the ready function to
wire this up and then this just so much
more typing really I mean why did you
have to do all of that when I could just
do that right so now anytime you see
that just delete it and do that instead
all right less characters is much better
for the environment so so this is going
to execute when it's safe you don't want
to be executing stuff before the Dom is
finished loading why what happens if you
try and manipulate the Dom before it's
finished loading yeah it does different
things depending on what version of the
browser and what browser you're in but
it's just bad in general I six will
actually crash in a lot of circumstances
because that's what I 6 does best and so
you really don't want to do this make
sure that you're always doing your code
inside here the other advantage of doing
this has anyone spotted what the other
advantage is we go back to here and we
look at this thing where did I did I
keep it I deleted it that was clever
wasn't it I've protected the scope exon
give that man a cookie I have protected
the scope anything I declare inside here
only exists within this function because
I have function scope I'm not polluting
global scope now jQuery as a library
will never pollute the global scope
except obviously for the jQuery member
itself obviously dollar has to exist on
the window object so you can call it but
you should be able to do everything
inside of here and never have to have
stuff outside of
yeah if you have stuff outside of here
then you know I can't help you do it
inside here my things are much safer now
that we're inside here let's actually do
our hello world so what I want to do is
I want to find the body tag which I do
now I'm passing a string in I'm not
passing a function in I'm passing a
string when you pass the string into
jQuery it says oh this must be a CSS
selector I'm going to invoke that
wonderful sizzle CSS selector engine
that we heard about before and find all
the elements that match this selector
now in this case there's only one
element that matches the body tag so
what I'm going to get is a jQuery
collection with one element in it and
then to that L to that collection I'm
going to append some stuff by calling
the append method and in this case all I
want to do is append hello world so I'm
just going to literally type that in
we'll view that in the browser and what
we should see is hello world the world
is happy now I can also type HTML in
here and if I share five jQuery was
clever enough to figure out not only is
this a string that I've passed in but
it's a string that looks like HTML and
so it actually pass that into Dom
elements and then injected it and
escaped it correctly for me into the Dom
which is really really cool as well
because if you try and do this using the
raw Dom API you'll have blood on your
fingers before you're finished typing it
all out so that is our hello world of
Jake we're very very very simple thing
to do let's move on to selectors so I
left that with when you pass in a string
to the jQuery constructor it assumes
that what you're passing in is a
selector now if you want to be a great
jQuery developer you really need to
brush up on your CSS selectors but don't
worry because as soon as you start
writing jQuery and you look at jQuery
samples you'll just start absorbing CSS
selector goodness because that's really
where the power of jQuery comes in the
fact that it lets you find stuff in your
document using the wonderful wonderful
CSS selector language if you don't like
CSS then you know get out of the last
century and get into here because that's
where it's really really at CSS selector
language is perfect the perfect language
for expressing a statement that says go
find me stuff in the Dom that matches
this and doing it succinctly yeah
so let's have a look at different type
of selectors so the first one I showed
you was fairly obvious I just want to
find elements that are of a particular
type so before I do that I've got a
basic document here I've got some divs
ul some anchor tags some spans I've got
class attributes set on some I've got
some anchors I've got some peas so let's
say let me find all the anchor tags and
then once I've got that collection all
I'm going to do for the purposes this
demo is add a CSS class and I've
actually declared a class at the top of
this file called highlight so we can see
that when stuffs been applied to it so
finally all the anchor tags and then add
the CSS class highlight to them so if we
look at that in my browser and I have it
at 5 then we can see that it's found all
the anchor tags and it's highlighted
them by adding the CSS class highlight
that's pretty easy let's do something
different
what about class well if you know what C
is if you know you'll CSS selectors
you'll know that you use the dot the
full-stop to denote the fact that you're
looking for a class and then you put the
class name and I think I have a class
named foo in here so if we go back now
and hit refresh on this I've got a
couple of elements that have a class
name of foo here I've got a span here I
have the whole li so it's found both of
those nicely for me if I want to find
something by ID I can use the hash or
pound or whatever you call it in your
woods neck of the woods to find
something by ID and if I remember
correctly I have something up here
called nab so I can change this to say
find me the thing with an ID of nav and
hit f5 and now I found that first you
well because I gave that an idea of nav
and now that's all the simple ones and
but jQuery actually supports a whole
bunch of much more complex selectors
commonly referred to as css3 selectors
or even CSS 2.1 selectors for that
matter it's just that we didn't get them
to ye 7 or 8 so if we do something like
let me find all the a tags that have the
rel attribute to find and if I look up
at the document here we'll see if I
scroll across I have a anchor tag here
that has the rel attribute defined to a
value of external so if I just say
square bracket rel and don't put
anything else it's just going to find
everything we're role exists as long as
rel is even declared this is going to
match it so now if I hear their five you
can see that it's found this link down
here because role was declared if I want
to be a little more explicit I can say
well you know we're rel is equal to some
value so I'll say L is equal to external
now which is what I've declared it to so
that should find it which it did if I
change that to something other than that
and here they're five it's not going to
find at this time now you can do quite
advanced things so you can say anything
that starts with ext
I think that's the correct one yes that
found it or anything that ends use a
dollar sign with nal okay they found
that as well now
again it might look a bit strange but
this becomes a lot more useful when
you're doing things like this you say
well find the end of thing that ends
with jpg now you can find all the links
that link off to a jpg or find me
anything that starts with HTTP now for
me all the links that aren't internal to
the site anything that goes off to a
different web site all external links
okay now for those who are really quick
you would have noticed that the
characters that are used here are the
anyone anything that that's begins and
that's ends where they come from regex I
didn't know that until someone pointed
out to me last week I always had trouble
remembering which one was which I know
like there you go there are some other
ones there's the tilde as well this is
where I forget which one does what but
essentially there are a bunch of
different prefixes to the equals
operator you can use to say if the
attribute accepts a space delimited list
of values now the only one really that
does that is the class the class
attribute then you can use I think it's
tilde it's one of them to find anything
that has a single instance if it takes a
comma separated list of values you can
use a different operator if it takes a -
separated list of values which is
generally the Lang operator where you
might have something like you know II
and - us or you just want to find
anything where Lang has N in it
somewhere
then you can use an operator to do that
now and all
there's a 7,000 CSS 2.1 and some further
ones a css3 and jquery supports them all
so that's really kind of cool some other
ones we can then do some funky stuff
like filters so this one here looks like
what I had before so we've got this
colon in here now so what I'm saying is
I want to find all the li elements that
has something else underneath it and
there is this this semicolon is used to
denote what's called a pseudo class so I
can say get me all the allies that are
even so if I hit f5 now it's got me the
the first one that strains well it's
zero based so it's 0 &amp;amp; 1 0 &amp;amp; 2 &amp;amp; 0 and
you get the idea and of course I can do
art as well and that's going to get me
the opposite you can get really funky so
you can say like nth child of 2 n plus 1
and that will do something on that this
did what I did before let's let's make
it minus 4 or something let's make it in
- floor I don't know that'll do stuff oh
I got all of them right so you can this
is basically a way of expressing an
equation used to find children using
some formula so you can use this that I
get me every seventh and fifth item or
the third last item plus the whatever
you can do crazy stuff in here to find
very very particular items you can do
last child of type you can do first of
type all types of wonderful stuff like
that now a lot of these again are
standard parts of CSS 2.1 and css3 and
there are some stuff that jQuery has
actually added themselves and you can
even put your own ones in there I
actually have a sample here this is a
plug-in that I wrote we'll get to
plugins later we're called track dirty
and one of the things it does is it adds
a new selector using this tiny influency
bit of code down here if I get rid of
that so just this little block of code
here adds a new selector that can then
be used entire inside jQuery so I just
say dollar dot extend
j.crew e dot expression colon and then I
pass it an object literal and I give it
the name of the thing I want to extend
it with I want to add one called dirty
and they just give it a function that's
a predicate basically a function that
returns true or false given an input
when looking at characters of that
function and then the way you would use
this is something like this so I can say
you know find me the dirty elements just
by saying : dirty
ok so jQuery is immensely extensible and
it's not just because it's JavaScript
I mean javascript is loosey-goosey
dynamic you can basically replace
anything with anything else which mesa
means means anything is extensible but
there's a coughs because you you might
have to completely implement something
to extend it jQuery in most parts is
built and engineered to be extensible so
rather than having to completely replace
a section to make it do what you want
they give you hooks to enhance what it
can do and a lot of the best plugins are
fancy light boxes that are a hundred
light box plugins or fancy new animation
effects they're just minor tweaks that
they've made to jQuery to give it
further building blocks or make it
support stuff that jQuery core doesn't
and one of the ones that we mentioned
before was the rotate plug-in which
extends the CSS stuff to support the the
new rotate CSS transform so you know it
really is built for extensibility which
is why the plug-in community around
jQuery is is really so vibrant and of
course you can join these things
together so if you want to find all the
allies and all the a tags and turn off
my caps lock then then you just do as
you do in CSS you separate them with a
comma and now it'll find that's one
selector and that is another selector
and it'll just concatenate the result
and if I look at that in the browser in
f5 I should find my all my allies and my
a have been highlighted so that's that's
that's the introduction to selectors
events now advanced has got to be one of
the most painful thing to do when doing
Dom programming especially a cross
browser the main reason being that
happened to lying nine the main browsers
out there and you're a en everything
else did events totally differently they
use a completely different API for
managing events now there is a reason
and if you want to know the history of
it you know watch Douglas Crockford he
explains that there is a reason it's
like that there's really no good reason
why I didn't
update to support the the better stuff
later but there's a reason why it wasn't
the way it was so jQuery is great
because as we heard before the biggest
part joke really does is it creates an
abstraction layer over the Dom and
events is just one core of that so
here's the real basics I got a page here
with a few things on a few interactive
elements that I want to show you if you
look at this in the browser what we have
is a button I have a checkbox with a
label and I have a bunch of links and
I'm gonna wire up some some behavior to
these elements using jQuery and the
event handling stuff so first of all I'm
going to say okay I'm inside my function
load here remember I'm gonna find the
click me element that is the the element
that has an ID of click me I'm going to
call the click function and I'm going to
pass to the click function a function so
this is gonna be my handler now this is
an anonymous function otherwise known as
a lambda otherwise known as a callback
in jQuery Palance they usually call
these callbacks this is the function
that will be called when the click event
happens on the click me element that we
found and so when that function gets
cold when the click happens I'm gonna
run some more jQuery I'm gonna find this
result element and I'm going to append
you clicked me to it so if I go up here
and click to me you can see that every
time I do that it's just appending you
click to me to that element easy is that
to handle a click element I click event
if we want to do something a little more
funky I've done the exact same thing
here but now I'm doing it for all the
anchor tags under this links element so
that's this thing here I've got a list
of links and I must I'm handling the
click event I'm calling on and this time
I have my signature is taking in a
single parameter this parameter will be
populated with the event object if you
have an event on programming you'll know
what the event object is you'll know
that it's different in every browser
you'll be happy to know that jQuery has
their own event object that abstract the
event system in all the browser's so
this e object is of type of jquery event
and it has a bunch of methods on them
one of them is the prevent default
method which stops the bubbling of the
event after the Dom so I'm calling that
because this is an anchor tag and if I
don't do that it'll navigate off to
whatever it take to reference it to and
then I'm going to append another item to
the same list of items that are clicked
on so if I click on this
I click on these links I just keep
anymore links now the only the first
four links will work because all these
new links that I've added don't have
that Handler on them but look at my code
again I'm King okay well find me all
anchor tags whoops I all anchor tags
under the links and then assigned it
okay well when this executed it only
found the four original ones that were
there okay and so then it assigned that
click handle to those I wouldn't added a
bunch more now you might have done this
fire Ajax or you might have just done
something in JavaScript to build up some
type of Dom you might have used the
templating plug-in to build this up and
so your handlers aren't going to get
attached automatically to those new
events so the way we can get around that
is using something called event
delegation otherwise known as live
binding so I'm going to change from
using the click event method to the live
method and that's all I had to do
I've now I'm passing in the click event
name to the live method and now this is
just going to work so if I hit a 5 and I
start clicking these I can click any of
these new ones and this will continue to
work and the reason that is is because
rather than attaching this event handler
to the all the events that I found it
attached the event handler way up in the
Dom tree somewhere and then used event
delegation when the event bubbles up
from any event that matches this
selector to figure out that it's one of
those one of those so elements and then
process that click handler yeah so it
reduces memory consumption because
obviously you're not attaching handlers
to all these Dom elements you just doing
it once and it means that you don't have
to reattach handlers it just does it for
you automatically
the other one is working with Mouse
events this is notoriously difficult to
do so Mouse events the idea I mentioned
the event object that gets passed into
your event callbacks that also has a
bunch of great properties on it that
tell you details about the mouse cursor
I'm here I'll just zoom out a bit
I have a track mouse button that when
you that checkbox this thing here that
when you click it I'm going to check if
it's checked and if it is I'm going to
wire up the mousemove event on the HTML
node and when I detect that the mouse is
moved in the document I'm just going to
go and basically update a bunch of
properties on the page so I can track it
and I'm going to update the position of
something to match it else if it's not
I'm just going to unbind that so this is
a situation where I'm physically
unbinding that event because I want to
let the user toggle the usability on and
off so if we look at that working the
moment I keep track mouse and we can see
now that I've got this little bomb
element that's following the mouse
around if we look to a bit slower you'll
see that the numbers inside are being
updated to the cursor position of the
current mouse cursor now I know I know
I've calculated the offset based on the
cursor and stuff but that's the code
here like it's really quite quite simple
to do using the jQuery eventing system
and that this was the notoriously
difficult to get to work across browser
before things like jQuery lastly I
already got time for one last thing I
think animation the animation in jQuery
is is very rudimentary it's very basic I
mean animation at his core is one very
basic concept take a value in its
current state get it to another value
over a period of time using some
function to increment the value along
the way that's all animation is now you
can get more complicated complicated
with automatic tweening and things like
that but jQuery is just about changing
of one value from this to that over this
period of time using this function and
the things that you're animating the
values of CSS properties now I just have
a sample page here that basically builds
up a series of animations so as I click
on this thing it moves around and does
stuff the code is is a little bit fancy
because I generally build up to the to
the stuff but it's really not that much
code essentially what I have here is an
array of objects that represents the
animations I'm going to do so I'm going
to animate the left property to 400 I'm
gonna animate the top property to 200
etc etc and I've got a function called
apply effect which I give it an effect
which is one of these things and then
the element I want to apply it to and
then down here we're like this is the
thing I'm clicking on when you click on
it it basically just says hey call this
next effect function find the current
effect from this array move to the next
one and then call apply effect and the
actual core of what we're looking at is
this animate function here so this
dollar L dollar L is an instance of a
jQuery is just a variable name I created
but I know that that's a jQuery
collection and I'm calling the animate
and I'm just passing in what it is I
want to animate and so animation is very
very basic in jQuery there are great
plugins that will add better easing
function so rather than just animating
in a linear fashion you can make it go
slow and then fast or fast and then slow
or go beyond and then bounce back or use
elastic and do types of wacky stuff like
that there are other plugins that let
you animate color so you can go from red
to blue
by default jQuery won't do that but this
is a very simple and a plugin that will
do that for you
so with that I'm out of time so I'm
hopefully you've got something out of
that if you want to learn more about
JavaScript in general check out the Yui
theater so if you just type in Yui
theater into your favorite search engine
click on there and look for Douglas
Crockford stuff anything by this guy
here watch everything that this guy does
on here and you'll become a billion
percent better JavaScript developer I
can't overstate that enough
otherwise I'd go me after if you've got
any questions or thanks for time
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>