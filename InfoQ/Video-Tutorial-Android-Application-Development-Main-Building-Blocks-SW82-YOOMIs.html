<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Video Tutorial: Android Application Development - Main Building Blocks | Coder Coacher - Coaching Coders</title><meta content="Video Tutorial: Android Application Development - Main Building Blocks - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Video Tutorial: Android Application Development - Main Building Blocks</b></h2><h5 class="post__date">2011-01-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SW82-YOOMIs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so we're going to talk about the
main building blocks next on but before
we start at what I wanna do is I wanna
run a application and that I have here
I'm gonna run it on the emulator and I
just want to show you how it works as a
motivation for what we're going to talk
about next so I'm waiting for it alright
so this little application that you know
what it does is it simulates it's like a
little toilet application right so to
kind of give you information about this
you know I always get like I needed the
sample app to kind of do show in class
with you can kind of learn constructs by
working on something so I used to have
different applications like I'd like a
list of restaurants at one point I had a
golf caddy application
you know just gets all sorts of
different apps but and then I settled
for the toilet alike application and the
reason for that is twofold for one it's
a it's an application that in a natural
way showcases a lot of different things
in Android so it's kind of very simple
to explain a lot of different constructs
all to one application right it touches
a lot of domains so it's not just heavy
on graphics or just heavy on database or
just heavy on networking and so on like
at one point one of my first
applications like a Sudoku game right so
it was heavy on graphics but very low on
everything else right so that's
partially why I like it so it covers
it's a very broad reach secondly it's
very simple to understand a lot of
people know what weather is so I don't
have to explain you know unlike like
golf caddy I need to explain how you
know the what golf score is not everyone
gets it so it's almost it's almost
perfect except it doesn't work in
certain places like China for example
this
that's the only downside or some extent
or some corporate networks because of
the firewall so so first time first time
I run it ask me for username and
password and I'm gonna type in her name
Android and the answer is P a SS 2010 so
now I have a username and password so
what I want to show you is multiple
multiple features of this application
so this first feature is a screen that
says you know I call it a preference
screen that's where you type in your
preferences like your user name and
password some other stuff okay now I go
back to the previous screen which is the
timeline right this is supposed to tell
me what my friends are doing but right
now it's blank
so that's because we don't have our
service learning which is updating this
stuff in the background so if everything
works fine we are hopefully going to
connect to the network and pull the data
and we did okay so you can see all the
data that you know people have posted
using this this application on now what
I can do so this is a second screen it's
called a timeline screen timeline
activity right I can also go and I can
say update status and I can submit some
data out to the cloud so I can say hello
okay click on update alright so if
everything worked fine this actually
went online so we can check that now
just a kind of like a little reminder
I'm not actually using Twitter for this
I'm using a service that's just like
Twitter in other words implements the
same API but it's not twitter.com
the reason for that is that
you know when I do a class like this and
everyone uses my same account and it's
like twenty thirty of us getting the
same account really quickly Twitter
shuts us down thinking that it's a
denial of service or something it's
abusing system and so on so I went ahead
and I set up a separate account on on a
status dotnet which is a which is the
company that makes the Twitter like API
so you can see that this is the same
thing right and here's our post hello
from building C all right missus and you
know and eventually when you go back to
that timeline and when it refreshes I'm
not sure exactly what the frequency of
my services but the top date so every
once in a while and there's hello from
building C so far so good
so so you come you saw three screens
there's something running in the
background etc etc and it makes a
network call and you know updates day
that's all okay so with that what we're
going to talk about this and main
building blocks what main building
blocks are basically components that are
specific to Android okay so one of the
first things you notice is something
called activities what an activity it
roughly is is a screen right that's what
we just said so you kind of saw a couple
of activities in that previous example
you saw the one where I was able to
update my status so that was a status
update and posted it to the cloud you
saw another one where I was able to to
list all my statuses for my friends I
call that one timeline and then there
was the one where I was able to update
my username password posted possibly
some other information okay so these are
activities so one application can have
multiple activities multiple multiple
screens just like I compare it sometimes
to website just like a website can have
multiple web pages right usually have
what's called a home page or the main
activity it's like the one that you
enter true right that would be the home
home one okay so that's about it
make sense roughly one screen right so
one thing that you need to know about
activities is that their life cycle is
heavily managed by the system so there's
a specific life cycle and activities
adhere to that specific life cycle so at
the beginning of the day your activity
it doesn't exist so it's in a starting
mode okay so it doesn't exist just story
as it starts it's in what we call a
running State okay
that means it's that it's up and running
it's in users face it's interacting with
the user how many activities can be kept
running it at one time yeah only one can
be interacting with the user at one
point in time right now you may have
some activities which are visible but
not in focus it's kind of like it's kind
of behind the other activity right it's
kind of you can still see it but it's
not in focus that we call a paused
activity okay means it's visible but not
active okay or running now if an
activity is totally invisible so it's
totally obscure hidden it's in a stop
state right so typically an activity is
gonna go into running and from there
it's gonna go pause but really quickly
it's gonna go into stop state again it's
pretty normal now from stop it may get
restarted if the user goes back to the
track tivity or you may get destroyed
that's a typical life cycle right so it
could you know it would normally be this
then this then multiple times that and
then at some point we've come out sort
of like that okay that's a great
question why not
this way why not go directly from
running to stop oh oh okay why not go
from running to to to stop like this so
well
we could go we could do that as well
you know designers of this system could
have done that as well but that would
just mean that you have to figure out
the logic then if you're going to paused
or stopped right away so it just turns
out that there isn't really a good
reason to go that way
in other words going this way it doesn't
really make that much of a difference
but makes the life cycles simpler
because you know that these methods are
gonna get called every single time even
though they may not do much right so
it's simpler to implement it this way
right just goes directly it goes to
paused now being paused go to pause that
just means okay somebody invokes some
callbacks and they did nothing so it
doesn't really it doesn't add any
overhead right whereas figuring out
which way to go would actually be adding
over here the stop free up resources and
free up resources only destroy with free
up erasers so why not just got this why
not just go from running to destroy like
iPhone does for example please and if
you just destroy always you need to see
megaphone that was partially the
interpreters of the anger yes exactly so
it turns out
going from here to here is actually
pretty pretty let me throw it on this so
this here is pretty costly right so if
there's a lot of work that needs to
happen to go from starting to rang again
so if you think about it if our activity
doesn't exist we may have to create a
new Linux process we may have to launch
a new Dalek instance we may have to load
that new Java object parse its XML and
create entire UI and then draw that UI
on screen so there's a lot of expensive
steps right in getting something to show
on the screen now once it's on a screen
and use it doesn't want it anymore goes
away from that screen as opposed to just
destroying it we keep it around in this
top state so that if a user wants to go
back to it user can go back this way and
this just happens to be much cheaper
than going from starting to running
right so that's basically why we're
we're keeping it around thinking that if
the user wants to come back to it it's
readily available so pause means it's
slightly visible where a stopped is not
visible at all yes exactly it may be it
may be like a dialog box to open up and
you can still see the stuff behind it's
a really it's a rare state especially on
a small screen like it's not something
we typically see but it is possible
right so usually that's why you just
kind of like you fly through that state
and you're going to stopped that's how
it usually works in practice
you as a user do not control the state
so you as a user do not get to say okay
be stopped be passed be destroyed right
you as a un unnoticed user as a
programmer as an application program the
methods get called by the system you get
to fill in the blanks right so it this
is you guys ever programmed in any other
container based environment like
servlets applets scriptlets any of those
questions of things will you you're
basically filling in the blanks
something else is calling your code it's
a fundamentally different approach in
like C program all right
it's kind of like event-driven you're
filling in the blanks for what should
happen when that event happens so in
essence if you have let's say two
activated two right here in one two is
behind right so that point during state
right so you call two then it comes back
to yes well it's if it's totally not
visible it will be actually in stop not
on paused right so let's demonstrate
this go ahead on distance is not that or
used that often it has to do with when
your application is dying and getting
recreated really quickly it usually
happens when you change the orientation
of the screen and it's it's a way to
leave something for yourself while you
reincarnate they look good
well let me ask you let's let me ask you
this
well it's kind of cool let's look at
this graphically so right now which what
activity is running so time line
activity so this guy is now in a running
state right I'm gonna click on look back
oh okay I love the entire thing now that
one is stopped so you just went right
you went from running it went here in to
stopped okay now let me see if I can I
and get back to this way I can say back
there okay now it's running again right
so if we go menu and I say preferences
now that one is stopped this one is
running right so should I change right
so you know one is in here the other one
is in you can hear multiple activities
be stopped you all usually do okay so so
that's what that means to be like
flip-flop between activities from
Stockton
well what happens so on star of savings
the states and on restoring the state is
the only applicable to changes in the
orientation essentially yeah exactly
it runs it pretty much runs to destroy
right yeah yeah yeah that's a default
behavior of course you can change I can
change that but that's default behavior
it basically recreates the entire screen
yeah so it's kind of pricey but let's
take a let's look at the resume for
example as another example so let me ask
you this so for example this state
running it the name says you're doing
something right you're running you're
some code is running but in reality
it could be that you're just sitting in
that state waiting for some user input
right so in reality a running state
doesn't mean you're doing much maybe
you're doing nothing yet
okay yeah you're just maybe sitting
there doing nothing
on the flip side stop that doesn't mean
that you are necessarily not doing
anything right so for example if my
application is listening to GPS or is
processing sensor input it's doing a lot
of work although it's not visible right
so running doesn't mean it's working and
stop doesn't mean it's not working yes
yes that's just a name so that's that's
why it's kind of confusing that's what I
wanted to point out that that's just a
name right but if you're listening to it
you're keeping the channel open you're
basically activating the service yes
that's that's exactly what it means
however you know just because the words
implied doing something and not doing
something what I'm trying to say is that
that's not necessarily true
so if you take a GPS as an example so
GPS is expensive right listening to to
GPS is it involves a lot of battery
consumption and so on so where would you
like when would you like to be listening
to GPS what would how would you
construct your apps and it listens to
GPS only when you need it so you want it
only working well in that state right
okay so where would you turn it on okay
so on this zoom is a good place to turn
it on because all the roads into running
lead via on resume
right and then all pause is the good
place to turn it off because everything
that goes out of on on Rosanna Oh from
running right well you get to overwrite
or implement any of those matters that
you want you don't have to but if you
want to do some code that always happens
just before we go into running on a zoom
is a good place that's why I have this
you know it could be just a process kill
like depends on an exception but it's
very unlikely but this can happen like
you can just kill a process like it's
just gone so if one dies then it's the
activity manager then you know fix of
the previous one from the stack so
there's something called activity
manager that manages all this its
background process that manages all the
activities it's a background process so
does that make sense so that's an
interesting thing you don't see
activities you see applications so if I
do I do
adb - a shell PS what I'm seeing isn't
seeing all the applications so there's
no application right and I could do cure
400 let's see so right now it's running
right no disappeared but it's some for
some reason Catrice so now if I do LS I
mean PS so now it's 400 717 so it's got
three started you can you can kind of
say I want to terminate it and then it's
up to the system to actually acknowledge
it and do it
application application manager so
that's the user ID yeah so this is this
this is basically the CPU utilization
all that stuff but it's on the app level
it's not an activity level yeah yes so
just get along well that's why I write
what I do so you go to that to the main
screen that I finish I still got in it
stairs though it's not gonna kill or
destroy yeah so I go to some other
application and I got some activities in
there and I come back over the back if I
don't go back to my hello world
application at some point system will
kill the activity and when once there's
an application without not anything
running in it it kills that application
is wrong well it's not new so
application exists as long as one of its
components exists
no this is the that's one of the four
things that can be so we're gonna look
at some other ones as well why did I do
that
does discards designed so it basically I
mean it's not supposed to just die you
know it's kind of weird to just you know
have it crash and the idea is that to a
user it doesn't matter if we got into
here this way okay or this way to use it
that's pretty much a sea-based very
similar experience you know it is in one
way it may take a little longer time the
other one exactly exactly yeah exactly
it's up to the system to just wipe it
out whenever you know it feels like what
would kill the application manager well
yes big except the innate system is
gonna restart it yeah you can kill it
but the init system is gonna is design
so that it keeps it keeps it running
it's part of Lenox yeah yeah so
basically whose character who would you
get dedicate give priority order the
collaborator okay call related stuff
what about the state the running yeah so
the one that's running basically has all
the power in the world right that's the
one that we are gonna give you know
- right - all the memory everything with
me so everyone else is basically subject
to it that's that's the system service
does it seems assistance service in the
job is running if activity stopped yes
because it's still loading memory yes it
can recover the state if it stopped and
just restarts it so state is recovered
from memory if it's starting in the
state was not saved or anything like
that then it just you know just started
so if it was restarted if it's basically
if it went into destroyed and then it's
restore it would start from scratch
but if it was stopped still and then we
started with City start from there so
that's why sometimes you go back to you
know previous you know application it
just remembers a lot to stuff about like
the last phone call that you're making
or the last map location we were looking
at and so on but sometimes it doesn't
say just starts from scratch yes yeah
and that's the problem because the stop
doesn't mean necessarily not doing
anything
right so just like running doesn't mean
necessarily that it's doing much
is that conveyances
all right yes so yeah so the name Sara
move misleading but but that's you know
that's about it yeah so I mean we'll be
coming we'll be coming back to this
diagram multiple times there's just so
many layers of kind of understanding it
ok so let's talk about something else so
one of the next things that we have is
link Albany intent so basically what an
intent is is sort of a way to message
between two parts of the system and
essentially creates a concept of a task
like a user is doing a task so for
example I may be on one screen I want to
go to the next screen and then I want to
go to the next round like I wanna you
know read my email then I want to click
on a link open up a web browser then
from a web browser I'm gonna assume as
though it's behind or something so you
can do four or five things as a user you
know one and that creates sort of a task
but our the way we jump between things
or message between things for us
something called intents okay so kind of
two things to remember about intents is
they can be sort of implicit or explicit
so what an implicit intent would be what
an explicit intent would be would be
saying I want to start such a such
application for example so for example I
sent you a an email and say hey click on
this map and you click on it and it
opens up Google Maps or it opens up
Yahoo Maps or so my god depending on
what it opened up was if it was spelled
out how to handle it right so if I say
open up timeline activity then there's
no question which time an activity to
open so for example if I'm here or now
I'm already in timeline activity but if
I am
okay hold on go back there's application
so if I go for example here if I say go
to status update there's only one status
update so it knows which one to open up
but if I have multiple possibilities
then they can compete for the same
action and that's what that's that's an
implicit sort of intent okay so I'll
give an example that how many of you
still use Internet Explorer it's okay so
but a lot to a lot of people can
replaced it with something else right
like you guys download it like Chrome or
Safari or Firefox or something right so
so basically if I sent you a link and I
say hey go to open up this web page it's
gonna open up Chrome or Safari or
Firefox for you not necessarily Internet
Explorer right that's because you
essentially replaced it with another
application or at least you replace the
handling of that request right so check
this out check if I press the on Chrome
button it opens up an application called
call right see it's got it's got some
buttons to the bottom and some now
there's a sample home application to
ships with Android and I just want to
show you really quickly
so it's installing it it's installed
it's done but I don't see anything
why not hmm just service well home is a
special kind of application it actually
responds to this button right here right
you can say it responds to this button
right here let me click on home and all
that button does is actually it launches
the home application launches an intent
but see now when I pressed it it says ok
which one because me now T of competing
actions right so I can now say launch it
using the launcher which is the default
application right or I can say I launch
it using home sample and not so long if
they can start took a while to get
started right but this is now an
alternative version of a home screen
alright it's good to see icons to the
bottom and this opens they're friendly
and so soon you know I can go back to my
home Seco and now it remembers where we
were previously but see if I press home
now again oops I sell on a sample again
so check this out one to see how BAM it
just started because because now home
study from stop state as a poster from
starring
so explicit would be saying like for
example in here if I say menu timeline
activity I'm explicit by what I mean
timeline activity I'm not saying oh
start somebody who's capable of being a
time on activity
it just it's not meant to be replaceable
it's not time to be fully used to define
the third party activity I'm explicit
I'm saying start Internet Explorer not a
web browser it's being very specific
about it so far so good
so that's intense I will be using quite
a bit of them okay so the next thing
that we have is something called
services so service is basically just
like activity but it runs in the
background and it doesn't have any UI
yeah so you have music player here as an
example so if I had a music player then
I would have a connectivity that asked
me which song you know and then offers
me play button and so on but then the
actual playing would happen on a
separate you know separate something and
design supper something goal is a
calling service so we have another
component that's running there so
playing of this so that's a good
question how does the activity
communicate to the service well it can
do two ways one way would be to to
basically say start and stop a service
and in that case our service is what's
called an unbound service so in other
words the life cycle of this guy is
different than the life cycle of this
guy so what that means is that our music
player graphics you I could start and
disappear right but our music is going
to keep on playing so they're their life
cycles are different or separate yeah
versus if we had what these two bound
then the life cycle is the same and what
that means is that but on the flip side
this guy can tell much more stuff to
this guy you can say not just start stop
but you say rewind you know look for the
artist you know like unlike some song
itself yes
multiple activities can those sensors
so far so good
Russian sisters okay so and then service
lobster cycle is much simpler it
start/stop destroy pretty much so you
don't you know you know it's not as
managed by the system the idea is that
the services are not as complex right as
as activities are so they're not as
expensive and such are not as managed by
the system right a user can see the
surrounding services by going into into
this I'm gonna tell it not to ask me
again okay so the user can go into menu
settings applications and then under
running services you can basically see
what is currently running on what you
care to know that good question maybe
you as a user wanna shut down a certain
service right like I may have like you
know a service that's tracking me a
cheating spouse service right it's a
common one right it's actually tracking
you know where you at and maybe sending
your location back and forth you may
have a service that just taken too much
to Michelle it may or may not be
associated with it so what do you guys
kept somebody tell me what services do
you have running on your phones
yeah yeah I mean I'll tell you what I
have on a physical yeah I have Download
Manager have Skype service I have
Twitter service I have Google Voice
I have no mean essence which is the 3d
yeah the wallpaper
I have DM service which other nose with
swipe as soon as G talk and Destin is
photo service
so whole bunch of services so you may
just you know decided that people don't
like a service it's a series of just
wasting your CPU power or something so
what is so why do you would you have a
detox service running will you not
connected to G talk so that's gonna be
exactly the reason why we're gonna have
a service running even before we are
ever using Twitter account
that's because maybe it's job is to
periodically goes online and post some
data right yeah it could be doing
something maybe it's maybe it's
monitoring my power consumption and
deciding to you know turn off power
certain points in time like dim the
screen turn off Wi-Fi to extend my
battery life or something
Cheeta even though you're not in the
gtalk application because of the
presence allocation somebody has
somewhere as a see us online it's
actually there example just when you're
in the application yeah yeah Paul is a
common example so it's doing syncing of
polling like going online points in
ah there is a simulated push it's a
simple device to cloud-to-device
messaging seek to and yeah I'll talk
about that well Gmail uses that
technology but normally you wouldn't
before which is not ideal at all so that
make sense okay content providers so
content providers is basically a way to
have two applications share the data
between themselves again so let me see
if I can draw something
it's basically an interface so here's
how things look like on your device so I
may have one half and I draw
applications is like this like a cylon
right so it's got its own dalvik and so
on right
so it's got its a separate application
and typically let's say it's an address
book right so it's had an activity so
this would be my UI and then I would
have the database with all the other
data right so this would be one way to
design your your address book right so
you have a UI you have data now the
problem is what if I want to have a
third-party application access this data
like for example what you know what if
my twitter app won't want to probably
see all the people to take care of in my
you know address book and then go online
and so forth and so so this would mean
that I would probably have to recreate
another copy of the data so we'd have
multiple copies of the same data
is not a good strategy right so a better
strategy would be to do something like a
certain you oh maybe I'm Melissa shoes
okay so another approach would be to
person like this to have a second
application actually on the data right
and then expose that data via this API
back to the to the so basically you're
splitting this into two separate
applications one responsible for the
data itself Dylan and is it possible for
viewing the data right and if you do it
like that then you could have another
application that taps into the same sort
of data set right maybe this is another
UI and it also uses the same day right
so that's exactly how a system you does
a lot of stuff so for example you know
anybody you can sense you I should cease
Sui you know calling HTC at this book is
much nicer looking right but you also
kept the original Android address book
and same for calendar and because
they're both tapping to the same data
source
they just present the data in two
separate ways all right media store is
another example like I'm a snap a photo
with a camera but that fully is then
available via the media store both to my
email if I want to email it to my
wallpaper if I want to put you on a wall
play wallpaper and so on song alright so
that's kind of how we're basically
separating those bookends
so this is an eternal storage system
right if you throw it a cloud you would
have to deal with that but let me
rephrase this this so far is just an
interface how to pierce them all between
one half and another it is typically
backed by a database and that's why this
API is very very similar to a database
API it becomes sort of like a one-to-one
mapping becomes a simple proxy but it
doesn't have to be that way it could be
the data actually lives in a cloud so
that when you are you know when you are
doing this actually you're connecting by
this interface right but the actual data
is somewhere in the kind of clock this
could be like this right so this is my
content provider but you know so but
nobody else cares about that all right
so that's kind of the nice design
because nobody cares and you can easily
change called the actual implementation
of that looks like so that's what the
content provider is
yeah it's basically very similar to two
sequel right and then you can look it up
based on a key a unique you there's no
real value in tuning it out if you do
not yeah that's correct so if you do not
have multiple users there's no real
value in exposing it to others yeah but
for example you guys wanna see us you
may have a separate you know support for
multiple users so that's kind of like a
plus plus for specific functionality I
think one of the projects in CS is to be
able to log in so that I can take a
device and I can log in as myself or
like you can do on your PC Android
doesn't support us right now well that's
just authentication but what about the
authorization all right so now bobbi
logged in into so is Bobby gonna have
the same data and same applications in
the same rights as Tommy yes it's
actually you can tell us put it's
actually a pretty big deal to split all
that because the Linux in itself where
the cast user management Android does
use that now they're creating a meta
kind of user management on top of that
well I don't know how they're going to
implement it you could do that but you
ready cab in they just means our new
tanks so put one user we already use a
whole bunch of legs you IDs right it's
it depends on how you implement it like
I said this is just an interface and
typically it's backed by their database
so typically it's just using a database
behind the scenes but it could be going
to a cloud it could be stored in memory
it could be a file system it could be
any of the number of things you will
need to support it yourself but the
database already has a certain support
for it there's a built-in database with
built-in support for
so far so good
you typically is an app developer you
don't develop too much content providers
usually use existing ones so that's kind
of how it works data between two
activities it really depends it really
depends on what kind of data and what
kind of sharing you know you can do
everything from keep joking but you can
do everything from like sending pigeons
around to like smoke signals you know
there's different ways to share the data
right you you know you can always open
up a socket right you can always like
leave stuff on a filesystem right but
those are not very elegant approaches
yeah Wow again you could do it via
sockets where pigeons buy a file system
but there are many many ways like in any
traditional approach however there are
two ways that are sort of more Android
specific it's a good question
one way is we sort of already discussed
and that's the intense right so intent
is a form of communication I can
actually attach data and past so as
opposed to using a pigeon I can use an
intent it's a little more intelligent
and it's good in certain situations
that's one way so using an intent
another way to ask the data would be to
use IPC mechanism a binder and they have
their advantages and disadvantages the
biggest one is the twenties asynchronous
the other hand signals no intent is
actually not on asynchronous so when you
make an intent you're just dropping it
somewhere just say oh I would like to do
something bang and you're done you just
you
just leave that on some kind of kill to
be done at some future point in time so
it's very easy increased wear bind there
are IPC mechanism is actually
asynchronous I mean synchronous so it's
basically blocking on that call so you
say I want to do something and you're
waiting there for that time to do well
intense intense cab a primitive way of
sending the data invading this response
so there is some kind of there is some
kind of mechanism for that but the way I
compare I like to compare intends to
URLs to doing a get in URL so just like
you know if you you can put some data in
the URL but it's very very limited then
it's very rudimentary so similarly
intense get something called extras you
can attach a bundle of data to an intact
and it's basically name value pairs yes
you do not have you do not have a way to
know that it's actually got X good it's
asynchronous intent could be a broadcast
intent so you can just roll top of the
mountain in hey something happened right
so that's that's the type of an intent
it's called a broadcast intent and it
actually kind of leads into what we're
talking about next which is broadcast
receivers so that the receivers of
broadcast intents are broadcast
receivers right so it's essentially a
published sky mechanism so if you have a
if I have some kind of piece of code
that wants to register with the system
to get some kind of a notification so by
registering I could say for example and
I want to know
and the battery's running low or I want
to know when I semester I've so I want
to know when the phone rings or I want
to know any of the that sort of stuff
the system notifies you then with that
something happens it doesn't have to be
just with the system in cooking with any
other component in your system you know
with your examples as well yes but it's
basically a publish/subscribe you
register and then you get notified when
that something happens it doesn't it's
not visual right but it's just that it's
it could be a broadcast saying hey you
know something happened now it's up to
for somebody to receive that and
actually do something with it so good
yeah so those are the main building
block there's a component that we have
in the system so back to our example
application that that application that
you saw which used to be called my
Twitter but since it's not Twitter based
now it's called Yamba which stands for
yet another microblogging application so
so so remember this app so here's how I
designed it as an example of how it
could be designed so we have three
screens right we have three screens this
is the screen where I update my status
right you know it's got it's got a field
you got a button you type in a button
and whoop it goes and and puts it on
somewhere on the cloud via web service
so far so good so that's a piece will be
Mattila today right
so you're gonna create a screen you're
gonna click you're gonna type something
in you're gonna click on a button and
you're gonna go and check online that
actually happen that's what they like
about this example as well that we can
organically grow it like step by step in
every single time you can actually see
that it's working so it's not you're not
gonna wait till Friday to get you know
what this is instant gratification
you're like okay it's working right so
we'll be able to basically create this
screen on this screen we're going to be
able to type something in click on
update and we're then going to be able
to go out here and make sure it actually
worked well this this thing that's what
you're talking about that is just a
something called options menu it's a UI
thing now what it does
who is up to you you know and in this
case I think all of these are actually
summing intents yes okay so back to back
to the picture so so that's the screen
where you say what it's what's up and
you up do this in the cloud now we have
another screen where we get to configure
our username and password and any any
other type of preferences and that
actually has a way of storing that
information on a file system right so
sources in a fastest thing and you know
because multiple parts of the system
need username password another sort of
common stuff right so that's what
preferences is finally I need a screen
to show what all my friends are doing
yeah and I have a way I could have done
it like this so this screen could have
went to the cloud and just read the data
but we don't do it that way why what's
bad in that approach
okay so incrementals problems okay what
else okay
security service pulling the background
when you put your screen we see most
things are there maybe we've wanted to
come in that's fine but you just click
on it and go cool you have to wait you
don't know long as deterministic
yeah yeah exactly so I think I think you
know the latter the network latency is a
big big deal right so if I had to wait
every single time to see what my friends
are doing you know it becomes slow plus
you know I usually use this app when I'm
on a plane or I'm in a subway places
where I don't have network connection
right so as opposed to doing that okay
what I opted to do is to basically have
a service that keeps cranking a
background it's always on always running
and every so often it goes and says is
there something new is there something
in it so it falls from online service
and then inserts that into the database
so next time around when I want to see
what my friends are doing I can just
look straight through the database and
it's instant so it's not faster and
smoother although may not be the most of
today it's using the same session across
so it doesn't have to read login every
single time between pages we're gonna
use something called an application
object so we're going to use something
that's common to all these guys to share
the data which is which is a good
question so one thing that we wanted to
point out what is application here well
everything here is an applique
everything you see well not a cloud the
cloud is sort of cloud but everything
else is the app this is our application
so as you can see application is a cool
collection of a bunch of different
things that we you know keep in the same
place so yeah you'll see that but it's
going to be shared by it's going to be a
shared object that all these guys can so
in this case we're going to be storing
it in an application object which you
know in I guess you get a good point I
don't have displayed that object here
it's not a bubble but it is an object
that basically everything in this sort
of you know brown thing uses well in
this be not multiple apps but multiple
parts of an average so in this case I'm
talking about multiple parts of the same
app but everything that's in within a
line it's basically one one so that
makes us
yes yes so I didn't really care about
the battery in this case that much the
better approach would be to actually run
it still you would still run it forever
okay it's just that it should get a
little smarter about first of all if
there's no network connection like I
mean a plane
he doesn't it doesn't make sense it
doesn't make sense previous attempt to
to create open up the radio a second
approach is to actually pull all the
network call Network calls together
using something called alarm service so
that's the recommended thing so
basically if you look at this way Gmail
gtalk calendar they're all going on
doing this every so often every soft and
they wake up try to do something and
then shut down now waking up a radio and
shutting it down it's very expensive
it's I don't know the units but it goes
from like 10 micro amperes to like 110
micro amperes so just so cruelly spikes
up it comes down right so much better
practice is to group all these Network
calls to happen on the same sort of peak
alright so right now we're sort of
running our own show and if I run dude
that's that way then you have a lot of
peaks as opposed to just one but more
well you can do you can tortoise with
what I showed you guys you can go and
kill kill services so there's a way
there's something called disabled they
up background data or updates or
something like that for you
but that really that's really just a
suggestion forget where it is but then I
know I know what you mean that but
that's mostly just a suggestion
yeah no there isn't
this is it background data applications
can sync send and receive data at any
time okay so that you can disable so the
same in background data extends battery
life and lowers data use some
applications may still use the
background data connections so in other
words you as an app developer you should
be of adhering to those settings but you
can also ignore them right so so all
this does is it flips the switch and
says don't don't use background data or
do you use background then it we should
be checking for this but yeah that
extends better life drastically yeah
well so is this making sense how you
know how to use this main building
blocks to control
the typical application cool so what
we're gonna do is we're gonna basically
do an application like this to kind of
see how stuff works okay and that's
gonna be our example application so
you're gonna see you're gonna see quite
a few different screens so we're gonna
have a screen here a different type of
screen here a different type of screen
here you're gonna see how to do a web
service call although we're gonna use a
third-party library to do that it's
supposed to actually do you know the URL
mumbo-jumbo which is not subject to this
class you're gonna see how to use the
file system we're gonna have a service
that runs in a background and does some
kind of updates we're gonna have a boot
receiver here we'll actually have a
different kind of boot receiver here
we're gonna use a database we're going
to write an adapter and we're gonna do
all actually a little more to this
because we can also plug in location
stuff because Twitter supports location
so you can say sent from you know San
Jose for example we're gonna do audio so
if there's a new message we can actually
also play some audio and and so forth so
this is some ideas that we're actually
gonna have if if we have you know I
think we should have enough time but we
can we can actually hide this behind a
content content provider and see the
only thing I did not have here before
was content provider I was like why
would they need it like it's you know I
try to stay away from like forcing
features just to show something and then
I realized
aha I can show you guys how widgets work
like as in the home screen widgets and
for that that's now a third a third
party application we can actually
provide the contra providers that can
tap into the data to show on the on the
screen like you know rotating yeah so so
well yeah so that's I have a newer
version of this example then what's on
this graph so well we'll add that
you see really not no they're not
they're broadcast receivers so the
difference is a broadcast receiver is
there to publish subscribe so you
subscribe to some event you get notified
whereas brought content providers are
for sharing data between apps right but
but this is for sharing dear this is I
want to know all the contacts I want to
know all the gallery folders right
versus sending messages which is not
intents are for now yes you can attach
data to those messages but that's not
really meant for sharing data right just
like you know you are a URL get input
they should be getting put you know one
is for me meeting request the other one
is for actually sending their data
although you can kind of cheat about
what put both
well the food the bullet sequence the
startup sequence of these things this is
an application so it certainly it
depends on how user starts it so user
can either enter you know true through
this screen the screen or disk screen I
could enter through just like looking
into the websites so something that's
not the home page this one is going to
be running at all times and so it's
gonna keep on running forever
so it starts first yes in terms of us
writing it we're gonna basically do
something like this one so two three
four five six seven eight nine so does
the roughly our sort of steps alright
let's take a short break and then we're
gonna jump into the UI and talk about
that sounds good</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>