<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Styles &amp; Themes in Android | Coder Coacher - Coaching Coders</title><meta content="Styles &amp; Themes in Android - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Styles &amp; Themes in Android</b></h2><h5 class="post__date">2013-05-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4lcGfT4lGE8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so I want to talk to you today about
styles and themes in Android it's not a
very technical talk but it is probably
it is one of the things that you will
find most useful I think I think you
will find it most useful that's me feel
free to give me mail send me an email or
something like that if you have
questions after this presentation as
sasha said this stuff will be all up on
the web so this captures it by all means
send an email that tiny little thing
over there so I didn't know what size
these slides were gonna be but the tiny
little thing over there is the agenda
for my talk so I want to talk start with
with just a couple of basics and then I
want to introduce attributes just so
we're you probably all know about them
but just so we're all in this on the
same page and then I want to move up to
styles and finally to themes and why am
I doing this there are there are two
reasons I have two goals in mind the
first one is that I want to separate
design from coding I would very much
like it that a designer could make my
code look beautiful make my you eyes
look nice because I sure as blazes
cannot and I would like that that that
same guy to stay out of my code whenever
possible I would love it if his making
changes to my application didn't have
caused me to go back and write new code
each time I needed to to update for
update the appearance the other thing I
want is shrink wrap bubble widgets I
don't know if you did any of you or any
of you are veterans of ActiveX visual
basic those kinds of things well I'll
tell you one of the
things that Microsoft totally had right
was the community of the community of
widget developers there were a billion
widgets people would put together cute
little there must have been forty seven
thousand different Calendar widgets
alone people would write widgets package
them up and then either give them away
or sell them and it made the platform
move forward at an incredible rate that
things got prettier and prettier it got
possible to make things prettier and
prettier it also got it possible to make
things junky or in junkier but for the
most part people avoided that um
unfortunately that's just really hard to
do in android yes try to make your own
so actionbarsherlock is a is exactly the
example that i was going to bring up
actionbarsherlock succeeds for exactly
two reasons actionbarsherlock Sisk
succeeds first of all because the guy
who wrote it is willing to give it away
he hands you the source code right and
it wouldn't work otherwise and the
second thing is that it's big enough
project it's a big enough piece of code
so that it's worth making a library to
your Android application if I wrote a
calendar if I wrote a calendar widget
there's no way I'd get you to add you
know the 37 or 80 different library
projects to your Android project all 30
of them you know they're just to include
one widget each it would be crazy it
would be an engineering nightmare via a
pain in the neck to maintain and that's
not what people are gonna do
actionbarsherlock though succeeds
because for those two reasons he's
willing to give it away and he's it's a
big enough piece of code so that nobody
so that people are willing to add it
it's like the one library project they
have
some of these I'm gonna have to shrink
back down but for the time being let's
make it a little bigger now if you've
seen if you've seen any Android program
if you've written who here has written
an Android program okay so you all know
what this does right there's nothing
magic about it it exactly replaces code
that does exactly what you would expect
it creates a new instance of textview
and then it initializes it with a bunch
of parameters
there's nothing tricky about this first
of all it's not necessary to do it this
way you could do it with code and second
of all even if you did it with code
you'd probably do it almost exactly the
same way that Android does it which is
it reads these things and just executes
the same code that you would um the
other thing that that is important to
understand for this talk is that most of
this stuff comes from a most of this
stuff has nothing has very little to do
with runtime androids runtime most of
the stuff the way you encounter it is
through a program called a apt right so
so it is true that these that the
layouts that you build get re parsed
once they they once once they get
bundled into the into your application
into your apk they get re parsed and
well turned into two view trees on the
other hand the way you will encounter
these things is with a apt when you see
an error
it's a apt that's giving it to you when
you can't figure out what whether to use
a namespace or not it's because you
can't figure out what a apt is doing it
is surprisingly written in C C half c
s-- half c++ that uses expat as the
parser it is bizarrely complex it is a
huge program and and it takes your xml
resources everything that's in the
assets directory and everything that's
in the xml directory and it bundles it
all up into stuff that goes in the APK
it's the thing that it surely knows
about resource
qualifiers he truly knows about what's
in the manifest it knows all of that
stuff if you need to research this stuff
it's a apt that you're going to have to
read so where do pre defined attributes
come from and you'll see in a minute
there's a different there's another kind
right so the the the attributes that you
use in your Android program you'll find
them documented in the various
subclasses of view if you look at one of
these for instance
here they are they're all Android
Android does a very good job of
documenting these things
okay the ones that they want you to know
about they're all sitting right there
and how to use them is pretty well
explained it's it's not bad stuff
where are they defined they're defined
in the source in the at this a terse
file adders dot XML and these things are
designed for extension what happens is
that each view parses the entire pile of
attributes that it is given and it
ignores the ones that it doesn't
understand so for instance a textview
will parse off the ones typically begin
with text but it won't touch the ones
that begin with layout and the view will
parse the ones that begin with layout so
each guy parses his attributes and then
calls his super class and the super
class passes his attributes the result
of this of course is that if you
misspell something it will silently go
to go ignored it will be silently
ignored on the other hand that's what a
apt does a apt has when it parses your
xml it verifies it and it guarantees
that the that all of these attributes
are in the namespace so actually if you
look here you will find attributes that
you actually can't use and the reason is
that Android has a white listed API the
white list is in this file here if what
happens is that this that that XML file
gets turned among other things into a
class called r dot adders and r dot
adders like every other java api in
android r dot adders is subject to white
listing and unless it's been white
listed
here you can't see it and as the tiny
little note down here says so I can get
this out of the way before you ask me um
no I don't understand why that makes it
invisible in XML so that explains why
you can't get at it from Java but I
spent many I spent a fair amount of time
trying to sort through a apt on this and
I can't actually figure I have not yet
figured out why it is that these things
are illegal in XML as well but they are
it's the same it is probably the same
control it is probably a hide or public
declaration that hides them so suppose
we site decide to package a widget we've
we've written our new widget and we want
to package it up and we want it to be
configurable we want folks out there to
be able to configure it well you'll
actually see a fair amount of this the
way that people one of the ways that
people will do this is they create an
abstract parent class with this huge
wonking constructor and you create a
subclass of their class which doesn't do
anything except initialize all the
values in the constructor okay this is a
this was this has been a very common way
of customizing widgets in Android you'll
see a lot of code that looks like this
and it's fairly awful it's a fairly bad
idea that well it's better use custom
attributes so let's add new attributes
that our view can read our view looks at
these attributes and configures itself
that means that the person writing the
layout person writing the XML simply add
needs to add new attributes to your view
your custom view and your view gets its
gets its configuration the same way
other views get their configuration from
that that list of of attributes
it's a three-step process there for a
waltz
so the way you do this is you create a
new director new file down here in the
values directory called adders
and
I need to find some attributes you put
them in Addis Claire style able element
and within the declare styler balelo's
so the name piece is the name of the
attribute and the format format
describes what that attribute is going
to look for as its argument as its value
okay so the attribute is the thing that
is that follows the name and the type of
the value is the thing is the thing
described by reference and that one
that's missing the one that's got a
quote code there won't work I don't know
what's up with that but that won't work
though the bad news here is that is that
you you might think that this tag view
here this guy is a namespace and that
your tags are inside that namespace
unfortunately it's not true all of the
attributes that are used in your
application have to be unique if you
think about it for a second
you can see how that's going to work
they're all turned into our dot adder
dot something right they're all they're
all going to be turned into java names
and those java names have to be unique
and those java names don't include this
thing up here
so this part has to be unique so you end
up with these bizarre names okay
so this gets you the attribute right now
you have an attribute declared
the things out there in the format
section there as far as I could tell
they're completely undocumented there
are ten of them there lifts listed in
tiny letters on the edge of the screen
there they're actually they're defined
right here in this file resource table
dot CPP like that that's that's the
definition of those attributes types
when you build the attribute types when
you build the type of an attribute when
you set its format you can order
together several attributes they're
their bits so you can or them together
they have bit values so you can or them
together you can set for instance say
that this is dimension or a reference to
a dimension in fact it turns out that
that's usually redundant and in fact you
will probably never use an or it doesn't
make any sense to say that this is
either a color or a dimension that's
just nonsense but what does make sense
is to say that it it is either a color
or a reference but it turns out that
that the code for color for picking up
color now handles references so you
don't need to say or reference okay
there are some places where you will
want to say just reference but you
almost never need to say need to or it
in pay attention to the syntax of Enuma
he knew ms the way you do for instance
true/false in this case or Styles
suppose you wanted to suppose you wanted
serif sans serif you know and mono
spaced fonts you could do it with one of
these innews
but the way you do it is with the
attribute tag is of type II new and then
you just include the including neumes
inside it
this is one of the more important slides
here
there's no way to digest this I suppose
in one in one reading but it is the code
for parsing an attribute let me see here
a second
so there are there are a couple of
important points here that I will show
you on the next page one three and four
what happened - - there was it - I know
there was so um so I'll switch back and
forth between these two slides as I
explain them so the first thing is the
first thing is to be sure to call your
super constructor as I said it is it is
essential that the whole point of this
is that you parse the attributes you
know about and then you called the super
constructor to let it parse the things
it knows about and so on till you get
back to view okay and view I mean it is
essential that view runs it's code looks
very like this and it's essential that
it runs otherwise your layout won't
happen right and your your your object
won't have a minimum size and it won't
work at all so it's essential that you
call the super constructor so the second
thing is that it is a good idea to get
this typed array oh that's what happened
okay it's way out here I'll betcha
it's just it's just the two is right
about here on the wall
so um so you actually can this attribute
set that you're passed here you actually
can simply parse the attribute set
there's no reason not to do it it's
unnecessarily complicated to do that
though because styles haven't been
applied yet and references haven't been
followed yet if you if you use this
obtained styled attributes then all the
Styles get applied so things that used
to not have values now have values and
things that used to be references that
is things that had at signs in them you
all know what at signs are right
references to other objects to other
other bits of your
your other resources so things that are
at signs have already been resolved okay
so definitely this is the way to do it
get the typed array from the the
attributes head and once you've got that
you just walk through them and case on
each one run these cases okay
and you'll recognize this that's Java
for this okay so this got turned into
our got style but that thing and here it
is right here our dot style ball etc
okay so you pick them out and set the
values in your in your object based on
these things and you're good to go
typed array has has methods that
correspond pretty much exactly to the
ten types so you can get a color you can
get a dimension there are a couple of
extra things there is pixel pixel offset
and for instance if you want to get a
drawable you declare it as a reference
and then you get the drawable from the
reference the last bit there is be sure
that this doesn't scroll off your screen
alright
be sure to recycle the typed array when
you're done with it typed array is a big
thing and it won't go away until you
recycle it you need to tell the garbage
collector it can have it back
um I will suggest a style for doing this
so the style I suggest is that you have
a a stack variable a local variable
whose name corresponds to the attribute
and you set it to the default value that
you choose for the attribute so right
here I set this value this variable I
give it the default value that I want
this thing to have then down here I
actually get the value from the XML in
the case statement I actually get the
value but I pass the value in the
default value to start with this it it
sets all it puts all the setting of
default values together in one place all
of the parsing together in another place
and then finally set your final
variables the final variables in your
class so this is all done in the
constructor set the final variables for
your class as the last thing so there
once again it's another waltz there so
many things are it there are three steps
first of all set the default variable
values then get the actual values if
they exist and finally set the finals
that are the class invariance if there
are a lot of these things you might want
to consider using a builder okay you
might you might consider pulling this
whole piece out making it into a builder
and just getting back a config object
from your parser still has to happen in
the constructor though are there any
questions about this this is almost the
end of styles is this making making
making sense is this all plausible
custom attributes yes
ah this one so it's impossible to see
this but what this is is in the in the
values so res let me do it this way so
that my videographer doesn't kill me
afterwards in res in the res directory
in the values directory inside that
there's a new thing called adders adders
XML and it's the thing that contains the
declare style
so then you just use them there's only
one tricky part and that is that you
need to set the namespace that they're
in you need to tell Android you need to
tell essentially what you're doing here
is telling a apt where to find these
custom attributes this is always your
package name always regardless of
whether these things are defined in a
library file in a library project or
something like that
use your package name here okay
so it always says HTTP colon slash slash
yeah I don't even know what res Otto
does sorry I have no clue hmm um the
only thing I've seen along those lines
is that even within a project Eclipse
will for eclipse can't Eclipse doesn't
follow references Eclipse doesn't know
how to follow these references if you
make a reference to something here and
then change the thing at the far end of
the reference the Eclipse will not
update stuff it will not run the well it
runs a apt again it will not update
views and things like that it will not
redraw the image editor the layout
editor um the only thing I can imagine
is that so when you have a library
project it is a apt is in fact sucking
in the resources from that project and
building them in the local project
that's the only thing I can think of but
no I've never used it is it do you have
you used it with actionbarsherlock
hmm yeah haven't met it I haven't met it
cool
um so be sure you get that be sure you
get the be sure you get the namespace
right this says that I now have a
namespace called tag view right here the
namespace is tag view and as I said this
part is completely predefined you must
what this has to be is everything up to
res slash and then exactly your package
name from your manifest once you do that
you can use the you can use these the
namespaces and a apt will understand
your it will do all of it needs to do it
will do everything right it will for
instance not let you type put a color
here it will not let you put a reference
to a a drawable here all that kind of
stuff okay so it a PT will parse this
correctly once you get that namespace
right okay yeah
yeah yeah that name shows up here I'm
sorry that's right so the question is
the question is if you let's see when
you when you define the attribute the
attribute set has a name the styled
attributes have a name does that is that
name used anywhere and see it is but you
know I can't remember where
maybe it's not I don't know I don't know
that's very seed that you know I could
swear I remember writing that down
someplace and I don't recall where I
mean using that having those seeing the
unpleasant tag view dot tag view dot tag
view dot tag view - something but I
don't recall we're sorry about that
there are only two places that you use
those things one is the Java when you're
parsing them and the other is here so
I'm seeing despite my recollection that
I have used them I don't see them here
and this works so perhaps you just don't
know okay that's it for for creating
your own attributes you now have a way
to to initialize to let anyone who wants
to include the code for your custom
widget and then customize it from the
layout instead of from you know by by
creating a subclass or something like
that
all right any questions about this any
questions that I can answer about this
somebody throw me a softball all right
so let's talk about styles styles our
next styles are simply collections of
attributes so it's it's really simple
it's really straightforward to create a
style you simply translate android :
attribute equals value into so that the
attribute goes it becomes the problem
the value of the name attribute and the
value becomes the contents of the
element all right and then you apply it
by saying apply the style notice that
style doesn't have a name space pretty
weird but it doesn't
so here's a basic use of a style so this
is a textview in which the text size is
fixed 64 SP and it's green and we simply
separate that into a style that says big
green so the style is a reference down
here to this style which is in a
different file okay so that everything
above the two sections above are in
layout files the section below is in a
style dot XML file this style is a
resource it lives in a resource element
and it's the big green style and it just
as I said all of the all of the
attribute names become values of the
name attribute and then the value of the
attribute turns into the contents of the
element okay
Stiles inherit from one another this
gets you CSS or this hasn't this doesn't
have the power of CSS but at least
starts it's at least it's at least in
the right general direction there are
two ways to inherit from another style
and inheritance works the same way it
does everywhere you can inherit from
another style you can either add to it
or you can override it so if you inherit
from some other style and replace some
value in that style with some other
value what you get is the most recent
right so if for instance green so big
sets the text size to 64 SP if green set
if big green set the text size to 32 SP
the size would be to 32 SP Android takes
these things in order of proximity so
the most recent the the lowest child in
the tree wins and furthermore if there
are if there are specific constraints on
the on the view itself those beat out
any style okay so so that they the
attributes given here
the view always beat the style and the
the nearest child always wins yeah so so
big green always beats great big okay
the lowest child the youngest child
always wins and even the youngest child
gets beat by by attributes specified on
the view so I could say big green here
and override this with a text size of
128 and regardless of what the previous
two guys said that's what I'd get yeah
that's right there's only one parent
yeah
yes one there can be only one the second
way to inherit is with the parent tag
and we'll see that that's that's the
parent attribute we'll see that that's
important in just a minute because well
as I said the wind here is obvious right
so among other things the designer now
gets to control can set up standard
appearances for your application can set
up a limited number of standard
appearances standard colors standard
text sizes standard weights all of that
kind of stuff and you just apply them in
your code and not only that but when she
changes her mind and decides to do it a
different way then it there's not no
change necessary in the code that's the
best thing factoring out makes the
styles less brittle if you decide to
change the style in one place it changes
everywhere whereas if the styles are
embedded in each of you in the layout
changing one yeah I mean you have to go
through and find them all and finally
most important like any other resource a
style resource is subject to resource
qualifiers you all know what resource
qualifiers right are right there those
the things after the - in the names of
the these things hard to see I suspect
well no they're just fine but these
things the the thing after the - here is
a resource qualifier and it says that
this is that this set of resources is
only applicable under these conditions
for instance the one we just looked at
says those set of resources are only
applicable if you're using version 11 of
Android or greater so you can set up
resources you can set up styles that are
only applied depending on whether you
that are only applied if you're in
landscape mode or only applied if you're
on a big device you can make your your
application look good whether it's on a
TV or whether it's on my phone just by
using styles this isn't this is this is
pretty significant the most common way
to use styles is to inherit from the
Android styles and override them so if
you want your button if you don't want
to figure out what your button should
look like from top to bottom override
the button style Androids button style
so inherit from it and change a piece of
it and then apply it to your code you
can't inherit from a an Android style
basically what it is is the namespace
you can't inherit from something outside
your namespace by using the dot syntax
in order to inherit from something
outside your namespace they you need to
use parent use the parent attribute the
dot trick is actually fairly new I don't
know when it was introduced but it's
it's fairly new um a quick aside if you
haven't read net resource drawables you
really should there's probably nothing
you could do that makes your app that
customizes your app quicker then then
having cool looking buttons and you can
do that almost for free with a resource
drawable these things are pretty neat um
this is a piece of a resource drawable
or a piece of a button definition an
actual button definition would be a
layered resource which which was
composed of several rectangles all very
similar and these rectangles these
similar rectangles would have different
highlight States they'd represent the
different highlight States for the
button so you can build a resource
entirely out of XML that'll just make
your make your application look a lot
better great idea
so I said a slide ago two slides ago
there that one of the best things to do
is to inherit your styles from Android
styles so if you decide to do that how
do you know what the Android styles are
how do you find them well it's a lot
like finding the attributes they're all
defined in our dot style or there
they're described in the documentation
in our net style than HTML those are the
ones you can see they're defined there
in the styles.xml and as usual their
visibility is controlled the same way
everything else is that's a class unless
those things are visible the RDoc styles
class unless the api file down there
makes those members of the style class
visible you can't have them there's one
in particular that's real popular called
widget button dot transparent that
everybody knows is there and everybody
would like to use and camp can't have it
and again I don't know why these aren't
visible in XML but they're not so the
last piece the last thing are there any
questions about styles do you see I mean
you see what a style is the style is
simply the way to take a bunch of
attributes from a view object and to
bundle them up as a style and then to
apply them yeah
I don't believe they are at all I don't
believe that yeah I don't believe that
you can style them at all it weren't it
turns out that you can use themes on
them and I'll show you that in just a
second but I don't believe you can style
them at all precisely precisely so a
theme you'll you'll see a lot out there
you'll see people talk about themes as
if they were styles or a collection of
styles or something like that I urge you
not to think of them that way
I urge you to think of of a theme as as
a function dispatch table as a theme is
a collection of definitions it's a bunch
of it's a bunch of pointers to things as
I say a dispatch table isn't a bad way
to think of it this is a tiny segment
from theme hollow and you can see what's
defined here those things all of those
all of those names here each of these
names there's there's no way to tell
these names apart they don't have type
these names are simply references but
there are references to two styles a
reference to any Noom and a reference to
a drawable and they all look the same I
personally find it incredibly confusing
that these are defined as styles not
only that but so does a apt we'll see
that in a second so the thing about
style is that it allows you to back fit
the appearance of Android of bits of
Android I have a quick demo to do here
it's really fast maybe I don't
I have a quick demo to do in just a few
minutes because when we change screen
size I turned off the emulator so it'll
take a month of Sundays to get that
running again
so themes on Android Android sets the
styles of things that it puts on the
screen things over which you note have
no control it sets them according to the
theme if you assign a theme to an
application or to a component in that
application Android honors that theme
while it is drawing all of the objects
that are under that components control
you can assign themes to as I said to
the application or to each activity you
can assign different activities
different themes so for instance if you
have an introduction page that you want
to look one way wanted to have an action
bar and to look like a normal Android
application and then you push the start
button and it goes into game mode where
it's using the full screen you can
control those things simply by assigning
two different themes to the two
different activities it works great
what I want to show you here is this
application here's the base activity
it's called activity zero
here's activity one it does nothing new
it is simply that it's whole reason for
existence is that it's different from
activity - okay there are two activities
which use exactly the same code right
when I run them however this one is
green and notice that the background on
this is green the background on the menu
bar is green then if I push to the
background on the menu bar is purple
that's because I've set two different
themes here on the two different
activities theme one app theme one is
applied to activity one and app theme
two is applied to activity two and if
you look in Styles the way those two
themes differ is the background but the
most important thing the thing that I
want to make sure you you see is that I
am not only affecting the background of
my program of my bits of bits of the
view that I control
I'm also affecting bits that Android
controls okay
the background for these pieces of the
menu bar this this this and this all of
those pieces of the menu bar we're
affected simply by setting the theme
that's pretty good okay that's pretty
good that means for instance that you
now have a prayer of dealing with the
gingerbread honeycomb divide where
Android got rid of the of the menu and
put in the action bar you can simply
have different themes and in fact that's
exactly what actionbarsherlock does
these two different themes effect your
look different way and they're
controlled by resource qualifiers
same resource qualifier that the same
resource qualifier that I just showed
you a few seconds ago that shows V 11 or
V 14 those can deal with the menu with
the action bar they can set up the
appearance of the action bar whereas the
the views that are inversions older than
that don't
so
if you want to if you want to refer
right so if you want to refer to a
member of a theme okay and this is
important down here this sentence is
very important this is this is the place
that you can confuse a apt so if you
want to refer to a member of a theme so
in this case we know that the theme
defined an attribute called button style
we know that that's part of the theme if
that's part of the theme I can refer to
it it is a style it is a style that is
piece of a piece of the current theme
and I could refer to it as I did right
there with a question mark syntax this
only works for things that are pieces of
themes it it doesn't work for styles and
by the way Android play plays pretty
fast and loose with these attribute
names there are plenty of attribute
names that are both style attributes and
theme attributes when they are both
what's happening is you're getting the
one from the theme and that works if you
are simply referring to a style
attribute this will compile but it will
not run it at startup time you'll get
you'll get a kind of an odd error that
says that for instance that's not a
style that the thing that is pointing to
there is not a style even though you
know full well that it is only use
question marks with themes
themes with resource qualifiers are
incredibly powerful this gives you
almost everything you need you can make
your application look completely
different right down to the stuff that
doesn't belong to you okay right down to
the appearance of the action bar you can
change the appearance of the action bar
depending on what version of Android
you're on and there's just one more
thing we need to do to tie this all
together and that is way back at the
beginning I showed you how to create
custom attributes for your widgets well
what you want to do is you want to style
your custom widget based on the version
of Android you're on okay this is the
big-deal
this is the payoff okay so what I want
to do now is I want to say my tag view
when it's running on version 11 looks
one way and might or but more more
useful so let's say I want my tag view
tat use a big font when it's running on
a TV and a small font when it's running
on somebody's phone alright so what I
want is I want a theme that can style my
custom attribute so how do you do that
well it takes three things first of all
we have to go back to that adders file
and we have to define some new
attributes these are attributes that are
used nowhere else except as references
in that theme the next thing we need to
do
let's create a parent theme that defines
the attributes I'll show you these
things in code in just a minute
and finally your news you use the
question mark syntax throughout your
code to refer to the refer to the
style okay so now now you're tagged my
custom tag no longer it is no longer
styled using a style it is styled
indirectly using a reference through a
theme and I'll show you how that works
so first of all here in attributes I
create two names that are not attributes
I expect to be used anywhere these are
going to become theme just theme members
next in my style I create a theme and
this is just the default this is the
standard one that it uses these two new
attributes and notice that in this file
I do not have this it will not work if
you try to do this with a namespace you
must do this without a namespace all
right
there's no namespace here and there's no
namespace declared up here but I create
a new theme and the theme has uses these
two new attributes and the attributes
refer to styles so now I have an
indirect reference to the style that I
want to use now in my layout
I refer to the style as the member of
the theme once again notice no namespace
if you try to do use a namespace it
won't work now because this is an
indirect reference when I change the
theme when I create new themes for new
versions of Android or old versions of
Android or different screen layouts or
whatever since this is an indirect
reference I'll get whatever style is
declared in the theme that that does it
okay yeah now you're pretty much home
free so you can custom you can build
your custom widget style it with custom
attributes assign create sets of custom
attributes that belong for as styles and
then assign those custom attributes to
the single theme and reference the
Styles indirectly through the theme and
you get this so these things this for
instance is a textview but its style is
controlled by header style and header
style is this guy down here or that and
I still don't get my shrink-wrapped
widgets I want shrink-wrapped widgets
thanks a lot</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>