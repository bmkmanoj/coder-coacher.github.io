<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>The Lesser Known Features of ES6 | Coder Coacher - Coaching Coders</title><meta content="The Lesser Known Features of ES6 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>The Lesser Known Features of ES6</b></h2><h5 class="post__date">2014-08-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Nk5Hw2Jmz0Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so my name is Brian Hughes I'm a
front-end developer at our do we're a
music streaming company for those of you
haven't heard of us and today I'm gonna
talk about a few of the other features
and necklace scripts ticks that aren't
being talked about as much I hope you've
been to some of the other equi script
six talks today there's been some really
good ones so let's get started so Ekman
script six is coming out pretty soon
word on the street is that the spec
should hopefully be finalized sometime
by the end of this year maybe early next
year
and browsers we should start seeing like
really good sauce the board support
sometime in 2016 2017 that's word on the
ground anyways of course that could
change it's notice but yeah it's gonna
look good so first of all here's what
I'm not gonna talk about today these are
like the big things everyone's talking
about we're giving in classes which is
awesome we are getting modules which is
also really awesome we're gaining
promises which we talked about earlier
today and we're also getting generators
which Ben talked about a few times but
I'm not gonna talk about that first I'm
gonna talk about plot scope variables so
actually I bet a lot of you have heard
this before but just for anyone who
hasn't and I just want to make sure that
you know what this is about because I'm
gonna be using these today so as that
you probably know variables in
JavaScript are not block scopes they're
function scope so if you declare a
variable inside of an if statement you
can and reference it outside and this is
you know different than how most
languages work well they're introducing
a new keyword called let and the let
keyword basically says this is going to
be in this block only so if we take a
look at this example code here we have
you know an if statement and we say let
foo equal 1 and then after that we have
Const par equals 2 so yes cost will
actually be a part of the language and
it will also be block scoped and so then
if we try to modify it you know we're
getting exceptions if we try to access
these things outside we also get
exceptions so if we run this code we get
this as an output and this is great so
next up I'm going to talk about template
literals these used to be called quasi
strings if you've been following you
know the spec process at all and
basically this is templating like it's
most similar to underscore templates but
you can also think moustache handle
except it's built into the language and
it looks like this you can see we use
the backtick character to specify a
template string just because it was kind
of the only quote we had left on the
keyboard and you used the dollar sign
and then curly braces around it and you
can put any JavaScript expression you
want inside of that and will be
evaluated so when we run this code we
get hello bark so pretty cool
moving on to object literals we have
some new ways of specifying properties
inside of it and there's what's called
computed property names and what this
allows you to do is you have a variable
that has you know a string or something
that can be coarse to a string in it and
you put it in your object literal inside
of square brackets and what this means
is it says take the value of your
variable and dump it in as the key name
so you can think like this is useful for
mix-ins and things like that so when we
run this code you see we're referencing
object foo which is you know the value
of my prop we get far back all right so
another object literal modification is
we now have a shorter way of specifying
functions inside of an object literal so
this is a very common that you know we
add functions inside of it so now we can
skip doing you know key colon function
and all this stuff and so we just simply
do the name of the function parentheses
with whatever your arguments are and
then the body so whenever we do
something like this we get barback so
this is great for saving a lot of
characters and plus it's also a named
function too which is kind of nice so
getting out of object literals we now
have what are called rest parameters so
who here has ever used the arguments
keyword and you here hates using the
arguments keyword right pretty much
everyone arguments is something of an
abomination that was sort of like an
array but not exactly and you get
tripped up by it and so they said you
know what let's do something new so they
came up with this concept of rest
parameters the idea is you have your
arguments to your function and then you
do a dot dot dot you have three dots and
then the name
of some other identifiers and basically
what this says is take all the rest of
the arguments passed into the function
and put them inside of an array that has
the name of whatever comes up to the
dots in this case we're creating an
array called rest and this is an actual
array and you can iterate over it and do
all the typical or great things you do
so when we run this code we're passing
in five parameters we can see that you
know a and B are of course one and two
the rest is actually an array and then
we get three four five inside of that
array now this is also nice because you
don't you can have you know parameters
that are always required at the
beginning that could be totally
unrelated to whatever is in your rest so
this prevents you know back into the
arguments say after you coerced it to
array you might still have to do a
splice or a slice or something like that
to get just what you're interested in
and so this I think is a little more
elegant there's another new thing coming
called spread which is pretty much the
opposite of rest so this is whatever you
want to call a method you can take an
array and you basically take the values
of that array and you sort of spread it
out as the rest of the arguments this is
sort of analogous to doing you know
function call or apply except that it's
also nice like the rest operator and
that you know it's sort of like partial
you can give it an explicit argument and
then you can spread out the array after
that so in this specific case what it
will do is it will take this array with
three elements and basically apply that
to the rest of the function after the
first one so when we run this code we
indeed get one two three four as a
result so pretty cool another thing that
I think is really cool is we now have
what's called the four of statements of
course everyone I'm sure is familiar
with for loops you probably use the for
in loop for iterating over keys in an
object well now we also have the four up
and it's just now another variance and
what this looks like is we have four you
know your initialize are just like an ax
for in except the of keyword instead and
what this does is this allows us to
basically iterate over each element
inside of the array so this is different
than four and four in will give you a
key back you know because arrays are
ultimately object
four of gives you the value back instead
of the key and so when you want to
iterate over an array this is a really
clean really elegant way of doing it
where you don't have to mess around with
indices you don't have to use for each
you know or each if you're using
underscore or lodash and we can easily
get all our values out so when we run
this we get a B and C so nice and
compact now of course you don't always
want to use a for of array anytime you
need an indicee so you want to modify
the array you want to you know splice
something out you can't use four of in
that case because you don't get that an
index in it but for I think a lot of
cases with arrays you know this is this
is gonna be great all right so moving on
to probably my favorite feature coming
is D structuring this was briefly sort
of hinted at and an earlier talk today
the one talking about like processes and
macros and stuff like that
so what the structuring is the way I
like to think about it is it's very
analogous to tuples and Python doesn't
even else here know much Python okay so
a few so you probably run into tuples
and the idea with tuples in python is
you can return more than one thing from
a function under the hood this is kind
of different semantics but you are
essentially doing the same thing the
idea is you have some complex object and
you want to break it apart into like
simpler parts and assign those to other
variables so in this case we have an
array you know with two elements in it
and you can see we have the special let
statement where we have brackets that
says okay we have an array and we want
to break it apart this goes on you know
the left hand side in this assignment
and you basically give it the names of
the identifiers you want and it will
basically do a like a pattern match and
we'll take the first two elements out of
the array on the right hand side break
it apart and assign it to those two
variables so when we run this we indeed
get one and two so this is gonna allow
us to get really really concise code I
mean how many times have we all done the
pattern where we call a function we get
an array back and then we gotta assign
it to a temporary variable and then we
create two more variables to get those
first two elements that we go on so this
is essentially doing that all wrapped up
into a single lines
I think this is awesome now they took it
a step further though so this is
basically how you do tuples in Python
now the next thing Python actually
doesn't have an equivalent of at least
not yet and that's because you can also
destructure an object not just an array
so what you can do here is you know we
created an object and then we say let
once again know where this is on the
right hand side but instead of the
square brackets we use curly brackets
saying that we're going at a d--
structure in object and what you do is
on the each of these little sub elements
here you give the name of the property
you want on the left and the name of the
variable you want to assign it to on the
right of that : so in this case we're
going to take you know the property the
value of the one property and we'll
assign it to a and we'll take the value
of the two property and assign it to B
and so we run this we get one and two
back so I think this is even more
powerful you can think about if you have
you know a rest call or something like
that where you're getting an object back
and you know the first thing you do is
once again you assign that to a
temporary variable and then you create
two more variables in which you're a
leasing out those properties you want or
if you're not doing that you're
constantly referencing you know response
dot response dot response style
throughout your code and so this is a
way if you know just really cleaning
that up and so these are cool features
but I think the really great thing about
this is when we start mixing these up
together you know each one of these is
kind of nice in its own way but you
start combining them and you can really
start creating shorter more concise code
and I think more readable code too and
more readable code means more
maintainable so just as a little
contrived example this is kind of
bringing a lot of stuff together so
first we're creating two variables a and
B and we're giving them some name
properties letter strings first and last
and we're using these as properties so
we have a computed property you see
we're doing a and B those computer
properties so we're basically creating
these two objects with a first property
and a last property now these are also
functions so it's a function called
first and a function called last that
takes one parameter you see we have its
function body body up to that and what
this is doing is it's essentially taking
a template yeah you
it takes us one parameter will turn a
template that modifies its output based
on whatever you pass into it so you can
think of this as you know let's say a
model in which you're calling like you
know a a get last name get first name
and it makes it you know pretty prints
it for you so then we have this function
that called print that's going to print
things out in last name comma first you
know this is like a formatter and of
course we are using the rest operator
and we are passing in these two objects
just as arguments you notice this is not
an array of people these are just
arguments to print so we're using the
rest operator to basically get those
into an array and then we're iterating
over that array using a four of so and
inside of this four up though you notice
that we actually have a destructuring
assignment in your initializer for that
four up so instead of a sign into one
property we're assigning it to - so
we're looping over this array
destructuring out and you notice there's
only one reference to the array no
references to any temporary variables
and then we log out their name we're
capitalizing the last name and not
capitalizing the first why would you
want to do that yeah I don't know that's
just for the example but this is really
concise and we run this we get Jones
comma Alice and Smith comma Bob written
really short so what would this look
like today it just as an example yeah
how much is this actually saving us so I
decided to code this up in es5 and it
looks like that it's about 40% longer in
terms of actual number of characters so
not only is it more code it's a lot more
dense too and there's some interesting
stuff going on like you can see we're
doing this array dot prototype dot
sliced out apply thing two arguments
which if you've seen that before you
probably Smit as this is how you make
arguments an array and actually you know
deciphering it you got to sit there and
think for a minute okay what is wait why
were you reading the array prototype
okay what's a slice let me look up slice
real quick and so you're having to do
all this like kind of mental math to
figure out what's going on with it and
also you look at you know when we're
creating these objects there's just a
lot of stuff too and a lot of different
assignments and these could be mixed
around anywhere so this could be very
very ugly code and at best it's only
someone
ugly code now we'll say if you are using
ECMO script six today there are ways of
doing this
there's a compiler alt out there called
tracer I believe is how it's pronounced
from Google and it basically treats ekam
script six like a compiled two language
thing like CoffeeScript or something
like that so you can use in browsers
today and when you use a tool like that
it would actually take the previous
slide this slide and it will convert it
to this under the hood so this is
actually what would be running today and
but that's a good way to play with it to
it you can get to know it and in fact
every single code example you saw on
this I ran through tracer and actually
worked and so if you want to grab the
slides here's some links to them and
I'll also post on Twitter of course you
know hashtag for j/s and there's some
more links in there as well so the
actual code you can grab I have a little
snippet out there and that code it's
just innate racier enabled websites you
can run it view the console and have fun
all right questions correct yes it's
just properties on it and now if you
have an object that has like a
prototyping
properties going up it will search up
the prototype chain you know it's a
normal property lookup mechanism yes yes
so I didn't repeat the earlier question
so the question was if you do with the
structuring of an array but you don't
match up its length let's say you have
three variables on the right but you're
raised only to long then yes that third
variable will get the by you undefined
it's just like you're referencing you
know and the bracket index that's out of
bounds so the same thing yes and if
there is more elements in the array than
what your different referencing they are
ignored and same thing with properties
on an object as well if you try to
reference a property that doesn't exist
you'll get undefined and if there are
extra properties on the object they're
ignored
so the question was if your
destructuring an array can you use the
dot syntax inside of it on the left hand
side so we do let bracket a comma B
comma dot rest you know I'm not a
hundred percent certain but I seem to
recall that you can I would probably
need to read the spec though it's a tell
you for certain hmm yeah I seem to
recall seeing it before but yeah I don't
want to tell you you know yes that's
absolutely it and then trying to be
wrong yeah so the question is is has
there been a proposal to echo script or
to tc39 that will basically combine for
in and for of such that you get back
both the key and the value
there isn't currently as possible it was
discussed and then dropped but I think
at the moment any I think on that it's
probably going to be a pretty rare
occurrence and especially you know if
you need that index it once you have the
index it just really easy to get the
property so yeah you might be able to
save a little bit but it's probably not
gonna help you that much okay so the
question is was the difference between
for each in for of they're actually
basically the same thing I so if you're
not familiar for each is a method on the
function prototype so every foot sorry
not a function on every array prototype
so every array has a function call
called for each and you give it a call
back and I'll call it back for each
element it's sorta it's basically the
same thing but the difference is that
with for each you have an extra function
call now sometimes you actually want
this because you know you want each call
back to or each iteration to be sort of
in its own context so this is useful for
example if you do an async call inside
of it you know you need to make capture
the state if you do in a loop you know
it's gonna loop on pass and your index
is all screwed up but aside from and
obviously the four of you don't have
that but other than that they're
basically the same thing now another
difference though is that for of it will
most likely be much much faster you know
once we get implementations out there
one of the problems with a
for each is that you had to actually
make a function call for each element
and function calls are you know kind of
expensive in JavaScript you have to
create a new context potentially new
closures and all sorts of things like
that all right well that's actually time
for a nice stop so it's perfect
thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>