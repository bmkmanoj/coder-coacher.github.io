<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Best Practices for Building Popular Open-Source JavaScript Libraries - Forward 4 Web Summit | Coder Coacher - Coaching Coders</title><meta content="Best Practices for Building Popular Open-Source JavaScript Libraries - Forward 4 Web Summit - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Best Practices for Building Popular Open-Source JavaScript Libraries - Forward 4 Web Summit</b></h2><h5 class="post__date">2016-03-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TYeBsdcYs7U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">kind of a relatively short talk about
building open-source JavaScript
libraries so in one of these 20 minute
sessions you have to keep it really
high-level so what I do is I'm gonna
talk about open source JavaScript
libraries how you can build one and how
you can get it distribution and then I'm
gonna have I put these slides up online
afterwards and have a bunch of links to
further reading afterwards so it's kind
of an overview on this who the hell am i
I'm James I'm from England you probably
tell him that from the bay area for my
accent and I have I built a company
called bug snack I'm a founder and CEO a
company called bug snag but before then
I built a bunch of open source software
a bunch of open source libraries and
I've been coding and building libraries
and JavaScript for over 10 years now it
makes me sound a bit old when I say that
way so yeah just as I mentioned a run a
company called bug snag were based here
in the Bay Area and we provide the tools
and workflow for software developers to
detect crashes automatically in any app
that they have and when I say any app I
mean web apps browser apps desktop apps
and mobile apps we have plugins and SDKs
for every platform every piece of
software that you're using to
automatically detect crashes and put
them into our dashboard for you to go
ahead and move forward towards a fix so
starting through the beginning right
ground one is what is a library so this
is obvious to most most people here I'm
sure but JavaScript libraries a
component you can reuse between
applications so every time you build a
product maybe you want a search box in
there you want to autocomplete box or
something like that you want to be able
to reuse that multiple times because
otherwise you're reinventing the wheel
so it just doesn't make sense to build
the same stuff from scratch every single
time but people are normally used to
using libraries using other people's
libraries grabbing something off of
github and using themselves but
everyone's innovating everyone's
building something new so why not take
what you've built extract it out into a
library open source it and share it with
the world that's what I'm going to be
talking about today
so why why do that why bother
so you can share code between your own
apps I already said this so you can if
you put something in a library you can
drop it into any JavaScript application
you build forevermore as long as you as
long as JavaScript still exists but I
think it's pretty hard to kill at this
stage it's been around for a while and
the my personal opinion is that if you
share your code with the world if you
extract out a library and you put it out
there to the rest of the world it's the
best feeling ever not only are you gonna
get feedback on your project not only
gonna get people pull requesting and
making improvements to it so your stuff
that you're using your own projects
other people are going to make better
but also you've spent hours and hours
and hours putting kind of blood sweat
and tears into something why not give it
to other people
if my kind of philosophy is when
building my own projects on when
building things with bugs snag as well
is that if it's not like core product
stuff if it's something that can be
useful for other people why not open
source it take a little bit of extra
time and give it out to the world it
feels great basically it's a summary on
this one so creating library now this is
the part I'm gonna keep really concise
and I'm gonna give you some links
further reading on this because is
actually I could talk all day about this
and I bore you guys to death but
creating a library the good news is you
can cheat you can come in and you can
use boilerplate so what does boilerplate
mean but the plate is the structure of
your repository a structure of a library
that makes it super easy for anyone else
to drop this into into their
applications so boilerplate typically
means the directory structure the build
system if you want to minify it or build
it and anything in between sometimes
even the testing tools in the testing
process now there's something really
really awesome you guys might already
know about this but if not check it out
there's this tool called yeoman yeoman
is all about building boilerplates
and generating skeletons for things so
if you're setting up a new even a Ruby
on Rails application you can run yeoman
to set up a skeleton if you're building
a new angular app and you react app
there are generators available for
pretty much anything
and if there aren't you can build your
own generator which is relatively easy
so what I'm kind of advocating here is
don't reinvent the wheel even when
you're building your own library use a
generator in yeoman super easy to get
started it's got a fun little command
lined CLI tool called yo so when you're
starting a new project you're like yo
angular and it just pulls up your boy to
play and you're ready to go so again
I'll put these up online afterwards I
put them on my speaker deck page in
JavaScript land you're gonna be either
building plain old JavaScript library or
you're going to be building a component
or a library for a framework so if
you're building a plain old JavaScript
library I probably recommend write it in
ACMA script 6 and fresh new sexy Java
scripts and you can do that using this
boilerplate up here that's the the babel
boilerplate so babel is a way of taking
Ekman script 6 and turning it into
old-school ACMA script or old-school
java script so it runs in any browser
this is the way to go in most projects
but let's say you're building a library
for react you're building a component
you want to share with the world for
react there's a there's a generator for
that this is the one that I recommend
and also let's say angular building an
angular library angular component
there's already a generator for angular
as well now I've put these three up here
because these are ones I've used in the
past and actually quite good there are
thousands of these if you want to do
something very particular very specific
someone's already built a generator you
can cheat you can use their code already
I'd recommend doing that and then the
hard part which I'm gonna go over and
I'm gonna do some further reading on but
writing the actual code so the good news
is once you've setup with yeoman you're
boilerplates you will have a jump off
point you'll have an index J asur a main
jeaious or whatever the boilerplate
gives you that's gonna be the main place
you want to put your code that's where
you want to put your main class that's
what you're gonna expose to the world
exposed to other developers so I'm just
gonna give kind of three Maxim's three
like cheat codes here minimize
dependencies it's the worst thing ever
when you're pulling in something sounds
really simple like a little cheeky
autocomplete plug-in and you install it
and it pulls in 15 dependencies behind
the scenes it's the I hate it
Meowth it stressed other developers out
as well I'm sure it stresses you guys
out when you see all these other
dependencies pulling in suddenly your
javascript code has gone from being like
five kilobytes to 100 kilobytes because
it's pulled in Twitter bootstrap or
something ludicrous behind the scenes
yeah I've seen a library that does that
so minimize dependencies be nice to
everyone else don't force them to use
something else even jQuery you would
argue or jQuery is ubiquitous Jake URIs
everywhere if you're just using one
thing from jQuery let's say you're just
using Ajax from jQuery maybe use a
cut-down library or smaller library that
just provides that functionality you
don't need to fill up someone's a
limited JavaScript space download space
with other crap that you're not going to
use encapsulation obviously when you're
running a library try and expose only
what that library should do so I'll give
an example here let's say you're writing
this is kind of just good practice
anyway for coding so you guys know this
already but let's say you're writing a
library that's telling you what national
food date is today and you've got some
data in there whatever you you don't
necessarily need to expose all the
private functions you don't necessarily
need to say expose the data structures
inside just give one function or one
exposed access to this class which is
your customers are going to use all your
consumers of your library are going to
use so like what food day is it today
it's national pizza day which was
yesterday hopefully everyone had some
pizza and then reusable functions of
classes these are just kind of good
practices I'll put a link at the end of
this which is a really really good
tutorial for those kind of stuff I'm
gonna gloss over this on purpose because
we could talk about this all day long
what I want to talk about is after
you've built something that is good and
after you want to share it with the
world how do you do that so everyone
always talked about testing when you're
building a library it's super super
important because you might mess up
someone else's code so testing is super
important there's various schools of
thought on this I love to use mocha
mocha Jas has been around for a while
now four or five years
it is solid the guy who wrote it is very
very prolific JavaScript developer and
it's it's really good it's very easy to
use it's a very declarative way of doing
things so basically you can say let's
say that example of like what national
food day is it today you can say if I
put in the date of today February the
9th or whatever it was yesterday it
should output pizza day so you can build
up your test and that's very easy to do
include your tests in your github repo
for your library it's easy to do
everyone else can run it and also it
allows you to run them automatically
whenever you do changes in continuous
integration again you guys probably
using something like Travis CI already
if not check it out it's the kind of de
facto standard for open source projects
and the reason it's the facto standard
is because Travis is free for open
source projects so if you're building an
open source library use the free thing
it's very very good if you've ever seen
on a github repo those little badges at
the top that's like build status passing
like big green checkmark they're really
cool to put on your github repo unless
your tests fail and then you feel like
an absolute failure and then you want to
go and fix it immediately so it's like
it's like a peer pressure almost having
this you lot you're like saying look how
good this is but if that ever goes red
you're gonna get an email from Travis
and you're gonna have a red badge of
shame on your github repository so get
this set up it's actually a really good
motivating aid for making sure that
you're delivering quality stuff to your
customers but also it's really good for
that people are doing pull requests to
your library so if someone's saying hey
here's an improvement to your library
project you've made Travis will also run
tests on their pull request so you can
say oh thanks a lot for your
contribution Jane but it's not passing
tests can you clean up the test before I
can merge it so it's actually it's just
generally a good thing especially in
libraries so you've built it you've
tested it you've got continuous testing
happening every time you push code
changes this is where I get quite
opinionated about things if you're
building a library it is not just an
afterthought or an optional thing to
document it it is essential otherwise no
one's going to know how to use it no
one's going to know the benefits
using this product project that you've
made and it's just going to disappear
off into the ether and no one's ever
going to know how much effort and time
you spend on it so there's some obvious
stuff here but maybe not obvious to
everyone put a readme file in there and
do a really good job of it so when
you're writing a readme file
don't just say here's the name of the
project and here's how to install it you
want to convince someone to use it and
it sounds like a weird thing a lot of
software engineers are kind of almost
afraid of the concept of marketing but
if you've built something you're proud
of it you want to convince other people
to use it because then they're going to
tell other people about it then more
improvements come back into your project
so talk about the the benefits of it
talk about why it's gonna save you time
using this library talk about if any
other companies or customers or people
are using it maybe they'll give you a
shout-out in there it sounds a bit
unusual but it's totally worth it
I actually pick actually a little bit of
a show of hands I'd love to see how many
people here have picked a library for
use in their product or project based on
how good the documentation was okay so
it's it's it's you can tell how
important it is to do that yourself if
you don't do that people are gonna be
like nah no matter how many stars you've
got on github or whatever if there's no
Doc's you're just gonna ignore it so
that's the readme everyone's going to
jump straight to that readme and get a
thirst thing first thing you see the
next thing is because you're open
sourcing this code documentation is
incredibly important so when I say code
documentation I mean putting comments in
line in your in your code and you want
to do this on a library especially
because other people are going to be
using it other people going to be
improving it other people going to be
sending you improvements to the product
so my personal favorite here to use is
es doc which is relatively new compared
to Jes talk which is I think about 15
years old genuinely es doc is a
documentation standard for writing
documentation inlining comments that is
atmosphere atmosphere it six-plus
friendly so you can be able use all the
cool things from new javascript modern
JavaScript by
using this library es dockets called
it's very very good so what you can do
there is you can write just comments in
your code you can run a script and that
script will generate a whole set of
documentation about your code and
example apps and when I say example apps
I mean more than one so if you're
building a library presumably you can
conceive of more than one situation
where this library will be used or
should be used do an example app for
each of those and make it really small
and really simple because you'd be
surprised at how many actually I could
do a show of hands again but I know
everyone put their hands up where's the
first place that you go to test if a
library is any good you go and look at
someone using it in real life you view
source you look at how they're using it
you look at how they're actually doing
it in real life so put them in a github
repo so the normal convention is to have
two folders in your github repository
source which contains the libraries code
and examples put an S on there or force
you to do more than one it's really
really good practice also the coolest
thing about writing example apps in
JavaScript library is that it actually
gets your imagination flow and you start
saying what other ways can I use this is
it how can I improve the interface how
can I add more functionality to this
class so that it can go and be used in
these other situations as well when I
said I'm opinionated about this I'm very
opinion about this spend as much time
writing documentation as you do writing
code and if you follow this rule of
thumb people will find out about it
they'll like it they'll share it and
they will improve it for you I actually
do this I check myself when I'm read
whenever I'm running a new library I'll
be like okay now I've written it yeah
ship it and then I'm like no one no
one's gonna care no one's gonna know
what this is how to use it or whatever
so I pretend that I've discovered this
library for the first time and what
questions would I have how would I build
this so when I say writing documentation
I mean these three things here do a
readme make it clear show off and don't
be worried to kind of puff your chest
out a little bit and say this is cool
I'm proud of this write inline
documentation and generate documentation
start using something like ES doc and
build example apps build more than one
example app even if they're five lines
of code it doesn't matter build more
than one
so you have built it you've written
tests and you've written documentation
what next get it out there in a place
that people won't download very easily
so Bower is now pretty much the industry
standard repository for JavaScript
libraries it's also incredibly easy to
publish to Bower again I've only got a
short session all the docs are about IO
and they're really really good very easy
to learn but basically what you do is
you build your library and you put a
little metadata file in your library
that says I think it's called Bower JSON
that says this is the name of my library
this is a description here's some
keywords that you can find it by what
that allows you to do is in any project
in future you can add your library let's
say we're doing the National Food days
library I was talking about earlier as a
dependency to your product I actually
can't think of any project where you
would want to have national food days as
an actual library dependency but maybe
you do that an example that you'd come
up with something cool there but putting
in Bower means that other people can
pull it into their application with one
line of code this is the de-facto check
it out it's worth looking into in fact
look at Bower if you're building an
application as well if you're not
already using it pretty much everyone's
using it these days but it's a good way
to pull in other dependencies as well
it's the way to pull in other
dependencies and the final part so now
you've put it up is published you've got
documentation you've got tests you've
got your code you got your library no
one's gonna know about it yet so how do
you get that first one or two or three
people to find out about it so the good
news is as you guys all know because
you'll hear it for Jes the JavaScript
community is amazing there's millions of
people out there who will give you
feedback and will share it and want to
use it some places I would recommend
even if people are afraid of Reddit
normally because there's some crazy
stuff on there the JavaScript subreddit
is awesome everyone in there is super
friendly they will come back and say oh
this is great or have you thought about
adding this or they'll come up with
ideas that come up with ways to improve
your your product maybe they'll come and
do a pull request this is actually my
go-to place now if you do anything
javascript put it on the subreddit it's
a it's pretty tight community on there
and very inclusive and accepting
hacker news is a great one everyone on
hacking news is building something right
there's or has an aspiration to build
something if you're building something
you don't want to reinvent the wheel and
do everything from scratch so you want
to use a library if you're building a
library that you think other more at
least you build it because you wanted to
use it that means there are 1020 100,000
a million other people who want to use
that same library put it up on a can use
the comments aren't necessarily great in
the discourse isn't necessarily great on
how can you use compared to Reddit but
you will learn a lot and you'll get
people you get eyeballs on it and one
thing one new center that I really like
is JavaScript weekly first off if you're
not even writing your library subscribe
to this it's great you can learn a lot
about JavaScript you get an email in
your inbox once a week and it has all
what's new in JavaScript that week if
you've built something you want to share
it with the world
you could probably ping I've done this
in the past you can ping an email to
JavaScript weekly and say hey I've built
this thing is this something you might
want it you might want to put out in the
news alert and you know what they might
do it and more often than not they
probably will because it's interesting
if you found it interesting you're gonna
use it other people are going to use it
as well there's also various other I
didn't put the kind of links up here
URLs up here but in the Bay Area
especially there are so many meetups
JavaScript meetups framework meetups
like angular ember reacts go down to
these meetups if you're interested in
sharing things and just be like do a
little quick two-minute lightning talk
because they have these at the end of
each event you can be like what did I
build this week so you go look at this
great library I built in react anyone
interested and what happen is this is my
favorite thing about them the meetup
specially in the Bay Area is people come
up to you afterwards and be like I was
thinking of building something about
myself or have you thought about
extending this for this purpose or this
reason it's it's the best feeling ever
to get other people talking about what
you've built and how how to improve it
it's just very it gets your creative
juices flowing
so because we only had a short amount of
time and I've got to finish up now this
is a really really good series on how to
build an open-source JavaScript library
this is not something you can do in a 20
minute talk this is like a multi our
kind of video
session it is amazing I looked at it a
couple years ago for the first time and
it's updated really frequently it's got
video guides it tells you how to set up
your structure of your libraries what it
doesn't go into and which is why I spent
a little bit more time on is how to get
it out there how to get it out into the
world and how to document it but this is
all about actually the building part so
if you want to get started building a
library open-source library the first
time this is a great guide I definitely
recommend reading into this I don't know
how I should have put it up but it's
kind of a meta thing I'm gonna put these
slides up on speaker deck I am speaker
tech comm slash loop J l oo pj after the
talk and i'll see if forward will tweet
it out as well so that you guys can
check the link on that and yeah so had
to keep it nice and short
hopefully was a quick overview the one
takeaway that I would say for everyone
is if you build something share it
you'll be amazed and surprised at how
many people were pumped and excited
about actually putting into their
projects don't be afraid the community
is awesome build it put it out there and
you'll learn a lot about yourself and
your get quite excited I think so
alright cool
come and say hi we're down in the saucer
room if you want to get a Java Script
lapel pin we have a some limited edition
of that come and say hi</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>