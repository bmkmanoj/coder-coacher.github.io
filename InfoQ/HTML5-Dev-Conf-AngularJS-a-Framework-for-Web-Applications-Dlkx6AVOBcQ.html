<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>HTML5 Dev Conf: AngularJS, a Framework for Web Applications | Coder Coacher - Coaching Coders</title><meta content="HTML5 Dev Conf: AngularJS, a Framework for Web Applications - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>HTML5 Dev Conf: AngularJS, a Framework for Web Applications</b></h2><h5 class="post__date">2011-10-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Dlkx6AVOBcQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I
so um English is what is it well we like
to say it's the it's what a web browser
would have been had it been designed for
web applications right because if you
look at web browser it's a wonderful
thing it does a lot of different things
but the Holy web app thing is really an
afterthought really it's not what it was
really meant for so what is it first of
all it's a JavaScript library that's
written purely in JavaScript so any
browser will be just fine it's open
source available on github under MIT
lunch license and we are Google funded
so actually Google's paying my paycheck
to work on this full time there's
actually three of us full-time we're
working on this so we're hopefully going
to be around for a while and we want to
take a completely different way a
different look at building web apps so
that's specifically the problem they
were trying to solve which is why is it
the building web apps is so difficult
you know who things that building web
apps is perfect then there's nothing is
to be changed nobody okay good so web
apps is actually a tricky thing because
you need to know a lot about the
railroad browsers work to build anything
and the reason for that is really just a
history right you know 89 we get HTML
and then htmls meant for static
documents for sharing static content and
for that HTML shines you know it's
wonderful at it comes 95 we get
JavaScript you know originally meant for
doing little bit of film validation
nothing crazy and then about two
thousand five people figure it out like
you know you could build some serious
apps with this thing and it's amazing
that using primitive tools available to
people in 2005 you know they were able
to build crazy things like Gmail and
Google Maps so nervous 2011 and question
is what's different well what's
different is that our JavaScript engines
are super fast you know I saw some
charge something like 300 third increase
in speed of JavaScript execution that's
pretty impressive right but
mentally the way you build an
application today and the way you built
it you know five years ago an object
style application hasn't changed there's
no new abstraction levels that have been
produced and so you said well yeah but
will earn their already all these
different technologies choose your
alphabet soup that solve this particular
problem well I think that you could
separate the world into three different
kind of categories one set of
technologies basically treats the
browser as a dumb terminal you know
that's where all the magic happens on a
server and then you have a round trip
classical app we're not interested in
building those apps you know these are
not the apps you're looking for then you
have a another set of technologies
jquery fall squarely in them which is
dom manipulators or if you're thinking
about it libraries like jQuery jQuery
you know John has done an amazing job
with jquery we love it it's so terse and
everything but if you think about it
jquery shouldn't have existed if the web
browsers did their job right right
jquery is a patch on top of browsers to
unify them and to make working with dom
bearable and finally there's a third
kinds of technologies to basically give
up on HTML and CSS and they say you know
HTML CSS is just too complicated in
javascript and which is going to
abstract you away from it and so link
technologies like xjs cappuccinos proper
are perfect examples over we're building
a web app is pleasurable in these
technologies but it's not really
building HTML CSS is not what the what
the web was intended for while out
intended for but it's not where the web
should be going so what we want is one
technology which embraces JavaScript
embraces HTML embraces CSS and says this
is the right to build out but at the
same time make it easier so let me give
you examples this is what I love about
HTML right it's declared you want to do
a hello world app it's super simple you
do p tag you know exactly what's
happening
this is a HelloWorld in Java Script okay
this is ridiculous this is the craziest
most complicated hello world you can
possibly have written in any language i
think this beats everything let me just
go through it just to kind of point out
how complex this is right so you have
your P tag which eventually going to
write stuff into this is where it says
greeting now you can't just write to it
because JavaScript gets to execute
before the down actual loads you have to
register a on Dom ready event you guys
are familiar with this right okay you
have to register and I'm ready event and
then once you register on that were in
the event you have to wait for so you
have to get a server the p element you
want to write into and then once you get
ahold of it you can write into it and of
course this is done differently on most
browsers then it is done on IE so you
have two oldest crazy code to make it
compatible with IE as well right this is
crazy how many people think this is good
okay okay I saw their hand going up for
a second let's completely insane so
comes jquery right and you go like ah
it's so much easier to read you know i
understand what's going on its thirst
true it is easier to read it's more
terse but if you think about it nothing
has fundamentally changed right you
still have to wait for the bomb to load
you still have to get a hold of the p
element you're going to ride to and you
still have to write a text so the code
below produces the output that you see
up here right so jQuery helps a lot but
it doesn't change the mental model of
how browsers work and this is what we're
trying to do is we're going to try to
say let's go a level higher so what I
really want to be in angularjs is to
simply say look in order to the hello
world there's a variable called greeting
I want to assign to that variable and
whatever I want to place this variable I
just want to have data Bonnie when I
have double curlies and say this is what
the variable should go right now you
look at this nigga leg up that's simple
its declarative it's clear this actually
will produce the output you see on the
top but you say at this point Mishka but
no the trouble is that you're mixing
concerns I do to have separate ok
and the Clinton and the view so really a
more canonical way of doing this is to
say the P tag is controlled by a
controller in this case a greeting
controller and inside of there was a
binding location which is the greed and
a greeting controller is simply a class
that we're all familiar with in
JavaScript in this case is just a
constructor function that says you know
take the hello world assign it to
greeting and then that becomes
automatically assigned to the bind
location now notice what's missing out
of this example it's missing is the
problem of you have to wait until the
DOM is loaded that's gone also it's
missing is how do I get hold of the P
element right and there isn't there's no
longer the problem of how do I get hold
of my elements usually in jQuery that's
old using CSS selectors so that i can
write into the dom and the trouble with
the CSS selectors is it make very tight
coupling between your UI and your
application code so your web designers
don't have the freedom to do anything
they want because if they change the CSS
selectors you know your app no longer
works and of course you as a web
developer you want to read some behavior
you really have to talk to the web
designers and say please don't change
the CSS selectors otherwise my bindings
won't work and that kind of goes both
ways now in order build a web app you
need to do three things you need to be
able to read on values from the user you
need to be able to write to the Dom
which we have already demonstrated how
we can do and then you have to be able
to talk XA charge the server so let's
look at how this is particularly how
this is done using jQuery so you know if
you wanted to have a simple hello world
so in orders as i type i'm updating the
text right typical stuff you want to do
in a nap this is what jQuery code looks
like basically you have to declare your
input your your destination this is your
callback function this is what I'm
talking bout have to get hold of the two
nodes inside of the Dom tree this
creates coupling between those two
locations here's your update functions
which simply being reads the value from
the input concatenates it with a string
and assigns it to a greeting piece of
cake here comes my favorite part of this
now we want to do this on every
keystroke right so we register a key
down event but this is where the
knowledge of how browsers comes in and
you really have to know this you have to
say okay what event comes when the key
is pushed but that means the browser
hasn't processed the event yet so if I
read the value from the input field at
this point I don't have I have the value
that was there previously not the one
that is about to get updated with so I
have to do a set timeout 0 right in
other words I have to say your browser
you did all this stuff and then when
you're done you doing normal stuff which
is updating the input field call me back
so that I can read the value back out
right anybody feel like this is insanity
right this is complicated right in other
it's complicated in a sense like all
this is so complex you have to be a
genius to work with it's just like 20
million kind of little things you have
to think about when you're building your
web app and this is one of them and the
end result of this is that when you look
at the code it's sprinkled with all
these tiny little issues that you have
to work around in the browser and as a
result the amount of food that you have
I'm going to argue that the only
interesting piece of code in this app is
this right so that's one line of
interesting piece of code yet I have one
two three four five five lines of kind
of glue code to put this together right
so I basically I'm going to argue that
there's eighty twenty percent rule right
eighty percent of what you're going to
write using technologies like jQuery or
any technology for that matter that
fundamental gives you what the browser
gives you underneath eighty percent of
it is going to be dom manipulation and
twenty percent of it is going to be the
actual code right and that's what want
to fix so here's what the world looks
like in angular same exact behavior
notice as I type it updates right and
notice what's happening over here all
I'm saying is look there's a first name
and it's bound to this location think
like a spreadsheet right I don't mean
just copy it now I mean copy at any time
it changes in the future point in time
so this creates data binding and turns
out that data binding is the magical
glue that allows you to decouple all
kinds of things and simplify your
application in significant ways
so now this is almost no amount of code
that anybody looking at this can go and
rock like I understand what's going on
right to grok what's going on over here
it takes a little bit of investigation
to grok what happens over here is pretty
straightforward now why is that the
reason is this is imperative code right
you have to understand how the computer
will execute this this is declarative
code you say what you mean right and so
what we want to do is we put as much as
possible we want to allow the user to be
in declarative mode right I want the
developer or specifically the web
designer the guy who designs the way the
application looks to declaratively tell
me how the app should render on the
other hand the web developer the guy who
has actual JavaScript his favorite tool
is JavaScript and that's imperative
because you want to say what's the
behavior when I click a particular
button right so you want to make sure
that the only thing you have inside of
your new javascript is the actual
behavior in what you have inside of your
HTML is instructions declarative
instructions on how to project the
internal model in this case the model is
just the first name how to project that
information to the UI to the user can
consume let me give you a more
complicated example so here is you can
select your greeting and you know typing
updates this similar things notice again
in in jQuery how the actual interesting
bits get drowned out from the older Dom
manipulation and listeners etc that you
have to do the other thing about this is
that it's not exactly testable um
there's there's things you could do for
testability but because this is an
anonymous in a closure over here it kind
of makes the stability difficult and
we'll talk about that some more how many
of you guys are into TD oh wow pretty
impressed ok good we thought about that
as well
so same thing in angular again just data
by me doing the same exact job much
simpler stuff so one of the things I
wanted to point out is that are we
saying that you know jquery's that's the
wrong way to doing building apps and the
answer's no no we love jQuery jQuery
what is fantastic at is dom manipulation
but jquery doesn't increase the level of
abstraction it's the same browser event
system the same browser dom the same
everything that you have to think about
and building a web app is a lot more
than Dom manipulation right it's
necessary condition but it's not
sufficient and what we want to do is you
want to take all of the the dom
manipulation portion and allow you to
express it declaratively in HTML so I
owe to point out right so English is
increases the level of abstraction
whereas jquery just allows you to type
less code and that's the kind of
difference we want to go after is how do
we allow you to say what you mean rather
than write a whole bunch of imperative
code to do this work now the last piece
you need to do is you need to be able to
do xhr right so i have a very simple
service so let's see i'm going to say
San Francisco and everything I'm going
to hit greet it's going to send a string
to the server and a server will randomly
choose a greeting or prepended and send
back a random greeting to the client
right typical things you might want to
do in a web app this is done using
jquery no I'm lying this is done using
angular in jQuery you know how you would
do that right you would say do dot Ajax
Cole and all the magical things would
happen the difference here is that in
here you get a hold of this xhr object
which is essentially just like the Ajax
method coal inside of jQuery and you can
perform your Nicole back here the
difference is that the object here is
injected right you simply sell inside of
a controller in order to get my job done
I need this thing called xhr
and one will be handed to you there's a
registry of all the services we provide
one of them is xhr by the way you don't
like our xhr implementation no problem
you can override the service and will
provide you with whatever else you want
you can write your own implementation as
well but because it's injected
testability becomes really easy because
in my test I can simply say nuin griddle
controller and give you a mock xhr and I
can assert that hey the right stuff got
cold and I can pretend to return the
right things this is not really possible
with things like jQuery because the only
option you really have is to monkey
patch the method or you can inject the
method using you know but they back to
square one and you have to write your
own injection service so our controllers
have a lot of things built in for
testability as well but here is where I
would like you to stop thinking about
these basic things and just think about
it from a completely different point of
view so so far I've shown you these
simple examples like over here that
basically says you know data bind into
salutation and name and based on that
change this stuff you know there's a lot
of different frameworks out there who do
this mainly in the form of you take a
you know some template you take a model
you join the two together and you the
template usually is a string you take
the model you take the string and you
lunge it together and out comes another
string and then you go and you do inner
HTML right angle is different because
what it does is actually it says well
the input is a Dom I'm going to take a
model and I'm going to punch them
together then the output of that is not
actually a string or a Dom but rather a
linking function and this linking
function is a runtime representation of
the bindings so that if one of the two
properties gets changed the atom want I
don't want automatically gets updated
and this is important because if you're
doing string concatenation things are
relatively simple because you take
if you do let string concatenation you
know you take your input you take you
out but you manage together you get a
string output and you write to inner
HTML but once the user interacts with
the page and for example if the internet
email was an input box it's not clear
whether social the truth lies anymore is
it inside of the down because user
interacted with it or is this sort of
the truth lie inside of the model and so
the second time around when you have to
update this becomes problematic with
angular because of the way data binding
works the source of the truth is always
inside of the model so how does this
linking function work well it turns out
there is an HTML compiler that goes
through and looks for certain patterns
in in the Dom so in this particular case
the there's a directed inside of the
HTML that says hey when you come across
a select or an input I want you to
register a bunch of listeners on side of
something we call the scope so that if
those values change I can go and update
the UI and similarly it says well when
you come across these double curlies
inside of your text convert them into
spans with mg bond and also set up our
listeners on those variables so if the
value changes go update the UI the end
result of this is that you can write
your own bindings so for example
wouldn't be great if we could say hey in
HTML we have a zippy and by default the
zippy is open and it has a header and
has a pain and this is what you get
rendered out of it right browsers don't
know what to do with this browsers are
like well I've never seen this stuff and
they just kind of keel over and die and
do nothing useful right but would it be
great if you could give primitives to
your web designers right you could say
oh I just need a set of tabs just go
ahead and put bunch of tabs instead of
cutting pasting the concept of a tab all
over the place so which you can do in
angular is you can actually teach it new
tricks so you basically say look you
come across an HTML element that has
zippy execute this behavior on top of it
so that with the magic of a little bit
of CSS not shown you can basically get
the zippy that you want in other words
we allow you to turn HTML into a DSL
right at the main
specific language you can write your own
code you can write your own behavior on
top of it look like a little detour for
a second do you like the presentation
will hear the html5 slide decks I'm sure
you've seen it many times before right
the ones before only oh okay other it
was pretty popular on our web I don't
know who did this we just kind of took
this slide deck and we improved on it a
little bit let me show you what's the
view page source it turns out this is an
angular app and look what we get to do
we simply say body and we say slide
here's another slide in another slide
right so when we wanted to create a
presentation we created primitives that
are useful for this type of application
so if I wanted to add a new slide into
the cyst include my presentation I
simply have to say slide and off I go
this particular thing happens the way
you expect now this also creates a
proper deep linking so if i refresh the
page I'm staying on the proper slide I'm
not going anywhere else and so on so the
point I'm trying to say is that while
it's tempted to think of angular JS as a
way of building web apps what it
actually is underneath is an HTML
compiler right it allows you to come up
with a syntax that is best suited for
building your web application if that
means Zippy's it between slides if it
means whatever it happens to mean you
get to come up so when your web
designers go and start building a web
app they don't have to say well let's
see I need to create a zippy which means
i have to go and create the special CSS
and the special class and the structure
has to be in the following way and so on
ok let's talk about testing for a second
so documents don't need to be tested web
apps to you right so HTML is a static
form system and as a result there's not
much testing you get to do inside of it
but web applications have behaviors in
other words declarative code there isn't
much to testify declarative nature of
things but imperative code needs to be
tested so we help you in so
several ways first of all we let you
declare able to specify the way things
get rendered in other words that's the
kind of stuff that you don't have to
worry about testing but also we create a
very clear separation between the
controllers and a dom manipulation one
things that I wanted you to nervous when
I forgot to mention that if we go back
to here's a here's a piece of code right
which did the xhr nervous how know we're
inside of the controller we have any
references to DOM right and that's great
for the stability because I can simply
instantiate this as I said provide a
mark and all if I go testing it without
actual loading the UI but you need both
you need a unit test which proves that
the particular behavior works but you
also need a test to prove that the data
binding works and we'll show you that in
a second so you need both end-to-end
testing and a unit testing story for
your application and finally we provide
dependency injection you know I showed
you how xhr got in there how many of you
guys familial dependency injection is I
mean people use it in JavaScript
probably mostly in Java huh okay all
right some people use it in JavaScript
yes so the villains injection it's this
amazing snake oil let me just sell you
some snake oil No is this amazing way of
separating concerns and what it allows
you to do is by separating things out it
actually becomes more testable easier to
understand the other thing that's
missing out of an angular application is
the main method right every application
has a main method and how to assemble
all the pieces together there is no main
method in angular because all of the
information and how an application gets
assembled is really inside of the
metadata in forms of dependency
injection and it gets assembled for you
automatically so that when you come to a
page the compiler says oh look there's a
directive that says i need to go load a
controller and then loads the controller
the controller says well but i need the
following set of services in order to
work and tries to load the services and
the services they can recursively say
but i need these other services to for
me to work as well and the end result is
that the whole app comes up without you
we're having to specify a main method
the advantage of that is that if you
want to if you have an app built this
way and you decide hey you know it would
be really nice if for testing purposes I
would skip the authentication part you
can easily override the authentication
service with always authenticated and
all of a sudden your application works
in all of the Gator mode and it gets
assembled in a different way so as I
said we provide a unit testing framework
and an internal testing framework but
we're also very opinionated about a way
application should be built and
specifically the sweet spot for angular
is crud application right so you
wouldn't build a game using angular but
crud is pretty much ninety percent of
the web maybe eighty percent of the web
right it's the thing where you have a
whole bunch of input forms and you want
to show stuff to the user maybe even the
table format or something like that and
the crud is the sweet spot of the app
and so we provide not only the framework
but also a methodology or how to get an
application so we provide you with
something we call a seed application
it's very similar if you're familiar
with Ruby on Rails where generates kind
of a see the directories and kind of
gets you started quickly similarly we
provide all the necessary pieces so not
only do you have a framework but you
also have a ways of unit testing out of
the box and into and testing out of the
box you know something that's very
different from most systems where they
say well here's what ever the library
does oh wait just ability well you're on
your own you can figure out your own
story over there so before I show you a
couple of demos the point I'm trying to
make is that angular is different in a
sense that we don't want to abstract the
way HTML and JavaScript from you we just
want to make it easier to use right so
we embrace HTML Javascript and CSS and
we decide that's the fundamental way of
building a web app and we do this by
increasing level abstractions we make
your browser festival and we think about
how to set up the API so that the right
things just happen kind of
the box all right let's do some demos
before oh yeah so pure JavaScript
there's no server side component
whatsoever so you can work with anything
you want on the server it's as I said
it's two part it's the HTML compiler
which allows you to build up a DSL for
what you need and there's a framework
that we kind of ship with the dsl
compiler because we say well we think
we're going to you're going to need many
of these components and we're about 25k
minified and gzipped which means it's
about the size of jquery we actually
will use jquery in if you if you load
jquery inside of your page will go
through jquery to modify the Dom if you
don't load the jquery we have our what
we call jquery light which is like like
bare minimum implementation of jquery
just so that we get to run the way you
would expect and the nice thing about it
is it's not an all-or-nothing
proposition like some frameworks are
like for example sprout quarry you can't
just say oh I'm going to put a little
bit of sparkle in this page and this
other page I'm not going to use any the
nice thing about angular is it follows
the philosophy of jQuery where you can
sprinkle as much of it or as little bit
on your web pages as you want and if you
have an existing apps you want to
migrate from a round trip app to a in a
textile application angular actually
works pretty well for that because you
can start as a round trip app a dynamic
behavior to existing pages and then
slowly migrated them to become more
dynamic over time we're pretty one point
oh yet so we're changing the AP is like
crazy and we are actually looking for
some crazy JavaScript engineers at
Google to work on the stuff thank you
for attending I hope you guys will get a
chance to try it out if you want to
contact me my email is here we go this
is where you can check us out if you
want to contact me because you're
interested in working on the school
project or you're interesting working
for google just send me an email at
myshko mis KO at google com so
thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>