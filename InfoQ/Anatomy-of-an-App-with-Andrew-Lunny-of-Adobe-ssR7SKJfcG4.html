<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Anatomy of an App with Andrew Lunny of Adobe | Coder Coacher - Coaching Coders</title><meta content="Anatomy of an App with Andrew Lunny of Adobe - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Anatomy of an App with Andrew Lunny of Adobe</b></h2><h5 class="post__date">2012-05-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ssR7SKJfcG4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">everyone my name is andrew lani I work
at Oh be on the phone go I got built-in
has anyone here heard of PhoneGap cool
people used to find gap at all awesome
cool so I won't spend a lot of time on
this talk on I'm throwing up it so but
it's good grounding for you guys to have
so yeah my job title is computer
scientists I worked at a tobe software
which was where we developed the
PhoneGap framework for about four years
and then last year we were acquired by
Adobe so I moved down here with with a
bunch of the team I'm also an author of
a book about PhoneGap that is now
completely out date from the from the
title on down but you may still get some
value from it so that's that on a day to
day basis I work on phone get build web
service it allows you to upload your
code to our servers and we handle the
native SDKs and we build your app for
six different mobile platforms iOS
Android Windows Phone 7 blackberry webOS
and Scindia that's kind of the pitch but
actually there are still quite a lot of
problems with it and it's very much in
beta right now but it's open for anyone
to sign up so curious there's anyone you
use fun get build a few people cool so
PhoneGap as you may know is for building
cross-platform
native mobile apps using html5 so you
write html5 CSS and JavaScript and that
handles all the runtime behavior of your
app for the different platforms and this
talk is going to be about what mobile
apps actually are and some of the
considerations you should take into
account when designing and developing a
mobile
so one thing to note is that finger
perhaps are cross-platform native apps
and that seems a bit like a
contradiction in terms because when you
think of native apps you think of
different frameworks and different SDKs
for each platform so am i OS of course
you have objective-c and the cocoa touch
framework on Android you have the dalvik
VM and their flavor of Java on
BlackBerry's you have on some
BlackBerry's it's j2me I think it's Java
6 on the newer blackberries but it's
it's own SDK its own framework if you're
developing for Windows Phone you have a
c-sharp and the dotnet runtime and and
so on and so forth but with PhoneGap
you're actually developing these native
apps with html5 and this is an html5
conference and I'm sure we're all web
developers we're all big fans of html5
so you might expect this talk to go in
the direction of native against html5
and obviously I'm the guy from Adobe I'm
the guy from PhoneGap I'm not going to
be on the the side of native apps but
actually I don't think this is a real
problem that you should you should focus
on too much because ultimately your app
shouldn't be defined by the runtime
whether it is a native app using cocoa
touch or whatever or whether it's html5
that's probably not the most important
problem you're after solving that's
probably not the problem you should have
in the forefront of your mind so if we
can try and make a different distinction
with what people mean when they say
native against html5 what they're really
talking about is whether your apps a
good citizen of the platform or whether
it comes off as kind of a tourist
that doesn't really belong there so when
we think of citizens we think of people
or institutions that are responsible
they're considerate and knowledgeable so
if you think of the apps that you enjoy
and that you use the most they tend to
take into account the conventions of the
platform they tend to be aware of how
they interact with other apps and they
tend to know about their usage whereas
if you think about what the
association's you might have with a tour
you think it's something that's crass
and self-serving ignorant an app that
probably doesn't take much care for the
user interface or the conventions of the
platform and kind of just does its own
thing or to be a bit more concise you
could call it non jerks and jerks and
nobody wants your app to be a joke right
so there's a developer called Alex Payne
or a really great blog post called
shortchange in your business with user
hostile platforms and that's kind of
it's kind of an well it's written about
Adobe AIR but it he makes it explicit it
applies to his mind for frameworks like
PhoneGap and Appcelerator and so on and
so forth I'll have all I have a few
links and I'll have them all collected
at the end of the talk and he was
interested and Alex's post is is about
why as a developer you shouldn't use a
cross-platform framework
you should learn a native SDK and he
describes cross-platform Adobe AIR apps
in particular as the gray mystery meat
of client-side software saying they're
slow ugly inconsistent and awkward and
is this point is that these apps just
ain't right and people can tell is that
I'm not really gonna do a rebuttal right
away but just as a quick aside what the
people think is the most the most
popular hybrid app on iOS trading know
whether I took that screen fill up my
phone at 12:27 am but there's anyone
anyone know which are those apps sorry
I think the Maps up is is native I'm not
sure Facebook would be up there yeah
insta people there's another one that's
a hybrid app the one I was actually
thinking of which is which came as a bit
of a surprise to me is the App Store app
which is actually all the the user
interface for the App Store it's
implementing an HTML CSS and JavaScript
they just use native for the kind of
toolbars at the top on the bottom so if
it's good enough for Apple then it's
probably good enough for most
other people anyway that's my side back
to back to Alex as opposed only one in a
pile of the resulting applications but
he says you would make through Adobe
error that you would make with with
PhoneGap or a similar cross-platform
framework might even begin to pass for
native so that's an interesting point
and the question we want to say is how
do you pass for native why should you
pass for native and what does that even
mean for perhaps a pass as native so we
go back to Alex's post here are the
things he says about Adobe AIR apps and
and cross-platform apps they're slow
they're inconsistent they're ugly
using my term they're kind of tourists
to the platform and they're awkward and
his his term is their mystery meat and
his kind of employed contrast is with
native apps which you know just look at
the opposite of each of those terms
native apps are fast native apps are
consistent native apps are pretty native
apps are kind of citizens and native app
so elegant I can't really think what the
opposite mystery meat was the closest
was obvious vegetables but I don't know
if that really works so how do we get to
this point where we make fast consistent
elegant pretty apps I think at this
point we all know the using native SDK
is not sufficient we've all downloaded
apps from the App Store that use cocoa
touch and are still kind of crappy and
not good then we also know that using
native api's whether through 3d sdk
itself or through something like
PhoneGap is not quite enough you know
you can't just take a web app and throw
in a call to check the accelerometer or
to access the camera that's not going to
make a great app the way you make a
compelling app something that's kind of
a real citizen of the platform is to
have the right kind of principles that
you should keep in mind and how so
obviously the question I'm going to try
to answer is how can your app be one of
these elegant citizens over the platform
and I'll direct you to another blog post
this one I
a group with a bit more it's written by
Tim Bray who's a developer advocate for
the Android team at Google and also a
longtime XML HTTP standards guy and he
talks about three three rules for mobile
software and this is a really great post
you should look at after my talk and Tim
Tim is still with his principles down
and then he says that he starts
wondering why all software without
exception isn't written this way and
maybe for some cases you wouldn't want
also for it to be written according to
his principles but certainly for mobile
apps whether they're been natively
implemented whether they're actually web
apps deployed through a browser or
whether they're a hybrid like PhoneGap
then they're things you should take into
consideration and Tim's rules are that
your app should be crash only that it
should be loosely coupled with other
applications and it should remove
decoration and I think that's them maybe
not the clearest way of phrasing it so
I'll rephrase it in a minute so the
principles that I think are behind these
rules I I kind of said this before but
they apply equally well in my mind to
web apps to native apps and hybrid apps
and stays a bit more imperatively death
is certain that's a nice thought for you
Wednesday morning you're not alone and
you should stop doing so much warning my
slides aren't going to have actual code
you can copy and paste into your app
this is I'll have some more hands-on
sessions tomorrow if anyone's interested
but this is more an idea of where we
should be taking something like PhoneGap
so deficit what does this mean your app
basically has a very different life
cycle than a web app on a desktop
browser if you load an app in Chrome on
your laptop then it's basically going to
keep running as long as that tab in your
laptop is but in a mobile context your
app can be killed by the OS at any time
it can be interrupted by a phone gap in
the sort of phone gap by phone call or a
notification or
something like that you can have the
network dropout which is obviously a lot
more common on a mobile device then on a
desktop computer and these actually
apply to two web apps deployed through
the browser as well so Mobile Safari if
your app does too much stuff can just
kill the tab it can also if you have in
the background kill it when it needs
more memory so these constraints you
just have to be aware of when you're
building a mobile app so what are what
lessons can you take from this the first
is that PhoneGap why is this device
called device this event called device
ready that basically means all the api's
are ready for you to use so you
shouldn't do lots of expensive things as
soon as this happens because your app
could be starting up lots of different
times whenever the user uses it so you
just want to do a minimal startup get
the app up and running as quickly as
possible and go from there similarly to
the device for a Depot and get also
fires lifecycle events and this is
another thing that's really key for
making your app feel like it belongs on
the platform is when your app is paused
because the user switches an apple
because the app is interrupted or any
other reason you really want to save the
state of the app right away and then it
soon as that resume
event fires and your app is alive again
you want to go back from that and I'll
leave the implementation of save app
state and resume app state to tee you
guys and then the other events won't get
fires that you should really consider
the offline and online events in this
case it's just saving it to a variable
but basically you want to make sure that
anytime that network status changes you
take appropriate action and you should
always anytime anything happens in your
app you should save the state save it
locally replicate it back to a server
you always want to make sure you always
have to manage the state explicitly
yourself rather than leaving it to the
OS so leaving it to the framework and
this this kind of applies again whether
it's a web app whether it's a hybrid app
or whether it's a native app you've
always got to be aware of that those
life cycles and streams
so the next principle is that you're not
alone and that you shouldn't consider
your app to be kind of an island on its
own so most mobile apps are basically
listen buttons and then data and this is
okay so you have a Twitter app and it
has a list of tweets and then you have
some buttons to write new tweet and so
on and so forth what makes a mobile app
good is that you take your listen
buttons and your data and you've linked
them to the world
so you upload them to other services you
share data between services you share
data between apps this is this is really
the value proposition of a lot of mobile
apps you need to consider what the
communication mechanisms are for the
platform you're targeting and this is
something where there is a
standardization just yet on the web you
have whether it's hyperlinks or
something like a third-party JavaScript
file you might use and that allows you
to to link to other websites on Android
you have the system of intense which are
probably the best thing about the
Android OS is that you can register your
app to receive a certain kind of content
and then you can send intense asking for
other kinds of content and then any app
that's registered to handle that
specific kind of content can the user
can choose whichever one they want iOS
isn't isn't quite as nice as that
because it's much I Oh s is much more
tightly coupled between apps you want to
link between so if I want to link to the
Facebook app on iOS I need to use a
custom URL scheme that matches that
Facebook that I can't share it with any
app that will share a photo
I think the future really is is web
intents which is I'll have a link to
that in a second web intents are
basically enter it intents for the web
and I would highly suspect that iOS will
implement something like intense or web
intents in its next release
I certainly hope it will so just to
review this right now if you want to
share a thing in your app then basically
you have to do it explicitly for each
thing your
shirring - so if it's Facebook then
we'll call the Facebook share method if
it's Twitter will share the Twitter
share method if it's neither Facebook
nor Twitter then you're kind of out of
luck which is not ideal and there's a
lot more manual work for the developer
their URL schemes are basically exactly
the same thing if it's Facebook then
open the facebook URL if it's Twitter
open the Twitter URL if it's Instagram
and Instagram hasn't registered a custom
URL scheme or you don't know what the
Instagram custom URL scheme is then
you're out of luck and you can share it
early so web intents which I'm convinced
of a feature of this kind of thing you
have a simple intent tag that lists an
action a type like a mime type that you
can receive a href a reference to a page
that can handle that mime type and then
a disposition whether it whether the
service can occur in line on a page or
whether it has to take over the whole
window and then to invoke it it's just
simple JavaScript where you call an
intent with that action you say the type
of data that you have and a URL or well
this URL is it's not important the URL
is just the data that gets passed the
intent and then you call the start
activity start activity function give it
the intent and then that'll present the
user with the choice of any services
they've got that can handle in this case
sharing text Euryalus so I believe web
intents are just starting to be
implemented in some builds of Firefox
there's still a long way away on mobile
but I'm pretty sure that's where the
future is with communicating between
absent services and the third principle
I'd like to bring up is to stop doing so
much and that was a pretty great tweet I
saw about this the other day I know if
you guys know the old joke some people
when confronted with a problem thing for
using a regular expression now they have
two problems this is worse than some
people think
I'll solve their problem
but the void is inescapable and our
short lives are meaningless so maybe you
don't need to solve all the problems
right away and another link that kind of
illustrates a bit of this is a long
thread that was on the phone get mail is
talking about going native and some guy
had built an app using PhoneGap and then
at a late stage she'd run into
performance issues and he had ended up
rewriting his code in objective-c
and what he was basically saying was he
got pretty far along and then ultimately
there were these performance issues and
he had to debug WebKit and he had all
the CSS he had all this JavaScript he
had all this HTML and it was you know
picking an eel from a haystack trying to
find out what the performance problem is
and somebody else who had similar
concerns mentioned that he was able to
get rid of most of his code and he used
in this case the Zepto library which is
kind of a minimalist version of jQuery
it's a lot less code it defers a lot
more to the capabilities of the runtime
engine and then that allowed that
basically meant he had less code in his
app which meant there were less things
being done which meant WebKit wasn't
being taxed as much which meant the app
was performing better and I guess the
point I'd like to make about this is you
should consider when you're building an
app how much boilerplate you really need
if you really need to have a scrolling
library and a UI library and an MVC
library and the html5 mobile boilerplate
and so on and so forth
you get a lot from browsers nowadays and
if you can take advantage of something
that's in the browser rather than using
a separate JavaScript library then
things will be better for you in your
life so here's a simple kind of I don't
again this is kind of pseudocode kind of
the right sort of thing but in in WebKit
you have this well in most modern
browsers you have this query selector
all that does most of what you would
expect
from the dollar sign function in jQuery
so you give queryselectorall a CSS
selector it searches through the
document finds all the dom nodes that
match that selector and returns them
back to you you can add in this case I'm
not sure how robust this code is but you
can Elias add eventlistener
and then you have your own mini jQuery
at the bottom so you can bind to a
touchstart event as simple as that the
way Tim brain has posts freezes it is
that you should avoid decoration and if
you look at in this case we've got the
the mail app on iOS and the calendar app
on iOS I would have had Android apps but
it's a real bitch to get screenshot of
Android and you can see on these apps
they're doing very little it's a list
it's a couple of buttons and a couple of
panes and really your app is not going
to be used more than the mail app your
app is not going to be used more than
the calendar app try and try and do as
little as possible and the solution in a
lot of ways is that instead of building
one app that does everything you want
issue builds lots of apps and use
something like intent so URL schemes to
communicate between the apps also you
should get the t-pain app
so that's kind of the third point is you
can always have less code and really
with a mobile app with the lifecycle
constraints with everything that's
happening you can't do everything in one
app so try not to do so much
so those are my my kind of principles
death is certain you're not alone and
stop doing so much
hopefully that's somewhat useful there's
a there's a link down there if you'd
like to I highly recommend the articles
and the discussion I mentioned earlier
in the app in in the talk and I'll post
this link on on Twitter as well if you
don't get it right now
if I get billed is there a build up and
get back on and</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>