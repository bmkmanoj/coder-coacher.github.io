<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Writing Titanium Desktop Apps with Python | Coder Coacher - Coaching Coders</title><meta content="Writing Titanium Desktop Apps with Python - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Writing Titanium Desktop Apps with Python</b></h2><h5 class="post__date">2011-06-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/vsgT_-1Es8w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">my name is Alan gabbatha I work at
Appcelerator and I brought chatted with
me who's over here and he'll be showing
some he'll be showing some stuff on the
phone and or in the emulator up here but
so initially I I contact you guys I
thought we have a pretty cool solution
for Python programmers because one thing
is our most of our back-end is written
in Python so we create apps on a desktop
and we create native apps they're
cross-platform and they basically run in
JavaScript for the most part or on the
desktop they run in HTML so basically
this this first slide shows you what
titanium is and what we support on a
desktop we support Mac Windows and Linux
and I'm pretty fond that we have a good
Linux solution most of all the stuff
works on Linux and I have one machine
that I'm running which I have connected
running some Python getting some my
sequel data and I'll pull that up later
but the first thing I wanted to talk
about a little bit we're full open
source you can go get all this all the
source code for our product it's on
github and there's some links at the end
here where you can get that stuff at
titanium provides a library that you can
write it with frameworks which are
accessible from JavaScript so our the
theory is basically that these days a
lot of people spend a lot of time
writing web apps they've invested a lot
of time and they've a lot of people
writing Ajax and you know speeding their
code up and we do the same thing
on the desktop we allow you to do that
we run WebKit on the back on the backend
so basically you have a web interface
running on a desktop and you have run a
desktop app which is running JavaScript
essentially all of our libraries are
JavaScript accessible and then from
inside the JavaScript code you can
extend it and you can write Python Ruby
or PHP and Python is probably the best
supported right now one of the things is
almost all the scripts on the back end
that produced the applications are also
written in Python so a big chunk of our
of our framework on the back end which
produces and puts these applications
together is written in Python some of
the key points here for python is that
we have native applications running on
your desktop standard web interface
utilizes HTML and javascript on the
desktop on the on mobile devices the
mobile devices basically leave you in
JavaScript and we use squirrelfish on on
iphone and we use rhino on the android
which basically leave you in JavaScript
so one of the cool things is that chad
has put a wrapper around the sculpt
library which allows you to access
python from javascript so it's kind of
cool because now we have a solution both
ways for you and as python programmers
you can write native applications in
JavaScript that will run on the mobile
devices mobile devices of course being a
big thing now so and as I put here we
rely heavily on Python on the backend
for manipulating and creating the
applications so for Python developers
it's pretty cool
these are some of the stats
we've got about 21,000 apps out in the
wild there's one and a half million
active developers and there's about 20
million active users meaning people who
are downloading and using the apps so
there's there's quite a number you know
quite numbers here of applications that
are being developed we have a lot of
partners that were involved with doing
some big applications and there's some
really cool stuff something I can't talk
about because we're under NDA but
there's some really cool applications
out there for not just mobile devices
but for tablets and on the desktop also
yeah what's it's it is using native apps
and they're running basically in
JavaScript and you know basically
programming in JavaScript WebKit is used
on desktop for some of the controls the
frameworks that we have provide
windowing you know you can create
processes and threads you have
management of all your processes and
threads we're full open source and we
use open source products mixed in with
our stuff so we have third-party open
source we we support you know desktop
mobile our studio developer everything
is almost of our stuff is licensed under
Apache and it varies for the products
but I we do most of our licensing under
under Apache you can download from
github if you use github you can go get
most of the code all of the studio is
out there developers out there
titanium desktop titanium mobile
everything is available out there is
open source and you can go clone it so
what's actually happening behind the
scenes so let's let's talk about desktop
you know on desktop I mentioned that
we're using WebKit behind the scenes on
the backend so essentially what you end
up with is having a web interface on
running on your desktop and we leave you
starting with an index.html which would
be normally how you would code if you
were coding on the web so essentially we
what we do is we bring the web interface
onto your desktop there's no real magic
about it since we just use WebKit for
that but we do most of the programming
is done in HTML and JavaScript as most
people are doing on the web the
difference is you don't need to have a
server running and the applications
essentially run on your desktop as they
would be running on a server normally
but you don't need to hook up with a
browser and such so it's kind of a cool
environment you know for anyone who
hasn't coated in that environment before
it's very natural for people who have
written applications running on web
servers using HTML and JavaScript and so
of course these days well most people
are doing that so this fits right in
with most people's work and a lot of
people have JavaScript libraries that
they've written either Ajax or whatever
they can integrate them in very easily
in this and and or use other JavaScript
libraries that are available like jQuery
and such and then we do reduce the
application development time drastically
from what you would normally spend
writing applications in Xcode for
instance if you were targeting the
iPhone or the Android but we have a very
similar API that we that we use for
Android you essentially program in
dalvik and or if you wanted to extend it
or you would be in JavaScript writing
your code and you would you'd write that
way we have a bunch of examples one of
the nice examples that we have is a
Twitter claim that's called titanium and
it's in the it's in the Apple App Store
it's also available on github and Chad
ported the desktop version so and that's
all done in JavaScript so this is an app
that's written completely in titanium
Chad wrote this in about two weeks I
have it set up as my Twitter client he
could probably show you a lot more than
then I could on it but all the source
code is available it's in JavaScript so
here's an example of how we would how we
would call JavaScript we have a ti
include function that would call a
Python script and then that would get
executed in Python the namespaces get
extended so that while you're in Python
you can access your dumb elements and
such which is nice and as I mentioned
before Chad wrote a glue layer around
sculpt so it allows you to access Python
from the JavaScript as well so it's a
pretty powerful environment and that's
you know that would be essentially how
you it's how you would start your
application from an index.html and then
this is an example of calling my sequel
from there the difficulty in that is
that you need to stack all lined up
which is actually ironic it's easier to
set up on Linux for me anyways because
you can app get most everything and
everything's compiled 32-bit or 64-bit
so but it's tricky to get the stack set
up all the way down into my sequel
because on OSX for instance they have a
64-bit Python and even if you tell it
you want to run 32-bit you can go check
and they'll give you a 32-bit in size if
you do this max int but it's still
running in 64-bit if you look in the
active monitor so they kind of trick you
out is that you know not sure what the
advantages of that but like I said I
found it easier on Linux to set up the
stack and to run to my sequel so I
brought a Linux machine with me
and I think it's good you know that that
we support Linux and Linux pretty much
runs the same as the Mac in the Windows
versions do yeah he was that he was
asking if if you could bundle a specific
version of Python with the application
and in the case of Python and Ruby and
PHP we include we include those in as
third-party so yes I mean you you could
replace it and put your own Python if
you had a specific version of Python
that you wanted to use you could do that
also and once you create an application
you could modify your project and tailor
it and everything that's in the project
will be created and taken into that
particular bundle another thing that we
do that's kind of nice is you could do
your development on one platform and you
can package for all three platforms on
desktop so as I mentioned we support
Windows Linux and OS X you could compile
for all of those from one set up
whatever platform you're developing off
and we'll go off into our cloud and
produce the packet links back to that so
that's kind of nice also you could also
distribute that way and use those links
as your distribution if you want it so
that makes that that nice let's go back
here and basically I was you know
explaining like what happens behind the
scenes almost all of libraries are
written in C++ or objective-c we
maintain all three platforms so there's
no magic there you know we have
basically three sets of code on desktop
some of its reused but a lot of it has
to be separated because of the Objective
C or C++ we use gtk extensions on the
Linux side and we use the Cairo
extensions in the WebKit on a Windows
side so but they essentially all have
WebKit running on the back end which
allows you to get your HTML interface
in the future the way we look at it is
we have basically an engine that we want
to we want to just plug in different
engines so in theory if you had a Java
app we could do the same thing with
Tomcat or J boss and run that on your
desktop I don't know if there would be
that much advantage to doing that you
can you know run Java apps on your
desktop for the most part anyways so but
in the sense of thinking of engines I I
like to think of it as just plugging in
an engine as an example we could plug in
v8 and have a Java Script only engine on
the back end or just use squirrel fish
and not take in the HTML portion of the
WebKit so there's a lot of different
things that can be done there we have a
full set of API is in titanium you can
get geolocation we have sequel light
that's and that's embedded in it so you
can save your information with sequel
light if you need bigger stuff you can
go into other either Python or Ruby and
get to my sequel we're thinking about
writing a database module in the future
but most of them you could write modules
that could be extended also into the
frameworks so it was designed from the
ground up to be able to extend like that
we have you know various different
interfaces and we have we have libraries
that will let you get to to Facebook you
could get to Twitter easily so a lot of
the social networking file system sound
video all types of multimedia networking
so maybe this would be a good point here
for Python developers we where chad has
wrapped around the sculpt library I
happen to think that's really cool
because that allows and extends Python
to allow you to write on mobile devices
mobile devices of course are very
popular now
people scrambling trying to get mobile
applications with there's not a lot of
people that are doing the kind of
applications that we're doing so that
that space is really there it's not
abundant with with development
environments yet and I would say we're
one of the first there's a couple others
out there but it seems that we're one of
the the more mature ones and we've been
around for oh I don't know like four or
five years I think desktops been around
and Mobile's been out there and there's
there's some big partners working with
us so maybe at this point would be good
to you want to come up and and talk
about the sculpt stuff a little bit this
was just an idea that we had you know
maybe maybe a month and a half back it
was just you know I really like the idea
that you can do Python development in
our product on the desktop or PHP or
Ruby so you know most of the apps today
that we build are building JavaScript
for the mobile devices and I really
thought well is there a way we could do
Python on the mobile device and so I
started kind of playing around trying to
come up with an idea for this and I
don't know if everybody's familiar with
sculpt but let me see if I can pull it
up here I stumbled on this one I don't
know maybe a year back or something kind
of bookmarked it and kept it in my brain
but didn't really do much with it until
now but essentially someone has built an
entire you know basically built-in
browser implementation of Python it's
not fully complete but it works pretty
well and you know they continue to
improve it so my thought was could we
take this you know essentially
JavaScript library embedded into the
phone and then make it accessible
through through our product right and so
you know this is running in the browser
but you can see think it's controlling
there let me scroll down a little bit
but you can see that it's actually you
know here's the Python code in the upper
window and it actually executes this out
in the browser so you can write real
Python and get you know get the results
within the browser so what I did is
actually take this library and embed it
into we have a
a module platform which allows you to
take you can write applications say you
have a JavaScript app and you want to be
able to do native stuff on the on the
phone in Objective C or in Java if
you're on Android you can extend the
platform write your own module in the
native language and then use JavaScript
to access your own module so you know
maybe there's a feature on the phone
that you want that we haven't build into
our API yet you could you could write
that feature in the native language on
the device access it through JavaScript
right you can also if you don't want to
do a native either objective-c or a Java
module you can write a JavaScript pure
JavaScript module which obviously could
write once and then reuse on both
platforms right so this I took this use
it as a pure JavaScript module and then
injected it back inside our own
namespace and so you can access all the
functions of sculpt from within titanium
so let me show sort of an example of how
this actually looks
yeah yeah it's got one diamonds at the
code for a second so
scroll this guy down see that like a
little bigger
big enough okay so getting nor the top
part basically at the top I'm including
the module that I've written the pure
JavaScript module the cool stuff is
actually in here so basically I'm just
showing off that you know I'm calling
through the TI namespace so I'm calling
TI Python and then I'm calling into
standard functions like min max absolute
value and I'll show you like the result
of this as I go through it we also have
this so you can you have the functions
available to you so you can just do
basic function calls and that's that's
pretty nice but really what I wanted was
to be able to do like real Python and so
I created this helper function that
exposes some of the stuff inside sculpt
and it's actually called you know
execute into variable so you could
here's where you can write inline Python
and you can give it a function that you
want to render it back into so in this
case it actually you know runs you know
assigns 5 to a and tend to be and then
it actually runs a range on a and B and
assigns it back in to the variable R
which ultimately gets reset back into
new range so it's now a JavaScript
object that contains the result of
inline Python ok and to go a little bit
further with that you can actually I
wanted to be able to take a pre-existing
Python code have it in a separate file
and be able to actually use it from
within JavaScript so if I took a very
basic class okay
so have a class fun with math has two
methods in it right one add value is one
subtract and then you know the only
thing that I'm doing in here that's not
inside the JavaScript itself is I'm
actually pre creating an instance of
this class right and now now that I do
this inside the JavaScript code
I read in the file the Python file and
then I actually called this sculpt
function called set module so we read in
the the pure Python we passed it and we
set it as the module that we want to
interact with from within JavaScript and
then we can actually call methods on it
using this helper that I wrote called
execute module function so you pass it
the instance that you want to work with
you tell it the method that you want to
interact with and then you can pass in
whatever parameters that that method
normally takes and it'll it'll render
back the result and put it back into
JavaScript for you oh yeah he asked if I
actually try to do anything like a proxy
class or something I have not at this
point you know like I said it's an
experiment in experiment I've written a
demo app all the codes out it's open
source so I'll probably keep playing
with it but I'm hope other people will
as well right and just the you know you
know give some give some feedback from
the community on it so in in iphone it's
actually really fast on android if you
try to run on in the emulator
it depends we had trouble getting on
Allan's emulator earlier on the iPhone
I'll show you and we launched up in the
simulator it's actually really fast I
haven't done anything to really stress
test performance so I can't say what it
would be like in a real application at
this point but as far as this simple
test that I did here right it just does
some minutes and max it does a range it
reads in the class and then it calls a
couple methods let me show you
so you see once it launches its it's
pretty much instant it's it's all it's
all jobs within a day I mean it's
compressed and minified and all that
good stuff but it's not big good but we
you know we do leave recompile our stuff
all the jobs so in our stack when we
actually compile the project all the
JavaScript gets compiled down to bit
code and then we as I'm saying earlier
we have a JavaScript binding layer so we
we bind everything to that in this case
you're not binding to the UI directly
and anything that I'm doing but you
could bind your code directly to like UI
elements and stuff so I mean it's gonna
be as optimized as it can get and from a
JavaScript perspective but you know it
is someone having another idea I had
along the way which I never really got
around to is I don't know if you guys
are familiar with in scripting so this
is everything LLVM to to JavaScript and
so I've heard of people taking C Python
converting it you know 100 percent to
JavaScript so the theory would be could
you take that then and embed all of C
Python into titanium of course the file
that it outputs is a fairly large file
so to include that on a small mobile
device probably not that performant but
theoretically possible and maybe fun to
play with okay so yeah so this is
running on the phone you know basically
I'm just echoing out the you know what I
went through before but you can you can
see it running men in the max the
absolute values here's the inline Python
code you can see the result and then
this was the class that I interacted
with and you can see that it's you know
that it's actually returning the right
results you know so it does does work on
Android it does work on iPhone and there
are you know custom modules they can
build for each platform to do it or you
could just take the JavaScript itself
and include it directly into the mobile
project so yeah iPad should be fun
so yeah it is true that that there are
cases were where it will be slower but I
still think it's very cool that you can
access and write in from javascript with
python on the phone on a mobile device
in javascript pretty cool yes really out
store there there are titanium apps in
the App Store yeah and it works
differently on the phones and then it
does on desktop but we also have apps
that are that are on the app store
well we have one app on there the
titanium app that Chad wrote for desktop
is in the App Store if you're familiar
with doing any of the app development
for Apple they'll ever ething needs to
be signed with a certificate pretty much
the if if you use our our SDK to to
write the applications it eliminates a
lot of the low-level Xcode work that you
would need to do we do a lot of it
behind the scenes for you but you you
don't need to mess with that but you
still need to be a developer and have
all the certificates in place and sign
the application and the application
needs to comply if you've looked at the
Apple site they have a lot of you know
quite an extensive laundry list of
things that Europe that you are or not
allowed to have in your application on
the App Store now in desktop apps it's a
little bit different as well but they
also have a long laundry list of things
that you're allowed or not allowed to do
and you know here we are we're they've
it's been five years since they
discontinued the PowerPC chip which is
you know for a lot of us it seems like
yesterday and already Apple is not
supporting PowerPC you're not allowed to
have any PowerPC and the Universal
binaries if you submit to the Mac App
Store so we had to pull all of that out
of our libraries and we have two
different sets of libraries if you if
you want to compile for the App Store we
basically do a soft link against a
system WebKit and it brings the size way
down where an application is only a few
megabytes you know so when you talk
about having an application that's you
know dragging in like 50 gigabytes or
whatever that's not really the case here
and in fact it's the APIs are very small
if you do it that way like I said treat
a Neum is only a few megabytes and you
can go get it from the App Store it's
free you go get it from the App Store
and you know you the the JavaScript code
is there but you can go get it you can
download it from kit also and look at it
so it's all minified on there so it's
harder to read the the code that's in
the App Store but essentially you could
write applications for the iPhone or the
Android and using our SDK eliminates a
lot of low-level work this is basically
showing extended extending Python from a
titanium application from the index.html
and you can see that what I've done here
is very simple I've created a JavaScript
function that it's called use my Python
data I'm going out and I'm including a
test dot PI which is going to pass to
the Python interpreter engine have you
and inside for instance from inside of
the test dot pi we can access our Dom
elements and we can get a prompt and
query which is kind of cool
you could also use any of the Python
interfaces and classes inside there of
course as well in this particular case
I'm just doing a simple prompt and the
test case I have a test case that
basically goes out to the file system
and does some queries for files so it
prompts you and ask you for a a mask
that you would like to search from the
given directory and then it goes off and
gets the files puts together a bunch of
text passes it back up through to the
JavaScript and then just use this window
alert to display the text
okay but the cool thing is that it shows
that you can go down into Python and
back into the JavaScript and then I also
have one example on Linux here which I
was going to show which goes down on
into Python uses the my sequel DB
connector queries the database from the
local system I just have a small
database with a single table in it
called users I get the first and last
name of the users pass it back up the
same way to the JavaScript so that the
data is available in your JavaScript so
you have basically both ways you could
you know you have your JavaScript you
have your Python and you can call the
Dom elements from your Python as well as
sending your data backup to your
JavaScript and creating events up there
as well and you have full access to the
titanium libraries also which you know
have full UI and everything on them but
of course the Python stuff is just pure
Python files that get executed and
called and passed through to the Python
engine this was showing the sculpt
functions here accessing from JavaScript
and here's a bunch of links that I have
what I'd like to do now is show the well
there's a couple things there's this
link right here with the kitchen sink
you can you can get that from git and
that shows on the mobile side you can
run it through the simulator or the
emulator you know they have a simulator
on iOS they have an emulator for Android
you can go download them for free and
run the kitchen sink in either one of
those those show all the basic controls
and such that you can access through the
titanium frameworks so you have sliders
and etc so this application here is the
one that I was just talking about that
goes down into Python this is a simple
piece that cause test op
here's desktop pie it basically prompts
you for a file mask goes out into a
given directory that I have set here and
it's basically what I was setting up to
use Google closure if you're not
familiar with Google closure and our
last SDK we included Google closure
which is basically obfuscation for
JavaScript and so this was basically
when I was testing to get it working so
basically I put together a bunch of
stuff that I was send off to closure and
I just passed that data back up to to
the to the JavaScript and I down here
you can see I'm using the use my Python
data is passing it back up to the
JavaScript to the function and the
JavaScript so if I run this
there's some reason we lost focus here
so it's it's asking I'm just gonna leave
it
it defaults to JavaScript files okay and
basically now here it's back displaying
it from the JavaScript side in a window
alert and I'm just breached one of the
JavaScript files it's just passing data
back but this shows basically how you
can interact with Python and pass it off
to the Python engine get your data back
and loops through and then just send it
done
yeah well JavaScript doesn't have types
really so you know I mean he could pass
anything to do you want it as long as
you know what to do with it you know you
could put it together in arrays and you
could access it from there you could
pass it back separately you know you
could set up different functions to do
that in your JavaScript and as such I
think technically we have we have one
main thread running to run the
JavaScript and then there will be
another thread that kicks off the Python
you could create threads and everything
through the titanium library so you can
actually create objects and methods and
kick off for instance run a method on a
thread and extend it that way so you're
not you're not restricted to running on
one thread per se but one thread is
running for the main process yeah when
you you mentioned process I just wanted
to to be clear about that you could
create new processes and threads on your
own so that you wouldn't be limited to
having them all on the same process and
one of the things that actually might be
good to show is in studio if I launch
the kitchen sink the kitchen sink is
basically shows a lot of the controls if
you go get clone it you can run it in
the simulator so basically
here's different kinds of sliders that
you can program in you can hide them
shows your toggle slider into a bar
these are these are most of the basic
controls activity indicator
send a message to it put it in the
toolbar nav bar indicator title show
basic progress bar
different buttons
labels
search bar give you focus keyboard comes
up we support different different
paradigms on on that we support the
gestures that are on the tablets iPad or
you know we also support the Galaxy or
already and other Android we have a zoom
also in house we have a few of the
different tablets so but the iPad 2 and
the iPad 1 are supported</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>