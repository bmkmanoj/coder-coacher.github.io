<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Solving Performance for 2D &amp; 3D Web Apps: Finally! | Coder Coacher - Coaching Coders</title><meta content="Solving Performance for 2D &amp; 3D Web Apps: Finally! - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Solving Performance for 2D &amp; 3D Web Apps: Finally!</b></h2><h5 class="post__date">2012-11-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/f48_wJjmEw0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right are we ready to get started
yes I like that energy I like that
energy Wow I'm super excited to talk to
you guys today if you've been waiting
for someone to say some blasphemous
stuff it's gonna be right now I'm really
glad Dave Nugent got me to come talk to
you guys today my name is Steve Newcomb
I work for a very small company called
famous and for the better part of the
last two years we've been working on one
specific thing in html5 web app and that
is performance we had this very
fortunate opportunity we were we were
given a million dollars to just sit
there for two years and really
understand performance deeply and we
actually popped their heads up for the
very first time a few weeks ago to show
a showcase demo just to sort of kind of
give people an idea of what we've
learned during that extremely painful
process and the idea that we wanted to
go through today is to sort of show you
that demo and then actually walk you
through exactly what we had to learn to
get to that point and all the lessons we
learned along the way so that as you
guys are building your mobile web apps
maybe we can help you like skip a few
steps along the way how many people here
have built at least a sort of hello
world mobile app on a mobile product
okay how many people have taken it up to
maybe a level of a sophisticated
prototype okay how many have built
full-blown consumer mobile app that you
launched okay more than you thought
Andrew awesome so this is good so how
many people here have started to
experience performance issues with web
apps of all sorts right so for me like
you know
when when you're talking to other
JavaScript engineers and you're you you
hear the same story over and over that
people are batting their heads up
against a myriad of problems in
performance and so what we really try to
do is abstract away from that and try to
get to the root of the problem so that
we can make engineering easier for
performance and what I'm gonna do first
is just show you the demo the
performance stress test demo and then
I'm gonna get into the hows and whys of
it so what we have here is this is a
stock ipad 3 running stock Safari its
iOS 6 this what you're about to see is
not WebGL it is not using canvas in any
way shape or form and if you are
familiar with then animations you should
know that the only thing left is css3
primitive transitions but I'll even say
there the answer is not exactly so first
of all we showed this demo I'm actually
speeded up for time purposes here so
what we wanted to do was build a
particular demo that stress test a lot
of different things that are normal
problems what you're looking at here is
actual Dom elements each of these Dom
elements is a div and they are styled
the way that you style normal Dom
elements you'll see that each one has
varying degrees of opacity and the
dreaded WebKit Oxshott oh is on each and
every one of these and the text inside
of these divs is actual real text how
many people here have tried to build
infinite scroll view how many people
here have really doubled all the
performance issues with it probably
everyone everyone who's ever tried to
build one what we wanted to showcase
first is is just we wanted to understand
if we could have all these objects in
space
some of them randomly moving around and
all these things that are typical things
that would normally destroy performance
could we get infinite scroll view so
we're playing around with infinite
scroll view at a sort of a very fun
level here in all full three dimensions
and so this is one big area that we
worked on and then another big area that
we worked on is to be able to change the
view and the control dynamically at the
same time and to do that while
interrupting an animation in mid flow
and that's very very difficult to do and
so if I'm going like this and I decided
to change the plane in real time that's
very very hard to do that sort of stuff
and what's even more is as I change this
plane and say like go a little bit Star
Wars on this up and down doesn't mean up
and down anymore it's actually
transforming into the transform itself I
go like this left and right no no longer
means normal left and right we also
wanted to mess around with changing
entire world views and world containers
and controllers without getting a blip
so we can actually change between
different shapes here to a periodic
table to a sphere back to this thing
that we call para flow and in each case
we can actually start playing around
with it as the object is even
constructing itself
we can even deconstruct the object and
actually make a very weird-looking
object here and then traversing two
objects in this code is no more saying
no more difficult and saying go to the
right place being able to change the
control and view as you change different
in different locations so here in the
sphere I'm spinning around doing one
gesture I go inside the globe
let me come back a little bit here and
I'm doing the same exact gesture but the
way it's controlling it is actually
completely completely different and so I
love showing this particular demo to
people who are native ideologues and
think that native is the only way to do
thing and the native is the only way you
can get to performance like this and I
love the reaction because they're like
what is going on here
and this is when we start having fun
with them because they're saying wait a
minute that was that was running on an
iPad three surely doesn't that doesn't
run on an iPad 2 and the answer is yes
it does
surely it doesn't have run on an iPad 1
yes it does and I'm gonna get into like
all the things that we learn to get
along the way now that interface that I
showed is a completely non realistic
interface that's not an interface of any
app anybody would build but again we
wanted to stress test it just to show
all the different things we can do so
this is the story of famous when we
started we were actually a consumer app
identity company we had this cool idea
that was going to be the next killer
wave app and we wanted to build that app
out and the thing is it had a very
ambitious user interface we decided to
build it in html5 because we liked that
sort of stuff it had to work on lots of
devices I've had one two three it had to
work on phones tablets PCs and game
consoles it had to work on iOS Android
as a both a web app and within a wrapper
and then it had to work one lots of
different inputs including touch
keyboard mouse and even open air
gesturing systems this is the leap
motion device I don't know if it has
anyone ever seen leap does anybody else
have one I don't think so we were the
first company to ever get one so we've
been playing around with stuff like this
and this is the type of like interface
that we wanted to build with this
consumer apps with very aggressive goals
and in that process we thought we really
knew what we are doing when we started
and we had some great engineers but we
actually didn't and along the way we
probably hit every performance issue
that you could probably ever hit because
of the grand scope of our product app
idea we battled through a lot of false
promises I can't tell you how many times
I read an article online or went and
went and heard someone speak where I was
like that's it now we've got our problem
solved then we go back to coding and
we're like nope it isn't we went through
a lot of frustrating experiences we
learned a lot of things we're gonna
share journey with you today so the way
I was sort of try to divide up the talk
is making larger points so that we sort
of abstract out to the big
problems and then where it makes sense
to go deep and actually look at some
code or actually talk about deeper
things we're gonna go deep our first big
realization is that we at first loved
css3
it could do all these cool things we
love playing with transforms and
transitions and all the cool stuff and
then we began to hate it and there's a
couple of reasons for this
there are things that are in css3 that
are really the domain of an engineer
there are some extremely powerful ways
to talk to the GPU or to do things that
could really either affect performance
in a negative or positive way and so we
started realizing that someone sort of
we felt mixed and abstraction somewhere
along the way suddenly this place where
designers would normally style things
and color them and make them look a
specific way could go in there and screw
your world sideways by putting a 60
pixel box shadow on something and they
wouldn't know any better and you'd want
to kill them at the end of the day we
had situations where this one second
from the bottom web could transition all
one second ease out was put on an
inappropriate Dom element because this
junior developer we were looking at
didn't know any better and he thought I
wonder what that does
so he tried it and next thing you know
Dan in the audience were and I were
sitting in there for five days trying to
sleuth what had happened and see you get
into these situations where these can
cause problems and so that's a very
awkward spot to be in and there are no
really good debug tools to go figure out
when you're doing something that's
causing a system-wide performance
problem it causes a lot of discomfort
between designers and engineers and it
had a dramatic impact
we had to catalogue all these quirks
which is confusing task force way to
refactor Oliver CSS that totally sucked
and then we had to and I'm gonna
concentrate on this one a lot today we
had to audit our third-party libraries
that touch CSS to make sure that none of
none of our favorite our work
all of these things we had amassed over
our careers where we're like these are
our tool chests that we bring to bear
when we build anything and we've all
amassed these over our careers we had to
look at all of these to make sure that
it wasn't doing something funky with CSS
it was that was actually causing the
performance problems and so instead of
actually going in and giving you like
sprinkling with you a few examples of
these things when we actually post this
presentation online we're going to
actually give you a whole library of
links so that you can read up on
articles and read up on things and and
will like fast-forward you through all
the process that we went through to get
to these realizations our second
realization learning code for computers
has masked bad coding habits and what we
mean by this is that we all learn how to
code on the computer first and then we
went to mobile second and we what the
proper way to code is to learn how to
code on the weakest device first and
then grow upward into the strongest
devices so we actually found out that we
had to relearn all of these things
proper Dom manipulation proper event
handling proper data handling proper
image handling and what we realized it
was how all these things acting concert
that actually allow you to arrive at a
base level understanding of what
performance really is the impacts of
this we had to learn all these new
performance optimization methods lots of
people are talking about these you know
reflow the whole sector of reflow and so
forth these are actually super fun
things to learn and write in the right
in the area of like learn them they're
lots of fun
refactoring all our code to make sure
all of this stuff was working you know
man we had to do it but again I'm going
to concentrate on this one we went then
then we had to go back and look at our
libraries all of our favorite libraries
were like they are not doing stuff
properly and we we began to look at
these and say this is starting to be a
real problem we started getting worried
about this warchest that we loved again
we're gonna have links for this Safari
and chrome are not created equally big
whoop everybody knows that but you have
to catalog these things you had to reef
up we have to get the reef
your code to make sure that you're
taking these things into account and you
have to again audit third-party
libraries to make sure that they're not
doing anything weird to again I'll have
links for that a lot of html5 components
don't work or don't work like you'd
expect we've heard a lot about that and
there's things like cache manifest and
so forth
again you have to catalogue all these
things remove the ones that don't work
don't use them and again make sure none
of your third parties are trying to use
them either because they'll mess you up
at the end of all of this we realized
and I will always remember this day
where we're like we cannot use any of
our old libraries we got rid of them all
we don't use a single third-party
library when we're trying to go after
performance so all these things if you
use jQuery animations on a computer if
you use a lot of jQuery plugins if use
jQuery itself if you use things like my
favorite library my like favorite fun
library was isotope I don't know does
anybody here use isotope I love that
library it's so cool it's so fun
unusable and so we actually had to go
back and say crap we need to actually
almost rebuild our entire war chest that
we used to bring to the table so we had
a catalog which ones didn't work remove
them and rewrote rewrite them once we
had this sort of base now we knew how to
manipulate Dom we knew how to handle
events we know how to do data we knew
how to do images we're like okay we're
now actually beginning to learn our
instrument and feel comfortable in our
space but that was nowhere near enough
to even get to performance yet next we
started trying all the exotic Dom
manipulation techniques and you've seen
these a lot of people are talking about
them Dom object reused the three panels
method the event horizon method there's
a list of about 70 along here and we're
going to provide links for that as well
learn all of them they are necessary if
you don't know them you have to learn
them or you won't have performant apps
learning some exotic framerate and GPU
techniques eventually if you build a
sophisticated enough web app you will
get into requestanimationframe and
understanding it in great detail we even
got into understanding how to do
framerate throttling and we even built a
method to build multi-threaded
JavaScript basically we went off the
deep end
and what you realize once you get into
GPU is that there's really no way to get
a look inside the GPU to see what's
going on and that's very difficult now a
lot of the browser companies are
building new tool sets for us to look
inside and peer in there to know what's
going on because you want to Hardware
accelerate everything you can but you
want to manage that wisely but right now
you can't actually look at the buffer
size or resource limits or object counts
inside the GPU and that means you're
kind of operating a little bit blind
when you're operating with the GPU and
you can make the device blow up and so
that's very very hard and tricky and an
esoteric thing to really learn how to do
again we'll have links for this about a
year after we started we had finally got
to the point where we started feeling
like we could build pretty much anything
we wanted and do it formally I'm going
to show you a demo of where we were at
that time so what we're looking at here
is a stock ipad 2 running iOS 5 and this
was actually a look at one of our first
apps this is using a design metaphor
called cards it's something that you've
probably seen in a lot of iOS apps and
I'm just going to give you an example of
the the level of performance that we
were getting out of this so I'm clicking
faster and faster
we built scroll views that don't have
any flicker or jitter at all we were
able to play well the Internet's not
really fast enough here but high-def
movies we can play without having any
effect on the scrolling we were able to
do things I don't know if you can
actually see it here but we're doing
pekin techniques where you see all the
comments and the pictures are actually
settling into place as it comes in
you're seeing the picture Ken Burns over
here we have custom media viewer library
set you're seeing something that's
really hard to do here and the scroll
view is an offset spatula and scroll
view with the comments up there and we
did this believe it or not with isotope
for all the isotope lovers out there
they
is nice and sexy
and jQuery Mobile scrollview believe it
or not and this was painful the lesson
we learned went coming out of this
exercise of building this app was that
everyone we showed this app to was like
oh my god that you guys are brilliant
this is going to take off
you can now build your product idea and
it's going to take over the world
because you have solved performance and
the reality of it was is that everyone
loved what they saw but us because we
knew what was under the covers and that
the reality was that we actually didn't
feel good about what we had built we
felt like a you know every dodo bird
that looked at this and didn't know what
questions to ask we could fool them into
thinking that this was exhibit this was
elegantly built and well engineered but
under the hood we knew it was a gigantic
hairball and so we arrived at what I
think is a really really really
important message if you try hard enough
and you work long enough you can make
anything and anything that you're trying
to do in html5 just about anything
perform it so those who say html5 cannot
be performant are flat-out wrong what's
the actual issue is the level of effort
it takes to get there and the app I just
showed you that we call Nathan I can
tell you the level of effort it took to
get to that level of performance in that
app was ridiculous it was so ridiculous
that me as the CEO I was sitting there
thinking you know what guys as much as
we love JavaScript and as much as we
love html5 stuff it would actually just
be easier and faster and more scalable
to build all the things in their own
native languages on each device it just
would be and and we we were in this area
where we weren't enjoying coding anymore
because it wasn't actual engineering it
was dealing with basically the
gentleness of how WebKit renders and
that was that made engineering not as
spun as we wanted to
be and and so the way the best way I can
describe this is that performance when
you get into the sophisticated layers of
building something complex what you
realize is not it's not a function of a
discrete thing that you did or didn't do
it's a system of interaction between all
the things that you're doing and as your
code base grows those number of
interactions grows and then as your
number of Intergraph interactions grow
every time you have a performance issue
a slight jitter a flicker that occurs
somewhere if it comes increasingly more
difficult to hunt that bug down and
solve it and so the primary difference
between coding in native and coding in
an html5 is that when you have a bug in
native you hunt it down and you fix it
and it's done but because WebKit is not
there yet what happens invariably in
html5 is you end up having to dance
around a bug you can't fix and so the
native app that the Nathan app that you
just saw me give you was basically an
exotic dance of a lot of bugs happening
and we were hiding them that's basically
what goes on when you're trying to get
performance in today's current html5
infrastructure and at the end of the day
we just didn't enjoy that we wanted
something that was rock-solid elegantly
built and we were proud of and so we
actually said well these people gave us
all this money and we got to build
something and we're not comfortable
using html5 to do this as a student so
we're like well maybe we'll just build
the whole damn thing in WebGL or canvas
but the problem with that is that we
lose all the things that we love about
the web we lose event handling at the
object level we lose text and CSS
effects buttons and forms all the things
that are great about web enos and so we
wanted you know the best way to describe
what we wanted was WebGL with all the
benefits of HTML and so we abstract it
her way out of this and said what is the
sort of higher level order thing that
we're seeing here and so we said use the
right tool for the right job WebGL is
great for 3d rendered games and things
like that canvas is great for 2d
rendered games and things like that the
browser is great at rendering documents
it's not great at rendering
and so we said why don't why isn't there
a renderer for apps and we said if we
solve this root problem then we begin
solving all the hair baldness so let's
go let's dig now a little bit deeper so
now I'm going to actually start to get
specific and and technical quickly here
this is web tour it sits in the side of
it's basically the core part of WebKit
and this is a highly simplified look at
it but there's basically parsing Dom
tree construction render tree
construction layout of the render tree
and then render tree painting and we
took a long time and sort of looked at
this and said where do the
inefficiencies exist and is there an
abstraction that we could pull away from
this that makes coding html5 apps an
order of magnitude more simple to do and
maintain performance that was the issue
here are the problem areas it's really
the the the code that takes the dom tree
and the render tree and then ends up
creating what's called a matrix 3d
transform and passes that on to the GPU
that process of ending up at a matrix 3d
transform is inefficient and slow
primarily because the browser currently
this code that was written eons ago was
built to render a document so we were
like wow let's do something crazy let's
build our own renderer in javascript
javascript is getting to be really
really fast these days and we said I
think if we had our dream we would build
we would add this to WebKit but I'm not
gonna wait two years for WebKit to do
this we said why don't we build this in
JavaScript and actually show the
standards body which direction they
should go but let's give ourselves an
option to have a solution now and so we
took a bet that if we built a render
engine controlled it with a physics
engine and then built a rules framework
to deal with all the differentials
between devices and up and and browsers
that this is sort of our dream scenario
and so we actually went to work
building that and so this is kind of the
way we see it at the end of the day we
don't say we don't it's not that we're
saying we don't use WebKit we're kind of
like Hamburger Helper to WebKit and we
make we make WebKit able to render apps
efficiently and at the same time we hope
we're showing the standards body sort of
the path forward looking at the time
here I want to get to the demo so you'll
see that these are the modules in here
in the system and this if you've ever
done WebGL stuff you'll say oh my god
that looks like all the stuff you do in
WebGL but the output of our engine is
HTML and matrix transforms and that's
what makes it special because you get
all the goodness of web eNOS with it but
how do we do it how do we actually do it
what we do is we simply said the css3
transition primitives shouldn't be there
and we don't use them so any css3
transition we don't use and we don't
allow WebKit to compute the transform so
I'm going to let that absorb that
because that's that's the whole ballgame
right there if you get that piece so
it's kind of brazen to say that
JavaScript could compute this faster
than C right but there's no limits to
how poorly you can write C code right
and certainly if you wrote the C code
correctly it would be faster than
JavaScript perhaps but we postulated
that this code that's old and meant to
render documents if we if we built new
code that was meant to render apps it
would be much more efficient and so what
we are effectively doing is we're
skipping those inefficient parts that
exist inside of WebKit and what this
results in is two things much more
performance but perhaps even more
importantly than that is stability one
of the biggest problems that you guys
have probably experienced is frame rates
that go like this they're all over the
place and you don't even exactly know
why or could predict when they're going
up and down there's theories
there's lots of theories on this in this
method we can actually frame we can
actually throttle and control frame rate
and so we're performance and frame rate
management used to be in the world where
like you would have a business person
come up to you and ask can you build
this out performant leann html5 and you
have to be like borrow now I have no
idea it's too complex to answer until we
actually try it now it becomes a
function of just knowing what GPU is on
that device and what CPU is on that
device because we use the CPU to Kalp
the transform and the GPU to render the
transform and so if you know those two
things you can get to a point where you
can somehow you can somewhat accurately
predict what the performance is going to
be so now when we go back to looking at
this and we understand this as a surface
rendering machine that's rendering
surfaces this is rendering about a
hundred and ten different surfaces at
any given time in the viewport and then
we look at the performance here of this
and we and we think WebGL while we're
looking at this performance we think
well that makes sense but the big
difference between us and WebGL is WebGL
is meant to handle millions of surfaces
our engine cannot handle millions of
surfaces it can handle hundreds of
surfaces but when you look at an app
what app has more than twenty given
surfaces at any time if you even look at
the Facebook app the one that has a lot
of controversy around it because
Facebook pulled out of html5 to a large
degree for a short period of time
hopefully that only has four surfaces so
something like the Facebook app or the
Twitter app or the Spotify app or
Flipboard or any of these apps that you
think about in the iOS world that are
currently right now would be very very
very difficult to do scalable and easily
in html5 now become trivial and so let's
go back here for a second
looking at the time okay so then the
physics engine let's talk about the
physics engine we built a physics engine
for two reasons one is that how many
people here have built a scrollview from
scratch from utter scratch all right I
like it so one of the one of the things
that you know when you get a designer
talking to you about the scrollview as
they say it doesn't feel right it needs
to it if there's some sort of uncanny
valley weirdness that's going on
especially if you run the same damn code
in Android and then run it on iOS and
then one of them feels real Jack you
know and so you're like you're getting
into this territory and then and then
the designer says something that you
know makes you want to punch them in the
head when they're like I want to bounce
at the end of it and you're like all
right you know and and then like I want
it to bounce three times and you're like
three times really okay three times what
you end up doing is custom coding it
right that was also something that we
were sick of doing and we want we didn't
want that weird interaction between the
designer we wanted the designer to be
free to design anything in their head
without the engineer having to recode
anything so the proper abstraction to do
that would be to build a physics engine
that has kinematic actors that can act
upon any component and then you just let
the designer play with the kinematic
actors as much as they want to get the
look in the feel that they want so I'm
gonna save Tom and go right to the demo
here okay
no don't make me hit refresh please
Internet we got it the beauty of all
this the periodic table demo that you
saw 45 KB the scrollview example I'm
about to show you half a kilobyte so
we'll talk about that in a minute too so
here's an example of a scroll view and
how many times have you given your
scroll view to a designer they're like
this isn't quite right I want it to
bounce at the end so this right now is
the default exactly default Apple so how
do you add a little bounce to it well we
like so and then on the right hand side
what we've put up is all the kinematic
factors that are acting upon here and so
this is kind of cool we can just move
the edge dampness down and we have a
nice little balance we can even create a
clock for ourself if we want and so the
idea here is now the engineers can
actually build tools for the designers
to play with and you can say look if you
want me to model a turd on this scroll
view I can model a bird turd on there
we've actually even modeled syrup on
there this gets into a fascinating field
because now with a kinematics engine you
can model Universal devant design
principles inside your scroll views in
ways that you never could before
imagine that you're going through a
newsfeed and some stories in your
newsfeed are more important than others
maybe as a result of tweets associated
with it or Facebook Likes or something
like that
you can actually apply different masse
to each of the stories so as the users
are scrolling through it you could slow
down or speed up or if you added a
paginate 'add scroll view in there you
would actually paginate differently
depending on the mass of the objects in
there and what happens when you give
this to a designer is they freak out and
they're like this is awesome and they
begin playing and these are only I don't
know how many there is however many
kinematic actors there are there's only
that many there but you can do infinite
and this is a lot more fun to code as an
because you're like coding a birdturd is
a lot of fun coding a bump in the road
is a lot of fun and this is just a
scroll view imagine coding this on any
component that you could imagine now the
second reason we built this physics
engine is because we saw Apple sue
Samsung for like a bajillion dollars
because of what's called the rubber band
patent which makes every designer who's
doing a scrollview say well crap I can't
do a scrollview let me knock this back
up to normal so now you can build
scrollviews without sort of being
worried that you're in this in the
targets of Apple whether you're like you
know you die for building scrollview
that was a second.we reason we built it
but there's lots of super cool things
say you have a paginating scrollview and
again now you want to add bounce to it
so i remember its page damp so now you
have your balance there we go
so what does the code look like for this
this is all you need to do to
instantiate a scroll view we really
really really worked on making this very
elegant at two levels one if you're just
a coder that you want to compile stuff
together and get done you can just
go to work and get stuff done but we
also let you go right down into the
source code of it as well but let me
continue through here so this is now
where you're controlling the offset
height or sort of the height of the
scroll view tight boundaries so this is
now changing edge firmness of this fuels
I know you can't feel this but I can but
this is basically a much tighter scroll
view it feels very different than Apple
extra bounce this is the bounce I showed
you this is what the code looks like
behind it so it's just literally an
attribute that you're adding syrup mode
so here's the syrup we modeled we call
this syrup but what you're actually
doing is just changing the edge dam and
then we showed you infinite bounce as
well
you can also set arbitrary points in
here for pageviews remember I showed you
in the Nathan demo the offset pagination
page view where it starts off a little
bit of kilter and that's commonly done
to let people know hey this is a scroll
view where there's more content off to
the right and in any other given scroll
view you have a UI scroll view view or a
scroll view view and you have a scroll
view clip and those are the only two
things you can play with in the famous
scroll view you can you can play with
boundaries in many many many different
ways and arbitrarily set where you want
the pages to be and you can have you
even have them associated with different
things to make pages change in size as
you go along beginning without an end
very easy to do whoops where am i
infinite scroll view meaning there's no
ends anywhere applying 3d so this is
Marcus this including the surface engine
now ok not quite so let's say you wanted
to be able to have a normal scroll view
here but you also wanted people to be
able to tilt in 3d space inside of that
you're getting into areas where it's
super duper simple to do what used to be
incredibly complex things so now you're
at a grand total of what 16 lines of
code and and just to show you for fun
things you can do things like one of the
big things I want to do is what's called
paginate adran let dan remembers this
but you haven't ever seen it so the idea
was things are a pagination pagination
scrollview like this this presentation
there's that still going but what what
if I'm looking through news stories and
I know that the story I want to look at
is way at the end of that paginate 'add
scroll view right now I have to go it
what if you could actually measure force
as of physical affordance and I can just
wing through it
so right there what we're treating the
pages as is the kinematic affordance we
have there is a magnet on each page and
you can assign strengths of that magnet
and you can actually break the magnet as
you go and this is just the beginning of
what you know I think that the limits on
what someone could create here is really
endless and we're just showing some
beginning examples of this Oh demo there
we did that then the last thing we did
is built our framework to basically
handle all the input mechanisms we went
we want you to be able to like build
that scroll view and then work on the
leap motion device in space without
having to know to code to the leap we
want that automatically handled and then
you get your control features again in
physics you get kinematic actors that
you can apply to gesture systems touch
systems mouse and keyboard and so that's
super cool as well oh and the last demo
all right I'm going rogue all right this
is a simple infinite scroll view half
kalabaw half kilobyte of code we're
loading infinite Dom here we're doing
animations in between as I'm doing this
and Mark can you come up here and hold
this because I need to do the other
things no we're good
just hold it all right here we go so I'm
I'm scrolling here and I'm actually
planing in 3d while so it's doing a
crossfade transform here with all this
going on now what's important about this
demo it's an iPad 1 running iOS 3 so
when you get down to it to really really
really manipulating the GPU you can
absolutely get to the point where you
can give native the gigantic middle
finger and say we can do this and so
like that's what's really important for
us is that like we saw this and we're
like alright finally finally we have
now this framework we have a physics
engine we have a rendering engine we
need a plug and we had this great
framework now and we began coding and we
are very very very excited because now
we're back into the world where it's
elegant it's cool but then we had a
problem we were like a coding lung we're
like what was the product we were
building again
I think it was Pinterest for blind
people or something like that we're like
what what was it and we got to the point
where we were like you know what I think
our framework is more important to us
than our product idea was that was a fun
day when we went back to our investors
and I you know I I got a I got an earful
for that one but I think our investors
are now behind this because they realize
how big a deal this is and how important
it just is for the JavaScript community
to have sort of a new tool that says
alright now we can get performance and
it can be easier for us and what we
realized in our company is that's really
what we're passionate about is enabling
all the people here who have been
battling and banging their heads up
against the wall we're like wait a
minute how cool would it be if everyone
could use this and everyone started
benefiting from this and all this cool
stuff would be starting to be built that
we can't even imagine today and we're
like you know I'm much more pumped about
that than the Pinterest with about dot
me flair in it and we said we're
pivoting and we're gonna build that and
we thought you know what would it look
like if we started building this
framework and we're like well maybe
there would be like app scaffolds in the
same way that like Twitter bootstrap has
scaffolds and they come with components
and you can kind of build anything you
want and if you're a junior level
developer you would just basically
choose a scaffold choose your components
and then mod but if you're a senior
engineer you could say screw the
scaffolds I'm going route to the engine
and I'm gonna I'm gonna code whatever I
want and we said we would want to be
able to do both ways because that's the
way we were using our engine and we
thought what if we could just let
developers build their own scaffold so
if there's a developer saying oh my god
I'm gonna replicate the Twitter scope or
the Flipboard scaffold tomorrow and then
let everybody build Flipboard ish apps
or I'm gonna replicate the Spotify cards
sort of metaphor that you saw with
Nathan and then let everybody jam on
that for a while and have these sort of
communities of developers working on
these scaffolds so that we could all
help each other so we thought that would
be super cool and we had to make a big
decision of are we gonna try to be a
full-stack solution or do we want to
just do one thing really really well and
we as engineers always like things where
they just did the one thing well and let
us choose the rest of our stack so I
think that's the direction that we
decided to go do we plan on working with
things like backbone Jas and angular and
all of your favorite MVC's yes
use what you want and then we'll we have
an open-source license and well we have
a commercial license we're figuring it
out but we definitely want to have an
open-source license so everybody can try
this we don't know quite what it looks
like and what the idea is is we want we
just pop your heads up a few weeks ago
to announce that we're actually doing
this change and the thing is is we want
to build this framework with a community
of developers and so just a couple weeks
ago we said we're going to build this
framework and we've been working with
their community to sort of like design
what would be the coolest way to use
this engine if you want to get involved
our beta is open now if you want to
follow us on Twitter I don't think we've
tweeted yet but we have a new Twitter
account that be famous and there's only
three of us in the company so we need to
hire a lot of people to build this thing
out so if anybody is really interested
in actually joining this effort as being
part of famous we would love to have
help as we're very tired people that's
the top</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>