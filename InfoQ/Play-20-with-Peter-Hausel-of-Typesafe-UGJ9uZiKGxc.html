<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Play 2.0, with Peter Hausel of Typesafe | Coder Coacher - Coaching Coders</title><meta content="Play 2.0, with Peter Hausel of Typesafe - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Play 2.0, with Peter Hausel of Typesafe</b></h2><h5 class="post__date">2012-04-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UGJ9uZiKGxc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi guys my name is Peter Howell i work
for a type-safe and today i'm going to
work i'm going to talk about the new
version of play which is actually a
joint product of type safe and sex ed
before actually i talked about play
itself i figure it's a good idea to kind
of overview what's out there in terms of
kind of like Scala web frameworks I
think as a scholar developer feel like
we are really lucky that we have all
these kind of good options somebody at
the recent New York's kalamita mentioned
that oh I means a bummer like I mean
have all these tools but I know the
malady perfect and it can be too excited
about that I feel the kind of the
opposite way I think we have so many
cool and reach tools and considering
like other options I still feel like we
have something to bring to the people
but without further ado let's see the
current kind of landscape the first I
would like to mention is unfiltered we
had just talked about it it's
essentially like a small web toolkit to
kind of Express like I don't know web
concerns the value kind of new player in
town is where blue eyes it's fantastic
framework is a lightweight highly a
synchronous web framework we'd like
Mongo and another sugar drop wizard is
on the other hand is most like a Java a
group framework but it has like really
cool skyla integration module the next
one I would mention a spray can which is
also brand-new and essentially an HTTP
layer on top of a cough the next one I
would mention is kaletra which is
essentially Sinatra in Scala built on
the set of a TPI and the next one which
was like a four for a long time the only
player in town is lift which is kind of
like a state full web framework full
step that's a vet framework and of
course the display as i mentioned i
think all of these tools are kind of
like really cool that said there these
are the three that i personally like and
the main reason is that like the sharing
certain characteristics with the play
namely that they using some of them i
use dingaka or implementing like
WebSocket support and built on net
instead of luck for example the server
data API and in case of draft wizard is
like a kind of like Java based so it's
really easy to just use it from the Java
side and most importantly all of these
frameworks are stateless okay so I guess
the question is so why why we need it
like another framework play 1.0 head
like a kind of calais apart as well
implemented as a supply ghing so why the
big rewrite why not using one of these
awesome tools and I guess like what
we've seen in skala birth like we have
all these kind of really cool web tools
and they kind of exploring the web
landscape from slightly different points
of view and and like I think we kind of
see this kind of expression taking place
now and I'm thinking that in the long
run I think you're going to diverge
again but the main reason why why we saw
that like creating a new framework is
useful because our main focus is not
necessary on like features but more like
providing a really good user experience
in in our case it really means like not
user experience by developer experience
we really try hard to make simple task a
simple and heartless also should be
available heart attacks hard tests
should be also something that developers
should be able to reduce or with with
the framework and as I mentioned like
our main focuses on develop that
happiness well what what what does it
really mean what it really means that
like for example will be the whole
framework on SBT but we tried our best
to hide some of the complexities of spt
we are created like a kind of like a
documentation
that's available for for every level up
there by just working on a side we
created like a developer console which
you can use to create like a
distribution of a player application but
also just to run a developer server so
we really tried our best just to make
common task easy but also provide ways
to tackle heart problems well let's see
that I mean features and up because the
time is short I'm just going to really
going to give you guys like short like
introduction but what's out there but
what you really can do is just download
the framework and check out the sample
applications but one of the key features
for me is that play is providing not
just a really nice kada API by the Java
API as well I consider this like a big
deal because this the Java API not only
opening the door for Java developers but
also it allows say like a closure
developer IJ ruby developer to use play
ah it's a stateless framework as I
mentioned that I believe with web
framework should be stateless it's full
step but especially in this particular
release we tried our best to turn the
framework as modular and extensible as
possible I guess what we're really
trying to achieve is that like if the
current kind of menu is uh something
that he would like to eat from that you
should be able to add new items to it
and eat the whole thing in this
particular realities we try to bring the
browser-based are reporting to the next
level I'm not sure if you saw this
feature with the play 1.0 but
essentially that idea is that you making
changes to your classes and then you
switch to the developer console hit
refresh and if there is any problem in
in your code that you're going to see
the error highlight it within the
browser and in this particular release
now this includes JavaScript as well so
what it means in practice is that front
end developers going to use exactly the
same experience that back-end developers
so you can write your
free script or or just normal our script
and then get it compiled with the Google
closure compiler and if there is an
error in the JavaScript then we re
actually using Google's closures output
and we can re represent that in the
browser the same vsv classes so the net
result is that like a front-end
developer is going to experience exactly
the same thing is like a back-end
developer we really try to make sure
that like the front-end experience is as
smooth as a kind of the backend
experience the next item I would mention
is that in this point in this release we
made sure that like as many parts of the
framework I kind of statically checked
as possible so what it means that likely
providing types if templates but also
type safe routes the right a kind of
idea is essentially what you have been
like Rios where you can define it like
you're I don't know urs and and the
corresponding actions in a fire but in
case of play this information is type
check so if you miss this type say like
your controller name or the controller
method that you're going to experience
that the same browser error based
browser based that all reporting that
with classes and coffee script or CSS as
well as I mentioned now javascript is
also compile using to Google closure
compiler but it also includes a coffee
script and last play 2.0 is built on a
cop so we of course work closely with
the alka team where it means that like
not only to the framework is built on
occur but users have easy access to
various acha features so it's really
easy to say Matt like I can occur
message to like I don't know like a
response and then you can send data
synchronously to the browser
and and most importantly we try to
provide all these goodies for a
synchronous data processing that
includes like streaming come at that
socket and and enough generic advanced
input io processing one of the main
differences between play 1.0 and 2.0 is
that play 1.0 heavily was relying on
like java bytecode an enhancement and
all this kind of magic was replaced with
scala so we really happy that Scylla
exist and you can use all the cool
features and Scott is over of course
also used for example to provide this
kind of advanced input io handling we
implemented the authority io kind of
library or I think design pattern in
Haskell I'm not like a Husker hacker so
I might be wrong here but like I think
that the ether a TI oh and and like at
the future implementations like neither
you reaching like a number so probably
that was something that we should make
sure that like at one point day that we
can merge them worth diverge and we can
have like Commons I don't know it hurt
here something but anyway so yeah we
have our own authority implementation
you also have like a integrated
functional and you need test runner
because in two thousand eleven or twelve
right now not everyone is building on
databases but still of course there are
any database out there we provide a
optional support or am super and DB
evolutions if using databases but also
we have various like hot / AP is to have
weed everyday task like including a
route or form handling go chasin or
slider and because we built on SBT like
the dependency management is
using IV but it also means that like not
a project is published just like a
normal even artifact and you can in fact
just use play as a library which I will
show you guys shortly attitude so is
this screenshot just illustrates this
kind of in browser error reporting that
I was talking about this one's showing
you kind of just like normal controller
code the next one is showing you like
when there is a compilation error or
within your rats and something miss pod
there and this is for Tampa template
compilation errors as you can see all
these various aspects of your
application presented in like a unified
way and this is for like JavaScript the
next thing I would like to show you guys
is that because we have like a really
strong Java and Scala api we try to make
sure that like we present these kind of
sample applications in both languages so
you really can have like a direct
compression and choose what what you
like so this is like the same
application implemented in Java and
Scala using slightly different API is
but the main thing is that all EP is
that we providing available both in
Scala and Java there generic strategy
that we using I think that would be I
guess like a separate talk like how to
create like I don't know with the
skyline chava api's the the idea that we
have is that likely implement like an
internal API in Scala and then we expose
it in both Java and Scala I don't know
whether that's the best way to go but I
saw either a kind of ideas where like I
know people are created like a scholar
API which had the Java methods in it as
well like a s job or stuff like that
like using bodies naming conventions
stuff like that personally I feel like
with this approach you really can have
like a clean API design and I mean at
least from the end user it's it will be
certainly better than dealing with like
say like I'm a Java developer and I have
to deal with like a scala api and then
just like a wife do you know what these
methods because these methods are for
the scala developer so that's why we
ended up using this wrapper approach i
mentioned that i will ship like a bit
like a functional test run there this is
available for for both languages but
essentially what you see here is that in
this particular example we using spec
but like Scottish should be what's
working just fine so you can see we just
fire up like a test server using HTML
unit which is just like a headless
browser but you could inject anything
guys and in that case it would that that
test itself would run in a browser and
that you can touch your application in
context including JavaScript of course
i'm going to show you guys a few
examples first i would like to show you
how to extend the framework just really
briefly or what what kind of xbox of the
frame where you can really extend or
replace so one of the projects i would
like to show you guys is called like
play mini here what what we try to do
was like instead of using this rather
built-in rather we pretty much just
reused and theater library and boom the
end result is that you can use players
like a normal kind of dependence on your
project why you still have access to all
the the goodies that play has including
what this kind of SEO as synchronous
processing techniques and so this is
just like a standard like a chart that
you can add to your project as a
dependency and then you can be like an
theater like applications
they're like you like this is the kind
of the unfit and theater part but like
there are some claiming a specific stuff
there as well so here we can the free
place the writer melanism of play in the
other example i'm going to show you guys
is to just plug in like a new kind of
data store showing these particular case
i'm going to show you the reddys plugin
so after you just configure your plug-in
then that you can use a place in turn a
cash system but not the back end instead
of like an in-memory cache it's going to
be ready based its using jettison
studies as the drivers and in the next
the next was a paragraph you can see how
to how to actually access the plug-in
from within your code both from Java and
Scala as you can see the scholar version
is much easier to use it's also worth
mentioning that like we had just a talk
on type classes most of the the EP is
that we'd be using the type class end of
design patterns so this import here is
bringing like an application type less
into the scope and that's essentially
what what the plug-in is using under the
hood but otherwise is just basically we
accessing that plug-in and then we just
using studies to to deal with rattus so
and this is just a plug-in but it's
really easy to to plug in what the
various database or templating language
you have you don't really need to kind
of hack the framework because you can
use either the extension points which
can be just hooks in the application
lifecycle or you can use the plug-in
mechanism
to add your own stuff they're already
like 10-15 plugins available but i think
the number will grow shortly after the
the framework is actually released so
the next thing I'm going to show you
guys um it's canet based application and
so what what you can see here is that we
be using a place a numerator to kind of
define like a view simply a numerator to
get like the the date or refresh which
is coming from like a play promise and
then essentially what's happening here
it's like the oak like will be
essentially saying that like take that
annum enumerator process it through
comet and then provide all these kind of
chunk results to the browser and then
what's going to happen is that like from
a like we're going to like open up like
this comet channel and then the clock is
going to be updated based on this guy so
I'm gonna demonstrate that but before I
do so I figured I quickly just can show
you guys the kind of developer console i
was talking about so so these are the
available commands play specific comment
that we are created but let's run the
application so i'm starting up the
application and I can
now the compilation is taking place and
here's the comic lock which is updated
based on like this guy okay I why I'm
here I guess I can show you again this
kind of experience that yeah i was
talking about so i just made a typo in
my code i hit refresh and nice
complaining that like I have a typo so
I'm gonna fix that I hit refresh it's
gonna compile it
yeah so that's right there
and and also the documentation for
example is right here so if you work on
any application that you fire up the
deck not the developer console then you
have access to the reference manual but
also we included for example the SCADA
and Java API as well so you have access
to those as well it's just a nice
addition um and what us yeah I would
like to show you another example this is
this is going to be like a chat
application implemented with the actors
and all right so before I fire out the
application i will just really go
through this shortly because the time is
short i will just really try to talk
about this briefly but essentially
what's happening here is that like I so
by sending a message to this chatroom
actor which is like a joint message and
then we met the results you like a play
a numerator and then you take that a
numerator sorry guys like this guy and
then we take that a numerator and
process it through like a comet kind of
a new mariotti and then we create this
kind of chunk response again which will
be a updated over time as you can see
this is like an S synchronous result and
basically this is going to be the kind
of like that the comet a kind of China
that application can use to push
messages to the browser and they have
like another kind of metal here which is
just like an online synchronous message
but it's sending the message to the
actor I'm also just going to show you
guys how it looks from the router point
of view so you can see that like
we have like a same method view that's
Matt to say and and also we have the the
main thing which is just index right so
so this is the chat room and I'm going
to say hello and then I'm going to open
this is there a guy I'm gonna join I'm
going to see all right okay so like I
mean not nothing so pretty interesting
but I guess it just demonstrates the
point that it's fairly easy just to
create like actor and calm a driven
applications we play ya mean for this
like it's long polling but there is like
a website exactly the same example is
implemented in back socket as well so
and there's a version like that so
what's what's missing from the release
we working on the server super we having
actually technical difficulties
providing good service support me
because the serve at even like the 3.0
API is so limited so we actually have to
figure out like what we would like to
kind of like cut from the server super
because not all not every feature will
be supported through the server API and
also like we're going to provide like a
web-based test run and so these are the
features that we deferred for a 2.1 and
I guess like the question is when things
are going to be least 2.0 is going to be
released really soon like one big soon
we're hopefully lucky it was just in a
few days okay so any questions so the
question was whether someone can use
like a regular JavaScript library yeah I
mean so as I mentioned the only thing is
that likely using a google closure
compiler just to kind of kind of comp I
make your JavaScript faster but you can
use jQuery or whatever library you want
to use so there is no restriction there
in terms of like I don't know templating
solutions like 1.0 came with like kind
of like a groovy based Tramp done
plating solution and somebody kind of
reimplemented that for 2.0 because it's
so easy just to plug in your own
templating stuff so you can even use
that if that's what you prefer but 2.0
by before it is using the Scala kind of
templating solution but it's just an
option like so like that because the
whole thing it became just more like a
kind of like a core architecture and a
bunch of plugins like that are you going
to use like skeletor most mustache or
whatever you prepare it's really up to
you the framework is that that's not
going to be in your way it just it comes
with like a kind of like a template but
you can actually then make sure that
you're not installing that jar if you're
not using</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>