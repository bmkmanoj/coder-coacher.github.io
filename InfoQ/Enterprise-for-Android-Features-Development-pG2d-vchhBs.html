<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Enterprise for Android: Features &amp; Development | Coder Coacher - Coaching Coders</title><meta content="Enterprise for Android: Features &amp; Development - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Enterprise for Android: Features &amp; Development</b></h2><h5 class="post__date">2012-07-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pG2d-vchhBs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is a session about Enterprise
Android and specifically about the
things that Motorola is doing to add
features to Android to make it better
suited for enterprise use and my name is
Rick Rogers I'm the product manager for
a program at Motorola called MX + MX is
an ongoing program that is designed to
add features to Android features that
because of our experience of working
with enterprise customers we know that
Enterprise operating systems need and
for various reasons aren't there in
android android of course is a great
operating system and designed to be a
consumer operating system Google's spend
a lot of money to create the the code
and make it available to all of us which
is great but they're focused on the
devices that best suit their their
business model which are consumer
devices which are used generally by a
single user managed by that user so the
user sort of has complete control over
what's going on on the device and as
we'll see as we go through the
presentation some of those features are
not that suitable for for use in the
enterprise so we're we're working to
adapt Android so it fits better with the
enterprise and as I said on the product
manager for this MX program but I should
also point out too that you shouldn't
get the impression that we're now
focused on Android or something to the
exclusion to Microsoft Microsoft is
still a very strong partner with
Motorola and in fact I was in meetings
this morning with with them about the
future directions that we're taking with
them so you should see a balance of
products coming in the future from
Motorola some based on Android so I'm
based on Laurel Microsoft products and
as I say we're still strong partners and
the other thing I should point out I
guess the other caveat
that I would offer to this presentation
you've heard a lot about row elements
and rhomobile during during this session
and row mobile is our vision for the way
applications will be done in the future
that cross platform platform
applications makes sense especially for
the enterprise and that building
applications using html5 and rhomobile
makes a lot of sense I'll be talking
about dalvik based applications so so
closer to being native applications on
Android but the eventual goal vision is
that we move towards html5 so we'll talk
about some of the specifics about the
things we're adding to Android to make
it more Enterprise appropriate we'll
talk about a bit about GMS apps Google
mobile services if you're not familiar
with what that is and how those relate
to our products and what you what you
sis fees might care about their talk a
very little bit really about future
directions from for MX or give you a
general vision for the way things are
headed in the things that we want to add
in the future and then do a brief coding
example talking about one of the
specific features that we've added
namely the ability to connect to a bar
code reader and show you how easy it is
to implement bar code reading for
example using the internet in your
application so any questions about what
we're going to talk about or additions
that you'd like to see me improvise so
MX as i said is is our program to to
enhance android and it's an ongoing
program we we started it i started with
motorola eight months ago and MX was a
program that had started before that so
started for the introduction of the ET
one at the end of last year and it's a
it's a program where we've just begun to
implement the features that
we'd like to see an Android we literally
have a hundred fifty page document of
features things that we believe and
enterprises need that aren't in Android
today at least and things that we'd like
to add over time it will obviously take
take us a long time to be able to add
all those features and features are
added continuously as we talk to
customers and they tell us about other
things that they would like to see added
so it's an ongoing program that with no
hint in sight it was formerly called
Mesa if any of you have heard of a
program called mesa at at Motorola we
changed the name to MX it's not
something that we sell separately so MX
so so if you will my customers for me as
a product manager are my internal
product development teams so we deliver
these extensions to the product
development teams who are developing
android based products they integrate
them into their product build test them
they give them back to us to test again
and then they come out with the product
so in the case of et-1 the the first set
of features that were created to add
onto android are integrated into the
et-1 product there's been one release
since the introduction of et-1 and there
will be a series of releases that
integrate more and more features as time
goes on oh we are so presumably your
isp's here at the app forum and so you
might be interested in you know is there
an sdk associated with with MX we're
trying to avoid having an sdk so far so
far so good most of the features as
you'll see that we're adding to android
are not things that is vs have to
interface with api so a multi-user for
example from the applications point of
view there's some user using the
application but adding multi-user
featured android so that different users
can authenticate on the device and and
have their own data space that kind of
thing are things that happen external
with the application so you don't have
to worry about them for the few things
that do require some
interface and barcode reading is one of
those hi alan alan never looks at my
calendar you have to know Alan for the
few things that do require interfaces
like barcode reading we have created an
intent so an Android intent that can be
used to interface to that you and we'll
show you in the code example how that
works the barcode interface is the only
intent documented so far that's
available to you as ISPs and it's
documented in that guide called the the
integrators guide if you if you google
et-1 integrator guide it'll give you a
URL a point or two to that so I said we
were adding enterprise features so what
are those enterprise features what what
makes an enterprise device different
from a consumer device and I'll build
some on this slide and then there's
there more on the next slide we'll talk
about so this is in general not specific
to to NX or to Android for that matter
but they are features that are included
in that hundred and fifty page list of
things that we'd like to see in android
based enterprise device's battery
management clearly that's a big issue
for mobile devices and for enterprise
devices in particular so consumer
devices consumers don't mind too much if
they have to recharge your phone
overnight right there sleeping any way
they can as long as I remember to plug
in the phone and recharge it it's not a
big deal and the enterprise it is a big
deal because devices are often used over
multiple shifts if a device battery you
know loses charge in the middle of a
shift there should be a way to swap the
battery without losing the context of
the work that's being done with the
device those kinds of issues that are
different between enterprise and
consumer so we tend to offer her larger
batteries the ability to swap batteries
and maintain contacts
things like that wireless connectivity
again for per consumer wireless
connectivity is fine if it connects with
their home wireless LAN and you know
when they're in starbucks or whatever
connects with that wireless LAN they're
satisfied with that it meets their need
but the enterprise has in general much
more stringent requirements of rent
wireless connectivity including wireless
line extensions like CCX for cisco
connectivity some motorola extensions
that we've added additional eep types
the ability to connect 25 gigahertz
which some consumer devices support but
in general where they do support it they
support it poorly in n you may or may
not be aware that for for many
enterprises 5 gigahertz is a way for
them to isolate their enterprise traffic
from wireless LAN that they might want
to make available to customers or other
interfering sources of traffic in that
band in that 2.4 gigahertz band
diversity switched antennas and things
like that that again make the wireless
connectivity in the enterprise world
more robust and are less important in
the consumer world tend to get
sacrificed in the name of sleek design
and things like that so extra antennas
tend to get tend to get thrown out of
the design because they they work
against the sleekness of the design or
whatever that people are looking for in
the consumer world form factor stability
and enterprise life cycle I try to
remember what were the three things that
were mentioned in the keynote yesterday
security manageability I think in life
cycle were the three big differentiators
that were pointed out there and life
cycle certainly is consumer devices
again consumer OEMs tell us that they
typically build a device for six to nine
months and then they don't build it
anymore
so they sawed off whatever's left after
they built that many but it's a fairly
short manufacturing run when compared to
the kinds of offerings that we have in
the enterprise world and that enterprise
customers need enterprise customers
typically need years of support for the
devices that they buy from us they also
need a better controlled maintenance and
update path to the software on the
device right so again consumer devices
typically the carrier will push a new
update to a device whenever it's
convenient for the carrier and the user
has the option of accepting it now or
later but you know it keeps bugging you
till you do enterprises for enterprises
a software update can be a huge expense
actually not only for the expense of
actually updating the devices but the
expense of proving their applications
still work with that updated version of
the software things like that so
enterprises need a more controlled
ability to update devices still get
security patches and maintenance updates
as required but to have more control
over how those are delivered and when
they're delivered to specific devices
consumer devices also are obviously
designed to appeal to consumers so they
have features that consumers like like
high fidelity sound and high-resolution
displays which in most cases don't have
a need a real use case for enterprise
use and in some cases are a detriment to
enterprise use because they sacrifice
battery life for more pixels or higher
fidelity sound so again an enterprise
device where an enterprise device would
not include those features consumer
devices do because they're more
appealing for consumer kinds of usage
models also different touch and display
technologies i talked about resolution
of the display but for the touch screen
itself as well
often in an enterprise usage model the
user has gloves on so they can't use the
capacity to display because the gloves
that won't allow that to work or they're
using it outdoors in the rain and
capacitive displays don't work that well
in the rain so so you know enterprise
devices some enterprise devices need to
have resistive touchscreens in order to
accommodate those usage models and of
course neither google nor Apple or any
of the consumer device manufacturers
offer a roadmap that an enterprise could
depend on for what kind of devices will
be available in the near future pretty
much from from Google or Apple you you
find out about it when they announced it
and you know the devices are available
immediately thereafter so our customers
require more predictability in terms of
what devices what device features are
going to be available in the future and
what form factors those devices will
have and finally the ability to
customize when those OEMs are making
consumer devices over six to nine months
they're making tens of millions of
devices and there's no business model
there for making customized
customizations to those devices and
smaller quantities it's just it doesn't
fit their their manufacturing process
and their whole way of doing business
but our enterprise customers often do
need customizations to to the device so
that's one of the things we've
integrated into our business model the
ability to do that security was one of
the other big three features that were
highlighted in the keynote and you know
clearly there are requirements in the
enterprise space sometimes legal
requirements particularly around you
know credit card information in the
retail world or HIPAA capability in the
healthcare world and as well as you know
mandated requirements like fits for
government users of devices for securing
information and the ability
lity to react to situations say if the
device is rooted or something like that
so that data can be protected absolutely
on the device not so important for the
consumer you know it's important to have
your contact information and your email
protected but it's not a legal
requirement nobody's going to sue you if
somebody gets ahold of your contact
information improve productivity through
features like multi-user support the
ability for multiple for several people
to use a single device to use it you
know over or a series of shifts perhaps
and features like rapid application
access where for for applications that
don't require a high level of security
price check is a typical example you go
to walmart right you can check the price
on on an item by holding it up to a
kiosk barcode scanner it's important to
be able to invoke applications outside
of a login so you don't have to login to
to use that price check scanner at
walmart and there are a whole class of
applications where where that makes
sense and improves productivity by not
having you know in an enterprise again
the user might have 12 character
password with you know a complex
password and that takes a while to enter
on a mobile device on the virtual
keyboard so it's important to have that
that kind of capability to improve
productivity enterprise feature
integration so I said we're going to
show the demo code is about barcode
scanning and it's important to have
these features integrated or integral
into the device so the et one with
snap-on peripherals and things like that
that integrate on the device as opposed
to having a separate thing like a sled
with a barcode reader and extended
battery development support and multiple
runtimes development support clearly for
the features that we're adding there
needs to be a robust development support
that developers like yourselves can take
advantage of the features that are there
multiple runtimes the ability to
particularly to port legacy applications
many of our customers have applications
that they built for other runtime
environments so it's important to enable
the transition of those to denooyer
runtimes as they become available
durability and environmental is probably
what people think of first when they
think of our devices that have
ruggedized devices that you could drop
on the concrete or take into a freezer
or out into a desert and not have to
worry about the environmental effects
consumer devices obviously are not made
for that someone was telling me today
that the the the upper temperature limit
on an iPhone is 95 degrees and
Fahrenheit and the temperature in Dallas
last year I guess exceeded that for 101
days oh so you know I don't know how
many iphone failures they had as a
result but but but clearly extended
temperature and durability of key
features for enterprise use device
management not only the normal device
management that is available on consumer
devices but more almost said invasive
but more comprehensive device management
because enterprise devices are owned by
the enterprise they aren't owned by the
user of the device so the enterprise
needs to have the capability to tightly
managed that device lock down what they
need to lock down on the device and and
own it voice and audio support many of
our customers need to combine the
ability to to compute with a mobile
computing device with the ability to
connect by voice over or wireless LAN to
other users using devices so they need
to have that that local capability to do
what to do voice and not have to go out
to the LAN so any questions about
consumer versus enterprise I said we had
that 150 page document what we've done
with it is take the features that are
that are identified in that document and
break them down into these 11 different
categories so just briefly to walk
through what those categories are to
give you an idea of the kinds of things
that we're looking at incorporating into
Android mdms so that's a device
management aspect of being able to
manage the device comprehensively and
that's not only for motorola zone MDM
solution MSP but also for third-party
mDM's many of our customers have
standardized on an indium that's not a
must be that they use across all their
mobile devices and they don't want to
introduce you know another mdm2 to
manage Motorola devices so we're working
with those third-party MDM providers so
that they can manage our Android devices
as well security management we talked
about the kinds of security features
that we see being added that need to be
added into a consumer operating system
like Android to make it suitable for the
enterprise so those all fit in their
application management is all about
controlling what applications can run on
the device and that can be through its
currently through a whitelist so and
we'll talk about the specific features
that are implemented so far but
essentially an administrator or an MDM
can establish a white list of
applications for a user group and then
members of that user group can only
install and run applications that are
listed on that white list there are
other approaches blacklisting gray
listing things like that but but that's
all part of it and then also included in
there is the ability to lock the device
down into what's typically referred to
as kiosk mode where the device can only
run one application or a few
applications former restricted home
screen so that you can restrict users so
that they don't get at the wireless LAN
settings for example and if they were to
take the device it would be useless
because it can't connect to any SSID
other than the one that's already
connected to expense management to begin
with at least is primarily oriented
around telecom expense management
for wide area network devices based on
android some of our customers want
devices that have multiple sim
capability so they can choose between
carriers they're available and the the
plans the the the contracts that they
have of those carriers can change the
the price that they pay for wireless
connectivity based on time of day week
all kinds of different policies so they
want to be able to set policies that say
you know on seven o'clock on Thursdays
pick this sim use that white area
connection those kinds of things
performance management is mostly around
taking advantage of the performance
capabilities that can either be
accelerated for via the hardware through
the graphics accelerator or the crypto
accelerator or whatever accelerators are
available or through optimized software
libraries and butter all has a lot of
that intellectual property both hardware
and software acceleration capability
through our legacy businesses and some
of the other businesses besides
enterprise that we're involved in
wireless management I talked before
about the need to add particularly
wireless LAN capabilities that aren't
present in consumer devices that are
needed in the enterprise world primarily
around security and the ability to
solidly connect to the wireless LAN and
use it for these persistent is a name is
that going to go in the video I have to
tell Alan eggs on a video using
appraised user interface user and user
experience management is around
improving the user experience in using
the device so and that relates to some
of those things although it's also
really application management so I
talked about the ability to use
applications without having to log into
the device
and those kinds of things to all
oriented really around improving the
productivity of the user in the
enterprise usage models battery power
management again obviously important for
the the reasons that we talked about
earlier and a number of things again
there that we can do things that we have
learned from the long Enterprise
experience that Motorola has on based on
other operating systems supplemental
hosted services where so think of the
cloud things that are done to benefit
the the user of a mobile device but are
done off the device so they're done in a
cloud or on the server services that
augment what the mobile device can do
without draining the battery on the
device except for the communication
involved occurs development support
tools to support all of this so that
people can actually use it and make use
of it and utilities and applications
which is a a long and growing list of
utilities and applications that
customers are asking for that they don't
see in native Android but they're used
to in their traditional legacy sorry
legacy in there in the in our
traditional products our enterprise
products from previous times so what
have we done so far and what are we
planning for the near future and how
does he'll that fit together so we have
added a multi-user framework to Android
with the first release of et-1 that was
there and with the first release what
that did was authenticate multiple users
using a local username password database
encrypted obviously but present locally
on the mobile device and you'll see
later that we've extended that to remote
authentication and we'll be extending it
further it does allow for group profiles
I mentioned earlier that the white lists
or user group based and so this is the
way that you can assign users to user
groups and manage those user groups as a
group without having to
manage individual users I talked about
white list before I mentioned
blacklisted and Grail is as things that
we've identified the future black white
list is you can run this application if
it's listed a black list is you cannot
run this application if it's listed the
problem with black lists is you can
never be sure that you've got every
application that you want to outlaw on
the black list with a white list you
don't have that problem you're just
listing the ones that you can you can
absolutely run a gray list is as you
might expect something in between we're
a third-party rating agency rates
applications gives them a number by how
usable non-dangerous they are if you
will they say 1 to 10 and then through
the MDM or an administrator can set a
value and say okay you can't install or
run any application that's not at least
a six on that list so it gives a give
some middle mid-ground flexibility to at
whitelisting blacklisting right now we
have white glistening by user group
secure storage with the again with the
launch of et-1 we added volume file
encryption to android so that you can
create an encrypted file volume in the
flash and make use of that store the key
securely and all that kind of stuff was
the next one and then as you as you
probably know with ice cream sandwich
android has added device encryption so
we'll be carrying on both of those some
customers want the full SD card for
example encrypted other customers just
want to be able to encrypt separate file
systems separate partitions if you will
and keep used separate keys for that for
those four for whatever reason so we'll
have both of those moving forward on
assisted device management again in the
consumer world the users is king you
always ask the consumer or the user if
you want to install something on the
device or
if you want to make a settings change or
those kinds of things in the enterprise
world of the user shouldn't have control
so we implemented things like I'm
assistive device management where an MDM
can download an installed application
without the user even knowing that they
did it so the user isn't presented with
a normal you know do you approve these
permissions or those kind of things it
just gets installed integrated barcode
scanning again will show more that as we
as we get into the demo app so those are
the kind of things we added to begin
with oops I'm missing a slide well let
me talk about the kind of things that
should have been on the next slide and
were yesterday for some reason the
things that we're moving toward in the
future so I said we added remote
authentication that was I that's
actually out in the latest release that
was out in the et1 beginning of April
and that's authentication through ldap
so the the normal directory services
that enterprises use and again it will
do remote authentication so that you can
have a single password that covers the
whole enterprise you only have to change
it once and it includes the mobile
device in addition to that in a future
release will be coming out with
separation of user data spaces so right
now although multiple people can can log
in and be authenticated on the device
they share the same data space once
they're logged in so any data that one
of them rights is visible to the next
person who is authenticated on that door
with this this new release that will be
coming out we are incorporating
separation of user data spaces so that
they each have their own data space and
can't see each other's data
is that it actually the only way we use
ldap is for authentication okay so yes
it does right it does not use the user
groups that are identified in active
directory okay those so you can could
row yeah locally so those have to be
control locally they can be controlled
configured via the MDM so in that sense
it's not local but the actual group
information is on the device the MDM can
yes so let's go back up to the Indiana
in there are utilities so you could do
it locally but you wouldn't want to do
it that way unless you had just a few
devices you'd want to do it through the
MDM via the mbm yes
sorry so so some of the other directions
that we're taking in the near future
obviously we're following along with the
evolution of Android so as Android moves
to Ice Cream Sandwich to jellybean key
lime pie whatever comes next we are
following that evolution in a controlled
way as I said before for for enterprises
it's not always good to be on the
leading edge of the technologies coming
out it's better to control the pace of
technology and so that's what we're
doing yet yeah so it's longer than two
months the the so we have a maintenance
policy and I didn't include a slide on
the maintenance policy but essentially
what we want to do is to move to the
latest release of Android on the order
of nine months after the open source is
it's made available to open source okay
and with ice cream sandwich we're not
quite we're it's going to be a little
longer than that but but that's sort of
the the tent and that's two for a couple
of reasons one to give the release an
opportunity to be vetted if you will for
the the early maintenance and security
updates to to get applied so that we're
not going out with something that's
vulnerable on to the enterprise space
and it's also as I said before to
throttle that the pace of development
big things
so so is there a beta program there's a
beta program there's generally a beta
program for the launch of the device but
not for the updates ok so the updates
come out and generally the way
enterprises deploy those updates because
again it's controlled it's not you know
at our whim it's at the enterprise's
judgment for when the updates are
applied so generally what enterprises do
is their own beta program right they
take the the update they try it out with
the IT department before they deploy it
to everyone who has the device ok ok so
it's so if you take that that list of
features that I talked about before
though that defines the direction that
we're headed with futures for for MX and
I said I'd talk a bit about GMS app so
Google mobile services I don't know if
many people are familiar with that so
normally when you buy an android device
by an android phone or a consumer
android tablet it comes with google play
on it and google maps and if it has gps
gmail google's voice recognition app
things like that those are not open
source those are part of a set of
applications that google calls google
mobile services they are licensed
separately from from the open source
version of android those applications
for many of our customers those
applications are a bad thing they don't
want users to be able to download they
don't want their clerks to be able to
download angry birds and play Angry
Birds instead of doing their job or
whatever they want them to use the
device for the enterprise use for which
it was intended so they don't want those
those applications on the device Google
for its its own commercial reasons
requires OEMs if that in order to
license those applications if you're
going to use them on any of your Android
devices you have to sign a contract that
says you will use it on all of your
Android Africa devices ok so it's all or
nothing thing you have to either ship it
on every do I
that every Android device that you ship
or you can't ship from call so given
that we've made the choice not to ship
so that we can serve those customers
that don't want those applications on
their device but there are alternatives
where customers need the functionality
that's in those applications but may or
may not want the actual Google original
version the other issue is of course
that many of those applications are tied
to a google ID so when you buy an
android consumer device and you activate
it with Google you do that with a gmail
address right with your google ID and
those things are tied then when you buy
an application from google play it gets
charged to the credit card that's
associated with that gmail ID those
kinds of things many customers don't
want that they don't want the kind of
connection of a device to a google ID
for various reasons uh for one they
don't want you know things sorry Google
Maps is not that's true but it's part of
the GMs apps it's all or nothing so you
don't get to choose
well so there are alternatives okay to
to Google Maps you won't be able to use
google maps but you can use the
alternatives and there are many of them
actually and some of them actually in
certain geographies open street maps is
said to be more accurate than Google
Maps so in spite of the huge amounts of
money that Google spends you know
creating that map database and and
delivering those those map tiles open
street maps is an open process by which
people contribute map information and
particularly in Europe it's said to be
more accurate than the Google database
so there are alternatives and we are
working with ISVs a number of ISVs some
of whom are listed here to make those
alternatives available on et1 to be
tested and proven on 81 to be sure that
they work and that they are available
for for isp use there are a couple of
gotchas to be aware of that might not be
so obvious there are features buried in
those google mobile services things like
c 2 DN the cloud to device messaging
Google's push notification service
that's actually buried as part of Google
Play so since we don't have Google Play
we don't have c2dm there are alternative
push notification services that are
available Google licensing is also a
part of Google Play and obviously tied
to that google ID again so again for an
application that requires the licensing
that's not going to work on an 81
because it's not going to have Google
Play to go to to verify the license okay
oh there's future direction so I talked
about a ldap and private data store
application control and lock down so the
ability to lock down into kiosk mode
that will be in a soon coming release
from MX tracking the Android releases
additional encryption libraries for
secure storage because we've been asked
for for some of that and key third-party
applications some of those are GMS
replacement applications some of them
are just features that where things need
to be the things aren't there with
standard Android that enterprise users
would like to see on the device ok ok we
have ten minutes left right so I'll
quickly walk through these example
applications that demonstrate how easy
it is to incorporate barcodes into an
application for example and the
application the demo that I chose was a
price check application because that's a
common thing everybody knows what that
is you scan a barcode you you find out
what the price is and I did a couple of
variants or conceive of a couple of
variants yes yes in this case it is
there's also a an accessory barcode
reader a laser barcode reader that can
be plugged into the device but in this
case I'm using the camera so the sort of
vanilla version the original version was
where you would enter the the barcode
information by hand and obviously enter
the price by hand as well and just use
that as a sort of the base version of
such an application and it would accept
anything as a price code you know it
wouldn't check to know that it's a
universal price curves just a string of
digits and look up the price and if it
can't find it give you an error message
and so an enhanced version of that would
be to actually use the camera as a
barcode scanner on the device
and use that to enter the the universal
price code and in this case I was saying
we would accept any barcode that it read
as a UPC you wouldn't look at the type
of bar code we would only you know take
a string that came out a data string
that came out of any kind of a barcode
whether it was you pc or QR or anything
else and then a third kind of variant of
the application i should say the second
version of the application would be
using a feature that that we built into
the et-1 keyevent injection so the
barcode scanner looks like it's typing
in the barcode information to your
application and it does that by
injecting key events that look like
somebody's pressing on the keys okay the
third version of the application uses
the intent that I talked about earlier
that we have an intent to find that the
barcode reader can issue and in addition
to giving you the barcode data string it
gives you the type of bar code so we
could use that to say that will only
accept UPC bar codes pretty simple
design a main activity with three
buttons the buttons kick off either an
activity to add an item activity scan an
item or says clear the prices so moving
to code
in eclipse then I have loaded two
versions of the application and you'll
see why it's too and pretty
straightforward the I won't belabor the
XML layouts there they match the the
screens that I showed on the design
slide so in the interest of time just
take a look at the the code itself this
is price check activity so it's the main
activity that first gets called up with
a three buttons on it for whatever you
want to do and I cheated ok instead of
using a database a sequel database or
sequel light or using a remote database
which you normally use for price code
information I'm storing the price code
information is shared preferences so if
you you written Android programs you're
probably familiar with that it's just
name value pairs that Android allows you
to store and persist across indications
of your application so it's an easy way
to store data and particularly i'll use
the UPC as the name and that you
surprised so I set up for the the shared
preferences that I want to use you know
initialize that in my mi on create
activity then in the layout XML I've
identified these on button click methods
and the Add button click just starts the
addict tivity the scan button click just
starts the scan activity and the clear
button activity first make sure that the
user really wants to clear the prices
and then if they do they call a clear
price method that just wears the prices
and does a commit which is what you have
to do with shared preferences for it to
to persist ok pretty straightforward
and the interest of time well now let's
look at that activity we'll look at that
activity / next so here doing so now I
want to add an item to this list of you
pcs and prices so again pretty
straightforward I'm initializing the
shared preferences in the same way so
that i can get access to them finding
the the views that i'm going to use in
the layout in order to get the
information and when the user clicks on
the Add button after they've entered a
UPC in a price then I'm going to store
those in the shared preference commit
this the the preferences and tell the
user that I did it and reset things so
that I could take the next one again
pretty straightforward finally scan
activity
same kind of setup now I'm using a text
view for the price because it's it's not
something that users going to enter
something users going to read again set
it up find the views that I'm going to
use and when the user clicks the find
button you know get to get the item's
price button I asked for the the ask the
shared preferences to find the UPC
that's been named and I say if you can't
find it give me back at minus 1 because
i know- ones never going to be the price
and and that way I'll know that it
wasn't found so if you can't find it
tell the user that if you do find it put
the price in the texture so again all
very straightforward and I'm not going
to demo that to you believe me that you
just type in the upcs and type in the
price if you're adding an item and it
gives you the expected result what I do
want to show you is what do I have to
change in order to use key event
ejection and the answer is nothing I
don't have to change anything I don't
have to change a single line of code in
order to use the barcode scanner instead
of typing it in from the virtual
keyboard that's because that key in
event injection capability where it
looks like i'm typing it in to the
application which is really cool and the
way i set that up is to go to data pro
data wedge which is the interface
between the barcode scanner and my
application and i say yes i want to
enable barcode input so that it will use
the camera to look for barcodes and i
want to enable keystroke input so that
it will do this key event injection if i
wished i could do things like prefix a
string to the data every time that it
sends the data n add a suffix send the
data is hex instead of as a ski added
tab key a dinner those kinds of things
but I don't need to do any of that stuff
so I'm not going to what i will do is go
back to price check ridge which was
again that code that i just showed you
say that i want to add an item say i
have a sheet here of you pcs that i
stole from various junk food that gave
me the excuse to buy over the last
couple of days and if I scan it finds
UPC decodes it I can enter a price for
that say dollar ninety-nine cents add it
to the list that i have in shared
preferences yes you in terms of a camera
window yeah yeah we'll do it we'll do it
because it's that's the other version of
the program the Navy yeah it's the same
so data wage is the interface that hides
the details of the barcodes gaining from
the application right so if I a the real
scanner accessory clipped on to the CT
one it would use that and from the
applications point of view it would be
transparent okay fine denied its price
again i'll scan the same barcode and
hopefully it will find the prime string
get the price dollar 99 cool so that all
works now let's take a quick look
because amount of time at the intent
version which isn't a whole lot
different
let me get rid of these so I don't
confuse myself
so looking at the source here what I did
well first of all I changed the manifest
to add an intent filter for the intent
that's going to be coming from the data
wedge module right and you can create
whatever action name and category name
you want to for that intent I created
one called condemn SI action scan
condemn aside category Barca but you can
make it anything you want it to be and
I'll show you where you do that then I
change scan activity so that it does all
the same kind of stuff it did before for
the to set up the shared preferences and
the same kind of stuff for on scanning
on when they click the Scan button but
there's a new override really I'm
overriding the the Android on new intent
method so that when an intent comes in I
can strip the data out of it and strip
the bar code type out of it and then I
compare that with label type upc-a which
is what it will give me when it scans a
UPC a type barcode to see if it's a if
it's that kind of markup and then accept
it or not okay so oh let's try that go
back to android screen capture so i need
to reconfigure data wedge right so it's
sending in a tent instead of doing the
qiyam it and key event injection so I'll
disable key event ejection Oh
Kirk yeah currently not you're not the
it's a one-way connection with data
wedge that's something I'd asked for for
the future cook is something that we run
into so you can see that this is where I
defined what the intent action would be
and they intend category so you can
again you can define that to be anything
you want to be you can define how the
intent is delivered and I've chosen
start activity so it will actually start
the scan activity I didn't show you the
ploy to show you the the manifest but I
didn't point out the scan activity is
identified as single top so that if scan
activity is already running it won't run
a new ski an activity it will just bring
it to the to the foreground but you can
select start activity start a service or
just broadcast the intent to pick it up
any way you wish and we should be ready
to go let's see if I do this I say I
think I've already added all these let's
see if there will test that theory so
the price 30 degree now let me for
example it's can I have a QR code on
here as well as all these barcodes let
me scan that and so the bar code is not
so it by by using the intent you have
access to the bar code type information
that you would not normally get using
the key event injection okay so that's
it thank you all very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>