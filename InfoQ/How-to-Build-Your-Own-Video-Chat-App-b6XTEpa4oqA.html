<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Build Your Own Video Chat App | Coder Coacher - Coaching Coders</title><meta content="How to Build Your Own Video Chat App - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to Build Your Own Video Chat App</b></h2><h5 class="post__date">2015-05-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/b6XTEpa4oqA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so hello everybody I'm will and
this is Alex and we created ice calm a
way of adding WebRTC enabled live video
and data to your app in under 10 lines
of JavaScript and now in four lines of
angular yeah it's pretty beautiful okay
so a little bit of background and we'll
Alex our team member Toni can't be here
tonight but we we started out on
building ice calm because we knew the
power of WebRTC but it's an extrordinary
challenge to get it all set up so what
is web RTC well I'll get Alex to start
to introduce you to that all right so
WebRTC is a set of protocols that allow
for browser to browser communication you
first need a signaling server just
exchanges or addresses between browsers
but as soon as that is established then
you have real peer peer connection and
it's sort of trending right now last
year or last month web RTC 1.0 came out
and the big deal of what were to see is
because that you don't need a server you
end up saving a lot of cost and because
you don't need that extra infrastructure
yeah I just say by the way this is a
pretty big route but it's still intimate
enough that if you guys have any
questions any thoughts just throw your
hands up and we'll talk about now okay
you're making this in a bit of a
discussion how this is going to pan out
we're going to talk through you know
some of the things that happened with
ice form we're then going to jump into a
workshop building your own video chat
app with angular which would be very fun
and and then we'll talk about all the
amazing things you might go to add to
your apps or to your new projects with
WebRTC
so as alex says getting WebRTC set up
can be a real challenge but it's totally
worth it
it moves all the power of video audio
communication into our domain the domain
of software engineers which is
incredible
exciting piece of this so here's
something you can build you know this is
this is cool three real faces and it's
3d rendered webcam screens so so you
create a nice comb to make all of this
much much easier and we launched on
Hacker News and we launched our number
two it was really special as a huge
amount of engagement and great feedback
from the community
for example we then launched on reddit
and it created a kind of impromptu
chatroulette so we had a little jsfiddle
demo on our site where anybody could
just go in and see like with the six
lines and then eight lines of JavaScript
that created this and stuff so we went
down on it but now people are actually
running pretty amazing things so virtual
car this is a team 40 engineers a lot of
them work from motely
and they wanted to be able to control
all the webcams in their office so they
wanted to move a video streaming piece
of their daily stand-ups into kind of
dynamic thing and they used no server
they used a node WebKit and ice form to
create virtual car where they can
control webcams in the office all the
remote people could kind of almost face
the person they were talking to it was
pretty powerful and all sorts of other
uses and again all this just with ten
lines of JavaScript okay so there's
going to be the bulk of the conversation
I just suppose does anyone have any
immediate questions Before we jump it
okay I can see so many go ahead to
repeat the question
can you can you correct on on chrome on
Android yes there are ways of doing it
on native you can do it on native
Android apps and then on iOS as ways of
doing it we'll talk about that a little
bit more detail later on any more
immediate questions let's jump into that
question a little bit later it's a good
question all right so here's how it
works with vanilla JavaScript and you
feel free to go to ice calm dot IO and
click on View jsfiddle and this is what
you'll basically see
so create a new ice comb object grab an
API key to do so then you set up a
listener for when you connect and grab
the video stream from your local webcam
you then sort of a listener for when
you'll be other peer connect grab their
video stream pass it in as append it to
the to the body and then you connect so
it's pretty simple but we're not here to
talk about the vanilla JavaScript
version here we're here to dig into the
angular they need the new angular
version so here I'm going to pass to
Alex and Alice is going to walk
everybody through so we won't get to
laptops open I walk through getting set
up with your own video chat on angular
and I should say you're going to love
this we're actually going to pair
program on this so you're going to look
to your part yeah I've seen a lot of
eyes rolling that but it's going to be
to be honest a video chat by yourself
it's not as fun as when you pair program
with someone else so I'm going to get
Alex to lead everybody through creating
their first video chat app powered by
angular module from high school yeah so
everyone just take a second to go to the
github link for kit and clone it to your
desktop
all right yeah I'm going to walk around
and alter any and come true questions
yeah so this is gonna be more like a
workshop to feel free if you have any
questions along the way me and will be
able to walk you through it
all right so just a preview this is
essentially what we're going to be
building in without the styling but this
is the features and functions what we
begin building in the demo that we're
about to do so again is just going to be
a multi person chat room so that anyone
who just joins in to your room or anyone
who goes into your art will
automatically able to join your group
you can support many peers yep yeah yeah
so just to be clear everybody you're
going to go grab the get anything then
you're going to clean it down okay and
then CD to it alright so just to get
going so essentially the end the
template code that we start with right
now is going to be in the examples
folder it's pretty much just going to
have all the dependencies on the top and
it's just going to have an empty body a
two body elements so that's where we're
gonna start from here just to jump back
to slides make sure everybody got that
link I think a few people missed that
link I was jump back yes there we go
just in case anyone misses the link this
is here alright cool so pretty much
everyone everyone has a local copy on
their desktop this is the code I'm going
to start with and then the next step is
actually if I want to get an API key so
that you can utilize the service that we
utilize ice calm so just go to ice calm
down oh and there's going to tab to get
an API key it's really quick design up
it doesn't require in an e-mail
verification 265 seconds yeah so just a
true people will said after you sign in
there's going to be an account tab on
the top right hand corner and then your
API key be just right there
okay cool so after you secure your API
key you're just going to need to put it
into your inside the templates there's a
body directive right there or there's a
guy's calm directive inside the body tab
and you just need to insert your API key
inside the API key attribute on the top
and then that will give you full support
of ice console platform alright so the
way that ice cone works it's similar to
socket it's a room based system meaning
that if you join or you want to join a
room and if you join a room other peers
in there it's going to require event
handler which will then be able to get
you there video streams so there's sort
of four steps that involved in this the
first one is to connect to a room and we
created a directive called ice comm -
connect now be able to connect you to a
room there are a few properties
associated with it there's a room
attribute which means which room that
you want to enter you can customize the
room you can your API key you can link
you to multiple rooms so you can just
that's a dynamic feature that you can
add to your application you can specify
if you whether or not you want audio or
if you want to turn off audio if you
want to turn off video just in case we
specify audience false because there
might be some feedback issues and then
the director of render is a button that
allows you to you know connect to a room
so you can sort of specify the
properties of the fit button at the
moment we're adding a lot more features
to make the connects directive more
dynamic but just right now these are the
initial features so just this director
alone to summarize it will give you a
button that allow you to connect your
room when you're inside a room then you
have access to other people's streams
alright so the next step actually is do
then there's sort of two things you
either want to do one is you want to
load your video your local stream and
then there are other alternatives you
want to load other people's videos so
there's one director right now to load
your own video and wherever you put this
is where your local video would then
depend so right now it will not appear
in the Dom until they actually receive a
video element and then so you can sort
you can model
by this you can put it anywhere you want
you can put it inside your specific
developments wherever you feel like you
want to place it
and then the next one is the more the
more interesting component is you want
to load other people's videos so the
years a nice calm care director that
means okay assuming that you know
someone else is in the room what do you
want to do with their video stream and
then you can end you can place their
video elements where the eyes compeer
directive is located okay so with these
three directives you'll pretty much have
the ability to load render your own
video or render your own video render
other people's videos and then we add
one last directed sorter or leave the
room so if you leave the room that means
other people's videos your video
disappears you can place that button
anywhere you want and that's where this
directive is located you can yeah that's
where this video is located we added
this feature called pre stream that
allows you to scan sometimes you don't
want the hang up button to appear until
other people are actually until you
actually have other people's videos so
we add this attribute called pre stream
that makes it so that the button the
hang up button does not appear unless
you're actually connected to other
people
and yeah then you have a multi-person
video chat with those four line photos
for directors so what else can you do
with WebRTC
so we've seen over the last two weeks
periscope and meerkat completely blow up
and that's one amazing opportunity with
WebRTC but there's a lot more and what
web RTC is going to do long term is yeah
it is huge potential but short term what
can you actually add to your app right
now and here are just a few things that
are being done at the moment I think you
guys might want to do with WebRTC male
news ice con customer support
so contextual video and audio support
and also tech support is very powerful
so on
contextual by that by that I mean on the
one hand you grab the information so
someone's on your ecommerce site for
example or or whatever and you press you
know helpful or whatever is one of the
old live equivalent button is and the
custom is a poor person gets access to
your checkout bar scared to the time you
spend on the site whatever it is all
part of data streams with WebRTC
on top of that this now sort of is so
much innovation happening around WebRTC
and by developers and you can actually
imagine sort of scenarios like setting a
audio support button to be conditional
on for example how long somebody's being
waiting on the site and the size of that
of the checkout so they have four
hundred bucks of goods in there in their
basket and they've been waiting for two
minutes that's when you initiate an
audio support call as a support person
and those sort of ideas there's still
early stage for people but there's
really interesting stuff being done on
that and marketplace apps is fairly
fairly obvious there's going to be an
opportunity to really build on live a
lot of this sort of communication was
done in person can be done using WebRTC
education broadcast is still which is a
laudable education is is is still in its
infancy for WebRTC there are ways of
doing web RTC one too many connections
but it's
relatively early stage web RTC was
designed for one-to-one or feud a few
but not for broadcast but there are some
really interesting things have been done
or done around that and then obviously
for any situation where you can use
WebRTC you are reducing server load and
that's a huge opportunity for lots of
existing lots of existing apps so there
you go that's a introduction to WebRTC
to ice comm we will continue to work
with you guys to get your get your video
chat apps running but in the meantime
we've got a few minutes for questions so
the question is what is the custom room
that we're using to net connect the room
that really can be any name that you
like that's a it is really up to you
okay so each application that you're
going to build would have like one API
key so if everyone was sharing one API
key and then everyone joined the same
room that everyone would be in that
giant conference hall so but if you want
your application to have like multiple
rooms you don't everyone to be in one
room then you would you know have
different really names for that other
questions it's a great question so the
Allison go into one other way of doing
this but one fairly standard way of
doing this is the main knocking so if
you look on the on your account page you
can actually lock your API key to a
particular domain it's it's the second
best solution there's another way of
doing which I will sort of describe
serving up from oh yeah there's a
handful hacker ways there's a or we're
going to a better way but currently you
can either server your API key through
back through your server so that you
know you don't have display it with
someone you know goes to Chrome opens
chrome dev tools the linking locking
your API key to your domain is another
way so that if someone else tries to use
it but they're not using your root
domain name then they just don't have
access to anything and then another ways
you can actually there's a button that
there's a button there just in case
someone does have your API key you can
render a new API key as well so just
generate Ascension
all right one question Paul okay all
right
thanks so much guys</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>