<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Steve Newcomb on 3D Physics for DOMies | Coder Coacher - Coaching Coders</title><meta content="Steve Newcomb on 3D Physics for DOMies - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Steve Newcomb on 3D Physics for DOMies</b></h2><h5 class="post__date">2013-05-10</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/83MX4wsoMzU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome everybody we're gonna talk about
physics engines today and have some fun
with physics engines we're super proud
of a really nerdy title through physics
for dummies and you know this is my
favorite conference to speak at one
because it really helped start my
company in a whole new direction when I
spoke here last September but I really
love this conference because it bigint
it brings together people that are
working on html5 and we're all sort of
battling on it to try to make it perform
it or to make it beautiful or to make it
pleasant to work with from an
engineering standpoint or from a
designer standpoint and each and every
one of us to come up here speak are sort
of a tackling it from a different angle
and we share our stories with everybody
to hopefully help everybody learn the
lessons that we learned along the way
and that's what I hope to bring to you
guys today is really just bring the
lessons learned from a pretty
hard-fought journey that we've been on
and there's really two things that make
us unique in the way that we're tackling
html5 number one we believe that we can
be equal to and even better than native
and the way we do that and the road that
we need to take we believe is through
DOM and that is we want to make the
hardest thing work at 60 frames per
second first and then work with the
easier things second canvas and WebGL
are easier than working with DOM and so
we work and render in straight to DOM
first with everything the second thing
that makes us unique is we are funded
specifically to research the
fundamentally hardest problems that
exist in html5 and try to solve them and
right now we're working on four core
engines I've talked about one the
rendering engine at the last html5
Devcon forints today I'm speaking about
our physics engine we also are building
a gesture engine that controls all sorts
of input from Mouse to keyboard to open
air gesturing systems to touch systems
and does that elegantly and we're also
building a fourth engine which is a
multi screen engine
allows you to flick to and from any
device regardless of the OS and you can
flick all of or part of any app that you
want but today I'm here to talk about
the physics engine but let's before I
start to get in that I really want to
sort of remind everybody where we
started off last year's journey was all
about the creation of the rendering
engine that we built in JavaScript and I
just want to sort of take us through
that quickly and go through the lessons
we learned there quickly so I can get
into why did we pick a physics engine
second so it makes sense and then we'll
have lots and lots of demos today so
first and foremost this is a famous
website I don't know how many people
have seen famous website pretty good
amount of people so if anybody wants to
go to Fame ODOT us if you go there in a
computer you can use a sdw you know
first-person shooter or if you go there
on a mobile device you can use your
hands to move through it and what this
is running on is a stock iPad running
stock Safari there's no downloads
there's no plugins there's no use of
WebGL there is no use of canvas and
here's one of the kicker's there is no
use of css3 transform primitives or
transition primitives and what we're
looking at here is pure Dom this is Dom
elements floating in space each one of
these guys that's floating around is
simply a div and the text is text and
yes in fact that is the dreaded WebKit
box shadow that we see everywhere with
transparency and what this is is what
this really is is just a kitchen sink
demo of all the things that you're not
supposed to be able to do in html5 and
so just running through real quick
we know that influent infinite scroll
with momentum is hard for people to do
this so this is at 60 frames per second
in full 3d any direction I want I can
also pivot this in in 3d space and we
automatically change the
model-view-controller to go into 3d
space correctly and in fact I can pivot
this and do another thing that you're
not supposed to be able to do in html5
and that is interrupt an animation in
mid flow
and transform into another animation
without a flicker so I can throw this in
3d space and then grab it and of course
move it anywhere I want the other thing
we can do is change from a different
view to a different view very very
quickly and in this example that we have
on our website we have five years each
with this different controller so we
have Wall of Fame we have helix we have
sphere and we have what we call Peres
flow and then we have the just to be
nice we have the periodic table of
elements itself each with its own
control functions in it and one of the
things that you can see that we can do
is touch any of these objects and you
can actually navigate to the objects and
the same code that's rendering this and
helping us go to these objects is the
exact same code that's taking us to
these objects because we treat
everything like a game engine and we're
just doing camera control here one of
the other beautiful things we can do is
you can see that we can switch a view
into another view and then touch the
screen while the view is compiling
itself and we actually capture that and
handle the throw elegantly so I can
switch from a sphere to para flow throw
it in the middle and you'll see that
I'll recover quite elegantly so throw it
now and I recover and it rebuilds itself
on the fly to be able to do this is all
about requestanimationframe how many
people here have messed around with
requestanimationframe lots
yeah the hands were lots less last year
but the idea is the pristine and elegant
control of what happens in an animation
frame and the way it kind of works for
those who haven't done it before is you
request an animation frame you got to do
a bunch of junk in that animation frame
and then on next tick you grab another
animation frame and you got to do a
bunch of junk and you string them
together and that's how you create your
your frame rate and the idea is if you
can get all the stuff you need to get
done in sixteen point six six flat
milliseconds then you will achieve sixty
frames per second but the but the thing
about requestanimationframe is it
expands and it contracts depending on
how long it takes the job for you to get
done done
and so what needs to get done within an
animation frame and what is that loop
well the answer is simple you take
parsed DOM and then WebKit or whatever
the render is then calculates up the
matrices for the Dom multiplies the
matrices creates a composite matrix
throws it into the GPU and the GPU
paints the bitmap the the gnarly piece
where WebKit falls down on is is reading
the parsed Dom and creating the matrices
multiplying the matrices and winding up
at a composite matrices WebKit is
designed to do that
optimized for a document and so no
wonder when we try to build apps with it
WebKit kind of falls apart because it's
not optimized to build an app so what we
did in the Jay s render is simply as we
built an optimized j/s render that's
optimized to handle apps or things that
we do in a P world and the beauty of
this is is we've optimized this so well
this is now eight months old or so you
get sixteen point six six milliseconds
per animation frame to hit 60 frames per
second this one an iPad is running
around six milliseconds is all we need
and we're just hanging out for the rest
of it when a computer it's around one or
two milliseconds when a television set
it's around three to four milliseconds
and the other thing is is we have very
low standard deviation of variability in
each frame usually one millisecond or
less deviation in how long it takes us
to compute this each animation frame so
what we get is extremely stable frame
rates that are extremely predictable and
rock-solid which is the exact opposite
of what you get if you decide to use
WebKit as your render and the beauty is
our render just appends itself as a JSI
Brer II there's no download there's a no
install you just call our library it
takes over appends itself the WebKit and
then just reinsert itself back into the
flow of WebKit at the right point just
before the GPU if you open up the Dom
here and inspect which I highly
recommend everybody does you'll just see
that these are just div elements and
you'll see us applying the composited
matrices to each of the developments
that we're computing in JavaScript and
the odd thing is is this can happen 14
times faster in JavaScript in the
see code on Chrome it's simply a fact of
using the right tool for the right job
it took us two years to get to the point
where we were able to build this but
once we got here it was a pretty
exciting standpoint for us because we
had all these milliseconds left over
each animation frame right so we're
thinking ourselves well what do we do
with that extra time so we're like hey I
got an idea let's go do a physics engine
you know we were we were gluttons for
punishment before when we built our
rendering engine and you know we told
our investors we said we would have
built a physics engine we think it's
fundamental trust us give us a ton of
money to do it and we were able to raise
a huge round of financing to help us go
after something that was sort of another
level of complexity beyond a rendering
engine and then we wanted to hook the
two together and so what today is about
is the journey that we went on trying to
first find a third-party library to do
our physics engine and then ultimately
realizing we had to build it for
ourselves from scratch and the lessons
we learned along the way and my hope is
that we just teach you all these lessons
so that you don't make the long and
painful mistakes we did and then so you
can move a little bit faster so the
thing is when we when we went to start
our physics engine like everything else
in html5 we were excited we were like
this is gonna be cool I can't wait to do
a physics engine you guys have me here
have seen demos of physics engines
they're super cool right like I like
actually cordoned off time at night just
to play with these things and you know
we head into this we're like hells bells
we're gonna find the coolest physics
engine on earth and we that's me and
Mark with our team trying to go I don't
know who the little kid is we've been
trying to figure it out but and we're
like we find this we find a library
right we're like oh my god this is cool
I can't wait to play it we start playing
with it we're like this is the coolest
thing since sliced bread this is going
to be it and then we're like wait a
minute
something's wrong with this library I
cannot I can't quite put this to words
but something's wrong with this library
and we look deeper as we try to actually
build something with the physics library
and we get to the point where like
it only works with WebGL in canvas we're
dummies I want to live in a Webby world
I don't
I live in a WebGL and canvas world only
I love those worlds but I want to start
with DOM and then go to the easier
worlds later so we're like it needs to
work with Dom we can't use it
so we're bummed but like anybody in the
html5 industry we're like hey we're not
giving up back out on the trail we're
looking for another one we hit another
one we're like oh my god we're so
excited we're like this one's it this
one's gonna be the winner and we're very
excited about it and then we get into it
we look at the code and we're like hey
it works with Dom that's awesome and
then we're like wait a minute wait just
a minute
something's wrong again and we're like
it only works on computers it doesn't
work with mobile devices crap we are a
company that starts with a mobile device
first and goes to the easier devices
later and we're like crap so this thing
isn't built for that so there we are we
can't use it
and we're like back out on the trail
we're still going after it we find
another one and we say oh my god a new
library and we're like all right clearly
clearly this is the one that's gonna be
the winner but then we get into it and
we say okay works on WebGL it works on
canvas it works on Dom it works on
mobile devices but then we're like but
something's wrong about it cuz we look
inside the code and we're like is this
really what it seems because we look at
the code and we say are we happy with
the way this was architected does it
follow the rules we learned when we
built the rendering engine we learned a
lot when we built that initial rendering
engine and so we get into the code and
invariably whenever we looked under the
the coda that the the hood of the code
we're like wait a min we invite a third
party library to be part of our stack
it's like inviting a new family member
and we're like do we want this type of
family member come into our house and
we're like this feels really weird and
and the issue is is that any third party
library we ever looked at always breaks
one of the three Commandments so these
are our three biggest lessons learned
and if you nail these three you get 60
frames per second period and that is one
you must have pristine and utter control
over Dom reflow if you ever don't manage
Dom reflow correctly you're dead right
off the bat that's the simple dimple one
the second one is you must pristinely
control
the event loop you must not have any
third-party libraries or any libraries
for that matter fighting over the event
loop because all you need is one
collision and you're dead and the third
is you must have a deep understanding of
how texture caching works in the GPU and
now how not to accidentally set the
dirty flag on a texture cache if you can
get those three things right and nailed
pristinely you'll get 60 60 frames per
second if you miss just one of them just
a little bit of one of them you're dead
and what you get is inconsistent frame
rates so we were like you know a big
whack new library so we're like well
clearly let's build it and we said so
what are the core fundamental principles
of what a physics engine needs to have
in order to really work well in html5 at
60 frames per second on a mobile device
controlling DOM and the answer is it the
code must abide and it must abide by
those three rules I just talked about it
must use the request animation loop or
it just isn't it just won't work it must
do Dom first and consider Dom first and
do the easier things later it must do
mobile first do the easier devices later
it must be 3d by default so you can do
the easier 2d stuff easy and it must
have unlimited capabilities in the sense
that if you're a senior engineer and you
want to directly tap the engines and
build really crazy stuff you must be
able to have direct access to the
engines but if you're a junior developer
and you want to get stuff done you must
be able to access higher level
abstraction code that looks a lot more
like jQuery or syntactical sugar so that
it can help you build things and even a
layer above that we wanted to be able to
build things that designers could use so
that designers could come in and
actually be much more efficient than
they currently are in html5 and we have
a demo coming up that really talks a lot
about that so first and foremost can you
do physics at 60 frames per second
controlling Dom on a mobile device well
yes you can and so let's let's look at a
simple demo
okay okay so we purposely made this look
a lot like existing physics demos out
there most physics demos you see are
abstracted like balls flying around and
you never think of it in terms of like
how is this useful you really think of
it in terms of like oh my god this is
cool and that's about it what's unique
about this is again stock iPad stock
Safari no plugins no installs no WebGL
no canvas no css3 transition primitives
this is just physics and Dom physics and
DOM and what I'm going to do is some
very simple basic things that all
physics engine demos do number one
create a gravity well and pull
everything to your finger I have no idea
why this is important but it is and so
here I am pulling all these objects
around and unable to just suck them into
my finger here as I go through and if
you see the little gray area that's the
sucking vortex of awesomeness that we
have there and if you have you know pull
you know by default you have to have
push I don't know why either but here we
go get out of my way everybody here I
come
and so you can create any of these
vector fields bring it back to pull for
a second I can do group by so maybe this
is starting to get a little bit more
useful so a group by collar and I'll
pull these little doodads around and
then maybe I'll grab two of them at the
same time and grab them around and then
maybe you're thinking maybe this is can
be useful what I do this with like
Pinterest or would I do this with
Twitter I have no clue but it's super
cool and it's in Dom which is what's
important I can redistribute this in any
shape I want so remember in the periodic
table demo each of those shapes we had
five shapes that we developed in space
in our 3d rendering engine well this is
a vector field shape okay so think of if
we changed over the periodic table which
has all those different shapes which are
Dom shaped surface shapes we can create
shapes and surface
is now or in vector fields so instead of
having things hard code to a shape we
can actually just have them flow in
through physics into a vector field so
those types of shape-shifting things are
going to be fundamental to our future
and I know this is like super abstract
but again I urge you guys to go out
there and like grab like an iPad one or
an iPad 2 or some such a standard iPad
or a galaxy and go to all these physics
demos and try this and put it on the dom
mode and see if it's fast there there is
a couple of them out there that are OK
speeds if you try it on an iPad 4 but
they eventually break one of the
commandments and that's why what kind of
bummed us out at the end of the day so
this is just sort of a discrete example
our set we're going to make this
available for everybody to play with and
inspect in the future and it's going to
be part of our hello world series when
you learn how to code the physics engine
everyone in the world will be building
this little app but that doesn't solve
everything because a lot of people are
like why physics in the first place
a lot of people question why using it a
lot of people say hey I just custom code
all my transforms and I am a badass
programmer and I can code any transform
you know you give me a bounce that
you're doing in physics I can model it
on my own no need to do this and they
say you know physics is one of those
things that seemed like a good idea when
you tried it but once you get into it it
kind of turns out to be a bad idea and
other people come and do it and they're
like it's just frickin overkill you
don't need it at all but I I would like
to say that I don't think that that's
true anymore I think it used to be true
but I don't think any longer it's true
and there's a guy who changed everything
when Steve Jobs came out with the iPhone
and the iPad and he came up with a very
concept of the native app we entered
what I call the interface race
interfaces suddenly became much more
complex or rapidly and so I would say if
you're simply doing sort of a jquery
mobile sliding drawer sort of interface
you don't need a physics engine i kind
of agree with that but if you want to
win in the marketplace and the interface
is now a competitive advantage imagine
going into a store and you're choosing a
phone and you're saying well which
interface do I like it now matters and
then you're choosing an
in the AppStore and you could choose to
apps that do basically the same thing
but one of them has a crushingly
beautiful interface and the other one
has a sliding drawers jQuery Mobile
interface you're gonna choose this one
so now we're in this interface race an
interesting dynamic is happening that
hasn't happened before
and that's complexity in interface
design so imagine you have a scale and
at the bottom of the scale is jQuery
Mobile sort of sliding drawers type of
thing where a human being good engineer
can build custom animations that use the
primitives and sort of get away with it
now imagine you go up a level
well the complexity expands faster to
manage that than the beauty of the
animations themselves and so if you come
if you compare a baseline sort of jQuery
Mobile or Sencha app you're around here
then you look at the most popular
beautiful apple apps they're way up here
in complexity and what happens is
there's a magic bright line somewhere in
there in between those two where the
complexity of managing all the different
relationships and interactions between
all the animations is such that a human
engineer can no longer hard code it in
order to manage the complexity and you
break a line somewhere in the middle
there where it gets so complex that a
machine needs to manage the complexity
and so in the early stages a human being
can abide by the three commandments by
themselves by coding really good hard
code solid code but at some point it
will get to the point where it's so
complex no matter how smart you are now
how good a code your coder you are you
can no longer manage it anymore and your
code flies apart and so that's what
famous is at the end of the day it's a
machine that manages the complexity of
the interaction between things in such a
way that we abide by the three
commandments that's basically what we
are at the end of the day and what
happens is invariably any coder or any
development group or any company that
gets into building these apps eventually
gets to the point where they realize
that the hard-coded stuff they're doing
is actually reinventing the world we
love physics anyway and so what would
you rather be as an engineer know that
you have the proper foundational
elements built correctly when you
your project or BRE 3/4 of the way
through it and realize like oh
like we got to tear everything out and
put a physics engine in and so what what
we believe the future is is that when
people start projects they're going to
start with a surface rendering engine
and they're gonna start with a physics
engine because they're gonna say to
themselves hey it's obvious we want to
have a company that builds an interface
that competes at this level and so we
already know that that easily crosses
the bright line so we know we need those
infrastructure components anyway so
let's start having them right from the
beginning but is it practical we saw the
the cement truck
the pink cement truck flying up in the
air can we see a practical demonstration
of why this is important so this is a
big one
mainly because I need to go to portrait
mode so we think that the way design is
done is going to change in the future
what we have here is a basic simple
scroll view with some movies on it this
scroll view is different than all other
scroll views in that it is it is
controlled by physics not by transforms
not by hard-coded transforms so the way
we built the scroll view is governed in
a completely different way and you can
see here I have a pretty basic scroll
view it's actually set to mimic exactly
Apple here and it looks kind of cool you
know it's alright what we think the past
is is a designer saying hey I want to
change this a little bit and they go in
and they mod CSS attributes last time I
spoke I said css3 is an abomination it
should be thrown away and I still think
that because when designers go in there
so deciding what the bounce of this
should feel like is the domain of the
designer and should be but going in and
modding code that could screw up
performance is not a designer's job
that's the engineers job and I've always
said that css3 is an improper
abstraction that that can't that that
that muddles the world of the designer
and the engineer and so when you have a
physics attend engine attached into
these objects every
objects now has its own physical
attributes they have mass they have
weight they have forced they have
friction they have all the sorts of
things that you imagine that exist in
the physical world and if you can do
that you can modify the kinematic
attributes associated with each of those
objects instead of CSS and that is the
appropriate thing we see a future where
there is Jas controlling everything and
it spits out Dom CSS which are virtually
never touched and kinematic attributes
so when you open up the spec inspector
in famous you see the Dom elements on
the left and when you click on a Dom
element you get the CSS and there'll be
another tab that has the kinematic
attributes of each Dom element that you
can change the physical force vectors as
you will kind of like this so here I am
looking at looking at this and what
we've done is surfaced just a few of the
kinematic actors that were capable of
modding tightness grip bounce friction
drag fade spin swivel mass depth just
some fun things with this so imagine we
have this baseline scroll view here and
I want to show you how quickly we can
mod this so that looks way way way
different here so number one let's say I
want to have this have a bounce at the
end of it
it's as simple as just reducing this and
now I have nice sexy bounce I can make
it a little bit tighter and I have a
little bounce I can make it looser
loosey-goosey I can make it go Boing I
can make it go back to loosey-goosey and
I can even make myself a clock and so
you get to a point where you have now a
proper abstraction between the designer
and the engineer so the engineer is up
there modeling tightness grip bounce
friction these are physical physics
things fun things for an engineer's like
ooh I want to do drag that's fine but
once drag is modeled you just surfaced
that kinematic and then hand the iPad to
the designer and say get out of my hair
and the designers like good and the
designer then grabs the device and
instead of trying to model this on some
other system that isn't
actual element that the customers is
using you just grab the actual iPad or
the galaxy that you're developing for
and you play with the kinematic actors
on that device that's insanely important
because the jas engines on each of these
devices are a little bit different
many people have coated a scroll view in
JavaScript and then they play it on an
iPad and play it on an android and it
feels different and you get this uncanny
valley thing happening so for us there's
no code change you just go pick up both
devices and play with them and change
the kinematic attributes until it feels
right on both and then you just profile
the device and you're done what we can
go way beyond what I just showed you
here if I take it back to the defaults I
can actually style this thing in three
dimensions to start adding attributes
that have never really been ever added
before so when I throw books like this I
actually think they should plane in 3d
space they should sort of be like whoa
like what are you doing like you're
throwing me fast maybe we went a little
bit of a sort of a coverflow animation
here we also maybe want to put things
like designers like like visual spatial
overlays I don't know if we'll be able
to compete is it possible to dim the
lights at all yeah okay
I'll do the vision of spacial overlay in
a minute but let's say I want to make
these guys sort of be affected in space
and be affected by my first so the
harder I throw it the more these books
are going to plane and rotate in 3d
space so here we are now and I don't
know if you can see that they're now
rotating in 3d space and if I throw it
and stop it real quick you'll see
they'll kajigger
and quibble and correct physics until
they settle so if I throw this and stop
can you guys see that you can see it's
clearly trying to copy it because it is
real dumb as well I can bring the depth
for it so now you see I don't know if
you can see the middle object is now
popping forward in 3d space so now I
have an object where I am now throwing
this in 3d space when I stop it
everything settles in space and the
middle object that's in the middle is
popping out more than the other so if I
go slow nothing goes that the objects
don't swivel in 3d space but if I go
fast they do these little differences
are what matter in interfaces imagine
adding this up to a thousand little
differences until you get to the point
where a consumer looks at an app or an
interface and they simply say I got to
have that I don't want this old stuff
over here this one just feels so much
better and I can even go so far as to
change the attributes of individual
objects like changing the mass of
objects and associating it with their
popularity so by just surfaced here is
the ability to say give books give in
this case movies that are more popular
more mass and what that means is when I
throw them and I stop it
the more popular books will take longer
to settle because they weigh more see it
I can also do fun things like add visual
spatial overlay I think it's dark enough
now to see it so if you look here I'm
actually adding a little bit of a light
source here to this so that the center
object is more highlighted anybody see
that so now we get a full effect here
where everything is popping
appropriately and looks way way way
different than the original animation
and the idea here is that we see a world
where there are these widgets and the
widgets have kinematic actors and
designers go in there and a brand like
ESPN or brand like Pinterest or a brand
like Facebook can create customized
branded experiences so that their
Facebook scrollview feels like a
facebook scrollview and a Pinterest
scrollview feels like a pincher scroll
view and these branded experiences can
be essential for consumers to buy
devices in the future okay so so we
talked about simple examples of a simple
of a simple physics model and then we
also talked about how would these be
applied in real-world but as we do with
everything we try to go to the nth
degree and come back from that so that
everything else is simpler we always try
to do the hardest thing first and then
that way your real-world life becomes
very very simple so I talked about the
periodic table being sort of the hello
world app that you learn in famous when
you learn the surface rendering engine
but the app that you learn eventually
when you learn the physics engine and
you combine that with a surface
rendering engine we call
hello galaxy and it's a lot of fun
because you get the model an actual
galaxy with moons and planets and Suns
and and so forth and we want to give you
a little bit of a taste of this but this
is an app that everybody in the world
will be coding in the future and you'll
be doing this in like just a couple
hours and again this is stock iPad stock
Safari no WebGL no canvas no css3
transforms and this is just pure dumb
elements rotating around and this is
actually run and governed by physics we
are not
custom coding any of these transforms
and this is a good example a good
abstract example of this would be
virtually impossible to build if you
were hard coding this is way above that
bright line of capability of any human
being trying to manage all the
complexity of what's going on here at
any given time we think this is candy
compared to what's possible in the
future as we see devices get stronger
and stronger GPUs as we're seeing GPUs
capable of doing multi-threaded texts
texturising this stuff can actually go
way beyond this and so this is this is
the new hello galaxy example in our
physics example we have similar examples
that we'll be doing in our gesture
engine that I'll be talking about I hope
if n if n offers me to come back to
speak again I hope that we'll do the
multi screen engine next time with the
gesture touch engine and in each and
every time we always try to build the
impossible first so that we can back off
to the reality and then it becomes easy
to do the reality as always I welcome
any question that you have last time we
talked about famous we didn't know how
we were going to share this with the
world and I'm very very happy to say
that we've finally been able to way to
figure out how to make famous available
to developers and I'm happy to announce
that for developers that are building
apps and deploying them it is free
period so everyone should be able to try
this out we aren't launched yet in beta
and now the bad news
so about 28,000 people have signed up
for famous about seven people have been
allowed in to play with it
we are not Lean Startup I do not believe
in Lean Startup I never have I think it
produces bad engineering I am much more
like Apple so we ate at someone clap one
clap a small rising I know it's super
popular to do Lean Startup
but I'm very passionate when you're
creating a platform like this it needs
to be rock-solid for you guys so if
anybody is adopting a new platform you
are investing your time and your life in
that platform and I respect that deeply
because I am the engineer that is using
this and I feel that strongly so we're
not going to release it until we're good
and ready and what good and ready means
is that our business model is set and
it's free for you guys we are well
funded we're going to be around for a
while we're properly staffed we have
great documentation great tutorials
great examples that things are built a
senior engineer can do any damn thing
that they want but a junior engineer can
use it too and all of this stuff takes
time and so we are turtles we are not
hairs but look how much we've been able
to do by not using the Lean Startup
style in just six months so if we slowly
progress and make wise decisions and
architect things elegantly from the
beginning I believe we change the world
to a little bit better place and a
little bit away from spaghetti code and
I'm ultra passionate about that but it
means we have to wait for this platform
to be ready please sign up it helps our
investors know that everybody cares
about the sort of stuff it's scary to
say that we're gonna be giving this away
for free and the next big decision that
we hopefully get to make between now and
the next time we talk is is this going
to be source obfuscated source viewable
or open source and we've been really
thinking about that deeply we've been
thinking about it for years and we still
haven't decided I will tell you that our
leaning is open-source but I will tell
you the shifts complicated it's really
tough to do we
to somehow create a business and make
money to pay people salaries at the same
time but our definitely nning is free
for for everybody that's trying to build
these apps and change the world and if
we can get there we would love to be at
least source viewable and we hope that
we can create an environment where all
of you guys can create your own 3d
templates and famous and we're going to
create a marketplace where you can
create those and perhaps even sell those
yourself so you guys can create a mini
business in and of yourself on this we
are different than most companies in the
valley I feel like I am fighting a tide
against Lean Startup and and trying to
trying to vote for elegant engineering
and I know it's hard to wait for things
like this that are going to be free and
seem to be super cool I hope we have
your patience I hope we've maybe walked
a step together down the journey towards
making html5 a whole lot better than
native thank you very much
if we have time for questions or if we
do this is my co-founder mark so mark is
the mark and I were have done this
mostly together but mark is my
co-founder my Phenom my friend and he is
the inventor of most of this and
deserves most of your attention today if
we have any questions we're happy to
bring him right I appreciate your
comments on a Lean Startup our company's
Lean Startup extremely difficult to get
quality engineering done and where
robotics company so I can tell you -
real challenge team of three now yeah I
do the rest so anyway my question is
it's a general question about how much
code you guys think you're doing per day
the general industry standards 30 lines
a day what do you guys think you guys
are dealing with this quality cut what I
know it's a tough question how many
codes of primer today do you guys think
you're doing uncover how many lines you
got right now it's an easy
ah-oh so we're around like around like
3,000 4,000 lines of code
Toto every scenes very modular it's
basically like core famous engine is 36
hours of about a hundred lines of code
each the physics engine itself is
basically like 10 files of around 100
lines each so it's all just very modular
pieces that we make sure work extremely
nicely together that allow for extreme
performance things in a very flexible
way single core ARM processors in
general it works on single core ARM
processors very well yeah
multi-threading is not quite yet
necessary to run everything that we've
been running so far everything's bring
in same trip
yeah that should do a job - like for
some of the simpler stuff even though it
for optimal performance on like more
complicated interfaces it's recommended
that you have something that's a bit
more powerful but generally speaking and
all the demos we have will run at an
acceptable framerate even back to the
iPad one left although it's a difficult
question answer when do you think give a
timeframe on on when this library will
be released if you could guess when the
what will be really the famous library
is the platform ya know that's my answer
thank you when we're done yeah
we want to when it's rock-solid period
and I don't know when that is we're
doing really well we do things like
throw people that never have seen the
framework in front of it and see if they
start crying which has happened see we
are at the point where now we can throat
we through somebody new at it the other
day and oh yeah basically in about an
hour of time he was able to get like
productive West Africa and getting
things to fly around and he was actually
able to get a bit very good with it was
just a few more hours of usage so it's
like huh we took a we took a designer a
designer mind you that's a designer
first engineer second and did I just
lose Internet yeah
they'd oh we took a designer that had
never seen her framework before and and
gave him our code base and in two days
he's the one that built this Cover Flow
example oh we have when we lost the
screen anyway
I we can code extremely fast now so we
have done things like just for fun
we took a mobile device that's a popular
one out there and redid its entire
interface for not its entire interface a
good section of its interface and we did
it in two days we can cook really fast
now so we want to code really fast
really elegantly and allow anyone for it
to be very approachable so one of the
things we're working on is and you guys
picked up there's two more of us here
parm if you raise your hand
parm helped create flash and is now with
us and also justin is with us they can
help answer questions - justin was a
producer a key producer for halo the
game a number one gaming where we can
all answer all these questions but I
answer questions very long Li and I
should probably should be more concise
here thank you
no thanks right side mentioning this
before what is the plan for Android
support it is supported on Android
that's it is now I could have brought a
Samsung shown this
Oh prior to jellybean we start having
panic attacks prior to Ice Cream
Sandwich we pass out and die is that
about right mark yeah so these days
Android runs reloj it's supported i io s
devices are still better supported but
at the end of the day in a sense that
they tend to be a bit more performant
but feature wise they're on par
performance wise they're very very
similar so we look grabs as very close
we spent a lot of time with making sure
that the peculiarities are solved and I
didn't find it a joy to run on any
Android device that was released within
the past year and it still runs except
ibly on anything back to like jelly bean
well not gave him an Ice Cream Sandwich
as long as you have like the prom'
browser and we run on Firefox but the
one thing we don't run on is Microsoft
we can't comment on that
thank you sorry
laughs yeah so appreciate the approach
some of the insights you have kind of
indicated maybe a different way of
approaching it or things people should
be thinking about now in preparation for
when you do have it available
what kind of insights good oh that's a
great question we have a sort of core
belief that the gaming industry got it
right on the rendering side and the web
industry got it right everywhere else
and so study unity3d
study unreal for that's the future we
are simply a shitty version of unity3d
in some sense we love gaming thinking on
the rendering side so start learning how
to think about surface rendering start
learning how to think about where the
camera is start thinking about learning
what physics really means and the way
you do that is by studying things like
unreal 4 and unity 3d forget about Dom
you'll never touch it again
forget about thinking of rendering in
the Webby way ever again it'll be the
gaming world got it right
yeah so it's really all about using the
right tool for the right job and the
gaming world has really been authorized
for just rendering like a wide variety
of things really nicely whereas a web
world has been optimized for documents
and in the future as things get more
interactive you'll start to see the
features of the gaming world in
interfaces and meanwhile basically those
things will be integrated with real
interfaces with real documents so
eventually it's like all of us here know
very well exactly like what what
semantic hTML means that part would
still stay for like doctrines and
everything but like when it comes to
interactivity the gaming world is where
it's at but then you take a look at how
well gaming interfaces disk display and
distribute bunches of information and
you'll see it's very primitive over
there there will be a union
of those two in a future and one other
good thing to think about is what will
the tools look like to do the
development and he's not on the mic
tonight but asked forum he will have
some deep opinions about the tooling of
what this looks like for you guys are we
on left or right are you gonna do
anything with canvas or WebGL renders so
we did Dom first because if we knew if
we conquered Dom the other things would
be easy and we see a vision where we
could be sort of the one ring to rule
them all have we have not decided to go
down that route yet lots and lots and
lots of people will ask us can your
rendering engine render to canvas can it
render to WebGL the answer is from an
abstraction standpoint from an
architectural standpoint yes it's
abstracted we can we can with the way we
built the thing is we don't care what we
render to we could hook into even work
on an Xbox and render in the DirectX if
we wanted to it's all a choice of what
direction we take the company and what
we primarily want to do is build a
JavaScript community and then ask a
community where do we want to take this
and sort of have us as a group decide
where to go but we have not chosen to go
there yet so it's faith if we have like
we have already done Dom for a reason I
provides a certain level of utility when
you can use existing DOM and add a lot
of interactivity to it like I love
interactive real documents basically
existing content rich things but the
interface can be abstracted you use for
several different outputs so for example
if someone has a hollow gack and manages
to convince us that it's going to be the
next thing and everybody's going to have
one will be happy to output to a hello
deck if that makes sense but abstraction
supports that and we hope
I was wondering do you guys support any
kind of standard 3d model import like 3d
ask a lot or anything like that and the
second question is hahaha so standard
model support general D as of now not
yet there's already other tools that do
that so your standard if you need it to
like import like a standard motto
chances are it doesn't generally have
like much content you you're probably
better off using like WebGL for
something like that dance is really
about enchantee a question about free
jazz we get a lot of people asking us
about three Jas we I put that in the
camp of one of those third party
libraries that I went to and you see you
know jetpacks flying in the sky and you
think it's great but then it doesn't
abide as much as we want it to so we it
will not be you can use three Jas and
famous you just use famous we will we
already have and will have much more
than 3GS
yeah collision detections that is going
to be a handle by the physics engine we
can't tell you too much about the exact
details of how that's going to work but
generally speaking it works it well
it'll work if you guys you know come up
to us after the questions all four of us
from famous have demos and we can show
you the collision detection stuff it's
it's certainly more computationally
expensive to do that okay laughs the
left yeah great question we are have no
opinion whatsoever on rappers you may
use us in a rapper if you'd like
we will work with PhoneGap no problem
whatsoever we think the future is going
to be html5 in rappers and we will just
work with whatever rapper so yeah I
should have said that earlier so yeah I
mean a lot of people want to rap us in
PhoneGap or something like that's
totally fine
so people ahead of me follow my question
which is if I load favor on us in
Firefox 19 should I see right so we have
code in there that detects if it's not
if it's not Android or if it's not
Chrome or not Safari then we stop you
and send you two videos we just haven't
had time to go back in there it now
works on Firefox as a result of a
comment where mr. doob tried to copy the
periodic table and found an error in
Firefox and then Firefox found the error
because of that and then fixed it so we
now work in Firefox but we haven't gone
back and changed that little bit of code
to let you see it in Firefox that's a
good catch yeah so yeah can I still use
getusermedia in the WebSocket could you
please repeat that question again right
so since everything in famous is based
off of JavaScript if your browser
provides that API you can use those
api's we just have a framework that
allows you to do lots of interaction
with view and render error so if you
have data that you want to do WebSockets
go for it perfectly compatible with
famous if you wanted you like use
something like web mia WebRTC that sort
of stuff also works well with famous
does not get in a way it's as long as
you don't use anything for example like
jQuery Mobile squirrel view or anything
that would do exactly part of or fully
what famous is doing but any seems like
on the data side feel free to have at it
and same with psych of media sockets and
every scene
use newspapers can use any third-party
library you're saying of some big ones
I'm not you right so it's not gonna be
100% the case I would say it rate
depends on the library so for example if
the library is dependent on a certain
way that your document is to be set up
you won't be able to like use that
library because the way that famous gets
its protects ability and performance is
by having an environment where
everything can run nicely and smoothly
if you have a library that interferes
with that that's kind of like driving
like a Ferrari on a racetrack that's
four of her toes and with lots of
battlegrounds in the meadow you ain't
Jeske you aren't gonna be able to just
pull push the full capabilities I've
ever seen famous is like that too we
just make sure that you can do a lot of
stuff performing and easily but you
can't have any neighbors that get in a
way and an unfortunate fact of truth is
a lot of certain library party libraries
do get in a way I would put it in the
range of angular no way backbone we hope
meteor we really hope that helps
demos look great thanks for the talk
as far as importing
so I come to my gaming author senator
fantastic cool curious about importing
3d models from tools such as Maya so I
would say in a long-term maybe but I
would say no yeah so I don't believe in
going in that direction that's sort of a
religious question
I'd rather create a new and say just
drop the drop the old tools you use the
new ones it you actually penalize
yourself when you do things like that so
I I more of a pristine start over again
type of a guy rather than try to
integrate with these things that just
end up being a clusterfuck you know it's
just a mess if you go down that route I
know my is a great tool I love it you
know parem please talk to parem about it
Harmon Venu Venu Gopal Iyer it flash
Venu Venu Gopal created Maya he knows
more about all this than any of us but
my default is no thanks thank you very
much I hope we're useful to you guys</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>