<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>26 - Android Security - Part 2: Android Bootcamp Series 2012 | Coder Coacher - Coaching Coders</title><meta content="26 - Android Security - Part 2: Android Bootcamp Series 2012 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/InfoQ/">InfoQ</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>26 - Android Security - Part 2: Android Bootcamp Series 2012</b></h2><h5 class="post__date">2012-03-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/SOpO7iaRv60" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">yes it is just a quick review of what we
did we offer security so one thing that
you may remember we talked about
yesterday was the concept of San boxing
right so we first have always said that
each app lives in its own sandbox the
sandbox looks sort of like this right um
it's got its own linux process and so on
and that's called and the linux
basically managers security at the
bottom level right then what we talked
about was that this is managed the way
this is this works is based on the UID
GID so when you install an app your app
is optimized get assigned and and a user
ID that's going to be custom for it for
its life right it's not actually going
to be UID and GID so what happens is the
file system that's private to the app is
private because only this app has got a
drive for permissions right to it now so
basically what we're doing is we're
merely passing the control from dalvik
down down to the colonel right to the
Linux level based on the new IDs now
permissions android does specify high
level permissions they basically just
end up mapping down to the low level
stuff but it's done via defining a
permission and defining a user's
permission right so some if somebody
wants to if an app wants to do something
that's potentially dangerous that app
must say I want to use his permission
right so this is a statement to the user
to grant such permission to the app the
user must then approve that right we
already saw a little bit about Internet
permission right so what happens next is
that if the grant if the permission is
granted the app or more specifically
that app ID that app 47 that new ID is
is assigned to that group as well so for
example internet permission gives a
group I net right so when you grant a
nap permission to access internet you're
essentially putting app 47 process into
the inet group right at the high level
we're saying my app uses permission
internet and that translates one to one
down two to linux kernel and says you
know app 47 user ID you ID is now a
member of I net group and that's how we
know it's got access to the Internet
yeah that's the that's how it's done so
that that's that's what that looks like
so for example that's what I was saying
the mapping so permission high-level
Android permission is mapped to a
low-level Linux GID I level internet
permission low level GID and so on and
so on yeah so we can now declare our own
permissions right so you declare a
permission so you don't have to just use
you to this or system permission that we
were looking at like right external
storage camera read logs internet etc
now you can define your own permission
by basically stating something like this
name label description permission group
and protection level so you just make up
a permission now there are a couple
things that are significant here not
everything is right so the name is going
to be significant and the permission
level is going to be significant so the
name the name is just the name of the
permission usually it's going to be
something like com example app block
right I think we had a calm in our case
the permission that we had was this one
if you remember we did this just as an
example we define a permission here and
we said calm example amber permission
refresh we just made this up right so
that's that name protection level is the
other thing that's you it's a must
protection level it has four
possibilities normal it means a low res
permission it is automatically granted
but
users have an option to review before
installing but are often ignored so in
other words it's like if you care about
it you can find out that it's doing such
and such thing but it's it's not a
dangerous thing and you do not need to
okay before the app gets installed ok
it's a very low level a very low danger
permission dangers is your standard
everyday permission yeah name there's
there is no name of device wait there's
no real name space it's off what that's
what I meant to say i'll show you how
you can actually list this stuff
dangerous means that it that that it's
basically something that's potentially
dangerous like in accessing the internet
writing to a file system etc that's
that's the most common thing that's what
you need to approve before you install
an app or else app doesn't get installed
at all signature would be a permission
that is granted automatically to whoever
you sign with the same key so if you
have two three apps of your own and you
want them to be friendly to one another
or only them to be able to access one
another you would give signature and
basically automatically they would be
granted that nobody else will be able to
access them right and finally you have
the signature system so it's basically
just like signature but also adds system
apps which are basically the apps that
are baked into the platform in other
words they installed in / system / app
folder right a label is not important
just a piece of text description same
thing and permission group is if you
want to group things together so that so
you know as opposed to having all the
you know personal info privacy policies
a permissions all over the place we can
group them together and get a little
more obvious so you can actually let's
focus on your device by doing something
like this let me show you
so right now I'm listing all the
available permissions on my device right
so you can see for example I don't know
this is categorized so this would be a
dub the what we call that the permission
group knew your location so these are
the permissions I'd their description in
for your location mark location sources
for testing access as extra location
providers write a comment course fine
okay services that may cost you money
send SMS direct phone directly call
phone phone number its own and some
right so this is if you do this it's I
think it's if you do dash L it's going
to give you a different list it's not a
shell it's like dash t mb should read
the celt oh yeah absolutely the hell
phone but you can list dash F from GD u
f right
so this is group differently by name
right so you can kind of see the
permission names right so for example
all the permissions related to storage
here all the permissions related to
phone calls here all the permissions
related to cardinal controls here etc
etc because um so that's doesn't
built-in permissions requiring a
permission so you can require permission
in your in your app right so just like I
said yesterday or whenever we talked
about it here right it's kind of like a
yin yin yang you have one app and you
have another appt two separate processes
right this is like a Chinese wall here
right so this app says if you want to
it's got a service right if you want to
start its service stop this service bind
to this service do anything with the
service you better possess us disperse
mission that I'm require all right so
they need to match if there is a match
between these two then this guy is going
to be granted access to the service
otherwise it won't exam so that's that
looks like this so for activity you can
control start activity for service you
can control start stop or binders for
provider you haven't talked about them
yet but receiver you get to control
register receiver and send broadcast and
it looks like that you can also change
you can also check permissions
programmatically so for example you may
not want us you may say look it's not
like I don't want anyone to be able to
access refresh service right maybe maybe
everyone can access the fee for service
but only only certain apps are allowed
to accessing between nine and five
because that's a busy time and I don't
want to be refreshing the data and maybe
my great plan with whatever carrier I
have doesn't allow that blob of all
right so how do you say enforce the
permission between nine and five p.m.
right you can't really put it in the
manifesto so you can do it
programmatically right so you could you
have this Java you know CalPERS check
calling permission check
permission check permission blah blah so
you can basically say check calling
permission BAM you can do some business
logic and if you don't like what they're
doing you can throw security exception
and bounce them out okay don't worry
about that and so yes that's that's a
little bit about that's a little bit
about permission</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>