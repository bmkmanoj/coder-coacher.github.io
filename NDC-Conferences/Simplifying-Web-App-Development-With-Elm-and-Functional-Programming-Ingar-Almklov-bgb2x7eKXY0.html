<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Simplifying Web App Development With Elm and Functional Programming - Ingar Almklov | Coder Coacher - Coaching Coders</title><meta content="Simplifying Web App Development With Elm and Functional Programming - Ingar Almklov - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Simplifying Web App Development With Elm and Functional Programming - Ingar Almklov</b></h2><h5 class="post__date">2018-02-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/bgb2x7eKXY0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">good afternoon everyone my name is Inger
I work as a consultant in Norway I am
usually on when I'm at the clients place
I'm usually employing the role of
front-end tech lead or something fancy
title but I think the important part is
that I feel it's like my responsibility
to make sure that me and my team members
are able to deliver value for my clients
and ultimately the end users that's not
that a radical right and we usually make
web applications and making wearable
applications is hard and I think a lot
about how we can simplify that process
and that's what I'm going to be talking
about here today I think a lot about how
we can better our developer experience
of developing web applications and I'm
gonna talk about like choosing the tools
that work for you that's the emphasis on
the four here and by tool here I mean
like what you use to create the
application so that will be a language
programming language would be like the
framework you're developing in and like
the CLI and the compiler or transpiler
or the whole package that's what I mean
by tool here a lot of these perspectives
come from spending a lot of time writing
pretty large JavaScript applications
typescript applications with mostly
react and redux and I think
it's pretty hard to me a great web
application it's not trivial and the
hardest part of developing writing code
I think that's me my tools they don't
lack in discipline the compiler will
output the same bytecode or whatever
every single time or the linker will
give you the same error for the same
input every time but me I won't do the
same thing like always I'm presented
with the same problem that might depend
on external factors like did I have my
first coffee in the morning or am I
really full
after a great pizza lunch I might decide
differently of how to handle some some
case and but tools don't do that they
they do the same thing each time and
like error handling for example do you
always remember to write that try-catch
block or do you figure like it probably
won't throw an error so I'll just skip
it you might and it might work fine or
you might not and I know something might
happen might not but point being you
decide differently each time you're
presented maybe with the same problem
depending on some external state
yourself and I don't think like why
doesn't our tools like guide us more in
the right direction if some function can
throw an error why aren't I forced
to handle that case of the function
throwing the error because tools can
help alleviate the human aspect of
developing and a lot of like tools
languages and frameworks they suffer
from in my opinion from having too many
options I have to decide all the time
like all these small decisions to do I
write to try catch block do I do the
null check do I do the length check of
the array before accessing the first
element and so on these small decisions
and as I said I might do it differently
at different times in the day and
there's if there was like one way that
was arguably better to do something why
shouldn't our tools forces to do it that
way I am society I spent a lot of time
writing react Redux applications and and
I've done several workshops and taught
people how to use this and a lot of time
people asked whether to store state
locally in the rack components or if you
should pull it up and put it in the
Redux store right it's the local local
state in react components it's easier to
put it there it takes less code to put
it there but it hides hides things and
it might have unintended side effects
like inconsistent UI because of the
state is not reproducible anymore
that's one of the good part about Redux
is it was all your state in one place
and with that you can always reproduce
the same UI and another problem with
reactive Redux is where to do where or
how to do Ajax calls like we're at new
web applications we're probably fetching
some data from the server and you can do
it in line in the react components or
you can use some library like redux
tongue or redux actions or reject saga
it doesn't matter if you don't know all
these libraries or buzzwords but point
when you have to take so many decisions
of how to do it and when to do it you
got to decide each time but they're
always almost always one way that's
recommended more than the other ways
right that's usually it and something
why do I have to have all these options
I just want to do this thing and be done
with it I googled how to create range of
number Narae with the range of numbers
in JavaScript and I found this so that
was pretty interesting all these do the
exact same thing it's any of these
better than the other
I don't know there might be some
performance issues with using dot keys
for example or using the spread here or
doing the fill I don't know they all do
the same thing and you might think ok
well one of them might look nicer you
might prefer this one or you might
prefer this one or whatever but which
one to use well of course if you use
like our utility library like lodash or
underscore you can just to underscore
that range but it's like without no
external dependencies these are some of
the ways of creating a range of numbers
in java scripts some might have
implications of performance or something
else but I don't know you gotta remember
or you maybe have to decide in your team
which one you prefer and so on and that
brings me to the Elm part this is this
is the quote on the Elm web page and I
think it pretty much sums up this talk
because it says there it's delightful
language for reliable web apps
I want to make reliable web apps to make
the users of the web app happy I want to
make my clients happy that's what I want
to do and I want to have a delightful
experience doing it sounds nice so far
so I got interested in Elm because of
the technical aspects Elm mass is a pure
functional language with static types
it's cool it also promises no no runtime
errors it's pretty nice pretty bold
statement that got me interested I
wanted to see is
is it really true and how is it use
because if we did all these decisions on
what tools to use based on only the
technical aspects we probably using
something like some dependently typed
language like it really sore or
something because they have all the
technical aspects right but they're hard
to use and they might not have all the
tooling so it also a tool you use has to
appeal to you in it has to help you do
your job and that's what we're going to
talk about more now hmm so bring a range
of numbers by Elm 16 it had these two
ways of doing it
you might prefer this one just like a
list comprehension thing or you might
prefer this one it's not that important
but you probably would have to decide in
your team which one should we use should
we use this or the other they do the
same thing one might have performance
implications I don't know as of 18 which
is the newest one now you have this the
developers of album decided that why
have two ways of achieving the exact
same goal when we can have one way it's
simpler right so this the list range is
a function which this thing is not this
is syntax this is a function and if you
saw Scott blush in stock earlier today
you know that functional program
is about the power of composition and
functions can be composed so this one is
actually better it's nice but point is
when a newcomer to Elm comes a new
person on your team
asks you how do I create a range of
numbers in home you say at least at
range that's the only way to do it you
don't use that so much nobody and this
is this philosophy here of removing
similar things that do the same where
one of the other is not necessarily
arguably better it's a this is kind of a
philosophy in the Elm community so if
you want to do HTTP like want to do Ajax
stuff in Elm you this HTTP it's one
choice do you want to do HTML stuff
probably well if you're making a web
application you use Elm HTML if you want
to do testing in elm you use elm test
and makes it so much easier for new
person newcomer to the language or the
community to figure out what to do in it
the community gathers around like these
ideas and share efforts to make them
better instead of having a fragmented
sea of choices which you might think is
bad if you really enjoy JavaScript and
having 10,000 options for everything you
want to do some people enjoy that and I
get it get it but my goal of my job is
to make great user experiences
great user experiences they make every
make users happy here they make clients
happy and they make money great user
experiences
make money and that's what I want and I
wanted tool to help me do that
and I am I borrowed this from Calvin
Henry's talk couple of hours ago just
had it included in my slide because
didn't talk about like errors and how to
handle stuff how to present data to the
user in a sensible way so the quote is
from John Carmack
and it says large fraction of the flaws
in software development are due to
programmers not fully understanding all
the possible states their code may
execute in because we might have to try
to keep all of the application state in
our head at one time and that's hard and
it might have seen something like this
some generic error message thingy the
cool part is since there this should
never happen some some error that
shouldn't happen that obviously did
right so if a coke bath is possible it's
theoretically possible it will probably
happen at some point right experience
tells us that so we've got a we should
really like account for all these all
the possibilities all the code paths
ideally
and to this is to avoid an expected
behavior and to provide a user with
correct information at the right time
and this takes discipline and/or a lot
of tests and as I posited earlier tools
don't like in discipline but people do
so we're gonna explore this for a bit
and talk about remote data super generic
term it's data that fetch from somewhere
else like in a web application
it's probably an AJAX request fetching
some data from your back-end server and
it's this data is not immediately
available in your application you have
to start up your application and then
fetched it so you have some state
changes we're gonna fetch a list of
users we hopefully have users in our in
our app so this is a type you know model
is like the convention for the type that
signifies the state of our application
and initial model there is a value of
that type does this look right
this is data that fetched from some
remote location so what does this
signify that the list is empty does it
mean that we have zero users does it
mean that we have not fetched not
started fetching does it mean that we
may be loading or that we had an error
doesn't say that much does it okay so
our designer tells us we have to show
this nice animation while by fetching
the data because it takes three seconds
because it goes to a remote mainframe
written in COBOL or something so after
you show a nice animation so your users
don't don't exit so we had a flag it's
loading which is a boolean starts out as
false this is like when the application
starts up starts out as false if this is
before we even started fetching the
users and you're sitting there
developing and their requests times out
so we need some way to handle errors or
some way to show the user that I'm sorry
took too long so we add another field an
error which is maybe an HTTP error maybe
here is something that is either nothing
or it's something either there is no
error or there is an error and if there
is an error
it's an HTTP error
so it starts out as nothing before we
we've started your request we have no
words so we're gonna now try to write
the view code for this for presenting
the user with either text access loading
or a text that says there was an error
or that we have users and we might do do
it like one of these the difference
between these two it's just the order of
how we how we check things the case
error is something in Elm called pattern
matching and it's what we do when we
have stuff like and maybe so first one
say that okay if it's loading
then we print loading then if we have an
error we print to have an error and if
not we have users and it's pretty much
the same just that we check our first
because these two fields are the error
and the loading they're not really well
they're semi-related because we know
that they're related but there's nothing
that our tool can help us with to figure
out that they belong together that they
should be checked together
so all this comes down to the developer
having to decide which order should I
check things and also I have to remember
to check things because there's nothing
here stopping me from skipping checking
the error and just showing either for
loading or be abusers
and still we don't handle the case
Oh before we've started loading the data
when application boots up it might do
something else before fetching users
before starting and we don't handle that
case it's a possibility so we're gonna
rethink this problem and so the actual
real-world states we go through is when
our application starts users we haven't
asked for them yet then we ask for them
and it's transitions to the loading
state and when loading is done we'll
either either get to the error state or
the success state and from there you can
go back to loading of course so now we
can model this in a way that makes sense
of this to me we can do this this is
called a call the Union type so we can
read it as user data it's either not
asked or loading or it's a success and
if it's a success we have a list of
users and if it's an error we have it's
an HTTP error this corresponds more to
the real world model of the problem
because it can't be in two of these
states at the same time so we can trim
down our model to this cell users is of
this type we created earlier and the
initial state is not asked
and if you want to write the buccal four
it looks like this so I mentioned
earlier it's called pattern matching so
if it's not asked we do this flooding to
this success this error this and pattern
matching in elm is pretty cool because
it helps us if I forgot to add the error
branch I would get this this is the
compiler telling me hey you haven't
handled the error case you should
probably do it and it points me to a
link to where I can read more about how
to handle this but point is it will tell
me you haven't handled one of the code
paths you have to do it or else you'll
get unintended something so this is
actually a library by a guy called Chris
Jenkins it is called remote data that
encapsulate this idea of how to handle
remote data so if you're ever doing some
HTTP now should really use it it's
really good and this is a third party
package it lives in the package elm lang
door gits Elms mm equivalent has its own
package repository so I'm gonna talk a
little bit about one of the frustrations
I had earlier
it's I'm on a team with 15 developers
writing front-end code we have way too
many third-party dependencies this is a
type of great application probably way
too many dependencies because we have
like all these things that we need but
one of the most nerve-racking parts of
working in that team was doing a deploy
to production after upgrading packages
upgrading third-party dependencies is in
the when using javascript NPM and this
stuff you kind of rely on the package
authors adhering to semantic versioning
semantic versioning is great but it
takes discipline from the person writing
the code and publishing the package and
if everything goes well a major version
does have an API breaking change if all
goes well a patch release will work the
same as before and minor release will
add some new functionality but there's
nothing stopping anyone from
accidentally breaking the public API and
only increasing like only bumping the
patch version you probably want a lot of
tests to ensure that it works okay but
you have to yeah
the tools don't really help you if you
have to do it yourself you have to be
disciplined so one of the cool things
that does is the package
manager will help you with this because
L is statically typed so we can analyze
a lot more about the code so if I change
the signature of one of my public facing
functions from taking an int to taking a
string for example the M package manager
will tell me that hey you're not able to
publish this to the package repository
without incrementing the major version
because you've actually broken the API
let's I think that's pretty cool because
now I know that tools are helping me and
other package authors they're helping
adhering like helping us not break
accidentally breaking other people's
code I think that's very nice it makes
me sleep better at night after after
grading X number of packages and it also
enforces writing documentation for all
public-facing values so on the package
John Lang that org website all libraries
are documented all public functions and
values and types they have documentation
will force you to write this if it's a
public-facing value which I think that's
a pretty nice one
trying to learn a new library figuring
it for you figuring out how it works
because there is documentation for it
and we can actually use that ourselves
we'll see you now
so I think we pretty much all of us
agree that documentation in some form is
good it's boring to write but it's
useful to have and that was of course
that would be documentation that's not
outdated and lives in some weird
confluence space that should have been
deleted ten years ago but it's about the
documentation for your code and well
like we were making web applications and
documentation for a web application
doesn't only have to be like the
comments on some function we're making
web applications there is some graphical
element to it you probably have some
button and some list function that you
can you you might remember how it looks
you might not after coming back from
winter holidays or something so we can
what if we could document how they look
without you having to dig through your
whole application and seeing okay where
where did my fellow developer use this
primary button what did it look like and
everything it's nice for if we can have
some place to view it this is similar to
if you're in the right base like react
style guide list or react storybook or
stuff like that so
I told you that the Elm package manager
will enforce writing documentation for
public facing values sorry and we can
use that to see the help for the make
which is the album compiler see it takes
the flag can take up like dogs which
writes documentation to a file as JSON
JSON is nice we know how to use that we
have said all the time in our
applications so let's see how we can use
that this is my simple and module it's a
view module that has two values its
primary button and it's a secondary
button I'm gonna see what we can do with
this we if we add it to the exposed
modules of elm package Jason this is the
same as third-party like library authors
use you can expose only some modules and
keep the other others hidden so you can
hide your implementation details so we
can add the modules we want to be
documented to this array and if you now
try to run i'll make with the ducks it
says documentation error in view down
something something and learn more at
some URL if you go to that URL it will
tell us that okay if you have some
exposed modules you will have to
document them and this is the format
you're documenting and this is what you
probably should write and gives a lot of
guidance on how to write good
documentation comments so skip ahead
we've read that and we
ended up with this module say module
with comments so this is a module level
documentation that says this is a module
containing common views and this is a
primary button is the most important
button on the page which is cool but
primarily this is a example of how you
call it takes a string and that's the
text in the button I also has a
secondary button is not the most
important button on the page probably
not that helpful but we want to
visualize it anyway right so this will
give us a JSON output like this it's an
array on a top level because you have
you expose X number of modules so we
only have one module so we have one
element in the array this is the name of
the module this is a comment the
top-level comment in module and aliases
and types we can skip that for now and
we have values our functions our values
so it says name and the comment for that
value and the type sounds cool we can
now serve this file from our back-end we
have the server we can serve it and in
our elm code just create some types for
these things module has a name and a
comment and a list of values and value
has a name a comment and a type reason I
need the underscore in the type there
it's because type is o we serve keyword
so with this we can write some more code
this is the code for viewing the
documentation and what we did at my my
project now we actually added this to
our application it's on some hidden URL
that users don't know about but we
developers or designers we all know this
URL and we use it so because we're
spending most of our days like looking
at our editors and the application we're
developing so if the documentation is in
the application it's pretty readily
available right and we'll have the same
CSS as the other parts of the
application so previews of these values
will look the same we haven't gotten to
previous yet because now it looks like
this so documentation for my app and
module view the name of the module and
comment and we see the values looks kind
of boring right so we want to make like
a UI component gallery I when I say UI
component I mean this like these buttons
are UI components some ListView might be
a UI component or some icon and we can
use it to look up what already exists in
application you can use this when I see
it a designer sketch I can see use this
gallery to see oh we already have this
implemented so it should be quick to add
it or vice versa so and we can use it to
develop our views in isolation it's
really annoying having to to make some
new fancy ListView
three levels deep in our application and
it's time to make a change I have to do
like three Network requests to see the
change I made right so it's easier to
mark some data and see the axial view
immediately and we can do this inside
this gallery because it's made from our
own code so a value in elm is identified
by module name which in our case was
view and the value name which was either
button primary or button secondary so
for if you write a function like this
it's called preview and it takes a
string which will be the module name and
the value name sorry and we can pattern
matching strings too and if it's button
primary we can actually call the button
primary function and similarly for
button secondary and remember that Elm
told us if we didn't handle all cases
when we pattern matched we have to have
this underscore which is a wild card
match because there's no possible way we
can actually write out all possible
values for a string it's just not
possible so we just show a no preview
found for this if it happens if we then
add the preview call to some some
function that views our value along with
the preview we can end up with something
like this so this makes much more sense
than having just a comment and type so
now we can actually see how it looks so
when I look at a designer sketch I know
I can cross-check that with
this thing and see oh this is the
primary button or this is the secondary
button and the code for this is
available at my github so I'm gonna get
him back to the more philosophical side
of things because a good tool in my
opinion it reduces the mental overhead
of writing code
it made it makes it easy for me to focus
on the task at hand what I want to make
instead of like technicalities like
which order should I write these if
checks in or should I format this like
with the house the code style and
everything and like avoiding known
pitfalls in the language like using in
JavaScript using the double equals or
triple equals like I don't want to think
about those things I want a tool that
helps me just forget about those issues
and speaking of formatting Elm has um
format which is great pretty much
everybody uses it it it's similar to
prettier in JavaScript you know that if
it's very opinionated tool that formats
your code in one way that's what it does
so you don't have to think about how to
format your code don't have to spend
time aligning brackets or science or
whatever it saves time it's blissful to
use so you know if you write out you
some format if you write JavaScript use
prettier it's so nice
and developer happiness for me is when
the tools I use the remove friction
between me and the code or between me
and the screen it takes away silly to me
uninteresting decisions I have to take
and as I said I want to make a great
user experience because it makes
everyone happy users are happy
bosses are happy clients are happy I am
happy and I really urge you to check out
Elm and see if it's something for you
but not just because of the technical
aspects but for me it's it's the feeling
I get when I sit there writing Elm code
I can actually focus on what I think is
an interesting part creating stuff
instead of worrying about remembering to
use double equals or triple equals or
having to remember to write that
try/catch block or whatever so actually
I want to show you you have some time
still so I'm going to show you this okay
so there this is the documentation
thingy running right now and it's you
can we can see how it looks with types
and and union types so let's say we have
some colors in our application for some
reason they say icons which is like say
we have a finished set of icons we have
a edit icon we have a download icon
something so added to this using and my
editor will tell me this okay
I account doesn't have any real
condition so I have to add that so the
possible icons we have this amazing
application and it pops up immediately
and we can see I don't actually have any
icons though I'm sorry but from this we
can see the possible values and we can
see that I got the immediate feedback on
that we're used to from saving in my
editor and it just pops up in my app at
the same time and and we can let's say
we want to add a preview key we can add
a preview of this so it's located in
shared views and it was called icon so
let's see if we import the actual thing
we can do pattern match oh we don't have
permits we can just use it we can
preview icon and it was called edit and
we can preview
icon and download wasn't it let me add
just function here so it's just bang
Edit icon so see you get an error again
because I didn't handle all the branches
I need to handle the download and there
we go it doesn't actually show the
preview cuz I didn't add it to the types
here
Oh call preview not view and pretty
amusing okay
shared views look silly but that was the
workflow of adding something new and
adding the preview for it the code is on
github and I this probably be done in
several other languages and frameworks
and I encourage you to try to get into
workflow the previewing this thing it's
really nice so have some some time left
so are there any questions yeah
are you getting a microphone Ashman
system and stuff is there any support
for creating internal repositories or
like private package repositories not at
the moment
there's an issue that I've seen raised a
bunch of times and there are there are
solutions not official solutions but our
solution that people use and it would
probably be some official way of doing
it at some time but you can do it but
it's not in the official package if that
makes sense okay yeah about the
complexity of the UI that you can and
all easily with em can you make suppose
you you are asked to to make it an
application of the complexity of sketch
the desktop apps
oh yeah it's possible to do this with
Elmer now oh yeah that way yeah of
course not some not an easy app to make
but yeah well you can you can do pretty
much whatever you want and yeah
everything is possible there is an
advantage with respect to using the
react or another framework so even for
very complex application you would use
em yeah I think I would it depends on
like if you do a lot of stuff that
requires you to use the web platform API
so that are not yet support in gnome
like Web Audio might be inconvenient and
and web RTC this off that's inconvenient
to do an album because elm doesn't have
official libraries for it yet so you
would have to call out to JavaScript and
do it from there
those kinds of applications I would not
use them probably if most of the code is
like web platform stuff but especially
in applications where you have complex
state state management and everything
using Union types and getting your
compilers to tell you which states are
actually possible it's it's very
convenient and helps a lot anyone else
yeah in the back question was how
experienced was my team when we started
with Elm great how experience was I was
functional programming before Elm not
that much
tim had experience with react and redux
so they're functionally functionally
oriented libraries so they had some
experience from that but did not have
any experience in with type functional
programming like Elmer F sharp or
something like that and in my experience
if you want to teach someone functional
programming
I think Elm is a pretty good fit because
Elm focuses a lot on lowering the
learning curve and letting people
getting people quickly up to speed the
mainly the target audience of Elm is
JavaScript developers and not all the
JavaScript developers know functional
programming so yeah I know
okay thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>