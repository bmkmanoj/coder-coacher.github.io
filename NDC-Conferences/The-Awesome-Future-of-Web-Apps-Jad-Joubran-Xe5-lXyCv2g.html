<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>The (Awesome) Future of Web Apps - Jad Joubran | Coder Coacher - Coaching Coders</title><meta content="The (Awesome) Future of Web Apps - Jad Joubran - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>The (Awesome) Future of Web Apps - Jad Joubran</b></h2><h5 class="post__date">2017-07-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Xe5-lXyCv2g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the only thing that about faster than
technology is our expectations what
every yet better easier now suddenly
downloading an app you look at takes
forever and in many parts of the world
data is still at a premium with one
megabyte passing to 5% of a monthly wage
let's face it though
until now the alternative to native app
hasn't been greater that reason
progressive web apps can now deliver
mobile web experiences with a native
look and feel offering features like
real-time push notification I guess like
your homepage you can easily jump back
through it with a single
even we are offline plus the ability to
make quick payment on the go and all
from your browser this is the next
generation of the mobile web so what are
we waiting for let's go and build
something great
everyone give me yeah good afternoon
everyone I want to start with this video
to get you all excited about the future
of robots and hi to everyone watching
from the overflow room my name is
Georgia Brown I'm a full-stack teacher
and ask them Brussels and Lisbon and I'm
here today to talk to you about the
future of robots and to talk about the
future of web apps you have to talk a
lot about progressive web apps so I'm
going to cover progressive web apps from
scratch take a small introduction and
then I'm going to talk about some some
of the best practices that we know for
modern web apps and for pwace and then
we're going to talk about modern web api
and finally concludes with the future of
the web so let's start with pwace how
many of you know about GWAS alright
great so I like to introduce PWA to say
this is an ongoing effort or solution to
solve the pain points of the web and
especially the mobile web because you
know how how slow the mobile web is and
the first main component of a PWA is the
web app manifest which is a JSON file
and you link to it with the link rel
manifest and then this JSON file tells
the browser more about your application
so you can define like key values for
example if you're building a Photos app
you can give it a short name photos if
you have a longer name you can specify
it here or it can be the same you also
start to specify a theme color which is
going to seem your app in the status bar
and once you go to the task switcher you
also have the ability to customer
customize the splash screen color with a
background color you also provide an
icon and you can also provide the start
here else so when your users click on
the icon on the home screen
what is the first page they're going to
see and this play stand alone actually
does a lot of magic this is the one that
hides the browser browser URL and all
the navigation and finally orientation
is mostly natural so you don't have to
provide to specify it but you can also
lock it to portray or landscape so with
particular manifest.json this is how
your users will be able to add the your
app to their home screen
and what's once one sits on their home
screen if they click on it you'll see a
scroll screen and this is the starchy RL
that you chose I'm sure most of you are
familiar with the ax so let's let's get
going into the second main pillar which
is service workers and the service
worker is a script that is run by the
browser in the background and separates
from a web page so let's take a look at
how traditional requests work say you
have your web page and you have the
internet and the green dot is the
request which goes from the page to the
network and this is the request then you
get the response back but once you
install a service worker this acts like
a proxy for this allows you to intercept
network requests when they're going and
then maybe do some magic things with
them so this is the basic for Service
Worker and this actually unlocks tons of
new possibilities and mainly the ability
to make our app work offline to receive
push notifications and also to do
background sync so why do we have
service workers if we if we go back to
while and if you take the example of
Facebook and the screen Facebook doesn't
have a service worker so if I'm offline
as you can see and if I click on
Facebook the natural request is going to
go to the internet but then simply fail
and it fails and we have nothing else we
can do about so that's why we need
service workers because we want to have
some secondary strategy so let's go
ahead and install our first Service
Worker so first of all let's make sure
this browser supports service workers
and then we'll use the navigator the
service worker and register our service
or kadaj as5 now the location of this
file actually matters a lot most of the
cases has to be at the root level
because if you put it inside a
subdirectory you will only be able to
control requests going out of this sub
directory and then this is a promise so
you can resolve it and or you can see if
it's thrown an exception but what do we
have inside the Service Worker j/s code
well at regular JavaScript so we're
going to listen to the install event so
when the service worker gets installed
and then we're going to create the cash
and call it precache v1 an inside
precache I'm going to add all of these
static assets that are important for my
page for example in the exultation L and
the logo dot PNG so it happens now when
the service worker gets installed I have
these two files in my gosh so now the
next logical step is to listen to the
fetch event and the fetch event fires
whenever your main page requests
anything from the internet so now we're
able to intercept those fetch request
and we're going to say like I'm going to
respond with but then we have a
conditioner here do I have this request
in my cache if I have the request in my
cache then the response is going to have
the actual response that we need so
you'll immediately return it but if I
don't have this in my gosh then I'll use
the new fetch API to get it from the
network and then we turn it back to the
page so this is the kind of power you
have on building service workers and
this is how you build service workers
but please don't do it this works but
it's not production ready the first
example I can tell you why this is not
production ready is because if you want
to ship an updated version of your logo
or of your interpretation L then it's
not going to be very efficient you'll
have to clear the cache you have to
create a new one
maybe change cache we want to crush v2 a
lot of things that don't make a lot of
sense and are not typically optimized so
that's why you can use Google Chrome's
node module called sw-precache which is
exactly the same but you can simply
configure it using a configuration file
so what I've done here is exactly the
same I said my important static
resources are index of HTML and
everything inside the images folder and
then you run this binary and you run
this I mean command and you pass in the
configuration file to it and you have
the serviceworker ojs files ready for
production this actually works and you
can use it so now let's see how this
reflects to our previous growth graphs
just to recap this is a natural request
and this is the response
without any serviceworker and once you
install a serviceworker you will see
that the network request is going to go
to the serviceworker then we realize we
have this in the cache so let's bypass
the network altogether and return the
response and the response to the page so
let's go to chrome dev tools Network tab
the first the first time user visits
your page or before having a
serviceworker you can see that the index
of HTML and the images have a size which
means they're being fetched from the
network and why this is okay if you have
a bad network connection they might not
float or they might take forever so once
you have a service worker installed you
can see you're able to ship them
reliably and consistently regardless of
network connectivity so you can always
ship those standard browsers which is
very important but that's only half of
the way there because after you shipped
this and these important files you
actually have like an API request going
to you to weather API going to your own
API so this is where Google Chrome again
sw-toolbox node module comes in handy so
sw-toolbox gives us dynamic caching
strategies to deal with those API
typically you've got three so you've got
cash first which means if you have
something in the cache let's just go
ahead and read it from the cache Network
first which means go to the network get
the required response from the network
but then in case it fails then we'll use
the cache as a second option so go to
the network but if it fails revert to
the cache and this makes a lot of sense
I want to read something from the API
but in case there's no internet I will
not show a 404 or or a dinosaur page
I'll just show what I have in the cache
and fastest is quite interesting because
you will raise two requests one to the
cache and one to the network typically
the ones on the cache will return first
so you will get a fast response and at
the same time you will keep an updated
version and the cache for the next time
you use it because the natural crease
con is going to take some time and then
update the cache so how do you use this
so which one should you use actually
you're going to use multiple ones you
can say for example for this
throughout or for this part or this
regular expression if I'm loading the
the orders from my API I want to use the
fastest strategy if I'm loading the list
of countries I wanna get use the cache
first strategy and you can also further
customize these so you can have a
maximum H seconds so you can expire all
of these after one day you can also add
a maximum limit or maximum entries I
really love this one because it prevents
life ice life is when your phone thinks
it has Wi-Fi but it doesn't and you
could end up waiting on a request for
like one minute because your phone
thinks it has Wi-Fi but actually doesn't
but you can set an utter timeout seconds
and basically says if it takes more than
six seconds to load this request screw
it I don't want it on the internet I'm
going to get it from the cache now the
question is you probably want to use a
stubby precache and a subtitle box
together and it's as easy as adding the
runtime the runtime caching caching to
the same configuration for it has
anybody used asabi prakash toolbox
alright so there's actually a newer
version of them which is called work box
the reason were so you can use
sw-precache under the toolbox today's a
lot of major websites are using them in
production for newer projects you might
want to consider work box which does
exactly the same thing but it's
typically more modular so they focus on
modularity and they give you lower
levels a recipe so you can typically do
a little bit more with it and it has
been launched I think about a month ago
so after doing all of these we have the
app install banner and typically if a
user searches for your progressive web
app if they go to Google for example or
if they simply land on your website the
browser might ask you like would you
like to add this to your home screen
so this is something that we cannot
control yet I think it will be changing
soon but if at 100,000 firm the only
thing you can do right now is defer it
so flip card for example defers it until
you to checkout or until you buy
something from them now one of the
browser decided to show this first of
all you need to have a valid web app
manifest you must have a registered
serviceworker of course you must be on
HTTP service circles don't even work on
HTTP and there's an engagement check so
chrome will typically not ask you from
the first time but it's not very clear
at the moment it used to be five minute
difference between two two visits but
it's it's changing a lot but anyway for
us developers if you want to test this
there's a chrome flag to bypass the
engagement check and you'll be able to
test it without worrying about the
typical engagement check and there's the
background sync which is a very exciting
feature actually you you can with this
code defer tasks until the user has
connectivity this particular piece of
code only works on Chrome at the moment
but if you're building a chat
application you can let your users send
their message close your app your web
app close Chrome and as soon as you have
internet it will send it again so this
is the kind of thing you want to send
message and it will wait for
connectivity and employs an exponential
back-off so to try after one second then
wait more wait even more and there's and
then there's periodic sync which is
currently being expect so it doesn't
work on any browsers yet but basically
that you pull something in the
background every 5 minutes for example
you don't have to provide the power
state or network space but this gives
you a final control like if you want to
have the user plug the phone or use
Wi-Fi so I'm sure you're all wondering
about the browser supports let's see
what we got so everything works on
Chrome also on Firefox both on Oprah
Samsung Internet's also shipped it and
they also shipped it on Android actually
on pixel devices and Lexus about a month
ago
in agile development and in edge 15 you
can see service worker support behind
the flag which is pretty exciting and in
Safari there's just a brief positive
signals for the next five years so what
there are some things you can do for is
there's this meta tag which kinds of
words like the manifest title name onion
so you can provide the name in the head
you can provide this proprietary meta
tag to enforce the name and you also
have the ability to let users on Safari
add your website to the home screen and
even show them a full screen experience
I think this has been around for like
four or five years but I say proceed
with caution because you might have some
performance issues some users have
reported performance issues with a
mobile web app capable and the problem
is on iOS there is no Hardware back
button so if you don't test on iOS your
users can get stuck in the app just
forever so make sure to test on iOS if
you're going to use the last tool so now
that I got you excited about progressive
web apps let's see let's not more about
some best practices and you see PWA is
in between parentheses because these
best practices can be used regardless if
you're doing a PWA or not so that's
because actually PWA is promote best
practices that's why they have battery
Rex and they have better engagement so
the first thing I want to talk about is
the theme color and the same color is
what you can see in the green on top of
settings so you can see we can actually
color the L bar into green and to do
this this is this doesn't have anything
to do with the manifesto jason this is
actually the scheme color that you
specified in the head so typically
you'll have the same color here as the
manifesto GSXR then the important thing
is to ship something on the screen
visible on the screen as fast as
possible as it's what we call the first
thing so you want to have the first
thing to happen as soon as possible and
typically if you have an optimized
rendering your users will be waiting on
a white
for far too long whereas with
progressive rendering you will be
rendering a bytes are your rending
pixels to the screen as fast as possible
so and from an abstract art perspective
this is unoptimized rendering and
optimized rendering and I've highlighted
the time when the browser starts
rendering so you want to make it as fast
as possible and last year and on the
same stage here at NBC I presented a
very similar section but this year I'm
going to show you how to do it in a
modern way how to do it in 2017 so first
of all we still have to inline the
critical CSS and the head so you want to
find the most important bits of your CSS
and put them in the Hat because CSS is
blocking and then we want to a
synchronously load the entire to the
rest of our CSS but you cannot use a
regular link rel stylesheet' because
this is going to block rendering so what
you can do what you can use actually we
can use the link rel preload has anybody
used it yes so the link rel preload
actually pre loads those assets without
blocking so I'm going to preload the
applet CSS you have to say that this is
the soil and once it closed this will
typically be the style sheet this works
on Chrome and should be coming soon to
other browsers but in the meantime you
can use the load CSS script and polyfill
which is very tiny so you can also in
long it in the head
and for JavaScript it's still the same
you have to unlock JavaScript by using
the async attribute now if you take this
step this brought this thing a little
deeper we can talk about the app shell
and the app shell is think about it is
just the minimal HTML CSS and possibly
JavaScript that you need to power your
user interface so a diagram of it would
be this you have the application shell
on the left and then once the content is
ready to just go inside the application
shell this is a pattern we see a lot on
native apps and once you in line your
CSS is actually very easy to do an app
shell as simple as this one and it
doesn't need so many lines of CSS you
can actually do it in about 30 lines of
CSS so the app shell typically should be
aligned in the head and what I want to
tell you about the app shell it's about
critical critical code so think about
the app shell as you want to prioritize
the critical HTML CSS and JavaScript so
if your app shell has a burger menu
which toggles talk is a side bar make
sure that the JavaScript of this burger
menu is in lined because if it's not
aligned your users will see that burger
menu click on it for 10 seconds but it's
code wasn't actually prioritized so
that's how you should be thinking about
the app shop another important piece of
information is to delay service Oracle
registration so let's see why
once you when your users visit your
website for the first time we're using
the optimized rendering technique that I
showed you in order to ship something
fast on the screen along with the actual
strategy but once they are on subsequent
visits so once I visit the next time
visitors the next time if we have
service Oracle support then we have
service worker that powers our page so
we shouldn't worry a lot about
subsequences it's what we should worry
for now about first visits and what
actually happens with the snippet of
code that I showed you which registered
service worker as soon as possible is
that we're not allowing
browser to prioritize everything it
needs to have a very nice first visit
experience you can see that because we
have interleaved requests one of them
are used for the serviceworker and one
of them are used to show the user a nice
first visit experience so all of these
service circles are actually slowing
down the first visit so what you want to
do typically is defer this until the
page has loaded so you can typically
wrap it with a window add eventlistener
unload and once you do that you can see
how clear it is that you're prioritizing
all the three requests that you need in
order to ship the first experience and
then after this has finished once the
user is reading your content in the
background you'll be able to install the
serviceworker but most of us are using
javascript frameworks which means if
you're using a JavaScript framework you
have to wait until your framework has
booted or else if you do it on load then
you will also be raising your framework
so if you're using angular make sure to
put it in a callback once angular has
finished finally booted and a typical
question that I get is how do you detect
that the user is coming from the home
screen how do I know for another using
analytics for example that this user is
coming from the home screen and I saw a
lot of recommendations on the web to
just add query string home screen equals
one but this actually were arune's the
work offline experience that you have so
a lot of pwace are added unto the home
screen and then if you go offline they
actually don't work and the reason
behind it is because the start URL and
exit HTML query string home screen
equals one is a completely different to
your l than index of HMF
so any URL with any different query
parameter is considered a different URL
so you'll have to cache it and you have
to further customize sw-precache but I
was giving a very similar talk in in
Bucharest
a few months ago and one of the
attendees told me like why are you
complicating it can't you just put a
hash home screen and in 90% of the cases
you can just put the start here as to be
hash home screen and it works
in case it doesn't work for your
scenario then we can make it a bit more
complicated it's not you can simply use
the hashes and it will work you'll be
able to read it in JavaScript so to
build pwace we need to have debugging
tools and thankfully we have a lot of
them the first thing that you have is
chrome dev tools and the application tab
you have the manifest soft up and this
reads your manifesto JSON warns you
against anything that doesn't work and
you'll be able to see if you're missing
any important piece for example this is
the manifesto Jason from Twitter light
and if you click on service workers on
the left you can also inspect service
workers you can you can trigger the
offline state you can force update this
service circle or delete it an important
thing as well is you can trigger a push
event or a sync event and you can also
use update only load and bypass for
Network once you're developing and
there's a companion that you can have if
you're building progressive web apps
which is lighthouse does anybody use
lighthouse yeah so lighthouse allows you
to gives you performance metrics
accessibility best practices and PWA
tips so this is the ultimate guide or
ultimate help that you can have once
you're building pwace so make sure to
always be testing against lighthouse
because it will tell you that for your
ex perspectives you're not for example
showing anything on the screen before
two seconds and you need to fix that
that will give you tons of tips and it's
also available as a node module so if
you have continuous integration you can
actually have performance regression or
UX regression using laptops and good
news is that it's coming in chrome dev
tools as of chrome 60 so if you go to
canary right now you will be able to run
lighthouse from chrome dev tools now
let's imagine for a second that your
users have added your app to the home
screen this is a big pleasure and it
there's actually a lot of
responsibilities behind it because your
users
have high expectations for this so if
you are building a PWA you should
realize that or you should think that it
should have native like performance
because first of all users might not
know that the term PWA exists first
second of all is on the home screen so
it must be fast it's not inside the
browser anymore and a typical question
that I get is like between codes like
can I make my website as a PW a while
this is technically true you can make
any website as a PW a it's probably not
a good idea if you if you have a lot of
JavaScript or if your experience super
slow so what you can do instead of put
what whitter does did they took a
progressive approach and the Twitter
lights from the ground up step by step
feature after feature which was one of
the most successful pwace and the reason
why I'm telling you this is because even
if you're able to ship the option really
fast under one second if your users are
waiting a lot then they're not going to
have a pleasurable experience so after
the app shell you have the first
meaningful paint which is the first time
you see actual content or meaningful
content on the screen but once again
remember you probably cannot click on a
tip if you click nothing happens because
your main javascript is still rendering
so this is a real trace I took on my
macbook pro i7 using only five times two
key or throttling and 3g network
struggling so you can sync simulating a
network device a mobile device and you
can see we're waiting about eight point
five seconds to parse javascript you
know this is a lot of time so this is
the problem when building pwace and the
most important thing is not to ship too
much of it but I know this is not easy
so I know this is one of the hardest
thing that we have one building wheel up
so I'm going to give you some tips that
you can use to actually help your ship
less JavaScript first of all source map
Explorer which is a node module that
lets you explore and understand what
vendor dodge is you're shipping so this
has helped many people realize that
they're shipping to
of the same library for example or they
help them realize that they're shipping
the entire lodash library but they only
use two methods out of it so this will
help you a lot
understand what kind of JavaScript
you're doing another thing you must do
for big applications is code splitting
so instead of shipping huge update a
huge a purchase you can actually ship
smaller JavaScript files depending on
what kind of experience the user is
asking for so if the user goes to
settings of GS or to the settings page
you only ship the settings of js5 you
don't have to ship the entire after GS
and a nice hood that just landed in
chrome so you have this on regular
chrome now on chrome stable I mean it's
called coverage and you're able to
record and open a web page interact with
it and you'll be able to see how much of
your JavaScript and how much of your CSS
is not being used so this is very
important as well to be able to optimize
for this fast loading experience so make
sure to give it a try just to command
shift be inside chrome dev tools and
select code coverage
I mean coverage and you'll have it and
then there's also another thing I've
been experimenting on which is called
conditional polyfill loading and I've
published a small library which is
called promises it's less than 500 bytes
so less than 500 characters but actually
lets you conditionally load polyfills
only when they're needed because I
realized a lot of framers and a lot of
people are shipping polyfills for all
the users whereas you have Chrome and
Safari for example they support web
components out-of-the-box v1 and they
support a lot of new features so here's
how we can use it you just call the pro
missile method and you give it a test so
it's such supported in window and it
allows you to use to actually use your
own polyfill so you can choose whichever
polyfill you want to use and then this
is the promise so one note is that this
depends on promises if you're not
support Android 4.3 or ie 8 you'll have
to ship a small promise polyfills and
then once you resolve this promise
you're guaranteed that you have the
search method
so be able to use fetch on old browsers
and this makes a lot of sense to use
width fetch because right now fetch
works across all devices but it's your
surrogate you're surely going to have
users that are on one Safari version
older than the latest one so this makes
sense because all users have it except
for just a few and the way this works is
that for users with fetch support you
see we have the index.html upload us
which loads which uses such users and it
immediately runs right after we load up
the GS we're loading the users but for
users or browsers without such support
you can see if they take a small hit if
a very small but they actually take a
hit off loading the polyfill so promted
will actually block for users without
such polyfill and then but it doesn't
break so it will actually make it work
this is one of many solutions you can
also use polyfill dot IO which would try
to see the end service now once again
this is all from a low-level or from the
ground up but you're all using
JavaScript frameworks and this makes a
lot of sense or or libraries as well so
I crafted a list of things that you need
to look for once you're choosing a
JavaScript framework the first thing is
you want to have a smaller bundle size
because if you're starting with say 100
or 150 kilobytes of JavaScript your
Hedren is almost gone so you cannot
really build a nice PWA experience
second of all is the ability to code
split because as your app goes bigger
and bigger no matter what framework
you're using you will have a big
jealousy bundle but if you're able to do
code splitting then you're able to ship
only parts of your application only when
they're needed and platform leverage is
also something very important nowadays
because all browsers have I mean most
browsers have excellent browser support
real future support so just like I told
you fetch works everywhere so when I say
platform leverage it means you should
not be shipping code to make such work
okay you should ship polyfills but
conditionally so this is why I talk
about platform leverage so use those web
api
never they work and whenever something
doesn't work you can use conditional
polyphen loading so I'm going to talk
about four or five the top of the most
most used Famers and show you how you
can then pwace so four react about three
weeks ago create rhea create react up
now supports the PWA out-of-the-box so
once you run this command you will have
a pw a react up out of the box which is
great because you don't have to worry
about configuring anything anymore
anybody knows about react yes
soap react is a three kilobyte
alternative of yeah with the same es6
api and it's really nice because so many
people have migrated from react to PR by
just changing some configuration and
using the PRT li you can also generate I
mean create a new PW a out-of-the-box
and that's really cool for view if you
using view you can use the PW a template
and this will also generate a PW a for
angular there's a dash dash mobile flag
that the mobile flag which which is
importantly disabled but they're
actively working on it once this works
the mobile side works again you will
have service Oracle support manifest and
even more push notifications but this
doesn't work at the moment so what you
can do at the moment is built for
production with ahead of time
compilation and then precache is the
command that I created so this is not
something that works but inside this
entire Chris script you can actually
just run sw-precache generally the
service worker and everything was done
in the beginning and for polymer tools
you can also run polymer in it and then
select the PWA template and what I like
about polymer 2 actually is that since
you have Safari and Chrome which are the
leaders on mobile they all support web
components you want which means for
polymer tool you're only going to ship
11 kilobyte at the same errcode for
these two browsers on firefox is going
to be bigger so they're using
conditional polyfill loading on Ethernet
Explorer is going to be even bigger but
means on mobile devices you're able to
ship you have more JavaScript to write
because the framer polymer tool is only
taking about 11 kilobytes so that's all
for progressive Baba and now I'm going
to show you some modern web AP is that
once again you can use them with or
without pwace but they make sense a lot
in the modern web and the first and the
first one is improved squirrel
performance so previously on the mobile
web a scrolling was super super slow and
there's a reason behind it it's more
like how browsers work but right now you
can fix it by whenever you have a
touchstart event you can add the passes
through flag and what this means is that
actually let me tell you why it's slow
once you add the touchstart event the
browser has to run all your callback to
see if you called event the pig on
default so the fact that this touchstart
event is countable is really so because
the browser has to wait see if you call
the event prevent default and then
afterwards it will commit it to the GPU
but once you have passive true it's like
you're telling the browser I'm not going
to call event of event default and then
the browser is able to immediately
commit this touchstart event to the GPU
and even if you call it it's not going
to have any effect so this works on
Chrome Firefox Safari and Oprah and
actually the newest version of Chrome on
mobile started doing it by itself so you
don't have to do it for Chrome but you
still have to do it for all other
browsers you can also defer
non-essential work using the request
either callback so if you're doing some
analytics work you don't want to either
want to run this right at the vsync
right when the browser is drawing on the
screen so what's going to use is request
either callback which gives you small
chunks of work that you can do right
before the vsync and this makes sure you
don't go over your frame budget you're
able to always ship at sixteen things
like are 60 frames per second
intersection observer is quite awesome
as well it's only on Firefox Oprah and
edge at the moment and Firefox support
is coming soon so it's the next few
releases
instruction observer allows you to ask
the browser for the visibility of an
element so you can see how much of it is
intersected with this viewport for
example so this can be used for lazy
loading images especially if you're
building something like Twitter or
tumblr so you only load those images
once they're visible or even with the
top margin say of 200 pixels you can
also do infinite scrolling but this is
not meant for parallax I'm glad they
design it that way
and this also CSS containment so
typically on the web if you change the
width or the left or height or margin of
a one element the browser has to reflow
or recalculate the layout of the entire
page so on big pages it can be quite
expensive you can see it takes about 56
milliseconds just for changing the width
of an element but with CSS containment
you can contain the layout of an element
to a particular element which means if
you have like a widget and we could
change the width width of this widget
it's not going to reflow the entire
document it's only going to have the
layout route to be the box itself and
this one down to zero point three or
four milliseconds and this actually
makes a lot of sense with web components
so once you're building a web component
that's completely isolated you can give
it a containment off layout and then
it's not going to have any flex side
effects on the entire page also the
payment request API which is on the
video allows you to do payments on the
web this is not a payment processor so
this is only gives you in native payment
sheet on the web on the mobile great
news the staff is twerks on edge at the
moment and chrome is shipping it all
across all devices so you'll see this
soon on the web Android iOS Mac OS
desktop Windows even of them so even in
Linux as well and then there's this
amazing web share API which doesn't work
anywhere at the moment it used to work
for the last six months as an origin
trial
does anybody know about origin files all
right so let me explain these are quite
interesting so you all remember the
WebKit prefixes the mods prefixes
so in order to avoid all of these issues
a right now experimental experimentation
on the web happens through origin trials
which means if you want to test a
particular feature you have to sign up
for it and add a meta tag which expires
on a certain date and they also have a
check to make sure that it doesn't get
activated for more than for example 0.5%
of Global Users this is a great way to
have experimentation on the web without
having a big websites such as Facebook
or Google require us to proceed with a
certain feature because they used it and
they have a lot of traffic so what sure
a pee I was being tested for the last
six months if you use Twitter light on
mobile they used to use it and it's as
easy of chording this method and you
will have the native sharing your eye
from the from from Android as it's
really cool so I've heard that there was
really good feedback for it so I think
we should be seeing it soon on across
browsers so all of this is really
exciting and now I'm also going to talk
about some things you should expect in
the coming few months or coming few
years and the first thing is improved
after homescreen so this is coming to
Android and I'll show you this video if
you add so if you enable out to
homescreen flag and you add something to
the homescreen it's going to take a
while that's why it's behind a flag but
in the background this is using what apk
to install in native apk as a PWA on
your phone which means even when you
close everything and even if you remove
this home screen icon it's an app so you
can find it in your apt or you can
inspect it you can see the up and for
and you can uninstall it so this further
brewer's this blurs the line between
native apps and progressive web apps
which is really exciting so just as a
recap this doesn't work right now on
Chrome if you want to test it out you
can enable a chrome slug which is
improved at the home screen
and as soon as I heard about pwace I
thought that they actually make a lot of
sense on desktop and we're starting to
see to see things pwace on desktop first
of all on on Chrome OS which can also be
tested on your own chrome if you enable
the outer shelf flag is that if you go
to the PWA the browser will suggest you
on a desktop would you like to add this
to your shelf and if you add it to your
shelf and click it and open it it's
going to open without the the browser UI
which is really cool also Windows 10 is
doing this out of the box and the next
version of Windows 10 and the next
update this is what they mentioned in
the build conference last month and
something very exciting is that the
Windows Store is actually crawling the
web looking for PWA s and adding them to
the store so Windows users will be able
to look for pwace and they don't really
really know their pw8 they just search
for apps and then click install and a
sorting that will be super fast because
typically you're just installing index
dot HTML file so that's really cool how
many of you have heard about our
assembly yes quite a lot so you know
whatever somebody is it's a
cross-browser low-level language that's
designed to run native C or C++ code in
a tiny binary format just these two
weeks you're starting to see a lot of
websites use web assembly especially
Sigma which runs a sketch like editor in
the browsers they also solve massive
performance benefit on browsers still
not very stable they're having some
issues on some browsers but it's really
promising so here's an example of a
water sembly method which is called add
to that just adds two integers together
and also super exciting but that's the
code for it so it's tiny and I'll show
you how you can use it and you can see I
showed you all the browser icon here
because it's shipped across all browsers
some of them have it behind the flag but
the minimum viable product of what the
assembly is actually out there so I'm
going to use async await functions just
to make it more tidy so first of all you
fetch the binary then you need to create
a Larry buffer out of it
let me create a module module out of it
and then an instance and then if you
console.log instance that exports you
will actually have in native ads to
method so you'll be able to run the ad
to method at almost native performance
right now it's one point two but it's
going to become faster later on and what
this means it's not that we're not going
to write JavaScript anymore what this
means is that the Future app model I
think is that you'll have a PW a
communicating with webassembly to do
things that we've never thought we're
able to do so you'll be your PW a will
be able to do image and video editing
which is happening right now with Sigma
image recognition encryption and a lot
of other things just because we have
what assembly so that I get you excited
about PW is in the future yes
all right so I have a call to action for
you and I want you to get even more
excited and first there's an annoying
thing which is I want to speed that but
that a few months ago to test my
connection speed and I was roaming and
they were like thank you for visiting
our website but just download our app
because we don't know how to do it on
the web and this is this really sucks
especially right now why do you need to
install 20 megabytes to test your
internet connection and have an app take
your memory or take your storage for six
months if you're never going to use it
so this is why the web is awesome you
want to do something you just go to the
URL do it and then you're done so my
call to action for you is if you really
like these stuff go ahead and build your
first progressive web app and the
strategy you can take for this is
regardless of what your business logic
is doing regardless of what your company
is doing start from scratch
forget about frameworks and forget about
your business project and focus on best
practices and you'll have something up
and running and as soon as you have
something with a decent experience then
you can add your business logic and of
course if you want to use a framework
for work it makes sense or library then
you can start from scratch using this
thing
and don't forget that to always test on
these mobile devices because what takes
a fraction of a second on your Delta can
take up to five seconds or even more on
a real mobile device so you cannot
really compare to an i7 MacBook Pro so
what you can have is always plug your
plug your Android and have Chrome or
plug your iPhone and have Safari to
inspect and see how it's working on a
mobile device and if you're not able to
do that or if you want to do more
frequent test you can use struggling
features and chrome shorter CPU down to
five times and for Internet you can use
regular 3G if you want to simulate what
it's like for real users so nobody would
build a PWA if they haven't seen
successful stories and my favorite PWA
is mobile doctor comm or just
twitter.com on mobile
I understood the native apps a few
months ago and I'm simply using
turtlecom it's amazing it also works on
iOS with all the best practices but
without actually being difficult
pwe you can also check Wiegel which is
built in polymer and slip cards which is
built in react and don't forget that
gwas are one of many other solutions
that tackle similar problems problems of
large large arc sizes network
connectivity Network Lanford size
restrictions so Android instance are
also solves a similar problem but from a
different perspective and also Android
go which was announced last month at
Google i/o which is like a smaller
version of Conroy dots meant for smaller
devices so these are all different
solutions it's not like after two years
we're only going to have pwace or we're
only going to have instant apps they
just tackle it from a different
perspective so if you want to see my
resources for the talk make sure to go
to Google web fundamentals and Mozilla
developer Network and I collaborated
with Nicole Sadie who's sitting over
there
she's going to give you a designing
great progressive web apps talk so we
made sure that there is no
so this is a complimentary talk and
she's going to focus about these our
experience and it happens to be in the
same room but if you want water make
sure to rate my talk outside so I really
hope you enjoyed my talk you can find my
udemy course on this URL it's called how
to become better developer and you can
find the slides over here and I'm happy
to answer your questions thank you for
your time</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>