<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>DIY Security for the Amateur Superhero - Laura Bell | Coder Coacher - Coaching Coders</title><meta content="DIY Security for the Amateur Superhero - Laura Bell - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>DIY Security for the Amateur Superhero - Laura Bell</b></h2><h5 class="post__date">2016-09-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/t0frXaC9I7c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">alright good morning my name is Laura
I'm going to be the one trying to
remember to stay in front of that camera
I'm hopefully talking to you for a bit
ann7 track conference is really hard you
end up having to make some really awful
choices so as much as I appreciate you
all being in the room that's pretty
awesome I understand that people are in
other exciting things too and that
people are going to catch up on the
video so that's fine I run a security
company in new zealand and i am the
security equivalent of a cat herder i
bring security into places where
security does not dare to tread i work
with companies in six countries spanning
from teensy tiny little startups through
to GI int enterprises who are on the
brink of extinction because the internet
happened so before we get into the meter
while these lovely gentlemen come and
make their way slowly in its ok I don't
blame you we're only going to stare a
little bit the world is a terrible place
so its traditional for a security person
to tell you this you're pretty much
screwed the internet is a festering
toxic wasteland we know this how many of
you write code good didn't end up at the
wrong conference that's always awkward
how many of you have code on the
internet you wish had died in a fire
mm-hmm how many of you supervise interns
or graduates yep so you're propagating
the problem so yay fantastic welcome to
the future hello gentlemen please do
take a seat you can sit on that side but
will probably stare a bit okay so the
internet is a bad place the cats on it
is sad blah blah blah blah blah we know
that somebody probably wants to do bad
things to your computer depending on
where you work your word from everything
that you know china's coming they're not
by the way most of you or Russia if you
read anything from the Democratic Party
in the US at the moment Russia
definitely care or just some local
teenager sat in a basement who's wearing
a hoodie in gloves I forgot my hacker
uniform today you'll have to figure
for me and of course the internet and I
looks like this it's a horrible
festering quite adversarial space where
javascript is generating really scary
visualizations that are selling a lot of
product if you want to contribute to the
mess that is security vendor space I
suggest starting with writing JavaScript
threat visualizations because that's all
this is pew pew if you go on to get home
look for pew pew so it's beyond hope
you're screwed we're screwed we're all
in this together great fantastic I don't
think it's like that I i sat in Scotts
talk this morning looking at what
javascript is becoming is torn directly
down the middle in two part of me is an
engineer and loves building things I've
been looking enough to write code for
CERN that looks after radiation
monitoring on the LHC that's pretty
amazing either I'm kind of proud of that
but at the same time I've been lying
cheating stealing from computer systems
for about a decade and I know how badly
wrong it tends to go when javascript
gets in the mix so we're on the cusp of
beautiful amazing things how many of you
can see a technical product in the world
that you think is like sci-fi awesome
from a New York it so self-driving cars
we've got robots and computer systems
that are diagnosing health conditions
better than our practitioners are we are
teaching our kids in virtual worlds
rather than physical ones this is kind
of sci-fi awesome how many of you want
to be the developer on a Tesla come on
this is future tell tech want to send
something into space that's a genuine
job now they used to be like super nice
and now no no you just have to work in
right part of the world sadly doings as
securely is really really hard now most
people see me and they think they're
going to get the warm huggy fluffy
version of security and we're going to
go it's okay we're in this together yeah
kind of we are but I'm actually more
like GLaDOS than I am anything else my
job here today is to say harden up and
to say that
is going to be no Batman there is no
swooping in the night team that is going
to come and solve all of your security
problems and protect your systems it's
not going to happen you engineers us as
a community are going to be the ones to
fix it and hopefully today I'm going to
give you a few things you can go away
and get started all on your own let's
not wait for somebody to miraculously
give you budget or give a damn let's
just get on with it because well we
created the problems I'm pretty sure
we're the ones to fix them too so it's
all going to be up to us and security
isn't just a magic sure i'm not here to
show you that I can make JavaScript do a
pop-up box and go tada and you could go
Google that or write some JavaScript I
want to teach you about your role in
prevention detection response because
security is all of these things it's not
about getting a pen test once a year and
it's not about having the right vendor
on tap so what are we going to do today
well I'm going to turn you into
superheroes not type of cape so I've
been told this is dangerous and how the
safety is important but the type where I
could come see you in 12 months time and
things have changed the way you're
developing software has changed but
you're still building awesome things
we're going to look at accepting some
truths we're going to look at protecting
what we have watching it responding to
problems on learning from it a lot of
what I share today comes from bitter
experience my small company we have five
people we are based in New Zealand for
anyone who from out of town that's
hobbits not kangaroos we build code
fifty percent of our time is building
product fifty percent is advisory and
training so there is nothing in this
talk that I have not tried and failed at
multiple times in the making of it there
are lots of lessons here there's lots of
things I can share with you and go I
screwed up and you should probably not
do that next time so let's get on with
it let's let's learn to accept this is
the closest too touchy-feely I do we
like writing code we like building
things how many of you really enjoy
planning meetings and doing visio
there's always one it's okay if that's
you oh it's okay we can have hugs
afterwards and
and cupcakes maybe I don't know but most
of the time we're in a bit of a hurry to
just get on and build something right we
are given a scope or a spec or just we
have an idea and we go and we build and
that's a beautiful thing i right really
terrible Python I'm not even a.net
developer but don't judge me it's okay
some of us you know we come from foreign
places I actually started out on Kobol
because for some reason my employee
decided teaching a 16 year old cobol was
the fun future-proof way to look at do
things I know what this feeling is like
but it means all your massive part of
all of this we are actually part of the
problem you were part of the problem and
I love you all dearly i love engineering
i love it i love the concept that we can
build amazing things but we're done and
we're lazy and we spent most of our
careers being told we're quite bright
and the way we've done awesome things
and we haven't even reviewed where you
are above expectations or you got a
bonus at the end of it cuz you did a
good job yeah awesome the gold stars
don't count for much you in this room
are more of a threat to your
organization your applications than
anyone's at a thousand miles away in a
different country and it's it's not
personal it's me as well and we'll talk
about some of this why this is a problem
the first bit stems from this graph here
obviously numbers and don't exist in
this world it's a theory graph we get an
idea we start building things and given
the types of people we are we probably
building so fun to because switching off
and having other hobbies it sounds like
a lot more work than we used to we have
an idea and we start coding and if we're
really lucky we only have to throw away
two prototypes before we get something
that doesn't look like somebody just
spat code all over an editor eventually
baby somebody uses it or they buy it I'm
hoping you are gainfully employed and
somebody pays you for your time and so
they might be buying your application at
some point using it is there anyone
who's looking for a job okay well you
should probably raise your hand if
anyone asks at this kind of convo
because there's always someone SAT
around you that's hiring because this
skill set is really valuable and then
eventually when we've like conquered the
demographic we were looking for we've
got MVP and we've got the quarterly
return and the whatever churn rate we
want or when our organization realize
that they're going to get in real legal
trouble if they don't we start doing
security and they start calling people
like me in or even worse people with
clipboards and auditor hats and we start
looking at your world I know what the
hell just happened here it's terrifying
how many of you know of a piece of code
you have written or touched that really
really is a problem that should probably
be wiped from the planet yeah I know
those bits of code I call them my
technical debt which is a polite way of
saying oh my god don't make me go back
there and of course for every one of you
who's building great things and then
eventually trying to defend it there are
dozens of people who live in this
beautiful attack space the offensive
world is lovely if you ever wonder why
most security people of penetration
testers it's because it's easy I walk
into a room I take your beloved creation
I smash it with a hammer for two weeks I
tell you a baby is broken and ugly and I
give it back and I walk away that's a
joyous experience for the first 15 20
times I never have to deal with the
consequences for anything in the world I
just give you a broken thing to say haha
sucks to be you and there are dozens
hundreds of thousands of people in the
attack space from vulnerability
researchers who we're going to cover a
fear about how they think today through
to penetration testers through to people
who the tech is actually only
distraction it doesn't really matter how
they get in they just want whatever is
on your servers think more organized
crime gun-for-hire smash a window with a
brick rather than sophisticated Ocean's
eleven hot heist so what did what's the
net effect of this why am I even giving
this talk well because as a result of
this my industry got rich really really
rich and we're worth 79 billion
dollars a year that's a lot of money and
if you are working a team and you've got
more budget than you can spend aha this
guy's hiring yeah we most of us are in a
constrained physician there is more to
achieve than we have the resources to do
but Security's taken a massive chunk of
budget and what I want to do today is
not about hating on vendors I am a
vendor of sorts but what I want you to
do is actually engage that engineering
brain first and see what some of these
things you can do yourself I want to
actually kind of lift a bit of the
curtain on some of the magic that is
security it's not magic at all you see
when you're busy throwing noodles and
oodles and oodles of cash at fancy
border devices or security equipment
what most people are actually buying is
a really expensive cat5 cable we leave
them in our server acts we leave them in
training or monitoring or reporting mode
and we feel really good because we tick
that security box we did a thing if as a
developer security is that something
you're doing every day just in teeny
tiny ways you failed it doesn't matter
how many fancy cat five cables are in
your rack how many of you have ever had
the misfortune of having to choose one
of these web application firewalls or
something that's actually protecting
your code one of you does that'll scare
anyone we've got devices that are
supposed to intelligently know our
attack surface and our applications and
what they're doing under the hood and
the people who build them you lot have
never touched those devices the last one
I went to look at it was almost it
looked like it come from a museum it had
been SAT there for a year two years and
it was spewing at 67,000 reports a day
that were filing into Devon all 67,000
yeah do you know what we could have
probably solve that by having somebody
who actually understood code look at it
right so before I regurgitated to be
covered elsewhere you are lucky this
week we have people like Troy hunt here
in the conference doing conference
things and talking to you some of you
will have been to his workshop this week
please listen to him go and find out
what I'm not here to tell you about
there was top ten if that's new to you
other people are going to cover that
this week I promise you I and what they
call an ops coder an op security person
my job is not to help you build a
cathedral mine is to keep it standing
long enough for somebody to come through
the door I'm a survivalist if you will a
prepper so first things first I'm going
to ask you very very lightly for now
until the rest of forever we're going to
start admitting our mistakes this week I
posted I tweeted a picture of an actual
board that is in my office it says
number of days since our last up it
has two numbers I've been ridiculed
publicly now for us actually thinking we
could get to 10 days without a fuckup
you can't how many of you failed in the
last week at something how many of you
publicly owned that I went yeah God that
was silly in our slack channels in our
company we we do security all the time
we live and breathe it we have a today I
learnt channel and that is the Museum of
 up or excuse the language this is
all of the places we have gone it wrong
the vulnerabilities we have introduced
the problems with servers and
misconfigurations the up sees we've had
with AWS keys that went a little bit
more public than they should have
admitting mistakes of securities rare
nobody stands on sages has were bad at
us not bad at it I've been doing a long
time but I'm human you're human we're
also all professionally making it up how
many of you have ever come into a job
and I've gone oh yeah so how well do you
know X framework and you've gone yet I
totally know that yeah absolutely um
that guy wrote a blog post about it and
I've yet don't I know that that's that's
been me on more than one occasion I have
to switch between probably 12 languages
in my average month and for any of you
who write node I hate you every single
moment that you're alive just but anyway
that's my problem not yours it's okay to
realize what we're making up security
there's no bible for this there is no
book there are many books they will take
your money gladly and they all have
pretty pictures there's no book for this
you know your environment you make up
the solutions i'm going to show you some
of the things you can make up and it can
be kind of fun I secured people have a
strange definition of fun so
and finally before I get into the guts
of some of the things we can do to
protect I'm going to say controversially
please for the love of God will you
start using a password manager ok right
please raise your hand if you have a
password in your life that is older than
five years raise your hand if you use a
password for more than one system raise
your hand if you know a password for a
system you're not supposed to know the
password to mmhmm yeah we're building
the systems and we expect how users to
be better than us so i'm not going to
delve into the the ABCs of choosing go
passwords you know this and if you've
been following the internet you know
password managers are having a bit of a
bad week tavis got bored Tavis does that
he decides to pick a software type this
week it's password managers and shells
rain from the sky doesn't mean you
should stop using them because I'm going
to tell you their buggy software is more
secure than what you're doing all by
yourself you can buy legitimate four
dollars u.s. a password book that is
more secure than what you are doing now
that you write in with a pen fantastic
right that's me ranting ha ok so the
whole world's going to be built in
JavaScript you lot are going to be the
architects of our disasters and we're
gonna have to protect it now what I
really liked about Scott's talk is he
used the puffy analogy which is
beautiful because I don't have to start
at the same point but it's the same deal
right he danced and very gently put
around this he described your software's
you know having to be fed and watered
and and patched I'm gonna take it
further your software is a puppy or a
baby and it's beautiful and it'll be
novel for about three weeks and then
it's going to start pooping on your
carpet it's really really going to poop
all over your carpet now by that I mean
it's not going to perform like you
thought it was going it's not going to
scale as well that feature you thought
was definitely you know going to be the
differentiator that the killer feature
is actually going to sink quicker than
you know what to do with it and then
we're going to add security on top of
that because maybe you sold some stuff
and people started realizing who you
were and they're going to start prodding
it in ways you weren't expecting
now we have to admit that every every
piece of software has security flaws the
only mathematical way to prove the lack
of security flaws takes us far far past
functional programming into like uber
geek land if any of you SAT through
lessons and Zedd and things when you
were younger and and less likely to walk
out of a lecture it's painful to
mathematically prove that software a
safe or secure we can't do that so first
thing your software has bugs you wrote
many of them you inherited some of them
some of them didn't exist when you first
wrote the code the framework has changed
around you and changed the way your code
is behaving now so we have to admit that
well that's great if you've just got one
lovable puppy piece of software and you
get to feed and water and look after how
many of you are on multiple projects in
your life how many of you've caught
microservices I'm coming back on Friday
you can come and talk with me about
architectures and security in microsoft
says we're going from having one
application to API driven things where
you might have 300 and now if you think
it's painful to shovel poop for one
puppy you wait till you've got 300 this
is not fun and of course there's
something more than that how many of you
write all of your code yourself no
nobody okay again with the interventions
please don't there's no need we've moved
past it unless you're an embedded Linux
developer in which case I don't why
you're here but we love you the software
we're building our software with also
has flaws now I do I I rag on node a
little bit I give them a hard time but
that's because I've seen what happens
when you compile JavaScript applications
compared to a dotnet so don't Nate you
might write a HelloWorld and it comes
out once is compiled you know a little
bit bigger than what you put in it's
pulled in a few libraries and frameworks
and job done with JavaScript you go from
having six lines of JavaScript to 14,000
lines of JavaScript and your dependents
three trees starts to look like some
really fragmented graph of the world
that's complex how many of you know how
many technologies you're using in your
stack first step of securities know it
even if you don't like the answer
because we get a bit crazy with this
right it's really fun to bring you new
libraries and frameworks we've been
really sad if we were all stuck on old
versions of net and had to code
everything by hand we wouldn't get much
done at all so part of protecting is
understanding what you're protecting
because you don't just protect your code
you protect you take on the
responsibility for every module and
framework you bring in with you and not
all of them are as mature as others now
the left pad incident of the node world
was a really interesting example of this
six Lions the average length of a
dependency in the node landed six lines
of code and yet we took away one
dependency in the world collapsed now I
think it's interesting that left pad
calls everything to collapse in a big
heap because we lost one dependency but
I find it even more interesting to think
what i could do with that now if i only
have to write six node lines to get into
mpm then even I could do that and I
absolutely detest note so what am I
going to do with my six lines of code am
I going to do something useful or not
because I'm sure as hell node is looking
through every line of every dependency
in NPM or in maven or in any other
repository so if I know my sixth line
suddenly gets into a million projects
because dependencies are dependent on
dependencies are dependent on
dependencies general we just built we
just built a worm now how many ones are
a bit before some of yours time some of
you look like actually new and young and
enthusiastic go read about them they
were fun when myspace was still a thing
this is the joyous thing we have worms
now that insect petrol stations there
are chains of petrol stations in Europe
where they've had to physically firewall
off the pay at the pump devices they are
on completely isolated segregated
networks and that's because their
dependency chain is so complex they
can't update them and so one of them got
configure and then all of them got
configure and then they patched one and
it was self replicating and basically so
pay at the pump devices that kind of
space
it's actually once you get it out there
really hard to protect you are not doing
silly things like creating little
islands of petrol stations that are
quite literally toxic so funny story how
many of you are having fun with the
hotel Wi-Fi yeah so my BM decided it was
going to poop itself a little bit and so
we're going to do this the old school
way and you can have a bit of homework
to go look at it i'm going to show you a
couple of things that are going to help
you get into your code base and actually
start looking at what the risk is for
you from dependencies some of these you
will seen before if you run open source
projects everything i mention here is
free if you run closed source you may
have to pay small amounts of money but
i'm talking like twenty dollars not
three million so you know if i do
mention a product hey i'm not affiliated
with it i get no money i just use it day
to day i can tell you the warts and the
joys of using it but even somebody with
a small spend credit card can get this
stuff done so let's have a go at this
this is going to fail horribly all right
UOP dupa do okay first things first
we're going to have a talk about the
free option let's do the free option
right oh come on if we do we can do it
hey dude mirror ray you do teep deep
tech every day and changing the display
settings on a mac is a victory wonderful
okay so let's talk about Ross dependency
checker I was big organization if you've
not heard of it yet you've got homework
to do but they have many many projects
other than the ovals top 10 which is one
you will have all been told about one of
them is this it's the O's dependency
checker it has plug-ins for you will see
them linked maven Jenkins there's a Mac
homebrew you can go and use this today
and it's really easy to set up it's an
old project has been around a very long
time and it's what they call flagship or
mature which means it's not going
anywhere either it's run by volunteers
from the community and some very very
bright people are contributing to this
you can go and see the source code it's
that kind of deal now most of 10
dependency checker does one job and it
does it very well it looks at your
dependencies in your maven build or
in ant or whatever it's plugged into and
it looks at the versions you're using
and it goes there's a vulnerability and
that a security vulnerability you should
probably do something about it and it
has the power to stop your build now I
know some of you haven't reached
continuous integration and continuous
deployment yet we all seem to believe
we've all got to this utopia we don't
less than ten percent of my customers
have actually reached that but whether
you're doing that or not you can trigger
this manually you can go right now for
this point in time am I vulnerable now
your decision might be to go oh yeah I
am but I kind of don't care that's okay
because you've changed your security
risk from being yellow to I've made a
dumb decision and I've got it written
down somewhere which actually it's much
better to do that than it is to just go
it's fine it's fine i've never been
hacked before so that's almost
dependency check now if anyone wants to
come and find me off as i'm happy to do
demos of it but you don't need it your
engineers this is not a magic show now
if you're a little bit more github e
then libraries do I owe is an awesome
alternative so we run open source
projects and we won't run closed source
I'm showing you an open source stuff
here something called Ava you don't need
to worry about what that is but it's
written in Django so Python framework
and trust me Django is as messy the
dependencies as net and as anything else
so you know we have as much to gain from
using this as you do it's written by a
gentleman in the UK called Andrew I can
name their entire development team that
tells you the size of this project never
see a glossy web page and assume that
it's a big company they probably want
your help and probably your funding if
you work for a big organization but he
gives this away for free to open source
on for a very very small fee for closed
and what happens is you you sign up with
your repository so you can see my
organizations here you take a box you
hit button this is not technical I'm
hoping we're all seeing this is quite
easy to sign up for and you can get
subscriptions it will email you it will
message you and it will tell you when a
new version of your software is
available really simple right but what
we've done is we've taken a chaotic mess
of dependencies we weren't really paying
attention to how many of you will
honestly hand on heart say that you've
been monitoring the
no when all of your dependencies need
updating yet nobody does this everyone
supposed to you nobody does I know
people who are using scarily old
versions of libraries because well you
know it still works it's fine i'll
update when I need the new features this
is going to do it for you they also have
dependency CI which is an fits into your
continuous integration pipeline now
these aren't the only tools that do this
there are glorious fifty thousand
dollars a year subscription based vendor
products will also do this so you know
go nuts if you got budget gentlemen here
go wild vendor hall is waiting just for
you but if you're not if you're an open
source project or if you're running a
bit of the world that doesn't have this
kind of luxury or need to prove value to
your bosses before you spend a bit of
money this can be a really good thing to
do I'd rather know that I'm screwed then
have a blissful existence and find it
kind of surprising and scary later come
on you can do it right I will be sharing
these slides afterwards all of the links
to everything I show you or on the slide
so please check out my Twitter's it's
lady underscore nerd and you will find
them please do not tweak the other lady
node without the underscore she gets
upset and she doesn't give a damn about
engineering or computers so we started
to protect we started looking over build
and we've accepted we have floors you're
going to go to Troy hunts talk and the
others we can get lots of skills to that
protects section now we need to figure
out what the hell is going on and
protect ourselves right because well
we're going to get attacked that's a
statistical likelihood most of us in
reality are ill-prepared for this it's
all very well to say yeah well you know
the security team are monitoring us in a
24 x seven support arrangement I'm sure
many of you have marketing websites that
say that's what's going on or you've
bought products from vendors who say
that's what's going on so AWS do have a
lovely monitoring team but they have
Brazilians of customers so they don't
really care about you especially if you
from this part of the world and your
little it's not a slur on them this
reality they can't give everyone equal
attention so we need to be the ambitious
kit and we need to basically sort this
out ourselves and I want to show you a
few ways that you can
monitor and protect in this kind of
defensive way first things first no you
won't see this coming if you're not
looking there is not going to be a
miraculous moment where you go the
hackers are in the sirens are going off
we should probably respond you do not
live in some Ghostbusters universe this
does not really happen in fact for many
organizations sadly they are breached
and about 18 months later they find out
unless somebody paste bin the contents
of their database somewhere in that gap
now I'm not sure about you but I like
being gainfully employed and I find
having the contents of my database on
pastebin detrimental to future
employment prospects so we probably want
to get to this before somebody does it
for us the thing we need to know about
monitoring our applications is that we
need to know what tools to use now if
any of you got special security
monitoring tools bits okay good because
I don't have to unpick things funny
thing is about security monitoring tools
they're not really security monitoring
tools they're just monitoring tools i'm
going to show you actually how to do
security monitoring without anything
specific and scary and security-related
because if it's close to what you
already do nap then you'll do more of it
if i make you have another world of
complexity you're just going to put it
on your list of to do and you're not
going to do anything and if you're using
things like reagan sumo logic roll bar
any of the New Relic how many of you own
six or New Relic t-shirts I'm pretty
sure that's all they do at the moments
give out New Relic t-shirts these tools
are perfectly valid I'm going to show
you a couple more on top so why am I
telling you this is valid because
perception is really dangerous right now
at the moment there's this kind of
prevailing culture that security really
has their stuff together how many of you
have a security team about fifty percent
of you the rest of you it's the Wild
West right we are kind of just making
this stuff and trying to get on with it
we think our security know what we're
doing we think they understand our code
in our world we think they have managed
to border border devices and budgets and
management support I'm going to tell you
they don't most of them are fighting the
same battles you are just from a
different angle and they have to care
about a much wider range of things than
just your application so sometimes you
have to take the initiative and go
yourself security
I'm really sorry but we kind of seemed
to think that you lot of cowboys at
watch mr. robot once and thought that
was cool that you don't care it's just
throw it on the internet but I know
that's not true I thought with some
really amazing developers in the last 12
months and I can say categorically you
care but you care about other things to
usability scaling performance that you
don't have to get out of bed at 2am that
you know you can possibly keep your
skills up to date long enough to get a
job in the future there's a lot of
things you're caring about so the
reality is the inverse with security is
trying very hard but there's more
problem that we know how to fix we don't
understand your world most of us don't
even speak developer very well I you
know I have to kind of Google the
occasional Fraser net from for it some
like what what I have no idea I'm a
Python girl that's what we do but you
lot you already have all of the moving
parts needed to do a kick-ass security
monitoring system you just don't know
what they are you have logging tools you
know your applications face inside out
back to front because you wrote it
that's kind of like a bit of a step
ahead from where people like me come in
you have access you probably shouldn't
have access for the record how many of
you have production access to a system
how many you shouldn't have production
access to that system yeah one or two of
you the rest of you think long and hard
you probably don't need it there's
probably a robot that could do your job
better and more secure and that's okay
and not say make you unemployed but you
know deployment tools are there for a
reason you have an incentive to care the
DevOps movement this movement of getting
you to own your code from the minute is
conceived to the minute it dies a fiery
death on a server means you're supposed
to care about it for its entire life and
that includes the security stuff and
nothing surprises a developer more than
me ringing them at 2am and saying sequel
injection how do you feel about that we
don't want that we want to stay in bed
because that's where the fluffy warm
pillows and things are so what are we
gonna do we're gonna log all the things
and i'm going to show you what we mean
by that now i'm not going to go into
application logging you've got this
covered if you want to spot sequel
injection don't go looking for a
security vice device start looking at
the slow query logs on your server if
you've not already configured it to log
things that take more than two seconds
or whatever a your performance and
scaling is probably broken and B you
won't start on a cap tak but you've got
it there already so let's not worry
about that
let's talk about the other things let's
talk about the bits of your sack you're
probably not paying any attention to how
many views any cloud tools in your your
world I know I heard some people talking
about compliance heavy environments and
on-premise earlier I'm sorry for you but
we've got get herbs we've got password
managers anyone using team foundation
server out in the clouds yeah we've got
bits and pieces around the place some of
it is important some of its not we need
to actually be logging in Montreal of it
if and they were developers and that
will feel quite strange to some of you
because I'm going to tell you as an
attacker I'm not going after yeah but
okay good I'm not going after your
codebase if your code base is super
secret squirrel dinner basement in a
building somewhere I'm going to go after
all of the things around the edges I'm
going to go after your personal account
every last one of them I'm going to go
after your laptops I'm going to go after
your mobile devices and I'm going to go
after your cloud tools especially
powerful fired tools so the ones i'm
going to show you an example of today is
a password manager because i think we
have to stop thinking about this really
carefully which tool in your environment
could destroy you that you never ever
think about looking after and securing
that's the question for most of the
teams i work with github is a great
example there was a compromise about 18
months ago two years ago now of an
online version control system file
upload system you know you could keep
version histories and lots of people
using it for their code snippets they
were compromised they won't just
compromise in the lawl i got into your
box you should feel bad they were
compromised in that fun sort of horrible
way where the attacker doesn't just go
lawl you should feel bad they then
delete every backup you've ever created
which that's not a bad day that's the
end of a business now it doesn't matter
if your things are on-premise or not
because a lot of us open up to remote
working we have a VPN endpoint that you
can get in via a lot of these things
need to be looked after because they're
holding sensitive things that you're not
touching day to day and thinking about
so i'm going to show you an example
I'm going to show you how what it means
to actually watch those logs how many of
you will admit that you only look at the
logs when you're debugging something
yeah most people because the Starion
loves is boring its walls of text and
post requests and that bit of your API
that you know shouldn't be triggering
just happening again and again because
somebody's got a script somewhere and
it's really annoying you so you filter
it you you know you send your reports
off to an inbox filter somewhere you you
have a dashboard for when the auditors
come but the rest of the time you close
it down because it's making crow me all
of your memory and you've no idea why
you would even stare at it anyway and if
you a slack or hipchat centric you've
caught chat ops I'm fully on in in the
chat up space I was IRC before that then
I realized I hated servers so now
somebody else does that for me we have a
policy if it doesn't get into slack it
doesn't exist the slack then for us is a
super super powerful gateway to all of
our secrets right that's scary how many
of you have to factor on things like
your slacks and you'll get ups how many
of you wish you did or no you should
yeah it's the world we already know your
password habits bad and now I know you
don't have to face stripy t-shirt guy
you're lookin really good as a target
right now so first rule of Fight Club
has never build it yourself it's not
reflect all likelihood but i'm going to
say anyway so you already have
monitoring and logging tools if you have
a nice solution for this please use it
if you are already buying a product to
go use it for security to i'm going to
show you what happens when your home
brew this and when you throw it together
and what you can achieve with basically
no money and a bit of enthusiasm and
some string all of the code that i'm
going to show you is open source you can
go down and delete delete no I hope
download this yourself and run it um but
hopefully you'll see what I was trying
to achieve and what you could do
yourself as an example so I'm going to
show you something LastPass lambda logs
which is an open source project it's
just one script you can download it from
us it's fine it's terrible Python we
have one rule when we open source
software and that's if you find a
problem with it I feel good that's great
fantastic if you don't pull request it I
didn't hear it so
fix it don't whine that's my only rule
and we're going to use sumer logic a
little bit but other logging tools exist
i'm just using because they're free t is
pretty good also going to talk very
briefly about sea monster and the elk
stack which is elasticsearch with cabana
now like I said my demo box is the way
of the dinosaurs right now it is dead as
a dodo and the internet is not liking me
don't try and do docker pull from this
Wi-Fi never ever do that ever on the
plus side i know they filter once you
hit a certain cap so i've already asked
the lovely gentleman at the vendor booth
on the other level for elastic search
and cabana to do a demo if you want to
go and have a look at that here's my
caveat to that their interface sucks
they're filtering language sucks but
it's free and you can stand it up in a
vm really really easily so please go you
get their stickers get their demo i am
in no way affiliated with them but it is
actually pretty useful so what did i do
well i've got a problem you see i use i
don't use one of my clients using
lastpass that fast is a great tool if
you don't like user interfaces too much
it's fine it stores passwords nice and
straight forward it had a bad week last
week but i still recommend using it it's
it and one password are very good
solutions the trouble is it's the crown
jewels of an attack surface right i know
that inside that password manager is not
just your passwords but probably all of
the infrastructure you connect to all of
the shares I know who is trusted from
what I can tell you a lot based on what
is in the last passes databases and data
stores which is an attacker makes it
really interesting and as a defender it
means it's a nightmare because it's
given us good things but at the same
time has come at high cost how many if
you look at password managers and have
that icky feeling of this doesn't feel
right we shouldn't be doing it you
should this is like ass backwards
compared to what we should be doing with
security but trade-offs so what I wanted
to know was what can I see if somebody's
trying to brute-force LastPass accounts
because if you've got all of your
secrets your M structure in there you're
probably going to want to know this and
in fact you going to want to know this
loud and clear somewhere very prominent
so there is no nice solution for this
this is
one of these tools where you just plug
it into a logging solution it goes hey
because LastPass are not good at api's
they're new at them and enterprise in
security world doesn't always mean what
you're used to it doesn't mean and easy
to configure api that plugs into
everything there's often a little bit of
fiddling you need to do so we're going
to take from LastPass we're sending it
with polling it using AWS lambda with
all of the joys and pain that that means
we're sending logs to s3 into Glacia so
that we've got a mutable store of them
and then eventually we're sending them
out to sumo logic the same place our
application errors are going so that we
can put them into our dashboards and our
alerting because our Sumer logic can
talk to what it can talk to pagerduty
which super important if you're running
your ops through it it can talk to ops
genie or the equivalents it can talk to
your slack channels and your email so
what we're doing is we're taking a tool
we want to use but with concerned about
we're stringing together some very very
cheap or easy components with some
terrible Python and good things
hopefully happen at the end so here's
some lessons I learned on the way I can
show you the code it's very easy it's
less than 20 lines of Python and even
dotnet developers can read Python I've
been assured is quite easy to master you
can't write lambda in.net you you write
it in JavaScript or in Python so you
kind of do have to get used to a script
II kind of language things I've learnt
other people likes API suck really
really suck so if you're going to get
into this homebrew securities face
please be wary that two things are going
to happen you're not going to realize it
firstly they will intermittently change
their format between Jason and XML and
it will make you cry many deep salty
tears and they will not warn you about
any of this because they don't know
anyone's using it then not monitoring
these ap is they are there for
integrators and things but this is like
a side project for them their main
affair is the main product itself so if
you're expecting support or something
please be gentle with them they really
aren't expecting what you're about to do
with them other things to note they're
not used to people using them for actual
logging purposes when I first started
using lastpass there
granularity was in 24-hour periods now I
just a survey for the room how quickly
do you want to know you've been
compromised on last pass is it a less
than or 24 hours or be greater than
because yeah it was a problem they've
they've changed this now they have taken
a lot of feedback and we've kind of been
emailing them and getting them in a good
direction but remember people who design
API to you as people who design api's
don't always think through the strange
use cases who walk in your door and
decide they're going to string it
together to a logging system so always
ask questions make friends with their
API team but remember it's probably two
guys who are a bit confused by why you
exist what I'm describing to you is
complex and fragmented we know from a
software engineering this does not end
well just because you have several LEGO
pieces you can string together and build
a cathedral does not mean you should do
it what I'm doing is improvising what
I'm showing you is that security isn't
about having a finite perfect version
for now it's about getting something
done and doing something until the
industry catches up with us until
something easier is available but
remember that this the more you engineer
the more you have to support and the
Morris likely to break so before you go
all gung-ho and go I'm going to do a
library for every single cloud till they
have prioritize do one at a time make
sure they're the ones you really want to
focus on because these things are like
house of cards one step breaks and
you're in trouble now on that front and
any lambda users in okay good right ease
yourself gently into this one lambda is
great in fact serverless I'm actually
generally very excited as an attacker
it's fantastic because normally i
compromise one person I'm not really
interested in you nothing personal I'm
trying to get through a network and I'm
doing what's called pivoting because the
treasure is somewhere at the back in the
financial system or it's in a database
over there so I'm compromising host one
after another and hopping around it like
a strange treasure and now in service
you can't do that because the server
doesn't exist it services the request
then it disappears into the ether so I
can't stay on there go right this is
interests
where do I go next because it's not
there anymore the land is very very cool
for that it does mean however I'm going
to compromise your AWS account so you
probably want to be careful with that
you know we all know where all of our
AWS keys are right yeah totally
absolutely we've got that sorted I know
where they are there's a script you can
use on github and so other things we
learnt and I'll show you custom filter
languages so the script is simple i will
show you the script and second that's
going to get you data data on its own
does not a dashboard make nor alerting
in fact filtering in security tools in
logging and monitoring tools is the
devil's work I used to hate regex but
now i miss regex straight-up regex would
have made my life simple because it was
documented this is the kind of stuff you
have to write when you're writing your
security logging you know looking for
different headers and user agent strings
looking for different patterns in the
traffic and it's gross how many of you
look in this going this looks fun every
time you see a pipe symbol it's piping
input from one into the output of the
next it's a chained regex almost covered
in pseudocode it's disgusting this is
not happy fun times so this is one of
the costs of doing it nobody is going to
dress this up for you going to have to
figure this out yourself and there's
going to be a lot of trial and error in
this no you're not on your own though
because sis admins have been doing this
kind of rubbish for years and actually
if you sit them down with a piece of
cake as I'm coffee will probably very
gladly explain what the Jazz is going on
here most security tools most monitoring
tools are not written by developers are
written by engineers who are solving a
problem they had themselves and this
made sense to them doesn't to mere
mortals like me so I'll show you the
code it's super super tiny and you'll be
like oh wow that's boring but that's
security dude
one little file oh really yeah okay Oh
life life is hard yeah bye all right
let's open it with Adam maybe that all
play nice hopefully come on Hey please
please please please all right okay so
this is the wrong code from github so
I'll just walk you through it note for
the record I'm an ops coder how many of
your ops coders from a background
opscode has means that we don't
necessarily do engineering as you're
used to we're not very good at comments
we don't do tests we feel bad about this
occasionally so it's very simple let's
have a look so we need some API keys and
stuff we used to do in with api so
shouldn't be hard we do some
jiggery-pokery with some date stamps on
some time stamps so that we can make
sure we get the right interval at the
moment this is pulling back in 15 minute
intervals because it turns out if you
fall back every minute well you'll have
glorious data you'll drown because if
this is one of your tools and you have
127 if it's pulling every minute it gets
expensive and B gets really noisy so you
have to kind of set your tolerance on
how much noise you can wade through and
the request is as simple as that just
nice blob of Jason easy easy that's
uploading it to s3 that's nice and easy
right anyone looking at that going I
couldn't do it does this is this is
literally examples from AWS web pages
kind of level I know this because I
don't do this for a living and this was
an afternoon project so if I can do it
you lot would probably far exceed what I
can do and that's it that lambda handler
there is all that lambda needs most of
that is actually dodgy comments and
print statements i did a try-catch block
because i thought you might like care
about those kind of things and I've
heard that developers do that and that's
it we make a call to an API with some
dates we get some data back job done
you've just taken a tool that previously
you had no visibility and no logging on
and you've pulled the logs and you've
put them somewhere safe you put them
into s3 as hot storage so you can just
pull them very quickly and then you can
auto generate into a glacier for that
which is their long-term cold storage
fantastic there are people in your
organized
nation who do not know that you can do
this who would have kittens of joy that
you can there are audit people and
compliance people who are terrified of
these kind of tools because they cannot
see them and we did it in you know a few
lines of really awful Python so see this
as an opportunity something you can do
for your team that will help now you can
do this for github they have really good
api's it's verbose if you start wading
through the logs and api's and get herb
land there are dragons in there you will
lose time find a friendly github
developer I highly recommend that but go
and do it I want you to know for every
tool every hosted service you're using
where you can find that information and
how you can pull it together because
it's better to see the stuff coming than
it is to be surprised by it later now
that's great we've talked about lambda
and Sumer and that's great fantastic i
will show u dash balls and things
afterwards if you like other ones you
want might want to try and there are two
on the list here elk which is
elasticsearch with cabana which is a
brutally bad user interface but very
powerful free you can there are docket
images for it i recommend elk docker
which is one that's on the list docker
pull darker compose up job done you can
use this to generate lots of alerts lots
of rulesets really really nice and it
process pretty much anything you throw
at it with enough regex seen monster is
like the next generation that's got
underneath the hood it's free again
there's a virtual machine you can
download and run it locally that
automatic comes with nodes you can pass
a syslog and things straight into it and
be a phone running in just a couple of
hours is lots of good tutorials if
you're in that kind of enterprise e
space they do sell product I'm sure of
it there's probably a business model
somewhere but I've only ever used a free
version I've never needed anything else
so we've got some locks hopefully we're
going to spot some things coming
fantastic even Batman has to watch the
skies and do creepy things on mobile
devices but the reality is we've gotta
learn how to respond because whether you
like it or not you are not John McClane
you are not going to suit
superiorly just like barge into an
incident I've got this it's not going to
happen instant response is actually
heavily into my background I used to do
very hardcore instant response in a
basement somewhere the kind of response
you can't do for more than four years of
that really burning act and this is kind
of what it is you move fire into other
piles of fire and hope you survive some
of you won't face with the security
incident will think it's the most
exciting thing ever and you people just
need to sit down and go and let the
grown-ups do their thing the people of
you that will hide in the bathroom
because you don't want to deal with it
that's okay too I've met you I've met
people like you have met grown Marines
who do that there are some of you who
will need human touch that whether you
like it or not we'll get strokey with
arms and that's nothing to do a gender
absolutely nothing it's just because
under stress you react that way instant
response is something you have to
practice and you have to drill because
you are not going to understand your
stress reactions and how you're going to
cope with this until it's too late now I
mentioned Tavis almond the earlier who's
having a bit of a fun time with password
managers this week but previously he's
had fun times with semantic products now
imagine your organization if your floors
were made public this way a tweet
happens I found some stuff in semantics
this is awesome because it's never just
one tweet with service it's a tirade and
sometime in the middle of it also
mentioned there's a critical security
floor in bathroom scales you know this
is a continuous stream of potential
incidents to your organization how many
of you speak to your social media team
and figure out if somebody is doing this
for your firm you really should because
most of us don't look at this as our
source of incidence so what are you
going to do what are you going to do if
you know somebody post it on the Twitter
or they send you an e-mail dear sir I
found a bug in your software and I've
got your database thought we should talk
a little while ago that would have been
an odd thing but now it's actually
pretty common I'm going to point you at
some things I think you should really go
and look at so Scott's already mentioned
earlier today chaos monkey please go
look at that it's fantastic it's not a
security tool particularly but really
really useful I'm going to send you to
an iso standard how many of you are
disappointed in me in this
it's okay it's okay to feel like this is
wrong there's a free iso standard and
it's not long and you really should read
it it's the responsible disclosure of
vulnerability disclosure iso standard
it's probably 12 pages max and it tells
you how to cope when somebody sends you
a problem and says I found bugs into
your software here's how you should deal
with it it's the only iso standard
insecurity that is free of charge and it
is a glorious template for you having a
process for this yourself so please go
read an iso standard and go copy-paste
remit go find hacker one and bugcrowd go
and learn from them as so how the
marketplace works and why you're going
to find vulnerabilities and if you're
not already signed up to them consider
getting someone to sign up for you there
are free versions of these programs we
use them ourselves we find good value we
get a lot of crazies too but you do get
value and the other thing is if you
don't know right now what you would do
if your database was subtly corrupted
over 18 months or you don't have enough
logs to figure out what happened two
weeks ago let alone 18 months ago these
are the things to find out in your
instant response drilling in your
practice and it can be good fun any D&amp;amp;D
geeks from like back in the day like
just imagine this is like full-on
roleplay roll some dice have some fun
with it the more you throw yourself into
this and the more you're prepared to
respond the better you're going to get
at it so let's just bring it back
together for the last five minutes of
the most important bit of this talk only
giving five minutes the most important
message the second you get into security
or start caring about your stuff in that
space your life is about to get really
painful and sad I don't mean to bring
that into your world it's just the way
it is there is an enthusiasm curve that
you go up I'm going to conquer this and
I'm going to save the day and then you
realize everything really is screwed and
that's not dramatic it just is in the
same way that your code is going to
break in 20 different ways before you
get back from the end of this conference
and somebody is going to need you on the
end of a VPN connection it's going to
happen now we are unusual in our company
and in our approach to this but we kind
of we know that this sucks I want you to
embrace it and just get on
know that everyone is sucking at this
that it is hard for everyone and doing
on your own is pointless you need to
talk to other people talk to other
developers about why this sucks and what
worked for you and what didn't open
source your scripts if you write a
strange little parser for a cloud tool
to do some security for you it's
probably useful to other people we are
big proponents in our organization of
blameless pneus there's blameless
culture I publicly I switched a repo
from private to public 18 months ago and
they SS kyun I cause 3400 damage at
thirty thousand four hundred dollars of
damage to my organization by that key
being used to then mine Bitcoin we held
a post-mortem for that we discussed it
did I pull the trigger did I type the
command yeah absolutely but could it
have been anyone else in the
organization yeah absolutely because we
have bad days because we make bad
choices or we miss read something or not
concentrating so all of the good stuff
etsy and and all of those folks are
putting out about blameless cook this
culture bring this to your security
space in security we have a tendency to
fire someone and ask questions later
that's not going to solve it I really
want us to talk more openly about
vulnerability because if we're not
openly talking about it in a blameless
way we'll actually never get more secure
we'll never share our crazy bits of
python that might solve a job that you
have to do we'll never actually look at
our libraries and frameworks and ask
questions because we're silently trying
to fight fires ourselves I want you to
order to accept what you are and what
you build and its glorious wonderful
broken mess that it all is because
that's the fun that's why we do it we
don't do it to be perfect we do it for
the challenge of building things I want
you to protect it I want to protect it
from yourself more than anything I want
you to watch and I want you to come up
with crazy monitoring solutions that use
what you already have because you know
that you know how to use it you can use
it in anger and it fits with your world
already I want you to learn how to
respond and no you're not going to
respond well and that someone somewhere
in your organization is going to shout
and you're going to need to know how
you're going to deal with this so that
you don't end up all over paste bin or
Twitter or the newspaper because we all
want to be employed at the end of this
and then I want you to share everything
you screw up on the way publicly and
humbly and openly because about the only
way we're going to survive this as if we
do it together that is it i am 37
seconds from time so if anyone does have
a question you are more than welcome to
ask i have rare new zealand stickers if
your sticker cornices and and also i'll
be out in the corridor afterwards so
thank you very much for your time was
lovely to see</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>