<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Power BI for the Developer - Peter Myers | Coder Coacher - Coaching Coders</title><meta content="Power BI for the Developer - Peter Myers - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Power BI for the Developer - Peter Myers</b></h2><h5 class="post__date">2017-01-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/04CbNB36HyA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">demonstrations on how this new cloud
service for business intelligence can be
used by developers the integration
embedding extending will cover all the
developer scenarios brief introduction
of myself on the business intelligence
expert I'm also a developer but much
more secondary I work typically in data
warehouse scenarios all that solutions
reporting and with Microsoft's new power
bi service it's just a natural extension
of the corporate and on-premises bi that
I typically work with I come all the way
from Melbourne and in this session I'll
assume that you don't already have a
background in power bi probably some of
you do so we'll give you an overview of
what it is I could spend 60 minutes
alone just describing the the full
capabilities of what this service is
designed to do but really the focus is
on what can be achieved by the developer
so very quickly I'll go from the 10,000
foot view right down to what's relevant
for you to know as a developer alright
well I thought it might be good just to
start with the demo upfront I've already
signed into the power bi site and just
to let you know this is free
most of what I achieve in the session
today could be achieved at no lisense
cost and I'll ensure that you're aware
of what the license models are and what
you do or don't get between the two
either the free power bi license or the
power bi Pro license the stage I've
signed in and I am going to commence by
creating a dashboard and the dashboard
just will be NDC Sydney 2016 and a
dashboard by a definition is simply a
collection of tiles that can expose
different metrics visualizations and
when you think about when you drive a
car I'm pretty much what you see is the
dashboard that provides you key
information you don't want to be
distracted by lots of unnecessary data
what is the fuel level what speed am I
going and at a glance you can gain an
understanding of what's going on all
right so the first thing I'm going to do
is add a tile that will be sourced from
an image and any web image will work
here so
I'm just going to go to Google Images
and do a search on NDC Sydney and I
think I like this one here so I'm just
gonna copy the URL to the JPEG image and
switching back here just paste it in so
this is the approach of adding a tile
that is not based on data there are
seven different ways we can build our
tiles on the dashboard and these
approaches to add images text boxes web
content or video are the non data
related ones I'm just going to resize
this tile like this next thing we're
gonna do and if you attended my machine
learning session this morning I would
have asked you to participate in a
survey and I'm about to ask you as well
let me show you how it's done so I'm
going to enter that
yes I'm male and I'm around this age
group and I am a bi developer and I come
from Victoria and yes I've used power bi
before and upon submitting the survey
result the web application is shooting
off an event to an azure event hub and
pay attention here on the left what was
just added them was a new data set so
when we think about the foundational
objects within power bi on the left hand
side you see three categories of data
sets reports and dashboards the topic of
data sets is quite vast they can come
from a variety of different on-prem
cloud or as was just demonstrated here a
push approach that created a data set
and when I click on the data set by
default it will create a new report and
exposed to me the data set in terms of a
table name survey and a collection of
fields and I'm going to go ahead and add
the submissions field to the report
canvas and you'll notice here it has an
aggregation symbol next to it it's a
numeric field so it supports the
summarization through some min max count
average and the default aggregation here
is some expressed as a chart but I'll
switch the visualization across to a
card so we can see so far one survey has
been submitted
I'd like to visualize the data also by
location so I'll drag location to the
report canvas as a text field by default
it's going to create a table then I'm
gonna switch that across to a map and
say that the location is actually
location data so there's my state of
Victoria showing up and I'll use the
number of submissions to determine the
size of the bubble and I might also come
in here and style this the color could
be improve beyond the default so let's
make that a nice blue to stand out and
there's a report creation from a data
set let me go ahead and save it and this
would be my survey report and once saved
I have the ability then to hover over
the visuals and pin them to a dashboard
so the other approach to adding tiles to
a dashboard can be existing visuals of a
report and I'll pin also the map and
then switching back to my dashboard I
can see the number of submissions and
the location all right so laying out a
dashboard those tiles can come from
existing reports they can come from
other dashboards as I'm now about to
demonstrate so here my setup I'm about
to pin a couple of tiles that are going
to provide you with the URL and if you
can if you have a tablet I would suggest
you use the tablet for reasons that you
will find out later in this this is
completely optional none of the data
that I'm collecting will be stored or
used against you all right so let me
just assemble this dashboard now by
moving these into place and just take a
moment to fill in the questions as
accurately as you care and you'll watch
real-time your results appear in this
dashboard I'm going to talk about how
this actually works under the covers
note that when you've submitted your
survey the Thank You page says please
don't close this page later on I'll get
you to refresh it for another experience
okay so a Queensland up to Queens
ladders more Queenslanders someone's
submitting the same page multiple times
I'm curious we've got Afghanistan II
accountant in the room doing all right
tender
New Zealand I know Europeans in the room
so this is in fact one of two approaches
to produce a real-time dashboard this is
using as your stream analytics under the
covers
so technically there's no code alright
the web app was pushing an event to an
azure service bus and then real-time as
your stream analytics is just pulling
each event off and pushing it straight
through to the data set for real-time
presentation here in a dashboard alright
anyone still submitting all right so
tiles my first was basically a URL non
data related just add an image the next
one was existing visuals from a report I
could pin other tiles from other
dashboards and then I could start to ask
questions of the data so up here is a
feature called QA so it would be what
else would I want to know about you I'm
age it comes back and says well yeah the
sum of age that's not an appropriate
summarization so I say well go and give
me the average age in this room is about
thirty eight point seven three that's
pretty cool let's pin that back to the
dashboard and then we might also ask for
roles by actually role submissions
order by submissions descending so
natural language query and the way it
translates into a query provides us a
visualization upon which we can do
things to like format you know to rather
see that that was that nice blue color
and also from a formatting point of view
let's add some data labels in there and
now that I like the look of that so I
can see 22 developers a couple of BI
developers pinned that back to the
dashboard as well
what else do we have
gender submissions as donor
and there's just the one I think that
was unsure I just want to put the data
label on there so both so I can see one
two one female twenty-six male can pin
this and then it's easy enough to change
in fact let me just show you that now
that they're on the dashboard and I'm
going to clean up by removing these URLs
I can start to lay this out in a way
that makes sense for the finished report
when you click on a tile it'll take you
back to its source in this case clicking
on submissions by gender back to the
question well I can just change this and
say was there any prior use and so I can
see a 50-50 split on those that have
versus those that haven't used power bi
so let's pin that back as well and
ultimately this is the dashboard that we
could continue to monitor real-time all
right so that demonstration gives you a
couple of things the foundation of
fundamentals around dashboards and how
we bring in tiles from different sources
a real time element in there as well but
also it hope to have shown you just how
quickly once your date is in place these
can be laid out and also without
requiring a depth of expertise power bi
is really been designed for a broad
audience not just data professionals but
really pushing out there to the average
Joe that just needs to get data and make
it available and useful for monitoring
so with that theory let's jump into a
quick overview of what power bi is
Microsoft and marketing this is a new
generation of BI when I began my career
working in data warehousing cubes and
reporting we call that enterprise or
corporate bi that still exists this is
not a replacement for that so data
warehousing enterprise solutions
continue but we saw a wave to come in
whereby there was a need to deliver bi
direct to users themselves alright
because corporate being I cannot deliver
100% of a business requirements if it
attempted to do so it would never get
out of the gathering of requirements
phase on the project so ultimately it
has to strike a line in the sand and say
we're going to deliver here now let's
just use the 80/20 rule 80% of the time
corporate bi can deliver the needs of
the business but the other 20% of the
time no so what did Microsoft deliver
several years ago now to enable
self-service bi within the organization
power pivot right and then power query
and Power View and a family of add-ins
inside the familiar tool of excel in
abling the business to produce deploy
maintain secure and report off their own
stores and that's a successful story but
it requires still reasonably deep
oh good knowledge PowerPivot isn't
something that the average user would
just pick up and that's where the third
wave comes in so now is a cloud service
and quite a unique offering in the
market power bi is there to enable
typically any user to be able to connect
to data to lay it out in reports and
express it through dashboard tiles so
enormous challenge is delivering bi at
any of those three levels how do we get
an end and perspective across all of the
data and especially now that data
resides not just on Prem but also in the
cloud multiple data sources data formats
big data services you name it it's all
out there and trying to bring that
together so we have the right data at
the right time to the right people is an
increasing challenge and power bi has
been designed to actually achieve that
through a new cloud-based service key
differentiators up front there are
pre-built content packs so for example
google analytics is one of many
available that I could just go to the
power bi service and I could say get me
some data and then here under services
there's a growing number of services
like you know Dynamics CRM if we're
going to look at Google Analytics I
would just come down here and usually
they're in alphabetical order go and get
data from here and when I click get of
course you need to authenticate so you
would have the details on how to
authenticate to your service what it
would deliver is a Content pack existing
of dashboards reports and within minutes
you can start interacting with your data
all right so I won't demonstrate that
right now but that's the ease-of-use
that this service has been designed to
achieve next real-time dashboards and
I've shown you one of two techniques
that technique was Asia stream analytics
pushing streaming results into power bi
there's the ability also to connect to
live data sources with an on-prem via a
gateway so that could be sequel Oracle
Tara data on Prem via a gateway we could
report and analyze them direct through
the power bi service there's also the
ability to connect to cloud services so
as your sequel database and so on
intuitive data explorations are the
questions that
asked of the dashboard is the feature of
QA responding with visuals that you may
pin back to dashboards integration with
other Microsoft products my last demo
was stream analytics pushing data into
power bi and then lastly fast deployment
hybrid configuration gateways etc this
is a very very brief high-level
discussion so when we talk about data
sources there's a vast array of
different formats on Prem cloud sources
that you can access ultimately they will
arrive in your workspace as a data set
so when we talk of data sets you need
more detail how is that data set
arriving where is the data is it being
pushed is it being pulled through a
refresh process then we lay out through
dashboards and reports there's a whole
story then on sharing and collaboration
so we can share within the organization
through various techniques there's also
mobile delivery on top of this when it
comes to producing rich modeling and
reporting there's the power bi desktop
as a free download and companion
application to the service it's designed
to let you retrieve data results relate
them and rich them with calculations
express them through reports and as a
single file you'll publish it to the
service that will deliver a data set and
reports and then you may pin the visuals
to express them as dashboard tiles to
keep the data current either work direct
with cloud services or install a gateway
and enable a refresh to take place on a
periodic basis lastly to complete the
picture there's a REST API that allows
developers to interact to push data to
manipulate data set definitions and also
to embed reports and dashboards tiles
into your own applications are there any
questions about what power bi is at this
stage so half of you had confessed that
you hadn't used it before any questions
at this stage
well talking about licensing yes
everything that I've done so far
actually no I I lie because the stream
analytics actually no you could do that
for free everything I've done so far you
can achieve with no cost so two licenses
the power bi license which provides free
capabilities or the power bi Pro which
comes in at ten dollars US per user per
month be aware that if you sign up for
power bi you can also ask for a 60 day
free trial of the pro features all right
at that point after 60 days they will
take it off you and if you need it you
will need to start paying at the end of
the session I'll actually provide you a
list of what you can or can't do with
the license models that are relevant to
the topic an additional question not
that I'm aware of I know that I have
customers in the education space and
they get discounts so that's a
conversation we'll have with your
account manager and volume counts all
right
so if I was to talk about power bi and
all of the capabilities and this time
grouping them by role within the
organization we would see there's
different features that would appeal to
different groups of users we're really
here to focus on the last group and that
is for developers how can you express
data as real time through dashboard
updates how can you integrate power bi
into applications and how could you
extend the 24 visuals that are already
available with your own custom visuals
all right so power bi for developers
let's start with the discussion of what
you can do so I would suggest there are
four very exciting opportunities to
allow you to integrate embed and extend
to the power bi experience the first
topic we'll cover is the REST API
integration with Azure services we'll
talk in a little detail I'll go through
custom visuals and what you can achieve
and then finally and the newest offering
is a new Azure service power bi embedded
only recently released out of preview
enabling you as application developers
to integrate reporting into the
application experience directly and I'll
demo this one at the end of this session
so with a focus then on the power bi
REST API there's various things you can
achieve with
API the first is that you can push data
directly into an app from an app into
the power bi data set so essentially
that's what the stream analytics is
doing under the cover every stream
analytic query is actually pushing rows
into the data set using the exact API
that you can use as a developer you can
also integrate reports into an
application the dashboard tiles that
I've added to a dashboard may also be
integrated into an app when you push
data using the API the results will
deliver real-time updates as you've
already witnessed so no more waiting no
need to press f5
can you imagine perhaps in your server
room you have a monitor with an
unattended dashboard just updating as
and when the data is being pushed to it
all right so a little background about
the object model hierarchy when you sign
up for power bi it actually is an office
365 tenant under the covers so there may
already be one there in fact the very
first user within your org that signs up
for power bi if there isn't already a
power bi established it will be created
automatically and then as other users
within the domain sign up as well you're
basically working within the same
environment it enables you to share
amongst other users within the
organization but each individual user
gets a private or a personal workspace
and we see evidence of this here that
when I return to my workspace what you
see in the navigation pane on the left
is my personal workspace as a pro
feature for example you can create
groups and a group is a workspace that's
owned by nobody except a membership and
that membership can come and go and so
if you do need to collaborate and work
collectively on datasets reports and
dashboards please do not create them in
your personal workspace because you
cannot at this stage move them to
another workspace but that real-time
dashboard if I needed others to manage
it or perhaps when I leave the
organization other people need to take
ownership and manage it then it should
have been created in a group this is a
pro feature within the workspace then
whether it's a personal workspace or a
group work
space structurally they're identical you
have a collection of data sets data sets
have collections of tables and tables
have collections of fields and within
these we have rows of data in order to
work with the REST API you need to
register an application and then you
will grant it privileges and then that
application or a client ID would be used
to authenticate all calls that are made
when using the REST API so in this demo
I am going to sign out sign back into
power bi by using another account I just
don't want to create an app on my
personal account
so I've just signed into not quiet yes
I've just signed in by using another
tenant and I have full admin rights on
this tenant will see that it has new
data within its workspace and then what
I'm going to do is navigate to the power
bi app registration tool so this is a
requirement you do need a client ID I'm
going to sign in with my existing
account let's just see it's not confused
which account I'm using that's unclear
to me yeah so you want to make
absolutely sure because I've messed up
my own account by creating too many apps
in it so it's this one here so it's a
fairly straightforward process the
decisions you need to make will be or
what is the name for this power bi MDC
Sydney demo sounds pretty good to me is
it a web app or is it a client app a
redirect URI is required for the
authentication process so what I'm going
to do is demo number one I have some
snippets here and I'm just going to use
this redirect URI and then I need to
grant privileges for that app so can it
read the data sets can it read or write
to the data sets well that's required
for pushing I'm in preview we have the
ability to read dashboards and reports
that would allow you to enumerate the
items and to obtain the gooood that
uniquely identifies it if you're going
to embed reports or dashboards tiles in
apps this is the programmatic way that
you may explore and retrieve the goods
that you'll need to use the ability to
read groups allows you then to enumerate
through groups and the workspace objects
within those groups and so I'm going to
grant all privileges and simply register
the app and that will provide me with
this view it
alright so the next thing will be I am
going to run this Explorer application
so I built this really just to demo how
the API works you wouldn't build an app
that does what I'm about to show I'm
gonna open up and just put a breakpoint
in fact I'll enable the breakpoints that
already have and I'm gonna step through
just a little bit of code and that will
be how the token is retrieved and
essentially what the app will do is once
there authenticates its going to store a
token in a variable and then every
request we make is going to have to add
that as a token to the header of the
request alright so the way that it works
is this I'm going to run the app and
ordinarily you would not have options
like this but it wants to know your
client ID and they would be stored in a
config file and also the redirect URI
the other URI is a fixed basically the
endpoint for the power bi service itself
so now that I've satisfied that
requirement the application needs to
authenticate and here it is stepping
through my method to get an access token
so providing that a token hasn't already
been retrieved it just runs through
these steps which then launches an
interface like this so I was admin at
online labs 12.1 Microsoft
and it just says to me well it's got
these permissions do you accept this and
now that I have it should issue a token
which is encased in a variable with the
application all right so I'm not going
to go through any more stepping through
code so let's disable all breakpoints
and continue on so we can see in the
console here and perhaps it's not so
clear with the size of screen in this
room but it provides me some feedback to
say yep I got an access token it's now
been a cached and it's available for
reuse and what it shows me here in the
Explorer pane is that I have a user
workspace we have collections of data
sets and dashboards so if I right click
and say well go and get the data sets
what it's calling is a method here with
the get request basically saying
enumerate data sets of which there are
presently none and that could be
confirmed easily by the fact that when I
look at my workspace I have nothing here
at this stage so what I'm going to
demonstrate is the creation of a data
set all right click create data set and
this experience that I built would allow
me to enter a JSON document that
describes a data set in terms of the
tables and columns and column types so
I'm just going to paste in this JSON
here
all right so the data set has a name
ecommerce operations it has a collection
of tables of which there is one the
table name is product browsing it has a
collection of columns and you can see
the columns in terms of their names and
their data type so this one's very
simple product product category and
country now when creating a data set the
other consideration is the default
retention policy which by noun says
you'll just keep filling it until you
reach the maximum which is 5 million
rows and then you would need to
explicitly clear it perhaps more
interesting is the basic FIFO that says
to an accumulation of 200 thousand rows
it'll just keep rolling over so when the
200 thousand and one row is added the
very first row will be dropped off and
you'll always have 200 rows moving
forward so let me choose that option and
then by clicking ok and watch here on
the left-hand side when it pushes
through that request it'll respond
instantly in my workspace with the
e-commerce operations right here and
upon selection as you learned earlier
when I select a data set the default
behavior is to create a new report based
on the data set and here we see evidence
of the data set through the collection
of fields of course at this stage
there's no data but let me just drag
product out and the default behavior for
a string field is it's going to create a
table of which you can just see the
column header but of course no data but
what I'll do is switch this across to
the card and then you'll see here that
the default aggregation that it can only
use for text is to either count it or
count distinct text values all right so
we have nothing and then I'm going to
save the report I'll call this product
browsing and then I'm going to pin it to
a dashboard well a dashboard doesn't
exist yet but that's cool because I can
create a new dashboard at the same time
product browsing
and there we have the dashboard with
nothing ok well let's fix that now that
I have a tables collection there is an
API method to enumerate all tables so
the get tables tells me there's a table
called product browsing when I hover
over it
you'll see the table is just described
in terms of a name whereas a data set is
described in terms of a gooood and a
name by right-clicking the table what I
can do is update the schema I can't
think of a lot of use cases for this but
if you do need to add a new column you
can push through a JSON document that
describes the new structure of the table
we can clear all rows that could be
handy or when we push data the
application is using the same method
which is just add row to table I've got
a method that allows me to copy a valid
JSON document like this so a collection
of rows of which I have just the one and
so watch this when I push this you'll
see the dashboard tile update
immediately so it's pretty
straightforward stuff create tables push
rows in the other method is just
automating the push to show you what an
event stream could look like so it just
so happens I have a stored procedure
that has exactly those three columns
that will be returned in a result set
and I'm just going to push 10 rows and
delay a second
just to sort of simulate you know a real
workload
and at this point we have a data set
within the workspace and we could start
asking questions like what is it
category it shows me two categories and
count of products there we go that's
what I want to see let's pin that and
that too is updating real time and
that's pretty much all there is to
producing real-time dashboards and the
consideration is of course we need
real-time data but it could also be a
scenario that despite power bi is quite
large range of data sources that it can
access there might be data sources that
are not supported so what that leaves
you is the option to push data rather
than it pull data any questions about
the REST API and pushing data it's
something that I've written so the
question is yeah where did it come from
so Microsoft engaged me to produce the
educational or technical educational
content for power bi and that's one of
the ten labs that I built for them in
fact building this out as a one day
course for developers actually that's
not official at this stage but I've been
asked to put together a one day program
and that will be content that would be
available for download through github as
part of that content question
no absolutely not the API only works
with the service it's pushing to a data
set within a workspace and that's all
cloud-based correct so my customers
would need to know that that data is
going to be in the cloud you do have a
say in the data center so here in
Australia we could be assured that it
will be an Australian data center that
would host that but it is cloud stored
now if it needed to remain on Prem your
app could just push to a sequel database
and there is the ability through Power
bi through gateways to provide real time
connections that won't give you a
real-time update in the dashboard the
dashboard tiles that are based on a data
set that uses an on-prem sequel will
refresh approximately every 15 minutes
all right so it's not real-time I know
so there's no refresh call what you can
do is schedule refresh so it depends
we've got two different approaches for
certain data sources and let's talk
about sequel server on pram there's what
we call Direct Connect that says it's
not actually caching data periodically
it just queries or according to
interactivity in a report their live
queries as I filter on Australia a live
query is sent via the Gateway pushes the
data back but for dashboard tiles they
would update approximately every 15
minutes okay
you could not force that refresh if it's
using a cased approach whereby you want
it to pull the data from on Prem and
Kashyap within the service you could
also do that with sequel server via the
Gateway and at best you could refresh
that eight times a day on the pro
license or once a day on the free
license so it just depends on your
requirements and your licensing all
right but the benefit here and the story
for developers is you can push as and
when you're ready and that's the control
of your application another question in
the back of the room
so roll that systems are you talking
about analysis services cubes enroll app
so also the same story with sequel
server is the on pram analysis services
can be delivered via a gateway and that
could be a pull situation where it's
cached in the cloud but far better when
you have large sets of data which
typically a rollup cube would be that
you have a direct connect scenario and
as in when a user interacts with reports
it just queries analysis services on
Prem live and if their dashboard tiles
they'll approximately update every 15
minutes you will need to you will need
to make this work by installing a
gateway on-premises and then allowing
users permission to work with that
gateway all right so it's a little out
of scope from what we're talking here
come see me offline and I can give you
some more detail about it but it's a
fairly straightforward scenario for
power bi in a hybrid configuration of
on-prem data available through the
service itself one more question before
I move on
yes so from a point of view of sharing
so what you said isn't necessarily true
what I've just achieved that API call
there I could do for free 10,000 rows an
hour for free Microsoft will give every
user which i think is pretty generous
all right when it comes to sharing that
there are techniques like sharing
dashboards and that's it for free if
there are pro license there's all
content packs that allow them publish
content within the org there's also the
ability for them to use groups which is
a pro feature another feature I'll talk
about is embedding so there's an embed
of reports that is available to the
public and I'll demonstrate that one
shortly so the story of sharing is is
quite complex because there's a very
there's different techniques at suit
different scenarios so let's just leave
the message that yes generally speaking
you can share this easily within the org
and possibly outside the org all right I
won't go through the flow of
communication that takes place for
authentication it's all documented but
depending on whether it's a client app
or a web app there's going to be
different flows you just need to program
accordingly and there are github
projects that you can then kickstart
their own development when it comes to
all the methods I've talked about most
of them list datasets create data set
lists tables update schema of table push
motive table clear all rows in a table
did I show you that one probably not
well that's pretty straightforward
right click clear all rows so if you met
that five million total if you weren't
using the basic FIFO mode you might
periodically need to clear out maybe
every 24 hours you'd have a job that
just says clear alright what else you
can do is you can list groups and then
you can enumerate objects within a group
that you have ownership of listing
dashboards tiles and reports allows you
to retrieve goods that you may then use
an embedding scenario so I won't
demonstrate this but if that dashboard
tile needs to be in your web app as well
you can do this you'll need to
authenticate get a token then call via
the good to embed that tile there are
some new other ones in preview that
allow you uploading a power bi desktop
file programmatically to create a data
set and report
there's also the ability to change
connections during details to point to
different databases using different
credentials and there's a new one in
preview I just noticed this week
creating a data set and a very rich
definition multiple tables relationships
so what you can achieve through the
power bi desktop file creating a rich
model can now be done programmatically
in preview so it shows you the direction
this is heading you can bring in
multiple tables or a late than add
calculation logic as well and push this
programmatically to the service so stay
tuned on that what happens under the
covers listing data sets essentially
here is a get request having
authenticated your token will be added
to the header and then the response will
come back looking something like this in
JSON and then you just do something with
it when it comes to adding a row to a
table you will need to retrieve the
gooood for your data set and then you
can see tables and then the name of your
table and then push to the rows and
essentially you have a valid JSON
document that one or more rows would be
inserted into that table all right that
was my demonstration on a real-time
dashboard with the power bi REST API be
aware that there are some restrictions
so the maximum number of rows in a
single push would be 10,000 so a single
JSON document comma separate up to
10,000 when it comes to ingestion for
the power bi license that is free you're
given 10,000 rows an hour if you're on
the Pro Licence it'll support up to a
million rows an hour in a push
maximum rows per table five million
unless you're in the basic FIFO that is
200 thousand rows and rolling forward
and the maximum pending requests will be
five so they're queuing up it'll error
if it has more than five in queue I've
not encountered that error yet moving
into stories with the Azure ecosystem so
you'll see a growing story coming from
Microsoft in fact Cortana intelligence
suite puts power bi as the presentation
layer on top you know it's a service
pass event Hobbs data warehouse leaks
big data it's all coming together what
we could describe is that you can
connect
to ashes sequel database as your sequel
data warehouse and to HD insight spark
and you can build reports and dashboards
direct off these and they won't be real
time but they will update the haps every
15 minutes automatically without you
needing to do anything the story with
stream analytics is my opening
demonstration and so this allows you
then to ingest from an enormous number
of sources of which I've used events on
a service bus event hub and then the
stream analytics is just running a
stream analytics query and it has many
places that it can output the result two
of which power bi is just one of them
all right there is a restriction here
and it says that your Azure subscription
must be in the same org as the power bi
and that's why I'm switching accounts
here I have to use my company's
subscription to push to my personal
power bi account what I'll show you in
demo here then is using the old portal
here I have a stream analytics job
running and I can show you that it's
input is bringing in from an event hub
which we can see here and it's
outputting to power bi now when I
created the output here it asks me to
authenticate and I put my power bi
credentials in there and they are stored
every 90 days I would need to come back
and redo that because the token has a 90
day lifetime what goes on in the middle
is the query itself and if you're
familiar with T sequel the stream
analytics language is near-identical
and essentially what it's doing is just
selecting the field names so what's been
pushed to the event hub is just a JSON
document
you know role is bi developer ages blah
and here it is disk whirring from the
input that is reading from the event hub
and here it is pushing to the output
that is the power bi output this is not
a good example of stream analytics what
should be here is a group by and in that
group by should be a function like
tumbling window so a tumbling window of
five seconds for example we'd say all of
the events coming in so
all of my devices and sensors collecting
temperature and it could ingest millions
of events a second that's if you want to
scale as you to do this what this query
would do every 10 seconds or five
seconds is just aggregate across and
produce me the average temperature per
device and push it out to power bi every
five seconds and then you could have a
real-time representation so it really
does belong to an IOT story there is no
group by here basically every input
coming from you guys when you submitted
your survey resulted in a row being
pushed through the reason I did this in
demo it's just easier than building
authentication logic with the REST API
into a web app all right if I could just
get an event hub or an event written to
an event hub then this is just easy to
do that is the demonstration on using
Azure stream analytics next story moving
to the extension of the current 24
visuals that you already have so
Microsoft rewrote their reporting engine
and we had Power View in the in the
prior release does anyone know why
Microsoft are no longer developing Power
View even more if you go to office 2016
in Excel it's sort of hidden from you
it's available but you need to customize
the ribbon to bring back the
functionality to insert a Power View
sheet why a Microsoft sort of hiding
away from this what technology is how
are you using hmm so with silver like
working Chrome Safari Firefox know so
when it came to wide adoption of their
self-service bi tool it would only work
in Internet Explorer so a complete
rewrite of the reporting engine and of
html5 basically working in any modern
browser now the next thing they did
having developed 24 new stylish visuals
they then put them on github insert our
source codes available for you guys to
understand and you may extend by adding
your own custom visuals so learn from
what we've done and build what suits
your direct purpose if you feel generous
share it with others there's a public
gallery or keep it in-house and use them
for your own reports and dashboards
so when you visit the visuals gallery
you'll see a growing number of some cool
and some crazy custom visuals let's take
a look
all right so here they all are and
basically I'd recommend you just
download and try so I'm gonna use the
crazy one enlighten aquarium and it's
just a matter of agreeing to terms
essentially saying that Microsoft have
no responsibility whatsoever for what
might happen if you use their visual and
I've already downloaded it in case the
internet went crazy on me so I won't
download it again there's two approaches
in power bi desktop I could add it there
or I could in the service itself so let
me sign out of here sign back in
let's return to your survey results and
I'd like to you know see a more
interesting visualization of the
different roles that I have in this room
so you know return to the report which
by default is in read mode I'm gonna
switch to edit mode and you'll see a dot
dot dot here allowing me to import a
custom visual file whether I downloaded
it or developed it in-house so let's
bring the aquarium in and as simple as
that I can just click it adds it into my
report and let's show the aquarium in
terms of the roles that you told me
about yourself and the number of
submissions would give me the fish size
all right so I guess if you work in an
aquarium business or a fish and chip
shop this is gonna be fantastic so we'll
go ahead and save it and we can pin this
also to our real-time dashboard so now
we have this ok how cool is that all
right so it's really now up to your
creativity to start expressing your data
I should point out also that they're
completely interactive so for example
back here if I say well there is your
3838 software developers if I click on
it you know I can then cross filter and
see the countries from which you come
from all right so we've got someone from
here by the way did you notice the
gender had a third choice let's put a
page filter on here if I filter out
those that I only want to see female and
male yeah that cleanse the data do you
know that we do that deliberately in
statistics we put questions that we know
that if someone answered them and no
disrespect if you don't know your gender
but if you choose that there's a high
likelihood that your other responses are
not good either so here by filtering
them out I get some sensible responses
is that right so for whoever created all
those locations I know your trick
what do we got this 28 unsure it doesn't
lie it might be a little bit out of date
and I might need to refresh it but
that's definitely the current data
that's within the data set already
that's the story of custom visuals go
ahead download the github project learn
from what Microsoft have done to produce
their own visuals and extend with your
own creative insights I've never
developed one what is the 3d what is it
d3 thank you I've never developed one
but yes that's what they're developed in
other story this really isn't a Deb
story but for completeness I want to
include it there's the ability to take
reports and publish them to the web this
is not a Deb story because as I'll show
you there's no code and anybody could do
this so if I go ahead and just save this
report I can produce an embed code as
simple as this but you need to be aware
that this is available to anyone on the
internet and you'd want to be very very
careful with the data that you publish
right so it creates this embed code
let's increase the size I'm just going
to copy this and if I switch across to
the Thank You page what I'm going to do
is paste that embed code if you would
like to in just a moment just let that
publish if you go ahead and reload that
last page of the survey so still wait
for it to publish you'll see how simple
it is to embed that report this we much
more effective if you're on a tablet or
a desktop and that's completely
interactive within your device you'll
note that there's a little maximize icon
that will fill the screen I don't know
how it works on a phone but how simple
is this to start sharing your reports
and data and this is available in all
licenses of power bi I think that's
incredibly generous of Microsoft if
you've got data you'd like to share on
your blog it's just a matter of pasting
this framing okay so not strictly a dev
topic but I thought it might appeal to
you that's published to where we come to
the last topic I'm just going to focus
on time do I really only have eight
minutes
the news service that allows us to embed
power bi for application purposes it's a
distinctly different role for power bi
here everything that I've described so
far is talking about individual
workspace or a group workspace for
collaboration within the org but now
we've got the concept that you can
create a workspace that's dedicated for
the purpose of an application your app
needs rich reporting interactive
reporting driven from your data rather
than develop you know reports by code or
wherever we can now just embed reports
direct from the service all right so I
think what I want to do is just say sure
high-level we can create reports we can
embed them into apps and deploy them
with ease and there's some key
attributes but I just want to get
straight into the demo because time is
against me what I'm gonna do is switch
to a power bi desktop file here this is
on the desktop the power bi desktop is
developed a model consisting of three
tables product sales state and it's
expressed it through a couple of pages
so a report can be one or more pages
this is presenting data so when I filter
here by calendar year 2015 or 2016 this
is hitting an azure sequel database all
right so it's using a technique called
direct query now my intention is to just
go ahead and save this close the power
bi desktop file and now as a developer
I'm gonna switch to the new azure portal
and I'll just show you that the database
that it's using is tailspin toys us an
azure sequel database and I'm gonna
provision a power bi workspace oops my
current in DC Sydney resource group I'm
going to add power bi so as a new
service it just went live weeks ago I'm
gonna create this
and essentially it's a collection of
workspaces so I've talked about
workspaces that are individual
workspaces here is an application owned
collection of workspaces create and as a
collection you can create as many
workspaces as you need typically I would
guess one per application or you might
use different security boundaries or
driven by customers and partition
depending on the customers and users
that you have alright is that creating
deploying while it's doing that I'm
gonna switch across and open up a github
alright so everything you need to get
started is available to you here let me
show you how it works let me copy this
and then
clonus
what you'll find is you end up with a
couple of projects here so this is where
it comes to you need an app to embed
into there we go
and you need to work with the REST API
because you need to upload that power bi
desktop file you need to update the
credentials because stored credentials
will not flow you need to reapply them
and so what we're going to do is first
of all run the provision sample so this
is just a utility that is using the REST
API so it's no different in a sense to
the workspaces within your or gets just
a workspace hosted within Asia and what
it says to me here is that I've got
various options and I know that's small
for you guys to read option 5 allows me
to create a new workspace so what I need
to do is switch back here and see that
that was provisioned and now that it's
been provisioned I need to come back to
my resource group or refresh and how I
have a workspace collection the blade
for it tells me that I currently have no
workspaces and there's no ability
through the portal at this stage anyway
to create a workspace so what I do need
to do is to get the access key for the
collection and then come back here and
use option 5 what is the workspace
collection name NDC Sydney what is the
access key
and using the API it creates a workspace
and a workspace is identified through a
gooood you can see that returned here I
wish there was a refresh command here
but there isn't but when i refresh we'll
see the blade tells me that I have a new
workspace and within that workspace I
can have datasets reports etc and there
it is and identified through this grid
here
number six says what is the name of your
data set let's call it sales analysis
what is the file path to it and this is
going to use the upload method to push
this power bi desktop file
that's available as a method also free
to use on your own workspaces I'd like
to push the power bi desktop file up so
it's now stored in a workspace in Asia
the last thing then is to update the
connection string so the username I know
will be Peter and I'll apply the
password I don't need to provide a
connection string because it hasn't
changed and now the API is updating the
connection details so it is now pointing
at the azure sequel database that is all
now done so the second project within
that solution is an embed app so let's
switch this across to the startup come
to the web config and I need to fill in
some values so what is the access key
that was that
workspace' collection was NDC Sydney and
the workspace ID was this one here and
that is all that needs to know how to
embed so I'll run the app it looks like
a real app but really isn't
you'll see so we'll assume that your
user has logged in and so the other
things that I won't share with you here
because I don't have time is that you
can control through access tokens what
users have rights to what reports you
can also apply custom filters that this
is a user from Australia therefore
filter the reports by Australia so we'll
assume that Emily has signed in and when
she comes to the reports we see that
that data set uploaded name sales
analysis is here and when we click on it
there's the embedded interactive report
running against live data in Azure
sequel alright so you got the full
functionality of what you can achieve
with power bi desktop and then the
interaction with this is live data
key attributes easily author interactive
compelling reporting using the power bi
desktop application choose modern
visuals out-of-the-box or the custom
visuals that you develop will work here
also easily embed interactive visuals
and use the REST API ensure consistent
high fatality data experiences on any
device so tablet phone desktop browser
user existing authentication and
authorization methods within your app
itself
alright speed up time to value without
redesigning your existing app to start
embedding new visuals based on the data
that the app is using and then from a
payment point of view this gets quite
interesting so originally they had said
you will pay per render which is a
little interesting because the renders
here would mean that when I filter by
2016 there's one two three four five six
seven there's seven renders within one
filter change and then when I say well
what's going on in California and I
click California California it's cross
filtering to the others so very quickly
these renders build up and so I'm based
on feedback in preview they've said all
right we're gonna charge you five cents
per session all right and a session is
typically an hour after an hour the
session drops so I'm thinking that's
reasonably cost-effective hey five cents
per session per user and that's the new
pricing model that will commence from
1st of September alright so just the
basics you provision a power bi
workspace collection you may have had as
many workspaces as you like you may push
power bi desktop files as data sets up
there and then you may embed them into
your applications okay so that's the
pricing discussion that I just gave you
oh you will get a hundred sessions free
per month but then every other session
will be five cents us and the session
ends when either the user closes the
report or one hour after the session was
initiated which ever comes first
all right I am just over time so I'm
going to quickly wrap up with a summary
and then I'll welcome any questions
offline but I'll need to let the next
presenter set up I gave you an overview
of power bi it is an evolving story from
Microsoft delivering a service in the
cloud
deliver bi to a wide audience pros
analysts general users the two licenses
free versus the pro let's just take a
quick look at this matrix so data
capacity is the big one 10 gigs if
you're going to pay one gig of your free
when it comes to refresh hourly max
eight times a day versus once a day of
its free from a streaming point of view
when we push with the API up to a
million rows an hour versus 10,000 rows
the other things that stand out publish
to web is available for free I think
that's really really quite generous
developer opportunities let's finish on
this note well develop what you need
with the service use the REST API to
create manipulate data sets push data to
deliver real-time results in dashboard
tiles but also to integrate those
reports and dashboards Isles into apps
as well integrate power bi with Azure
data services the big compelling story
is stream analytics you can also use
machine learning functionality with
stream analytics to pass prediction
results also to power the I extend
beyond the built-in visuals by
customizing and adding them to your own
solutions and then finally the new
service that's designed to embed power
bi functionality for applications not
for individuals or groups all right lots
of resources the blog is a great place
to stay up to date and believe me it is
changing at a rapid rate the service has
weekly updates and power bi desktop gets
monthly updates there's a developer
Center specifically for power bi and the
growing story is such that Microsoft now
want a full day content with a developer
audience to teach them the skills
required to leverage all that I've just
described that pretty much is the note
that I'd like to finish on and to
encourage you that if you haven't done
so already sign up for power bi it's
free and on that note I will thank you
for your time attendance and interest
and are welcome questions offline thank
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>