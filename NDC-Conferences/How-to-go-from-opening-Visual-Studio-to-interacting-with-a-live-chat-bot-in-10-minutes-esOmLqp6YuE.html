<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to go from opening Visual Studio to interacting with a live chat bot in 10 minutes | Coder Coacher - Coaching Coders</title><meta content="How to go from opening Visual Studio to interacting with a live chat bot in 10 minutes - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>How to go from opening Visual Studio to interacting with a live chat bot in 10 minutes</b></h2><h5 class="post__date">2017-03-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/esOmLqp6YuE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay I'll get sides hi everyone
Christian and
from my talk what I'm going to do is
build a chat bot live on stage for the
sole purpose of just showing up in the
chat bots are actually just web api
isn't actually really simple so what
kind of chat bot am I going to build
this one is going to be really simple
it's going to be I'm allowed to find out
about the agenda of what's going on in
the conference for the next couple of
days and here's just some of the
technologies that we'll be using
so I'm screaming writing some C shop
code using the Microsoft bot framework
and the bot framework is going to manage
all the conversations and replying to
the users and stuff like that I'll be
using what a Microsoft cognitive
services Louis to do all my natural
language processing and it'll be
deployed to Azure and then I'll chat
with it in Skype so not to waste any
more time I'll just get straight into a
code so I've just got a template that is
available on the on the bot framework
website and this just it's basically
just in a regular web API project with
some NuGet packages added in as well and
I've also added in as my data store I'm
kind of simulating an API call with just
some JSON yeah
so certainly me is a class to cluster
model error agenda I'm just going to
call this agenda talk I'm going to use a
bunch of templates just to speed things
up so yeah so there's our ceragem to
talk everything in the bot framework has
to be serializable so every time you
make a request to and from the bot
framework everything gets sent back to
Microsoft after Microsoft and then back
to you so here's our model and then we
need some way of searching this model
and this one is one big template because
all it actually is is just some link
that looks through looks of that JSON
file for things like what talk is on
next for talk is on next and so already
go into this this or much and from here
the main the main thing with the bot is
conversations are built on dialogues as
it will just create a class for that
this also needs to be serializable and
we're going to inherit from Lewis
dialogues because that allows us to get
all of their the NLP stuff for free and
I'm actually just going to new up my
agenda search service because there's a
bug in the bot framework because it's
quite new and the dependency injection
stuff hasn't been quite fixed yet and
the fit the first first interaction
we're going to have with our bot is when
it doesn't understand what you say so
responding to users input is just the
case of taking this context object and
sending a message back to them and these
are just strings because it's just text
so if we don't understand what someone
said to the bot we're gonna which can
say I'm sorry I don't understand ask me
I should say when is and then we we have
a we have a call here just to tell a
robot to wait for the users next message
that's more functionality these are
actually just a bunch of helper methods
to we're going to be doing the same sort
of thing over and over so someone asked
the question we're going to get the talk
and send them all back so we're just
encapsulating all that all those methods
together so in here we're just searching
through talks and if we get some forming
our response and in this case we do it
in the in the form of a thumbnail cart
that allows us to put all put all the
similar data for a talk together and it
displays nice and different channels
sort of like in facebook Messenger or
Skype I feel so differently so
oh sorry say what again these methods
are actually quite similar to the nun
the nun methods that we've got above but
it handles talks are happening now and
talks are happening next so we just
again interrogating our service and then
passing passing and reply back to the
user and waiting for another message
it's just in a just an event loop and
then we could do things are slightly
more interesting so we can get talks by
the speaker name or by the talk name and
Louis provides a slight ability to
extract entities that we've tagged that
I'll show a bit later and we can use
that just directly in our bot code we if
you've given us a speaker name we can
just use it then to search for something
and I'll show kind of a bit more how
that works in a bit and the last thing
is that we can get folks at specific
time and again Louis provides the
natural language processing for for time
and being able to convert that to actual
date time object for us so that the say
there's a lot of so boilerplate code or
NLP cell code that we have to write and
this is our dialogue but how do we hook
hook everything up or a HTTP request
turns up how do we have you pass it on
to our dialogue and it's actually so
pretty simple busy there's a controller
that's already provided to but sorry but
I'm just going to add a constructor and
this is just a factory method for making
my dialogues and the factory method is
just going to create a new a new agenda
dialogue every time I'm going to replace
all of this code with this one line that
says when the when the activity comes in
use my factory to create a dialogue and
send the activity to the dialogue and
that's all it's doing and then my
dialogue will handle the rest of the
code the rest of the interaction of the
user and the last thing is all the
dependency injection stuff so this is
just really just all web api and auto
back stuff is apart from this line here
it doesn't really have anything to do
with the box finger at all so I guess
that the point is is all this stuff is
actually just Web API Coby but you're
the way you're sending responses back is
slightly different and then from here I
would just literally right-click and
publish to as you--as I've already
actually done it's over I wasn't sure
how you good the Wi-Fi was going to be
so onto the habit deployed already but
before that I want to show you guys how
you how Lewis works so you would you go
to Lewis a I create a new create create
a new app and then you can say my intent
for what son now is going to be called
now and you say what's our name and we
just had a few more because the idea is
is with the natural language processing
you give it a few cases and then it can
start being a bit more clever for you
and a similar thing for getting speakers
ah sorry there's something I'm missing
for that we actually won an entity so
great speaker name and then we'd add a
of what we just saw we go by
and we could just we could just select
this and say it's an MC and submit that
and we do that over and over and it kind
of once we've got a few use cases Luis
will start understanding what have the
patterns of these sentences work and it
will start actively extracting those
things for us so we don't have to trade
it on every possible way of saying like
what time is this person speaking or
something like that I'm from there we
can just go to the bot framework website
just basically fill in their form to
register a bot we give it a as I said
it's just a Web API endpoint so we just
give it the endpoint of that of where a
bot is deployed and wit and we're good
to go we didn't I've actually already
done that and you can from there you can
just hook it up to all these other
channels and I've already put my bot up
to Skype so I'll just give it a show a
quick demo so it actually does work the
agenda is a little bit old because when
I extracted all the stuff there there
was some stuff still missing but
hopefully this works yeah there you go
I'm gonna try one more
yeah as you can see the
it's kind of the same all time because
we wrote those I wrote those helper
methods to to make it really easy for us
to just keep giving the same 8 foot and
that's essentially gets us but I guess
the the takeaway is is right in chat box
is virtually no difference to just write
in web api and getting off the ground is
really easy with the bot framework and
Louis and or the lot of the other
cognitive services the Microsoft we're
providing so yeah if you guys have any
questions about chat pots or getting
start with that coming to me completely
there right thanks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>