<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>JavaScript in 2017: You might (not) need a framework - David Vujic | Coder Coacher - Coaching Coders</title><meta content="JavaScript in 2017: You might (not) need a framework - David Vujic - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>JavaScript in 2017: You might (not) need a framework - David Vujic</b></h2><h5 class="post__date">2017-07-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/dGws1pMWzCI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to the session about javascript
in 2017 my name is David witch and I'm a
developer I work at a Stockholm based
company called the elite and I have
coated a lot of c-sharp but the last
couple of years a lot of JavaScript and
Python okay oh yeah if you have any
feedback or come up with any ideas or
questions or find any bugs in the code
that I will use here you can contact me
on Twitter or mail or we can have a chat
after this session okay so I want to
start off with with this article I read
this about maybe almost a year ago or
like six months ago and it it made me
laugh and I kind of recognized the
issues that this person had maybe you
have read it how many of you have read
this article quite a few okay it's about
a person that is quite frustrated with
them with all these frameworks because
he wants to catch up on what has been
happening with web development the last
couple of years so this is actually a
quote from from the from the article
hewed his friend tells him that come on
it's 2016 nobody used jQuery you should
use this for a framework and stuff like
that and at the time I was also trying
to learn some some new ideas and web
development I was reading and trying to
understand trying to understand react
and I also had that kind of that's why I
kind of recognized the issues this
developer had because because there's so
much stuff to me to download and
understand all these
libraries and frameworks and I'm going
to take one of these frameworks react
and use them as an example in the
beginning because what caught my
attention with react was well when you
read about reacting particularly in the
documentation or in blogs I think you
would often read about something called
the virtual DOM and some strange new
language or syntax called JSX
and that sounded cool to me but what
really got my attention was was what
really made me interested was the idea
of how on how to structure your code
some patterns on how to create your
websites so here's my example website
and its a super example web page I'm
going to use this in my in my code
examples I'm going to fire up this one
in the browser I'm not a designer so
this is just an example so if we look at
the source code of this web page we you
can see the HTML it has some some tags
or sections are a list or an items in
that list okay
so if if we look at this page from a
read from a react perspective we start
to see that this page it kind of is made
up of several different parts like we
have a maybe we'll have a navigation in
the left and in that navigation there's
a there's a list and in that list there
are items so each one of those could be
a separate react component as they call
it and that idea kind of I really like
that idea that idea and try to
understand how to to
achieve that and this is a code example
on how you can write a react component
for one item in that list and when I saw
this the first time I was very confused
because it looked like JavaScript I
guess it was that new new styling script
twenty-something 2017 and it was a mix
of HTML it looks like it's a mix of HTML
and JavaScript lifts it I think it
looked a little bit weird but I was very
interested in so I wanted to dig deeper
and understand how to to achieve this
and what what is me what it really means
and then I found out to be able to run
our web page that looks that where you
have code like this you need to
understand a lot of other things you
need to be able to know how to download
stuff from the Internet
by using NPM and NPM is note I didn't
know very much about know that at that
time I think I've learned I learned a
little bit and I read of something about
web pack was that a part of react or was
it what is web pack was what word where
does it fit in and the code is written
in you can write your code in E is 2017
the kind of newest version of JavaScript
then you need a tool that like Babel so
there was a lot of pieces that that are
included that you need to have to be
able to run a simple web page page space
like this so that was kind of that made
me a little bit worried because all I
wanted to do was to create my simple web
page and I started to feel like like
mark here all I wanted to do was add
just a like a hello world app
I didn't wear a suit though so okay so I
started think is it possible to use the
ideas of react and because that's what
my kind of focus them with the
components without using all those
frameworks and libraries and tools and
stuff so that caught my attention it was
it possible like it should be possible
because it's JavaScript you can do
anything you want with JavaScript so how
hard can it be so I gave it a couple of
late nights and send us a couple of late
nights coding I have a I have two small
kids someone they are asleep then it's
time then I can really spend some time
coding otherwise it's impossible so what
I came up with was code that looks
looked something like this
I think I'm going to fire up this web
browser first just to see so you can see
how it looks like what it looks like
no sorry report like this okay so here's
that example sites but in the browser so
if you click on each link some something
magic happens on the other places of
this page okay and here's my source code
so I have some sort of component here
but I call list item this one also is a
list item and so on and that one lives
in a dither component called the list a
list component and the list component
lives in something called the NAP
component here you get the idea and in
the main window I have something that
I've named the terminal component and
down here we have a log view component
and I'm reusing that terminal component
again to print out some some text here
and I have some click events attached to
it so this was my example I didn't want
to confuse myself raising some fancy CSS
door at the library so if we look at
this list item component code so I try
to code light like they do in react so I
made some sort of a module quote with
with a render function that someone can
call and pass in some some data to it
and what happens to them is that I have
another module that loads a template for
me and kind of you changes that template
based on that data so the template in
this case looks like this it's just one
row of HTML and the list item is used by
another component called lists which
kind of renders a couple of list items
and the ends
so it's kind of a chain of on components
so I was quite happy with this I made
something work with kind of made
components made created files in a
separate folder that I could reuse if we
if we looked at the network tab
let me just making sure I haven't
anything in the cache so there's a bunch
of scripts and some HTML over here so my
list item this is the HTML and the list
items J is this is right over here okay
so okay cool
I could create a web page with using
some sort of components then then kind
of a got some kept some hours of sleep
and and a couple of days later I kind of
open the my editor again and look at the
code and started to stare what what is
this
so uh I kind of understood that this is
maybe kind of a one-person project it
was make totally total sense to me that
when I wrote it will anyone else
understand it don't know so so I start
to see some issues with with the code
base I guess you have seen some issues
already one of the issues that I was
couldn't to really let go was okay so I
get this I don't understand what this
template loaders okay but I can guess
that it kind of loads the HTML and then
kind of manipulates with whether on some
sort of HTML element and sets the inner
HTML or the text content to that okay so
this is the come H to the template that
is loaded and I guess the the kind of
data ends up in here so but what would
happen besides that it's quite
complicated to kind of add this content
to it
element using code what would happen if
I would just decide to add a span tag or
something then my my nice component
would would break so I started to think
maybe I should do it differently maybe I
maybe this can be solved by using a
library so I'm going to shut this down
this so I try to solve this issue by
using a template engine and if we go
back to to the code so my HTML oh it's
quite hot up high like this the HTML and
the data is now connected so now I can
add more code sorry more like span tags
and whatever I want and nowhere where
the data will end up which element will
will present this data and the
JavaScript code ears looks very similar
the row that added data to that element
is gone and instead I'm passing that
data with code that should be presented
to to my template a function and this is
used by this is I'm doing this by using
a framework framework called mustache so
now this is my kind of the first
dependency that I downloaded using NPM
so I kind of got familiar with NPM and
how to how its added on in the package
JSON file and versioning and things like
that
and by doing a quick look at my secret
template function I almost don't dare to
show it to you but I do it anyway
so somewhere here we're using that
mustache template engine to render a
template with some data and my
index.html my HTML file has a reference
to that file okay then I have my other
components listed like this so I think I
made some progress but then I started to
think then I kind of discovered another
issue because when I added this library
I kind of realized that it has to be on
top on top of the the script list
because since all my files at least that
template start jeaious uses some global
object called mustache it needs to be
loaded already so that kind of revealed
a lot of issues in my code because all
my other components have a dependency so
my list item j/s uses this template code
and this one has to be loaded before so
and this super simplistic example maybe
that's not that too difficult to kind of
find out where which order is you put it
but in a real live example it's it's
going to be difficult and causing a lot
of frustration so I thought about it and
kind of think about maybe there's
there's a framework for it the library
of course there is a library for it so I
downloaded it and kind of refactored my
code again a bit
so this is a separate branch like this
if you go back to to the HTML file where
all my sources are and up so now I only
have one script file with the reference
to something called required of Jes and
a record of Jes is a library to hand
that helps you have manage your
dependencies emitted it it has some
pointer to compare to my entry points so
this is all I have to do in my image in
my HTML file if we go back to my
JavaScript component here but also it's
different is that I don't know if you
remember I had some sort of our
namespace solution to to kind of group
my modified something called vanilla and
dot list item equals and a function but
with requirejs it's currently you have
the possibility to create modules that
are that have their dependencies kind of
result automatically so and that is done
by using a require.js dot function
called define so this is how you define
a module and you define your your
dependencies you tell required that I
need to be able to run this code I need
something called template so this can be
a list of all the other modules that you
are so so the requirement is we'll make
sure everything that you have stated
here is loaded before you run execute
your own code if we look at the template
of Jas it has a dependency to that
mustache library so it loads that code
before and then I can start using it
okay
so I think this kind of a solder couple
is solved solved a couple of issues but
then I started to think well I read this
book about eco script 2017 and
JavaScript has support native support
for modules why do I need some custom
way of defining them maybe I can use eco
script 2017 so when the kids had fallen
asleep I took the opportunity to code
some to refactor this code like this and
I kind of went all-in so this is my this
is my list item component again I'm
using native imports Sigma script 2017
no 2015 imports that also will resolve
the the dependencies in the kind of same
style as require jf before I use them it
will be resolved and that dependency
chain will be fixed for me and since all
my code before this refactoring I forgot
to say that but they used a call back to
kind of when this function is rendered
when it has created an element it
executes a call back to pass on that
element so the parent can decide what to
do it do with it and somewhere in the
end there's a code that injects that
HTML to to the page so I have started to
think well maybe I should use the new
keywords in async and await so went all
in without those using the new
constituents and left keywords exports
and stuff like that so it's very happy
with the
with how how that ended up now I'm going
to remove my my dependencies existing
and hoping that my internet connection
will help me a bit
all good
so yeah what's different with this
branch's now I have made myself
dependent on a build step because even
though this looks simple and nice I
don't think there is a browser yet that
supports that import statement maybe
Chrome does without with a flag I'm not
sure but if in a real world scenario you
probably would not only need to support
several browsers but also several
different versions of each browser and
then your site needs to work on a phone
and on your iPad and stuff like that so
code running code like this is probably
not realistic so I have we are now
dependent on a build step something to
kind of transform this modern JavaScript
to old-school JavaScript code
so learn learn as I'll dig a little bit
deeper in NPM and what what these tools
does because I started to use that Babel
compiler so if we look at my package
Jason here I'm starting to use some some
some strange scripts here I have my
build build step pair that that runs
another build step called trans file
that uses babel that tells you well
which what where are the original files
and where are the destination file so
I'm starting to do I've added some
complexity here but I was so happy with
the being able to to use echo script
2017 so I've thought about as I'm going
to fix that later let's hope this will
work
I'm going to make sure that I'm not
using any caches oh okay so this site
seems to work as expected like just like
before and if we look at the kind of
HTML result here we still have that
required at GS file and the the HTML
looks about the same as it did before so
what so what i did was i coded an
excellent script 2017 and transpile this
code using babel to to the way it looked
before almost using required RJ's
modules so so ECMO script here and the
output is the AMD modules would require
J's because that works in the browser
you just point a direction - - to that
library and it would work okay so the
next night I had thought about it during
the day and kind of fired up the browser
again when and when I had the
opportunity and just kind of looked at
the code base here and roast the this
tag so oh here's a lot of scripts
loading so what is this well this is the
the feature of the library I'm using
requirejs that is when it's compiled
it's kind of resolving each dependency
that I have stated and add a script tag
to it or in the head section of the HTML
document and again and in my simplistic
example I guess that's not a problem but
in a real-world example we have like a
tons of scripts maybe you might have
some issues with food performance so I
have to fix this
maybe there's a library for it
so I was thinking maybe I should try to
kind of minify and bundle everything so
it all the output is there one single
file so the code looks it looks the same
no difference here still is still the
same files in my HTML document it looks
very much the same except the entry
point is something else it points to a
bundled folder and if we look at my my
script I've added another step here
called bundle and it uses something
called rjs which is required jf the
required of JS bonds like bundle feature
so since I'm using that on their own on
the output I want to kind of minify it
using that same technique you can pass
some some features to it where it should
end and stuff like that so it I think it
worked you know kind of removed all that
nasty script all of those nasty script
tags and I'll put it one single file so
I shall I kind of close the editor and a
couple of days later I open the editor
and it kind of started it opened with
this this file over opened and I was
looking at my script and what what have
I done here who I don't even remember
what what I've done here there's a lot
of scripts and a lot of shell stuff
I don't know I'm using I'm used to like
right-click stuff and how how did I
manage to do this so I must have learned
something but I guess I forgot it
already so I was thinking do I really
need all this stuff and
why do I need to output it using require
why do I need require that Jas I want to
get rid of all this dependency so I ask
myself and the Internet is there a
library for this and yes there is a
really good libraries that can solve
this issue for me and this one is called
weapon webpack if we go back to to the
package.json file warehouse where i
specify on my dependencies and my my my
cryptic scripts so required of jage is
gone and my script section looks a
little bit cleaner so where did they all
go
so I have something called the web pack
here that icon when I build this
I'm calling this white pack and what I
want to start my site I'm using
something called web pack dev server
before I used the built-in on this
machine I have Python pre-installed so
it's very easy to start out a building
local HTTP server but on other machines
maybe Python isn't pre-installed like in
Windows so I start to think maybe using
something that is downloaded when you
hit MPM install is better than using
expecting that that user has something
that your colleagues has something
pre-installed so but what where is all
this is web has packed magic well I
guess it's almost magic because it does
a lot of things it has a web sorry where
dev server it can minify and bundle your
files and a lot of stuff but that some
of this magic is what's ended up in this
configuration file here
so it's a configuration file that you
write in JavaScript so you can and here
you can specify what your output file
should be named the way to the end if
you should use anything different if you
are running in production mode or
development mode and things like that
and on my index.html I no longer have
any dependencies to require chase I only
have some link to a bundle JavaScript
file because it turned out that not only
being good at minifying and bundling
WebP I can understand es 2017 modules so
it can take the the source code and
transpile it to something without using
like required a J's or any other library
so it's kind of a Swiss Army knife okay
611 packages installed okay whatever
and our sorry started fire ups
forgot to fire up the browser and
nothing works whatever what a what
mistake have I done oh no oh yeah I
forgot what that I forgot that I have
made myself dependent on a build step
and of course if you don't run this on
on some sort of continuous integration
environment you need to run those step 2
oh good so oh no no I don't want to open
Firefox sorry so if I click here on
these these items it looks like the kind
of work expected and I have kind of our
reference to to a single javascript file
called bundles or chairs and if i
refresh this I'm loading a simple CSS
file and my mice see just a single
javascript file before I had a bunch of
bunch of separate files I still have
those templates though I'm stealing
using mustache and render templates
using that I'm going to shut this down
again so I was starting to feel a little
bit happy happy with my codebase and
happy that I have learned like webpack
at least understood some a web pack and
understood what the configuration file
does I even was a daredevil and kind of
experimented with different outputs and
things like that but one thing that I
have avoided for too long is is this
strange load function in the template
cs5 I kind of swept the code sweat
through the code quickly before and
because I was a little bit ashamed about
the quality of this code and to be
honest I don't almost don't remember
what this code base does it's almost
like I have started to write my own
library or framework because this
template is it's kind of a does H Ajax
calls using it on your url grabs the
HTML documents
creates a Dom element with JavaScript
using mustache to kind of create some
output for it and pass it on to to the
way to the index dot HTML file and also
because I didn't wanted to I didn't want
it to download my templates each time so
I added some sort of caching so if you
ask for the terminal component twice you
download it once and you get the cached
version the second time and I was
thinking this is probably not good I
don't know if this will scale in our in
a real world scenario I'm happy that I
made it work but this code code would
cause probably cause caused some issues
in the future so I thought started to
think can I replace this with with a
with a library or framework
and it turns out that it's very simple
sorry
640 packages added ok so if we look at
my code again
now the list item is a react component
it uses it has if you look at the this
file tree here that HTML template is
gone reactive is something called JSX
which is kind of mixes javascript and
HTML and after kind of writing a couple
of these components I started to get
users used to this syntax and actually
like it because it's all there you don't
have to browse different files you can
see what happens you can see where the
data ends what is returned so I started
to like this kind of style and if we
look at my package JSON I no longer have
had this mustache library by the way
I'll that kind of hurt I was a little
bit sad because I lie I think mustache
das is one of the coolest names or on
JavaScript framework so it sells ah
maybe I could kind of squeeze it in
somewhere but I couldn't find it in a
place where it I have a couple of new
dependencies react and react Dom and a
bunch of dependencies that will that is
needed to to kind of compile all of all
this code and I think that I haven't
changed change anything in the script
section so let's give it a try
okay it seems to work as expected and if
we look at the source code all I have is
my like like bounded by CAS here and
nothing here in the head section
there's no strange scripts loading and
also I have added an extension to to my
web browser called called react tools
and with with that tool you can kind of
see what what happens in your in your
browser what happens with the state and
what kind of data is passed and you can
see the kind of the react output
besides the HTML so if we I go back to
to my slides here so it turns I guess it
turned out that I can write components
with the using just plain vanilla
JavaScript but then there are some
issues that will probably appear so what
I did was I kind of step-by-step added a
library that solved the issues that I
had had with the code started where
template engine used starting using
modules coded with Eggman script 2017
and learned some node and NPM kind of
understood a bit about NPM at least and
I think I I know what's the difference
between web pack and react now I think I
know what web pack does and what react
us because if you would look here I
think if you look at the documentation
and it blocks the the most common
recommendation is how to get started
we're using reactive download that this
create react apps run the script in your
app you're running and that is great
because it takes like five seconds and
they have something to work on then it
can be productive
but for me that especially when I was
trying to understand react it didn't
work because of course it worked but I
felt that I had no control because I
couldn't know what these tools were
doing so to me that was a good idea to
learn them step by step and I think
maybe that's because I think we as
developers need that sense of control we
need to understand what the files in
that file structure does what the what
each file do how many minutes do I have
I think I'm going to wrap up with
another example
so here is a an example of what I mean
by adding one library at a time because
you see doing that then you can
experiment it within with it that
framework or library in isolation the
Bible has a kind of a shells script and
configuration that lives in this file
and this feature I think it's quite new
but I wanted to learn what what it does
so okay so I specify something called
environment and which kind of browser
some of the support so I have my example
file here with some es 2017 code like
arrow functions and template strings and
stuff like that sorry if I run babel and
that index file and want to output it in
a separate file compiled or name it like
this i should have a file here oh it
looks like plain old plain old
JavaScript if I go back to my
configuration and do something different
let's say I want to support the latest
version of Chrome only like this and run
this babel script again so my compiled
file looks a little bit different you
know it turns out that chrome supports
error functions and template strings and
basically everything so but by kind of
learning or kind of on trying to
understand each each library separately
that kind of made me feel good and I
could kind of sleep with
having any nightmares about my source
code and that kind of wraps up my speech
today thank you for for joining my
session and if you have any questions
I'll be here and thank you for for
listening to my session by JavaScript
Thanks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>