<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Facebook Development with ASP.NET and Microsoft Azure -  Nick Pinheiro | Coder Coacher - Coaching Coders</title><meta content="Facebook Development with ASP.NET and Microsoft Azure -  Nick Pinheiro - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Facebook Development with ASP.NET and Microsoft Azure -  Nick Pinheiro</b></h2><h5 class="post__date">2017-01-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qRp_pJMCXKc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">excellent oh right hi everyone thank you
guys for
to the session I think we're the second
last session of the day right last day
second-to-last session it's pretty
impressive so thanks for coming I think
it's a pretty good topic today so I
think you're gonna enjoy it keep us all
awake something that I'm very passionate
about so today's topic is Facebook
development with asp.net and Microsoft
Azure my name is Nick Panero I'm a cloud
and software architect at Microsoft I
work specifically in a team that we call
the Azure applications Co II so circle
of excellence so what we do within the
team is we take on some of the more
challenging projects that come our way
within the industry so right now we just
finished up for example the Rio 2016
Olympics the web app and the API that
powers that all the Facebook integration
with Azure ad b2c business the consumer
previous to that we did a large project
for Real Madrid which I'm sure you're
probably familiar with so with their 400
million fans we have a full
cross-platform solution that we put in
place for that also also using Azure ad
b2c Facebook integration Azure ad
Google accounts etc and there are a
number of different other types of
projects right now I'm working with
McKesson which is Fortune number five
they're doing a lot of migrations over
to the azure cloud as well so pretty
cool stuff so it's a kind of a elite
team within within Microsoft so it's the
Azure application CoV so pretty cool
stuff I particularly focus in on the
Azure app service so web apps mobile
apps API apps and logic apps I have done
a lot of custom SAS build outs so custom
SAS solutions for a lot of our clients
and a big passion of mine is Facebook
app development
so aside from all the integration points
that we have within Asher and all the
projects that we work on I personally
been working on a along with the
engineers at Facebook one of on a
platform to create Facebook apps as a
service so if you're an individual who
has no technical skill set no technical
background but you want to have a
socially integrated app of some form
you'll be able to eventually go on to
this platform subscribe as you would for
to get a fan page today and you'll
actually be able to get a fan app so
that's coming in the future so pretty
cool so Facebook apps as a service
coming on it's gonna all be powered by a
sure as well so probably see that at the
beginning of next year so at least the
first version I'm based out of Cambridge
Massachusetts USA contact information is
actually pretty important today there is
a code base that I'm going to be
introducing today that we're not going
to actually get too deep into because
there's a lot of content here today so
if you guys want to follow me on Twitter
or you can subscribe to my email list on
my web address Nick Panero comm they'll
be knowing two things everyone who
attended today will get this face book
solution framework that we're going to
be introducing as well as The Associated
ebook that's going to be coming out
towards the end of the year which is
this is this deck is kind of a
presentation of okay so you get a free
copy of that ebook as well so you either
just follow me on Twitter or subscribe
on my website Nick Panero calm and I'll
have these all the way at the end of the
deck as well in case you don't catch it
right now alright so today's mission
alright so a Facebook's mission
statement is to give people the power to
share and make the world more open and
connected I'm sure you've all heard that
Microsoft's is to empower every person
and every organization on the planet to
achieve more I'm sure you probably heard
that as well so my mission though today
is to empower every entity of this
session to give people the power to
share and make the world more open and
connected sound good yeah I just kind of
combined it made a little cool little
science yeah so basically what we're
gonna be doing is covering all the touch
points that we have with the Facebook
platform across Microsoft Azure the
asp.net and anywhere within the
Microsoft technology stack to show you
how you can easily get a full face book
integrated solution up and running
literally within minutes using this face
book solution framework that we're going
to be releasing and get up and running
as well with Azure just a quick level
set how many people are working on Azure
right now today excellent you guys doing
mostly web apps and things of that sort
MVC web forms right anyone using Azure
ad had a session on Azure ad yesterday
okay cool awesome perfect this would be
excellent for you guys then so the
session objectives and takeaways this
was just on the on the website
and the various integration points as I
mentioned of the Facebook platform with
Microsoft Azure learn how to leverage
the Microsoft Azure for Facebook
integration with the complete Azure app
service right so with web apps mobile
apps API apps and logic apps and then
learn to work with the newly released
Facebook solution framework the Facebook
solution framework is a visual studio
solution that has essentially one of
each one of the app service components
along with a sequel database schema the
uses a speed an identity a logic app
powershell script Microsoft flow
integration a web job to integrate Bing
news into your facebook solution as well
so it's a pretty extensive solution
that's up and ready to go all right so
for the agenda we'll talk a little bit
about what the modern app is in today's
today's you know day the Facebook
platform the Facebook solution framework
we just mentioned will look at Facebook
facebook login and the many many options
you have there and which one's really
best for the different type of solution
you're trying to build the Facebook
Graph API and I will publish we'll look
at publishing to Facebook and publishing
to pages as well to fan pages how many
people have worked at all with the
Facebook platform today either using
just facebook login okay just the login
mechanism I using mostly the JavaScript
SDK or write mostly okay cool
yeah sure abscess again we'll look at
security security we'll look at from a
number of different angles again related
to Facebook login but also related to
the API app and how you can secure the
API app that's going to be available to
you the Facebook solution framework that
we're going to be talking about the
value proposition with that is it will
allow you to have a full cross-platform
integrated solution versus just having
for example an asp.net web app that you
have secured with facebook login that
you just went into the web config and
put in your client ID and client secret
or you have a mobile app that you know
it's either using uwp or its iOS or it's
android you're not using Samer and yet
so this is going to be a full solution
framework that you enter your client ID
client secret in one location it powers
up an API
powers up a web app powers up a web job
powers up everything that you need
without having to go and manage each one
individually so that's kind of a void
that we had prior right so today if you
go into Visual Studio you create a new
web app you create it there you go into
Microsoft Azure and you want a secure
web app and your enter your client ID
client secret there right so this kind
of brings everything together and allows
you to to basically spin up a new
xamarin cross-platform application as
well with a complete Facebook
integration and we'll talk about how
that happens all right so the modern app
so just for us to define the modern app
and everyone anyone chimed in as you
would and and another thing to just
during the whole session any questions
feel free to ask them as we're going
through it rather than waiting to the
end in case we have any time sensitivity
so the modern app is essentially cloud
first mobile first right based cloud
developed cross-platform on all three
platforms web enabled you probably gonna
have a mobile-friendly version of your
application social login of some sort no
matter how you incorporate it you're
probably gonna have social login of some
sort integration with other REST API is
whether you're pulling data from a
YouTube or from an iTunes or from
Instagram or whatever the case is JSON
payloads right personalization you can
have personalization whether you're
using information that's coming back
from the Facebook Graph API if you're
creating your own graph within your
application but you're gonna have some
level of personalization for the user we
talked about the responsive nature of it
with a mobile-friendly version and then
you'll have notifications and push
notifications anything that I missed
that you guys think should also be on
this list right that's pretty much the
modern app today correct yeah so this
just kind of highlights that a little
bit well a little bit more as well so
right so websites mobile integration API
and notifications building apps today is
basically what we're looking at all
right so the Facebook platform so these
are whenever someone comes up to me and
says how do I get started you know I
always kind of give these first seven
steps to get them associated with the
platform and kind of understand how to
go about you know spinning up a small
application that uses the JavaScript SDK
and allows them to do things like use
Facebook log in or any one of the
sharing components or whatnot so you
familiarize yourself with their
platforms may
decide on your application type you go
ahead into the into the developer portal
you create your Facebook ID you get
familiar with the graph API Explorer a
lot of people use the Explorer the
graphic bi Explorer we'll be looking at
it good understand access tokens this is
when you get down a little bit deeper
and look at OAuth and understand what
permissions come with the access tokens
select a programming language you're
going to be going with and then
implement facebook login one note on the
programming language piece up until
about two years ago we had we being at
Microsoft had the Facebook c-sharp SDK I
don't know if anyone had used it if you
used it before or at least aware of it
so that was an internal team who kind of
took it upon themselves to create a
community project for themselves and
then it just kind of left it there
I really haven't managed it or updated
it since so that's where I'm picking up
and have created now the Facebook
solution framework there's a full
library in the solution framework that
you'll be able to use even if you don't
want to use the entire solution
framework so you can use the full
c-sharp library that's in there to do
things like pulling the user information
posting publishing back publishing to
fan pages etc so just to kind of give
you a sense of where that's going we're
also working with the people at Facebook
to get the solution framework on the
developer portal on the Facebook
developer portal so that it'll be links
to there as well so on so this is the
graph API Explorer for those who haven't
worked with it this is available to you
via the Facebook developer portal
developers dot facebook.com/ this
essentially will automatically provide
you with an access token and allow you
to run any queries that you want against
your own user profile at Facebook right
so you'll be able to pull up information
like your ID or your Facebook ID the
name first name last name your location
gender birthdays etc keep in mind that
when you're pulling up this information
you're doing it as yourself when you go
in there so you have access to
everything from a programmatic
perspective when you're go and integrate
this into your app right you're going to
have to use what's called scopes to
request permissions to users data and
then when you when you request those
those endpoints you're gonna have to use
the access token that you
back for that user as well so we'll go
into that and a little bit don't have to
worry about it too much but if you never
have used the graph Explorer very great
tool just go to developers on
facebook.com slash tools slash Explorer
first your first foray it kind of
getting a sense of what type of data you
can get back from Facebook it's
essentially anything anything that you
see on Facebook you can get back from
the graph API whether it's photos or you
know different things from the fan pages
that you like or you name it your you
have access to it alright so again so
the first the first step would be you go
ahead and create your Facebook app again
at their developer portal very very
simple it's literally one form you're
entering the display name of what your
apps going to be a contact email address
and you create the app ID literally for
the solution framework that's all you're
going to need is your app ID your client
ID and your client secret to power up
the solution framework moving forward as
you get more and more involved in your
development and if you start using
things like Facebook log in and start
using other products that come with the
developer platform you'll have to do a
number of additional things to get
access to those objects will talk about
login and review anybody use login
review yet no okay so login review which
we'll talk about shortly is essentially
when you want to push data to Facebook
from your app so if someone creates some
level of posts on your app and you want
to post that to Facebook immediately you
have to go through a process that's
called login review and we have a slide
on that shortly so the solution
framework that I've given the acronym
FSF so from this point forward we'll
call it f SF alright so this is what the
solution framework includes this is that
this is the key of the solution
framework again it's a visual studio
solution you have at its core is a web
app that already has facebook log and
already created alright i'm already
integrated into it you have the api app
the api app is what you would use for
your mobile portion of your solution
right so you can use xamarin or you can
use any platform of your choice when
you're creating the mobile application
but this is where your actual API
integration will come from and this will
be secured with Azure ad but we'll talk
about
a little bit so we talked about the web
app we talked about the API app you'll
have an azure sequel database where
you'll store all your user information
and anything else that's specific to
your solution this already has the
asp.net identity schema built into it
and the API is as well as the web app
what so all the the actual applications
go through the API app and that
interfaces with the graph API of
Facebook ok and then all your user
information is stored here the mobile
app we have in there but it's not
necessarily a requirement so this is an
azure mobile app which require which
provides you with a mobile backend as a
service within asher so if you want to
do things such as push notifications you
want to do things such as have your
users store and what's called easy
tables in Azure which is a very easy way
to get up and running a lot of people
opt one reason or another that they want
an azure mobile app keep in mind all
this exists and Azure as well but we put
it in there just in that case that you
find a feature within mobile apps if you
like a little bit better and if nothing
else you'll definitely use it for push
notifications for sure ok we have script
for the logic app to create logic apps
in Azure anyone familiar with logic apps
yeah to some extent so logic apps is a
new toolset that we have within Asia
which allows you to do essentially two
things you can create your own workflows
between different service providers
whether it be a Facebook or a Salesforce
or a sequel database that you have or
Oracle or s AP or whatever the case is
and let's say you just want to have a
pretty simple workflow that pulls data
from s AP and pushes it over to Oracle
you can get those running directly in
Azure the content the data doesn't need
to live in Azure but all that logic will
live in Azure and then you can schedule
and have it run on a scheduled basis so
those are logic apps so we have a few
logic apps already set up for you to
push data to Facebook and to pull data
to Facebook which runs on a scheduled
basis so I'll show you some of those
shortly all right so that's everything
so xamarin will will be releasing so
just kind of give you a timeframe on
things this the
FSF will probably release at the end of
the week next week and then probably a
few weeks later than that we're gonna be
adding xamarin to it so once we add
xamarin to it then you'll have the full
cross-platform capabilities there for
web mobile and cloud any questions on
this before I move forward No okay sure
right but exactly
however FSF is already completely so you
have already logic in here you already
have code in here that's all specific to
Facebook so this is for a mobile or web
solution that's going to be completely
using facebook login and any Facebook
functionality that you may need so these
are all available individually but this
is kind of a cart type solution readily
available to you where you can just
download it from github open it right up
put in your a client ID client secret
and you have a full web solution mobile
mobile app solution is completely cross
platform on xamarin you have already
scenarios where you can start pulling
content into your app using Azure as
well using the Bing Search API for news
etc so it's completely Facebook targeted
whereas yeah you could go in and say all
I want to create a what about all I want
to create you know a web job for this I
want to start my API up from scratch but
then you have to do all that work from
scratch so this talks directly to the
Facebook library that we also have here
that's actually we need to add that icon
here it's Facebook centric exactly and
then here's the high level goal of it
alright so today we have 1.65 billion
users in facebook right so we need to
start making use of that data they have
that information so at the highest level
it's how do you capture all that
information and bring it into your own
sequel database and start building your
own business of some sort whether it be
an online community that you're creating
or whether it be an app of any sort or
it's an uber or to this or it to that
whatever the case is it's just the
building blocks already there for you so
you don't have to do all the legwork of
understanding how to work with the
platform and spend six months to a year
trying to figure it all out
and honestly the lot of this came from a
lot of the pain the pain that I went
through the blood sweat and tears of
figuring everything out
saying hey why aren't we just offering
this as a open-source offering for
people it's gonna drive consumption on
Azure it's gonna get them up and running
on Facebook much easier that's what
everybody wants you know eventually we
will start integrating other things as
well their platform LinkedIn we just
acquired LinkedIn so we may have
LinkedIn incorporated into it or have a
separate one for LinkedIn as well a
LinkedIn solution framework so this is
what FSF will look like today right so
when you open up the visual studio
solution you're gonna get your API app
you're gonna get a test project with all
the unit tests that are ready built-in
again on Facebook platform is where the
new c-sharp library is for all the
integration points with Facebook so
again if at the least you didn't even
want to use all the other components you
can save a whole lot of time just using
the c-sharp library it's completely up
to date it uses V version 2.7 of the
graph API or Facebook whereas that
c-sharp SDK is pretty pretty out of date
at this point about two years old and
it's not being updated anymore you have
your um your models basically so all
your all your objects that come in from
Facebook again whether it's the user
profile whether it's a photo album
whether it's I mean you name it we have
everything in there
your sequel database already has again
the asp.net identity schema so behind
the scenes if you want to take care of
authorization for your solution you can
use asp.net identity you'll be using
authentication you're using facebook
login authorization asp.net identity you
have your web app which is an asp.net
MVC web app already with facebook login
all powered up for you from the from the
FSF not from the web app itself and then
the web job what we did is added a cool
web job in that I don't know if anyone
has heard of the new cognitive API
services that we have it's kind of a
kind of a big name for a smaller
scenario that we have but basically it's
the Bing Search API is that we have
within there so you can get the Bing
news on any topic that you want just go
into the configuration as well enter the
topic that you're interested in and that
web job will run every six hours and
bring that information then display it
in your in your web app and it'll post
it
to a facebook fanpage of your choice in
an automated fashion question true say
I'm sorry no no this is just standard
asp.net MVC yeah yeah so what we'll see
as well is that it posts the a preview
of that news article to your fan page
and then it also publishes it to your
web app or your mobile apps so it's just
one way of getting content in there that
you again you don't have to go figure
out how to work with that API and it's
ready works for you and it works in such
a way that you won't hit the limits
where you have to start paying for it so
that's why runs every six hours etc so
immediately you'll have some content
that you can get up and running in your
web app and it's it's pretty cool so
we're gonna look at a case study that
we've built out at the end of the deck
it's called MS devs MS DV z ms devs
that's coming out as well next week with
the solution framework so it's a sample
solution built using the solution
framework so it's an online community
completely integrated with Facebook okay
you log in with Facebook all anything
that you comment on any posts that you
do gets poked that's pushed back to
Facebook so it creates what's called
that viral loop to show you how you can
create a number you know how you can get
a large number of users at a fairly
quick pace by creating that viral loop
there's a mobile app for it as well
that's coming on an iOS Android and
Windows
uwp so it would kind of give you a sense
and it is a fan page already getting all
that news coming from being as well and
then you click on it it takes you to MS
devs comm where you can read the full
article pretty cool and then moving
forward if you want to do more things
with that for that web job for example
when idea that I just had earlier is on
Facebook just release the new future
forget the exact name of it right now
but it has to do with stories I believe
it's called basically it's it's an RSS
feed that your news articles get
published on the Facebook platform so if
you're in someone's feed you click on it
and it opens directly up in facebook
opens directly and Facebook rather than
having to go to your web app to view the
actual information so it's pretty cool
so you could use it for that as well so
Facebook log in so the benefits of
facebook login I'm sure everyone pretty
much knows about these but we want to
make
sure that we talk about them so you
don't have to deal with credentials
right so all those credentials are
stored at Facebook all the security and
privacy and concerns kind of go away all
the SSL and everything you really don't
have to worry about if you don't want to
your back own back end only stores the
email address as the username as in
asp.net Identity
alright the client only manages access
token at runtime so you get an access
token at login time that has a time to
live of 60 minutes you can however
request a extended access token if you'd
like that lasts for 60 days okay so if
you have any reason within your app
where you need to have a longer TTL time
to live than 60 minutes you can get an
extended access token so we just did a
pretty cool solution release the
solution that's called imagine care it's
an iOS app that kind of reimagines how
we look at health and wellness in the
future that's why I have the Apple watch
on you guys probably sorry I was look
this guy works at Microsoft at an apple
Exxon right yeah we actually did a
project it was it was a joint project
between Microsoft and Apple just just a
release it's in the App Store now it's
called imagine care and what it is is
that it essentially captures a number of
different vitals from your ongoing day
and it's really targeted towards
individuals who might have any type of
health issues cardiac issues whatever
the case is but basically what it does
is it's an IOT based solution that all
the information that's captured from
your health app right so your steps or
your your blood pressure or whatever the
case is your heart rate I'm sorry and
then we also have Bluetooth blood
pressure monitors and and and scales
that are all Bluetooth based and all
that information just continuously keeps
on going up pushing up to the cloud and
then we have an interface where your
physician can have real-time access to
your ongoing telemetry so they can see
well you know Nick's heart rate he is
speaking in a daze heart rate went up a
little bit of what was going on whatever
the case is but so this is the first
version of the app it's called imagine
care and it's kind of the next phase of
where you know we're going with at the
azure IOT hub with smartwatches with
that level of telemetry where we can
capture all that kind of data in the
cloud and really be able
analyzed it on a real-time basis so if
you have a chance check I know right I
know exactly exactly it was so it was
sponsored by a very big Hospital in um
in USA and they wanted to go iOS first
so we were like alright it'll be in the
Azure cloud though so that's why that's
why we did all the integration with with
Apple yeah so the Cora advantages of
social log and it's pretty
straightforward for everyone again this
is just a geeky ax report that was done
I think a year or two back just looking
at the different social providers and
social login which one was obviously
doing the best Facebook was that over 50
percent
I'm almost in q1 of 2015 so at 61
percent of all social logins this is
your standard kind of olaf handshake
anyone familiar with OAuth and worked
with OAuth yeah it's all good good so
everyone pretty much knows the process
in the handshake that you go through
getting a code requesting an access
token from that code yeah getting in and
doing working with scopes we'll talk
about scopes in a little bit so
everyone's pretty familiar with that so
here's your data flow diagram of the
process you go through again so if
you've worked it off you're probably
calling back information from the graph
API at some point so basically you go
through the OAuth process you're able to
capture the Facebook user data
immediately once you receive that access
token by default you're able to get the
ID first name last name the link to
their user profile their user name their
gender their locale email requires a
scope permission okay you don't have to
go through login review we'll talk about
login review but the user will receive a
pop-up it says MS devs is requesting
access to your public profile and email
address I'm sure you've seen those often
you may have not known how that works in
the background but what you do need
login a review for and we'll talk about
the login review process is published
actions so publish actions is a scope
which publishes your content back to
Facebook and for that the user has to be
well aware that they're giving access to
your app to do that when they do
anything in your app the process to get
approved for that has become more
more difficult in the past it just was
I'm using published actions and they
were they'd be notified of it they
wouldn't really do anything but they
would know that your app ID is using
publisher actions now you actually have
to submit a screen a video screen
capture go into your web or mobile app
show exactly where publish actions is
being used it has to the the rules
stipulate that you have to show that
exactly at the bottom that this will be
published to Facebook and then you
cannot automate and once you do get that
permission for your app you cannot
automate anything on it so let's say one
thing that I was doing I was so a user
would come in and I would say hey I just
joined you know and that would post back
to their feed saying I just joined I
being the user just joined this
particular app and it would post an
image to their newsfeed and then it will
create that fire loop but people would
keep on coming in and coming in and
coming in before you know you have first
day you have a thousand users so you can
still do that but they just need to know
that that's getting posted back to their
feet so that's where login review comes
in so immediate after the after OAuth
and you have the access token you can
get the Facebook user data what we do
basically on the backend we check if the
user is already user in asp.net identity
if they are not we create a new user
using the asp.net identity API if they
are we just go ahead and login the user
and basically at that point they're in
the app and now you have all the
information stored in the database you
have an access token that is persistent
that's another thing the access token
does get persisted so if you need to
call upon that access token for
something again you don't have to go and
request it from Facebook then use the
access token so we do an extended access
token for 60 days and then it's
persisted in the database so you don't
have to make all those calls back and
forth the social login options that you
have today so we kind of talked about
how you do have the ability to just
create a standard asp.net web app
project out of Visual Studio right
select that you want to use social login
go grab your your client ID and your
client secret for Facebook Twitter
Microsoft account and whatnot Google and
that's good but it's specific to that
web application right so one limitation
we talked about the Facebook c-sharp SDK
which is not being updated anymore so
really not
anymore as your web apps you can go
publish an app web app to Azure and then
again going to the settings of that web
app in Azure and to your client ID
client secret that'll secure it to
Facebook it'll just secure the entire
application there's really no
authorization though it will allow you
to have roles or anything like that in
your application another limitation as
would be to see awesome option to anyone
know much about attribute I see no okay
I had to talk on it yesterday so as your
B to C is a new version of azure ad that
was just released that is specifically
for consumer based scenarios so b2c
business to consumer with Azure b2c you
basically go into Azure you create a new
domain a new azure ad domain there's a
one check box it says I want this to be
a b2c domain the difference there has a
few different differences but the first
the major difference there is that once
you select that option and it provisions
it it creates all your identity
management features for you behind the
scenes so those identity management
features being your forgot password
reset password process your social login
for you
so as your ad does not have social login
built into it
b2c does for Facebook Linkedin Google
and a Microsoft account and you can use
Azure ad as well if you won't have it
you know you can call that you can brand
that let's say we're doing an app that's
called app X and you say okay you can
login with social or create an account
with us so that account with us is
actually as your ad in the background
right so that's b2c very very cool
option but it cost a little bit of money
so up to 50,000 users is free and then
after that once you get up to around a
hundred thousand already becomes $50 a
month again it's completely customizable
one good example of that is Real Madrid
we just work with Real Madrid and we use
Azure b2c so if you're just going to
Real Madrid calm or you download the
Real Madrid app you'll see that they're
using all social and if you actually
look at their login you'll see that it's
a sure you'll see a dot on Microsoft
comm even though you might select login
with Facebook so I log in with Google
whatever the case is
so a great option but again a little
pricey right a los 2.0 so you could do
just core a lot to auto if you want to
write it out that's essentially what
we've done with the solution framework
and that's what you have in the visual
studio solution there and then now we
have face book solution framework where
this you can essentially download and to
your client ID client secret for face
book and you're up and running
fully cross-platform permissions we just
talked about scopes so I won't spend too
much time on it but again the key thing
to understand here is for example on
this example we're requesting in
addition to the public profile which
comes without any request for scopes
we're requesting here email the user
location and publish actions use our
location and publish actions both
require a login a review so we would
have to go into the developer portal
okay once you create your Facebook app
ID you can start pulling that
information from your test users and you
create those test users of their fake
users or your own account that's the
owner of the app ID and you can pull
that information once you want to make
your apical live then when users try to
access your app that option won't even
come up so you have to go through the
login review process and get that
approved before you can actually start
pulling that data so just keep in mind
that there is that login a review
process it typically comes up when you
want an app to go live and they're like
oh my god I forgot we didn't go through
the login and review yet so the app
can't go live so and that process
usually takes about a week Facebook
gives it a week they usually do it
within 48 hours 48 72 hours but they
stipulate one week so you see here we're
requesting email user location and
publish actions so just something to
keep in mind so this is the sample
solution that I talked about MS devs
again so this is all things for the
Microsoft developer all in one place
okay so it's a full socially based
online community that we're going to be
releasing we call it powered by
aggregator so aggregator is the service
that we have running in the background
it's basically that web job that pulls
in all data so this actually is going to
be pulling in information from Facebook
Bing Instagram iTunes and Amazon
so we give you Bing in the facebook
solution framework but it's to give you
a sense of what you can do if you want
to start building more things around
that so basically what we do is for
example with Instagram we're pulling the
hashtag c-sharp hashtag and pulling in
all that content from Facebook it's all
the user content
so you'll see everybody's user profile
pictures that have their own profile
page etc from iTunes it's podcasts so
all the podcasts that are related to
microsoft microsoft azure visual studio
anything development related amazon
books so for example if you're if you're
looking for a reason for an app and you
want to try and see how you can make
some money on that both itunes and azure
provide affiliate marketing programs
where if you sell something off of your
app you get 7% of that sale immediately
so it's a good way to start up making a
little bit of money once you start
building a little bit user base so I
said Facebook being Instagram iTunes and
Amazon yep so those five so this will be
coming out within within a week or so
this is just to show what's happening so
remember on the previous example we were
requesting the scopes email and location
so here when you get this pop up you'll
see MMS tabs will receive your public
profile email address and current city
so that's where that those came from is
from those two scopes here this is the
second pop-up you'll get this one saying
MF stats MF steps would like to post a
facebook do you want to share this posts
so basically you can select all so you
the end user can select if any post that
comes from MS devs if you only want to
share with friends or the complete
public yeah so that's just to get an
understanding of where those scopes come
into play and you've probably seen them
before but just didn't know how they
were powered access tokens we just
talked about but basically connects with
an app using Facebook lobbing login the
app will be able to obtain an access
token which provides temporary secure
access to Facebook KPIs
it can be used by the app to make graph
API calls obtained via a number of
methods and then has an expiration to it
and then again you can get a an extended
token which will last 60 days this is
the method
in the c-sharp library in FSF so this
just so as I mentioned the code is all
there already for you okay once you
power up the API app you can see
everything it's being pulled from the
c-sharp library so again we have all the
core methods that you would need right
so to request an access token to get an
extended access token to get a user
profile information from the graph API
Publishing to to Facebook publishing to
fan pages which is different
getting photo album information posting
photo album information so all that is
already there for you rather than open
up visual studio and everything is I
knew we were gonna have a limited time I
put the majority in the in the slides so
the graph API again here's getting to
get user method it's all they're using
HTTP client uses async processing so
that's all there and ready to go you
don't have to worry about that
publishing to Facebook again we talked
about the Scopes that are required the
use of the publish action scopes
requires log in review so just again
keep that in mind there was a little
process and you do have to have a method
of doing a video screen capture and
uploading that video to the developer
portal and then you're looking at
probably about a three day turnaround we
talked about login review but basically
you understand what that is now always
keep in mind that with asking for scopes
when you actually go look at the Scopes
that are available to you see it's a
long list like this and always ask for
the least amount of what you need
because typically that's the first thing
that users see that kind of pushes them
away from your app when you're
requesting the entire Facebook profiles
like a security issue and privacy is a
big thing right now so they
automatically go away so just request
absolutely what you need by default I
usually always ask for email City and
publish actions because that gives you a
nice profile page that you can create
you already have the core user
information that's coming you have not
their location you have their profile
picture etc so as you go along you need
things like birthday or gender or
whatever the case is if you need it you
can request it but my recommendation
would be just asked for exactly what you
need
this is the the endpoint that's used to
post back to Facebook so that's supposed
to the feed so this is graphed on
facebook.com slash mean slash feed and
then it captures your access token the
link that you're publishing if you're
publishing a link and the actual message
so this is the text so this so these
three parameters would be coming from
your app in some way shape or form
right so the access token we'd be
getting from another method the link say
okay this is the link I want to post and
this is the message that I want to post
along with it and you'll notice the code
is very very clean and kind of easy to
understand so hopefully it's easy also
to build off of we talked about the
automation of posts back to your
Facebook page so this is and this you
can you can like this page today this is
already up and running
MS devs the actual app will go live next
week but the fan page is already up and
running with news going every 6 hours
so I find to be a really really good
resource obviously we all look at
different news outlets everyday there's
the MSN app there's this app is that app
is the finance apps or whatever but if
you're a Microsoft developer the
keywords that we're using here are
Microsoft Microsoft Azure visual studio
asp.net c-sharp and a few others so the
news that I get here is like exactly
what I want every single day so it's
going to be really cool when the iOS app
in the in the cross-platform apps come
out and you can just look at MS devs
every day and check out your news and
blog post and everything will come right
in I always also use feedly and I've
noticed that I'm actually getting more
information yeah feedly is very good so
for those avenues feedly it's basically
an RSS aggregator but I've noticed I'm
getting better news on this daily then
then feely provides me with because
obviously feedly is a manual process
right I got to go in set up the RSS
feeds exedra yeah right right exactly
yep same idea so like I said this is
available now you can like the fan page
it's it's a just search for MS devs what
is he at the end and get this up and
running and then you'll get all the news
to in regards to when the sample
solution goes live when the code is live
etcetera
so this is the code to post to the fan
page it's a little bit different it's a
different endpoint from posting as a
user so this requires a page access
token not a user access token so you
actually have to go in when you create
your fan page you go into the graph API
Explorer and there'll be a drop down
that shows all your pages when you
select your page then it'll produce a
page access token for you and that's
what you actually need to publish out to
a fan page it's a little bit different
from just publishing out to the user so
keep that in mind so that's the process
you're going to need if you want to
start using the news web job just go
ahead get your page access token you
come in add it into the config settings
within the FSF and your and you're up
and running so as you're just a little
bit about a sure I think everybody here
pretty much has had some notion of what
a sure is it's our cloud computing
platform this is the diagram you
particularly see most often everywhere
right and it's getting to the pack we
were at tech ready last week which is
our internal Microsoft conference and
there was a lot of complaints that we're
using this because they're asking for
something much more abbreviated and so
the marketing team came up with
something that I used yesterday in one
of the slide decks but it's very very
high level and it's not really computing
centric at all it's just basically four
pillars of transforming your business
and you know empowering your
your-your-your clients and empowering
your employees etc so you'll probably
start seeing less of this but basically
everything that we're using for FSF
comes out of web and mobile so that's
the only reason why I put that there
again way bigger of a diagram than you
need here's the azure app service again
we talked about that web app mobile app
API app logic app and what each one of
them provides so the web apps are able
to scale them with your business mobile
apps is basically a mobile backend as a
service so you'll be able to have your
user data store there push notifications
etc API apps automate business processes
across sass and on-prem people familiar
with swashbuckle yet and in swagger
you've used it anyone else swagger
so
okay so we want to look at swagger
shortly so API apps will automatically
contain a metadata definition language
that will allow you to integrate with a
number of other services that we have at
Microsoft and it's also now kind of the
industry standard for a pis so it allows
you to integrate your API is via a UI
much faster much easier and not
programmatically so it sounds a little
confusing but we'll see it shortly and
then logic apps we talked about which
allow you to easily build and consume
API is in the cloud we're also going to
look quickly at Microsoft flow anybody
heard of Microsoft flow yet literally
just came out within the last month and
power apps as well right exactly so
we'll talk about that charlie have a
slide on that so security so you know
these are the current options that you
have as it relates to membership and
authorization and with any one of your
solutions that you might be building so
we're using identity and FSF that you
still have simple membership you still
have old-school membership and you have
azure ad this is just kind of the
advantages of asp.net identity it's
obviously our default identity provider
for web applications right now and we're
also using it you can also use not use
it from mobile the way that FSF is set
up okay also it's uses the API to
basically create your users uses the
user store to manage your full identity
there it's just the difference between
asp.net identity and in the older school
membership tooling so that's the schema
for the database you can see it's been
cleaned up dramatically basically just
all tables now and everything is done
through the API no more store procedures
etc so you do have the ability to extend
your profile properties of asp.net
identity which is tied into entity
framework so when you start off with FSF
and you begin to capture the Facebook
user information we already have the
profile extended to capture that
information to store it in asp.net
identity if there's additional
information you're going to start to
want to make use of and request using
scopes you just have to make sure that
you remember to
back in here and going to the model of
the application user and just add in a
new property for whatever it is that
you're gonna bring bringing in and you
can always use the graph API Explorer to
see what you know what payload you get
back to understand what you need to add
so just to know about what you have to
do and all this is documented any steps
that you might do outside of just
downloading this and using it our doc
will be documented and github as your ad
we kind of went and talked about a
little bit earlier but as your ad is
your active directory in the cloud
identity as a service solution as your
ad comes in three core flavors free
basic and premium we had a full session
on this yesterday just kind of comparing
and contrasting all the versions
including now as your b2c so the point
of this is just to think that in the
future if you feel that as your b2c is a
more appropriate option for what you're
working on at least now you know that it
exists again there is a cost to it but
again there is advantages there you have
your full Identity Management already
built for you just basically customize
it and it's there you don't have to do
much about it and you can start today
it's up to 50,000 users is free so if
you want to do 4 dev test scenarios or
even for small app so you don't think
we'll ever reach 40,000 but hopefully
all our apps will reach in the billions
right so just to note about that
so automation so as your web jobs people
using web jobs some except yeah web jobs
are pretty simple to use web jobs are
essentially a natural resource that we
have that really all it is is pushing
out a executable or a PowerShell script
or a batch file whatever the case is to
the cloud and running it on a scheduled
basis so it's kind of the same idea as a
scheduled tasks in Windows and Windows
Server and you just push it out and it's
it's just great I mean it's awesome
extremely stable so we're using web jobs
for pulling in that big news information
for you and that's running every 6 hours
so again if you want to modify that if
you want to modify the time frame if you
want to go above and beyond what the
throttle limits are on that API you can
do so you can modify the time of the
scheduled job there's a JSON file in the
NFS F that shows how often it runs you
just change the number of
and then you're good to go right now
it's Bing so I'm trying to push for us
to do with MS devs when it comes out and
you'll see all those five content
providers I personally would like to add
them all in but right now it's just
being this will be available in the web
job yeah we talked about the website GPI
api app again so API apps it's
essentially built off of the Web API
framework but again the real big
difference is the use of swashbuckle and
swagger UI and I have another deck on
that tell me another s slide on that so
we talked about these here you want to
get to the all right so securing your
API app again we do use there is a
PowerShell script and FSF to deploy
everything that you need in Azure so
again in the same fashion that you're
just going to download the solution
framework and be able to use it you also
run the PowerShell script against your
azure instance and it creates all the
resources for you so when it creates
those resources it also creates an azure
ad the prin an azure ad application
object that application object the
purpose of it is to secure your API app
ok so that no one can hit any of the
endpoints in your API app directly
without having an access token from
Azure ad ok so that's the purpose of
that so when you see that just so you
know that's what that's what it's used
for so basically you'll have your own
Olaf provider just as Facebook has
theirs so this is a screenshot of what
swagger UI looks like so this is looking
at the API the API app endpoint for
creating a new user in your app right so
if you notice this right here is the
exact same JSON schema that you get from
Facebook ok
so basically any one of the functions
any one of the methods call this
endpoint pull the information from
Facebook grab the information and put it
in the database simple as that so you'll
notice here that pretty much everything
maps directly to the JSON schema from
Facebook one-to-one and again for those
who haven't developed an API as of yet
or haven't used API apps this is pretty
cool because
as you're building out your API you can
literally just you know run the API and
swagger UI will come up and you can test
your endpoints to make sure that they're
doing what you're building out for them
to do so it's a very good thing before
this didn't exist prior so you have to
use you know different solute you have
to use like postman things like that
right so very very good edition check
how we're doing on time yeah well 50
okay all right the logic app as I
mentioned so as we talk about all the
different touch points that we have with
Facebook within Microsoft Azure logic
apps as we talked about is your kind of
logical processing center within the
Azure cloud the data doesn't need to
reside there but the processing flow
will be powered there so there are ready
some kind of pre-built templates that
you can use so let's say for example you
posted Twitter you automatically want it
to post to Facebook you can do that you
know share my Instagram photos on
Twitter so if you post to Instagram you
automatically want it to go to Twitter
you can do that if you want to do that
on a scheduled basis email yourself new
tweets so these are all just kind of to
give you ideas of what you can possibly
do with logic apps the idea is that if
you build an API app and it's using
swagger and using swashbuckle you can
automatically power a logic app to
interacts with that API up and you might
have a sequel database or an S AP back
in Oracle whatever the case is and you
can run that logic there so Microsoft
flow which we'll look at as well shortly
so again just a reminder about FSM the
sample solution ms devs coming out so
uses all the elements of the face book
solution framework so anything that
you're going to see here when you log in
can be done using FSF with the exception
of the different all the content
providers that we're using app to
aggregates content from various content
providers as I mentioned Facebook
Instagram YouTube being iTunes Amazon
and uses Microsoft flow as well so how
we use Microsoft flow is pretty cool so
Microsoft flow is basically a layer on
top of logic apps it's the kind of you
know the audience for that individuals
who really don't have any kind of
development skill set or development
background who still want to kind of
create core logic flows
so they would use Microsoft flow you go
to Microsoft flow comm this is not alive
I has you don't have to go into Azure
you don't need to know how to work with
a sure and the majority of those logic
apps that you saw an azure are available
on Microsoft flow and you just go in
literally via the UI and you start
running things so what we're doing for
example for MS devs is whenever a
YouTube video is posted to YouTube to
the azure channel it automatically gets
posted to the backend of FSF so
automatically shows up in NMS steps yeah
so no matter what we do there right so
we're going to add that for a lot of
channels so basically MS devs is gonna
be like your one-stop shop where
everything Microsoft related everything
Microsoft developer related will
automatically be there so it's to give
you an idea of how you can use Microsoft
flow again this is available now free I
have a few things running of it on my
own like RSS the Facebook is pretty cool
any RSS feed that's out there you know
that you want to post either to your
user page or to a fan page without any
code or anything you can go ahead and
power there right from Microsoft flow
exactly oh I should you just said that
right exactly exactly bit of overlap I
agree so resources these are just some
things that are on my blog they kind of
from my blog transpired into FSF so if
you want to just look at understanding
how to get simple pieces of things that
are in FSF running for yourself you can
definitely go there as well so just just
Facebook log in if you want a visual
studio solution that's just a facebook
login it's there if you want it just for
getting a user's email address it's
there for just for publishing just for
publishing to a fan page so FSF if you
start with it right it's a big Visual
Studio solutions lot there so if you
want to kind of get yourself acquainted
with each component then I make those
available as well I think it was easier
for me to do it that way as well yeah
okay
some tutorials and videos that might be
of use I'll make sure this deck it goes
out to everybody so I'm just
understanding more about asp.net
identity you know the nbc5 app with all
the different social providers and then
building modern web apps
a channel 9 video that we have out right
now so as I mentioned this slide deck
was basically an abbreviation of the
full book that's coming out about
everything that we discussed here today
so that's gonna be coming out in a few
months there'll be you know sample code
obviously FSF is gonna be included there
I want to make sure that everybody who
attended here today gets a free version
of it so if you just subscribe you get a
free ebook if you subscribe to my
mailing list I will make sure they get
that out to everyone who subscribes them
today's date alright let's see what else
we get all right so yeah again follow me
on Twitter I'm gonna be posting all the
information that's upcoming in the next
week so we have FSF FSF early version of
it is already on github as it is the
official version will be there next week
and my staff is going to be coming out
as well
a few few weeks after that is the iOS
Android and Windows versions of ms-dos
then you have the book after that so a
lot coming and again just if you hadn't
subscribed to get the e-book you can do
so as well alright thank you guys
awesome any any questions we have a few
more minutes left any other ones but we
had a lot of questions during the
session so anything else no oh well it
depends on the scope do you requesting
so each scope yeah
so let's say let's say let's forget
about ever set for a second let's say
today I'm just requesting public profile
and email no login review and tomorrow I
want publish actions have to do login
review then the day after I want to do
location I have to log in review again
yeah yeah so what I one thing that I can
kind of some advice that I can kind of
give that any video that I've posted
that worked to get approval I just make
sure that I'm as close to as similar to
that video that I had previously done
when I upload it back to the developer
site to make sure that I get approved
again but they pretty much as long as
you fulfill and all the requirements are
there but the key thing is that they're
they're looking out for
is that they want to make sure that if
something gets published back out to
Facebook that the user knows it's going
to happen that's the key thing so as
long as so basically what I do is under
and you'll see that in MS there's
basically underneath any type of forum
it says and you know this will be posted
to Facebook it has a Facebook logo on it
as well yeah yeah and then they can
check that and uncheck it as well so
there's a checkbox of whether or not
they want to get to get posted if they
say it's article stinks on your read it
or whatever they don't want that to be
published out to Facebook they can
uncheck it and it won't get pulled in
won't use public actions well it's an
aggregator it's an aggregator so they'll
publish it out to their resources but
it'll eventually end up in MS devs so
it'll be a cool resource to use where
you don't have to worry about going to
this blogger that blog or that blog or
this YouTube channel or whatever your
channel 9 yeah exactly it's everywhere
right so again feedly is like I'm on it
every day I'm like oh my god so much
content yep yes they absolutely will
definitely yep yeah any other ones any
other questions
valuable information you guys found
really cool awesome cool excellent thank
you all have a safe trip back to
wherever you're going Thanks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>