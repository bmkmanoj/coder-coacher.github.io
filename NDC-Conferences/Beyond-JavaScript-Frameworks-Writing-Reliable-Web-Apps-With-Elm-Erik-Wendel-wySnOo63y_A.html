<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Beyond JavaScript Frameworks: Writing Reliable Web Apps With Elm - Erik Wendel | Coder Coacher - Coaching Coders</title><meta content="Beyond JavaScript Frameworks: Writing Reliable Web Apps With Elm - Erik Wendel - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Beyond JavaScript Frameworks: Writing Reliable Web Apps With Elm - Erik Wendel</b></h2><h5 class="post__date">2018-02-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/wySnOo63y_A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay let's start first off walk
Elm beyond JavaScript frameworks and how
you write reliable web apps with Elm I
like to start with a question so who of
you knows about Jonathan Ive who is
Jonathan life okay maybe a fifth of the
audience Jonathan Ive is the chief
design officer at Apple and maybe the
second most influential guy for all of
their products after Steve Jobs and the
reason I would like to start this talk
with talking about Jonathan Ive is that
my colleague has this great quote about
Elm that I really really love and the
quote it goes like this
ellen is like Jonathan Ive would have
designed a programming language it is
minimalistic it is juice user friendly
and it just works and of course this is
a bit on the extreme side of things but
still I think it captures the essence of
Elm in a way and during the next hour or
so I will try to show you why I think
this quote is so fitting so I have a few
more questions for you
for you you don't have to raise your
hand just think we think inside of you
if this goes for you or not so first off
how many of you write JavaScript for
work actually here I want some ants
that's pretty much everyone so that's
good you're in the target audience for
this talk for the following four
questions just think for yourself so
maybe you ever shipped an app with
confidence that it wouldn't crash in
production like there's zero zero chance
that it would ever crash in production
and if you did lots and lots of QA that
doesn't count for one of my previous
projects we did like three hours of code
three weeks of code freeze with no
changes to the code base just doing
system testing before we can make the
release and in 2018 you don't want to be
working like that and did you ever feel
completely safe after a large refactor
of the JavaScript code like really
really large testing all of the core
domain logic I know I wouldn't did you
ever become overwhelmed by the amount of
front-end technology that you need to
know in 2017 or now 2018 I mean you have
react you have Redux you all of the
other view parts of the the layering
cake and
you have the build tools webpack you
have the add-ons like immutable Jas and
typescript flow etc etc because of all
of these new tools maybe you ever felt
like not everyone on your team was
comfortable with the front-end tasks I
know in my previous teams there's always
been this partitioning into like the
backend people and the front-end people
and the very few people are actually
comfortable on both sides so for me as
working as a full-time large-scale
JavaScript consultant for the past six
years I can safely say that I felt all
of these paints personally I have felt
that JavaScript fatigue there's even a
word for that now there were some
refactorings where you really have to
change the way your app works but you
really really don't want to and you have
the dedicated front-end developers I
know I am one I would like to do more
back and stuff but it's just so much
things do - you need to know to be a
professional JavaScript developers and
also the nail-biting deploys I work at
the large banks um some years back and
uh like those big deploys I hey I don't
want that for anyone so I will argue
that elm addresses all of the issues and
that's why I think that Elm is so
interesting as a piece of technology and
while it also addresses these issues I
feel that it also provides a dedicated
pair programmer because it's a compiled
language you also have the compiler by
side all the time being your dedicated
player programmer that's never sick
never hangover never goes on vacation
it's just always there and it also
provides error messages that actually
help you know John Carmack the the lead
developer behind quake Doom lots of the
great games for the 90s actually has
this great tweet about Elm and its error
messages because Elm is one of the I
don't remember the exact wording but Elm
is one of the has one of the best error
messages in the world and lastly it has
a solid package system you won't be able
to publish a package unless your public
API is thoroughly documented and that's
that's enforced by the language itself
and it enforces somatic versioning and
all it
these other good things so before we
delve deeper into Elm I guess I need to
present myself my name is Eric Wendel I
live in Oslo and I work as a consultant
I've been working mostly with JavaScript
and mobile technology now for the past
six years focusing on the user interface
part of things and really nailing that
part I worked with some large scale and
reaching companies like the region
railways NSB and SpiderMonkey M which is
the second largest bank in Norway at
Becky consulting in Oslo and the web
development lead and I'm also a founder
of Oslo L meet up and also Elm Day a one
day conference about Elm in Oslo at my
current client the NSB we are going to
be using Elm and we're serving elm in
production to over 1 million users
buying train tickets every every day so
this is today's agenda first we start
off with a little deep dive into elm how
it works and how it compares to the
JavaScript solutions of today secondly
I'm going to live code a very small app
for you to show how the development
experience is and lastly I'm going to
share a little bit about my findings
when I ask the question does anyone
actually use Elm I mean it could be a
really great technology and all but if
it's not ready for production if people
aren't using it is it really that
interesting right so this is what we're
gonna look at today so let's start with
how album works first off you said that
nearly all of you use JavaScript at work
so I guess you can all tell me what this
is what will this code produce this is
actually running JavaScript code you
could parse this into your console it
will produce an output so this is
actually string I'm guessing you all so
that immediately and this is a string
hello and DC and well I guess many of
you have seen that this is actually
valid JavaScript I would like to show
you why and how it works
as a small example of a wonky JavaScript
can be before we delve into Elm
so I'm going to give myself a little
challenge I'd like to be able to produce
the letter e which is the first letter
of my name Eric without using any more
than these characters so and arrays are
a really fun thing in JavaScript they're
not actually erase their objects special
form of objects where all the keys are
numerical indices so we can do a lot of
funny things with erase we can try to
use the unary addition operator the plus
operator with an array and it would be
coerced into a number so that would be 0
plus array 0 okay and we could try to
let's say negate that
so what's not plus array hmm that's true
because the 0 is try is coerced into a
boolean value which is false and then it
would negate that which becomes true so
now we have an e but the problem is it's
not a string it's a boolean value as
always in JavaScript when you want to
produce a string you would just plus it
together with an array well ah there we
have the true so now we just need to get
the number 3 and then we could access
the third character in this string so
let's try to produce the number 1 let's
start an array again we could plus that
but now we have 0 so no amounts of 0 is
going to get as a 3 but we could try to
go the path we went with earlier and
negate that I'm sorry it's an illegal
character for this task so if C 0 is
false then maybe 1 is true so let's try
2 plus the true aha
so if we just do this enough times we
could basically create any number using
only those characters that means that if
we revisit our earlier true string and
we would wrap that
some parents and then try to access the
oops
like that and then just do our little
trick again
voila and the reason I'm doing this is
to show you that JavaScript was made in
ten days I guess many of you know and
while it's a great language I really
enjoy working with JavaScript writing
new code in JavaScript is just a breeze
but the problem is when I revisit my
code three months earlier even if I
really really spend a lot of time trying
to write good code and the problem
escalates when I write a really big
application and when I write a big
application together with ten people or
maybe 20 people or maybe 50 people and
that's pretty much the background for my
interest in elm and and really should is
the context for this talk so let's go
back to the slides
so when I say the JavaScript attitude of
today for me that's do react and redux
it's a great package deal for doing
large-scale JavaScript development so
I'd like to compared with that so Elm is
a language compiling to JavaScript it's
not a framework and it's not the library
so you can't directly compare it to
react or angular or vue.js or any one of
those and being if a language another
framework you can go a bit further in
the promises it delivers I mean we the
development experience it can give you
and and just simply the entire package
can be a bit more it can be more just
like Apple controls the entire ecosystem
they make the hardware they make the
software they control the distribution
to the App Store and they can go a bit
further in their what they can offer you
and that's a bit of the the the the the
thought behind Elm as well and thus Elm
and JavaScript are totally different
they don't intend to be a tool that you
can just add onto your existing text Act
it's a completely different way of
solving the problem so it's different in
terms of semantics but also of course in
terms of syntax but on the other side
elm uses pure functions and a virtual
Dom similarly to what react started with
now all of the other JavaScript
frameworks are doing so you create this
tree of components and that's the way
you create your front-end app but Elm
does not allow for component state or a
local state you know all of your data at
the top of your application just like
with redux
so basically Elm uses the Redux
architecture and but the thing is that
it's actually the other way around the
creator of redux Dan Abramov this a guy
from st. Petersburg in Russia he
actually tried up Elm and really liked
the way of developing with Elm and the
architecture the architecture that you
use in Elm so we thought let's try this
in JavaScript and out came Redux which
is now maybe the most popular web
framework out there so I would say that
Elm is basically react reduction with
type safety
I am a big fan of reactive ducks and my
friends come up to me and say hey you
said I should use to reactivate ducks
does that not apply anymore should I
jump ship to Ellen and my thoughts is
that react with ducks is great but if
you if you are willing to ditch
JavaScript and go even further in search
of bigger promises and even better
workflow yes I think Elm is better but
it's the same way of working it's just
that elm gives you type safety and a
more solid experience so let's see some
code just like with react you would
compile your elm code down to a single
JavaScript bundle file and you would you
would include it in your HTML with the
script tag and then you would simply
tell your Elm app to render into a
specific download like here we render it
into the container node so it's easy to
use Elmen just a part of your
application just like Facebook did with
react they started using react only on
the chat part of their app because it
was the most complex one and also one
with the thermals real-time data so it's
simple to try out Elm on just a part of
your app and let's have a quick overview
just like with other similar languages
the the biggest focus is on correctness
maintainability and developer
friendliness it should be your code
should be almost mathematically provable
that a rule that will be it will run
you'll be running without bugs so it's a
functional language from the ML family
so it's similar to f-sharp Oh camel and
Haskell and I guess just like a react
had the virtual Dom has the major
selling point during the early days Elm
has been no runtime errors argument so
it's possible to have runtime errors in
elm but you almost have to try to get
them the biggest Elm adopter in the
world has about two hundred and fifty
thousand lines of code and they have
never had a single runtime error in
production with over a billion page
views and it's heavily opinionated where
javascript is so flexible you can bend
it any way you want you can you can use
in this way a functional way
object-oriented way whatever
Elm is really narrow box Elden provides
a single way to solve every problem and
it's very opinionated this is the way
you format your code this is the way you
are
to take your applications but they are
really thought through they they have an
extreme focus on this so for some people
that's that buying is too hard they
don't like to be controlling that way
they like the flexibility of JavaScript
but that's just the way em works so
these are the key language features all
data is immutable and there's no null
and the big point of that is that
there's no null pointer exception and
that's that's a big part of the no
runtime errors thing it's all
expressions there's no statements so
unlike f-sharp where you have both
statements and expressions the in
analyst just expressions everything ever
evaluates to a value the language is
pure so all the side effects are handled
by the runtime so if you need do a
network call or access local storage
whatever you tell the LM runtime to do
that for you you don't do it yourself
meaning that all the functions in your
code will be pure our architecture is a
built in feature there's no question
should we use this way to structure our
application should we use like Elm Redux
or Elm angler or Elm view that's it's
not a question you just use the Elm
architecture and that means for me as a
consultant and I enter a new Ellen
project I always familiar with the way
things are set up because it's set up in
the L way if there's no I don't have to
learn in the framework and lastly it has
a very small with expressive feature set
I don't know if any of you saw the talk
in this room before me by Scott clashing
on the power of composition and you
talked about composition it's like doing
Legos everything just clicks together
and I think that that is really true for
Elm as well it doesn't have that many
features but the features click really
well to create bigger systems but it's
therefore pretty easy to learn Elm I've
done another workshop for our workshops
full-day workshops and people everyone
from seasoned developers to grad
students in the university pick it up
really fast you can be productive in a
day so let's see some code as ellen is a
functional language function
at the core of the language so here we
have a function increment that axis
accepts one parameter X and we return
that parameter X plus 1 5 is a constant
which is the result of calling increment
with the value 4 so in JavaScript you'd
use the parentheses but in Elm you just
use the space to call a function so
whenever you see a space like that it
means called function increment with the
number 4 there's no types here because
Elm can infer all the types it else has
full type inference it sees that ok
increment is a function except something
we call X AHA X is you use plus X plus 1
that means that X has to be a number
because you don't use the plus operator
to concatenate strings X is all plus is
only used for numbers so L can infer
that the input value X is a number and
the return type X plus 1 also has to be
a number but as good citizens of Elm you
would also always specify the types so
the arrow means that it's a function
increment has type int to int and v has
type int the types service great
documentation for other developers and
they're also a good
they're basically you telling the
compiler that this is what I expect from
the code that I am about to write so the
compiler can help you out and give you
heads up if you manage to get an error
in there somewhere and with trivial
functions like this the point that isn't
that big a point but when you write
real-world applications it becomes all
of the world of difference so in
addition to constants we have tuples we
just using the parents and also records
which are basically objects in
JavaScript so it guest gets really
interesting when we start talking about
types because types are really critical
in functional programming so we have the
type alias notion like you're doing
swift where you say that coordinates is
basically a pair of intz so whenever we
have a pair of
and you could basically just call it
coordinates so you're kind of creating
an alias between those two you're not
creating like a class or a constructor
or anything you're just saying that
whenever we have this something of this
shape we might as well call it
coordinates you don't have to do it for
tuples you can also do it for four
simple primitives to basically rename a
type which makes it makes it clearer for
clearer for other people reading your
code later I guess type aliases are they
work the best when you have records so
let's say you have a customer type which
is a record with field name of type
string and a field age of type int so
here's me six years ago so moving on
there's this other great construction in
elm that's the the thing I find myself
reaching for whenever I do JavaScript
now these days and it's called Union
types and to show you how it works I
have this a bit larger example so let's
say every customer has a type
you're either a student type you're a
corporate customer or you're a private
customer and let's say in JavaScript you
would represent that as a string so
every student customer has a student
discount
so let's model that with an int which is
a number between 0 and 100 representing
the percentage of discount so myself
five years ago
I would be a student customer and I
would have 50% student discount so
that's in JavaScript this is pretty much
the way you would do it and then
fast-forward a few years so I start
working at BEC I'm now a corporate type
customer and I have a student discount
of 0 which makes sense because I don't
have a I shouldn't get any discount but
still it's a bit weird that I have a
student discount field there right what
why is it there when I'm not a student
now the developer reading this has to
know that we never type a student then
that field becomes active if not you can
just ignore it but it's still there
that's a pretty bit weird also it's very
easy to miss type the value of the field
type you could write corporate without e
on the end and then your code will work
it would just blow up in production
unless you have a lot of tests of course
so we have this Union type construction
for this which is basically like if
fancy enum so you can say that type
customer type has one of three possible
values it's either a student a corporate
or a private value so so far it's just
like an enum what we have achieved here
is that the compiler will be able to
tell you if you forget to handle a case
or if you mistype it it will say I don't
recognize the value student of type
customer type I I don't know about that
value but now we've lost our student
discount and we've also lost the company
name field so just like in F sharp you
can add values to each of the different
branches of the Union type so whenever
you have a student value you need to
have an int you can't create a student
type without an int you can see it asked
that's the student value wrapping or
containing an int and the compiler will
enforce this in your code you simply
can't create a student value without
passing it an int it's not possible
similarly with the corporate value so
the way you unwrap this is through
pattern matching here we have a function
called get discount accepting a customer
type and returning a discount which is
an nth so here you see we use the a case
expression case class of and then all of
the different possible values of the
customer type so here Elm can actually
notify us if we forget one of the
branches and it can detect spelling
errors and it will also type safely and
wrap the wrapped values like a discount
and the name so let's say you have a
really big application and you let's say
myself as an example we sell train
tickets and you would think there's just
one type type of tickets but that's
wrong there's about 16 or 17 there's one
way to get to a ticket only return
ticket there's a period ticket for 7
days 24 hours 30 days 365 days there's a
senior citizen tickets etc etc so that's
modeled as a union type at our
company so whenever we add a new type of
ticket or remove it then elm can
immediately run through all of our code
and see ah you forgot to add that branch
in the case expression here and here and
here and here and elm will simply not
allow us to compile the code so it it
won't let me
deploy that code and possibly have a
crash in production that's a pretty
major sell most of these language have
this built in Union type called a maybe
or an optional in elm it's called maybe
and that you would use that whenever you
would use a null in JavaScript sometimes
you have a value that could be null or
it could point to something so in elm
you will model us as a maybe the a here
is just a placeholder it could be an int
it could be a boolean it could be a
customer type it could be a conference
class could be whatever so whenever you
have a maybe something you either have
just that something or nothing and you
explicitly state that so whenever you
want to unwrap that value and get the
just like the just int you would also
have to specify in your pattern match
what should I do when it's not there and
if you don't do that
Elm will scream at you and refuse to
compile your code and that's that's the
part of the recurring team for Elm it
will try to help you avoid these
mistakes all of you code and that's your
codebase gross
that became becomes a really big thing
so let me showing an example of fusing
and maybe let's say we're writing a game
and in the first playthrough of that
game you don't have a high score because
you haven't completed the game yet and
after the first game playthrough you
could display the high score up in the
corner of the screen or something so
you'd have a maybe int the first time
around it'll be nothing but the other
time around it would be maybe it would
actually have no sorry it would be a
just int because the two branches are
just or nothing right so let's see how
we would unwrap that we would of course
use the pattern match again so you do
case game that high score which is same
of type maybe int and then Elm would say
that okay it's and maybe int so we have
either de just
or to nothing and we would have to
specify with what we would do in both of
those cases this is similar to how we
would do a network call in Elm you would
have to specify what should we do if the
network call fails and similarly for
oral operations that can fail like
accessing the first element in the list
what if the list is empty the Elm will
force you to handle that so it in some
way it's a bit more cumbersome because
you have to handle all of the cases up
front but on the other side you can
sleep without worrying that your code
will break because you know that L got
you covered so that's it for the types
let's move on to HTML which is pretty
important in a web application right so
here's a small snippet of HTML let's say
we want to create this HTML in elm and
output it to the screen like everything
else we use functions so for every HTML
tag like input div span for form etc
there is a corresponding elm function
that you can call in order to create an
element like that and they all have the
same function signature they accept two
lists one list of all of the attributes
like class ID etc etc and the second
list is all of the children so you see
we have a div function that and that dev
has one attribute which is a class with
valued ninja and the div has one
children which is a span which again has
one children which is a text node with
the string bonsai so it's a bit unusual
to read the first time you see this but
you do it in a similar way in react so
if you if you are familiar with react it
should be pretty familiar as well and
the type of this is the special type
defined as HTML and just like in maybe
you can just you can't just have a maybe
you need to have a maybe something maybe
int maybe boolean just like with lists
you have a list string list boolean you
can just have a list
similarly you can't just have HTML you
need to have HTML with something and
that something is what kind of value it
will produce back into the system if you
interact with the HTML so let's say you
have an on click
listener or a scroll listener or
whatever Elam would need to know what
kind of event would that produce and
here we don't have an event so we don't
have any type you can just put a but
let's say we add an on click to this
band we would produce a do something
cool value and ship that back into the
system and let's say do something cool
is if type MS Jean just message now
that's a convention in Elm then the type
signature would be HTML msg we will see
more on this later so this is the Elm
architecture in its simplest form it has
three parts you have the model which is
all of the state in your application if
you are familiar with redux it's the
same thing as a store in redux you have
all your data in this big blob secondly
you have the view because you need to
represent that data in some way in HTML
that's what you output to the screen so
that would be your react tree of
components lastly you have the update
function so whenever something happens
like the user times out the user clicks
on the button the user Scrolls you get
an answer from a network call you would
call the update function to see what's
the next version of our data so that
accepts the message which is what
happened the previous state which is the
model and you have to return the new
model so that's similar to the reducers
in redux so we've reached the last slide
of the first first part and this is how
you interrupt the JavaScript you use
something called ports to send strings
back and forth to JavaScript and if this
looks a little bit cumbersome it's
because it is and it's made that way
intentionally because you need to have a
type safe way to interact with
JavaScript because your JavaScript code
can and will fail at some point so elm
needs to not to get too close with it so
you could define a safe token interface
and in JavaScript say that whenever you
pass something on that interface just
call this callback function let's say
save it token to local storage and the
other way around you can define an
interface that elm would listen to and
in JavaScript you would just pass a
string to that interface through sent so
let's say you're writing application
with not
not that much logic on your end but
you're just gluing together a lot of
third-party libraries it you would have
to do this pretty much for every library
so that's a bit cumbersome so that's the
one of the drawbacks of elm again so
let's see which JavaScript libraries you
would need to get all of these features
out of the box today you will need react
to the rendering to have a virtual Dom
create a tree of components and I guess
it's the most popular way of creating
web apps these days you would need redux
to how the organization of your
application you could do it with just
react but that doesn't scale really well
you would need immutable j/s or some
other library to get immutable data
structures if you want types and you do
in a large application you would need
typescript or flow and typescript is in
itself a totally different language than
JavaScript so then you've already taken
the step away from only using javascript
and also all the type safety yet from
typescript or flow is great compared to
vanilla JavaScript but it's pretty
limiting compared to what you get from
Elm or F sharp and lastly you would want
to have some way of auto format in your
code or making sure you don't enter any
of the many pitfalls of JavaScript like
writing your entire application using
only parents and square brackets so I'd
like to do a small app for you to show
you how it actually works and what the
development experience is like so I'm
going to do the example that's maybe the
most commonly used in web tutorials and
that's of course any counter app where
you have two buttons one incrementer and
one decrement and a number so let's see
some code
here we go let's start with a clean
slate so now you see that we start with
the compiler error because Elm doesn't
know what to put on the screen because
every elm program needs a main function
so let's try to just output hello and
the C we still get an error fail to
compile should I get the bigger font for
you guys maybe can you read this in the
back it's good
so Elm is clearly saying that the main
value has an unsupported type
I need HTML SVG or a program but you
gave me a string so Elm can't render a
string and that's a bit of technicality
with cost in HTML you always wrap texts
plain text in what's called a text node
so we would need to call a function to
convert our string to a text node like
this and then we have something on the
screen so here you see that Elm is very
explicit saying I expect this you did
this maybe you want to do this I think
also Elm will know in it didn't do that
in this case but normally it's it gives
you an a suggestion on what function
you're looking for so at least a
signature of the function you're looking
for so let's start writing our counter
application so you usually start with
the model like what data do you need in
your application and you would create
type alias for that so let's say our
model in this case is just an int
because all we need to remember is that
number right in a real application you
had a large record structure with your
user data some data from the server etc
etc so that's the type definition I was
just saying that the model type that's
basically just an int so let's create a
model so it's a mobile has type model
notice that the uppercase is referring
to an actual type but the lowercase is
just a variable or a constant so model
is let's just say start at 0 so you you
notice that once I save this file Elm
will
format it for me using something called
Elm format and Elm format is like
prettier in JavaScript it has a certain
way of formatting every possible code
snippet and it ensures that all Elm
programs look the same there's no sure I
use semicolons should I not should I put
this on a new line should not it's just
this is the way we do it in Elm it looks
nice get used to it or use something
else so it's a bit on the extreme side
and to me at first I didn't like the
syntax but then I said to myself okay be
an adult spend two weeks with it and see
if you don't like it or not and now it's
totally fine it's just syntax right it's
really nice to see that when I enter my
colleagues down project and they just
want a code review or something I I'm
immediately familiar with the code
because it's formatted in the same way
and the architecture is the same right
so to me that's a huge win so let's
create a view function to render this on
screen so our your function would take
the model and we would return some HTML
that never has a and event yet so now
you see that Elm is complaining that we
have a type annotation but we don't have
the definition that's right because we
haven't made it yet so now you see that
Elm in first from our type a definition
what it's supposed to do so I can just
enter like like his default
implementation so here we would want a
div and inside a div we would want a
button and a span and another button so
III don't I don't care to reformat it I
just save and album fixes that for me so
inside of the buttons I would like some
text so I'll use the text function again
like that let's render this thing as
well so called the view function with
our model like that so we need to fill
the span with our our integer so we
could try to just call a text function
with our model in JavaScript that would
have worked because it would just court
try to like force
do to match and do something with it
like we see that we saw in my example
but Elam is telling me that text accepts
the string but I gave it a model so I
would need to convert that so so the
naive implementation here would do would
be to call to string on the model like
this and I should also type it correctly
so it works but it's a bit hard to read
and you can imagine if I needed to call
another function maybe two more
functions I would start to approach like
the parentheses hell so here you would
use the pipe operator and basically turn
the the order of the functions around so
I would pipe the model into the two
string and the result from that into
text works much better and I think
actually Elm got the syntax and the idea
from F sharp so um let's start adding
some interactivity because the buttons
aren't working so we would start by
creating the list of possible
interactions in this application the the
message type and this is not a type
alias when we say that if something
looks like this you can call it this now
we're saying that this type has this
finite set of values whenever you have
this type you need to have either this
this this this or that right so our
message in this small app is just one of
these two possibilities because we don't
handle any other events yet you could
add like user timeout or a network call
or stuff like that but in this average
just how these do and the nice thing
about that is whenever you open an
application you just find a message type
and then you see all of the possible
things that can happen in your
application so if you're your boss comes
and asks you do we support user timeouts
just check the message type does it have
a user deed timeout message then we
probably do if you don't then you don't
have that scenario you don't have to
look through all of your code all of you
possibly tens of thousands of JavaScript
files to see is it supported and when
we're talking about that I will also
like
point out that this main function is the
only thing that could possibly be
outputted on the screen as opposed to
JavaScript where every every line in
your code could possibly have a selector
that goes into the DOM and mutates
something and modify something right you
never know you have to scan all of the
code or have a tool to do that for you
but in elm the output of the main
function is the only thing that's put on
screen so it's very clear it's easier
for a developer entering the codebase to
find out what's going on so on each of
the buttons we'd say that whenever you
unclick these just fire this event so
that's increment for the top button and
decrement further but lower button so
now Elm is complaining because we said
that our HTML never has an event right
but we do and elm can see that so we
actually need to update our type
definition to make LM happy but we are
not handling them with just the thing
we're outputting to the screen it's just
the fire-and-forget call me once view
function we don't never update it and
this is where the Elm architecture comes
in so we need to actually use something
called beginner program which is like a
bootstrap function to do to kick off the
Elm architecture and that's basically a
function that accepts a a record with
three fields so we need to say what's
our view function okay that's the view
function what's our model or well that's
the model and what's the update function
and that's the part we didn't create yet
so we need to do that so the update
function takes a message like what
happened and what was our state before
this thing happened and what's the new
state
so we could just return the old model to
to see if the compiles and it does so so
we hooked up the types correctly in elm
accepts our code so most of the update
functions in elm looks like this you do
a case expression and you match on what
happened right which of the possible
values of the message type is it that
just occurred is it you sir did timeout
got accounts from server etc so here Elm
can infer that okay this message type it
only has two branches do you want me to
in certain for you yes please
so let's say you have sixteen different
types of and region train tickets than
that although an insertion becomes
pretty handy so you would say that Inc
in the increment case you do Marvel plus
one in the decrement case you would do
model minus one there we have a very
very simple elm application and you see
that all elma applications that consists
of these three parts what our what's our
data how do you represent our data as
HTML and what we do to our data when
things happen and of course we have the
network calls and all of the other stuff
I don't have time to show you in 60
minutes but all Elm applications are
built this way and they look the same
due to the Elm format tool and yeah to
me that's a really big win when you're
doing large projects with a lot of team
members so let's return to our slides
so we've reached the last part this
anyone actually use elm so my question
was this Elm has been around for quite a
few years attracting attention and
generating a lot of conference talks
like this one but is it really ready for
production is anyone using it in their
business critical user facing
applications and if so what's their
stories and I realized that if I want to
actually learn the answers to these
questions I just need to meet a lot of
developers and preferably Elm developers
so the first thing I did was to start
the meetup group in Norway to see is it
just me or are people actually
interested in this and it turned out
that after about a month with no
marketing whatsoever just be the things
that meetup.com does for you
automatically we had about 150 members
among who also received quite a bit
smaller than London so that's actually
quite big and we got almost 50 people
showing up at the first meetup which to
me was a great success and now in
January 2018 we have about three hundred
ninety eight millimeters it's the world
is in a region which is members and we
do one meetup every month so I just
tried to talk a lot of different people
there find out who is actually using Elm
are they using it in production etc and
we found out that one of the biggest
names in Elm was going to Paris for the
Elm Europe conference and we asked them
would you like to stop by an Oslo just
on your way home just to do a talk and
he would love to you so weary booked his
flight and then we had to decide should
we do like a larger meetup or do we want
to do a conference so of course we
wanted to do the conference and that's
where also Elm Day came to be so it was
a one-day singletrack conference in June
last year we had no idea if we would get
any people there but we actually did so
we were happy about that we've got about
hundred people paying at in this and ten
speakers from five countries actually
four people flew out from the US to talk
for us all the talks are for free on
YouTube if you want to see some more Elm
and we're planning an extradition this
May so to try to answer my question as
simply as I can
does anyone use elm in in short yes
people are using elm actually for real
stuff
also in Norway and it's hard to quantify
that but I would like to show you two
examples of different teams and
companies using elm and their results
and they were also written in elm
different reasons so the first one is
another conference in Norway called Java
sown really similar to end the see over
there about three thousand attendees
like eight tracks not just about Java
it's about everything basically so this
friend of mine was tasked with writing
the information screen software it was a
really old JavaScript app it didn't work
half of the time they wanted something
new where they can just push new stuff
from the like control room of the
conference just the tweets and videos
and information pictures whatever and
then the Apple just load that on the fly
and he was thinking that okay I need to
rewrite this application in my spare
time because it's a nonprofit community
driven conference and the screens there
are two two screens and they are both 7
by 10 meters which means that there will
be about 140 square meters of my
application failing in front of all my
friends my cloud clients my friends from
school if I manage to screw something up
so he thought hmm let's try this own
thing I read nice things about it and I
heard that it doesn't fail in production
so he used it and actually had to learn
a lot of stuff in a way because it
wasn't that familiar with functional
programming but in short he really loved
it and the most interesting thing is
that also the other people among the
organizers liked using elm and most of
those guys weren't that familiar with
the front end that's why he was tasked
with writing this thing in the first
place so they're mostly Java experts
long time back-end developers really
skilled developers but haven't really
found the time or interest in learning
JavaScript or modern front-end but with
elm they felt more at home because they
had a compiler so they had more of a
similar development experience to what
they were used to from Java and some of
them c-sharp and also you had the no
runtime error guarantee and the types of
course which hello people really miss in
JavaScript so now that I know they're
using elm for the
like yeah I call for papers smithing
application and all of the internal
applications and also a lot more people
than just my friend are doing the
front-end stuff and to me having a
technology that can enable all of the
team to do both front-end and back-end
it's immensely important so let's see if
you have some f-sharp on the back end
then most of your developers will be
familiar with this way of working from
beforehand as well so that's one of the
examples and the other one is where I
currently work so I was lobbying to get
us to use elm it was not just my
decision I had to convince the client
and the rest of the team and I said
let's try to do a summer intern project
because we got summer interns from the
University in Trondheim and they would
work for free for the client at least
and I say let's rewrite this old thing
with where you reserve your seats and
we'll try Elm if it doesn't work we
could throw it away self safely you
won't spend any money on it and if these
two grad students with three years of
university experience and can write this
and produce good code and it works in
six weeks then I guess Elm isn't that
bad and in short the two students really
loved it they would like to spend more
of that six weeks
rewriting Elm because they had to spend
like three weeks integrating it in the
olden mobile call basis and that it was
a bit less fun and the code was good we
didn't really throw code review and in
in short we decided to move forward with
Elm and now we're using Elm for the the
web site part of things where we sell
tickets so now we have a team of about
six developers doing Elm almost
full-time so we're really happy with it
and for us we also felt that some of the
back-end developers are not doing
front-end stuff and that's really cool
so to summarize a lot of people are
expanding experimenting with or using
elm and interestingly 100 percent said
would use again and to me that's maybe
the strongest feedback that I've learned
during these this one and a half year
and the onboarding is relatively easily
if you haven't done much functional
programming before I guess that will be
the the biggest learning curve but if
you've done some Haskell or F sharp
a camel or Scala it shouldn't be that
hard
and also if you've done react and redux
a lot of the architecture stuff and all
the web related stuff will feel really
familiar the world's biggest adopter in
San Francisco has about 250 lines of
code and they still haven't had a
runtime error in production and that's a
really big argument for Elm of course
there's some bad use cases from Ellen
if you're using it making using some web
technology to write a prototype it's
just like a fire fire and forget
application the the argument for Elm
isn't a strong also if you're making
something that's really small in size
that's would be easy to to maintain
anyway in in JavaScript maybe your
startup and your development speed
Trump's quality you know that just want
to write the code you did out in
production and and test the product
market fit and you don't care if it if
the code looks good or if you have to
rewrite the entire thing a year later or
if you use a lot of third-party code
because it's a bit more cumbersome to
integrate with than just using plain
JavaScript I mean it works and all of
the Elm projects do but if your app is
just integrating the map thing with the
geo-positioning thing then maybe you
know javascript is better and also if
the if your team is not familiar with
functional programming at all and
they're not really interested in
learning perhaps could have a too steep
learning curve for you on the other hand
side there's some great use cases for
elm sometimes you just know that all you
know is that real are three factors are
coming you know that you don't know it
all you know that your first take on the
domain model won't work you'd have to
iterate and iterate and iterate to get
things really well the complex domain
logic it's really well modeled in
languages like Elm I mean in Haskell and
that family of languages were instantly
written to make compilers and call that
really needs to almost in a
mathematically provable way produce the
correct output right so when code
correctness is important elm spirit and
also if your team isn't that
knowledgeable about JavaScript as was
the case for my team and we had three
four people who hated JavaScript they
didn't want to touch our script so
we could either use JavaScript and just
leave them for the back-end and cloud
stuff or you could use ailment and have
a better chance of having the entire
team do front it so I hope I've been
able to share my thoughts on why elm
addresses these pain points and to
summarize I think that elm gives you a
language without runtime errors the
refactoring support is great simply
because it's statically typed and
compiled you have front-end technology
for the entire team the delight is has a
delightful development experience just
the reduced cognitive load when you
don't have to keep everything in your
head of how things click together you
just have a compiler whenever you do
something wrong the compiler will tell
you that ah you're supposed to return
this type error not this type okay thank
you now you have Redux built in which is
perhaps the most popular web solution
these days together with the react
that's also built in and on the bad
sides you have currently small ecosystem
so if you're really dependent on losing
a lot of third-party packages Elm is
nowhere near the JavaScript community of
course because javascript is just a
weapon these days you have a language
without a huge backer
I mean react has Facebook angular has
Google Elm doesn't have any of those and
of course since you always need to
specify what you would do if the network
call fails or if you try to get the
first element of a list and it's empty
and it fails or if he and maybe it
doesn't have a value you have to write a
little bit more boilerplate so that's
the price to pay to get all the the
safety guarantees so the I guess the
question is is it a good deal I guess
it's no secret that I think so but
what's most interesting is what you
people think so I hope that I was able
to make you curious
during these 55 minutes I have some
recommendations for further reading if
you want to learn more first a shameless
plug me and my colleague we made this
free workshop where you implement the
memory in the game where you click two
cards and they try to match the
corresponding
kittens called memory meow and that
workshop is free available on github
I will provide the links on the last
slide so check that out if you want to
have a step-by-step learning guide on
how to write a small application in elm
please join the Elm slack it's a really
friendly community they have a like
policy of trying to answer every single
question in the beginner channel so if
you have a question about Elm just go in
there and type it out and lastly check
out your local Elm Meetup I know there's
large meetup group area in London and I
think they do meetups every other month
or so so please check that out please
make sure to evaluate the session on
your way out using this small post-it
notes and all the slides and the walk
workshop link is available that is the
GED flash and the CL thanks for
listening</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>