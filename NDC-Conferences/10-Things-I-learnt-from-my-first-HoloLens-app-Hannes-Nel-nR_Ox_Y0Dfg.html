<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>10 Things I learnt from my first HoloLens app - Hannes Nel | Coder Coacher - Coaching Coders</title><meta content="10 Things I learnt from my first HoloLens app - Hannes Nel - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>10 Things I learnt from my first HoloLens app - Hannes Nel</b></h2><h5 class="post__date">2017-09-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nR_Ox_Y0Dfg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so my name is Hannes I am a technical
event
New Zealand I flew over from Auckland
for the conference I do a whole range of
things but our team is really focused on
working with bleeding edge technology so
all the new stuff and I help developers
to adopt this new technology now I'm not
on the hololens product group so if I
say anything every year that isn't
already public knowledge and I doubt I
will
please don't tweet it all right ok so
I'm I don't have any announcements about
win the next hololens can so please
don't asking about that one hi there but
they are working on it and there was a
really cool article from Microsoft
Research little while ago about the
neural network support they've gotten
the new holographic processing units so
have a look at that one that's
fascinating so session agenda will do
some theory I've got this slide deck
that we usually use from Corp down from
like 40 or 50 slides to 6 so not a lot
of theory and then we're going to write
jump in and do some development and see
how I built a little petal bounce app
it's not a great app but it gets a point
across and it's on the App Store so you
can go how to play with it so the first
thing that I just wanted to do is I want
to just talk about this mixed reality
term because it's something that's kind
of evolved a little bit over the years
and I find that right now there's a lot
of confusion about what this mixed
reality mean and a lot of its because
you may have heard a lot of different
messages from Microsoft about it we've
evolved this term so at one point we
used it to refer to the hololens is a
the only mixed reality device and then
we used it to refer to a new upcoming
Windows 10 immersive headset so we
called them mixed reality headsets but
no hololens and now the current
iteration of it is really this there's
this virtuality continuum with ir on one
side and VR on the other side and it's
all about how much of the real world
bleeds through and we use the term mixed
reality to refer to the whole continuum
what makes these mixed reality devices
it's their awareness of the world
outside now the new upcoming devices
they have cameras that they use for
tracking inside the device itself so
unlike the V even the rift you don't
need to set up a whole bunch of other
cameras we call this inside out
so that awareness of the world that
allows it to do their tracking without
the external cameras that's what makes
them mixed reality devices and the same
goes for the hololens okay
the hololens itself is this device over
here it is a fully untethered computer
that's got Wi-Fi Bluetooth so it's only
internet it runs a special build of
Windows 10 and you can put it on and you
can go outside well don't go outside
with it but you can go away to building
sites or whatever and use it as an
offline device it doesn't need Internet
connectivity it doesn't need to be
tethered to your phone or to your laptop
or any of that standalone device you
install your apps on it it's got I think
about a hundred twenty gigs so sixty I
had a thing about 120 gigs of space on
it and so you can install a lot of apps
they unload all of your contents and
then go use it we don't have internet
which makes it a pretty special device
now we'll look at some of the details of
what you can do with it in your app as
it comes across I believe Lars have
already covered off a lot of what you
what the device is and what you can do
with it and that stuff Stephan spoke
about it earlier in the week as well so
I'm not gonna bore it bore you all with
that again I spend around for almost
three years now two years in the public
eye so there's a lot of contents about
the device itself what we're going to
talk about is developing for it
developing for Windows mixed reality now
anyone can buy this device it's a little
bit expensive but you can buy it you
just go to the Microsoft Store and put
in your credit card and they'll ship you
one so it is accessible it's not a
private thing you don't need an
invitation code from some obscure guy in
a back alley developing for Windows
mixed reality so it's a Windows 10
device already mentioned that which
means that you build you WP or Universal
Windows platform apps for it those are
the same apps that run on Xbox and
tablets and surface hub and mobile
phones this is probably one of the last
ones and Australia but they still around
so Windows 10 apps you write the app
once it'll run everywhere but there is
special extension SDKs that gives you
access to their special device features
so that in itself is a hour-long
discussion so how what you will see you
used to develop for for hololens you use
Visual Studio to booktube audio windows
app
and it's really just directx that you
used to render the images to the display
now anyone who's ever tried to build a
game and like most other middle-aged
white males in the IT industry I did
once Harbor this illusion that one day
I'll be a game developer when I was
young and then I tried to write some C++
code with DirectX and I figured out that
you spent 99% of your time developing in
game engine and 1% of your time actually
developing in game alright so the world
has moved on we've now got middleware
like unity unity is a outstanding game
editor and about 50 just less than 50%
of the world's mobile apps mobile games
are actually written with unity and the
app stores so it's widespread use big
community it's been around for a while
it's stable there's an asset store for
unity where you can get all the 3d
assets and stuff that you need and so
unity is my recommended way of building
hololens apps about over 90% of the apps
in the store at the moment for hololens
is built with unity and we use that to
build solutions for our customers
through through our services division as
well now there's a whole bunch of stuff
that we've gotten out of those apps that
we've both for customers that's reusable
components and we put those into the
mixed reality toolkit which is an
open-source thing on github you can go
get those components out you can use
them in your app you can contribute
fixes and contributions back to it it's
also known as the holo toolkit we're
busy renaming it now from holo toolkit
to mixed reality everything that was
hollow is becoming mixed reality and
that is to acknowledge the fact that
you'll use the same toolkit the same
api's to also target the upcoming
immersive headsets so those VR headsets
there's really only three new API is to
support those everything else is the
same stuff as what we built for hololens
so again it makes it really easy for you
to write an app that'll work everywhere
let me just talk one more thing about
that so so this is the basic structure
of an app that you'll build you'll use
the windows API that takes care of
things like where's the device pointing
what are you doing with your hands with
the gestures then you use the open
source mixed reality toolkit to
help you do things a little bit easier
they've got a whole bunch of prefabs in
there that does things like event
management and I'll show you all those
kind of things and then you've got the
app experience that you build so that's
your 3d models and your textures and
your scripts that kind of tie it all
together
so without further ado that's the end of
fury session and now we'll jump into our
our development right so we where do we
get the mixed reality actually now let
me first jump into unity so when you go
open up unity you get a little window
like this and you go file new project
now in the interest of time I have
already done that but this is important
check out the version with unity it's
really important to be aware of what
version you're using because they bundle
the editor and the runtime together and
so when you upgrade the editor it also
upgrades the runtime and there's often
breaking changes that will break your
stuff so you don't just arbitrarily
update unity and they can install them
side by side as well so you can have
several different versions but you want
to be be careful of that one it's bitten
me a couple of times so when you go file
new project this is what you end up with
this is mostly an empty unity project
what I've done over here is I've just
pulled in some pre-built assets so that
we can we can get started a bit quicker
the first one that I did is the holo
toolkit right so where do we get the
holo toolkit well we can go to github
that's the github site for it's over
here and we can get it from year so
that's they working really hard to
improve the documentation by the
documentation storm of great you go to
releases and then in this little page
over here you'll see every time that
we're doing release from the master
branch we'll put it in here and we are
now matching these releases in the
master branch to updates to the unity
editor right so again that version
number is important you need a
particular version of the toolkit to
support a particular version of unity
you always want to match them up
otherwise you get weird stuff happening
okay so we've downloaded the mixed
reality toolkit and we go assets
we go input oops not export assets
import package and custom package and
then we go find the place where we
downloaded it and that's this guy here
that's what it looks like once you click
open it'll take it back edge it'll
extract all of the things out of it and
I'll create a folder in your assets
folder for it called holo toolkits we
rename renaming it to the mixed reality
toolkits in the next version but this
one is still hollow toolkit so this has
a whole bunch of folders in them again
and each folder has a bunch of stuff and
then like these prefabs over here now if
we go have a look on our hard drive this
is the contents of our unity project
this guy over here okay and in the
assets folder that's the stuff that I
just showed you down there in what we
call the project view okay so everything
in your unity project is just files
there's a little meta file that describe
all the properties of the the asset that
you've pulled and that you change in the
editor but it means that it's really
easy to put these things in source
control and you know work like a
civilized developer when you when you
share the workload okay
so that's very cool so we've got the
holo toolkit worlds n I've got two other
folders here this IDG textures one this
is something I got from the asset store
I'll talk a little bit more about that
later
and let's folder over here is my
projects asset folder always create your
own assets folder so that you can keep
your stuff together so you'll have a
whole bunch of third-party tool kit
stuff over the year and this view and
then your folder with your stuff now if
pre-built a few things here just again
to speed us up but before we go on I
just want to show you what we're
actually going to build so I've got this
time you little video over a year
that'll bounce demo this is a build of
my app from a little while ago that I
record it for something and it's very
simple there's a little pedal we look at
it battle with tap and hold and then we
can move the barrel around and bounce it
up and down there's a little bowl up
here in the air so when we grab the
barrel the ball gets gravity it falls
we're bouncing it on a pedal it falls on
the floor and rolls around when we let
go of the pedal the ball games comes
back to where it started
I've got a few other things over here
like that scoreboard over there and I'm
kind of still working on the app what
I'm also doing is writing a tutorial
series and which I'll go into a lot of
detail about how I'm building these apps
and explain all of these things so
that's also on my github repo um I've
been sourcing it so you can fix my typos
if you want or my contribution so I'll
just use it and go through it I'll see
how much interest there is and and there
and it will and whether I actually
finish it but uh yeah for really it kind
of read put in the first three parts and
we started with how to install the tools
and yeah okay so now that we know what
we want to build let's start building it
so once you've got your toolkit and the
next thing you need to do is you need to
add a camera to your scene okay so in
the holo toolkit we've got some prefabs
a prefab as a collection of things
that's just kind of built for you and
you can reuse them so you just drag him
into your scene so that's what we were
gonna do here and we here on the left
this is our hierarchy view you can think
of it kind of as the Dom for your web
page right it's that place we've got all
of the things in your web page well this
is where we've got all the things that's
in our 3d environments in our 3d world
okay so we need a camera because the
camera is what is used to determine how
to render things okay so that provides
it with the display basically now I'm
using a pre-configured hololens camera
over here you don't have to do that you
can use the regular camera and then
that's all a toolkit menu item this
comes with the SDK with with all its
lookit packages that are imported so
again that's why it's important to
maintain their versions all right so
it's got really deep integration into
the editor so if we go over into
configure and apply all in settings
there's a bunch of settings over here
that'll apply to your camera for you to
help you get started I'll just quickly
take you through what those are so some
of the main differences this background
over here so typically in a 3d game
you'll put up a skybox over here we can
see in our game preview the skybox they
have has brown land and a sky over there
for a hololens app we want to set the
skybox to just be a black solid color
and the reason for that is that the
display is an additive lights display
like the engine so it projects light
into your eyes so when it projects black
that's really the absence of light and
you get a transparent effect so as long
as your skybox is black you can see
through the lenses and see the world
around you if you make the skybox blue
then you get this blue kind of that
obscures the world in front of you and
there's point times when you want to do
that but this is not one of them the
other thing that it does is we set the
field of view so that it matches the
field of view of the device itself and
we're not rendering things that we can't
display and then we also set the
clipping planes now the clipping planes
as how close and how far it'll it'll
keep on rendering if you render things
too close to user it actually gets quite
uncomfortable so you want to kind of cut
it off the default is 80 centimeters
from you for this game we'll just bring
that a little bit closer because we're
kind of working with something in front
of us over here so that's our camera now
the next part that we need over here is
actually our ball so I'll pull actually
let me show you how I created the ball
in the first place I went right click
game object 3d objects and I added a
sphere to my to my scene alright so
there's the three kind of 3d things that
you can add this here's the sphere I'm
just gonna pull this one out to pull in
my prefab ball and and then also pulling
a prefab for my paddle okay so that's
what my paddle that's what my paddle
looks like over there we can go around
it with this little gizmo over here very
cool so how did I build this paddle oops
how do I build a pedal I went right
click I added another game object a 3d
object and I used the cylinder type so a
cylinder looks like that and then I
squashed it down and made it a bit
smaller then for the handle I added
another game object as a child to the
cylinder called a capsule and a capsule
looks like a ball box alright let me
just pull that out so you can see
that's what a capsule looks like I took
that capsule I rotated it onto its side
and I made it a lot smaller than it is
so I'm going to delete these two and
just take you through the modifications
I've done so they sour ball now the ball
is located at 0 0 1 a camera is at 0 0 0
so that's the origin of our scene right
in the middle of our scene is that
camera and that's our head that's what
our hitters with the hololens sets now
the ball is at 0 0 1 so 0 this x-axis is
left to right for us why is up and down
and Xia this closer and further so this
ball is located 1 meter in front of us I
am very very happy that for once the
Americans didn't get to decide which
units were using so we're using meters
likes you know civilized mathematicians
do around the world the paddle itself is
located 30 centimeters down from the
center and a meter out so just below our
ball okay and then if we look at the
scale function over there our ball is 4
centimeters across so it's about this
big I I tried it with a standard paddle
and ping pong ball sized and was just a
little it's too small it didn't work
that well so 40 centimeters apparel is
15 centimeters across and 16 centimeters
deep and half a centimeter high okay now
here's an interesting one the handle
itself if we look at if we look at the
handle
you'll see the numbers over here don't
make sense okay
z4 nothing in there is four meters right
so the reason for that is because
because it's a child of the blade of the
paddle all those values are relative to
its parent okay so it is 20% of the
width of the parent so in my tutorial I
made the calculation but my maths is not
strong so we're going to do it now it's
half the depth of our paddle and it's
four times the thickness of a paddle now
that's strange as well right because why
I said what's up and down and now it's
this and that's because we've rotated
around our x axis so that's what's
around the y and the z axis so you've
got to figure these things out as you
play with it sometimes you're just
changing the values over here on the
right hand side and you just to see and
the preview what's actually changing and
then okay so that's the wrong one so
I'll try that one and it's kind of yeah
you get used to it okay so now we've got
a ball and we've got a paddle and that's
kind of already a part of it our game
now I want to show you on this on this
on this camera if we align our view with
a camera itself sorry a line view to
selected this block over here that's
what the camera can see see that how it
matches the camera preview over there
now if we go like that see this full
stream so that gives you a really good
idea of what's in your camera view and
what's not now we can preview our game
and this is a really important part of
here
you want to be able to run your whole or
luleen's app in here because deploying
it to your device takes time and effort
and you are going to take weeks to do
even a simple app that that's what
you're gonna do all the time right so
you want to be able to run as much of it
in your editor as you can and you would
be amazed how much you can run in this
editor so if we just move back from our
scene a little bit this is one of the
another cool things of the hololens
cameras it's got this gaze controls
objects over here and what this lets you
do is control the camera with your mouse
keyboard and a gamepad so again you want
to be able to simulate everything
because otherwise you would have to put
the hololens on and walk around and see
what things like you don't want to do
that you don't want to that you want to
be able to simulate all of that stuff so
we can see our ball in our pedal now the
next thing we do is we're going to
enable gravity for this ball so there's
a few there's a few things over here
there's this sphere Collider object
actually let me first talk about the
rigidbody so what is a rigidbody well
what is this whole panel actually so
these components over here is what gives
the game objects functionality which
makes them lets them participate in our
app so we've got a game object in each
game object can have all bunch of
different components and you can have
multiple of the same components on there
and you can have different kinds of
components but they're just little
isolated piece of pieces of
functionality so one of the base ones is
a transform component that we've already
looked at another one is the rigid body
a rigid body is what gives your object
mass which makes it kind of participate
in the physics so with this rigid body
on the ball we've said that our ball is
27 grams which is the weight of a
ping-pong ball
it's got no drag at all and we can
enable gravity on it now if we click
this button suddenly our ball starts
falling right do you guys see that let's
do that again and this time I'm going to
not show you in the game view but in the
scene view and we'll pick our ball will
click the gravity button and it falls
right and it falls and it lands on the
pedal and it just kind of stays there
now how does that work there's another
thing I vehicle to Collider if we look
at our pedal you'll see it's also got a
rigidbody on it and both of these have
colliders now what the collider does is
that's a unity component that raises
events when two objects starts touching
each other okay so it raises an event
and in the physics engine knows okay
it's touching something else now I need
to see what is it touching what's the
physics that needs to happen over here
and in this case is just gonna stop now
that's not particularly useful for a
game called paddle bounce right it needs
to actually bounce so we need to tell
this Collider what needs to happen when
a collision occurs
and we do that with something called the
physics material so in our little
project place over here we'll go ahead
and we'll go right click create and
we'll create a new physical usually
you'll use a different one for each kind
of object depending on what it's made
from in this case I'll just use the same
one now I'll call it PB physic because
that is a really cool name for things
now on the specific material I can set a
few values that we're going to set the
friction to zero point one the it goes
from zero to one and the bounciness to
one a dynamic friction is used to
calculate how much energy is lost when
two things hit each other static
friction is used to calculate how much
energy is lost when they rub against
each other or roll over each other okay
bounciness is how much energy is
retained when it collides away if we
make it one no energy is lost if we make
it zero all energy is lost so we'll just
make this zero point nine so it's nice
and bouncy and then we'll assign that to
these two objects over here so we'll
drop that into our colliders physik
place we'll do the same for there for
this guy over here
cool now if we preview our app do that
and enable gravity see it bounces how
awesome is that
do you know how much code we have not
written all right if you tried to do
this ten years ago with C++ and DirectX
and you know you write your code even if
you had good tools there this just
getting here was weeks weeks and weeks
because you would have to go bold a
physics aim gentleman a few years ago
still you would have to pay large
amounts of money to be able to use this
kind of an engine if you think about
things like the frostbite the engine and
Unreal Engine and even then you'd still
have to spend a week or so just writing
the code to make that engine do this
we've done this in 20 minutes so I think
that's pretty cool that's why we use
unity so let's stop out now the next
thing we want to do is we want to be
able to move our paddle around right so
to do that we need a few things from the
holo toolkit the first thing that we
need is an event system and I'm going to
get the input manager prefab
that guy of the year and I'm just gonna
pull that end and now let's look at this
this is just the this doesn't have a
rigid body so it's not an actual object
that is in our view that participates in
physics this is a collection of scraps
so it's got to this guy's manager script
what that guy's manager does is it
determines what you're looking at and
how to interact with the things that
you're looking at
it'll pass events through to them and do
other really cool things that involve
some maths that I don't know how to
write so it's also got a gaze stabilizer
that's really important because your
head is actually quite jittery you don't
notice it because your brain is really
good at compensating for it but as soon
as you start trying to do maths with
that stuff all that jetta and noise
comes through and when you're looking at
an object on the other side of the room
what is really in perceptible jitter
over here is it like jumps like this in
that straight line which is wide so I
had to send things to mass because
that's very far away so if you're just a
little bit off over here you end up
sending it to your own essence instead
of mass so that's the input manager it
does some something else for us that's
really cool scholars editor hands and
puts thing over here so now if I go play
again we want to be able to simulate
everything in our editor so now I can
control my hand I hold shift and my
mouse controls my hand and if I click
that's like doing that a tap gesture
alright so we've got down and up ok so
that's really really useful again for
being able to write our hololens app
spacebar does our right hand and you can
see over the endless inspector panel how
that stuff changes as we do so you get
that live feedback and the way that we
did the gravity so that's useful we also
would like to have a cursor now in the
hole a toolkit again we provide you with
a few different cursors a basic cursor a
cursor cursor cursor
I like this interactive mesh cursor
because this one kind of looks like the
one that we use in the shell so now if
we play again see that little donut
shape and how it hugs the object that we
that it hits I think that's pretty cool
the other thing it does is when it sees
your hand it grows and we need to take
tap it goes into a to a dot so this is
really important for users because the
gesture box where we recognize gestures
is around here so you always get users
who start going trying to do this and
it's not picking up their hand and they
don't know it so you want to provide
this kind of feedback that says hey I
can see your hand I can see you tapping
I can see something happens so always
provide the kind of feedback it's kind
of like having a mouse-over effect on
your webpage and having a click effect
on your button you want to do that kind
of stuff okay so we've got a cursor
we've got an input system now let's see
how we can make that pedal be able to be
dragged around so there's another script
in the toolkit called the hand draggable
script and we'll drop this on the pedal
so what we did right here is we added
another component to our game object
again it's this script over here so it's
got a few properties that we can play
with I want to play with this distance
scale I want to make that one what this
one does is it translates the movement
of your hand to the movement of the
object so if that is two and I move my
hand one centimeter the object will move
two centimeter in that direction and if
you are trying to move things around on
the other side of the room that's really
useful because you want to move it large
distances without having to go walk
around like this right that's not that's
not a good experience because people get
tired and tired people don't like to use
your app in this case we want it to be
really accurate so do it at one in some
cases you want to go below one because
you want to be able to really finally be
able to pick things up so you want to
play with that one and again you can do
that programmatically as well to use
different things for different scenarios
so we've dropped our script on here
we're also going to set the rotation
mode so that when we move this battle
around it'll always orient towards us so
the handle will always point at us and
we're going to keep the keep upright
option so that it stays flat like that
otherwise it starts tilting and it's
really hard to hit the ball a second
time I feel that all is tilted like this
and it kind of bounces off today okay
so we'll keep that option on over there
done now let's let's see let's see how
well this works so I'm just going to
stand back a little bit over
here so we can move our pedal oops
can we we can move our pedal around
right see how cool is that okay last
thing we need to do before we've got a
Minimum Viable Product is we need to
make the ball actually fall when we grab
a paddle and this is now the time when
we whip out their elite coding skills
and we say create a new C sharp script
we'll call this one paddle behavior so
up till now we've really just used the
holo toolkit stuff but now we actually
start to need contributing to to the
cause over here so we've got the spiral
behavior script by default that's what
unity creates for us
when we say create a new C sharp script
and we're gonna drag this onto our pedal
and now if we scroll down over here
we'll see there it is down there battle
behavior and I'll highlight it for us
when we click the four double click it
it'll open it up for us in visual studio
so mysterious says that the project has
changed now I've already opened this up
but unity will open it up for you and
we'll connect Visual Studio up with what
you're looking at so now this is our
Visual Studio product project for this
app you'll see that there's two projects
over here this one is where all of our
scripts are expand that we see assets
holo toolkits all of the holo toolkit
scripts are in there and the petal
bounce scripts our script is over here
this is the one that we just created
okay so I'm just going to delete that
stuff we'll get back to that all of
these scripts all inherit from on our
behavior it's just how their engine
knows what to do with a script and how
to do things on it so to tie into our
holo toolkit into that event system that
I spoke about from the input manager
we're going to implement an interface
called I and put handler cool so I am
put handler is something that comes out
of the holo toolkits every like control
dots we get this handy suggestion to
pull an holo toolkit at Unity door input
module and then we need to implement the
method interface and it's got two
methods on it called on and put down and
on inputs up so remember that guys
manager that I talked about a little
earlier so whenever you're looking at
something and you do this the guys
manager and the input manager will go
have a look what are you looking at take
that game object run through all of the
components in that game object and it's
children so that game object tree and
see if any of them implement any of the
interfaces that we're interested in now
the one interface are we using every
year I input Sandler this one has on and
put down which will be called whenever
you do this he's got on inputs up which
would be called when you do that now why
is that not called on finger down and on
finger up the reason for that is because
you use the same interface if you're
using the motion controllers or the
little Bluetooth thingamajig Bluetooth
remote let me show to you so you get
this one with every other links that you
buy I use this one full for the older
executive people at companies that I
show all the lanes to because they
really struggle to learn how to eat at
so if they don't get in minutes are
given one of these and it's like okay
let's just move on and you'll see what
you can do with the device so yeah so I
don't you put down it also works for the
triggers on your on your motion
controller so again it's the mixed
reality toolkit not the hololens toolkit
okay so this is useful so on input down
we want to add gravity to our balls so
we need a ball we need a reference to
the ball so how do we do that well we
can go find it programmatically out of
the scene or we can create a public
field and of type rigidbody and we'll
call that ball okay now I used rigidbody
over here because I want it only wants
objects that have a rigidbody components
on them to be assignable to this field
if I used game objects over there I
would get any any game object now if we
look at our script over here it's
compiling it's compiling and there's our
ball field so now we can go and click
that button it'll show us all of the
things in our scene that's got a
rigidbody on it and we're interested in
the ball notes the camera isn't there
because the camera doesn't have a
rigidbody the input manager doesn't have
a rigidbody so you want to use that be
specific about there to make your own
life a lot easier okay so if assigned a
ball we've got a reference to our ball
now
now what we want to do is we want to say
ball dot use gravity as true okay we'll
save that one I want to show you
something really cool over here is I can
attach this to unity okay so we'll it
starts a bold off that builds our
project and the unity editor okay it's
attached now so now if I go back to
unity now if I go back to unity and I
wait for it to finish compiling over
here and I click play I can go down to
my scene preview tap on it
and we hit our break point alright so we
can step through the code running in the
unity editor so again you want to be
able to believe this much Devon there as
you can and and you can do quite a lot
so we can do things like inspect our
variables ball this use gravity 1 we can
pin that one over there move it out of
the way step through our code 415 see
our changes the value of our variable
very cool I think that's why we like
visual studio no more console dot print
line all right like in the old days yeah
and so now when we tap our pedal the
bull drops okay so we kind of half way
they can I have with it so now we want
to return the ball back to its original
place when we let go of the paddle so
that's something that we will do a non
input app so we'll go bald or transform
dot set position and rotation and we'll
use a regional position for that and a
regional rotation I contemplated
recording this typing experience but I
just couldn't get myself to do it
so we declare our fields again visual
studio is getting much better at writing
our code for us resharper's stole the
king of that and
took me a long time to learn how to code
without resharper so on input up will
set the position of our ball back to the
original place but now we need to know
where it comes from right these fields
are undeclared at the moment so remember
those messages that rule those methods
that we deleted right at the beginning
we're gonna have to pull them back in so
we can go in visual studio and say
implement unity messages and this is the
list of their standard messages now in
unities message pass messaging system as
the app runs it'll go ahead and call all
of these methods if they implement on
the game objects or on the components so
that one particular message that we're
interested in one and now is start and
we'll select that one and we'll click OK
and this message or method gets called
whenever your script starts up when the
game loop starts and everything is set
up it'll call this one and you can do
startup logic over here there's another
one called update that'll be called on
every frame render so every time that
you're rendering a phone you call
updates and you can change what's
happening and your in your app so that
gets called 60 times a second or more or
less depending on how good your code is
so in the start 1 we want to assign this
field so we'll just say original
position equals ball dot transform dot
position and we'll go original rotation
equals ball dots transform dot rotation
cool and so now we know where our ball
starts at the beginning of the game and
we can put it back there when we're done
so just wait for it to finish compiling
down there okay and we run our game just
gonna step back a little bit
and now if we tap it'll bounce we let go
and we go okay so this one will bug in
there in that we have forgotten to
disable gravity okay so there's a few
there's two more things we need to do
here one is ball dot use gravity equals
false and there's another thing called
is kinematic did I explain what is
kinematic does on the rigid body okay so
what happens where this is kinematic
feature thought is let me just disable
it again and we'll go back to the unity
tool to the unity editor on my ball I've
got this disabled so that means that the
physics is the physics engine will
control where the ball goes it'll
control its position on my paddle I've
got it enabled this kinematic is enabled
because we programmatically control the
position of the paddle so it's not
controlled by the physics engine now if
you don't switch it off in that ball
when you move the ball from here to
there and that value is still on the
physics engine picks up that you've
applied a force to the ball to get it
from here to there and it continues
applying the force or not it's kind of
unpredictable at that point and the ball
often will end up drifting just off into
the ether because it's got no gravity so
that's not really ideal because then
you've got to run after the balls you're
a little pedal and it's not a good game
okay
so now our ball will go back to where it
came from and it'll will disable the
gravity on it and I'll go stashed
standstill again so now it's time to see
how that runs on the actual hololens
device so the first thing I'm going to
do is I'm going to enable the mobile
hotspots on my computer so that I can
connect to it from the hololens and
which is probably going to sleep now
turn that on okay so that well that's
going well that's going let's see what
we do from here we go file build
settings and what we're going to do now
is build a player okay
build a you WP player now you see this
is a very long list of a year of things
now if previously I tell you that game
editor run time over there that's how
we're running the game at the moment but
if we want to run it as a you double P
app we're going to need a different
version of that build for you double P
so that's what we're doing here so when
we do that bulb click the bold button
it'll now take our game logic so that
first little project it'll take all that
assets in our assets folder like the
models and stuff come put that stuff in
a bundle compress it put it together
with our scripts and then grab the UWP
editor or the uwp runtime from its
installation directory and to put these
three components together and create a
visual studio solution that contains all
of that ok so now it outputs a UWP app
that we open up in visual studio and we
go on with that if we build an android
app it'll create you a project with an
android runtime that you open up in
Android studio if it's an iOS project
you'll open it up in Xcode ok so we go
into this Bald's directory it's not this
solution that's the one that we've
already got open double-click it and
it's this solution over here now just
see if I open it up before I think I did
it's this guy over here
so it says that it detected that the
select is that the solution were
modified so we just want to reload that
for a moment and here we go so that's
our u WPF so this project over here
that's our script that we had now I
check the box to include the scripts
then pre compile them which means that I
can go ahead and debug these scripts
right here from the unity from the
visual studio project so that's really
cool if I want to debug against my
hololens device so previously we de
bugged against the unity editor now I
can debug against the device now to run
this app we simply go and we need to
change this we should change this to
release if you put it on debug you can
debug releases a bit faster debug is
quite a lot of instrumentation in that
drops your frame rate frame rates are
really important and then master is for
when you build the package that you want
to put over to the store that will
enable the darknet native tool chain
that you need to build all you WP apps
the store so we keep that on release
will use the x86 architecture because
this device has an Atom processor in it
and we'll push it to our device now
we've got some options over here we can
push it to the Halloweens emulator
that's a separate install again a free
download it uses hyper-v so you have to
have a version of Windows that can run
hyper-v and that'll start it up for you
and deploy to your hololens emulator or
you can use the remote machine option
and I'm just going to use device for now
device is whatever device is plugged
into my computer with the with a USB
cable ok if I use remote machine I can
use the IP address of this device and
push to it over Wi-Fi so I don't need to
have it plugged in I can push through it
through Wi-Fi which is which is pretty
cool so right now Visual Studio is
building our solution and then I've got
the SolarWinds app over here that I can
use to connect to the hololens and if i
click that button will show us a live
stream from the device and we can see
over there that the deploy has started
to our device so it's copying the files
over and installing my app doing all
that kind of stuff this is a good time
to have some elevator music ok so it's
almost the
it goes a bit slower when you've got the
live stream going it's faster when you
don't now it's installing the app deploy
succeeded so now we'll launch the app
and connect to it
kula now it's connected so now it's
getting telemetry back from the app and
the app is actually starting to start up
and so now you'll see the unity splash
screen that's because I'm using the free
version of unity if you want to get rid
of the splash screen you need to pay him
some money get the pro version otherwise
the features I'm always the same also
the visual studio version that I'm using
it's enterprise but it works you can use
community which is the free version has
pretty much the same features as pro so
you don't need to buy a whole bunch of
software to do this stuff you can use
the free versions for everything
anything you need to buy is a hits here
but you can use the free emulator if you
if you still need to make the case to
your boss okay so here's their ball
here's our battle we can see it kind of
nice and stable okay and if I tap and
hold my ball starts jumping and I drop
it and it's fallen off into the ether
alright cool it's a it's it's an MVP but
it's not something that anyone is gonna
pay us money for at this point so let's
stop that one so okay how do we add a
little bit of flair to our app let's put
this one off to the side again and then
look at some of the other features we're
going to go right up to 10 o'clock so be
prepared another 15 minutes and we'll
close this one down so the first thing
we're there we want to do is we want to
add spatial mapping so there are ball
doesn't fall off and run off into the
ether right how do we do that do we
spend months writing code to do that or
do we go spatial mapping manager we pull
that guy in over the year and we have a
look at it so it's got a got a few
useful things in there these two
components the observer and the manager
takes care of taking the device data the
3d model that the device is building off
the room that were in and bringing it
into our app and making it accessible to
us to interact with this one over here
is again something that's really really
useful for the editor and it allows us
to take a 3d model like this guy over
here this room model and load it into
our editor now where do you give those
models from
took me ages to figure that one out the
documentation isn't particularly clear
on earth you go into your hololens the
developer portal there's a little
website that runs on it that you can
connect to that allows you developer
access to the device and end there
there's a place where it's where you can
see a real-time 3d map of what it's
generated and you can save that model
down
that's an obj file that it saves and
that's the model that you pull in over
here if you're using the emulator the
emulator has the exact same device page
they've got a few models set up and the
emulator already so a bedroom this is
where I actually got this one and you
download them do you set this emulator
up to use that model then you go into
its devices portal and you just download
the model that it's gotten so now if we
look over here I've got draw visual
meshes switch on so if I press play will
now see a visual a mesh of the room that
we're in now it's kind of hard to figure
out what this is but it's kind of
there's like a chair over here and a bed
and some other stuff if we jump out -
there's our petal gun that was missing
anyway if we jump after the scene view
and you can now see that's over there
and then let me just restart it so I
want to grab the spell this but this
part is a little bit hard so now if I go
and grab my paddle and oops
see I miss it okay the ball was coming
rolling around over there on the floor
and now it's gone again we're gonna
spend more time on that so it's there it
knows the floor it knows the environment
that we're in now so so that's pretty
cool now the other thing I talked about
sound earlier sound is really really
important so we're going to go on our
ball we wanted to make a little
ping-pong ball sound so this is a little
mp3 that I got off the internet
I can click play over here and that's
what it sounds like so we want that
sound to play every time the ball
bounces on something right so to do that
we'll go and first of all go to our
player settings or project settings
audio and we'll enable a spatialize a
plugin so we'll use this one over there
that one's for when you're doing oculus
work
we'll use the Microsoft one and what the
that plug-in does is it translates a 3d
space a position in 3d space to how much
volume to play on each ear so that if
something happens on the right tire is
on the right if it happens on the left
eye on the Left closer sounds a louder
further sounds are softer so it takes
care of that for us on our ball we will
add a audio source and we will assign
that audio clip to it ping-pong ball now
that's a mono clip that clip is just one
channel but we hear it in stereo based
on where the thing is
thanks to that specialized a plug-in and
this checkbox over here so this checkbox
tells it to pass the 3d data along with
the clip to the to the plug-in and the
audio system ok so now we've got a sound
attached to our ball if we press play
it'll play the sound once and it'll stop
look what what we want so we go over
here again and we disable play on awake
so don't play it when when a component
wakes up and then we return down here to
do some more lis tacking okay so we
create another behavior we'll call this
one ball behavior it's enter this
detective there was a change so reload
and yes a ball behavior sometimes you
have to just reload that project
manually like sometimes it doesn't pick
up the new fall so on this one we're
going to use one of those standard unity
messages again so implement unity
messages and we will use on collision
inter alright see so there's a there's a
number of different messages there is
about 65 we'll use that one over there
on collision inter and this one will be
called every time that a game object
associated with this behavior touches
something else okay
we get some collision data through that
we can use about to figure out what it's
touching all that but that's more
important here so we want to go now and
get components and we'll look for the
first audio source component on this
game object that this behavior is
associated with so bring back the first
one and we'll play whatever sound is got
in it boom now if we go play and we do
that okay and I do this every single
time I do it you need to actually put
the script on the ball the codes not
going to execute if it's not in the game
all right so now we play yeah just like
that and you can hear it fall on the
floor and roll around right boom okay so
this is all well and cool but it's
bloody ugly okay so let's do some let's
bring in some images and some graphics
so our ball a ball is just kind of this
flat thing so we really want to put in a
little logo on our ball so to do that
we're going to look over here and in our
mesh renderer and the mesh renderer is
the part that actually renders that so
in this case it's using a sphere mesh of
a so it's using that sphere mesh over
there to render it and it's got some
stuff they that I'm not gonna go into
you can tell with it shadows should come
onto it and so on but the important part
here is this materials I want to put a
different material on it because that is
what makes up the skin of your mesh so
what it gets wrapped in
so I'm going to create a new material
for it we go create material and I'm
gonna call that my ball material okay a
material is a combination of a shader
and all of the things that that shader
needs to do its job a shader is a piece
of very low-level very hard to write
code that tells the direct exchange how
to render each pixel so it gets
information about light that hits the
pixel things like normal maps and stuff
and then it says okay so given all these
parameters make the pixel this color and
do that for every pixel so that's a
really really quick way to tank your
applications frame rate is if you try
and write your own shaders don't do that
unless you know what you're doing so
we've got our ball material we're using
a standard shader from unity and we are
going to take this image over here this
is just a standard PNG for a double
click it it'll open up over here and
we're going to take this image and
assign it to the albedo map for the
shader okay now you can do other things
like normal maps and height maps a
normal map is a flat file that indicates
the texture of it so the 3d texture and
that's how you do things like simulate
hair or ruffles or texture on wood and
so the shader uses that with the light
that comes and calculates the tangent of
it to figure out how to refract the
light how to diffuse the light so you
get that 3d feeling without having to
deal with the polygons it doesn't
produce extra polygons into your app ok
so we've got our image over there I'm
going to also make it to emits just a
little bit of light come on and we're
going to use their clothes and I'm just
going to it smoothness there and use
their beta alpha to control that and so
that's what our material looks like now
okay so anything that we wrapped with
that material will kind of have that
logo in that feel so let's go wrap our
ball with it so we go back over here we
find a measure in Deraa and we drag a
ball material onto their material over
there and now a ball has a logo on it
yeah that's pretty cool and so we've got
the NDC Sidney
logo on there now a pedal a pedal needs
wood pedals should always be made of
wood listen plastic pedals are not good
so to do that we want to do the same
thing we want to put in a material but
that's where I talked about the asset
store before I'm I I don't know how to
make wood I'm not a wood maker so I can
go to the asset store and I go can go
buy some wood or in my case
download the free wood so I searched for
planks it enter I'm a cheapskate so give
me only the free ones and this a
bucketload of wood available unless it's
sought so this is the one that I used I
click on it and they've got some wood
over there five high quality plank
textures with 18 variations this looks
good so you click the import button
you'll go download that package open it
up decompress it and copy the contents
of a 10 year now if I have a look over
here these plank textures I've deleted
some of them just to make things faster
but these are the plank textures that I
want to use so I've got a few options
over there if I click it that's a
material ok so that's got a shader and
they've assigned normal maps and hide
maps and that's how that plank actually
looks like it's got texture on it it's
not just a flat flat image so let's go
back to my paddle so the pedal we go
over here into our material we search
for planks 1 and I'll use that color
over there that's a beautiful color to
me we'll do the same thing for the
handle and planks again double click it
and now we have wood all right how cool
is that
just like that handle and pedal it's not
good enough though right every Bandol
every pedal needs a decal on it so the
last thing I want to do is show you this
guy over here I've got another image on
here called paddle decal again it's a
regular PNG that looks like that I'm
going to change this one into a sprite
will use a 2d sprite and I'm going to
apply my settings and drag it onto my
paddle
onto my pedal like that okay so that's
not really what we wanted we don't want
it to be big like that so we'll set it
to one one one and we'll set it to zero
zero zero and now it's kind of weird
right but it's a child of that battle
now but what's happening here is that
it's rotation is wrong so we need to
rotate it along the x axis again same as
our petal right that's much better look
at it from the top and now we want it to
be just above our petal so we set it to
one point zero one okay and not the
z-axis because we've rotated it again
but yeah okay cool there we go so now
it's just above a pedal but it's a
little bit big so we're just gonna
shrink this guide down like that cool so
now if we hit play we'll see our lovely
ball over here and we see our pedal with
our decal over there one last thing that
I want to do is instead of instead of
actually all behavior no Paul behavior
that'll be at it instead of returning
the ball back to its origin I want to
create a clone of our ball so that we've
got a new ball they were trying to play
with so we'll go ahead and we'll delete
this stuff okay and we will go ball
equals instantiate from the ball so
create a clone of the ball at this
location we assign it to our ball object
and we use gravity on honor this false
Odle just kind of stay where we left it
okay now file build settings go through
this rigmarole again click bold
same folder so what happens when you do
this builds over writes all the files in
there it'll only overwrite what's
changed and if you go have a look in
that directory this actually fall they
called unity overrides the text and you
can use that file to control when and
how these Falls should be over it and so
if you've added things to their output
project you can keep them from being
over it and they'll stay there make sure
you check him into source control
because occasionally someone do mess up
and the files get lost so you want to
keep them in there but it's important
that this directory doesn't get
completely recreated every single time
so it saves you a lot of lo of time on
like plugins that you've added in and
that all that kind of stuff so we're
packaging up these assets this is taking
longer than I like okay switch this one
back on we're almost done yep still
connected
oh yeah so we've created our solution
we'll just open up this one again sorry
the other one again and go reload
solution and we'll hit play to our
device
No
if we have a look over there okay show
it to us now because you're already
building hopefully this works sometimes
this files in this a check box that you
have to check to uninstall and reinstall
the app when you deploy it so otherwise
it'll just deploy changes to it but this
morning I've been having trouble with
that yeah so pushing our app through
this still connected yet I succeeded
okay so let's switch over to our live
stream again app is starting up there's
a splash screen again here's a paddle in
our ball so you can see now they say
there's a nice little texture on there
NDC Sidney I forgot to switch off the
visual meshes so it's still here you can
switch off these visual messages just
with that one button and I'll still be
aware of the environment but I'm see
it's mapped a table and it's mat the
lectern and now if we go there and it
goes off to the side of the see how they
kind of okay yeah now see how it only
kind of maps to this so if you move
around it kind of adds to the map of the
room let's try do that
and after a moment it will kind of
become a bigger room sealed becomes be
going now if I come back over here it'll
stay the way that it is over there
so yeah okay cool so that's basically
demo there's a few more things that one
would do okay awesome entertaining
there's a few more things that you would
do from here like add a scoreboard and
all that stuff no I'm putting all of
that that's in my tutorial series that
I'm writing so if you want to walk the
journey with me then have a look at my
github repo so I'll stop this one year
fixed up there
back to PowerPoint because you always
need to thank your audience Thank You
audience here's my contact details
that's my twitter handle over there and
my email address please feel free to
email me if you want to know any of the
stuff we hit me up on Twitter and I'll
be around here for the rest of the day
at the conference so happy to chat about
all of the stuff with you and and where
we're going with that</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>