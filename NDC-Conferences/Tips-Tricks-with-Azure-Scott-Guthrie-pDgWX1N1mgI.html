<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Tips &amp; Tricks with Azure - Scott Guthrie | Coder Coacher - Coaching Coders</title><meta content="Tips &amp; Tricks with Azure - Scott Guthrie - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Tips &amp; Tricks with Azure - Scott Guthrie</b></h2><h5 class="post__date">2018-02-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pDgWX1N1mgI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so I might could people hear me in the
back now oh it's coming on great I think
we there we go it's officially 1:40 so
thanks so much for coming out I think we
have an hour and this talk is called a
spout net tips and tricks and so in the
keynote this morning I showed off a
bunch of services and a bunch of
scenarios stuff you can do in Azure this
talk is going to go a little deeper and
rather than kind of talk about
individual service features and said
what I put together in this talk is a
bunch of kind of where I kind of
consider what I call tips and tricks
that are more cross-cutting across
adjure so the good news is pretty much
all these tips and tricks apply
regardless of what you're doing inside a
sure whether it's VMs whether it's web
apps whether it's micro services whether
it's IOT whether it's data and it's
basically a collection of stuff that
generally when I even show it in front
of a room of azor experts that have used
as you're intensively for years they
always people go wow I had no idea you
could do that it's hopefully you find it
useful and it can really help you be
even more successful in the cloud and
basically the format we're gonna use is
I'm gonna basically just cover the tip
and trick and then dive into a demo and
so I think it's about 10 or 11 tips and
tricks throughout here that'll cover and
again try to make it as demo centric as
possible and really kind of leave you
with concrete things you can go ahead
and do so the first tip and trick is
like a hidden gem that's been an ADD for
about a year and usually in a show of
hands of people using as or ask them how
many people have used this and usually
the response I get is what is it I
didn't know it existed and so let me do
football hands here how many people here
have used as your advisor excellent not
many hands that's actually not excellent
but it's good for the talk it's
something that if you do anything on
Azure ever you should run it's free its
built-in and it basically is a trusted
coach that can sit over your shoulder
and tell you a whole bunch of things
that you're doing wrong and the four
things in particular it will help you do
is build more secure apps have them be
more highly available so in other words
not having quality problems get better
performance and then most importantly
help you save
and so it actually will coach you on how
to pay me less literally and so those
four things are all great things it's
all free to run it and it's super easy
to do so it looks like only about 10% of
people or 5% of people in this room have
even heard of it let's go ahead and show
a demo of it in action so basically this
is our management console and you might
have a different console customized
we'll talk about customizing the
dashboard in just a second what you all
have is this thing on the left hand side
with a bunch of default service services
in it and there's this thing at the very
bottom or near the bottom that we've
added to every single customers account
which is called advisor right there and
all you need to do is click the button
and what this basically will do is it
launches an analytics tool that will
look at all of the your usage and
basically customize the set of
recommendations across availability
security performance and cost management
that is tailored specifically to your
account so these aren't like generic
best practices this isn't like a PDF
white paper you've got to read this is
basically looking at exactly how you
were using Azure with your services and
creating a customized curated list of
suggestions on how to do better and so
for example we can tell you let's just
get to the cost management once this is
the one that literally will help you
save money will basically analyze all of
your application your database and your
virtual machine usage and will basically
tell you hey you've you're not taking
advantage of everything you could so for
example I have a bunch of VMs that I'm
paying 682 dollars a month for that are
way overused based on actually what's
needed and I can even go ahead and look
at the specific usage pattern and so
here's where we've actually gone off and
looked and you'll see it takes a few
seconds but it's basically showing the
last weeks of telemetry on this
particular VM what's its average
utilization rate and you can see this
thing is basically doing nothing on
average for an entire week that's why
we're saying you really shouldn't be
running this as you know a large VM
that's costing a ton of money you know
you're wasting it and basically this
advisor will tell you how to resize the
VM so
if you want to keep it up but just
basically shrink it in size as well so
how to shutdown the VM and basically it
similarly for all the other VMs in my
infrastructure it highlights again
places where you can save money and if
for any of these things if you don't
like it good news is you can press this
little button called the snooze button
and when you do that will basically say
okay do you want us to ever remind you
about this particular resource again so
you can say never if you never want to
be told or if you say like yeah this is
something I should do but I don't really
want to change my infrastructure in the
next month because the holiday season is
coming up you just say hey remind me in
one month's time and then it's news and
that will basically remove this
recommendation or any other ones we have
from the list and then we'll just add it
back into the list in one month's time
or whatever duration are you basically
specify so this is basically on the cost
management side on the availability side
will basically tell you where you have
for example single points of failure
that you don't have set up so in other
words you're not using an availability
set on a virtual machine which means
that potentially if that VM goes down
and you're having a load balancer set of
VMs they might actually be on the same
physical server you set up an
availability set we guarantee that
they're physically isolated inside our
data centers gives you better
availability again you can click the
link and it tells you all about how to
configure it for that particular
instance on the performance management
will actually help identify places where
as an example your database is currently
consuming an awful lot of resources and
so if you click on this particular link
it'll actually highlight for example
something like this and take you into
our database blade and in the
performance management section we'll
actually look at your actual database
usage so in this case here we're looking
at all of the application usage against
this database and this recommendation
here you click it it's basically
calculated you're not using
parameterised queries right now inside
your application and your query plan
doesn't enforce it you turn on this
particular recommendation we've computed
you can basically reduce your C
you usage by about twenty two point five
six percent and then again you just
click the link here and we'll show you
the exact T sequel script to run on your
database in order to apply it and
basically your performance will get
significantly better on average about
0.7 seconds per query will execute
faster so again all this stuff's
built-in it's free and all you need to
do is just run the answer advisor
service in order to do it and again all
these things are calculated based on
your service they're not generic
and so based on your telemetry we'll
recommend different set of
recommendations so I highly recommend
running that every week how many people
are gonna go run it after this talk good
and now I just get in the habit of
trying to run it you know once a week
you can also download this as a CSV file
as well as a PDF and so if you do
consulting for other people about Azure
what I highly recommend is run this on
their subscription take the PDF replace
our logo with yours and you have a great
written report of all the great things
that you recommend that they basically
improve on their service and again makes
it super easy to kind of make this
connection Abul and be able to share it
across teams the reason it's free is
because we know if you follow best
practices you have a better experience
if you have a better experience you'll
be more successful and you're likely you
know recommend and use a or even more so
that's kind of tip number one
tip number two is related to it and in
fact if you run the advisor service one
of the sections I didn't click on was
security and it basically has a as part
of that you know the main thing they'll
tell you is how many security
recommendations it has and then it tells
you to click a link which will take you
into this thing which is worthy of a
separate tip and trick and by itself
which is the azure Security Center this
is also a service that we basically make
available for free in terms of a whole
bunch of core capabilities and it
provides a way you can scan your overall
Azure environment looking for places
where you're not following security best
practices and we'll help guide you on
how to implement them and all that's
free and then it also has a bunch of
other paid features that you can turn on
specifically around threat intelligence
so in other words we can tell you when
you're actively being attacked
and how and whether people are being
successful and then also some new
capabilities which I'll demo in just a
second we call just-in-time admin
control which is a really really great
security best practice that allows you
to kind of actually lock down all admin
access to all your apps and
infrastructure and basically only allow
people to admin it when someone
explicitly jits it or just in time
elevates and it's a really good defense
in depth security mechanism that you can
leverage what's great about Siri centers
it works with all your resources it also
works with a whole host of great
security software from our partners and
so if you've got existing solutions or
security vendors that you work with you
can plug it all in here and this
includes not just stuff that runs in our
cloud but also even stuff that runs an
existing on-premise data centers and so
you can have a single kind of security
center control plane in a hybrid way
regardless of whether you're running in
as your on pram or even in other clouds
let's go ahead and take a look at this
I don't even here have used the security
center excellent no not excellent but
it's good because you'll you'll use it
after I show it to you so let's go ahead
and do it quick to handle the security
center so again you can get to it by
running the advisor and then clicking
the security link in the advisor the
other thing is there's a dedicated link
also in the left-hand side of azure
which is called the security center and
if you drill in here right here and you
click it it launches also a kind of an
experience and you can rather than be
generic security guidance this is
scanning your actual environment and
providing a set of recommendations based
on what we're actually seeing in terms
of how you've configured your
applications and what you have deployed
in Azure so again this is all AI running
on top of your actual system and if you
click any of these links will basically
show you for example we have 20 compute
specific recommendations or issues we've
found and you know this basically
highlights exactly what we discovered
and what we recommend if you click any
of them you get details as well as the
steps for how you want to go ahead and
follow them and so you can see here on
my environment I've got six of my 18 VMs
that are in these subscriptions don't
have anti-malware agents installed
which means I can't actually detect if
somehow I get breached and malware is on
it and so we're recommending put it on
turn it on it's a free service from us
and you can buy other vendors as well
and enable it you've got two of 18 VMs
in this subscription that don't have a
security system update so in other words
an OS patch for security has been
released and it hasn't been applied yet
I'd also detect cases where you've
applied the patch but you haven't
rebooted the OS instance and so it
hasn't fully taken effect which is
something we see a lot of people often
patch and then a script will prevent the
OS from restarting and so even though
they're patched they're not secure this
will detect it one of the features we
have now built in Azure and it's on by
default for all new VMs it's called disk
encryption where we basically will do
encryption at rest on all your disks so
that even if someone broke into the data
center ripped out hard drive and ran out
without the armed guards killing them
they couldn't decrypt the disk to
actually look at your content and so
it's a really good security in-depth
approach and you can even provide your
own key so that no one but you even
knows the encryption value of it so it's
a free feature you can turn it on you
can even enable it with existing disks
because some VMs are old a lot of people
haven't turned it on yet and so this is
basically identifying 14 of my 16 VMs I
probably we're creating with scripts a
long time ago and they haven't have it
enabled I should go turn that on we can
provide you know built-in baseline and
vulnerability assessments that you can
put on both your Linux and windows based
os's
which can help in the event that you do
have a security issue so you can
understand what's the baseline edition
of your system again have it enabled
that and you could see in this case here
bringing in data from a third party
called Qualis which is a security vendor
that has done additional agents that
that are running inside my environment
notice how I'm sucking it in and I can
actually see this in my single dashboard
so this will work again regardless of
what different security vendors are out
there again these are all not generic
but specific to my machine I click on
networking will then look at how you've
laid out your network to
ecology in all of the different network
security groups that are running is part
of my system
and again we'll do some analysis on it
in terms of what we recommend you should
be doing based on what we're certainly
seeing and so for example in this
particular case I've got a couple
different issues so I have a couple of
internet-facing endpoints that are wide
open so I might have SSH turned on on my
VM or I might have remote desktop
enabled on a VM and that port is facing
the Internet and that's a security risk
because someone could buy a hundred
thousand passwords on the black market
and then just start randomly at trying
to log in using the admin password on my
VM and they might get lucky and break in
and so that's one where we're saying you
should really lock down those internet
facing ports and have only port 80 open
and then have all your admin ports only
be on say a virtual network that is
private to your particular company or
your environment we got issues here
we've identified you know you've got a
network of systems so you may be I have
20 VMs and I've got a database I got a
middle tier I've got a front-end set of
systems and what we've observed is you
don't have any network security groups
which are called NS G's enabled on the
subnets within that network which
basically means if anything inside your
entire system were to get attacked and
successfully breached the person could
basically move laterally and attack
other resources on your system because
you have no network isolation and so
we're recommending here is you should
really apply a network security group
which is free so that for example your
front-end can only talk to your middle
tier and not your database directly and
you can isolate so that even if you were
to be attacked
it isn't wide open once they find a weak
link in your system and you can
basically block it and you know other
kind of specific recommendations again
are all based on how is the overall
network set up and how is it isolated
and controlled you can see here I've got
vanilla beams in a lot of cases I also
have a kubernetes cluster using our new
IKS service up here so we're you know it
even works across both platforms
services as well as infrastructure
services in terms of providing these
recommendations you can do the same
thing for data for storage as well as
for your application tier and everything
I'm showing you here is free
so please use it because it'll make you
much more secure some of the other
things that we have and a few of these
these next two things I'm going to show
or three things we're gonna show our
paid features because in some cases
there's a lot of cogs in ball or cost
involved for us to run it but again
they're the great features you could
optionally consider it and take
advantage of they're not very expensive
this first one here is called security
alerting and what this basically does
when you turn it on is it will monitor
your infrastructure not just for best
practices but for actual attacks that
someone might be trying to do against it
and it includes a whole bunch of
built-in mechanisms to basically warn
you any time we see potentially bad
things happening and so for example here
and this is like subscription that I
actually have a demo script attacking
it's not really that dangerous in my
world but this gives you kind of a sense
of the types of stuff that we're
actually able to detect things like
sequel injection attacks this is a
feature you can turn on on our database
tier that'll actually look for any what
looks like anomalous sequel query
patterns going against your databases
and so if we see what looks like an
exfiltration query that's running or if
we see something that just looks
anomalous we can actually trigger using
AI and alert and say you might actually
have a sequel injection attack in your
application that's allowing someone to
try to breach your database and we can
alert you in this case here is what we
alerted and so in this case here is an
example if I click on this he'll tell me
you know here's the database that was
impacted here's a win and I think even
somewhere here permissions crazy I can
even see like what it was the sequel
script that was executed so I can
actually understand what just happened
and see it you can turn on an agent
inside your VMs again both for Linux and
Windows that also we can detect and
notify you anytime any system binaries
are modified this is also a signal that
an attacker somehow got into your system
is trying to either put malware or move
laterally we can tell you when someone
is doing a brute force password attacks
in other words if we see a thousand
password
attempted to remote desktop into one
year systems that's usually a sign
you're under attack the best thing to do
is turn off the ports so they can't do
that but we can also tell you in cases
where we think they actually not only
attacked you but potentially got in and
so you can see here we're saying several
remote desktop attacks were detected
from free RDP so much were able to
successfully log in last 30 minutes
there were 60 failed attempts 20s failed
login attempts aimed at non-existent
users big signal one of the film login
attempts aimed at existing users and you
know so we're basically pretty sure that
this is actually an attack that's
happening against you again
this is sort of all early warning radar
signs that you can leverage and you go
down this list here you can see all the
things that look suspicious and you know
turning this on gives you kind of a
really good early warning signal
everything that we show here doesn't
just show up in this portal because the
reality is we can't really bet on people
always checking this it's one of the
tips and tricks I'll show a little bit
later when I talk about monitoring is
how you can also trigger automatic
alerts based on anything that comes here
or anything that happens in the
monitoring space or on infrastructure so
that we can send you either an SMS text
message we can send you an email we can
also fire a web hook that can't you can
either you the tech tip I showed in the
keynote where you can write a server
list code to do whatever you want we
also have ITSM integration connectors
with things like ServiceNow so it can
basically you can log a ticket inside
your organization and route it to the
right person we also have integration
where things like pager duty and a wide
variety of other good kind of alerts SAS
capabilities that you can wire this up
to to basically get notification
immediately if something's going wrong
last two things I'll just quickly show
how many people here have walked down
their administration ports on any VN or
app that they've ever built
only one person's ever locked down their
ports - oh good okay we're something you
might want to consider doing and you
basically think about whenever you're
building an app you know what is exposed
from that app especially if it's
internet facing but even if it's
internet intranet facing you also want
to make sure you think through from a
security perspective what would happen
if someone got on your network and
started attacking the system and be
aware that if you have ports like SSH
for Linux which is 22 or you have the
RDP port for a VM which is a standard
Windows port open someone can always try
logging in with random user name and
password guesses and unfortunately
because there's only so many unique
passwords in the world there's a high
probability if someone tries ten
thousand passwords that for most typical
systems they will find at least one of
those passwords that actually work and
so it's a huge security issue one thing
that you can do is implement what's
called a just-in-time access pattern
which basically says not only should you
have a good password that is unique to
that particular environment but don't
even let someone remote try to actually
guess the password and be able to access
the port 99% of the time and so don't
even have the port exposed such that
anyone on the network can access it
except when you know you have to do some
management operation and only someone
from a trusted machine is able to
configure and connect to it and doing
that on an intranet is actually pretty
hard because to change your network
rules dynamically across your
organization typically requires calling
a different Department which is your
networking department ask him to change
Network rules which are sometimes brutal
and if you screw up can have massive
impact and so as a result most people
don't do it and the cloud it's a lot
easier to do it and in specifically with
this capability we called just-in-time
access which you can get through on the
security center it's pretty trivial to
set up and so as an example here I could
basically pick a VM we pick a different
ones then we're going to demo that in a
second I don't want to make sure if I
lock it down that I don't
how to unlock it so he picked this one
go standalone VN it's currently has
management ports that are open meaning
there's still password but technically
someone remotely can try accessing it
using that open well-known management
port and I'm gonna basically enable
what's called get support on that port
and so these are the management ports
that has open so as port 22 which is SSH
it's very dangerous one as well as some
of the higher level ones here open and
what I can basically do is for each of
these ports set in place a policy so
that by default it's always closed and
no one can access it it will not paying
there is no way to connect and instead
where I can do is basically say only
when someone needs to access it then
they'll turn open the port and I can
lock it down to a specific IP range so I
can make sure only for example someone
from my internet can access it or only a
particular developer workstation can
access it so not everyone the internet
will have access and then I can also
basically say well I want that developer
who's accessing it to automatically
close it when they're done I'm going to
assume that that developer or that IT
professional will make a mistake and
forget to some of the time and so I'm
going to set a rule which is I'm only
gonna allow it let's say 21 hours I
might even say I'm going to allow this
thing ever be open for one hour and if
the developer either doesn't renew the
lease or forgets to close it after an
hour automatically shut it down again
and now no one can basically access this
VM using any of those management ports
except if they go through the azure
management plane and say I want to
request a one hour grant from this IP
address to do admin operations against
it
we'll open the port they're able to get
in and then if they forget to close it
after that whatever period of time is
configured the port will slam shut and
now suddenly my environment is
dramatically more secure because I don't
have to worry even if someone guess my
password they still couldn't actually
get into the VM because the management
ports not even accessible for them to
connect so and what you'll see here
right now you can configure and open and
close this from the security center
you'll see an update in the portal
probably the next month or so where
every time you click the connect button
on a VM will actually by default surface
the JIT
perience so that you can actually get at
that particular point in time or enable
JIT at that particular point such that
you can then SSH or RDP em so becoming
even easier from a workflow perspective
to implement last name just showing the
security center side that's a pretty
cool feature is something called
adaptive application controls and
basically with this this is some another
best practice that if you talk to a lot
of security consultants they'll
definitely recommend you implement but
which it's often hard frankly in most
organizations to implement today and
it's basically a white listing model of
what is allowed to run on a particular
environment and so the practice that
people recommend is you know basically
if you've got an application running say
in a VM rather than allow everything to
run in that VM basically say only these
binaries or potentially only these
binary signed by these company keys are
allowed to actually launch and execute
and if anything else other than those
binaries that are approved tries to run
shut it down or fire a security alert
and basically with this approach you can
actually go into Azure and say I'm only
going to allow is this process this
process and the script to run and then
if anything else gets on that VM and
tries to run it'll fire an alert or we
can actually automatically shut down
that process and prevent it from running
again it's a great way to prevent
malware or hackers getting in your
system and again a good defense in depth
mechanism that you can go ahead and turn
on so anyway all the stuffs available
again it's all tailored and customized
for your environment and all the
prevention stuff is entirely free and
again highly recommend in this day and
age where security is happening is
becoming you know more and more business
critical definitely go ahead and check
that out pretty cool we're gonna go
check it out later hopefully more good
thank you
is another one that not enough people
take advantage of and I have to confess
I was getting ready for a talk on
Wednesday I showed up at the event and
was running through my demos and hit a
URL and ran into an issue where a demo
environment that I was going to show for
one of my demos wasn't there and it was
returning an error of like 404 and it
was even more confusing it was in
Germany and t-mobile had a proxy and so
I was getting some weird t-mobile buy
some new phone ad and I was like what
the heck is going on and after a while I
thought is there as a service problem
did someone screw up a few other people
have access to my demo environment and I
went in and I was about to send a mail
and say why did you delete this I'm
demoing it and then I realized and
remembered shoot on Sunday we were
watching a family movie I had my laptop
I was running through my demos and I
cleaned up a whole bunch of old demos
that I no longer needed and I went in
the audit log and realized oh shoot I
was the guy who actually deleted that
environment
even after I tested it on Friday to make
sure it still worked and I just made a
mistake I was going delete delete delete
what's this
don't delete delete delete and that
what's this thing I knew didn't think I
could recreate it and it worked out okay
but it's a it's a prelude to what you
want to think about this which is called
rule based access control and it's
something a lot of people don't take
advantage of including me clearly and if
you implement it it can actually save
you on several fronts I can both make
yourself more secure but it can also
help you dramatically with that problem
where someone on your team hopefully not
you deletes the production database
because they were distracted and they
clicked the wrong button and they
thought well this is the test system and
then only realize oh my gosh I just
leave the database and I can't tell you
how many times in a given week that
someone calls Microsoft support in
absolute panic and says oh my god I just
deleted our database can you help me and
in many cases we can help you if you
calls very very quickly
but you know the thing we always try to
do after we recover the database is
remind them turn this on so that random
people on your team can't actually
delete the database that's really the
fix not just trying to recover from that
situation faster and the best way to
enable that is by turning on what's
called role based access control this
basically says instead of having
everyone in your subscription
effectively have godlike privileges you
instead lock down what can people do
inside your team on a particular
resource using what's called wolves to
be able to control the axis and it's
very very flexible so you can create any
number of roles so you can gate really
complex permissions but it's also
relatively easy to use because we have a
bunch of default roles that we already
pre populate and if you just spend a few
minutes upfront applying them again
you'll be both more secure and you'll
avoid that problem of someone
inadvertently changing something that
they shouldn't have and basically the
key concept here is there's what's
called a rule definition and a role
assignment and the role definition is
like an admin or a reader role role
Simon is like say a list of names that
are applied inside each of them and so I
might for example have a owner role
which has full admin privileges I might
want to have a contributor role which is
someone who can't delete things and
can't change critical policies but might
be able to change simple settings and I
might want to have a role called reader
which can basically look at say
monitoring telemetry but it's not
allowed to actually change anything in
the actual environment and those are
three built-in role definitions we've
created and all you do is you just map
Bob into the owner role you map Joe into
the reader role you map Susan to the
contributor role and then when they're
in the azure portal where they're using
the api's or using CLI they can only do
the permissions for their particular
role and bob who's in the reader role
can't delete the database because he
doesn't have owner privileges and so if
he either deliberately tries it'll fail
but also more importantly if he
accidently thinks he's deleting or
cleaning up a subscription he can't
inadvertently do that and what's nice
about roles is they also inherit down
and so you can set permissions at a
subscription level in hazzard which
basically says every
resource in it picks up whatever role
you whatever permission you assign you
can set it what's called the resource
group which is a way to bucket multiple
resources together or you can assign it
on the individual resource level and so
it ends up being kind of fairly flexible
in terms of how you can configure it and
how you can use it and then the cool
thing here is anytime someone does
anything we also log it in what's called
the activity log which I'll show in a
second and so you can basically see who
did what and and what permissions they
were in when they applied it so you can
actually also audit after the fact
what's going on when something happens
so how to take advantage of this so I'm
just gonna click on any resource and
this basically works with almost every
resource inside a shirt and all you do
is you basically open it up and you'll
notice here on the top left the third
link is pretty much always called access
control or I am and click on it this
will basically query our role based
access control system and show you who
has permissions to do what on this
particular resource and so it's
computing a whole large set of different
things and basically now showing me what
roles are assigned and so you can see I
have an owner role and so these sets of
people have full control over this
particular resource they can delete it
they can resize it they can stop it they
can change critical security settings so
these are kind of the godlike
controllers and I'm one of them
you can see what's called the
contributor role and so these people
have ability to do some management on
this resource but they can't delete it
and they can't actually change a bunch
of the critical properties please for
example security on top of that and so
that might be someone who's doing
development and pushing an app into a VM
whereas this might be a person that's
actually controlling the environment and
then there's also a role called reader
and that person has no ability to change
anything and has no ability to look at
any secrets but they can at least see
whether the machines up they can look at
the telemetry they can look at the
monitoring data
that's sort of the role you ideally want
anyone most ear people in uh certainly
in a production environment situation
and basically if you want to add someone
or change someone's permissions it's
really easy you just click Add and so
let's go ahead and I'm gonna basically
say let's look at all my roles and so
I'm gonna take a reader role here and
I'm gonna basically add someone into it
and I can name a group or in this case
here pick Satya where's our CEO and
there he is I'm not gonna give him admin
access because I don't want to screw it
up and so I'm just gonna put him in
reader role it's just a fairly innocuous
and I think I can trust him on that
that's a joke by the way if you tweet
that if he comes back he's like what but
you can see now he's been added as a
reader and if I scroll down here he's
now showing up in this list so I can see
exactly what permissions that he has and
that's how easy it is to add someone
into that role and if I want to remove
someone I just basically click it and it
remove and they're gone and I'll do that
in one second for SOT - you show me show
one other thing before I do that which
is in addition you know and so the
recommendation I have specifically is
everything you have that's production
based so anything that's sort of you
know business-critical or that you have
real customers going against I'd
recommend just going into the portal
click on this link and literally look at
who and your organization can do what to
it and by default I see lots of people
that have owners and by the you know and
so if you're not careful everyone in
your team that has access to your Azure
environment might be able to delete that
system if you're not careful and I think
you'd be surprised how many people are
in the owner and contributor role versus
a reader role in times your environment
so step one is just look at that for
each of your critical resources
step two is start removing people from
the owner role and put them into a less
privileged account one thing that you'll
probably find when you start looking at
this is you're like well how in the
world does Joe have admin
privileges we ever give him that he's
not even working on this project and
it's often because people have actually
added someone as an owner to the
subscription or as an admin up at the
subscription level and so he just
inherits it by default because the
permissions inherit down and so one
thing that's useful here is you can
actually see how did for example Annie
get permission for this particular
resource or how did Josh get permission
in this resource you'll see in both
these cases they got permission because
they have privileges at the subscription
level and so they just automatically
inherit it down and so the fix is to go
into the subscription remove them from
having admin access and then just add
them to the individual resources where
they do need owner access and again
you'll make it a lot more secure and you
can then see for example and Saatchi his
case right here
he has reader permissions and he got it
from this resource because I manually
applied it here
he didn't inherit it he doesn't have
permissions anywhere else so again sort
of a useful way you can also debug when
you're scratching your head going why do
we give side to permissions and if you
want to get rid of permissions for
someone just hit remove and it takes a
few seconds and they go gone and yeah
that's relatively easy to do and then
again if you're trying to figure out why
did someone get added or get removed and
who did what just go ahead and click the
activity log and you can actually see
for example three minutes ago I gave
Satya permissions and everything you do
in the management stack inside asher is
audited so you can access that aughh and
so you can actually see here exactly who
from what machine actually applied what
permission to give them the role
assignment so you can after the fact
debug it or look it up and again this is
how we're when that app that I
accidentally deleted on Wednesday when
I'm sort of ranting to myself going how
could someone be so dumb as to delete it
I went to the activity log and realized
oh it was me and I was at home we were
watching that movie and it was 7 o'clock
and I realized
kids in that mail to anyone now because
I'm the one at fault so the good news is
you know whenever something changes in
the environment you can't understand
check the activity log either in a per
resource level or as you'll see little
bit later you can turn on and look at
the activity log for all resources using
the monitoring experience which we'll
talk about next
you
one other thing I just think talked
about for the monitoring experience it's
a cool feature that's currently now in
preview and so you can use it now and go
general availability probably in the
next two months if something we call
Azure Policy Center and so you might be
asking yourself as I'm showing some of
these tips and tricks it's great that
you have this tool that tells me when my
discs aren't encrypted it's great when
you tell me that there's management
ports open it's great when you tell me
that Joe has admin privileges to every
resource in my account even better if
you could actually prevent me from doing
those things in the future and basically
lock it down so I can't create a VM with
open management ports I can't assign Joe
global privileges and I can't create
unencrypted disks and that's where this
capability comes in it's called the
Policy Center and what this is going to
let you do I mean you can do it now in
preview is basically create policies
that you can apply to your account
whereas ur will enforce that whatever
policy that you set is honored through
all of our management API and so you can
actually set a policy now it says no one
encrypted disks in my organization
period and if you try to go into the
management portal if you try to run
write code with net or Java using our
SDKs or use the azure CLI or power shell
and say create a VM and oh by the way
I'm gonna set the encrypted disk to
false we will block the creation of the
VM and we'll return an error saying
policy violation here's the violation
and so this is a ship with a whole bunch
of built-in policies that you can turn
on and this is gonna be a really good
best practice that you can actually take
advantage of to basically enforce
policies across your organization that
can help make you more secure you can do
things like you must always have backups
on databases you must always keep your
audit logs for at least 60 days etc and
you know something to keep an eye on and
especially if you get into production
and/or running more and more critical
things a really good thing to take
advantage of and we've had some pretty
phenomenal feedback from companies
especially large enterprises that have
compliance departments and are worried
about audits and things like this around
you know the flexibility and the pawl
and the capability of this thing
provides again it'll be easy to
and it'll work then across the entire
environment and help you make sure that
you always follow best practices so the
next tip and trick another kind of good
cross cutting capabilities coming called
a sure monitor how many people here have
used azor monitor also only a couple of
hands okay how people your views - sure
okay good okay good I was like ah
everyone's like waiting for the
typescript talk and realize they're in
the wrong room okay so this is another
one where again it's it's built-in it's
free it works for all resources and it's
good that a lot of people haven't used
it so hopefully you'll you'll leave
going gosh I'm gonna check this out and
it's called the azure monitor system and
again it's on the left-hand nav by
default it's called monitor and you
click it and it includes built-in
laundering support for all as your
resources it does automatic log and
metric collection and provides set of
interfaces you can use to basically
courier your logs query your metrics and
then importantly set up alerts to get
notified or take automated actions and
so you can actually use this to detect
oh my VM is not responding or I've got
an application crash you can trigger an
alert to either tells you if that's
happening or you can even trigger alert
that says run this PowerShell script
your configured to take some corrective
action to kick the VM or kick the the
application inside it if you wanted to
and also then has rich third party API
integrations so if you want to use
things like data dock or you want to use
Splunk or sumo logic or other kind of
logging systems you can basically pipe
our logs to them and you can also
integrate with things like pager duty or
ServiceNow for IT same support and
others so you can again integrate across
a wide ecosystem of stuff and
well I guess I could show this in the
world demo and basing when you click on
it you'll get a blade experience like
this the activity log is similar to what
I showed earlier just a moment ago with
the role based access control but
instead of the activity log for an
individual resource this is going to
show you all of the events for all your
resources inside a sure so it's a
unified way you can see who's changed
what or what's going on in my
environment the metrics view allows you
to compute custom metrics for any
resource that you want so not just the
built-in ones that are on the individual
resource blades but you can actually
slice and dice them in multiple
dimensions we have a new support you'll
see it's called metrics preview that
lets you also do multi-dimensional
metrics and so you can actually slice
and dice metrics in multiple partitions
which is a particularly powerful feature
I think we're still working on the UI to
make that easier to use but it will be
super powerful once and chips we have
log search which I'll show in just a
second which allows you to write
effectively like sequel like queries
against all your log telemetry which is
super powerful for creating custom
honoring views and then also in the
networking side we now expose network
packet trace information from a
monitoring perspective so if you ever
see for example in a hybrid networking
scenario where you're integrating on
Prem networks to the azure you can
actually turn on a packet trace and so
we can monitor every packet that's
flowing in and out of a sure to your
environment and actually tell you
exactly where including on your on-prem
network packets might be getting dropped
or getting blocked because of some rule
or configuration you have in place and
all that's built in and you can drive it
all from the portal or the command line
and let's go ahead and play with that
and take a look so again the pretty easy
way to get this it's one of these things
on the left hand now if it's called
monitor and it should be there by
default for all your subscriptions and
basically when you when you run it have
permissions on this subscription oh this
is because Alan just shared his
subscription with me so you can you can
view on a per subscriber
and the overview blade here will tell
you any
words that have fired by default that
you've configured in your environment so
rather than just give you a maze of
things to look at we try to highlight
here anything that looks like it's a
critical alert that you've configured
that's triggered and right now you can
see I don't have any we'll talk about
how you can set up alerts in a little
bit you know simplest way to get started
is to click on the metrics tab and as I
mentioned you can use this to kind of
slice and dice and look at metrics
specific to your environment so for
example subscription here I could go and
look at like anything good here I don't
because webapp and so i can click on an
individual resource here if I wanted to
look at you know what's the CPU
utilization of this serverless app what
was the average response time yeah
basically I can pick on any of these you
know how many HTTP 200 responses did I
send back
well it's deemed out because I can't
right now I do multi-dimensional and
anyway I can basically you know view
this custom metric and kinda get a sense
of you know what is the health of this
service been like over time two things
to take a look at and we'll talk about
in a second one is you can click to add
an alert so right now it's saying no
alerts were configured for this
particular app if you click on this will
walk you through a wizard where you can
say hey if the CPU ever if the response
time ever went above five seconds alert
me and then that would actually fire off
what's called an alert and then you
could route it so we emailed to you we
can ask some s it to you or we can fire
a web hook to let you actually know some
action might require you to take steps
and so that wizard will walk you through
and then the other thing that is kind of
cool about this view is you go ahead in
the top right notice there's a little
this little thing called pin to
dashboard and so any of the views that
you create in monitoring if you click
pinning to the dashboard then go back to
your overall dashboard you'll find it
will actually show up on your dashboard
home screen and so you can basically
tape snapshot so what are the critical
things that you want to go ahead and
keep an eye on you can resize any of
this stuff if you want to and you can
also then drop your I can drop it to me
wherever you want from you exper
spective and now I can actually see how
is my serverless app doing and I can say
well it's weird that I spiked a 3.5
seconds I want to figure out what what
happened then that caused it and I can
click to drill into it in more detail if
you click on this I think this actually
will deep link you back into that
experience where you can customize it
further and/or trigger an alert to do
more investigation of it so that's just
around the metrics support you know
other things you can do in monitor as I
mentioned you could do the activity log
for everything you can do network
watcher for package management you know
for all the alerts I can see for example
he or he probably has an alert you can
see here I have a TCP failed alert that
I've basically configured and if I go
ahead and click Edit on this you'll see
basically what I have here is a metric
just populating it basically it says if
the value is greater than 100 over the
last five minutes then go ahead and
notify the owners contributors and
readers and again I can do it by email I
could do a web hook that I call so we
can have like a paste in pager duty or I
could paste in some other notification
system that our route to their
appropriate engineer that's on call or I
can actually say take an action and
actually run a script with any custom
logic I want when this alert triggers
and I can do that across any metric
across Asscher for any resource that I
want so again pretty easy to go ahead
and configure alerts and then the super
powerful thing that you should
definitely check out is that log search
capability and so this is going to load
up simple view that you can do quick
interactive log searches and you can
either do it in this text box and hit OK
or the thing I really like is this link
called advanced analytics that if you
click well deep you link you into a
custom log a analytics service that we
provide that'll take basically take all
of your metrics and all your log
telemetry and pump it into a database
that you can then go ahead and do
interactive queries against to be able
to slice and dice any bit of information
that you want to see what does that look
like so there's a whole bunch of like
getting started videos and things on
here which makes it easy so let me just
show you a couple examples of kind of
how powerful this stuff is so how many
people here have a log telemetry system
that they use today so it could be like
system Diagnostics inside dotnet or it
could be something like kibana or log
stash or Hadoop where you can't the
capture a lot of your production
telemetry into to be able to look at
after the fact when something goes wrong
and and your system diagnostic right
calls could ultimately go to a log file
that goes into that system the downside
with that in R on Prem environment is
it's a lot of work to set that thing up
and it's often asked to run on a lot of
jeans and you know taking the logs and
pumping it in there also sometimes can
take a few minutes and if you've got a
problem in production you really want to
get the answer fast when something's
going wrong and be able to identify what
the problem is
ASAP and that's where this thing comes
into play and so the nice thing about
the azure monitor system is we can pump
all your log telemetry all your metrics
into effectively a giant queryable
database where you can write custom
queries against it and execute it in
seconds and so we actually guarantee
that within 60 seconds of something
happening in your app the data is
available to be queried in the log
system and we pump in a lot of data per
day as an example just our internal
Microsoft systems we pumpkin about four
and a half petabytes of log files every
single 24 hours and every one of our
engineers for their services can
basically query that so you can
literally pump in trillions of events so
it's just an example of this I'm going
to write a simple query here using this
tool and it's sort of a sequel like
dialect and so I'm basically saying
bring me back every bit of perf data
over the last 90 days and give me the
count of how many total events have
happened and so I'm gonna run this is
not a pre computed query we're actually
calculating this in real time so I'm
effectively scanning the log system and
you can see I have over the last 90 days
for my environment configured and stored
1.4 billion individual perf Teta metrics
that are available for me to look at
which is a lot of metrics and then what
I could do is I could say okay you know
what are these types of metrics is I'm
going to write the second query which is
basically going to count by aggregate
counter value and basically bucket eyes
it and you can see here now here all the
different types of metrics what's the
count and what's the average counter
value across all the data in those 1.4
billion rows and so I'm basically now
slicing and dicing this data again in
just a few seconds and then we're really
powerful as I could do something like
this
where I can basically say okay now look
at the last seven days let's look at the
processor and processor time for all my
systems and then summarize the average
by
value and then bin bucket by time
generated in a one-hour increment and
then rather than bring it back as a
table rendering as a chart and so it's a
pretty concise syntax if I go ahead and
run this now and again this is all doing
it in real time as we're writing the
queries this is now gonna render a
visualization for me that shows me all
of my processor usage over the last
seven days in one our bin buckets with
average consumption by resource type
again you can write and slice your own
queries just like this and effectively
executed in real time and this works
with billions or petabytes of log
telemetry it also works with a few
megabytes of log telemetry so you know
it's it and it's you're not standing up
any VMs you're not having stand up your
log system basically you just pay by the
amount of log data you want to store and
how long you want to store it and we
provide this curry engine for you and
just like I show with the metrics view
you like any of these things great go
ahead go ahead and pin it to your
dashboard and so this is a great way you
can create a dashboard of all the
different custom views that are specific
to your application click on it dive
deep and you can immediately
troubleshoot what's going on in your
environment using real telemetry that's
all no more than 60 seconds old in terms
of all your live production environments
running and again you can dump your own
custom values in here so if you've got
for example system diagnostic calls in
net or you're doing console dot log
rights in nodejs they'll show up in this
system as well and you can go ahead and
actually query across your custom schema
plus all the built-in metrics inside
Azure as well
so definitely we're checking out and you
know relative from a price perspective
versus what other cloud vendors or
versus like Seiya spelunker sumo logic
our cost for log telemetry storage as
well as query is sometimes fifty percent
less than anyone else on the market next
a little tip and trick custom dashboards
so I've shown you how you can pin tiles
on to your dashboard where you have
custom monitoring views and you know
hopefully you found that we're trying to
make it discover about how you know you
can add things to the dashboard like
resources and you can click to delete
them and resize them and do a bunch of
stuff but we still see a lot of people
that you know haven't really customized
their dashboards and deep ways and if
you're using Azure a lot we're giving a
little I highly recommend you spend a
little bit of time just sort of setting
up your dashboard however you'd like to
configure it because it can make your
operation life a lot easier and two
little tips and tricks with our
dashboard one is you can actually put a
part in here that's custom where you can
actually put any markdown you want in
your dashboard and actually render
images you can render text and so it's a
great way that again as you're in a team
environment potentially you want to have
a dashboard for operations you might
want to have the links to the wiki pages
for what does this report mean or what
does this chart mean or what should I do
when it's read you can basically
customize your dashboard to specifically
have whatever content you want again you
can see you can resize things you can
delete things you can move them all
around and then the real hidden gem then
not enough people realize is you can
have multiple dashboards so how many
people here have multiple dashboards
good a few people have but again a lot
of people have it and so originally what
is a multiple dashboard so here's the
trick with a multiple dashboard it's
you're great you basically click this
link called new dashboard and you could
say this is my in DC production
dashboard and it's blank and what I can
then do is I can click on you know any
resource that I care about so I'm just
gonna pick on a random one here I can
then go and pin this to that dashboard I
could paint a couple of monitor
views to that dashboard and now I've got
a custom thing specific to nd see again
I could you know tailored however I want
and then when I want to go back to my
normal day I just basically toggle back
to the previous dashboard and I'm there
and then if someone I've seen alert that
comes in on my pager and it says hey
something's wrong with this production
app just toggle immediately into it and
say hey we're seeing a latency spike in
what's going on here
click into it you know you got in that
custom log chart that shows you the
telemetry data and all the events that
have happened that period click link
into it and you can now immediately
start actually diving into kind of a
particular live site debugging session
and have every all your views and all
your telemetry basically set up to view
then when you wanna go back to your core
development just toggle back into you
know a different view and it'll
basically show up and take effect you
can also then go ahead and share your
dashboard so if you have a team of
people you can also go ahead and have
other people view the same one and the
full-screen version is kind of nice
because it hides all the browser chrome
and the reason we added this was
specifically so if you're in a team
environment you have a heads up display
where you want to have in the hallway or
in an Operations room like a flat-screen
monitor that shows you the health of
your system basically just create a
dashboard please make it read-only so if
anyone walks up and then takes the mouse
and uses it they can't delete your
database so it's a tip make it read-only
and then just go fullscreen and then
that way you have effectively a heads up
to screen display that you can basically
use to track your progress so really
easy way and to use dashboards here to
get kind of exactly the information view
you want and the combination of being
able to do that you know with the
monitoring security and best practices
makes life really easy who would like to
save money and reduce the amount of
money you need to pay in cloud computing
great so that's where these next couple
tips and tricks come into play this is a
great one this one here you can only do
with Azure and it basically is a way you
can run Windows and Microsoft workloads
far cheaper than any other cloud out
there
and it's with something called hybrid
you sprites benefit which is a program
having place it's a really awkwardly
named program and basically allows you
to reuse all the existing Windows server
licenses you already own and so there's
a good chance if you work for a company
that has on-premise servers you've
already bought Windows Server licenses
you paid the money for them and chances
are you have what's called Software
Assurance which basically means you get
the rights to keep upgrading them
without much money and if you do and you
want to turn off the computer that's
running a license you can go up to ash
and just reuse that license and we'll
drop the price of your VM by upwards of
40 percent sometimes 50 percent for that
workload and basically all you need to
do is when you're creating a VM you can
do this also from the command line as
well when you go to create it in the
portal you fill out a bunch of stuff at
the very bottom here we have this UI
here we used to call it do you want to
enable your eyes or hybrid youth rights
benefits no one clicked it it's we
renamed it save money and now lots of
people click it and basically just says
hey you can save 40% with the lycÃ©e
already own do you already own it yes
just confirm that you've read the thing
that you really do own it click check
hit ok you're done there's no kid
there's no you got to reimage your
system there's no you've got to upload
the license or talk to anyone from
Microsoft it's the honor system you know
if you say you have a million licenses
we might call you but yeah basically you
know there's there's no like enforcement
or on your reimaging you have to do you
basically just tell us you do have one
you click it and we automatically lower
your price on a per minute basis again
by 40% so great thing to take advantage
of you got any existing Windows Server
license it also works with sequel it
also works for SharePoint it also works
with all your office servers and it's
something that only works on Azure and
so it's a great benefit to be able to
leverage and take advantage of in
addition allowing you to do it for
things like VMs we're also enabling you
to do it going forward with things like
sequel databases not just with siegel
databases nvm
but you're gonna be able to take your
sequel licenses that you bought in the
past and be able to apply them to sequel
database as a service offerings as well
so you can also drop that and so and run
it it have all the benefits of more of a
managed services offering versus just an
infrastructure so that's one definitely
to take advantage of the other one to
take advantage of it's now available and
in general availability use is reserved
VM instances this allows you to drop
your price sometimes as much as 70% over
what you typically pay and basically the
way this works is if you are going to
run a VM and you're pretty sure you're
gonna run it for a year or two or three
and it's not something you're going to
turn off in the next hour or the next
couple of days you can basically go into
the portal and say I want to buy a
reserved instance and you can indicate
how many VMs you won so let's say you
have 10 VMs 5 of them you're not sure
you're gonna use but but 5 of them
you're pretty sure you are for the next
year or to buy reserved instance will
lower for five of the say by five
reserved instances will lower the price
by upwards of 70% on the VMS and you pay
them upfront money for the reserved
dances but it basically lowers the price
and ends up being about a overall
depending the VM size 50 to 70% perform
a cost reduction as part of it and it's
it's very flexible we have some nice
benefits that that other cloud vendors
don't have and so you can actually reuse
them and you can pool them and you can
you can resize them and again it's super
easy to turn on and if you're running a
system in Azure you've got a lot of VMs
definitely recommend looking into it
because it can probably lower your bill
but a bit that's where I think this
would be my last tip in triggers I think
I end 60 seconds ago right yes okay so
we'll do this one quickly and then we'll
call it a day which is Azure cost
management this is another cool feature
that if you're an azure customer you now
have for free but again a lot of people
don't know about and it basically takes
advantage of a company that we bought
this past summer called cloud in which
does cloud based cost management what
that means is though it can take your
bill from Azure and so we have a billing
API and they've built
pre-built reports an analysis which
allows you to slice and dice your bill
and understand what Reese's resources
you're using where can you resize
resources to save money what projects
are you using it on and if you use
things like tagging you can even inside
a large organization we're using Azure
for many things you can even pinpoint is
a dev test are we spending money on is
it project one versus project two and it
even has internal charge back and
budgeting capability so that again if
you're a large organization or even if
you're a small one you have lots of
different projects you can have one bill
and then you can internally charge
departments based on their actual
consumption and a really easy way the
great thing is it's free and it's built
into the product and so to take
advantage of it you just go and you
click on cost management on the left
hand side you can go ahead and click on
this cost management blade and link into
this I learn an internal subscription so
I'm going to need to quickly log in to a
different subscription just because my
standard demos don't cost money because
I own a shirt so tip you're also gonna
see like the extreme security benefits
of owning a shirt which means I have to
do face ID to log in so bear with me one
second as validates Who I am
and you'll see in a second here is the
standard experience you'd get when you
click that link inside the portal
experience and this basically is going
to show you the cloud in tool so over
time you'll see this integrated directly
in the azure management portal right now
it's a separate browser because they
were separately a different company and
this is basically now analyzing all of
our you all of my usage and so I can see
for example all my VMs over time what
families am I using how much am i
consuming I can look at utilization of
my VM so not only can I see what are the
BMS that I should turn off because
nothing
happening but I can actually see hey I
have a whole bunch of VMs that are only
using 25% of my usage let's go resize it
I can look at by Department and budget
you know which department and projects
inside my organization are costing what
consumption and I can even set budget
thresholds so if a project says hey
we're going to use 400 pounds worth of
cloud consumption over the next six
months okay
400 pounds I can get alerts and I can
actually model based on their
consumption are they gonna go over under
all that detail and for any of these
things I can basically go ahead and
drill in this is sort of like the
funkiest view I thought I'd show you
this one first since this is the easy
one to understand and so this one right
here is just looking at instance
utilization over time you can see or you
can do lots of filtering and slicing and
dicing and this is just showing hey I've
got resources these are all the ones
that are 0 25% used 25 to 50 50 to 75
stuff that's more maxed and I can now
sort of say oh wow who has all those VMs
that are underused I can kind of drill
in oh there's 83 of them and I can
basically use this report to get the
listing of exactly which ones they are
who owns it I could even go ahead then
and look at by technology or by whatever
tags I want to put on the resources and
so I want to see how much are my
spending on let's say ETL workloads
inside a sure I can actually see the
infrastructure that's tagged and
something about $3,000 which is 3.8
percent of my spend and I can actually
see how much of that's production versus
dev temps versus which particular
project and so this is again a nice view
that helps you understand where you're
spending your money and then the goal is
you can optimize it and help save even
further and again if you're an azure
customer it's completely free all these
reports and all this analysis regardless
of how your eyes or subscription works
cloud in is multi cloud management so
you can actually use it with other
clouds as well if you're an AWS customer
it can also be free if you
your clothes - you could also pay to get
your out your AWS workload managed as
well I'm caught in used to charge for
Azure as well when we bought them we
decided to make the azure features
entirely free but the nice thing is if
you are multi cloud you can also take
advantage of this to optimize all of
your cloud providers bills and be able
to use them even more effectively last
thing I'll just mention before I get
ripped off stage is anytime you have a
problem with Azure one of the things
highly recommend you do is use the
monitoring to try to understand it but
if you can't figure it out click this
diagnose and solve problems link on the
top left and we do a couple of things as
part of this which will help one is we
now have what's called resource health
check on most of our resources it's
available at the very top this is giving
you a real-time signal as to whether a
juror thinks there's anything wrong with
this particular VM or resource and so
we're actually looking at the real time
monitoring view coming off this server
node this top iraq router in this part
of the data center and this is a good
signal if you think there's something
wrong and you want to figure out is it
my app or is it a sure check this link
first this gives you a sense of what's
changed you can see those three role
assignments where we added Satya and
remove them I can see who changed what
and then go ahead and run through these
recommendations on how to basically
troubleshoot your issues we try to keep
updating them with what are the most
common things people call us about and
again if you have a problem you can't
get it fixed click support request and
this will automate submitting a support
request ticket to us so someone can call
you back and get help and so anytime you
have problems that's sort of the blade
to look out and what we generally find
is people that actually go through the
diagnose and troubleshoot section about
80% of the problems can be fixed by
these top five or seven links and we
have tools that you can now run for most
of them to help diagnose and figure it
out and so hopefully that can help you
in the future so I think I'm over it so
I wrap up now but hopefully it sounds
like from the tips and tricks there's a
lot of stuff here that might have been
new for people even that I've been using
Azure for a while pretty much all this
stuff I showed for the most part is
either free or doesn't cost much to use
it all
and you know hopefully it allows you and
it works with pretty much every resource
type in Azure and so hopefully it makes
you even more successful as you do your
cloud-based development and hope you're
very successful and look forward to
seeing what you build an azure thanks a
bunch</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>