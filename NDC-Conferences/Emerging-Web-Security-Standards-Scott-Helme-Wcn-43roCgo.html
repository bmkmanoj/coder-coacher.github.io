<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Emerging Web Security Standards - Scott Helme | Coder Coacher - Coaching Coders</title><meta content="Emerging Web Security Standards - Scott Helme - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Emerging Web Security Standards - Scott Helme</b></h2><h5 class="post__date">2017-07-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Wcn-43roCgo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right thank you very much and we're
good to go and this is my first time at
NDC I'm really excited it's been a great
conference so far it's everyone had a
good time thus far yes right well I'll
try and keep that going for you because
I'm here to talk about security and I
literally felt you all kind of go at the
same time then my name is Scott that's
up on the big screen for you but what's
not that though is my job title and what
I do is I'm a security researcher so I
spend a lot of my time looking at
systems websites smartphone apps
sometimes even cars looking for security
problems and we look for these security
issues so that we can patch them and fix
them to make systems stronger and so
that we can learn how to improve things
as we go forward so I spend a lot of my
time like personally and professionally
doing what a hacker does but I don't
like the title hacker I don't use it
it's become kind of a media buzzword
recently it has a lot of kind of
negative connotations like if I say I'm
a hacker people like start turning the
Wi-Fi off on their phone and covering
their wallets up but the number one
reason is according to Google image
search I don't look anything like a
hacker anyway I do have a black hoodie I
don't own an anonymous mask I'd never
want to scheme us to work and no matter
how hard I try I can't make cool matrix
text calm down my face I'm typing but
I've been quite lucky to do a few pieces
of research that have gotten some
international headlines a smartphone app
for a utility provider in the UK where I
live
I could password reset my way into
anybody's account we all do this I'm not
going to ask you to put your hands up
and but if you do please don't get
caught like Nixon did try I'm not sure
if he's here but he's speaking Lee to
inviting me to take part in some car
hacking research last year that was a
really good one
next I actually had to disable the
smartphone app for their car an IFP in
the UK I found a problem with that
reader where I could essentially just
take all of your Internet traffic and
monitor everything that you were doing
online this is a particularly bad one
and just over a month ago this company
here we broke the world's most secure
vacations protocol this is available on
YouTube so you no longer need a VPN to
watch it from Norway but if you want to
know how not to do anything then you
should definitely watch this episode and
there's lots of different ways that
security can go wrong but we kind of
have to get the basics right first and
one of the most important things that we
can do right now most of the
technologies I'm going to talk about
today need one thing and this is the
ability to send information over the
Internet in a secure manner we need
HTTPS we need secure comms now
I scan the top a million websites on the
planet every single day and publish the
data and every six months I publish kind
of a broader report on that and this
graph is taken from that and it shows
the adoption of HTTPS in the top 1
million websites over the last couple of
years and we can see every six months
we're seeing this massive jump in
adoption of HTTPS and if I take this
graph and represent that slightly
differently like this this is the
percentage of those sites those top 1
million sites that use HTTPS and the
really good thing that with this graph
the thing that I really like is that not
only we're continuing to deploy HTTPS
we're deploying it faster and faster
this graph gets steeper as we go in fact
were actually deploying HTTPS on the web
right now faster than any point in
history before us which is really good
one of the biggest reasons for that a
company called let's encrypt they now
give out free certificates if you do
want to deploy HTTPS or you're currently
paying for your certificates you can
stop and get them for free February 2016
the red line was just after they
launched as you would expect they had a
fairly low I kind of placement in the
top a million just a year later they saw
massive growth because people are now
realizing we've removed the cost of
buying certificates we can get them
quickly easily and cheap or for free and
the reason we obtain certificates that
we have to go to what we call a
certificate authority and purchase or
now get for free these certificates is
the secure communication is not possible
on the internet without authentication
and what I mean by that is we absolutely
have to know who we're talking to if we
want to communicate securely
so if you open your browser and go to
PayPal over HTTP you just kind of hope
that it's paypal at the end you have no
actual way of knowing and that means
it's trivially easy for an attacker to
jump in the middle and say online PayPal
send all of your login details to me and
we have no way of stopping that until we
introduce that every certificate we can
now challenge a site to prove that it is
who it claims to be and we I often find
that people are already aware of this
concept but haven't kind of thought of
it in the same light as this so you've
probably seen the next slide before now
but the problem that we're fixing with
certificates is essentially this is that
on the internet nobody knows that you're
a dog and this holds true because we go
to a website without a certificate and
you actually can't be sure who it is
that you're talking to so authentication
is hugely important this is why we have
certificates the process of obtaining a
certificate nowadays is really easy we
have our website we send something
called a CSR which is a certificate
signing request we send that to a CA of
our choosing and say I'm Hamlet UK I
would like a certificate they challenge
us to prove our identity typically we'll
set a DNS record or host a HTML file
somewhere on a random pass that proves
we control the domain and if they're
happy with that they give us back our
certificate and we use that to send to
the browser and get green HTTPS and
padlocks but we need to deploy HTTPS and
there are these obvious security and
privacy benefits we get authentication
we have encrypted comms but often I find
that that's not kind of enough we want
more we're going to go to the trouble of
deploying HTTPS you know we want more
from it and there are so many benefits
to using HTTPS I'm going to talk about
them now I'm not going to talk about
security or privacy one of the great
things of using HTTPS is that we can use
the new version of the HTTP protocol
called HTTP 2 or H 2 and with H 2 we
took all the kind of the hacky
workarounds we did in 1.1 to go faster
and we just threw them all the way then
we get them now for free and by default
the first one something called domain
sharding
so if we wanted to load our site quickly
if we have 20 assets the browser can
only download say five at a time so
download the first five the next and the
next and the next and that slows things
down so we used to shard assets across
different domains because now it can
download five from example.com five from
imaged example comm and five from assets
so we can download more of those in
parallel and this is great because we
can now go faster we can download more
assets at the same time so the page
loads more quickly but we've got this
added overhead of we now have to manage
these are the domains we have to choose
where to put our assets we have more
infrastructure in HTTP 2 if we want to
do this we actually just throw all this
away and don't bother
at all we just have a single domain on
which we can keep everything because in
h2 the browser will now multiplex all of
those requests through a single
connection so we don't need two domain
shot anymore we don't need this added
overhead this added infrastructure and
we also remove the overheads of all the
other connections as well so we get this
for free by default in HTTP 2 but
there's a lot more that h2 can offer us
as well we have many assets on our pages
maybe several pieces of JavaScript or
style sheets and I saw a frame with you
of the week that does this automatically
as well we concatenate them all into a
single large file so rather than pulling
down six pieces of JavaScript will merge
them into one big file and pull that
down instead we do the same thing with
images as well with image sprites but in
HD we don't need to do any of this
anymore we can take all that complexity
away and just go back to having single
individual images JavaScript files
whatever assets that it might be and
this is really helpful because
multiplexing will now mean that all the
requests go through the same connection
so we've got no overheads we don't need
to build sprite concatenate files and if
you actually only wanted three images
out of this sprite you loaded the whole
sprite and didn't actually need the
other half of it so you can potentially
be loading less assets as well and again
we get this for free and by default in
HTTP to the next benefit there's a lot
of benefits to h2 I won't have time to
cover them all today
I just chose the best ones that I like
and this one I like when I explain this
on because it's it's one of those where
you look at it and you think why didn't
we just do that before this is really
obvious so the browser sends a request
for the index page loads the index we
send the index page back starts
rendering the page and the browser sees
a style sheet so it requests it might
see some other assets piece of
JavaScript and as the browser comes
across these it requests them from the
site and says okay I need this image
this stylesheet so on and so forth this
is how it works now in one point one in
h2 the browser sends a request to the
index page and we send the index page
back as normal but we know what's in
that index page is our index page we
know the browser is going to need that
piece of JavaScript that particular
stylesheet and whatever it is that's in
there as well so we don't wait for the
browser to ask we use something called
server push and we just push all of the
assets from the page to the browser
without it having to ask now there's 30
assets on this page we've just saved 30
requests against our site we've saved a
load of Network round-trips and again
we're going to load incredibly fast by
comparison
another benefit of h2 this is our
document that we're sending could be
HTML script style doesn't matter we send
the actual payload and at the top
there's something called the HTTP
headers this is information that the
browser and the server exchange
information about caching what type of
content is how big it is but we have
these HTTP headers right now we actually
can't compress them in 1.1 they're sent
in their full size there is no header
compression we can do gzip on the body
but nothing for the headers h2 changes
that now we get head of compression by
default in HTTP 2 so we can shrink all
of our pages and all of our assets as
well smaller pages less data over the
network faster load times and if we're
using HTTP we can also enable a new type
of compression called bratli
now broadly compression is going to
replace gzip
so we have our original page here an HT
gave us header compression so this is
now the new default we'll stick with
this we can then enable Brock the
compress
the compression in place of gzip and
what Bradley will do is depending on the
type of content where you can see up to
30% smaller pages using Bradley
compression instead of gzip so we start
on HTTP no security version 1.1 of the
protocol if you move to HTTPS on your
site you can now use h2 the new version
of the protocol that gives us the header
compression and then last step you can
enable bradley compression instead of
gzip and get your pages even smaller
well you need HTTPS to do all of this
one of the other issues we had with
HTTPS was if you do it correctly you get
a nice green padlock in the browser it
looks great if you do it wrong you can
get yellow or red warnings and that's
what some sites off because but like all
if we do this you know we could end up
looking worse than we do now on HTTP
where we don't get any warnings this is
slowly changing chrome earlier this year
has now started introducing this not
secure indicator in the address bar if
the page has a password or credit card
field in it and this makes total
sentence you're about to punch your
credit card details into a page on HTTP
and previously there was nothing telling
you this is a really bad idea and you
shouldn't do it we're now changing that
and these ones are going to get more
strict soon they will be on all HTTP
pages shortly after that they will turn
yellow and eventually the goal is every
single HTTP page will have this big red
not secure warning on it regardless of
what's on the page it could just be a
single picture of a cat we don't care
it's going to say not secure because it
is not secure HTTP has no security and
this is this kind of theme continues if
you want to use any of the powerful
browser api's all of the ones on the
screen either already restricted to
HTTPS or will soon be restricted to
HTTPS so some of them make sense if we
look at geolocation you understand the
users GPS coordinates all over the
network of course we want that to happen
over an encrypted connection but device
motion orientation it doesn't matter
anymore if you want to use the the cool
and powerful features of the browser we
now have to start moving to HTTPS
and if you do need some kind of leverage
inside your organization to move to
HTTPS the one that I found helps a lot
of the time is that Google now considers
HTTPS as a ranking signal for your SEO
so if you have a marketing team and you
want to get them on your side this is
the one that usually does it but we have
these certificates you know we hopefully
we now agree HTTP HTTPS is a good idea
we're going to deploy it and we can go
to any CA on the planet to get a
certificate there's three or four
hundred of them around the world we
simply approach one of them and say hey
we'd like a cert there's some money and
we'll get one but the only problem is we
have no way of indicating our preference
about this is quite a strong features
powerful thing to go and get a cert but
any CA on the planet can issue for us
and we have no way of saying well I only
want to use this CA not all of these
others we need a way to authorize
specific certificate authorities to
issue for us maybe you have a contract
with a supplier in your company and you
have to buy all your search from one
particular organization apart from you
yourselves enforcing that there's no
technical measure by which to implement
that restriction we're now introducing
7th of September this year actually a
new feature called CAA
and it fixes this problem of I only
wants to use this one particular CA
but there are all these other hundreds
of organizations around the world that
can issue for me we need a way to limit
and to restrict that and CAA is an
awfully simple mechanism I love these
kinds of mechanisms and we created a new
DNS resource record type called CAA so
you simply create a DNS record and
inside the issue directive you put the
name of the CA that you want to use that
you want to authorize to issue so it's
for your site so if you're only supposed
to use let's encrypt somebody in your
organization they go out and they want
to buy a certificate from a different CA
that CA will now say I'm not permitted
to do this I'm not authorized according
to your CAA record if you do
excuse me if you do use more than one CA
you can just whitelist more than one you
can whitelist the ones that you want to
use so incredibly simple mechanism is
just a DMX record but it's incredibly
powerful because you can now assert your
control you can now authorize just
specific CAS and if we look at the
issuance process that we talked about
earlier we have our website we send off
CSR to the CA and say we would like a
certificate all they have to do is a
simple lookup in DNS they look at the
record and say am i authorized to do
this has they cyan't even me their
permission if it has we issue the
certificate bank and we carry on to use
it as normal there's really simple
mechanism there's minimal overhead but
it's incredibly powerful and we should
assert our control over things like this
but it's not just asserting our
authority like this as well one of the
big problems that we have in the CA eco
system is that it's not very transparent
and if I was to go out get a certificate
for any of your websites right now I was
maybe I tricked to CA or hack to CA or I
went against your company's policy and
bought one from a different vendor how
would you actually know if I was a bad
guy and I have a certificate for your
website that's a really bad situation to
be in and you have absolutely no way of
knowing that you have no way of knowing
that I've got this document that proves
I am you when I'm not you and that's a
really scary prospect so we need more
transparency in the ecosystem and to
address this we're bringing out another
standard called certificate transparency
and the idea behind CT is the again
during the issuance process we go to the
CA and we ask them to issue as a
certificate and the CAS will now be
required it was originally September
this year but the deadline slipped back
to April next year all CAS will be
required to log these certificates into
what we call a CT logger certificate
transparency log now this is a
completely public blog it operates in a
very similar fashion to the blockchain
actually in that it's append-only
you can not edit entries that have
already gone in you can't insert things
back in time is a cryptographically
sound a pen
only log so the CA goes and say I've
just created this certificate add it to
the end of the log we can our
certificate back as normal and keep on
using it but the idea of this CT log is
that if a certificate is not in the CT
logs these publicly auditable logs and
the browser won't accept it
so I'm forcing transparency if we go a
certificate and it's not publicly known
it could have been issued in secret or
maliciously we don't want that so the
browser will refuse any certificate from
April next year that is not being logged
into CT and to monitor that as a host we
obviously want to keep track of any
certificates that have been issued for
our domain if somebody gets a
certificate from my site I want to know
about that and we already have CT log
monitoring services online this
particular one is called search so you
go to search you type in your domain and
you run a search and it will show you
every certificate that's ever been
issued for your site and there are
alerting services on this they can
notify you each time one is found
strangely I find myself recommending
Facebook they have an excellent CT log
monitoring tool you type in your domain
you sign up and every time a new
certificate is created for your website
Facebook send you an email and say oh
this certificate has just been created
for your domain was this you did you
mean to do this do you know about this
and if it's not supposed to exist you
can start then to take action about
having it revoked one of the other
things that I find really kind of
surprising as well is cross-site request
forgery is still a thing in 2017 it's
been a problem on the web for an
incredibly long time pretty much since
the dawn of the internet and a
cross-site request forgery goes
something like this typically so we go
to a page we may've been sent a link we
may click comment on navigate to it it
could even be embedded in an iframe in
some other page that we visit it doesn't
really matter but we go to a page in our
browser and a HTML file from evil comm
is loaded into our browser now we're not
logged into our browser we'll run the
page it will download any assets that
the the page instructs the browser to
download and that page can also make
requests to other sites
and in a sea surface AK across our
request for it typically referred to a
sea surf what we see is that that page
can make post requests to other sites or
the pages to any other domain that it
would like this is why it's called
cross-site request forgery so it's a
cross-site request because it's going
from evil comm to bank comm and evil
comm is forging a request to that domain
and this isn't particularly difficult to
carry out this is what a typical CF
payload would look like I think fact one
of the slides of my introduction the
world's most secure communications
protocol the the major issue they had
was a sea surface AK almost exactly like
this so we have a form on the malicious
page the action set to Bank comm slash
transfer this is where we want to send
it to and it's a post request we
prefilled a couple of fields so we've
got my account number my name and the
amount of money that you want to
unwillingly send to me and then we just
have a piece of JavaScript down at the
bottom to submit that form once it loads
so you go to evil comm it contains this
bit of HTML as bit of JavaScript and it
will submit that request to bank comm
now if I'm already logged into bank comm
in my browser then we have a serious
problem because this request will go to
bank comm with my cookie and they're
like oh hey look it's Scott he wants to
do a transfer he's filled out all of the
form fields so let's action this
transfer for him but I haven't done any
of this I didn't click Submit on the
form I haven't filled anything in this
was a malicious attack and we've known
about C so for a long time and there are
already mitigations in place across site
request forgery and you've probably seen
them or use them or maybe even deployed
them yourselves and this is what we call
an anti forgery token or antici serf
however you want to refer to it but
essentially what we do is on the genuine
forms on our site so I'm Bank com they
will embed one of these hidden input
fields into every single one of their
forms and in that input field they put a
random value in there now when the
browser submits that form back the bank
expects the same random value to come
back in the form so they can verify that
this was definitely the format I sent
because it has this random string in it
when the PO
comes back now if we think about the
attack scenario the attacker can fill
out the name the account and the amount
but they can't fill out this hidden feel
because they don't know what the random
value is to put in there so now the
cross-site request is sent the bank gets
it and says well where's the seaso token
it's gone it's missing or it's incorrect
so it will throw the request away this
today right now is how we mitigate
cross-site request forgery online and it
works it's effective it does the job but
it's a technical implementation you know
it adds overhead for us and it just
never kind of felt right it doesn't seem
to address really the actual underlying
problem this seems like an extra
mechanism on top because if we think
about this attack scenario here the real
problem the actual underlying issue is
that when evil comm sends a request to
Bank comm the browser attaches that uses
cooking so evil.com is making a request
to bank comm with the full authority of
the user we call it our ambient
authority the evil comm site is abusing
the ambient authority to send a request
to bank calm as if it came from the user
and this is kind of the real issue and
the antici Satou khun's do fix this
because the attacker can't possibly know
the anti C surf token to put in there
but really the the underlying issue the
core issue is like an evil comm send a
request the bank comm with my cookie you
know this is my cookie from my bank and
the browser is allowing an evil website
to use it and send requests so we have
another standard called same site
cookies and same site cookies allows us
to completely neutralize cross-site
request forgery attacks and actually
several of the categories of attacks as
well but we're going to focus on sea
surf and what we do with this is we take
our cookie so this is what our cookie
may look like right now whatever values
you have in there and you take your
cookie as it looks now and you add the
same site attribute onto the end of this
cookie so just like you might other
secure or the HTTP only flag onto a
cookie you add this same site word onto
the end and this instructs the browser
that this cookie is only for use on
requests that originate from the same
site
so if we go back to our sea surfer type
now Bank calm has set the same sign
attribute on their cookies so you
somehow visit evil calm and evil that
contents that post request to bank calm
now historically without the same side
attribute the browser would have
attached your cookie to that post
request the very essence of a sea surfer
time but because Bank calm is now using
the same site attribute on this cookie
the browser knows that it is not to
attach this cookie unless the request
has come from the same sign so what it
does is it doesn't attach the cookie
this request is sent without the users
cookie the cookie that has the same site
flag so in this request now arrives at
Bank calm it's not authenticated it has
no ambient Authority there is no session
so the request fails the attacker could
no longer carry out a sea surfer tag
with us just having pot that same site
attribute onto the end of the cookie and
this kind of fixes the underlying issue
you know we have Caesar tokens and as I
say they do work and unfortunately we'll
need to keep them around for a very long
time for backwards compatibility and
legacy browsers but same site fixes the
actual the core underlying problem the
real issue was this why can this
third-party site make requests to my
domain with the users cookie same site
fixes up now there are two different
settings for it you can have a look on
these afterwards but then called lanxin
strict and essentially most sites will
be able to deploy this in lacs mode
without any additional work and
hopefully the goal would be to get to
strict mode but that can be quite
difficult but lacks mode is the most
important one because lacks mode covers
post requests if you enable strict mode
it also covers get requests and
depending on your site your architecture
the kind of things that you do that may
be problematic for you but the goal with
the spec and the standard was that most
sites should be able to use lacks mode
without too much work so the same site
cookies are awesome we can add this
extra protection on to our cookies but
we have something else that we can do
with our cookies as well
and this is called cookie prefixes I've
worked on a lot of sites where let's say
they were supposed to have the secure
flag set on that cookie or the HTTP only
attribute set on the cookie and most
parts of the website do that they abide
by that but somewhere somehow
accidentally the attribute was removed
from the cookie was sent back out
without the secure flag that I come
across as quite a lot when things are
just accidentally removed and we can
prevent things like this happening now
with cookie prefixes and what we do is
we simply prefix the name of our cookie
in this case with secure and then two
underscores and what this prefix stays
to the browser is that this cookie
should have been set with the path set
to slash with the secure attribute
present and why yeah just for the secure
line just those two sorry and if you
send that cookie without the secure flag
set like I have here the priors are not
accepting so you'll get immediate
feedback that something is wrong if
somebody accidentally strips this
attribute it won't be accepted and
there's a second prefix that you can use
as well which is the host prefix so this
is just host double underscore and again
this implies even stricter restrictions
on to the cookie so we're asking the
browser we're using the browser as a
second line of defense to say look I
should have done these certain things
with my cookie this cookie should have
the HTTP honest like I said the secure
flag set but things don't always go to
plan sometimes things do go wrong with
these prefixes set like this the browser
will warn us because it won't like set
the cookies and we will get immediate
feedback and know that there is a
problem so the most kind of perfect
cookie that we can bake would probably
look something like this we're using the
host prefix this is the most strict of
the two prefixes most sites can pretty
much go with the secure prefix without
too much work the host prefix may
require a little bit more work we've got
the path set to slash we've got the HTTP
only flag on there we want to protect it
from client-side scripts accessing it we
have the secure flag set so the cookie
will only ever be sent over secure
connection the browser will
Tector and will prevent it going over an
insecure page load and then lastly the
same site attribute now all of these
protections depend on HTTPS if we if we
send the cookie over an insecure
connection if we send our page over an
insecure connection it doesn't matter
how many security mechanisms we have in
place it doesn't matter how much we try
and protect that ultimately there's very
little we can do if we're using an
insecure transport layer we have to have
HTTPS deployed all of the mechanisms
that I've talked about today will depend
upon that and many others do too because
if we can't get the page into the
browser and be sure that nobody can
tamper with that then it blows
everything out of the water there's very
little that we can do to protect our
visitors so HTTPS is essential its 2017
now and I think within the next year or
two we're going to be looking at HTTPS
by default Internet right now the
browser still wants to use HTTP it's
still defaults to HTTP but I think the
change is coming chromium and Firefox
confirmed just a few weeks ago that over
55% of the page loads in their browsers
now take place over HTTPS instead of
HTTP so we're past the halfway tipping
point of page loads going over the
secure protocol we looked at a ch2 h2
has so many more benefits than I had
chance to talk about today there are
loads of things we want had a
compression we want server push we can
get rid of all the hacky things that we
did like domain sharding like sprite
concatenating files together it
simplifies our processes and it's
actually faster as well than brightly
compression up to a 36% for certain
documents you can shrink them down by
smaller documents less bytes on the wire
faster page load times SEO I will keep
talking about this one because this one
genuinely does help me pretty much all
the time in any organization I go to you
will get an SEO boost just for turning
on HTTPS on your website you will appear
higher than an equivalent sight without
HTTPS that's a massive win and we should
definitely be
looking at doing now CA a certificate
authority authorization if we're going
to deploy HTTPS we should assert our
authority we should say we are only
going to use this CA all these selects
and few cas we don't want to leave the
current situation which is that every CA
on the planet can issue for us you
should take control of that you should
assert that authority that you can now
do and CT as well certificate
transparency as I said this is
originally coming September this year
and the deadline has now slipped to
April next year and you need to make
sure that if you do use certificates you
do get a certificate you're already on
HTTPS you need to make sure that your CA
is going to lock them into CP for you
otherwise in April you'll turn the
browser on one day and your website
won't load so most yeas will do this I
imagine it won't be a problem they're
incentivized to do so because you'll be
really angry with them if your website
stops working but we need to know that
these things are coming we need to just
ensure that we are prepared and ready
for the change when it arrives the level
of transparency this brings to the
ecosystem will be fantastic personally
I'm really looking forward to CT again
it's one of those things that we should
have done since the beginning and then
the cookies as well
seems like cookies the attribute that we
add and cookie prefixes as well these
are incredibly simple mechanisms and
there's many more similar mechanisms
like this as well they require very
little effort to actually deploy and
implement and in return they give us
huge security benefits the same site
flag completely fix you see surf and a
bunch of other tax as well called time
breach heist we've seen a lot of them
but we simply add the word same site
onto the end of our cookie and we
completely fix a whole category of
attacks and I love these easy wins you
know a lot of the times I talk about
security and people think you know it's
gonna be a lot of work or time or cost
or go for the easy wins features like
there's simple mechanisms that we can
deploy and they give us huge amounts of
security in return for our time so I'm
hoping that you can take forwards
everything I've talked about today as I
say there are other related mechanisms
out there please have a look at my site
which is on that I do talk a lot about
the various things that we can do but I
like the easy wings I like simple
mechanisms that give us a huge return on
our investment so please take everything
from this talk forwards go out and
secure all of the things thank you very
much now I was hoping that there will be
some good conversation we usually have
some good discussion after these kinds
of talks so I can't really see so if
there are questions out there please
show I would love to have a good
conversation okay right loads of it
let's start here
so they use a public CA or a private CA
okay so the questionnaire is with things
like CT if you're on a closed internal
network only how can the browser go out
and check things like the CT logs how do
we know this if you're using a public CA
the proof that a certificate has been
logged into CT is actually embedded
inside the certificate is called the
neck CT a signed certificate time stamp
so essentially we can still have those
assurances if you're using a private CA
ie your company set up their own
internal certificate authority then we
don't need to worry about CT it will
only apply to a public CA okay so that
question was about certificate pinning
some of you may have come across this we
see certificate pinning a lot on the
mobile platforms and we also see a
slight equivalent called key pinning in
the browser platform as well and the
question was will CAA mean that we don't
have to use pinning of either variety
and the answer is not right now but soon
because CA a and C T specifically are
moving us to a point where eventually we
won't need it so we have CA a to assert
our control and say only these
certificate authorities can issue and we
have CT to track any misuse is what we
call it when somebody gets a cert that
they shouldn't have so for now yes we
will have to continue doing so but it's
kind of like all new mechanisms
eventually we'll get to a point where we
don't have to but we're kind of either
just introducing or have just introduced
both of these CA a is the 7th of
September this year is the deadline and
CTS April next year so we are getting
there and in the future much like the
same site cookies with C surf right now
we have to keep the old mechanisms in
place during this transition period but
we will eventually get to a point where
we don't have to do these all the things
anymore
adoption of oh sorry okay yeah so the
question there is if you're using
CloudFlare who are a big CDN company so
I guess any CDN does that help with
things like the adoption of HDTV - and
the answer there is absolutely many of
the services I run it but that have high
traffic online I see them and I track
the statistics and they have an enormous
impact on the adoption of many security
mechanisms because the CDM if especially
if they're reverse proxying your site
they can enable all these security good
things on your behalf so we see
CloudFlare they have h2 on the front
they also have things like ipv6 a couple
of other mechanisms like HSTs they're
just click buttons in the UI so you log
in to your CDN control panel and you say
I want HTTP - I want this I want that
and they they abstract all of the
technical complexities of that way and
do it on your behalf so yeah they
they've had a massive a massive impact
on the uptake and so the question now is
do I recommend the use of HTTPS like
internally within a companies like
Internet yes absolutely and I've done a
lot of contracting in the government in
the finance sector and they they all
have this kind of view that okay well
we're inside our network now so
everything in here is obviously good
because nobody people could ever
possibly again you know they put a lot
of faith in their perimeter so they
think once you're in the building you
know all of the internal networks are
solid and I would say absolutely not I
would treat any of my internal networks
just like the internet I worked at
companies where we've deployed HTTPS on
their internal ticketing system on their
internet pages because you can't go and
tell you things like cross-site request
forgery attacks you know they can
transit inside your network and whilst
HTTPS might not specifically help there
the point is that you shouldn't tree
your internal network is some kind of
security heaven if you treat your
internal network as if it was public and
take that same security approach then
you'll get an awful lot of benefit from
that
yes okay so this is a good question the
question was regarding certificate
transparency if we have to log all
certificates into CT if you go out and
buy a new domain and you get a
certificate for it the domain name will
leak into the certificate transparency
log so if Microsoft bought hololens com
a few years ago and got a cert for it we
would all be able to see in CT that
Microsoft has got a cert so hololens com
and there's two ways that we can work
around that the first of all is there is
a redaction mechanism in CT so if you do
have some concerns you can read Act a
couple of the key fields from the CT
logs but why would suggest is if you're
buying a domain and you need it like
hololens like um example you need that
to be secret don't go certificate for it
until you're willing for it to become
public you can get a self signed
certificate for testing purposes but
realistically speaking we don't need to
sir NCT don't get the sir until such a
time that you're ready for that to
become public but there is the redaction
mechanism as well if you are kind of
really concerned about that
so another yes sorry
okay this is good one
how is CAA in force if the attacker
controls DNS if the attacker controls
DNS you are so far past screwed that we
can't help you is the answer to that one
and so yeah yeah they control the NSA's
game over lit for our DNS server it's
the same again though if they control
our DNS or the CAS DNS or anyone's they
they have total control they could spoof
the record fake it take it out you know
they could set a tech spec or times
foresee a challenge to get a cert from
anywhere there's really nothing we can
do once they have that level of control
we are in a really really bad position
and unfortunately you know alright okay
so if they were trying to sit in and
just go back to this slide because this
will probably explain it a lot better
for you okay
might be easier to scroll so here if we
look here when we do CAA it's the CA
that reaches out to the DNS server so if
an attacker is local to us and attacking
our DNS they can't impact CAA at all if
an attacker wanted to impact that they
would have to sit between the
certificate authority and the DNS server
that probably means they're either out
or getting close to nation state level
and again if the NSA are coming after
you you can't help you I'm sorry yes
but there is no there is no check by the
client for CIA so we set in DNS as the
host and the client never actually looks
at a CIA record the only person that
will ever look at this record and
request it is the certificate authority
so it's only done by the CA so as the
client they can meddle with our
Internet's or they want and they won't
be able to have a negative impact on the
enforcement of CA no CT logs CT logs are
essentially the same as the blockchain
the question that was come CT logs be
faked
sorry no it's essentially the same as
the blockchain it uses a Merkle tree
hash which means once it's appended and
it's written into the log the other
thing you can do is just delete the
whole lock you can't change that you
can't fake it you can't go back in time
ok so if the browser was directed to
different DNS oh and they try to spoof
the IP of the log the SVT from the log
is embedded in the cert so the
cryptographic proof is actually already
inside the certificate so the browser
were good there as well there is another
question so it's out if you if you have
a question I can't see very well no ok
sorry all right then well thank you very
much it's nice everything we'll call it
at that</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>