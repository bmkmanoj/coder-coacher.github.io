<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Bundling your Front-End with webpack - Sandeep Singh | Coder Coacher - Coaching Coders</title><meta content="Bundling your Front-End with webpack - Sandeep Singh - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Bundling your Front-End with webpack - Sandeep Singh</b></h2><h5 class="post__date">2017-03-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/uD5D8geeQjY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">what kind of on heavy that's great so my
name is sandy I'm today I want
talk to you about one blowing you off
for an end web pack I was going to start
with asking if everyone's heard of a
pack but they have pretty much now all
right so what is where pecks webpack
essentially gets called the module
bundler so it does actually mean well it
takes in a bunch of assets and their
dependencies and package them into a
bundle for the client essentially all
module bundle it does web pack has two
core philosophies first one is every
asset is a module so usually module to
JavaScript but in the web pack world CSS
HTML and images are also modules as well
and second philosophy is load only what
you need when you need so typical module
bundlers as a whole will take four
modules I'm stick them in a bundle Jess
and essentially in the real world that's
a massive file if you've got a large
Ascot application but what web pack is
built upon and it's theory is that it
can split cold and it can bundle code
separately so you don't need to have the
first initial here of loading said the
five megabytes with language parentheses
are you rec'd dependencies so how does
web packed actually work so word pack
essentially takes an extra point which
is usually a javascript file and it
wrong through you so of course and looks
a lot of import statements or require
statements and it builds a dependency
graph and this dependency graph is
basically a list of all modules in
applications they meet and what does it
take those modules and it compiles them
down to a small set of bundles usually
one but it can be multiple depends on
the structure e-rep and how big is so
essentially the module system that
supports are aimed ecologists and a web
back to the biggest change we work back
to is 4006 imports so this diagram
illustrates on the left is an example of
all the dependency graph you'd have any
soft code and to the right is the actual
final bundle of what you're going to
ship to the client in the browser
there's multiple ways to run web pack
you can do it by the command line
interface that they have it can do base
of a conflict file or get off an old API
the most common ways
use a web back conflict file so now we
know what web pack case have roughly
works why do you want to use web packs
because there's plenty of other bill
tools and is very so the module bundles
like roll-up is one of them web packs
competitor and this browser side but
essentially we're pack Souls quite a few
problems just out the box so one of them
is dependencies loading that of order so
I'm guessing some of you in the web
developer world will have had this pen
at one point where the script tags are
in the wrong order or you try to
reference a jquery plugin and jquery has
not been instantiated yep because we're
pack has everything in a dependency
graph it knows the ordering of all the
modules so it will pick the right ones
in the correct code and load them as and
when it needs second one issued a soul
it's one link on new JavaScript and
production web practice specially has a
feature called tree shaking in so it'll
only bundle up the modules which you
import if you've got four or five
Jasmine files in your solutions into
modules and you don't use them and
they're not required or important anyway
it will just leave them on disc a
screenie solution and another clever
think about word pack is that if you're
using vendor bundles such as a vendor
libraries such as like lodash and using
only one or two functions out of that
library it will rip them out of the
library and put me in a bundle by
themselves so you don't need to package
a whole of it so your vendor I we should
be a lot smaller and the biggest selling
point of void Parker is code sleep so
back to the one of their initial
philosophies especially with the rise of
single page applications sometimes I've
worked on single page applications where
the initial app guess is maybe seven or
eight bags and we've got like spinners
that come up and it's say okay it's
great we rely on people's network
connections but code splitting is one of
the core things of web pack because it
allows you to split the code it into
smaller bundles but also it's got a very
neat feature around the fact that you
can load modules on demand so the
bundles which he split up
you can require them say for instance of
you ever use react in the route you can
require them to say okay I found a new
route now go get me the bundle I want a
lot for this so you never have it or the
first initial when you add V is
basically on demand as you need it which
is a really cool feature the texture is
saving extra Haiti to us so there's a
lot around asset processing because all
of the modules inside the application
when using webpack are all modules so
like images and see it says he allowed
to do a lot of clever things so you can
inline SVG images and put them in a
bundle Jess if you think they're below a
certain size limit which will save a
request now this is up to the developer
and the team of how you want to do these
sorts of things but it gives you the
flexibility that you don't have to load
everything separately you can bundle
stuff together and the last one is about
versioning so we're pack allows you to
do asset hashing out the box it can
several induced Essene the query string
at the end of a JavaScript library says
okay the kind of pulls down at the
latest version but if you have a look in
someone's browser you'll see this five
versions of a vendor bundle clever thing
about versioning in web pack is it
allows you to put hash in the front of
it but it can only recompile that hash
and change that if this new coding
though so you're allowed to do
incremental builds so when you go out
into production you don't actually get
the same cache busting that you see on a
lot of works house so that's why I think
what breaks pretty cool so this is this
is a common thing that comes apart and
I've been asked about this many time is
how does it relate to things are built
is like grunt and gulp which are a task
runners and to be honest they're two
different things grunt and gulp our task
runners and web practice a module
bundler they just two different build
tools and serve different purposes test
ones are grateful crunching through
files and giving you an output so you
can change the assassin to to assess you
can Okla fine dehumidification but
there's no concept of a dependency graph
and there's no concept of what you want
to serve to decline at how you want to
bundle so they become rather problematic
when you want to try basically Oh
mais your application because it's not
built tusk ones that don't have that
inherently in its design whereas webpack
is the whole part of where package about
performs and giving the users and only
bundling what you need to decline and
giving the best experience possible I'm
not saying not to use it together
because they do work together if you
wear peck solve certain problems and got
another testament of salt another
problem but what people and I've
actually found myself a lot is that you
will tend to replace your task runner
with webpack because it does a lot of
what task winners do it can do
translation from es 625 it can do
bundling it can do minification it has
all that out of the box so now we know
what web pack is how it kind of runs and
have compared to the bill tools I want
to go through core concepts there's four
main concepts in web pack and you can
understand those you can pretty much get
eighty to ninety percent of the way of
what you want to do with it because it's
a big deal has a large API and so what
they can do but you stick to the basics
you'll get to where you want fairly
quickly so on the right we have just a
very simple web config and when the
first concept is entry point so that is
the way stadtbahn link is building a
pentagram you can have multiple entry
points which in many cases to have one
so that's for instance in your own
applications would be the first file
that kicks off the application like a
bootstrap j/s or an apt or jess second
concept is loaders and loaders are
basically how we're prac transforms
assets which are not JavaScript into
modules so that's how it handles PNG's
and images like and then CSS files so a
lot of has two conditions how the test
would which is a regular expression of
the file you really want to look for and
then solo de which is the function so
the example for the SUV's of go through
your whole sauce controller sort of
source code and find all the SVG and
then pipe into this URL loader and
there's an option set there if it hits a
certain limit which i think is that
kilobytes it will just dump these files
out to disk is normal otherwise it gets
below that it will bundle up in the same
package plugins whereas loaders work on
the individual file types plugins work
on the chunks or the whole bundle of the
whole so examples of plugins are stuff
like minification with Okla fire
deduplication and the code sharing code
splitting is a competence plug-in and
then final concept is where to output
your bundle it's essentially where you
want to put this so in this scenario it
into a distribution folder right so it's
demo time so what wanted to do just kind
of goes through the core concepts with a
refraction of an application just to
instill the ideas and all the strip I
mean with everything so we have a very
simple weather up it's got few
dependencies got jquery there's a
weather app Dodgers which is my main
junk files got an SVG and it's got some
markup and it's 27 degrees plant lee
outside just feel it to me right so this
is just a mock-up yeah nothing
particularly special this is the folder
structure I've already installed we're
packed which said to know how the
connection Wars and installed on the
loaders and I've set up a bill script
because M p.m. ET is very commonly with
web pack and all the studies just run
web pack and then pipe in my web.config
and I've got a default word packed
conflict which is basically just got an
entry in an output so if I just quickly
look over the JavaScript module it's a
very simple JavaScript module it gets
some weather data from a JavaScript
object of any update cui by using jQuery
basically nothing sticks Lee complex so
if we were to start by putting an entry
point in two hours and then give it an
appt book
we run you can see we're looking at
distribution for all of the new bundle
death if we go to index
this refresh we could see everything
still works but all we've actually done
here set web web pack up we haven't told
about expenses or the pantograph so if
we go back to our application we have an
hard-coded paths here which is a
dependency which is an image and we have
jquery so if i were to import jquery
because i've already gotten on module
installed
come across and remove that and if we
were to build again should cease file
size is a lot bigger what it's actually
done now is it's looked through cold and
said okay its dependency I want to pull
that dependency in to the bundle so now
we go back we've lost jquery from as a
request and it's now bundled in as part
of the main package right so if we go
back to application and we remove
you
you
we've done here we've explicitly defined
our dependencies at the top and now if I
was to go back to the config because
it's an SVG it needs a loader because it
doesn't know how to handle this type of
module uncomment this what she's going
to do is the test conditions to regex
going to find this VG's it's going to
pipe it through the URL loader and I've
set an option that if it's over 10
kilobytes it will just dump it in the
distribution folder it's not it will in
line
so if we save this and now
rerun we can see for look at the
dependencies there's now three this will
go back
we have a look now this is actually in
line bits basically four encoded it
doesn't actually make requests over the
wire which is great so there's one last
thing web pack comes with a lot of
built-in plugins and if we look at our
bundle side is 275 kilobyte cigs not
exactly production ready if we do a
minus P we can say into production mode
and it will up with I and minify cold so
if we go across we've now got a small
file size and we have in lined an asset
and that's basically the core concepts
that I want to demonstrate about word
pack right so we're prac is rather
complex and there's a lot of blog post
and there's a lot of stuff that's not so
good out there so I've kind of went
through and looked at the results which
I find useful there's a couple corset
though which I was checking out which is
by Kent C Dodds who's a very popular
person when it comes to web pack and
that's it thank you
questions briefly go over chunky and
right so chunking in terms of web pack
is if we look at plugins what plugins do
and the comment is a common chunks
plug-in which actually does the chunking
it basically allows you to exploit you
can put points in dynamically how you
want to split your code up that's that's
the high level overview of what it is so
basically when you're in your you define
certain chunk level as searches how far
you want to go down the dependencies and
then you can split on those points so
that was part of the original
demonstration but due to time had to
take it out and it's much easier to
demonstrate and kind of explain without
diagram as well but we can talk about
afterward to that problem yet
put a what it's got a built-in dev
server and it's got module replacement
so any react users I would look at hot
module replacement not going to go into
it but it's one of the most valuable
tools and if you want to just do a watch
on the command line you can just do
hyphen hyphen watch and it will
automatically reload I did it without
that for the fact that I could show you
the changes instead of it magically
appears on the screen</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>