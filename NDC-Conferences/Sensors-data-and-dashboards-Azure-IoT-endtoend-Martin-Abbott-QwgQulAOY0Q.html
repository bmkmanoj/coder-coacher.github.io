<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Sensors, data and dashboards: Azure IoT end-to-end - Martin Abbott | Coder Coacher - Coaching Coders</title><meta content="Sensors, data and dashboards: Azure IoT end-to-end - Martin Abbott - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Sensors, data and dashboards: Azure IoT end-to-end - Martin Abbott</b></h2><h5 class="post__date">2017-07-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/QwgQulAOY0Q" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">right good morning everyone I'm having a
bit of a challenge you probably saw me
fluttering around then I'm going to be
challenged with one of the board's so
we've been that one for now but today
I'm going to be talking about sensors
data and dashboards this is an IOT talk
I did any of you go to Nigel Parker's
IOT talk yes they read the data of me
okay and this is not that obviously I
promise raspberry PI's there's one there
and there will be some code so who here
has been to lots of presentations so far
so I can actually see you go so
publicize that but yeah good
have you had death by PowerPoint or the
death by pictures really because
everybody seems to be showing pictures
and like three words on a screen advance
that's me so I'm going to do some of
that as well
just anyway so IOT what do we know about
IOT the predictions are there's going to
be 50 billion devices by 2020 there's
going to be a market value of 11
trillion dollars by 2025 so probably not
a bad thing to get into right how does
it come about well it's come about
because cheap sensors come about because
cloud scale computing it come about
because nearly IP version 6 addressing
all that together I think has helped
enable what we can currently see as IOT
what does the I stand for and IOT
Internet right so there's the Internet
of Things of course things have been
around for a very long time right so if
you ever worked on a mine site or
anything like that so anywhere there's
process control network all of that
stuff is run by things sensors feeding
into great big systems that the
operational people look at and kind of
go oh yeah that's done but I think it
should be don't know that's not doing
what I think you should be doing and
then all that basically go somewhere
else and it's never looked so again kind
of waste really so I'm here talk about
Azure it goes on as your MVP so that's
the as your IT platform in essence
there's a lot of other stuff this isn't
the only things I think at last count
there were 70 services 71 services
energy oh so that's a quite a broad
spectrum of things
but what constitutes the internet of
things over on the left-hand side of
that screen we have things not
surprisingly so here we have a bunch of
devices those devices could be sensors
maybe Sibley's tag that you've got
straps on a set so as you know where
it's moving and you've got the device
that's reading that ping maybe it's a
truck could be anything right so the
point being those things can cost as
little as a couple of dollars or as much
as several million dollars field gateway
there's been a big debate I suppose push
connectivities will wait the issue with
the Internet of Things how'd you get the
data off the thing that's very small
there may be on on occasion somewhere
else we do that by having a device
that's actually capable of the
communication itself so you can have
your things pushing to the field gateway
and then up into the cloud IOT hub is
really probably the focus of the talk
today so where as pretty well spend most
my time but IT hub is the ingestion
engine so it's the it's the landing
points of the data in the cloud what
else insights so anybody heard of land
or architecture
well people good so this obviously
enables that you can see coal down on
the fix hot analytics so basically what
that is is an ability to take your data
push it down into some form of cold
storage do some long analysis on it also
have a hot path where you can do
real-time analysis and see things
happening being able to combine that
information that's in essence a lander
architecture and a new kid on the block
which was announced that build is warm
analytics I think they make these lines
up to be honest but hardly fix real time
: fix archives and batch warm analytics
is kind of near real-time and I'll talk
a little bit about to Simon series
insights and a little bit and then not
surprisingly when you've got all this
data you do need to do other things with
it you can't just store it and just pay
for the best
see need to move stuff around so there's
a bunch of things in here around moving
stuff as well and managing space
essentially and the last thing is that
action so again if we anybody was that
Nigel's talk yesterday you were seen in
using a bot to interact with his beta
that's an action we've got some other
things here power bi use their power the
is data see insights as a stuff down the
bottom here around integration with
other systems because you may well have
something like an SOP off the back of
this so or a logistics system like
dynamically to expose those services so
that to me is what I like to call the
IOT value chain because having devices
means nothing if you don't ingest the
data if you ingest the data but you
don't gain insight and make them take
action on that data then why have the
devices so you need all of that let's
not say that you need to know all of
that probably that's what working with
other people is full so I thought it'd
be just a quite interesting little segue
talk about some of the things that I've
done that fit that value chain so sorry
this is where I'm gonna go into pictures
for a little while I do apologize this
is an iron ore train very very long now
I come from Perth that's Perth Australia
hence the t-shirt in case you didn't get
my accent but I'm clearly not Australian
land now but turn so we have in Perth
probably one of the larger mining towns
I guess in Australia with very very
resource heavy we have mining oil and
gas all that sorting all the big towers
or what we call the top end of town okay
so I work for a small systems integrator
and we work with some of those guys so
iron ore trains these hoppers as I go
around that go up so ship they'll flip
the oil will go into the ship ship that
goes away and it gets quite fast finally
toppers fails it's a million dollars an
hour that the company loses
so that's that's value right million
dollars an hour so they put sensors on
them they took sensors on them because
that way they can share tell or at least
help to predict when there might be a
failure no example can anybody tell me
Liza
Nigel K lysis yes so we have a company
in Australia who could have created a
salinity sensor and you may think that
salinity sensor they're all over the
place of salinity sensors while you
create why would you create one
Furniture sensors are all over the place
but they're also also suffer from a lot
of corrosion right so in this particular
case hoisters we are australia's a large
exporter of oysters to the APAC region
really expensive in Australia but we
seem to ship them everywhere else anyway
so when Isis are in the sea and they're
growing and need a certain range of
salinity and a certain temperature range
if it goes out of that range the oysters
either die or can become toxic for human
consumption so when it rains up in the
hills people have to go and see grab the
oysters and bring them in if you I can
be stuck in a freezer in there okay
remember I said about cheap sensors
cheap sensors doesn't necessarily mean
cheap in the context of not many dollars
cheap means cheap in the context of the
value that they deliver so the
organization that created the salinity
sensor for this spent a million and a
half dollars developing the sensor for
this but it's accurate I can stay in the
sea for five years so think about that
accuracy I like to english language is
you know fairly colorful I suppose but
if you think about the letter I
following a see it's a fairly soft sound
to the sea a no following the sea is a
fairly hard sounds of the sea so I like
to think of this is if you don't get
your data right what you essentially
have is crap in crap out right or psycho
is a lie school
so they spent a lot of money because any
day's production that's lost hundred
thousand dollars so it's all real real
things that's a cow ash it's a plastic
cow but you get the point so what you'll
see you little around the lake so I
used to work Fujitsu and in the UK and
then in Australia so Fujitsu developed
this thing called the connected cow so
when a cow let's call a Bessie is the
technical term is in e stress but it
essentially means you know when she's
done looking to enjoy herself and the
the she walks around a lot more okay so
when she walks around a lot more it's
good for the farmers to put the ball in
the field so as you can get inseminated
this is particularly good in Japan where
you've got very very high level cuts of
beef again potential millions of dollars
just from data so I mentioned that IOT a
platform to build end-to-end IOT
solutions with a little stars a little
star really is so you don't have to
build it all yourself because why would
you that's the point of having a
platform it's actually leverage that
platform searly so
here is Microsoft's as your IP reference
architecture unless it's up in updated
Nigel so it's Nigel what's Microsoft I
don't but you can see how that really
maps to that other picture that I had
around a cold only six hot Santa listens
and everything things in blue as you can
see if you've got keen eyes and it's not
reflecting off the screen the video
lights says as your IV solution
component so that's part the platform so
over this side again we've got devices
in gateways and there's SDKs for that so
you don't have to write it yourself such
a nice and quick and easy pizza to read
this stuff up and get going in the
middle I see hub and I'll talk about
that in depth a minute and then some
other stuff and the arrows here is meant
to indicate data flow as it says but our
fingers crossed if the demo gods are
kind of mining starts working again I'll
show you some of the stuff anyway
but the key part really is that a lot of
this is just paper use startup money do
it when you need to do it so you're not
investing huge huge value in something
that is not delivering value again going
back to that conversation I was having
that process control networks and SCADA
which is what those are they're hugely
expensive to install that stuff in your
in your mind site the operators look at
it as if the data is coming in it goes
into a single historians and then it's
Fedora millions and millions of lost
investment in essence so actually being
able to do some stuff there's more
real-time longer-term predicting as well
is very good so I think neither spoke
yesterday about machine learning I went
to a balance day Peto late yesterday but
but again it's that ability to take the
vast quantities of data and we're
talking petabytes and petabytes of data
and a typical mind over many years
taking vast quantities of data and doing
analysis on it so you can't do that or
you can do that in the old traditional
on-premises world but it's hugely
expensive so that's the cloud cloud
computing enablement
have it in time so I see hub I mentioned
icy hub and that are go into a bit more
depth so who here is played with as
urates all many people good fantastic it
is a developer conference that wasn't a
test event hub anybody yep one of the
soon hands good so event hub is is the
platform's large-scale ingestion engine
and I see how this kind of put on top of
it but the reason it's different is
because IOT communication is two-way so
when you have devices yeah absolutely
you can ingest data and go nuts but
typically you may have devices to things
like filled gateways for instance which
you need to send data to update
configuration or query the device any of
those sorts of things right so so you
need this to two-way communication so I
would strongly urge anybody who's in the
audience who's not read this particular
white paper to do so
so in by a guy called Clemens Basterds
it says there he's one of the architects
or was where the architects the service
bus and he wrote essentially what is the
seminal paper on which the whole
security model and communication model
in IOT hub works so very very good read
it's quite a long article but but trust
me it's worth your estimated time but he
postulated that one of the big things
that you need to overcome is security
not surprisingly so what you really
don't want is a scenario where somebody
hacks into your device and sends
basically up to the cloud or somebody
hacks into your back-end since they took
down from the cloud or if you do have
that happen you need to be able to
revoke those keys as a matter of course
and you've been through that on a device
by device level very very key key
critical
so I free hub supports key symmetric
keys like most of the other things in
the dirt sports x.509 certificates it
supports white labeling and black
labeling of IP addresses but the other
thing that he spoke at length about
wasn't the need for durability of
messaging okay so you think about those
small devices maybe it's a device at in
a field checking water levels of your of
your of your crops again a fairly
typical example now that might not be on
all the time and you might know what it
not want it on all the time because it's
done all the time you were provided with
power if you provide it with power how
to do that when it in the middle of the
field we have a million acre farms in
Australia right so so you know it's not
it's not a trivial thing to put these
things in the field and replace the
batteries in them so you need to have
them typically things like coin cell
batteries which would you know last five
years but when you do that you have to
be able to have them come on
occasionally and go back off again
so the data on occasion rather than be
on all the time now if you doing things
like water - drink you probably get away
without every couple of hours yeah if
you're doing other things maybe that's
not such a good plan but because of that
you need some kind of durability of the
messaging so from the service back-end
you can't just fire a message into the
device if it's not on so what yes to do
is you have to have some point where
that message can land so the when the
device does come on it can receive it
and pull it off that that's a that end
point likewise when the message comes in
you can't always guarantee the back end
is there how many hugs it is fingers
crossed but you can't always guarantee
your back end is there so if it's not
then again you have to have durability
of your messaging to make sure that you
can still deliver that message at some
point in future so if we took a look at
the top two here the endpoints these are
see is device to cloud seeds of these
clouds device essentially what we're
creating there is a mailbox per device
okay so inbox on an out box
another key point about devices is
they're not always static configurations
can change situations and change that
require your configuration to change so
I see how it becomes that but I think
we're a device twin and again if the
demo gods are kind I should be able to
demonstrate them
fingers crossed so essentially what that
is that gives you a set of properties
which are reported by the device if
those properties change service back in
you need an events of fire on the device
to pick that information up change its
configuration and then post back Salem
I'm done so that's what that swings
about methods you may want to invoke a
specific method on on a device now
obviously if it's a very low powered low
grade device you may not have the
capability of that device to do it but
imagine if it's a field gateway and
you're selling it to reboots or
something like that so you need to get
do these sorts of things in real-world
scenarios the last one there on the left
hand side obviously this site is all to
do with the service side and is the
corollary of geller so the last one
there is file upload so you can imagine
that you'll have a lot of devices that
aren't capable of sending vain things
very far madest through bluetooth maybe
six locks which is really really small
bandwidth and not very often during the
day maybe it's Laurel and whatever it is
it sounds of connect connectability you
may not want to send every one of those
messages you may want to store them on
advise and when that device connect you
may want to upload them at that point so
I have also sports file upload and think
yourself well while we'd support file
upload why could you just upload that
file and send a message any some other
way because again it gives you that that
governance because IOC isn't shot
I see having in charge of that process
so the other thing of course is around
operational monitoring to come down here
so operational monitoring you need to
know the health of your systems really
that and that's that's not the point of
IOT hub that's any system you build
right so your instrument system to get
data out of it so as you can log in and
then get some kind of insight into your
system this is no different you have to
do that right so now if the I mention
here is on that left-hand side of the
screen right inside looking out at left
hand side of antigen at the top you see
that it's got a bunch of letters there
the protocols that IOT hub supports
natively so it's sports MQTT AMQP and
HTTP if always MTP and the service back
end is a NTP so a new thing that came in
in released pretty recently couple
months coming there was the ability to
route messages so instead of messages
coming in and being ingested into the
big ingestion engine you may have
messages that you want to fast track or
for the ingestion engines are completely
ignore actually so so they introduced
this ability to create routing rules
based on the properties of a message and
when those messages come in they go to a
different connector rather than that
Cloud endpoints that this device cloud
endpoint as you can see up there and
hopefully again I'm not going to deny
that right so what about some other
processing what about some other things
that you can do with the processing so
if it's all going hot path processing
typically we do talking about stream
analytics but it could be anybody a soup
fan or the Hadoop ecosystem so the
Hadoop ecosystem is recognized on on on
those euros hdinsight which is basically
to do but with an ability to look at
as your storage so either those work for
the stream analytics processing
ballistically case as your stream
analytics so monitoring of course
windowing so and abilities that they
take aggregates over a sliding or a
moving window geospatial functions I
work for an organization that did waste
management so their trucks used to drive
around all the labor place right and
they used to have geo fences things
where noise abatement was an issue and
they weren't allowed to go into an area
of a certain time right so geospatial
functions would give you that
opportunity of seeing when a truck goes
into that area sending message alerting
of drive leads not allowed to be there
it wasn't big brother although they did
use it so making sure that people that
did speed got the right speed as it is
and that is the latest just as your
machine learning is also easy to
integrate directly into stream analytics
again that's that big scale Big Data
they tryna lytx neural and that sort of
stuff that good stuff notice with that
yesterday I'll go through all that
queries in a minute that's pretty
obvious I think so the other thing is
real time data enrichment so it supports
adding reference data as so enriching
your data as it comes through the last
one that I'm gonna mention because it's
probably the one of the more interesting
and more important ones is out of order
delivery so you can imagine con you that
if you've got an environment where
you're measuring temperature for
instance and the temperature is 20 then
25 then 30 then 35 then for so you're
seeing a trend if that data comes in
completely the wrong order
how'd you infer any value from that you
can't run so so you have to have that
that enforced order so if we just look
at that thing on the left hand side
right hand side we see that it's sequel
like this is good because you probably
will understand sequel and we see that
it really what it's doing is saying okay
well I'm getting my stream my incoming
stream I'm going to do two select
statements because you can send this
information out so it's once in and many
out
and I say all of my data and just dump
it into something called telemetry so
that would be some form of database
maybe cosmos DB and I'll get my other
stuff and I'm going to have a sliding
window so every five minutes by device
I'd be where the humidity is not now of
course because we're doing an average
and I take averages maximums and names
and put that into a different location
for telemetry summary this is there
another recent announcement was stream
analytics on edge on the edge devices so
dig that about fill gateways right so
why would this be important do we think
so say you've got a Inlet pipe from an
oil field say that has a pressure valve
on it say that pressure valve is showing
a trend that the pressure is going up
and could create a catastrophic event
now going back to the IOT what does the
I stand for internet right if you don't
have a connection to the Internet at
that point how'd you know that there's a
problem you have catastrophic loss of
life flight so so the ability to push
some of this analytical workload down to
a local device that can perform and give
you insights on that is obviously fairly
critical I love I love the idea of this
as well obviously the stuff that's up
there is the cloud right edge in this
sense is always called fold compute
because obviously the cloud is closer to
the ground right I don't know if that's
it's the reason why but anyway fog
computing so whoever invented that
genius and I mention this earlier on
this is another thing that came out
fairly recently time series insights
sir-sir time series data bases the name
suggests messages delayed by one minute
so that's why it's warm rather than hot
and why it's warm rather than cold
that's kind of in the middle
big enough data so it's not big data or
it can be it could be millions and
millions of events but it only stores up
to 31 days of data by default heat
mapping I'll try and demonstrate that's
I can demonstrate that at least and you
can share your dashboards but a key
thing here and if we look at the diagram
we can see that we assuming in and we
can see that there's been an event here
that seems to correlate to other things
right so if we know that that's for
instance pressure we know this is
temperature and those may be less
density weather and then we could see
some correlation between the events
really quickly which means we can get
into in size time series II sighs oh all
right well fingers crossed everything's
going at work right so this is what I
was gonna demonstrate and the Fez hat is
not working so I will give it to small
more one more plug in and try it so I
promise that in my precis that I would
have devices so here we are missing
devices a sneaking suspicion my says hat
might need to be replaced so when I saw
Fez hat
I had to laughs anybody so I mean how
many British people here not that many
okay so edit what does anybody remember
Tommy Cooper yep Tommy Cooper yeah I
moved to South Australia from South
Wales he was born and raised in Casilla
which is just down the road from where I
used to live so whenever I see Fez hat I
have an image of Tommy keeper in my head
so reasons I'm not quite sure so I'll go
central of Fez hat is that going to work
no it's still asleep so so we won't do
the first hat I got a hot path a cold
part in a warm path and some action
right so if the demo gods are going to
be kind then I can at least show some of
that
so just some tools of the trade so this
here is device Explorer which allows you
to look at a very specific instance of
IOT hub we have this thing which is gone
off the top of the screen because I've
resize my screen so this is the IEP
dashboard these are just free tools you
can download clicking up summarize we
try here I put in device portal I was
already open yeah but yeah so what you
notice about here is it says Windows
Device portal this is running Windows
IOT 10 core and I see that I see 10 core
is because it's Windows 10 you can
manage it with in tune and all that sort
of good stuff right so you get all that
for free but in here we can look at some
apps and we can look at the processes
and we can look up what it's connected
to
so here I did have it connected to the
NBC network earlier on but big States
got an IP address and so on so forth so
since the suit wasn't seems to be happy
you'll see but what we going to do is I
was going to show some code as well
right but before I do that I'm gonna go
to the is Europe all and show you what I
kind of built so I have my IC hub I have
a logic at that logic AB is just taking
data and pushing it to slack so that
could be your insight slack could be
Twilio or next mo or any other SMS
service service bus at the end point for
those certain message types v series
insights I'll start that up now actually
because it does just take a little bit
of time to load the environment so and
it would seem the portal was wrong right
so it's logo so what else we have here
so I've got the cosmos DB account that's
storing my data for cold visualization
I'm not doing any machine learning in
this and if anybody wants to know some
more about machine learning Nigel is
right there
yeah I can't see any so I got stream
analytics so you remember those those
jobs right so my stream analytics job is
very very basic and simple because the
idea here is to show you how quickly you
can do this sort of thing and how low
levels of code is required to do it
because what I said it's about the
platform right leverage what you've got
what's there so now it's is really slow
so my query is nowhere near as complex
as that last one which was itself not
very complex my Maitre D' just takes the
input and push it out to places so now
so with all info when theta comes in
selects everything and push it out to
power bi and cosmos dB
so that's hopefully what will work and
we'll see so what about code itself I do
other presentations on i.t cool and and
so on and it's you know did one some
time ago which was how to pray and IRC
and to in solution in 40 lines of code
because there's an SDK right so you
might as well just leverage it so in
this particular case I promised your
code this is a developer conference
please don't judge my code please so
what are we doing so we're creating a
device clients that's the thing that
communicates with ie hub these are all
the new get packages so these go here's
one I created earlier so we can see here
I've got something which is my sense hat
which is the thing that's on my device
I've got device what Microsoft Azure
devices clients which is the SDK so
doing the device communication so lesson
one Mel right so you can see what I'm
doing is I'm creating a connection so
the device is creating the connection so
remember eyes how that's Clemens actors
work it's about the device creating
connection second line there is really
about creating a link between my service
back end and my device because that's
for pushing paper down to the device so
I mentioned about twins so that's saying
okay well when I change my properties in
the cloud I want them to be reflected on
my device that's just a callback the
next one is really just a method so
remember I mentioned direct method so I
wanna send something to the send
something to the device I can do it
three methods
so we go down here a bit further what
I'm doing is I'm setting up some some
data so here I'm just setting the twin
up so as I'm putting an alert in you can
probably tell where this is going maybe
be able to change those alerts and get
stuff going through to slack that's the
idea behind a demo right what I'm also
going to do is get a bunch of data off
the device and then I'm gonna send it
the second to last line there the key
thing about this is I'm sending data but
on the device because it sports because
that connection between the cloud and
the device supports multiplexing I think
I can connect both and send and receive
at the same time so I'm also gonna so
there's my send sit down stands and
testing of some values and there's my
receive the reason the breakpoints in
there is because hopefully this will
work and I can break and show you it
actually does work so with no further
ado I shall do that let's just make sure
this is the right IP address it's what
which is good so
what is now doing its building shouldn't
be building I built it this morning it
should be quick yes I deploy start is
right so it's now pushing to the device
what we should see if we go to the
camera here and move that one out of the
way goes that's not actually working so
we'll just take a little while just to
upload so we'll come back to that
this is deploying but what we'll do is
we'll come in here and we'll try and
monitor the events this is a bit that
wasn't working earlier on fingers
crossed it will work this time and we'll
be able to see the events coming through
and then we'll be able to do some
playing around with it right so that's
that's the idea behind the behind the
demo so whilst that's loading what I
might also be then is going to time
series insights right so so we'll come
back this is all the basis and we'll
come back to the live demo for one of a
better word yeah well so time series
later is that warm analytics path
delayed by a minute allows you to get
some further insights so what I'm going
to do is I'm going to say okay this is
the data that I've been playing and
sending around over the last couple of
weeks the last couple days rather will
see something in in although eating see
I managed to send quite a bit of data on
that point there that's all we can do is
we drag that zoom in now I haven't done
anything to this this is all been pre
calculated right so I've other than send
the data it's time series insights I
haven't done anything so this that you
get all this I won't say for free and
but you only so I can choose in here I'm
going to choose the light and I'm going
to say split by device ID so the first
app which is this thing here has a light
sensor on it that was going to be one of
my demos unfortunately it's not now
so that's going been nothing but well
you can see here that there's two
divisive same time Fez hat and there's
some data the sense that doesn't have a
light sensor that's why there's nothing
on there so we can overcome that just by
putting something in here devices
excuse my typing there's a plight so I
remove that later right so we get
something going on here so wanted me to
zoom in a bit more on it we'll change
this to be a bit more granular I can
definitely see that something was going
on
light something going on over here
wonder what that was I know I was there
but so I remember remember you sound
about the heatmap I'm gets heat map and
I can immediately get a very very quick
visual representation of outliers
anomalies all right now obviously
there's a lot of anomalous dead dates
are there or maybe I don't think that's
anomalous maybe I think the low numbers
are anomalous and I can then go and zoom
in in that area as well Colette's chart
and what I'm going to do is I'm going to
add another term at this time I'm going
to do device suits is equal to since
apply then I'm going to look at humidity
because the sensor has a humidity sensor
there we are humidity so for the times
of this that's great two days ago for
yoga yeah three days ago you see CSIS
3:30 roundabout something like that
something has happened at that point a
bit strange we can see that at that
point there was a lot of lights and then
this things have tailed off and the
light disappeared so what do we think
was going on there
so it's just zoom in a bit more there so
can anybody have a guess as to what was
going on there humidity went up and then
suddenly the light disappeared okay I'll
give you I'll give you another clue I
had my Fez hat which got the light
sensor in my room and I had a sense hat
in the bathroom so what do we think may
have increased the humidity in the
bathroom I took a shower right oh well
that's just awesome
goody so we'll try that again and maybe
we'll just quickly run through that yeah
so I had a shower basically and the
reason it got dark is because I took my
card out of the room and the lights are
off so yeah it's pretty pretty obvious
to infer when you know someplace about
but what I can also do is I couldn't
look at the events so again I haven't
had to do anything for this this is just
ingested directly and it's done all this
calculations for me and now I can start
going into the events as well pretty
cool stuff
and of course the scene Belen that is I
can go hey mister production engineer
look what I found so I can just send
them that URL and I can save these
dashboards and and go really really nuts
with them if I already want so again
it's it's all pretty powerful stuff
so is this running there with deployment
errors so this has gone to sleep as well
on that okay well you know why we do
things the hard way
like that directly any case without hubs
a bit enacted you can see though that it
did display the temperature when it was
working so 33 degrees well let's calm
all right so that's coming back to life
I think maybe right maybe it's the hub
so we'll get to special a time you have
the hub because I was going to be doing
stuff directly with two devices come on
so this was all working this morning in
the bedroom before I came so I should
have just invited your master that's
probably wrong probably wrong so we'll
see if that comes back it's Noble
dispense with that one first alistair
have it right moving on so the other
thing I would have shown you is the live
data so just recently power bi
introduced the the ability to take
streaming data sets so if this is
working that would also be working that
really is bent so I wonder if I take
that out if it's actually there I did
send the Wi-Fi off which probably wasn't
the brightest move so so there was it
was working briefly just a little bit of
time ago so it was actually sending data
so that's what was being displayed about
this is what - that was get hour ago so
was working when I write now this proof
I'm not making it up and of course what
I would have shown is that temperature
going up and and and you know just by
pressing the temperature sensor and the
light as well what I do is I move on
because demo gods haven't been kind I've
didn't pray hard enough so I was come
back to this because it's still
important nothing to show this because
it shows that the way this process does
work so if I go into management up here
I can see my devices please don't copy
those keys oh it's 10 is connected
interesting clearly them
so this is a device twin that I was
talking about so the thing that has the
cloud representation of the state of my
device right so I've got these reported
properties so that's what was in my in
my code so thirty five and twenty and
what I can do
although I won't work what I can do is
going here and I can literally update
that press send
actually here won't work a term well no
matter mother
and you know I've drunkle in sup date to
the configuration right so it's clearly
not receiving data though so I can try
it one more time maybe it's maybe did
connect back to the Wi-Fi now obviously
isn't cuz it's not changed back to the
number on the front right so but I've
also send messages from this device from
this to the device and I can call
methods so very very useful tool if
you're playing around with these things
that exploit the device Explorer I urge
you to make it your friend the other
thing that we can show is how the I so
if I go into power bi this this will
work so a few days ago I downloaded some
data and I started making a dashboard my
my skills in power bi and not as good as
well frankly most people's so so
apologies for some what rubbish looking
of it that's a slow drip so we can see
here that what I've just done is very
simply I'll put a couple of things on
here just as examples this is the
acceleration
I've got light and humidity light and
temperature humidity and I'm able to
slice the spacer and do what need to do
by time or by by devices right so when
I'm I'm happy with that
so this is that this is to satisfy that
need for the cold path sort of these I
downloaded all this data from document
BB sorry the names changed
sleepy and pushed it into here and oh
let me see with this then as I publish
publish do you wanna save changes
yeah well some take very long thankfully
mean silent whilst it's doing that oh
yes please select yes select give this
one very very final go we want to show
the demos don't just do that one
publishing publishing publishing done so
now I go to power bi o as I go down here
it will see if i refresh that is in the
report which will be that dashboard
build that report I just created there
we are
way there is where the data and we can
see that's the best way was just playing
around with inside in power bi desktop
and so I published this up and I can do
all the same stuff I can slice and dice
as anything you'll notice this date is
old because it's for a couple of days
ago not spectacular if you want to do
long-term monitoring of things so you
overcome that by going down to your base
set clicking refresh now hopefully it's
remembering my credentials can't refresh
your data it hasn't ran out of my
credentials this is really extremely one
so we just going here and we just
grabbed my key please don't make a note
of this and obviously when you're
videoing this make sure you blacken this
out I'm just saying
this cosmos database will be games by
the end of story
so we're time as well sounds going to go
in here and go keys copy sign in so that
so that says data source updated that's
good this will refresh now so now you'll
actually go and refresh it so good
that's done it but of course again it's
still just a static dashboard of that
data in it right so from the perspective
of having that cold path analytics where
you want to be told and do your batch
analytics and it's still not spectacular
what I can do is I'm going here and I
can set up a schedule refresh right so
keep my data upstate yes I can do that
frequency alien weekly I'll tell the
time that I wanted cert and that will
then keep that basic dashboard updates
right so that's that's my that's my cold
path analytics if you like if I go back
to that dashboard or the report rather
should see that that will update just
pulled in the other data instantly
pulling data from space over and the
same was working honest it was working
and now I can slice and dice this and do
do as I need it's so we'll take some
sort up whatever so this is still not
working so that's fantastic
so we'll go back to that let's take the
same so I pretty much about five minutes
early so I apologize for that
I want to go back to this slide just to
kind of reinforce eyes really I suppose
the the message which is you have things
they can be capable they could be not
very capable there's actually an SDK or
source code for the for the
communication in and out of out of IT
hub it's also you can compile it
yourself so you don't have to use an SDK
there's SDKs of Java and and Python and
various others c-sharp of course in
sites so how am I going to get some my
beta and get some additional value out
of it so again a bunch of stuff there
and last thing there is about
connectivity really I'm an integration
guy I'm known in Perth as a person who
could always fit the word BizTalk in any
put in any kind of conversation so I've
done that now so I've got out of the way
so that's good so so logic apps is the
is the the way we do this now nowadays
of course they're really truly the rest
of it's around about that value chain so
we don't build hardware and software
integration or the systems it's great
that I work for we have a hardware
partner we have our own data scientist
but you can hire those kind of guys in
right so don't be put off for the fact
there's a lot of stuff there but I would
definitely urge you to try and play with
as much of this stuff as you possibly
can because it allows you to get that
understanding that's what this talk was
about really about getting understanding
of how you might deliver a real-world
solution in the world of IOT and that I
think probably with that we've probably
not quite out of time but this isn't
working so I would have been about
another 5 minutes longer so I think
that's probably it is this way so that's
my twitter handle if you want to follow
me and that's the still so that's it
thank you
and as we have a bit of time questions
yeah let's get off the space of them
blinded yeah yeah yeah you can do that
yeah so there's there's there's a few
ways you can do that right so you can if
you really focus ire create machine
learning models to do that you can also
use a thing called as your batch which
allows you to run c-sharp code and I
sort of staff at massive scale it's also
use things like dump station of flow
dynamics and all that sort of stuff and
Monte Carlo simulations that sort of
thing so there are there are other
services that will allow you to do that
yeah yeah well again machine learning
would do that right so then I think
Nigel mentioned it briefly yesterday
there's there's an anomaly detection API
in in the Cortana intelligence gallery
so you can use that and you basically
throw a dataset at it and it tells you
any outliers so if you don't fault
detection that's pretty useful but
actually in the gallery there's lots of
other things as well people build these
api's and publish them for you to use so
you can just use those as well right so
there's a lot of stuff there so what's
the question yeah yeah
you can if you're using Windows 10 IOT
core you can use you can use insurance
otherwise you can that that's the way
that they are the direct methods and all
that sort of stuff works it allows you
to basically do over-the-air updates of
the core systems or reboots and so on so
forth right so you can't you all that is
part of the device management so if you
if you running the SDKs you get that
device management and they display rode
on it no no no no other other system so
yeah maybe maybe are I wouldn't like to
comment for sure but possibly yeah but
it depends on the volatility of your
code right so if you know your code
doesn't your code is unlikely to change
very often I think it's probably fair to
say once you've built your device
because then you deploy it into the
field right so yeah exactly so what what
IOT hub supports is think'll jobs device
jobs and that allows you to schedule
across a larger spate of devices
upgrades such as your thought about
right upgrades and configuration changes
and that sort of thing yeah
any other questions I think we still
were a couple myths oh yes yeah
yeah so actually it's even simpler than
that so that's a very very good question
let's just give her that so as you pop
it and ring so here we have time series
insights let me see it says event
sources so this is the power of the
platform I suppose you'll argue I can go
in here and just point it directly at my
IOT hub so IOT hubs like like event hub
uses a uses a partition consumer pan
rather than a span of messaging pattern
you might get in a queue which is which
is a competing consumer so you have
competing consumers on a queue which
says okay imma grab this message I'm
gonna grab that message and so on right
you can't do that with large-scale
streams you have to have a thing called
a partitioned consumer so what you have
inside IOC how that event hugs that
built on the same stuff is the idea of a
consumer group and when you start
reading data off of that consumer group
which is just the stream as you're
reading that data you just check points
out that's at this point in the stream
at this point in the stream I've got
this point in the stream and at any
point you can wind back and start
processing the data again so the only
thing you need to make sure is that when
you're consuming things you set up
enough consumer groups so that different
consumers can consume the data different
volume and different times and so on
like so so time series insights here
what I did is I set up different
consumer group so I think you're not
usually shows on displays on the screen
so I said I've consumed your time series
for that particular one and my my
extreme analytics is reading from a
different consumer group so they're not
competing for messages on that concede
group but it's look but literally it's
it's wiring up there's no code involved
in all this it's just literally wiring
up their questions
okay you're right keeping my favorite
audience so far</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>