<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Node.js Security - Ilya Verbitskiy | Coder Coacher - Coaching Coders</title><meta content="Node.js Security - Ilya Verbitskiy - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Node.js Security - Ilya Verbitskiy</b></h2><h5 class="post__date">2017-03-22</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/CwGGl4dx2yQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone thank you for coming it's
out like waking up at 8 a.m. so early
and time this presentation about Nagi
security
my name is never bit ski and I have been
doing consulting in banking finance and
e-commerce sector for the last 10 years
and as you can imagine information
security is really important in those
industries and all security flaws cost a
lot and sometimes read a lot you can
lose your business if something goes
wrong
first of all let's you let's take a look
to those questions who has stolen my
credit card 2016 was wasn't a good year
for stores ranked on magenta or open
card there were some vulnerabilities
allowing you to upload my any PHP file
to those ecommerce systems and what
happened was by the guys just created
both boats which scan for which were
looking for magenta or open card stores
and uploaded key loggers so whatever
credit card or and see which you typed
on a infected website was stolen and
probably stole somewhere in darkness
it's my book secure it's obvious that
WordPress is platform number one if you
want to build like simple website blog
or some static content and the truth is
what price has really really secured
nowadays and what Christine react really
fast if there is something wrong with
the system
the problem is plugins WordPress has
thousands and thousands and thousands
plugins and most of those plugins were
built to just in like 15 minutes hack or
do it in a weekend and developers didn't
think about security so they were
another famous security issue in 2016
when there was a picture it was a loader
plugin for WordPress and it existed to
marketplace for a few years and nobody
really
Tainted and somebody found a security
bug that you can upload any PHP file to
WordPress and imogen what may happen the
problem the problem nowadays is hackers
do not break just one particular website
just run run
I bought not the wrong scripts we just
go through internet trying to find in
fact and in fact your WordPress blogs
and then I know like share some malware
whatever and the last interesting news
from last year it was in the autumn our
internet actually was broken there was a
famous attack to gin DNS related to our
G devices
everybody's crazy about IT nowadays so
everybody's playing was on Draenor and
the Raspberry Pi and it's like really
easy just buy a pack and build something
what happened was bad guys built and
another botnet which were looking for
web cameras IP web cameras and you know
if you buy the IP web camera it probably
don't think about passwords and security
settings you just plug it in and it
works right cool and most of those
cameras came is really easy default
passwords and it was really easy to pull
force and put some malware on it and
attack and imagine we have a hundred
thousand IP cameras deployed all over
the world nowadays and what made the
issue even worse was some of those IP
cameras they had the default passwords
but they didn't have even have an
interface to change the password so
imagine anybody can go to your camera
and download your video or examply
that's a really scary so I think that
there are two major vulnerabilities in
our world
the first big issue is how users because
it doesn't matter how much money and
time you invest building your
information security system how great
your code is if your user use password
one two three
it doesn't really matter your system
will be broken and another bug is
developers so we ask the developers
don't like usually don't think about
security in advance we are trying to
build a code as quick as possible to
build a mep product and go to market and
what happen next
we are getting popular and booms we are
hacked and in the worst case scenario
view we've lost our business because
loss lawyers cost a lot and if you're
working for finance for example then the
things getting worse and worse because
it's a highly regulated environment and
you will pay fees to government - you
get your customers and you know let's
take up to this chart this is the cost
of bug fixing when we're starting a new
project when you're gathering
requirements building the architecture
it's easy to prevent security issues in
advance if you think about it from
ground up and the cost of adding
security systems when you're gathering
requirements and building architecture
is minimum it's not isn't free you know
you have to spend time and effort but it
doesn't cost much from the other hand
when you go to production and when your
website is hacked or like applications
hacked then you your cost is unlimited
and because you know it really depends
on your system if you're a bank then
you're not just losing money paying the
fees to government but you also have
reputation you are losing your
reputation and it's very important like
imagine I have I'm working with an
internet banking of Bank ABC and they
hacked what I will do tomorrow I will go
and close my account so today we're
talking about no GS and let's take a
look to this question it's not just safe
I think that that Jason in unique
product because it came to the market
and grow up really fast
and it allowed front-end developers to
do back-end job so we actually invented
developers called a full stack
developers who can do a front-end and
back-end and it's awesome and business
owners are happy because it shouldn't
hire like two developer they can have
hired as one guy who will do everything
for front-end guys who just who are just
coming to the back end you know didn't
do JavaScript just with a safe
programming language so safe here
because we have virtual machine and we
cannot have like buffer overflow attacks
and all these nasty things we remember
from C++ and one could you be and any
other no CTO database we have no secure
so there's no secret injections of a
game we are safe everybody's happy and
then they say what no gs+ MongoDB it
means safe application unfortunate this
is not the case today we will talk more
about a wasp top-10 this is a one of the
security check box list which brings top
10 well known vulnerabilities which are
available for baking all applications
unfortunately there are other check
lists but a wasp was built precisely for
applications and I think it's the most
popular and most well known current
version was created in 2013 and it's
used by NSA search PCI European Union
government the like but made by many
organizations and the next version is
hopefully it's coming next year because
they're trying to issue a new checklist
every three years and like a month ago
they finished the gathering information
about the data leaks for the last three
years and now they're working hard to
create the list in publishing that's get
started so the malleability number ten
which is not quite finding a quite
common but appears
it's called unvalidated rejects and
forwards take a look to this code you're
building a you know authentication
system right and imagine you have an
authorized user who goes to your admin
panel and if you want him to log in
first and then redirect back to the to
the page he requested it's easy so if
you write code like this it's fine what
will happen if somebody sends you a link
like this if this code will be executed
that after successful again your user
will be redirected to google.com it's
fine but imagine you're building an
internet banking app and you have a
phishing website we're just gathering
usernames and passwords and they in turn
banking itself has this issue so I sent
you a link and saying hey please check
your account list again you go to your
internet banking logging in you know
your username and password so
authentication succeed and then you
redirect to malicious website where you
see computers the same website by saying
hey username and password what's wrong
what you will do type it in again
because nobody really check the URL what
you have at the browser and in this case
your account is compromised what you can
do first of all don't use redirects
unfortunate it's not the case and if you
have strict security security policies
and you can use parameters like and see
the free direct so you can have a hash
table saying one means admin two means
profile three means whatever and then
instead of having the real URL for the
redirect you can use just this magic
numbers and if this is not the case for
you or you have time to build that you
can use valid URL and p.m. package which
checks if URL is actually your local URL
and not website number two no number
nine
using components with known
vulnerabilities again this is a common
problem if you take a look to any mole
as beef not GS application it uses
hundreds of NPM packages and every NPM
package uses another hundred different
paint packages and who knows what is
there the good news are there are
databases available on the internet
actually it's also bad news where you
can go and check if your package or
library you're using has some issues so
the place to go for not just is not
security that I all this team who is
gathering as much information as much
box and security holes and not GS
packages as I can and they're really
nice guys so for example if you found a
box somewhere please make sure you send
them an email saying hey we found this
security problem please added to your
database they also have a competitor
called snake and the snake they're
mostly focused on not GS and Ruby on
Rails and there are also four other
places to go and there's also like
general security information databases
where you can find bugs for Apache and
Jencks windows whatever and like this
exploit the bee is kind of cool one
because it's not just the text
information about what's wrong or but
you have something wrong it's also
information about the it has exploits so
you can download the code and play like
a hacker and try to break you up so you
see there's this problem and it's really
important to choose your NPM packages so
when I'm choosing paint packages for my
projects
I'm usually following this checklist so
first let's check the popularity of a
package and if it's a version zero zero
one and it has just 40 download so weak
so probably I'm not going to use it if
there are competitors with more
downloads or they go on the market then
I'm trying to get information about the
author usually have Twitter accounts
you type accounts you can see what
they're doing then even got to get
happen check what's going on with the
project
the popularity like if it's an accident
like if it's active and the development
has issues and others communicating with
the community this is a good sign
because it means that somebody will
probably find security issues and
hopefully they will be fixed and if the
project is that five years ago so
there's no point to use it and oh you
take this risk and probably have to do
like a code review and try to find out
the way to use it's a risk
then if projects use static analyzers
and unit tests that's great especially
ecstatic analyzers because it means that
developers are really thinking about
security and they have this security
mindset Danny if you have time you can
check public security databases
melanie's slacks so and again depending
on your application so if you're
building an internet bank that's one
thing you will you're not going to use a
package and be happy and if you're
building a I know just another startup
for cats
then just use it because there is no
value to hack you the system really and
you know this checklist is like really
time-consuming so that's why there are
tools for not GS which automated the one
I like the monsters and a spear and it
uses no security database vulnerability
database and it's integrated to be a go
grant
or you can write as console what it does
it just takes the list of an NPM
packages from your package that conf and
checks against the well-known issues and
there are a few others like sneak
retired GS and GS Prime those are doing
the same but against different databases
so if you are really paranoid then you
can use four of them there is a package
for years in the inter : called scan GS
it's a static analyzer for JavaScript
and it tries to find the issues like
justif injection and
like coding things like Sakura injection
and tell you about that of course there
are a lot of false positives but you you
have to leave it as unfortunately Rocky
it's another static and lighter and it
was built actually not to prevent you
from having issues in your code but to
clean up the existing website imagine
you have a wordpress website right
and usually when it's compromised and
you have some viruses or some damaged
JavaScript some when the footer and it's
really hard to find it yourself and
especially if it's not just one website
if it's the hosting company they have a
hundred websites so what rocky does it
has a database or well known malware
patterns like some regular expressions
and other things and it just goes
through all your code base and tries to
find the some patterns and report it and
if you want to do some investment or buy
some products I know I'm sorry I know
only one static analyzer commercial
static analyzer which is available on
the market which works it's not GS is
called veer code and it's a porous i/o
line like a lot of language like C++
like c-sharp Java and they finally added
no GS so if you know any other static
analyzer which works it's not GS please
let me know okay so we used all of this
small tiny things we hope we have the
best NPM packages in the world what may
happen next we have zero day exploits so
those packages may have vulnerabilities
which we don't know about they and
somebody may find it and try to exploit
it on our website in this case we can
minimize the risk by using fabrication
firewalls the most common one is mod
security it's an open source solution
which works for iOS and James in Apache
it
has really big open database of security
patterns or attack patterns a few others
like I'll be an axe see Shadow Demon
those are all open source and if you are
on AWS or you're using cloud Slayer they
also have a packaged cloud application
firewalls in the system so in AWS just
go and enable it so number eight
cross-site request forgery
do you wear how this attack works okay
so like really quickly we have a
vulnerable application which you have a
forum to transfer funds right and notice
forums does it just accepts parameters
from to and checks if you are allocating
the user if this forms when they're able
to see a seraph attack than a Moloch
hacker may create an HTML page with an
image tag and the source of the image
tag will be get requests to your fund
transfer form something like send money
to and from then he sends this HTML file
to legitimate user who opens it and what
happens web browser BOTS HTML parsers he
sees ok I have this call to transfer
fund and it calls it and if the user is
authenticated in this banking system at
the moment
then his money will be transferred
somewhere else
and surprisingly this not too many
developers know about I still don't know
about that and I I see it like quite
frequently
again we can deal with that there is a
package called CSU RF and it's actually
bill automating this CSRF attack
protection what you do like quite easy
to use first of all you create you
register middleware CSRF and then for
your form for each form you generate
CSRF token in this case we store it in
the cookie and this talking has to be in
the form what happened next you have the
form with this hidden field and when
equals goes back it goes to see a sort
of checker trust and it compares if you
have this unique token in your cookie if
you and the same token in your request
so if they match it request precedes
otherwise it's blocked as altogether
access or security be sure number 7 yes
missing function that will access
control this is really really common
thing because developers are lazy first
of all it's quite common to use this
security through obscurity imagine you
have an admin and you don't want to
build like education system is just for
developers you know see my it's my
secure admin what they'll probably do
they uploaded to a website and create a
some damning name foot directory ABC G
one two three and things that nobody
will have figured out because come on
you have to have FTP access to see that
there is a hidden directory the problem
is bad guys have automated tools we just
go and scan your websites for common
patterns and surprisely
like we are all people and we use the
same patterns and the judge we have
really high chances that this highly
hidden directors will be disclosed
another thing like checking permissions
only in UI
again quite common so you have your view
and you
check okay if I'm user as admin its
admin then show him this button
otherwise don't show it and then you
have a postback request which and you
don't check the permissions really it
happens a lot because you know you think
come on if he if the guy cannot see the
like remove account button then how can
he call it again automated tools will
help you to do that and missing
permissions checks and helper services
again let's talk about e-commerce in
this case you have your store it's like
secure protected everything goes well
but you have a full film service which
deals with your ERP system as listening
for MQ messages and that's something
imagine the somebody broker system and
he sends a package dieties MQ avoiding
your front-end like your e-commerce
website and probably your earpiece
service it's not checking permissions
because she doesn't he thing okay if Sam
is able to send a message to this
impudent probably he is an image user or
how a commerce system again not the case
and it it happens quite often that
systems are broken through those things
what you can do unfortunately there's
not much what we can do in this case
rather than doing code review testing
and probably punish punishment for
developers but that's life and yeah make
sure we check permissions on all
applications layers and you use
altercation middleware everywhere so
just register that every single request
goes to your applications where and
number six is since data exposure
you know things may go wrong and we all
drink is data all applications are
dealing with data and there are two
places where the data may leak
the first one is networking you know you
might be a government who can listen all
the traffic going through the country or
you can be internet provided somebody
can be in like bad guys can work 28
provider and they can inject sniffer in
a router and listens everything so this
is one potential security issue and
another one is in secure cryptographic
storage again imagine things going
really really bad and hackers I bought
it on low to database and US store what
we will see there probably addresses
great cards see see with two coats and
you know this information has to be
encrypted let's talk about forensics
thickness just fortunately it's easy to
do nowadays you must always use TLS and
yeah even if you are if you're not
building a secure website use TLS and
you know HTTP to specification for
introduced a few years ago and the good
thing about it it forces you to use TLS
it forces to use encrypted channels if
you're this pack we a HD bitch you see
has a possibility to work over
unencrypted channel but all
implementation I know just force users
to use encrypted channel and in the last
few years there were many many many
issues found in SSL and TLS
implementations so now you should use
only
tillis 1.1 or higher because other
versions are vulnerable moreover if
you're working in e-commerce sector then
probably aware about PCI compliance and
you see is an organization which issues
a set of fact check sort of rules what
you should do to make sure that your
what ecommerce solution is protected and
since June 2016 the force everybody use
at least till at one point one no matter
what and those protocols are supported
in all in all browsers nowadays so you
are safe and there are a few other rules
first of all if you generally secure
content to make sure it's encrypted and
if you you're probably using the act in
without education and you're doing the
session cookies and in this case make
sure that you use secure flag for those
cookies it means they are sent only over
TLS and no it usually makes secured and
unsecured content on one page let's say
if you are loading HTTP page HTML page
over TLS and then you have a JavaScript
loading over HTTP what happened in the
past somebody can intercept the traffic
and add some malicious code into your
HTTP because it's like plaintext the
good things I think all modern browsers
do not allow that so when you're
developing a website and you're going
somewhere on HTTP HTTPS and there's just
two loading on HTTP probably script will
be broken and you in your debugging
console you'll see hey you're trying to
use an secure contact constant content
on secure page so let's talk about data
encryption there are plenty of
cryptography libraries available for no
GS crypto is a built in module actually
it's improper just with wrapper on over
open SSL and it's quite performed there
is lab recalled as JCL it's a stand the
library was built issued by Stanford and
they make sure you implemented the most
common
condoms like I asked or some hashing
algorithms the good thing about this
library first of all the performance is
good I tried that and second it's pretty
good as fast not as good as like native
crypto module but it's usable and it
runs in the browser
it runs on mobile devices for example if
you using this Cordova jingis Cordova
and it runs on not yet so if you want to
build just one piece of code and share
it with like server and your clients
then you give it a try and yeah there
are a few other modules that clip the GS
and not Forge
those are just no GS modules you can
take a look and if you're interested and
the good thing
w3c consortium created a specification
called web crypto API ography API and
the specification is implemented in I
think in all major browsers nowadays so
right now you have native cryptography
support in your browser so you can use
crypto crypto API from JavaScript and
again it's optimized for performance so
it doesn't affect performance a lot and
if you are still using all browsers you
can use poly crypt
it's just polyfill for the crypto API
number five security Miss configuration
yeah that's a big problem and it became
a really big problem for MongoDB owners
actually is the last few weeks
now if you've heard the news that there
was an attack against MongoDB so
somebody built a software which scans
internet and tries to find the open one
goes because how do we deploy Mongo just
deploy it
don't even say the password or usually
people forget even to stop like firewall
rules you know the connections only from
your web app so what this software is
doing if it finds an open Mongo
it downloads all the data removes it and
then send an email to the site over here
if you want your data back please pay us
in Bitcoin and you know people never
learn never learn this happens first
time it happened in 2015 they were
research when guys were able to find
like I think it was like such a thousand
open MongoDB databases without any
passwords and then the same researchers
around this test again in 2016 and then
they found like something hundred plus
thousand open databases available dated
on internet it was more like digital
ocean instances so probably somebody
play with it or like was doing something
but you know it also was some like major
websites surprise it and again now in
2017 somebody's at ok like people never
learn so let's make money out of it
there are several common security
misconfigurations first of all default
passwords and settings and we also give
too many permissions to our code yes
guys please don't run your app as erode
sometimes people do that and information
leakage that's when for example if
you're running an Express application by
default it sends information that it
sends an HTTP header saying these
applications run by Express so it just
gives information to attacker that okay
this is not GS so let's use no GS
attacks and don't scan for like be
common PHP issues for example and I also
add dos attacks here it's not miss
configuration most of the time but
sometimes it is for example if you don't
set proper limits for your HTTP requests
somebody can send you a hundred thousand
five petabytes files and probably
service is that or another common issue
our regular expression based engine of
service attacks and it works perfect for
non GS so you can create there
regular expression which actually cause
an infinite loop and since not gsx
single threaded server you call any to
provide requests and your that good
things we have tools to help us first of
all I would highly recommend to start
using tools like ansible chief of puppet
to automate your servers deployment
configuration and all the things because
if you create one script and you have
several people who can take a look to it
and all the configuration in one place
it's a lot easier to find this miss
configuration problems if you are
building an Express application then
make sure you think one of the first
packages you deploy after Express is
helmet so helmet as a set of middleware
which has some security related HTTP
headers to your responses and and for
example it hides it removes this special
header that your application trying on
Express and for example it had some
header HTTP headers which say a test x8
browser okay I wanna load say JavaScript
only from this domain name and blow up
anything else so it prevents you from
cross from cross-site scripting attack
man sometimes that so HPP it helps you
to prevent from HTTP pollution attack
when somebody sounds like in URL you can
send would say parameter a multiple
times is the different values and course
it's obvious during this course and I
beat you a block it's a country based
firewalls so this middle bear allows you
to say I want requests only from the US
and I don't want request from rest of
the world express limiter house we just
set up this request limits so nobody can
send you five petabytes file and break
you up and safe relax
in there's a library which protects you
from this regular expression tous
attacks and checks that your regular
expression sexually safe and number four
insecure object references again that's
another common issue in the code itself
imagine you have code like this you have
a message edgy but say it's a like what
else a gmail so you get a message ID
from your URL and then you query
database and please give me my message
and render its message again so
developer things that this code will be
used only from the web interface so they
know what messages they can render in a
table for example but somebody can
create requesting this message as u1 and
who knows what one means and if must
read you one is not assigned to your
account then you can read somebody's
mail which is bad okay so what we can do
again since it's a pure development
issue we have to use what even testing
and as a good practice is to use if you
have to send the sensitive information
like message ID it's better to pass it
through session like not cookies
recession and do not show to to
attackers or to your users that you are
using this special value somewhere and
again check permissions and altercation
layers but you know you must use code
review and think what you write
so since I'm getting more interested
interesting number three cross that's
using attack I think it's very very
common and everybody experience it
probably
and so Krystal Sydney attack it's an
attack when a hacker can add some
malicious JavaScript code to your to
your page and when your normal users are
coming so first of all they can do you
can see like completely different
website so they can do the deface your
website visit javascript or they can use
some zero-day in the user's web browser
and upload some exploit that's actually
what what most of the hackers are doing
nowadays so they use cross that Street
met back to spread viruses there are
three types of attacks first one that's
stored at sword attacks this is the
attack when you when your javascript is
stored in the database and whoever comes
to you say it's a bulletin board
application so you can store JavaScript
in a in a bulletin board post and then
whoever goes to your website will see I
will execute this javascript reflected
it success is an attack when somebody
adds JavaScript into your URL parameter
so in this case some essential link
hey please open this link and then you
will have a JavaScript inside your URL
yes kind of easy to prevent so those two
attacks I'm not to complicate to prevent
and most of the web application
firewalls not trying really hard to
prevent them there is a third thing so
our world is moving to the single page
apps where everything like even like
business logic is done on in the browser
and sometimes your browser is refusing
something and you don't even send
request back to the server and don't
waste
XSS is exactly this case so imagine you
have a excesses attack in your single
web application and it's not going back
to the server so some when your browser
and in this case you cannot use
web application firewall to check it
traffic and you're screwed so this is
like the most dangerous attack nowadays
okay the good news we can command them
there are like this is like just more
like the most popular four most popular
libraries in know GS to prevent XSS it
does do some validation and when you're
doing validation make sure you are
dating your base not content based the
context for example if you want to use
some text in your JavaScript you must
use JavaScript validator if you think
for CSS and there is a CSS validator
because the context is really important
make sure you use HTTP only flag for
like your session cookies because if the
cookie squared is HTTP on the flag it
sends only over HTTP and you can use it
from the server but javascript doesn't
have access so your session you don't
know just will not be stolen and there
is also how much CSP CSP module which
deals with content security policy and
constitute the policy is set off is a
actually HTTP header which says okay I
you can you can upload like you can
execute your JavaScript files only
coming from these domains and subdomains
you can load images only from those
domains and if you have a domain name
and you applied under security policies
and it just will be blocked by browser
itself number two authentication okay so
any mole as big application need an
application and unfortunately most of
the time it's broken
there are a few booting like bullet
points how you can make your station
more secure first of all that's like a
golden rule don't reinvent the wheel
there are plain
t of altercation solutions available in
the market rather paid on open source if
you can use them please use them because
it means that like they probably buy the
tester and there are a lot of users who
are actually using them and they port
issues so yeah probably they are good
and most of the times they're better
because it's just like one thing also
kitchen must be over TLS it's obvious
and sometimes I hear as people saying
you know HTTP because this entity you
can use HTTP our application built in
into HTTP protocol itself sometimes you
can hear you know HTTP applicator STP
education is bad let's use formal
occasion but the thing is HTTP based
based HTTP application is as good as
your form application if use TLS because
otherwise you go send plain text no
matter what make sure you have passwords
policies so that's more for users so
please ask your users to change the
password at least like once every 3
months I know it's not so user friendly
and probably they will hate you for that
but at least you'll be more secure
secure your messages that's it's a
problem against like it's a tricky thing
to fix
imagine you have a forum and you type
login name is just a citizen system
sometimes the good the good approach is
to return general error message like
user name and pass Oh password is
incorrect what happens in the real life
you can see error message like saying
yeah user name is not found Oh
password is incorrect what may happen in
this case this is a message says too
much to attackers you can easily build a
script which will brute-force like email
addresses and check the error messages
and find find like the real user can
and then you can do what for like even
put forth passwords used two-factor
authentication if you can right now
there are multiple solutions available
to market you can use Google and
together for example and it's easily
integrated with no GS or any other
platform and against free it's available
for iOS and Android so easy to use if
you got used to fake identification make
sure you're using at least capture for
example if somebody's trying to login
and he tried three times and still
unsuccessful they're probably it's a
brute-force attack going on so in this
case short capture and saying hey please
verify that you're not a robot and again
you can usually capture to do that and
yeah make sure you block accounts and
you when you do develop your restore
password mr. structure again double
check that it's secure and because many
websites will go hack because of issues
in the stored password security restore
password infrastructure itself the good
practice is not to send user name and
password it as an email but usually when
somebody tries to restore a password you
send him an email saying please go to
this URL and you have like huge like
unique ID and then this page is allow
him to change his actual password yeah
and make sure you don't send passwords
like plaintext passwords any emails
there are plenty of modules in NPM
related to altercation it was kind of
the most important ones let's say so
passport passport this and
authentication infrastructure for
Express application and so it's an
infrastructure and then it has some
strategies and right now it has three
hundred-plus strategies so I strategy
for Twitter LinkedIn Facebook whatever
so yeah I highly recommended to use this
in the wire again if you want if you're
using passwords you can use passport 2f8
taught and this is a strategy which
works with Google applicator or
Microsoft on educator or any other
two-factor authentication and in this
case you can really easily build 2fa
into your app just add two modules and
do like a few lines of configuration
you're done not it's a module which
helps you to implement two-factor
education yourself if you're building
something from scratch or isn't using
Express basic house it's a basic on
tuition LDAP GS this is a library which
helps you to deal with held up it's
getting like if you're building a basic
app like application probably start
three points for you but if you're
building an enterprise application
probably have an LDAP server to store
your accounts and to store your
permissions claims whatever and you can
use this to integration this also a
possible strategy for LDAP so it means
you if you're building enterprise app
then you can just use this strategy and
integrate this your enterprise
infrastructure and recapture plugin easy
to that access control so once you have
your application I had to think about
authorization and those are the NPM
packages which helps you to deal with
roles users permissions and for example
I like the last one because it if you
are building enterprise app and you can
store your permissions and claims in
LDAP repository so it's just one
database when you have everything users
permissions and you can reuse the same
accounts so all the enterprise
oh yeah sessions so since we are
building a web app we have to do these
sessions because we have to store
somewhere an ID that this user is
allocated and we know him also like a
like Chuck Marx what you should check
one year once you had three sessions and
no GS make sure that sessions sessions
ID are not shared in your in the URL
because by the guys might find them in
the logs usage TP on the flag T last
time outs and make sure that when you
log and the user is logging out or he
closes the browser user sessions really
killed we have the stored passwords
because applications are all about
passwords and don't store passwords like
don't calculate an md5 hash or sha-1
cache and think that you secure
unfortunately those hairs are
compromised and then secure anymore and
there are multiple attacks to hashes
itself so you can use GPU or you can use
rainbow tables to speed it up the
cracking process so make sure at least
you're using salt so it's not some
random text to your passport ins and
hash it and use secure hashing
algorithms like sha-256
and if I want to they are still secure
so nobody had it yet and since there are
more and more research going on in GPU
and GPU are available so my computations
are really cheap now there are these
three algorithms like be cryptic scrip
the idea is those other scattering
hashes but I doing too many calculations
and it's not easy to calculate so for
example value using big crypt you can
say how strong their how how many cycles
you want to have and for example you can
say okay I want to calculate hash in one
second so it means you will do like one
set of calculations and only after that
you will have a head
and imagine if you are doing a
brute-force attack against this cache it
might be complex okay and number one my
favorite injections all type of
injections so sick you'll know sick
you'll comment code whatever so there
are plenty of injections let's take a
look to the most important one justic
injection this is attack it's come on
like code injection against no GS so
imagine have text exist sometimes
happens and somebody can break a leg
your website how you can protect make
sure you're using validation you if it's
a secure Perez and you use parameterize
queries and if it's just you don't use
those functions at least don't pass text
to those functions because then evil
otherwise you will have this Joseph
injection attack and testing you stated
expressions you know we use all the best
practices as one
come on injection so imagine code like
this and when you run it under the hood
it merges will use your common few shell
to run LS command so somebody can if you
write it exists somebody can do whatever
he wants on the system the system to
protect make sure you don't use exact or
if you use it you are kind of you know
what you're doing you can use exit file
or spawn functions itself and again
validation testing code review as always
with all this injection attacks and
let's make five eight one file upload so
many so many applications were broken
because of that when you're dealing with
file uploads energy s probably you trust
the library using unfortunately somebody
can go and create a raw HTTP request
like this so in this case we just
override in these GS
business small Java spiritual removes
everything from your server which is bad
to prevent that first of all I would
suggest to use Express file upload
middleware and the good thing about this
particular library it has a flag for
safe upload and in this case you can
provide a regular expression for saved
characters for example to remove the two
dots and extras and but it still gives
you a Mimi Mimi type and please don't
trust me Matai because you know I can
send you JavaScript file and set a Mimi
type as an image make sure you you
validate you know file extension for
example you can use a white listing for
like okay white listing for only images
and then block everything else and yes
not put upload directory inside your
application root so it's better it's
better to put it somewhere in the other
place
and don't use the files which received
from from the user the good practice is
to generate and give it some random file
and then just store it and at the end
try it yourself so here you can see the
list of really broken no J's apps you
can go download them and try to hide
them and most of them have some
documentation so for example specially
it's not gold it's a really good
playground in even has a video tutorial
let's say if you want to break education
you can do this if you want to break
like it caused us is an attack you can
do that so I think it's a really good
education materials any question
yes
hi there sorry did you suggest that the
shower family was was acceptable for
password hashing Wow you saying it's
okay to use the show sh e to 256 and so
hand and 512 not sha-1 sure isn't it
isn't it thought that there's too fast
for password hashing because it is but
first of all but it's better than so
it's better than nothing first of all
make sure you're using salt so in this
case it's kinda harder to guess what
your password is even if your hash is
broken and then if you cannot use big
crypt or a script because I think only
pbkdf2 is kind of certified this hash
calculation function so sometimes you
just cannot use it because of the
industry regulation in this case you can
use this AJ right okay so the advice is
use B usually you use big if you come
right for example like B cube
calculation uses some CPU and for
example if you are running in the cloud
I know like AWS or Google and you're
paying per CPU usage it might be more
pricey for you in the long run we have
no justification like he
I know it's question
thank you very much for coming</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>