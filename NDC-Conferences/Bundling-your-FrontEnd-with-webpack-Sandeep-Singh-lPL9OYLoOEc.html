<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Bundling your Front-End with webpack - Sandeep Singh | Coder Coacher - Coaching Coders</title><meta content="Bundling your Front-End with webpack - Sandeep Singh - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Bundling your Front-End with webpack - Sandeep Singh</b></h2><h5 class="post__date">2017-02-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/lPL9OYLoOEc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">right can everyone hear me that's great
so my name is Sandeep and today I want
to talk to you about bundling your for
an end web pack I was gonna start with
asking if everyone's heard of web pack
but they have pretty much now right so
what is web pack web pack essentially
it's called it's a module bundler so it
was actually mean well it takes in a
bunch of assets and their dependencies
and package them into a bundle for the
client that's essentially all the module
bundle it does web pack has two core
philosophies the first one is every
asset is a module so usually modules a
JavaScript but in the web pack world CSS
HTML and images are also modules as well
and the second philosophy is Lord only
what you need when you need so typical
module bundlers as a whole will take
four modules I'm sticking in a bundle
Jess and essentially in the real world
that's a massive file if you've got a
large Africa application but what web
pack is built upon and this theory is
that it can split code and it can bundle
code separately so you don't need to
have the first initial here of loading
said the five major base with Wrangler
dependencies are your rep dependencies
so how does web pack actually work so
web pack essentially takes an entry
point which is usually a JavaScript file
and it roams through your source code
and looks for a lot of import statements
or require statements and it builds a
dependency graph and this depends of
graph is basically a list of all the
modules in the application they needs
and what it does it takes those modules
and it compiles them down to a small set
of bundles it's usually one but it can
be multiple it depends on the structure
rep and how big it is so essentially the
module systems at supports are AMD
common yes and then we're back to the
biggest change we were back to its for
es6 imports so this diagram illustrates
and the left is an example of all the
dependency graph that you'd have a new
source code and to the right is the
actual final bundle of what you're going
to ship to the client in the browser so
there's multiple ways to run web pack
you can do
via the command line interface it they
have it can do based off a conflict file
or we could get off a node API the most
common ways is to use a web pack
conflict file so now we know what web
pack case have roughly works why do you
want to use webpack because it's plenty
of other built-ins and is very so the
module bundles like roll-up is one of
them what packs competitor and this
browser fire but essentially web pack
solves quite a few problems just out the
box so one of them is dependencies
loading that of order so I'm guessing
some of you in the web development world
will have had this pain at one point
where the scripts tags are in the wrong
order or you track the reference a
jQuery plug-in and jQuery has not been
instantiated yep because web pack has
everything in a dependency graph it
knows the ordering of all you modules so
it will pick the right ones in the
correct order and load them as and when
it needs second one issue that it solves
it bundling unused JavaScript in
production web pack two especially has a
feature called tree shaking in so it'll
only bundle up the modules which you
import if you've got four or five
JavaScript files in your solutions which
are modules and you don't use them and
they're not required or important anyway
it'll just leave them on disk
that's Feenie solution and another
clever thing about word pack is that if
you're using vendor bundles such as a
vendor library such as like lodash and
using only one or two functions out of
that library it will rip them out of the
library and put me in the bundle by
themself so you don't need to package a
whole of it so your vendor ID which
should be a lot smaller and the biggest
selling point of where packet is code
flick so back to the one of their
initial philosophies especially with the
rise of single page applications
sometimes I've worked on single page
applications where the initial
apt is it's maybe seven or eight big and
we've got like spinners that come up and
it's say okay it's great we rely on
people's network connections but code
splitting is one of the core things of
web pack because it allows you to split
the code it into smaller bundles but
also it's got a very neat feature around
the fact that you can load
modules on demand so the bundles which
he split up
you can require them say for instance if
you ever use react in the route you can
require them to say okay I found a new
route now go get me the bundle I want a
lot for this so you never have it are
the first initially ad is basically on
demand as you need it which is a really
cool feature the next one is saving
extra Haiti to you quests so there's a
lot around asset processing because all
of the modules inside the application
when using webpack are all modules so
like images and see it says you're
allowed to do a lot of clever things so
you can inline SVG images and put them
in a bundle yes if you think know if
they're below a certain size limit which
will save a request now this is up to
the developer and the team of how you
want to do these sorts of things but it
gives you the flexibility that you don't
have to load everything separately you
can bundle stuff together and the last
one is about versioning so web pack
allows you to do asset hashing out the
box it can so everyone's used to see in
the query string at the end of a
JavaScript library it says okay the
client I pulled down that's the latest
version but if you ever look in
someone's browser you'll see this five
versions of a vendor bundle the clever
thing about versioning in web pack is it
allows you to put hash in the front of
it
but it can only recompile that hash and
change that if there's new code in there
so you're allowed to do incremental
builds so when you go out and into
production you don't actually get the
same cache busting that you see on a lot
of websites so that's why I think my
back's pretty cool so this is this is a
common thing that comes apart and I've
been asked about this many a time is how
does it relate to things are built is
like grunt and gulp which are a which
are task runners and to be honest
they're two different things
grunt and gulp are task runners and web
pack is a module bundler they're just
two different build tools and serve
different purposes - phones are great
for crunching through files and giving
you an output so he can change your sass
into CSS you can okhla fine
dehumidification but there's no concept
of a dependency graph and they have no
concept of what you want to serve to the
kinda how you want to bundle so they've
become rather problematic when you want
to try basically optimize your
application because it's not built task
ones don't have that inherently in its
design whereas webpack is the whole part
of web pack it's about performance and
giving the user that and only bundling
what you need to the client and giving
the best experience possible but I'm not
saying not to use it together because
they do work together if you wear pack
solves certain problems and others
testman and solve another problem but
what people and I've actually found
myself alloys that you will tend to
replace your task runner with web pack
because it does a lot of what tasks
Windows do it can do transformation from
es6 to yes 5 it can do bundling it can
do minification it has all that out of
the box
so now we know what webpack is how it
kind of runs and how to compare to other
bill tools I want to go through core
concepts there's four main concepts in
webpack and if you can understand those
you can pretty much get 80 to 90% of the
way of what you want to do with it
because it's a big tool and has a large
API and it's a lot that you can do but
if you stick to the basics you'll get to
where you want fairly quickly so on the
right we have just a very simple web
that config and one of the first
concepts is entry point so that is two
way to start bond link and building the
Pennsy graph you can have multiple entry
points which in many case used to have
one so that's for instance in your own
applications would be the first file
that kicks off the application that
could boot strap jeaious or an app dodge
yes second concept is loaders and
loaders are basically how web pack
transforms assets which are not
JavaScript into modules so that's how it
handles pngs and images like and then
CSS files so a lot of has two conditions
you had a test word which is a regular
expression of the file you really want
to look for and then see loader which is
the function so the example for the
SUV's go through your whole sauce
controller sort of source code and find
all these VG's and then pipe them
throughs URL loader and there's an
option set there if it hits a certain
limit which i think is about 10
kilobytes
it will just dump these files out to
disk as normal otherwise if it's below
that it will bundle them up in the same
package plugins
whereas loaders work on the individual
file types plugins work on the chunks or
the whole bundle as a whole so examples
of plugins are stuff like minification
with okhla fire deduplication and then
code sharing code splitting is a common
Trunks plug-in and then final concept is
where to output your bundle it's
essentially where you want to put this
so in this scenario it's into a
distribution folder right so it's demo
time so what wanted to do just kind of
goes through the core concepts with a
refactoring of an application just to
instill the ideas and those trick I mean
with everything so we have a very simple
weather app it's got few dependencies
got jQuery there's a weather app that
yes which is my main judgment file
that's got an SVG and it's got some
markup and it's 27 degrees apparently
outside doesn't feel it to me right so
this is just the mock-up we have nothing
particularly special this is the folder
structure I've already installed web
pack which they didn't know how the
connection was and installed when the
loaders and I've set up a build script
because MPM is he's very commonly with
web pack and all the studies just run
web pack and then pipe in my web config
and I've got a default web pack conflict
which is basically just got an entry and
an output so if I just quickly look over
the JavaScript module it's a very simple
JavaScript module it gets some weather
data from a JavaScript object and then
updates a UI by using jQuery basically
nothing particularly complex so if we
was to start by putting an entry point
in to our and then give it an output
run you can see if we look in the
distribution folder there's a new bundle
Jess if we go to index
tenders to bundle this refresh we could
see everything still works right all
we've actually done here set web web
pack up we haven't told about and been
teased or the pantograph so if we go
back to our application we have an
hard-coded paths here which is a
dependency which is an image and we have
jQuery so if I were to import jQuery
because I've already gotten on module
installed
come across and remove that and if we
were to build again should see file size
is a lot bigger what it's actually done
now is its looked through cold and said
okay there's dependency I want to pull
that dependency in to the bundle so now
we go back we've lost
jQuery from as a request and it's now
bundled in as part of the main package
right so if we go back to our
application and we remove
you
you
what we've done here we've explicitly
defined our dependencies at the top and
now if I was to go back to the config
because it's an SVG it needs a loader
because it doesn't know how to handle
this type of module if I was to
uncomment this what's he's going to do
is test conditions to regex going to
find this VG's it's going to pipe it
through the URL loader and I've set an
option that if it's over 10 kilobytes it
will just dump it in the distribution
folder if not it will inline it so if we
save this and now
rerun we can see if we look at the
dependencies there's now three if we go
back
have a look now this is actually in line
that's basically four encoded it doesn't
actually make a request over the wire
which is great so there's one last thing
web pack comes with a lot of built-in
plugins and if we look at our bundle
size is 275 kilobytes it's not exactly
production-ready if we do minus P we can
say into production mode and it will
aqua Phi and minify cold so if we go
across we've now got a small file size
and we have in lined an asset and that's
basically the core concept I want to
demonstrate about web pack right so
we're pack is rather complex and there's
a lot of blog post and there's a lot of
stuff that's not so good out there so
I've kind of went through and looked at
the results which I find useful there's
a couple cost up there which are worth
checking out which is by Kent C Dodds
who's a very popular person when it
comes to web pack and that's it thank
you
questions briefly go over chunky right
so chunking in terms of webpack is if we
look at plugins what plugins do and the
common it's a common chunks plug-in
which actually does the chunking it
basically allows you to split you can
put points in dynamically of how you
want to split your code up that's that's
the high-level overview of war it is so
that so basically when you're in your
you define a certain chunk level as such
as how far you want to go down the
dependencies and then you can split on
those points so that was part of the
original demonstration but due to time I
had to take it out and it's much easy to
demonstrate then kind of explain without
a diagram as well but we can talk about
afterwards to that problem enough yeah
and put a what it's got a built-in dev
server and it's got hot module
replacement so any react users I would
look at hot module replacement I'm not
going to go into it but it's one of the
most valuable tools and if you want to
just do a watch on the command line you
can just do - - watch and it will
automatically reload I did it without
that for the fact that I could show you
the changes instead of it magically
appearing on the screen</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>