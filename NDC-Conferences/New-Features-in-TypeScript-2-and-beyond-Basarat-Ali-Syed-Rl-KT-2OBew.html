<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>New Features in TypeScript 2 and beyond - Basarat Ali Syed | Coder Coacher - Coaching Coders</title><meta content="New Features in TypeScript 2 and beyond - Basarat Ali Syed - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>New Features in TypeScript 2 and beyond - Basarat Ali Syed</b></h2><h5 class="post__date">2017-09-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Rl-KT-2OBew" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right hello everyone my name is
Barrett this is a talk about that script
how many people here are familiar with
bad script can raise your hands
excellent there are a few that aren't
familiar this is an intermediate level
talk so I will try to get the beginners
on board as much as possible one thing
to note about that script is that it is
all about just JavaScript it is
essentially the JavaScript that runs in
the browsers today plus upcoming
JavaScript standards followed by
additional syntax specifically for type
annotations it is not Microsoft but it's
the new an open-source Microsoft they
really really doing some pretty
excellent stuff and the real objective
of the typescript team has always been
just to help you write better JavaScript
it starts and end ends with JavaScript
so let me just jump with the jump into
the demos so here I have a JavaScript
file if I can stop the slides
cool anybody see any issues in this
simple piece of JavaScript code like
very drastic definitely wrong it's going
to give a type error issues that's
pretty much the experience with mode
most JavaScript code out there you just
assume that it's going to function and
that's where that script is designed to
help you reason better about JavaScript
so if I just paste in that exact same
JavaScript code into a taffeta faux fly
script has actually found a number of
issues in this code base even without
any special touch get specific syntax
one of them is over here you want to
take a guess at what's wrong parse int
takes a string and someone's passing in
and HTML element I don't know I can just
go something like this or whatever get
some text from the dorm and then pass
input function not be a type error
there's an error in this line as well
the touch crib has identified anybody
know what that is
so delivery method is a function that
returns the string and someone's doing
this it's a very subtle thing and it's
easy to miss in code reviews
and that's again something that actually
can automatically capture for you what
was happening there was there was only
one pipe instead of two pipes and that's
the bitwise or and not the or or which
is the standard way that JavaScript
terms provide default values so that
error is fixed now have a look at this
send update function there's a comment
here an email address or an array of
email addresses to ship to like that
that's something that's really well
represented as
type definition and now the other user
doesn't actually have to necessarily
read the comments you can actually just
hover over it you get autocomplete and
it's actually finding a bug over here as
well the person who wrote this code was
probably a beginner they were like if
email addressed at length basically what
they were trying to do is if it's an
array then send an email for each
element in the in the array otherwise
just call it with the first value and
that length is something that exists on
a string as well as an array so this
discriminator is actually not valid the
proper way to discriminate one of the
ways at least is to use array dot is
array so we had we had an email address
which can be a string got an array of
strings as soon as you that touches it
wraps chip has actually figured out that
within this if condition email address
is going to be an array within the elf
email address is going to be a string so
that she understands a lot about the
JavaScript runtime that's by default
present in browsers and JavaScript
environments and this is like I just
went in the definition of is array like
this is all the stuff that you'd have to
keep in your head I can keep scrolling
for hours it's not good but that ship
can provide you autocomplete and
intelligence and fix very simple issues
that you might miss in your code base
just by using standard JavaScript
there's an error over here as well
anybody want to take a guess what they
did wrong over here they have the values
for so for each email address send an
email they have the index as the first
and value of the second well actually in
JavaScript for each returns the call
that gets the value as the first
argument and index is the second we're
not using the index I can actually just
leave there and that error is gone as
well
so just to JavaScript file but in lieu
TS file it finds issues for you so
that's pretty much an introduction to
touch get so the rescue team has
actually been pretty busy they are
and lots of features and some of these
features aren't even covered in the
change lockers what they do is they just
understand more of the JavaScript and
find more patterns that are causing bugs
and fix them for you without beating a
drum about it and it's they doing an
excellent job one of the features that
came out in the last year was a large
yes so this has been a point of
contention between people that want to
use to escape and don't want to use
typescript that I just want to have a
J's file I don't want to have a tester
file with the additional pressure syntax
well you can migrate your JavaScript
project to attach three projects simply
by adding the largest compiler flag to
your tight ship config options and as
soon as you do that let's skip and
understand J's files and it can actually
transfer them to whatever target you
might specify for example over here I've
specified that I wanted transpose to es5
so this es6 arrow is going to get
transpose into just an ef5 function we
both in DC and you can see that that
script was doing that on the file
similarly Const and let you can transfer
all them away as well as your talked in
years 5 and whatever so you can actually
use that script on a pure JavaScript
project by just writing JavaScript and
you can cross use it as just a
transpiler without any type checking but
they've gone a step further now with a
large es they always had syntax errors
or syntax errors however type errors
were not checked because your existing
JavaScript code base might be too
massive you have external dependencies
like this external dependency is
changing the bar member of foo to be
looks like a string because it's got the
trim method magically which is not
something that exists on a number
they've added this option checked yes so
we just allow Jess you don't have to
worry about immediately migrating all
your JS to type safety it would have
just worked but now they were an option
checked yes which means that you can
actually continue to use just dot J's
files and that second type check them
for you as well for example over here is
starting to complain that cannot find
this external thing cream is not
something that exists on a number so now
we understand that moving your Jas to TS
immediately might be a lot of work for
you so another feature that they've
added in the last year is quick fixes
and one of those quick fixes is disabled
type checking for this file so with
checked yes there's a comment now on the
first line TS no check which means that
this file is not type checked anymore
and those errors go with you can yes so
the question is couldn't you have done
this with just an any annotation you
cannot have any auditions in a GS file
so allow Jess you have a J's file with J
syntax so you're not allowed to use any
extra syntax for example bar is of type
any that's a syntax error it's not a
stretch gate its energy as well so
because you cannot have type annotations
in a J's file you have to explicitly by
into check J's and then you can ignore
individual errors like I've just done
for this external dependency or as I did
previously for the whole file so that is
checked yes
now this is one of the best features in
my opinion that have come out in the
latest version of typescript which is a
single bit like I said it's a new
Microsoft they're really all about the
open source and they really want to help
JavaScript developers and async/await is
something that's made into the ES spec
because of efforts of people within
Microsoft it is from C sharp so for a
language that is purely about async
programming which is what javascript is
a single thread can do 100 things in
parallel it's fairly painful to do async
programming so if I have a function that
I don't know wants to do some work after
one second then two seconds and three
seconds I would write it as well set
timeout do some work just log out one
thing for now and do it in one second
and then I want to do some more work
after two seconds and after three
seconds and this is where it gets a bit
funky do some more work after two
seconds then do some more work after
three seconds and you can see that it
does work but it gets fairly painful and
many throw an error checking and all
those other requirements that we have
with readable code callbacks aren't
particularly ideally suited for that so
people have come up with a better put
pattern for this in es5 as well so what
you can actually do is create a delay
function that takes some milliseconds
returns a new promise
oops and like I don't need to actually
use any type of additions if I don't
want to attach it
I'm not annotating Billy second is a
number I'm not interesting that promise
is going to return a promise of void in
this case so all I'm simply going to do
is
promised constructor gets passed in the
resolve so I'm going to call resolve
after the specified milliseconds you
know what you can do is instead of all
these funky callbacks you can just do
delay for one second then go ahead and
log out one second then delay for one
more second and repeat so two second and
then three second of course I forgot to
do you love type scripts it wanted that
error out for me didn't need help from
the crowd supposed to pass in a function
I'm passing in a void too dense
it's that fixed and of course it does
work but then it's still a lot of
functions but you have to write and then
you have to think about okay so code
that's going to execute over here it's
going to execute before this gets called
stuff like that so thread should cream
pour in brought in two es and as well as
in touch script async functions so now
what you can simply do is await anything
that returns a promise and now the code
that's going to be present over here
it's not going to execute till this
delay the promise returned badly
resolved so now I can actually simply do
plug out one second to second and three
seconds
and touch again transpile it down to es5
and you can run it forever
so that's actually one of the best
features that have come out in the last
year any questions about that yes yes
really yes exactly so a lot of the
patterns that you have in the
synchronous programming they just work
naturally with asynchronous programming
with async of it as well
okay so generators
well generators is another one of those
features that are that's really really
cool it allows very powerful patterns
for example so ienumerable
and use for people in c-sharp that have
used that it's the same thing not same
but similar so what you can actually do
with generators is for example generate
an infinite list for example of a list
of whole numbers so I can go ahead and
create a function that is going to yield
one by one
a value from the hula misete and there's
no touch script specific magical hit but
that scripts already figured out what
this thing is going to be it's going to
be something that returns an iterable
iterator of numbers so you got acting I
can actually use it with a for a loop
get me all the whole numbers one by one
so this is lazy attrition if I wanted to
I trait all the whole numbers without
this I'd have to keep state and a lot of
other funky stuff that I simply don't
have to deal with anymore because of
generators so I can move through the
results of whole one by one and let's
just terminate at some things like that
then just break the for loop otherwise
simply just log out the item and no
surprises no prizes for guessing it's
going to be items that are being lazily
returned by the whole number function
there are a lot of programming patterns
that become much easier with generators
for example I have a linked list over
here for people that know data
structures linked lists just each item
has appointed to the next and a value
each node has a value so that's a linked
list node and here I have a linked list
that you can push stuff into I want to
loop through all of the values in the
linked list
knowing that someone might be iterating
through the linkage items in parallel
some that the iterator that I have to
return from a potential various function
lazily would be well complex but with
addresses actually quite easy so I start
with that
I don't know current is equal to this
door head while we still have current
value I can simply go ahead and give the
current value
and then for the next operation
I would simply move this to the current
drop next and now I can actually go
ahead and again use far off to lazily I
prayed all the items from this list of
values
just log on so if I demo this farm i
spec to see one two three four one more
trick with I tray tables if you actually
want to make them in array you can just
use raid or from and it'll run through
the right raishin and collect the
results into an array and give that back
to you so this should be an array of one
two three four and that works as
expected so very complex patterns are
now fairly simple thanks to you
generators and touch it understands them
and can transfer them to es5 any
questions about that
great let's junction this one
spread is another thing that's actually
I use quite a lot touch tip can
transpire that and understand that for
example if I have an object that has a I
don't know some number B some number and
then I have another object that has some
remember see if I wanted to merge these
two objects into a third object I could
look through the keys create kidney
object go to the keys and put each key
value into the new object and done that
now I can even use an object spread and
create a new object simply by spread all
the stuff from foo and spread all the
stuff from Bob now to get thing about
using touch script for this is that it
actually understands what's going on
over here as well says figured out that
bears is something that has all the
members of foo as well as all the never
self bar in there so best of ABC it's
all in there you can also take out
values from an object with a rest
destructuring so you could always do
something like not always but for a
while you've been able to do something
like this
take out C from this object where's and
again since the start scape there are
absolutely no annotations on the file
right now but it's figured out that C is
something that is of type number because
this was of type number you can move
everything else other than C into
whatever you want to call it and again
that's just going to figure out that
okay so you've taken C out into this D
structured variable and everything else
other than C has gone into this variable
over here something like this is create
with react and spreads and when you put
when you get one props and you want to
pass a different set of props to your
cell component stuff like that
transcript understands that don't need
any annotation just works any questions
about that
cool
the next one is the prototypes the touch
step now also has little types it's
fairly simple so you've always been able
to do Fuu is something that is of type
string it can accept anything within the
string domain but not that script even
has little type so you can actually say
that just the literal string hello is
allowed for Fuu and now he'd try to
assign some other string to Fuu that's
an error the only string that can be
allowed is the exact string hello and
you'll actually see that that does
autocomplete as well because it knows
that these are all the allowed values so
really fancy stuff kudos that I should
deem so that that's fine but you would
normally like if you just have one value
it wouldn't be particularly useful well
that ship has had union types for a
while and I can have literals with
unions as well so for example that boo
is something so variable that can accept
two values true or false so boo is equal
to true is allowed boo is equal to false
is allowed boo is equal to anything else
is an error I can even so normally you
wouldn't annotate who like this there's
a special type for that anyways boolean
but you can even do stuff like okay so
sometimes it's really great for mapping
server responses and existing ApS out
there some ApS have something like it is
valid or invalid or invalid with this
reason so you can actually map that in
its fill that payment field is one of
the valid values
see this is really something that can
have two false or payment fields
anything else is not in the Union and
therefore cannot be assigned
so that shipping has had minions for a
while but now it's got literals as well
so much more powerful what's great about
when you combine unions and literals is
you actually get discriminated unions as
well so for those that are familiar
discriminately the Union Union is
basically a union that you can
discriminate over basically identify
which member this particular item
belongs to for example over here I have
a type
square that has a kind of literal square
and a type rectangle that has a kind of
a literal rectangle I can go ahead and
create a new type which is a union of
these two types so at this point over
here S can actually be a square or a
rectangle so if I wanted to for example
for the ADI if I wanted to return
something like I know it's a square so
I'm just going to return a start sighs
sighs nope it's that she knows that well
you said that it can be a shape so it
might actually be a rectangle or a
square so you can't do something like
that but when you have a literal type
annotation for a particular member that
ship
understands how to discriminate over
there so I can actually go if s dot kind
is equal to the literal string square
then go ahead and return the area for a
square and as soon as I do that touch
like that ship nose over here there it
can be a square or a rectangle and over
here it knows that it can only be a
square because if the kind was not
squared then I wouldn't be within this
if block that's pretty cool it also by
the process of elimination figured out
that over here s can only be a rectangle
so the weight star height
well I want to complete any questions
about that yes yes so if I actually
change it to something else so it knows
that there's no way that kind can be
something that is not in the
discriminate engine which is kind mice
pas D F F ASD or rectangle so you
actually can like and structures like
this is what is actually used by redux
actions and that ship can figure out
which actions are available and stuff
like that with these type annotations
you can even do exhaust exhaustive
checks for example I can go ahead and
create a new one
let me just undo that interface I don't
know circle it's something that has kind
circle and it will have radius number so
right now if I go ahead and add this new
type to the discriminate Union there's
no error
actually there is it's already figure
out that if the kind isn't squared bulb
and S can actually be a rectangle or
circle so this is invalid but even
without that if I had an explicit case
over here if s dot kind is equal to
rectangle then do that cool now since I
have that explicit check over there
and I add a new I think the
discriminative Union there's no error so
if you want to cater for some feature
type being added to the discriminated
union you can actually add another block
here and ensure that this block never
never executes so there's this new tie
called never I'll just call it Nev of
type never is equal to s and right now
shape can either be a square or
rectangle if it's a square
go here else if it's a rectangle go here
otherwise go here
that's just already figured out that
there is no way that this thing can
execute because there are only two types
that s can be so it's inferred that s is
of type never within this particular
block and only a never can be assigned
to another so now if the new developer
comes in and they add a new type to
discriminated union they'll actually
have to handle all the s else cases as
well this is called an exhaustive check
for the indiscriminately unions in
various programming languages so that
soup has there as well
all right so no one does it any is a
feature that has been in touch scape for
quite a while for example I can have a
function food that takes a variable bar
and I just that is interesting
I just have I just know that bar is
something that has a property pairs and
it has a member cream and like you can
write this JavaScript code perfectly
fine but there's no real help for the
next guys to realize that okay bar is an
object that has a property bans that is
most likely a string but it may not be a
string it might be anything that has a
dream function and again like that
script cannot figure that out either
what is the type of dream is it
necessarily a function is that what does
it return and so there's not enough
hints within this piece of Java code to
figure out all the types for the
variables that are involved that
separate has add this flag called
no implicit any and as soon as you do
that anytime that ship cannot infer the
type of a variable it'll actually mark
it as an error and if you still want to
be a cowboy you can still do and yell of
that word cover or you can actually be a
better person and right in that it has
something that is whatever okay so no
one person any that's been there for a
while but now they've added a lot of
other similar flags that help catch bugs
early at compile time instead of run
time arguably this in JavaScript is one
of the most misunderstood and abused
things the reason is that it gets
disconnected from people assume that
when I have a function this is bound to
a particular value that is not generally
the case it is derived by how you call
that function so here I have a function
Inc this just goes ahead and add
something to the count on this so I can
actually go ahead and create an object
foo that actually has a count and I can
add
increment function do this as well
and now i factly go ahead and log out
food account before I call this function
and call this function and log it out
after now since I'm calling this
function increment on foo this is going
to point to foo and the count of foo is
going to get increment it if I just on
this file you can see that it works as
expected was zero and now it's 1 but if
I go ahead and disconnect this function
or rather pass this function to at the
set timeout or someone else to call at a
later point or as an event handler what
can happen is like foo increment is the
increment function here's something call
this function for me later that thing
calls it and everybody dies
the reason is now this function the
increment function is being called
without the correct context that you can
actually figure that out as well now
there's a flag called no implicit this
no more magical this anytime you have
magical this it becomes and over here I
can actually say that ok so this must be
something that has a member count on it
cool so that's fine but now you're
calling this stuff see let's figure out
that you calling this function on
something that doesn't have the member
counter and in a small map that so
you'll actually have to do food order
that shooting has been very busy they've
added a lot of features that capture
bugs early
another one is no unused parameters so
imagine you have this function that has
argument and a massive for the end this
code was written 10 years ago and not 10
years ago but maybe five years ago X to
10 years would be fine as well just
keeps me around longer than that and
well this permit is no longer used and
the new guy comes in he's like I'm not
sure if this is relevant or not in any
way but that you can figure that out for
you there's a flag called no unused
parameters true and now unused
parameters like this become an error so
you don't have to worry about it another
similar flag no unused vocals you have a
messy function over here it has this
label created for funsies is what we
call it in our team form you can just
switch on another flag no unused locals
- and that bad boy sticks out like a
sore thumb
that's perfectly fine so the question is
I have a function that goes ahead and
yep this dot X is equal to 1 2 3 and
Const self is equal to this and this dot
increment is a function that will go
ahead and use self dot X this is what we
find that shadows have you that if you
want to do that that's you will actually
figure out what the variable is
generally as well so you don't have to
actually worry about it in the modern
JavaScript you'll actually normally use
just an arrow so it will actually
captured this from the outside
automatically so that's no unused
lokos there are a lot of other flags
like that as well
and what are you gonna actually
magically let me just show you one more
flag so this is one of the I'll just
close all other tabs this is getting a
bit crowded
so here I have a function that adds days
of a given number to a date someone can
actually go ahead and call this function
with no values and then everybody dies
get didn't die and what what's going to
happen is that date is going to be now
and get time is not a function that is
yes or no and now handling is just a
nightmare it's not something that if you
can offload it to the language go for it
and with that ship you can actually do
that there's a compiler flag called
strict no checks the reason why it's new
as a flag is because it's new you don't
have to immediately fix all your code
with now just the new code you can
actually just say strict no checks and
now now are not in the domain of the
primitive types or objects or classes
and stuff like that so you cannot pass
in now and to date you don't have to
litter your code with stuff like if date
is equal to now then do something clever
anymore cuz that's someone else's
problem now well the library author it
can actually like save execution time
because you don't have to do Mel checks
needlessly it's one of the like
generally when you add type safety to
language you have more runtime overhead
but in this case is actually it's going
to save you don't ever overhead because
you don't have to do these checks they
can be done by the compiler at compile
time
yes yes so what you can actually say
that if it is a valid case that you
might accept I know you can add a null
as a union again the literal none no and
not if it knows that well this object
might actually be a now and then you
actually have to handle if there is not
equal to
and do this and now track skater is
actually going to go ahead and infer
that this thing can actually do it on a
date or an undefined because the elf
block does an undefined so strict no
check three powerful it's like moving me
maybe type into the language instead of
having a special type for it it's the
best trick no checks one of the like
instead of having to go through all
these options and check them what you
can actually even do is there's option
called strict and he said that 'true and
it know that all of these strict
features as well as any new features
that might come in the truth you can
toggle individual ones of like well I
have a lot of for example ways to say no
unused locals I can go ahead and switch
them off after setting this trick to
generics is really cool
it's been in the language for quite a
while the main objective of generics is
to put constraint between different
variables functions methods over here I
have a stack of type T and the
constraint that I want to enforce over
here is that whatever you push into the
stack is what gets popped out of the
stack so if I go ahead and create a
stack of numbers then I call its track
so let's just use that if I push in a
number that's what I get out I get our
number I cannot push in a string because
I've said that stack this particular
stack is a stack of numbers so genetics
have been there for a while the Ricoh
and they'll get used in a bit in some of
the newer features that have come up
yes so what you can actually so the
question is can you constrain the type
would especially saying is that can I
say that T must be something that has a
member
full of type string on it so I can
actually specified that constrain as the
extends that prototype so now I can only
create stack of something that has like
number would be invalid because numbers
do not have a property foo call string
but I can create a stack of something
that has full of string and bar of cool
so generators have been in touch cubes
and constraints genetical students have
been in touch with for a while they'll
get used in a bit another thing that has
been interested for a while has been the
concept of declaration spaces there's a
variable space and there's a type space
for example I have a variable called foo
I cannot go ahead and and a type called
foo I cannot go ahead and say well
there's a new variable called bar which
is of types which is the type foo
against its off type ooh but it isn't
like foo the type doesn't exist over
here the variable doesn't exist over and
you actually get a nice error therefore
either first row type but is being used
as a value over here similarly I cannot
go ahead and I can create a new type to
point to an existing type but I cannot
create a new type to point to a variable
because the the name foo is not
available in the type declaration space
now there has been they have been
features within the language for a while
for example type of that allow you to
move items from the type declaration
space into the variable declaration
space and vice versa so for example I
have an object person a and an object
person P I'm really lazy I just I don't
want to create a new type called person
that has first name and a last name
strings this is an existing code base so
I can actually do is just say that okay
so all of these persons are of the type
whatever is inferred for person a so now
if someone goes ahead and effectives
person a to be something else you get a
nice error that okay this object no
longer conforms to the type of that
variable
you get autocomplete over here as well
and all those other awesome good thing
is you can even name these types if you
wanted to so I can actually sort of
having you defining your type explicitly
I can just say that person is something
that is whatever the type you've
inferred the it I tripped about person a
and now I can use this new type as type
in addition but they really bumped up
the power of these moving types around
in the type declaration space and the
available dictation space a bit more so
one of them is lookup types and I just
absolutely love this I deal with a lot
of back-end code and external
dependencies that take data payloads
that are massive like this one so you
have a submit request that takes
transaction ID and a personal member
which has these properties inside and
stuff like that and if I have to create
this particular available of this type
what I'd have to normally do is well
submit is something that is of type
submit request and well I want to make
the driver property and I have to write
down all the data properties within this
single JavaScript statement before I can
actually move on and we as humans don't
think like that we try to break down
problems into smaller problems so if I
wanted to create a submit request what I
would normally do is well it has a
payment section let's create a payment
section and I want this payment variable
to be of the type whatever this submit
request takes for I'll what I can do is
actually create a new type called
payment over here which points to that
particular sub-segment and then I have
to go ahead and update this submit
request to say that payment is of type
payment and I can do that
so now I have a payment over here and I
can like touch it border completed and
all those good things but it's a bit
painful for the next guy the next guy
has to if I do it for all of these I'll
have six seven new types that I have to
name and Deming is one of the hardest
things in programming and the next guy
has to resubmit request and then they'll
see it has these members and one of them
is of personal whatever I called it at
the time and the next guy will have to
go through this and then they'll have to
go through each of the type definitions
for these things to figure out what's
going on over here so you don't have to
do that now there's a concept of a
lookup type so I can simply revert this
new type pulley name type and I can just
say the payment is something that is a
part of the submit request payload and
look up from that the member payment so
you can put use any literal string and
like that should understand literals now
said no that this payment is a literal
from submit request take payment out so
credit card okay autocomplete received
that checking to see if all those things
didn't have to come up with names didn't
have to confuse the next guy with why
are there 20 types in this file when all
you needed was just one yes yes yes so I
can actually go it is of type personal
previous aliases and some so the
question was can I do next eight as well
so I just took payment out previously
right but I can even go ahead and take
out personal and from that take out
previous the IOUs addresses I would
actually stop at this point normally as
good thing there's a typo in there
let's figure that out these aliases not
addresses I love that script so yes so
the question is if I are statute about
the type of payment what will it show
right now I've said that it is off type
submit request and from that the
personal details and off from that
previous aliases previous aliases is
this object over here which is an array
of these things that ship knows that
payment is you can see the yeah you know
is just that let's figure out that it's
just the previous releases portion this
empty object overhead is not performed
with that if I actually just go ahead
and say well just I'm going to create a
variable later of this type you can see
that it has figured out that it payment
is something that has type string first
name middle name last minute in any of
these things so the question is is has
this feature got any similarity with
ambient occlusion so ambient
declarations are for example I want to
use jQuery and I want to get the value
for some selector if I just write that
in the new text file that's just going
to complain jQuery is not something that
is available by default so dollar is not
something that is available in this file
but I can actually go ahead and create
an Indian declaration I can say that the
attach script there is this variable
lovingly called dollar that I want you
to be quiet about
and now typescript is quite about it
it's gone ahead and said that okay
there's a variable dollar of type any I
can let you do whatever you want with it
I'm not going to complain now writing
these declarations is very similar to
writing this type definition for a
payload that I'm going to send to the
back end so that that's pretty much the
extent of the similarity you can of
course create new types for example
payment info is submit request from that
take out payment and that is valid as
well so when you're writing type type
declaration and if you feel that oh this
is this type is getting used too many
times you can within your type
declarations use this feature as well
nothing barring that yes go for it all
right so that's lookup types key off
well we have type of there's a new thing
called key off which is person keys is
any of the keys of person secure a new
type and ask you to touch script to give
me the union of all the keys that it has
in it has for the type person so person
Keys is going to be the union of the
strings literal strings first name and
last name by itself it doesn't sound
particularly exciting but when you
combine it with generics which is why I
showed generics and fortunately generic
constraints it becomes much more
powerful so here I have a function
called prop which takes two parameters
an object of type T and a key of type K
and I have a constraint over here that K
must be something that is in the keys
that are inferred for type T so if I go
ahead and call prop on an object
has foo and bar on it what's going to
happen is statute has going is going to
infer that the type T based on this
argument position for the prop function
over here is of type foo and bar and the
type K must be something that is in the
key of T so the keys of type T are foo
and bar in this empty string or some
other random string is not for bar so
that is going to complain about that and
it's actually probably even going to
know if only going to allow valid keys
from this object and something like
pluck lodash is full of it you can
actually with this key off commanding
with generics you actually get much more
powerful type annotations for exists in
JavaScript so that's key of it gets much
more interesting string genomes is
something that has been requested for
quite a while - it has that now so I can
say construction is is of type direction
so well north is a very value and if I
go ahead and log it out
it's going to be the string month no
surprise there
one of the really really cool features
is read-only chars can have the concept
of read-only it has had that for a while
transcript understands that it has
understood that for a while if I have an
object with a class with the getter so
calls foo is a new food that has a
getter I can get bar but I can't assign
to bar because there is no setter for
bar in that script understands that and
it complains about that there is
absolutely no touch to specific feature
here except that I should understand it
target does have a feature called
read-only which allows you to sort of
using getters and setters whichever
runtime overhead you can actually just
annotate a member with type it only and
it would have similar semantics as
something that just has a getter
so it's read-only from the outside world
so you cannot assign to it and that
works fine what's more interesting is
that you can actually combine these with
the feature called
match types so here I have a type
read-only which of type T which takes
all the keys of type T and for each
member in in that set makes them
read-only the value for each of these
would be the same as the value that
would be entitled EB so if I have a type
two I can always do a foo is of type foo
so I can have a one two three
something I can assign to it cool that's
how type food works but I can actually
even go ahead and now say that foo is
not of type foo it is of type read only
of foo and now type shape is going to go
ahead and infer that it'll have all the
properties foo but each of these would
automatically get marked with read only
which means that if you try to assign to
it it's going to be another and this
read only type actually exists within
the default liberal d dot es so you
don't actually have to write it yourself
you just want to convert a type into a
read only type can just use this type of
notation and you get to go they can see
it's in the label dirtiest most really
cool about this is when you combine it
with language patterns that exist out
there so
here I have a simple react foe that
renders out a button that shows the
states clicked count right now on click
is empty so nothing happens when I click
it I want to increment the clicked count
in state that different strands react
it's amazing now a beginner developer
might actually do something like oh I
can actually just state that count plus
plus and what they'll quickly find out
is well that doesn't work so we look at
oh I just just just uploaded a bit it
for me yeah just just go for it
Shh be quiet and it'll work but it's
it's horrible that's not what the react
components assume that you're going to
call said state with the new object and
it will control when it won't surrender
you shouldn't be using for state unless
you explicitly need to special actually
figures that out now because it knows
that I created a react component with a
member called count of type number
within the type definitions for
component you will see that it has a
property called state which is read-only
of that type occlusion so of this state
type generic over here the state member
within the class instance is going to be
a rioni of that so you cannot actually
implement that and I've had beginner
developers write something which is
probably very easy to miss you go ahead
and say count is okay so I understand
I'm not supposed to use force update I
won't use that but I just want count to
be well plus first of the current state
console just call set state with that
and then we'll commit it and it'll work
it will not work I thought it would but
that correctly figured out that state
plus plus cannot work because it mutates
the state
so you actually have to do something
like that cool there are lots of other
features within this release and lots of
new features coming out as well what you
can actually do to keep up to date is I
recommend just updating your package
this entire trip the latest version it
will find bugs in your code and they'll
most likely be bugs in your code so just
be thankful and move on stay happy any
questions that is it thank you all for
coming</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>