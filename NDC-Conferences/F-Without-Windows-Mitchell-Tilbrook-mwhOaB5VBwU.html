<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>F# Without Windows - Mitchell Tilbrook | Coder Coacher - Coaching Coders</title><meta content="F# Without Windows - Mitchell Tilbrook - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>F# Without Windows - Mitchell Tilbrook</b></h2><h5 class="post__date">2017-09-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mwhOaB5VBwU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right thanks going
so I'm just gonna be talking about
f-sharp without windows which is
something I've been trying to do for
years and unfortunately Microsoft has
also been trained in two years and net
but now we have things like dotnet core
but I I stopped using Windows quite a
few years ago because I kept playing
games and I figured those install
something like Linux and that way I buy
them anymore
so so running running things like dotnet
I quite like that MIT but I have Windows
because I'm allowed so being able to run
it on platforms about Windows is quite
quite good to me so historically we've
always had mono
but is it works up until the point where
it doesn't and you don't know why
so dotnet core has really kind of
simplified a lot of the stuff in terms
of getting f-sharp to work on when work
without windows quite nice so we're
going to focus a lot on their core and
how it helps you go on and get F sharp
up and running and get something going
on a in this case we're just going to be
doing it on a Mac and Linux or a docker
in here as well this yeah so that's kind
of been my experience with net core as
things have progressed so everything
works brilliantly until it doesn't so
right so what is dominate course if not
to me with a dotnet core is Microsoft's
cross-platform net framework so it's not
intended to replace the dotnet framework
so don't know framework is the dotnet
framework for the Windows operating
system and don't like or is the
cross-platform implementation so it
supports C sharp F sharp and it now also
supports VB if that's still the thing
for you
they implement that dotnet standard and
the dotnet standard is basically a
contract that says that your runtime
guarantees certain api's so the runtime
will guarantee your minimum amount of
API is that you need to run and all the
platforms are implement this so the idea
is it shouldn't matter what runtime
you're using whereas dotnet core
mono or the full dotnet framework you
should be able to run any kind of dot in
that program matter where you are so
pretty much the entry point to the
dotnet core is the dotnet core command
line interface this is kind of where we
get started so it's how we create
projects before you really needed Visual
Studio and one of the biggest challenges
that made mono really challenging on on
Mac was that there was no templates for
f-sharp so you had to kind of create a
template on Windows and Visual Studio
copy it across and then perform some
black magic on the gooood so that
generates and just hack the hell out of
the project files but now we don't need
that anymore because don't nickel is
going to dry out or our project files
for us as well deal with talking to new
get and get everything set up
so don't Nick or too came outside all of
my slides a bit like last week if you're
still not Michael one you need to and
you're running it on Mac you need to
make sure that you've got open SSL 1 or
greater going because OSX ships with a
what is officially now a deprecated
version of open SSL dotnet core 2
actually comes with everything bundled
inside it in terms of the tools there's
really kind of two approaches
I prefer ioan ID which is a plug-in for
vs code and that gives you everything
from intellisense code completion tells
you what the types that puts little
types hints above the functions and
writer I think came out over this month
the last month I think and writer is
jetbrains a solution for doing net
development on Mac and Linux so it's
built on top of the Intel top of the
IntelliJ platform so what kind of
projects can we get started with so not
everything is available for air shot but
you can actually add new templates so if
there's stuff in here that's not what
you want you can and someone's made the
template you can go get it or the
project files are also a lot more
simpler now so you can actually kind of
at the manually or what so if we want to
get started which is correct create like
a CLI program so we didn't specify that
we want the f-sharp language in this
case we're just saying that we wanted to
output it to the CLI directory in this
case this will give us just a nice
little simple F sharp program and then
in dot Nicole one you have to run
restore and before we run the build
because restore will go and get all your
packages for you in dotnet cord to when
you run builds if you haven't run a
restore it automatically runs it for you
now so you can just run net build and
run on donate core to and everything
will be fine
yep there's a little program that we
created in the previous slide if you're
using vias code the debugger doesn't
actually come out of the box so I know
it doesn't actually come with the
debugger so you actually need to run
this debug colon command and biggest
code and it will download the monitor
debugger so even though using.net core
you still need mono for some things
right and then envious codes if we go
across to it you need to set the
environments right so if you wanted like
debug or projects
oh the you know Fiji is like must be
rainy shop see not pointer exceptions
this is why you need maybe types all
right so yeah so if we go to the debug
here at the moment we don't have any
configuration setup so we need to
configure our project to be a dotnet
core environment this is then going to
create our launcher file which has all
the by default just creates a bunch of
templates off so once we've got this we
need to go in here and replace all these
kind of substitutions with the path to
our actual program so there rather than
doing that let's actually open up the
sub projects so this project uses a mana
repository so we need to go down to here
right right so the launch task is in
here and you can see that if we want to
launch the web program it's going to
execute this dll but before it does that
it builds a project every time so what
we also have to do is we have to also
configure our tasks now there's a bug in
dotnet core one where it would generate
this incompletely and it will just
generate this and you'd get the most
obscure build error you could think of
so you actually need to kind of go in
here and tell it that you actually
wanted to run the build command
otherwise it won't actually build your
project we adding test is easy so you
add a test project it's just another
project in your file
running them again you just instead of
calling run we're just going to call
tests on the projects adding or removing
dependencies so we don't have like the
kind of gooey nougat thing inside these
videos to your visual studio sorry
you could terrible Microsoft naming
terrible so you can just add a package
to dotnet add the project you want to
add it to and then the package you want
to add and remove is the same you can
also generate a solution file that's
readable so net new solution and then
we're just going to give it a name in
this case we're going to add all the
projects we want for our solution here
there's a slight bug where it will
actually generate the wrong direction on
the path actually have the backslash
instead of forwards so you actually get
a compiler error so you can make them
forwards slashes everything works fine
who's ever tried to create a new get
package was it fun no one put the hand
up so so in dotnet core they are
creating a new get package is the super
simple you just tell it which project
you want and the version and everything
is done for you like super simple so if
you want to publish the app you just run
it publish by default it's going to
create what's called the framework
dependent
I think it's framework dependent build
so we'll create an executable but the
executable you have to run with on a
dotnet framework so whether that stock
that framework on windows or neck or on
Linux and Mac if you want to publish it
so if you want to compile it down to a
binary where everything is packaged in
with it you just need to specify the
target platforms that you support and
then we just need to publish it with the
- are and then specify the target
platform that we want and then we get a
binary as a result there's also docker
files from Microsoft so if you want to
use docker to edge your build process or
just as
to keep the kind of dotnet core stuff
separated like I was using the.net core
to docker images to be able to upgrade
the little side project I'm working on
you can't use the nano server that's the
windows only docker image I found that
out by trying to run it on Mac so the
SDK comes before the build tools
included and then once you've got your
program built you can then export it
from docker into another container and
you only need the runtime container to
be able to execute the program so it
doesn't contain the build tools so and
it's about 300 megabyte less so the
build tool is about 300 megabytes and
it's fairly easy to kind of get a
container up and going if you're using
ASP net core so there's a f-sharp
middleware 4-h peanut core called
giraffe
so if you haven't played with it before
I have a look but you need to specify
the part of the URL as being 0 dot 0 dot
0 to 0 so a local host otherwise you
can't access the the program from
outside the container so some of the
limitations and dotnet core at the
moment for f-sharp is you don't have the
type providers you have to compile them
with msbuild which basically means using
mono or mac to compile anything that
needs at I provide at the moment they
are promising that this should be added
some time in neck or two so hopefully
comes before done they call it 2.1 as we
saw with the debugger mono still needed
for a few things so the tooling is is
getting there so not all the tools are
totally nickel yet but with dotnet
standard that doesn't really matter and
that's all we that's all you need to
kind of get a sharp going on on a mac i
can any questions and yeah don't make or
makes it really simple
all right thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>