<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Mobile DevOps with Xamarin and Visual Studio Team Service  - Richard Erwin | Coder Coacher - Coaching Coders</title><meta content="Mobile DevOps with Xamarin and Visual Studio Team Service  - Richard Erwin - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Mobile DevOps with Xamarin and Visual Studio Team Service  - Richard Erwin</b></h2><h5 class="post__date">2017-04-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/nNSdzb-_8_s" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">probably higher hangovers okay actually
I'm hoping this is kind of a
spot for me every boys just coming out
of that hangovers but they haven't hit
lunch and got kind of sleepy yet so
hopefully we'll we'll get through this
together my name is Richard Durbin I am
a builds a technology solutions
professional that doesn't really mean
anything to anybody outside of Microsoft
but essentially I get to help our
clients with their mobile DevOps
solution so looking at the tools they're
using look in their automation and look
in the process
Caliban - and how they're kind of
driving their projects and getting them
out there into the store um I thought
I'd start with this slide if you've seen
any kind of DevOps presentation from
Microsoft probably in the last couple of
years you've probably seen this slide
and like probably the first couple of
slides what we're trying to get get
across here is if I asked everybody in
this room what is what is DevOps what's
the what's the definition of DevOps I'd
probably get a different answer from
every single person and if you go on
LinkedIn you'll see people saying I'm a
develops engineer people are recruiting
for DevOps engineers and devil teams and
you hear people talking about their
DevOps tools and so on but it's not just
about that one thing if you if you again
if you process in any any sessions from
from Microsoft you probably seemed on
from Brian nobody seen him speaking very
good quite entertaining speaker
apparently is a semi-professional
air hockey player so he tells me I
haven't and so he's got quite good
definition and I think it's it is it
sums up this quite nicely so DevOps is a
union of people process and products or
tools to enable continuous delivery
value to our customers and I think
that's that's pretty good thing so you
look at those three things you've got
people processing tools without one you
can't you can't really do DevOps so
there's no point saying I have we bought
some DevOps tools and we're going to go
and do automation now we're going to do
automated testing or automate it release
if the guy who essentially does the
database deployment isn't on board with
this
then it's not going to happen if the
testing team in the dev team don't work
together this isn't going to happen we
need the people we need to streamline
the process through our release and not
involving all the people in that process
so we see a lot of the time the people
who are doing deployments to the SE
couldn't be into azure it could be a
deployment onto an on-premise server the
people who are doing those deployments
typically aren't the people who wrote
the code so they will have a document
produced by the dev team that says ok
when you deploy this I want you to
deploy this service I want you to run
this script I want you to put this
database someone you update that table
and there is essentially a checklist of
the things that they do and so at 3:00
in the morning the guys are in there
doing this and of course they have this
learned knowledge and they they kind of
know what's what's going on but then the
guy who normally does the deployments
the manual deployments isn't there that
week and so we still try and push out
we've got the script that's fine and
then they'll follow through the script
and and then what you'll find is maybe
just the name of something has changed
maybe this thumbs something is in a
different place we store it and the
person running through that script they
all go oh we'll just follow it as it
says in on the script and of course
something goes wrong because the person
who is doing at mine you have this
assumed knowledge and go ok I know that
we don't use that script we use this one
instead and so the whole thing goes
wrong they don't really understand what
it is they're deploying and so therefore
we have an issue we have to roll it back
and it causes lots of time and effort so
that's kind of what we want to get a get
away from I thought I'd start with a
little DevOps journey story so this is
one I've been to read me close to you
this is the Microsoft developer division
that's a big team there's over 4,000
devs working on that team and of course
this is don't now this is Visual Studio
this is your services the SP dotnet all
that stuff lot of developers working on
this stuff now I'm going to talk a
little bit about visual studio team
services and it's abide by 400
developers working on that team so we
take a little bit of a little bit
history here the developer division and
about 2008 is anybody a team foundation
server user in here yeah I've got a few
in there are X and God okay so you may
have been looking at and obviously we
had a release in 2005 2000 year 2010 13
and so on and around 2008 the developer
division really started to embrace our
job and you may have noticed some of the
agile tools coming into the product
shortly after that and so they started
doing things like looking at their
they're taking all dead doing
essentially releasable code as part of
the sprints working in agile process so
this trained everybody up in scrum and
it was a multi-year journey probably six
or seven years as they adopt about that
process but they saw a 15 times
reduction in their technical debt the
real focus on on quali
no longer this kind of wall design what
we're going to do we'll build it and
then we'll test it and we're testing
things that we're all six months ago
we're trying to get around that kind of
problem so by 2010 the released Visual
Studio 2010 TFS 2010 and it was very
well received they they were getting all
the kind of top right-hand quadrants of
the the analyst reports there were some
great features in there things like a
new build system they brought in things
like test case management was lots of
new features and that was a real shift
from 2008 to 2010 was being very well
received but at that point they decided
that really what they needed with the
software is a service solution so they
started working on what has now become
visual studio team services them was
called TFS service preview and became
Visual Studio online at one point as
well so they started working the system
of course they'd never really built a
software-as-a-service product before the
developer division and so they they
really started thinking about their
DevOps process how are they going to
release this thing how they're going to
keep up to date continuing releasing and
on our gel manner so they started
adopting things like they got a version
out there I think about 2012 they got
the first service preview out and they
were doing things
like taking a lot of telemetry about
what was running and so if you look at
an agile project the product owner is is
God they decide what's on the backlog
what we're going to work on and what's
important and so on they work in the
prioritization if we look at more of a
DevOps team they've taken telemetry what
are our customers using or they liking
more feedback we're getting what's
working what isn't working and that's
the kind of information that's driving
the backlog of what we work on so what
our customers want that's what we're
going to deliver and so they started a
working thing got pulling a lot of
telemetry from from a zero they were
doing things like feature flags so you
know they could just kind of lift the
skirt for some of the users and let them
see this new stuff that was coming out
that was that was great
so why visual studio 2013 I think was
November 13th 2013 they released vs 2013
TFS 2013 but also released the
commercial terms for what was then
Visual Studio online so effective a
people they had about a million users on
DSL and on the preview at that point and
they said okay on the November 13th
right you can buy that thing you can
start using it big fanfare announcement
but they had a bit of a perfect storm
they aligned the time of the marketing
announcement was that point where the US
was online and also Europe was online so
made a lot of potential users they also
choose that chose that moment to release
essential lot of feature flags so they
had a lot of stuff that kind of been
going on loading new features and
there's a why not we'll get those
released right at this moment of course
what them probably happened they
immediately suffered a seven-hour outage
of the service so that's kind of not
what you want you just a nice this thing
and it's dying for most of the day
rather than kind of hide from that they
actually produced a white paper you can
go and download it it's Microsoft's
journey to cloud kids it's a very good
read they talked about what caused the
oddities why happened it turned out they
essentially had only one skill unit at
that time to know VFDs is hosted all
over the world it's um an Amsterdam
saying
you in the u.s. they had only one at
that stage and they also were missing
some telemetry and how the various
services of VSS communicated between
them they again they also got a massive
influx of users and they launched these
new features as well so busy a perfect
storm and they brought the thing down so
they then have published all the kind of
process around how they resolve that how
they know do clearing so essentially
we've got a new feature at the end of
the the sprint we're going to push out
some new features we'll push out to one
of our skill units we'll make sure we
test it we use it if everything goes
well great then we'll push it out to the
rest of the world if not then we're
going to rule that thing back and Oh
rather
probably not ruled by but roll forward
mediate the problem so they they learned
a lot over those a couple of years and
their DevOps practices they produced
this as well this is the kind of the
practices and habits that they drive
other as a team and you see a lot of
things there that we've talked about
before flow of customer value a
production first mindset so essentially
we are building something assuming that
is going to go in production it's not a
case of I will build it and then we'll
deploy into art they're like you know QA
server will find out maybe if it works
so what I really want to talk about
cover all that I'm not going to talk
about scaling agile and so on I want to
talk about things like CI CD automated
testing release management sort of
telemetry collecting data as well
stakeholder feedback so those are the
kinds of things I want to talk about
today so why do we do DevOps effectively
probably number one is we want to
increase the quality of our product and
reduce our technical debt we don't want
to be spending our time fixing bugs I
mean I I saw a project just the other
week and they were using probably more
of a waterfall kind of process so we
decided what we got to build we signed a
contract
we built the thing we had delivered we
put it out there and of course it is
horribly full of bugs they have an
entire backlog now of bugs I've never
seen this before but there is nothing on
the backlog apart from bug fixing and
that the developer must be a very
depressing thing
I'm so we we want to avoid that we want
to think about quality as we go through
the development we're going to
accelerate our development unreleased
cycles take away by dependency about one
person who does that one part of the
manual deployment let's get it automated
and automate as much as we can take some
of the pressure off our testers again if
we're doing app development here
probably nine out of ten teams will
doing mainly manual testing
my name's testing is slow it takes a
long time we want to try and automate as
much of that as possible the other kind
of key thing is we want to innovate know
and in mobile this is especially true we
want to be doing the cool things doing
the things that our customers want and
essentially if we need to change
something if something's not quite right
in our product we need to be able to
pivot and we need to be able to build
that use functionality and very quickly
and get it out there let's light some
automation we can't do that I just
wanted to mention a couple of things
that are probably more specific to to
mobile development obvious why we're
here and there are mobile quality
challenges or challenges are really
unique to t-mobile probably the number
one thing is device fragmentation so if
you are developing for Android there are
a huge amount of devices versions of the
operating system various flavors
customizations of Android that will be
out there so your customers will be
coming along taking your app and
deploying it in some bargain bucket
4-inch screen Android device and then
somebody else will be coming running
them out in a brand new Google pixel XL
whatever it's called and does my
application work on both of those
devices it's less of a problem in iOS
but it's getting worse there are a lot
more form factors coming out we've got a
Mac iPad minis we've got our you know
even even back to iPods as well or
people using iPod Touches to grab your
app the other thing is is high
expectations short sessions if you're
anything like me you'll think well I
need others looking for something other
day was a video
player on my Android device which would
allow me to watch something in one and a
half times speed didn't seem to be able
to do that with the default player so I
hit the the App Store
I grabbed the the top-rated free video
player that was on there I installed it
I tried to watch my channel 9 video and
the trien it wasn't doing what it wasn't
what I wanted to do it got about I would
say 30 seconds before I learnt okay
uninstall next one down the list and I
moved on to that so you you basically
have to get this right because your your
window of opportunity is so small and of
course what I didn't personally do this
but what does everybody do one star
review didn't work on my one plus three
device horrible people are crazy
on reviews on App Store so it's
something secure to bear in mind okay
one more slide and then we'll get on
take a look at some cool stuff so if you
are feeling a little bit sneezy after
the party last night if you take nothing
else away from this session apart from
the slide then you're probably fine you
can go and relay it to your boss and he
will thank you what didn't paid
attention the conference Microsoft
acquired xamarin last year both
finalizer around the summer they also
bought a company called hockey up
probably most of you have heard of I
think was a couple years ago actually we
we brought them in-house and in addition
to the existing DevOps and application
lifecycle management tool says that
Microsoft already had it's kind of
plumbed this all together into a fairly
unique proposition and tool and mobile
DevOps so if we look at this and the
first thing up visual studio team
services now some of your on I could
have put team foundation server on there
it doesn't really matter if you haven't
come across that field cute visual
studio team services is essentially the
the cloud hosted version of King
foundation server those tools are there
to track your mobile projects or any
project for that matter it gives me my
my agile planning tools
it gives me things like automated build
test case management defect tracking and
lots more other stuff as well continuous
integration continues to
livering we'll take a look at a lot of
that stuff it's a very very good tool if
you're looking at build and deployment
obviously as a essentially example an
employee I would encourage you to go and
check out the xamarin platform if you're
doing hybrid development you know what
we really want to see is native
applications if you're developing in a
hybrid application you're missing a bit
of a trick your customers are wanting
the features they want their kind of
fingerprint reader they want to have
their offline Stingley one that good
experience that you're only going to get
with a native application so what we
think is a very good solution is design
one platform hopefully some of yours I
learned developers here and there's a
couple of choices there you can use
essentially zamora native I might get
around really 60 70 percent code reuse
I'm going to write my app and c-sharp
you've also got xamarin forms which
could give you maybe 90 to 100 percent
code reuse depending on if you wanting
some platform specific features worth
checking that out there's probably been
some sessions already a sub one on mvvm
earlier this week I don't know if
there's any left but the other aspect is
the azure mobile app services if you
haven't checked out the app services
some great stuff for scaling your your
website for hosting your API so the API
API app services but also the mobile app
services so things like as I said
offline think syndicating with your max
off the car your Google account your
Facebook account I want to send
notifications to my iPhone users and
also my Android users and my bi even my
Windows users if they're in around and
so I want to use something that location
hub and be able to send my notifications
and spread out to the various
notification services there's lots of
great stuff in there to make your life
easier and make your app better there's
a very good session of fortunates a very
last word of the day
possibly in here on using a 0 for 4 for
mobile well worth checking out if you
have a chance and can make it through
the rest of the day
that's my colleague Richard hop
and Mike James one of our evangelists
well worth checking out
the other thing where I spend a lot of
my time is in mobile app testing in
xamarin test cloud no we're going to
check our stuff oh but if you haven't
seen this before again if I'm testing
lab okay I'm doing some automation and
some of you may already be doing it
maybe xcu I test calabash mass press oh
there's a lot of frameworks are that you
might be using and that's fine you test
it on the devices that you have in your
pocket or the devices you have kicking
around in a drawer in the office but
we're all techies here we all typically
have sort of reasoning iron forms we
keep them up to date and perhaps our app
works absolutely fine on those but water
by those little bargain bucket bucket
bucket Android devices maybe Lee if your
infant like my wife you've got an iPhone
you've never updated it in its life I
have to come along we do it for so it'll
be running what ever was was born with
effectively what are those devices so
the devices that your users are
accessing your app with so the idea of
the xamarin test cloud is it's about two
and a half thousand physical devices in
an ER and of course their warehouse is a
data center and it allows you to spray
out your app to those devices as many
you want then run your automated test
and then give you that feedback about
what's happening we'll take a look at
that stuff
very cool did you've got hockey up for
bigger distribution so again getting
your your pre-release up out into the
hands of you users get the feedback from
them find out what's crashing find out
what they're using and again the the
telemetry data so if we're looking at
the front end we were using hockey apps
so that those crash analytics user
metrics and if the user wants to give
you some feedback they can click a
button send it your way if you're doing
something in the backend something gets
your application insights track that
information again what are people making
yourself so long it's great you look at
that and that's a pretty much nice
rounded set of tools that will help you
drive your project now you're all
sitting there going yeah you know
I used Jenkins for my build we we use
bid rise
you know we've got JIRA installed you
know use the the Google device cloud
something like that
that's fine don't pick that you know we
maybe we don't do xamarin development
fine
you've got you got your native
application you can absolutely do that
as well any part of this you can you can
roll by you can plug in your own tool so
if I take all by your going use
something rayon fabric to get that crash
Analytics fine go for it there's no
problems you can use the rest of it
something be the distribution you want
to use test slide for your iOS apps
maybe something the beta distribution in
the Play Store again absolutely fine
make make V STS drive that stuff to
there maybe you're not using summer and
test clothes using some like perfect a
mobile the the Amazon device farm if
you're building application in Java
react native objective-c or Swift or
using a different back-end so Google
Cloud I think those guys right there
again that's fine you can pick and
choose the bitsy one and of course in V
STS you can stick in there
I was thinking of what people might be
using for tracking the projects and you
get a lot JIRA very good tool people use
may be things like Trello salt bugs
excel post-it notes that's fine you
can't really integrate your post-it
notes but it's getting there and again
build services use whatever you want so
hopefully my job is to show you how well
this is all integrated in and how easy
it is to get up and running with it and
quite often you can use for free
but if you're using something already
you want to integrate it that's
absolutely fine so let's check it out
or just about on time there's a lot of
stuff I wanted to show you here so let's
flip across to my visual studio team
services so if you haven't seen this
this is the cloud hosted version of King
foundation server I kind of get the
feeling this is where most people are
going there seems to have been a bit of
a tipping point you know it was PFS all
the way on premise I'm going to build my
server I'm going to customize it I'm
going to come in there get my Alps team
to upgrade it to the next version every
couple of years I'm seeing a bit of a
tipping point where people are saying
you know what
we'll have to do that upgrade again
let's go to VSDs there's very good
migration options there if you haven't
checked those out it's worth having a
look at um what we're looking at here of
the CFDs is the latest tooling the
latest features in there if you've got
TFS 2015 everything I'm going to show
you will work exactly the same that's
fine the only difference here if you go
back to TFS 2013 you will have the get
support and you won't have the same
build engine you can still do it but
it's a little bit trickier so at least
get yourself to 2015 if you're on
premise so we've got a lot obviously s
message still project guys set up and
we've got a couple things we want to
check our first of all we need to go and
check out our backlog so I'm going to go
to go to my work tab here and we'll go
and check out our backlog now this is
just as you might use in any a job
planning tool this is the backlog of the
things that we need to do and I can come
along and say okay well we have some
work here it's in a certain State
it is a we've given it so many story
points it's got so much business value I
can dragon I was doing out of my maximum
I can drag and drop and force clicking
to say what's the most important thing I
can start to plan my sprints you can see
over here I've got some sprint set up
and I can start to drag things into my
sprints and go ahead and do that that's
fine
I can set up my a July oh so where I'm
going to break my minimal marketable
features down into my backlog items I'm
going to make sure that I just
concentrate on the the bare minimum
value that we can give to our customers
so again if you're doing agile if you're
doing scrum there's some great tooling
in there I've also got my boards so
again a sign or reliever if you're using
something like maybe linkit Kanban or
treble boards and so on why not have
this hooked into your backlog by track
two different things so I can say if
like let's go on add a new item here
I've had a product backlog item i'ma go
and NBC demo there we go so I've know
you got a thing in there I can open that
up I can give it an effort value and you
know it doesn't feel like work we just
give it one because it's nice and easy
and you know business value we can stick
it in there if we want saying look at a
return investment let's go for a 10 in
there
and we'll see them close down maybe you
know what we're gonna sign it to myself
but yeah let's do that
so I can click my thing probably ah I'm
still getting used to my mark you know
there we go there we go so Stephen close
up I've got that in there something we
need to do is our candidates story so
you know we come along said you know
that's finance approved let's let's put
this into the bell book doing this now
I'm breaking all the rules by having two
things in progress at once I'm supposed
to be doing but will not worry about it
too much and you know I can come in here
I can add my my tasks in here so I can
say to do this I've got to go let me see
demo Zemin test glide we could add
another one which is no let's say demo
okay up and we can say Moog well cinder
so we can throw some tasks in there
these are essentially pieces of work
that need to be done I can open them up
and give it more information well that's
that is or I can just use that the tick
box say you know what let's do that
that's more important let's go and do
that we've done that is good and again
I've got that got my things that makes
you a little flow diagram and so on if
you haven't played around with this it's
very good you can you can get a lot of
your sidebar so a sip will return to
code if you're using something like JIRA
that's fine don't don't worry too much
about it
all right so I'm going to go to my code
here and you get some code into this now
in VST s and TFS 2015 you can you can
choose between TF bc team foundation
version control which is a centralized
version control system you're coming
from older versions of TFS or subversion
or got rid source if that's absolutely
fine you'll be quite a homeless odd
stuff but if you're coming from
huh bitbucket or just you know you've
got at your own git server and why don't
have a get repo within your VSDs project
linking up the work you have to do with
the code that you're changing so I might
say let's go on there let's import a
repo I can go I'm using a sample up here
called a Quint you can go and get to the
silly kind of featured xamarin sample
app talks to us you're I can just say
you know what give me the give me the
URL for that I'll flip over to my my
project I throw it in there and it's the
the Wireless is good enough then it's
just going to go and start to do that
it's just pulling in pulling in from
github just cloning that that repo for
me going to stick it into my project
absolutely good I can start setting up a
build all the way Phil I hope it's going
to do it pretty quickly anyway and so
we've now got some code and I can bring
that down to my local machine that I set
up my branches whatever I need to do so
we go since and I have another branch in
here I'm going to stick with my
acquaintances Pitzer I mean a few tweaks
to and so this time we've got some code
in there the next thing we want to do
we've got my code we want to make sure
that it's building so we're going to set
up a build now again very very easy
people get a little bit jumpy automated
bills it's you know can be quite a
tricky to to configure so I'm just going
to go to my build I'll just go with a
new build definition house I love this
dialog because you look at this I'm
going to go in you know what I don't
reuse any that Microsoft stuff from my
mobile dev but you look at this and you
say okay I want to build template what
it's a starting point of what it is I
want to build and we start to see things
like Android and aunt and Gradle and
Jenkins and maven and nodejs and so on
you go wait a minute what's up doing a
Microsoft product you can build
essentially what you want or if it's not
on the list just build your own
extension for that of course I've got
things like Universal Windows platform
there's your studio I've got my xamarin
builds and then right down the bottom
I've got my Xcode bills so you can build
what you want it just get you stick your
code in there and you can kick off a
build and build what you need to build
so I'm going to choose Emma Android just
for now and then a couple of things I
need to give it number one where am I
getting this code from so again
hopefully it's from VSDs you'll be
seeing in your team project in a
particular repo and particular branch
but if it's not you want to go off to
github that's fine if you want to if
you've got your own get server you want
to give it that if for some reason
you're still using subversion that's
fine you can use that too so I'm going
to pull in my code I'm just in this case
I'm just going to go let's use my
acquaint repo and it's leave on the
master branch I can set up continuous
integration as simple as that so when I
commit some code push some code to the
server it's going to kick off a bill for
me and then I've got the option of where
that build is going to happen know if
you're doing a normal Visual Studio
build a cloud project of SP don't net
website whatever it might be then you
can very very easily use the hosted
build for my from Android build my
xamarin build I can still use that horse
to build that's a build agent running in
the cloud it's got lots of software on
there I can hook it enter to most things
and that's fine you get a thing you get
one build agent for free with like a 30
minute limit maybe on that without
buying anything more so you can do that
you can build however if I want to build
an iOS project and I've got you know I'm
targeting my my iPhone and so on then I
need to have a Mac build agent now you
can go and buy something Mac and cloud
and so on but typically what I do is I
have it running on my local machine so I
just have a build agent running
on-premise which then says okay when I
kick off a build a build it here and
then just submits all the results back
to the back to the VSDs project so this
one here default is essentially my my
machine for different pools so I can
choose I'm going to take this off so it
doesn't mess up my other build I can go
and create that and there's a couple of
things I just need to plug in so it
gives me by going through it there i've
got a number of tasks which i need to
just give some do but essentially it's
going to build an android project now I
don't have any samurai components I want
to pull those out I'm going to say ok go
and find a solution in that in that repo
and go and decide what you get
packages I need to restore and if I want
I can specify this this app actually has
a Zamora native an exam or form solution
so maybe I'm saying look you can get the
forms that's what we want to build as we
want to get let's go grab it then I'm
going to build my Android project so
there's obviously an android project
within that solution it's going to build
that for me that's fine I can you know
make some changes here and add some
specifics if I want but in general it's
just going to find that project and
build it then I've got a test project
all my good UI tests I'm going to have
as well or all my unit tests I've
written fine go and build those up maybe
go and run my unit tests I'm going to
come back to the test code and then of
course as it's a mobile project I want
to sign it up I want to run zip the line
against it and then I want to take that
apk file and all the associated files
that I need and just publish them onto
the server so later on I can grab the
output of that build and use it in a
release or manually download it and work
with it
so a symbol of that I saved that build
and I'll just give it a name unless of
course I completely screw that up then I
go just give it a name and see if okay
not is it I could kick that off now it
will go off and do it my check my little
build agent is running there we go
has been reconnected so you can see I
have this just running as a essentially
just installed running at a terminal
window I could run as a service you can
have this running on a Windows box it
doesn't really matter so I can kick off
that building I'll go off and I'll give
me some data what I'm going to do is a
think I'm going to set up a different
build so I have if I go to build here
I've one set up over here that I'm going
to use my quaint Android CI build which
does build tests and sign and that's
what I want to use I'm going to I'm
going to go through that in a second but
you're sitting there thing and I don't
use the vs bills I don't want to use
that I want to use my existing build
system absolutely fine if you want to
set up a Jenkins build the kick it off
here so you're using your your CI
process I'm storing it in BSP
but I want to send that information off
to Jenkins I want them to run my test
iron unit test whatever it might be send
all the information back to VSDs store
that in one place absolutely fine
something I was doing just the other day
was with with bit rays very popular
mobile bill service it's free I think
again for maybe one concurrent build or
something like that I can't remember
exactly what I'm glad you signed up for
a free account and you can see here I've
set up to build my my iOS project as
part of that so what I can do is very
very simply I'm just going to say add
I'm going to add a new up and then here
it's going to say oh hey where you going
to get this up now if you get it from
github that's absolutely fine bitbucket
get lab or fine however if I'm doing it
from VST s then I need to busy give it a
get rebook so you can see here just
wants a URL for that I'm going to flip
over to my code here so there's my
quaint project and here I've got the
option to clone and I can use HTTP or
SSH so if you do ssh because the private
repo and once this it tells you exactly
is a nice very easy follow setting up
your own SSH keys like I'm going grub
that I'm finally just copy it and then I
can go back to bit rise and say hey
there you go there's my there's my repo
and then it goes okay what do you need
to do I need to give it a is H key I go
and get my my private key I throw in
there and it sets up my bill for me then
what I'm going to do rather than going
through that all nice tonight I'm just
going to leave that one they screw it
taking a little bit of a chance that
it's going to completely screw that up
no good and then I'm going to plug into
this and then so that build is set up
I've got my work flow that I can go and
mess around with we'll do in a second
but if I used to go to code then I'm
saying okay well I want to kick this
thing off a little section down here on
web hooks so I'll go to my video studio
online bsts and I said oh here you go
here is a URL which will essentially
request that this build happen
so I can take that and then slip back to
my my visual studio I'm in my quaint
project I'm going to go to my settings
I'll go to service hooks and then I've
got a few setup already I've got one
here and Bizzy says if any cord is
pushed to a certain repo that's like
let's go on edit this one then it cooled
is pushed to a certain repo so it's my
acquaint master branch then nothing gets
pushed there I want you to call this URL
so Phaedra I've now set up CI for a
completely different build system very
very simple to do it'll kick it off and
aside if you flip into the quints build
a bit rise I go to my workflow if you
prefer this that's fine you can go in
here I can add in custom things if I go
for something like xamarin then what
I'll see in there is my xamarin test
glide for android great so this stuff
that i'm going to do 9v FPS i can do in
bit rice and i can still integrate
really nicely there's got lots of layer
integration so choose what you want
again deal with Jenkins do with Travis
do it what if whatever you use okay so
so we know got some code in there we've
got a CI build set up how am i doing for
time better speed up a little bit and so
what we want is we undergone tests some
create some tests to that code we got a
little app that we can we can use so I'm
going to flip over to by Zamora and test
cloud nizam Montes Claro's
said is essentially a device cloud is
two and a half thousand physical devices
and fireless look at listen first and
these are the devices that are in the
client and you go okay well aren't you
know what I've got a few devices you
ever got some Samsung Galaxy s7 s we've
got a few older ones in there how do you
manage that how do you make sure that
you're getting the device coverage that
your users are going to be accessing
your up with so what I can do is I can
come in here I can have a look you can
see this number this is a life site this
changes this number it's about two and a
half thousand sometimes goes up a little
bit sometimes
a little bit depending on what they're
doing what's the devices but I might say
okay well let's choose iOS so show me
all the iOS devices and I can dive in
there and say okay well we've got a few
of these of a few ipads kicking around
that's fine
has anybody got an iPod touch anymore I
haven't seen able to use an iPod in
quite some time but people are sitting
in their bedrooms with their iPod
Touches using your app and accessing it
does your does your app behave correctly
on there if I take something like let's
go for an iPhone 6 so if I dive into the
iPhone 6 it goes okay here's some more
details this is a screen resolution this
is the the processor that's in there
there's this screen dimension the screen
resolution and it also says okay well
there are 87 of those in the device
cloud at this time so it's not a case of
we have one or two of them plugged in
with 87 iPhone 6s that you can then use
but the most important thing is this the
operating systems so I think it shipped
with iOS it's not the second and some of
those have been up good
so it'll two versions of nine and of
course version 10 so again if you're my
wife and you get the iPhone 6 it's going
to be selling there and iOS it but any
of you guys will probably be on 10 so
the page you want to test my iPhone 6 do
you want to test it on the various
operating systems that you might be
encountering so let's do that let's go
and do yeah let's go write a quick test
we'll plug that in to our test cloud so
we've got my acquaint up here I can see
my tests that have been run I'll choose
our she will choose this mother failing
test and this is the the tests that are
included with the acquaint samples if
you want to have a look a little play
around with these you can download the
sample you can just use the apk that's
included you can test this black box you
don't have to worry about the xamarin up
or you can take your own up plug it into
into zamora studio a set up a little
project but these test methods are
essentially included with the sample you
can
play around with them there are a couple
key metrics here we had 289 minutes of
device time so that was 289 minutes of
automated testing on your app clicking
buttons and earning tax and seeing how
it performs that took 40 minutes as part
of my build so if your manual testers
are doing it they're doing 208 minutes
if you're doing automate it you bring
that down to 40 minutes and you're
getting that feedback now in this case
what I might say is dive in have a look
at all the things now I come over how
many care things like 21 devices or
something I stuck on there so you can
see all the devices side-by-side and
then I can start to walk through and see
what those devices split open them a
little bit all those devices what
they're doing side by side at any point
during the test and I can dive into
there and say I don't let's give me a
one of my pixel in there sure but the
new google pixel in of course I can't
see it but doesn't really matter we'll
just use those the Nexus 6p on under is
7 and so again I can go in and look at
that device and see how it's performing
a my little sample up I've got
information here like CPU usage memory
usage as we go through it I've got my
test log so again the engine output
what's happening on the test I've got
the device log if I want some more lower
level details but what was happening and
of course if I'd look through this I can
see that one of these tests fails so I
look through and say right what what
went wrong and straightaway you're
looking at the Nexus 6 and gone well
something's gone wrong there at this
point in time something has blown up and
of course the test is failing here
because it's thinks it's looking for
certain element on the screen of course
it's on there anymore something's gone
wrong I don't know actually know what
went wrong in this device but that would
prompt me to go and do some more
investigation do we have a problem on
this Android version do we have a
problem this particular device and the
flavor that it's running do we have a
problem with this form factor let's do
some tests and figure out what the
situation was and that's fine
typically little things you find are
really simple things you've got a you've
got your app
you've on login you're testing on your
large form factor devices absolutely
fine but of course some of them uses a
four inch screen and the button that you
need to press the login is now covered
covered over by the on-screen keyboard
and so those are little things on your
high-end devices maybe you're not saying
so very easy to see those in test
clothes so what I'm going to do I'm
going to do a new test run and if I do
that what I'm afraid we doing here is
choosing what it is I want to run on
what devices so I'm just going to do a
new Android and iOS or Android doesn't
matter what the xamarin up at all to
come in narratives it can be Hydra
doesn't matter so I'm going to choose
new Android I'm going to choose one of
my teams I'll just choose my Microsoft
team connects and that and this is where
I get to choose those devices and I can
look at this and say well ok show me all
the particular show me all the forms you
may all the tablets show me although
maybe they're the Samsung devices in
there I just want to see Samsung or what
I typically do is say okay we'll just
show me all the seven one one devices so
there's my Google pixel my Nexus 6p and
that kind of good stuff I'll choose a
few of those and then I might say well
you know what I need to get some Android
5 devices let's choose all those my grab
I don't know and s4 six and throw that
in and I can choose what I want and as
I'm doing that I can still get in as
many as I want in there it's upping this
number so you can see here select seven
devices I'm going to choose that and
then I'm going to choose the name of the
test series again at least smoke test CI
test relief test be the test just a flag
or a tag to say what is I'm running set
up my my system language so again this
is me going onto my device choosing
French or German and then seeing how the
app performs and that I'll leave it as
UK for now and hit next on there and
then this is the I guess the magic
dialogue this gives you all you need to
go and push tests into test code you've
got three choices at the minute this
will probably change fine a normal
change and when the feature flags change
but you get three options for authoring
these tests
the first one the kind of where it
started is calabash calabash is a very
popular before open source test
framework it's not me intends by by
xamarin or Microsoft I guess and it's
all written Ruby
so if you want to write your test you've
got existing investment in Ruby you want
to use Ruby to write your test
absolutely fine go on install the ruby
gems install the test cloud gems and
then start writing your test and it's
kind of a gherkin cucumber syntax given
that I do this this happens then I
expect this to happen very easy to write
you generate it and then I just submit
that up to the test code and I use again
this command line to go and do it
they announced up even support Java and
j-unit to write those their own setup
back in October I think last year so
that's kind of gone from strength to
strength there are a few limitations and
not things like I can only launch one up
I don't have the test ng but you've got
to use Java and j-unit in a minute so if
you want to use if you've already got
some RPM test go through the lens test
close feeble to harm you can get a
30-day trial of test cloud going through
your app in tests in there and see how
they behave again same thing I've got a
command line here that if I went to my
terminal window my command line window I
just run that and it goes it's going to
submit those two tests cloud I come from
a visual studio.net background delay the
max value I'm a novice with it and so I
typically go with UI test UI test is
written in C sharp it's got very nice
integration into Visual Studio xamarin
studio upcoming Visual Studio for Mike
and it also allows me to use the summer
and test recorder the summer and test
recorder will generate c-sharp for you
so if you haven't written any sort of
automated tests I would possibly suggest
take a look at the summer and UI tests
and writing those a c-sharp so a couple
of key things that I need here I've got
this command line this test glide da
Lexi I'm going to pull down the the the
NuGet package for a summer and UI test
and that executable is the one that's
going to submit it into the
Squad I just need to give it the path to
my apk file or my IPA silos I'm using a
iOS I've got this team API key this
allows me it's essentially my personal
access token my password is you like
don't memorize it don't record it with
like and allows me to submit my test
into the test crowd
there's my user name and then the other
thing is this this is my device hash so
those I forgot what what five devices I
chose what those operating systems are
represented by that device hash that
doesn't go away so if I want to say
someone hey look I want you to run our
tests that run it on these devices
there's the device hash for the devices
I want you to run on I can give it to
them and they can go off and do it just
pass that in the command line and it's
absolutely fine um am I going to write a
test just a really super quick one and
then we'll come back to that okay let me
show you a quick test so I've got a the
acquaint sample here it's xamarin forms
so what you can see if you haven't
played around with salmon for I've got
essentially a number of projects within
the solution got an iOS version an
Android version and then I've got my
essentially portable class library or
shared project that's going to go
between those so all my business logic
all that kind of stuff is going to go in
there and then any platform specific
code that I want to write is going into
the Android or iOS project and of course
I go to uwp Windows 8.1 all I give stuff
as well
I've also got some Kesser in here so
I've got some cats
I've got OS test and Android tests I'm
just going to go into my Android test
and I'm going to go in to update data
test and these are the ones that are
included with the the project so you can
have a look at these I can test things
black box I don't need the source code
for this so if I've got someone delivers
me an apk or an IPA file I can just take
that and I can start to write tests
against it and in that case I can just
give it a reference here and here you
see it references the apk for
I'll take that Lane oh I'm good to go
but in this case I've got a reference to
the Android projects you can see in here
I've got a Quin X forums droid so I've
got a reference so when I run these
tests it knows what I want to test
against so I could happily just go into
my old test pad here go and run one of
these or I can just very super quickly
go write one of these myself so let's
just do that now I'm going to Harvard a
lot of time
oh my go do this or I don't know Pham no
I'm not I'm going to run in time and I
want to show you some other cool stuff
so there's my test I can use something
called the read evaluate print loop to
essentially allow me to interact with my
app and generate this this kind of code
what you see here if I just do app dot
let's see if we can zoom a little bit no
it doesn't even love it okay that's okay
so what's going here if I do that I've
got things like um pinch-to-zoom zweite
right - laughs tap a button tap and hold
press the back button anything that my
customers would be doing with my app how
they're gonna interact with it scroll
down to a certain element click that
button into that data enter text
it's all in there very very similar to
write this stuff and so I can do that
aside we just from the code here I can
go and generate that the Abdul ripple or
I can use the salmon test recorder
hopefully I can get to that there we go
and we're going to really quickly choose
the emulator that I've got running and
I'm going to use my acquaint some
reforms apk and it's going to hopefully
you see at the bottom left connecting to
app and it's going to deploy the app -
my my my device here and this could be a
physical device so actually works really
well if you've got a physical device
plugged in choose that instead and then
you can interact with it the same way
you would do in your in the normal real
world so I've now got my little app
deployed I'm going to click on record
here and I'm going to just say let's do
use local
data source there we go I'm going to
type that in we're going to click the
continue button and I'm going to do not
move this over here you can see that
it's generating that same code for me so
I can write this myself that's
absolutely fine but if I just want to
get a little bit of a head start and
identifying the elements that I want to
interact with then I can do this through
the recorder and then I can do things
like if I scroll down here you'll see we
should get an app dot scroll down and
then when I'm done with that I can enter
text and do what I like and stop that I
can then gold export I can send that
straight to designer and test cloud if I
wanted I can play it back and see that
my record and playback is work probably
what I'm going to want to do is copy the
output slip back to my project and
pissed it in there I have a new test I
kick that off and I've got a new test in
here
what I want to do is now gone check that
in but I was want to run it as part of
my CI build no interest of time we are
gonna have to flip on here a little bit
I'm going to go to my my build let me
slip back to that now I'm going to go to
my build and I'm going to edit that
build definition and if I do that this
is the build definition I set up and
does a couple of extra things that I've
changed
number one it's going to version my
Android package so I set up a really
really simple a little regular
expression that goes and looks in my
android manifest makes a change to the
version code number that it's going to
build so when I push this in the hockey
app it's updated all my version numbers
I don't have to mess around with that
stuff and I don't see all the same
versioning code version in hockey app so
I stuck that in there I'm building my
project I'm building my test project I'm
gonna sign my apk with my certificate in
here my key store passwords in there
and then I'm going to enable the xamarin
test cloud project project task and a
couple things keep my PI key we're going
to get that oh I know I can get that I
can flip back to my project there's my
team API care who's grab that over there
stick it into my build
I need the device hash oh we saw that
before I can go get my device hashing
pushing in there
what series will ever run again it's
that tag that I was doing so all the
information you were putting into the
little wizard I just throw it into into
my bill task I'm good to go
the one thing I've done here is I've
just changed these rather than hard
coding it I put a little parameter in
here and five let's do let's do this I'm
going to change this so one device so on
the fly just by changing the bill I'm
changing saying don't run it in 21
devices but never gonna have time for
that let's just do it one device we
might just avoid seeing I'm going to
save up I'm gonna stick that off and if
I go and commit something it's going to
kick off that bill could to set up a CI
bill and just going to queuing and we
might get a chance of seeing
complete running on here and there okay
and now that's going to kick off my
build build my code build my test code
submit it into test cloud test on this
case just one device then come back to
me I'm tell me packing everything up and
hopefully we're good to go
and everything will be fine I'm not
going to send Morse that but you can see
how exciting is to see all your your
build running and then the next thing I
want to do is flip into my release
now either release setup or probably
late on time I have a really setup here
I've got my edit that we as my acquaint
release I'm going to edit that release
there and what I've done as a set up
three environment number one I've got
the private beta probably be there store
release the private beta so I want to
push it out to hockey app and what I've
said is if a new continuous deployment F
and you build happens on that particular
builder we were just kicking off and it
completes and everything fine I want you
to submit that release now you might not
want to do that automate it you might
want have a list of manual process in
there that's fine but it's going to kick
that off and then it's going to deploy
it to hockey up so I've hoped hockey up
into my account very simple to do I've
got this thing here an app ID and that
identifies all the this app that I'm
testing and identify any crash analytics
any user feedback any deployment through
that one up with in hockey out very
simple setup I've got some comprehensive
release notes in there about what we're
pushing out and then I might say okay
when we move to a public beta I want to
assign some approvers in there so I
don't want to just push this stuff
straight out I want someone to do some
pre deployment improvement and I can say
specific users and I could stick my
colleague in there maybe and I can say
anybody in this list anybody in this
list in a certain order or just one user
is fine so I can this.e say you know
people get jumpy when you do things like
automated deployments put plenty of them
sort of checks and balances if you like
before you push it all up
very simple to do and they can do it
each level again emails and hake and
you're going to prove this I go into the
portal and it's fine and then I need to
add some tasks and of course it's a
public beta so I'm going to push it out
to things so I'm going to find in this
case maybe the Google Play or the App
Store or the Windows Store whatever I
want and I'm going to push it in there
we'll add that task in I'm going to give
it the path to my apk that comes out the
other build and then I'm going to say
things like I'm going to put it into the
the beta track I'm going to give it some
release notes and I'm doing exactly the
same as I'm doing for hockey app but
it's automated and very simple so let's
slip to hug app go to hockey up oh yeah
there we go
there we go oh yeah no you can see here
I've got version two of my acquaint up
in there and then each time I build is
incrementing the build number and
sticking that into the the code version
as it sprays us out to to hockey up so
it's that build completes and we get it
through then that's going to play into
hockey out this is what I did I think
just this morning yeah 22 Jan hasn't had
any downloads yet because I only just
did it but if I know take out my phone
and try and launch the acquaint up on my
phone I'm going to go a notification as
there hey there's a new version of this
you're not like to run the version you
have you must upgrade it it'll redirect
me to hockey up
I'll install the update and then I'm off
using the latest version that up ideas
of sim as we just saw in in VSPs
and of course if I go to things that
crashes any crashes are happening on the
acquaint up in my version of the clean
up I'm not going to be sent back to hook
you up and of course here's one here
I've got an issue it's already tracked
and if I click on track what you're
going to do it's going to take me back
to VSPs and the bugs that was created by
hooking up into VSPs so this is
effective one of my users hitting a
problem it then sends it back to hockey
up Holgate goes oh that's a problem let
me create a bug send it back to the FPS
I then set up an alert that says if a
new bug comes out hockey up I want to
know about it we
triage is this important yeah it's very
important on the bike lager goes and
we've got that feedback loop coming
right through the one on the thing you
might want to check out here is things
like the custom events so I just threw
in a really simple one into this to just
include the whole gap SDK I've got two
little events in here basically the demo
up get started and run like 600 of those
nearly because again I'm running it
through test cloud and my tests will
start me up and then I've got one in
here that I've really nice to do once
which is a somebody changes the settings
on the app I wanted to know that that
was happening and I did that manually
once myself I must include it in a test
so I see a few more in there and again
very simple to add into your code that
I'm getting that information back said
hey we've got crashes we've got feedback
we've got things happening people are
using the right options or maybe
ignoring that I guess send push
notifications say hey why's nobody
checking the new cool page that we've
got push notification people go okay let
me check it out fine
so that is Tokyo I reckon I've got two
minutes to show you some some cool stuff
that's coming down the line let's go
back to a slide man there we go video
studio mobile centre a nice last October
at the connect event if you haven't
chambers oh worth taking a look up
you'll notice there when I did this in
VFDs hockey up summer test cloud I've
got to go to the different portals this
isn't a replacement for VST s it's going
to sit side-by-side with it but what
it's going to do is take all that
connection into a zero take all the
crash reporting the feedback the builds
and stick it into one place this is what
it looks like I can just get to it it's
new you can all sign up that was private
beta but you can go to sign up for it
now if you look down the left hand side
these are the beacons these look mate
look very familiar I've got bills
I've got tests distribute then I've got
some is your feature so easy tables and
identity authentication then I've got
things like crashes and analytics so if
you use things like summary insights in
the past I want to see well okay well
where is my app II knew
what are people using I've got all my
analytics done there so looks very
similar I can do
iOS and Android bills of native
applications some reforms and summer
native react native things like uwp and
and other things should be coming as
well cordova and stuff will be coming as
well
there's my build I can see those are
kicking off pulling straight out of
github I go to my tests I flip in there
and what we'll see well we've got some
nice test looks kind of familiar and
then if I dive into this what I'll see
is exactly the same stuff so here's all
my tests running on those devices and I
can move through that exactly as I was
doing within the test cloud portal now
if you're using test glide don't wait
for this stuff go and use it if you're
using test cloud you'll eventually
migrate across to the mobile center
portal same with hockey app use hockey
up now and you'll see results
side by side you'll see that at mobile
center so mobile Center is kind of the I
suppose if you like the new xamarin
portal most things will move towards
that the will be integration into VSPs
as well the minute it's only pulling out
of github but you'll see things side by
side there as well I've got all my
distribution the same way we just did
with with hockey up I've got my is your
stuff and then I've got things like my
crushing crashes and then also the
animal to take some additional stuff in
here so I'm starting to see four nice
little graph active users and you can
see it is I've gotta say it's prettier
than hockey up you know it's not
particularly difficult and if can
anybody guess where our device lab lives
at the minute if you look at the where
the the usage is coming from these are
the tests I've been running through the
app but you're going to see a lot more
metrics and stuff coming into that so if
you haven't signed up for mobile Center
go and take a look when you sign in give
a little pop ups and hey would you like
a little run-through and one of the guys
whether it be me and one of the guys in
us will take you through and just do a
little bit of a longer demo a little bit
of an introduction show you how to get
started with that stuff but where it's
moving a very fast kid well worth check
I think I'm over time which is a very
disappointing because there's law school
stuff I think I got through it all but I
would like spend some more time on that
but hopefully that was useful I go and
get some lunch recover get some caffeine
done you and then push it on through and
go to that test code demo session
straight after this one of our partners
doing a test cloud session specifically
on UI testing and test cloud and then
last session as a mobile apps and as
your well worth check and I thank you
very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>