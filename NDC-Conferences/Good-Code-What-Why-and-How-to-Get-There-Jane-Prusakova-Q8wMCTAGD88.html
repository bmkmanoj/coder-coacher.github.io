<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Good Code: What, Why, and How to Get There - Jane Prusakova | Coder Coacher - Coaching Coders</title><meta content="Good Code: What, Why, and How to Get There - Jane Prusakova - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Good Code: What, Why, and How to Get There - Jane Prusakova</b></h2><h5 class="post__date">2018-02-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Q8wMCTAGD88" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hi my name is James osakawa and
code thank you for coming if you are
here for this talk if you
different talk I'm sorry this is a this
is my talk about good character I'm a
software consultant which means I run I
write code for other companies not who
one I work for and I get to see a lot of
different code bases a lot more and we
change more often than the number of
code bases I saw when I was working for
production product company how many do I
have anyone who is not a developer here
okay so everyone is going to go and
write code if not this week well on
Monday right okay great
there's a lot of code falling of the
slide but first why do we care about
could code
apparently you all do because you're
here I care about good code because my
job is to deal with code but is not good
as a consultant I'm usually invited in
when there is a mess so we end up trying
to figure out what is it our clients
hire us for what is good code they ask
people what could code is and this is
more more or less the less than we get
the start if it works right we want code
that works but free maybe somewhat there
is usually someone always brings up fast
that's a whole different conversation
they always want to talk about good
design I'm not going at each design here
and then people will say what code let's
test it and that can be changed without
introducing arrows that's what we end up
doing most of the time when we have
something that works and you want
something else to happen on the same
code base and when the code word is
testable is a whole different story
but gets more complicated when I come in
as a new person on the code base my
answer to what is good code is this
readable because consultants are
expensive they show up for short time
supposed to make a quick impact and not
just consultants right and you're coming
in as a jewelry developer you're
expected to make a lot of progress
quickly so readable makes a huge
difference at how fast you can get
productive so usability we've been
talking about usability for a very long
time I've also noticed mala computer
scientists from a long time ago or first
office second of additional structures
interpretation of computer programs this
is not a new idea
programs are for people to read and only
incidentally for machines to deter it is
a cute when I took a compiler class back
way back in college the common sentiment
that was offered is wicked common case
fast and the rare case possible this is
how systems are built this is how
programs are done but it also applies to
developer experience code is read by a
lot of people and it's interpreted by
usually the same compiler in the same
exact way compiler can do it job repair
repeatedly pretty much at the same level
of wealth but different people don't
struggle reading the code over and over
again because valve being a different
mood to account with different
experience the Lightning kind it can be
different and it's important that we
read the code in the same way there's
huge business value and how readable the
code is besides bringin consultants that
are expensive there is more typical
business case if the code base doesn't
do what the business wants it to do
there is a huge value loss their clients
are not happy with work is not happening
a lot of successful products are worked
on by many different teams anyone
expects to retire one of the product you
are working on this week probably not I
see some smiles yeah we want to move on
we want to move to the next project of a
next product and we hope that the stuff
we are working on today is not going to
die with us we hope that it will live on
and build keep producing value and
hopefully but business will want to
develop a program or at least move to a
new technology and how fast we can bring
changes to the code base affect the
value of products we are building so we
are talking about technical quality not
just for the sake of craftsmanship but
for maintainability we want the code to
be readable too with people who show up
they might be fresh developers out of
code we might be someone very very
senior who is coming in from a different
company
mutability being able to introduce
changes being able to introduce changes
without changing bring in unexpected
changes and the stability knowing what
will happen not just in with single
requirements defined user story but what
happens if you wonder of a happy path
how is it going to break isn't going to
break it all isn't going to steer a user
in the right direction is it going to
recover is it going to be in one big
mess so fast fast is a whole different
case do we want the code to be fast I
tend to work in the business domain and
fast isn't an issue code should be first
to create businesses want their products
to work now if you tell a manager you
can have it in two months so you can
have it next week 100% of people I have
personal encounter itself next week and
maybe this Wednesday there is a very
cheap way to get fast get more or faster
hard there it's a lot cheaper than hire
people it's a lot easier than hiring
better people and correctness Trump's
speed every time there might be product
out there but you can leave the box as
long as it's fast I haven't worked on it
maybe game development I don't know I
haven't been on game development and yes
I know exceptions exist i I've met
people and I've seen code bases there
being fast is very important being
correct is still more important but
being fast is extremely important but we
stand to be exceptions most of the code
bases I encounter and I hope you have
similar experience fast is not that
important so this is vacati
this is a bukata car it's a it's a
fastest street-legal car out on the
market
top speed 280 miles per hour it's
expensive the first year it was out on
the market result 250 units 250 cars in
the next two years I think we sold
another 250 and do you recognize this
car this is a Corolla this is a most
popular car out there you can't hear me
okay
alright can you hear me okay great I'll
try this so it doesn't run that fast
it's not that expensive it's the most
profitable car in the history of the
market it it sold so many units the
other makes the most money on this
particular car the models change the car
is out for many many years as developers
some of us probably work on peccatis but
the majority of us and if we change jobs
like most of us changed jobs most of our
time is spent working on Corollas so
let's build better girls there is more
money in that even though Bukit is a
more fun right so I'll be talking about
three different things making code
visible for people who haven't written
it showing logic showing how you're
thinking and looking at ways to limit
complexity so let's get to it
this is not easy there is going to be a
lot of code so some pictures the rest
this is a
personal story when I joined my first
real team I was just after college we
were writing fairly complicated code as
a cell implementation Mouse handshakes
encryption there was just saying that
people tossed around it was hard to
write very for it it should be hard to
write and being fresh out of college
brand new developer working with very
smart walks around me I kind of face
value so it was hard to write so this
code is really hard to read and it'll
take me a week to figure it out and
maybe some more time to get it right to
make get the changes to it right
fast forward I'm no longer that
developer five minutes out of college
it's I don't go by the saying anymore it
is my responsibility to write code to
make it as readable as possible to
someone who's coming in onto my team
with whatever experience we are bringing
and I work with a lot of students start
in junior year we've just had some
people from high school they are trying
to write code and we run it by them to
make sure it's readable by them it's not
going to be easy regardless but it'll
try it's up to us to make it as easy as
possible yes it was hard to write let's
make it a little bit harder to write so
it's easier to read okay so the first
thing that we encounter on client code
bases and I don't know if you've had
this experience there's no white space
white space is for some reason rare and
scarce and you don't notice how
important it is until you've seen lack
of it space on an indent and the worst
part is horizontal scroll our IDs are
very nice you can have any size window
you want except you're going to have to
scroll
so how about Miss this exists well this
is obviously a toy code because I can
show you production code but I do this
but this style of the text wall exists
and there is a horizontal scroll about
two screens wide here if you're writing
this please stop if your reason this ad
white space like this simple enough
right
we don't spend enough time doing this
but even simpler than that you shouldn't
be doing it by hand
your IntelliJ your Visual Studio have
templates that can't for mattress you
don't need to have discussions about
this it's Auto format it's decided to
once and it happens automatically it's
amazing how much code that exists out
there and not just exists and runs but
being it's been actively worked on that
looks like this so this is better but
this is not good yet so here we add in
more white space not just indent but you
know just put some space in there this
is still better you can focus on the one
piece at the time you don't have to like
look read the entire thing here
and finally we worried we like to
introduce the code is narrative the code
is telling you a story there is logic
there is something that's happening and
it should fit an idea even though you
should see the entirety of it in front
of you without switching multiple
windows without scrolling anywhere you
might not be able to get out of vertical
scroll but it's much better than
horizontal they had built to handle
vertical scroll evolutionary people are
told but that goes much better with our
physiology and finally move distractions
away from direct view and the technical
details they are all going to be spent
in time figuring out technical details
algorithm implementation
error handling login whatever
cross-cutting concerns you're going to
have we'll get back to this later but in
order for your narrative to fit and at
the ID Bindu a lot of the time you need
to push everything but doesn't go on to
that narrative out of you into the
library sometimes the library you can
borrow sometimes the library are going
to have to build depending on your
domain so comments this is a question
that I tend to ask in user groups and
you know teams yes or no no good yeah
because that's great to hear you know
students out of the class come out
straight up and say yes our professors
require comments our professors require
comments on code that is designed to
show understanding it's not designed to
work it's not designed to last as
perfectness we are in a different
paradigm the code is designed to work
and it's designed to last through
generations so I suggest no code no
comments comments are hard to write and
we are taught to express our fortune
code but we are not necessarily getting
an education in English before whatever
language you happen to write comments
and before you start codon first you
shouldn't need any comments second
comments tend to be wrong and we spend a
lot of time reading comments and when
being stuck with comments when comments
contradict the code of an comments are
irrelevant to code and finally where
it's taken space right so you are adding
vertical scroll sometimes comments will
be paragraphs paragraph after paragraph
of prose if they felt they needed to
write this maybe the code should have
been better so this is an example
example of a comment
that's marginally helpful this is real
code this is from Mozilla and rendering
engine this is open source code which is
why I can show you so it it the code is
pretty scary it's it's all technical
details the comment makes it maybe more
clear but only by tiny little bit and
hopefully it's hidden far enough away
from the bigger logic so that it deals
with one our issue but still this is at
the point where you still you're
thinking if you need this comment or not
everything that's less of this this is
what's more typical this shouldn't exist
at all it has no right to exist here is
another popular example do not explain
logic in comments logical change
comments will not and this is an opinion
what's pretty aggressive in this
person's view I'm not even sure and this
is scary if it's that simple yes you
know delete the comment move on but
sometimes there will be a block of code
inside that still returns false no
matter what happens okay this is very
common they find it a lot you have a bug
documentation in the code
this tends to trouble because the code
that has that gets cut and paste it a
lot so you'll find this kind of notes in
a code but has nothing to do with this
particular issue more than moment but it
Bob with date here is 2003 your bug
tracking system might not go back there
but much but you still have comments on
the code that point to the issue that no
longer exists
so presumably it was fixed of forgotten
of a feature got deleted okay so don't
do that
let's talk about logic again back to the
idea that code has a narrative make
logic visible side effects are scary
because something changes and something
else is going to react and there is no
way to tell by looking at this
particular code screen naming is the
biggest problem in computer science with
a possible exception of as an extra
references and show decisions so
technical decisions that you made when
writing this code it might have been
obvious to you why you've decided to go
this way but it's not obvious to a
person reason that particular piece of
code years from now or maybe weeks from
now so let's look at details any fool
can write code what the computer can
understand well I beg to differ but a
lot of fools do there is a lot of code
their argument is oh but it works don't
touch it
and good programmers write code but
humans can understand by power it's it's
important and humans can be different
and we still want a lot of humans to
understand it so what does this do it's
a tiny bit of code and y'all experienced
developers and someone who really cares
about your craft otherwise you wouldn't
be here no how about this
this is ballin with differences variable
names you can't make this out this is
really hard right and this is really
easy you need to know a very vague idea
you need to have a very vague idea about
Volans current to guess but this is what
it is
and this is incredibly powerful this is
even more powerful when you are getting
up to speed
on on a codebase because that gives you
having good names gives you a way to
talk to users to the clients to people
who request different features to your
product owner it's important to speak
the same language the code has to speak
the same language as the product and as
what's being requested what should be
happening so you could figure out the
ball in the example if you spent a lot
time playing this fed but why would we
want you
it could be fun but it's not really
productive sorek so back to Toyota's
away from bukkake
so absolute logic can be obscured and
it's it can be obscured by stuff that's
misleading it's also can be obscured by
stuff that's clever for a while clever
was a good word we kind of moved away
from the connotation that clever is good
clever it became bad we don't want jumps
we don't want hidden decision points if
we can get away from side effects we
should this is an interview moment what
does this method do it calculates
temperature but the problem is
oops sorry it calculates temperature but
what does it return you don't know if
you have code like this don't touch it
and don't write anymore you have to pick
your priorities I'm not suggesting you
go and fix everything that looks like
this but if this code is life as in it's
been written you don't want it to exist
this is a recipe for breaking stuff to
make logic visible one of the important
points that we want to make is you want
to write a kajita slava love abstraction
keep the scope level reason because
should to make reason the code easier
you should be able to read line by line
without changing the level how you're
thinking about the program I'm going to
show an example you want to have items
that I similar in scope next to each
other and items with a different than
scope in different like places so here
is it such now looking for tickets and
when we're looking for
cheapest tickets there is some sort in
the middle that creates creates an array
sorted and returns a response return
from that method there is a different
level of abstractions here there is a
method up there that has a fairly
different function find me tickets of
particular kind and there is a method
here but also finds tickets based on
critical objectives but in the middle we
have technical details that implements
sorry it happened to be a bubble story
but it can be anything it can be a real
sort and when it'll take a couple of
pages besides the point that you
shouldn't very implement some sort keep
this at the Dylan with tickets method
level and put your implementation
separately that way if you want to fix
how implementation is done you can focus
on this particular implementation but if
you are looking for the narrative of
what happens what will speak best ticket
method returns you can focus on that and
find the proper find the proper of
approach at the higher level it's
I actually find that the hard argument
to make because people like technical
details
people like implementing algorithms when
they can and it's once you start doing
this you notice that you have a
gazillion so it functions in different
places
dozens of methods but calculate time in
a different way based on your product
because it's more fun to write it when
to find something that it already exists
but if you start creating a separate
method it becomes easier to find them
and to put them together and to avoid
duplication so this is not just this is
not just easier to read it leads to
reduce and it leads to reducing the size
of your codebase reducing duplication of
the codebase and this is more testable
because you can test these pieces
separately so what abstraction means is
a confusion point action is not about
being vague it it's about being precise
just thinking of this at the certain
scope level this is this is another
piece of sample code from some tutorial
we are teaching people to write code
like this and they do and we do this is
full of technical details this is a
screen full but actually what happens is
you create a session by starting a
transaction when you do some query and
the new clothes separate your logic from
technical details of how you interface
changes that might actually free you to
change the underlying library later it
may not because well I bring may dictate
how these things run but this definitely
needs to easier reading and better
understanding of what's happening okay
and complexity alright simple code
okay just a few I willing to admit it
and the rest of Europe right really hard
code they all right at the level to
which we get used to right the very few
of us struggle day-to-day with every
line the right we get used to we get we
learn to a point where we are
comfortable at the level of complexity
we are and it becomes harder to explain
it to someone who doesn't haven't had
this experience why what we do is easy
not really that hard most of the time
and that really hampers learning and
that leads to poor readability and that
leads to poor transition code from team
to team but it's do a lot of box so
cleverness is the enemy the very simple
thing if you can limit nestin please do
if van is scary enough animal to not
create multiple levels of that
unfortunately what happens a lot
top-down control flow how easy is that
it's there are go twos but there are
also jumps there are different
philosophers about is it okay to exit
from the middle of a section of a method
maybe it depends on your team
understanding if all of your code base
exits at the bottom of method and
someone decides to start writing
something on the side but jumps out from
four different points that might create
a problem because people will not read
all the way down at the same time if you
do jump as soon as you are done maybe
it's okay if your team is expecting this
and that's fine and do one thing at a
time which happens to be an
object-oriented principle basic
principle do one thing at a time the
code what we write gets more complex
with every year simply because of the
nature of what we do once it's written
it's fair there is no need to rewrite it
or there shouldn't be any need to
rewrite it so the stuff
but people worked on 10 years ago was
simpler than what we do today the stuff
that all these smart people that I'm
quoting here worked on was so much
simpler than what we do today be simply
because we worked 50 years ago so they
figured all this stuff because it was
complex for that time working on more
complex things we just know how to
handle complexity better this is not a
real quote this is a great chain that's
attributed to Albert Einstein but no one
actually heard it heard of people who
said he said that but it makes a lot of
sense make things as simple as possible
but not simpler it's a great quote but
it's terrible advice how do you know if
you've made it as simple as possible
okay
what can be simpler than magic values
you're just hard coding what's fair and
this is not a new idea this has existed
since they're a long time ago JPEG
begins with particular hard-coded values
jiff speak begin with hard-coded values
Java class files zip files you name it
everything is differentiated by
beginning sequence this is a really bad
idea first we had all well security box
but you can engineer to in get with
system to interpret recode coming in
differently and this leads to cut and
paste huge I've worked on code bases but
tried to read different kinds of streams
but this was rampant everything had been
cut and pasted and we didn't know what
was broken and what wasn't until
somebody started complaining from a
different format so rather than using
magic values use named constants simple
as that it's not the most sophisticated
advice you are going to hear it was
conference just know this is too far so
having a named constant makes a huge
difference when you are invited someone
else
to participate in your code base average
a new person varied someone coming from
a different team or your person of your
activity in India in Russia in Thailand
in rural America I don't know I come
from rural America so that's at
control-flow I worked with architects
who loved those diagrams and I think the
main the main reason we exist is to show
how important a person how smart and
important the person who created them is
they don't communicate anything a point
of code and the point of architecture is
to communicate knowledge about what you
are building this doesn't this
communicates confusion so simplify the
control flow including in this diagram
there is no direction of control flow
even though this is not code you can
express it in code you can really you
can try to read it and get confused so
object-oriented paradigm gives us a lot
of principles to write better code the
stuff we inherited with the stuff
inherited from before object-oriented is
Mustafa we want to get away from go twos
are from way 80s and before that's that
the IFS
still exists they they still there if
you can't get rid of them we should
guard statements is a very simple
pattern but it's not used enough
everyone knows what girl statements are
yes check something and then get out and
you don't get the first one is a good
statement if it doesn't fit the
constraints of this method get out you
don't need to read anymore or
okay so and top-down flow but I fell
inside of get out don't finish the
method that's okay to have multiple
return points so again this is real this
is hard to read the code on the next
page does exactly the same thing right
couple of methods pulled out
sheera lines more white space and a lot
less headache but going from here to
where requires tests and this is hard to
test so in addition to everything else
to not being readable it's it's also
error-prone and it's not testable this
is more testable because work happens in
separate in separate methods and you can
test three separate eats without else
it's fairly easy it's a fairly small
number you may be able to break it down
some more okay and then the most
complicated question we have with teams
depending on which platform you come
from there is there is complicated stuff
when we just come with some complicated
stuff there for C sharp it's yield
return who uses fat who knows what it is
and uses fat okay
lots of hands okay this is a dotnet
conference a lot of people do simple
c-sharp and don't know what you'll
return is they try not to teach it in
fact we try to avoid to recommend not
using it if clients are hiring
developers at a lower salary range and
it's visible in out parameters are
really complicated this is how people
make mistakes this is in our parameters
the side-effects basically don't use
them it it's a lot easier to write to
jam everything into a single function by
using in our parameters when to break
down the code it seems easier but it's
harder to deal with it's harder to test
reflection people in Java love
reflection it
it makes us feel clever again
besides being slow and error-prone don't
do it because we person who is coming
after you might not have the same
masters or PhD as you have don't burden
the client this a product that's not
maintainable fred's
if I seen you Fred in in the codebase I
know it's bad right it's ever bad or old
there are better ways to manage Fred's
and a lot of the time there there is no
reason to deal with multi-threading at a
developer level there are containers for
that most of us stuff ideal this is just
not not really faster code but should be
running on a container if it already
doesn't some people do Fred's even in
the container very it's expressly
prohibited so this is the theory how all
this nice supposed to work the picture
supposed to illustrate multi-threading
all the dogs lined up doing their thing
simultaneously perfectly lined and what
happens really not quite so nice and you
can debug multi Friday even if you
wanted here I wasn't in an earlier talk
today and yes how many times does it
have to work correctly to know that it's
right answer to that there is there is
no answer it can run correctly as long
as you know but it may still break in
the future you can reason about it
hopefully but you may be wrong to you
there is no way to test for this okay
and how am i doing on time
okay great thank you and the final is
architecture a conversation we have all
the time can I put this extra parameters
if we get this extra thing if the
clients want us to go in this direction
can I put this extra flexibility in
people want to do this sometimes we ask
sometimes we don't ask sometimes we find
this extra flexibility built in I'm
going to build this visitor pattern just
in case you might want to do this or
let's use a message bus we don't really
have the case for it just yet but
hopefully we will well you're putting a
big investment not a one-time investment
but something you're going to carry
forward in in terms of more complexity
more code more work to maintain more box
to deal with because extra lines of code
equal more possibility for bugs
based on the guess as far as I can tell
developers are pretty bad about guessing
which way clients will want to go or
users still want to go
most of extra complexity but I've seen
builds on the future didn't pan out and
I'm talking 90 plus percent yes we are
going to need more flexibility but not
in the way we predicted
so don't build it just yet at the same
time the reich's exceptions to this case
a colleague with which we discussed the
stock at with time of its creation that
we talked about good code has worked on
a project but changed three different
databases by ripping out with direct
connection to a database layer but never
developed its own interface layer so we
changed databases three times we've
rewritten their entire access three
times I guess after the first or maybe
second time it made sense to create
their own database access layer so that
we did wouldn't have to do we entirety
of it never change database but of
course we said we are not going to need
this
not going to happen they'll stick with
us sequel star or what have you so rely
on your experience your mileage will
vary if you want something if you want
extra flexibility you may not be right
but by the time you're changing that
second or third time you probably do
want to put in extra work it's a
balancing act extra complexity is there
sometimes for a reason sometimes not and
with that thought this is it thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>