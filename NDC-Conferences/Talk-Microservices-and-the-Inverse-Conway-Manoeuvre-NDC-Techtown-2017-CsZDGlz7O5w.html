<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Talk: Microservices and the Inverse Conway Manoeuvre - NDC Techtown 2017 | Coder Coacher - Coaching Coders</title><meta content="Talk: Microservices and the Inverse Conway Manoeuvre - NDC Techtown 2017 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Talk: Microservices and the Inverse Conway Manoeuvre - NDC Techtown 2017</b></h2><h5 class="post__date">2017-11-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/CsZDGlz7O5w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay I guess I'll uh I'll guess I'll
start
clock although it says nine o'clock and
my laptop being as you can hear British
I've worked out why NDC now give you
these really nice warm sweatshirts I've
not been to Norway in their fall before
and it was 25 degrees when I left London
but not today so I'm thankful I normally
just put those in in for my you know in
for painting you know but no useful
thank you all very much for coming um I
only be talking about this subject
microservices and the inverse Conway
maneuver this might be quite familiar to
some of you but I'm gonna hurt the
unpack in quite a lot of detail what I
think this means and what it means for
software software development and for
how we structure our teams so whilst
much of this conference is about
hello level this is 10,000 foot this is
a little bit higher taking a bit of a
higher view on the sort of job we do as
developers and the organizations in
which we work and the teams in which we
work so this I guess is my um my
hypothesis essentially that software
boundaries are isomorphic with
organizational or team boundaries and
because of this because of this
isomorphism we can reason about
properties characteristics of our
software by reasoning about its
properties of our teams and I'll talk
about which sort of properties but
essentially things like time and
distance of how far our teams away from
are away from one another effect
actually how we write our software this
was controversial has been controversial
for a number of years but I think we've
come to a place now where we kind of
understand that this is this is a thing
I shouldn't introduce myself first I
guess so I'm I work for a company called
thought works who's come across us
before it's a couple of people in the
room okay so that's good I'll explain
here we are up until last week we were a
privately held bespoke software
development company we do all forms of
software development normally
people don't talk about using our
services because we're normally called
in when things are on fire basically but
whether that's very low-level stuff so a
firmware for robots in warehouses doing
picking up to your more basic web
ecommerce e stuff we pretty much do all
of it so we've been going about 25 years
now there's about 5,000 of us globally
I've been at the organization for about
12 years I still love it we'll see what
happens with the acquisition we're now
held by private a private equity firm so
uh mmm we'll see if you've been through
an acquisition before I'm sure you'll
understand our nervousness anyway so
that's who I work for
I'm a consultant then so you know whoo
consultants everyone loves our
consultant right if you haven't heard of
us you might have heard of some of the
things we've done over the years so
we're really passionate about many
things diversity but also sharing
information sharing what we've learnt on
our projects so we were a very fairly
pragmatic Bunch
and we like to share what we do so these
books are all published by either
current or ex thought workers which is
what we call ourselves and obviously
some of these are kind of our canonical
in the realm of what we do so if you're
gonna be doing messaging that's the
canonical book and messaging building
microservices a canonical book on how to
design your code through testing and a
bunch of open source projects including
arguably the first continuous
integration server cruise control that's
us this is me I had the full fortune I
think it's good fortune to go and hang
out for a week martin fowler's how to
write this article so we didn't the name
existed before we wrote this article but
if you look at the Google Trends you
look at the Google Trends results for
micro services it sort of takes off
after we wrote this so we've sort of put
together the first definition of what a
microservices so on the one hand awesome
on the other hand we're really sorry
about that to this
it's now a multi-billion dollar industry
you can buy microservices by the handful
you know by five and get five free that
sort of thing from IBM so so I'll be
talking about some of these
characteristics and I'll come to that in
a man in a moment but first I'm going to
define or rather state in brief form
what Conway's law is so this is what
Melvin Conway said back in 1968 he said
organizations which design systems are
constrained to produce designs which are
which are copies of the communication
structures of those organizations this
is the isomorphism piece right it's an
information theory thing it's a
bandwidth thing it's a coupling thing
the higher the bandwidth between people
in an organization essentially the more
tightly coupled the software that they
are creating is going to be I think
about that because that's quite profound
actually it's a quite a profound
statement we can reason about the
coupling of our software the cohesion of
our software based on bandwidth of
communication between our teams and the
locality of where they sit interesting
stuff he said this back in 1968 it was
initially the paper he wrote was
initially rejected by the Harvard
Business Review for being unproven and
more research requires I believe was the
you know the exact sort of phrase that
was used so because of that and because
it's 1968 I've got this feeling in my
head of Melvin Conway so sitting there
laughing at us at this point right
because this has been decades since he
came up with this with his law so I
think of him as like one of these
Muppets in in the Muppet Show you know
they're sitting on the balcony laughing
at us fast forward a couple of decades
and MIT and HBR put together another
piece of research exploring whether this
is an actual effect an actual thing or
not they called it the snappily titled
exploring the duality between products
and organizational architectures a test
of the mirroring hypothesis
and they looked at hundreds of
organizations hundreds of bits of
software ranging from very large
enterprises closed-source
to lots of open-source pieces of
software so that was the sort of scope
of the research they did and essentially
they found what I've called out here
comes a bit unclear so if I'll unpack
this a bit what they found is tightly
coupled organisations design becomes
more tightly coupled but with loosely
coupled organizations architecture is
more modular I think this is again this
is this is interesting it's reinforcing
what Marvin Conway said in 1968 that
depending on the bandwidth between teams
depending on locality of teams where you
are in time and space essentially
your software by either become more
modular or less modular do we want
modular software
I hear who who would like to have
modular software right who would like to
have well cohesive software is another
way of stating that decoupled software
had like I'd like to have some my
software to be decoupled so that I can
change my software independently of
other teams other bits of software in
the organization which is a fundamental
you know that's actually pretty much
that a statement of the single
responsibility principle the single
responsibility principle says software
should have a single reason to change so
these are the characteristics Martin and
myself called act when we wrote about
microservices define them most people
look at I might just see if this see if
this works
yeah and then we get gasps from the
audience the first time people see that
how cool is that most people sees on
componentization buy services and say
well this is just service-oriented
architecture but for the Millennials
right this is just a woke version of
service-oriented architecture using the
my 16 year old daughter's slang new but
actually we call that many of these
these characteristics and what we said
of state is the organizations that we
were seeing being successful with micro
services architecture and actually this
this ranges from the net
she's through to the Guardian newspaper
to the Twitter's but also actually I was
in iron Dovan when was it a few months
ago teaching a class on micro services
to a bunch of embedded suffer developers
and actually the thinking resonated very
much for them as well that's not my
world I should point this out I'm that
bit higher level than that they pick up
on people pick up on componentization
via services but actually all of these
were what the organizations that were
successful we're doing they were doing
all of these things and the things I'm
gonna talk about today really focus
around to this idea of organization
around business capabilities or business
functions I'll define what they are in a
moment and how we actually build our
project teams or rather product teams in
the new world I should answer a question
I mentioned service-oriented
architecture but for Millennials how big
are they all right and if a traditional
service this is how I explained it to
our salespeople when they're trying to
sell the five of them and then you know
get site free in that if a normal
service is about this big
then our micro services about that big
that's all clear right you can all
answer the question how big should a
micro service be yes actually there's a
good how long is a rope there's a really
good it's about three foot so do you
know this story about Grace Hopper this
is a lovely story so Admiral Grace
Hopper was one of the shooters which I
think she did she invented the shoe
broke the first compiler right she was a
naval officer in in the u.s. amazing
woman amazing woman but she took to
carrying a three-foot bit of a bit of
rope around because she'd go into all
these meetings with Admirals with other
Admirals and other high you know Chiefs
in the in the in in the Navy was just at
the point where radio communication was
able to essentially span the world so
they could distribute all as globally to
all of their warships around that around
the world but of course they couldn't
quite grasp why when I give an order now
it takes some time for someone in the
South Pacific to actually pick up the
order right
they couldn't grasp why it's not
completely instantaneous so she took to
carrying a 3-foot piece of
around which used to say this is anatomy
this is a nanosecond rather so she
described nanoseconds in terms of a
three-foot bit of string that she and
she would say if it's gonna take you
know so long to get to the other side of
the world and this is how far light
travels in and nanoseconds you can work
out why you've got a delay right because
you need lots of these three-foot pieces
of string to get to the Pacific which I
thought was a real art thing so anyway
that's a that's how long in
microservices is or something how long a
piece of string is three foot so the
promise of micro-services right why do
organizations try to build
micro-services or adopt this technology
this style of architecture this is this
is the quote from Adrian Cockroft who
when he was VP engineering at Netflix
and that is now I think VP for AWS VP
engineering for Amazon Web Services so
he's a fairly serious individual and he
described their adoption as because they
wanted to go as fast as possible so this
is the promise right we want to build
stuff that's cheap to replace we want to
be able to scale things quickly once be
resilient in the face of imperfect
networks yeah the internet is not a
five-nines fabric after all we all know
this unless you're google in which case
maybe it is we should be able to go as
fast as possible so why is it that many
organizations can't I'm gonna unpack
that now so this is a sort of
amalgamation of many companies that I've
been in over the years but it's a fairly
accurate picture of many of the places I
go so this is kind of how people tend to
organize right we organize into these
functional role based or technology
based silos and we do this for various
reasons mainly cost efficiency it feels
as if we should organize all our
developers together or architects
together our project managers together
I'll test this together to create
centers of excellence for cost
efficiency purposes all right we have
these different silos
now I'm stepping back a bit one of the
things I think every software developer
at one point likes to build
visualization tools to understand what
their code is doing so this is an
example of
I built it's a very simple one it's
looking at the spring if you know the
spring framework this is the
dependencies of the spring framework all
the separate libraries plotted on
something called a chord diagram
hierarchically edged bundled a chord
diagram where you've got the links
denotes dependencies efferent or
afferent couplings of each of the
libraries right it's a very there's a
pretty typical visualization techniques
showing what things depend on what other
things now I'd have thought when I was
doing this we can do the same thing for
organizations right isomorphic teams
software so if you do that for these
role-based silos what do you get you get
this dependency map this chord diagram
of teams depending on other teams maybe
this is you think about in your own
organization in your own organizations
you could do something similar and you
can imagine you know what happens here
where sales get really excited or
there's this new feature we need to
build new feature needs to get develop
because this customer Orr has asked for
it ok well I'll go to the project
management office I brought my business
case I'll get it approved I'll go to the
PMO I'd say I need a project I've got a
approved business case for a million
bucks so whatever it is and the PMO say
okay well we'll schedule that for a
project at some point we'll get some
developers together so the team of
developers together and then they hand
the requirements to the architect the
architects design do some design then
they hand it over to the developers the
developers do some development and then
say here we might need to change the
designs because the laws of physics or
something they hand it back to the
architects and then it goes back to the
developers and then to the testers and
so on it's a fairly standard approach to
run in projects in many organizations
that I see as you can see this work
essentially what we're in the
implication here is work is flowing work
items are flowing around this chord
diagram across these cords I mean
there's another sort of approach to
doing this this is a fairly standard
sort of way of plotting how work flows
in an organization I like this because
you've bring rolls down here we've got
time on the x-axis that's where work is
done
all right that's development
that's those poor poor people just
typing you know the monkeys who do the
typing right development well this is
another way of plotting this linearly if
you've come across a value stream map
before but hands up if you've seen a
value stream map okay I'll explain this
thing because these are these I find
this is the most useful way of
understanding how work works in
organizations so what a value stream map
shows you use how long it takes to get
stuff done so if you imagine a single
requirement starting this end an idea
what this this is a real one from a real
company we've redacted obviously
requirement hits a team it waits in a
queue for two days until someone's free
to pick it up for three days someone
doesn't design on it or actually in this
case it was development so write some
code and then waits in another queue for
ten days before a tester picks it up one
and a half days of testing and then sits
in a queue for 30 days waiting full
deployment right and then finally it's
deployed and we're inning money it's
essentially what a value stream map says
we have wait times on the bottom we have
value adding activities on the top so if
we're looking at the length of time it
actually takes to get something done a
single requirement going through this
software Department process we've got
what three four and a half five days of
value-adding activity going on but it
actually takes five plus seven 17 or 47
or something days 47 days to actually
get into production billing us money now
there is a concept from lean
manufacturing called the cost of delay
and the cost of delay is defined as the
amount waits a bit like what you could
have won right if you'd chosen a wrong
at the right answer in a quiz it's the
amount of money you could have made if
your software or if your product was on
the market earlier so in the best case
if you lined all of this up you could
have had your product on the market
earning money in five days and you but
you've got 42 days of delay where you
could have been making money you know if
it was $10,000 per day
you've lost a lot of money if you've got
this software deparment process this is
why I think about software development
often is a bit like snakes and ladders
right you know you kind of one step
forward two steps back
you're waiting for stuff waiting for
stuff so going back to this diagram I
mentioned this sort of represents the
flow of work around an organization
between the different teams in an
organization or groups of people
actually what each of these cords
represents really is at least one hue
hue in their sense of computer science
cue alright a first-in first-out
or heat work you what's interesting
about hues is and if you haven't picked
up this book this is probably I would
say the most important book on sort of
what what I think we do written in the
last 20 years even it's not even about
software it's about product engineering
in this book Don Reinertsen who's very
interesting chap he's an X NATO
submarine commander who became a
management consultant but he talks about
the effect of hues in systems and this
is true in software systems this is true
for operating systems it's inspired by
OS design and network design actually
but it's also true in how we structure
ourselves when you have hues in front of
you you get these effects and they're
not good effects and they're also not
necessarily intuitive why you get these
effects so cues create longer cycle time
it takes work longer to go from the
bottom of a deep hue to the top and then
to be completed than it does if there's
no hue that's pretty obvious you think
right so deep hues long fuse they
increase the amount of time it's going
to take to get stuff done
they increase the risk that something's
going to change while the work is
sitting in EQ so if I'm a developer and
there's a big big human front of me of a
hundred items and it's going to take me
a couple of days to do each one by the
time I get to the last item the
requirements might have changed
requiring me to hand that back to
someone else upstream to rework the
requirements they increase the risk of
what we do then they increase the risk
of bill
the wrong thing they also introduced
variability into our processes
essentially as Q's shrink and grow they
mean we can't predict how long it's
going to take with any accuracy
essentially it blows it blows we get the
standard deviation essentially for the
variability of our system is massive in
a system with growing and shrinking hues
we also get more overhead alright the
more hues we have the more we have to
manage those cues which means the more
meetings we have to have which means the
more we have to more time we have to
spend in meeting rooms talking about
stuff that's kind of interesting effect
if you think of it of cute we also have
lower quality and less motivated people
it's much more motivating for me as a
software developer if I see my work in
production making money saving lives or
whatever it is in a day or two days then
if I have to wait six months for the
next deployment because there's a queue
in front of deployment much more
motivating so you have to have a quote
by Peter Drucker in all of these any
presentation about this sort of stuff
there's nothing so useless as doing
efficiently that which should not be
done at all I'll give you an example of
what I mean by this and some of the
effects of queues in our system when I
say queues I mean every time you have to
raise a JIRA ticket to get a new piece
of hardware every time you have to raise
a JIRA ticket to get something done
somewhere else that's the sort of
physical it's sort of an instantiation
of queueing really I said I'd explain
what a capability was so this is my
definition of a business capability
capability is a combination of people
processes systems that provide value to
customers and this could be internal
value so internal customers or it could
be external customers and fun crucially
it's the what of what we do the what of
what our business does not how our
business does it is not the process our
business follows to get something done
but
the big stable chunks that our business
has to do if I'm in retail I have to
sell some stuff to our customers
selling to our customers is a business
capability I might choose to sell stuff
in varying different ways I might choose
to do it through a mobile channel I
might choose to do it through a bricks
and mortar store but I'm still selling
stuff and if I'm not selling stuff I'm
probably not a retailer anymore
similarly with delivering things I have
to get the goods to my customers that
might be fetching them from the stock
for fetching them from stock in a store
and handing them over it might be
scheduling a delivery for a truck to
turn up it might be a drone in the
future the processes by which you
implement capabilities change but the
fundamental building blocks of
organizations stay the same give you
example from thought works I'll show our
model later but you know in thought
works for a consultancy we have a
staffing function and one of the core
things we have to do core capability is
getting the people with the right skills
onto the right projects the right to
build the right products all right
that's always going to be the case
there's never going to be a case when we
don't have to do that we might do it in
the future through machine learning but
we're still going to have that staffing
capability financed selling stuff stable
parts of our business this is what our
capability is so going back to organized
around business capabilities which I had
I'm doing it that way it should be going
reason that way because you're reading
it that way organized around business
capabilities this is what I mean
structuring our organizations around
these things these stable parts of our
business
its kind of makes sense in some senses
right because what what are these
properties we want from software we want
the software to be decoupled and what
our software to be cohesive our business
capabilities tend to be decoupled and
cohesive so this is the sort of highest
level organizing principle if you like
the problem is when you drill down into
these you start to see issues you just
drill down into different levels of
organizational structure so this is an
example from a retailer that I worked
with actually an online retailer selling
train tickets they had this really nice
split by the way this is a
obviously a message queue this is
official diagram a diagrammatic stuff
it's not really
they had a capability separated by
actually by two oceans one or one
capability in in in London one
capability in India one was building the
capability for delivering stuff one was
building the capability for sewing stuff
and this is kind of cool but you know
every now and again they start a project
to work on these things and a group of
people would pop into the code and then
they pop out again they pop into the
code as another project started and pop
out again and they pop into the code and
what they ended up with is this really
nicely there's nice decoupling across
these capabilities essentially like a
messaging but within the capabilities
they had this really tightly coupled
software and this was a function of
their team organization on this project
level team organization we start a group
of people together they pop into the
codebase and then pop out again no one
has taken ownership no one is actually
understanding or having ownership for
long-lived parts of this code you end up
with this sort of tight coupling
internally this manifests in a number of
ways I don't know if you've seen this
come across this idea of hardening hey
we're gonna be agile and kind of cool
right and we'll do these iterations or
sprints or whatever and then we'll have
to stop and then we'll have to do
regression testing we'll have to do
performance testing for six weeks and
we'll have to do deployment testing for
six weeks this is like all the all the
awkwardness and sort of having to go as
quickly as possible of agile with the
running into the waterfall brick this
brick wall this is kind of scrum or fall
if you like that's the description
another sort of effect of this I've seen
is fan in to end-to-end testing this is
where we notice our software
you know whilst we can work on it
independently has to integrates with our
wider system we can't actually deploy or
test things really in isolation all the
way through into production we have to
fan in to do some integration testing so
we have this fan into end-to-end tests
which means where you've got another
talk about
but you end up with all sorts of issues
with it this is the whole problem when
you have in an organization where you
have I need another integration
environment well you can't because
they're too expensive
ok well we'll have to lock this team
using the integration environment for
this week and then the week after this
team will use the integration
environment and so on and so on let's
finish this the effects of this fan in
and actually gets worse if you think
about it if you're building software
composed of micro services smaller
components because you get more fanon
unless you think about how to break this
stuff up so it's turn into end-to-end
tests
and then there's this final effect which
is having to deploy everything all at
once which is inherently risky because
we end up with a queue so we'll do some
nice iterative process and then
everything will back up and back up and
back up and build up in a queue and
build up in a queue and build up in a
queue the more change you have in your
codebase ready to go live the more risky
it is this is fundamentally why
continuous delivery continuous
deployment talks about the optimum being
the smallest unit that you can push all
the way through into production because
less risky that way so we started
talking about this is the distributed
and monolith you know we've broken stuff
up into smaller bits but they're still
actually fundamentally deployment
coupled it's distributed normally having
common ways back he's laughing at us
again I think so what might did look
like takes a sip of coffee does anyone
recognize this I appreciate I am in
Scandinavia and so asking you questions
at this time in the morning is maybe not
you know it may be a little
uncomfortable so maybe I'll stop this
works much better in the US this is the
Ebola virus all right this is what it
looks like and this is a lady called
Pauline cafe key so in the bola crisis
in Africa few years ago three I think
sort of what we call them territorial
army but three sort of part-time army
personnel who were medics went out from
the UK to Africa to help out actually
same incident he thought works built the
token of simplicity from the keynote
earlier thought wigs actually built the
the interface for the earthly a hardened
iPad that they they took in the redzone
now that's a really interesting UX
problem right how'd you get that stuff
to work when people are wearing three
layers of gloves the red zone is like in
you know it's the treatment bit where
people have Ebola then you go right into
the green zone going through
decontamination
so how do you build software
people with you know 15 layers of
clothing on and kind of masks its the
interesting problem anyway unless by the
by Pauline Catholic Lee was one of the
nurses who went out from the UK and when
she came back she could she had
contracted Ebola unfortunately this is
her after treatment so she survived
which is great this is the team that
treated her at the Royal Free Hospital
in London so this is the infectious
diseases unit they sort of I guess are
actually the UK's sort of best
specialist infectious diseases unit this
is the team this is the consultant
Michael Jacobs and I was reading about
listener in a newspaper I've been
thinking about Conway's law an
organisation's thinking well how is it
in hospitals when they're treating
infectious diseases especially a disease
such as Ebola well you have to treat it
you know you have to make decisions
incredibly quickly and get stuff done
incredibly quickly because you can only
support the patient you can't actually
really cure the patient how does
decision-making happen because if you
think about a hospital I would think the
different functional groups or areas
within a hospital pharmacy finance
microbiology etc you think they'd have
the same issues as we do in software
Department right why you've got all
these cues and I need to get a blood
test final it'll go into the blood test
queue and then the people doing blood
tests work through the items on the
blood test list and in their queue how
does that work for infectious diseases
when you have to make decisions like
this and it turns out it doesn't work
like that for infectious diseases so
back it up a bit this is the list of all
the people it's an interesting fact you
only 1/3 of these people are canis
clinicians these are all the people
involved in treatment of Pauline cavity
a third of these people are doctors and
nurses factious disease specialists the
thin end of the wedge is called in the
military you might have heard that
two-thirds of the people involved our
support staff cleaners facilities
management porters
turns out there's a great quote from
Michael Jacobs if you imagine all the
functions a hospital has to have not
only the clinicians they all have to be
involved it turns out when you treat
infectious diseases when you try to do
something when you optimize for speed
for rate of change you don't organize in
these functional groups you actually get
everyone into one place you create a
capability and put everyone who needs to
do or has an effect on treatment in this
case into that one place this is how we
optimize for fast decision making
agility idea of cross-functional teams
with a single purpose focused entirely
on patient outcome in the case of
infectious diseases might sound familiar
so it's interesting right because this
is some stats from a long-running
thought which project we've collected
data over 18 months in Australia big
program of work is about a hundred
people on this every time work leaves
your team go somewhere else it increases
the length of time it takes you to do to
complete a piece of work by an order of
magnitude I'll let that sink in every
time you have to ask someone to do
something for you or a requirement goes
to another team to have a little bit of
work done on it it increases the length
of time by an order of magnitude so this
is from beta this is from data collected
over 18 months cars that leave the team
cycle which is you get done in 23 days
concert don't leave on average two days
that's the effect of work going outside
your teams that's why in a bowler
treatment work doesn't leave the team
work stays within the team because we
want the two days we don't 123 days if
you're treating Ebola
similarly with what we do if we're
optimizing for adaptability for agility
for minimizing the cost of delay
maximizing the amount of money we can
make or saving lives or whatever it is
we're optimizing for
if we could get work done within teams
that's the way to go and it's not just
it's not just infectious diseases my
sister is a trauma nurse in ER this is
exactly what happens in trauma teams in
this is exactly what happens in Formula
One teams this is exactly what happens
for for me for the military these days I
think you still most I think most of you
have probably served in the military in
Norway have you do you still have that
thing where you have to yeah I mean this
is the nato idea of a reinforced battle
group you have everything you need in
one place you don't have to have lots of
different the capabilities separated by
time and space sounds as if this is all
sort of coming together a bit what does
it look like for software then so you've
got this set of functional base roles
sorry silos what happens if we merge
some of these together into these
cross-functional teams organized around
these stable lines of business business
functions that's the idea so I was at an
insurance company some years ago it's
called compare the market in the UK
they're very famous because they have
these meerkats and they're everyone
television and they have like Arnold
Schwarzenegger doing adverts for them
and all sorts of stuff that's who that's
how it was and they had this big
monolithic application big database and
they had all their different lines of
business in the same application so
their home insurance pet insurance etc
life insurance and we recommended for
reasons that they separate these things
out into different lines of business
different capabilities that's what they
did they separated these things act at
the data with it and had these separate
deployable applications in these
separate lines of business I'm not
saying this was easy took a long time
why it's if like I think they're still
are they're still on the journey and
they started it in May 2011 so you know
when people say can I have a quick fix
for breaking up this big tangled piece
of legacy software the answer is no in
my experience it takes time but they
said we separated that into these lines
of business and put cross-functional
teams into these lines of business to
develop software for them and the nice
thing here is we're started to take
advantage of this property this common
ways law property
all right so each of these lines of
business because we've got single teams
focused on them whether this team is not
working on pet insurance it's just
working on home insurance naturally over
time these teams and therefore the
software they're building becomes
decoupled so we have cross-cutting
concerns as well so you know this idea
of cross-functional teams from agile and
software development it's it's it's very
very useful that's how you get stuff
done quickly but also sitting sitting
those cross-functional teams are over
long-lived stable parts of your business
reinforces Conway's law awesome
Melvin Conway's going no maybe they're
starting to understand what I was
talking about now right okay can we go
further though right because we've
reduced some of the chords but not all
of them come you go further because he's
still really laughing at us I think we
can write we can play the continuous
delivery card right DevOps
that's jazz humble wrote continuous
delivery with Dave Farley we can say
yeah cool Millennials will do DevOps
well build it run it all right so we
start to move some of the other
capabilities we have in internal easing
so some of the other roles we've got
into those teams this is what Amazon
popularized with you build it you run it
and then fix it is the employed food pit
on that that's right
we start to say okay we've got this
Operations Group who are you know who
gets software thrown over the fence to
them what happens if we bring those
that's bring those into our teams and we
have this build it run it sort of teams
well again we're removing these cords
were removing queues from our system
improving our ability to get stuff done
in a more rapid fashion nice and then
you know each of these things you can
deploy independently just build
separately
tested separately et cetera
so we've now got down to this which is a
lot better than it was it's not it's a
lot better than this but can we go
further well I think we can because dr.
Michael Jacobs said all the functions of
hospital have has to have you didn't say
except for facilities and the porters
all right all the functions well what
about the rest of our functions I mean
some of these are stable and
cross-cutting what happens if we put our
salespeople into these teams too what
happens if we put our marketing people
into these teams so have our marketing
people who are responsible for marketing
a product line actually is sitting with
the product teams with that product line
again improves the rate at which we get
stuff done you might have come across
this as this idea this is from Spotify
they talk about squads chapters and
guilds it's a similar idea I'm talking
about now up up the rate I've only got
40 slides that have to say so this is
what we talked about internally is this
idea of how you structure an
organization almost in concentric
circles it's like an onion in some sense
so you have this near the organization
on the outside you then break it up into
market segments big chunks right markets
maybe it's a set of customers are served
by this particular market segment this
is where the art is you then break those
market segments up into value streams
groups of teams delivering stuff for a
particular value stream you then break
those value students value streams up
into individual product teams where each
team owns one or more services coming
back to the isomorphism with software
devant with software architecture and
this is then isomorphic with your
software architecture as I say so each
of these teams are building services or
groups of components or pieces of
software they are structured in a way
that they are decoupled from one another
and as the as you grow at in terms of
concentricity each of those are
structures is also decoupled from one
another
how big well 10 to 20 this is XP extreme
programming style 160 to 200 people I
won't ask the question but this is
Dunbar's number how many social
connections you can hold in your head
greater than the effect of this is if
you've got more than 200 people or less
than 200 pieces less than 200 people
it's the difference between saying hey
hey hey Kate how are the kids and I
think I've seen this person before but
have no idea who really they are you
know it's the kind of human aspect of
relationships in work and multiples
they're off
so these concentric structures built
around these numbers what you set them
this is interesting this is from a piece
of research from Thomas Allen so Thomas
Allen did this in 1977 he's probably
also lot sitting there laughing at us
right but Thomas Allen found a very
interesting fact looking at R&amp;amp;D
departments and have how information
flowed in R&amp;amp;D departments this is what
he found
communication frequency with our
colleagues varies with the inverse
square of distance and the effect is
pretty amazing so after about 8 meters
the chance that you're actually going to
have a serendipitous conversation with a
colleague is vanishingly small on a
weekly basis so what this means is if he
well if you don't like someone sitting
for a long way away from you but you
know if you want people to talk if you
want be able to communicate this is the
bandwidth thing again sit them close
together and potentially have them work
on the same things because Conway's law
this is why and it's not a good idea to
put a library next to the canteen or
right in the middle of the canteen right
you want the library a long way away so
people can go and be quiet and have
quiet time communication varies within
this square of distance so this implies
that we should collocate as much as we
can ok so to take away as you chunk up
from team to Valley Stream to market
segment to organization we can use these
these things to structure ourselves
Conway's law Allen's research Dunbar's
number and fundamentally remember
whenever work leaves your team you can
cost four you will incur the cost I
promised at the start there's this
relationship I think between different
things or properties of teams and
software that we can use to reason about
each of them so I think I need as I say
I need a better name for this I'm not
sure what it is this is actually open
research at the moment that was an
academic conference and people got very
excited about this I'm Way too busy I
think that software system boundaries
are isomorphic with team boundaries and
therefore you can use these two things
you can you can reason about each with
respect to the other one as long as you
structure in this sort of way so what
does that mean it means you can do
different things with respect to testing
with respect to integration patterns
depending on where someone sits that's
an interesting idea right you can
shortcut some decision-making I think
depending on where people sit in
relation to you or which team the ring
so maybe between these sort of additive
groupings or between organizations you
can apply certain patterns I'm going to
car won't go into what the patterns are
you can look them up things like
semantic versioning we might want to
implement some api's between
organizations or between market segments
but we might not bother doing contract
testing right because we might have lots
of people using our API and we don't
want all of them to write contracts for
us I don't want to submit a contract
test for the Google Maps API right
Google don't want me to do that right
but they do want to offer a stable
versions semantic version API between
value streams we might want to do
different things
we might want to use semantic versioning
we might also want to or sorry yeah
implement contract test we might want to
use the torrent reader pattern and but
I'm within teams we might not want to do
these top two we might want to rely on
something called conversational change
hey Bob I'm going to make a change to my
bit of code my to my service do you mind
just making a change to yours as well
and we'll deploy them together without
having to expend fees the time and
therefore money on implementing all
these things so I've got a minute and a
half left according to my slide
this is what four weeks does in this
case right so stable functions we've got
some core services etc thoughts to
finish it's not all about breaking stuff
up into services although that's part of
it how we organize ourselves is
fundamental to how we build software and
write software and how we structure our
teams to deliver that software is
important this is of quote from my
colleague Evan the inverse Conway
maneuver design the organization you
once and the architecture will follow
potentially kicking and screaming that
you get we get signals from Conway's law
so every time we see one of these things
maybe that's a sign that our team is
unstructured optimally and finally
there's a high cost associative is worth
leaving your team final final last word
I got this email out of the blue why not
hello James I've recently come upon your
presentations go faster this is the
previous version of this presentation
and how I finally start worrying I'm
going to love Conway's law no I'm not
sitting in the balcony laughing I'm
sitting at my computer learning for me
and your depiction of me as a Muppets
figure helps to keep me humble keep up
the good work from Melvin Conway so this
is the official stamp from Melvin Conway
that's all I got for you thanks very
much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>