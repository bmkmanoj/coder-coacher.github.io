<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Debugging Your Website with Fiddler and Chrome Developer Tools - Robert Boedigheimer | Coder Coacher - Coaching Coders</title><meta content="Debugging Your Website with Fiddler and Chrome Developer Tools - Robert Boedigheimer - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Debugging Your Website with Fiddler and Chrome Developer Tools - Robert Boedigheimer</b></h2><h5 class="post__date">2016-10-25</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/b0GUcL5JMOo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right I think we'll get started
we're going to talk about debugging your
website with fiddler and chrome
developer tools my name is Robert
bodenheimer I have the slides and the
code available and I have a link on the
last slide so you can see where to get
the stuff little bit about myself I'm a
web developer been doing since about
1995 we were an early adopter for net
and my full-time job I work on an
e-commerce site and I get to debug a lot
so this is some of the things that we've
learned through debugging our production
website that are useful with using
fiddler and chrome developer tools I'm a
Pluralsight author I've got my email my
Twitter and my blog there if you want to
reach out afterwards I'll show that
again at the end so we're going to talk
about today we're going to focus on HTTP
which is the protocol used to talk
between the browser and the server when
we're doing our debugging I gave you a
link to both of the specs HTTP 1.1 has
been out for a long time HTTP 2 got
standardized last May I have a talk
actually after lunch on HTTP 2 if you're
interested in seeing that but the
important thing with HTTP is it's a
request and a response paradigm and it's
got a header and a body so we're going
to look through what that would look
like on the wire so this is a typical
HTTP request and so I like to show this
especially when I'm working with I do a
lot of mentoring with new web developers
I'd like to show them what a request
looks like just that they have an idea
it answers a lot of their questions
about you know do you know how many
colors the client has do you know what
the resolution is things like that that
aren't communicated by default from the
browser to the server but what you'll
see in the first line is it's just
saying I want to get basically the home
page for this conference website in this
case it said I want to use HTTP 1.1
you'll see a lot of other headers so
these are the headers that go into the
request one of them what language I'm
using so if it's a bilingual
multilingual website that's how the
server knows what language the client
wants to receive the content in enlist
the user agent in case you're doing any
user agent sniffing to tailor any of the
content
we switch our e-commerce site to be
responsive about nine months ago and we
haven't done any of that we don't do any
user agent sniffing or anything we're
just doing feature detection but there
are sites that use that and we'll talk
about the accept-encoding and some of
the host stuff a little bit later but
that's the basic request the browser is
going to send up to the server we'll see
what the response looks like the server
said I like HTTP 1.1 it lists out the
status code if you've seen the status
codes at 200 just says everything's ok
404 is a file missing 500 series as a
server error list the day that tells you
what server they're running hackers love
it when you do that so please do that
for them it speeds up their attack
usually has a version number too
so they can just run their automated
tools and if your servers kicking back
that hey I'm running Apache then they
know I'm not going to bother attacking
it with all the is attacks I'm going to
go after the pad saves them a lot of
time so they really appreciate them it's
got explorations on it so I'll talk a
little bit about for performance to do
caching
and a whole bunch of other response
headers then you'll see a blank line and
then you have all the actual HTML
content or whatever content you were
asking for would get sent next so that's
we're going to look at when we look at
the requests and responses so what is
fiddler I I've been doing this
e-commerce site for a long time we would
have issues so years ago I used
Microsoft's net long if you've heard of
net Mon or today a lot of people use
Wireshark which are actually network
monitoring tools they're sitting looking
at your network interface card or your
Whalers adapter and they're basically
taking all that traffic in it was useful
it was the only tool that was really
available then but it's it's a packet
level right I mean I'm seeing individual
packets and trying to reconstruct what
we just saw the request in response not
very fun so what happened was Erik
Lawrence was working at Microsoft I
think he was on the clipart team
customers would order clipart and then
they'd say we can't download the images
we're having problems and he had his
whole team that he was working with to
try to troubleshoot what's going wrong
and they really had no good tool to
figure out and assist customers with why
wasn't this working like it was supposed
to work so unbeli
to me I like guys that do this kind of
stuff he didn't know c-sharp he didn't
know HTTP and he did it in the spare
time and he went and wrote fiddler which
i think is kind of incredible and he
gives it to us all for free so how many
people have used fiddler does have an
idea but so that's also amazing I mean
years ago I've been doing talks about
fiddler for a long time you'd maybe see
one or two hands these days a lot of
people use fiddler so we'll get into
some of the specifics here in a minute
fiddler is actually acquired by telluric
in 2012 so Eric went to work full time
he actually offered to Microsoft and
said I want to do fiddler as my
full-time job we let me do that and they
said no so he took it elsewhere he went
to Tel Iraq with it he's actually a
sense left telluric and he is working
for Google at this point so but that's a
link where you can get fiddler and
download it again it's written in
c-sharp and net that will become
important when I talk about HTTP to this
afternoon but again a nice free tool
available for us the reason I like it
I'm just going to open it and show you
the basics again I'm using fiddler four
I should be yeah so the new URL oh I'm
sorry that that's we can go download it
he fiddler if you go out to fiddler comm
is about violins and such so that's the
only name but it's actually the version
of fiddler when you get out there they
have to or I'm using four is the latest
one using.net so if we go back here so I
started up fiddler and I'm just going to
hit the conference website and again
down the left hand side I'm seeing all
the requests now they're being made
between the browser and the server I
also like to show new web developers
this because it gives them an idea of
it's not just one request between your
browser and the server you have a lot of
things that have to go back and forth to
make this thing work but if I click on
this one and look on the right we'll see
what we saw earlier which is just I can
look at the inspectors I usually just
look at the raw of view but this looks
exactly what I was showing before it's
just what the browser sent up to the
server they happen to be using
compression so I'll take that
and now I can see the headers here again
and I can see all of the content so
that's the basic you know I want to see
what requests were made that's the
basics of how fiddler is going to work
so how does it actually physically work
so I talked about Network monitors like
Wireshark or net Mon actually hook into
your wireless adapter or your network
card and they're intercepting all the
traffic the way that fiddler works is it
sets itself up as a proxy so if you're
familiar with proxy servers you know our
company as a proxy it routes everybody
who wants to get to the Internet through
a single machine the idea with fiddler
is that because it knows browsers
understand how to do a proxy it sets
itself up so that it will be a proxy for
you between your web browser and the
server so what it does today you don't
have all the problems you used to have
with playing around different names and
stuff most of the modern browsers or all
the modern ones are actually Auto
adjusted when you start up fiddler it'll
go in and change the proxy settings for
your browser so you don't have to change
anything to get this to work so if I go
into this will start over here close
down fiddler will just use IE so if I
open this up and I go into Internet
settings I'm going to go to the
connections tab look at LAN settings
you'll see right now I don't have any
proxy server set what fiddler is going
to do when I start it is by default it
runs on port 80 8 8 8 and so now that
I've started it it went to find all of
my open browser instances and it's
configured them to now go through a
proxy server so if we go back and look
go to connections now you can see it's
got 127 so if you ever seen the t-shirt
there's no place like 127 got 0.0 got
one that's home so it's pointed to my
own machine on port 8080 8 now become
important later to when we talk about
how do i troubleshoot various devices
phones and tablets and things where
fiddler wouldn't run but that's the
basic of how it works so it's important
to understand that it's not
automatically going to see all of your
HTTP traffic so I'll talk later about
sometimes you have to manually set a
proxy if you're just using a browser
you're good but if you're not seeing
traffic you've got to think of this as a
proxy I might need to
something Chrome developer tools are
nice they're built in there's a couple
things that you can set so on I'm using
Windows so I can hit ctrl shift I to
make them appear I can go set the
experimental features so there are some
experimental features and dev tools that
I can turn on or off and I can do that
via the chrome flags I right now what
I'm going to show you is just the
default I haven't turned on any of the
experimental flags I can also download
canary canary is basically the
developer's version of chrome and it can
run side by side with chrome and that's
got a lot of other features so I'll talk
about some of them and if you wanted to
use those it's kind of their testing
ground for what they might put into
actual chrome okay so now I'm going to
structure the talk around you have a
specific problem and how could you solve
it so I'm going to start with just a
bunch of different site failures we're
going to kind of be done with mostly
with the slides now I'm going to talk
about things we see and how you could
react and which tool makes more sense
I'll be honest with you I have a strong
bias towards fiddler and the reason I do
is I have to support a lot of devices
right and a lot of different browsers so
if I can do something in fiddler I
typically will zyzz because the
interface is consistent no matter which
browser I'm using there's some things
obviously I have to use browser specific
tools and that's what I'm going to go
into chrome dev tools I'll show you both
but that's just my own bias because I
have to support anybody basically who's
coming to an e-commerce site trying to
buy our stuff ok so the first thing I
usually do is if something is not
working my first reaction is going to be
I'm going to start fiddler up and to see
what's going on so I've got a particular
page I know you've never heard this but
at work all the time we develop our own
machines we have web servers on our own
machines and of course developers will
come up to me and say what works
perfectly on my machine doesn't work
when I go to stage so you often ask them
did you deploy everything is everything
where it's supposed to be I did all that
you start up fiddler and you start to
see things like this so I've got a
fictional travel page will you use
for the talk and it just looks weird I
mean stuff is cut off I'm supposed to
have a header there I'm supposed to have
a carousel I'm using bootstrap doing
responsive and it's not looking like
what I would expect so by going into
Fiddler and the nice thing is I can see
right away here they mark it in red
I got a 404 on my CSS file or one of my
CSS files so that's the reason I like to
come in here first I can hit low-hanging
fruit right away with it might be
something as simple as I don't have a
file deployed or maybe the server
doesn't allow that mime type so it's
easy for me to come in and see that
stuff here so if I looked at this I'd
say Oh site 1 that's not what I meant I
typed that wrong so if I go into that
actual file I can just change this here
to say this should be site that CSS go
back and run it again I'll get what I
would expect ok so that's kind of the
Fiddler quick way to see something's
wrong I'm going to put this back I can
do the same kind of thing in chrome some
of the advantages here in chrome I'm
going to hit ctrl shift I they've got a
network tab like fiddler has so I'm just
going to go rerun this request if you've
seen this before you can actually force
different types of reloads so I want to
do a full you know I can choose I want
to dump the cache and do a hard reload
where basically I don't want it to use
anything that might be my browser cache
I want every request to be made over
again oh and if I don't need to actually
clear the entire cache I can do this you
can also hit control f5 but I can see
when I make this request in here it does
the same thing right I get a quick 404
something's wrong some people like to
work in the environment the nice thing
about being in dev tools here I can do a
lot of rapid development I can try to
fix things here just to see does this
fix this or not fix this so if I want I
can come in to sources they highlight
right here but what is exactly wrong so
I can actually fix it here I'll just say
I want to I can get my an tribute in it
here did this one instead
and to say I want to edit that attribute
I can take that off now you can see
everything work there as well and there
are ways to set up Chrome I can actually
set it up as a workspace if you've seen
some of the workspaces so I can actually
set it up to point at the folder where
my source files are and if I do that as
I'm making changes in dev tools it can
make it to my primary source then if I
don't do that like I'm doing asp.net
development I've got it on my server
that doesn't work as clean because it's
not just a pure HTML file I can at least
make changes right-click and say I want
to save this file so I have all the
changes I made to my CSS and then I can
just go put that on my server and be
done so those are some nice capabilities
in chrome but again that's the first
place I would usually start just because
I might get lucky and find something
that obvious and it was not surprising
at work they go to stage they forget to
deploy files that's just kind of a quick
win next one is if I have JavaScript
errors so if I happen to have a page
that's not working and I'll pull this
guy out and what I want is I've got my
travel site I want when I click here to
pop up a mold dialog box with just a
bigger zoomed in view of that image
that's what I was trying to get done so
we can look at the page I'm using
bootstrap I'm trying to use a modal
dialog that I can share so I've just
created a div and this is just using the
bootstrap classes to do that modal
dialog so what I want to do is I want
this to be a generic one and then I can
just change its content to be specific
to the modal and then do my pop-up but
for some reason that's not working like
what how I expected it would so let's
see what might be wrong so I can hit
ctrl shift I again one of the cool
things you can do is you can actually go
in since I know it's probably in the
image click so I've got an on click here
I can actually type if you've seen this
you can type the bugger if you do that
what it's going to do rather than trying
to
figure out in the browser tools where to
set things if I put the bugger there and
hit save now when I go run this and I
click on that again you'll see it
immediately pauses in the debugger
exactly where I want it to be which is
kind of slick so now that I'm here I can
start to just step into I'm going to
start clicking and going through and
first thing you notice is stuff is
minimized right so what we do
minification on all of our files is part
of our standard process there is a
pretty print down at the bottom so if I
actually do this it's going I don't know
if unmeant afia's a word but I'll use it
sites going to unmet afire or make it
look pretty so now I can step through
and actually see what's going on so as I
start looking through here what I'm
trying to do is I'm trying to get the
children of the main dialogue box and
for some reason that's not working and
when I go back I look at how this is set
up I'm targeting this and I'm looking
for my child but my child is down here
well it turns out if I go look up jQuery
I'm using jQuery and I look up children
it turns out that children is not the
thing that I want and I can figure this
out by going I do I copy this if I'm
ever in dev tools I can hit escape and
it's going to pull up a console for me
so I can just do some interactive stuff
right here so again some of the fast
development figure out if stuff is
working or not I'm going to paste that
in and when I try to do is see is there
a reason that I'm not actually hitting
this so I'm just put in a length I see
it's bringing back zero so what my
selector is not working it's not
targeting the stuff like I need it to
target it so it turns out if I go look
at the jQuery documentation what I
actually needed to use was find so then
come in here a fine will look through
all the descendants versus the children
so it just gives me a quick way to
figure out I'm going to target that
another thing that I can do in here I'm
not going to go a lot into this but the
console has a lot of functions
I can use that help me for debugging so
some of the simple ones are if I'm going
to do a whole series of steps I can say
console dot assert I better make sure
that this statement worked and if it
doesn't it's going to spit it out in the
console while I'm doing debugging so
instead of putting in all the alert
statements I have to pull out later
it'll just kick in the console and say I
can't find what I was looking for as far
as that selector there are a ton of
those I'm not going to go through all of
them because we've got a lot of stuff to
go through but they have a nice
reference on Google's page for developer
tools that just talked about all the
different things you can dump out
objects you make them into tables you
can put timing around specific items and
get how long that took in milliseconds
so very rich console API to be able to
do that kind of client-side JavaScript
debugging next one is stylish use so we
work with a lot of third-party people on
our e-commerce sites so unfortunately
they'll give me some HTML and CSS that I
have to plop into my existing site and
hope that it works right works for them
every time they do it I start to put it
into mind it doesn't work that nicely
tracking down style issues is not that
fun so we'll look at how you can do that
using the dev tools so we'll open up
styles so what I wanted as I was
expecting some different colors here on
the headers and I don't know why it's
not doing what I wanted it to do so I'm
going to do ctrl shift I and what I'm
looking for is in the elements tab I can
look on the right and that's got styles
and this is going to show me how
everything was actually styled and it'll
show me what overrode what so I can
actually click up here and say this is
the one I care about so I'm going to
inspect that I can see I was expecting
it to be green but for some reason that
actually got overridden so I can see
that in this case it's red because the
hover overrode the green so it just
gives me a nice especially when you get
really complicated and you've got a lot
of style sheets making up your site it's
easy for you to come in here and see yes
I know that you had a rule here but I
got overridden by the one that's above
it which is handy and again I can come
in here directly and just say I want to
change that color
I got a nice color picker and I can
apply that on hover and if you notice
now if I
force the state of a particular element
I can actually go here and say I want to
force that in into the hover State so
sometimes it's hard to simulate whether
something to act ever has focused or
whether you're hovering on it or not I
can force those states by picking the
state and the tools and then I can see
how the styles are going to get adjusted
and applied based on that yeah sometimes
I don't like this view because it's
handy for me to see what overrides
what's I can figure out is it a
specificity issue or what the problem is
sometimes I just want to see what were
the actual styles that are applied so if
you come into the computer tab you can
see the actual here all the styles that
are applied and what their values are if
I don't care where they came from that
make sense or this isn't a nice clean
view of what are all the value set I
don't know about you but my inbox model
I sometimes forget what's the padding
what's the bore you know what's the
margin all the different settings I can
come in here and see here's my content
the padding the border the margin and it
is actually editable so I can come in
here and to say what would happen if I
change that and I can see that it's
Justin now and push that down so it's
just kind of a cool box model to see how
things are being impacted so that's what
I do most of the style work to figure
out why styles are not functioning right
performance concerns so there's a lot of
times where I'll run into people either
on our site or other sites where they
say the sites is just not working that
fast what's the issue with this so we'll
look at how you can use these tools to
do performance so I'm just going to
clear all of the stuff oh well use the
conference website again as our demo I'm
going to see if it requested and all the
requests that do a I'm going to do a
hard reload - so request them all again
so there's a lot of things that I can
see in fiddler let that start kind of
finishing so one of the things I can
just say I want to select all of these I
like to look at the statistics tab if
you've been out to HTTP archive before
so I've been doing this how many people
have been doing web for like 10 years or
more and are you freaked out by how big
pages are today and how many requests
are made I mean I think they said
recently the average web page is as big
as the doom download was when you used
to play doom just kind of freaky but
anyways you can come out here and see
the current trends over time of how big
pages are so it gets a little mangled
here but the average web page is about
two and a half Meg now and there's about
a hundred and two requests so I like to
use that just as an average when I look
at some of these other statistics but I
can see that I made about the conference
site made about 65 requests use three
hosts which really isn't too bad but
it's over for Meg so if we've got some
concerns that we want to look at so I'm
going to close the HTTP archive and I'll
just run that one again so we have just
the four so reload so we get it all and
typically what I do when I'm
troubleshooting is as soon as I get
everything that I want I'll actually
stop capturing and I'll give you the one
warning about doing that you can see
down here in the corner there's a
capture I can shut that off but I have a
lot of people the Eric I've talked to
said his number one calls and stuff are
people do that and then they wonder
later why spit or not getting all my
requests so if you shut it off like that
and I do it all the time I mean you
don't think you will but you shut it off
and it's not watching your request
anymore that's why so I use this to
troubleshoot and just see what's going
on the other things that we saw me
highlight all of these we'll look at all
these requests again so again the
statistics are useful the first thing
that jumps out at me is it's got more
than three Meg of PNG images which seems
really odd I mean when I look at this
these are all photos right I mean these
should be JPEGs so the first thing that
jumps out at me is
probably not using the right type to
fully optimize their images and that's
something I can tell just by looking at
this otherwise their JavaScript and
stuff does not look too bad
but then I can look through individual
requests and say I just want to sort and
sort by the body size and I can see so
here's one of the culprits this PNG
happens to be you know 700 okay and if I
look at the image view I mean that is a
photo so the cool things I can do I can
just right click say save response body
I could just save this off to my desktop
and go into any my image tools right now
by the way average webpage is 63 percent
of them are images so if you had if you
want the low-hanging fruit on stuff that
you can fix focus on your images first
but if I take this guy and just do a
simple save as it gives me some choices
over quality so I can play with you know
how how good do I want this to look I'm
just going to use a 45 percent but it
tells me instead of being what was it
600 some K just doing that one step
there's the PNG here's the jpg that JPEG
now is about 90 K if we look quickly to
see how good does this thing look
virtually the same all right and you can
play with trade-offs so if you give up a
little quality for a little space but
the idea is just you can tell right away
that by looking at fiddler that that's
probably not what you want to do you can
also look at some of the Java scripts
like here you can see they're got
multiple JavaScript files and they're
not doing any bundling and if I look
they are at least doing compression but
if I look at the individual JavaScript
files they haven't done any minification
or any bundling so for our site we
actually took all of our JavaScript and
CSS bundle 1 CSS file 1 JavaScript cut
our homepage time in half it's easy to
set up if you like grunt gulp whatever
tools you want I've actually got a whole
Pluralsight course on web performance
I'm not trying to do that all in here
but just to give you the flavor of it's
easy to go in here and find what are the
main
that I probably want to tackle the other
thing I notice is the caching column
they're not caching anything so every
time I come back and revisit the site
rather than use what's already sitting
on my own device it actually has to go
back to the server and say has it's been
changed since the last time I got it you
don't want to do that either right you
want to be able to set the expirations
and say I want you to come back 30 days
from now or 60 days from now or 90 days
from now it doesn't so yeah so the
question does does that really matter
they do have browser heuristics now that
they try to look at like when was this
modified or not modified but all the
browser's do it differently I personally
I don't want to rely on the browser to
make that decision for me once I bundle
my JavaScript and CSS files I actually
put a version number into them and I
don't expire them for a year so if you
come back to my ecommerce site and I
haven't changed anything I know for a
fact you're going to pull it out of your
browser cache it saves me bandwidth it
saves you time so it makes a big
difference as far as the caching I like
having the explicit rules rather than
having each device kind of choose what
they want to do so that's some of the
performance stuff the other one that we
run into a lot we get mixed content
warnings so we've got pages on our site
that use HTTPS and you get that nice
warning hey this isn't using HTTPS
unfortunately I have to include a lot of
third-party marketing tags and things
into my site so I often don't know what
are they doing you know what are they
including it they have web beacons and
stuff and they're not referencing them
using HTTPS it freaks out our customers
we don't want to have that warning so if
we go in to see I'll pull it up in here
I'm actually going to do this in dev
tools so I've got a web page that does
this incorrectly and what you'll see is
it gives me a nice warning right here in
the console mix content and it tells me
exactly what line it's on so if you've
ever searched for this before this is
not a fun process when you have to do
this having the tool tell you directly
out of the hundreds of hundreds of
requests that you're making this is the
one that's wrong
is really helpful yeah I do want to talk
about one thing I missed in here for
performance some of the rules I talked
to you about that are useful to know
they've actually built a tab into dev
tools where they've done those kinds of
rules so if I come into the audits tab
here I can just say I want to run audits
against this particular page and it's
going to tell me these kind of warnings
so like I was talking about browser
caching it tells me I should set an
expiration on all these things and if I
don't know exactly what that means I can
click through and read about that
specify image dimensions it talks about
unused CSS rules you need to be a little
careful because just because this page
didn't use it doesn't mean some other
page doesn't but it is handy at times to
see things that aren't getting used and
the other thing that we've used a lot
for performance there's actually it used
to be built into Chrome as an extension
and now it's actually it's just a web
page google has called PageSpeed
insights it does the same thing it runs
a mobile and a desktop against your
particular page and then it gives you
all the things you could do like we
talked about optimizing images it shows
me hey here's all the images you have on
here they actually compress them
themselves and then see what kind of
savings they could have so these are
just some nice tools built in that you
can use in this particular page let's
try to figure out what's going on from
our performance standpoint the other
major message is there's a lot of times
where somebody will say it's not working
on my machine but it's working on
another machine and just by visually
looking in a tool like fiddler it's not
obvious what's going on so what I try to
always do is capture a success and
capture a failure so we had people
looking for days about why we use
geolocation on some of our brand sites
you can see where to buy our frozen
pizza that's close to you and it had
worked fine we switched our back-end and
it didn't work on iPhones worked
everywhere else like we didn't change
anything else so they spent a couple
days looking for it didn't see anything
obvious so I actually ran a success and
a failure so I've got this stored off
I'm going to show you that in a little
bit how you can captured in Fiddler but
I captured them both in Fiddler and it
wasn't until I looked up then the nice
thing again is there's not a lot in the
request right I mean there's ten lines
there I could visually look at them and
I just happen to notice that the
latitude being sent from normal devices
was about that long but the one from the
iPhone happened to be about that long so
just by looking at something that works
something that fails pull-up in Fiddler
compare the two I said there's something
wrong with this and I'm going to show
you how in Fiddler you can change that
size it turned out our back-end couldn't
take that many decimals on a lat and
that's why it was blowing up and but
it's not something I would have never a
known or been able to find quickly
without getting a success and failure so
it's really important to try to capture
both and compare the two it's also
helpful to know who's doing something on
my webpage right sometimes something
changes and I have no idea who actually
changed it right it's a third party
thing or somebody hid something they
shouldn't have hid I don't know where
it's at I want to find that so we're
going to find out a couple things first
who made a particular request let me go
back in Fiddler here pull up the travel
site here again it's look I did what I
said I shouldn't off capturing see I do
it all the time all right I'll make the
hard request do that again so what I was
wondering is I said I didn't know that
we were using web fonts you know I
didn't maybe intend to do that as a
developer who is using web fonts on here
because especially with us when we get
CSS from other people I don't want 10
different fonts being pulled in from all
these different people so I want to
figure out who did that so the easy way
to do that in Fiddler I can actually
come and say find sessions
the one thing that took me forever to
figure out and he finally added a
feature for it it didn't look in
compressed content so you actually have
to come here and tick this decode
compress content so if you're using
compression which I recommend that you
do it saves us half our bandwidth just
by zipping everything to the client
it won't search within it unless you hit
that so I'm just going to search for
halflings dot regular and it's just
going to highlight now I can go into
this and they'll show me exactly that's
the file that's got it now I can pull
that up a notepad and find but I know
who's causing that and again when we
have a lot of third-party stuff going
into our site it really helps to know
who is it that's making that change okay
making that request next thing we want
to know sometimes is who actually
modified something on our page I'm going
to warn you none of these to some of
these tools have flaws I'll see if this
guy works for me today so it's a great
feature when it works we'll say it that
way
so what I want to know is I've got this
element on the page and it just says
checkmate
okay but when I run it of course no it's
not going to do it for me I want to see
here there's times where I see different
things I want to come in here and
inspect you can actually set breakpoints
on modifications to your content there
it went
okay so I came in here and said I don't
know who's changing my content this
right here you notice now it has there's
my one Australian thing for the day I
can scroll this other way so now it's
checkmate mate anyways when I go in here
I can actually say I want to see I want
to set a breakpoint based on somebody
modifying the Dom tree or if they modify
attributes so when I set that I had
those two set when my stuff finally
kicked in it now said oh that's been
modified you'll see it's paused in the
debugger so I can go into the sources
and I can see where that particular line
is so it's this again I'm going to
unmeant fibe so you can see it's on this
line okay so it's part of some of the
jQuery stuff so if I look over here in
the stack I can see here's the call
stack where in jQuery we're in jQuery oh
here
so I can go and see right there that's
the offending line that's the one that
changed it so a lot of times again on a
really complex page being able to figure
out where it came from is helpful while
I'm doing debugging though I'll show you
this quickly to maybe I don't want to
step into jQuery code because I don't
want to look through the library code
they've added something called black
boxing so I can come over here on the
right I'll steal this and I'll type as
much I'm just going to take the jQuery
file I'm going to take that name and I'm
going to paste it in and what this is
doing now is it's saying any time I'm
doing JavaScript debugging
if you're about to step into jQuery I
don't want to do that I just want to
look at my code not the stuff that so if
I put all my libraries in there it's
helpful because and I'll get this guy to
go again I think I've got a delay set up
to kick that so that's a really long
delay so when this kicks here we'll see
it go back in and then as I start to
step in to do my debugging the good
stuff is I'm not going to step through
jQuery library because I don't want to
try to debug what's going on in that
library and get my stuff to fire
okay I'm not going to wait that long
sorry but the ideas again I can I can
tell it not to step in so I typically
will do jQuery and other libraries like
that because 99% of the time it's not
the although I deny it and say it's
somebody else's fault as a developer
right it's not my stuff it must be
jQuery 99% of the time I'm wrong so I
don't actually want to step through that
stuff second black box it which is kind
of helpful now we'll get into some of
the cooler tricks with fiddler a lot of
the what FS right so what if this
request looked different than what it
was so we'll look at an example of that
so I'll start it fiddler I've just got a
page that's doing some basic client-side
validation so if I were to type in here
I'm going to take the number one and hit
submit it says hey one's fine
if I hit zero it says invalid it has to
be between one and ten right as a
security or a secure web developer I
should be doing the client-side checking
but I also have to check it on the
server right people can cheat and send
to the server so I'm going to test our
developer and see how to get a job they
did on server security fiddler has a tab
called composer so I can actually take
that post request I can drag it over to
the composer and now I have full rights
to edit anything I want to change in
here so what I'm going to do is I'm
actually going to go down into this
target and say what if I were to post
the value zero so now what I'm doing is
I'm not running in the browser right so
client-side JavaScript is not going to
stop me I want to see what happens when
it goes to the server so if I hit
execute here I'll see that it ran I'll
look at what the response looked like
and you'll see it worked and it
shouldn't have right so they didn't do
the server-side checking so we do this
for security testing there's also a lot
of times where if we make this request
again I can see what would happen if for
instance the device didn't support a
feature so if I bring this over I can
also play with we talked about this
header this is what tells the server
that I can do gzip or other sorts of
compression if I take this off we just
want to see if I execute that when I
click here and look at the inspectors
they go to the transformer it says
there's no compression so it's it it's
the capability for me to force things to
be requested in a certain way that would
be very difficult for me to do if I had
to try to do it be a browser I'd have to
write stuff to do that it's very easy to
use and composer yes does that work with
the cross-site request forgery token so
if I drag it over if it's a per like so
we use that on our e-commerce site if I
drag that over and make that request and
I issue the post it depends on how often
you're flipping your token on the server
you know we support three or five tokens
back so if I dragged it back to composer
the old token would still be valid for a
couple more requests so it kind of
depends on how how long you allow that
token if you if you really just it's one
request you're going to run into some
issues with that because that token will
be different for each request but other
than that the I mean being able to do
those kinds of changes allows us to do a
lot of security testing and see how
things are working and there's just no
other way good way to do that quickly
what if something was blocked so let's
do this by coming to fiddler and I say I
want to see what's going to happen to my
web page if my CSS didn't work right so
I can come in here and say well let's
request bootstrap so this is what it
looks like I make a CSS request I can
actually go into filters here say I want
to use filters I want to block CSS so
the reason would be I actually host all
my CSS on my CDN so we use a CDN so that
we're closer to our customers and such I
want to see if because this actually
happened to me once our CDN was not
serving my CSS file right no big shock
it's not going to look very good right
but the tools let me do that here it's
pretty targeted where I'm doing
basically all CSS files they also have a
feature called Auto responder so what I
can do in this is I can say let's make
let me make a request again I can say
what would happen for instance if a
specific file didn't come down right so
I can just say I want to just do the
bootstrap one so I can click it and I
can say
I add a rule now what I'm doing is I'm
telling since Fiddler's a proxy I'm
saying you run in between me and him go
ahead and let me change what happens
when that request is made so I'm going
to say let everything else keep going
but when that CSS file is requested I
want to do something different so I
could do a whole list of things I could
return a 404 so I'll just save that and
run that and then I can see what's going
to happen okay well some of the styles
are there right but so I can play with
if you we're at Scott's talk this
morning about resiliency and how does
your site behave when certain things
aren't functioning this lets me really
target specifically how are things going
to behave when this happens another one
that's useful in here is if you do a lot
of web fonts or other stuff and you want
to see what happens if I'm delayed so
what does my page look like if it takes
20 seconds to run or to get that
response let me go kick this again I'll
see if I have to clear it first but this
is the experience right they're going to
see in this case I'm going to see a
white page because it's waiting on my
CSS my CSS is high on the page and
that's a blocking request this is how
bad it is if my CSS is not working
quickly so then I can turn around and
react to how could I structure things
differently to make sure that that
doesn't block so I at least get some
shell of my HTML that people can use
what happens if I'm on a slow connection
or a response so I just showed you with
fiddler how you can do that I'm going to
take this back off dev tools actually
have a nice way to do that as well the
nice thing about the fiddler one is I
can target down to individual requests
by using the auto responder like that I
can come in here and actually they've
added this to the network tab I can say
I want to throttle my requests I want to
see what my site would look like on a 3G
phone so if I go do this again you can
see here you'll start to see these
images come in a lot slower but it's
just a quick way for me to throttle and
see what's my performance like at
different network speeds so that's
something that hasn't been there before
I need to have to use something like a
Charles proxy or something to get that
kind of be
and it's now built into the dev tools
which is cool if I have another user
agent so in here I can actually make
I'll make a request to the page first
I'm going to show the user agent all it
does is kicks out what user agent I'm
using so I can actually go into fiddler
and I can send they have a prepackaged
list of let's say I want to act like an
I'm an iphone6 make that request again
now see it's going to change as you
would expect so if you are doing any
browser sniffing and you want to see how
things are going to look differently
based on how to target it's a quick way
to change those kinds of settings you
can also do that in dev tools as well
what it happens if it's the first
request so we talked about I showed a
couple different ways to do this if I
want in fiddler and to make sure that
the request asks for all the files again
I can actually hit clear cache that's
going to wipe out Internet Explorer's
cache for me and then anything else I do
is going to be that light as if it were
a first time request otherwise it turns
out in dev tools if I do by default they
have this set they go into the settings
and see this disabled cache so anytime
you have dev tools open it's actually
acting as if it has nothing in its local
cache so just know that every time I'm
doing stuff with dev tools open if I
have that clicked it's going to act and
make all the full requests again so that
may be what you want it may not be what
you want but you need to be aware that's
why it's behaving the way that it's
behaving the next one you can simulate
some lat/long or orientation so this is
some cool dev tools stuff again I'm
going to close this if I go into right
here on the toggle device toolbar and I
can go into some of the sensors I can
actually act so I can say I want to
change the orientation I can actually
grab it and act as if I'm turning the
device however I want it to turn if the
web page is supposed to respond
differently for that or like we do a lot
of geolocation using html5 if I want to
see what would happen if I put in this
specific lat/long
you can put in a hard-coded lat/long to
see how your map is going to respond
correctly now for the question I had
earlier about how do you do iPhones and
other devices so there's two different
ways to do it so I love Fiddler I know
how to use it you know I'm good at
troubleshooting with it suddenly phones
are popular right
I can't run Fiddler on my iPhone okay
they have they made kind of an effort to
get it to run on Linux and stuff it
really still in alpha after I don't know
six years so effectively I'm not going
to run Fiddler on my laptop so what I
need to do is I want to route my devices
to go through my laptop so fiddler can
do its tracing okay there's various ways
to do it
iOS happens to make it really simple so
I'll show you that on my phone I can
actually it's in a weird place but you
go into your wireless settings so
wherever your whatever Wireless I'm
connected to so it works for me at home
because I'm on the same wireless network
with my laptop and my phone I can
actually go to the very bottom you'll
see this HTTP proxy we're talking about
fiddler being a proxy I'll go on my
laptop first and go to a command prompt
type ipconfig and figure out what's the
IP address of my laptop
then I'll go manually set the proxy on
my iPhone to be that IP address and
whatever port I'm running fiddler on
which is eight eight eight eight when I
do that then in this case I'm just
typing in a URL like I always would I
just happen to be I used the IP of the
laptop because I'm running the web
server here and I just showed some
pictures of this is where it's not
working like I wanted this is where it
was working where I wanted now I can
actually save off that request so I
didn't show this yet so I'll show this
it'll work for anything that you can
route through a proxy so if you write in
an app as long as you can route the HTTP
request through a proxy it'll get routed
to fiddler and it will record it okay
because the question was well worked for
apps as well any HTTP protocol that you
can route through fiddler will get
traced just fine but if I open up I
saved off the request if we look at what
it looks like it's just like any other
if I look at the inspectors and
the headers it talks about an iPhone so
you can see I'm actually capturing the
iPhone traffic and it's got all the
fidelity that I had with normal fiddler
so this is how I can still do all the
troubleshooting I want and that's the
other reason why I was talking about I
use fiddler first a lot because I am
using a lot of different devices and I
can route them through here it turns out
some of the Android devices and such
it's not easy to set a proxy so if you
look in the fiddler documentation about
being a reverse proxy you can actually
set up fiddler to be a reverse proxy
just have to do a little scripting and
then it will route your Android devices
through it just fine the other thing
people expect is to be able to call
back-end API s so let's say I'm running
I happen to have a page here that it's
an aspx page and it's calling a web
service to do a temperature conversion
right so I'm from the US I get the
Fahrenheit I don't get to sell you so I
want to convert this let me run this guy
and I get an error which isn't good so I
want to see what's going on so normally
I'm going to pop open fiddler and what
I'm probably expecting is I'm going to
see since Web Services or HTTP I should
be able to see that traffic right and
let me run this again I'll do it
correctly so I get my air and I was
missing the query string so I'm going to
do 212 it converts it 200 if I go run
this so I see the request to the web
page but I don't see the call out to the
web service why don't I see that okay
the reason I don't see it is when I'm
running on the server here it's not
proxied okay I've got fiddler running
between the browser and the server so I
see it get to my web page
however the web page is the one making
the call out to the web service so the
trick and net and this kind of what
you're asking about the app I have to
manually force it to go through a proxy
so on a web service WCF web api whatever
you want you just need to force that
request to actually go through a proxy
so if I run this again
now I can see both the original request
and then I can actually here now see the
soap request and I can see the soap
response so we we've been service
oriented for a long time all of our
database access and stuff go through a
middle tear layer using HTTP so this is
how we trace all of our back-end calls
to get all of our data for our front-end
but just be aware people are surprised
it just didn't do it and it didn't do it
because there wasn't a proxy and I'll
mention I won't do it but in the you can
actually set in your config file for
dotnet a default proxy and that will
force any HTTP requests from any of the
HTTP requests classes and stuff to get
routed through proxy so you don't have
to manually do it on every call so it
kind of depends if I only want to see
this call I'll do this if I want to see
all the backend calls I'll set it in the
web config and it'll capture all of them
yeah so the question is if you did this
on a production server how much slower
would it be
I don't think fiddler adds much to the
request but my ops people would never
let me try so I don't know I've never
tried to run on a server before honestly
because I don't want to install we'll
talk about that in a minute but I'm not
sure I've never tried to run in that
config I'd have to be pretty desperate
to do it but so HTTP so we do a lot of
HTTP I love to Hitler again right I want
to be able to troubleshoot now I get to
an HTTPS page and I can't see anything
so that kind of stinks surprisingly if
you think about what HTTPS is it's
supposed to keep you from doing exactly
what I'm going to show you how to do
which is intercept encrypted traffic
turns out even going the fiddler options
do HTTPS say I want to capture HTTPS and
I want to decrypt it now what will
happen I've already done this but if I
clicked it the first time and hit okay
fiddler is going to generate a HTTPS
certificate it's going to say write in
it do not trust fiddler you're going to
go to your browser you're going to go to
the page that's going to say warning
this is not the server certificate which
is what it's supposed to do it's going
to say do not trust fiddler do you want
me to do this so he's is making it
obvious to you that there is a fiddler
running in between the two of you do you
really want me to allow this certificate
on my development machine I just trust
that certificate as soon as I do all 8c
TPS traffic now will be visible in here
just like I was doing a request for
anything else let's see if I have one
setup I can just do it on Google's so if
I look at some of these requests you
know this is an HTTP request however I
can come over here and I can read it all
okay so freaks out our security group a
little bit oh this is horrible you know
you can see I'm setting it up I mean
it's on my own machine right I did this
to myself I went and said I want to
decrypt this and now I can see that
traffic so but that's very handy someone
else's computers so this is when you
talk about the server - I have to often
go to like a senior VP our e-commerce
site isn't working and she wants to know
why I will not install anything on her
machine right because what's going to
happen anything printer anything that's
wrong for the next three months going to
be my fault because I installed
something on her machine so you really
don't typically want to do that so the
good news is with the dev tools for
Chrome I've got stuff built in already
so I can actually do most of the network
tracing right here and the other nice
thing about it is it is also doing the
HTTPS so because it's a browser it's
already done the decryption I can
actually see all the stuff in here - so
I'll often go and say do you have Chrome
yeah you do I'm going to use dev tools
once I run the request I can actually
say I want to save this off as a har
file an HTTP archive file I can save it
and then I can go open up my laptop in
fiddler because fiddler knows how to
import that and then I see everything as
if it were fiddler so I get to use the
tool I'm used to however I didn't have
to install fiddler on her machine which
is good for me so I'll often do that if
I can't do that the next thing you could
do is you can do the same trick you did
with a device you could set the proxy
settings on her machine to go through my
laptop therefore I don't have to install
anything on her machine and I use
fiddler so I'll just carry my laptop
over sit by her do that and everything's
okay fiddler also has another tool
called fiddler cap that if you do have
to install some
their machine give them this it's a
fiddler implementation that's meant for
people that don't aren't technical so
literally I'll tell her run this I need
to see the HTTP I want you to clear your
cache clear the cookies start a capture
it'll actually open a browser they'll go
do whatever is wrong they can close
their browser and they can say stop save
save it email me the trace everybody's
happy and I can see stuff and it's just
a lot easier for them to use they can
also do a snapshot feature and then show
this earlier you can do this in fiddler
- how often do you get this page didn't
work and you have no idea why you can't
see what they saw in fiddler and in here
you can actually do a snapshot so if I
amount a page that's not working I can
hit the camera here will give me five
seconds after I click it to go see the
page it will embed that page screenshot
directly into the fiddler trace so when
I send it to whoever I'm sending it to
they can see what the screen actually
looked like which is helpful so that's
how to do someone else's machine render
on different devices so it's nice now in
chrome dev tools I can see exactly how
things are going to run on a different
device so if I do open it up I can
toggle that device toolbar again I'll
pull up one of the pages we've been
looking at so you can see since I made
this responsive
with a device toolbar now I can say what
does this look like if I am on an iPhone
6 what does it look like if I'm on an
iPad what if I want to see you know it's
supposed to be a responsive site how
does this guy behave when I get bigger
and I can see kind of the breakpoints
and how things are going to change so
just a nice quick way for me to do
troubleshooting for cross device stuff
obviously it doesn't look it you know
it's not going to render exactly like an
iPhone would if there any procure you
know differences between how the
rendering engines work but it gives me a
feeling for how does this look on
different devices that make sense
shut that off we can find non optimized
images so Fidler has a plugin oops
called image bloat if I go run this and
we'll do the conference one again
they're not going to watch this tape
later everything I'm gonna make my
requests and you'll see these bricks
it's where it's covering up the image if
you're familiar with images they have
metadata in them so you take a picture
with your camera it's got you know
here's the shutter speed the exposure
all that stuff nobody on the web ever
sees that and they don't care you want
to strip that stuff out to make your
images smaller it doesn't affect how
they look it's just a bunch of extra
bytes so if I scroll through here I can
see that you know this is almost 50% of
that image is metadata probably from
like an Adobe Photoshop tool or
something else so I can actually go
through I'll pick on this one I'm going
to find hers they mark it in red in here
see that you know it is one of the ones
that's a problem I can see here's hers
I'll pull it up in an inspector I'll
look at it an image view I can find it
here
why do I not find you there oh right
there sorry I can actually right click
and say tools he's now included a tool
to do PNG in stone okay she's not a PNG
let me find a PNG sorry
oh you can't see it very well this is
secure warriors I think they're sitting
out there so they've had some metadata
in there as I can actually right click
and say tools
PNG distill it's going to kick out here
and run it and it says the original size
was 21 K it's now 5 K so that says you
want to save that file so I can just
save that file it's now stripped out
that metadata we actually use since it
shouldn't really be a PNG anyways
because it's photo we use JPEGs for our
photos and we use a tool called JPEG
Tran and it's just a command-line
utility that'll strip out all your
metadata so we just run it against all
of our JPEG files before we put them
into production so it strips that kind
of stuff out but this is a nice visual
of again which ones am I going to go
after which ones do I have could I like
all of these down here have a huge
savings opportunity by taking the
metadata out of them I talked about
saving traces I don't think I actually
showed how to do that but when you're in
Fiddler I can make the request whatever
I get here I can just say file save all
sessions I can save it as a normal or I
could password protect it so we deal
with a lot of third-party vendors that
say it's not their fault that
something's not working what it is so
I'll do a fiddler trace most of them
know how to read fiddler now if I'm
sending it outside the company I'll pick
this
it'll a AES encrypt that zip file the
SAS file so I can send it over the mail
I just call them up and say here's the
password they can basically get to all
the stuff and it will be exactly like it
was in fiddler I can actually click here
and say you know here's what's wrong I
can mark it nicely so you can make it
really obvious to them this is the thing
that's not right that's your you know
that's a call to your server and it's
not returning the right stuff so that's
kind of handy and then we have a
filmstrip view I'm sorry I think I'm
near the end of time so I'll just show
this really quick if you go to the
network tab and you pick I have
filmstrip view turned on will see
sometimes this is a little flaky we'll
see how that works it'll actually record
the screenshots so you can see how it is
recive Lee being painted by chrome so
I'm going to come back to this and get a
Papa head and some slot okay here we go
finally I can start seeing you know it's
three four seconds already and that's
how much I see so I can just obviously
I'd make dev tools be smaller so you can
see more of the screen but it's a nice
view of how did chrome actually render
this and how long did it take before a
customer would have something that's
actually usable so that's kind of cool
some resources I have a course on
fiddler with Pluralsight it's like three
hours it gets into extensions and a
whole bunch of other stuff Eric has
written a great book I've read it like
four times and every time I read it I
find like five more things about fit
there that I didn't know so it's an
excellent book it's cheap and then
lastly that's where the chrome dev tools
are that's my email my Twitter my blog
and that last link is where you can get
the slides and the code for the talk if
you want to download that stuff I will
stick around I know lunch is here so if
you want to run off to lunch I won't be
offended please do Annie Bell as you
walk out otherwise I'll stick around and
answer questions and then I have an HTTP
to talk in the room six I think right
after lunch
so okay thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>