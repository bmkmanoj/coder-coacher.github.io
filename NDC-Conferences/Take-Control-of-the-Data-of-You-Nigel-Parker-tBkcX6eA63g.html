<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Take Control of the Data of You - Nigel Parker | Coder Coacher - Coaching Coders</title><meta content="Take Control of the Data of You - Nigel Parker - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Take Control of the Data of You - Nigel Parker</b></h2><h5 class="post__date">2017-07-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tBkcX6eA63g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay so going to get started and my
name's Nigel Parker I'm the chief
technical evangelist for Microsoft
across Asia Pacific I live in New
Zealand which is pretty much as far as
you can get from Norway and but I'm kind
of here on a bit of a pilgrimage because
Norway's one of the places that I've
always wanted to visit and when I met
the team down at erm MVC in Australia in
Sydney I really felt like I wanted to
come here and experience in DC Oslo so
thank you for having me and thank you
for coming along to the talk today so
the way I'm going to approach the talk
this is a little bit like a life hack
it's a journey that I've been on over
the last four or five years so I'm going
to share my story and then what I'm
going to do is take dive into what I've
built and take you through the
components of the solution and my hope
is that you'll be left with ideas on how
you could apply some of these techniques
to yourselves or use some of the and
concepts that you see here in your own
lives
I'm going to let you in on a little
secret I believe that you can change
your life through insights from data and
I hope in the next one hour I'm going to
be able to take you through my story and
show you how I've been able to achieve
just this I was listening to a TED talk
recently by a guy called drew Dudley
from Canada and he talks about this
concept of everyday leadership and he
talks about this view that leadership is
not equal to changing the world and he
feels that we spend too much time
celebrating the things that hardly
anybody can do we talk about Elon Musk
and SpaceX and launching the space
rocket into into space bringing it back
down on the same platform and launching
it again now that's an amazing
accomplishment but if we measure all of
our accomplishments against those kind
of things we're going to find ourselves
in the position where we convinced
ourselves that the only things that
worth celebrating are those massive
achievements in fact it may mean that we
start to be value the things that we do
every day and when I started talking
about my story and the process I've been
on I've actually met a bunch of people
who have been inspired by this and I get
inspired when they come back to me and
talk about the changes that they've made
and how they're implementing it and I
believe that everybody in this room who
is working on technology as developers
or engineers building solutions that are
worth sharing so I hope out of this talk
that you'll take some of those ideas and
concepts and maybe publish them on
github or take them to a meet-up or
start to talk about things that you
think other people would be inspired by
I want to share along as well in the
keynote yesterday when Dylan Beatty was
talking about the history of computing
he talked about where computing has come
from in the early days what he didn't
touch on was the story of John Clarke
and Alan Turing during the Second World
War and the reason I wanted to reference
this example is because I think this was
the first time in human history where we
had people who
added skills to augment machines to
solve problems so when they cracked the
code a lot of that was human
intelligence
it was understanding that there was a
cool sign that the weather was being
read first thing in the morning and then
it was the machine that was actually
doing the calculations to break the
codes and to be able to decipher the
messages so I think was an early example
of humans plus machines I also believe
that data is art the world around us and
everything that we live in is
constructed through this idea of data
and what I mean by that is as humans
we're hardwired to see find certain
proportions and spatial relationships
more pleasing than others and a lot of
this is happens unconsciously or
unbeknown to the person themselves and
what I mean by that is there might be a
photograph or a piece of art that the
majority of people find appealing but
you may not quite know why in
photography there's this rule which is
called the rule of thirds and when you
take an image like this you might look
at that photo and think that's
aesthetically pleasing but when you
deikun's when you decompose it to the
rule of thirds you put the grid system
around it you can see that the
proportions layout is what is making it
pleasing on the eye and inside of nature
this number here anyone know what this
is one two one six one eight so this is
the golden ratio and if you think about
ourselves how our body is constructed a
lot of things in nature are built around
this concept of the golden ratio for
mollusks that we see down on the sea to
ourselves and it's a plus B is to a as a
is to B so that's the proportional
formula that makes up the golden ratio
and as humans if I put my arm out here
this is built on the same premise so if
you put your foot up to your forearm the
distance from your heel to your toe is
exactly the same as from your elbow to
the base of your hand your knuckles are
built out based on the same principle so
this is all the aspect of how we are
created based on these rules that sit
inside a data and the site of formulas
did I have to show of hands who here can
tell me what this is a photo of anyone
so I put this through a computer vision
the Microsoft computer vision API and it
said that this is a close-up of a logo
that was kind of the best that the
artificial intelligence could get from
that image what about now anyone
recognize it yeah
a castle king's palace White House
Buckingham Palace so what's going on
here this is coming back to the keynote
as well the answer that you're giving is
based on your context in your
experiences so buckingham palace maybe
do you come from England you do and the
White House are famous are you the
President of the United States and and
then the AI here is now saying it's a
close-up of some grass it's getting a
bit more context but it still doesn't
know what it's looking at now if I take
it one step further this is the photo I
took on Monday of the presidential
palace in Oslo just up the road from
here and the AI now sees it as a large
white building which is contextually
correct and then if you do a reverse
look-up on the location itself it is the
Royal Palace in Oslo so the reason for
showing you this is this is really an
example the artificial intelligence and
the data systems we have are only going
to be as good as the data that we can
provide into them if we don't have
enough data or there's no clarity in the
data the machines aren't going to help
us much come up with the answer so it's
really around having enough information
to then use the human intelligence to
provide the context to deliver the
solution so Hollywood would have you
believe that the future is made up of
this idea of machines taking over the
world they'll talk about terminator
they'll talk about the mass unemployment
the loss of jobs now some of that is
based on powers that we are travelling
but I think the future is more going to
be about the idea of humans plus
machines in the futures of place where
for people who can master and improve
situations with machines humans we have
understanding machines have calculus
missions humans have purpose machines
have instructions and humans have
passion and curiosity and machines have
objectivity and lack of bias and we're
moving into an era where an amateur plus
a machine plus a better process is
actually superior to an expert plus
machines plus an inferior process so if
we think about that I was at the
lightning talk with Dave Christianson
just earlier today and he talked about
his setup for brewing beer where he has
a Raspberry Pi and they've build a whole
brew kit which can measure the gravity
in the water and create the whole
automation process for brewing and I was
thinking about that and I was thinking
an amateur brewing beer plus that kit
and a defined process could potentially
be privileged producing better beer than
an established player who doesn't have
those techniques or working from
experience alone the best example of
this that I can think of was actually in
2005 with these two guys that Steven and
Steven Crampton did something quite
remarkable this was the world's first
freestyle chess tournament where there
were no rules in regards to how you
could participate you could use
computers you could use machines you
could create a group of people to play
together and these two amateurs who
weren't ranked in the top 500 players in
the world won the tournament with the
use of three pcs coming from New England
completely unknown and what they managed
to do that nobody else could do they
beat grandmasters they beat great
computers like beat blue and they did it
by changing the approach and changing
the technique they'd spent four years
studying what moves would potentially be
played by those other systems and then
built a database to actually change the
response and perform the calculations on
the fly in response to which techniques
the machines would apply or the
grandmasters would apply and they won
this tournament and at the surprise of
basically everybody in the world who
didn't know where they could come from
or how they could achieve that anyone
familiar with Kegel comm it's a few
hands so when I was learning machine
learning and loon
and teaching myself how to build machine
learning models
I found Kegel comm ISM as an amazing
resource because it's one place where
human experience plus machines is really
creating solutions for the world what
happens at Kegel comm is companies give
you all their data and then create a
competition for you to solve their
problems for them and then the wisdom of
the crowds people will come and try and
solve the problems and then produce what
we call notebooks with their solutions
and then they'll iterate on each other's
ideas to get the best solution and
there's cash prizes for the person who
can solve the problems in the best kind
of way and it's just a great way to get
together to add that amateur plus or
professional plus machine approach to
learning so a few years ago I was on a
stage not that dissimilar to this and I
was talking about data being the future
and all software companies are going to
become data companies and I felt like a
bit of a fraud because I didn't have my
own example I didn't have my own story
and I hadn't experienced any of this for
myself I was a software engineer working
in c-sharp I didn't know any of the
stuff so I was feeling like okay this
might be the future but it's not a
future that I know and it's not a future
that I can own and at the same time and
I was a bit decide with my current state
of being I was a bit overweight and I
had spent a lot of time in front of a
computer I wasn't very active and I
developed a condition called vertigo so
I was constantly quite dizzy and I spent
a lot of my time feeling like I was
slightly drunk and which was you know an
unpleasant situation not bad enough to
make me really want to do something
about it but bad enough to be frustrated
in the situation and then that continued
on for a number of months and I thought
okay well I'll go and see a doctor and
see what's wrong with me I went and got
an MRI scan I went through all the
medical process and there was nothing
wrong with me so then I went and saw a
physiotherapist and the physiotherapist
said well your problem is that you spent
more than 10 years hunched over a
computer and 10 hours a day building
software and you don't have enough
exercise you don't active enough and you
just need to improve your posture and
start being more active and as I took
that
bison started to do that the situation
changed and when I thought about this I
thought okay I'm thinking about a
problem a change problem and to me
change is after something stops
something else begins and that
transition period between the two is
change so I thought about this in the
form of a formula which is the change
formula on the left hand side you've got
your dissatisfaction with the current
state times by the vision of what you
want to achieve terms by the first steps
required to get there and as long as
these three things are greater than the
resistance you put on yourself change
will occur and since I've gone through
that process I started to apply this to
everything that I've been using and the
solution i'll take you through later is
a great example of this I chose to code
it all and no js' and because I'm really
comfortable in c-sharp and I wanted to
teach myself a new technique and new
skills to do that
so I started with dissatisfaction my
love of craft beer plus my bad diet and
lack of exercise was really what had led
to my situation of dissatisfaction in
the first place the vision of what I
wanted to achieve I figured I come up
with a goal that was absolutely
impossible
well impossible to me because at the
time I couldn't run a walk more than a
kilometer
I was very unfit and it was around the
middle of 2013 and I thought you know
what I'm going to run a walk
4000 kilometers in 2014 which was just
crazy there was something that I
possibly you know in my mind of mind
sighs I thought there's no way I can do
that so spoiler alert I did do it I did
4041 kilometers that year I said another
goal in 2015 which was to do 5,000
kilometers and I achieved that goal as
well and then last year I said a new
goal which was to run an ultra marathon
which I achieved in February which was
eight hours and 22 minutes and during a
an ultra marathon competition but enough
on that like coming back to the
beginning the first step so the first
thing I changed was my work environment
I got myself a treadmill and a standing
desk and I broke up my day between
sitting and coding and standing and
coding and I found that by sitting a low
speed and walking I was able to actually
become more active and actually be
active during my normal day I started
running on the treadmill and managed to
run a kilometer and then ten kilometers
and then I started running outside and I
was on my way to achieve my goal but
this is like in any story this is where
resistent kicks in if you've heard of
the hero's journey there's always going
to be a point where it gets too hard or
something happens that pushes you back
into the place where you begin and for
me the resistance was a big capital R I
became allergic to exercise I contracted
a virus early in 2014 and what I should
have done is I should have stopped
exercising when I had that virus because
and that's the logical thing to do but
because I had this goal of the 4000 case
I thought I couldn't stop I had to
actually keep going to achieve that goal
I exercised on the virus and they
developed a autoimmune disease with no
known cause and no known cure which is
called an chronic urticaria and then
from that day on every day I went
running I broke out in full body hives
and a couple of times I was actually
hopped up hospitalised through my
allergic reactions from exercise so you
know as a resistance trigger this was
actually a pretty big one kind of set up
there and the outcomes but I managed to
cure myself through insight from data
and that to me is the start of the story
that's where I learned and how I could
understand the data of myself and then
use that to cure the condition that I
had
so the first step step one was track
everything I see Adam sitting over here
here's a photo of Adam just after he
gave his talk on the first day of in DC
you notice on adam's residues wearing
for fitness trackers so why for Adam so
this is the thing like as engineers we
want everything to be precise and
sometimes we'll move from one device to
another and we'll need to feel like it's
consistent but I thought of you that you
know it's good enough like my journey
with trackers I started about four years
ago with the foot that one I moved to a
Microsoft band
I moved to a Fitbit surge a move to a
band - and now I'm using a Phoenix
Garmin device and there's pros and cons
around each one but when you do think
about fitness trackers I think the key
thing is to make sure that you can get
access to your data because some of the
systems and ecosystems make it really
hard to get your data out and you know
I'm a firm believer that you own your
data and that if you're using a device
to collect it you should be able to
extract it and you should be able to use
it for the purpose that you want to
achieve and so Fitbit does that but you
have to pay and to get access to it and
they don't provide all of the data that
you need Microsoft band was very good at
that and Garmin is very good at
producing the outcomes as well the
second one learn how to breathe
who knew that we had to learn how to
breathe who knew this was a skill that
we actually had to develop I went and
saw and a guy called dr. spin at the
resilience Institute in Auckland and he
came up with us he introduced me to this
concept called heart meds and it's based
around the idea of using heart rate to
adjust attention and focus so when
you're nervous or when your heart rate
is running fast you have this idea of
chaos which means that you lose focus
and you're not operating at your best
and when you're relaxed and your heart
rate is slowed you have cohesion
cohesion so you can start to be more
focused and approach when I started
applying this technique using breathing
techniques I actually got one of the ECG
monitors on and when I put that on I was
able to drive attention and sorry
attention of meditation and I could
instantly control a robot using my mind
using the same techniques I was using
for heart mess and mindfulness and focus
control and this was all new to me it
was something that I'd never done before
and didn't have any experience with the
next part learned how to eat so this is
my chart on the left-hand side here this
is about the time when I got the virus
this is the period I had chronic
urticaria and this little point up here
was the diet change and so what I did at
this point is I used a scientific
experiment
I basically receipts everything I became
a vagin you know raw food cold food took
everything out took out caffeine took
out alcohol and just press reset on
everything
then what I did is I started to
reintroduce things one by one and
measure the effect of reintroducing
those foods like caffeine and and
certain foods and I did that using body
pH and also noting like if I ate a
certain food with my ears get hotter
will it go red and what were the
reactions of my own body because
everybody is different
so I figured you actually had to create
a model that was based on the situation
for yourself so when I did that I found
out that I have a adhesions caffeine and
that when I have caffeine and alcohol I
have a really high resting heart rate as
a result and at the time my resting
heart rate was after around 80 and I
didn't really realize that that was not
normal and because I was running I go
long distances and I'd have these little
gels and the problem is 80% of the gels
you buy have caffeine in them and so
when I was having the gels
I will exercising with a high heart rate
and I was raising my heart rate even
more into dangerous levels so I realized
that to me actually giving up caffeine
all together was the best thing I could
do so about three and a half years ago I
stopped caffeine and I and I have had
none anymore and I've stopped alcohol
but I kind of reintroduce that because I
needed to reintroduce it but what I was
able to do with this technique was
actually within 30 days I'd cured myself
and I'd gone from having having this
condition to not having this condition
anymore
I lost a reasonable amount of weight at
the same time but then I could
reintroduce things and and go along with
that process so when I think about this
and in terms of business intelligence
and insight the history of business
intelligence is around hindsight it's
around that what happened during meaning
from what happened it's why does it
happen the Diagnostics so you can avoid
it happening in the future and we're
moving into this area of the advanced
analytics where we talk about predicting
the future what is going to happen
predictive analytics and then foresight
is how can we make it happen by knowing
what triggers and things are available
how do you adjust that to actually make
a certain outcome occur and this is the
exciting world of human plus machine so
how many people here running around
Azure cyclists anyone keen runners or
cyclists
well reason about that we have to keep
in the room so one of the things I
discovered when I took up running was
the site called Strava and strauber
is effectively the social media social
network for runners and riders and
athletes around the world if you look at
the last attempt to do Everest it was
live posted on Strava where thousands of
followers watching every move is the you
know heart rate and live data is people
going up towards the summit and it's
also an amazing way of finding places to
go when you go to new cities as
first-time in Norway and I can say that
Norwegians are crazy when it comes to
distance running and cycling I went for
a run on Monday around the lakes and the
amount of people out doing ridiculous
distances and sitting Strava records was
something I haven't seen anywhere else
in the world but it's a great site
because you don't want to build
everything like there is a good place
where you can export your data to
automatically and you can draw insight
through the programs and the networks
that are already there so if you see
over here this is when I started out my
fitness level was 10 out of I don't know
what it goes up to and and this was my
training process as I started to measure
my heart rate vo2 max you know recovery
rates all of the things that I was
building as I was learning how to run
you see Peaks as I was training towards
events and you see peak points of when I
actually competed in particular events
and my fitness got as high as maybe 72
which is really elite athlete kind of
material and currently I'm running at
around 52 and on the chance so this is a
period of maybe three or four years that
I've been operating on this so it's a
great place to actually look and to find
I also am on another social network
called untappd which is the same version
of social network for craft beer and for
beer consumption that's where I log all
my beer data and that's where it all
feeds into the system as well so this is
my architecture of what I've built and
these are the components that I've put
all together so on the left-hand side
and I have had previous data sources as
I mentioned like bass and other devices
but today my input devices are the
Garmin watch and the area Wireless kit
and
scales now those are Fitbit scales so I
actually get the data from them by going
through an app called MyFitnessPal and
then syncing that into my Garmin so it
comes out with my Garmin data because I
would have to pay money just to get the
Fitbit and extract on the weight and
then untappd is my beer consumption area
and inside here information management
I'm using Azure functions and I'll take
you through how I'm using those inside
over here I'm using a cosmos TV so who's
familiar with cosmos DB there's a few
hands I hadn't used it before and it
really is a globally distributed
document database you can replicate it
in different regions around the world
closest to your users and we're
guarantee a less than 10 millisecond or
a single-digit to the 99th percentile
our latency for calls for read and I
think it's 15 less than 15 millisecond
for right now obviously that's not going
to work if it's and complex queries but
and for you know basic query and we'll
do that and inside of there I've used
document DB as my data repository and
I've run machine learning and analytics
over the top so I've used machine aja
machine learning and as you search as
your machine learning analyzes my data
through the function each time it comes
in and then predicts if I'm getting sick
and then notifies me as an early warning
if I'm getting sick so I get I often get
sick and after I travel like last time I
went to career I was sick on the plane
right I got sick on the plane ride home
and I was at the day after I got back
and I'm aware that when I travel you
know my process changes I get tired and
I drink more I sleep less and all those
other things and actually got a warning
yesterday morning from my machine
learning model to say hey slow down and
I think you're getting sick and I chose
you know to come home after the boat
trip last night instead of go to the tub
and I was feeling like a bit of a sore
throat this morning when I woke up and I
wasn't feeling a hundred percent so I
actually had a pre-emptive warning from
my model to say not it's going to go
that way for you so a great example and
you know it's been maybe a month and a
half since I last got a warning
from the system and then over here
intelligence so Louis is the Microsoft
language understanding I will take you
through that the bot framework so this
is the building and BOTS that can run on
cross platform so the bot framework is a
single location where you can publish
out to you know like slack or the web or
Facebook messenger Skype and and you can
create a single bottom to face which can
then get published out into those
different areas personal digital
assistants so Cortana integration and
then dashboards and visualizations
through power bi
so that is the system it happens to be a
full Microsoft System but it was also
technologies in areas that I didn't have
any experience with that I wanted to
learn with the data model that I've got
so with that I'm going to come out of
the slides and I'm going to take you
through what I built so show of hands
how many people have used as your
functions or familiar so good maybe half
the room here and for those who haven't
it really is a there's a few models you
can have a triggered and function so you
can trigger it by calling it through an
API or calling it through the browser
and all you can have this area which is
timer based functions so I've got a
function here which is a timer function
and inside of this timer function if I
run on the monitor it runs once every
hour and what it does when it runs every
hour it last ran actually an hour ago
and is you'll notice over here it
connects up into Garmin and it pulls out
my current active data from my watch
throughout the day so this data here I
think coming through is the 15th so it's
today's data and this is my current data
and and you know as the day is
continuing and at the same time it calls
out to my published machine learning
model which then uses that data to
predict it pulls in the untapped data to
check how many beers I've been having
and it also pulls on the weight data and
then it checks whether and thinks I'm
getting sick or not and logs that inside
at the document database and inside of
the other one thing that
I noticed when I was running this is
that there's a couple of places where
you have to do configuration and so
because they hadn't published a function
before I had it written as a node and I
had it running and inside of vias code
and then I wanted to publish it out as
an Asia function and so when I did that
I couldn't really figure out how to you
know bring in the libraries run the MPN
install but then what you do is you can
come in here and there platform features
and there's an area here called advanced
tools kudo CUDA and then when you open
this up and there's a debug console and
so you can load the debug console and
then you can navigate into the site
location and here's the site location so
you could then do your npm install and
it would load all the modules that you
wanted to bring in to operate within
your functions it would set up those
directories for you and same thing with
Moogie reviewer if you using c-sharp
version of function and that was that
was one thing that took me a little bit
to figure out and the other thing that
took me a bit to figure out was how to
do the keys like I needed my database
key and I needed you know my Garmin
api's and things like that inside of
there and and it's just here in app
settings again under the area over on
the right and you have got your
application settings and then and as you
scroll down I'm not going to show you my
keys but and just down here there's a
value pier so you can put a name on the
list and your key on the right and then
you can access that using the same
approach that you would otherwise use so
over in my function and I can then give
it using Pro Tem V DB key and and I
thought like I was trying to put a you
know process study in V file in there
and to put them in and it wasn't working
and so that was just a bit of a learning
that I got and when you run the function
so there are ways to be bagged as your
functions locally so you can actually
you know create a local instance and set
it up but what I find is it's a little
like what I found was easier was
actually running it
inside impedance very inside vias code
as a local node file and been actually
doing it that way and then processing it
up into the function after I had done
that and just using console to to read
it out so when I press run and that's
actually going to go away and run that
function starts the function it goes and
performs the operations and outputs the
output on the right-hand side of as it's
doing it so it should it should have
just run through and processed and
delivered the outcome once that updates
over here is my document dB so this is
cosmos DB and inside cosmos DB and these
are all of the locations where you can
replicate and your database to be close
to you know the individuals here using
it obviously there's a cost involved so
you don't necessarily want to replicate
it everywhere and if you don't need to
replicate it everywhere so for my
example I've just got it sitting in
riscos USA and I haven't actually got it
replicated in any other particular
locations and inside of my collection
there's my database and inside my
database is my data and if I ever look
here and you can do simple queries
against the data so here's here's some
data objects and if I wanted to just
grab a query say of the last few days
this will give me the last few days for
my data over here so if I run this one
and there's my data from the 13th from
Tuesday and in the document format with
with my sets coming through there's my
data from the 14th
it's my data from today that's being
updated throughout the day now I find
this is actually a really good way of
whatever data you're collecting through
whatever dis parent systems or wearables
and you can automatically export it get
it into the format that you want and
have it in a centralized location that
can then become really useful for doing
other things out of and so if I stop
wearing this Garmin and get
thing else I can continue to use this
and have consistency on my data going
through so it's a pretty it's a pretty
nice way to do that the next thing I've
done is I've actually repped as your
search and over the top of it and the
reason for doing this like I thought why
would I why do I do that do I do I want
a call directly into add the document DB
or do I want to put a search layer over
the top and the reason I put a search
layer over the top was so that I could
create and met some queries for when I
wanted to call it through from the from
the box that I was building so over here
and you'll see that there's got an index
and then it runs
once an hour so once an hour to run over
the top of my document DB up data's
index and then have a new view of the
data that I can query in against at last
ran five minutes ago and inside the data
you'll see down here I've created based
on the types of the data that's there
some of these things are filterable and
receivables Summa sortable and I can
query against different things like
vigorous-intensity minutes is
essentially and where I'm exercising had
moderate intensity is when I'm kind of
breaking a sweat but not not going you
know not going out out and so I've been
able to put all of those things in there
and then run different and models
against them for my ship search and
mixing and so then over here and I can
actually perform search queries against
my data in a normalized form so not
everything is available in regards to Oh
data search so some of the date
functions and implemented just yet so
you have to do things like between the
state and the state to get last month
for example so that will give you that
will give you last months and data and
you notice because it's you know cached
and running through the index it's very
fast and returning the the objects and
the information and from there before I
move to the next step and I really have
two endpoints for my data so when I
first did this I was using power bi
which is Microsoft's you know
intelligence insight
environment so if I go on to power bi
calm there's a data set that I created
over here so if I go into data sets
there's this one here which is called
data of me and this is connected when I
look into the settings over here oh it's
over there where is it
so I'm sure that there was approach
there but anyway and what that's done is
that's connected up against the document
DB so there's a preview connector for
cosmos DB document DB into power bi and
you have to set that up using the power
bi desktop client but once you've set
that up you can then access it inside of
here and so what this is automatically
doing is it's every at every hour yeah
or maybe not every every few hours it's
been updating the data from my document
DB into my data set and thar bi and so
then if I come into reports I've created
some custom reports for the data of me
and if I was to edit these reports you
notice the size of them is kind of this
discard kind of size and the reason for
that is that when I look at that page
and it set up as so set up to be page
size is for Cortana so that means that
it can integrate down I've turned on the
question-and-answer format and the
Cortana integration inside of the data
set it's just a checkbox on the data set
so that it can then integrate back into
Cortana so I could then say something
like and distance traveled 2015 and then
what that will do is it will call into
my model over here and it will filter it
based on last year I've showed 2015 so
over here I went five thousand and
twenty six kilometers in 2015 these are
the data and the information that's
broken down so I've got you know April
Saturday there's the amount the average
of the distance and if I click on a
particular one over here and this is a
day in April where I went 44 kilometers
and was really active for 272 minutes to
one hundred and twenty eight flights of
stairs so that was you know a big event
that I competed and during that
particular time I could do things like I
could say okay what about beers
2014 and this is when I was going
through and changing my diet and and
adjusting and finding out the change in
activity so you'll notice here 572 beers
that year and this number going up over
here is the minutes I'm really active so
this is when I'm doing a lot of exercise
this is my weight over the year dropping
down and this is me going no alcohol in
October and bringing it back slowly in
November the month after and so you can
start to see and we the trends happen
with where the things are coming through
if I did that for 2016
oops
it's yeah you get that you get this you
get the IDs 2016 so you can start to
draw insight and and get feedback from
what's going on now one of the things
off well that's that June 7 a.m. June
lots of beer yeah ridiculous amounts and
then me kind of turning a corner I put
my weight up to look at that
I was quite oh yeah who knew who knew
drinking lots of beer made you put on
weight so you can learn a lot from from
the information there and what I was
also learning was around heart rate
because heart rate became really
important to me so when I was looking at
and 2015 these were where I had my
numbers because you've always had some
numbers that you're working towards so I
didn't have vo DMX in 2015 because they
hadn't started on Strava and I didn't
have a device that was actually
recording vo TMX so I've got missing
data for that I had a minimum weight and
a maximum weight so you know there was
and then I had a maximum heart rate
minimum heart rate but if I move that to
like last year and I was able to see
that yeah you know I started to get my
vo2 max and track my vo2 max as a key
indicator so by having those key numbers
and being able to track them and looking
at them you know three dates and days of
the week I was getting a lot of
important and feedback and the thing I
really liked about the power bi approach
was that and there's also a dashboard
you can ask questions of your data so I
could come into my dashboard and I could
see the little charts over here and I
could ask questions like can you know
what was my distance traveled in January
give me a little chart for that I could
do free flow questions and so
essentially like what was my average
sleep in 2017 by month and noticed I had
a lot of sleep in January and then as
the this is this year so as the years
gone on I was not actually ordered by
that as ordered by the amount that you
see this month I'm around seven point
one point two hours a night in January I
was way up there so you get those you
that kind of approach of you know how
you how you adjust but the thing is that
not everyone's got power bi and I found
that power part bi you know there's a
license aspect to us and there's
component aspect to it so what I really
wanted to do was actually take the QA
features out of power bi and apply that
to a bot so I could get a you know on
facebook messenger or Skype or weave
platform all different approaches that I
was having now I did some research and I
found out that you can't actually and do
that very easily the power bi
question-and-answer isn't exposed as an
API so you can't really take what's been
done over here and apply it over there
which is why I had to go down the route
of using edge research and and then what
I was able to do is and I was able to
build the bot around the concept without
research so I'm going to show you two
things first I'm going to just before I
go to the bot I'm going to show you the
machine learning and how I build the how
I built the model that can predict if I
have the virus so inside of aja machine
learning and is where I was where I went
away and trained the trained the system
using four years of information that I
had captured and fit into it and so this
is my data at the top and when you look
at the data the data set if you
visualize it and is pretty consistent
there are some you get some insight from
it so you know the calories burned
distance floors military active calories
weight heartrate beers virus and so what
I've also did was I needed to label my
data because I had to tell the Machine
what it looks like when I'm sick so I
just kept the note of every time I got
sick and I could apply a label to that
inside my data to say yes I was sick and
because if the data if the machine has
never seen what being sick looks like
it's not going to be able to interpret
when you get sick and so I for a few
years and I started tracking and logging
every time I was getting sick and then
what I had inside of there was the
columns that I could select so these are
kind of became my classifiers so I used
my
to the data that I had there were a
couple of things I threw out and I
didn't think weight was terribly
important right kind of fluctuated but I
left it out of my model because it
didn't move terribly quickly like the
weight between one day and the other was
was pretty uncertain I took next heart
rate out for the same reason because it
didn't really fit feature
I took distance out because I had steps
and steps was basically correlated to
distance so they were pretty much the
same thing and I took data out and
because I include the days of the week
because I thought that was more relevant
than the actual data itself because the
data itself and didn't have terribly
much context in my opinion and then I
labeled it by making a categorical and
so I said day was actually categories so
Monday Tuesday Wednesday Thursday Friday
were categories and virus with a
category which was useful known and then
I scored it based on virus and and if
you're new to Azure machine learning
there's a website which gives you this
Azure machine learning algorithm cheat
sheet because the thing I you know I
studied statistics at university but I'm
not a statistician and I'm not an expert
when it comes to the algorithms and what
to choose for doing the machine learning
side so what I was able to do is I went
in and I had a look at this cheat sheet
and tried to figure out what was the
best algorithms to approach to use the
data to approach for this so I've got a
URL ash here at the end which has got
the the cheat sheet on it and and what I
realized is that for my case it was
probably a two class classification so
the two class classification was do I
have a virus or don't I have a virus and
it could have been a regression sorry an
anomaly detection because sometimes and
there's lots of data with with nothing
and then occasionally you'll see
something different which is used for
critic ad fraud and things like that so
it could have been anomaly detection or
it could have been to class
classification those were kind of the
two areas I wanted to look into and I
used both but I got a better response
out of the two class classification and
then inside here I tried a couple of the
algorithms I tried a and a two class
decision jungle and
and a two-class neural network and a
booster decision tree and then I scored
those against my data and to determine
which one worked best with the
information that I had so to show you
how to do that inside inside here and
Azure machine learning you can drop them
the different algorithms so there's a
two class neural network over here
there's a two class decision jungle over
here and then what you can do is you
split your data so I can see okay let's
take 70% of my data and use that to
train the model and then 30% of the data
will be held back for scoring the model
and so you essentially train on 70% in
score on the other 30% but the key thing
is to actually also make sure that you
have a stratified split and because you
want examples of having a virus in both
sets of data and both the data are
training on and also the data you're
scoring on because if all the examples
of viruses are in one side and not the
other
your models not going to work the way
you would expect and then from there and
you can score the model and then you can
bring it back together and evaluate so
when I ran this through with the data
you can you can actually run this again
to retrain the model so as more data
comes into the system periodically you
can retrain your model and then you can
republish your web-services
off your retrained model so that it will
learn over time as opposed to just be a
fixed point in time but you don't have
to do it all the time like it's
something maybe you do once a month or
after a spate when you have you know
where got sick again
and now it kind of comes back here and
the one on the left is the model on the
left the to class decision tree and the
other one is the decision jungle and so
if I was to choose this one over here
anything over that gray line down the
middle is better than flipping a coin
because basically that gray line down
the middle is 50% chance of getting it
right or wrong you know it is
essentially random so anything up around
the topping to the curve is a high
degree of confidence and so when I look
at this one this one here when evaluated
it had four true positives one false
negative one false positive
and 200 true negatives and I you know I
don't have a lot of examples of when I'm
sick and that's part of the problem with
this is that you need more you know more
data it's coming back to the blurry
photo before this is the Sharps photo
the least information you have you know
the effectiveness of your model is kind
of is adjusted and the other model had
more false equations so when I went into
the other model I think I had and yeah
yeah false negatives 3 so with quite
accurate that it didn't do any false
positives and it actually only had false
negatives that was it was not the model
I wanted to use because it didn't
deliver the outcome that I was expecting
so from there once I've trained the
model I can publish that as a web
service using a predictive experiment
and so once it's published and you then
have an endpoint that you can work with
and so over here and this is just
testing the service feeding in a bunch
of data on the left hand side testing
the response so this is my data from
yesterday and you'll notice down here as
said yes I think you do have a virus and
I'm 64 percent sure that you do so this
was the trigger that actually notified
me to say hey you know slow down
yesterday so based on this information
feed in which was I wasn't you know very
active at all I didn't travel a lot
terribly much distance but I had a
really high resting heart rate couple of
beers and and that had gone away and
said yet so what's interesting is if I
increased my number of beers and then
tested the response let's try that
it's now saying no I don't have a virus
because you had eight beers and you know
what they'd be as raises you're risking
heart rate and so therefore I'm no
longer thinking you're sick that I'm 32%
I'm sure that I'm bet you're not sick if
that makes sense so it's a chance you
could still be could still be sexually
quite a high chance and but I think
based on the number of beers I don't
think you are and so that's the you know
that's the kind of learning and the
logic that comes through from the system
and and it happens automatically you
know it happens without you needing to
think to load and to call it you
essentially just call the webservice
inside of the function or inside of the
bot and the data will come back from
there and the next part was actually how
do you how do you why that up how do you
build a bot so let me show you the bot
and so the bot here this is the bot
running and I can say how many beers did
I have this week had 11 beers this week
what was the most beers I had this week
drank five beers on Tuesday June 13 okay
what was my and those are in Norwegian
beers - that's a lot of money instead
deposit on a small house what was my
yeah I could say what was my highest
resting heart rate this week
57 beats per minute on Wednesday June
the 14th 57
yeah that's pretty high and then I can
say when did you last predict that I was
sick Wednesday June the 14th I predicted
you were sick with 64% confidence so
that was the the trigger that came out
and I could say when did you last
predict that I was unwell and the reason
it's understanding is because I'm using
the lowest model for natural language
processing so it's taking what I'm
writing and it's interpreting it and
then it's returning that in a in a form
that I can then call meiosis as I said
as Asia search with so and and then I
could say when was I when was I last
sick for example so I was sick on the
fifth of May and it was 92% confidence
that I was confident that I was sick on
that day and when was I sick in January
this year and there is when I was second
January so on the sixth it was 99%
confident
on the fifth it was 91% confident on the
seventh it was 99% confident and then on
the eighth when I was actually getting
better
I thought I wasn't that close
fifty-eight percent confidence so it was
kind of working it out and adjusting it
as we as we went along now and this is
this is really interesting because when
you look at Lois the way that Lois works
is it builds the interface for the
natural language inside of the body and
turns it into the entities and
utterances throw the entities in
activities that you can program against
and to call it a search query so over
here this is all the calls that I've got
against the bot and predict is quite
high and you know last is quite high and
some of those numbers as they run
through
but what you'll be able to do is there's
a whole bunch of things that are
built-in so the best one that's built in
is this idea of pre-built which is
date-time v2 so what that does is that
actually sees so if I look at Louis over
here and I could say when did I last go
for a run for example and I'm sorry not
when did I last go for a run and let's
ask it something like how many years did
I have last week our last weekend so
what it's done here is it said okay I
think you're trying to get gum and data
and I think you're talking about beers
I'm 99% 99.9% sure you're talking about
beers and I think you're looking for a
count because you've said how many so
97.5 percent sure you're you're looking
for account abuse and you said last
weekend and this is using the pre-built
date time range thing so it's said okay
last weekend was the 10th of the sixth
to the twelfth of the six so that gives
me the dates that I can then run against
my user search query so I can build so
what I'm actually doing inside the bot
framework because I'm actually building
my queries for each research based on
the outcomes of the Louis intent data
and so for example if there was
something like if I asked that if I said
to adhere when was the last time I went
for a run so I'm saying when was the
last time I went for a run sorry I don't
understand when was the last time I went
for a run and it's because that
particular and utterance isn't isn't
interpreted or loaded into here and so
when I go into here and I look at
intense and I see suggested intense I
suggested utterance this is what when
people are calling your bot and it's not
making matches or it's not actually
returning what you think it should be
and you can come over here and you can
actually find the ones that are in use
and you can you can apply them so if I
was to go into here and say and and put
that bit sound that same statement
it's now it's now actually loading that
one up and predicting the utterance from
it and then was it taking a moment and
then it can actually interpret this and
that can understand and so when I was
retrained that model it would then know
that and it would be able to use that
inside of the collection so for example
what would happen if you're working in
languages so over here how many beers
did I have in 2017 really long you have
they prove to sounds like it's had a few
beers as well
and so if I take that statement over
here and then I run that against Louis
and I'll actually try it in the Bott
first so I've asked it that question and
it said total beers - whoa whoa honour
that's right isn't it yeah and then if I
look over here and and I paste that into
into my Louis query you'll notice it
actually matches the Norwegian word for
beers against beers and it's matching
the account over here against accounts
and it's interpreting the date and the
reason it's able to do that is because
I've come into here and I've created
this thing called features and I've gone
into beers and I've told it about the
Norwegian word for beer so it knows that
words so therefore it's able to
interpret it and it can use it into the
model and Norwegian isn't supported as a
language natively inside of Louis yet so
you would need to do some kind of
translation and run it through an
English or you would have to actually
follow that approach of using features
to bring it in and then so that's kind
of the way that the the utterances work
and if I was to say when when did I last
go for a run I think it probably would
figure that one out yeah there it goes
Tuesday predicted it wasn't sick with a
hundred percent confidence so it was
pretty sure I was was was well on
Tuesday and so it's going to gone
through and the thing I really like
about this is that and this I you know I
taught myself how to use this over the
last week and I built this out over the
last week is a precursor for giving this
talk and but now I found that I'm really
keen to publish it I'm really keen to
actually have it at a point where I can
start to use it I was thinking I was
going to publish it on to Facebook
Messenger or Skype and make it available
to over in the room and then I thought
actually I don't necessarily want you to
know how much sleep argued and how much
beer a drink and considering the talks
recorded as well but the process to go
from having it running inside of here
and publishing and deploying is pretty
straightforward as well and there's
cross-platform and it will you know
operate across a range of different you
know check clients so that's kind of
that's kind of it that's um that's how
I've put the system together how I'm
building the components and there is
I've got one more slide which is the
which are some resources the next step
for me is to write it all up you know
get the code clean it up put it on
github right up the repository and write
up the the blogpost about how the pieces
come together so I'm going to work on
that on the plane on the way home I
think I've got 36 hours on my trip back
to New Zealand where I can start to put
that together and make that available
and the other thing I will call out the
one at the top here the Asia search bot
I use that as a tutorial on how to do
the Kosmos BB and the Asia search and
wire that up with the bot and I found
that a great way to learn and these
examples in both C sharp and nose for
doing that so you can follow that
tutorial and in either of the two and I
am using them free versions of the Osby
edge research and cosmos I think no
cosmos was wasn't free I think it was a
minimum minimum spec one and so you
can't do it you know without spending a
huge amount of money to so with that I
think that the time is up and I'm happy
to take questions and call and talk
to people after the talk so thank you
very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>