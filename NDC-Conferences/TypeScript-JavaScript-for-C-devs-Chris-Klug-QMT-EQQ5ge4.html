<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>TypeScript – JavaScript for C# devs - Chris Klug | Coder Coacher - Coaching Coders</title><meta content="TypeScript – JavaScript for C# devs - Chris Klug - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>TypeScript – JavaScript for C# devs - Chris Klug</b></h2><h5 class="post__date">2017-04-06</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/QMT-EQQ5ge4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay let's get started it's cool to see
people in here I was like up until a few
minutes ago there were like a few people
here but it's actually quite cool to see
that many people who wants to get away
from JavaScript
I would I would kind of expected to get
the big room one if we was talking about
getting away from JavaScript apparently
I get one of these so they're talking
about in typescript JavaScript first
c-sharp developers and that's quite
pretty much worry it's going to be so my
name is Chris Klug I work as a software
developer slash mentor slash speaker
slash basically whatever you pay me to
do with in IT I will do I worked at a
company called another truck it just
been over first consulting is renamed
it's not where I'm at a new company
called Nova trucks division where I
basically go around building stuff and
telling other people how to build stuff
which is much more fun than actually
building it yourself because you can
blame other people so the talk is about
typescript or JavaScript of scales which
is what it says I think on the
typescript website so typescript is
according to the typescript website
which is tight for Jam typescript
Langille org says typescript is a type
superset of JavaScript that compiles to
plain JavaScript okay it's actually
pretty spot-on for obvious reasons is on
that website but what we get is this so
you have that little core of JavaScript
or equi script 3 which every single
browser and pretty much your hairdryer
will support then you've got equal
script 5 which is what most processors
support the biggest pearl and then you
got egg worship 6 which is new stuff and
then you got other other new stuff
that's going to come in the future the
cool thing with javascript is that very
little happens for a very long time and
then all of a sudden a whole heap of
thing happens in a very short amount of
time and now they're looking at like
three versions ahead sometime in 2097
we're going to have this feature and
they're already talking about it so what
typescript does is that it actually
takes pretty much all of everything
that's in JavaScript 3 &amp;amp; 5 &amp;amp; 6 and
features are coming in
the future are in typescript as well so
whenever they start looking at getting
respect for JavaScript done before the
browsers start supporting those features
if it's possible to build them into
typescript and have it transpiled into
some weird version of that that really
works in an old JavaScript environment
as well you will get that feature so
with typescript you'll always be working
on the kind of the latest and greatest
but in the end you are going to compile
it down or transpile it down to
JavaScript that runs in the browser but
we also get a few other features we get
an object orientation so we get classes
and interfaces and classes are coming in
JavaScript or ACMA script it's just not
no browser will support it at the moment
but with typescript we get it we get
static typing static typing is freaking
awesome I'll come back to why and
finally we get typing which is it's not
really a such good thing but we get
separate typescript files that only
include definitions so basically they
only include interfaces but it means
that javascript libraries that weren't
built in typescript can still be used
from typescript and we can still get
intelligence we can still get typing we
can still get all that static stuff that
we want from typescript even though it's
a pure JavaScript library so there are
typing files for most big JavaScript
libraries out there so if you're doing
jQuery jQuery is written in JavaScript
but there are typing file in typescript
that makes it possible for you to
integrate with jQuery using typescript
in a nice way so why is studying typing
a big deal well this is a big deal yes
it's a huge deal it's the main reason
for going to typescript in my world it
gives you tooling it's kind of
impossible to give you good tooling
without a startling type language but
Chris if I go into type screen into
Visual Studio and I open a javascript
file and I write something I press dot I
get intelligence it opens up a drop-down
right right
have any of you ever seen Misha studio
it opens up this little thing that is
not intelligence
that is a box in which Microtech soft
takes every single string it has ever
seen you type ever in a drop-down and
goes you might want to use one of these
and then it sort of invents a few
strings as well not things you've never
written they will be in that drop-down
as well with static typing we can get
proper intelligence we can get proper
feedback from visual studio of what's
available or not so we get real
intelligence with our tooling with
static typing we get squigglies never
underestimate the squid use if you get
squiggly so you're doing it wrong squids
are awesome you get code navigation you
can put your your marker on a piece of
code and press f12 and it will jump to
that implementation inside of typescript
as well
ever try doing that in JavaScript not a
fun experience the way you find
something in a big JavaScript program is
you press ctrl shift F which is
basically final and then you write some
weird awesome regular expression that
fits into what you're searching for and
it gives you 90,000 files back and it
goes do you want to look inside the
source code of jQuery nope this will
give you proper code navigation it will
give you productivity okay productivity
was not high on your list too high on my
list because my clients pay me per
minute actually it's per hour but but
they want me out of there as fast as
possible so they're happy if I'm
productive and it also reduces my errors
there are very few piece of technology
that I will say straight up will reduce
errors in your code but in this case if
we compare to JavaScript with static
typing you don't end up passing in a
number when it was supposed to be string
or you pass in a boolean that is then
converted to a string and return this
number and things like that which kind
of happens in JavaScript so that gets
reduced and removed in this case and in
the end we get maintainability I have
actually gone to the point where I have
canceled a contract with the clients
because they would not switch from
JavaScript to typescript because they
were building a huge system it had a
lifespan of at least 10 years and they
were writing everything in Java
script and about four weeks into the
project it was more or less impossible
to maintain it because it was so hard to
figure out what was happening and there
was only one guy that knew what it was
actually doing type script would remove
that and make it much much easier for us
to maintain a system in the long run
according to me so how do we install
this thing well if you're in Visual
Studio 2013 before update 2 you won't
have it you will also have a very old
environment you're working in so you
might want to update it so if you get
past update 2 / 2013 you get it if you
have issues to do 2015 you have it if
you have issues to your code you will
have it if you have writer I think
you'll have it you'll basically have it
in every ID that you download and
install and if you're not doing an IDE
you want to write all of your stuff in
notepad and compile it on your command
line you can just use NPM to install it
on your machine and you're good to go
one thing to note though is that I am
using the latest version of typescript
version 2 and some of the features I
show might not work unless you update
the installation in Visual Studio so you
need to install the extension for Visual
Studio within with the 2.0 version for
it to work but that's easy to do syntax
and I will show you code I promise I
will actually do a code demo but I want
to show syntax in an AC to do like
PowerPoint way first to focus on the
syntax and then we can write something
so first of all the types that we've got
pretty much what we'd expect to have the
only thing on the left column there that
we don't know is any that's not
available in c-sharp any means yeah
JavaScript variables you can do whatever
you want I don't care put things in it
take things away you can literally
delete properties on it if you want to
and things like that string fine boolean
fine number yeah there's nothing like
integers and things like that they're in
16 and in 32 and it's 64 there's a
number that's it JavaScript only has
floats we've got a race we've got which
you can have two syntaxes of you've got
the bracket bracket which is JavaScript
notation and you've got the array of T
which is the generic typescript
of array we've got two poles we've got
enumerations we've got nullable types so
you just go with the type and a question
mark and it's not able and we have
return values we have void I'm not
returning anything we have null I'm
returning something else but it's not
it's not something but it's not nothing
makes sense right and then we can return
undefined which is kind of also kind of
like null but not null but it kind of
means nothing but it's still something
yeah don't ask and we've got never which
is a new one I love returning never you
could have it's it's actually what it
says it's a function that never returns
so if you do a while true inside of it
you can have a return type of never if
you always throw an exception inside of
your function you can have a never if
you write a function that always throws
you've got issues so I've never actually
used never but I found it funny tab and
we've got classes and we've got
interfaces so it's pretty much our
standard c-sharp that we used to but
subscript we've got namespaces that
looks pretty familiar right namespaces
are kind of going away I will come back
to that later on namespaces are kind of
leaving typescript a little bit because
of JavaScript module spoke up will
occurs at then we've got classes sweet
we export classes namespaces in
typescript are actually containers and
anything inside of a namespace is not
visible outside of the namespace unless
you export it so everything is private
inside the namespace we have
constructors named a little bit
different than C sharp we have
constructor parameters and as you see
the types are then notes as colon and
type instead of having it before so
instead of string first name its first
name colon string not very complicated
we have private members which is awesome
because JavaScript generally goes you
won't have it private just use
underscore of the variable and all of
the developers around you will know that
it's a private variable that you
shouldn't touch
very private we have public prayer
members this is something that works me
at the C sharp developer because
everybody has forced down my throat my
entire life that we should never just
have public strings in our classes we
should have properties with getters and
setters we do a whole lot of public
members in typescript that's just it
happens we've got a shorthand members
which is really cool it's a feature that
I think it's available in c-sharp some
version you can just put public or it's
coming into show before I think you just
put public in front of your constructor
parameter and it becomes a public member
of that class so we don't have to go
ahead and have a member in our class and
then in our constructor say this dot
first name equals first name this dot
last name equals last name we just go
and say public and all the sudden our
members are public in our class works as
well with private and protected as well
and we have properties so if you do want
to go with full-blown properties we can
do that we just do get and set their
functions both of them so not very
complicated to do we have obviously
functions by default everything in
typescript is public everything in
c-sharp is by default private so you
have to keep that in mind and we have
function parameters if you look at the
do something else
y equals two we have default values as
well for optional parameters we can add
a nullable parameter which basically
makes it an optional parameter that you
don't have to pass in we do have
function overloading and things like
that as well
we have arrow functions or lambdas these
are awesome and I will come back to why
they're awesome later on my main
recommendation is whenever you write a
function in like a callback or something
like that in typescript always use a
lambda expression don't write function a
curly brace use the terror thing is that
or the error function they do actually
work differently this thing will work if
you expect it to
a JavaScript function will not work as
you expect it to as I said I'll come
back to why just keep in mind always do
arrow functions if you can we have
delegates which is quite obvious because
javascript is a language built on
functions so being able to have
delegates that we can pass around and
things like that it's fine
so here we have a FN member which is of
type the type is in line there so
basically it says it's a function that
takes two strings and returns the string
and then we assign it to a function
which is basically an arrow function or
a lambda expression and then we can
execute at the bottom we have in ohms or
enums enums are awesome very simple we
can just go I have a color and not with
the names of them like we would do in
c-sharp we can give them numbers so we
can just define that red is 1 and green
is 2 or whatever and we can even have
small calculations to calculate which
value it should have and things like
that and whenever you use an enum it
actually converts it in to a little
dictionary as well so you can go color
red will give you actually in JavaScript
will give you the number but then you
can use the color and index and
basically can I get the string version
of this number so it's a little bit
different than than than C if a sharp in
that respect we have casting which you'd
expect is the statically typed language
we do have to change types once in a
while so in this case we we bring out a
element by ID from our document and then
we cast it to an HTML button element but
the casting is done using less than and
greater than signs instead of using
parentheses we have generics
everybody loves in generics writes
generics are in there a whole lot and
makes a lot of sense to use so you will
see a lot of generics going on when you
do a typescript stuff we have
inheritance inheritance works exactly as
you expect you to do
according to c-sharp the main difference
is we use extends in just instead of
just :
and to call our parent class or the
inherited class we use super so if you
want to call your base classes
constructor you do
super and then you pass in the
parameters that needs to be passed on to
the base class super has to be the first
call as well in your constructor we can
do interfaces cool thing with interfaces
here is that they're actually a lot more
flexible than c-sharp interfaces the
first the I do stuff is what you'd
expect it's an interface it declares to
one method called do stuff it takes a
couple of parameters returns the string
the second one is just it says it has to
have a property of type string string
and then we on our class we can say that
class that does stuff implements I do
stuff pretty much c-sharp but we can
also go ahead as we doing that that
thing at the bottom here and actually
inline our interfaces and say basically
I want to have a function here that
takes a parameter call valve and that
parameter has to fulfill that interface
it has to have an X property and a white
property and they should both be numbers
so we just inline it here I don't have
to declare a specific interface I just
inline the type and say this is what I
need give me one of those that brings us
to the fact that interfaces in
typescript are actually structural
they're not real interfaces like we'd
expect in c-sharp where when you pass in
an object into a message that expects an
interface it looks as well if you have
actually implemented that interface
instead typescript looks at whatever
you're passing in and make sure that
that object actually fulfills the
interface whether or not it says
implements interface as long as it has
two correct members is happy so in this
case I declare eval I values which
basically has an x and y i have a
function that takes an i values but if
you look down here i am more than happy
ly allowed to pass in a new my values
which is a class which doesn't actually
implement that interface at all it
doesn't say implements I values but I
value says that it has to have an X
property and a Y property of type number
and my values does have that so it's
going to be happy to let me pass that in
I can also do an inline one I can do
object literal and basically just go
curly brace curly brace X 1 y 2 and it's
going to go okay
he needed an interface with those
properties that's what you're passing in
I'm happy so we do a bunch of quite
funky things like kind of mist when I go
back to c-sharp to be perfectly honest
because c-sharp is just a little bit
stricter the thing to note about
interfaces though and when you transpile
your typescript to JavaScript your
interfaces goes poof and disappear they
are only structures that work within
typescript is they are never transpired
into anything else in the JavaScript
world as soon as you transpile they go
away and modules this is the reason why
I'm saying that namespaces are kind of
going away namespaces in c-sharp kind of
makes sense because we take all these
different files that all declare that
members in a different namespace and
they get compiled into an assembly
rights and then we deploy that assembly
right have you seen c-sharp yes that's
how it works in JavaScript or in
typescript if we declare namespaces and
we transpile it we don't get a unit we
actually get every single file gets
individually transpired into JavaScript
and every single individual file will
have stuff that goes into that namespace
so what is actually in that namespace
depends on what javascript files you are
loading into your web page which is a
little bit weird so basically I know
that in this namespace I have these
things
oh I don't because I forgot to load that
one file but that other file still has
my name space and also there is no
connection in typescript that says this
file over here that declares something
in namespace X actually belongs together
with this file over here that that also
declared stuff in namespace X they are
completely different things they just
happen to declare things in the same
namespace modules is a JavaScript notion
and it's straight out of JavaScript so
it's not it's in typescript specific
thing at all but it allows us to say in
one file that I am dependent on another
module and a module is basically a file
so I can say here I want to import the
definition of my other class from a file
that's located in dot slash basically
same folder as I am and it's going to be
named my other TS but we remove the dot
TS event we can also go ahead and say I
want to import the definition of a magic
class from my magic framework my magic
framework in turn is then not a file on
disk it's probably something I've
downloaded off of NPM and use the juice
from the no-drip repo and then the IDE
has to be smart enough rather typescript
transpiler has to be smart enough to
figure out that my magic framework
actually refers to this thing over here
so I need to make sure I get that
definition yeah there the other but it's
a way for us to actually linked files
and modules together so that when we
build it we can then go ahead and say
can you please load this thing here and
it will figure out all of the other
dependencies and all of the other files
that needs to be included for everything
to work instead of that old JavaScript
mishmash that we used to have which is
for every JavaScript file I generate I
add a script tag on my page and if they
end up in the wrong order puff your
application goes this will sort that out
so module kind of replaces the idea of a
namespace and justice with namespaces
anything that needs to be exposed
outside of that module needs to have an
export keyword on it and any questions
on on syntax kind of similar to c-sharp
right ish at least okay transpile
compile
I call it trans file because I don't
find that it does a proper compile but
it's caused either or you can transpire
slash compile your typescript to
JavaScript using a bunch of different
tools Visual Studio will do it for you
automatically so if you add a typescript
files Visual Studio will transpire it to
JavaScript for you
you can use TFC XC which is the
typescript compiler it will do it for
you you can use gulp grunt you can use
some node stuff you can use a whole heap
of different things to do the
translation it's up to you just one
thing that I want to say is do not check
in your transpiled java files into
source control transpire at least I
don't I check in my typescript file and
as part of my build
I will generate my JavaScript files and
bundle them and minify them and all of
that I don't check all of that stuff in
code let's do some code and see what we
can actually do so I have a visual
studio here with a it's a asp.net core
project obviously we have to run core
the reason that I'm running core is that
it's that much code to get my web server
up and running it just serves static
files and it says that the default file
to serve is indexed with HTML and if I
go in and have a look at the dub dub dub
routes index.html it's an HTML file it
has an input a button and a ul so if I
run this it builds maybe it runs and
it's beautiful oh I was supposed to be
an art director I ended up being a coder
so what I'm going to do is I'm going to
build a little spotify searcher anyone
has ever seen me before notice I love
doing stuff with Spotify because their
IP is open and very very simple to work
with so I'm going to go here into my
scripts folder and I'm going to go ahead
and I'm going to add a new touch group
file so new item type script file and
I'm going to call it app dot es in here
I'm going to say window dot look at that
intellisense proper intellisense
onload can everybody see what I'm typing
well like you can't see what I'm typing
the intellisense might be a little bit
blurry but so on load is what I want to
use let's say that that is a function
like that
inside window onload I want to go ahead
and I want to pull up my resources for
my page so I'm going to say let's and
let's pull out my career text box equals
document dot get element by ID once
again typescript gives me intelligence
that's what you want to take out of this
presentation I'm going to pull out my
career text box I'm going to go ahead
and say copy a couple of those I'm going
to pull out my search button like that
I'm going to pull out my ul like that
that didn't work like that so I get all
my resources the cool thing now is that
these are actually typed so this it
might not be seen visible in the back
but it does say that this is an HTML
element and I can cast this into
different types of elements and stuff
like that so what I want to do is I want
to hook up my click event on my button
so I'm going to go search button dots on
click equals lambda function like that
and then in here I'm going to take and
pull out my query so I'm gonna say let
query equals query textbox dot value
doesn't exist right I got node value and
node type and bunch it up but nothing
that says value reason my query textbox
is an HTML element HTML elements do not
have a valid value properly only input
elements do so this is type so I'm just
going to go and say HTML input element
it cast it over to an HTML input element
and all of the sudden I get intelligence
that corresponds to being an input
element and there's a value property on
it and if I look at it it says that it's
a string then we can say if query nope
if not query return welcome back to that
later but javascript has a weird truth
default see kind of thing it doesn't
have true and false so this thing will
basically say if not query and that
means that if the query is empty or null
or undefined or a bunch of other things
it will just be false sorry false eat
yes it's weird it's JavaScript in the
end there is still JavaScript right we
get some stuff from typescript but it's
still JavaScript in the face of it so we
do get some of the JavaScript features
let's call the features quirks is not a
useful one so I'm going to just go
console dot log just to see that this
works
I want to log out query like that so
next up I need to go to my index file as
you can see here my JavaScript file is
available now because types or Visual
Studio has already transpired it for me
it is figured out that I have a type
script file and this is what it
transpose it into which is very very
similar to my typescript but it's not
typescript I pull that in down here save
go out here press f5 pull up the little
console I go in here and I search for
iron and there it is it says wrought
iron okay that didn't work I just want
to take it slow so step by step to see
that everything works so I don't screw
up along the way so I know that I can I
can use my UI next step is I want to do
some Spotify stuff so I'm going to go
ahead and I'm going to add a Spotify
searcher class so let's go add new item
type script file spot defy searcher like
that and inside this file I'm actually
going to use a namespace just show you
how name status work so we're going to
do namespace space type script dot demo
like that just like we would in c-sharp
and in here with a exports class spot if
I search sure like that anybody not
following this good because if you're
not following what I'm doing right now
another profession
um sorry I'm yeah search artist it's not
complicated yet it won't actually get
very complicated so you'll run a search
artists is my method that I want to have
it's going to take a query which is
going to be of type string and it's
going to return a promise of type any
like that so two things here first of
all I don't actually have to explicitly
tell a function what it returns because
typescript will actually figure out that
if I inside this function return a
promise it will figure out the return
value on its own so I don't have to do
it but I'll do it here because it's
simple and it proves a point this is the
point it will now give me squigglies
it's going to tell me if I hover over
here it says could not it cannot find
name promise the promise javascript
library is not part of the standard
stuff in typescript because it's not
available in every single browser so
typescript will only pull in by default
things that is available in all browsers
so what we have to do is we have to tell
typescript that by the way I know that
this thing is going to run in Chrome so
I know that with chrome promise is
available just give it to me
stop being a bitch the way to do that is
to go to your project and you go add new
item you go to typescript JSON
configuration file it has to be called
TS config dot JSON and you get this
thing here that tells typescript how to
do its translation we can add a bunch of
configuration in here the only thing I'm
interested in is removing that and I
want to say Lib not there I want to say
Lib and then I can tell it what
libraries I wanted to load while doing
the translation so I wanted to use the
DOM and I want to use equal script 2015
so please load all of those stuff those
things for me so that I can work with
those features and then a little while
later
it goes green and everything is fine and
then it goes red again it goes red
because I I'm not actually returning
anything so it's saying here that the
function who's declared type is neither
voice nor any must return a value sweet
I need to return something fine I'll do
that
so what I'll do in here is I'm going to
run off to Spotify and do a web request
I'm going to use a feature called fetch
fetch is an API in Chrome and future
browsers that will allow me to do an
HTML request or HTTP request problem
number two here it gives me squiggly
lines again it's telling me cannot find
name fetch fetch is not available in all
browsers or go not available in
typescript so there are two ways to
solve that I can either go up here and I
can say declare for the layer for fetch
any and that's telling typescript that
dude there will be a variable called
fetch when this thing runs I know it you
don't have to know it you as a
transpiler just have to realize that
there will be something called fetch and
it's of type any and I can do whatever I
want with it and then I can go ahead and
I can say fetch and I can go away and I
can fetch my you're the URL and then I
happen to know that it's a promise that
comes back
so I'll write this response and that
takes one of these it's kind of annoying
though that I'm not getting intelligence
right because I want any things we type
script this I want intelligence I can
solve that not in the same way that I
did before I can't go to typescript the
config file and say can you please add
such stuff because it's typescript
doesn't know what fetch is but I can do
this I can go to my folder open the
command line
that's not very visible at the back I
assume so let's make you all seasick but
flying around my screen and in here I
can write npm install at types which is
a a nougat module where they can they
have piping for typescript app types
slash
let's see what yeah - match obviously
you obviously Google this you don't know
these things by heart trust me I googled
it and that installs two things it
installs type things for fetch and for
streams which is another typing file it
needs to run that in turn if we look
inside Visual Studio adds a node module
folder in which it adds an add pipes in
which it adds days in which it as a type
script file called index dot d TS and if
we look at that it's basically a
typescript file that only includes
interfaces that defines what fetch
actually does what the API for fetch is
the cool thing is that now this
complains and goes cannot declare block
scope variable fetch nope I can't
because Visual Studio has already looked
into the app types folder located the
index of TS file figure out that there
is something called fetch available and
now it gives me intelligence wait so
what any now is I need to tell it what
to go and fetch so let's head over to
Spotify which is like one of the best
things Whedon has ever produced way way
way ahead of Abha so I'm going to pull
out this this URL here because that's
what I use to search for an artist so
I'm going to go in here and I'm going to
switch these things here for backticks
what the hell is a backtick backtick is
the key that you have next to your
backspace so you go shift in that key
twice it gives you two back take a
clicks will allow you to have a line
breaks inside your strings and it will
also allow you to do string interpret
interpret that's really hard to say when
you're from sweden interpolation
something like that like we do in
c-sharp so I can go in here and I can
say dollar curly brace curly brace and
code your eye and all this
I'm doing JavaScript inside my string
and I want to encode the query as a UI
parameter and insert into my microwave
and then it has some issues with
coloring and then it goes in like that
so this should now give me all I need to
do my request what I don't like is I get
Jason back but we want typing I want I
want to know what I get back so if I go
in here and I look at the Jason I get
back the sample they have here which I
can do that
so you can see it whoops there is it
will give me back an an object that has
an artist's property which has an items
property which has a list of items for
every single artist that I found and
inside that object I will find a name
property and I will find an ID so I know
that those are the two properties that
I'm interested in and I know that they
are going to come back from a Jason so
what I can do is I can in here say
exports let's scroll export interface I
artist I artists like that and I can say
that it will have a property called ID
which is string is going to have a name
which is a type string and I cannot
convert my function here to say I when
you call me I will return an array of I
artists so I can type even my Jason that
comes back from my web search web
request and get that typed into whatever
I need I need to do a few more things
here this thing is not complaining yes
it's complaining like it should I need
to type this thing to say this of any I
need to say response dot I happen to
know that it's Jason that comes back so
I do that and then I take this and I
type I type that this is not my Jason so
I get a response back then I tell the
response I want to get Jason out of it
and then I type that result into another
promise this is a complicated stuff I
know if you don't know JavaScript and
Joshua promises it gets weird
trust me this is where you do it so I
get my Jason and I say I want to return
Jason dot artists dot items because
that's what was going to be and when we
read out items which is this thing here
it will be an array of objects that
happen to have an ID and a name which is
what I defined this everyone okay with
that sweet so what we can do now is we
can go back to our app dot TS and we can
say here somewhere around there say let
Spotify equals news typescript dot demo
dot spotify searcher look at that
intellisense all the way through this
thing whoops ctrl C there it is let's do
dot intelligent search artists what I
want to search for is ask for a query so
I'm going to pass in my query and then
it returns a promise so I can go and say
dot then so when you're done hard to see
but it actually says that you will get
an array of I artists back so artists
and we'll do a callback function like
this inside this I can then go and say
artists dot 4-h artists like that so
this is a loop mechanism inside of the
JavaScript and then we say let Li Li
equals documents create elements so I
want to create a new element it's going
to be an li element and this is awesome
this kind of took me by surprise when I
tried this if I go inside Li and I look
at that thing it is actually figured out
that it is an HTML li element so even
though I'm passing in a string that says
that create element can return any type
of thing if you're passing in Li
typescript figures out that it will turn
an li version of that HTML li ID element
again inner HTML now inner text equals
artist so artists is one
currently iterating artists out of my
artists array so if I go and look at
that it will now give me intelligence
telling me that there's a name property
I can pull out and then finally we say
result dot append child and we append
the Li to get a result list out of what
I've searched for access it's a bug in
this code right now right now if I
search many times it will populate that
Li over and over that UL over and over
again so I'm just going to push this say
while result dot first child something
with my connection that makes it blink
sorry about that result though this is
getting ridiculous result dot deletes
now remove child result dot first child
like that that should basically just
loop through until there is there are no
more chip no more child elements to
remove your King me okay that works I
can't touch my computer anymore but you
can see the screen if I go out now and I
try running this there's a there's an
interesting thing that comes up when
when I do this if I go in the search for
Britney I still get to
okay I'll just keep going I hope you can
see most of it it still just writes up
Britney down here
I actually I rewrote this thing this is
different it doesn't even have a console
right log anymore and it's still just
right doing a console log and the reason
is that for some reason I don't know why
this happens in ethnic core projects but
it doesn't recompile typescripts as you
save them that is easily fixed by going
into Tia's config and down here say
compile on save equals true and then we
go back and we compile the app that TS
and we go and we compile this thing and
also one more thing that I need to do is
I need to add my Spotify searcher
javascript file like that if I go back
out here and I search for Britney okay
Iron Maiden is that better let's search
for Iron Maiden I could go and search
for ABBA
yeah exactly we don't want we only Safra
by that's that's very very true so
that's actually kind of cool because
I've got intelligence all the way
through and it might not look hard to
write this or in JavaScript but honestly
I would probably have made spelling
mistakes and type mistakes and things
like that going through this I get all
that help from from visual studio so
what I want to do is I want to remove
the name space because I won't do
modular loading instead so by doing that
I'm going to go ahead and I'm going to
say or to do that I'm going to go and
say I don't want name spaces anymore
like that so now this is a module so my
spot if I search tes is now the module
and that module exports the class and
the interface that's all I have to do to
change it into a module then I go into
my app dot TS and I go up here and this
is now complaining because there's no
such namespace so I'm going to go in
here and say import curly brace curly
brace from and then we do dot slash spot
defy search sure and then we go back
here and we call press control space
if you go home and do that it's going to
take a while when I present I got time
for it to load so from the time when you
write the last or in Spotify searcher it
takes a while before a visual studio
actually catches it so you might have to
go back and then go control space and
then hammer it for about ten seconds and
then it gives you it gives you
intelligence so if you see me up here
frantically killing my keyboard that is
what I'm actually doing
I am coding and now that I've got that
I'm basically saying can you please
import the class Spotify searcher from
that that module and then down here I
basically say can I can you go and
create a new instance of that class for
me to use the cool thing now is that
since I have references between my files
now I can use the module loader
we'll also we're going to make one more
change I need to remove that because I
won't have a window dot onload anymore
whoops
because this module here my apt OTS
module will be loaded dynamically so it
will be loaded after window dot onload
so to do that I'm going to go out to my
index.html and I'm going to remove these
files like that I'm going to pull out a
little library here called system jas
which is a JavaScript module loader
there are a bunch of them available but
systemjs is the ones i normally use and
then we say system dot configure no
config they look at that how nice it
would have been done this in typescript
instead where we've got intelligence
because this kind of sucks especially
since base URL is capital URL it should
be like a capital u when in lowercase RL
but that just goes so we want to tell it
that all of my files are in the scripts
folder script like that we have to tell
it system dot default Jas extensions
equals true that's just a workaround for
the thing in typescript and then we say
sis
them system dot import and we tell it
can you please go and import the module
app then module loader will then go and
say cool base URL scripts you want app
I'm going to go and download app das
it's going to look in after J as a
figure out that it depends on a
different module called Spotify searcher
it goes and downloads to Spotify
searcher module and then loads them in
the correct order so in my page I only
load the system jf I tell it where my
files are tell it what first initial
file I want to load and if we run this
and we look into the network tab you'll
see down here in seasick mode that it
actually goes to load system jas and
then system jf goes and gets up j/s
which then needs spotify searched is and
it figures out all that for me loop
that's really cool Chris yes I know it's
awesome when you've got like four
thousand files when you've got two files
like this it's kind of useless but I'm
going to step it up one one level and
I'm going to go because I really dislike
the fact that my file my Spotify search
it takes a dependency on fetch the fetch
is not gonna be available if I'm not
using Chrome so what I want to do is I
want to have my HTTP service as a
service instead so we're going to do and
go on sa a new item type script file
HTTP service dot es we do export
interface I HTTP service like that it's
going to have a get method which is
generic it's going to take a path which
is a string and it's going to return a
promise of type T that's the interface I
want implement that's my HTTP interface
then we're going to say exports class
fetch HTTP service which implements this
is completely unnecessary as such you
don't really don't have to write
implements I HTTP service or anything I
just have to make sure that I implement
it in my code having implements here
will
that intelligence tell me that I'm
stupid I'm missing a part of the
implementation which just helps so I'm
going to take this thing here shove that
in here like that I'm going to go over
to my Spotify searcher and I'm going to
copy that
like that so basically I put it all out
there I'm going to change this so it's
all encapsulated in here so I'm going to
say pass instead like that this thing
will use fetch to run off it will then
take the response convert it into JSON
and it will return the JSON back which
then means that I can go in here in my
Spotify searcher say import import curly
brace curl race from dot slash HTTP
service like that go back press control
space frantically and pull in the IACP
service interface create a constructor
all of this is stuff we should be kind
of used to when it comes to c-sharp so
I'm neither constructor which HTP it's
going to be of type I HD service like
that and since I need it inside of my
class I'm just going to make it private
so that I can down here go and say this
dot HTTP dot get and what I want is an
any and this is the path that I want to
use I can remove this thing and this is
now abstracted away which means I can go
to my app that TS it's going to complain
squiggly line saying that I'm stupid
so I'm going to go here and say I want
to import from HTTP service and there it
is it works and then we pass in one of
those instead so now I've got a modular
abstracted away HTTP service with
interfaces and everything like we would
have in c-sharp cool right the last
little project
trick I want to show is one that I
haven't actually used that much because
it's it's a very late addition to
typescript but most people are a lot of
people don't like the dot then then if
they it's a JavaScript thing with
promises but cool enough is we actually
have a thing stuff so we can go up and
we can make this map function async we
can go and say let artists or tis equal
await just go and kill that remove that
remove that and we also have I think
awake in JavaScript so anything that
returns a promise we can just go and say
async await and await that thing and the
transpiler with transpile or async await
into an away tour thingy that uses
promises and figures everything out for
us
on the fly so just a final thing does
this actually work it loads all of the
files and that's one of the cool things
about using system J is its I just added
HTTP service or TS and transpiled it and
added a reference to it in my file and
then system J s figures out that that
thing is needed as well so it downloads
that on-the-fly for me instead of me
having to add another link statement or
modify some build thingy somewhere does
it work let's see met Holika because you
get like a bar there is it still works
so that is actually kind of the demo
that I have I must say having started
with it once you get your intelligence
going and you get typing inside of this
stuff all of your front-end stuff gets
so much easier to build
however sorry they were supposed to be
called features I think and we are still
doing JavaScript no we're not with the
in typescript yes we are but we're doing
JavaScript and JavaScript comes with
features slash quirks slash complete
your messed up stuff we don't get rid of
those they
are still there but they are managed a
little bit better for example for in we
would expect this loop 4x in my strings
to output Chris and James right nope it
up is 0 &amp;amp; 1 why does it do that because
if we put in an object and go for this X
in my object it will output name and age
it actually outputs the property names
of the object that you tell it to
iterate over for all on the other hand
that works as we expected to that's just
a JavaScript syntax thingy so 4 of is
what we need in most cases scoping
scoping is screwed up in JavaScript is
it so screw up is just different it's a
feature right if we have a message that
takes a callback that will then that I
pass in a callback and I execute it when
something has happened if I pass in a
function like this you would expect this
to be an instance of my first class
right because the class I am in is
called my first class so when I pass in
a function I will expect this to still
be this thing here nope it is something
else let's not go into what it is it's
just something else it's not that class
however if you do a lambda function or
an arrow function this is actually the
right thing this is messed up yes it is
it is completely messed up and it has to
do with closures and complicated
JavaScript stuff that takes a while to
get your head around
if you always just go ahead and use
arrow functions you are sort of safe
because all the sudden scoping works as
in c-sharp and not as in JavaScript next
if you do this this is something that's
quite easy to do you go and say I have a
callback this is my callback I pass in
my function on my object this is not my
first class this is that other thing
why because I'm passing in this function
I'm not passing in a reference to this
class that has to function to solve this
you do an error function so you're
passing an error function that in that
in turn uses they
call back and that works fine because
inside of our arrow function this is the
right thing
javascript is awesome this is not one of
those I love I don't know if you noticed
it but I declared all of my variables
using left and not the bar like you
would do in JavaScript let it's a
JavaScript syntax thing as well but this
is what you can do in JavaScript and in
typescript I can write a function that
declares variable X inside of an if
statement and then outside of the if
statement I can log that X however at
runtime if I were to pass in do
something Souls it's going to go poof
because variable X is not declared
awesome and we solve that by using yeah
we solve that by using let instead let
is the same thing as var it declares a
variable but less uses a block scoping
which is what we have in c-sharp
basically it scopes it within the next
the curly braces one step out whereas
JavaScript scopes is to the function
upwards so using less will remove some
of that problems and typescript will
then tell you you are a nut case that's
not possible to do and then you have to
fix it so use let instead of our truthy
and falsy you would think a language
would have a sense of true and false
nope javascript has it's true c or full
c i'm so introducing that at home for my
wife nope that's kind of kind of not
true but kind of yeah so the deal is
that anything that is false 0 empty
string null undefined or not a number is
considered full C if it's not in that
list of things it's true C yes please
that is awesome
it means that we can do things like if
my object and that will then vary
instead of having to write if my object
is not equal to null do this I can just
go if my object I can go and do my array
dot length which is awesome I can also
do my array question mark dot length and
that will go and say if my array is not
the
find than do this if my array is defined
there's nothing in it then do this so we
have a bunch of other scenarios we can
do with if statements based on truthy
and falsy
and we can also add exclamation mark
exclamation mark exclamation mark will
take a cruisee statement and make it
false true false like a boolean false so
if we do exclamation mark exclamation
mark we take a true C value we turn it
into folds and then we turn it back to
true so if exclamation mark exclamation
mark takes a true C or full C value and
turning it into its full equivalent you
can add a third exclamation marks also
but it does not make any sense also one
thing to note is everything is a
dictionary so if I have a string here
called s I can go and say s dot length
and pull out the property length but I
can also go and use a dictionary state
index or to it so basically every every
object that we create no matter what
type of object is it will always have an
indexer that you can pass in a string
too and ask to get the value of that
property which means that property
values that you can't actually use
things like property values with spaces
in the name and weird characters and
stuff like that they cannot be used
using the dot notation but you can use
them using the index notation that's
fine so you can go if I get the question
as well how do I do a dictionary in
JavaScript you create an object it's a
dictionary you're done so that's worth
having in mind 15 once awhile you end up
in typescript and it says it tells you
that that property is not available I
know because the interface says so but I
know it's there and then you can get
around typescript by using the index or
notation instead and it works fine thank
you it's been awesome timing here and I
hope you got something out of my type C
presentation and any questions that
thing just went red like now I just best
time presentation ever yeah I'm scared
of letting you ask me but let me let you
ask me a question okay in that case
it's a no isn't any hey well actually it
kind of it it does have some logic I
haven't figure out really how it works
but in some cases certain objects when
you do that in this case it would figure
out the length I think because in this
case it knows the string isn't a string
or SSS string and then it looks at the
variable you pass in and then it
basically goes and figures it out based
on that so if it knows that the type
that you're using in this case string
has a length it I think it returns a
number but if you're doing it for
something that the typescript doesn't
figure out it doesn't know it will given
any back like this cool yes you can do
back tax it into into studio when I
build this you can turn on something
called source Maps source maps will map
all of your JavaScript back into
typescript so if you make the source
Maps available and have them configured
correctly when you go into for example
chrome in developer tools when you go
into the source you can go and actually
set breakpoints in your typescript in
the browser and I do believe that if you
do it in IE and you enable types or
client-side typescript debugging and
press f5 in your project it will attach
to IE and it will debug the javascript
which has source maps that turns it into
typescript so you can debug straight in
typescript yes any other questions
testing works fine um
anybody attend my other presentations
where I say I hate testing and it would
you would generally transpile into
JavaScript and and teste tested running
it in JavaScript but it's it's it works
fine it has it's basically just
JavaScript with a layer on top of it so
you don't test the typescript you have
to transpile typescript to javascript
and then you run those tests but it's
perfectly fine to write unit tests and
integration tests in typescript and
typescript tests your other types of
classes but in the end it's going to be
JavaScript testing javascript kind of
perverse but yeah it's possible to do
there was one more hand yes and so in
the question is how I manage different
browsers and stuff like like I did with
the fetch library in this case I would
suffer fetch there is a there's a
polyfill for it so I would add the fetch
polyfill and make sure it's available in
all browsers it's just so I didn't feel
like showing that because it didn't make
sense for my typescript stuff but in all
situations where I go beyond what is in
typescript because typescript will tell
you that this is what's available in
your browser and that's it and then you
can go in out like I didn't tell it I
want promises as well but as soon as you
modify what typescript typescript
compiler includes you're responsible for
making sure that it's available because
types couldn't care less I'm kind of at
a time I will be around if you have any
more questions don't forget to vote on
the way out if you want to give me a
green one if you want to give anything
else then just forget that box runs
outside thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>