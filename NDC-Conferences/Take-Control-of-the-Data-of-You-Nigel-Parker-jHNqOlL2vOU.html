<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Take Control of the Data of You - Nigel Parker | Coder Coacher - Coaching Coders</title><meta content="Take Control of the Data of You - Nigel Parker - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Take Control of the Data of You - Nigel Parker</b></h2><h5 class="post__date">2018-02-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jHNqOlL2vOU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay Tama haaa it's my mountain and Fung
a TL is my C my name is Nigel Parker I'm
the chief engineer for Microsoft
commercial software engineering based in
Asia and I live in New Zealand so I've
traveled halfway around the world to be
with you here today in London so pretty
excited it's my second time in London
and getting to talk to you about
something I'm really passionate about so
how many people have heard of this term
personalized medicine it's a few heads
also known as per sorry prescriptive
medicine so what it really is is a it's
about the evolution of how we heal
ourselves and heal diseases so we're
really talking about this concept where
Universal medicine is one treatment fits
all personalized medicine is a technique
or some sort of treatment that is
specific to you and specific to who you
are as a person so this here this is a
English scientist so her name is uh
rosalind Franklin and she was a
scientist in 1950s whose groundbreaking
work really defined the concept of DNA
and the who x-ray work showed the helix
fears and identified for the first time
the acids that make up the instruction
set for humans and if you've seen the
construction set for humans it's really
three billion lines of code so we're
talking about those T's made up three
billion times to describe how human is
made if you were lucky enough to go to
see the T talk by Ricardo Zarate on how
to program the human genome this here is
dr. craig Venter he's the first human to
have his genome sequenced and made
available in full so in his TED talk
Ricardo takes the entire genome sequence
for dr. Venter and publishes it into a
series of books so that's like the olden
day encyclopedia where you have a
in Chapter for each of those codes that
create and make up what is human now
what makes you different between you and
I is every human is really five million
lines of code maybe half a book and
within that five million lines of code
or that half a book is a lot of elements
that define our eye color our height and
information that's unique specifically
to us it can do things like determining
what's your skin color maybe your eye
color you can also identify your you
know mutations towards specific types of
diseases whether you've got cystic
fibrosis or moving towards early onset
of Alzheimer's and it can do other
things like determine if you can smell
urine after you've eaten asparagus or
not because turns out not everybody can
do that and that all sits inside of this
code or this half a book of code and the
amazing thing that's happening now is
we're starting forty years ago where I
first identified DNA and in the last 40
years it's taken us that long to figure
out how to read it and how to understand
the instructions that sit within it and
we're only really scratching the surface
so using machine learning techniques and
lots of different samples we've been
able to identify things like finto
elements we're using this DNA so this is
Ricardo's teed talk and on the left is a
photo of Ricardo on the right is a
computer-generated prediction of what
Ricardo looks like based on reading his
DNA so you think about this for a second
it's not going to know whether he has
facial here or not but what it is going
to identify pretty accurately as that is
male that he's at the DNA prediction
city is one point seven six meters tall
he's actually one point seven seven so
that's pretty accurate it identifies
based on his genetic makeup his BMI that
he should be around a 76 kilogram and
weight now he's actually 82 so maybe
diet and lifestyle is contributing to
that and making way a little bit more
than what he should on average by his
genes and it's saying that is they think
it's he's 638 years old now the other
thing about genes which is pretty
interesting
is that as you get a little bit older
your gene makeup can deteriorate and
change over time so we can use mutations
and we can use changes in your DNA
sequence to determine your potential age
as well I color it feels that as I color
should be a little bit darker than it
actually is it's a slightly lighter
brown on the left-hand side there but
pretty accurate and skin color is pretty
close as well and that's all defined by
some of the aspects of the DNA that
we've been able to read and learn from
using this concept of machine learning
and reinforced learning so the takeaway
is that today we can read about 2% of
all of those books of those 5 billion
lines of code which is about 4 books out
of 175 that were printed for dr. vinter
now later in the conference on Friday at
3 p.m. Scott Hanselman is talking about
solving diabetes with an open source
artificial pancreas and that's his story
around how he addresses Type A diabetes
and uses technology and uses IOT devices
to help him manage his own health and
what I want to talk about here is a
little bit about my story and where I've
come from and what I've built and then
take you through the code and the
samples that I've been working with so
about five years ago I stood on a stage
not that dissimilar to this talking
about data is the new oil and that every
software company is going to become a
data company but I felt like a bit of a
fraud I didn't experience this for
myself I didn't have a data set that I
cared about and at the same time I was a
little bit overweight wasn't very active
I lived a lifestyle of young children
and working as a software developer and
I developed a condition of ear decay
that meant I kind of felt like I was
slightly drunk most of the time so I
knew something had to change and after
my father's sudden death in 2009 I chose
to change my diet to start running you
know to actually improve my lifestyle
but life got on the way and things went
back to the way that they were before so
given it's January there's probably a
few new New Year's resolutions that have
been made and maybe now's about the time
when you start to go back to your old
habits and you don't
continue those good intentions so change
it sounds pretty simple something stops
over here change occurs and then
something begins but it's making change
stick in having that reinforcement
that's really tricky part being the
engineer that i am i studied the formula
for change and the formula for change is
dissatisfaction with your current state
times by the vision of what you want to
achieve times by the first steps
required to get there and as long as
these things are greater than the
resistance you put on yourself change
continues to occur so I went out and
thought okay well I have to apply this
if I want the change to stick so I came
up with a vision I have my
dissatisfaction of my vertigo and my
current state of being and the vision
was that I was going to walk or run 4000
kilometers in 2014 now this was coming
from a place of not being able to run
one I took my first steps I got myself a
treadmill I started to run one kilometer
then two then three and then four and
then I started running outside I broke
up my day between standing and sitting
as I worked at my computer now I went on
to achieve my goal but if I told you
that that would be the end of the story
but it's what I discovered along the way
that was really the magic here what I
realized about myself is that I like to
justify my obsessions by defining them
as flow this gives me the permission to
shut out the outside world and not focus
and focus myopically or single heartedly
on one thing but in doing that I have to
ask myself at what cost do I adjust or
change as the situation changes or am I
stuck in my way trying to achieve my
goal so I was tested on this my first
form of resistance was in March 2014
when I was on this goal to walk 4000
kilometers and I developed a virus and
as a result of that I developed a
condition that many of the people here
in the room might be able to relate to I
actually became allergic to exercise now
when I ran my body would sweat but when
I sweated I also broke out in full body
hives
and by not listening to my body and
exercising while I had a virus because I
was so set on achieving my goal
I developed an autoimmune disease with
no known cause and no known cure it was
a disease called our chronic urticaria
and I was actually able to heal myself
through insight through data and I
really did this by following three steps
so the first step was track everything I
was I had a wearable device at the time
that was measuring my heart rate my
steps my activity my sleeping patterns I
also had some Bluetooth scales that were
measuring my weight and I was logging my
beer and take through a social app
called untapped and I started logging
some of my food and food intake as well
and that was giving me a baseline
information of what was going on the
second part learned to breathe a winner
saw a guy called dr. spin at the
resilience Institute in Auckland and he
taught me about breathing about how to
sleep and about mindfulness techniques
and I started to apply some of these
techniques to myself to identify focus
and then the third one learned to eat
this was really the key and the whole
thing I treated this like a science
experiment I actually reset my diet to
raw vagin and yeah food and then I
started reintroducing things one by one
and measuring the thick that it had on
my body
a determine if my ears started going red
or and what was the effect on my
wristing heart rate and through that I
discovered that I was sensitive to
caffeine and caffeine gave me a really
high wristed heart rate which didn't
kind of come back down over time and
also similar thing about alcohol and
when I was doing this I was being able
to draw these effectors on and
effectively reprogram my immune system
using a whole bunch of inputs and a
whole bunch of data points now I don't
recommend this for everybody in the room
it was a pretty manual process and
there's a whole bunch of diving into
spreadsheet so if you're in the keynote
this morning it was I was certainly
programming an excel a lot trying to get
all the data to come together and to
work
and at times I felt like I was drowning
in a sea of data and it's only getting
worse like we've got an infinite number
of devices and data and what's really
finite is our time and attention I thank
you for staying here late tonight and
giving me your attention because I know
this is one of the hardest things that
we have and so to that end I took all of
the learnings and all of the information
that I built over the time of tracking
and identifying how to cure this
condition and I packaged it up into an
application that I could talk with using
natural using using a natural interface
so I could ask questions of my data and
get feedback in a natural kind of way
how many bees did I drink sorry I'll try
that again how many beers did I drink
during the week in the last three months
on Monday to Thursday when the last two
dates you drink a total of 47 dinners
eleven on September 28th in October and
aiding November
this is a little less than one day per
day I noticed that you drank 12 beers on
Thursday Toby the 19th which is outside
of your name will behavior you also
gained two kilograms in October which
allows to gaming the vinegar now the
interesting thing about this is I tell
myself a false truth which is I don't
drink alcohol during the week but when I
ask the question of the data it gives me
an honest reply and in my defense that
Thursday in October I was on holiday in
Australia with my family and I was
sampling a bunch of craft beer breweries
now it's one thing to ask questions of
the data and get insight looking back
it's another thing all together to get
prompted in the moment where you can
make different choices and this is where
the system was moving towards so I can
ask question so I don't have to ask
questions anymore it's always kind of
monitoring and it reaches out to me
proactive in the moment when did you
last predict that I was stressed my last
warned you that you were getting
stressed in the afternoon of Sunday
October 22nd 2017 now on that Sunday
afternoon I just come back from holiday
and the bots reached out to me
proactively to let me know that I was
getting stressed and what was really
interesting about this is I realized
something in that moment and that was
that I often get stressed just before I
go on holiday just when I come back from
holiday or when I travel with work just
before I leave or just as I'm coming
back and when I realized that pattern I
was able to see it again over time so a
couple of days ago that bot reached out
to me to let me know is getting stressed
on the Sunday just before I was backing
to fly up here to in DC and so this
pattern was something I wasn't aware of
that I became aware of and then I could
start to adjust my behaviors when was
our last sick last time that you told me
you were sick was earlier this year on
Friday the 16th of June I know Dan who
predicted that you were sick with 92%
confidence I'd let you know that I
thought you were getting sick two days
earlier in the morning of Wednesday the
14th of June so when the but reached out
to me on that Wednesday morning in June
I was able to adjust my behaviors again
because I was fighting a virus and I had
some of the tell-tale signs and I was
able to stop running and to stop
exercising to avoid the situation I got
myself into previously when I overdid it
while I was while my body was fighting
an infection and so by having this in
the moment I could adjust behaviors and
I could change different outcomes
now the code that I've released it's up
on github at this link here and I'm
going to spend a little bit of time
going through the code and taking
talking about how the solution all comes
together and how it works
sorry now the concept of artificial
intelligence that's a bit of a buzzword
and it comes up a lot in mainstream
media but being this audience and this
there's probably a little bit more of an
insightful view of how this all comes
together and what's going on
there's a concern about you know AI and
machines taking our jobs and replacing
us and doing a lot of automated tasks
well some of that's true but I like to
think of a little bit more of the
concept of symbiotic intelligence where
we can enhance human experience by
getting insight and getting feedback
from machines and so the software that
I've created I believe is very much
enabling me to make different choices it
gives me an edge at the right place and
right time so that I can adjust my
behaviors and make change stick and
that's what I wanted to talk to about
today so the architecture for the
diagram for the solution is pretty
simple I've got I started off with a
different wearable devices so I had a
Fitbit that I had on my belt for a while
and then I had a Microsoft band and then
I've moved over there onto a Garmin and
I've now got a Garmin Phoenix HR that I
use as my input device for sleep
patterns for moving and motion I've got
some Bluetooth scales as well that I've
got at home that send information up and
I use untappd and I actually stop
caffeine a couple of years ago all
together call me crazy I don't drink
coffee anymore that's just because of
the effect that it had on my body
personally but I still do drink alcohol
and I tend to only drink beer so I start
logging my beers using untappd it works
two things one is it lets me know if
I've had that beer before or I can try
new beers the other thing is it logs it
into the system so my machine learning
models can identify that I'm having
alcohol and then I use Azure functions
so I use this as a bit of an experiment
to teach myself new technologies so
intentionally wrote at a node rather
than C sharp which I was most
comfortable with and used functional
program and use the service kind of
functional approach to get the data out
on on a regular frequency and I store
the information in cosmos DB document
database and I ran machine learning over
there to do the predictions for stress
and for whether I'm getting a virus the
intelligent interface is using the
Microsoft bot framework and our length
Louis which is our language
understanding system and I also have
interfaces and a personal digital
assistants like Cortana and Alexa and
using those as different ways of
importing and then I've got some
visualizations and power bi so what I
wanted to do is just start by taking on
a bit of a tour and showing you through
some of the elements of the solution so
if I come out of here and the first
thing I wanted to show you how many
people are using Azure functions or have
experience with those functions so
that's good that's about half of the
room
this was the first time that I'd used
Asia functions myself in a project and
what I found is the Asia functions
themselves if you come into the the
portal or if you're in one of the
earlier talks on lamdaur or or and
building with functions the approach
that you can take is is pretty simple so
if you come in here and create a new
function there's a range of different
types of functions so you can add a
function here and they're just little
pieces of code that will run and based
on different triggers so you could be a
timer function so that's what I'm using
is really a timer function that runs and
once an hour and then when it runs once
an hour it goes away and it gets the
pulls the information from my game and
it pulls the information from untappd it
pulls the information from my scales and
then it puts it into the database you
can also do them based on triggers or
web hooks or a whole range of other
interfaces that you can pull the
information then you trigger from a
database every time a document changes
those those kind of things inside of my
function itself you can monitor the
running of the function so this is the
the function over here that's been
running that draws the information in
that's a little slow there we go
and what's interesting is that you'll
notice is a whole bunch of X's down
there for some reason yesterday the
Garmon service was not reachable for a
few hours so during that time I couldn't
reach the Garmin server so I wasn't
pulling any data through but if you look
at it at last around an hour ago
and over here this is the trigger
running and this is some of the raw data
that's kind of coming in off my device
and off the information and what I'm
also doing and here is as it's going
away and getting this raw data it's then
calling another web service which is my
publishing machine learning model and
that's looking at that model and it's
trying to determine whether it's seeing
a pattern and the data that means that
should alert me that I'm getting
stressed or I'm getting sick and because
I've trained it to know from four years
of my data what being stressed or being
sick looks like and I'll get into that
shortly
and then also over here one of the
things that I found is because I was
working in node and I hadn't been
working in node much before when I was
publishing the function up I actually
had a node out just running on my
machine that I was using for testing and
debugging but when I was publishing it
up into the function you notice in that
area of of the function and if you
haven't worked with node before if
you're not familiar with it there's this
area over here where you can set your
application settings so I was just using
a dot env file but I needed to translate
some of those settings and I'm not going
to scroll down to show you all my keys
but to do a name value pair to actually
met my database connections and my
connection to my service and the other
thing which was a bit of a gotcha was
the running the NPN scripts so there's
another pattern here which is platform
features and you can come down and you
can get access to Kudo and this is the
same if you're doing node or if you're
doing the dotnet version can get into
your debug console and get your command
and then navigate to the what because
it's just essentially in this case just
a website navigate in here and run your
MP and install or your MP and save and
that can actually load all those
packages up and make that function run
as it would down on the desktop and so
with that that's that's kind of the the
calling of the function piece and the
next part which was interesting was the
machine learning which does the
detection of things like second stressed
and with the machine learning how many
people have worked with Azure machine
learning studio or have some background
on machine learning there's again
there's similar it's maybe half of the
room and I was I have done some work
with machine learning I did some work
back at university and I'd also worked
on a few projects but this was the first
time that I'd actually applied it to a
data set that I really cared about and
to to spend quite a bit of time
determining features and and
and looking in great learning outcomes
now the thing with machine learning is
it's again it's a bit of a buzzword it's
kind of the foundation of artificial
intelligence and I know
Ezra and David are going to speak a bit
more about machine learning and their
talk later in the week but what I find
is like the difference really between
deep learning and supervised learning
which this is is deep learning is maybe
the machine is determining the features
and the data so the machine doesn't
require an expert or somebody who
understands the data it will go ahead
using a convolutional neural network
it'll run a whole bunch of iterations
and it will determine the features and
then from that features that will train
and add a depth now that's being used
for things like computer vision tasks
language translation tasks a lot of the
the kind of more of involved scenarios
and what i'm doing here is more super
supervised learning so i'm saying this
is the data I've got these are the
things that I think are important so I'm
going to define those as features and
then I wanted to apply these algorithms
to those things to determine a score on
whether it thinks that I'm stressed or
not aware thinks I'm sick or not so
you'll see this in Scott Hanselman z--
talk on Friday where he uses two inputs
one as heart rate and the other one is
his blood sugar and he takes those two
together to determine if he's getting
stressed and he does that in real-time
so standing on stage as blood sugar
might peak and as stress levels might
peak and he would get a notification
that way so what I've done is I've taken
and the data here what you can do is and
there's two ways to do it you can either
do it live which effectively means it
comes off your live data or you could do
it off a collection of your data in
which case you can train the model and
then you can publish the service and run
against it you don't need to
continuously be training your models so
once you've got a good good amount of
data and you've got a good model you can
publish that and then maybe just train
it once a month will train it over time
as new data comes in and you'll see here
I'm training off a CSV but what I could
do over on the left-hand side is I could
add a import data and over here and for
that import data I could have got a few
different storage types so I connect
they say you know come straight out of
my document DB and use that as an input
into my machine learning models so I
could take my full database and make my
full raw data and and learn from that
just delete that one and if you look at
the CSV you can visualize the data as
well this gives you a good indication of
of what your data might look like and
you notice here I've got date logged
I've got day of the week I've got a
distribution for things like sleep
duration it's a bit of a histogram over
here of where I've got hardly any sleep
one and a half hours or 2.6 hours
through to way too much sleep like to 12
hours as an extreme and then around the
middle which is the the fluctuation and
then you'll think see things like you
know heart rate resting heart rate
calories distance intensity minutes
weight beers and in this last one virus
no or yes so this is kind of like the is
it a hot dog not a hot dog thing for
those who've seen the sukham Valley this
is really how I tell the date at the
Machine model what to look for so what
I've said over here as I've said every
time I'm getting circle getting stressed
I'll let I'll do a mark in the database
to say yes and that's the piece of
information that the models going to
Train from so over the last four years
I've basically logged every time I've
got sick had a virus or got really
stressed and I've marked that in the
system so that the system can then learn
and identify that behavior from the data
and then you know notify me moving
forward and so that's the the key part
there and the algorithm itself so what
I've done down here is launching the
column selector you have to determine
what's important and what's not
important so I've it's not the one I
wanted selecting columns yeah so what
I've done is and I've got a bunch of
things that I'm actually recording and
then a few things that I've left out of
my model and then you've got to kind of
think about what you put in what you
leave out and for supervised learning so
I've left out weight because weight
doesn't change much weight changes a lot
may
be over six-month period but it really
doesn't change much daily and therefore
it may actually by putting it in and
Confused the model will make the model
less accurate if I have a look at I have
distance and here n steps in here I did
train the model without distance because
when you look distance and steps they
actually correlate to be really pretty
much the same thing so you don't
necessarily need both distance and steps
because they're they're almost the same
I left that things like vo2max because I
don't have a complete data set I only
really started getting that when I wore
the Garmin which was fairly recently and
I've left that date logged and just
because I've more interested in the
category of day so I've created a
category around day because I think the
day of the week tends to have more
impact than the actual date itself so
that that's what I've done in there now
what I've realized is that there is
probably a couple of features that are
missing and and that's happened over
time where I've been notified
incorrectly like getting a false
positive and I think those features that
are missing are things like and the
temperature outside so I've just gone
from summer to winter or in some cases I
go from winter to Las Vegas to summer
and then I go running outside and it's a
completely different environment to what
it was the day before and so the system
doesn't know about that
and therefore it sees that and it thinks
suddenly my body's under strain and I'm
getting sick or I'm getting stressed so
I need another feature in there which is
really just the temperature I probably
need another feature which is travel as
well like connect it to my trip API and
work out when I'm on airplanes because
the impact of actually time zone changes
and travel and shows up quite
consistently as as stress as well and
then down here I've got a couple of
algorithms to class new on network in a
two-class decision jungle for those of
you who aren't stats experts and haven't
had a lot of time looking at the
algorithms themselves we do publish a
cheat sheet which I've got links at the
end for which is really an algorithm
cheat sheet based on what you're trying
to determine so two class classification
think about that as being you want to
predict yes or no virus no virus stress
not stress
that's really taking a bunch of data and
determination as single outcome as a
score multi-class classification is
really if there's a few things you want
to predict so based on some input data
you might want to predict a range of
values like salary and location and
things for you know for purchasing
houses anomaly detection and that's why
I've actually experimented with anomaly
detection here because I'm not sick or
stress that often and so there's not
that many positive examples of my data
set so in some cases anomaly is better
because it's a little bit more like deep
learning in the sense that it doesn't
need to it doesn't need to have a whole
bunch of positive examples it can
actually develop opinion from that and
then regression testing is really when
you want to reduce and define over a
time series so in this case I chose two
class classification and I put a couple
of algorithms to play which is a two
class neural network and a two class
decision jungle and then I applied that
to my data a couple of things here which
are pretty important is when you split
your data because you've got a whole
bunch of data going in but you want to
keep some back to score your model and
you've got a bunch more which you
actually want to put in to test the
model because if you had 100% of your
data going in for example and their
model would be perfect because it would
get it right all the time and because it
would be like seeing the answers would
be like sitting in an exam where the
answered book next to you and just
working from that and yeah it was a
question
that was all that's been implemented in
the machine learning and at the moment
for machine learning studio and you can
you can do more but it's this is like
the machine learning as a service option
if you go into our studio and you can
you can you can you know you can
implement more of those options yes yeah
you can you say you can bring them in
and apply more it's like the one that's
pre-baked of yeah and in this straight
of the stratified split is important too
because it's basically saying I want
examples of having a virus and both the
one I'm testing against and the one that
I'm evaluating against because if you
don't do it Stratos fight stratified you
may not have any positive examples and
your scoring or your testing data set
and then down here and you run the model
and what happens down here is you can
evaluate the models so I've done two a
two class decision jungle and a two
class neural network and you can see the
different performance of the two
algorithms now anything above this line
across the middle there is no line
across the middle on that screen but
there's a line up here which is
basically 50% chance so that's like
flicking a coin and coming out heads or
tails anything left of the horizontal
line means that it's better then it will
get it right more often than half the
time or you know predict it more
accuracy than half the time and you'll
also see that there's a particular model
like if I click on the algorithm on the
left here and there will be a degree of
accuracy true negatives true positives
false negatives false positives and so
you also have that element we thought
that was the outcome and it wasn't the
outcome and that's where it learns over
time when you provide more inputs or
more feedback and so then you can take
one of those and you can publish it and
once it's published down as a web
service you can just call it using any
of the normal JavaScript or don't need
ap is that you would use so I
over here I've got it published and it's
this one here and so if I can test this
you can see showing my key but come up
on the recording and but then if I click
on this this is actually going to load a
test suite so you can again using batch
and Excel you could load up a whole
bunch of data you could run a batch test
against it and it would score it all
down there so here's some sample data
coming in this is a Friday on a
particular date I didn't have much
exercise that day or yeah no exercise
that day and it says I'm not sick or not
don't have a virus and when I run the
score against that and it's actually
said based on that information that
thinks I am sick and it's 89% confident
that I'm sick so that's kind of
interesting because it's it's and it's
scored it based on that information on
the left and it's maybe you know quite
positive quite sure that I am if I start
tweaking it so it's probably going off
the fact that I didn't have any exercise
and that I had a really high resting
heart rate based on my most standard
data and so if I lowered that heart rate
let's say took it down to 48 and then re
ran that yeah you say it's now saying
actually not sick and I'm pretty
confidence in nineteen eighty percent
confident that you're not sick if I put
it back up to 57 that I increase the
number of beers so let's say I went to
eight years instead of two and I
increased my exercise a little bit so
maybe had 25 minutes of exercise and
then I ran that it's now saying I'm not
sick even with that high heart rate
because of the beer consumption because
it knows beer raises my resting heart
rate and also the activity is probably
an indicator that I'm you know less sick
with some elements of that so it starts
to identify my data and then it starts
to actually provide back those
predictions now as a little skeptical
about how all this would work and
whether it would you know and in
practice make any difference or change
behaviors but ultimately it did I
started because it runs in the
background at order its automotive I
don't have to do anything
so we're nice do start getting you know
notifications or triggers are then start
to think hey what am i doing and and you
know and how is this and is this playing
out and if I have a look over here the
other place that I've I've got this
running is over in power bi so I know
power bi comm anyone using power bi
there's a few hands and it's you kind of
pay for the service so it's not
something that I mentioned you know
everybody's using but it is pretty good
for looking at data across things like
cosmos DB or document database so over
here I've got my database connection set
up and I've got a gateway connection
using my credentials I've got a
scheduled refresh so i refresh it a few
times a day and I've also got QA set up
here using Cortana so allowing Cortana
to access it and I've got some featured
and questions that I could ask of that
in this setting as well and then I've
got a dashboard so if you look over here
data of me I've built a little bit of a
dashboard based on the data inside and
the document DB so that I wanted their
data with me here and it's got things
like distance traveled beers heart rate
and so I could ask questions like and
just the example so I could say distance
traveled 2015 okay right
and that fear shows me you know distance
traveled for 2015 and I can see things
like certain circles that show points of
peak activity and based on the days and
the different information within the
days so I could then say distance
trebled 2014 so that was the year that I
that was the year that I set my goal
that I wanted to do my 4000 kilometers
you'll notice there it's four thousand
and forty two kilometers so just just
knocked it and you can see things like
this on this particular day and there
was anomalies like 177 floors and not
that many very active minutes but a huge
number of steps so that was essentially
walking a massive amount of distance but
you know not with a lot of energy and
then if you see this one up here that's
kind of a day where I had a lot of
active minutes also a lot of steps and a
lot of floors and so you can then start
to break those down and you look at them
as a particular day in December which is
that Sunday November sorry so you can
start to break down and get a bunch of
information out if I was to do this
about beers 2014 this is again showing
me my beer consumption for 2014 and
you'll notice that month on October
there is missing because that's when I
did my full body reset that's when I
stopped drinking beer and started to
reprogram my immune system to address
the other carrier situation that I've
got and you'll notice leading up to that
there was probably quite a lot of beer
consumption and my activity was dropping
down and then through this time my
activity was going up so just leading up
to it I was less active and drinking
more and who knew you know the weight
also gets kind of affected and in
relation to that and if I did that for
2015 you'll see something similar say I
think 2015 ok there's some peak drinking
going on and
lie and you know activity dropping off
but wait going up in relation to to Kona
vet drinking and then heart rate same
sort of things so I could say heart rate
to zero one six and this is when I
started wearing the Garmin so I've got
started guiding information on Fitness
vo2 max and I started tracking that vo2
Max is my number and that was to
determine you know how fat I was getting
and I could work towards improving sleep
improving recovery heart rate and
becoming fitter and so if I moved there
to 2017 you'll see that there's a real
increase and in my core fitness and that
was and that's showing from going from
56 vo2 max to 65 vo2 Max and that there
is the minutes very active kind of going
up for the weekends and dropping down
for Thursdays and Fridays as a pattern
so I'm tending to do more exercise on
the weekends and less during the week so
you can start to see a whole bunch of
stuff come out from this and one thing I
really liked about power bi was and
being able to actually use a Q&amp;amp;A
dashboard and ask free-flow questions of
the information so here I could say
average sleep in 2017 by month you
notice there in January I've got a lot
more sleep than August where I have the
less sleep and that for us is holiday
time at summer it's it's probably the
opposite in this in this part of the
world and I could say by month by year
and by doing it by month by year I can
see trends over time so I can actually
see in 2016 there wasn't a lot of sleep
in January 2017 heaps of sleep
2018 I've kind of dropped back a little
bit in January because I'm not doing as
much training and same thing I could do
weight and I could see weight over time
I could see back in in 2014
I weighed quite a lot and then I said
have kind of maintained it
as the years have gone on let's try be
as well okay so that's beers and my
average and January is durable three
beers a day so there's a bunch of
insight there's a bunch of information
that kind of comes out from this but
then what was happening is I then I
started using power bi and then I kind
of thought well I really like the the QA
approach to it and the information
approach but I want to be able to access
that through a different interface you
know through natural language through
chats and through and also not have to
pay for the you know the model for it
and so I started looking at the bot
framework mainly because for those who
aren't familiar with bots or the bot
framework it's essentially just a
website and it's a website where the
dialogues themselves are kind of like
web pages and it runs on a server either
as server less inside of a function so
it just spins up when you ask or it runs
as a little web app in which case it's
always on and you just call it and then
when it receives that information it
receives some sort of interface it looks
at the data and then it sends the
response back and the good thing is that
there's so many different channels so it
could be Facebook Messenger or a Skype
it could be you know things like elixir
or Cortana or other forms of natural
interface and that's what I found was I
really wanted to be able to access the
data in the natural kind of way so
that's what I went to the and to the bot
framework and just showing you here and
for those who haven't seen it yet it's
pretty simple to set up a new service
for the bot framework so if you go into
here into into dev bot framework top
BOTS and I can create a new bot so I'll
create a new one in here and this loads
up inside of the Asia portal
and I can choose on the left whether I
want to do a web app bot or a function
spot so I mentioned before and the
functions but you don't have to pay for
the hosting necessarily it'll just use
it when it receives the message as a you
know as a web hook or HTTP POST and if I
choose way back then it needs to be
hosted somewhere so I create one of
these and when I create one of these and
it also has a few options here say I
could give it a name so I'll just call
it in DC England and I got an existing
resource group so I think I'll just use
in DC London and the cost of them so you
can have like the free one or you can
have cost version that what we're doing
is we're really charging for the web
client version or the direct access
version at the moment so either there's
a cost per per message down here I can
choose what I want whether I want to do
it in c-sharp or node it's kind of
supported in both both languages and
what type you want whether you want to
do a basic one one that uses natural
language understanding QA
Proactive bots that reach out and in
this case I'm just going to create a
c-sharp basic one and I'm going to put
it in here in DC London and so that's
enough to go ahead and create one of
these things and in the background
that's what it's doing is that spending
up it's creating a web app it's
publishing it it's putting a standard
template sample into it and then it's
you know putting it up in the hosting
environment so as it provisions take a
moment for that to actually provision
and once it's up and running you can do
a couple of things with the code you can
either work on it inside of the online
editor which is like Monaco or you can
download the template that's been
created and then open it up if it's
known like envious code
if it's c-sharp inside Visual Studio and
then you can make the changes there and
you can see that continuous deployment
so that they will then get pushed back
either through get or through and V STS
and so once that's gone away I've got my
version running over here in EndNote and
and I've got a I've got a checkpoint in
here and this is the emulator that you
get that comes along where you can
connect to a running bot so I could say
a question like when what would it be
Christian B and anything really but I
could say and when let's how much
exercise did I get on average last month
and so when I asked that question it
comes in here and you'll notice here
this is where it's getting translated
and so how much exercise did I get last
month is actually been turned into a
query string against my document DB so
select average moderate-intensity
minutes plus vigorous-intensity minutes
from C weird eight lodged is greater
than the 1st of December 2017 and the
first of January 2018 so that's the kind
of code aspect to it but how that
happens is through this concept of Louis
which is language understanding natural
language understanding so over here I've
got Louis setup and I could ask that
same question so that was
how much exercise did I get last month
and and what it's done is its treads
again been trained and to know that how
much has count exercises active minutes
and last month is this a prebuilt entity
which it already understands last month
last year you know days of the week all
of those things so I don't need to go
and create any of that and if I wanted
to test that I can test that by calling
the same point so here when did I last
go for a run it matches with 99% those
get Garmin data and knows last it also
knows run so by getting last and run it
can then go away interpret that inside
of my code and perform that operation
against the database and to you know to
produce the results back if I ask it and
with this is where it gets kind of
interesting is because I could say
something like on average how much did I
exercise last month which is a slightly
different way of asking the same
question as before and you'll notice
that in this case it's actually
interpreted exercise as a different
value so previously it had exercised
because exercises hi ract it's so active
minutes is hierarchical so I've got
active minutes over here then I've got
moderate active minutes and then I've
got very active minutes so what I'm
wanting is in most cases exercise I want
to be very active minutes plus moderate
active minutes but in some cases when
I'm talking about going for a run I only
really want to know my very active
minutes so there's a bit of
interpretation that's going on and
because I don't provide every example of
what it's going to tell the system the
system is actually also learning and
it's also adapting and taking from
feedback and adjusting what it comes
back so in this case by asking that
question in a slightly different way
it's getting the count which is the how
much it's got last month which it
actually works out as the range and but
it's actually gone with active min it's
very active minutes rather than active
minutes before so I'd need to look into
my Lewis model and work out why it might
be doing that and how I may need to
change that so it's consistent because
that's the thing with Lewis's you're not
always going to get the same answer the
same answer out but it's going to be
accurate most of the time so over here I
think that that's probably provisioned
now yep
so if I come into that resource which I
just created
this is loading up the the example of
that bot service and I can do things
like just test it and straight away so
here's a little test in webclient
scenario now this is bearing in mind
this is just a blank template so it
doesn't actually do anything meaningful
so if I say hello to it it's going to
just go and come back and say 1 you see
it hello you know first say good evening
it's going to go away and say to you see
good evening and if I look at the code
that sits inside of this this is where
you have the options to download a zip
file and set up continuous deployment so
you can do it through visual studio or
vias code or you can open in the online
code editor I'm going to open it in the
online code here to see here I'm just
because it's a basic you know Tim played
app there's not a lot of code in the
solution and over here the area where
this is actually happening is in this
area called dialogues there's a thing
called echo echo dialogue and if I come
down into echo dialogue
it's literally saying down here a weight
post async count you seed and then
whatever message is coming in so that's
kind of like the hello world of bots if
you like and if I replace this code so
I've got a little bit of code here and
one of the things that you can do is by
default it's thinking about a text
interface but if I was to change that
there I've now saved make a message I
want text for this message which as you
see it and then I also want to have a
speak element to it as well so I can say
message speak and then down here this is
kind of what it will say back and I'm
using a markup here so I can do things
like emphasize certain words but again
the speak could just be straight text as
well if you just want it to speak back
text and
then I can seem that back to my to my
bot now if I wanted to make that change
you'll notice it's already saved up here
and I just need to go into the command
area over here and I can just run build
the build command over here and what
that's going to do is install the koodoo
sync and then perform like that new get
operation packaging components now one
thing that I have found is that and it
goes away it does you know it does the
handling and the build and once it's
done that build you can then call the
deploy so deploy yeah just wait for that
to finish and then I'll go deploy that
CMD
hmm stored a lot of packages
it's just for purposes demo and yeah it
takes a little bit longer to to get it
to download there's open to put it in
Visual Studio and do compute but the way
that my bots done is is the continuous
deployment through get severe that's
done there and then if I just do the
deploy do deploy dot CMD
now that's deploying that package up and
they've got up so now if I come into the
test and I go and test and web client
once the deploy is finished
I should see over here and when I say
hello and it'll go away and hopefully
come back with the update you know the
one that has run through the updated
code to copy yeah finished yet message
one you said hello and and perfect yes
and I can talk to it too so I could say
just try that one what is my name
you see what is my name and the thing is
this is really basic you know it's just
like file new project and but what I
could do then is then I can publish this
out in two different channels so over
here it's currently connected to web
chat which is their channel that I was
just demonstrating if I wanted to add a
channel like Cortana and this will
configure Cortana now with Cortana you
need an an invitation name now the thing
about this this is the same as elixir is
you have to come up with something
that's easy to say that it's not going
to misinterpret but that's also globally
unique or at least if you're one of the
first ones to publish maybe you'll get
something called so it works in your
test environment but when you come to
publish for real chances are someone
else might have the name England or the
know
health bots or the name you know
whatever you looking for so if I just
say England is my invocation name here
and and I can just say just give it a
description give it a description you
can manage user identity through here
which is really interesting is this is
using the graph so using the Microsoft
graph it knows you logged in it can get
information like your name things like
your current location if you want to
start using that inside of it you turn
that on and you can start to handle that
inside your code I'm not going to do
that for this example because I you know
I just want to want to sort of
demonstrate the functionality
straightaway and in this case remember
how I change the code so it now has a
speak area as well as a message area
once this is saved this should enable
this channel now so I could enable
channels like Facebook messenger like
Skype like slack and you know other
particular channels and did that say yup
there we go now the cortana cortana
channels running so if I launch Cortana
asked England main have your permission
so now that's now connecting to the bot
that we've just got message number one
you said what is my name message number
two you said what is my name so that's
exactly the same bot that we created
just before that's just using a
different invocation method it's using
voice as opposed to text and it's
published inside of the Cortana
interface now not everyone's going to
have Cortana and you know it's not going
to be the solution that you use all the
time and again this is only available in
the US right now so you've got to change
your loco and do some of those things
but as more and more devices come out so
things like Amazon Alexa Google home
people
start getting familiar to talking with
the particular bot so what I've also
been working on and what I've published
up in the repo is a bridge that enables
you to use Amazon elixir to call back
into the bot framework to you know using
the scenario so over here inside of
elixir I've got a skill published and
the skill itself is pretty transparent
because it really just looks through
with the phrase and the information
that's coming in inside of my
configuration I've got an endpoint here
either with my published and bridge like
direct with by using direct line you can
you can connect with a whole bunch of
services that don't necessarily support
the bot framework today so I'm using
direct line and I've created a node
application that sits in between Cortana
and the bot framework and this node
application can be running up on the
cloud or using in grok I can actually
run it locally and do debugging so I've
got it running down here inside of ears
code and here's my elixir bridge and
what I've got as a server j/s file which
so I can start that up over here so
that's now starting up my server inside
of in grok I should see that it's online
and connected and accepting messages and
then over here on my elixir bridge and
this is where I take the response from
elixir and I pass it in through to the
doc framework to the bot framework and
so over an elixir I can do things like
test so I could say down here when did I
last go for run ask health bot and what
that should be doing is coming and
hitting my code down on the desktop here
which it is and I'm seeing the messages
passing through so over here
this is the this is what appeared when
did I last go for a run I passed that
into the dotnet framework sorry the bot
framework
and it returned the answer you exercised
intensely for 57 minutes on Tuesday
January 16 2018 so if I test that elixir
ask health bot when did I last go for a
run you exercised intensely for 57
minutes on Tuesday January 16 2018 it
just did play a game with that applause
[Laughter]
the requested skill took too long to
respond which it didn't understand I'll
try another one
elixir ask health bot how much sleep did
I get last night to to sleep 8.5 hours
so again you're just seeing a different
form of a different way of interacting
with a consistent framework and the
reason this is important as I was
working with a customer who'd published
a bot and out into production using the
bot framework the requested skill took
too long to respond and what they've
done is they had done the same thing
that they did with mobile apps you know
they had the iOS development team over
here they went and got the Android
development team to rebuild it over here
and they've gone and got someone with
the licks of skills to rebuild
everything over here completely
different framework completely different
environment and I sort of sat down with
that team and said well why don't we
instead use it as an interface and just
work with what you've already got what
you've already published because I kind
of worry in the future when we do have
all of these different channels and
interfaces and ways of speaking and we
shouldn't need to rework as much we
should be able to use all these
different endpoints and actually pass
the information through and the crazy
thing is we're both working in node and
so the code was always the same anyway
and there wasn't a lot of differences so
I know I'm at time and it's essentially
really late but I did want to just show
a few lengths at the end which is means
hopefully you can go and find out a
little bit more
and I'm going to be around at the end to
ask any questions and to end to speak a
bit further about this and again this
repo up the top it's got all of my code
and I've kind of talked a bit about the
story and the journey and the things
that I've worked on as I've gone through
so if you want to experiment and find
out more you can go and check that out
so thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>