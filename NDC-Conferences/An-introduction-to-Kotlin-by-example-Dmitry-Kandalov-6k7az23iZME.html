<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>An introduction to Kotlin by example - Dmitry Kandalov | Coder Coacher - Coaching Coders</title><meta content="An introduction to Kotlin by example - Dmitry Kandalov - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>An introduction to Kotlin by example - Dmitry Kandalov</b></h2><h5 class="post__date">2018-02-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/6k7az23iZME" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">well this
my name is Dimitri I am JVM developer so
I don't necessarily know a lot about
dotnet so I was wondering how many
people are talking to people how many
know about Java also but I'll try to
refer to c-sharp but if I'm wrong just
like correct me okay so all this time
that I'd show you know it including
slides and code this job luckily Dropbox
link so you don't need to necessarily
take photos of slides it's all there
so this you know what Java is of course
the right sensor which is an island it's
quite big never been there but there are
nice Java see there is Java sees Java
compiler but there is also Java C as a C
so nice photos of this island volcanoes
there never been-- but obviously you
should know what coordinates by now
which is an island zoom not far from
saint-petersburg it's much smaller and
there is no coordination
sorry there is spot means he has a
command line so English it's called
Cortana statically typed for dramatic
language for JVM and JavaScript right
now it would have been statically typed
I guess self-explanatory use like sea
shark magnetic means code linting didn't
try to use some new features they tried
to create usable language right now
without too much experimentation that's
like compared to Scala let's say and for
Java and JavaScript means cotton can
compile to multiple platforms that
latest feature and this was originally
created for JVM now to compile to
JavaScript it works quite fine but there
are some with JavaScript I'll say it's
less mature there is also Cortland
native which is not released but it's
usable and Kraken
books so Koplin is open sources so when
github it's not it's Apache 2 license or
anyone can contribute based on this
repository that's like very
so you can see that's prison to line
this is time that's quite an amount of
commutes but a month
so this 2018 so the first three days was
over here 2016 so unlike JavaScript
which allegedly was written in two weeks
yes so intelligible what's happening Joe
cranes were trying this out and before
releasing lots of features and that's
why the language is pragmatic because
they didn't put all the features in they
put all the features that they were sure
they need right now or the problem is
that once you had a deficiency language
very difficult to take it out of the
language and so once he added too many
they all interact in very complex ways
it slows evolution of the language so
this is why features like tuples they
don't say no to them they say not right
now maybe lights will let them and so
that was version one no the next version
authorities was 2017 and with
multi-platform support so now it's
officially you can compile same code to
JavaScript enjoy them within one project
so that's similar thing which vertical
bar is amount of commuters per month so
you can see and I think despite it's
probably after Cortland was approved by
Google for Android development so many
more people started introducing
externally and I haven't really checked
this data there so if your analyzer that
gives communities you can prove me not
right prove me wrong so why not cease
fire but in reality if you developing
right now on dotnet and using C sharp
then just don't use Cortland
billion in production right because it's
very different platform and in JVM is
very different so you probably shouldn't
which so but if you want to have fun of
course again so what why not Java in
short Java vole slowly it takes ages my
favorite example semicolons there was a
panel with Java architects and there was
a question
well is there a chance semicolon will be
removed and the answer was like
technically and be done but there are so
many other things so in reality it's
never going to happen
so basically I don't know about c-sharp
but it's probably also there forever
because there are always more important
things to do you can get there and no
single colons in code and so why not
Scala is like skull wasn't that
pragmatic they added tons of features
like XML into language by team and when
to be too far so now they like it's
difficult to fix
and why not groovy because Scotland is
inspired by groovy c-sharp and Scala
because it's dynamically typed and the
argument goes that for large projects
when you have hundred people working for
ten years then he kind of wants
aesthetic types to know if she wrote
things so M Kirkland has its own
features which are also which I'll show
you in a minute so this was quick
talking did and then I'll show examples
in actual IDE so because I think it's
much better way I understand what it
really is rather than just look at some
slides so we should start with the hello
bro thing I've just realised I was away
from microphone kids so this is hello
world so just to show this is just
IntelliJ IDEA so you can see it's like
the reason this panel and it's all
running in presentation mode this is why
everything is so big so if I run this
thing hello world as you can guess it
will print forever over there right so
what's going on here fun is a keyword
main is entry point like in all C
languages the text arts which is
argument specifically on line array is
array of inputs and return type is
capital unit which is like void in
c-sharp or C so unit is optional so we
can kind of drop it then kill the braces
by 16 then print a LAN
if I click on this and go to source code
this is in Cortland IO is basically a
Java system.out.print to answer so it's
nothing magical going on and as you can
guess this is a string literal
screens semicolon optional so it is you
might also noticed there is no class
unlike a c-sharp or something there is
no class surrounding
the main function so you don't really
need a class so to show what this like
so I can what one that thing you can do
this extract message so what's going on
here this is dollar and message this is
string and interpolation and full syntax
for this is concatenate a string right I
can also do raw string literals or in
c-sharp I think they're called for
betting so if I run this if now we'll
print on two lines in separate lines so
I won't do these changes so the type of
the message is you can guess there is
local type inference and saying like
Java if I specified type explicitly
there's that's the type so you probably
notice here args that seems like some
like Java and c-sharp so you say the
name of the variable colon and then type
so here type is Courtland of string and
if I look at the bytecode of this thing
you can see that it kind of becomes well
what's looking here in Maine this is the
compiled code which I showed them this
is highlight of it is what it actually
becomes the trend time so this a compile
time is Copland dot stream at run time
it becomes java.lang string and in this
way it's similar to C sharp when you
have for example your lower case int and
at compile time and then run time into
the counts in 32 like in a way it's just
coated thing and in a similar way so if
I click on this string for example it
goes into Cortland so it's defined in
Cortland source code and if you run it
on JavaScript platform it will be
compiled to some JavaScript
implementation of a string so this is
how it compares to multiple platforms so
here type is for this message of this
type is not necessary because there is
type inference so here you can see this
interest occurs Val message so Val means
is read-only so if I want to assign
something to it it's going to be
compilations errors as well can it be
reassigned so I have to make it var
which is just like c-sharp syntax if
then it can't be reassigned
so I'll undo this bit
and I'll extract this as a function
let's go with greetings so what's going
on here extract the function so there
are several modify so public is also
defaults the interesting thing that it
was the other way around originally in
cotton for at least one default was
private and you had to specify public
explicitly but then the Chester mind
after analyzing Java code bases they the
statistic was that there are way more
public methods so they just decided to
save on typing
so unlike Java there is no protected but
there is internal thing which should be
familiar to c-sharp which means it's
visible within this assembly are a
compilation module so I'll remove all of
this so this is a greetings function
which takes a message of type string and
this is the full syntax real is this so
unfamiliar curly braces and then return
and this string but the result so
expression body just like c-sharp
but if it's one method you can draw
return type like this so this is similar
to C sharp 7 I think the expression body
so here like one more similarity to
c-sharp
there are extension functions so what
just I just did was refactoring which I
will do it again so it basically moves
this parameter into here so we pretend
that string has a method greetings
so in printer and we can say message dot
greetings and inside this this
interpolation we were so not argument
but to this and this will mean a string
again if we look at byte code this is
circling byte code we can see these
greetings really it's just as the line
it's just a static method which takes
one argument so it is really just
syntactic sugar right now so it's
equivalent to this but it makes a big
difference surprisingly big difference
once you start using it quite a lot what
what I mean is just aesthetic there is
no interpolation based on extension
methods nothing like that so it's just a
static how do this for a saya
so also unlike few languages
you cannot reassign arguments to
functions such as well cannot be
reassigned
we could try bar but it's also an error
so we basically cannot resign arguments
quite strict in terms of that so again
similar to c-sharp we can have default
values for unions and like so the
default if I run this it will print NDC
yeah unlike c-sharp
this is not just compilation time values
can be just some function to uppercase
something so this will also work so it's
a bit more flexible similar to this
there can be named argument so it can do
message message and inline message so
this is a bit more convenient so as I
say it's that one line so so named
arguments can be good really good one
more trick with extension methods
functions is that we can do something
like this do fun printed and say this
and print tool and so we can say any
where any is like object and then
instead of greeting we can do printed
this kind of syntax so it still works
just prints hello world
the interesting bit comes when we can
have nullable type and we can say now it
printed and it will print now and it
still works just because as I saw it can
converts to static method you can print
now it's okay
and to make things a bit more
complicated that so it's what I showed
is there is nothing special to it in
terms of JVM this is very standard this
is just running on normal JVM component
to normal Java code this is why it
interacts with Java seamlessly so all
the streams and numbers they interact
without so what i'm doing here some java
class calling static method on it and
then it just called printed method which
I just wrote if I click on bruton from
you can see this is actual Java because
there is semicolon so it's basically
interaction between cotton and Java so
to show the whole project it's pretty
normal Java it's compiled the respond
max ml if you know maven
that's huge maven definition or the same
definition in Gradle so basically all
you need to start using Cortland I guess
it's this line to add the Cortland and
apply Cortland plug-in and maybe cotton
reports so it's like few lines editor
Gradle and you can start using Colton
straight right so that was intense hello
world so this is what we looked at was
basic syntax string abstraction valve
are named parameters extension functions
and integration with Java if you want me
to go back and type something just give
a shout anytime in your comments
whatever okay
because it was intense fellow world
here's a random joke has nothing to do
with anything
so the question what comes first chicken
no egg and the recent if occur answer to
it like definitely egg comes first
because they were animals before chicken
which had eggs
that's why chicken always so this was
whoever old which was all about streams
and printing streams now moving into the
next primitive which is basically
numbers so factorial just as a reminder
for tauriel that's the formula I assume
everyone knows what factorial is so I
switch to factorial thing so that's an
example of factorial it's again main
function
so that's main inside my thing I didn't
show functions can be defined inside
functions again it's it's already done
it was like can I do it in Java but you
can do it in c-sharp 7si as far as I
know so I'll move this Victoria out of
main so inside main we print factorial
from 0 to 5 like this if I run this it
should bring something
so yeah looks right to me then the
implementation of tourist is naive
recursive implementation so again find
this keyword Victoria the name n is an
argument has type int before function
returns type int so if and last articles
and one then we return 1 otherwise we
call factorial for n minus 1 and
multiplied by n so it's all expands to
this formula which I showed in Wikipedia
one thing which I will just do we clean
up one thing is that if is an expression
in Cortland so return can be lifted out
of if so this is a valid thing it's
panic yes good decision I really like
this design so but there is right now no
January operator so there is no way to
do ternary there is another thing in
cotton which is going to switch
statement
so I there is a transformation from if
to when clause and when Clause means if
n less than 1 then it's 1 so it can be
multi-line that's the full syntax and
else we do this recursive case I don't
think is it's a good idea to go down
this path this way in this code so I'll
just convert everything to one line and
so similar to what I showed before this
int is actually if I navigate to it this
is defined in quarterly in primitive so
this is Cortland dot int the full type
but as it says in the documentation on
JVM it becomes lowercase int so it's a
similar idea that there is quadlin
compilation time type and then there is
a run time it becomes quite fun type so
if we could bytecode it should be again
just Java this bytecode are capital I
means it's a lower case primitive int
and again it depends on platform on
JavaScript obviously there are no means
I'm not really sure what's going to be
different may be a float never really
checked so and obviously this code is
not correct so if I put 17 the result is
negative which is definitely not correct
for multiplying several positive numbers
so the problem is the same I guess for
dotnet environment that this lower case
in to silently overflows
becomes negative so that that's clearly
wrong so and there is all the sensor to
use something like big integer big
decimal use big decimal just because
it's a bit easier to do in terms of
changing the code so basically these big
decimals you can see at the top is just
Java math big decimal so it's normal
Java class so here and unlike slide say
c-sharp
there is no interpolation four types
coffin is quite Street so you there is
no widening conversion no narrowing
conversion in a way it makes perfect
sense
because it makes the whole type system
is more straightforward because you have
int and long they're all subtitles of a
number but int is not some type of a
long so you cannot just convert them to
one another so here I would need to
change all of this say like that now if
I print it it should print a positive
number I think that's correct
so before I move on
this is 2018 and clearly I shouldn't be
doing it in Maine I should write a test
so I'll start with the class code like
factorial tests that's now the
interesting thing reached not related to
coding but there is an argument that all
tests the tests classes get late they
should be called not just tests but
tests with casts plural because you
usually have lots of tests inside it's
like nobody uses than convention but it
only means that everyone is wrong and
this is right so it means so here what's
going on I defined the class code thing
and inside the class there is one
function this is at test is an
annotation from j-unit so again it's
just using straightforward this orbitty
unit using annotation from J unit in
c-sharp that this is attribute okay and
then the interesting bit here is that
this backtick notation it means that you
can use spaces in functions really
useful for test names so yeah so it's
just absolutely normal name so you see
the
here's an autocomplete so it's just
normal function but it's not a very good
idea to use an actual code but for test
this is perfect so I'll remove I'll just
move all the printer lens into here's
the first step run it again so you can
see now it runs inside this J Unitron in
IntelliJ so the reason it works is
because it compiles to normal bytecode
which uses this annotation from J unit
so it's not different from Java from
unit test written in Java this is not
different so in this sense it's the same
way Escala groovy languages work in JVM
so here I need to also rewrite
assertions so I'll do this then to
import the right one I'll do there are
two ham crest implementations one with K
and one is normal I'm using here with K
K means for : very common so I guess
this one 1 2 6 2 something like that no
that's wrong see
and the last one I just don't remember
so no we're fine
so it was a bit like going back to the
factorial bit big decimal the what I
change just types here and I changed
this one to be decimal one this constant
and everything else just worked this may
be okay for c-sharp but for Java is
unusual because there is no operator
overload and all languages after Java
Longet was like all popular language is
the Edit operator overloading not
excluding Kotlin so all of these minuses
so if I actually put the whole thing
this is the actual function name - and
this is how it's defined for big
decimals extension function so big
decimal is a Java class but you can
define extension function in Java class
this is how all API is extended and then
there is convention if your function is
called - you can end and it has operator
keyword like here then you can replace
it with - and this is the same goes for
multiply less than and so on so it would
be nice though to not have this big
decimals but I have have something like
that so I'll try one here for examples
could do n minus one and one key is
going to be integer value so what is
wrong here is that it's just there is no
such function but it's easy to create so
basically that's the whole thing
and converts it to expression and so now
this will work so what's going on here
is that we defined extension function on
bigdecimal called - which takes into j
as an argument then we just wrap this n
into decimal and that's it we can do the
same with this but I won't go down there
so as you might guess this is still
wrong because if I do four torial
bigdecimal
let's say 30,000 then there is nice
thing like in Java 7 you can -
underscores for readability it doesn't
do anything just to doing it two numbers
this big so as you can guess this is
just stack overflow because 30,000
allocates too many frames so it just
explodes
so the resell this problem is that you
can do tail recursion optimization and
there is a way to do is in column there
is a keyword called tail rack so I
edited but like everything is
highlighted as yellow because Cortland
can see it that it's not tail recursive
it can't analyze source code and
understand that is wrong and I think
it's a good thing I think in c-sharp
it's happens on platform level not in
language level and you kind of don't
know did it actually work I did not so I
think this approach is a bit more clear
because it can kind of help you to
figure out if you not doing what you
intend to do so it's surely easy to fix
so I'll do like result of type a big
decimal default is one here will return
results otherwise to an end result by
end things now you see this warning
disappears and so should work yeah so I
didn't ascertain this but you see this
nice small number looks correct
so this is complicated factorial just to
show one more thing I'm not gonna go
into details about this but there is
also the other thing which is core
routines in Kotlin and I believe this is
the right way to write factorial in Cori
cursive way this is maybe great Annoying
interview question before a twilight SQ
about recursion but what about quarry
occurs it's my understanding this is
basically quarry cursive implementation
or factorial so what's going on here
I'll quickly show so this is the code
you would write in C sharp with yield
keywords and we just returned the
infinite stream of sequence of integers
like integers on here or this that
should be a big decimal but anyway so
the whole idea is that there is wild
true and then it yields and at this
point this execution stops now we can go
into details of how it works the
interesting thing about Gotham I
mentioned this is that yield is not a
keyword it's just a function so Cortland
also has co-routines but they implement
it on its a lower level of abstraction
so yield is just a function unlike C
sure but I said not going into too much
details feel free to chat to me later
so that was intense Victoria this is
what we looked at
well one thing I forgot to mention all
these big decimal in sensations these
are constructors or what is being called
here is constructor from Java math but
there is no new keyword in Cortland so
you don't type in you at home in a way
it makes perfect sense because you can
think about constructor is a function
which creates a new instance of your
object so maybe it's not why have
different syntax for calling almost the
same function so yeah this is what we
looked at the influence all numbers are
objects no new keyword operator
overloading tail call optimization unit
test because it was difficult that's
random joke so what it says is that from
technical point of view unless is never
empty because it would be empty in
vacuum but we done live in vacuum and
difficult to get vacuum so it's always
full of air or full of water and
discipline very optimism so and the
final thing is data munging code cutter
so code cut the whole idea of cutter is
a small it comes from martial arts where
people repeat the same exercise with the
same move over and over again to affect
it so the same idea was popularized by
David Thomas who wrote this book the
preventive program there and that's the
website it's used to look much more
serious maybe 10 years ago when I loaded
now that's with cats and there are some
examples of programming exercises
playing a code cutters so there it is
that you do it over and over again maybe
you use me short card so you use
different editor or do two different
programming language or do it with tying
linkage something like that so I'll do
one in Cortland which I think it's kinda
shows in touches on enterprise
development so that's got a number for
data munging
so the coal cutter is about reading and
processing files so part one is to read
a text file and find the day with
minimum temperature spread so there is a
file which I'll show and we just get the
lines then parse them and find the
number of the day for which temperatures
record in this file has minimum
difference then similar thing for
football and then trying to dry like
remove duplication from both solutions
now I'm not sure we're going to finish
this probably but it should give the
idea of what it's like to write actual
enterprise code and coughing so this is
the file that's the weather text file
I'm not sure what this thing is at the
top is like in typical Enterprise
Development you get some file from
somebody nobody's in a company knows
what that means but you know about these
three columns so this is the day and
this is maximum temperature and the day
in this minimum and there are just
thirty days one month so it's quite
small in real and surprise it will be
like maybe 500 megabytes
so that's data munching this is again
some code written in Kotlin test
framework which is different testing
from the previously we using J unions
pretty much like it is in Java but this
is called in tests and showing it just
show something different so to start
with quickly I'm just trying to read the
file in the first place so what I'm
doing here is using Java are your file
again there is no new keyboard so the
carriages like crates and files then we
can do read lines and then for each line
to land it so what's going on here is
that I'll just run it and see if it
works at all so as you can see it prints
back the actual file the loop set so at
least this bit worked so here we just
create file then we do read lines there
is no actual function and Java your file
so if I click on this I can see this is
defined in Cortland IO so it's again an
extension function this is how Cortland
extends Java API and this returns a list
of files list of lines to extract this
into lines and I specify type you can
see this is list and this is type
argument string so then we do dot forage
as you can guess this forage doesn't
really exist in Java so this is again
extension method on each rebel of type T
this is how you do generics then for
each takes one argument which is action
action is a lambda of this type so this
is syntax for specifying type of lambda
its input is T then it returns unit
which means void it just does some side
effects so in here does prints align it
the actual syntax for this is that like
that but because lambda is the last
argument then we can drop parents this
comes like from Gruden's color so
there's normal thing to drop parents if
lambda this argument then it's actual
syntax is this so we can say line and we
can specify type
explicitly so this is line of type
string but we can infer string and if
there is just one argument we can
convert this to eat
let's default name in Haskell it will be
underscore and in Scala is all scientist
code but this comes from groovy I think
it's called I think it's a bit more
readable so this is why it works so
there is one more thing to show is that
unlike previous tests there is some
magic going on because this is not a
function even so that was the syntax
here we basically have string literal
then we have curly braces and
something's going on that's a bit odd
what's going on here again I'll show the
food syntax so the actual thing is
operator overloading which takes this
thing so our test class extends the
strings back and inside strings back
class we have this extension function on
string
invoke which is also an operator what's
going on here this invoke can be
replaced with direct call which is just
parents and then because these parents
take the lambdas the last argument we
can draw parents so overall it's going
to be too clever maybe but it looks like
we call in some curly braces thin on the
string so this just shows how a
combination of just extension functions
operator overloading can make you cold
things and streams so I don't
necessarily saying that's a great thing
I'm just saying this is how far you can
take it and though there are even more
complicated examples so I'll quickly
diverge then into least just to show
like as the stuff I showed before this
is actually the Scotland collection
package and he is defined Lee so again
it's compilation time it's Cortland
collection at run time it's compiled to
platform collection and he list doesn't
directly correspond to Java list because
these least I read only so that's
another lesson I guess which few
languages took after Java was created
that default collections shouldn't be
mutable for this in Cortland there is
the highlights of this mutable list so
if you want to modify it you need to use
mutable list he read only means read
only it doesn't mean it's persistent
data structure that so here's me read
only list
I hope this all made sense I will inline
things back and I'll just move on to the
cutter so we just read all the lines and
I guess we need to us parse them somehow
to I'll do you this is simplicity now to
just split it'll use regex to splits its
own one or more space so now in output
we should see lines like splitters in to
at least so now we can see that's the
output see commas between the in so
that's why they were splitting but we
can also see this stuff at the top and I
guess stuff at the bottom which we don't
need I'll do the simplest thing just
also show of things so we can do drop
eight lines and then
then we'll get rid of those basa mental
thing again this drop and take the
extension functions divide in Cortland
you won't find them in Java so now we
have just the lines that we need then
next step might be is to extract only
the columns that we need for example
could you column 1 which will be J
number 4 and then I expect a 1 2 3 and
so on yeah so but we want at least like
three calls probably there are no string
literals and code Center there is that's
the way to do it it's like function
least off and then it takes elements so
now it will be three columns
there will be a tiny thing you can see
this is the star and there is one more
star here
so need to remove this it's typical
Enterprise to housing you don't know
what this means nobody knows let's just
and now it's okay to have a lease but
maybe you will want it to be more
semantically reached so we will create
class for to hold this like availed you
object to hold these three values the
way to do it and cotton is this concert
of data classes I can say whether entry
and it will have value as day-day of
type string value max value mean of type
and data class you know I think it's
coming in c-sharp age very similar thing
called record classes lets you know
scouts at case classes basically all
this thing is does that it says
automatically will define hash code
equals into string so here we can
replace this list with that so gives
tiny problems that it once ins
should be easy to convert like that
doing to int once again this two inch
extension method and Cortland which just
does this Java integer.parseint but even
this time instead of typing this we can
do change so looks much nicer to me so
I'm running it again and now should
expect those weather entries to be
printed
so now it's a bit more readable heck
finally to find in the actual entry
which there is a function to say mean by
and we can do max minus its mean so
there is no for each because there is
not one entry so I can say this now it
should print the minimum entry here's
I'll do a bit of refactoring so I'm
putting all this lines in separate like
that no it actually printed the right
entry for you like 14 I'll do a little
bit of cleanup I mean that's an example
why names arguments can be helpful
because they speeds to trains it's not
readable but instead of extracting
variables I'm just giving names to
things I hope it's more clear and now we
should write an assertion probably
because this is like what we should do
and there is this function for this
testing framework called should equal so
if I do this the interesting thing is
that like should equal is defined again
somewhere in strings back I believe yes
um the interesting thing is a function
defined on T which is type argument but
the interesting is that it's in fix it
has keyword in fix which means it can be
you can drop dots and parents I'll do it
again
so you can do this kind of thing yeah
it's it makes it a bit more readable
especially for test I think because it
separates what's your actual unexpected
so it's a bit more clear what's going on
so if I run this now it should pass and
this is an actual assertion
right arguably this is still not that
good because the original thing was
about finding day so we should probably
search on actual day nutted on
everything otherwise it's a bit over
specifying the data and if I do this
it's kind of looks like a Excel doesn't
compile and this is because of now
ability in Kotlin so cotton is not happy
about this because the actual type of
mean entry is where the entry and
question mark and question mark its own
it's not exactly like c-sharp Naugles
yes I understand and correct me if I'm
wrong the C sharp the question mark is
almost like syntactic sugar wrapping
into internal above class and in
Cortland is baked into the type system
so like similar to c-sharp the answer is
to do a question like dot and then if
mean entry is now then the whole
expression will be now and then it will
be now should equal 14 will fail and by
the way it's not able because we do mean
by and mean by on an empty list is
nothing so there is no way to be sure
that there is something so that's quick
quick divergence into Kotlin type system
because of malleability so that's let's
not prices blog post this permission I'm
sharing it so just really quickly just
looking at the picture so the way it
works at the top of type hierarchy there
is an e which is like stream classes can
inherit from any then there are
interface so there is single inheritance
just like sea shark Java but multiple
interface inheritance I have tomato it
implements two interfaces I can go and
sell it and all classes intern Antonia
now we go to move onto nullable types so
now both types they basically could be
the actual type so if we have fruit
there is fruit question mark and there
are two parallel type hierarchies and
also classes without any without
question mark so none malleable are
subtypes of malleable so this that's the
whole thing like hierarchies kind of
connect to each other in this way and it
makes sense because malleable type has
one more value so it's like
the size of normal time then there is
Union which is like voice I'll skip this
then at the bottom like in here
otherwise there is type nothing I can I
won't go in details but it can be useful
to have nothing because it basically
means termination of execution in the
program it can be useful and then there
is nullable nothing and there is also
inaudible units are confusing no it's
not really confusing in this way type
system is quite well designed and
symmetric and so on so in this case
going back to the problem
it was nullable entries so just like
this so the best way is privileged a
question mark dot here and this is how
like we found minimum day now we can
move to part to find team with minimum
goal difference fine team go to friends
so it's similar we using this tree non
strain reason overrated overloaded
operator just to show the data for part
to this football very similar teams
inside text file so I'm not gonna type
the whole thing he'll cheat all the I'll
just paste some code which is almost
what we need so this is going to be
football data so it's like the ID is
absolutely the same so we have this data
class 14 entries will have name go for
against then we have this code which
what does load the file football date at
which we just load then we read lines
drop 5 take 21 then there was one line
which was raised this - just - its then
we keep this line then we do split then
we do map and then same thing team entry
with : numbers so it's like the same
staff basic then slightly different we
mean by by absolute value because there
is no mean max it just goes and then we
do dot printers from color world so
hopefully it will just print the right
team
so if I click yeah that's the team entry
I know this is correct so we can also do
entry
should be named Ike and should they call
us to do
so that's a calculation so that's the
thing now if we want to move on we can
do part three or yeah we can try part
three so basically now this works and
the third page is to extract as much
common code as possible so you can see
this is quite similar so there my idea
would be just to make these bits of code
as similar as we can and then we can
extract them and like see you see how it
goes but no obvious difference here the
first difference is like we dropped in
different amounts of lines and doing
this here so I would attempt to do the
following thing so there is a function
built in codes and called map not now it
basically will do will call create an
entry but then here will do now on
exception and this is some other
function so basically what's going on
here if this parsing conversion to
integer will explode this with now on
exception will catch the exception and
return now and this map not now will
filter out nulls so this method maps and
also filters out Mouse there is
alternative way to do it like this for
example to fill turn up now but they're
equivalent
I'll keep map that well I'm not saying
this the cleanest way is whole but it
was like it was straight few things so
with now an exception as I defined it
myself in this file that's what it is so
it's been line function so that's
another keyword in Portland where you
can tell compiler to definitely inline
this function everywhere yeah the rice
case when it's useful and then it's it's
a function which takes this F so it's
high order function and basically just
calls F in try catch ignores the
exception and returns now so this will
now kind of work for our file so I
removed these two lines here just remove
them and write test run test again so
hopefully it should work
so it still works for football so now
can do the same thing for weather so do
you map not now do with no exception so
I can drop this thing now then there is
this difference which we remove this tie
for weather but don't really remove for
football probably should can remove
involvement concurs and then the next
difference is creating the entry which I
don't think can be easily defector so I
would extract it as a function outside
of conveying then we move to mean by and
mean by it they're different because
those two entries are different this is
where it would maybe help to have some
super type for these two data classes
and so the naive attempt why did you say
is to data class let's say call it entry
and have some kind of key of type stream
and then these data class will implement
entry and say this is a day as a key
there is a problem it's not going to
work at all because cousin says the type
is fine also it can be inherited so it
says that entry is final which can't be
that's the interesting things that like
many other languages in Cortland all the
classes are final and all methods
everything is final by default so if you
want to extend you need to make them
open so I'm using this making Cubert
open then there is next problem open and
data data is just modifier like they
don't work together so if I remove data
it so becomes all fine but then it kind
of defeats the purpose of why we
inherited from day anyway and then pass
in so it's it's kind of questionable sir
yes in general I would do it maybe this
way so would define interface and then
inherit from interface implement
interface and process so something like
this so here what we're doing was saying
this class inherits implements interface
then there is keyword override and it
overrides the value value here means
read-only field on an object and in real
- really just together so the same thing
with team so we need one more thing I
guess being called criteria and then to
implement this as well and this can be
my ex - mean and then the same thing we
can do for team entry and didn't fill in
those two things you might notice here
this gets then this is because Cortland
also has Gators and I'm gonna go into it
but it's also has getters and setters
like some other language no apps then go
against and so but you can see where it
goes the whole thing so now these
classes can be replaced with entry so
for example here instead of max I should
be able to do criteria and here instead
of this math perhaps I should be able to
do but each criteria
so I'll extract then this whole thing
what method a function called find entry
in and then can extract this file name
then the thing which is still specific
to each case is this I'll extract this
is a function will break because it
should take a list of strings and return
an entry so here what's going on that
and it returns an entry in that team
entry and this is a key
so with this that's the finding team
entry so basically takes the filename
and then takes this closure which is
again outside of parents and then just
create steam entry so this rounds then
the same thing should be applied so it
still passes so the same thing should be
applied to this case
I can do this this is key this is so
back that did pass so this is basically
the reflection it's one way to do this
code cutter yeah she'd have any
questions or comments tell me I'll
switch back this was a collection Tina
showed but doesn't matter well this is
what we looked at was quite a lot for
the Conklin collections lambdas thing I
didn't mention those and there are no
checked exceptions because in Javan
normally if you read from file you will
have to catch some exceptions again I
think all languages were popular
languages so jvm dropped this idea for
better or worse and there are data
classes we looked at now both types and
cost and tests with this tricky invoke
thing on the string so again render a
joke this is how you do
SQL injection on speed cameras and this
is it do a little bit more talking so
obviously there is homepage for coupling
length tour torque right there is a
website where you can type some code and
run it on line with zero installation
then there is like the best guides to
learning a little bit of Cortland is
this Cortland Cohen's written by
JetBrains people is pretty good if you
don't know a colon it's a bunch of
failing tests and you need to complete
the task and then the test will pass you
can clone it from github or try it on
this website it's really good thing I
did 99 for Cortland problems basically
there was this what somebody wrote 99
Prolog problems then it was trans
transform to Scala I did the Scala
wonder every digit and Colton did it too
many times then there is great side
Copeland EarthLink it has a bunch of
stuff if you interesting obviously there
is Twitter there is a blog for causing
the best thing about this blog is it
showed his coffin existed for many years
and they've been blogging all alone so
he read all the old blog posts you will
see evolution of the language is like
the yeah there were quite a few
interesting things and the way the
document is really good
there's also cotton
it's pretty good there is this discussed
forums there is slack cycles quite nice
you can see in this screen chooses 5000
people now it's 15,000 because I took
this connection one time ago before
Google approved courtliness
first-class language for Android then
there was cotton conf in San Francisco
and there will be somewhere in other
next year or this year
sorry there will be another conference
it's not announced way yet I hope it's
in Europe maybe here and then there is
the : future there will be 1 point 3
days there are core routines which
already released but the interesting bit
is library supports for career scenes
and then the risk Oakland native as I
said the Scotland is multi can multi
platform so right now coordinators
actually works you can use it but it's
not production quality so hopefully it
will be maybe in a year so it will be
interesting and this is pretty much in
thank you for watching</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>