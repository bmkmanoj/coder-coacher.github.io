<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Domain Architecture Isomorphism and the Inverse Conway Maneuver - Dylan Beattie | Coder Coacher - Coaching Coders</title><meta content="Domain Architecture Isomorphism and the Inverse Conway Maneuver - Dylan Beattie - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Domain Architecture Isomorphism and the Inverse Conway Maneuver - Dylan Beattie</b></h2><h5 class="post__date">2016-10-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qCmEs2FPIKg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">good afternoon NDC you'll have a good
time excellent you're learning a lot
brilliant my name is Dylan BTW for the
next hour I'm going to be talking to you
about something called domain
architecture isomorphism if you don't
know what that is yet you're in the
right place by the end of the hour
everything will be crystal clear and I
am going to prove to you all that we all
need to stop having meetings otherwise
the internet is going to stop working
sound good all right so I bet a
background about me I built my first
webpage in 1992 I've been building
websites and web applications and that
kind of thing forever and over the years
I I have become a systems architect
because I'm one of those developers who
used to complain about other people's
code until eventually they said fine if
you have strong opinions about
everything then why don't you just go
and be in charge of it all so my current
role is systems architecture I design
systems and I design the way systems fit
together and one of the interesting
things that I have discovered over years
of doing this is the way that the your
team your organization the people you
work with and how those people interact
has a profound effect on the structures
and the design of the systems that you
create so what I generally do is you
know we come up with an idea for a
system and opportunity something I'll
draw an architectural diagram which is
rectangles and lines and everyone go oh
yeah that looks brilliant and then
they'll come to me further next six
months and go what is this rectangle
mean what does this line me and so this
is my definitive ultimate architecture
diagram so every project I ever do i'm
just going to give them a copy of this
at the beginning and wait for people to
come and ask because that's what's going
to end up happening anyway now when i
first started my my career in
development it was the late 1990s and i
was building basically cookie cutter
websites work for a small small agency
client would come to us and go you know
can you make us a website and you know
we're talking this kind of era of the
internet we're talking netscape
navigator and doom and quake was still
quite exciting so someone come in you
know we have a couple of meetings and we
just get something out and we'd get them
to sign a contract which
Shirley said that we charge them 15
pounds sterling for every hyperlink that
we put on their website because we used
to actually when a very first started
people to add those manually and you
charge them by the hyperlink and even
back then one of the interesting things
we noticed there was a sort of an upper
limit on how big a project we could get
right well you know that the devs I
worked with all graduates intended to be
one person would do one thing and
anything you could finish within three
months would generally work you ship it
client would be happy everything get
paid anything beyond that kind of
three-month sort of planning horizon
window would start to get a little bit
messy now I did a bunch of things I
probably built 20 or 30 different
websites over a couple years and one of
the clients who I started working with
back in those days was these people now
I gather you have something in Australia
called spotlight which is a very
different spotlight to the spotlight
that exists in the UK because we've had
a couple of people come over and join
our team so spotlight in the UK is a
it's a 90 year old startup basically
it's a company that's existed since
nineteen twenty seven that prints and
publishes directories of professional
actors and actresses and the the main
the backbone of our business now is
recruitment for actors you know actors
looking for acting jobs everything in
the UK in Europe you know the top and we
got stuff like you know Star Wars and a
lord of the rings and Doctor Who and
Prometheus and all the way down to you
know Land Rover commercials and
corporate role play and training videos
and it's a very very interesting
industry to work in because it's a
really interesting combination of
creativity and show business and
technology and occasionally we've had
people come over from from Australia New
Zealand to work with us for a while and
when they ring their folks back home and
say yeah I got a great job working at
spotlight they have to then go in and
explain that this is a different thing
to the one you have over here but the
interesting thing about them is I've
been working with them for a long long
time and so same problem same industry
same organization but lots of different
team structures lots of different ways
of working and so I've sort of had this
firsthand experience of seeing the way
different teams and different
organizations solve different
generations of the same problems and so
there's some stuff in there were going
to be talking about over the course of
the next hour and the other thing I
gonna be talking about is this guy this
is a pakled Melvin Conway Mel is a
proper old-school engineer Mel studied
physics at Caltech and his physics
professor was Richard Feynman who went
on to win the Nobel Prize Mel wrote has
anyone ever heard of mumps the
Massachusetts University Hospital
programming system Mel wrote the
definitive book on programming mumps
he's been coding and building systems
for you know decades his first system he
programmed had drum memory in it that's
how long he's been working in this
industry I had the pleasure of meeting
Malin Vilnius last year he did a keynote
at build stuff there and we were
chatting about some stuff really really
interesting guy but the specific thing
that he did we're talking about today is
something called Conway's law so this is
1968 and he wrote a paper for data
mation magazine in which he made this
observation that organizations who
design systems are going to produce
designs that copy their communication
structures there's a very sort of pithy
paraphrasing thing of this which shows
its age which is if you have three teams
working on a compiler you're going to
end up with a three pass compiler now
you know does anyone in here build
compilers we build all different stuff
nowadays but the principle and the
pattern still holds true now you know in
say organization that design systems
we've got some very very nebulous terms
in there what's an organization what's a
system what's in anything and for the
purpose of today we're going to define
system is basically anything that has
moving parts anything with components
anything with behavior data dependencies
logic rules and we're going to look at
how those systems get created and where
to look at the teams who create those
systems so we're going to start with the
absolute worst case scenario which is a
collaborative project created with no
organizational structure whatsoever
there's a guy called Rob Aston who some
of you may have heard of Rob put his
homepage on github and anyone who
submits any put request will get
automatically merged and deployed to
code of Rob calm this is rob's homepage
this is a collaborative project with no
governance whatsoever anyone who wants
to can go on and put anything at all on
there
is actually a screenshot of Rob's home
page because every single thing on that
page moves the CSS animation there's
flash there's animated gifts and I've
actually crashed my laptop before trying
to render that so now I don't show the
live page but we'll do it at the end
once we got all the important stuff out
of the way and you can see how how great
this is so this is the one extreme this
is what you get if you have people
collaborating and you have no
communication structure whatsoever you
have anarchy you have anything goes it
might sound like you know this doesn't
really happen but has anyone ever been
working on something where you've stayed
late to finish a feature or something
and you've submitted it and then you get
in the next day or come back after the
llegan and someone has taken it back out
because they didn't like the thing that
you did and you're like why didn't you
talk to me before doing that you know
and you get these things happening you
know this is a degenerate example but
you do get in in open source in teams
and companies you get these examples
where people just don't talk to one
another and someone does a piece of work
and then someone undoes a piece of work
or two different people do the same
piece of work at the same time you know
there are how many different ways and
the microsoft.net framework of combining
two paths fragments to make a bigger one
and you're thinking that somewhere in
redmond are some people who probably
should have lunch together once in a
while and swap notes on how that solving
stuff because you know it happens anyway
let's so this is an organization chart
this is what all all software companies
look like now so we've got our
architecture astronaut who reports
through the head of buzzwords and the
head of micro services and the head of
frameworks who report to the CTO I've
got the CEO the CFO the c-3po will
report to the CEO so this is you know a
classic template of a sort of top-down
line of management hierarchy type thing
we then have just another couple of
little examples to throw in because I
absolutely love these these are mono
Cornett's organization diagrams this is
amazon this is google this is facebook
this is Microsoft you may have seen this
one in Scott Hanselman skena this
morning and these are a few years out of
date now so this was Apple under steve
jobs with the one guy in the middle
telling absolutely everybody what to do
and then the last of these examples is
the Oracles organization diagram where
they have engineering over here and this
is the Oracle legal department okay I
you know it's it's fun it's it's satire
and it kind of pokes a bit of fun at
everyone's perception of how these these
organizations and things work so now
we're going to look at some very left
field examples of organizational
structures so the first thing that we
are going to look at the first
organization that we're going to explore
is this one
so that's John Williams conducting the
overture from Superman with the London
Philharmonic Orchestra orchestras are
the best waterfall organizations in the
world when a symphony orchestra you know
does a performance or they do a
recording they have a project plan it is
the best most detailed project plan you
will ever see because every note every
movement every single thing that any of
the musicians in that Orchestra do has
been planned in advance and written down
on a score so they all have their sheet
music in front of them look at where the
lines of sight are look at the way
people are paying attention look at the
communication structures that are
happening in this picture so everybody
who is involved in creating this
performance everyone working on this
team they have their sheet music in
front of them and they are watching the
conductor the conductor is the project
manager they know exactly what they got
to do and they got the guy at the front
who is just setting the pace this is the
cadence this is our sprint cadence one
two three four orchestras cannot
improvise orchestras cannot adapt they
are perfect examples of waterfall
organizations and if you imagine you
know the Sydney Opera House out there
across the bay if that thing's full
you've got however many couple thousand
people have paid one hundred two hundred
dollars a ticket to see Mozart's 21st
piano concerto they do anything else
than that project that recital is going
to be deemed a failure because
orchestras are waterfall organizations
who are very very good at reproducing
consistent results based on a given set
of inputs so now we're going to play
another clip just to contrast this
approach so this next clip this is Miles
Davis live in montreux and I just want
you to pay attention as you're watching
this look at what the musicians are
doing and look at what they're paying
attention to
you
you're the round of applause there they
just responded to change over following
a plan they did an agile thing and they
got the feedback they got the customer
feedback and they're like this is
interesting you know the thing on the
plan actually let's go off piece here
let's do something different and the
only reason why they can do that is
because they have these communication
structures the last thing that any of
these people are actually doing is
playing what they are doing is they are
watching and they are listening you know
these are people for whom the mechanics
of creating and performance are
completely second nature like very very
proficient developers right proficient
coders actually coding is really not the
thing they are worrying about when
they're trying to deliver systems and
trying to solve problems because you get
to a level with coding where the coding
part is so easy you can probably do it
in your sleep working at what you code
what's the next most important thing you
could be working on what's changed since
the last time you took stock of the
things you're working on and so think
about the organization's and the team's
you work in are you working for an
orchestra a year in Miles Davis band and
the worst of all possible worlds is a
symphony orchestra where the conductor
goes off and he does a three-day agile
certificate course and it comes back in
he gets up day picks up the sheet music
and goes we don't need this anymore
we're agile now and everyone stares with
him going and now what because if you
have organizations that are trying to be
something that they are inherently not
it's not going to work you know you
cannot turn a waterfall organization
into an agile organization just by
saying you are going to be agile now
this this person is your scrum master
they're not you know there's still an
old school waterful project manager you
cannot become go from waterfall to agile
just by changing one person's job title
okay so couple of fun examples let's
talk about some real examples so what
I'm going to do I want to talk you
through sort of 10 years worth of
evolution of the code bases we use at
spotlight the project we've created and
the way those are changed over time so
when I first started working with them I
said I was working in this job shop we
had a whole bunch of clients
so using my amazing organizational chart
notation the blue things of stakeholders
now the first thing we had spotlight had
a project manager they had a head of IT
and all the other people all that
customers all their business
stakeholders they all talk to this guy
and then this guy would ring me up every
couple of months that's me or one of my
co-workers and he say hey can you build
us a system to do this and we'd say yeah
here good your system and then they go
quiet for a couple of months and then
they get some more budget or they'd have
a good idea and they'd ring us up again
and go hey can you build us a system and
we'd go yeah sure and we'd build them
another one and these are all you know
little self-contained not microservices
these were just small monoliths that
didn't talk to each other you know every
time the only integration point we had
between alias was a big shared sequel
database sat in the back and this
pattern went on for about three years
and at the end of that three-year period
guy in the middle left he quit and he
moved to Thailand and they rang me up
and said you know why don't you come and
work for us and it sounded quite
exciting so I moved up to London and I I
joined them and ended up with this
structure and the first thing that I
realized was oh man some idiot has been
building little websites for the last
three years and sticking them all over
the place in May there's no shared code
there's no modules there's no dependency
management these things are all just sat
out there as little isolated islands now
the reason why I think that's
interesting is because you tend to think
of communication structures as being
ways that people talk to each other now
the communication structure that was
missing here was a plan we didn't have
because we were being brought in to do
six weeks worth of work and then they'd
you know we'd finish the work we'd go
back to do something else and then
they'd ring us up again there was no
kind of roadmap there was no
communication structure connecting this
piece of work to this piece of work to
this piece of work because each one of
them was done in isolation and one of
the biggest things that started to
change when I sort of joined them
full-time was suddenly there was some
continuity to this thing I was still the
only developer working on it because
this was when we were small enough that
i was doing most of it myself but the
difference between six weeks on and then
two months often six weeks on to going
full time is that suddenly there are
some
some continuity there is a communication
structure which you know it's just like
a notepad file where I kept a list of
ideas and stuff but even then you can
see a distinct change when it goes from
these little standalone projects to
things that actually look like they're
working towards a goal so this is me in
there all stakeholders are talking
directly to me for a while it is an
incredibly productive way of working
someone wants something they ring me up
boy email me on like yeah we can do that
and we turn it around and we do it you
know it's I basically in the course of a
given week I do development I do help
desk I did network stuff I used to make
network cables it was great you know you
got to do absolutely everything install
operating systems on servers put the
server in the rack plug it in isp what
they call a full stack developer back
when it actually meant something but it
we started doing quite well you know we
as I said it's a very old company and I
joined them kind of on the cusp when
people were moving away from books and
CD ROM to doing stuff online and you
know the Internet's quite popular a lot
of people thought it was a good idea and
started using it and we started growing
very very quickly and it wasn't very
long before they said I you know let's
hire another developer so what they were
thinking we were going to get was this
so there'd be myself and one other
person and we'd be talking to each other
and exchanging knowledge and we'd be
able to cope with twice as many
stakeholders and what they got was this
so the first thing that happens is
they're like we need to hire another
developer so we can move quickly we get
another developer and everything stops
for six weeks because that's how long it
takes to get this person up to speed and
while I'm you know training them and
showing them the ropes and explaining
where everything is I'm not doing any
work either and what starts happening is
instead of this you know lovely
structured organizational knowledge
sharing thing people are just hassling
whoever they can find if I'm not at my
desk they'd hassle down if Dan's not as
dust they'd hassle me when the phone
rings and it's a customer with a bug one
of us would pick the phone up whoever
pick the phone up would probably end up
doing it end up managing it and so if
you look at the code that was created
during this particular period of history
you'll see exactly the stuff I was
talking about earlier you see you know
both of us
will solve the same problem like a bug
report would come in and for whatever
reason we wouldn't coordinate that I was
working on it he was working i went out
fixing the same bug twice and this is
back when we started off using beyond
compare to do production deployments
like literally you take your workstation
you take the life machine and you'd see
which files were different we mated from
that to subversion nowadays were on
getting we've got octopus in team city
and everything is much much shinier but
you know it's interesting looking back
as you can still see traces when you go
and look into the code in sort of say
are so this this stuff is actually
replicated in two places because when
that logic changes you need to remember
that there's another copy of the logic
over there and it's probably written in
a different language because this was
all classic ASP so some of it was
jscript and some was vbscript what fun
anyway so this is all going along and we
make one of the classic mistakes that
all companies make we decide that what
we need to do is a big rewrite because
this is all getting a little bit messy
and we decide that the best thing to do
with the rewrite is to adopt something
they call a skunkworks model which is
where you basically say right we're
going to have a team over here who deal
with all other kind of day-to-day you
know maintenance and debugging and help
desk and everything and we're going to
put some people over here who are
completely free to concentrate on the
new shiny thing thinking with skunk
works project is when they work they're
quite famous the IBM PC was a skunk
works project you know IBM are building
these massive mainframes for businesses
and they realize they need to start
something they consult a small company
Sunday it will fit on a desk and there's
no way that the big company can do it so
they put a couple of people in a room
and say you know go and build us a
desktop a personal computer pc microsoft
xbox was another great example of a
skunk works project you know microsoft
make beige office software and suddenly
someone goes hey we need to compete with
Nintendo and PlayStation and Microsoft
is you know at that point not capable of
competing with that so they put a bunch
of people in an office and they give
them an unlimited credit card and say
hire who have you need do whatever you
need make us a console and the reason
we've heard of those ones is because
they succeeded most think works projects
do not now the big mistake that we made
when we tried to do this the people over
here were no longer in
loop when it came to the day-to-day bug
reports user feedback customer
interaction you know all the people who
were doing real work are over here and
that talking to this team and this team
are off you know merrily waltzing off up
their ivory tower completely out of
touch with what's actually going on and
because there is no communication
between the teams after a fairly lengthy
development cycle we realize we've built
something very clever that we can never
launched and the reason we can't launch
it is because this system here is making
all of the money it's got all of the
real work going through its controlling
all of the revenue and our system has no
interface there is no communication
between the new system and the old
system because there was no
communication between the team building
that one and the team building that one
so any kind of you know that sort of
skunk works development that the two
examples i cited IBM and the xbox they
worked because the Xbox didn't need to
talk to anything else that Microsoft did
you know standalone games console it
didn't even have a network capability to
the first generation one no didn't need
to run office didn't need to run Windows
it was completely standalone the
skunkworks approach can work very well
if you genuinely need to effectively
create something that otherwise would
have been created by a competitor if you
genuinely get an advantage out of having
that sort of you know that wall between
two parts your business it can work but
in our case we learned a lot we got a
library of very useful code snippets
that we still go in and pull things out
of from time to time but because of that
lack of communication between the two
halves of the the organization we ended
up basically giving up on the rewrite
going back and focusing on on this thing
and enhancing this thing now the next
pattern that happens is we start looking
at agile and you know the idea of having
a backlog and having a product owner and
all this kind of stuff and the model
that we are looking for here these are
all your stakeholders they feed into a
product owner who maintains a backlog
backlog feeds work into a team the team
is self-organizing they communicate
amongst themselves this is the textbook
example of how this is supposed to work
the difficulty with imposing this model
onto an existing organization is that
everyone disagrees on who this person
should be because people who have been
working in an organization for a long
period of time they know how it works
they know understand the industry they
understand the people they have all
sorts of incredibly valuable domain
knowledge and it is very difficult one
of the most difficult things about
software is that the people who use it
of people and the people who build it up
people and people are not logical you
know people are irrational people have
things they like and things they don't
like and they have all of these very
very sort of strange ways of associating
value with things and you know we found
something which I've found in every
organization i've talked to seniority
you know someone thinks that because
they have the knowledge they also have
the authority to make the decisions and
you know I've been here a long time and
I knew best I should be the one deciding
what happens here and so the idea of we
went through a phase of saying to these
people why don't you own the backlog for
a bit and you can prioritize your own
stuff and that didn't really work
because being a product owner is not
just something you can slap on some one
alongside the job that they're already
doing so we tried recruiting people into
this role and again it didn't work
because the the powers-that-be were
understandably reluctant to go no we're
going to take our hands off and let this
new person who doesn't understand our
business make all the important
decisions and so what we actually ended
up with was this which is we nominally
have a agile process but actually we've
got three or four different people
fighting over what goes in the backlog
and in some cases splitting multiple
backlogs now the biggest thing if there
is one sort of sound bite you want to
take away from this talk today it is you
must have any backlog any stream of work
anything you must have a team dedicated
to it all the time if you've got a
backlog have a team to go with it a
backlog without a team is a dumping
ground for things that will never happen
and it's very easy to build oh no we'll
have three backlogs and you can have one
and you can have one and you can have
one and then they say okay well we've
got one development team you know which
back load are we working from right now
LOL self-organized i don't know
get out it doesn't work you know if
someone wants a backlog they have to
come up with budget or they have to make
the case for getting a team to go with
it they want to prioritize they want to
manage those decisions you need to take
the business case why do you want a
backlog you know what are you doing are
you going to save money are you going to
make money is this something we have to
do because they've changed the law why
do you think you need to be able to
prioritize and coordinate a stream of
work independently of everyone else's
and quite often you'll find they
actually have a pretty good case for
wanting to do this and it will make
sense to appoint some guessing people
put them on there right that's the team
that's the backlog the other person
prioritizing making the decisions off
you go now it's around about this time
that I started doing a lot of reading
around organizational structures and
Conway's law in particular and also
reading at that domain driven design and
this idea of domain boundaries within
systems and so the model that we started
moving towards it's something more akin
to this where you've got you know sort
of stakeholders all around feeding in
things into various different backlogs
we have one team per backlog of the top
of each backlog we have a developers and
product people so you know developers
coders front-end back-end QA product
ownership you know the idea of a team
what Jeff Bezos called the to Peter team
so group of people small enough you can
feed them all on two pizzas now we got a
couple of devs who can eat two pizzas by
themselves I'm one of them I don't think
that counts you know I think me and two
pizzas and an incredibly productive
organizational unit but people disagree
but so the idea here is what you want to
do is to identify there will be bits of
your infrastructure bits of your code
that need to talk to each other a lot so
the people building those the people
should be talking to each other a lot
and you will have bits of your
infrastructure that don't really need to
talk to each other very much at all so
those are the ones where you can take
two teams and put them in at different
ends of the building or in different
floors of the building and the idea is
that you define the interfaces between
these components of your system and then
you physically and
we move people around to reflect the
structure of the system you are trying
to build so you end up with something
akin to this now you know one very very
easy way of doing this is you say okay
well this team I've SAT together they're
all sat on one desk they talk to each
other all the time they build this
system this team one desk they build
this system this is an interface and
this thing here is say a weekly meeting
where the one team and the other team
get together and they say okay we need
this data out of your system and we need
to process the following commands and so
you have a within the team itself you
have a very organic loose-leaf
collaboration structure where things
just kind of evolved because you're free
to do that when it comes to defining the
interfaces between those systems you
need to be more disciplined in terms of
the way you build the system so you
potentially also want to be more
disciplined in terms of the way you
collaborate and that approach can work
fairly well because it means that
changing stuff within the box is cheap
and it's easy changing stuff that
affects the interface boundary between
them is just you instinctively think of
it as being more expensive because you
have to call a meeting because you
cannot just shout over the table and go
oi can i change this and one of the
other things we realize is that this
sort of this notion of interfaces is
occurs lots of different levels so one
of the things we do we basically were
looking at decomposing our organization
into membership publishing and casting
so membership for us is business
activity how do we make money how do we
communicate with customers this is crm
this is email campaigns this is
membership payments billing all that
kind of stuff and then we got these
other two pillars publishing is about cv
data so one of the key things we got is
a huge database of actors actresses
credits shows they've been in
productions they've done how tall are
they you know can they speak French can
they write a motorcycle and then on top
of that we have the communication
services someone goes on and says you
know I'm making star wars on ice the
musical I need someone who looks like
Han Solo and can sing a tenor down to be
above middle C and can ice-skate and so
these are these three systems and they
do compose quite cleanly and a thing we
realized is that if you look at
membership from with
the membership domain you have
communications you have billing you've
got SMS reminders you've got discounts
and product catalogs but the other
systems don't care about any of that all
the other systems care about you log
onto spotlight and you try and do
something and we just want to know are
you allowed to do that today are you up
to date are we chasing you for money or
a you're paid up and so for the rest of
the system or the rest of you know that
the company we can treat membership as a
black box with like three inputs and
outputs you know authenticate who is
this person they're trying to use this
service are they allowed to do that and
so there is a natural kind of organic
boundary between that element of the
system and everything else and it makes
sense to try and structure the
organization such that there is a
organic boundary among the people who
are building it Oh as well as the
boundary between the systems at the
moment we are one of the difficulties we
have with this model so when I first
gave this talk or a variation on this
talk a little while ago this was very
new very exciting everyone was bought
into it one of the problems that we're
finding is it's actually very difficult
reorganizing people because you know you
can't just go right you you you you you
you're not on the new organizational
chart by by and someone can hire us 17
new product owners it's not how life
works you know these are our friends
these are people we enjoy working with
these are people who have really
in-depth knowledge of the domain we're
working in other systems we're working
on and it's not that easy to just
restructure them to fit arbitrary things
so it's an ongoing process and it's one
that's very interesting we're learning a
lot as we go along and and it's
interesting looking at the do you have a
structure that works with the team you
want to be in two years or do you have a
structure the works with the people
you've got now because if you're trying
to build a structure that you can grow
into it's going to hurt whereas if you
build a structure that fits comfortably
now it's going to hurt in two years when
you start growing out of it and you go
through phases when you have a structure
you're growing into and everything feels
very easy and then you're going to hit a
ceiling where suddenly the growth
becomes more difficult and you need to
restructure you need to change something
let's look at another example so
following on from this one of the things
that
we ended up doing was outsourcing some
work so let's say we're building this
we've got a you know very very familiar
we've got a front end web app here and
we've got an HTTP JSON API layer which
might be restful or it might not I don't
really mind and then we got a sequel
database you know very very simple
straightforward stuff and the architect
has decided that there will be no direct
database access from the web to the
database everything will go through the
API but this is what your team looks
like so you've got your web app team and
your sequel team are both based in the
UK they're probably in London have that
are in the same room they're in a
basement and they go drinking together
after work and on the weekends they play
racquetball together and you have just
told these people that they are not
allowed to talk to each other systems
anything they want they have to ask the
team in Hungary who are building the API
layer how long do you think that's going
to last you're going to get to Monday
lunchtime and someone's going to be like
are we need to draw the shopping cart
page and the guys in Hungary aren't on
skype right now because they're two
hours ahead or two hours behind or
something can I just get into the
database drill that one pair and we'll
fix it later you know we'll put a ticket
in their backlog and they'll come back
in by the end of the week your structure
has completely broken down because the
people who are trying to deliver the
value can do that much more easily by
talking to the people on the other side
of the room imposing that sort of
discipline when it runs across the grain
of the organic structure of the team
you're working in is not going to work
so what about if you did this what about
if so this is a pattern that works very
very well in at least one scenario one
specific scenario this works very well
in is if the people building the website
are building it in a different language
to the language that you're I'm a human
language spoken language if you've got a
company based in the UK who have
everything in their database in English
and you need a front-end web site in
Hungarian in magyar why not do this so
wrap your database in an API and then
let a team over here deal with taking
the data from that API they can deal
with the localization they can deal with
presentation culture
things shopping carts currency
localization local compliance all these
kinds of things now in this structure it
makes quite a lot of sense so just
imagine for one second you take this to
the absolute extreme so you've got an
architect who is absolutely hell-bent on
saying there will be no communication at
all between the web team and the
database team so he has a web team you
don't speak any English all they speak
is Russian and then you go and you hire
an API designer who speaks English and
Russian and then you make sure that
there is no one on your database team
who speaks any Russian so literally the
only way these people can even
communicate what they need is to go
through this intermediate interface
layer so let's look at another example
of a system say we're building a
ecommerce thing we're going to sell
widgets or gadgets or some such thing
and we got a little sequence diagram
here so request comes into our web
server and web services to the quoting
engine hey can you give me a price on
six widgets quitting engine says to the
database hey what's the widget priceless
looking like at the moment database says
our widgets $25 quoting engine says yep
here you go here's your quote the web
server says okay check with stock
control do we have it stock control says
yes we got six widgets okay great tell
the database we've just sold all these
widgets to this person custom x talk to
the email relay system hey send customer
accent notification saying
congratulations we've received your
order email relay says yep done sent
it's fine web server says thank you very
much you know 200 ok got your stuff it's
brilliant yeah pretty standard nothing
too controversial in any of this we will
build systems that work along these
lines except we're going to do something
special we are going to lock all of that
in an atomic distributed transaction so
when a request comes into the website
first we are going to go right database
dibs I got you don't talk to anyone else
I'm using the database I'm using the
stock control system i'm using the
quoting engine I
going to exclusively lock all of these
resources in case I need their input to
be able to process this request has
anyone ever seen a stupider architecture
than this this is a meeting this is what
happens when you organize a meeting is
you take half a dozen people all of whom
are potentially autonomous agents who
can do useful work and you put them in a
room and you say none of you are working
on anything else we are locking you out
for two hours in case we need you for
anything during the course of this
transaction the world is absolutely full
of people who are like are we build a
synchronous distributed information
systems based on micro services and
you're like okay cool how do you do it
and they say oh well we have an office
in Shoreditch and everyone's in at nine
o'clock in the morning and you know we
all that we have to talk face-to-face to
build our asynchronous distributed
systems because otherwise how do you get
anything done and it's very interesting
looking at the organizations who
seriously embrace this idea that if you
are going to build a synchronous
distributed software you have to have a
synchronous distributed people so one
interesting example who have blogged
about this publicly as WordPress so one
present don't have an interview process
in WordPress don't have an office and
WordPress have never spoken to most of
their own employees on the phone or
face-to-face because they do all of
their collaboration through chat and
issue trackers and pull requests and
code and so the interview process to
work for them is they give you an issue
and say hey you know we'll collaborate
with you and we'll work through this and
get this done and it's a kind of
asynchronous the idea is that you work
with them for a while before you quit
what you're doing at the moment and the
way they interview in the way they work
is completely entirely based on this
idea of asynchronous components or
asynchronous processes you think about
building a high availability system
where you have independent worker nodes
in some kind of cluster and you want
those nodes to be able to do their jobs
without having hard real-time
dependencies on the availability of
other systems so why don't you treat the
people with the same
you know the same idea it's like
actually we you have a certain capacity
to do a certain amount of work you can
do it when you have availability and
we'll make sure that when that point
comes all of the information necessary
to do that piece of work is available to
you and it's a real paradigm shift way
of thinking away from people in an
office having meetings face-to-face so
take this model here and imagine that
instead of being everyone round a room
with an atomic transaction lock over
them for two two and a half hours we're
going to turn them into a series of
distributed components and we're going
to allow them to communicate using
queues and all the information that you
need gets put on a queue and when
somebody has availability they pull the
next thing off the queue they do that
piece of work they put the results on to
another queue it's a pattern that makes
lots and lots of sense to people you've
built distributed systems that work this
way but trying to persuade someone to
structure a team using the same
principle is much much more difficult
but you heard of the idea of the chaos
monkey so thing Netflix have that goes
around killing bits of their
infrastructure and the chaos gorilla and
the chaos Kong and these this idea of
building highly distributed highly
resilient systems where you are
frequently testing what will happen if
one bit of it fails this is the chaos
bus and this is this is actually the
chaos plus what about if you one morning
you emailed your team or you went into
work or you know whatever it is how have
you do and you say you know karen is not
in for two weeks she's not sick she's
not in any trouble or anything we've
just decided that we need to test the
resiliency of our team to losing one of
its key components for a period of time
so we've given Karen two weeks off all
expenses paid and we've taken away her
iPhone can't talk to her anything that
was in her head you've lost it any long
running processes that she was involved
in you're going to have to throw the boy
and start them again from scratch there
are actually companies that do this
there are finance companies one of the
things they've realized through you know
and things like the Enron fraud and
sarbanes-oxley and stuff
is people who are involved in corporate
fraud don't take holiday because it's
very very difficult to just keep
skimming a couple of dollars a day off
the books if you're not physically there
and so they enforce holiday and they can
enforce it at zero notice they will
march into someone's office and they all
say you've got the rest of the week off
go you know no email you're not allowed
to come into the office go to Hawaii
all-expenses-paid do something you're
not allowed to be here for the rest of
the week because we are required by our
you know compliance issues to give you
holiday at zero notice what if you did
the same thing with your team's you know
pick people who are part of the
organization and say to them right you
come on if you go you've got to go to
Hawaii for a week because we need to
test the resiliency of our team
structure I like the sound of that you
know and it's another way of thinking
things we take for granted when it comes
to system design don't have single
points of failure make sure you have
redundancy have you know business
continuity have contingency plans and
then you're like who's running our
contingency plan I'll Jeff what happens
if something happens to Jeff I haven't
thought of that you know Jeff's the
backups guy it's like well what if we do
we back up Jeff so we're going to wrap
up by just looking at three we talked
about Conway's law at length I want to
introduce two other eponymous laws this
is Wikipedia page of eponymous laws
which is brilliant it's got like 500
different laws that are all named after
people like Newton's law and zips Lauren
any Battlestar Galactica fans in yeah
how's the thing in there adamos law if
it can kill you don't plug into the
network that's a good law that's a very
good law to live by um but there's these
three laws so this is gordon moore
gordon moore gran intel he was the head
engineer in south of years and years and
years Moore's Law is you know pop
culture everyone knows he he basically
said the number of transistors we can
fit on a single chip of silicon doubles
for the same price every 18 months this
has become more generally known as
Moore's law of cost gravity whatever we
do with computers every 18 months two
years they're going to get twice as fast
twice as powerful storage is going to
get twice as
bandwidth is going to get twice as big
the power the computing power of the
systems and the infrastructure that we
are targeting is just getting faster and
faster and faster and better and better
and better I hear they're even going to
run a fifth cable to Australia sometime
soon you know think about that means the
chances of one of them getting taken out
by a Thai fishing trawler are like
twenty percent instead of 25 and but the
law of cost gravity is amazing because
the there's a great quote who I can't
remember who said I'll credit him on
Twitter later the single most
astonishing achievement of the software
engineering industry is to completely
negate the advances of the hardware
engineering industry you know we've gone
from my first computer around at four
megahertz now we've got you know
quad-core gigahertz machines but you
still spend the same amount of time
every day waiting for the computer to do
stuff because our expectations of what
they're capable of are always a level or
two ahead of what the machines we can
get now can do because systems are
getting more and more and more complex
because we have higher and higher
expectations of what they should be able
to do for us and that's not going to
change the machines are going to keep
getting faster well actually what's
going to happen how they're going to
start getting more and more parallel
because they're heading a point where
the fabrication process for silicon
chips for semiconductors is putting our
channels so like effectively wires that
are so thin that the quantum behavior of
electrons starts getting in the way
because you don't have enough electrons
flowing anymore for them to give you a
statistically significant output at the
other end so the chip so I'm going to
get faster but we're going to get more
of them we're going to get quad core
eight core 16-core so the future of cost
gravity is all about parallel ism this
guy is Jean am doll who was a scientist
who worked for IBM for a lot of years he
created a thing called Amdahl's law r
anyone come across this you want to
share with the room what AM does law
tells us so what Andals law basically
says there is an upper limit on if you
have a piece of work that can't be
broken down there's a limit on how
parallel you can get so let's take an
example we're going to throw a big party
tonight it's NDC I have a big
t and we want we're going to make up a
little goody bag for everybody and we're
going to have a cake and so we've got to
make up there's what about 500 people
here so we need 500 goody bags and we
need the cake and the cake is in
Melbourne so someone's going to need to
drive down pick it up and come back and
half ours melbourne from here driving
huffer 10 hours so 10 hours there 10
hours back yeah ok cool so we've got a
piece of work that's going to take
somebody 20 hours call it 24 hours given
four hours to you know get gas and pick
up the cake and all this kind of stuff
now let's say it takes some 15 minutes
to make a party bag we got to make 500
of those so you so we're going to
volunteer you to do all of this by
yourself so you got to make 500 bags of
five minutes each and then you've got a
24 hour round trip to melbourne so 525
who's got a calculator on them ten days
give or take about 2,500 hours so it's
going to take us 11 days there's no way
we're going to be able to have that that
party not okay let's bump it lets so
we're going to do it tomorrow so take
you 11 days on your own so let's get
some help you serkan can help out so
you're going to make some party bags
while you're doing so you go off to
Melbourne come back up to 24 hours after
24 hours you'll have made 100 party bags
there's 400 left to do so both of you
then sit down together by the end of the
day you've done 100 each any other so
it's not going to take you three days
what if we got everyone at NDC to make
their own party bag so one person can
make a party bag in five minutes we need
500 of them we got 500 people here let's
assume that we've got lots of
distributed queues for access to the
swag you know if we get everyone to make
their own party bag how soon can we have
a party 24 hours because we got to get
the cake from Melbourne and there's no
way of making that thing go faster so
there is a point at which if we get say
10 people making party bags they'll have
finished the bags by the time the cake
gets back adding more people will not
get us the result any quicker there is
an upper limit on how much we can
parallelize that process because we have
this piece of work that's involved that
cannot be broken down
cannot be distributed cannot be
parallelized so these units of work that
can't be paralyzed place an upper limit
on how efficient things can get costs
gravity is making systems more and more
powerful the only way to ensure that the
the work that needs to be done you know
that the processes and that the software
we create can take advantage of that is
to eliminate these big chunks of non
parallelizable blocking work and as we
have seen over the course the last hour
mr. Conway's observation is that your
organizations are going to influence the
structure of the systems that you're
building so if we can't afford to have
any non parallelizable blocking work in
our code the only way to do that is to
eliminate all of the non parallelizable
blocking things from our teams and our
communication structures so we need to
get rid of all the meetings because if
we don't stop having meetings we're
going to hit a point where the internet
stops working because we no longer have
teams who are capable of creating
distributed systems that can take
advantage of the astonishing advances in
infrastructure and computing power so
there you go you want the internet to
keep working we're going to stop having
meetings any questions yes that would be
batch processing it will get a bus we
need a bus that takes 500 people so
actually there is the interesting stuff
in user interface design of giving the
illusion of progress when it's not
actually happening yet so we we could do
that you know if we have a couple of
people start partying right now it'll
look like the party started even though
we're not going to get the cake till
tomorrow it's just then we're going to
need to party for twenty seven straight
hours otherwise the cake is going to
arrive when the party's finished and
we're going to have a unit salute
any other questions yes the song is go
by the band public service broadcasting
who are an outfit out of the UK who they
take snippets of radio and you know
public information films and that kind
of stuff and they put them to music and
they just did an album called the race
for space which is all radio chatter
from the Apollo and Gemini moon landing
missions and it's brilliant it's the
best weird avantgarde album for years
I'll stick a link to it on Twitter you
can find it later yes yeah so I think
the biggest distinction between a
stealth IT you're talking about you know
people going off in solving their own
problems using Hillary Clinton's email
server that kind of thing yeah so I
think the difference between skunk works
and just people going off and doing
their own thing is whether it's actually
been sanctioned by on hi you know skunk
works has to be like officially
recognized there has to be yeah skunk
works they'll say we need to decouple
you from the organizational restrictions
which are impeding our ability to
innovate in this area so I mean the Xbox
seemed they literally they had an amex
black card with no limit they rented
them an office which wasn't part of the
core microsoft campus and they said you
know money is no object go out and fix
this you know make it happen whereas a
lot of shadow IT is people going are you
know I can't get budget to do this
properly or I asked I tidak to deliver
something and they said it's going to
take six months so I went and built my
own using VBA and Microsoft Excel which
is what actually runs eighty-nine
percent of the world's business
processes so any other questions yes
I think it's there are meetings I think
that are very valuable and I think there
is a lot of creative collaboration and i
do not think most organizations are
doing creative collaboration when they
have meetings I think they are doing
governance and they are doing
consultancy and they are falling back on
meetings as a apparently very easy way
of sharing information where you know
it's easier to hold a meeting than to
actually sit down and write something on
the wiki where people can go and read it
and so someone's like I will just have a
meeting or have a conference call or
we'll get everyone on skype or something
the discipline involved in really
maintaining the knowledge and the
availability and the transparency to do
things asynchronously is hard you know I
mean there are there are counter
examples in both cases I think there are
probably examples of meetings that are
incredibly valuable and there are
probably also very good creative
collaborations which don't involve
people sat in a run face-to-face
thrashing things out as people doing all
kinds of you seen Trello the the sort of
fog creek thing where they basically
said well let's take an issue tracker
and remove all the bits that make it
specific to software let's just make a
board where people can put cards on it
and move them around and I've seen
people do brilliant creative stuff with
you know music and interior design and
stuff using Trello as a coordination
tool and you know never getting down to
the point of having to have face-to-face
meetings with everyone a room together
so yeah you know I think there are going
to be people for whom that's the most
productive way of working but I I would
like to get to a point where if you're a
person who actually benefits from
meetings the options open to you but
it's not understood to be a necessary
part of work because everyone
understands that there are actually lots
of different ways of doing this does
that answer the question anyone else
marvelous ah one more
small team was able to get stuff yeah
yeah the idea of being able to make
individual taking so when a player in
that thing yeah so the question is is
there a contradiction between the idea
of having small focused teams and the
idea of sort of you know asynchronous
working patterns and stuff and yeah you
know losing a person is is disruptive
losing anything is disruptive and if you
don't want it to be disrupt you think
about the way you manage you know
something like the chaos monkey manager
in infrastructure systems it is much
more expensive and difficult to run a
system with a chaos monkey in it than to
run one without because run along
without you cross your fingers which is
free and it doesn't cost you anything
until you have a problem whereas if
you're engineering in that resilience
from day one you are already effectively
every day you are paying for what would
have been your worst case scenario in
the cross your fingers and hope it never
happens scenario but it means that you
know exactly what's going to happen when
that that strikes and so you know I
think take a similar approach with teams
if you understand the dependency and
understand the the risk and the
solutions that are available and if you
do need to build teams that are
resilient to one or more people becoming
unavailable you know open source has
some really interesting models open
sources worked incredibly well for a lot
of years yeah but there's just this kind
of when you turn around to people and
you try and sell them the idea of paying
people to work using a model that's
worked an open source it's like their
brains shut down it's like but if
they're not there I can't see that
they're working and it's like why don't
you measure value throughput instead of
the number of hours a day someone is on
the premises you know and but yeah
you're right and all these things trying
to be resilient is going to cost you
more than not being resilient until
something bad happens and we can't
control when the bad thing happens but
you know I think you're probably right
to some extent you have an asynchronous
team and then one day you realize that a
one member of your team hasn't actually
committed anything for a week anyway
does anyone know what happened is she on
holiday is she wouldn't and then you
find out are now they just got bored
got another job or whatever internet
went down fishing trawler went through
the cable or something yeah those
contradictions in lots of this stuff and
the point i think is about being able to
understand why the contradictions arise
and make an informed decision as to how
to address it in your particular
scenario so and that is four o'clock on
the nose thank you very much this is me
you want to follow up on anything I'm
here for the rest of the week I will be
hanging around underneath this this big
hat so come and find me if you want to
ask any more questions grab me on
Twitter that's me there enjoy the rest
of the conference thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>