<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Adopting open source in your organization - Edward Thomson | Coder Coacher - Coaching Coders</title><meta content="Adopting open source in your organization - Edward Thomson - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Adopting open source in your organization - Edward Thomson</b></h2><h5 class="post__date">2017-07-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/J3vIW71W_2w" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">cool hello everybody thanks for coming
out I know it's getting late
on a Friday the last day of NBC and I
suspect you're all getting a little bit
tired but I very much appreciate you
coming out real quickly about myself
my name is Edward Thompson I'm a program
manager at Microsoft I work on visual
studio team services if you've never
heard of visual studio team services
it's kind of our hub for software
development you know we do source code
hosting workout and tracking continuous
integration continuous delivery and I
work on the get side of the STS
I also the maintainer of the Libya to
project it's an open source project so
I'm rather involved with open source in
my team and so today I want to talk a
little bit about how you can adopt open
source in your organization's the
problem is that I don't really know all
of your organization's I really only
know about my organization I really only
know to be honest with you about
Microsoft so let me tell you a little
bit about how we adopted open source at
Microsoft and we've been really very
successful with that and I think that
that you know by learning these lessons
along the way I think that you can take
these into your organization and be
successful with open source there
because we have been you know I'm really
proud of the success that we've had at
Microsoft this is our CEO such and
Adella standing front of a big board
talking about how Microsoft loves Linux
this is unthinkable like ten years ago
and not only that Microsoft is the
largest contributor the organization
with the most contributors to
open-source projects on github so
Microsoft you know we're not perfect by
any stretch of the imagination but we
are doing a lot of great things with
open source and I'm really proud of the
how far we've come because it wasn't
always like this at Microsoft if I look
back to when I joined Microsoft that was
2009 I came into Microsoft we're in
acquisition Microsoft bought this tiny
little company that I worked for
we were headquartered in a corner
in Illinois we had four engineers and we
were building enterprise version control
software I think at our peak we had five
engineers but four or five engineers
cannot build enterprise software
effectively unless you're using
off-the-shelf components and for us that
meant open-source so a team prize at
this tiny little company we were using
tons and tons of open-source and that's
how we were able to get our software out
the door we were building a plugin - the
Eclipse IDE a standalone GUI client and
a command-line client and we were doing
it for cross platforms for enterprises
so Linux Mac and Windows well actually
those were just the three like good easy
to implement operating systems we also
had a version for Solaris or hp-ux for
AIX at one point we had an s3 90
mainframe client you can't build all
this with for developers unless you're
using open source but we did build it
and we were really happy with the result
and Microsoft in fact was happy and they
came to come and buy us we've ever had
your software company acquired the first
thing that Microsoft shows up to do is
they want to look at the books you want
to do due diligence they want to audit
your financial records make sure you're
not skimming money off the top that
you're not like totally insolvent and
haven't told them about this but the
second thing that they do is they want
to audit your source code so we had to
upload our source code history to
Microsoft and they dug through it the
first thing that they were looking for
was that it wasn't just total garbage
right but the second thing that they
were looking for was that we owned all
the copyrights to all the software that
we were selling the problem is we didn't
like not even remotely
we used a ton of open source software
and Microsoft lost their mind when they
saw this I mean like this immediately
put like this whole deal in jeopardy
that lawyers have been talking about and
are the owners of our company had been
working with like seeing your people at
Microsoft about and they saw this and
they're like what on earth are you doing
you've got all this like open source
software there's GPL software that
you're using how are you
possibly doing this right the GPL if you
don't know is what's called a copyleft
license that means that if you make any
change to the software and then publish
it
you've got to contribute those changes
back to the community it's really
awesome it gives users of GPL software a
lot of rights but Microsoft was a little
hesitant about this I'm going to walk
off the stage if you look back it turns
out you know Bill Gates who you've
probably all heard of was the CEO of
Microsoft and he said that there's this
thing called the GPL the GNU general
public license that copyleft license and
he says that we disagree with it
he said that um he doesn't like
open-source software because it means
that nobody can ever improve it ever I I
like Bill Gates I mean he's done great
work as a humanitarian but this is just
bizarre right I don't even know what he
was thinking when he said this but at
least he was a little bit more measured
than his successor Steve Ballmer who
said that Linux is a cancer so so yeah
when Microsoft came to buy my tiny
little company they made uh they
basically audited every open-source
license that we used every open-source
project and they they didn't make us get
rid of all of them but they did make us
get rid of some of them and in fact we
went from selling three products a team
prize that Eclipse plugin a GUI client
and a standalone command-line client
they made us get rid of the GUI client
because we used so much open source
technology in our cross-platform Window
System that we just had to stop selling
it so Microsoft now sells two of those
three products so in 2009 it was kind of
unthinkable to me that we would ever be
at this place in Microsoft where we're
doing anything at all useful with open
source it really felt like dark days
when I started so how did we get here
how did Microsoft embrace open source to
the manner that it has so far well on my
team at least the first thing that we
did was we had a business need for open
source we didn't
say hey guys I think we should just go
crazy and open-source everything we
actually needed to use open source
software if we look back in the year
2012 after I had been acquired into
Microsoft I was working on the team
foundation server team which is now the
visual studio team services team the
team I'm on today and in 2012 we looked
at what the the industry was saying and
we looked at Gardner who is an industry
analyst they put out this report called
a Magic Quadrant I won't bore you with
all the details but being but they
basically just take every application
lifecycle management tool and decide you
know where to put it on this graph so
like clear cases in here somewhere and
then some other tools but being to the
right is good and being up at the top is
good and Microsoft was it the highest at
the top and the farthest to the right so
we were doing great at least that's what
we thought the problem with polls is
they don't always tell you everything
because you know who does well on polls
well New Coke did really well on polls
and it was not good also many of our
democratically elected leaders did well
on polls so being doing good on a poll
doesn't necessarily mean you're doing
great work when we looked at what are
the people were saying about team
foundation server and I don't want to
bore you too much with the details of
how version control systems work but at
the time Team Foundation server was
what's called a checkout at it check-in
system that means you need to go and ask
this centralized server hey can I start
editing this file before you do anything
and that's great if you're the windows
team and you have a code base it's 300
gigabytes because looking to see what
files have changed on disk is insanely
expensive so you want a something that
works in this model but if you're not
Windows this sucks
if you're a five-person development team
you don't want to have to sit there and
go talk to the server every time you
want to edit a file it is terrible so in
2012 at Microsoft on my team we came out
with a new mode of working in team
foundation server it's called an edit
where
commit type of system and that way you
can just edit a file you can run status
and the version control system will look
around on disk and see what's changed
and tell you it's great we were really
proud of ourselves because in 2012 we
basically reinvented subversion that
have been already out there on the
market in use by many many developers so
right that brings us to what our
customers were saying about us they were
not happy this is just like random stuff
I googled off the internet they were not
in love with Team Foundation server the
bottom quote is really painful for me
because Brandon Blum he actually worked
at Microsoft when he wrote this so we
weren't even like winning hearts and
minds within Microsoft it was a real
bummer
and like every three-letter acronym they
gave us a terrible name
so in 2012 we had a little bit of
catching up to do and my team the team
that got acquired from team prize the
cross-platform team we were after we got
acquired like a totally remote team I
lived in Chicago my buddy Sean lived in
North Carolina and my buddy Martin lived
in Northern Ireland and we were talking
to our version control server our TFS
server in Redmond of course all of our
infrastructure Microsoft is in Redmond
and one of our connections was flaky our
internet connections went down and so we
were talking and we're like you know
what would be awesome is if we could use
a distributed version control system and
of course we laughed at this because at
Microsoft if you're building TFS you've
got to use TFS so of course you're going
to use this centralized version control
system that is TFS but this idea took
hold a little bit my buddy Martin was
like you know no we've we can do this we
just spent the time putting a check out
at a check-in system type of
functionality into Team Foundation
server we can put a distributed version
control system in a TFS so we started
talking to our customers and they were
like yeah dude it's about time I'm glad
you're going to put get into
foundation server Michael wait hold on
hold on so git was written by a guy
named Linus Torvalds that name sounds
familiar to you it should he wrote the
Linux kernel the Linux kernel that is a
cancer and gets licensed under the GNU
General Public License that saying that
that Bill Gates doesn't believe in so
you know we should we slowed our
customers down a little bit or like no
no no we're going to write a distributed
version control system we're going to
build our own distributed version
control system it's going to be great
you're going to love it no no they
reminded us that you know we hadn't been
you know making good on our promise
about building great version control
tools we both the tool that was great
for the windows team yes we built tool
that was great for teams working the
size of the TFS team also great but the
four or five person development shops
still were not impressed by our version
control systems and they did not want
another different Microsoft distributed
version control system you know what
does that even look like I have no idea
but actually in retrospect I'm really
afraid of what what it might do our
customers were adamant with us that they
didn't want some Microsoft PVCs they
wanted get so we had to figure out how
to get there I mean they were they were
simply no do not waste your time do not
build anything that's not yet if you are
going to put it a circuit of version
control system into CSS and you should
it has to be good
so our business need was dictated to us
we absolutely had to figure out how to
put get with all its GPL and with all
its you know Linux background into TFS I
hesitate you know to say this a little
bit but it's really important that when
you find this need that you have for
open-source that you don't just kind of
invent one there's a lot of I love
open-source I I truly do I contribute to
open source projects in my spare time I
love it and I think that we should do as
much open-source as makes
possible sense at Microsoft but a lot of
people will come in and say well the
reason we need to go open-source is
because it's more secure and please
please for the love of God don't trot
out that silly Eric Raymond quote about
how given enough eyeballs all bugs are
shallow these things do not convince
your management if you're not already
doing open-source if you're not already
like plugged in to how open source works
then telling your manager that it's a
recruitment pipeline isn't probably not
going to convince them come up with a
real true actual business need that only
some open source project solves and then
that's the first step towards
integrating open source into your open
source hating company ok so identify
that business need for us again it was
get and it was just given to us by our
customers the second thing you need to
do before you just jump on the git
bandwagon for instance is to understand
your competitive advantage understand
what makes your company unique in the
marketplace and that's not always so
obvious if we start looking at get in
team foundation server in 2012 we
started thinking about how we were going
to shove get into this product that
already existed so a little background
get stores you know get was built by -
Torvalds to manage the Linux kernel it
does a great job on a Linux file system
so if you are hosting git repositories
the absolute like most effective way to
do that in 2012 was to just put them on
a Linux ext3 file system so and if you
look at github Zarqa tech chure that's
exactly what they did they became the
world's largest get repository host and
they've just got their file servers or
just racks of Linux machines just
running git and you know the git
repositories that they host look a lot
like what you cloned if you ever look in
your dot git rectory when you cloned a
repository that's what their file server
is full of it's very fast
the problem is that's not the way we
built Team Foundation server we don't
have a bunch of Linux boxes and we don't
just put things on a file system we put
things into databases like sequel server
visual studio team services stores
everything in Azure blob storage and
sequel Azure that's not going to work
for get you know we kind of looked at it
a little bit and get is a bunch of sea
and shell scripts and Perl and Python
and they all just expect the repository
to be the way that it is it's not easy
to change that so we figured out that we
needed to deal with a project called Lib
get to look at you as a reimplementation
of get also open source also under the
GPL and the idea behind libya 2 is it's
plucked out like all the how do i write
to a back-end or how do i write to a
repository logic and made it pluggable
so we could actually stop writing
directly to a file system and we could
now write to sequel measure and to
sequel server and that was great
the problem with Lib get 2 is that in
2012 it wasn't really very complete in
fact it was missing like one really
notable feature and that's the ability
to merge two branches in a git
repository so we could stick our
repositories into sequel server and into
Azure blob storage but we could never do
a pull request we could never actually
make that complete pull request button
work because there's no way to merge
repositories and we're like well that's
that's not so bad you know at Microsoft
we've got a pretty big team building
version control software they've been
doing it for a long time we can write
merge we can absolutely add this to
Libya - the problem is that Libya - is
under the canoe general public license
that means that anything we change in
Libya - we've got to we've got to give
back to the community we've got to
publish all our changes back that's
that's one of the rights that you have
as a user of the canoe public license is
you get the source code to anything
that's using it
one of the people using it is actually
our competitor github so if we make any
changes to Liggett to to improve it to
add merge functionality github can also
benefit from this and so we had a bit of
a concern is is this important to us is
this our competitive advantage if we
build this into into Libya - and we have
so that we can use it to merge pull
requests and visual studio team services
and we do then github can use it too and
in fact they do now and in fact they're
they've seen massive improvements by
doing so the blue line is the is their
original pull request merging code it
uses get it writes some files on disk
it's not super efficient actually the
green line is the time it takes to merge
get repositories using Libya - so it's
way more efficient both in top in terms
of time and in terms of say power usage
so when a user clicks commit pull
requests it's now faster we made github
faster by doing this we also made reduce
their costs you know that that's less
CPU time which say which saves which
means less cooling in their data centers
we basically you know we're saving
github money we're making the experience
better for their users isn't that a
problem it turns out that liggett's who
is really not our competitive advantage
our merge code is not our competitive
advantage nobody is selecting a git
repository provider at this point
because they can click complete pull
request just a little bit faster on
visual studio team services than on
github right git repository hosting at
this point is a commodity we expect
everybody to do it well to do it quickly
etc so lib getsu is not really our
competitive advantage our competitive
advantage at Microsoft actually comes in
the ability to to scale right we've got
a bunch of people at Microsoft who are
worried about posting enterprise get
repositories hosting huge git
repositories so our competitive
is in the ability to scale to that
direction github world's largest git
hosting provider microsoft visual studio
team services will never be that but we
will host the world's largest git
repositories so that's where we compete
with github so ultimately open-source is
not a zero-sum game you know it you can
actually collaborate with your
competitors and you can be successful
the thing is you've just got to know
what you are able to collaborate on and
what you need to protect because you do
have a competitive advantage you need to
keep it you need to make sure that you
don't give it to your competitors right
but you've got to understand what that
is first so once you've done your
homework once you've figured out why you
need open source and what that need is
and understand your competitive
advantage that only you are bringing to
the market and that you don't want to
give up it's time to convince your boss
that you need to do this and this is a
tricky one right this is this is a bit
political this is a bit challenging the
easiest place to start is with your
co-workers just your immediate
co-workers that you sit next to and talk
to every day these people are your
friends I hope I hope they're your
friends I hope you have friends at work
if you don't we may have like problems
that open-source can't solve in your
organization but no go and talk to your
co-workers they will validate your ideas
really quickly and you'll start hearing
pushback from them probably I had
actually surprisingly recently I had a
co-worker tell me that we couldn't use
some project because it was open source
and we couldn't run it in production
because we needed to be secure and I'm
like what are you talking about the disk
our code is written in c-sharp the.net
framework is now open source at this
point this is ridiculous
right so you'll start getting this
pushback immediately from your
co-workers unless they're like totally
on board already and awesome if they are
but
that'll help you refine your message
that you're going to continue to bring
to other people within your company and
it's great if you have somebody one of
your co-workers who is who is convincing
for me I'm actually not all that
convincing I'm bad at sales my buddy
Martin the one in Northern Ireland he is
quite clever and he has a brilliant
accent and he uses phrases that don't
make any sense in American English and
everybody loves that everybody loves
Martin so when he came up with this
crazy idea to put get into the SDS it
was obvious that he was the one that was
going to push it through management if
you are not super persuasive and
charming and British like my buddy
Martin that's okay because you probably
have a resource within your organization
that is good at all of these things and
it sounds a little weird but it's your
sales team I know that most of us as
engineers are used to our sales teams
going and promising something to the
customer that doesn't exist in our
product and then coming back to us and
telling us that they already sold it and
we have two weeks to actually get it out
the door so it's there's a there's a lot
of antagonism between sales teams and
engineering teams often but there's two
things that your sales team does really
really well
the first one is they talk to your
customers all the time so they can
validate that that you've actually found
a need in the business that needs to be
filled because you're going to go to
them and they're going to say oh thank
god I absolutely have to have get
hosting in visual studio team services I
have to have get support in visual
studio customers are walking away from
deals because of this and your sales
people no money right so the concern is
that when you talk to them about this
they may just go tell the customer that
it will be there in two weeks and that
you have you know but try to try to head
them off the risk of course is that your
sales team comes back and says I have no
idea what get is no customer has ever
told me this before
and so either you're way way ahead of
the curve
or maybe you're you need to rethink what
you're doing a little bit so they will
provide excellent input they've talked
to the customers and they can they can
bring that information to you the second
thing that they do really well is
convince people of things they their job
is to go to your customers get them to
open up their pocketbook and just throw
money there your way right and that is
very helpful because you can enlist them
to help convince the rest of your
organization that this is a good idea
because when you go into a meeting if
you're anything like me your bosses know
what's coming right they they probably
see you get all starry-eyed when you
talk about the MIT license or the the
you know the GPL and they know that you
are coming in with a bit of an agenda
that you are pushing open source perhaps
just for the sake of pushing open source
and they even if that's not what you're
doing even if you really do need this
project to solve your problem they may
decide not to listen to you because you
they've decided you're an open-source
zealot it totally happens probably
happens probably happens to me to be
honest your sales team they are not
burdened with this ideology they care
about closing deals with customers so if
you trot them into an executive meeting
and they say we absolutely have to put
get into visual studio people don't
think it's just because hey get a shiny
they think it's because it's going to
close deals so once you've got that
immediate sort of setup in place where
where you've convinced you know a core
team around you your immediate
co-workers it's time to go up the next
level talk to your management and this
is tricky this was really tricky for us
within the TFS team because so by the
time we really started talking about
this I had actually moved out of the
cross-platform team
on to the version control team the
version control team that had been
building the centralized version control
system and my boss had been listening to
customers for years tell him all the
things that he needed team foundation
server x' centralized version control
system to do it needed to have like the
ability to audit things and really
fine-grained reporting on permissions
like maybe you have some file and you
give you can give everybody an
accounting access to that file except
these three people and only these two
people can write to it and only this one
person can branch it you know it lets
you go crazy on permissions and get
that's not true
and get you can read a repository and if
you can read it you can write to it
locally and maybe you can push it you
know it does not have the same sort of
fine-grained accounting permissions all
these things that we'd been hearing from
customers for years that they absolutely
had to have so we got a lot of pushback
and very very quickly from our
management and if you if we went up the
chain to my boss's boss it turns out
he'd been hearing the same thing because
he used to run the version control team
and so did his boss you know I had this
whole like organizational structure of
people who had been building this
version control system for years and so
it was a bit of a tough sell for us we
got everybody in our team to read this
one book it's by Clayton Christensen
it's called the innovators dilemma the
idea is that it sketches out
technologies into broadly two types
you've got sustaining technologies team
foundation version control was an
example of a sustaining technology it's
the incumbent it does what it does you
know he uses a number of actual examples
I think the steam-powered you know some
steam powered machinery was one example
it was very powerful able to - all of
the construction tasks that you could
possibly throw at it except it was huge
kind of like Team Foundation version
control and then a newcomer came along
for them it was
much smaller machines that were powered
by a gas or a diesel engine and the
immediate thing that the the people
building the old incumbent technologies
do is they look at that and they say
well that's ridiculous
why would on why would anybody ever
choose that over my complete solution
but they're cheaper and they're easier
to use just like it
well maybe not easy to use but we're
working on that one
but they're definitely cheaper they
don't necessarily solve all of the same
problems but they solve enough of the
problems that the customers become
interested in
that's a disruptive technology so once
we finally started to understand that we
had been building this sustaining
technology and yet was coming in to
disrupt the marketplace we realized that
we could have both inside of our
products all right so it's going to take
some social engineering to convince all
of your management that this is
necessarily a good idea
so for us we were able to just support
both next we had to convince our lawyers
and Microsoft lawyers are a tough bunch
and these are the people who when they
bought our company told us that we had
to get rid of one of our products so we
were not enthused by this meeting at all
in fact we decided that we were going to
just try to steamroll so we scheduled
this meeting we sat down with our lawyer
and we decided that we were just going
to tell him everything about open source
and the GPL we were basically going to
just talk for the entire hour or
whatever we had scheduled with this guy
and we were just going to make sure that
he couldn't say no by the end of it
that's all we wanted to do was just not
let him really you know start thinking
too much about this or talking too much
about it we just wanted to keep him from
saying no we figured after that we
didn't know what we were going to do we
just wanted to contain the know so we
sit down and we start talking to him and
we outline what open source is what the
GPL is what git does how our customers
need it here's some data here's some
graphs we just talk talk talk every time
he tried to like open his mouth we would
just keep talking and finally by the end
of it I mean the poor guy was exhausted
right by the end of it he looks at us
and he says well you've given me a lot
to think about
but I think this is a great idea now
when I go home at night and hack on my
projects I can publish them with Visual
Studio up to github and we're like what
it turns out our lawyer in the dev tool
of legal team has a bachelor's in
computer science from MIT like he he's a
better programmer than I am it turns out
and now he's a lawyer too so he totally
got it
your lawyers will actually surprise you
from time to time a lot of times you
know you think that their goals are just
to mitigate risk in your company and to
say no and of course that does happen
but ultimately they realize I hope that
you need to get software out the door or
you know products out the door and they
need to be able to really enable that
and sometimes that means open source at
least it did for us even in a company
that thought Linux was a cancer several
years ago once you've got your lawyers
on board there's always one person
there's always one person in a company
or maybe a few people on a board of
directors who have to give a final
sign-off on something you know if you if
you do something stupid and they weren't
consulted on it they're going to fire
your ass right for us that was Steve
Ballmer Steve Ballmer who says that
open-source shows the characteristics of
communism
I could have mined more quotes I just
had to stop making slides with Steve
Ballmer's picture on them and I wasn't
in this meeting I really really truly
wish I had then my understanding is that
we basically outlined for Steve that we
were going to start losing market share
the developers loved github that
developers loved yet and we had
to support get in our tools we had to
foot get into Visual Studio and visual
studio team services and I would like to
think that didn't Steve stood up and did
this developers developers developers
developers developers developers
developers developers developers
developers because yeah you can say a
lot about fee Ballmer you a little
excitable he's a lot sweaty but he
actually means this he really believes
that developers are the inroads to
making Microsoft a great company he
really does believe that in his heart
remember the Microsoft started out as a
dev tools company we started you know
before there was a Windows before there
was an office there was Microsoft basic
we were building you know compilers and
dev tools before anything else so it it
still is really truly in our heart so
you will have to convince your senior
leadership and hopefully they will do
the right thing right even if they think
that that open-source is communism they
will still see that at the end they need
to support developers or you know
whatever it is that your company does
that you may need open source to make
that happen of course now it's a lot
easier within Microsoft my senior
leadership looks like Scott Guthrie who
loves open source on Azure and the same
with Sachin adela so it's gotten a lot
easier for me in the last several years
when I start talking about open source
within the company so but you do need to
convince all of those stakeholders so
make sure that you've done your homework
in those first two rounds make sure that
you have identified that business need
and can distill it and explain it to an
executive and/or your management let
them explain that to the executives you
know going up the chain and make sure
that you know what you're giving up that
you're not giving up the keys to the
castle that you're not giving up the
you know the secret sauce that makes
your company what it is but you've got
to know what that is before you know
that you're not giving it up but once
you've got the okay that's awesome right
well yes
but while you're building this new
software on this open source or once
you're starting to publish your own open
source contributions you've got to keep
it legal so within your company you need
to make sure that your developers know
that there are different types of open
source licenses you don't need everybody
in your company to be an expert on how
the GPL differs from the MIT license or
the BSD license wait which one there's
two of them there's a two Clause version
and a three clones version not everybody
in your company needs to know this by
any means right that's what your lawyers
are fundamentally for what you need
people on your team to do is know that
there are different open-source licenses
it's not just like some free-for-all
it's not like they can just grab
anything off the internet and use it now
there are different licenses and they
have different rights and
responsibilities right some licenses
grants the end user of a software
different rights like again the canoe
general public license says that if you
change this source code you need to make
that available to the people who are
using your software they need to be able
to be able they need to be able to
modify what you've given them okay it's
a very important right that the GPL
allows for but not every license
requires this of you right so you need
to educate your users that there are
different types of licenses and that
they need to run it by somebody before
they just pull some software on the
internet and start using it you know
maybe if you're a four or five person
company they get to make this decision
themselves you can empower them but if
you're a company of the size of
Microsoft there probably needs to be
some layers of so what I'm looking for
I'm going to say bureaucracy but that I
don't really mean it like that but there
needs to be some layers of control okay
and you need to educate your legal team
I don't mean you need to go to them and
say hey guys this is how
GPL works hopefully you have lawyers
that understand this your lawyers are
technical right mine again you know
better programmer than I am so your
lawyers will will get this and if they
don't you know find somebody find some
outside counsel that does to do a quick
consultation okay so I don't mean that
you explain how these licenses work I
mean you need to explain to them how you
are going to be using open source and
open the types of licenses that you're
going to be using and then let them
educate you on what that means so let me
give you a concrete example my lawyer
came to me and said hey so you're using
Liggett 2 in Visual Studio great it's
under the GPL license yeah how are you
going to follow the the license
agreement how are you going to make sure
that users can get your modified version
of the source code and I said well we're
going to point into github you like now
like yeah of course we are what else
would we do github is where open-source
lives right of course we're going to
point into this github repositories like
no we hadn't really considered that when
you put some code into Visual Studio
2013 and sell it to somebody that that
code is out there forever if in 20 years
somebody finds some machine that can run
Visual Studio 2013 and boots it up
installs Visual Studio 2013 on it and
realizes that our get implementation
can't talk to you know a modern you know
futuristic git repository they need to
be able to make those changes if they
want to support that and in 15 years 20
years github may not still exist right I
mean I hope it does I think github is
great but there's no guarantee and we
need a legal guarantee that's what the
GPL provides the GPL provides the
response the the rights to the end-users
that they can do this even 15 or 20
years down the road there's no
expiration date on it so he challenged
us to come up with a new system and now
if you install Visual Studio 2013 it'll
drop the source code that we use the
exact code that we compiled into your
Applications folder
and you've got the instructions on how
to rebuild it you can make changes you
can rebuild it and you can swap it in to
Visual Studio 2013 that's what that
license requires us to do and people
actually do this this isn't hypothetical
you can find like a stack over through
Stack Overflow thread where somebody has
provided the instructions for how to
pull this code out you know add some new
feature to it build it and put it in and
I was thrilled I was overjoyed that
somebody had actually taken the time to
exercise their rights so you need to
talk to your lawyers and make sure that
you understand how to how to give users
their rights okay you can level it up if
you're using a lot of open-source you
can automate your compliance scanning
what do I mean by that well so when we
started looking at taking liggett 2 into
Visual Studio and V STS we talked to our
lawyers and we're like hey so this is
all under the GPL and they're like great
prove it like well here's the license
file you're like no we actually had to
go through and identify the provenance
of the source code and live get to we
had to figure out where the source code
actually came from because if somebody
writes it right and opens a pull request
against Liggett - that's fine that's
covered under the GPL exactly like it
says it is but if somebody goes and
finds some website and copies and pastes
some code that they didn't own well what
was the original license of that code
was that under the GPL was it under the
MIT license was it just a blog that
somebody wrote that has no license at
all it just has a copyright statement
you can't use that that that is not
compatible with the GPL so we've got to
figure out where this code came from and
there are thankfully some tools that can
help you know like there's this tool
called white source it's basically just
a giant database it's just this corpus
of all the software it's ever seen and
the license so it if it's going through
say Libya - that says it's under the GPL
it can just walk through the source code
and say well actually this function
right here I know where that actually
came from
it's actually a Stack Overflow answer
and you know what what is that licensed
under Stack Overflow you can change the
license that all of the code on its site
is under so it can help you make sure
that you are you understand the license
that you're using it's probably not
super important if you're a very small
company this is super important if
you're Microsoft we're super worried
about doing something really stupid and
getting sued for it right and I say that
but you shouldn't be afraid of open
source open source developers want you
to use their software right
I'm the maintainer of Libya too now I
want you to use lipcott too I you know
nothing would make me happier than
actually some validation that the nights
and weekends that I spend hacking on
this crazy project are actually worth it
nothing would make me happier than you
using it right I don't I'm not laying
some trap for you where I assumed you if
you use it no I just I just want you to
use it and the people that do you know
manage the rights of users such as the
software freedom Conservancy they want
you to use it too but they want you to
use it the right way right nobody's
getting rich suing people off GPL
violations I assure you these companies
thrive you know are making do on
donations right so make sure that you
are responsible but don't be afraid of
this right it's super effective and when
you do it right your lawyers are happy
with you this is the Microsoft dev tools
legal team all in github t-shirts and
making little hearts with their hands so
you can do this effectively but you do
need to make sure you keep it legal
while you're writing the code the other
thing you need to do while you're
working on using open source publishing
open source is embrace the community
because it's not some weird rigid
corporate structure it's just a bunch of
people who are doing this often because
they love it right so you need to make
sure that you fit into that community
you can't just like go in with
yeah let me give you an example I had a
manager at one point while we were
starting to work on git and we weren't
really getting the sort of you know
movement the speed the velocity in the
project that we that he wanted he wanted
us to ship quicker and quicker and and
the maintainer of the project at the
time was was slowing us down and he was
like well should I have a conference
call with him like totally oblivious to
the way open-source actually works right
you know the fact that this guy's title
is manager doesn't mean anything to
anybody on this project right they just
they just want to see code so you've got
to understand how to fit in the
community and the absolute biggest thing
that I can suggest to you is that you
don't fork and I don't mean the github
terminology the you know sort of retcon
definition of forking where it's this
method that you know that is basically a
permission model so that you can send
pull requests up and get them into the
original repository without having right
access on the original repository
I mean don't create a long-running
second copy of a project don't don't
create a fort get your changes back into
the upstream project
concretely Lib get two we wanted to be
able to support again sequel Azure and
sequel server and and Android blob
storage but we didn't want you know the
maintainer of the project didn't want to
actually have that code in live get to
write we so we had to go and build some
nice abstract mechanisms some you know
interfaces for plugging this stuff in
and so that's how we were able to get
those changes in otherwise we would have
had the second copy of a Lib get to that
we always had to keep merging new stuff
in and all of a sudden if they refactor
something some interface then it's
totally broken us it takes forever to
actually make these changes you know
maintaining a second copy of an
open-source project it's just truly
truly terrible my buddy Ben says that
branching is an integration credit card
if that's true forking an open-source
project is like a mortgage
it's something you've got for life it is
just a maintainability nightmare so
don't do it try to make sure that your
changes get in to the upstream project
work with the community to make changes
we talked about the contribution funnel
you'll start out using a project and
you'll start opening bug reports you'll
contribute your time eventually you'll
start contributing code if you're not
careful you could end up owning an open
source project which is very rewarding
in many ways but does impact your sleep
schedule if you are not using an open
source project if you decide to open
source something yourself which is
awesome there's no community to embrace
you might have to create that community
that's challenging we did that at
Microsoft with the net foundation you
know we had a lot of success with using
git in the s and BS us and a lot of
other teams around Microsoft had success
with open source so we decided to open
source net the.net core asp.net all that
great stuff and there was no community
there for us to embrace we had to create
it how did we do that the best advice I
can give you is to have fun make it fun
for people to contribute your changes
the dotnet foundation sends out these
awesome coffee mugs or tea cups and they
it might be hard to see but they've
actually got the contributors name there
their github alias and like the sha-1
hash of the the changes that they
contributed so this is like cool custom
swag and it gets people excited and it
gets people talking because people love
this stuff I I love coffee mugs with you
know my name on it that's amazing right
if this is something that you're tasked
with Jono bacon jo n o bacon like the
tasty salty breakfast meat
Jono bacon writes a lot about
building communities especially open
source communities now so and you don't
have to just give away coffee mugs you
know it doesn't have to be that advanced
you can give away stickers like I've got
get stickers up here and get four window
stickers please come grab some if you
want but that's the sort of thing that
people like right save the you know give
everybody stickers and save the coffee
mugs for like the people you want to
retain as contributors it's really great
stuff it's very effective once you've
done all this you can finally ship your
code whether it's using an open-source
component or shipping an open-source
component for us we stuck again get into
visual studio and DSPs and all of a
sudden people went from hating us to
loving us it was great we were really
really successful with git and again
that was one of the many reasons that
Microsoft was able to start open
sourcing so much other stuff we
open-source so much that we built the
dotnet foundation in order to manage how
much we were open sourcing and we even
started taking outside projects into the
dotnet foundation super successful with
that we became the organization on
github with the most contributors to
open source projects awesome and this
actually you know falls out into so
larger effects contributors to the
dotnet project in 2015 you know it grew
so much just two years later and I said
earlier that you know good publicity
isn't a reason that you should do open
source not by not by itself anyway but
you do get good publicity when you start
getting this right you know what
Microsoft is often now in hacker news
and even slash dot which I don't know
how long you've been around the internet
slash not used to not love Microsoft so
much but even they are saying some
better things about us these days so
this was we were really happy with this
we were super successful there's some
weird like second-order effects that
start to happen when you start getting
good at open source the.net foundation
has a little bot that manages its if you
were in John Galloway's talk earlier
this dis will sound familiar
the.net foundation has a little bot that
sort of manages contributions so if you
submit a full request to an open-source
project so that's managed by the dotnet
foundation that requires a contributor
License Agreement the dotnet bottle pop
in and say hey I need you to do this I
needed to go fill out this paperwork for
us and as a result net bots github
contribution graph is amazing right I
would I am envious of that down there
the thing about that is that net bot has
actually been so successful on github
that he has started getting or she I
actually don't know what have any idea
what net bot is dotnet bot has started
getting a recruiter spam email
please net bot come work for us you must
be great and of course this recruiter
spam is probably from a bot itself so
now we have boss emailing box about bots
and I'm pretty sure that that was you
know kind of how the world started to
end in a Terminator movie but I'm not
going to focus too much on that and you
should neither you should instead focus
on the success you've had using open
source and contributing to open source
if you get this right you know once
you've started doing this inside your
organization contributing to open source
you can kind of turn it back around we
call that inner source when you start
adopting the methodologies of open
source projects inside your firewall if
you I don't know how many of you have
seen this this is a fun comic from I
think it was from 2011 it was made by
Manu Cornett at Google and it's the
organizational structures of various
large enterprises let me zoom in on
Microsoft's having worked at Microsoft
for a long time I can tell you that this
feels totally true
it's very sad but often the business
units don't always get along we we don't
actually talk about it in these terms we
call them working in silos sounds a lot
better doesn't it we say that the
windows team is in a silo and Visual
Studio is in a silo and office is in a
silo what do I mean by that well the
windows team needs Visual Studio they
need the compilers to be able to build
windows the visual studio team needs
Windows it runs on Windows but some
weird things happen when organizations
don't talk to each other so the windows
team this is a true story the windows
team found a compiler bug in Visual
Studio and instead of going and getting
the compiler team to fix that bug they
just fixed it themselves and checked in
the version into their source tree and
never even worried about talking to the
visual studio team it's like wow I mean
that's some dysfunction right there by
learning the lessons that we did with
open source we decided that we wanted to
tear down those silos we wanted to get
the company communicating better so we
set off to do what we call our one
engineering system but the crux of that
is adopting more open source like
workflows within the company so now at
Microsoft all of the source code for all
of the projects is public within the
company it's hosted in git repositories
on visual studio team services and they
all accept pull requests even from
across the organization so the office
team for example writes an Android app
and an iOS app and they hosted in visual
studio team services they do their
builds there and they came to us and
said hey guys you know to be able to
submit this to the various stores to the
Android store to the iOS store we
actually need to be able to code sign
this during the build and the build team
in bftf said well yeah I hear you but
that's not really on our radar right now
office team went went away and said ah
this is problematic so they wrote it
themselves
and instead of just checking it into
their repository
like we used to do around Microsoft they
open to pull requests and the build team
came back and said this is amazing you
know can you can you change this yeah
sure
okay can you change that yeah yeah sure
and then they merge that full request
and now everybody can code sign Android
and iOS builds in bsts so this is
benefiting not just the the whole
company now but all of our users all of
the end users of yes TS so it's amazing
so by default everything in Microsoft is
shared with everybody else in Microsoft
that's true even of the Windows
repository if now in get we just did a
lot of work to make this happen because
git is not get is excellent at a lot of
things but holding big repositories is
not one of them and Windows is the
biggest repository the biggest get
repository anyway four million files
taking up 300 gigabytes we had to do a
ton of work to make both visual studio
team services handle this but also get
we did a ton of work in get it's all
open source
we added some crazy stuff to Windows to
be able to make this happen it's also
open source if you're interested in that
AKMs slash largest git repo so yeah so
now we're successfully hosting the
largest git repository in the world with
open source style contributions so
that's how you can level up once you've
gotten good at open source turn it back
around and do it inside your firewall so
find your business need that thing that
you need open source to solve make sure
that you understand what makes your
company your company valuable what's
unique to you and don't give that up
convince everybody that you need to do
this while you're doing it make sure
that you are doing it responsibly keep
it legal right and then celebrate your
success and level up your own
engineering practices we are about out
of time but I'm happy to answer any
questions I'll hang around after if you
don't want to you know
you want to get to the next thing or you
know grab a cup of coffee or something
before the next and last talk of the day
that's cool hit me up on Twitter I'm at
Thompson that's the best way to reach me
but you know I just want to emphasize
that I'm just one of the many many many
many contributors within Microsoft to
open-source projects and we've been very
successful you can too in your company
thank you so much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>