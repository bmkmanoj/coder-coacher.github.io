<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>How to Hack Your Own Mobile App -  Alec Tucker | Coder Coacher - Coaching Coders</title><meta content="How to Hack Your Own Mobile App -  Alec Tucker - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>How to Hack Your Own Mobile App -  Alec Tucker</b></h2><h5 class="post__date">2016-09-21</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/I-biS7E_ZVI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">which is a real shame but yeah it looked
really good so I'm going to be talking
about hacking your own mobile app
obviously your own i'm not talking about
hacking anybody else's and although
there are bug bounty programs that make
that legitimate to pitts yeah i think
enough of that and for those who don't
know me my name is Alec Tucker I head up
mobile app development at White Clark
group in North Sydney and I run the
North sydney-based as a marine users
group or the Sydney mobile net
developers group which trips off the
tongue much more nicely and if you see
anything here that piques your interest
or you want to find out a bit more about
mobile or xamarin specifically then by
all means come along to that I've got
the URL on the last slide as a bit of a
plug em but today after I've remembered
to start my timer here's what we're
going to be looking at so start with a
couple of common myths when it comes to
mobile security and reasons that people
are often a bit more relaxed a bad all
them would be ideal they all go through
some common risks and things that are
perceived to happen things that I was
looking specifically at the OWASP top 10
and focusing on a couple of those then
we'll have some example hacks which of
course will go perfectly smoothly and
nothing will go wrong and for each of
those I'll look at some mitigation
strategies and how you can protect your
apps against that kind of a tank and
just out of interest how many people in
they'll consider themselves mobile dev
specifically mobile devs already web
devs okay all right so a lot of the vo
wash stuff will be familiar at least m
so in terms of common myths specific to
mobile one of them is and this is
looking mostly at iOS one of them is
well when I submit an app to the app
store apple reviews it and surely
they're only going to let it in if it's
secure they must check for security
vulnerable
letís as part of that and I'll come
back in a second to whether or not they
do but I've got friends who submitted
app to the app store and one of them as
an example the third time he submitted
it the third update it got rejected for
a UI element looking wrong and the
oilmen hadn't changed since the first
iteration the first release and when he
released at a fourth time with no UI
changes it went through so even if they
were checking for security
vulnerabilities I wouldn't be
recommending that he trusted that but
when it comes to looking at what those
vulnerabilities might be if you think
one of them might be data that you've
got stored on the device if it's not
sensitive maybe you don't want to
encrypt it maybe you don't need to
encrypt it Apple when they look at it
the review team when they look at it
I've got no way of telling whether or
not that data is sensitive whether it
should be encrypted whether it whether
it's fine that it's not so they can't
really go and make a judgment call on
that for you the next one is okay that's
fair enough but when my appt gets
deployed through the App Store and it
gets installed onto a device it's
encrypted right which means it's
protected well yes it's encrypted and
we'll come back to how protected that is
in a moment but you can kind of think of
it as if you wanted to secure your house
when you built a ten-foot wall all
around it the average person couldn't
get over the wall without some kind of
tool but it's not difficult to get hold
of the tools that you need to do that so
encrypting them is significantly better
than nothing but how big an obstacle is
it if someone actually wants to get in
and I'll come back as well a little
later to the general assumption that the
operating system handles the security
for you now that's more of a trap that
iOS devs fall into then it is trapped at
android devs fall into they kind of know
what they're in for on the Android side
so common risks and i'm basically
looking at the OWASP top 10 for mobile
2016 here and the reason I say 2016 is
first of all I presume most of you up
not all of you familiar with the OWASP
project if you're all web devs and just
find it researching and finding getting
feedback on the the most prevalent
security weak points so there's a list
for 2014 I'll pop this back up again in
a second there's also a release
candidate list for 2016 which has been
updated and improved I'm just going to
spend a moment or two running through
these and how they're kind of more fun
to each other I did give a presentation
on this back in April which is online if
you want to if you want more on this
then then give me a shout afterwards and
but just running through the 2014 list
on the left that first one right up at
the top is weak server-side controls
that basically meant weaknesses in the
web api that your app is interacting
with not specifically weaknesses on the
device or in the app itself so that has
now disappeared from the 2016 list if we
look at insecure data storage that just
comes across it's fairly straightforward
and there is a slight change we'll see
in a second it looks like very nice and
easy mapping so far unintended data
leakage and I guess lumped in with
insecure data stories that would
typically be well any way in which your
app leaks data including the tasks which
are taking a screenshot poor
authentication and authorization they
get their own at their own item now a
lot of the rest of fairly
self-explanatory client-side injection
becomes code tampering that's one of the
ones that will dig into in a few moments
time security decisions via untrusted
inputs somebody reworded that well and
it's called a client code quality
improvisation handling becomes part of
insecure authentication and lack of
binary protection
is reverse engineering and I'll touch on
that as well and that leaves two brand
new ones in the 2016 list improper
platform usage and extraneous
functionality improper platform usage is
referring to and basically whatever
platform you're developing for beer iOS
Android or Windows 10 they will each
have recommendations for how you should
do certain things for example iOS says
if you've got a small amount of
sensitive data it should go in the
keychain if you don't put it there
you're potentially breaching m1 now you
may have valid reasons for not wanting
to do that you might be thinking okay
well I can get into the keychain if I
try hard enough I need to encrypt it
myself and then put it in there which is
a perfectly valid approach and
extraneous functionality is referring to
in what one example I guess is putting
code in that should never have actually
made it all the way out to production
I've got an example of that a bit later
but that would typically be things like
care you've put some nice authentication
into your app and it's all nicely tied
up with certificates talking to your
production server and then a dev has to
work on it in the dev environment and
then push you through a test environment
and there's all sorts of Hoops to jump
through to make that work nicely so they
go into the code and just disable that
little bit of security checking and then
forget to put it back in and makes it
all the way out into the wild now fairly
hot off the press has I've last month
there has been now some some formal
feedback on that release candidate list
for 2016 so I tend to work to 2016 but
if you've got security policies that
probably refer to the currently active
one which is the 2014 list so so far the
response to the 2016 list has been do
you like what you see overwhelmingly yes
is it improvement overwhelmingly yes and
do you agree with the ordering of the
top 10 and again overwhelmingly as it's
not quite unanimous so there may be some
tweaks and reordering to the list before
it becomes the final
list and we and we lose that RC off it
so if we've got em if we've done this
analysis or if the ross foundation have
done this analysis for us why do common
breaches still occur if we know what's
most likely to occur why doesn't
everybody protect against it and it's
the same on the website and fence as a
company called arcs and wrote a report
called the state of application security
2016 financial services report they
looked at a whole host of apps in the
finance sector and they found that
ninety-two percent were not addressing
at least two of the top ten so it's a
sector where you'd expect them to be
really over the top and now I yeah we
can talk about which two they were and
how critical it actually was based on on
the results but yeah it's not not what
you'd expect there's also an institution
called the Hanuman Institute who did a
report called the state of mobile
application security back in February
2016 oh sorry 2015 so a little bit long
in the tooth now but you'll probably
will probably strike a chord so one of
them is rushed to release you've got
some grapes secure coding standards all
devs absolutely love coding standards
and never put up any resistance against
them and but then suddenly there's an
impending deadline and somebody makes a
call you don't have time we've actually
got to meet the deadline and we can fix
this problem later does happen is it
ideal on move on and insufficient
testing the cause of so many problems
nothing to do with my coding just
insufficient testing malware infected
apps and devices and a good example of
that is companies with multiple in-house
apps that they roll out to all their
employees they have bring your own
device policy so employees can take
whatever they like and some one or a few
of them might decide that they actually
like having a jailbroken phone and they
want to try and put your company's apps
onto a jailbroken phone
and yeah you can get many breaches as a
result of that low security budget for
mobile apps specifically there's still a
little bit of an issue of price point
perception here's a small device it
should be a small number lack of
specific expertise and lack of security
policies for and this is kind of
specific to enterprises and the OWASP
documents add a couple more reasons to
that one as if we've mentioned is the
assumption that the operating system is
going to cover all the security
requirements which still does happen and
then weakness is due to cross-platform
development and compilation now that
last one struck a chord with me because
I make a lot of use of xamarin and love
the fact that I can use that to write a
proper native app and roll it out to
multiple platforms so I saw that and
thought what are they talking about
their what weaknesses are my falling
prey to a bit of digging showed this is
due to that m1 at the top of the 2016
list which is improper platform usage
the easier it is to write an app and
deploy it to a platform without lots of
knowledge of that platform the more
likely it is that you're not going to be
doing something the way that you really
should be on that platform so that
that's all that's pointing to rather
than any specific weaknesses in
cross-platform development tools it's
just that that approach and to have a
secure app on a specific platform you've
got to know about the security
capabilities the security requirements
of that platform and how you should be
doing things and there will be slight
differences between the platforms
so let's get cracking so I've got here a
couple of things and how many people
have iphones anybody got a jailbroken
one okay that's what this is and so that
there's there's a number of ways to to
jailbreak the uses you can do it
straight from the device with no pc
involvement I use my Mac to do it
because it was sitting there so thought
I may as well and I can tell it's
jailbroken straight away because it's
got cydia on it oops so installing sit
that installed cydia and went through
the jail breaking process and now the
result is the jailbroken phone so what
can I do now that it's jailbroken well
basically this is a unix box now i can
ssh into it start digging around there's
a couple of things I've got to do to be
able to do that so brilliant you can't
see the tabs down at the bottom ok now
you can but I've got to drag it down
again otherwise I can't move it so I'm
going to tap one of those and have a
look at the apps that I've got installed
so I've added to since jailbreaking
breaking the first one is openssh so you
can go through various repositories from
within cydia and install apps that way
so I've put openssh on which means if I
run up a terminal window and drag that
across
I'm just going to go to my network
settings on the phone I have a look at
my IP address which is there and now I
can go SSH root apps 192 168 so soon and
now it needs a password does anyone know
what the password is no and it's not
that much of a trade secret if you go to
google and type iOS root password it
will offer it as an auto suggestion
before you even search so I'm not
actually giving much away when I say is
alpine and has been for a long time so
I'm now in in my phone here yeah see if
I go whoops up to the top I can just
look around the same as I would any unix
box if I go into the applications folder
I can have a look at all the
applications that are on here now these
are all app files so I can grab one of
those put it onto the mac and start
digging around inside it except I can't
because of that 10-foot wall that's
around each one each one of those is
encrypted so we're just going to nip it
down to oops conflict that we're going
to get down to burnings and by a ladder
another app that I've installed is
called clutch
and I'll explain what that doesn't a
moment the first thing I'll just show
you is far system content shows us where
on the phone this since so if i come now
over here clean that up and in and have
a look at that i can see clutch to what
i can do with that is run it with that
switch and it will show me all the
itunes installed apps that I have which
is basically all the ones that are
encrypted now the way that clutch works
is well first of all to run an
application on the phone yes the binary
is encrypted the first thing I OS has to
do is decrypt it and then run it so
clutch will kick off that process it'll
get the operating system to decrypt it
it'll then put the brakes on and dump
that decrypted app into an IPA file on
the device so to do that I would just
type crutch to minus D for dump and I
can now just put the number in that list
so if I did 15 for my BBC News app then
that would go away and decrypt it i'm
not going to do that because it's not my
app but that's what i would do if i was
trying to do that to my own app here
what i can show you is oh sorry the next
step and I've had some fun connectivity
issues with with this so it's not quite
doing what I'd like it to including
disappearing with screw in there again
so this is cyberduck is just a way to
get a nice graphical you I
over this so I can go and I can browse
the file system and I differ a little
bit from the hacker stereotype here
where although command line is great if
I can do it with pictures I'll do
pictures and so normally this would give
you if it's all connected up we'll give
you a list you can navigate your way
around find a file on here and just drag
it to your desktop so that's what you do
to get the IPA file that clutch has
created for you that contains the
decrypted app and to show you what that
would look like there it is so that is
an IPA file does anyone know what an IPA
file actually is yeah it's one of the
many many file types it is just as it
for so if you come in here let's rename
it to a zip yes I'm sure then I can
double-click and take a look inside in
there you'll find itunes artwork maybe
some of the resource files and you'll
find a payload folder and in there will
be the app so that's the decrypted
binary now I'm going to go take a look
in one of those but not that specific
one and I'll show you why but just to
recap those steps so far it was
jailbroken phone openssh on the phone
SSH into it clutch installed on the
phone to decrypt the app and cyberduck
or your tool of choice or command line
to get that IPA file off the device onto
the mac rename it take a look inside it
and then start digging around make this
a bit smaller it's really going to be
too big so what i've got here is yeah
that's way too big I've got xamarin
studio with just a very very basic
iOS app so I've not done that is
cross-platform I've only done in iOS out
of this and so I'm looking in a app
delegate CS at the finished launching
method if anyone's from objective-c land
finish launching is the equivalent of
did finish launching with options and is
one of the things that gets called as
your app launches and so you can see
here brilliant example of something that
you should never do user ID and password
hard-coded in the app great during a
security talk and that's just to
demonstrate that I'm calling a routine
they're called is authorized I'm passing
in the user ID and password and that's
just some effective framework code if
you are authorized then presumably it's
going to set things up and launch the
app if you're not authorized it might
say get out it might fail quietly but
does not give you certain options in the
app and we'll talk a bit more about that
in a moment the main point here is I've
got a routine called is authorized that
returns a bool it's not uncommon to do
something like that and the observant
among you will notice that that's always
going to return a false and would never
let me in because it's the wrong
password now I compile this before I
came so if I go and do reveal in finder
and drag that across I can have a look
in bin iphone debug and there's my
binary produced from that code
okay let me minimize a few things now so
we've got some space
because what i want to do now is
launched where's it gone a disassembler
called hopper again try make it fit on
that screen so i just got a demo version
installed to take a look at this so if i
drag that binary into here it'll give me
a couple of prompts say how should i
disassemble it yeah that's fine and off
it goes so now there we go um anyone
good at following assembler not many
that I really wish I hadn't maximized in
there okay well I'll show you the first
Pittman of them solve that problem so I
happen to know that there's routine
called is authorized spelt like that
almost and it finds it straight away so
I can see that it is it's in the app
delegate of demo 3 and it takes to
string parameters so that's that's what
we're looking for now I can tell exactly
what it's doing from all of that honest
not at all okay now and probably going
to have to unplug this screen so I can
unmask oh my zit and then i'll plug that
back in again after that doesn't mess
things up too much with the recording
any second now
okay I got it and that we are okay so
we've got is authorized and the
corresponding assembler what i can do is
come and click this to get some
pseudocode and then we'll have a bit of
a go at sending that assembler into code
for me which is so much clearer the
critical thing here is right at the
bottom right at the bottom ok you can
have to look as it comes up and
disappears again it says okay but are 0
equals r 0 below that it just says
return r 0 thank you did you see it so
we could even if we don't can't figure
out exactly what this is doing we can
see that it is returning a value trying
to get all of this okay there we go told
you okay so that is returning something
back from is authorized now if I can
tell from the wording that that's
probably going to return true if it's
authorized I can come and fiddle with
this I can make this always return true
regardless of what code came before it I
can then save this back into the binary
I can repackage that and I can install
it onto my device so that when it's
running it when the binder is running on
my device is authorized is always going
to return true and it's always going to
let me in so if I can do that to my own
apt then somebody else can then that's
that's not a great scenario so that's
basically I know if you if if anyone did
have a jailbroken phone and you've got
some some games on there for example to
give you infinite lives someone's found
something like this modified the binary
and and that's how you got hold of it
okay let's jump back to the presentation
kill that
perfect so that was a jailbroken device
with cydia installed openssh installed
to get into it pledge to decrypt the app
cyberduck to get the IPA off onto the
mac howarth the disassembly and those
were all free with the exception of
hopper which was a trial version I think
cyberduck might have been the trial
version as well actually so that's all
well and good nice to look at that nice
to see that it can be done how can you
protect your app against that how can
you stop other people doing that well
there are some things that you can do
one of them is this can you guys read
that I'll make sure the slides are
available afterwards basically that's a
bit of code it's a private bull method
called is jailbroken it's going to
return true if the device is jailbroken
false if it's not all it's doing is
calling can open URL which will return
true if that succeeds and it's trying to
open something with the cydia prefix so
if the city of substrates is installed
that will succeed it is not then it
won't and so it's relying on that being
the only method of jailbreak protection
that you need which may or may not be
the case and and that will so if I if I
put that into that app and try to run it
up on this phone it would fail that that
would return false which is great and
what that won't do is stop clutch from
decrypting it won't stop me copying that
decrypted ipf all across to the mac
putting it into hopper where it stopped
me searching for jailbreak or jailbroken
finding that method changing it so it
always returns false and getting it to
run on my phone so yes you can do that
but if you if you really want to stop it
from happening you've got to build more
walls around your house and make them
higher and do other things as well and
and that that becomes an interesting
discussion then
you could just change the name you could
call it isn't jailbroken and try and
confuse the hacker you could call it sm
h 427 and have it return a string that
contains a peeve is jailbroken and
anything else if it's not and really
what you're trying to do here is just
put obstacles in the way of somebody
getting in make it harder for them slow
them down and make it so that they've
really got to be that much more
dedicated if they want to get in and at
the end of the day kind of accept all
you're going to do is slow them down you
want to slow them down enough so that it
is not worth their while and the other
kind of approach that you can take there
is to put in redundant process paths
into your code so methods that's get
called once every twenty six times the
app is run or once every seven times the
app is run or just have it called the
app called different methods internally
each time it's run and try make the
cycle and predictable have something
called is jailbroken and ignore the
results have something called something
completely different and ignore the
result except on Tuesdays and Thursdays
or I just just introduced some kind of
random element into that because the
ideal is if someone's managed to hack
your app and get it to run on a
jailbroken phone they'll feel really
pleased with themselves to get up the
next morning try again it doesn't work
they're back to square one and you also
want to make sure that anything that
you're doing the ideal is that is
different with each build so somebody
managed to hack one version of the app
that hack is useless as soon as you
issue an update there are some software
tools that you can use to do this that
list is by no means exhaustive I didn't
even get as far as see there's a bit of
a discussion on the Sam reforms about
using Babylon xamarin code and yeah
there's a lot of different approaches
you can take to that and and that's more
it refer to code hardening which is more
than code obfuscation it's adding in
these redundant process pass adding in
those random elements
and if we would talk about just calling
that method something different
something obscure that puts a bit of an
obstacle in the way but as soon as you
start taking that route you then in
danger of ignoring all those nice coding
standards that you've got that gives you
a nice low cost of ownership of your
code and all your developers know how to
find their way around and it's obvious
what's happening from the sensible names
of methods and variables which the
hackers are relying on so depending on
your on your setup it might be the
preferred approach to use a third-party
tool to come in and perform some
obfuscation on your code during the
compilation process dirt as part of your
continuous integration certainly if what
you're working on is a game or an app
that's generating significant revenue or
if you're in especially if you're in an
enterprise setting whatever you're doing
to protect against this it's got to be
repeatable and it's got to be audible as
an organization you might need to pass
various types of audits you might need
to show your PCI compliant if you're
handling personally identifiable
information that there's a whole number
of issues that you need to make sure
you've got covered there and as I said
ideally part of your continuous
integration and ideally doing something
different with each build without you as
a developer doing anything different ok
the other hack that we're going to have
a look at is looking at in secure
communication so what I want to bring up
to do this is I find the icon so on iOS
I'm using some software called Charles
if you're on a PC use fiddler or
something equivalent just a web
debugging proxy again it's this is
something that you do pay forward I'm on
a trial version so I've just been
chatting world I have to wait 10 seconds
for it to start
so I'll walk through what what you would
do with this so the idea is I'd want to
get all the internet traffic from my
phone being routed through this now the
phone doesn't have to be jailbroken to
do this and so what we need to do is
make sure that the pc that i'm running
this on and the phone are on the same
network so i've got that set up here so
if i show the phone okay I've lost my
phone windy oh here we go so all I was
going to do they will show you what's
what we looked at earlier we just need
to get hold of the IP address of the
phone and then same for the pc so then
on on the phone house or it was already
there come into here and I come down to
this section at the bottom HTTP proxy
tap on manual and in here I'll put the
IP address of the pc that I'm running on
and i put the the charles default port
that it uses which is 8888 once I've got
that in place then all traffic from the
phone is going to be routed via this web
proxy and I can take a look at it I can
intercept it i can redirect it i can
send different responses back which is
all well and good but what if the apps
written by someone who knows a thing or
two about security and it's all over
https well then we have to spend a
little bit more time preparing things
I finding my pointer there it is okay
this is one of the nice things about the
Mac the menus appear at the top of the
screen which you can't see so some of
the options that we get in Charles is
first of all there's a help option so in
to help an SSL proxying which you'll
have to take my word as well impressing
there there's an option called Charles
root certificate help which gives you a
whole set of instructions how you set
this up basically there's a second
option called in to install Charles root
certificate which opens up a keychain
and puts the certificate there for me I
can then go into that and if I want to I
can have a look at the trust and change
the level of trust that that has on my
machine once that's done the next step I
can back into Charles and click another
one of these invisible menu options I've
got install Charles root certificate on
a mobile device or remote browser there
is also a separate option for that walks
you through how to set this up in an iOS
simulator so when I could choose install
it in a remote browser that's what I get
I've got to make sure that I've set the
proxy on the phone which you saw me do
port 8888 and then from the phone it
wants me get to go to Charles proxy calm
/ get ssl so let's do that quickly
and I'm going to think up in there
before get ssl
there we go and I've already got it if I
didn't already have it that walks me
through the process of installing that
certificate on this foam so what that
means is if I then go back into the app
I can intercept that secure traffic and
I can take a look at it decrypted within
Charles on the mac and so again great
that we can look at how to do that gray
that we know how to do it how do we
prevent other people doing it in our
apps so let's just get these over the
way and come back to the presentation so
yeah just a summary all we really used
for that was Charles all you'd use Fred
on a Windows machine would be fiddler or
an equivalent again we've got some code
that is bigger there we go so this again
the code that I'm sharing it all in
xamarin so this is dotnet code and so
I'm putting in a server certificate
validation call back into my app so
whenever a secure request is made
there's a whole host of SSL responses
that can come back and this is where if
you're in a browser on the desktop or on
a phone if the if the certificate
expired the dates don't match you it's
not yet valid or it's not issued by an
authority you've chosen to trust that
there's a whole host of different
nuances of reasons why you might not
trust it and the browser will present
those to the user and say this is the
story do you want to carry on recommend
that you probably don't is what it
normally says and if you're calling that
from within an app and you're not doing
this then any one of those failure
reasons we'll just cause the cause the
columns to fail and you won't get
through if you want to give your user
any kind of choice in the matter this is
how you'd intercept it
and this part is in the certificates the
chain and the ssl policy errors so you
can then interrogate the ssl policy
errors and if you want to there you can
say is this something critical we
definitely don't want to continue is it
something that might be okay we want to
give the user the choice and that that's
where you'd put that code in a nap what
this code is doing is saying that first
of all check that ssl policy errors
contains none it's not going to let any
errors through at all but that's not
enough it's going to go on and take a
look at the certificate that was passed
into this it's calling get cert hash
string on the certificate to get the
hash of that certificate this code is
assuming that at some point elsewhere in
the app you've built a ballista called
valid certificates and you've put in
there any certificate hashes that are
acceptable so if no errors occurred and
it gets the certificate hash and
confirms it's in this list of acceptable
certificates then you'll get through if
either of those fail then you won't so
that's that's generally referred to as
certificate pinning if you're doing
something like this this is where you
have to be careful not to breach m10
extraneous functionality this is
something that will cause you a headache
if you're communicating with the dead
environment or a uat environment or
system test environment or whatever and
so this is a the phrase I'm looking for
a common point of failure if someone
comes in it says like I'm going to
comment that out just say return true
and I'm sure I'll remember to put it
back in when we do the production build
in fact I'm think I've seen a talk that
Troy given on not specifically on apps
but going back a while now where he's
doing some testing just went to check
that a website wasn't falling foul of
this to show it as an example of how to
do it and found out that
exactly this had happened contacted them
mr. ok we'll fix it quick ok so that
that's the the to hacking methods that I
wanted to go through I don't want to
bring this up as well so this is again
from arcs and the this is from the
report that i mentioned earlier and then
they looked at the items in that i was
top 10 list that were most frequently
breached and the reports from early i
things from early 2016 i think I'm right
in saying and but it's based on the 2014
list because that was the prevailing one
at the time because they're the newer
ones still officially a release
candidate so if you remember those ones
that are really high up m3 is still m3
in the 2016 list that's in secure
communication so that being that that's
things like or things that would include
a man-in-the-middle attack that we just
looked at m10 massive one on the right
has become m9 in the 2016 list that's
reverse engineering or decompiling going
back to that first example where we
decrypted the binary you brought that
onto the mac and threw it into a
disassembler to start having look around
if you've got a decomposer that's the
point of which you can put that in and
it does get interesting looking at
xamarin specifically which is what I
focus on and if you look at an iOS app
just doesn't an example you can look at
an iOS app and find it difficult to get
in or maybe there's barriers things have
been done to make it difficult for you
to get into that if it's done as a cross
platform app then you can go look at the
Android app and if it's written well as
a cross platform app it's sharing ninety
percent of its code so you can go and
have a look and get into the Android app
and decompile that and see all the code
then you know what you're searching for
in the iOS version so these are all all
things that you do have to consider if
you're writing apps that do cross all
those platforms
I'm not suggesting for a second that you
shouldn't share code because it's one of
the main benefits but it is something
that just just be aware of oh yes it was
2016 so here's my plug for the group in
north sydney we meet on the second
tuesday of each month so we're meeting
tuesday next week and we've got a
speaker from holland who's a very active
contributor to the mvvm cross projects
yeah use Ben's a marine's he's coming to
tell us all about that and there's also
a number of xamarin dev days coming up I
haven't put the dates there and grab me
later or look out for Michael Ridland if
any of you saw his talk earlier today
he's he's organizing those so the Sydney
one I think is on the when is that
saturday the twentieth I think the
Brisbane one is I think a third of sep
tember the Melbourne 1 i'd have to check
with michael hope I can remember but
you'll find all the details up once a
marine calm / dev days if you want to do
that and and then final plug again
speaking of Michael so I've been working
on this for a long time now and now
Michaels on board I actually stand a
chance of getting it finished so Michael
wrote fresh mvvm which is a really good
mvvm framework that's getting a lot of
traction in the same room world so he's
picking up about half of this book I've
also got contributions coming in from
glenn stevens who is a xamarin
university trainer and mitchell till
brooke who's a lead android dev at seat
frog here in sydney and who think he's
given his lightning talk or earlier if
it's not then it's still to come that's
it for me I'll be I'll be hanging around
for a short while after this and then
i'll probably be at the evening of the
event this evening if anyone has any
questions but if you want to shatter any
questions now give it a try anyone seen
this kind of stuff before
okay i think the ideal for that and
probably the only way you can put
guarantees around not making that
mistake is to have your bills all going
through continuous integration nicely
scripted so that you kickoff a dev build
that puts in your precompiler options
and you kick off a production build and
you know which build you've kicked off
and you don't actually have to go and
fiddle around with anything and I've
seen code that is really nicely
organized with pre compilers to handle
all that for you but if you don't have
automation around when those are use and
when they're not you you'll still miss
something yeah
okay nap fair point fair point thanks
yep
let's get interesting where you store
that and I find that that argument as
soon as you start talking about
encrypting any data that's on the device
if you using sequel sigh for any any
kind of encryption you need that key
somewhere you just kind of move the weak
point somewhere else um yeah private
keys does get kinda interesting probably
worth chatting a bit off lines certainly
for the general advice for encryption
and using things like sequel cipher on
the device there they'll tend to say and
it's distinct from private key sorry but
they'll tend to say you've got to avoid
using and you your IDs avoid using any
hardware IDs from the device but you can
use those as a portion of the key but a
portion of the ghee has to be entered by
the user so it's not actually stored
anywhere but yet some things you have to
find a way to store them okay if there's
no more I say thank you very much and
we'll call it a day</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>