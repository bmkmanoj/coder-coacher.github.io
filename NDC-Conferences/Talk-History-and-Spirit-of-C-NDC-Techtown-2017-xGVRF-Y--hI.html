<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Talk: History and Spirit of C - NDC Techtown 2017 | Coder Coacher - Coaching Coders</title><meta content="Talk: History and Spirit of C - NDC Techtown 2017 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/NDC-Conferences/">NDC Conferences</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Talk: History and Spirit of C - NDC Techtown 2017</b></h2><h5 class="post__date">2017-11-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xGVRF-Y--hI" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">okay welcome to this session just talk
about the history and spirit of Si and I
think it is it is a story that have been
told many times but I think it needs to
be told again with a slightly different
perspective based on some research that
I have done together with John Jagger
and and a few others so if you were
going to recap the history of C in like
90 seconds then it would be
approximately like this at Bell Labs
back in 1969 ken Thompson wanted to play
he found a little used pdp-7 and ended
up writing a nearly complete operating
system from scratch in about four weeks
in pure assembler of course Dennis
Ritchie soon joined effort and while
porting UNIX to a pdp-11 they invented C
heavily inspired by Martin Richards
portable system programming language
BCPL in 1972 UNIX was rewritten into C
and do - Steve Johnson's portable C
compiler UNIX and C could be ported to
all kind of computer architectures and
could soon become the most popular
programming language ever initially K&amp;amp;R
and portable C compiler was only
referenced for C but with significant
contribution from C++ to see and be
honest red strip the C language got
standardized and it standardized in 1989
and thereafter updated in 99 then the
latest version is C 11 I think that was
approximately like the second
and given 90 seconds given approximately
paragraph roughly hundred words I think
this is a kind of a decent story it
includes the portable C compiler it
cludes includes C++ in the story it
includes certainly a BCPL in the story
and of course Ken Thompson and Dennis
fiction but we have more than 90 seconds
to tell this story so let's use this
anyone recognize this one which what the
mobile number is C to M yes yes that's
right 1530 CT lab I should perhaps I
picked another kind of cassette player
ish because what I'm trying to do now is
see just to hold down the rewind button
slightly so that going backwards that's
what I'm pretending I'm doing now
because ken Thompson and then this rich
kid I didn't just come up with this from
scratch they have been working on on the
multics project for several years and
while they were working there they have
been exposed to the program language
BCPL
and BCPL was the brainchild of Martin
Richards from the University of
Cambridge UK which again was a
simplified version of Cpl and Cpl was
the language this time because the
University of Cambridge had inst ordered
an atlas computer I needed the language
for it and that class was the
replacement for Zack - which again was
the replacement for ED Zack this is
where I released rewind button and press
play button and the story begins with Ed
Zack which was arguably the first
electronic digital store program
computer ever yes and the a key oh you
the man chest
the Manchester baby the EDSAC was
inspired by phenomen kind of IDs but
this was the first operational computer
that could you could actually store
program in memory the race
I say arguably because there was some
there was a machine in Manchester called
Manchester baby but it was just to test
the tubes so it wasn't really for a
general usage and this was but I mean
the key thing here
I say arguably because there was so much
happening in the world at the time but
thanks for the input so here is a
picture of the machine with Maurice
Wilkins and Bill Renwick in front and if
the audio is now working we will have a
look at the film
the mathematician explains his problem
to a committee
our experts the first thing to do is to
make a list of the library subroutines
that will be needed a separate e for
quadrature one for the exponential
function a member of the committee
interrupts to find out that there is a
more suitable exponential routine
available a read routine and a print
routine the committee proceeds to
discuss the programming of the problem
the programmer gets to work
referring to the Library catalogue as
required here is the program sheet the
program is now checked and it is ready
for punching this is Margaret Hartree
who was my secretary at the time she is
in the course of punching the tape and
at the appropriate moment she will go
over to get one of the labor tapes
this she copies mechanically under the
tape that she is preparing hence my ring
he takes the tape to the computer room
attaches a tape ticket and puts it on at
the job queue takes our program tape and
puts it in at the photoelectric tape
reader the instructions are being read
and going into the star the results are
now coming out
now
our programmer collects his results he
is joined by the mathematician and
apparently all is well there is actually
a restoration project for the exact
going on these days I don't know the
status of it but very interesting to see
and there are online emulators and
simulators you can use if you want to
play and write programs for that Zach if
you're thinking about writing fizzbuzz
I'm being the first one to write this
poem at Zach abilities already I've done
it yeah so this is this is the machine
and it was used for four years until it
was replaced with exact - an improvement
or level but still from this just by
this picture you can kind of get a feel
of the atmosphere of doing computing
back in the day scene nine to sixteen
waiting in line to have your program
being punched in them executed them
feels like now yeah it may be but at one
point of course they also needed to
replace the ad sack - and so they were
looking around and I decided to go for
something that was a scaled-down version
of an atlas computer that had been
developed in Manchester so they called
it titanor atlas - the names are haven't
mixed a bit but anyway it's it's a big
computer and this was a time where I
basically thought one city needs one
computer or not more one University want
computer so this is was the university
computer so it was ordered in 1961 but
it took a while for it to be delivered
and neljä three years something
could actually do something in those
three years they could be used for
something very useful because the
program language is needed and in the
60s there were already a few programming
languages out there that you would
recognize like well atlas alter call
this was the language that came with the
machine Auto code was think about it as
an advanced assembler it was not really
much a high-level language but it's
advanced assembler thingy
we had the Fortran at the time which was
also considered I'll go big language at
the time but all these languages hmm now
and in an article written by David
Hartley in 2013 he points it out very
nicely and I said well this was in the
60s remember that it was completely
common to think oh we have a new
computer let's design a new programming
language and this is also an addition to
that story is that when I have been
tracing back the history of programming
language you come to a point where the
language is designed before the key word
not the keyboard and before the
character set so a lot of the early
languages they use characters that we
don't recognize today because there are
not any characters that the
standardization of Askia epoch and
someone came in much later so it was
common to design a language first then
created a character set and then create
a keyboard when anyway so this was in
the 60s let's make a new language
let's make Cpl Cambridge programming
language now they have to change the
name when London came in to help because
they also had an atlas computer so we
started collaboration with Cambridge so
they called it can bridge plus longer
can you close that window
and but eventually they came up with
combined program language but a lot of
people still call it Christopher's
program language because the main
character in driving force behind Cpl
was Christopher stretchy and the idea
was that anything not explicitly allowed
should be forbidden nothing should be
left undefined it was a big thing in
mass appeal and it was they were going
to create a language that was
sufficiently general and versatile and
dispensed with machine code programming
as far as possible it should be the
language here is approximately how it
looks like and you might recognize it as
syntactically inspired by algal and also
semantically we were much inspired by
algal it's it's a variation of algal
type of language and they had several
years to develop it remember this was
also time where we're kind of the big
brains they were developing the language
and the blue-collar workers they were
writing compilers so today these guys
and a few more probably that I met I
think it was once a week every Tuesday
evening or whatever and I came up with
their inventions and I've been thinking
about for a week and then I discussed it
and basically everything they clever
they could come up with I put into the
language somehow meanwhile while they
were designing a language for several
years
Martin Rich's was a research student and
he was asked to implement this language
that I was developing and remember this
was only six early 60s he probably
standing in the queue trying to get time
on this exact - - to develop this
compiler and he says this was a daunting
task because CPR was very large language
more data types than anything else
it had call-by-value called by name
called by reference
two kinds of procedures label variables
you could actually pass labels as
arguments if you think about C and C++
you could pass a label and that's an
argument so that the function can just
jump out wherever it wants in the
program yeah to allow to jump out of
procedures structures to units and
pointers and you had runtime garbage
collection
you also have double floating-point
precision support for complex numbers
per morphic operators transfer functions
closures and lambda calculus scope creep
you can say but I have time I mean it
took time to deliver the machine so why
not and design the language properly but
of course it was it just grew bigger and
bigger and breaking it trying to solve
everything in the world and it was once
compared to the invention of a pill that
could cure every type of pill so there
there is no cpf compiler after I don't
think it's even if someone tried today
to write to see pal compiler there maybe
they wouldn't succeed
I don't know but inspired by his work on
GPL Martin Richards wanted to create a
language that was simple to compile that
was one of these kind of primary
objective let's let's flip this over and
say look let's create a language that is
simple to compile which has a direct
mapping to the machine code if you look
a line at the line in in language you
could basically see the assembler being
produced and he was also he also wanted
to create a language where it was
assumed that the program I knew what he
was doing and while we accept this as
something fairly sensible today I think
it was quite revolutionary IDs at the
time because all the languages that they
were designing and
in a 15 and 60s seems to be trying to
kind of protect the machine from the
programmers because they're kind of
they're the programmers are not trusted
and this is certainly a part of the
spirit of C he also came up with a
philosophy around these things and the
philosophy of BCPL is not one of the
tyrant who thinks he knows best and lay
down the law on what is and what is not
allowed
rather BCPL acts more as a servant
offering his services to the best of his
ability without complain even when
confronted with apparent nonsense the
programmer is always the seem to know
what he's doing and it's not Hammond by
petty restrictions we are really looking
into the soul of what we today now as
the C programming language and therefore
also partly C++
he completed BCPL reference manual in
1967 as a visiting researcher at project
math Mac a Manchester Institute of
Technology and here is what it says in
the foreword I want to create a language
based on Cpl by removing those features
of the full language that makes
compilation difficult it continues
saying that a simple language should be
easy to compile into fission code but we
remove type-checking
because that makes it difficult to write
compilers and we would like to let the
user manipulate our values and our
values explicitly and this is considered
to be kind of the first proper reference
to L values and our values they're worse
dimensions in the CPL as well about this
but
sibel was first complete language that
allowed you to do direct memory access
thingy
apart from assembler of course where you
can do that all the time and another
invention of his was he want to be able
to do separate completion and then link
things together yes I can
I don't see you Rick oh you see ya know
in the top I think you're alright
yes thank you small and that actually
kind of explain why I can't on some how
to do something different which we will
see so once again we see I'm now looking
into the spirit of of seeing now as I
said Martin Richards joined MIT project
and I am I t's project Mac and through
the multi projects can Thompson and
Dennis which they ended up learning
about BCPL and started using it Martin
Richards is still loving kicking and we
John Jagger and I we went over there in
December 2014 and got an invitation to
his office he was sitting in his office
of writing a flight simulator in BCPL
really cool it was fantastic and we had
well we have nearly a whole day with him
talking about languages etc extremely
fascinating and he's actively involved
in in writing support for BCPL
development on on the Raspberry Pi for
example and for those who are we're into
amiga you probably recognize BCPL us one
of the languages you can use on the
Amiga
yes yes there is an arrow hmm yes it's
printing square root so and you can you
can type it I've been running that
program on the
it's from the EDSAC and you can run that
program on that Zakia simulator and when
they when they fit up this one Martin
told us that the hell actually found the
bug and I think they had had to replace
it to make it correct the program so so
B was the link between dcpl and C in
because B was a language that Ken
Thompson came up with but in this
interview you can clearly see didn't
think that I had a very much by using
BCPL he says it wasn't a such subset it
wasn't it was almost exactly the same
thing and if you but yeah so so that's
what is a sin in 1990 now I'm being
infield here he wrote also a reference
manual for B and so on but an
interesting fact well and also in in the
hopple alt article in 1993 dennis
ritchie the inventor of see also claims
the same thing that no no to me it was
derived from the triplex language BCPL
other types to it and but apart from
that it's more or less the same language
and was while reading this reference
manual for BCPL and also looking at lots
of the earlier documents about B and C C
74 and so on there was something that I
couldn't really know there is something
here that I don't see but but I have to
kind of continue digging into that and I
even took these two documents and put
them on the floor what is it
and suddenly I realized what it was it
was so obvious because it was the same
text basically so if you start reading
from the top here I can read the second
part and our value is a binary bit
pattern of a fixed length and so you
continue the paragraphs are the same
with a few few changes and this goes
over and over and over in the document
the document Britain five years later by
Ken Thompson same here here we're
talking about yeah you see that the
expressions are slightly different
because of the syntax changes but apart
from that it's it's the same text if the
Bell is replaced with B where is the
first reference to pointers so this is
the referencing a pointer just like that
how to interpret the non-volatile value
so it's these two documents they are
more or less the same thing there are
some tactical changes but there are very
few semantical changes in it and as I
said now there can thompson or tennis
reach and make hides affect in any way
these days when well whenever
interviewed later if you look at BCPL
syntactically it doesn't look like C&amp;amp;C
today but semantically it's the same
it's basically a timeless language
everything is the word so it depends on
how we are using that word decides
whether it's an int or its float or
whatever city you search that decides
the type influenced by for from and and
I'll go the simplified version of Cpl by
removing all those features of the full
language which makes completion
difficult and ken thompson wanted to use
this BCPL when running on the PDP
seven that he had access to this summer
of 96 to 69
but pdp-7 was a really small machine of
course in today's standard but also at
the time so he had problems fitting the
BCPL language in and compile it and and
especially the compiles that had to be
kind of improved and the reason why this
recursive part of the thing you might be
irrelevant here so he had to kind of
simplify the language so that he managed
to squeeze it into the pdp-7
somehow and that's where B came out and
now we recognize the syntax that we that
we have in C today and Dennis Richards
Kryon described it that BCPL that B was
the BCPL squeezed into 8k where the
memory and filtered through Thompson's
brain and you know Thompson the inventor
of UNIX there are that way he has this
way of doing simplicity that we
recognize and appreciate and this also
came into the language design the
language only have that's the only key
words and be no more key words I think
it's it's essentially what you need
you could probably skip the switch in
case but then you would end up with if
statements in switching case is very
useful when you do write compilers I'm
very effective constructional and it
compiles nicely into assembler but
didn't have to use pdp-7 for long when i
got access to the pdp-11
they try to use B but also pdp-11 is the
machine one of the first machines where
you could access sub words so typical
machines you could access the whole word
at a time but on the PDP LM and you can
actually go in and access
a single bite and do something with it
and once when you have a machine where
you can access sub words it makes sense
to introduce types again so that you can
actually use this feature so Dennis
Ritchie and Ken Thompson they came up
with the language C which could be
simplified saying that it's be where you
have added types to it but not only
adding types they also added a few more
key words to make it usable for porting
UNIX the UNIX language onto the pdp-11
so the first description of C is C 74
and Harrison contact in the C 74
reference manual they don't mention BCPL
at all I looked at a few other writings
at the time and it doesn't mention BCPL
at all it seems like kind of the
intention was to hide its historic roots
and I can imagine that was probably a
useful thing to do when you were
competing for research money it was
important to kind of do the inventions
at the research since I don't know the
motivation for doing that but it's I
still find it interesting that they
don't mention BCPL at all they don't
even mention the B reference manual that
do you have a reference well do you have
this very obvious link to BCPL that we
saw earlier it's the same document
basically where you are replace B with B
now BCPL would be so it seems like the
c74 reference manual that it was an
attempt to kind of hide hide the link
for where it comes from
now both I can Thompson and others
Richie later over and over again say
that it comes from BCP also they are
problem of playing the same game as
maybe the research institutes we're
doing at the time perhaps the maybe the
most important reason for C success was
when Korean joined the effort by writing
this book if you have read a few books
by Kernighan you know that he's the one
having the words these very nice
descriptions these fantastic
explanations for how program language
and programming general works so you
could certainly say that this book has
been significant but also should they
mention that the portable C compiler was
also essential when they designed
designed see they didn't really think
about portability as a big thing
I thought all as long as it's running on
the PDP 7 and the PDP 11 and all of
their few digital computers we are fine
it was the portable C compiler that
enabled C to be used on different
architectures and also enabled UNIX to
be ported to a large range of computer
architectures but now we need to kind of
rewind slightly again because going back
to UK again now in the mid the 70s there
was this guy called biana and he was
working on his PhD thesis and he was
working on a simulator trying to figure
out alternatives for organizing system
software for distributed systems and he
had written it in similar similar design
here in Norway at the 50-year
anniversary kind of well three four
weeks ago attended a phone in Oslo that
was a mercy for the similar 67 version
and similar is known for two things
object-oriented programming but also not
so well known but it was also a language
that introduced a lot of new IDs in
multitasking co-routines concurrency etc
and that this was very useful for
simulation and it was useful for IANA
was doing
and he ran it on an IBM mainframe
but the concept of similar
object-orientation became increasingly
helpful as a science brew but the
implementation of similar didn't scale
the same way and there are very few
examples of huge successful similar
systems because there is it's difficult
to make it run effectively so you can
write toy programs in it but big systems
are difficult to write and similar it
has always been so since this was his
PhD thesis it was afraid that he would
actually end up not completing his PhD
he had to rush and re-implement his
whole simulator into a language called
BCPL and run it on this experimental cap
computer ana managed to get his ph.d and
moved over to the u.s. to start working
in Bell Labs but he described it as the
working with piece about was horrible
and he's pointing out it was difficult
to debug all this the lack of types it
admit it was an efficient language but
it was very difficult to work with so he
said that upon leaving Cambridge I swore
never again to attack a problem with
tools as unsuitable as those I'd
suffered while designing and
implementing the simulator
he joined Bell Labs in 1979 his her
first job assignment was to analyze the
UNIX kernel how to distribute it over a
local network so proper tools were
needed he started to write preprocessor
to C to add similar like classes to C
and he learnt see from these kind of
guys and that's as a good teachers to
happen and that was the beginning of
developing C with classes and the main
motivation was to create better super
for modularity and for concurrency and
in C in 1984 the term C++ was coined and
so it went from C with classes to C++
and it became very very popular and
there was this asked oh but but you need
to kind of make sure that C++ is not
incompatible with C but the problem was
but C is whatever people choose to
implement of see there are all this I
think he described it us to be in power
of 42 different implementations of of C
there were the different compiler
artistic is different machines etc so
this requirement of being compatible
with C that didn't mean anything so in
order to continue the success of C++ and
to get the support from from Bell Labs
and AT&amp;amp;T and others he needed to somehow
we needed to kind of come up with a
standard for C so it was possible to
build something on top of it and it's
fair to say that the success of C++
added to the motivation of creating a C
standard and C++ was directly an
inspiration for a lot of features in NC
like the proto function prototypes and
and the stronger type support etc and it
is well it's an unusual perspective it
is actually fair to say that owns the C
at the time it was standardized was a
strict subset of C++ instead of thinking
in the other way around saying that C++
is something that grew out of an sis C
or C you could or rather said well we
have C++ at the time and it's a
sub-sahara that we are standardizing now
that isn't a complete fair way of saying
the story but it's an interesting
alternative perspective but there is
this fun fact that all the examples in
KN our second edition was compiled with
see from 2.0 so they use the C++
compiler to write
the the famous famous counting on a rich
the second edition book which is
describing ounce SE and after the C
standard in 1999 and and to use that
came out together with their rich in a
second edition it took ten years and
then they were added a few more things
in particular support for scientific
computing to make life easier for well
for programmers but also the kind of
scientific computing - back in the 90s
there was a lot of a lot of fuss around
the Large Hadron Collider for example
which language are we going to use to
write the Large Hadron Collider
eventually they ended up with C++ but
the language has tried to make them look
at effective for projects like that the
selection of c++ happened there in the
autumn 1999 I was actually there when it
was announced it was kind of cool I was
working with supercomputing at the time
and then in C 11 the mostess latest
edition that came up now c11 today has a
new memory model and the memory module
is actually taken directly from the C++
memory model and well it's it's it was
written by the C++ standardization
committee and them given to the C
standardization committee and say this
is what you want and that's what I said
yeah thank you
that's what we're going to use so you
have a new memory model in in C 11 a few
extra kind of features and a few things
that has been removed and made optional
and this is actually from a meeting here
in Norway the standardization committee
is meeting two times a year
if mom is there sitting in the middle
room so they meet two times a year
discussing what is how are we going to
go know curate this line how we're going
to make sure this language evolved
correctly and they are not entertaining
many new features at all so my guess is
in the future that will this is probably
what is going to happen I'm going to
work on some defects that I know about
language maybe solve some nasty
differences between c11 and C++ 11 and
of course they are thinking about
replacing the floating point standard
since it was at 13 2008 and this is
probably the only new invention that
might come in - if I were going to guess
C C 29 C 25 25 maybe yeah it's it will
it will take at all viewers but what we
do know for sure is that C as a
programming language under standard
Committee they will make sure that we
keep these guidelines for the spirit of
C trust the programmer don't prevent the
programs in doing what needs to be done
keep the language small and simple and
provide only one way of doing an
operation make it fast even if it's
going not guaranteed to be portable and
they certainly will respect this one I
think we could just replace BCPL with C
here do a small ken thompson and say the
philosophy of c is not one of the tyrant
who thinks it knows best and lay down
the law
what is some what is not allowed rather
see acts more as a servant offering his
services to the best of his ability
without complain even when confronted
with apparent nonsense the program is
always too soon to know what it's doing
and it's not hamd by its petty
restrictions
thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>