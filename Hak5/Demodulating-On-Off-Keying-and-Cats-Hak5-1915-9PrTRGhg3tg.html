<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Demodulating On / Off Keying... and Cats - Hak5 1915 | Coder Coacher - Coaching Coders</title><meta content="Demodulating On / Off Keying... and Cats - Hak5 1915 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Demodulating On / Off Keying... and Cats - Hak5 1915</b></h2><h5 class="post__date">2015-12-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/9PrTRGhg3tg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">analyzing radio frequency waveforms in
Linux
this time on hack five
this episode of hack 5 is brought to you
by domain.com hello and welcome to hack
5 my name is darren kitchen my name is
Shannon Morse
it's your weekly dose of Technol us and
this is brought to you by Kirby Kirby is
a part of the hack 5 family and has been
for over a decade now so oh my gosh it
has she's a she's a proper woman she was
a lady she's a lady cat she's what 15
Wow she's up there we're glad that she
joined us on today's show but we have a
ton to get to but first we have a gift
from Magan oh we do we do yeah right so
it was from I'll let you control that
this is from Joe he says hey hack five
team what's going on love the show love
the gadgets you make I know people send
you stickers but I wanted to send you
our threat patch a few of us left the
DoD red teaming world started a security
company a little over a year ago we
focused on red teaming and threat
emulation I have been giving out our
threat patches to fellow red teamers
when they wore their tools have helped
us out keep up the awesome work and you
may have seen some stuff I've worked on
are you familiar with the RTFM book
reading Field Manual the cover oh man I
should have pulled it up on Amazon or
something anybody check out these
alkaline your red team field manual and
hopefully I can pull this up in OOP
there we go awesome look that out oh
wait wait look at that what does that
say mmm I may have purchased that on
July 5th yeah so thank you so much Brad
it mega tip for everybody as you know to
survive in the hacker kingdom you're
going to need a few essentials first of
all duct tape also zombie apocalypses
also electrical tape oh yeah also crazy
glue amazing stuff I'm mainly speaking
of adhesives here maybe I've been
playing too much fallout for velcro
adhesive velcro by the way best thing in
the world okay
and good and it's done right where the
fuzzy side is that yeah receptacle doing
it wrong
many people they do it wrong anyway
thanks so much this is going on this
side of the set now because we started
continuing right next to the great sky
gadgets so actually that kind of goes
along with what we were talking about
this week on the show as you guys know
Mike Osmond was just on it was it was so
great to have like on yeah so he was
just on for the last two weeks oh sorry
I wasn't here but Mike was here and he
was amazing so he showed us a way to
demodulate with the yardstick one in
python and he also showed off capturing
raw IQ data from the hacker f as you'll
remember and analyzing it within
spectrum but what an in spectrum is
amazing we were actually going to do a
sign-in spectrum but he just should
fantastic tool check it out yeah
definitely so this this brought up the
question but what about the simple wave
files that we've been recording with the
rtl-sdr
and GQ rx well luckily we have a fan
named Steve aka Scoob Steve on Twitter
and he brought up a solution this is
awesome that's right we're talking about
demodulating Luke or on/off keying next
let me just go ahead and pull up some of
the stuff that we've been doing Oh are
we leaving now it's just gonna sit right
at the front of the camera why not as
long as she doesn't start cleaning her
butt on the camera we're all good now
what am i it's yeah it's a podcast you
tuned in for this movie fire up audacity
and I grabbed this sample so I have a
test file here toast I don't know we'll
go test sex seems to be the latest there
we go and you've seen us capture these
waveforms before using
what is it again it's ctrl+ no it's
ctrl-click no it's control scroll okay
and this is the very basic on-off keying
and unlike some of the unlike the
waveform that we were analyzing over the
last two weeks with my Cosman this is a
much simpler system it's actually just
using it's not Manchester encoded it's
not using anything weird where there's
three bits to a byte we don't have to do
anything fancy here it's literally it
actually doesn't represent any data
other than like this so happens to be
the signal for on and that so happens to
be the signal for off and how does it
know well if that matches up then we're
good to go so for something as simple as
that doing a replay attack is really
nice that we can record that with gqr X
but as Mike pointed out that does not
good you know that's where people a lot
of times fall flat yeah and that is like
oh well what's your sample rate well
you're recording into a WAV file that's
not the that's not like the whole radio
stuff that you recorded that's not the
we call IQ data but that's just not the
raw signal okay but for in a lot of
cases we're dealing with this in the
dial-up of things kind of old era Obon
off King is what you will find
predominantly on a lot of these devices
because it's cheap it's easy you know
these little transmitters well 315
megahertz isn't necessarily a what is it
called an is em band for example there's
like basically provisions that the FCC
gives people and companies to make
devices as long as it's under I think 25
milliwatts to be able to use that kind
of spectrum so anyway the point is you
see a ton so analyzing it and something
like GQ rx makes sense yeah it does
right and and it's convenient that
you're able to just BAM record it into a
wave and then instantly like I can see
we've done this before you know
that's one yeah you're open manually
that's a one hang of it
that's three zeros in figuring out which
one is on and which one's off so this is
this brought up the whole like well how
do we
systematically decode this and one way
to do it would be with well Mike Osman
showed off that way with the yardstick
one with some Python and awesome
clockwork recovery which is kind of a
dark art in of itself
witchcraft seriously though I'm actually
I'm but me personally I'm waiting for
Mike's video on this on his uh his video
series at Great Scott gadget calm oh we
got to get to clock recovery in a new
radio it's just a block you can using a
new radio companion but it's kind of
finicky in that you really have to
finish the signal you gotta use the
right filters to get what it is
expecting so it will spit out something
useful when at the end of the day really
we look at this it's if it's higher than
this threshold this line in the very
center of the graph that's you know this
line right here should be quite obvious
that if it's higher than that it's a 1
and if it's lower than that it's a zero
yeah so this should be something that we
could systematically do okay and that's
what that's what scoob's did that's
right so he sent us over his github
which is over at github.com slash
scoob's and he designed this program
that will basically analyze sine 16-bit
stereo or mono WAV files and demodulate
the on/off keying so it's a really
really simple command-line tool that you
can pass the file to and get the
resulting hex data which we all know how
much fun it is to get hex whatever you
know actually I prefer the fact that
it's gonna give us the hex state okay
that's what we're gonna go ahead and
passed all our FCAT anyway yeah so so it
kind of skips over the ones and zeros
right
hey guys see straight over to the hex it
you know saves you some it actually
saves you like one command in Python or
whatever anyway point being you're gonna
want to grab this tool because it's just
one of those simple things that should
be in everybody's toolkit to modulate
oak over on github so either you know
download the zip here or just go ahead
and clone the repo with a git clone
no not Klein grab that URL there ctrl
shift to B and there we go and buy now
CD to demodulate okay I have it I will
point out that you have to compile it
it's C++ so you can actually just jump
right in and start messing with it if
you want that's the beautiful thing
about the open source stuff here is I
can use Nano which is the best editor in
Linux and edit the main make file - yes
yeah there we go so we've got the copy
read and all the good stuff and then we
can come down here and see how it works
which is great because now you can take
on this and expand on it and learn from
it and send a pull request and all the
good stuff that comes with that
but otherwise we want to use it so let's
just go ahead and make it because he
gave us a make file so we don't have to
use g+ + although really psycho so now
we've got to do magic and we can run
that but it's just gonna say like your
dog i I need I need to it needs an
actual file so demodulate okay so with
that you need to input some kind of text
test file I say we use that same WAV
file that I just had open in audacity
here because then we can compare why not
why not so you know this could be really
boring writing it all down let's do it
systematically so do you modulate okay
and I'll give it slash test six stop
wave and this is awesome because it it
figures out the samples per bit it
figures out the seconds per bit which
gives us the baud rate and it's got a
bond rate of 2000 so there's there's
2000 symbols per second and if you're
old enough to know why 1200 baud was
awesome than the day you're probably
shaking her head to me saying why do you
know we were poor I got IBM pc/xt we
couldn't afford this 486 is anyway he's
already named not that old the computer
was just older than me 2,000 baht is
actually pretty good if you run in BBS
need to turn on a light switch with a
remote but the the real juicy part what
we actually want is right here it is the
output and boom the magic numbers are a
six five a a nine and I'm just going to
read this for the resolution oh I'm
joking
except for that DK at the end that's not
hex that's actually my command prompt so
Boop now if I just paste that in we can
send that to RF cat and get our light
switch to turn on and off as we
typically do which we'll do in just a
bit but we have to get the big things to
school shots cats what's two ups and
scoops no I I think we definitely need
to get big props
thank you Steve this is one of the
beautiful things about doing the show is
when people are like hey that's
fantastic I could go that in like five
minutes and then boom it's done yeah
super super handy tool I know that my
gozman also showed a more complex
version of the one in Python RF cat and
the yardstick one with that and of
course there's probably even more
simpler complex methods of using clock
recover and Geney radio which he says
that he's going to eventually have as a
video up on gray sky gadgets con but
until then really for a simple waveform
to binary converter this thing is so
cool is so easy to use I just love
simple like simple solutions to complex
manual problems you know file goes in
hex comes out you can't explain it
except you can if you just read the man
page we'll be back in just a bit you've
been watching act 5 for a while you know
how much we love domain.com we've been
using them there's their domain
registrar and the other day I was
thinking about all the fun projects were
doing here at hack 5 and it was like you
know what this is an awesome opportunity
to do some club action I know that
because domain.com told me about doc
club and all the cool new sites that you
can build on it and I got to say I'm
hooked there are so many club ideas so
if you're hot on the cloud but you
should be it's perfect it's universal
it's globally understood not even just
here in the US if you're going to go
ahead and name a new business or startup
I think it's perfect because really
anything you know any idea could be
considered a club it's it's that's what
the internet is all about it's about
community and collaboration and a club
well it's the ultimate social domain if
you will so as you guys know we've got
you know we've got the hack house club
we've gotten drone clubs we're doing all
sorts of cool stuff with it and you can
get your own dot club head over to
domain.com slash club ready to share
your dot Club domain they're only $9.99
a year and there's still a bajillion
available and go ahead and make sure you
use the coupon code hak5 to save
yourself 15% I'll let the friends over
at domain.com know where you heard about
this matter of fact why don't you go
ahead and tweet at domain.com and let
them know that you love hack five and
you love domain.com and thank you for
you know sending them props and making
this happen
anyway when you think domain names think
domain.com we're back in we have some
viewer questions the first one is from
Dennis Mann's who writes Darren or
Michael can you / maybe provide links to
some reading material on clock recovery
to get started it's so good to hear that
this will be a topic in the SDR lectures
at Great Scott gadgets calm but I would
like to start on this right now that's
an excellent question there are a couple
of different websites I believe AVL blog
yeah yeah a viens blog has a good
article on mmm clock recovery as well as
Jean Mike hell or Jean Miguel the P icy
OD blog by cons blog yeah one of links
to those in the show notes there's it
like I said when we started this series
that we didn't want a rathole too much
because we could end up going down the
rat hole for the longest so you press
the button didn't you get used to that
one I guess some other viewer questions
we do yes so the next one is from Tyler
and he writes in theory the yardstick
one should be able to transmit p 25 P 1
correct if someone were able to connect
MBE lib or RF cats for FSK transmit
function has anyone tried this I am not
seeing anyone trying this and so that we
don't lose like everybody else watching
Project 225 phase 1 is what we're
talking about here and that's what is
used by emergency responders and police
and fire and things like that at least
here in North America
yes and it's just it's just used to
coordinate for emergencies and services
stuff like that it's pretty cool in that
it's a digital service it uses or it can
use encryption and it's weird because
it's like anything from the lame-ass 56
that yes all the way up to something
pretty good like 256 AES with chain have
bad p 25 P one or phase one as it's
known as is digital it's four FS k or
frequency shift keying and that
modulation allows it to do 4800 Bob's
using two symbols which comes out to
being something like 9600 bps again with
the modems not too terribly fast but
there's some really interesting
weaknesses in it in that some of the
metadata in it isn't actually isn't
encrypted as well and there's all sorts
of other interesting flaws that have
come to light so if you're really into
b25 I totally recommend checking out
Opie 25 project it's a topi $25 mohkumat
org and it's an open-source
implementation of AP 25 packet analyzer
are you trying to type on she's she's
just V key over and over sorry it's it's
a packet you imagine like Wireshark but
for p 25 it's made to be used with a
certain unit in radio or
software-defined radio like the ettus
research USRP although I'm sure the hack
RF one just as well again with the
rabbit hole because now I want to go
down that road I wonder if they if the
Richmond Police Department uses p25 we
could probably find out as far as the
artistic one is concerned this guy
operates at around 3:15 megahertz 433
maker to 915 megahertz none of which at
least from what I've seen are what's
being used from 25 I thought it was much
add two more in the scales something in
the then in terms of like
was it 12 kilohertz or 12 mega it's
Kirby do you remember was it 12
kilohertz or megahertz do you know her
she doesn't really she's not into the
megahertz now she's at the mega I just
had negative heads for a second I mean
just a reminder reminder this weekend we
have an open house happening aka a
garage sale yes it's a warehouse pop-up
shop yeah and a pop-up shop for the hack
5 hack shop so you can go over to hack 5
org slash open house to sign up for that
it is on December 5th from 10 a.m. to 2
p.m. and then all some of the proceeds
from the garage sale are going to
benefit the e FF which we're super
excited about so come out shop to your
heart's delight and there's also a local
point Richmond Art Show that day as well
so it was like wow and this is how you
can convince your wife next door like
knitting scarfs or something I don't
know yeah we're gonna be flying quad
countries and and hopefully getting rid
of all of our extra drones and 3d
printers and robots and computers and
unused production equipment and lots of
stuffs of the hell if you're looking to
start a podcast we've got half a studio
ready to go I'm selling my own
microphone so yeah good stuff anyway
we've never done this but you know it's
just it's nice to get a head start on
2016 spring cleaning and get you guys
like in on some of this gear that's just
lightly used and that it'll all go to
support the e FF and that's a plastic
portion but it's exciting so yay with
all of that said I am I'm just oh and if
you can't head out here for that we also
have a whole bunch of sales going on for
the holidays over at HHH comm so
definitely check those out we have a
bunch of like really cool new bundles
for radio type dealios like there's an
SDR bundle and
we did our cyber monday Black Friday
yeah totally forgot about this right we
operate a shop H a cake shop calm it's
how you can support us directly actually
you don't have to come down to the
warehouse and buy your old crap you can
just buy our new crap and you go to in
the mail box and you'll be happy yeah
that's all right
that's just totally space to her so you
can thank you you made all the pictures
for the hack shop it probably did I do
all the graphics on act five hey you
know people are probably wondering about
fruity goodness 2 0 XC 0 XC feedback a
hack 5 doriga's how you can let us know
which like and you can just comment
below as well
and hak5 dark you'll find all the shows
you'll find where to follow us and the
social medias find Shannon's showtek
thing with Patrick Norton
oh yeah that's on half done on a set
that looks very similar to this but
obviously it's not get your different
yeah yeah will come out this weekend
tour the studio yes nice alright with
that i'm darren kitchen I'm Shannon
Morse
trust your Technol is my car because how
we do it where'd she go she's right
there I was like she's like now she's
standing on the school going don't worry
I'll focus these cameras yeah she's like
do it again it was just all over the
place you guys call yourself podcasters
how long have you been doing this let's
see this
Kerby vvv vvv vvv isn't found</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>