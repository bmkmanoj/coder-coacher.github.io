<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Text to Speech in Linux and Fun BASH Scripts - Hak5 1923 | Coder Coacher - Coaching Coders</title><meta content="Text to Speech in Linux and Fun BASH Scripts - Hak5 1923 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Text to Speech in Linux and Fun BASH Scripts - Hak5 1923</b></h2><h5 class="post__date">2016-02-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/VcpYugrjPDA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">how to set up text-to-speech in linux
the easy way this time on hack 5
hello and welcome to hack 5 my name is
Darren kitchen it's your weekly dose of
Technol us welcome to the show
yes welcome to if you're expecting
rainbows and kittens and sparkles this
is the wrong show but if you do want
rainbows of kittens and maybe a unicorn
that farts a rainbow and sparkles and
possibly girly stuff you can check out
my blog it's at youtube.com slash snazzy
boo because why not
Erbs anymore it's numsy boo the dervish
nerves yes I like ster peace nerves
which is something that you get to know
around the office here but anyway yes
I'm so proud of you I'm so glad that to
see you vlogging I was about say mighty
fine intro of yours but yes it's just
fun that we're doing so much more stuff
like I just did a Lex code with sab and
Rubik's is coming down to do another
batch of Metasploit minutes but you
didn't turn in for that you wanted to
find out about today's topic which is
text to speech or TTS you know that
robotic voice that comes out of your
computer when you send it a bunch of
text and there are you know we're
focusing on Linux here and there are two
obvious choices so first of all we have
Festival from the Center for speech
technology research at the University of
Edinburgh as well as its fest Vox
packages which are voices that come from
Carnegie Mellon and then there's espeak
from Jonathon Edington Wow yeah so way
to go Jonathon dude you're like all the
way up there with like the universities
making cool stuff that I'm assuming
they're both open source they are
they're both open source command-line
tools that are Linux friendly they're
cross-platform so if you did want to use
them in Windows you could and they they
use very similar speech synthesis
technology I don't want to get into like
all the various types because it's kind
of I was going for this but the two main
kinds are like the ones that are like
on-the-fly synthesis and then the other
hind is where you take little word
fragments from actual recorded human
voice and then you kind of slice them
all out and put them to you well they
sound a lot more normal that this the
ones that we're going to show you today
sound like Joshua do you like to play a
game you know
one that said maybe you're gonna like
these I'm not a huge fan of the voices
per se you have a favorite I do have a
favorite and given enough time I would
probably get used to one of these so
that's why I will show you some examples
before it's my favorite next week okay
well show me some examples okay so I'm
gonna turn my sound up all the way here
and hopefully we can pick these up so
we'll start with a simple echo of hello
world
I like snob zebu and that'll be fun to
see if it can figure that out I'm gonna
go ahead and pipe this just using a
little pipe here so the output of this
echo command here is going to go into
the input of the next command in this
case is gonna be festival with tactic
TTS for text to speech and then tactic
pipe to let it know like hey we're
sending you stuff and it's gonna sound
like this not the greatest but you could
probably make it better if you felt like
tweaking it yeah one that I have tweaked
a little bit to make it slightly better
is and I'll do the same example but in
this time instead of piping it to
Festival will do espeak okay and I use
tack s to set the speech rate we'll say
200 words per minute and then tack V for
the voice and I did download another
voice here called MD - us - and this is
about as good as it gets to sound if you
ask me and it failed to find that voice
because I probably don't have to put it
in quotes yeah oh that was creepy it was
a little creepy we'll figure out exactly
why it's not liking my voice pack but
either of those are not my personal
preference but I do want to point it out
there in case they happen to you know be
fun for you I mean a lot of people like
these so it's probably just me that's
irritated anyway if you do want that
like awesome Joshua voice you can have
it okay so if you for instance would
like to have these tools at your
disposal any time in Linux to read large
sections of text say from like reddit
articles or whatever you might through
your headphones while you're pretending
to be working like
for Packer type or nets I believe you
have a way to do that as well yes and
that is exactly why I got started
reading articles in Texas speech because
I would love all phones as an IT guy but
not not have slash dot just like all
over my screen so in Gnome create
screenshot screenshots shortcuts is
pretty simple so I'll just go ahead and
come down to keyboard shortcuts and you
can see we can actually add a bunch of
custom keyboard shortcuts which is kind
of great so I have a few here for like
read text to speech through espeak I
have them for Festival and what's so
great is that since they're Linux
command line tools I'll be able to
actually take the output of well
whatever program and then send them to
their input so just like we did with
that previous example with echo let's go
ahead and do this except this time using
x11 tools so if you're not familiar with
X Y or if you're in Linux you're
probably already using it it is what is
underlying it's called X Windows or x11
and it is what all of these nice window
manager is like gnome or KDE are built
on top of yes it's been the standard for
yeah used to look really ugly it's
gotten a lot better
oh yeah well supposedly it's getting a
whole lot better so if you're watching
this in the future hello future people
how's Wayland I hope it's everything
that I hoped it could be so how are we
going to make all these like terminal
these command line tools work in xqe
okay so basically we're going to use
this tool here there's a bunch of tools
that allow you to interface with x11 and
the one in particular we need right now
is I want to be able to select a bunch
of text in Linux and then go ahead and
have that text that I'm selecting be the
output that I'm sending to festival or
espeak so for that check this out let me
open up I don't know anything I'll open
up G at it and just kind of put that
over there and say
snubz has Firefox hair so if I select
this text right here now I'm not going
to copy it I'm not gonna you know put it
into my clipboard or anything but I'm
just going to select it and then run
this command here Excel and you see what
it did there oh yeah it doesn't have a
carriage return but I get it right there
in the command ok yeah well in this case
it's just capturing whatever is selected
in the terminal and since you can't have
multiple things selected it'll always
have
or not just the terminal but anything so
if I pulled up like a really long
article that I wanted to like just have
read to me in the background while I'm
doing something else I can take the
output of Excel just like we did before
with the echo so let's do exactly that
so if I come down here and do Excel and
then pipe that to espeak tack s200
because otherwise it speaks really slow
and then I select this and now I press
Enter there we go
sound it terrible well whatever it did
the thing yes it did the thing yeah cool
so that works I think this is pretty
cool but I have a few questions about
like how this works but we're gonna we
should take a break
when you get that great idea you're
gonna need yourself a great domain and
if you're like Shannon and I you'll love
using domain calm because there's
nothing simpler they have an intuitive
domain discovery system and an easy
checkout process that I get your website
up and online in no time
and they've been supporting hack 5 for
years now so you can show your support
back by using their coupon code just for
us is hak5 or hack 5 drop that in at
checkout to save yourself an extra 15%
off or shoot them a tweet at domain.com
and say hey thanks for supporting hack 5
when you think domain names think
domain.com now imma let you finish mr.
kitchen but what if you wanna stop one
of these TTS engines okay all right
we're getting to get into killing
processors and Linux it is so funny to
even Kanye can do it so check this out
there are sits Linux is a million ways
to do it which is a lot of fun so I'm
gonna show you a bunch of wrong ways to
do it leading up to the right way or we
should say maybe different ways for
instance I have this G edit over here
open and I've got my little snob says
Firefox hair going on in there and we
want to kill that process so first thing
that we need to do is figure out the
process ID every write the page the pid'
the program running on Linux has a
process ID number associated to it some
programs even use multiple process IDs
for instance chrome every tab is a new
process ID so if one tab crashes it
doesn't crash the entire Chrome browser
pretty cool stuff and to find out those
process IDs all we have to do is run PS
fox oh let me let me make this bigger
this looks kind of terrible in it there
we go and I can come through here and I
can actually see okay somewhere down
here where oh there it is G edit we
found it and you can see it's you know
running as me and we've got a process ID
and a bunch of other stuff and when it's
opened and boom there's G edit so can
you run me through what Fox stands for
yeah so if you just ran PS without the
Ox actually this is what you'll get so
I'll clear this and just run PS and
you'll see I don't see a whole lot I
actually only see what's running in this
particular terminal which is in this
case the PS command and I'm in bash so
if I wanted to see they stand for
actually it does it stands for all
processes from all users so not just DK
in this instance the you would be
showing the owners okay yes showing the
users and owners of those processes so
we can tell who's running what of course
this is a single user machine so you
know and then X will show and this is
the important one all of the processes
that are not attached to this terminal
so instead of just in this case bash and
PNP s I would actually see things that
are running like Chrome which is running
outside of this particular terminal
which is really nice because once we get
this pin number you know I'll make this
smaller again actually I'll kind of
rework how I have
these laid out so that we can see this a
little bit better cuz I want to see you
see this disappear there we go so I have
my G edit open and if I do now kill and
then the process ID number of G edits so
we have our G out of here and we just
take this number this eight to nine zero
so I type eight to nine zero and there
it goes it's gone okay well that was
really fun and cool and everything but
that's manual-labor not do it
systematically and that's the beauty of
Linux that's what it's always about
let's automate everything I'm gonna
write I'm gonna open up another G at it
and pop it down here and let's go ahead
and in this case we're going to instead
of just running PS ox and getting this
huge amount of output we're going to run
PS ox and I'm gonna pipe the output of
this to the input of the next command
that next kind is going to be grep which
will look through stuff and I'm gonna
say show me everything that that begins
with G edit and there you go okay we've
got two processes now running we have
the actual G edit right here and then we
have another one which is oh well it's
got the word G at it in it so it found
that but it's actually my grep so it
found itself I'm gonna tell it like hey
program I understand that you're like
turning 30 and things are really
exciting and scary and I know you want
to find yourself but now's not the time
okay so how do you keep it from grabbing
itself you tell it what you put brackets
in front of the first letter okay and
what that'll do is it will ignore itself
there is another way where I could
actually you know take that and then I
can pipe it again to grep with attack v
option and save like ignore anything
that starts with grep and but that's
just kind of convoluted so I like the
bracket option okay well this is how
they let you finish but I mean this is
really cool and all but that still only
gives you the output of the entire
process which has the user and when the
process started and all that stuff so
don't we just want the process ID number
is there way to just get that we do and
here's ears like this is in
the reason why we're doing these
examples because they build on each
other on each other with all of these
fun other commands and that's like the
whole sweet thing about Linux if I if I
bring a stack to just this output yes
you're right we've got too much here we
only want the second column so we can
actually use another tool we can pipe it
again you can see how like commands can
get really long this way we're gonna
pipe it to talk and what acha Lau's us
to do is print only one of the columns
now we want the second column so if I
put a number two here in this print
squiggly squiggly in awk I get cool just
that process ID number okay so what well
similar to how I can pass the output of
one program into the input a note of
another we can do we can kind of reduce
a program down to its output as an
argument for another okay kind of like
you did in in algebra so let me give you
an example here so we know that this
will always give us the process idea of
what we want but what we're going to
actually do is kill that process ID so
the the what we would want to type is
kill eight four one six not all that
stuff yeah so how do we make this go
into that well if we put it in
parenthesis with a dollar in front of it
it is kind of like algebra in that this
will get reduced down to what it equals
in this case that the action that it
equals and then it kills whatever the
action was that it equalled right so
when we execute this it kind of just
works backwards so what we end up with
is the equivalent of kill eight four one
six so if I run that now boom G yet it
disappeared that's awesome
yes but there's actually an easier way
to get the process ID instead of using
PS and awk and grep and and an awk and
all of that other weird stuff I think I
know what you're talking about
I believe you've done this in another
hack tip actually it's pidove so let's
fire up another fire up G edit again pop
that guy down there and so we didn't
want to know you know it's gonna have
another different number now it's not
gonna be eight four one six will do pit
of G edit
and it's eight 5:02 so as you might
imagine if we just follow the same logic
from the previous one we could do kill
pit of G at it and there you go
except process ID of G edit yes so now
that I have shown you all of the
terrible ways that you can do this it's
time to show you the actual easy way
okay and that is the kill all command
she takes all the fun out of all of this
really because you don't get to learn
all can crap and all that but if we just
do and again I'll fire up G edit poor G
edit and we just do kill all and again
this will kill every instance so if I
like opened another G edit
oh poor guys they're gonna go together G
edit so kill all G edit and they're all
gone cool yes so it would actually be
useful to know both of them because if
you just want to kill one process of
chrome you have the options if you want
to kill all of chrome you could also do
kill oh yeah and and this is one of
those things where you would actually
want to know for instance like maybe you
would want to know like okay this G edit
is open with this text file that one
over the other but in this case we just
do want to kill all of them yes so I did
a hack tip call it was called a hack tip
Linux terminal 101 controlling processes
there was a whole series and I mentioned
kill I think just regular killing that I
never went into kill oh yeah and the
reason for that is because not every
system in Linux is going to have the
same programs you know you may find by
but not Nano or you may find you know
there's a lot of core utilities that you
should hope to find on every system okay
like LS and MV and CP and you know to
move around files and copy them and list
stuff yeah but you won't necessarily
have some esoteric program that you like
learn to love and then you go to a new
system you're like what do especially in
the world of embedded stuff which is
where I learned a lot of my Linux is
actually from learning with the Wi-Fi
pineapple
for instance because it's a Linux box
but it's embedded system sorry it
doesn't have like gigabytes of images
and distros and stuff it's uh it's
pretty pared down which is fun because
you end up learning the long way oh so
if you'd like to walk to school both
ways uphill you can do that point that
out all right so let's make this work in
Nome okay a shortcut so what I want to
be able to do is essentially select some
text hit a key combo on my keyboard and
then have it do the thing instead of
having to pull up a terminal every
single time okay in Nome and this is
gonna be different for whatever your
window manager of choices but I like
Nome so I'm just going to show you here
under keyboard shortcuts which is in
your which is in your all settings or
whatever you go to keyboard and then
shortcuts I have a few here and I'm
gonna go ahead and show you for instance
the custom shirt credit have here for
espeak so if I open this what you'll see
is Bosch taxi and then in quotes that
whole command that we did before and the
e speak the excel which selects our text
and then we pipe it to UE speak with
attack s for the speed and then tack V
and for summer it isn't it it works when
I do that so I'm not sure what's going
on with that one there's no space
between V and actually there seems to be
a tiny one so there you go there's that
I don't know but this works because if I
pull up G at it and say herbs as a cool
YouTube channel and select it all and
now I've applied this to super Z the
keyboard combo so if I hold down the
super key which will look like a Windows
logo but we don't call it done wonders
there you go so it speaks and if I
wanted to make it I don't know we'll
just make it repeat all of that and I
want to kill it mid-sentence I have
another one here that's super X and what
it does is runs bash taxi and that is
hey st. bash hey run this command that's
in quotes and that's kill all you speak
so
I do this now oops I actually have that
selected let me select all this and
there we go I can stop it and it's the
exact same thing with festival again
it's that same command so I can do
control super Z okay come on stop come
on I said oh come on really really okay
kill all festival no process bound hang
on hang on hang on I have to here so
oh gosh come on really okay you know
it's even better when the demo does
crazy stuff like that because oh man
anyway I just thought it would show you
that because this is a way that you can
goof off at work listening to all sorts
of articles while you're pretending to
just be bobbing your head to music with
a tiny little slashed out window in the
bottom right except it's not slashed at
its read it now because it's 2016 and
we're gonna do a follow-up correct we
are actually because I've only shown off
the open source Linux e ones and I very
much want to show you another Texas
Beach engine that I prefer that runs in
Linux in Linux yes it there's a very
choice operative words there all right
yes and before we go I also want to let
everybody know I'm gonna let you finish
first I'll let everybody know there's an
awesome opportunity to get into some
InfoSec training we're having move
except Metasploit minute sebastian who's
our software developer for the Wi-Fi
pineapple and Darin as well they're
hosting another pen test with hack 5
class it's March 11th through 13th super
super fun it's totally story driven and
it's hands-on training with the doves
which is great it's unlike any other
class so if you're keen on our class you
can
more a pen test with hak5 dot-com seats
are very limited so register early
register often let's do that
yes I hope by the time this comes out
that there are so some available because
it is yeah we get we get people emailing
us I have taken the class it's so much
fun oh my gosh and if you can't make it
though to the class that's okay
because you know what all of the
hardware that we include with that pen
test class you can grab that over at our
very own hack shop comm and that's where
you can find the wife at pineapple Nano
which is newly released very exciting
stuff it's really cute also if you have
any feedback on what you would like to
see or projects that you would like to
share with us we're always looking for
segment ideas so feel free to drop us a
line over at feedback at hack 5 org
that's also the website where you're
gonna find all of our other shows we do
threat wire which has been going great
on patreon really appreciate everybody
who's been contributing to the show over
there and keeping it alive Metasploit
minute pineapple University and a lot
more loving your pineapple universe oh
thank you thank you and you know I asked
to do a lot of like more informal videos
on my own channel as well but you'll
find all of those links at the bottom of
youtube.com slash act 5 that's where you
can find the two of us our own personal
stuff as well and and yeah the feedback
you know has been great lately like for
instance we may be revisiting the key
fob SDR stuff based on one viewer
feedback this week that's been kind of
exciting so anyway if you're diggin all
of this I just want to let you know that
sharing liking subscribing all of that
stuff even leaving a review on iTunes oh
yeah goes a long way to actually use
iTunes
hey don't make fun of them but hey I
used to use iTunes yeah but yeah reviews
really really help so does sharing
you know one gate getting the word out
but it's exciting and hey you know what
thank you though for everybody that has
done that for helping keep hak5 going
for over ten years now I'm so grateful
yes with that i'm darren kitchen i'm
dressed you're techno less no I killed
the process here hang on kill all snubs
three two one oh my god oh I am so sorry</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>