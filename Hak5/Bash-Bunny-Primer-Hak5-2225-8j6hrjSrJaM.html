<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Bash Bunny Primer - Hak5  2225 | Coder Coacher - Coaching Coders</title><meta content="Bash Bunny Primer - Hak5  2225 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Bash Bunny Primer - Hak5  2225</b></h2><h5 class="post__date">2017-08-30</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/8j6hrjSrJaM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">crash course on the Bosch bunny this
time on hack five hello welcome to hack
five to weekly dose of techno last I'm
your host Aaron kitchen and this is your
weekly dose of tech notes I don't have
Shannon here to help me right this
moment so I'm kind of winging it and
it's my first time doing a segment back
in studio in six months so bear with me
please
by the way if your name is kevin Mitnick
this episode is for you because you just
called me and you're like dude I'm doing
an awesome demo with a batch Bunny and I
need to get up to speed and my mind is
blown because my inner 13 year old is
like oh my god my hacker hero is calling
me for tech support how fantastic is
that and then at the same time the sev
and I were heckled by none other than
Captain Crunch at our DEFCON talk what
what okay so if you're not coming Nick
you can still watch and this episode is
basically gonna get you up to speed the
quick and dirty on getting going with
the bash bunny is batch bunny basics
alright so you're probably wondering
what is the best bunny if you're really
new at all of this basically it is a USB
attack platform what does that mean
basically it can mimic trusted USB
devices and execute pre-programmed
attacks known as payloads and when you
plug the bash pony into the target
computer it doesn't just show up as a
regular flash drive in though it kind of
looks like one but it actually can show
up as serial device Ethernet adapter
keyboard and combinations therein and
there's no drivers necessary it just
works which is pretty cool because when
you couple that with the quad-core CPU
that's in here and the desktop
desktop-class
SSD you throw in some advanced scripting
and you've got a lethal little bunny I'm
kind of proud of that your red team that
means that you can basically plug a bash
bunny into a locked Windows box having
showbiz and Ethernet device and start
snagging some credentials and seconds or
you can use it to liberate some files or
install some backdoors and get remote
access set up phishing attacks I mean
there's so many offensive capabilities
it's ridiculous for you guys in the blue
team though it also means that you have
an automated device for incident
response for specialized reconnaissance
for patch management of air-gapped
machines I mean really just about any IT
tasks that can be done with a keyboard
and of network and a flash drive could
be automated with this
that's kind of exciting too now I've
mentioned this and I should probably get
into the nitty-gritty of it the payloads
right it's single bash money this is
pretty cool can carry multiple payloads
each assigned to a different position on
this little three-way switch so for
example you could say have a
exfiltration payload on switch position
1 and a reconnaissance attack on switch
position 2 and then you can just switch
between those two by flipping the switch
before you plug it into the computer and
assigning those attacks is just a matter
of copying the payload files to a
numbered switch folder on the bash bunny
so payloads themselves they're literally
just files they're actually just text
files that tells the bash Bunny what to
do and anyone can write them on any
operating system you know from notepad
on windows to nano on Linux they're just
simple text files and they're actually
written in a combination of bash which
is the common Linux scripting language
as well as a bunch of bunny helpers that
make writing these attacks so easy so
you can read it really easily but it's
yet still pretty advanced and there's a
huge set of these already available on
the hack 5 git repo so that's pretty
cool there's a huge community of
developers always making awesome new
payloads and sharing them on the hak5
forums so it's really easy to get
started since there's a lot of examples
to follow a lot of people to ask
questions it's a great community what I
want to do in this episode is get you
set up and get you started with your
first attack so to set up your bash
bunny first thing that we want to do
after we take it out of its pretty
little red packaging is to flip this
here switch into the third position
that's the one closest to the USB plug
and that's what's known as arming mode
and after that you just plug it into
your computer and after it boots it
starts blinking blue so I'll go ahead
and do that here now in this mode your
computer is just going to see there's a
regular thumb drive mine sees it here as
the D Drive labeled bash bunny and if
you open that up you can just click
around and see as you typically would
any other flash drive now we'll get into
what those folders mean here like for
instance there's a docs folder which is
for documentation there's a language
folder for the keyboard layouts and
you know there's a loot folder for the
logs and the other cool data that we get
back from our target computers while
we're attacking them there's a payloads
folder which is home to the library of
all of those payloads as well as the
switch position folders that you put
them in to attack and there's even a
tools folder for installing more
programs onto the bash bunny like I said
under the hood it's a quad core ARM
based Linux box with a desktop class SSD
so the thing is just fast it boots in
just about seven seconds and it's
running Debian so if you're familiar
with that version of Linux you can apt
to get installed to your heart's content
and there's even shell access dedicated
on the serial console and arming mode
but we're not going to get into that in
this video
I really just want to show you the
basics in fact for the most part if you
just want to use it as like a regular
thumb drive copying files to set up your
attacks that's all you need to do so
that's what we're going to be doing
today and just covering getting set up
as quick as possible and the first thing
of setting up any of these devices any
hack v giri you're going to want to
always update to the latest version you
know we're constantly adding new
features we're constantly doing fixes
and you want the latest firmware and
updating the bash money it's really
simple it's a matter of downloading a
file from the bash bunny website copying
it to the root of the device while
you're in arming mode then you just
safely eject it unplug it plug it back
in and it'll blink a special pattern for
I don't know like between five and ten
minutes while it gets everything set up
and then it goes back to that happy
little blue blinking in arming mode when
everything is finished there's a version
dot txt here I fact on the route and if
you open that up you can see will open
that with notepad what version it is and
this is version 1.01 six seven because
this is a fresh batch bunny
right out of the box and there's more
good stuff waiting for it so let's get
it updated now like I said you can just
download that from the wiki here you
just head over to the downloads page and
you can just go ahead and download the
latest version for right now it's 1.3
get this little tard use that file and
you can just go ahead and save that and
that's the file that you copy over to
the bash bunny if you're on a Mac don't
like unzip it there's no need to unzip
it you just copy that file over
but here's the thing right if that
wasn't easy enough this process was made
so much easier with the release of the
Bosch bunny updater check this out I'm
so stoked about this basically this is a
really simple portable application for
Windows Mac and Linux that you can
download right onto the bash bunny and
arming mode and you literally double
click it and what you know just go
through it and it'll update you to the
latest version of the bash bunny and
it'll also grab all of those payloads
from the repository and put them on your
batch money in its payload library
folder so you already have all the
attacks on your device ready to go so
let's go ahead and set that up because I
think this is pretty cool I'm gonna go
ahead and grab the windows 64-bit
version right here I'm gonna save this
on the root of my bash bunny here now
I'm going to unzip this and I'm just
going to run bunny updater
and it says okay I'm gonna choose an
action there's only one action it's
update the bash bunny so 0 it's
connecting to the server it's checking
to see if there's any bash bunny update
or updates
there's none and now it's checking for a
new version of firmware there's a new
version found so it's downloading that
and we'll just let it do its thing and
there we go we see the new firmware was
downloaded it's syncing and it's
basically ready to go and it tells us
that all we have to do is safely eject
the bash bunny and reboot it so we press
ENTER and I'm gonna go ahead and right
click on my bash bunny and say eject and
now I can safely eject my bash bunny
leaving it in arming mode and you plug
it back in and it goes ahead and starts
the update and you can see here it's
blinking red and that lets me know that
it's updating the firmware that's the
LED blink pattern for the very first 1.0
version from there on it's a really cool
police pattern where it alternates
between blue and red and there we go
it's successfully copied all of those I
just press ENTER to close that and if I
go back to the payloads folder and under
library we can see that we have all of
these awesome payloads ready to go and
they're categorized by the different
types so we've got execution payloads in
here and we've got exfiltration payloads
in here and we've got recon payloads in
here
and you know the whole lot and this is
really cool because it means that in the
future to update your payload library
and grab all of the latest attacks all
you have to do is just run the bash
bunny updater again there you go all
right so let's do a simple attack now
that we've got the bash binding
up-to-date and loaded it up with all the
latest payloads let's perform a simple
attack right and the okay well I've got
it here plugged it to my computer -
money is in arming mode it's blinking
blue as it typically is and I've browsed
over to all of these payloads so let's
let's find one fun to run right so I'm
gonna go ahead and take a look at doing
some recon and I've got in the Recon
folder I have this nmap or payload and
this is pretty cool because this can go
ahead and do a little reconnaissance and
I'm just gonna go ahead and do that here
on Shannon's computer she's lefty here
on the studio for me to play with so I
figure you know it's fair game it's a
it's not logged in but you know that's
fine it doesn't need to be anyway the
end mapper payload is a great example
payload to kind of get you familiar with
these things and and it's basically
going to use end map to do a port scan
and save a log file over to the loot
folder and then for each of these
payloads you'll kind of noticed that we
have check this out we've got a readme
DMD file in addition to the payload txt
so this readme MD file is basically
going to tell you a little description
of the payload what it is how it works
any kind of you know things you need to
be mindful of in the configuration and
then a Status of what the different LED
is going to indicate what it's doing and
sometimes you'll even find a discussion
thread which is really nice
for if there's no questions that you
have you can talk to the developers and
things of that nature pretty cool for if
you have questions so let's go ahead and
get this payload assigned to switch
position one for that I'm just going to
go ahead and copy these files here so
copy and then I'm going to go back a few
go all the way back to payloads and I'm
going to go to switch position one and
I'm going to delete the payload that's
currently in here and I'm just going to
go ahead and paste that end mapper
payload
and there we go that's pretty much it I
mean at this point it's really just a
matter of ejecting this Drive Safely
always good practice and go ahead and
unplug it and now I just switch this to
switch position one the one furthest
from the USB Drive and I sneekly find my
way over to Shannon's laptop which i
think is like in suspend or something
Jana's behind the cameras and she's
telling that the power button turns it
on
protip so I'm here at her windows login
page with the puppy on it okay that's
fine I'm just gonna go ahead and plug
this Ian I don't actually need to be
logged in so plug that into Shannon's
computer light goes green when it's
booting up takes just a few seconds and
then like I saw in the readme MD file it
went purple I'm like okay so I can look
this up and say what does purple mean
we're I'm sorry magenta if you want to
be accurate and then it went yellow so
now it's blinking yellow or amber here
and there and in a little bit and the
amber LED is blinking letting me know
it's in the first stage of the payload
oh and it goes and goes solid green so
the lights green it's a hacked machine
so at this point I can just go ahead and
unplug it
switch it back into arming mode plug it
back into my laptop now let's check out
what we got we head over to our bash
bunny Drive and under the loot folder I
can see I now have an nmap folder and in
it is a log file that tells me all about
Shannon's machine and let me open that
in a better text editor notepad plus
plus there we go and we can see how the
nmap scan went and it tells me about the
fingerprints of the OS details and all
of those sorts of things and what's cool
about this is if you wanted to run a
different sort of nmap scan it's just a
matter of going into that switch here we
go under payloads switch one and payload
txt
I'm gonna open that with a good text
editor I mean you could use notepad fine
we'll use notepad and you come down here
and you see hey here are the nmap
options and you just change this to
whatever and map options you want right
and now every time you do that it's
going to go ahead and run those I hate
so there you go it's it's pretty simple
you can really see that this is pretty
much the process whether it's a simple
end map payload or if it's something
more advanced like exfiltration it's
really just a matter of copying the
payload files to the switch position do
a little bit of configuration in your
payload exe if you need to eject it flip
the switch to the position of your
choice plug it into the victim box wait
until the LED goes green you're good to
go
we should probably also talk about tools
because by now you must have gotten
familiar with those basics and you're
probably after some more sophisticated
attacks and while the bash money ships
with a number of tools already installed
some more advanced payloads make of use
of tools that aren't installed but
thankfully installing tools super simple
as always with the bash money plugged
into our computer in arming mode what
we're gonna do is you know I can see it
is it's blinking blue right so get my
blue Glen Keys I'm in arming mode I'm
looking at it like a flash drive what we
can do is we can browse over to the
tools folder on it so check this out if
I go back to this computer and my bash
money I've got this tools folder here
and it's empty and that's typical what
you do here is you drag and drop the
tool that you want to install into this
folder then you next time you plug in
the bash money in arming mode it's going
to go ahead and install this tool so
it's that easy since it's Debian Linux
under the hood it'll take any standard
Deb file as long as it's compiled for
the arm CPU architecture and otherwise
if you have some tools that are in
Python or Perl or Ruby or things of that
nature
you can just copy them to this folder
and then the next time the bash bunny
starts it was not a Deb file in arming
mode what it's going to do is just going
to move them from slash tools or from
this directory on the flash drive side
to slash tools on its Linux side so that
way you can reference them in any of
your payloads and you're probably
wondering ok
cool but where do I get all of these
awesome tools that I should probably put
in my bash money for these cool payloads
well that's where the hack 5 forums has
you covered because there's a stick heed
tools thread that covers the Downloads
where you can go ahead and grab dot Deb
versions of all of the awesome stuff
that you might want to go ahead and grab
like for instance in packet which is an
awesome tool from core security or
responder which is another awesome tool
from Spyder labs they're used in a
number of payloads so let's go ahead and
get those I love in packet it's like
it's so great so I go ahead and click to
download and I'm gonna save it in my
tools directory and hit save I'll do the
same thing here for responder save it in
the tools directory save awesome ok and
now as always now that I've got those
files there I'm just gonna do what we're
what good people do which is to safely
eject I'm gonna go ahead and unplug I'm
- bunny it'll leave it in army mode I'm
gonna plug it in once more and there we
go so now it's magenta and that's
letting me know that it's installing all
of those different tools and when it's
done it's just going to go back to your
standard blue blinking pattern letting
me know it's in arming mode but right
now it's basically running dpkg
hey and there we go it's done so now on
the machine I can just go ahead and use
in packet and responder just like a
normally would I didn't have to provide
Internet access and do an apt-get
install or any of those things makes it
just kind of convenient now one last
word before we get going here on
languages I know this is going a little
bit long but I really want to dive deep
into all of the nitty-gritty of these
attacks and I will I'm really excited to
get Shannon on and to show her some of
the scripting language capabilities but
I do want to cover this one idiosyncrasy
you know idiot the word of the day folks
is idiosyncrasy it's the one that I
can't say but it's something that you
might need to be aware of in regards to
keystroke injection attacks or hit
attacks and how it in regards to
keyboards around the world because you
know keystroke injection attacks are
great right but keyboards for the most
our one-way streets so when you send
keystrokes down a bus it's up to the
operating system to determine what that
actually means so by the default the
bash money is set up for a United States
keyboard layout which is fine if you're
here in the US and you're setting up
your attack but then if you're going off
to France on an engagement or something
and you just you know want to be aware
of this because you'll need to switch
your payload to match the keystroke
keyboard layout of the computers that
you're going to be attacking otherwise
your payload may think it's sending an @
sign and it will actually be interpreted
as a quotation mark because different
keyboards have different layouts and you
don't want to be deep in a nuclear power
plant on a physical mission you know
doing social engineering on this
engagement and then find yourself
without a laptop with a bash bunny
that's programmed for us keyboards not
that I know personally but you know we
got friends in the industry and it's
just never a good thing so you're gonna
find a list of all the languages on the
bash bunny here in the languages folder
and you can see them right there if
you're using the bash bunny updater you
will have them automatically otherwise
you can grab them from the hak5 git repo
and use these key mappings to specify
the language with the command ducky lang
we're going to get into all those
awesome commands next week but I did
want to let you know just in case you
were skipping ahead and you really want
to dive into this and you're like hey
why am I getting a burnished pound
sterling symbol instead of a hash symbol
or something like that
okay anyway I'm gonna wrap up here but
before I do get going we are gonna get
into writing payloads and dropping into
the shell and all the fun stuff you can
do with extensions but I do want you to
be aware of a few awesome bash money
resources first and foremost the bash
bunny wiki is the place to go
because it has all of the documentation
it's got the downloads so you can figure
out you know like the whole language and
all of that other stuff right here from
the wiki I also want to point out that
there is a forum with so much good stuff
so the bash bunny forums is the place to
go because you're gonna meet other bash
bunny users there get inspiration you
can find help we also have an IRC server
and you can find the bash bunny
folks over in pound bunny on IRC hak5
org props over to digit over at dark
science for hosting us there on that
server and you know what huge problems a
little bit of a tangent but huge props
to Grandal and joke and hibi for all of
the support over the years we just
switched IRC servers if you hadn't
noticed and it's just it's crazy to
think that pound hak5 has been going for
over 12 years now so I hope to see you
on IRC it's good stuff
anyone last but not least third well
anyone can write a payload and I mean
it's just a simple text file so sharing
them is really simple we would really
prefer if everybody got into the
community and participate and engage
over at the official git repository
which is the best way to let your
creativity be enjoyed by the entire
community and likewise you're gonna find
a lot of awesome payloads from others
that will help you get started and
that's over on the github here at github
calm slash hack five and you can go
ahead and you know get your commits
going get your forks going all that good
stuff so all of that is linked from bash
bunny comm the main site I want to thank
you all for making this a huge success I
know that it was like we launched the
bash bunny like right before I left for
hack across the planet and and during
that tour we did a contest to see some
of the best payloads I'm just now coming
through all of those now I actually
really want to reward the community for
all of their contributions and one of
the things that I'm finding difficult
actually is that github doesn't make it
really easy to contact a fellow
developer there's no like private
message function it doesn't list you
know most people don't list their emails
it's something that I've been noodling
over for a while and I'm kind of just
trying to find what is it what's a great
way to get those gift certificates to
people who have contributed to the
project in a meaningful way and maybe
I've overlooked something but maybe you
know something or you have some ideas of
how people could get involved in that
because I really do want to you know can
you know reward that people have
contributed to making this awesome so if
you have ideas please let me know
otherwise next week I'll be back in here
getting into the nuts and bolts of the
bunny scripting language with Shannon if
you have questions you can pop them in
the comments below I will check them all
out after Burning Man otherwise you
email us directly at feedback at hak5
org thank you guys so much for
supporting us over these years if you
want to grab your own hack 5 gear you
can find it over at hack shop comm and
for more great shows like this like hack
tip and threat wire and tech thing and
Metasploit minute head over to hack 5
org until then i'm darren kitchen
trust your techno lest got a great idea
bring it to the web the way that we do
and head over to domain.com they've got
this slick domain discovery system and
an easy checkout process so your site
will be up and online in no time and get
this the guys over at domain.com have
been huge fans of hack 5 for years and
they want to celebrate with a massive
promo code it's h a k jumbo for 35
percent off new domain registrations now
through November 30th it's a limited
time offer so when you think domain
names think domain.com</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>