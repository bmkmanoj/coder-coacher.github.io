<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Netcat 101: Using Netcat To Direct Network Traffic, HakTip 90 | Coder Coacher - Coaching Coders</title><meta content="Netcat 101: Using Netcat To Direct Network Traffic, HakTip 90 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Netcat 101: Using Netcat To Direct Network Traffic, HakTip 90</b></h2><h5 class="post__date">2014-03-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/oNwLy7JTJl8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this hack tip is brought to you by hack
5 and viewers like you
support us directly at hack shop calm
welcome to hack tip the show we take
hacking seriously we break down concepts
tools and techniques for hackers gurus
and IT ninjas I'm Shannon Morse and
today I'm checking out options and your
tips so let's go ahead and start with
the help file for Dannette cat and I'm
going to take this off because it's
annoying so let's go ahead and jump onto
my Linux machine we're going to type in
NC Tech H and we have our beautiful menu
and we haven't gone over all of the
different options that are available to
you so let's go ahead and take a quick
look at a few of the other ones in here
so first off we checked out tech H which
is the help file tech elf or listen tech
P for port but we didn't get to use tech
G in uppercase G so these two options
let's start with the lowercase G this
lets you force a data stream through
your network to a certain path now the
uppercase G will track that connection
and can be used for troubleshooting
network problems now after that as we go
down to menu is tak oh the one right in
the middle that says output equals file
this file is going to dump data into a
file of your choice and then it can be
used as a sniffer for a
man-in-the-middle attack so one example
of this a really good example could be
grabbing chat sessions while they are
transferring one one from one client to
another computer and then dumping that
information into a text file now next up
we have the s option tak s down is also
kind of in the middle so source equals
address so this option can be used for
something like this netcat can protect
your server from unauthorized access by
telling you about any new connections
trying to make their way in it can block
them entirely or it can also be route
them to another port
now since netcat can only handle one
connection per instance you would have
to make it open a new instance each time
that it is hit with an external probe so
this will make netcat close inbound
connections and then run another
instance of it in another program
very cool now some other options that
you will notice on this list include
tack lowercase T for TCP mode Tech u
down up at the bottom for UDP mode and
Tech are for randomizing the local and
remote ports now while we aren't going
to go into details on all of these
options because there are quite a few I
do hope that this whole netcat series
has really helped you get started now in
a few moments we'll be checking out
using netcat with an interactive program
without using the tacky option but first
let's take a quick break the hack shop
is hack fives premiers store for all of
your pen testing needs including one of
my favorites the USB rubber ducky which
looks like a flash drive and it types
like a keyboard it can type scripts into
a computer ridiculously fast like this
week's pick from mr. gray in the forums
he said this one is what I could have
bought a more serious note and it can be
used to recover history and passwords
via the USB rubber ducky hole so cool
this is awesome I could definitely use
this sometimes especially when I forget
my passwords because I use different
ones all over the place now of course we
couldn't do this show without your
support so we would like to thank you
with something special you can use the
coupon code snubz with any order off the
hack shop for your very own signed
hacked tip stickers thanks again for
supporting the show and now we're back
and I've still got my sunglasses on now
I've got a handy tip from a fan but also
a tip of my own so let's start off with
mine now though it's uncommon you can
also use netcat as a proxy so here's an
example what I decided to do so on my
linux computer i'm going to type in NC
tech l tak p133 seven and then I'm going
to pipe this into Google wwz and see ww
there we go google comm on port 80 now
when I press enter this is going to make
netcat listen on port 1 3 through 7 and
it will pipe all the connections to
redirect to google.com and port 80 now
if we go into my
browser so I'll open that real quick and
if we go over to
127.0.0.1 then pipe this through that
same port one 337 we don't get anything
it's just going to load for a very very
long time and over in the terminal we
get a whole bunch of gibberish it
doesn't really make any sense another
one you could try is example.com which
will give you some HTML or it'll just
give you a 404 page now we're just
seeing this information in the terminal
and netcat but because we haven't told
netcat to pipe it back out to the
browser so this is going to be a
bi-directional pipe is what I'm going to
do next so I'm going to close this
terminal go ahead and close that and we
see that the connection was reset that's
no good so we're going to open up
terminal again I'll start up in that cat
again let's go ahead and zoom that in a
little bit there we go so now what I'm
going to do is have net cat pipe data on
port 1 337 to Google calm at 80 which in
turn will pipe information back out of
net cat on port 1 3 3 8 so to do this I
have my bi-directional pipe so I'm going
to type in NC Tech L Tech p133 7 my pipe
my first pipe and CW w Google comm on
port 80 then we pipe it right back so we
do second pipe and this one is going to
be NC Tech L so listen on port and 133 8
of course you can change these ports to
whatever you want to so I'm going to
press ENTER on this and now in the
browser I'm going to go again to the
same place 127.0.0.1 now if I hit 1 3 3
7 again nothing happens but if I go up
here and type in 1 3 3 8 we get Google
comm now if I go back to my terminal
you'll also see actual HTTP information
that is being relayed back to you from
Google so how cool it takes us directly
to the site super easy
now our second tip in previous episodes
we covered netcat with tak e to create a
shell tacky will allow you to execute
any kind of program but what if your
version of netcat doesn't have the tacky
option for instance then that cat netcat
OpenBSD package included with most boon
to installations doesn't have tak e well
then it's there is a pretty simple hack
that you can actually use and it's
called a back pipe so a pipe sometimes
called a FIFO or file in file out is a
special device that allows us to easily
shuttle data back and forth between a
process so we're going to make this
using the MK dodd command so i'm going
to type in go ahead and cancel out of
there MK not /tmp slash back pipe p
so this is going to create the special
file back pipe in the temp directory
with the P option which makes it a named
pipe now we can pipe the input and the
output of our interactive program to a
listening netcat session so for that
we're going to need an interactive
program so how about we use the world
famous text adventure from 1981 Zork
yeah because it's awesome
so I have zorg downloaded in my home
directory slash Zork and I can run it
with froths
so I'm going to type that in FR otz and
then i type in home slash Zork slash of
data slash orc 1 dot DET press enter so
it starts up this really cool adventure
game and of course you can grab your own
copy of that over at the link which i'll
link to in the show notes you can run it
any time with this froths utility so you
will probably need to install frot s--
as well with sudo apt-get install froths
now with Zork and froths installed we
need to run something a little bit
different so we can run this file so i'm
going to type in frot s-- data / zorro 1
dot dot space 0 and then we type in
caret slash temp slash back pipe so
there's our back pipe again and we're
going to pipe this to NC Tech L tack P
and I'm going to use the port one two
three four five one another carrot to
close that and then we use slash temp
slash back pipe and finally we can
connect from our other machine so I'm
going to hit enter on that one and it
gives me an invalid option Oh oops I
know why I did that
okay so we have the command up here and
I forgot to add the home directory slash
Zork at the front at the beginning so
don't forget to do that press Enter
now on our other machine so I'm also
using my windows box for this example
I'm going to type in a separate net cat
command
to basically pipe over to this one and
get all the information from Zork all
the input and output so for this one I'm
going to type in net cat and then I'm
going to type in the IP address of my
Linux computer we're Zork is running
three one one four five same port one
two three four five hit enter and we got
it so it looks very janky on here but
you can basically read what's going on
so west of house you're standing in an
open field west of a White House with
aborted something there is a small
mailbox here so I'm going to type in
open mail box and the mailbox reveals a
leaflet
let's see look at leaflet Zork is a game
of adventure dana danger and low cunning
as you get the point so now we can have
fun text adventure goodness over nekkid
who knew so that bout wraps it up but as
far as our series goes on net cat but i
would like to know what you would like
to see me cover on our further future
hack tips do you want to see more on net
cat you can always send me a comment
below or you can email us over at tips
at hack 5 org and be sure to check out
our sister show hack 5 for pineapple
fund ness and more great stuff just like
that I'll be there reminding you to
trust your technology
welcome at tip is so weird</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>