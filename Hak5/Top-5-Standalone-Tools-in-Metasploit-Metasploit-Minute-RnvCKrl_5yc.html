<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Top 5 Standalone Tools in Metasploit - Metasploit Minute | Coder Coacher - Coaching Coders</title><meta content="Top 5 Standalone Tools in Metasploit - Metasploit Minute - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Top 5 Standalone Tools in Metasploit - Metasploit Minute</b></h2><h5 class="post__date">2014-02-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/RnvCKrl_5yc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">my top five stand-alone tools this time
on Metasploit minute this Metasploit
minute is brought to you by hack 5 and
viewers like you
support us directly HHH all calm
welcome to Metasploit minute the
breakdown on breaking in I'm your host
Rob fuller but you can call me moving
today we're going to be going over my
top 5 Metasploit stand-alone tools so
everybody knows about Metasploit or MSF
console and MSF payload and on some of
these other things but we're going to be
talking first about MSF tidy now all of
the devs and Metasploit and rapid7 will
love me for talking about my MSF tidy
first because what it does is basically
will take a module that you've written
or you want to submit to Metasploit and
make sure that it conforms to their
standards so it does it have spaces on
the end does it have whatever incorrect
configuration or or requires wrong so
it'll look at your your custom built
module and then when it when it outputs
these errors you can go and correct them
before you submit it to Metasploit
before you submit it on github and
that's actually what we'll be doing in a
later episode on making our own metis
our own exploit our own modules and then
submitting them out to up to github and
getting them put into Metasploit as a
whole so the first tool that i'm going
to be going over actually in the console
is MSF payload so my stuff tidy you run
it and it just goes and tells you the
errors MSF payload will generate a
payload so let me show you real quick so
first off we're in the tools directory
of Medicine point all the stand-alone
tools except for MSF payload and MSF and
code are in there so let's go back real
quick and m/s MSF payload we do dash H
all of the things in Metasploit at least
99.9% of them and if you find one let me
know that doesn't have it has a dash H
so if you ever run into something or a
function or thing that you don't know
works just add a tack H to it and you'll
usually get some kind of information on
how to how to use it so as we can see
dot MSF payload has the option saying we
need to specify a payload so we're going
to go with Windows interpreter before I
go into this real quick I want to show
you the that you can actually just list
all the payloads so there are a ton of
them so as we can see here we're going
to scroll up real quick you can see that
there are absolutely a ton of different
windows payloads and we'll scroll up
further python payloads
there's even an android payload PHP OSX
pretty much every kind of shell code
that you would want to run on a system
is in the possible payload types now
we're going to just go with Windows
interpreter reverse TCP next what we
have to do is specify the options that
go along with this now I already know
these options and I'll show you a way
that you can actually see what those
options are later but let's let's just
go with the ones that I know el host
it's the host that we're actually going
to have the payload talk back to since
it's a reverse TCP connection equals 1 I
to that one six eight dot one dot 100
next week give it an L port so five five
five five please don't ever do this and
then we'd say that we want to make it
into an executable with it with the X
and then just literally just cat it or
put it into a file Bob dot exe so if
it's successful once this is done it
will show that hey it's created the
payload it's size is 290 bytes the
options that you specified is this real
easy now when you do that there's
absolutely no encoding added to this
binary and what it's doing is shoving
shell code the special shell code you
specified into a template now template
in in Metasploit context is essentially
an exe which in this case is Apache
bench which is a
a gooey small little binary that doesn't
pop up any show or command prompt on a
Windows box that was pulled down from
the Apache project and put into the
Metasploit project and it's shoving the
shellcode into that binary now if you
run this just as we have there is no
encoding at all onto the onto the
shellcode inside of the binary itself so
if someone took this shellcode they
could line for line look at it without
having to have any kind of you know
reverse engineering knowledge or
anything it's just shoving the shellcode
directly in what you can do is add
encoding now MSF in code before I get
too far into this MSF encode is not a
way to bypass antivirus hitting codes
shell codes so that it works better with
exploits now how we've done it right now
we're essentially not using an exploit
we're using an executable but if you
were inside of an exploit module let's
say an HTTP exploit where the only
things that you can use is ASCII text in
this exploit you can actually use MSF
and code to make ASCII characters only
for your show code which is awesome so
getting that out of the way next up is
virus total on our tools list so let's
go in there real quick this is actually
a new one so if you don't see this in
your current download or install of
Bennis boy just do an MSF update or get
get pull and you'll actually have all
the information you need so we're going
to do a dash H if you're not familiar
with virus total what it is is an online
service that was actually bought by
Google that will scan binaries scan
pretty much any kind of file that you
want to submit to it and looking for
malicious Mis of it and see if any of
these anti viruses that it sports all 46
or 40 few of them that if any of them
detect whatever binary you're submitting
to it so if you submit you know standard
reverse TCP Metasploit it's going to
fire off swart T or whatever sort
and in 99.9% of those awesome so
virustotal
what it does is takes the hash if you do
a dash q so let's do dash q that's f2
filename and let's give it our Bobby XE
so what this is doing is hashing Bob DX
e taking a sort of an image of it a hash
and then submitting that hash to
virustotal
and saying does it detect or do you know
about this binary and wait for the so
still in the queue what will happen is
it's going to give us a result back
saying that there are there are zero
detection x' because every time you do
an MSF payload what it does is generates
a new shellcode new binary and puts it
up there so the cool thing is like
you'll have a binary a different binary
time but if you don't do the dash Q what
it'll do is actually submit that full
executable all the way up to virustotal
and you'll get all the detection x' so
if you want to see how well your your
custom shellcode or your custom built
binary turns out to be you can submit it
up to virustotal very easily with this
code so that's that we're going to move
on to the PS exec 1 so let's just know
PS as eck do a - h so it takes it takes
a host it takes an exe a username and
password the great thing about this is
that this is a standalone tool so quite
literally you can take the Ruby code out
of this move it to a Windows box that
has Ruby on it and the gem Rex or Lib
Rex and then run PS exec without any any
install of Metasploit so how this can be
useful is say you're in an instance
where where you have a box that isn't
connected to the Internet and you can
copy some of this over and you can
install Ruby or whatever you can without
having all of the detectable portions of
Metasploit use p exec with with hashes
instead of passwords so what do you
think kept me up at MSF at hack 5 org
stay tuned to Metasploit minute comm for
more shows
these thanks again to you and hak5 for
supporting this show if you want to
support us even further go to hack shop
calm make a shop calm and submit your
coupon code move x4 Metasploit moment
minute cows a stickers awesome until
then I'm new bik's and I'll be hack into
the cows come home
my top Fang my top food yeah</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>