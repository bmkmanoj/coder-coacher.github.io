<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Drones Hacking Drones (Part 2), Hak5 1518.2 | Coder Coacher - Coaching Coders</title><meta content="Drones Hacking Drones (Part 2), Hak5 1518.2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Drones Hacking Drones (Part 2), Hak5 1518.2</b></h2><h5 class="post__date">2013-12-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/xKfY0PmKDRE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this segment of hak5 is brought to you
by goto assist welcome back to hack 5
we've got a very noisy demo in the
studio here shannon is on the ar.drone
and paul if you pull up my screen here
I'm actually SSH into our pineapple and
then from our pineapple I've gone ahead
and actually connected to the ar.drone
and telnet into it and I'm just going to
go ahead and do a PS and you can see all
of the processes running there are two
processes I'm interested in this program
to elf under this responder but just for
demonstration purposes here why don't we
just go ahead and kill - ki ll the the
process here I'm going to use a pit of
programmed elf and then Paul you can
switch back to wide camera so we can see
this as soon as I press enter here you
easy thing goes away now noisy thing
he's gonna come back and so if you just
bring it forward try it again
yep and I'll press up and I'll press
Enter oh and we could do that all day
long just sad noise I know it's the
responder that is at this point making
it do this again hang on let me kill it
again uh let me take out the battery
before it tries to say no handoff so
basically if people would watch hack tip
they already know about kill in the
process and finding using pit of to look
at the processes number it's a linux box
which is beautiful because I mean so is
you know the pineapple strapped on the
bottom of here in fact they're both
running in a Theroux system on a chip so
you know busybox is it's just it's kind
of like bash and I'm very familiar with
it and I'm super happy to be on your
doing that Oh bright I lost some
connection of course because the drone
is now off but I am on the pineapple so
let me go ahead and show you the code
okay okay so let's go ahead and take a
look here I should be able to see my
pineapple yes
so let's SSH over to the pineapple
great and in my root directory I have
here a script called drone pwned SH and
we write that yes I did written one okay
I did this as a shell script rather than
as an infusion although I probably will
go back later and make this a pineapple
infusion and add some features why did
you just do it as a script um well first
and foremost this is right now still in
proof of concept like it runs it runs
just fine but there are some things
where I could like clean it up a bit and
what I really wanted to do though was
take advantage of one of the nifty
features of the pineapple mark 5 so the
boot switches here allow us to define
different boot modes different things
for it to execute when it starts up I've
got it in a generic mode now but if I
flip these three down in the center
whenever I start up my pineapple will
now be a drone killer so I've just
rubber-banded it to the DJI because I
find it to be a superior platform cool
um but you know stop it it's actually it
makes noises no it's agreeing it's just
agreeing with us it's it's actually
we're doing a little test here for some
perch and monitor stuff later but let's
go ahead and get into that code and yes
it's very proof of concept at this point
you can see what we're doing here it's
all a big while loop so while true which
will always be the case do all of this
basically the first thing it wants to do
is an IW to scan for SS IDs and then it
only looks at the names of the SS IDs
and it's looking for AR Drone okay in
fact very similar to if i come down here
you just see in the windows manager
we'll see we have pineapple v underscore
15 0 f yes that 15 0 f is the last two
octets of the MAC address and we're not
the only ones to do that because you'll
see phantom 1 0 0 BCD and that is the
address last for the MAC address of the
phantom and if the ar.drone were on
right now you would see the same thing
so so it does it ends up finding those
and if it if it says drone found it
continues with this big nested if
statement inside of a lip where it then
defines the drone SSID is that and then
it tries to connect to it so
very simply IW config WLAN one ESS ID
and then whatever the name of the drone
is you'll see already everybody's
thinking well what if you fall into two
drones and I haven't put in any logic
for that yet so if you take this to the
park and there's two kids having funds
with drones I'm not sure which one
you're going to disconnect so you could
probably put in some more logic there
later for that but once it associates
first thing we want to do is test our
association so we you know do it iw
config on WLAN one to see if we see a
drone eye drones SSID and if we do see
that then we continue and set our static
IP address now we could use u DHCP to
get an IP address from it but we already
know that it's you know it's there's
nobody on 192.168.1.5 or at least there
shouldn't be so we're just going to go
ahead and static IP ourselves to that
anyway when you connect your phone to it
it just goes through DHCP and get to the
IP anyway it tests the connection by
pinging it with just one ping to one and
two 168 1.1 and if it gets an IP back
then we continue on and this is where
the magic happens
I love empty empty is one of my empty is
very similar to expect so expect is this
awesome worked with either of those okay
well you're going to love expect when
you get to it in Linux because basically
it's a way to automate stuff so the way
expect works is you could say expect
dollar sign like your prompt right and
then you would say if you if you're
expecting dollar sign your prompt then
you can tell it what to do and indicate
that case you could say LS right and
then you would expect a directory a name
of a directory that you expect to see
yeah so you would expect that directory
and then you could do a CD over to it
yeah same thing with you know you could
use passwd to change your password you
would expect to see the word change
right well then you say expect the word
change and then do in response to that
whatever something else I type down your
password twice so in this case I make
that as long as you want just keep you
can keep going and empty is a version of
that for open wrt that I really like
that
all works based on files so the tack F
creates the file and sets up our system
here the tack I sets our input file and
takos our output file so everything is a
standard input and output which makes
really beautiful even sets up a process
ID and then our command over here nano
is just to tell knit to 192 168 1.1 okay
because telnet is open on the airdrome
because the parrot guys are cool and
they want you to hack it yeah which is
awesome
after that we you know just continue on
with our empty here and just tell it to
go ahead we are expecting the word
busybox
which is what we will see expecting
busybox well because when you first
telnet to it it tells you what the
command brit what you know what the
control key the keyboard shortcut is to
break out and it will say just like when
you ssh into the pineapple say welcome
to pineapple it's based on open WT
here's a cocktail you can make when you
tell net into it the drawer the air pair
ar.drone it will say busy box which is
like - oh right okay got it
so when so if we see busy box which we
expect to say it will go ahead and run
kill - kill and then i had to escape out
here you just have to make sure you do
that backslash also don't happen on your
local system
Grob or back to a grub a pit of
programmed elf and then again grove and
that backslash n is it's killing is it's
killing the elf yes program file yes on
the parrot ar.drone yeah which is right
here now I mean we could do a PS and see
that it's pin number was - eight - eight
- eight but of course this responder
program here you can see Pig number
eight to five is been programmed elf
respond or SH and I took a look at it
it's just a shell script that loops
around and makes sure that program that
elf is running and if it's not it
restarts it which is why when we kill we
prevail and that's why it comes back
yeah so if we were really nefarious we
would run two commands we would kill
programmed elf and would kill program to
elf that respond or SH and then it
wouldn't restart itself oh but then
you'd have to unplug the battery like
this is more fun yeah I feel a lot more
fun yeah and that's pretty much what it
does I mean after that it just kills
empty and then you know echoes
backsplash one drone you know a lot of
this could be replaced with like logger
to put it into our syslog but I'm just
using echo and then it'll sleep for
sixty you know like I said very basic
logic seconds yep that's all it does so
if I just dude drone cone says no drones
found and so every minute it's going to
check for a our drones in the vicinity
and if it sees one and I don't run the
same program again and it'll kill II
each minute if there is one in the area
it all it does perfect yep there we go
see yay
that is so funny I don't know if I like
that situation hang on
this might end badly yeah okay so we
know it's started yeah and that is a
really beautiful thing about how like
all of these consumer devices are
actually just using open Wi-Fi I know
that's we're convenient and I mean we
it's not like the gji is any better it's
doing the same thing and I'm already
hacking this guy to see if I can
replicate its functionality with a mark
5 because it's just a repeater yeah um
this makes me wonder like can you do the
same things with like the thermostats
that are open Wi-Fi I'm working on oh
thermostat hack but only because I have
a new apartment and I want my thermostat
to be programmable but if you're gonna
get a gadget you have to hack at first
then girlfriend's all like how come the
thermostat doesn't work here like what
can't you just let anything be anyway
I'm sorry what are we talking about
again I have no problem at home - yes oh
and so there we go it just saw so as you
can see a drone found attempting to
connect you know testing the wireless
connection we can see that we are
connected to it successful setting
static IP we do our paying or if our
ping is successful connecting over to
telnet and send the kill command yes
thankfully it was not in flight this
time because we have found out the hard
way that you are not supposed to touch
the props
don't touch the process did you do that
no okay yes all right
cool course Darren's her name um I value
your feedback on this so I want to hear
what you guys think there's so many ways
that you can expand upon this this is
just some proof of concept shell script
here but check out
Sami's skyjacking script it's a perl
script in fact the perl script would run
on the pineapple I think you just need
no js' as well and you could even just
send UDP packets to port 5 5 5 6 to
control this thing so if you if you have
a parrot ar.drone like they encourage
hacking and I encourage aking and I just
love the idea that we can own it with a
pineapple and a bigger drone now I kind
of want to get one for Christmas like
for my fiance just so I could screw with
them what is my parent keep on dying ah
your uu your indie author I have a
feeling ok well feedback a high-five or
a Gore just leave a comment and we look
forward to hearing what you guys think
and with that we're going to take a
quick break and then wrap this bad boy
up see you guys on the outside and IT
issues pop up anytime totally
inconveniently I mean it's always user
problems or networking server issues
you've got viruses and whatever have you
I mean staying on top of all kind of
challenging completely stressful at some
moments and that's why I'm super excited
about GoToAssist by Citrix all of the
services you need are integrated into
one simple cloud-based tool set so you
can take control over the you're
unpredictable IT world I mean go to
assist monitoring helps you quickly
identify potential issues at the source
before they become your boss calling you
and being like what the hell why is the
exchange server down you're like oh I
don't know what about the thing you can
customize the dashboard to display the
performance of all of your networks all
of your servers and desktops you can get
proactive alerts that ensure that you're
the first to know not your boss calling
you you're the one that says hey maybe I
should clear out that C Drive of all
those log files before it eats itself
because you know we've all been there
and with go to assist remote support you
can provide unattended support to any PC
Mac or mobile device from anywhere and
you can easily keep track of all of this
with the go to assist Service Desk I
highly recommend go to assist I mean I
had obviously used it when I was a
Systems Administrator minister it made
my life so much easier I've tried all of
the other fun crazy ways with forwarding
foo this is super simple and you can
walk anyone through
over the phone so sign up for your
special 30-day free trial today there's
a go to assist com click on the try it
free button and use the promo code hak5
let's go to assist com promo code hak5
we're back and now it's time for the
tech no less photo of the week this one
comes from Vernon and it's a picture of
a couple of his old machines one of
those is an inside computer and the
other one is a North Star computer
that's so old-school
I love it thank you so much for sending
those in Vernon of course if you have
photos to share you can send those over
to us feedback at hak5 org make sure to
use the subject line technologies e well
that's just about wraps up this week's
episode of hack 5 but before we get
going of course if you'll ever thing is
here yes the hack shop so we have plenty
of all all sorts of really really cool
holiday get especially yes plenty of
specials there's a special in the Wi-Fi
pineapple and on the duck yes and
there's a special on the duck so pretty
much everything that you could ever want
is available get your hacking gear drop
some hacking gear to a drone send us
some videos what are you doing they
limited time only either whenever we
ready no through maybe the new years
yeah I see well play player yeah we play
it by ear also definitely check out
feedback at hack 5 org that's where we
can get all of your feedback and we do
read the emails even though we don't get
ya all of them and if you're in the Bay
Area and you're into fpv pullin air look
it like there was an RC group but
they're dead in the water so anyway like
hit us up because we're totally into
this stuff and we've been doing it for
the last couple of weeks and are just
like yes more insane stuff that involves
Wi-Fi hacking and avionics so fun and
also don't forget I am at snubs on
Twitter he is at hack 5 Darren Odom and
you can find all of our links to our
social networks at hack 5 org slash
follow all right well until next time
i'm darren kitchen I'm Shannon Morse
trust you technolo scared
you
oh that's long well I saw it
drifting and I was like maybe I should
just put it down okay oh I think scares
me stand up for the thumbnail I feel
like it should be going up but it
doesn't it doesn't go</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>