<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hak5 - Root Encryption for Backtrack 5 with Eighty of Dual Core Music, Hak5 1102.1 | Coder Coacher - Coaching Coders</title><meta content="Hak5 - Root Encryption for Backtrack 5 with Eighty of Dual Core Music, Hak5 1102.1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hak5 - Root Encryption for Backtrack 5 with Eighty of Dual Core Music, Hak5 1102.1</b></h2><h5 class="post__date">2012-02-28</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/F3RVVLPaHQs" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this time on the show ubuntu 12.04 is
around the corner and we have a first
look at its new head of display that 80
of dual core joins us to set up
backtrack 5 with root encryption plus
ubuntu on android huh awesome and once
bashing stuff it's no chance ER verb in
bash scripts and lenox Oh different no
no okay next all right all that in Ward
this time on hak5 this segment of hak5
is brought to you by team hello Wilkin
hak5 my name is darren kitchen I'm
Shannon Morse the weekly dose of technol
s yes it is and I am so excited why cuz
I might have a really cool segment to
talk about oh oh I know that you've been
having an interesting love-hate
relationship with some different linux
distros over remain austin yes yeah I've
got to say this live one that I've been
trying out is pretty awesome well you've
been playing the field all throughout
season 10 you know i have i've been
playing at single with the linux
compartments and I mean Pingo s I
thought was the one for you yeah you
know it was me but but it was the
broadcom was that your color so I you
know I don't think that's Pingo s I
think I think you just should break up
with broadcom I I got together with
atheros years ago well have been you
know maybe after the IRS takes all my
money and next year I could afford a new
laptop so maybe I'll just get a new dude
have you seen dr. broadcom oh my god oh
yes I want either the acer or the asus
those dues but they're 13 inches they're
here only one that thinks that's huge
everybody knows logo their dinners
that's what ever your old laptop was
ginormous I hate those machines I want
like an epc with like an i7 that's true
you did have that midget pc for a while
see misreporting yeah i gotta say that
one was pretty awesome so hey guess what
yes um have you heard about hak5 I yeah
just so happens we said heck five is the
longest-running show on revision
30 forgot about that that was totally in
the calendar yes by the time this airs
hak5 has now become the longest running
show on revision3 i mean not only have
you been doing the show since 2005 yeah
August fifth Oh like non-stop of course
it used to be once a month but even so
we have had the longest running show on
on the network now so exciting now that
mystic nation yeah I know miss those
guys oh wow but it's it's kind of cool
if you know back like the broken I'm
still waiting per episode ha anyway let
me tell ya making cool yeah all right
learn how to steal pizzas hey oh you
want to target stealing some packets oh
guess what into over the holiday weekend
decided to take a crack at the the Wi-Fi
pineapple mark for which is done one
point out the firmware so you'll see the
nice job we'll talk about in more detail
later but you've been working your butt
off on that man because if i have seen
seemed out of it lately that's why it's
why i mean literally just like all night
all day just coding coding and coding
yeah and so it's so nice to not be in
program remote and now shift my focus to
the fun like that this one I called the
tactical assault kit you know it's like
it's kind of cool-looking looking is I'm
well yeah this is a pelican 1010 case
and you can see here what I've got is a
this is actually the enter cell battery
that they handed us as a freebie I see
yes and it's nice cuz got an on-off
switch and then I've got the the board
here and then just drilled a little hole
for the antenna and with a 3g modem and
it can all fit in here self-contained
and so you know I'm playing with
different options cuz yeah I think I
mentioned in we haven't quite found the
perfect Pelican case I've got a couple
and we're still working on like a
different battery options because
there's like you know yeah the sizing of
on it has to be the right to me it's not
just I like on it I'm trying to find
something that will be like the perfect
solution in at the same time something
that is ul certified I thought well
certified um it means that you don't get
arrested if you sell it without the
sticker it's like I want to say reason
why you know you can range stuff with
like the TV links
no 3n except for the fact that it's not
an yourself no it's not actually see
certified so we on in jail and so yeah I
know things that are on my radar you lce
rohs FCC I'm probably boring you guys
with acronyms here but so anyway I'm
checking out a whole bunch of different
cases and battery pack so my focus has
shifted from programming to the physical
sense because i think i'd mentioned
march um what is it March 10th no March
10th or 11th at 11am were ten am the
vice versa I don't know check this out
by Southwest schedule put a lower third
oh yeah i'm talking at South by
Southwest and this missin oculus little
box here is going to rock I'm thinking a
lead acid battery maybe lithium ion and
the pineapple and I'm gonna do like a
either laser engraved with our new laser
cutter or like vinyl custom vinyl
sticker or something to make it look
like a box for my phone company that
would be awesome some giant magnets I
got a lot of room in here to work with
so I've kind of shifted focus to you'll
be safe to have magnets on it I don't
know I mean um yeah why not well I don't
know computer I mean it's solid state
yeah it's not it's not a spinny hard
drive we've got it yeah that makes sense
we'll find out here real soon oh by the
way we have a party coming up mmm we
have a party on May 3rd coming up yes
it's on my third and it's at the Baltic
pub there's a Facebook invite if you
guys want to go over there and RSVP or
so we know exactly how many people are
coming or at least get a decent
estimation so we can uh what the bar no
also of yours in the San Francisco Bay
Area hit us up because we're doing our
first-ever Wi-Fi workshop in a
target-rich environment in San Francisco
late March and we'll have some awesome
goodies for the end of like falling on
with it it's it's like it's like Wi-Fi
workshop with pineapples and a real life
situation and then like so much magic at
something awesome and then a pub crawl
we do yeah we do yeah I'm still working
on the venues and all that so we'll have
details here very shortly
yeah and oh before we get going to that
segment though uh Santa you get from fan
you don't have a gift from a fan that's
where you're wrong we do we do have a
gift what is this here let me opens it
for you nice night uh wait that's me
cutting towards myself yeah I'm not
supposed to I mean I just take a long
time ago that's why these pants have a
hole in them I went between yes yeah if
you know anything from hak5 Darren
shouldn't have knives or power tools are
in now sort like you hear the loud to
have a laser cutter it turns out yeah we
have a laser trigger it's awesome what
oh that's for me o T TNT uh-huh first
nubs diamonds equals girl's best friend
are you into Minecraft honey oh my god
these are minecraft bags well these are
tissue boxes omegle a kiss you yeah we
got like some Phoenix or something here
T&amp;amp;T it's a bit go oh my gosh these are
snotty bots over at snotty wats calm and
they're made by the same person that
made that's cute Paul you got 120 cuz is
a grassy knoll oh this is for you dear
Shannon what's a monkey dear Shannon I
hope you like your portrait monkey she
was very fun to make if you want to
change her clothes she fits most 18 inch
doll clothes oh she made me a monkey so
do you remember tomorrow tomorrow yes
she made your five min Hawk 5 monkey and
now it's so cute oh my goodness I have
to keep this up on a shelf for my cat
will eat her yeah oh that is so precious
they have poles Oh eyelashes I'm in love
this is the cutest thing ever yeah you
guys have to go over to sock monkey
gotten
find out about getting your own custom
sock monkey and we love tomorrow because
she's been hooking to helping us out and
hooking us up for years now it seems
thank you so much yes and mad props and
congrats to tomorrow and Christopher
otherwise known as XT oh yes thank you
so much I'm so happy right now all right
so with all that said we're gonna go
ahead and move on cuz we want to find
out about setting up your backtrack 5
box with encryption so if you leave your
laptop a tactic on your not Sol I'm just
saying not that I would ever do that
course not oh yeah so I get away a dual
core guys this is so cool when they
found out ting was our new sponsor I get
really excited because I've been using
their service since launch and have
already built in support the new an
apple so check this out I shouldn't have
to tell you how frustrating the whole
mess of phone services is the whole
experience is confusing those lame rules
there's unnecessary overages if you ever
tried approaching a film company no
they're completely I'm flexible we'll
get this ting is a totally different
kind of mobile phone company they're
made up of a bunch of cool geeks up in
Canada who basically got frustrated the
whole status quo thing and designed a
whole new kind of phone service from the
ground up with ting it's all about
clarity usability and big savings and
they're based on the sprint network so
they've got 4g android phones and killer
data devices so two things I really love
about ting first of all when you call
support get this you're connected to a
real live intelligent human that can
actually help you not a phone trade and
second their billing is brilliant
seriously this is something that I've
been dreaming of for like ages fair and
honest pricing separately on minutes
text messages and megabytes so use less
than you anticipated well then get
credited the difference at the end of
the month or use more than you thought
you would well then you get pumped up to
the appropriate plan no penalties no
premiums just plain and simple rate and
with ting I don't get cut off we're
using light through much internet or pay
too much if i use two little like 100
Meg's for instance is a mere three bucks
perfect for a little SSH action so this
is the best
right now if you head over to ting calm
/ hak5 you'll find their online savings
calculator their plans and their killer
devices best of all visit ting calm /
hak5 you'll get 50 bucks off only when
you go to ting calm / hak5
what's up everybody in 80 from dual-core
IW website as on the internet today
we're going to be doing an installation
of backtrack 5 with an encrypted route
so it's kind of cool because you get
basically full disk encryption so if
your laptop gets stolen or confiscated
or left at Def Con 19 and it's turned
off in your data is at rest your pretty
well protected the end result that we're
going to have is a on your target drive
like your solid state drive or your hard
drive you're going to have one partition
that's encrypted and then our boot stuff
like our kernel image and it Ram disk
and all that it's going to be on
separate media so we're going to be
using USB Drive you can use SD card
whatever you want and what's like really
cool about all this is we're going to be
using a key file instead of a passphrase
so all the guides that i've seen online
they all use a passphrase and it's kind
of a bummer because you're you already
know like what the passphrase is right
so you could be compelled to disclose it
with the key file it could be random
bytes you don't know what the contents
are so that's kind of cool maybe you get
like a little bit of plausible
deniability in there but on top of that
with the key file you've got full use of
each bite right but with a passphrase
each character is printable ascii and on
top of that it's like a subset even
because alphanumerics and symbols if
you're lucky so we're significantly in
beginning our key space in a perfectly
cromulent manner okay so what we're
going to be using is we've gotta
backtrack 5 live environment running I
booted mine over Pixy but you can use
USB or DVD or whatever you want to use
we're going to have a target drive it's
probably going to be dev SDA but that's
where our install is going to go and
we'll figure that out in just a moment
and then again all of our boot media is
going to end up on separate device a USB
Drive so we've got our USB device
plugged in and it's I'm using vmware so
I'm just going to make sure that its
associated in the vm okay so it looks
like it's connected so our first thing
that we need to do is make sure that
we've got the right devices
distinguished we want to make sure we
write the right things to the right
places so there's a number of ways you
can do this a lot of people use D
message or they just look in their dev
directory I go with SF disk it's real
simple easy to use
SF this dash l will get you like a
printout of the partition table for
whatever device you're looking at so in
most cases dev SDA is like your hard
drive or your solid state drive and then
your peripherals go from there unless
you have multiple drives in your box if
we take a look at dev SDA and dev sdb we
see dev SDA has empty partition table
and dev sdb has a fat32 partition you
can use also some like contextual
information to be of assistance here I
know for a fact that the target drive
has no partitions on it so that's going
to be deaf SDA and USB Drive ship with a
fat32 partition so that's def sdb with
our fat32 partition so while we're at it
let's go ahead and make some partitions
and to do this will just use fdisk if
you've ever done partitioning before
it's pretty straightforward we're going
to do we'll do the hard drive first so
dev SDA and we'll make a new partition
type primary and we'll just use the
whole device nice and easy so if you
print it out it's going to be a Linux
partition by default and we're good to
go we can write the changes to the
device let's do the same thing but with
the USB device and since we already had
the fat32 partition on here I go ahead
and delete it I guess you could probably
just change type if you wanted to either
way probably should be fine and you know
what I think I'll keep Linux is the
default so that's going to be that 83
right so we'll just keep that and be
sure to make it bootable because we're
going to be booting off of our USB
device you can use an SD card for this
or whatever you want but basically we're
just going to be putting our boot
partition on separate media because all
that stuff is going to be unencrypted so
if we print our partition table we see
now that is bootable and we are ready to
write our changes to the device so we've
got our new partition table set up we're
ready to roll now we're ready to create
our key file before we do that I just
want to mention real quick if you've got
an actual hard drive that you're using
like with a platter and moving disk head
you may want to randomize the bites on
the device beforehand this before doing
your partitioning so to do that's very
simple you just use DD
dev you random I usually buffer about a
megabyte of bites before I write it to
the device it speeds things up and then
just your output file is going to be
your dev SDA your target hard drive
where the install is going to happen
that's if you're really paranoid like me
about sciency stuff so I'm in this case
I'm just going to forgo it but you can
just let it run in and then do your
partitioning but now moving on to our
key file there are a number of different
ways you can go about this I like to use
bites it already exists on the USB drive
so that way it's a little less obvious
right I mean you could have key file dot
bin and you just generate a bunch of
random bytes put them in a key file and
let it sit on the device but then it's
kind of obvious right like they might
look at your USB Drive like oki file
that bin I wonder what that is if we
take a look at the bites on our USB
device we can see like there's plenty of
bytes there we can use why don't we just
pick an offset and we'll grab bites from
that offset and use those as our key I
guess I'll go with offset 32 or 20 and
hex so we'll just start grabbing bites
from there so that's a simple DD again
DD just moves by it's real nice program
so our input file is going to be our USB
device block size is going to be one so
one bite at a time and 64 because we're
going to end up using a key size of 512
bits so that's 64 bytes and then we'll
skip to 32 for the offset and we'll put
this in first dot key this may change
like the bites on the device may change
because we're going to be installing
grub to the device later on so just set
this aside for now and we'll go from
there so now we've got our key file
derived and we're ready to start doing
our crypto stuff we're going to be using
a program called crip setup I believe it
comes installed automatically on
backtrack but if you need to get it you
can get it through aptitude so we're
going to be doing crib set up and our
cipher algorithm is going to be a es XTS
plain key size again it's going to be
512 bits or 64 bytes and the first
command that we're going to give it is
lux format that's going to form my form
at our partition for use with crypto
stuff so we want to specify our
partition dev sda1 which is what we
created an f disk and then our key file
that we derived however we derived it 10
first key we do want to irrevocably
overwrite the data so yes in all caps
because you mean it so now we've got our
partition that's formatted for crypto
stuff and we are ready to open it up for
use so the dash D flag again we're going
to be using crib set up the dash D flag
is our key file to specify Lux open as
the command we're going to use dev sda1
is our partition that we're going to
open up and then we create this mapping
I'm just going to call mine hack top you
call it whatever you want just make sure
that you use the same mapping name
throughout the course of your procedure
we open our mapping for hack top and we
can see the mapping in dev mapper if you
do an LS on it so we're going to be
using this handle to interface to the
device our dev map or hack top so now
we've got our mapping to our device is
going to be how we interface for the
crypto stuff onto the like the target
media like our like our hard drive or
our solid state drive now all we need to
do is do some filesystem formatting
let's go ahead and format our boot
partition first on our USB Drive so
that's going to be dev sdb one and so
I'm using extended to because there's no
journaling so you get less file i/o so
hopefully that kind of slows the
degradation of the actual physical media
inside the USB device your USB Drive
lives longer like a nice fun life I will
mention that if you're using USB to boot
your live backtrack 5 environment you do
want to pay attention especially at the
beginning and making sure that you get
the right devices so that you're not
overriding your backtrack 5 environment
and you're writing to the actual device
that you think you are we've got our
extended 24 hour boot partition let's do
an extended for for our route install on
our target and remember we're going to
be using the mapped interface so dev map
or hack top in this case depending on
your device size it may take a while so
feel free to go get a beer cup of coffee
or a delicious vodka and redbull
so at this point we've got our
partitions made we've got our file
systems formatted and we're ready to
actually use the backtrack 5 installer
if you've got your console up you can
minimize it there's a nice icon right
there on the desktop to kick off the
Installer most of the stuff is pretty
straight forward until you get to the
specifying a device screen so select
your language select your timezone
select your keyboard layout all that
good stuff but then hold on until you
get to the selected device or whatever
the screen is called but basically where
we set which partitions have which items
prepare disk space that's what it is
okay so we're going to specify
partitions manually that's the bottom
radio button you should see your bar go
all orange I guess orange means advanced
I don't know alright so we're going to
be using our mapped interface our dev
mapper hack top for our root partition
highlight that click Change it will
bring up another dialog and we want to
use the partition is an extended for
file system because that's what we
formatted before if you did something
else extended through your BRTS brt FS
or whatever btrfs you can just select
the option select your mount point is
route like / because that's what we're
going to be installing and then again
for our boot partition on the USB device
remember we did extend it to in this
case if you did something different just
make sure you click the corresponding
file system all right you don't have to
format any of these because remember we
just did the formatting with the make FS
programs so we are set to go click
forward and then like hang out for a bit
while the install happens it does ask
about swap space because we didn't set
up a partition for swap space but you
can do that later using just a file if
you remember from the scalpel segments
Linux treats everything is a file so
file can be anything so you can even use
a file for swap space so that's kind of
neat because you can set your swap file
inside of your encrypted partition and
that way like when stuff swaps out a
memory to disk it's not completely
unprotected oh one last thing to on this
ready to install screen just make sure
that the bootloader that grub is being
to the proper device so just click
advanced and make sure you've got your
proper device in there but after that
you are ready to roll click install hit
pause I guess on the episode and then
once it comes back with the like
continue testing or reboot now wait
there and we'll be ready to roll</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>