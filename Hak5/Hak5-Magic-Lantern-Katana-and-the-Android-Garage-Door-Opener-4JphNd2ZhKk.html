<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hak5 - Magic Lantern, Katana and the Android Garage Door Opener | Coder Coacher - Coaching Coders</title><meta content="Hak5 - Magic Lantern, Katana and the Android Garage Door Opener - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hak5 - Magic Lantern, Katana and the Android Garage Door Opener</b></h2><h5 class="post__date">2010-09-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4JphNd2ZhKk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this time on the show hacking the
firmware on the digital SLR and Android
app to open your garage door putting all
your favorite districts from a single
USB Drive the easy way and we read your
email I mean the ones you send us not
just like the one sitting in your inbox
assets might be a little weird this
episode of hak5 is brought to you by the
United States Air Force got a great idea
it all starts with a great domain domain
calm and go to assist express hello
welcome to hack 5 i'm jason agawam i'm
darren kitchen and this is your weekly
dose of techno lust this week we're
going to be talking about android garage
door app controlling from the week
before and Shannon's got katana which is
a bootloader so yeah it's a sweep Duke
it it's like a bouquet that's right yeah
right all sorts of cool utilities and
fun hacker stuff but man you want to
talk about some fun fun hacker stuff
firmware open source firmware okay so
one of these is cheap this is a 550 DS
it's not like so what it is okay so
these are the canon t2i t2i or 550d
right and these are relatively
inexpensive when you can hold on
relatively inexpensive okay hang on
there are thousand dollars all right
this is cheap that is very expensive yes
and with an SD card and some free
software you can have something close
ish ish ish ish I actually think that
the quality we're getting you know I
point to these guys the quality we're
getting here is is not as good as you're
going to get from this because you've
got the sweet lens the great CCD behind
it and you know this this but this
offers limitations you know it didn't
have audio meters and and you know when
you're when you're working with in
especially working with video audio
majors are really really that's actually
the reason why I got the t2i not just
because you got anyone to cramp your
style but it's the least expensive
digital SLR that you can get that has
that not even that of summer to care
about I just care
having a mic in Jack because the camera
is worthless without that but now we
have a mic in Jack wake with levels i
don't know to take video with
interchangeable lenses so i can papa f
2.8 lens sorry we're really geeking out
here on the video so since they don't
care i'm sorry to skip but but seriously
ass in ulta f-35 would cost you like 150
thousand dollars and you can pick up a
thousand dollars of camera five hundred
dollars of glass and some open source
stuff and get some decent looking shots
the big thing about magic lantern is
it's easy to install even though its
firmware I mean they still make it
really real well I guess we should
address what the core the problem is
that yes these cameras record video just
natively out of the box can't even done
a little bit of updating the firmwares
to make them a little bit better of the
they were initially a little bit buggy
and magic lantern it sounds much buggy
it's lacking features ok so the major
feature though because this this magic
lantern software was primarily written
firmware was primarily written for the
mark to the five-minute mark 2 which is
way beyond our range 5d mark two he's
not so much waiting out of range but the
5d mark two this is the little arms like
45 be mine too I mean yeah it's what two
and a half times is expensive yeah yeah
it's too okay so it's true that times
the expensive but the important thing to
remember is it's this is the baby 5d
because it still uses the same lenses
it's not a full frame so youryour says
it's the whole frame but I've do mar 27
35 millimeter 35 millimeters yeah that's
freaking huge well this is this is what
is this four thirds uh somebody will
correct us in either half or a quarter
but I can't remember right now I think
it's half frame after anyway this summer
we did right now yeah exactly hey your
emails feedback at hak5 that work so the
future that adds that we're absolutely
in love with is the fact that it
overrides the auto gain controls the
audio gain control is basically an
element of the video camera that changes
the microphone the levels on the
microphone and that can be a real based
on well it's based on me the room so if
you're a quiet room the
will well the tendency to raise so your
subject is going to get louder so if
you're shooting really quiet that it
raises really really really loud and
progressive line and then we get really
nowt it brings a gun well can't get
those subtleties with the explosion
being like that and the music being like
that well the more importantly remember
though is it's not so much the
subtleties is the fact that when the
game goes up the white noise goes up
with it so you end up with maybe that's
not what you want and that's why we've
got these cameras so we can use like a
shotgun mic or something like all the
mics for the wireless mic packs and
actually do some some quote unquote
wheel video ography with in fact isn't
this what you used to shoot hak5 yes I
actually shoot hak5 on a t2i with now
with magic lantern because of it gives
me the exposure control and it gives me
the all-important mic levels as well
because I don't know how loud I am and I
have a tendency to talk loud so I kind
of need to know I know yeah Darren you
want to complain about me now right so
will ya anyway so we've been playing
with it for a little bit and I mean
aside from that and yes zebra mode as
well which is comical coming ok so the
5d has zebra and considering the t2 eyes
and pre alpha is the yeah you don't
you'll run out there and try this unless
you like the leading bleeding edge and
we do we're brave yeah it's just bullets
and and ok so you find more information
over at magic lantern wikia com and it's
not that like it's thousands of people
have run this on their 5d Mark tues and
it hasn't broken it supposed lands of
people have run on there TTYL looting
you yes and this just came out a few
weeks ago but but essentially what it
does is you copy over and it's pretty
dead simple to install if you're any
good with DD but you copy over three
files a bin file a fist file and a CFG
file to the root of your SD card yep you
use a DD command that sets the SD card
is bootable you pop that in your camera
you turn it on and then you flash your
firmware it pushes your from what just
it kind of makes a manipulation of the
firmware it's not a full flash and then
it just basically says ok esting cards
in there run the auto except runs the
autoexec you're going up and running
your magic later so it just kind of
modifies your bootloader so that it
checks to see if your SD card has an
auto exec and if it does it'll boot off
that so while that SD card may have
of the magic lantern firmware in it
right now if I were to format this one
and you booted off of this one you would
have your stock firmware again yeah
absolutely well the cool part is if
you're interested in firmware
development this is a really good way to
analyze how they go about doing it
because it's one of the few places that
you're gonna actually find open source
firmware and so readily available they
have a bin bucket or all right right
yeah we've got like widgets and stuff
that can be developed on top of that you
can decision my god um so there's a good
bit of Python that's written as well as
yeah that's sexy I got a pipe Rompuy we
do we get the really a 550d yet really
and it's in part of the oh so if you go
pull the repo you can take a look at
some of the Python in there and it
actually for the most part it's pretty
easy to build it's just GCC with it's an
arm compiler anyway it's yeah it's
pretty straightforward I'm just
imagining a t2i with a knife I SD card
one of those Wi-Fi SD cards a little bit
of Python code and there you go your pen
testing from your camera oh yeah maybe
not anyway Wow have we geeked out on
something we have never geeked out
before but it's so cool you can tell
that we're absolutely rambling and a
little bit hyper and very excited about
camera stuff but you know what my
shinies we can fix this let's start over
Shannon for some trivia Sam is Shannon
last week's trivia question was Crystal
Palace a mountain facility in Colorado
is home to one joint Canada and United
States organization and the answer was
nor read if you want to win some sweet
hak5 swag this week go over to hack
Bible org slash trivia and answer this
question what software is used to hack
into n comms computer system hmm we'll
be right back after a brief word with
our sponsor if you've got a creative
idea or want to start a new business I
recommend getting a domain name and web
hosting from domain.com domain com has
the domain you want fast easy and
inexpensive with free domain tools
including URL and email forwarding dns
management and transfer log their linux
powered hosting plans are dependable
flexible and affordable too with free
setup and no commitment required the
deluxe hosting offers unlimited
bandwidth and site builder pages at a
new
875 a month they even make it dead
simple to get started with plenty of
free software like wordpress joomla
drupal and more all installed in just a
few clicks and as a hack 5 viewer you
get an extra fifteen percent off your
order when you checkout with coupon code
hak5 got a great idea it all starts with
a great domain domain com so last week
you saw the Android application that
controlled the garage door with attached
to the T&amp;amp;C which was controlled by PHP
so this week we're going to show off how
that Android application works and dive
into it so let's take a look so it's a
simple application that I launches
straight from an icon so on that icon
instead of having the widget it's
actually just launching the tent same as
an application but the way I'm doing
this is a little bit different so it
kind of gives it a widget II feel so
when you watch the application you have
a simple interface the code with you got
I put an X for clearing the code and a
bracket for back spacing out since we
have two things here we've got a gate
and the door I put checkboxes to denote
each one so when you have that you enter
the correct code and it gives you a nice
limit of notification saying that the
code was accepted correctly and it is
processing your request so let's go
ahead look at the XML inside the XML
it's a it's a fairly decent chunk XML
here we start out it's a linear view to
to put everything in and the linear view
especi tet specified with gravitation so
set in the gravity two vertical center
vertical instead of horizontal is going
to pull it exactly as you see here to
the center of the screen inside that we
have the table layout the table layout
the only thing really special here is
that I specify that it has a padding of
25 which gives us a nice border all the
way around and the stretch columns so
that all the columns are equidistant so
I've got this nice nice border all the
way around so the inside the first
layout of the table view I just go ahead
and add a to the first row inside the
table view a text to you for the code
itself I go ahead and enter starting
code of the starting text of the word
code and five pixels from the bottom
just to give it the look that we had see
here then inside the first row is this
is the first row of buttons ironically
enough with three buttons in each row as
you see you know 0 1 through 9 and then
the x and the bracket which i showed you
then on the final row we have a new
table layout nested inside of it so that
we can recenter up to instead of
centering on three because you can't
Center two to three because you'll end
up having things squished you're a
squish these two ropes here and you're
off at your enough dead space over here
so what I did was entered in another
table view or another table layout and
inside another table out of another
table row with the gate and door check
boxes so let's take a look at this gray
background that you see behind the whole
thing that's actually it's not an image
it's a gradient done with inside of XML
and to shape XML so as you can see here
we have a shape XML that is of shape
rectangle which is specified here which
I give it corners I entered a radius of
10 so that it'll just give it a nice
rounded corners as you can see here and
then I did the gradient the gradient as
the starting color the ending color and
the angle and that's what gives me the
the nice box so that I don't have to go
into Photoshop and deal with all of that
and enter you know create different
sizes for different sized screens it can
all be done in XML so that's the
interface it's a large chunk interface
you know but it's pretty important one
thing I didn't point out in the XML but
it's still part of the user interface is
actually in the manifest inside the
manifesto XML we have the application
tag here inside the application tag we
have the android theme the android theme
designates what the actual application
looked like this is what gives it the
widget ii feel so what I did was I added
the theme dot translucent dot no title
bar so it's not gonna have a title bar
and the background is going to be
see-through so whatever you launched it
from it's going to be behind it so
that's going to put the it's going to
give it the look of having a keypad
floating right above what you're doing
so let's take a look at
actually how the application processes
the information the first thing I need
to do is go ahead and grab the code gate
and door UI elements from the XML so
it's just fine element by ID and then I
just specify the ID that I set inside
the XML I've created the onclicklistener
here which this on click is specified in
the XML so you don't actually have to
grab all the buttons and set it you can
set it straight in the XML just the on
click event and you just set on click
what that's going to do is it's going to
return of you and then it's i'm just
going to since the only thing i set the
on click to i'm just going to assume
it's of type button then what i'm going
to do is grab the text from the button
because the button text indicates what
we want to do and compare it to exactly
what's going on so if it's X clear it
out if it's backspace go ahead and
remove the last character so on and so
forth since we're dealing with a
four-digit code i went ahead and assumed
four digits so when the code length the
length of the code enter is for it's
going to go ahead and start an
asynchronous tasks it's a task that runs
the background so it doesn't hang your
UI thread these a lot of applications
you see force close windows applications
force close that's basically saying hey
I don't know what's going on the UI is
not responding it's cool it's just going
to exit asynchronous engrish task means
it's the task going on in the background
while your UI is still running so let's
go ahead and head on down to that task
itself in order to create an a
asynchronous task your need three
functions you're going to need doing
background on progress update and on
post execute what that does is when
finishes the task that's called and it
posts the results to the UI thread so it
you know updates the UI thread in our in
our code on our case sense and
notification so let's go ahead and take
a look at the actual post thread so
doing in background what the actual
threat of the task is doing so it's
going to get the code and check to see
which check it's going to have the code
it's going to check to see which whether
the gate box
is checked or the gate door gate boxes
are checked and figure out the
combination to set the open string the
open string basically something we set
up in PHP to say hey if you do gate send
this code to the TT or door send this
code is easy or if it doesn't specify
either open both so let's take a look at
the code itself like we said since we're
at we're salting our hash we're going to
go ahead and take the code add the salt
and then perform the md5 once we have
the md5 hash done on the code plus the
salt we can put that into the URL string
which you see here and then process the
URL string so all we're going to do is
sit for the bufferedreader inside the
bufferedreader your have a stream reader
and inside the streamreader you're going
to be url url spits out a stream reader
which then goes into the bufferedreader
and in order to make the whole thing
execute you just read the line so when I
read the line all it's going to do is
then spit out the the what the PHP has
spit back this goes ahead and cleans up
the results based on known information
from the PHP string and build the
response the notification you see once
it's go ahead and finish and you know
the results not null so it actually
worked then it goes ahead and execute on
post execute all it's doing is returning
the code back to the code state then
it's going to go ahead and create a
toast notification those little
notifications that pop up in the bottom
of Android or they can be moved wherever
but those are those little hovering
notifications and all i'm doing is
returning exactly what the PHP script
spit out into our toast notification and
as you can see here I'm just pushing to
the toast notification and when it's
done I'm closing the app because if the
codes right why do you need the app
still open so that is a pretty
straightforward run-through of exactly
what's going on here it's pretty simple
I know there was a lot to cover they're
all of its posted in the show notes code
included you take a look you know if you
have any questions email me j
hak5 donna mark sir debris heading
towards our comm satellite impact may
cut off communications with ground
forces launch avoidance maneuver
20 kilometers and closing collision
averted sir all objects are accounted
for good job mark and Air Force calm
once again having the pleasure of being
joined in studio by Snell's what's up
girl dude so Graham glad that we could
totally snipe this studio don't tell
nobody yeah we kind of like ninja our
way into the revision through studio
she's a ninja so what are we talking
about today because you've been going
off while you've been in Missouri all
these cool things that you've been
finding something I don't tell your
little like bootable thingies and games
and all sorts of crazy stuff that I know
you guys are gonna love okay so you
remember the wolf I pass right well the
whoopie pies yes yes one of my favorite
segments of the sixth season because one
of those things where you could take all
of these different operating systems
they use all the time put them on your
geek stick if you will see your USB
Drive that you you know around the
office to take care of anyway yeah yeah
it was a great educational experience
too if you've never played with like
boot loaders like grub getting an air
down dirty editing configuration files
learning about how like it is a little
bit down and dirty and personally for
myself I like things easy and simple but
I also like to you know get my hands
dirty with a lot of these cool os's okay
so I found this one called katana
portable multiboot security suite I love
the name already and it's going weekend
into things all right no I'm keeping the
pen from you what's going on with this
so is it a de point-and-click kind of
we've got all right what is include it's
just very easy to install and it
includes all your favorite OSS as well
as some tool kits so this brings
together all the best security
distributions they look at everyone a
bit that back track for ultimate boot CD
ophcrack live Puppy Linux which I don't
the populace you talked about ophcrack
live as well so this is a lot of
security suites what else it also comes
with a bunch of toolkits these include
Wireshark firefox putty unstoppable
copier which I like yeah so a bunch of
the tools that we talked about it well
so this sounds like a great wrap up of a
lot of stuff that we've done right
making it easy for people to place it a
lot easier for like anybody to use
really and the installation is extremely
extremely simple okay run me down okay
so first off you do need a eight gig or
higher USB flash drive with at least
four gigs of free space and it has to be
formatted to fat32 alright and if you
have any virus scanners working you have
to turn those off because a lot of these
are considered like hacker tools and
write and antivirus programs will flag
um yeah a little freaked out and be like
hey what job websites get flying are you
sure i don't know it got flagged cuz
we're hosting some rules and I'm like
what that's our tool that disables
antivirus why we don't like us looking
for the next cycle we're on the good
side we are on the good side would keep
saying that hmm so force be with you so
with your USB Drive pressure formatted
ready to go fat32 all right download the
katana rar file obviously that's it now
just get older yes and then you have to
extract the USB extract the RAR to your
route of the USB flash drive obviously
mm-hmm that's so you can you know boot
off of it and then you got to change the
directory to the freshly copied boot
directory of the USB device okay you
need to open the folder well you're
probably already there since you can't
pasted it there alright Wow so so far
I'm like I don't know if I can do this
oh my gosh I know ok the next part is
really easy you right click and then you
go to run as administrator under the /
boot install dot that ok so there's a
batch file that installs it all for you
later on as admin right good simple and
then after that you're ready to go you
make sure that your computer's bios is
ready to run off of a USB instead of the
regular like windows right if you can
boot up on their off of it now you can
do it off ophcrack and Puppy Linux and
backtrack forward everything and it's so
easy I love it and it's very very simple
if you see here I'll show you what the
beginning of it looks like so you can
just go through the different ones
there's you know you have backtrack up
at the top and off crack and all of
those nice very cool it looks very much
like rub and then in its it's simple
it's very user-friendly so what about if
I want
add like I mean it sounds like a really
cool idea but not everybody's all geeks
are not built the same freshman and they
might need different tools this is
something where I could like yeah it's
kind of like a framework we don't want
different things and you can't can add
on and it gives you directions for all
sorts of other programs in their faq and
on their website where we find this you
can find this over at hack from a cave
calm / katana I came from a cab which
actually kind of looks like a cave their
website unlike the egg crate that we are
in sight of right now surprisingly
enough thank you so much in this is good
no problem cool well I guess we will see
you in two weeks back here alright and
until then we are going to thank one of
our wonderful sponsors and be right back
if you're an IT or software consultant
you're always looking for ways to be
competitive you need to grow your
business but can't be in two places at
once that's why there is remote support
with the new go to assist express the
faster you can connect to a customer the
faster you can move on to the next
challenge with go to assist you will
increase revenue by handling more
support requests reduce travel time and
overhead costs support clients even when
they're not at their computer and rise
above the competition by providing
faster more professional service try go
to assist express free for 30 days for
this special offer you must visit go to
assist calm / hak5 let's go to assist
calm / hak5 for a free trial well that
just about wraps up this episode of hak5
of course we're going to check out your
technol us photo in just a moment but
Shannon do we get any emails and zaire
inbox maybe yeah we get tons and tons of
feedback over at feedback at hak5 org
and a lot of times we get questions that
plenty of you guys answers so we'd like
to answer a few of those on today's
episode excellent so let's turn it off
okay so the first one we got was just
watched the password bookmark feature
I've been using lastpass for a while now
it's great it has similar capability but
it can store passwords in autofill for
password generation and login I think
you should check it out everything is 20
256 bit encrypted and has been featured
on security now with Steve Gibson so I
think you should check it out and that's
from jeanie well thanks Jamie that
sounds awesome i'm big fan of anything
that's encrypted 256 if you know so I'm
glad that you could fill us in so we
could let you guys know and if you you
know if you're watching you're like now
dude it's totally this other one like
let us know maybe we'll do a round up
and put them all to the test yeah why
not our top five top five sounds good
the second email we got was from
Christopher he says I love the show
thank you Chris the recent segments on
controlling the garage door with using a
PHP class was great I was wondering if
y'all queues xrdp for your remote
desktop connections and linux no i don't
i just use remote desktop viewer and i
also like the terminal services client
that's just built into boon to but i
will definitely check that out thank you
maybe we'll do a wrap-up here also I
know that there's some really cool stuff
that you can do with X 11 yeah so we
should probably get into that probably
yeah when we get you on new boot oh yes
and the last question this week was just
watch the latest episode and I couldn't
see your breadboard all that well so i'm
not sure you protected your controller
when you drive a relay everything is
fine however when you turn off the relay
you get a huge spike traveling backwards
and he sends us a link over to this
diode Whitney it can burn out your
controller and you need to protect it
with a diode or better yet drive your
relays with a Darlington array and
that's from the faneuil Wow ok this is
why you know I'm just an amateur when it
comes to breadboard and electronic stuff
i love it don't get me wrong but you
know there's so much stuff i Heidi I'm
not an EE but so many of you are and I'm
thankful that you send that by I didn't
realize that that could even happen so
unless it's cool tech cares I guess not
yeah he's saying that the the real i
might be might when it cuts the voltage
it might like sensors i go back and kill
the teen scene that would be no good
yeah i mean only eighteen dollars yeah i
don't want to be stuck outside the
garage and a kid get back into the house
that would be kind of funny yeah for me
so we want to thank you guys for sending
those in remember you can send those to
feedback at hak5 org we love to hear
what you guys think of the show just try
to keep it short because there's so much
of it so i want to also let you know
that you can support the show for free
and easy
by subscribing on itunes youtube hit us
up on Facebook and Twitter also don't
forget that you can get awesome hak5
schwag over a hack 5 / store including
the new please yeah they're all cozy and
technol US air is so warm I love mine
sweet and speaking of technical so check
out our Tecna less photo of the week yes
this week's is from Chris and he made it
LCD rubber ducky teensy and Chris we
love hex back to thank you oh yeah we've
blokes I'm on the PGA RC stuff he gets a
pita Paul the guy that makes the the TS
also makes a lot of other projects and
kits and stuff and I know he makes an
LCD stuff was really mean so thanks for
sending that in of course you guys can
just send that over to feedback at high
cloud org op Tecna list in the subject
line and we look forward to seeing you
guys next week so next week I'm Shannon
Morse I'm Darren kitchen and remember to
trust your tequila let's go get sushi
yeah it's cool sushi oh yes
that was just a 10 crew back if there's
any amateur whoa we'll be all over the
place yep Jake better clap it's gonna be
a better take nice yes one takes nuts if
anybody actually made it through that
segment they get achievement yes they do
let's give them another hint to the
darknet</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>