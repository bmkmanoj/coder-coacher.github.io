<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Discovering And Enumerating Targets - Metasploit Minute | Coder Coacher - Coaching Coders</title><meta content="Discovering And Enumerating Targets - Metasploit Minute - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Discovering And Enumerating Targets - Metasploit Minute</b></h2><h5 class="post__date">2014-03-24</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/V0aqCYdiIjc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this Metasploit minute is brought to you
by hack 5 and viewers like you
support us directly H a calm
welcome to Metasploit minute the
breakdown on breaking in I'm your host
Rob fuller but you can call me mu bik's
today we're discovering and enumerated
argit's today we're going to start a
short segment a recurrent segment on
attacking this network that we have set
up and unlike most YouTube videos or
other videos online we're not going at a
target that's on the same network at us
as us well sort of we are but all of the
vulnerable hosts all of the good stuff
is actually behind a firewall it there's
a firewall with a DMZ and other machines
inside so we're going to start off just
with numerating trying to find
vulnerabilities find hosts on the
network and how we do this is we start
with them as if console and we can
change our workspace now a workspace is
not some concept that we've talked about
before a workspace generally Divis up a
database so by default you are in the
default workspace but what we want to do
is create a whole new workspace by add
Metasploit minute and what this does is
allows more than one user or more than
one engagement to be separated in the
database so if you have hosts that you
scan and exploit and do other things on
one engagement and you want to keep that
information separate you don't have to
delete the database redo it you can just
simply switch between workspaces what
workspace are we currently in workspace
we're in the Metasploit minute workspace
great so let's start doing enumeration
DB nmap is essentially running nmap
commands and we'll do a dash H is
essentially running nmap commands from
your host that has Metasploit there's no
difference that this doesn't have any
special abilities like going through
other hosts or anything
this will always
run nmap directly from your host so DB
nmap let's target our 1070 331 151 host
and let that go for a second and again
this is running nmap from my host and
going to that source this is no
different than actually just running n
matte from my my actual host and doing
whatever commands I want so if we didn't
do that we can run 1070 331 151 Oh X
that allows the N map to export the XML
format I like to do Oh a oh it allows
you to have all of the formats so XML
grep a belen map formats all at once and
MSF minute and let's just do let's
decide that so what's going on here is
now instead of having Metasploit run its
special commands and it's special
arguments to get this done we can
actually save all the stuff for
ourselves you can see that there's
Metasploit and map xml team at that way
I can save this all for later it is in
the database already so you can save it
for later you can export it and stuff
like that but I like to have another
copy of things that I run so next we're
going to look at what what we have in
the database now so we have hosts
services and you can see that we have
all of that data that nmap got back for
us already there so the first thing
we're going to do is we see that it has
a web address so we open it up and I've
already got it open there's Metasploit
able to now quick step aside Metasploit
able to is this great virtual machine
that you get to attack all you want you
download it it's like I think about a
mayor I'm sorry gig I'm you download it
it has all of these vulnerabilities
inside of a run to system that you get
to try and exploit so we have a
Metasploit a box in the dmz be fine hunt
behind a firewall that only allows 80
and 1099 so instead of going into all of
the ways that you can exploit a
a website because that that has a whole
new genre of security it's the web
application security let's go with a
1099 let's stay services now 1099 is
Java RMI Java RMI is essentially a
service that will take a class Java
class and load it which is awesome
so let's let's do a little bit more
enumeration let's look at the so instead
of DB nmap what you can do is actually
there's a built in port scanner for
Metasploit auxilary scanner ports fan
TCP so this by default will scan all the
way ten thousand different ports so we
set our our hosts to 10 73 31 151 and we
can run that let's just let's just set
the ports down a little bit to 1 through
10 1100 that way we get the 1099 in
there set concurrency up to 50 so it
scans 50 ports at once and let that run
cool it found 80 already should find
1099 as well because the DBMS and the
awesome thing about this particular
module is unlike DB nmap this port
scanner will go through any pivots that
you have set up so if you are on box
number 3 young on your pivoting routing
you know kung-fu this port scan will go
through all of those based on the
targeting so there's the 1099 it's all
done and you can see that in the hosts
we still have that services you still
have that so next we're going to do some
enumeration on the HTTP site auxilary
scanner HTTP let's just do HTTP version
let's get what server version it is set
our our hosts again and let's just do
control our set our hosts there we go so
it has an Apache 2 to 8 and that's all
great
going to next look for anything this
Java RMI search let's do Java that's
going to actually bring us back a lot
yep so let's do our mi so there's the
Java RMI
and next time on Metasploit minute we're
actually going to show you how to use
this as an exploit see if it actually
works if you load it some sometimes
there's option there's a security option
to close out the the class loading from
unknown hosts so let me know what you
think hit me up at MSF at hack 5 org and
stay tuned the Metasploit minute comm
for more shows like these and thank you
again for supporting the show if you
want to support us even more go to hack
shop comm h HK shop comm enter the code
Rubik's for some free Metasploit
stickers Metasploit minute stickers
until next time on nuoc sin all be
hacking till the cows come home
I almost didn't stop</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>