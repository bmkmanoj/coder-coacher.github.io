<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hak5 - Grub2 and VM-fu | Coder Coacher - Coaching Coders</title><meta content="Hak5 - Grub2 and VM-fu - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hak5 - Grub2 and VM-fu</b></h2><h5 class="post__date">2009-08-26</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/CCMMWcgWF94" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">you all right this time on the show USB
multipass and grub to manage your
virtual machine with Kodiak ultimate
Kindle hacks and the techno lyst
battering ram all that and more on this
episode of hak5
this episode of have five is brought to
you by godaddy Squarespace and the
National fight against drunk driving
over the limit under arrest combined Wow
Oh genki deska welcome to hack five my
name is Shannon Morse I'm Darren kitchen
and I'm Matt less talk and that was
Japanese in case you didn't know she
does yes you told me you told me to do
it differently okay that's what we're
gonna try to do every time differently I
don't know I can't write that much I'm
not that creative so second seat sector
666 season 2nd episode we lit it a
little bit brighter this time actually
didn't like everybody's like put more
lights up and like no I really like this
why was the shadow is that we're getting
its business what happens is it looks
beautiful for us when i'm looking at the
preview monitor and then what happens is
it gets into you know into editing it
get something and then we send the
encoded file to revision 3 and then they
encode out to all the you know when you
download your xvid your WMV s here your
m4 a's all our info bees all of those
you know it's it's just crunching it
down more and more every single time we
startin to lose yeah fidelity yes oh you
know we toast no longer high definition
well no it's too late oh it's just you
know what happens is the black skate
blacker every every time you and
co-defendant yeah this is crunching down
those colors yeah um so you know just
what we shall we do compensated yes we
compensated in camera not in light
because if we just like blood the light
we're gonna look flat and that's not
going to cool yeah that would be no fun
well you know we could do just release
every single episode in like blu-ray ah
like master them and then like you know
will mail them to everyone you have a
difficult mail em tell me winding track
of episodes only behind which are you
run out of his face Jenner's Your Honor
we've got another tear my hard drive for
the sixth season we were averaging a
terabyte per season my grandma asked me
to burn her a CD of all the pictures
from our vacation we put him on the web
yes all four gigs I know and then she
emailed me and said can you put all
those pictures on a devious you can't
download four gigs I look it down the
mall it makes it really easy to download
early grandma's got 50 c yay
oh yeah you went there yeah that's that
was all original I must say are you an
HPV not anymore I was so what's going on
with you uh I am wearing a green shirt
that's better than your purple one see
if you can figure out what's different
in what's the same it's all being done
in post because I'm that good with after
effects um he doesn't like what's gonna
say shirt in three different colors I'm
buying camping gear to go on in my
motorcycle trike here to the mountains I
don't think that's what you meant oh she
meant on the show yeah Oh happen like is
that what's on it what's going on my
life that's pretty much it but no we're
talking about grub we're following up
with the multipath I've got some cool
stuff that's only in French it's gonna
be very cool okay Touche um I got a
bunch of questions asking about you know
the vmware tools that we use to manage
the systems some windows only mm-hmm so
people are like well how do I you know
on my mac or on my linux pc or whatever
yeah well there's a tool that's being
created right now okay that our viewers
on our window centric amazing i have
accepted the fact that we have a diverse
audience you are using the open source
no the cross-platform this no I across
the platform yes huh units are doing us
some Java segments it's gonna be awesome
yeah and monkeys might fly out of my
butt so hey we're being stupid it's good
it's an Arab yeah sounds good I love
hair there we go I love air I love life
I love neck five a little fear let's
take a break and find out what
alright guys its land party time this
time we're going to be playing call of
duty modern warfare for the PC not the
360 we're gonna plea playing on Saturday
September 5th anytime join up c.o.d hak5
dot orgs where you need to be but before
you do that head on over to hack 5 land
squarespace com where you can vote for
new games check out the leaderboards
forum games pass and you know just chat
with the general fan base who loves
playing games cap 5 land squarespace.com
with squarespace you can build beautiful
looking blogs or websites in a fraction
of the time it would take with a
traditional content management system
their intuitive drag-and-drop interfaces
as snappy and powerful as a desktop
publishing app but best of all there's
no software to install no databases to
configure no patches to apply and no
code to fiddle with find out for
yourself how simple and powerful it can
be with a two week free trial at
squarespace.com and use promo code hak5
to support the show and save ten percent
off the life of your service at
squarespace com
if you've been following along since
episode 5 25 you'll notice that we've
been that stuff has been happening and
that's cool so on episode 5 25 I started
a segment about what i call the USB
multipass and it's basically taking a
whole bunch of different like I sews and
disc images and stuff from all those
different programs you love to boot off
of and instead of having just a gigantic
geek keychain of USB drives compress
them all into one using some grub what
I'd like to do is talk about the next
evolution of that the better faster
stronger grub and that is grub 2 as well
as some other programs and some tweaks
for legacy grub to make the USB
multipass awesome and I got to give mad
shout out and thanks to all of you guys
that have just been pouring onto the
forms about this project it's so cool
that it's kind of evolved into a
community project now so I'm stoked
about that and it will be getting a or
should now have a much prettier home so
we can have multiple threads and all
that fun stuff that said let's talk
about grub to grub 2 is a complete
rewrite of grub it is it's made for
portability it's modular it's a clean
rewrote of the code and it is not
command and the neatest thing about it
is that it has this option called loop
back and that's loop back option
basically allows you to take a file for
instance an ISO file and actually mount
that file as a device like a drive or
something which is really neat this kind
of makes things easier if you know you
go back to 525 you look the USB multiple
I'm talking about extracting I shows and
putting boot folders and and all these
different you know files throughout your
file system trying to get everything
work and you know praying to the ether
Lords and I think that this would
actually make things a lot easier
there's actually a way to do this with
what's called legacy grub grub one and
that's using the map command and
basically that just allows you to do
like similar with the the loopback
option and grub 2 i'm not sure how
reliable it is
I do need to note that if you are going
to try to load a iso file with the map
command if you use tak tak mem it
actually like thumbs the file to memory
and you don't need to worry about the
ISO being contiguous if it's not that I
can link you to some programs that you
can actually check the be continuity no
continuous pneus whatever anyway check
to make sure that the ISO is not
fragmented essentially now grub2 is not
in mainstream adoption you'll actually
not see in you know your most mainstream
linux distro 12 at least that in my mind
it is until nine point 10 so that's
forthcoming I'm actually about to start
checking out those daily builds but for
right now on nine point oh four and like
below and I'm just going to use that as
my base example grub one is is what's
going on now if you're you know a new
bunch of guy like myself and you want to
get on the new grub there's it's really
simple it's just a nap get install grub
too and then you reboot and you get this
beautiful new option in grub called
chain load and what that does is from
grub one it chain loads grub to that
then loads your operating system and if
that works it's as simple as running
upgrade from grub legacy the command and
then you're all set unless of course
you're lazy and stupid like myself and
you used Ruby to do your installation
rather than actually just plugging you
know booting off the the ubuntu CD and
choosing install because what happens is
when you use wubi you're actually
loading the file system from ntfs and
that's the thing that that grub 2 does
not support is ntfs so you might have
some problems there anyway so I've got
to rebuild my system but but until then
i can actually let you know if you have
grub 2 loaded on your system this is how
you would set up a USB device to
actually boot from it and then the you
know have the commands to actually load
hey I so basically you want to set up
the file system like v80 so it'd be mkfs
make file system VAT tak n and then you
give it a volume name and then whatever
your device is so if it's like / dev sdb
or whatever your device may be
not figure that out then you would mount
that so you know mount / dev / SBB 1-2
NL place like / mount and then do your
grub install but you want to use the
tactic no tech floppy option there and
then set the root directory / to / mount
wherever you've mounted it and then give
it the device and what happens is it
installs grub to your USB device you
know rather than your hard drive or
anything like that which is kind of cool
if you want to actually play with grub
and you don't or if you want to play
with the new version of grub you don't
want installed on your system I
recommend checking out the all-in-one
boot floppy this is pretty cool check
this out i think i've got it on my desk
up here and yes i do okay so actually
i'm going to use qemu here which paul is
quite fond of with tech fda to all in
one image and i'm just booting up here
into the all-in-one boot floppy whoo and
i can actually take a look at grub 2 and
now i'm in you know the grub to command
line here and i can do all sorts of fun
stuff and I don't need to worry about
borking anything because I'm in an
emulator and that's all good now I did
want to mention a few other things about
the current version if you will of the
multi pass but beforehand let me mention
this really nifty utility like I was
talking about eventually there would be
like a GUI to make this so simple and
there actually is and this was sent to
me by serpent and I am I'll show it to
you now and you're going to see the
problem here or at least some of you
will some of you are going to say well
what you don't you know know the
language so here it is this is multiboot
at mod custom and unfortunately it's all
in French Google help me translate the
website enough to actually get it
installed and here it is and I don't
speak a lick of French so I from what I
understand you can actually use this
tool to specify your different iso as it
actually has some stuff built in to load
up some different operating systems kind
of like kind of like unetbootin
would like download your I soz and then
it makes your USB key and I believe the
way that it goes about it is it actually
create the partitions and then loads
them from there with grub but I don't
know any French so you do and you're an
expert on this stuff hit me up because
this seems really cool but I can't
figure it out so anyway so we take a
look at my menu de LSU file down at the
bottom here have actually found some
awesome code from the forms and this one
in particular thought was worth
highlighting because this is actually
how to load like ubuntu 9.04 in
persistent mode and i think that's very
cool because there's nothing more
annoying especially in like something
like backtrack and what not to you know
boot up into your environment make some
changes you know configure it to your
liking and then your reboot and
everything's changed also i want to show
you what's going on here with notes and
i think it would be easiest if we just
rebooted right off of my key and then
actually show you what's going on here
so here we are booted into grub for das
your USB multipass legacy if you will
and some things I wanted to point out
here notes this is pretty cool I'm
actually loading another menu LST file
or it can actually add important things
here like see these cereals ip's stuff
like that and you know important
information and i can have a different
background full of these so i can
actually start nesting menus and doing
some nifty things with that also you
bunt you up in here let the ubuntu live
CD this is the one if i take a look here
that's actually using the persistent and
i think it's all in this one right here
we actually get to see the persistent
really so let's go ahead and boot that
with be and that didn't work because i
have to add tak tak mem and now it
should boot that's nice thing about
grubs you can actually you don't have to
if you if you messed up your menu LST at
least in rub legacy you can hit e and
then edit the entry and then hit be to
bid it so this takes forever to boot
into it does work it is persistent the
reason being is that tech tech amendment
actually copies it to memory it's kind
of a big iso on your smaller i suppose
it doesn't take that long at all and so
anyway those are some of the cool
things that I've been seeing some
developments with USB multipass hit me
up at Darren hak5 org with what you guys
would like to see with this or if you
have some nifty tweaks that that you've
done with yours hit me up I'd love to
see those there's a thriving community
all around this project right now so
find that hack five dot org slash forms
now a little bit later in the show matt
is going to be talking to us about
kodiak an adobe air application to
manage our virtual machines but first
let's head over to Shannon and find out
what's happening in the community hey
guys i just wanted to thank you for
coming out to the hak5 Busch Gardens
meet up I know I had an awesome time I
think everybody else had a fantastic
time tons of roller coasters pictures
and videos and we have the battering ram
trust your techno lyst video for you
make sure to check out all the other
really cool pictures and videos from the
heck I meet up over at hak5 org slash
forums and if you have any nominations
for the community spotlight next week
make sure to email us anything cool and
we would like to thank our sponsor the
national fight against drunk driving
listen people alcohol drugs and driving
do not mix and the message is pretty
clear drinking and driving over the
limit under arrest don't put yourself or
others in danger police will be out in
force from august twenty-first through
labor day weekend cracking down on drunk
drivers beyond just putting your life
for mine at risk you could cost yourself
a bundle of time and money lots of
drivers license higher insurance rates
and dozens of other expenses from
attorneys fees find awesome towing
repairs loss of work the list goes on
and on drinking and driving is so easy
to avoid go out have fun just plan ahead
get a designated driver call a taxi take
the bus or rent a limo they're actually
pretty cheap when you split it up
between half a dozen people so following
up on the esxi series that I think I
accomplished the goal that I set out to
got a couple emails inquiring about ways
to manage the esxi servers or your ESX
or your virtual center servers outside
of windows now there really isn't a
really good way to do that yet there's a
gentleman his name escapes me but it's
by Blue Bear software and the
application is called Kodiak and
basically it's cross-platform due to the
fact that it's an Adobe AIR application
so you've probably got air installed if
you're using tweetdeck or the hack house
application that you can use to watch on
your desktop this uses adobe air and
while it's in very private beta right
now i have a copy that i'm going to show
you right now so what we're going to do
is we're just don't launch Kodiak
kodiak's up here and run in and we're
going to type in our server IP which is
1010 1 182 the username is root and the
password of course
now right now vmware is the only module
that is currently in production or being
developed however as there are different
virtualization technologies and
platforms so on and so forth Kodiak will
support Zen as well as the Microsoft
hyper-v management as well so right now
it's processing the inventory once
that's done it's going to show us kind
of an interesting view of our topography
of our virtual system which is installed
on the server that we're connecting to
all right and here is the topography
that I was talking to you about it's
kind of a spider ish looking graph of
hosts and clusters and there's some
information that really kind of struck
me the first time that I actually saw it
and it's a very interesting way to look
at everything aside from just a single
virtual machine here and there here we
could see this Apollo bez server which
is no longer in production is actually
using a whole crapload of the system
memory and very little of the selected
CPU usage the nice thing about this
application is we can actually go and
change it from spring mode to basic mode
and we're going to go ahead and just
start dragging things around so I can
make things a whole lot easier for
myself to read so I've got external ip's
my dmz my internal things of that nature
so going forward we can now click on my
apollo bed server and we can actually
open the console right from here now
remember this is all done completely in
air which is when you think about it
it's basically using scriptlets to
connect and manage the different
services that you're going to be
performing so here we've got our local
console session and while the
performance isn't native to what you'd
be running on Windows it is good enough
to get the job done so we can see down
here
like I haven't updated my best server in
a while which is probably a bad thing so
we're going to double click on that the
Express install is fine click install
and this is actually running in a live
environment in my office on the other
side of town so here we go it's
initializing the installation and once
that's done it's going to reboot so
we're good to get out of here now the
actions that you can do like I said our
scriptlets the nice thing about this is
there's a single button to reboot to the
bios if you ever need to you know manage
the god what have you different CDE or
you know boo from something else reboot
the gas power on power off take a
screenshot is actually really nice
because instead of taking a screenshot
of the entire desktop it has now taken a
screenshot of just that window so if
you're looking for more information I
highly suggest you go check out Kodiak
by Blue Bear software the link is right
here for more information hit up the
forms and forms on hak5 org or email me
directly Matt at hak5 dot org all right
so we're gonna get the rest of the crew
back in here to wrap this bitch up but
first we're going to check in with
Darren and see what's going on with the
contest this month contest is one for
the photoshop and after effects crowd we
encourage you to get creative with the
assets over a hak5 org slash LCD wall to
put together a sweet little graphic lip
for our LCD wall and the winner will
receive pronto boses album 0 equals 1
equals everything along with some sweet
hak5 schwag plus the graphic lube will
be featured on upcoming episodes of pack
5 how sweet right so find all the
details for this contest over a hack 50
org slash LCD wall and be sure to get
your submissions in by September third I
believe that's a thursday we'd also like
to thank our sponsor GoDaddy keep your
personal information away from spammers
hackers and your crazy ex roommate
private domain registration from
godaddy.com protects your privacy by
keeping your address phone number and
more out of the public database check
out revision 3.com / godaddy for all of
our godaddy codes and offers
Matt next week Shannon's gonna be back
on the show with a soldering iron
dismantling her Kindle they're turning
it into a pci e modem MPC I oh no no no
no you don't see you were doing kindle
hexamon you didn't even hardware Oh pray
with me quit like LEDs on it do you buy
the thing for three hundred dollars you
get on that driver you have to mod it
surely if I was homeless that would be
be only one I want like blue and red
activity LED so i can sell when i'm
talking on whispernet no you cannot do
this you cannot know i'm doing kindle
hex yes but you are not putting LEDs in
this new USB thing on that guy I wonder
if we could get console access Oh what
hacks are you doing we're not a hardware
max I'm gonna show you how to use google
maps and find your email and put your
own pictures on the thing and text
messaging text messaging well that's
problem all sorts of things that you're
not supposed to do I don't know if
somebody knows how to turn it into a USB
modem for life I should hate you with
this although my gps has a you moan a
minute that's cuz you were seeing this i
want to find some way to hack into the
whispernet that's what please always buy
that for EG no I think it's but here's
the thing I just want to get ssh get a
little IRC action you know like that to
IRC figure it out go ahead Jordan anyway
that's what I'm doing next week Andres
tums if you've got some yeah yeah if
you've got ideas email yes her whatever
I want to let you guys know that the
store is open and pineapples are in
stock monkeys are on their way so head
on over to hack five dot org slash its
shower door shop packed up now and kids
we just have so many different English
our nation's it's at this 11 thats and
something on the show and then i'm in
editing and I'm like oh that's being a
witch so gotta make the only didn't know
no it's done it's done time you say it's
done don't even notice email address
yeah yeah it's oh that was done okay if
you guys are doing the twitter thing
follows at hak5 on twitter is where you
can find the rest of us and if you're
into facebook we have been going on
there at facebook.com slash tech my lust
trust your techno last what do we end up
in medieval times your princess is in
another cat space is thank you it sounds
weird and on today's episode we are
going to be playing with fuzzy bunnies I
can give Matt boobs and that's about</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>