<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hak5 - Build a LAN Tap for Packet Sniffing, a lesson on Soldering with Snubs | Coder Coacher - Coaching Coders</title><meta content="Hak5 - Build a LAN Tap for Packet Sniffing, a lesson on Soldering with Snubs - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hak5 - Build a LAN Tap for Packet Sniffing, a lesson on Soldering with Snubs</b></h2><h5 class="post__date">2011-06-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3zUsJm3bwGY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this segment of hak5 is brought to you
by windows azure today where packet
sniffing and no it's not a blackhat
man-in-the-middle attack if you're a
network administrator or anyone who has
to troubleshoot network issues you
should have a passive network tap in
your toolkit a network tap is basically
a piece of hardware that lets you see
the data flowing across a network in a
lot of cases you can use a computer to
monitor the traffic between two ports on
a network say between your router and a
switch suffice it to say if the network
between points a and B are of the
physical Ethernet cable variety a
network tab is the best way to take a
look at the traffic a tap has to be at
least three ports and a port a beep or
and some kind of monitor port for
example the a port can be connected to
the switch providing internet access and
the B port can be connected to the
computer you'd like to monitor and then
the monitor port is just that it's a
port that lets you monitor what's right
in between network taps are commonly
used for network intrusion detection
systems VoIP recording network probes
and packet sniffing along with several
other uses taps are used in security
applications because they're not
obtrusive and in most cases they aren't
detectable on the network and they can
deal with full duplex connections in our
case this network tap will work
indefinitely since it doesn't even need
power passing network taps are almost
the same thing as a general network tap
except these do not need power
there is no built-in computer or any
kind of moving parts and it's just a few
wires and connectors that will move data
from one point all the way over to
another you can build a passive network
tap for under 20 bucks from parts at
your local hardware store a while back
our friend Mike Osmond built a five and
one network admin cable that can do all
sorts of stuff like serial console
crossover and part of that was a passive
network tap in a sort of throwing star
design since then the throwing star land
tap has been born under the great Scot
gadgets brand this little guy is a small
simple device to monitor Ethernet
communications to the target network the
throwing star land tab looks just like
location or a section of cable but the
wires in the cable extend to the
monitoring ports in addition to
connecting
the target port to the other you can use
the star along with TCP dump or
Wireshark or whatever your favorite
packet sniffing program is to collect
all of the data now the throwing star
comes with a kit so you'll need to
solder it together yourself which is
half the fun now I'm just going to get
this finished turkey out of the way so I
can work the tap comes in seven pieces
the printed circuit board for modular
connectors and two capacitors normal
gigabit signals travel in both
directions and it's impossible to build
a completely passive tab there are
gigabit taps but they're like a thousand
bucks so yeah no thanks to overcome this
limitation though the throwing star
gracefully degrades the signal with
these two supplied capacitors that force
the connection down to one hundred
megabits by adding a slight noise into
the line unless you're using a really
really long cable this shouldn't become
an issue and in most cases the tap
device will just drop down to one
hundred megabits without any trouble
you'll also need a soldering iron like
my nifty little tool right here and some
electrical solder I'm using this rosin
core solder with flux build in and a
pair of wire cutters insert the four
connectors into the circuit board be
careful that each of the two leads
extends through the circuit board before
snapping the connector fully into place
this is really important to do I'll get
that done
now you'll need to insert the two
capacitors through the circuit board as
well there we go now that I have
everything in place I'm going to go
ahead and clip this on to my soldering
kit once your soldering iron is hot
enough which mine feels pretty hot you
want to put a little bit of solder on
the tip now this is called tinning which
prevents the tip from oxidizing
oxidization is really bad because the
solder won't adhere to oxidized surfaces
and then you want to solder all eight of
the leads on the connectors and the
leads on each capacitor and clip off the
excess with wire cutters all right let's
get sorry there are 36 solder points on
this board which shouldn't take but just
a few minutes once you get going and
with the board soldered it's now time to
start using it so for the first part
I've gone ahead and asked Erin to play
the victim here and we'll start tapping
his connection Darren come over here
Marlin what a donkey oh I guess that
doesn't go meow Darren sculpt a donkey
no right I don't think it does or maybe
it's a horse nice alright yes so the
first thing you need to do is connect
the computer to the network through the
throwing star in line on ports J 1 and J
2 J 1 and J 2 are listed on top of the
little squares where you had put your
network switches the internet is blowing
this the internet is flowing straight
through and then you need to connect
another ethernet cord to J 3 and or J 4
it doesn't really matter and plug it
into your computer that you'll be
sniffing packets on ones transmit ones
received exactly next on your computer
set your Ethernet adapter to promiscuous
mode now to do this in Linux you'll ty
type ifconfig eth0 and pro misc and
press enter you can check that the
adapter went into promiscuous mode by
typing in ifconfig f0 and then typing or
looking for premiss config
eth0 and i look on here and I see
promess right in the middle there so I'm
good to go
Shannon's getting from mischievous uh-oh
now I need to fire up my favorite packet
sniffer I'm going to use Wireshark
because it's built into backtrack 5
already so why not so the first thing
you do is click on applications go over
to backtrack go down to
information-gathering
here at the top network analysis network
traffic analysis and go to Wireshark
then to start viewing the traffic you
can either click on eth0 down here or
you can go up to capture and choose
interfaces and once that's pulled up
across from eth0 I click start
alright see that destination 888 date
that's uh I'm just running a constant
ping right now okay there you go
so you're seeing I'm seeing everything
that's going through your computer right
now all the things that you are sending
out okay
yeah for example um go ahead and pull up
IRC on your machine and on my machine
I'm going to filter IRC all right okay
so we see IRC a whole bunch of requests
whole event whatever the lines just so
one pull up let's look down it hey guys
you just send that hey guys oh it's
working so yeah as long as it works
correctly and you plugged in everything
it soldered it right you should be able
to see everything that's going through
here
Shannon is sniffing my packets yeah you
could also basically if you want to
sniff both sides you can either use two
computers or if you have to Ethernet
interfaces I like using like a USB
Ethernet interface and that is you don't
actually have two different ports on
your machine right right yeah and the
other nice thing about that is you it in
a VM or if you uh and it's pretty easy
just either fire up two copies of
Wireshark or TCD dump whatever you want
down you can use Wireshark to combine a
pcap that's gonna do why you're working
on TCP you could do that or you could
actually just turn them both into a
bridge and then just listen to the
bridge and you have the things just as
you normally would
yeah it's nice though to see it's just
amazing how much you would get just on
looking at what's being sent out that's
very true
now for links on how to build your own
network tab from scratch you can check
out all of our show notes over at hack 5
org or by a throwing star land tap you
can head over to hack shop calm a
chicken shop calm whoo awesome now
coming up soon we'll be taking Wireless
deaaath attacks but first let's take a
break and then check in with day
for the nibbles we all know that most
guys hate shopping for clothes you gotta
leave the house go to the store look all
over the place for like one or two cool
things luckily that era is over now that
we have Jack breads Jackthreads is a
members only online shopping club that
does the dirty work for you and save you
a boatload of cash each day Jack thread
serves up the hottest deals on new and
any brands at huge discounted prices
we're talking like eighty percent off
what would you pay in the store and
they've got amazing brands like Kidrobot
the hundreds and American Apparel for
less than what you'd find anywhere else
now Jackthreads is a private club but
luckily hack fives got the hook up for
you to get access to these awesome deals
just go over to jack threads.com slash
hak5 and you'll get to skip the waiting
list and become a member like right now
like right away oh and did we mention
that is free to join yeah hit up jack
threads.com slash hak5 and you'll
instantly start saving up to 80% will
not even have to leave laughs make it
find clothing so you won't be naked
something i love chrome you love chrome
well maybe love operati along with that
but the page starts harshing on your
vive in chrome go ahead and kill it with
this killer keyboard combo shift escape
here brings up the Chrome's built-in
task manager' cleaner into all sorts of
details about every tabs memory CPU and
network usage right-clicking gives you a
whole bunch of nitty gritty detail and
there's even a stats for nerds linked
that'll bring you to about : memory for
more than you ever wanted to know about
how that flash games robbing your
resources
sorry Adobe just saying ah you know the
drill hack 5 org slash nibble best one
get some goodies from the hat shop</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>