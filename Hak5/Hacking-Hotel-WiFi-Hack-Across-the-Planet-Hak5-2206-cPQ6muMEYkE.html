<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hacking Hotel WiFi - Hack Across the Planet - Hak5 2206 | Coder Coacher - Coaching Coders</title><meta content="Hacking Hotel WiFi - Hack Across the Planet - Hak5 2206 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hacking Hotel WiFi - Hack Across the Planet - Hak5 2206</b></h2><h5 class="post__date">2017-04-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/cPQ6muMEYkE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">all right so I have three completely
unrelated tips first if you set your
Wi-Fi card into monitor mode using
airmon-ng start wlan0 11 say for
instance you can capture unencrypted
HTTP GET requests by using tea shark in
the command line just run T shark Takei
wlan0 Mon or whatever your interface is
tak Y HTTP dot request method equals
equals get really hopefully joint gang
colors here so we log all that
unencrypted HTTP traffic to a file we
can go ahead and process some of those
interesting things and glean some
information so for instance if I do a
head tack one on my log file I'm going
to see that I have this interesting HTTP
GET over from this client to this server
and it's hitting this main underscore
menu cgi file and it passes a bunch of
different variables and it does those in
this get request so you see them in the
URL bar in fact if you're watching this
on youtube you probably notice at the
top where it says watch question mark v
equals whatever that v is a variable and
the whatever is after the equals is the
value of that variable in this case it's
probably a bunch of letters and numbers
and also you can just kind of change
those and get different videos at will
but regardless there's a bunch of
different values and variables in this
particular HTTP so let's take a look
what do we have here we've got M AC
underscore dress so MAC address equals
the MAC address of my machine great and
then assigned IP equals that IP and then
room underscore no equals
23:39 all right now we've got a bunch of
other stuff like access code and type
and all that different stuff and then at
the very end we have PMS underscore
lastname equals kitchen because captive
portals are fun so let's go ahead
to clean this up a bit because it's not
very pretty in its current state so to
do that I'm just going to go ahead and
pass the output of this head command and
let's take a look at just cleaning out I
don't know just the last name so for
that what I want to do is use the text
processing tool awk
so for that let's do tack F and we're
going to tack capital F and we're going
to look for PMS underscore last
underscore name equals and what we want
to do is just print everything after
that so do print dollar sign too so
dollar sign one in this case is going to
be that and dollar sign two is going to
be everything after that now if I do
that you can see hey there we go I get
kitchen and well I also get the rest of
this which in this case is an HTTP 1.1
well I don't want that so let's cut that
out literally using the command cut so
cut except a TAC d for delimiter and we
can just specify whatever that delimiter
is in this case it's a space character
and then we'll do tac f12 just print the
first part of that and then we get a
kitchen awesome we can do now the same
thing for that other variable which was
room underscore no equals and again
let's do print dollar sign too and there
we go
it begins with the room number it also
has all of this other stuff and again
just like before we can use cout tech D
and then our delimiter which in this
case looks to be an ampersand
cuz we don't want anything after that
and then do tack F 1 and now we
systematically have a way to pull out
the name and room number great now
that's only doing one line in this huge
log file let's do that for all the lines
so for that let's just make a quick
little shell script so nano room number
SH started with the shebang slash bin
slash bash and we're going to go ahead
and grep main underscore menu dot cgi
from the log file because those are the
only get requests we're interested in
we're going to pipe that to a while read
so what that's doing is we're going to
create a while loop and we're going to
read every single line of that log file
and then assign the each of those lines
to a variable that we're going to call
mine so that sounds good and then we're
going to do something what are we going
to do well we're going to create some
variables out of those auckland's that
we had just done so we're going to
create a variable called name and a
variable called room great so the
variables are going to be the outputs of
the commands that we had previously done
so to do that we could do a back tic and
everything in between the back tics will
be the output of the command so like if
I did LS it would give me the output of
the LS command and that would go into
the variable name that's not the right
way to do it we really want to use a
better way which is dollar sign open and
close paren in this case everything in
between these parentheses is going to be
equal to name so in this case similar to
we how we'd had previously done head and
then the file we're just going to echo
dollar sign line because that's the
variable for this particular line and
it's going to do it for each of the
lines in this file so we're going to say
echo dollar sign line and then the rest
of it is just basically what we had done
before it's that awk command that also
sent some stuff to cut to clean it up
all right that looks pretty good let's
now do the same exact thing for our next
line which will be our room so that is
in line and then just as before all of
that awk and cut goodness to give us
what we want and then finally we can
just echo that out because we have those
two variables so within quotes I'm just
going to say echo dollar sign name space
dollar sign room and then we're done
save the file
bash room number there we go
now finally a completely unrelated pro
tip if you're staying at a boutique
hotel you can save time of paying for
your dinners in gen and tonic by just
charging them to the room just right
your room number and your name on the
receipt and be sure to tip well in cash
like I said three completely unrelated
if you have a great idea bring it to the
web the way Shannon and I do and head
over to domain comm with an awesome
domain discovery service and a quick
immediate checkout process you'll have
the perfect site up and running in no
time
lega is over at domain.com are soon tack
5 bands which is why hak5 will save you
an extra 20% at domain.com or just send
my tweet and say thanks this court in
hack 5 all these years so when you think
domain names think domain.com
did you scratch it already scratched it
you scratched it this is a special day
the special day in the life of Sabbath
thing it needs a case needs stickers and
more than that well yeah it's all this
it's all about the layering you got to
get the the right amount of surface area
coverage long start today you start with
a base layer in the dark so that one in
charge should we should do close art
gives me more work to do
yeah but glow-in-the-dark man okay well
I want I want the install script to run
10 seconds faster
I'm currently walking through a park in
the middle of a city and Sydney and I
haven't been murdered once or twice at
all yet I'm going to keep this rolling
just in case though
still walking still walking
it's surprising how little have been
murdered this this time here I'm trying
not to get them in the background to
shoot she doesn't exist
she's the invisible girlfriend not mine
like hope you pay to be home pictures
you were reading one of the young pieces
yeah and I'm definitely cutting all of
that out mmm yeah yeah in between the
two so oh that's not a thing
Janet then we have to take this way so
there's still opportunity yet oh I'm
missing all the rats
maybe the rats are murdering people and
I'm just missing out now huh - yeah yeah
only if only I had a b-roll of a rat
right now that I've just got me not
getting murdered
all right can can we cut through or do
you guys been walking on the grass like
they do in Indonesia
I mean I'll procure oh okay so as it
turns out I don't need to worry about
getting murdered by the locals I just
need to worry about getting eaten by the
rats or the nope ropes with drop bears
my voice is toast from the meetup last
night that everybody in Sydney thanks
for coming out it was a true blast and I
love that we got to repeat some of the
fun events from last year's made up stay
tuned for details if you're in the Gold
Coast we're going to be doing something
in May for around the time of off cert
so hike across the planet calm on that
otherwise real quick wanted to check out
some of these comments on last week's
episode Benjamin here pointed out
something awesome about you know similar
to md5sum on Linux is that there's a
utility built into CMD called cert utils
so I can actually just pull up CMP and
do cert util on a file like it or not
there's a file right there
md5 oh I have to say hash file a cache
file and there we go I've got the md5
sum and that was even easier than the
PowerShell equivalent and it kind of
breaks my heart to think that Microsoft
is phasing out CMD just because it's
like based on boss and that's something
that's been a part of my life since
I started touching computers that were
like older than I was because we were
poor growing up and I had like IBM pc/xt
like 512 K of RAM yay
512 K other awesome comment I always get
this and it's like why you're running
windows or what machine you're rocking
and because I'm such a minimalist I've
been using my Microsoft Surface on this
trip even though I love to have the
flexibility of both that in my XPS 13
running bare metal Linux and so I'm kind
of like making it work as I travel
lightly and to really do that I've just
been this is my typical like working
desktop here so like I'll have desktop
one just you know living inside of
Chrome desktop 2 I live inside of the
Adobe suite
and so every all of the illustrations in
hak5 or me you know I'm used and that's
all illustrator and then of course
InDesign for books and stuff like
there's a new book I'm working on for
the USB rubber ducky
I think I'm gonna call it bucket
otherwise Premiere I have tried every
video editor upon the Linux platform
nothing even holds a candle to premiere
I love it
photoshopped again there's no equivalent
and I just love the way that all of
those Adobe products kind of work
together it's really it's a beautiful
thing and I swear of Adobe would make
their own Linux distribution it just
needs to it otherwise other desktops I
live in you know all of my Linux and
stuff right now is in VMware Workstation
it's a little pricey but it works great
so I live in that and then the rest of
it is just you know my coding workspace
so that's kind of just what I've been
doing and it's working for me so I know
Windows is like that terrible
relationship where you just keep coming
back and you keep getting hurt and
you're wondering why you're in it and
and yet it's just working
really it's just it's actually because
of Adobe it's not even Microsoft Adobe
damn it
but Dolby port your stuff to Linux and
then I can finally get rid of Windows
forever except for the video gaming
we've had time for more gaming I'm going
to go get a haircut and slider on tears
Sydney has been amazing but this hotel
experience pretty bad and I'm not going
to get into why however I will share
with you a real pro tip which is if you
ever end up doing something that you
regret where you make a stupid mistake
this is how you get over it you want a
really nice and high
you literally wash your hands of it
seriously though I've read enough study
once that that actually works and it's
been working for me
that's cool I've got like an infinity
mirror effect so now I bid farewell to
Sydney's next up Thailand
hello ischemia and what a world over
here where it could hear argument upon
their enemy
so I'm on an Emirates a380 on my way to
Thailand and because on an awesome
hacker because like in total
engineering-related sneaky I'm in the
laboratory here of this a380 and
first-class water quality WC it's the
toilet and this is ridiculously fancy I
think there's a shower behind me oh look
it's Dubai and so my life hack works
here just as well if you turn the faucet
correctly ridiculously hot water wash
your hand it feel better about
everything also fancy people use actual
towels unimportant to the cockpit is
likely right over there what I'm really
curious about is we're done with door
lead I really wish I had my walked X cut
listening right now but of course flying
internationally with my lock picks
probably not a good idea
oh stop me again
again and again and again and again and
again
and again and again and again and I need
another gin and tonic I should get
myself another gin and tonic through
that door there seems to be an entire
liquor cabinet and a gin and tonic
waiting for me
I'll do that yeah
it definitely does hahaha because that
going because that is that is a
beautiful okay
and that was a control but in a 380 it
also means that I'm now in Thailand
and supposedly linearity tomorrow what a
new year's tomorrow I don't know how to
even do this I'm going to figure it out
I don't even have a clue why I'm here
what's going on across planet
awesome thank you blue ants</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>