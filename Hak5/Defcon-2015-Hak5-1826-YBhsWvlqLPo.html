<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Defcon 2015, Hak5 1826 | Coder Coacher - Coaching Coders</title><meta content="Defcon 2015, Hak5 1826 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Defcon 2015, Hak5 1826</b></h2><h5 class="post__date">2015-08-18</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/YBhsWvlqLPo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">defcon 23 and a whole lot of awesome
today on hak5 this episode of hak5 is
brought to you by domain.com hello pac-5
my name is darren kitchen I'm Shannon
Morse and this is Kirby that's Kirby
kitchen she says hello it's your weekly
dose of technol of like bye yeah she's
like okay I made my appearance so we
just went to DEFCON 23 out in Las Vegas
see I'm Brent a nigger you're so broken
it's so broken now I came back with a
cold I came back with a what just
happened yeah what just happened so we
have a couple of things on a table first
I wanted to say happy birthday happy
birthday to Jeff I hear it's your
birthday so happy birthday dude thank
you for watching the show and second off
I also wanted to say somebody finally
completed the challenge quite oh yes I
can't wait you know cool you're gonna
get into that next week because I would
love to do a rundown finely amazing
first phase of the hak5 challenge coin
the across America if you will so to
everybody who received one of those on
that trip tune in next week it's gonna
be a lot of fun I just want to also say
thank you to everybody who celebrated
our birthday with us I made it so
special especially Banshee of b-sides
Las Vegas who basically made the pool
party fun times at beside on August
fifth like the most memorable and I
can't begin to express how the just
gratitude that I had not just her but
everybody on the team and everybody that
came out and had cake and had celebrated
with champagne and then said thank you
for doing the show and I can't believe
it's been 10 years of people were coming
up to us Def Con saying like dude have
been watching you since like high school
and now I'm aunt Esther married or kids
and I'm a pen tester it says oh wow grew
up with us so there we go so yes thank
you to everybody and we also got a
really cool interview we do I will also
say that unfortunately we did not do as
many as I had hoped we will do some more
via Skype in the coming weeks and we're
kind of redoing how hopefully we're
going to redo how we do our presence at
Def Con in the future so we can build a
studio there and actually like really do
it well the new venue was
kind of crazy new venue is crazy and a
place to record and if you're familiar
with any hak5 conference coverage yours
you familiar with the fact that we go to
the quietest area we can find where
nobody can walk around in the background
because we don't want to get any
collateral damage we really respect to
privacy so as such it's boring wall
footage but that's okay because we also
have some b-roll as well yes so with
that I think we should go ahead and get
into run right into and we'll see you
guys on the other side hey guys I'm
Shannon Morse here at Def Con 23 and I'm
chatting with mr. Jimmy duro hey Jimmy
how are you doing great how's it going
thanks for having me absolutely man so I
heard yet you had us you had a talk
earlier today and it went very well it
did yes it was a very intimidating but
it went off well um we're gonna say it
was my first talk but uh I'm glad it's
over I'm glad it's over now I can
understand yeah the whole public
speaking thing uh freaks me out so it
was all about men in the middle attacks
USB rubber duckies and corporate
environments kind of Awesome there's
some scripting involved it sounds
exciting so I would like you to give me
an introduction to what you talked about
yeah sure so i bought the rubber ducky
and i first looked at it and kind of
world only use this thing and i bought
more is a teaching tool for some folks
at my employment and what I found was
that most of the payloads that were
already published out there will be
stopped by most modern defenses that
companies deploy antivirus ftp server
netcat listeners stuff like yeah so and
i also picked that kind of stuff up so
what i want to do is kind of develop one
that would work in a more secure
corporate environment and and so that's
what I kind of came to the idea of
getting in the middle of a connection
and then loading the certificate so i
could decrypt their communications okay
so how is the USB rubber ducky actually
picked up by these different kinds of
devices is it just because it's
obviously not a hid no so the antivirus
is picking up things like some of the
payloads try to pull down well-known
files that are have been published out
there so your net catch your meterpreter
reverse shell tools things like that and
they've been well defined so when you
try to use them it's not the duckies
fault but obviously antivirus can pick
that stuff up
in corporate environments they need to
be locked down they can't be dealing
with this kind of stuff so they're
obviously going to lock that down from
the USB rubber ducky absolutely it's not
just antivirus I mean you talk an ftp
whitelisting HTTP proxy type stuff where
you can't go out to open storage you
know there's lots of tools that
companies implement that it stopped a
lot of the traditional payloads even
another big one that I probably didn't
talk on enough in the conversation at
Def Con talk was admin rights so a lot
of the tools require admin rights
whereas my payload actually does not
require admin rights that's awesome okay
so we figured out corporate environments
got a lock down with the antivirus how
do you get a workaround for this issue
all right so the way that I approached
it was to think you know there's plenty
of payloads out there that gets you in
the middle of the conversation the hard
part now is to decrypt that
communication so yeah so the idea was
that how can I take a certificate and
get it on the machine if all I have it
my disposal was a keyboard so then kind
of the the brains there is that we're
going to convert that certificate to
human readable format so to keep working
type it and write that to a file and
then we can load that certificate to the
machine which is then a trusted root
store and and that's pretty dangerous I
mean if you have you end up collecting
like all the authentication for the
device that you're basically owning yeah
once you have the trusted certificates
loaded there's really nothing you're not
decrypting as far as a web traffic
because your proxy ahsan and everything
with that trusted key so yeah you pretty
much got everything I mean ten occation
cookies any passwords usernames that
kind of stuff yeah so is this like a
bash script that you wrote or whoa how
did you write it well it's the the code
on rubber ducky is actually the ducky
Script API that you guys have kind of
put out there thanks again for that and
then what it does it actually writes a
little VBS script that will run a batch
file so yeah that's how it works so I
want to get a walkthrough so we can
actually like show everybody how this
works okay absolutely so all right so
what's going to happen is first you're
going to see the command prompt being
opened up and we we try to do a UAC
bypass and if i'm not mistaken
believe a daring from hacks I've
actually wrote that piece of script so
so yeah we that's the first step once we
get to command prompt to open up we're
then going to map the the ducky drive
that was also a script that was pulled
off of you guys forums and then kind of
my part of the code is we're going to
take the certificate that was pulled
from a proxy and we're going to use a
certain skill to load that in the
trusted root store and then we're going
to overwrite the Firefox profiles
because Firefox has its own certain key
store so that may we've got all the
modern browsers so that's covers your
internet explorer covers chrome and it
covers Firefox so and then after it
loads their certificates it's then going
to create a wireless profile and connect
that wireless profile and that wireless
profile will be my man in the middle
machine yeah do you use Wi-Fi pineapple
for that or how do you do that many of
the middle you could you know a lot of
the scripture set up to use pineapple I
chose to do it all in cali box just
because it was a little easier to set up
for the demo but you absolutely could
use the pineapple that's so cool and is
there gonna be a release of the code or
anything like that are you going to show
our other users yeah yeah great question
I probably should touch them in us a bit
more in a demo as well but I'm going to
put the code out in the hak5 forums and
I'll try to do right up so everyone can
kind of follow along and all the files
that are needed to run it and I
appreciate any input and you know people
feel free to modify it as you wish yeah
we're gonna get the update that's like I
updated it now it's five cents five
seconds faster yes I encourage that you
know please please make your
modifications and make it even better
alright last question for you do you
have any recommendations for corporate
environments on how they can protect
themselves from this kind of attack yeah
absolutely so I went into this little
bit on the talk as well it's only
responsible that we kind of cover our
bases when we release these kind of
things and what I would suggest is
there's a couple tools there's wireless
intrusion prevention systems I would
stop the the AP part of the attack you
can actually lock down USB ports whether
it's just through USB mass storage which
which is stopped part of the attack or
you could actually just disable us be
entirely and I mean the list goes on and
on as things you can do I mean incur
to be more responsible picking up flash
drives that's a big step in right
direction as well as i would encourage
people to use multi-factor
authentication because even if i can do
people aren't doing that what's the way
what's wrong with them yeah so some
places don't offer it but most you're
bigger you know you're bigger sites or
have some type of Italian to
multi-factor authentication and and if
even if I were to attack you I can I
can't use your credentials again if it's
a one time use password so that's that's
another big step in the right direction
that's so awesome I can't wait to see
the code I'm really interested in using
my own wife or my USB rubber ducky did
actually do this where can people ask
you questions find more information
about what you do and more work on the
USB rubber ducky or other products so
you can always email me at j duro so JD
Orr oh ugh three at yahoo com or look me
up on Twitter I don't know exactly where
my handle but it you can find me on
Twitter as well to reach out to me thank
you so much Jeremy that was awesome and
I'm so glad your talk went well thank
you i appreciate a time domain com and
doc club came to hack five with a great
idea build a club all about learning
stuff making things and having fun and
so we did just that and man what a
brilliant idea we recently hosted our
very first ever open house at the hak5
warehouse and with the help of domain
com and doc club we put on a mini LAN
party micro drone obstacle course 3d
print fest quadcopter race and killer
barbecue and i must say these guys get
it the internet and hacker culture in
particular it's all about fostering
community from BBS's to fight o net to
IRC it's all about coming together and
having fun and what better domain to do
it than a doc club it's perfect because
the doc club is universally and globally
understood not just here in the United
States so if you're building a new
business or naming your startup consider
a doc club as the ultimate social domain
join us in the san francisco bay area
for workshops and projects and crazy in
dorkwad got the races at our very own da
club hack
house club then head over to domain.com
/ club to register your club today
they're only 999 a year and there are
thousands of Awesome options still
available make sure to use the coupon
code hak5 to save fifteen percent and
let the guys over at domain.com know we
sent you so when you think domain names
think domain.com I'm here at Def Con 23
with Chad who is literally hacking the
gibson chat dude thanks for real though
hacking the gibson well i mean that's a
bit of a you know that's a maybe just a
little to hollywood to what we're doing
here actually it's not all like you know
blinking green lights and screens to
make a lot of noise and things like that
it's it's it's actually not much
different that's why I'm here talking
about it with my co-presenter is it's
not that much different than what you
already do right so the people are out
there writing overflows or exploits or
shell code for linux or windows and that
kind of stuff aside from being a
different architecture and that sort of
stuff it is the ideas if you know how to
do it here that's what we're here to say
like if you know how to do it here you
ought to be doing it here because it's
important so that's the thing is your
talk is all about hacking mainframes and
you say the word mainframe to a lot of
people and like okay well first of all
before you started hacking mainframes
and getting actually really familiar
with them what were the imagery coming
up in your head yeah so I've been
working with and or around mainframes
for about a decade or so and prior to
that it was like you know the you think
of the the old systems programmer skies
and sitting around like white shirts and
skinny ties with like cigarette you know
ash trays on their desks and like big
rooms full of machines that kind of
stuff it really hasn't been like that
for decades I mean these are very modern
very they're still kind of big but
they're cool-looking but you know
they're very modern very powerful
operation so they're they're completely
proprietary they're only made by one
company IBM and you can't you know you
can't get one without going through them
so they're not you can't go buy one at
the local store whatever so they're sort
of a novelty so explain to me why does
the company use a mainframe instead of
just like you know rack full of 19-inch
you know blades and clusters and all
that good stuff like why not just
regular commodity stuff I'd say
there's probably a couple reasons maybe
three reasons one they're exceptionally
reliable so the people that rely on
mainframes have zero downtime you know
configured correctly there they do an
unbelievable amount of transaction
volume so like a typical mainframe
running somebody's credit card shop ray
TM shop or airline shop might run you
know thousands and thousands of
transactions every second flawlessly the
other thing is I would say is how they
fail so when they fail when if
applications fail or components fail
like they are unbelievably modular and
and resilient to any kind of failure and
had been for four decades the proven
proven system for when you need and it
shows by what's running on it today it's
its finances its Airlines it's you know
utilities government stuff I mean if
it's important it's running out of
mainframe like anything you did between
getting here you know getting here from
your house to here I'm sure your
information or something of yours
crossed multiple mainframes on the way
here you just don't know about it are
you saying that that my name went
through like a half a dozen mainframes
and it's like 1984 yes yes that's
exactly what I'm saying yes they're
watching you they're all watching you
that's okay well that notwithstanding
that sounds really rad and I guess to
see the benefit now but how do you go
about hacking mainframes and how does
that differ from what we're
traditionally used to yes so the thing
that um how do you go about hack so that
maybe it's a different architecture so
that's the thing so like for instance we
talking mips arm so so that exactly so
most people are hacking intel processor
some people are doing arm if they're
doing maybe mike and more maybe
microcontrollers but it is it is a
separate architecture unto itself but it
is similar in that it's a von Neumann
architecture meaning that you have data
and instructions it doesn't different
between those right so you can kind of
commingle them how does one go about
doing it that's kind of the big barrier
to entry is like you've got to have
access to one you can't just you know it
so the two points I make two people are
if you're working for a company that has
one of these then you can afford to pay
somebody to be doing R&amp;amp;D on it because
you have it by virtue of having it and
you should be that's like point number
one
second one is if you're a pen testing
company and you're big enough to have
engagements at companies that have these
things you ought not be bypassing it you
should have somebody on your team that's
researching this kind of stuff you can
buy you know smaller ones or rent time
on them or find a way to get them the
information they need IBM also has a
they actually have a lot of people don't
know this they have a virtualization
product so you can run it you can run a
mainframe on a Linux box because they
make a hypervisor that emulates
mainframe hardware and you can run the
actual operating system on this and they
they license it and sell it to we can
imagine if you're writing system
software for a mainframe you need
something to do it on if you're crashing
it all the time you're not gonna be
rebooting it all the time so it's what
other companies that writes offers their
mainframe use and they'll sell it and
license it to anybody wanted it and it's
nowhere its orders of magnitude less
expensive than the actual hardware but
it's the same thing so they were just
say like look if you if you own one or
if you are doing engagements you know it
shouldn't be off limits you really ought
to be testing this for yourself and for
the customers so it sounds like if these
mainframes aren't tested a lot if
there's not a lot of pen test outfits
that kind of specialize in this sort of
thing I guess the fear is like one you
know are these one accessible and two if
they are you know is this a sort of
thing where there's been enough research
on this where do they are they do they
have the sorts of Prevention's that you
find on more modern stuff like data
execution prevention and things of that
nature so no they don't have data
execution prevention but they do have
they do have their own types of
protection so there they have memory
protection so they have like key
protection on memories every instruction
decides at a hardware level whether it
can read this memory block write it both
or neither that doesn't exist on Intel
it doesn't have something like a SLR or
Canaries but it has other things like
that configured well it is a very very
secure system but to your point if
they're not being poked at how do you
know and a lot of them have grown up
over you know from the 60s like you know
just the other thing the other thing
about it is we're really trying to push
the the existing the people that work on
these things we're trying to kind of
change the culture a little bit because
these people grew up and they treat it
sort of like their pride I mean they
rightfully so they treat it like the
Ferrari right I'm not bringing it home
and they brand new Ferrari and like
taking a par see how it works you know
they're gonna they're gonna do what they
do with it what it does best but they're
going to leave that to the mechanics
that know what they're doing right and
we're at a point now where we don't
really think that you can afford to deci
do that you need to know if you have a
vested interest in it you really need to
know is it configured correctly maybe
it's not IBM software that's got a
buffer overflow built into it but
there's loads a third-party software
runs on these things they run Java they
run db2 they run see they run UNIX they
run linux there's been a few exploits
for those things right and how what does
that look like on a mainframe what
happens what do you get if you get a
shell what happens next right and yeah
absolutely bash run a bash shell right
um you have a web server you can have a
time you're in tomcat on there you know
we vary for different versions of tom
cat running a lot of mainframes well but
i don't hear too much about main firms
is it because they're not really
accessible i mean can you find these
things on the internet today so mike is
a perfect question if my co-presenter
phil was here he's really who got me
into this he runs a blog that is
basically he scanned the internet he's
used like showed in and some other folks
to get this information out and pulled
the screen scrapes from mainframes that
he's found on the internet they're out
there that doesn't mean they're insecure
but they're out there and you don't hear
about him because there are juicier
targets right so if you think about what
you hear about in the media you hear a
lot about people taking credit cards
because that's like that's like now
that's like here but but these are the
smash-and-grab jobs whether they're done
by a hacker in his mom's basement or a
nation-state like they're just stealing
you know they're stealing money right
there robbing the bank but if you think
about like Stuxnet right that wasn't
about robbing the bank right that was
about you know affecting some very very
specific damage to a very specific
energy or enemy if you turn that around
and think like maybe we're the enemy of
somebody else right they're not going to
be stealing credit cards right they're
going to infiltrate themselves to a
point where they can take one of these
things and like take it offline or take
it offline permanently or you know just
wedge their way in there so I don't
think you hear about it because there
are way better easier juicier more
sensational targets for every day and
end and you've got you know you've got
windows running facing the internet with
iis you've got the next Andrew
these are things that like everybody can
relate to and they happen all the time
and they're new and they're exciting but
it does get the news when like complex
systems that have to be up all of the
time say like I don't know unites
check-in system gets hacked you know
like saber recently there was an article
that just came out the saber which is
like the airline ticketing system had
may have had some hacks happened to them
by China and that's that's absolutely
going to have a big mainframe backends
on some of those things maybe somebody
who wasn't supposed to fly is now able
to fly so so one of the one of the
points is like you and I can't just walk
and like get a mainframe easily but
certainly countries that maybe aren't
our best friends could and can and do
they've got the money they've the
resources and there's nothing to stop
them from doing this kind of research so
we're out here saying hey I think the
deck is stacked in the wrong direction
like we need to get people that are way
smarter than I am at this involved in
this in a way because there are entries
into it but it's not as easy as like hey
I want to download Ubuntu and start you
know decompiling binaries and I got it
that's all free and I can do it my
basement you know and it's like great it
takes a little more working that and you
have to learn it like if there's a
learning curve to have here but he'll if
you went from Intel to arm or anything
like that you've been through this
you've been through this incorrect so to
wrap up I will say like as a hacker how
do I get one of these in my basement and
start hacking on it because one it
sounds like it one it sounds like a
great challenge to there could be I
don't know if they have IBM has bug
bounty programs or anything like that
but three I mean it could really lead to
like a lucrative field especially this
is not currently being exploited as far
as yeah so I would say for an individual
researcher it's gonna be tricky you can
buy this software and I think they would
probably sell it to anybody that they
thought was I can't say I work for IBM
but I'm guessing it's a product that
they offer that they would probably sell
it anybody's willing to pay list price
for it which is in the tens of thousands
of dollars i think but it's not but if
you're a company even a meager sized
company that kind of a software license
isn't it on heard of it all right so
there you are right those those are the
people get to start somewhere right
maybe it's not gonna be the individual
researchers start somewhere and then you
mentioned something about you know the
things we hear like the vulnerable how
do i get into it that's the other thing
the vulnerability eat though
in IBM in this platform is they only
disclose their vulnerabilities to their
known customers they don't publish them
publicly and then they don't publish the
exact details even to their known
customers I just give them a scale a
vector but that's about it and that's
worked for him for a long time because
they know everybody they'll get their
tight little family I don't think that's
necessarily then we disagree on this
like you know me and IBM we discreet
this I I'm very much in the open
disclosure or bug bounty that kind of
stuff you know I think we all benefit
from that they're not there yet and I
think part of that is maybe cuz their
customers aren't there yet but that's
what we're out here trying to do is like
get people to you know if you working on
these big companies you start pushing
back you know dollars talk right these
companies have clout with the IBM sorts
saying hey I think we'd like to see this
you know with the risk of our risk
platform where we get CVEs and we get
these disclosed and that kind of stuff
and then start training people start
bringing them in and start creating a
demand for it right yeah sounds rad well
thank you for hacking big blue where can
people find out more about your research
yep so you can go to my website at www
big endian smalls is a play on the fact
that it is a big endian memory
addressing or follow me on twitter is
i'm at big indian smalls or my co
speaker Phil young he is soldier of
Fortran if you just Google mainframe
hacking or soldier or Fortran he is like
only got to come up how I got into it ok
Google it you get him so yeah appreciate
it thanks for being on cheers that just
about wraps up this week's episode of
hak5 but before we get going i do want
to mention that we have a very special
thing happening here at the hak5
warehouse hat HHA house club is where
you can sign up for our next open house
awesome yeah a little-little barbecue
little lamb party a little quadcopter
racing we have oh the death match not
just layin party death mad for
quadcopter deathmatch it's gonna be a
lot of fun that sounds awesome yes so
que hace que el stock club it's all ghus
29th you have to sign up there to get
invited what else are we doing should we
tell them oh we're doing some campy
stuff in September oh that's fun yep
yeah okay we got next week doing the
challenge coin oh yes yes oh we've got
another pen test with hak5
me up so pen test with act 5.com here
yep here to a house looks know what else
um going to space oh that's probably I'm
booking myself on that trip there we go
I have saving specifically for going
this piece right I can I really do
there's a lot of I can't afford it but I
really have a savings account for going
to space yes let us know what you think
about that in the comments below or just
sent over an email to feedback i high
fived org we read them all sorry we
can't reply to every single email but
they all get to read and then shop at
hak5 or I mean shop shop yes ajk shop
com that's where you can find all the
opposite awesome stuff that supports
this show and yeah because of you guys
putting with your dollar and saying yes
I like this and while and turtles are
fun I don't Taylor are we should do some
tutorials on them it was I just did
seven videos up on there and I should do
some more as well wait so openvpn coming
up next and all sorts of other good
stuff so land turtles pineapples duckies
all the good stuff hack our apps you
know over tooths all the fun things to
do the hack sores a che ke shop.com
appreciate your support there that I
think pretty much wraps it up I think it
does yes so I'm at hak5 Darren on
Twitter and I'm s nubs akh an amorous
snobs and with that we're reminding you
once again to trust your tech de lust
see you next week
I went first well I made the first
comment first first first first first
I'm in the 301 club may not know</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>