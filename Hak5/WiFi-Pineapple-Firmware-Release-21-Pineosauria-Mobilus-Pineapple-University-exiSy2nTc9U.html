<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>WiFi Pineapple Firmware Release - 2.1 &quot;Pineosauria Mobilus&quot; - Pineapple University | Coder Coacher - Coaching Coders</title><meta content="WiFi Pineapple Firmware Release - 2.1 &quot;Pineosauria Mobilus&quot; - Pineapple University - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>WiFi Pineapple Firmware Release - 2.1 &quot;Pineosauria Mobilus&quot; - Pineapple University</b></h2><h5 class="post__date">2014-12-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/exiSy2nTc9U" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello welcome to pineapple University
i'm darren kitchen and I'm Sebastian
Kydd and together our force is drawing
to build epic pineapple stuff with you
guys I'm super excited to be bringing
this straight to the community it has
been a long time since the last firmware
has an engine yeah was three months
three months in fact all of these could
have individually been like three
different firmware so our goal today is
to go over some of the major new changes
in from where a 2.1 point X and show you
some of the cool new features yeah Pyne
a pine up but to spine Apatosaurus was
the last code now this is now pi no
Soria mobi leus if you're if you're you
know keeping up at home with all of the
different code names of the dinosaurs
the fake dinosaurs that go along with
our firmware releases and this one is
like armored man yeah it's major stunts
he's armored done he's a he's mobile
yeah yeah I guess that sums it up pretty
much so I figured why don't we just go
plow through the changelog because
there's a lot to this and mobile there
Israel mobile first and that's why I've
brought my Android phone here this will
look just as good as well at home on
safari if you happen to be using an iOS
device absolutely but a lot of people
like to manage their Wi-Fi pineapple
from their phones or tablets it's a
convenient way to do that so you've done
a lot of work on that front to make it
more convenient yeah walk you through
some of that yeah well we we started
with basically just making all the
infusions responsive on on any screen
side so that means the the small tiles
don't that you know row up they're all
beneath each other so you can easily
scroll through them in a mobile format
we've got large tiles that actually work
now in regards to right so not a whole
lot of pinching and zooming as before no
exactly so it's just one straight into
configuration and it's just one exactly
it's just there's no zooming out zooming
out there is scrolling if there is some
that's overflowing like these tabs like
these tabs okay so before tabs didn't
you know
look good on mobile because they'd
overflow on the tiles and so on so now
we've got tabs that scroll with you
which makes it really easy to navigate
your pineapple on mobile I think that's
that's something the direction we're
heading in more and more people are
wanting to you know configure the
pineapples just from their phone so we
figured we'd add that possibility and
yeah I think it's been a success so far
I think it has been and I just love the
fact that you know I can have just the
infusions that I want available oh it
can normally you know when I'm running
something like this on a pen test job I
don't necessarily need you know
configuration there I don't need to see
the version I don't need to see the logs
I pretty much need the network pine ap I
don't really need to keep an eye on
resources or the bar and I may have like
one or two other infusions but when I'm
done with that hey hey you basically you
you're able to get rid of all the
infusions like you were able to before
but this time what we added is a little
arrow that pops up once you start hiding
infusions as you can see on the phone
and you'll you'll be able to pop on like
click that and you get all your
infusions in a nice neat list which you
can then click and make them visible
like you used to but it means that
you're not cluttering your screen with
having hidden infusions and just hides
them away on mobile which i think is a
very important thing again usability
wise it's not just the ability to
minimize them it's a lot of the other
little niceties like you know things
aren't wrapping over like infusion view
or the notification bar yeah exactly so
we we kept all about - you know we did
our best this is the first effort on it
so we'll we'll see there's there's still
some things that we need to you know
clean up recon mode is well recon modes
I think looking a lot better yeah that
was one of the things that we kind of
threw together in all honesty because it
already looked quite okay on mobile but
the thing is the top bars were overflow
and we still had summation if this is
kind of the the last-minute throw
together for piyah for recon moded say
quite successful if you guys aren't
familiar with this feature it is the new
hotness with the new 2x series so you
have to be using this it's so great when
you hit the drop-down in the top left
you can leave the normal infusion view
that you're used to go straight into
recon and then from there
you're able to actually scan for nearby
access points but not just access points
but access points along with the clients
connected to them so I'm going to go
ahead and let this go for one minute and
we'll come back to that here after it's
done it's scan and you'll see what I'm
talking about because it's really useful
yeah I agree
so what else do we do we basically
that's that's it for a while but we did
security so security we did quite a few
things from small to little some from
soft a little Wow I guess from small to
all too little smudging the little
changes yeah now so what we did is we we
decided that you know there's a Moses
security device we wanted to kind of you
know get with the community and say hey
we can lock this thing down a bit more
so the first thing that we did was we
lock down the serial console the reason
why we did is because not everyone so
when you deploy this on pentest some
people will not unplug the box which
would you know prevent access to it but
they'll leave the box plug it and they
do because we have exposed cereal heads
which we love because of the whole you
know being able to hack into or like
hack hack the the device basically yeah
being able to you know mess with that
attach your own devices to it that talks
to your like but that's the thing is
like it's it's hacker friendly which
means exactly choose your hacker right
right so to to kind of get around that
we just require using a password to be
sent over serial the first thing which
is great we've seen some people doing
some pretty cool stuff using the serial
where you can actually say interact with
I don't know Arduino is or other kinds
of things over serial Isis yet now you
can do the same kind of thing you just
need to first pass that password yeah
use something like TCL expect it should
be pretty simple yeah absolutely so we
did not then we we we fixed a bash or we
we updated bash to fix some shell shock
shell shock the world is ending
oh no Hydra children shell shock of
course oh don't use environment
variables that way people it's not what
it was until we weren't doing that
anyway but we did get some people you
know obviously when it was a big thing
raised their hands but hey you guys are
vulnerable and sure bashes but it got
fixed it's a hunch so we're good with
that nice also another huge one
preventing cross-site
forgery requests is yeah kind of huge
yeah and I love your approach to this
it's really rad the way that it just
works and we didn't have to go back and
change every single infusion and whatnot
yeah but there you go there's a few ways
to protect against it right and we
really only use two type of methods so
it's a bit more technical obviously but
we use guests and posts for the web
interface or any type of interaction
with it
the problem is that we have plenty of
people that write infusions that we
didn't want to break what infusions
develop they we didn't want to break
every infusion with this release by
saying hey you not have to send a
cross-site request forgery token you
know I don't put a hidden hidden input
on every single form and you know we
didn't want to do all that so we
actually inject this token for everyone
in the API functions that we released
not everyone is using and saying we
overrode some jQuery funds to makes you
do it but to verify that there's still
the real user or not using a cross-site
request for you request awesome stuff
and you know here's the thing we're this
actually kind of goes back to mobile and
it responds to a lot of things just
following the use cases of the community
we see a lot of people like to manage
their device over Wi-Fi from their
tablet from their phone up to maybe even
their laptop and so we've always had the
ability to get to say the web interface
on port 1471 however that was by default
over the open interface sure and that
meant that you know anyone could write a
quick Python script that could you know
capture all the packets in the air or
used I don't know TCP dump capture the
package of packages in the air and then
when you log in or even when you don't
because it's patriarchal capture your
session and yeah that's an interesting
concept too because you're talking about
say either sniffing out of the air or
even doing a man-in-the-middle attack
yeah against a man-in-the-middle tool so
all of those contingencies have been
thought about now there's a wpa2
management interface that'll allow you
to manage your Wi-Fi pineapple without
having to you know so at least your
session is secure in terms of not going
over you know open open yeah it's kind
of funny that we say like guys do don't
trust open Wi-Fi because
irony anyway yeah so so we we did that
however does mean obviously I think we
should mention that because people have
raised the concern about it being on the
same VLAN sure it uses the same I people
the host star can actually open wireless
are able to connect to the the hosts are
connected to the wpa2 why are the same
with the Ethernet I mean there are also
part of the same pool the reason for
that so you can port scan them and see
them right so sure you can get port scan
but right which probably brings up since
we're talking about hacker tools and
securing hacker tools if you're using a
hacker tool like Kali Linux change your
password tor not the greatest password
things of that nature so you know yes
you're on the same land as your clients
it kind of want to be yeah good thing
that's a little good too
yes and actually it doesn't even end
there you've got now a recipe for I know
that on the wiki there's some ways to
set up open SSL yeah we're working on
making that even easier yeah so we
received it is the reason why it's
tricky is because we obviously can't
ship signed certificates or you know we
don't have a CA that can verify every
single Piatt who use the same IP address
it doesn't work out of the box in terms
of hey add the certificate and you're
good to go you'd have to add the CA to
your devices and it's difficult to do on
some devices it's it's easy to on others
its browser dependent on adding just you
know trusting is certificate but chrome
for example doesn't easily allow you to
just trust a certain certificate you
have to import it that means you have to
first export the certificate then import
the certificate then you have to you
know so it's a whole process and you get
that big message that for a little while
you couldn't even get past by just
clicking by it so really not what we
call user friendly which is why we
didn't implement it by default which is
what we want to do in the beginning just
right and so that's why you know layered
approaches right so we've got wpa2 for
the management now and then later like
right now open SSL utils are shipped by
default there's a recipe on the wiki if
you'd like to roll this and then as we
progress it will make it easier and
easier to go ahead and set that up as
another layer and you know what is I
kind of love this just because it's cute
but one of the layers that I like on
setup is the whole like you know we
start talking about
you know men in the middle attacks
against men in the middle machines now
we've gone to all kinds of contingencies
right so we're like thinking of like no
but what if they pineapple your
pineapple while they're pineapple a mine
apples how would you know that your
pineapples not been pineapple buy
pineapples
it gets really confusing and especially
in this office with our phones like all
the time like what's wrong
ah very nice your pineapple yeah it
happens so happens a lot um but so so we
we talked about a lot of different ways
to protect against you know not logging
into the wrong pineapple having the
password that you want for example you
set up your pineapples first time you
have to enter a root password just set
it now how do you know that this is
actually going to your pineapple and is
private information because you're
connected over an Ethernet cable right
but but if you're not exactly so a lot
of people aren't and a lot of people set
their pineapples up at cons which you
should not be doing or you know just
like to use Wi-Fi we just want you know
a little bit of an extra step so what we
do is to make sure that you are actually
at your pineapple so your pineapple
knows that you're at the pineapple
that's so the pineapple can trust you
and then you can trust your pineapple
basically we added a original set of
pattern in the beginning so what happens
is the the water pineapple will blink
certain LEDs mm-hmm and it's going to be
one of these so they can be either
blinking so like this one for example my
my pattern would be off on off on or
just blue and green or on yeah I don't
see the oh we do have it I do have a
blinking pattern so there is a blinking
you'll recognize as a banking it's not a
little flash it's it's proper on-off
blinking a second between every single
step sorry and then we so we just
require that on the first login so that
you know what you're connected to it its
little I love it it's a little it's a
little nice kind of you know goes in the
direction of wanting to add a bit more
from tiny to small I'm trying
from time it except it's a huge update
and like we haven't even looked at it
there's a lot yeah in fact us we can
even come back to this because if you
haven't been playing with recon mode
this is not tiny so we've done our scan
here I've only let it from run
for a minute but you'll see what we get
here is not just a list of the access
points around in the channel that
they're on and the security they're
using you're probably familiar with that
from like any regular Wi-Fi scanner but
also in this case I see that there are
three clients connected to this access
point so these are the hardware or MAC
addresses that you can later use in all
sorts of other attacks and we've tried
to make it super simple like if I click
on or touch you know the name of the
network I can quickly add that to my PI
ap list for Dogma things of that nature
expect more good stuff on the Recon mode
front absolutely huge iteration with
pine ap right is I think of a big thing
figure I'd mention that before we move
on to a help system finally yeah we get
a lot of questions about you know like
it used to be really simple when it was
just karma and that was the only module
and you know it's on or off right and
it's a pretty easy one to explain but as
this game of cat-and-mouse we have to
get more sophisticated more modules more
features means more questions so we try
to answer a lot of those now right in
the web interface yeah so we added a
help system and maybe I'll show that off
on my screen right now okay okay so
you'll see it's a the resolution makes
it look a bit different than normal but
we normally you don't see these
questions are no if you can see my mouse
I hope you can yeah so the for example
we have here Auto SH we have a question
mark next Auto says eight and when we
click that we get a license that will
actually have some help text now we do
this for a lot of things let's take our
own pine ap for example a penalty is a
marginal rogue access points we designed
you know so so basically we can we can
display help directly on the interface
and if you don't want to use it because
you know what you're doing or you've
learned all the things you don't want to
show it you can just go what's your
configuration tool and stop display help
and and there you go no question marks
exactly so it's kind of a feature that
we thought of would help people you know
learn explore their pineapples and then
not have to worry about or not have to
come to the forums and ask for every
single help or not you know we get a lot
of duplicate requests so we hope that
that kind of you know dampens that down
and it's right there where you're using
it so you're hovering over like what is
this Dogma thing well click on the
question mark you know for infusion
developers this is going to be easy to
implement on your own thing because the
new API there's been an update with 2.1
x and you can use the it's literally
helped like yeah bracket help racket
right so it's super simple to integrate
and it's it's just done by saying or
defining what infusion you want to show
the help text from and then the key from
a JSON file so it's it is really really
super simple and we hope that everyone
will start implementing yep and it even
looks good on mobile I've just pulled it
up here you know and you get like you
know some of these are actually pretty
long and we'll go pretty in-depth about
all of the various little functions of
these different modules so I implore you
all to click around and explore learn up
yep a bunch of little changes so let's
fire around here yeah I'm a PE can now
be controlled by the CLI
yeah so again definitely yeah I
absolutely kind of I just show my laptop
so all you need to type in is you
increase your font size please yeah I
can do that too so infusion on a P for
example and we get a list of now
obviously it's big in Texas yeah so we
can you know we can iron all apparently
start this will take a second and it'll
start PI ap on on the pineapple but
basically now that means that everything
is controllable that was before
controllable over the command line so a
lot of people have requested that
because they wanted to start PI ap on
boot on the first also on every boot
they want to you know configure by a dip
switch or they add a two that's huge
when it comes to these dip switch guys
because you can have you know my pine AP
mode mine on pine ap mode all of those
different things just you know a dip
switch away it's good stuff
yeah exactly and it also won't fail
anymore if you use mac changer which is
another thing that actually is built in
line
so recommend everybody use while there
is obviously the tool that everyone else
called mark changer but it doesn't
always play nice with all the utilities
we have so we wrote a really simple
thing that just changes your Mac that is
compatible with open wrt and it also
plays nice with our system because
the you know the wlan0 and the wln 0.1
and the WLAN one in the WLAN - possibly
and so it takes care of all of that so
you don't have to think about it use it
right from the web interface exactly yep
so yeah yeah that's good stuff
it also doesn't lag anymore on the web
at our booth yes it just gets more and
more zippy so but so before when we uh
when we wanted to start pine ap it would
kind of we again it was the
implementation that we kind of we pushed
it and we weren't happy with how it was
because when you start enabled the whole
web interface would slow down until
panicky was Sergeant as you could see
earlier and if he does take good 10
seconds got a set of seconds it
afterward yeah it has to set up the cars
it has to put them into mod remote it
has to do this and that so there's a few
steps involved and parse the files and
so on so now you just get a little cute
if you can see that in the corner but
it's just a little spinning starting
pineap-- here and then that was up yeah
pretty quick yeah so you know this next
feature is going to make our very own
Sarah here at the hack shop very excited
because she's setting up she has kind of
like slow Wi-Fi at her house and I was
like well grab yourself a pineapple and
one of our new you know 800 milliwatt
Busters with a 99 antenna get yourself a
nice little 4 watt system going on since
we have the wpa2 management interface by
default really just comes down to hey
I'm going to use my Wi-Fi pineapple is
an access point in the traditional sense
not the sense where you plug it directly
into your laptop and use say the wp5
script on Linux or you go through the
windows internet connection sharing set
up on Windows if you don't want to
connect it to a machine you just want to
plug it into an Ethernet port and say
hey this is a switch that's connected to
a router get an IP address from here and
start routing packets just like you
would any other access point we can now
do that so we can give this to Sarah and
say hey switch from classic mode into
what is it called we call climb modes
like wired clean voice or sly your
client mode which I again pulled up on
my screen and you'll be able to see that
you can now so classic mode is the what
we had before where you can
you know the pineapple has a static IP
of 172.16.0.0 ver the Gateway dot 42 so
you would use like the WP 5 script to to
share it into it we also added something
called client mode which allows you to
either use DHCP or as a static IP
address on your pineapple that means you
can directly connect it to your router
or to Technium modem if it gives you an
IP and you know yeah so this is this
sets up all the intern sharing for you
and doesn't you can also change your LAN
settings if you don't want to use one
seven to sixteen 42.1 you can use
whatever you would like except for one
two seven zero zero one that one's
reserved
don't use that one you're going to break
stuff you already have it in fact it'll
blow yeah so um so okay uh just in case
you know for fingerprinting or things
like that changer sure max change RA
change your Mac change your IP can also
change your hostname now which is gonna
be there you go before
what is the hostname by default it's
just plain it's just mine Apple so again
you know so you can make little things
just you know Bob's pineapple there you
go Bob there's also a global infusion
log so this is something more esoteric
for like infusion developers but there's
a whole logging and reporting
infrastructure and development this is
going to be awesome for people that want
to take advantage of that so you'll be
able to see like hey what's going on
yeah exactly so it looks like this you
can you can from a drop down low
different logs that you want to log or
they want to load and you know hit load
lock there's a steal logs and this temp
logs again it depends on the infusion
developer how they want to implement it
but if they if they want to have
persistent logs they put them on the SD
if they don't so on so it's basically
just a way that everyone can log with
the unified system everyone can view it
easily right and that's all in the API
so check out a wiki for the API
documentation and also a bunch more API
stuff in there so check that out over at
the wicked oh yeah I think I think the
new API functions will all be launched
with a new wiki we we are going to be
gone right right MD wiki is amazing I
live it and I've switched over to
markdown markdown where you've been all
my life yeah so so I think that's that's
a good thing and then we'll be doing
that later this week good deal other
miscellaneous fixes we
you have you know just CSS and
JavaScript files that used to be cached
if you've ever upgraded your pineapple
and then you refresh the web interface
and all you see is the little green bar
at the top nothing else
well that's because you need to do a
control f5 but now you don't have to
yeah something a lot of people got stuck
on they didn't realize that they had to
clear that cache possibly by update the
former we it doesn't happen all the time
but if we do big changes then yeah
yep aircrack-ng has also been updated to
the version 1.2 rc1 yeah we reached yeah
and we'll be actually following along
with their released online now so the
next time they release our z2 which is
soon ouch i think area soon which will
include something less things like error
Ehrmann zc which is absolutely great
we're gonna be switching over to that
too soon probably I wanted airmon-ng so
it's going to turn so Ehrmann zc is
actually gonna be taking over and going
to be the default from airmon-ng the
next release so we're going to be
following with that which means for
compatibility reasons we'll still ship
airmon-ng because it infusions but we
will be moving over to ones you see just
because it's so much cleaner being able
to you know pulpit interface just one
munch interface per physical interface
or per interface they plot get your
promiscuous on with that we're also
fixing a little tiny fix but it's cool
fix about engines and the temp logs and
yeah anyway the version we had or temp
logs filling up your pineapple which is
something that you would notice after
like weeks but you know well it depends
so I when I was developing or messing
with it I had a deployed for just a
night and I had an error and say an
infusion is causing an error or causing
a script to not load properly that
Templar fills up quickly because you've
got the three-second refresh and so on
so yeah I'm glad we figured this out and
we found it it's a silly thing to miss
but it's also the fact that just turning
your or sending your logs to off does
not work okay and that pretty much sums
it up for two point one point X we have
a lot of awesome features on the board
of course your feedback really is a huge
huge driver in the way that we go if you
want to scratch an itch it's not already
done I implore you all to check out the
documentation on the wiki
for the infusion development and the API
it's easier than ever to build yourself
it's almost like Bob the Builder could
make one it's that easy speaking about
some confusion now that's what I'm going
for
also we've got a lot on our plate coming
up in the next releases so stay tuned
for more stuff about the MIT and proxy
kind of stuff yeah we've got that then
more pine ap features in regards the D
authentication and yeah built in D
authentication is going to be huge more
pine AP modules as we build out this
suite for things passive things a lot of
intelligence gathering and that's going
to tie into the reporting that we
alluded to where we're going to be able
to like you know make those logs a
little pretty or something you can show
your boss yeah exactly I think we've got
some no look let's yeah whether we've
got it oh we got it but it's all looking
really good and it's because of you guys
so thank you so much for supporting us
and allowing us to build awesome Wi-Fi
pineapple goodies for you guys and to
build a community and an ecosystem where
you can develop freely and make cool
stuff and I it just warms my heart to
see that we're up to like 35 infusions
now and CLI stuff and it just it gets
better and better every day
everybody does so if you haven't already
check out wicked Wi-Fi pineapple comm
forums hak5 org you'll find the Wi-Fi
pineapples section that's where you can
get involved in the community you can
leave comments right here let us know
what you like what you'd like to see
more of if you've got suggestions for
the firmware go to our bug tracker on
Wi-Fi power or suggestion slash bug
tracker on watch pineapple comm because
that's where we kind of gather all that
yeah that's huge that is makes it
coordinate so if we get YouTube comments
and form comments on IRC comments it's a
bit all over the kit alone squirrel
wheel and then yeah yeah scroll wheel I
don't know how they know there's a wheel
that little squirrels go on for your pet
squirrels yeah you guys do that in
Germany yeah always grower entire
country you know renewable and renewable
it some rules are renewable yeah there
you go so you learn something every day
until next time I'm Taryn kitchen and
I'm Sebastian Cara and he's like he's
gonna get on the scroll wheel</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>