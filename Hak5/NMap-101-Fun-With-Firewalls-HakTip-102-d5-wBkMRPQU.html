<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>NMap 101: Fun With Firewalls! HakTip 102 | Coder Coacher - Coaching Coders</title><meta content="NMap 101: Fun With Firewalls! HakTip 102 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>NMap 101: Fun With Firewalls! HakTip 102</b></h2><h5 class="post__date">2014-06-13</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/d5-wBkMRPQU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this hack tip is brought to you by hack
5 and viewers like you
support us directly at hack shop calm
welcome to hack tip the show where we
break down concepts tools and techniques
for hackers gurus and IT ninjas I'm
Shannon Morse and today we are going to
go over evading firewalls in nmap yay
it's going to be fun
with firewalls so firewalls are put in
place because of tools like end map and
map has the power to give you a mapping
of a network system you can see
everything from the operating system
versions to all the open ports which can
be really really fun firewalls and
intrusion detection systems are made to
prevent nmap and other programs like it
from getting that kind of information to
evade these firewalls though we have
several different options so let's go
ahead and start taking a look at them so
first off go ahead and type in this
command it's going to be a sudo you do
have to be root for this command and
then nmap tech F and your target and
press Enter put in your password and
it'll run the output also you can type
in n map send e th e th which we have
done in the past and this does pretty
much the same thing so this command is
going to send smaller 8 byte probes
instead of a whole packet there is also
this other command that looks something
like this this is also a sudo command n
map tactic MTU + 8 and then your target
and then you run it and it gives you an
output so MTU stands for maximum
transmission unit which although it is
similar to TAC F it gives you a similar
output it will allow you to specify the
transmission you can use any multiples
of eight so you can change your bytes to
eight bytes 16 bytes 32 bytes 64 bytes
as long as it as it's a multiple of
eight so I just scanned the target with
the tactic MTU option in the eight byte
packets so this means it's sending a lot
of very very small packets instead of a
whole bunch of bit packets and hopefully
it can
any kind of intrusion detection systems
while it's doing it now you may need to
also add send ETH to this command as
well to make it work if you're on a
different version of Linux now another
command I wanted to share is also pretty
similar you start with n map type in TAC
capital D capital R nd : 10 1070 3.31
dot 1 4 5 oh and this one is pseudo as
well so we're going to add pseudo to the
front of it hit enter and then it gives
you your output so this is called the
decoy option that's why you have the
capital D that lets you scan using
multiple decoy IP addresses so n map is
going to send several packets from
several destinations with this command
to the target it's going to look like
it's being scanned from several
different machines all at once which is
basically normal and the one that's
actually doing the attack will be harder
to find it's pretty cool right you can
also specify exact ich heiße being used
with this other command which is also
pretty similar
this one is n map TAC D and then you use
your two decoys so I would do decoyed
number one which could be 1 IP address
and then a comma decoyed number 2 a
different IP address our nd 10 and then
my actual target so very very similar
now you may also want to try this thing
called an idle zombie scan this is going
to exploit an idle system by using it to
scan your target
I love zombies it'll only work if the
zombie is actually in an idle State when
you run it so this command is going to
look like you start with n map type in
lowercase I or low case s capital I and
then whoever you want your zombie to be
and then your actual target
so one four five is my target in five
five is my zombie now I hit enter and
let's add pseudo to that command there
we go okay so if I scroll up you're
going to see a whole bunch of packets
going through look at all the periodic
packets
tons scroll all the way up and we have
plenty of packets so it's basically
turning that one machine into a zombie
while the other one is actually being
targeted other than specifying the byte
size we can also specifies the source
port number with another command this
one is n map tack tack source tack port
then your port 54 and 10 dot 73 31 1 4 5
my normal target so n map is usually
going to pick up random ports to send
out a probe on but this is going to
force it to use a specific port so it's
specific port number 54 now tech G will
also let you change your report as well
so you have a different source port now
that's about it for these first few
we're going to take a quick break but
we'll be right back after a word from
our sponsor the hex shop is hack 5s
premier store for all your pen testing
needs including one of my favorites the
USB rubber ducky which looks like a
flash drive and it types like a keyboard
it types scripts into a computer
ridiculously quickly like this week's
favorite which is actually the USB
rubber ducky toolkit made by James Hall
you can find this over in the forums at
hack 5 forums in the USB rubber ducky
section so basically this tool kit lets
you go to a website and choose whatever
you want this USB rubber ducky script to
implement so I could say I wanted to
find all the information about the
computer version click generate and it's
going to make you a brand new script so
you didn't even have to write it
yourself and then you can download the
bin or
text file or both of them if you want
just install it on your USB rubber ducky
and there you go you're ready to go with
your new ducky script mmm fun now we
couldn't do the show without your
support so we would like to thank you
with something special use the coupon
code snubz with any order for your very
own signed hacked tip stickers kind of
like this one thank you so much for
supporting the show and we're back with
evading firewalls now let's try this new
one another command of course this one
starts with nmap as usual we're going to
tack tech data tack length if I spell
that right type in a number 25 and then
your target gives you a similar output
as usual but this one is going to add in
something different
this adds random data to probe packets
because sometimes targets look for a
specific size of a packet to actually
accept it so they'll look at it say is
it a certain size note then they will
tell you to go away so the size is in
bytes and it can be pretty much any size
that you want it to be so you may want
to do a certain size depending on the
certain target that you're trying to get
into you can also randomize your target
scan by using a different script
different command this one starts with n
map again type in randomize tak hosts
ten dot 73 31 now I'm going to do a
range 100 through 175 and then hit enter
so this is going to take a little bit
longer this is used to randomize your
target scan order and if you want to
spoof a MAC address of an Ethernet
device you can also use a little bit
different of a command so this one
already ran we see that it did randomize
my target so we have one 18 16 145 is up
here so it's not in its usual order
that's pretty cool
the last one is n map start with n map
again and then type in s capital T tack
capital P capital N and then tack tack
spoof
tak Mac or - 0 that 0 comes in handy and
then your target press ENTER and it runs
like usual so it looks a little bit
weird basically what this means is the
zero at the end of this is going to tell
nmap to generate a random MAC address
whenever it's scanning and lastly we
have sending bad checksums yay fun so
with this one you type an end map and
then - - bad some to your target press
Enter and it runs so this bad some
checksum scanning technique is going to
send packets with the incorrect check
sums sometimes tcp/ip uses check sums to
make sure that you are who you say you
are so you won't receive anything back
though in this case it just looks like
the normal thing meaning that the system
is probably substantially configured
correctly now that's about it for
evading firewalls I would like to know
what you want to see on my end map
tutorials so send me an email or you can
comment below
email us over at tips at hack 5 org and
be sure to check out our sister show
hack 5 for more great stuff just like
this I'll be there reminding you to
trust your techno list but I don't doubt
for what proof refer per firm fanfare
for what</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>