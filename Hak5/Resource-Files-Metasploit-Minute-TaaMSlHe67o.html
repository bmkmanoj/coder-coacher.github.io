<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Resource Files - Metasploit Minute | Coder Coacher - Coaching Coders</title><meta content="Resource Files - Metasploit Minute - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Resource Files - Metasploit Minute</b></h2><h5 class="post__date">2014-03-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TaaMSlHe67o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">resource files this time on Metasploit
minute this Metasploit minute is brought
to you by hack 5 and viewers like you
support us directly at h a case on calm
welcome to Metasploit minute the
breakdown on breaking in I'm your host
Rob Kohler but you can call me moving
today we're going to be going over
resource files and MSF console now we
already went over make RC in the
previous segment and that made a
resource file of all the commands
they've read type since we started MSF
console so let me show you a couple
different cool things that you can do
with resource files first off is MSF
consult RC now we've talked a bit about
the dot MSF for directory let me show
you about that real quick we're gonna go
into the MSF for directory and list
there is no right now there's no MSF
console dot RC in there but if we make
an MSF councils our RC like just nano I
know by MSF console dot RC and we say
show options and it's the only thing we
want to do in it we exit out and I'm
gonna remove this config file just so
that it doesn't do extra stuff for this
demo we exit out of our we have a
session thanks to here we start MSF
console backup what its gonna do is
automatically see that MSF console dot
RC is there and automatically load that
command so we see that's what exactly it
did so that's cool we can use the MSF
console dot RC to do that but we could
also do it from the command line
so like I said before I'm a chef console
and all the other commands inside of
Metasploit have the dash H so one of
those options as you can see right here
is the resource file so let's do it
- R and then we want to do exploit
example I think it's still there yep
exploit example dot RB I mean you
make it our CEO or whatever you want
soon as we run that we can see that it
took our exploit example did show
options set the user set the password
and then showed options and then finally
it went back to make our see save
background and all the stuff that was in
that file so if we had edited to make
make that a little bit more useful that
would have been what it ran now there
are a bunch of resource scripts that are
already inside of Metasploit that you
can take a look at for examples so if
you look in scripts resource so in your
Metasploit directory scripts resource
you can see that all of these are
already here now I'm going to just show
you one real quick run all post so if we
scroll up a little bit it's run all post
here's some examples of what it's
supposed to look like and then we get to
this Ruby tag this Ruby tag basically
says that okay I'm going to run all
these commands but hey there's a HTML
like Ruby tag I'm gonna stop just
running commands Metasploit console I'm
gonna stop running commands and I'm
gonna switch into my Ruby mode and
basically what it says is I can now run
like do loops each loops if statements
all this stuff so what this is doing is
doing run single which says run this
single command just like you could do
outside of msf console set the session
sets the session that the post module is
targeting to whatever session it is so
the framework dot sessions odd each says
every session I have put it into an
array then it's gonna say alright for
every every item of that array I'm going
to run these commands so it's gonna say
set the session to session one two three
four five six seven eight nine or
however many sessions we have it's gonna
say I'm gonna print the module that I'm
running and the session is gonna and
then it's going to run single run and
then sleep and then end the loop so in
this resource script if we are
so our sessions that we have any session
- no we don't have any sessions so if I
was to run a resource and let me look at
show you this real quick inside of our
inside of our question mark thing we
have the resource command it's a
resource and then run all post so it's
processes the resource file and it's
done because we're not actually in a
post module so that's the cool thing
then and that's the expansion that you
can get into resource files because not
just as it gonna run commands but now I
can I can access the database and
actually let me show you that real quick
cuz that's another one that actually
love it's the mssql brute so the mssql
brute one was written by carnal orator
Chris gates and what it does is checks
all of the all of the services in your
database for something that says MSS SQL
whatever report is on so this could be
on any import and it adds it to a array
of hosts and IPS or reports and IPS and
then runs this module the mssql brute
force module that by default can only
accept one port at a time and runs
through it on all of the database
systems so even if you're a even if your
target has ms SQL on 1433 which is
default and then on 1890 and then 1740
and then all these other ports which
since ms SQL 2005 and on does by default
by switching it up now you can run run
your brute force against that with just
this short resource script and be done
so that's it
I want to thank you for watching
Metasploit minute and hit me up at MSF
hack MSF at hack 5 org for more shows
like these go to Metasploit minute comm
and thank you for supporting the show if
you want to support us even more go to
hack shop comm hae shop com enter code
move X and you'll get some really cool
stickers like these with
- wait a minute and until next time
Rubik's and I'll be hacking til the cows
come home</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>