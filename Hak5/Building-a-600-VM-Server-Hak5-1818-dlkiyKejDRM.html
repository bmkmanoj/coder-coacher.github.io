<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Building a $600 VM Server - Hak5 1818 | Coder Coacher - Coaching Coders</title><meta content="Building a $600 VM Server - Hak5 1818 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Building a $600 VM Server - Hak5 1818</b></h2><h5 class="post__date">2015-06-16</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/dlkiyKejDRM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">building a server for $600 or building
virtualization server nodes with the
next unit of computing am more this time
on hack 5 this episode of hack 5 is
brought to you by domain.com hello could
hack 5 my name is darren kitchen I'm
Shannon Morse
thank you weekly dose of techno lost
welcome over we have a show-and-tell
show for you today yes we do we are we
are starting the first step I guess the
first step was really getting bandwidth
but now that we have like all of the
bandwidth the first step in building
this the operational hacking station
what an army yes we are we and we would
like to invite you to it but uh but
let's let's talk about servers you just
recently built a computer I did so I
built my new gaming PC on tech thing and
it was basically a fifteen hundred
dollar budgeted computer for 2015 so not
everything on the high end like that
brand new like geforce gtx titan or
whatever it's called but you know really
nice stuff that I can get through with
gaming mmm it was fun time so I figured
we're going to do something similar in
fact for that budget we should almost be
able to eke out three different servers
in our cluster I know almost almost
cheating just a bit it's kind of amazing
how commodity these things have become
and how inexpensive is how how easy it
is you may remember actually it was
season seven I think that we built a our
last server and now we're going to do it
again because a lot has changed since
season seven so Shannon I would like to
introduce you in fact this right here is
the first that's a Roku no yes exactly
it is a Roku no this this is the first
node in our cluster in fact we've been
using it on hak5 for a couple of weeks
now our friend oka server runs on this
our jitsi server runs on this a few of
the other test builds that I do have
been residing on this machine and it is
about to get wiped and turned into the
master of address virtualization cluster
so next week we're going to get into the
software setting up Zen server setting
up clusters but this right here yeah it
does it looks like a Roku it does so
this
called the Intel is it no Canuck its nuk
nuk it snuck so it's not like it's not
like this not like Barnes and Noble Nook
know that that's very confusing I've
already made that mistake once uh what
is it well Intel's calling it the next
unit of computing and essentially it's
it's a bare-bones PC it's awful and it's
it's basically you've got a motherboard
you got a CPU you've got a nice little
case and that's about it but that's
halfway there already I mean really all
you need to do to these guys are add
well add some RAM and they take laptop
memory and add a hard drive in this case
solid-state drive they take the m dot
two form factor of SSDs so I guess it's
cool cuz it's it's small and compact and
I guess it's easy to build yeah kind of
ridiculously is in fact why don't you go
ahead and bust one of these bad boys out
different nice got to it yeah here you
go oh good that's a knife I had to get a
reply tell you about the domain.com
stuff oh my gosh dude only not calm guys
we're down here partying with us as they
do didn't I do yes and um just gonna
dirty up the studio I won't get I won't
get into the bender too much but we had
so much fun and I lost my hat so
thankfully I was able to get a quickie
replacement for the people asking out
their box is so cute it's a bar mask
wash look at it it's adorable
yeah in fact it used to be that this
particular nook the first generations at
least when you would open it they
actually had like a sensor that would
make it go - no no no actually wouldn't
do that noise that's from Zelda it would
do the Intel so both of these are almost
identical I do want to label that one
however because that is the i7 model oh
and this is the i-5 model so let's not
get that too confused boxy oh it came
with a sticker here I'll just put the
sticker on it Oh perfect we'll do that
yeah otherwise you know for any good
network closet you
yourself a labeler here I'll put it on
the back there okay so the next step is
really to just crack this guy open so
there yes--that's this is a really cool
aspect of it notes come with visa mounts
so I just want to bounce it to the back
of the television so that's kind of cool
on this plug here you are thanks and
I'll go ahead and do the same and I know
what you're thinking like how is this
going to be a server yeah kind of well
every time I look at her server it's
it's huge and it's in this gigantic
server rack and there's like million of
them there's tons of hard drives so how
does this work well we're really going
for like lightweight on these server
builds inexpensive we're really trying
to get something like standardized
components we could in fact do the fun
thing that is building a $2,000 server I
think that's exactly what we did in
season seven and a lots changed since
then so we may in fact do that as well
so can I upgrade things in here like the
RAM the CPU this is it like what we're
doing right now is it you know in fact
we can obviously upgrade you know the
hard drive eventual or this all the
state in the RAM that's pretty much it
that's and that's why this feels like
I'm cheating because the last time we
got a bare-bones server case and then we
got ourselves a what is it
you know motherboard Ram we set up a
raid card and you know popped in all the
hard drives and set up like all of the
stuff for an ESXi server and now I feel
like we're cheating almost because
there's nothing to build here but to put
in can you do it yes st look at this SSD
by the way this is just ridiculous it
literally looks like a stick of RAM oh
yeah that's it that's that's the hard
drive it's not piece of candy yeah no
you can't eat it
Shannon um she mentioned these have
Wi-Fi built in which is kind of cool
okay why can't I get this roof off of it
oh just pull it right straight off there
you go
so here you go oh there it goes okay yep
and so the thing about these yeah move
that over there and you can see is the
plate just comes off and these are the
total versions that have a slot for a
regular sized two and a half inch solid
state drive okay and so there's the SATA
connector there for that otherwise
here's the MDOT two connector for the
hard drive the corner yes so all you
really do is take this wedge it in there
that's so we push it down and you're
done that's that's installing the hard
drive
totally liking it exact sigh exactly is
I really do feel like I'm cheating but
there's a huge advantage to using nooks
over these massive servers because we've
built those in the past and oh right
because it's not a lot it's cheap it's
it's light we can stack them up we can
provide like a whole room of air
conditioning for it oh dear they're no
they're very like not only are they very
cool but they're actually very low power
in fact our server our friend echo
server right here this is running like
for virtual machines right now and as
you can see we've got it connected to a
Watts up and we're using what something
like eight eight and a half watts that's
it
so it has a six watt idle 33 watt max
load an 18 watt average basically in
fact I would say the 18 want average
dwell our webserver in it you know what
Ethernet snot plugged in so it's not
like our webserver is getting any hits
right now but you know in yeah an
average load I've seen it around 18
watts which is kind of ridiculous when
you consider that normally a server we
pop in like a 500 watt hard power supply
and sure it may not be maxing at 500
watts but is it is much less in fact
this is the this is the power supply
it's just a little brick it's just like
a laptop power brick and how much does
this thing cost that's kind of the
beauty of this each of these servers is
let's see the first one I built this is
an i5 v gen with 16 gigs of ram and a
250 gig hard drive and that guy ran $600
Wow the one year building is another i-5
with 16 gigs of RAM and a 250 gig
another $600 you can actually do the
same build for $500 if you get a fourth
gen i5 instead of a fifth gen and then
the i7 will run you an extra hundred
bucks so anywhere between 500 and 700
dollars I will say however there are a
lot of limitations when you go this
route sure you get the ton less power
usage power requirements you get the you
know benefits of it being quiet and good
thermals and all of that but you're not
really going to be able to upgrade the
CPU and you're not going to be able to
upgrade the RAM pass the well right now
16 gigs is the most that I can get right
- 8 gigs - okay so that's the max that
you can do right now because that's
what's available right it only has two
slots and you're not going to find not
going to find us yeah our sorry 16 gig
dims so actually so dims so damn oh damn
yep dorky of us and then those guys just
pop in like any other laptop alright so
show me how to pop this in and I have
never used one oh is it over there in
the corner
pop this guy down here and you can see
those slots at the bottom yeah those are
the RAM slots and all you do is take one
of these guys and wedge it in sideways
like that yeah and you push it down oh
you could you can just hit these little
eject guys and they pop right up
Wow so they're really cool there you go
I'm gonna go ahead and do that alright
and then the solid-state goes in over
here yep
so I'll show you the solid state so
again just like the other just like Ram
it just wedges in so you pop that guy in
its little home and then you push that
down in this case there's an actual
screw we'll have to oh it doesn't have a
little snap guy okay that's not so bad
when the first one came in Patrick
Norton and I were geeking out and we
built it in maybe five minutes
just kind of ridiculous and then I just
felt weird you know like I remember my
first computer like hey I'm done yeah it
was so anticlimactic yeah I know but
what's so beautiful about this is
because they are so inexpensive and
because we're going to be using open
source virtualization servers means that
we'll just be able to continue adding to
our cluster which means that you know
four five six hundred seven hundred
dollars we can build another node in our
cluster and immediately so you can keep
building on top of it add more virtual
servers yeah we can continue to have
more and more computing resources just
as we like add more to the cluster can
you do a RAID with this no yeah that
would be that you want to raid you can't
use one of these if you want a raid well
actually uh in this particular scenario
since we're going to be using open
source virtualization server you could
use VMware you could use ESXi you can
use any of those we're gonna be using
Xen I think it's really ideal for Zen
Zen is and what I feel when I go to
Hawaii yes a fan should ask you about
that asked you have to the break but the
Zen is an open source hypervisor right
similar to KVM or openvz or some of the
other technologies that we've talked
about in the past and it's just super
simple move externa me on to it we'll
get more into it and why in the next
segment when we set up the software but
essentially it's a really robust
open-source virtualization system
that'll allow us to run many servers on
these virtual systems and then that will
allow us to actually you know host tons
of different things like gaming servers
and shells and whatever else that we
want to run on these you know all of our
stuff that we've been playing with so
far like like friend Iike have been
running on these and what's nice is it
allows for live migration so we could
have say the front echo server could be
running on this physical piece of
hardware and then over the network live
while everything is running if we needed
to load balance some resources we could
move it over to this one move it over to
that one say we needed to do some
service on this we're
upgrade the RAM in it we could move all
of the virtual machines from this one to
these two then power it down add more
RAM power back up move things around
again okay that's cool and as far as
like an ass yeah sorry not a NASA raid
we know we don't have the ability inside
this tiny box to put a raid
there's just the m2 SATA connector and a
regular SATA connector but there's no
RAID controller on the board so maybe
you can fake it in software but I
wouldn't rather since it does have
gigabit ethernet we could just hook it
up to an ass like this Synology yes like
this ginormous thing that's been sitting
in front of me I love those things for
the synergy for like a small you know
for a small office Network I think is
perfect and I think these are really
great just because of the scalability
because it's not a major investment to
get the first node going it's like five
six seven hundred bucks and you've got
your first node you fill it up and as
soon as you filled it up okay we'll just
add another node to the cluster right
it's a lot less than that major
investment of getting yourself you know
building we're buying a giant pizza box
a giant 3u rackmount guy with all of the
hard drives in the raid and all of that
and so it's a little bit of a trade-off
but I think some of the benefits
especially the power are pretty huge
okay so I got my solid-state in my hard
drive in everybody's my Sol estate my
ramen I did that's that's a computer
it's like done and done I'm I'm done
over here okay so so that's that's it
there's there's some different server
systems that you can use why did you
choose Xen over everything else well to
be honest I really wanted to I I in my
heart deep in my heart Shannon I love
KVM and openvz
these are two open source virtualization
technologies that really stand out and I
can't find a good front end and I know
I'm gonna get tons of comments and
emails about this I can't find the front
end that I am truly in love with yeah
yet I can so when that when that changes
you know if somebody you know if that is
that
you know not committed to Zen but I do
like it so far mix you know it was
highly recommended by mo bik's it was
just so easy to get going so quickly
with it that for the ease-of-use side I
kind of loved it there are some
downfalls with Zen like it doesn't have
a really good management interface it
doesn't have one over the web and it
doesn't have a nice one for Linux okay
like there's kind of some hacks to make
that so we'll have to go into those
there's some open source alternatives
but nothing like as full-featured so
it's a little bit Windows centric which
you know definitely takes some points
away in my book yeah but then again I
figure that this is really like this is
perfect for that small office right yeah
that small to medium-sized business that
needs to get some server resources going
and doesn't need to spend a lot of money
and may already be a Windows shop and
this is something that you could you
know sell your boss on because you only
need like 500 bucks and then boom you
can show them the virtues of
virtualization servers with open source
software and maybe that could be the
first step into a direction that's freed
from the tyranny of Microsoft or things
and I stretched up the top sorry oh
don't worry about it these are all going
to get stacked up in fact where did it
go this little piece yeah I should as
you've probably mentioned this this is a
failed 3d print Patrick Norton and I
have been fighting with the Robo 3d
everything was working great so we
started tinkering and taking things
apart Patrick moved it says yeah
definitely female don't throw him under
the bus we're gonna get it fixed but
essentially when it's all said and done
we'll be able to 3d print these this is
just like a few layers of it that's it
like this and then the next server and
then print another and then the next
address okay soon Chase is like is that
not the coolest thing and then you can
just you could even pop this in a
pelican case and take it anywhere you
know we're gonna be doing we're gonna be
using these four pen test with hack 5
the training that Sebastian and mu bik's
and I are doing here in the hack 5
warehouse and if we want to take it on
the road and do it in Virginia or
something we could just you know take a
Pelican case full of all of our labs and
stuff over to anywhere
yeah it's great I should been to No
major caveat if you haven't already seen
I'll fling this guy around there's
there's something missing back here oh
yeah so you do get usb3 you do get it
nice little hdmi displayport so you
could run two monitors off this you only
get a single a thern ette know it is
gigabit but there's only one there's
Ethernet USB things yeah thank you
that's actually would have been using
yeah on the servers thanks right because
I need it to be on two different LANs
here and this is then that was just like
the easiest way to go about it so you
know there's gonna be caveats when it
comes to price points right especially
that low but you know what what's so
beautiful about this and I think this is
really the point that I should have
started with is that when it comes down
to
you're like dollars per machine in your
virtualization right
I think the Nook really wins now it has
all of those pitfalls we've talked about
but when it comes to like being able to
quickly deploy something and like add on
to it as you get another 500 bucks more
servers another 500 bucks more servers
right we can if we divide this up since
it's got you know an i7 16 gigs of ram
and a 250 gig SSD that gives us
something like what we could have 16
virtual machines well we could have 16
virtual machines with a gig of ram each
that would have whatever 256 gigabytes
divided by 16 is 32 gigs of ram 32 gigs
of storage and a gig so we could run 16
AMS off this and here's the thing well
we can't run more RAM on it right now it
may in fact be that we're more CPU
limited right because by the time we're
running 16 VMs on this anyway we've kind
of capped out the CPU yeah and what's
beautiful about that is we can say like
great we have a good utilization of this
box now when we want to add more we just
get another box yeah and if we need to
load balanced we can live migrate them
around okay I'm down yeah now I know
you've used this for a while so would
you say that the performance is good I
mean the performance is as good as any
other i7 it has been my experience I
don't think it's ever going to compete
with you
an actual like you know Zeon based
dual-processor you know for you behemoth
but as far as like the price per VM okay
I think it does pretty fair I'd love to
hear what you guys think so hit us up
feedback at hak5 org or just leave a
comment below and let us know what do
you guys think about running the servers
especially for like you know a small
business and home servers I think it's
perfect and the price is great so let me
know what you guys think or if you think
that I'm cheating do you think I'm
cheating but just using nooks you let me
know I could I can handle it it's okay
you know people call me out for wearing
hats and doors I can I can I can deal
with that too with that we're gonna take
a quick break but when we get back more
fun stuff oh and a gift from a fan
ooh be Rebecca if you watch act 5 for a
while you know that we love domain.com
and I can't begin to tell you what a fun
place to do business they are and how
awesome the crew is they were actually
just here in hack 5 warehouse and we
were all conspiring all of these epic
new projects for the summer we've got so
many fantastic things happening I
believe we're gonna be doing a few open
houses with drone racing so stay tuned
to that and you know it all ties in with
this epic idea we're domain.com told me
about the new TLD that is dot Club it is
so great because so many cool things can
be built on it and I have to say just so
many ridiculous ideas for cool stuff you
could do it it's the perfect tale date
right because it's universally
understood its global you know not just
here in the United States and if you're
building a new business or naming your
startup it's kind of perfect I mean
really the internet is all about being
social and any business could be social
and community based in a club is just
that it's all about collaboration so
it's kind of perfect for especially what
we're doing so get ready for a lot of
hak5 and dot club this summer and in the
meantime when you're thinking about
building your next website think about
that dot Club you can get one over at
domain.com slash club so register your
dot Club they're starting over at nine
and there are thousands of amazing
opportunities still available so grab
yours and you know what makes sure when
you're at domain.com use the coupon code
hak5 that's going to save you 15% and
left the domain.com guys know that we
sent you and you know what if you're
registering yourself accom go ahead or
even a dot Club in fact go ahead and
tweet me at hack five Darren and let us
know and you know we'll send you guys
some mad props and some some love your
website way 5:48 Market Street yada yada
yada the link is over a hack five org is
where you can send us mail and Shannon
you got a letter
we got a tip from I love this I love it
one week whatever it's to both of us
it's still both of us here o seekers gay
we have stickers for the things
oh uh good skin to this guy this is from
James free stone and James says hi
Darrin Shannon mustn't forget Paul the
one who does all the hard work really
your wish is my command please find the
enclosed some stickers for the wall
uh-huh all the way from the you baby
where was i hack in me what's up
laughing people the good work as an
InfoSec professional it's good to see
threat wire bagel and it's well worth
page contribution thank you James for
supporting our patreon yes you guys
aren't aware threat wire is where three
times a week Shannon and Patrick Norton
myself are digesting the InfoSec news
and bringing you security privacy can I
just mention like how much news has
happened in the past like three days
it's crazy yeah we I mean we we're
trying to keep this show to like five
minutes so that's really quick and
really easy and really like fast for
your brain to eat because there was so
many things so I put links in the show
notes for the Wednesday episode of
threat wired you can find that at
youtube.com slash hack 5 yeah in fact
there's a lot of people on the on the
put it there they there's a Google+
group yeah
so a lot of people involved there's
always way more than we can even cover
but yeah patreon for that is patreon.com
slash threat wire it's a totally
different world now from when we started
hack 5
ten years ago and I'm so happy to be
doing that so thank thank you James for
stickers yeah let's uh we'll get some of
those on the wall for next week if you'd
like to send stickers you can find the
address on hak5 org you'll also find all
of the other shows like threat wire I'd
mentioned and Shannon's tech thing if
you want to see that game server or game
server game client build calm glint game
clients from now on yeah our gaming rig
yeah you can find everything over at
hak5 org slash follow as well as
feedback at hak5 org that's where you
can always email us your questions
comments and whatnot also I would like
to mention hack shop which is where you
can get all the cool goodies that we've
been you know selling and our little
merchandise stores so definitely check
that out and I think we should mention
some community fun times that we're
gonna be involved
oh yes that's right we're we're opening
up the roll-up door yeah we're gonna be
barbecue out some open I guess open
warehouse events open house inviting
people over open houses open warehouse
open half house open hack house and hack
house yes old school with open source
and open goodness so if you have
Yingling and you want to come over you
can come over even if you don't have
youngling but we will drink your beer
welcome to combine yes yeah so we'll
have some open houses open to all ages
to like I don't know hang out yeah we're
gonna be building a bunch of stuff we've
got some other projects that are in the
works that we would love to show you we
have a we have a gun range with open
source software that calculates sha well
it's gonna make it for a great segment
but it's not done yet but we would love
to show you and I don't know bring your
twenty two air rifles that it's no
firearms and the we're out anyway we've
got lots of things going with that labs
are so near and dear to my heart oh my
gosh we we did a little bit of lab stuff
back in like season two or three but
nothing like this we finally have the
resources we've we're building a cluster
I can't wait to see this thing like a
cluster well your honor wow we are
really off the rails this episode I need
to get serious for a moment Shannon okay
I'm ready
and turn to my be cam okay okay it's
gonna be like which I would cordially
like to invite you so the hack five labs
a place where you can experiment and
have fun with shells and virtual servers
a place where you can roam free in
cyberspace maybe you've got ideas for
tor nodes maybe you've got ideas for
open source social networks or other fun
minecraft d things well if that's the
case if you like to tinker then labs a
hacker org we're getting it all set up
is that a mustache no okay I feel I feel
the love Shannon just email lab to hack
five dead org we've got some people from
IRC that have already signed up to host
for instance the minecraft the minecraft
server and it would be amazing if you
guys would also like to do other cool
things since we have resources that we
are bringing online if you want a
virtual machine to just play around with
here it would be a lot of fun we're
going to be setting up the wiki we're
going to be finding ways where we can
just build cool stuff together because I
know not everyone can make it out to to
Point Richmond outside San Francisco
California for the open house meetups
so if I'm excited okay be here virtually
all right I can't wait to play some
minecraft because I never had before in
this sounds fun it goes along with all
the live-streaming rigs being rebuilt
right now as well as IRC and all the
other good stuff so labs a hack five
dead org if you have ideas for servers
you would like to run here next week
we're gonna build a server yes the
software side nice we're gonna get into
XenServer and setting up your very first
cluster setting it up with an ass so you
can build machines and all sorts of good
stuff so stay tuned youtube.com slash
hack 5 hack 5 org subscribe if you
haven't already thank you thank you
thank you for all of your support over
here's if you're gonna be a Def Con we
will see you there celebrating we'll be
the ones with will birthday hats
birthday present
for ten-year-olds or ism mm-hmm I'm
gonna keep that going Wow with all of
that I'm Jerry Mitchell
I'm Shannon Morse trista trust your
techni left Tris trust your Tecna left
can we change your Esther 10 years oh
that's our thing
your stolen da peace trade</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>