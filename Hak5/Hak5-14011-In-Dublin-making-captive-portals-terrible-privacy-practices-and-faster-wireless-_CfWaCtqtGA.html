<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hak5 1401.1, In Dublin making captive portals, terrible privacy practices, and faster wireless | Coder Coacher - Coaching Coders</title><meta content="Hak5 1401.1, In Dublin making captive portals, terrible privacy practices, and faster wireless - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hak5 1401.1, In Dublin making captive portals, terrible privacy practices, and faster wireless</b></h2><h5 class="post__date">2013-02-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_CfWaCtqtGA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this time on the show testing a new
wireless 802 11 AC router captive
portals on a Wi-Fi pineapple and what to
do when your school has really terrible
privacy practices all that and more this
time on hak5 this segment is brought to
you by untangle hello welcome back five
my name is darren kitchen and this is
your weekly dose of technol us and this
week i am coming to you guys from toggi
no that's not me being silly that's
togda ie it is the hackerspace in
ireland in dublin that's where i am now
hacking across europe if you guys would
be following hack across Europe com
there's a little meetup going on here
during a little bit of lock-picking and
whatnot so please excuse me of the
background noise or there may be cursing
and whatnot but there are H don't worry
about it um one of the things that we're
talking about this week is captive
portals and this is kind of something
that is you know a little they are dear
to my heart because you guys know how I
feel about your lay wit fees that's my
French to the one app and in fact this
is something that i was recently playing
with to great extent in Geneva last week
as soon as I got into the hotel room I
don't have any self service whatsoever I
haven't done a sim card and I'm just
trying to find so many sort of internet
access thankfully of course before i got
on any flight or anything although it's
later in the series i'm talking about
the full description of the other kind
of stuff for crossing borders but one
thing in particular is setting myself up
with some VPN we're going to be doing a
little peepee teepee and a stuff here
sir um but the nice thing about VPNs as
well as any sort of other tunnel like an
SSH tunnel or get fancy tunneling nike /
/ dns is that it in many circumstances
allows you to bypass a captive portal so
what's a captive portal that's had this
page that you get whenever you log onto
an open Wi-Fi where when some sort of
authentication and wants you to accept
a acceptable use policy I wants you to
login as the money in fact we just found
one on the way to this hacker space over
at the Radisson and its really
interesting the way that this works I've
run into this at other hotels before
specifically the mandalay bay in las
vegas the way that it works is it asks
you for your surname and your room
number you can already imagine right now
the next thing you're going to want to
do is is it send a brute forcer an
online reports or after it because
literally you can just type in a room
number and smith or in the case of
ireland you might want to type in murphy
and then just keep incrementing really
number and i tried that here and i love
the this particular one because not only
does it just say you know now you got
the name wrong so just keep trying
different names or doing room numbers it
will actually tell you there's no
occupancy so that's all sorts of other
fun that's kind of beyond the scope of
captain portals but this is an example
of one i ran into these in Geneva and it
was really nice that I was able to
bypass them and actually get internet
access without having to pay for it just
by using the VPN that a set up before
leaving the house right on my phone pptp
and exactly that's not always going to
be the case more often than not you're
going to have to use something like the
tunnel not bees or DNS cappy to bypass
these sorts of things but regardless
captive portals can be really fun and I
thought I'd show you guys an example of
how you can set one up on open wrt i'm
using a Wi-Fi pineapple right here again
and so let's go ahead and get started so
let's begin by ssh a covert or pineapple
rule at one so to 1642 one
so ready pick up three hours yeah but my
mom is also so we're gonna be setting up
no dog on which is like no I'm gonna do
dog instead okay it's a captive portal
software there's two different variants
so that there's no dog off which is both
teams a gateway and an odd server it's
made 40 wrt so great for embedded
hardware at open source and it allows
you to do is fancy little Aspen portal
where you can either have a policy or a
password or whatever kind of gateway you
wanna set up is only just want to have
like a splash screen before you get to
the real internet so i'm actually using
a variant called up no dog splash that's
literally just gonna loan you a splash
screen in all in one it's got Cody
services tied together sure yeah it's
gonna make it really easy for me to do
some of any sort of for restrictions
with iptables and watch this is really
nice band with a stroller so even if
you're not interested in setting up hug
you know kinda portal for any policy
reasons it is kind of nice and that it
does a man with restrictions by users
and you can even use this on your own
home router set up a separate letters
make a separate meses i doing that's
open as opposed to your clothes network
and i'm using the rules and a file
you could keep people inside of a
subject that wouldn't be able to cut
your own network so i've already gone
ahead and installed the new dog splash
application on this opens of your do
rather however if you get that far it is
really simple okay do tell PK any
updates once your got your package
is updated you'll want to install though
it's called know your dog splash as well
as iptables tagme tak by mq and came on
ipt to IM cuber and pay mod sched so
once you have all of those you should be
all set to go and it's just a regular
service so you'll find it in slush at
you funny
murmurs well said LS that you see there
I have my new dog splash running boy go
certain i register upwards to
certification and I can now go ahead and
start configuring this so in / XE / no
dogs splat they're going to bind up the
htdocs folder with a net where all of
the web files are going to live for this
as well as the new dog splash college so
let's take a quick look at that so why
no dogs watching home and right out of
the box it gets most of the
configuration gonna automatically it
really isn't a whole lot of tweaking you
need to do if there's nothing super
fancy that you're trying to achieve
first off the gateway interface so in
this case VR Landers is the bridge blend
interface on MW r T that is the wired
network and the wireless network put
together we also have our five role wolf
a firewall rule set and here we can
actually allow different TCP and UDP
ports so by default it's already set up
for 80 and for coral reef or you're
standing over you know ww as well as 22
and recitation 15s we have simple you do
a bunch of different ways you can
restrict those birds and if we come down
here Oh each day we can actually see
where is it yeah so here we can actually
name it by default it's called new dog /
but this is really just a variable
that's going to come into play when we
customize our slices and we can give it
a gateway IP address it will figure this
phone out find a violation and our
redirect URL and so I have the redirect
URL going to last five done or you so
what that means is 12 a of a load o
users to access the internet through
this splashes grade they're going to get
forwarded over 20 URL so don't met it
make its lemon party make it something
good we can also specify how many plants
in this case the default is to not just
want a client
instead the time I mrs. so after ten
minutes it's gonna go ahead and activate
anybody Ron is on here and by default it
doesn't have in the wood we can also set
mac address blocking and allow it so we
can already pre within your different
devices to be on the allowed list based
on the mac address and make it
specifically block access and we can
also use a command line tool to do a lot
of business operation rather than just
editing at the profile I'm full
restarting a service over you get the
choice between and what password
authentication we can have just a single
password to sign as well as username and
passwords this is of course all stale is
stored in a plain text etsy compiled her
um but that option is there password at
times five so after fireworks not going
to let you through and then practice
you're not so traffic control it's
really cool because much specify age
download limit and I just case it's set
to 384 so that would be 34 kilobits
second they downloaded for client
interaction same as an upload limit we
can also specify IP ranges that they are
not allowed to touch is really nice you
don't want somebody getting on your your
public network that has less calories
portal and then accessing it helps your
home network so pretty much out of the
box this is all ready to go so i'll go
ahead and man yeah yes then right okay
get out of vibe and let's take a look at
energy s4 no dog dog then review pull a
 CTL furniture and we can see here's
where we're able to block my magazine as
you are no longer allowed MAC addresses
set MAC addresses as trusted you and you
so on and so forth it could add user
names and passwords way so you can
imagine in or say you have a caduceus
you could make a really silly valiant
system which people or what am I
language of choice maybe to add user
names and not to stare this it's just
very simple it easy to set up namely
what I'm interested right here goes is
these data item and you'll see that it
shows where the splash page is where
redirect URL s and the clients connected
and currently I don't have no lines
connected let's go ahead and modify our
splash page before we get our clients
connected so in HD docks we're going to
notice that there's an images folder as
well as our splash HTML or in those cali
HTML in Pascal is for when the CSS kind
of sucker but mainly everything's
happening in slash HTML so let's take a
look at that so I've already modified
this just a bit by default it tells you
just the name of your your gateway again
all of this coming from that
configuration file and I have it pulling
an image from the images directory for a
skull and crossbone and how they give
you a nice little warning that says
everything you do on the Internet can be
and most likely is monitored as well as
our our click group so in this case this
is where I would be putting an
acceptable use policy in this case it
just kind of want to like reiterate the
point that yes you're more than all of
this is watched and down here really all
we have to do to give people access as
they have to clinical into an off-target
so it do it just too simple aah revels
in HTML to dollar on target and then
make it whatever you you want no mine
sis says click here to the axis the
internet and if you dare so go ahead and
close that and let's go ahead and
actually take a look at how this seems
on my bum alright so what you can see
here now is I have my galaxy note set up
this is the phone that I've been rocking
on this trip as well as the Wi-Fi
pineapple running the no-dog splash and
what's beautiful about this is as soon
as I tap Wi-Fi goes ahead and starts my
radio and then down here we can see
connected automatically to the pineapple
and we get this pop-up up at the top and
it says sign in to Wi-Fi network so one
we've already automatically connected
huh so thank you samsung for that that
was wonderful because of course this is
a remembered network mind you I haven't
even turned on karma so this is just you
know because it's remembered but
otherwise I get this special sign into
Wi-Fi network and
know that it's in order for this to
happen the Wi-Fi pineapple does need to
be set up with internet access so I have
it provided internet access through my
laptop and so since the phone is able to
get a DNS connection through but nothing
else it knows that there must be a
captive portal and I get this on a Apple
device it automatically pops up a window
which is really brilliant because then
you can do all sorts of fun stuff with
that but at this point all I have to do
is tap this and it'll ask me which
browser do I want to use I pop open a
browser and I get my message so it
should be pretty obvious by now the
kinds of fun that you can have
especially with smartphones when they
automatically pop up these captive
portals Thank You Apple although i
should mention that i did run into a
couple of difficulty setting this up on
the Wi-Fi pineapple at first and so the
quick lesson learned here is if you have
a captive portal say no dog splash
running on port 80 you're probably going
to want to turn off micro httpd that's
also trying to run on port 80 yeah I
know I know I'm is still learning this
lesson anyway that was a lot of fun I
want to hear what you guys think and
what kind of a fun stuff that we can do
with captive portals in the pineapple
but you also may be thinking like hey I
want to run a captive portal of my own I
don't have a pineapple or just want to
get something running up quickly and I
have been on this trip using exclusively
untangle and they are also sponsoring
this episode and it kind of ties in
beautifully because they have a captive
portal so here's the part where I thank
our sponsor and say that if you are
thinking about updating that outdated
firewall you have that duty on that
gateway whatever it may be and you're
wondering how untangle steps stacks up
we've talked about them in the past on
the show we love these guys and I think
you might be surprised because really
out of the box it's one of the most
complete solutions that you can get you
know whether it be a hardware solution
directly from them or just putting their
software on your spare pc or even
virtualization I'm actually running a
bunch of virtual machines on my lenovo
here and using untangled
kind of do act as the Gateway for all of
those which is a really cool concept
I'll going to get into that here soon
and basically untangle gets the job done
for less cash so I encourage you guys to
try it free there's no commitment like I
said you can download it and just
running on a virtual machine or on your
spare hardware and if you and if you'd
like they have all of these awesome free
apps it's all open source like I said
there's a captive portal which I was
just playing with and it turns out
really easy to integrate it with an
existing radius server or an Active
Directory server which is really cool or
you can all roll your own local which is
neat and allow you to do just a very
simple like check the box here to accept
the policy kind of captive portal or
even one extensive with authentication
and anyway if you also you need a bunch
of advanced filtering they've got you
know web content filtering app content
filtering you've got a policy management
bandwidth control the premium package
may be of interest to you and they want
to hook our hak5 fans up with a 14-day
free trial of the premium package all
you have to do is go over to untangle
calm / hak5 and i also they want to hook
you guys up with twenty percent off the
list price if you do decide that that is
something that you'll enjoy and so i
encourage you all to go over to untangle
calm / hak5 check it out it's all really
cool open source stuff and we thank them
again for sponsoring hak5 so with all of
that I'm going to go ahead and throw
back to Shannon and pull in studio and I
will see you next week from Berlin
Cheers
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>