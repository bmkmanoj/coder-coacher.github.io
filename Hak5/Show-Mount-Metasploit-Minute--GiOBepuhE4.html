<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Show Mount - Metasploit Minute | Coder Coacher - Coaching Coders</title><meta content="Show Mount - Metasploit Minute - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Show Mount - Metasploit Minute</b></h2><h5 class="post__date">2016-05-23</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-GiOBepuhE4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">show mount this time on Metasploit
minute Metasploit minute is brought to
you by viewers like you
if you get value from this show and you
can spare even a dollar please consider
contributing at Metasploit minute comms
welcome to minute minute the breakdown
on breaking in I'm your host Rob fuller
but you can call me moe Bix today we're
gonna be talking a very about another
very simple command called show mount
show mount is something I've been asking
for and wanting for a very long time to
be built into an interpreter if you look
at 2010 way back on my blog and right
after railgun came out I wrote something
called list drives and I've been copying
and pasting this script forever because
what it does is tell me where these
drives exist if I'm on a matter
procession and I run list drives and
this is just a command that I have
because I copy and paste this into my
scripts folder every single time it
tells me if there's an a drive or a b
drive or CD e fpg whatever now this
might seem simple to you but if you're
on a pen test and you have 13 shells
you're not going to drop to a command
prompt and like list mount all this
other stuff to get the list of drives
that are available net share net view
all that stuff and how was that useful
well a lot of people put their important
stuff on shares these days or have in
the past so finding that is tough so
what I did was list drives but Wesa me
goo came along and actually made his own
module called a noon drive so show
options in here set session to three and
run that you can see that hopefully this
works at some point there we go there's
actually no drives for some reason so
this this module might be a little bit
broken but that's okay we have show
mount so sessions - I three show mount
Thank You o J for making this available
and we have two drives now the
interesting thing is if we go back and
do
use post windows gather a new term serve
now if you've ever done RDP or switched
over at RDP you know that you can
actually make it so that when you
connect to an RDP session you can share
out your drive your C Drive or D Drive
or whatever to that RDP session that way
you can copy files back and forth or
folders back and forth you can run
executables or installers very easily
well if I'm an attacker and I see this I
can then drop files on your file system
so let's see how this will work
so show options to new term serve set
our session to two because that's the
one that I already know is going to be
set having the terminal service or the
RDP session going and I can see that
systems connected to I'm already
connected to these two systems right now
it's connected as these user and let's
go
do I have any sessions on those boxes
sure now let's say that we didn't have a
connection to that that that s SD client
da win7 we can easily see this happening
by going into our meterpreter session on
the SD exchange box and typing LS oh
maybe not that where is that that is in
okay normally I have the stupid mistake
of running LS in system 32 which has a
ton of files which just fills up logs
and they're all the same files anyways
so what we're gonna do is we're gonna LS
whack-whack you can do this either way
for the forward slashes because that's
escapes character or two or back slashes
and then do TS client so TS client is
the Terminal Services client and we're
going to do C Drive and forward slash
now we are listing the directory listing
for the C Drive back on that Windows 7
box from the exchange box the easy way
to find this out
we do a PSS Rd P clip if we're in a
session on a box and we see our DP clip
or the clipboard for our DP running we
know that they're probably sharing out
their hard drives too so we can copy and
paste stuff over there very easily mmm
boo interpreter doesn't have a copy
command that's okay what we can do is
upload so we're gonna upload evil Bob
evil Bob - yeah Bob - and we're gonna
put it in TS client see let's just put
it in temp for now just to show you how
this works
oops that's his temp there I don't
remember
here we go tempus is there why didn't
work oh because when you had to give it
a name Bob - DX see it's uploading
that's crazy that's awesome now let's go
back over to our windows 7 box to see if
that happened here's our windows 7 box I
know it's small we go in go in
uber user into C into temp and there's
Bob - so show mount didn't show us that
mount because by default it doesn't
mount those as drives so we always have
to be prepared to look around a little
bit more than just the commands
available to us all right cool
if you like this show or or or want to
send us feedback email us at MSF at hack
5 org and stay tuned to menace wait a
minute for more shows like these huge
thanks to everyone who supports the show
we really appreciate it if you want to
support the show directly donate at
patreon.com sass Novak's every dollar
goes towards making this show just for
you and for that I am very grateful so
until next time on Luke's and I'll be
hacking - the cows come home</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>