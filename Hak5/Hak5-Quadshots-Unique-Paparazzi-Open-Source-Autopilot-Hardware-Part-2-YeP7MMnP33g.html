<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hak5 - Quadshot's Unique Paparazzi Open Source Autopilot Hardware - Part 2 | Coder Coacher - Coaching Coders</title><meta content="Hak5 - Quadshot's Unique Paparazzi Open Source Autopilot Hardware - Part 2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hak5 - Quadshot's Unique Paparazzi Open Source Autopilot Hardware - Part 2</b></h2><h5 class="post__date">2011-08-31</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/YeP7MMnP33g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this segment of hak5 is brought to you
by carbonite today we have the pleasure
of being joined by Peter estimate MP
Peter how are you good how are you it's
so great to have you guys down from the
quad shot project I know everybody that
saw the the video that we did at Def Con
was really excited about it so it's so
great that we could get you guys here in
studio to talk more about it and from
what I understand you were the brains
behind the brains of this that is the
computer yes how did you get started
with embedded computer systems and stuff
um so I lived for a long time in Germany
although I'm polish but and I was
working for a medical company there and
and they I was writing software for
those systems and as being a computer
scientists in essence and this was my
first encounter with embedded systems
then i started at some point also
designing my own boards and learning
more about electronics and at some point
i was doing the software and the
hardware nice nice so how did you meet
up with the rest of the crew that have
formed quad shot and so a while ago i
was started working at a company called
jovi energy and two we were building
high altitude wind power turbines this
are tethered kites with turbines on them
and autonomous systems and we were
working together at this company and
this is where we all met oh nice so do
you have like a flight background before
this uh well I my diploma thesis at
college already was was in quadrocopter
so I was designing an autonomous landing
system for those so that that's how it
started out doing avionics and well
doing flight systems and then I was
designing also motor controllers and
that was the main contact here and
that's why I came to this company
working on motor controller system me
weed so awesome to see just the whole
hacker community getting into fly
especially with open source projects
like like paparazzi Jane tell me a bit
about that project so paparazzi is a
project that got started by
Antoine do wrong and pascal burley see
it was started at anak it's a university
in toulouse in france and they were
these in 2003 they started building an
autopilot system for airplanes for a
competition and this is where the whole
paparazzi project started out and over
the years they added more functionality
going to new challenges winning also
quite a lot of them and adding
functionality like being able to fly
quadricopter sui able to fly helicopters
as such and designing new hardware new
generations of hard work now tell me
about the hardware side of that the
paparazzi is this is something that's
just going to run on a PC or there so
yes so this is not as simple as that you
need sensors you need a lot of i/o so a
computer wouldn't have in enough
connections to actuate all the motors a
layer on servos and so on so
theoretically you could run it on a pc
but this will be heavy and use a lot of
power so you normally design board that
has an embedded processor running on it
and you write your software for this
platform so it seems like you guys have
done just that can you tell me about
this board here the Lisa and so this is
lisa m it is our tiniest board it has a
stm32 microcontroller and 32-bit 72
megahertz quite powerful processor and
and it what kind of architecture is that
it's an ARM architecture okay so it is
so similar to what we have in our
smartphones really yes similar it is
designed specifically to be an embedded
processor yours is an application
processor but basically yes the
architecture is very similar me and so
tell me about the board like what
exactly is on here what's so making this
so cool oh yeah so we have quite a lot
here so starting out with the actual
brain of it this is the STM processor on
this side and
then we have the IMU this is this tiny
board that is soldered on top of it what
is an IMU so and IMU is a combination of
several sensors it's a linear
accelerometer these are three axis
accelerometer 3-axis gyroscope and in
our case we also added a magnetic
earring just like a compass and this is
all on this tiny post on size for it
this is the technology because of the
smartphones that you now have all of
them have that so the demand for really
tiny chips that can do that is quite big
so we were able to reuse the same
technology they're using our smartphones
to create that so that not even
smartphones but also like our
PlayStation 3 controller X in the zone
do we even Vic Vic a gyroscope on this
thing is the same one as used on a on a
wiimote so this is quite impressive
pretty sick and this has a lot of aya
what is this all used for so we have
here a servo connectors so that you can
connect up to seven servos it doesn't
have to be a server it can be also be an
ESC or a motor controller for brushless
motors right but these are analog out
yeah these are well it's not exactly
analog it's more of a combination of a
digital analog signal it is like digital
pulses yeah except vwm of course signal
with a specific definition and this is
used in all our see so you can just use
standard servos and standard cscs
because with the quad chat aside from
the unique airframe and your your
autopilot here and I'm not trying to you
know say it's not complicated or
anything but you you can use
off-the-shelf you know rotors and things
like that right yes definitely like the
because of the old IRC gear that you can
buy even from abroad that makes it quite
affordable and then you want to reuse
that hardware and not design everything
from scratch right so how does this
version of the board differ and so and
decide so main difference is it adds
more I oh so it has more
connectivity options then the other
board the board has also like you are
two interfaces and things like that but
this one has also a differential
pressure sensor okay so what is it Club
sorry about that what is the
differential pressure sensor and so
differential pressure sensors are useful
if you want to measure earth air speed
of an airplane using a pitot tube this
is a tube that has a port that points to
the prompt and one that is to decide and
the pastor you've you fly forward take
bigger the pressure difference between
the outer port and the front port so you
want to measure the difference so you
are able to measure this airspeed so
this is a very useful tool for flying
airplanes nice and what about how do you
go about programming these devices and
so this board because it we could put a
little bit more on it because it's
obviously bigger and has an integrated
jtech interface so you have a USB port
here on the side oh nice port so you
just directly plug it in and you have
two interfaces on the USB port one is
jtag to program the microcontroller that
is doing all the i/o and the other big
difference between visa m and visa l is
that this one can piggyback gumstix
overo that's it these guys were here
yeah these are the two connectors
there's a tiny board that plugs into
this this is actually the processor
running on the oberoi is actually the
one that you would have in a smartphone
this is a much more powerful processor
there's you can install the hard way oh
that's a good question it's fast
gigahertz oh really yeah well I think
the current ones are around 600
megahertz but there are newer coming out
okay faster than this so and also this
board has Wi-Fi also has bluetooth and
all the fancy things that you know from
a normal pc but and and then with the
ability to plug in a gun six years i
upload some of the processing exactly so
the front end process so you can
you only I Oh stuff on the on the
microcontroller and do the heavy
processing like video processing or use
a more complicated estimator of your
vehicle or do planning and so on and so
forth so options are basically limitless
and you run the software and it is
commanding the SDM the microcontroller
to do the i/o them nice well I would
love to hear all about how you actually
go about programming this and we're
going to find out here in just a bit
we're going to take quick break and
we'll get back I hear that there's an
XML language that makes it really easy
to get hacking with you I'd love to know
about that we'll be back in just a
minute computer disasters eventually
happen to everyone but if you get
carbonite online backup before your
disaster then you'll have no need to
worry because your files will be backed
up automatically and safely off site and
you know what it's also really really
easy to get them back plus you can visit
them anytime anywhere you can just be
like check in with them from your
smartphone your computer your ipad with
the free carbon I app and with carbonite
unlimited backup for your mac or pc is
just fifty nine dollars a year that's
less than five dollars a month and when
you use the offer code hak5 to start
your 15 day free trial you get two
months if you decide to buy all the
details are over at carbonite.com and
remember to use the offer code hak5 to
get yourself two months free with
purchase
so while the Lisa runs the paparazzi
autopilot software you can also
configure it with XML you were saying
yes what kinds of XML so we have several
definitions it's also there are several
layers of it but the first thing that
you encounter when you are creating
making changes or hacking on your
airplane is the airframe xml file and
what is that actually defined in so it
defines what actuators you have so in
this case on quad shot so we have four
motors and we have two servers that
actuate flaps okay work Ali also
dependent Iran yeah they serve Elevens
basically a mix between an earlier era
el al run in an elevator elevator
exactly thing oh because it affects
whatever say what are they called a
flying wing flying wing exactly mmm so a
we can define which actuators this
airplane has and in other cases you
would have a quadrocopter it would only
have four motors or a hexacopter with
six motors and so on and so forth so you
can take an airplane file so called the
so-called and how to define all these
things like actuators IMU positions and
so on and so forth and generate an
autopilot that fits your effing so you
don't need to parametrize and it won't
change during the flight that's
something that we don't want to happen
right that's it sound good so is that
the only XML that has to do with your
aircraft well with with the aircraft
itself yes there are also other files
like for making flight plans if you
completely fly completely autonomously
but they could be they are normally also
i will talk to fly plane when we get
into the ground control but let's just
take a look at this airframe xml can we
fire it up yes so we can look into the
what now Emacs that you go by really
yeah i teahupoo I don't love perv I am
kidding okay so we have here the
definition of answerable these are the
definitions of the actuators basically
ok 1 a2 b1 b2 do those are those the
actual propellers here yes these are the
actual propellers we have defined them
as a1 a2 b2 b1 and b2 because we have
the site a and side B and then one and
two this is just a convention it is just
a name that is being used later to do
mixing namely when you have a command
which actuator should do what depending
on what you use on your remote control
so in this case we have just ppm output
there's also support for I square
sea-based motor controllers n2m output
ppm is Marla it's like a middle thing
between digital and analog it is based
on how the data was encoded between a
remote control and the receiver on on
remote controls before the 2.4 gigahertz
images that we currently have so this is
basically a boost with modulated signal
that goes between one millisecond and
two milliseconds encoding the value
being the length of the poles and is
that why you have to define the minimum
maximum in neutral exactly this this is
how you define what what your time is
between 1000 and 2000 what's your
neutral neutral is in the motor it would
be 1000 at maybe 0 in this case because
it's one millisecond represents a zero
so then we have normal service and they
have a middle point at 1500 so one and a
half milliseconds and you can define up
and down for your ailerons per mile
errands accelerate and then what you can
define nellies commands pitch roll yah
thrust that's what you're using the
controller to tell the software yeah yes
so when you're applying with a remote
control you don't have as many yeah I
don't have how many are these six
fingers or six hands to actuate each
controller on its own so a in the
airplane world we have
the so-called roll pitch your and of
course the thrust because it's a proper
propelled vehicle</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>