<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>HackRF update with Jared Boone, Hak5 1417.1 | Coder Coacher - Coaching Coders</title><meta content="HackRF update with Jared Boone, Hak5 1417.1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>HackRF update with Jared Boone, Hak5 1417.1</b></h2><h5 class="post__date">2013-06-12</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/l42mZ7BDB9A" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">the hack RF spectrum analyzer with Jared
from share brand comm this segment of
pack 5 is brought to you by domain.com
science this is a guy that's it yeah it
does it is kind of like the like the
battleship of software-defined radio
cause it's just like Cooke trunk Curt
chunk chunk like it just needs more
accoutrements plugged in like the
antennas and everything yeah this is a
great way to build stuff though because
modular yeah yeah we can isolate each
individual portion bring it up defer
some design decisions until later so you
know turns out this we have like a
different front end design here didn't
work out very well
oh yeah what's wrong with this it's
gonna go I kinda don't remember but yeah
you know there were like at least two
iterations on this guy Iceman's original
intent was to create something that
required very little in the way of
hardware skills and was was inexpensive
so that meant having a single assembly
that was already completely integrated
didn't have any expensive connectors
didn't have multiple assemblies that had
to be manufactured separately
the idea here was you'd be able to like
oh you were in different band well yeah
that that's certainly a possibility with
this design however his design intent
was just to be able to cover all bands
yeah
that's ultimately what he wanted to work
toward is having a single board we just
do everything maybe not the best at
everything but but you know good enough
that people can for security research do
whatever it is they want this is where
you do it that's where I do it yeah most
of my time is spent facing the wall you
know
let me stand up desks yeah yeah this is
a Kia Frederic desk that I think was now
it's pretty much straight up but you
know I don't think they intended for it
to be set this high I think it was much
more designed originally for sitting
mm-hmm so you know I'd love to have more
space yeah because I've got two
computers here - what is my sole scope I
might up having to you know I've got a
board up here I'm working on and so I'm
down here with the probe looking at
these little scope and doing this
alright not too short stuff together and
then the keyboards in the way yeah it's
not ideal for working on hardware but
this is a decimate my company certainly
well the problem is I just can't push
everything is standard rate so yeah
that's pretty much just my sagar
conversation love this sandal
arrangements that's up well you know the
spectrum analyzer absolutely a good
place to drop this yeah I mean if you
want to set it on the table or I mean
there's great light in here with some
coming in like natural
so what are you doing on the laptop so
the the interesting thing about the way
the jawbreaker works is the arm
controller on it doesn't have any
internal flash if it's out there
there is a SPI flash that you can use to
boot loaded code off of but for whatever
reason the code that I hacked up to run
the display here it doesn't seem to run
right
if loaded for flash but which just fine
it runs from RAM so I'm using a little
debugger that is that this guy this
board no that's that's a different story
it turns out the debuggers UPS o in my
bag because I was gonna bring it along
to do some JTAG for actually serial liar
debugging on the die show board don't
grab that on my bag so this is an armed
serial wire debugger it's a black magic
probe guy and I think New Zealand
designs and manufactures it and it's I
think the best way to roll as far as arm
debugging goes okay so that's so much
more advanced than just serial TTL
that's giving you what out well so it
provides a way to load code into RAM to
load code into flash and then to control
execution of a program so you know it's
a full gdb environment mm-hmm
it acts like a serial console you
connect gdb to this thing think about
like it's the intermediary yeah yeah so
it's it's like you know you just plug it
in and you open it up as a serial
console in gdb
oh look a new debugger yeah so gdb just
issues commands
that this thing understands you can do
single steps you can do flashing of code
you can look at registers ultimately
brick yeah exactly and it's just so
simple because it's just an arm
microcontroller itself and it's really
small you don't need any additional saw
that is funny
so to say so to speak to your arm
microcontroller here you use a smaller
arm microcontroller here
yeah yeah yeah you're like hey you know
what speaks great - arm arm
okay so just love it code up in gdb so
what does that look like that way so so
yeah this is a gbb with a double - tu I
option which is the text-based UI so
you're actually telling it or whatever
your over serial in this console here
over to that board in there and you're
looking in like an editor at some see
the vector dot C file here yeah so this
is this is the source code loaded up in
GDB GDB is communicating via serial -
why'd we have to say here we go yeah a
load section arm you know and so this is
kind of like being into a bootloader
except it's not a bootloader it's a
serial our debugger if you're talking a
variant of JTAG and you're essentially
just brain taps straight into the CPU so
you know you've got the ability to
manipulate the core elements of the
processor ability to read and write
registers and set it up to do whatever
you want so it's it's really nice it's
great for debugging it's you know this
kind of stuff that I really miss when
I'm dealing with like in Arduino because
it just doesn't have full-blown debug
support and so that's why I like working
with arm and so you're just using that
because this is kind of like a
proof-of-concept demonstration thing
this isn't like you know a flip the
switch in it it's not supposed to be
like a this is just a demonstration of
one of the things that could do and so
rather than write as a program where
it's like you powered on and it does
this you just load it this way yeah yeah
all this so originally I threw all this
stuff together just to show at the Bay
Area Maker Faire I thought I was going
down with the dorkwad booth dork but PDX
booth and I wanted to get a cool hack
together so I had this back in
fluorescent display that I bought from
the neurotic
online store I didn't at the time know
what I was going to do with it but you
know like a week and a half ago realized
oh I should hook this up to the hack RF
do some basic spectrum analysis on
whatever radio frequency I'm tuned to
and then just display it on the VFD I
think it looks really cool so what radio
frequency or you tend to well we'll get
to that well so I like before I went
down to Maker Faire I had this laser-cut
wheel all set up and ready to go I was
gonna my vision was I was going to have
an optical encoder kind of like in the
old mechanical mice where you could just
spin the wheel around change the tuning
frequency it didn't come together in
time so like a radio dial live in the
giant radio diamond and actually once I
get it fired up to see it really feels
cool to just sort of you know just jog
back and forth through the spectrum and
watch stuff move back and forth it's
like a big eye upon wheel yeah okay so
I'm gonna hit continue on gdb and the
code you just start running there we are
yeah so right now it's tuned kinda in
the middle of one of the cellular bands
840 fighters is that tat antenna right
there attune to to 839 megahertz no it's
a it came with a nikon pcr 1000 it's a
radio design for hams but it was
designed to be controlled from a
computer and it was designed to tune
like to 100 kilohertz all the way up to
1.3 gigahertz so it's kind of a general
nervous antenna yeah it doesn't perform
all that well when you get up above
about 2 so if we get into the Wi-Fi
region it is certain that you clean this
thing you just turn the wheel back and
forth so I wrote down a few days ago
some of the different frequencies like
FM radio I spent some time on the FCC
course this guy Jeff so there's all the
FM stations around here and then there's
all the TV stations there's a these
channel numbers that I had to map into
frequency ranges but if we slide around
a little bit so if we get to 566 to 572
we'll be tuned to KP XG yeah this is
like what a local CNN affiliate or
something the kpx G is actually
all right but that looks like a TV
station right there should be about six
months so each of these ticks is a 1
megahertz interval okay so you know tune
to about 675 here live B 674 673 etc etc
along the left side here I'm taking the
raw sample value minimums and maximums
for the two sampled channels and just
rendering them out so I can see whether
I've my gain is too low or my gain is
too high if these things were just solid
bars from top to bottom I would know the
game was too high and I need to turn
down the input game on RF amplifier so
yeah we're it may not be a station - oh
yeah there we go
yeah that's about five and a half six
megahertz yeah which is about - the
bandwidth of a TV station so that looks
like 656 to 662 which is KN MT channel
445 tuned down a little bit more we look
sometimes you just you know Center it up
you could with hack RF pick that band
pop into like GE or C or you know new
radio and just tune it to the right
modulation well I mean okay back in the
analog days before TV became digital it
was a little easier but now you what do
you use ATSC yeah this is ATSC so one of
the first things that was ever done with
good new radio was ATSC decoding so I
you know I don't know if they've kept
the decoders in new radio up to date but
I imagine they have so something that I
would like to get around to is taking
one of these six makers channels
digitizing it onto the host and then
just running it through gonna radio to
see if I get the TV that would be
awesome here for you display - because
you'd have the radio dial as you do
raking or you you know choosing a
frequency and then like you can have a
LCD screen here and the interesting
thing that ATSC is it's like it's kind
of an all-or-nothing affair yeah
like most things digital it seems yeah
but I wonder if like you just tweaked it
off just a slight bit if you could get
some cool I don't know effects and weird
glitchy stuff
now this that was definitely true with
NTSC because the signal was just
intrinsic
more sort of favorable to those kinds of
misbehaviors but with ATSC you know you
get if you tuned too far off frequency
it's just not going to decode you're
gonna get lots of macro blocking like
you would you know if your satellite
reception goes poor so yeah I don't know
that you would get much interesting we
just sort of freeze up well ok you could
put a speaker on this thing and do it
for EM yeah frequency yeah yeah I'm
gonna do like amplitude modulation you
scroll through and get like the you know
the ballgame yeah I'd love to build this
out further and provide some sort of
audio output so well it's a residual
right now yeah just I'm so tactile with
that giant wheel I love this how is this
working so you've got two photos on here
yeah so this is based on you know your
standard optical quadrature encoder
technique if you took a computer mouse
from 15 years ago before they all
started being built around optical image
sensors mhm you would find a wheel very
much like this with a whole bunch of
little cutouts in them and then two
optical encoders that are offset to some
degree and if you were to graph out I
don't have my dry erase marker on me
right now but if you were to graph out
the sort of make break or the black and
white areas as I rotate this you would
see a particular pattern that looks as
you turn the wheel oh I had still
haven't figured out there's a really
good way to explain no I totally get you
because you can whip the tube you can
tell what direction it wind yeah exactly
so yeah it's like you know if you see
the first thing they'll go high and then
the second signal go high that means
you're only in one direction but if you
see the second signal go high and then
the first signal go high you know you're
going the other direction you know you
see the same thing actually when the
Department of Transportation puts those
lines here like these these cables that
go across the road there's layers like
two cables and they do it when they're
doing traffic analysis and so like if a
car hits this cable then hits that cable
you know it was going this direction but
if it hit this cable then a cable you
know it's going that direction exactly
yeah it's like you see a pulse on a and
then a pulse on B you know the car
going north and if it goes B and then a
yeah yeah it's the same basic concept
there's and in fact there's also an
analogy for how the radio works here
okay
does the radio signal is being digitized
in what's called a quadrature fashion so
you've got these two channels I and Q
which because of the way they're
processed yields something similar you
you have a bunch of samples that you get
out of the radio digitizer and depending
upon how the two signals you've
digitized relate it represents either a
positive frequency or a negative
frequency and that's why when you look
at this display here I'm showing
frequencies above and below the
frequency that I'm tuned to it's a
little much to get into right you know
in a radio sense because it's very hard
to visualize radio as opposed to you
know like this optical wheel or the
sensors in the road you were talking
about but but yeah it's all sort of
based on the same idea that you know if
one signal comes before another signal
then that means it's going this way and
vice versa it means it's going the other
way
oh you're not cute can you add taking
the 2.40 yeah you know is it a little
wild
fortunately this thing will tolerate me
spitting a pretty fast now a lot of the
stuffs 2 gigahertz 2.1 2.2 2.3 2.4 v is
the center of Wi-Fi so we're right at
the bottom edge there so unlike channel
1 yeah there's a I saw a little blip of
something right above yeah it would be
like channel want to be plus and minus
what 10 layers here I'll turn the Wi-Fi
onto my phone and also an download
something on my laptop here let's see I
know if a YouTube video whatever is on
the top today
okay remember what channel my Wi-Fi is
here 11 6 1 yeah I think it may be
configured to jump around based on
what's best my 4 or 5 is the center but
you're only looking at one mega hurt on
each of these tips right yeah so let's
go oh there we go
yeah so all of that jumping is actually
you're looking at the spread spectrum
right there yeah so yeah that's the
spread of the signal across so you're
literally seeing ones and zeros pretty
much I mean it's what's the what's the
refresh rate on this well that's the
funny thing
so I because of CPU limitations I'm
digitizing only very brief chunks of
data so I'm getting maybe one twentieth
of the total time that you know over a
second I'm only digitizing maybe 50
milliseconds worth of actual data and
the rest of the time I'm spending
processing it running it through a fast
Fourier transform and doing all of the
manipulation for the display so really a
whole lot of the traffic that's that's
taking place I'm just completely missing
right so it's definitely much better if
there's a really sustained traffic or a
continuous transmission you you can see
that just locked on there but for Wi-Fi
other stuff that's really bursty you
know they'll show up periodically but a
lot of the packets will get missed so
the proper way to do this if it wasn't a
complete hat would be to just
continuously sample and then probably
you know like average would accumulate
the spectrum over time just add the
samples together in blocks and do some
sort of averaging and peaking or
something like that but yeah it was a
hack for for maker faire and frankly
maker favor there was so much Wi-Fi that
this thing was pretty busy anyway I was
a very intense experience from an RF
standpoint just tons and tons of Wi-Fi
tons and tons of Bluetooth
that's fact ass
oh yeah we should go down to 900 yeah
915 we can also go down to FL I mean
it's not all that sexy to look at the
effing fan but but at Maker Faire people
were kind of blown away when I would say
so you're from the Bay Area right you
know all the FM radio stations and then
I would go through and tick them off
each peak and I would say so
nine point five 101.1 103 point and they
would say yeah those are all radio
stations and I could just tell by
looking at the display like wheel of
fortune - dialing for RF so these should
be pager signals yeah just below 9:30
both of these little little bits here
another thing I wanted to do with this
project didn't have enough time is to
have some sort of a game control you can
see over here on the the minimum and
maximum display the signals were really
weak but still we've got signals that
are right in the frequency range that
pager data should be located in so you
know some doctor somewhere or some IT
professionals getting a page telling
them that doctors are mr. Smith's having
a heart attack right now
wonderful yeah it looks like someone
might still be rocking an analogue 900
megahertz Palmer at home a cordless
phone is listing - what did they use FSK
day or I think it's probably just FM
modulation yeah FM yeah so I'll bet you
that might be someone using a cordless
phone and then we've got some cellular
data here we're down you know an 800
range various data and voice
conversations I love had this just kind
of like visualizes it in such a tactile
manner were yes you could fire a new
baby
do this anything with help with even a
very achievable but doesn't have this
whole real-time display yeah well and
also having the bandwidth that hack RF
is able to pull in all at once is a big
deal you don't if you're squishing
everything for an intermediary like two
point four diggers you're still getting
a decent enough sample rate that you can
do fun stuff with like say a BS B or all
sorts of other fun transponders he was
just talking about the marine one yeah
all the big games yeah yeah so I could
find out what all those oil tankers are
carrying and where they've been and
where they're going exactly yeah
probably carrying oil but you know yeah
and here on the Columbia you know half
of the boats that you see are probably
barges taking garbage and recycling
upriver not too exciting but but yeah
just the fact that these boats are
sailing around and you can you can just
pull that data right off of the boats as
they're going upriver yeah so right now
we're tuned to the FM band and we've got
100.3 101.1 101.9 103.3 104.1 105.1
105.9 106.7 so each of these Peaks is
another radio station so that really
illustrates how small the bandwidth for
FM is yeah if something cool to do so
this display obviously it's kind of kind
of grainy it's a 384 by 32 pixels
display which were vacuum fluorescent
displays actually really amazing but if
you're a graph the sound on a computer
do some sort of a waterfall display you
can see how the digital modulation is
for HD radio have been added to the
existing FM transmissions you'll watch
and you'll see this sort of jiggly
pattern right down the middle
that's the original FM that the analog
signal and then what they did with HD
radio is they added these two digital
modulation side bands and so you see
these weird little strips of noise along
the analog signal range and and so you
can just look at the graph and you know
well it that radio stations got HD this
radio stations got HD that one doesn't
listen listen modulus
for FM radio and 80 it's some
proprietary thing that's kind of like
the ATSC equivalent for audio yeah but
well the modulation is not proprietary I
mean there's only so many modulations mm
might be OFDM but I don't frankly recall
no but but you know it's constructed
such that the modulation the the data
winds have been pushed outside of the
analog range so that old analog FM
receivers don't even notice it they
don't even create a crackle on the
stereo right yeah so they're just sort
of hanging along on the sides and you
know the digital HD receivers are
incapable of pulling that stuff in yeah
modulated and so to an FM receiver it
would just sound like as you're turning
the dial that would just sound like a
little bit of white noise in between
them yeah although those static look
what you're used to seeing hearing
static anyway well on FM anymore most
radio seem to blank
so you don't really get much in the way
of you know just even background noise
if you can't if the PLL can't lock into
the FM you just it just doesn't actually
play playback anything out of the audio
output and so you're able to do how far
with the hack RF so we're down in the F
times own but if we really you know jog
this down Brett 30 megahertz 20 19
well the tuning right now there's like
there's a button
well you'll also notice that as I scroll
up in 10 really the piece don't move
anywhere so there's I think there's a
bug still in the in the firmware as far
as the tuning goes once I hit 30
suddenly that stuff starts moving mm-hmm
it also moves the wrong direction so you
know this is still beta Osman Mike Osman
is shipping out tons and tons of beta
units as we speak and the intent is to
get it into as many hands as possible so
that we can find bugs like this and
address them in the firmware or if
necessary in the hardware to and make
the radio of tons better so we're really
looking forward to this phase of the
project because we're gonna get a lot of
feedback we're gonna find all the weird
bugs and stuff and get them resolved and
this thing will suddenly be so much
better as a result yeah yeah open-source
I love that I mean and also the way that
you guys have spent so much time
as we just saw with the previous version
before the jawbreaker so so much time on
the hardware that I can only see this as
like a you know a long-term salute like
LTS or whatever so hey where can you uh
where can people find a hack RF that
they you know aren't part of the beta
where can they sign up to get one maybe
well so um
hacker ruff is a product of great Scot
gadgets Dartmouth supported the project
development well ultimately we like
DARPA they created the internet they did
so great Scout gadgets is the website
that you go to great Scot gadgets comm
slash hack RF and then there's tons of
links from there including a link to the
github repository where you'll find the
schematics the circuit board layout the
firmware for the our microcontroller the
host code that you would compile onto
your PC everything is there
I haven't yet posted the code for this
but it's so awful that I'm not sure I
ever would
well it looks awesome so thanks so much
they're not sharing it with any thank
you budding entrepreneurs startups
innovators they're all turning their
ideas into realities using the strength
of a dotnet domain see dotnet to
globally known it's one of the most
popular domain name extensions and
dotnet domains inject your business with
instant credibility's entrepreneurs and
startups are immediately discovering the
advantages of building their web
presence around a dotnet domain so the
already of accom will then purchase the
corresponding dotnet to protect your
brand and if the dot-com you want is
already take them all then you don't
register a dotnet it's a perfect
alternative to what registering like a
50 character com that's not gonna fly
now you can find yourself a dotnet
domain over at domain.com I love these
guys they've got affordable you know
domain names and hosting Nets are only
$8.99 a year they're reliable they're
easy to use they're a lot of fun to do
business with they're active on Twitter
at domain comm it's really just a great
place to do business and they are huge
fans of hacked vibe so they want to
queue up with an awesome 15% off they're
already affordable domain names and
hosting they do is use the coupon code
hak5
at domain comms check out that's 15% off
and big savings so don't forget to use
coupon code
five when you think domain names think
domain.com last week's trivia question
was which wireless standard can operate
at speeds of 100-plus megabits per
second and uses the 2.4 gigahertz to 5
gigahertz range and the answer I was
looking for is 802 11 n this week's
trivia question is what
man-in-the-middle attack exploits
address resolution protocol you can
answer that over at hack 5 org slash
trivia for your chance to win some
awesome hack 5 goodies
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>