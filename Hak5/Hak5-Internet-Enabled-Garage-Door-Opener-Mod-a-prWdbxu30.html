<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hak5 - Internet Enabled Garage Door Opener Mod | Coder Coacher - Coaching Coders</title><meta content="Hak5 - Internet Enabled Garage Door Opener Mod - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hak5 - Internet Enabled Garage Door Opener Mod</b></h2><h5 class="post__date">2010-09-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/a-prWdbxu30" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">typical barrage door openers are stupid
simple depress button the door open
where's the fun in that so today we're
gonna spice it up with a little bit of
open source and modding so we've invited
our very own Jason Applebaum over to
pimp our garage hi-5 style you like a
turbo
this episode of pack five is brought to
you by goto meeting introducing the Ben
Heck show building modding and
electronics culture with Ben Heck and
Friends brought to you by element14 and
domain.com got a great idea
it all starts with a great domain
domain.com hello and welcome to hack 5
my name is Darren kitchen I'm Jason
Agawam and that was weird I had to pause
because it's your weekly dose of techno
list and there are two people being on
the board two of us yes I won laughing
this is good we walk in and say the
studio but it's really hot garage hacker
lab yeah I'd say in midseason seven but
good stuff back to season nine like
everything's just kind of coming
together can't wait no no we're an eight
right now but nines where the magic
happens we're on the quest for an i
right
we have some awesome stuff for you guys
because you've been asking for longer
projects Jason just flew out to
basically pimp this garage we're going
to be getting into some programming some
open source Linux stuff some hardware
embedded electronics solder applications
yeah breaking the soldering iron out so
I hope you guys enjoy but first I want
to follow up on some of the feedback I
got from you guys last week when we
talked about Linux screencasting tools
the gtk-recordmydesktop and the ffmpeg
and I got a lot of email is all talking
about this new program called Kazaam
it's a screencasting tool for linux it's
all gooey it's all sexy that'll allow
you to publish straight to youtube look
sick I haven't had a chance to play with
it but it looks separate chords and then
pushes to you - I think so or it might
just record specifically for YouTube but
regardless it looks pretty wicked
I don't know and we checking it out here
soon and just letting you guys know I
get a lot of feedback on that so so
Kazaam might be maybe where it's at I
don't know I'm recording straight to a
be eyes using yum x11 grab that's
actually all the same quality I actually
like it sound strange it's not let me
put on my Mac the QuickTime Player
record into the QuickTime movie format
awesome small file size huge resolution
it's amazing that's what you use to do
your screen recording some Mac yep
QuickTime the QuickTime Player in fact
so whenever you send me your screen cap
files since you record native whatever
your LCD is what I like
1920 1080 yeah its 1920 by yeah I'm like
I really have to zoom in on your stuff
it's only six minutes 50 Meg's not bad
oh yeah and we're making it work with
like Dropbox and it's all good so big
Dropbox yeah but now we're carrying it
on Instagram
we're gonna make it work so let's let's
dive right into this project yeah I'm so
stoked about this I guess I should set
it up by saying that you know what Raj
yeah well we're in a garage and there
are two key elements to entry into the
garage first of all you've got the
garage door as many of you probably have
as well as a gate which many of you
probably have as well depending on your
location right this is nice security
gate and it's mechanical so swing with
the remote I can open the gate and with
the remote I can open the garage door
pull my motorcycle right and it's happy
well yeah well you're exactly you've got
two different buttons you gotta hit
independently and it's just not cool oh
yeah I mean everyone does that everyone
has the ability to go in and you know
hit their own buttons but no we need
more yes now I could potentially pull
out my droid ssh into a linux machine
run a couple of shell scripts and open
the garage door
absolutely because ssh is involved with
getting inside your house should be
absolutely done
I mean biometrics there next right
version 2.0 we will do is we'll send a
little robot out like you know read your
eyes roll back in the house I'm getting
excited so some of the elements that are
involved in this obviously first we are
running on the wall-mounted virtual
server here so as you guys know we have
a lamp stack Linux Apache my sequel
we're not actually using the sequel yet
maybe one get to user account a user
accounts and user accounts Commission's
you know you can even set it up with
with going beyond permissions to like
you know I have a friend coming so he's
gonna have permissions on this day
access logs right when we were having
the hack 5 party and dual core was now
it would have been great to be able to
say here go to this website and use this
code it's good for these days yeah
and so it's a DHCP lease for your house
ok guess so yeah
and we're interfacing with the mechanics
of it all based on the teensy but we're
going to get more into the hardware and
a little bit but I thought we would just
like to get our head wrapped around how
we're making all this happen let's take
a look at some of the software because I
know that you got PHP code going on
maybe you could show us some of that
yeah so it's pretty simple since the
teens he can speak serial what we did or
what you did yeah I can't program my
side paper bag so we found or I found
this really cool PHP serial class it's a
PHP underscore serial dot class dot PHP
that allows you to open and write to a
serial comport so in our case we're
writing to dev TTY ACM 0 and right and
as we found out that may be different
depending on your linux box we're
running one to 1004 I think and and yeah
when you plug the teensy in which is
just a USB head it shows up for us in
slash dev slash TTY ACM 0 well it maybe
they don't always be slash dev slash
tttt why it's the part the ACM 0 is
going to be different so right ours is a
CM 0 yours if you have two teens he's
plugged in a cm one potentially or may
not even follow him
they follow the s standard which would
be TTY s right for serial reports and to
figure that out really just run D mesg
pop in your USB and then you'll see it
show right up there yeah so let's let's
talk about more predictive more
specifically we can talk about the
actual file the the serial file what you
need to do is chmod 777 on whatever
serial file ends up being more tasty
because the PHP code needs to write to
it and read from it okay right now we're
just writing to it so what we can see
here in the PHP code is it as simple
like F open just like you would with any
other file for the most part so what you
do is you get serial new PHP serial
let's just pull them from the class and
then you're calling a couple couple
functions set device which is a straight
string slash dev slash TTY like in our
case a CM 0 and then device open once
the device is opened you I'm excellent
echoing out to the two
HQ HTML hey the garage door is is open
because we got the right code and so you
just echoes straight to the console you
don't have to like run off like a screen
or open up a right necessarily do I'm
actually returning this for your sake
okay so when you run the script it gives
you a little feedback okay actually
right to cereal what you're gonna do is
cereal and then the function itself
which is send message and then it
accepts a char so I'm sending theirs
since we've got two we've got the gate
and the garage door I'm sending a one
two or a zero zero means open both one
means open door to means open gate okay
so there's no so as far as the teensy
and I'm sure we're going to get to that
code here soon is concerned it doesn't
care about the authentication is that
all in the PHP it's all on the page pin
and the authentication is done right
here so what I'm doing is I'm doing a
get request to get the code out of the
URL string code being they right now
especially mark code equals right
because right now it's just a four digit
on the Android app and stuff it's just a
four digit key yeah absolutely
yeah well that four digit key is then
what I do is I take the md5 of the four
digit key with the salt okay
I'm salting it so that you know we can't
just be brute force don't think
anybody's gonna try to brute force the
hacker aaj true and what it is right now
you've got to be connected to the Wi-Fi
here and then so if you can get through
the wpa2 yeah yeah of course by salting
it just adds a layer of security
I'm concatenate two strings together I
might as well do it
mmm-hmm yeah it's called code can cat or
its code dot salt not a big deal on this
salt make it up smash your face on
keyboard yeah absolutely
okay just kind of runs around you end up
at the salt if you have cats the the
good ferb salt rubbing the cats on the
keyboard okay that's walking for anyway
your cat doesn't type yeah Kirby Kirby
loves to type anyway regardless tails
plays with the string doesn't type ah
yeah that's on IRC that's what's up so
so we've got the authentication and
we're just using the serial
function and that's part of that class
right so so including that absolutely
you're just sending messages and as you
know once you've sent your message it's
very very very very very very important
to close the serial port or serial
connection if you don't close it when
this script runs again it won't have
access to it because it's already open
right so if you open it you gotta close
it and then what I do here is just say
hey it's it's open and then I'm just
send a HTML I echo some HTML that will
reload the page so that you're just
sitting right back where you were okay
from the interface and then if the code
is bad as we're going through through
the code you know it will just say if
it's if it's not equal to nothing and
it's not right you know don't proceed
meaning your crotch or didn't do
anything it just tells you you're neat
and right now we don't have any sensors
that will maybe be 2.0 where we can
actually tell the status of the garage
door whether it's open whether it's
closed State so you know because right
now all it is is cycle yep and and the
thing is serial you know if you call the
function from serial read it's a read
message it will read off the serial port
and just return it straight mmm which is
it's a rotisserie trace as a string it's
really easy so if you wanted to go
further you could just set that out you
could actually check that so you could
send the command check it to see if it's
receive so you could actually have that
two-way communication now so far we've
just been talking about doing this and
lamp land and you know as you guys know
I've made the plunge this season but but
if you were running like an iis server
with apache have you looked into this
class like would you be able to use the
same kind of thing yeah actually the the
class is Windows and Linux compatible
it's awesome the whole class actually
you can instead of doing slash dev slash
TTY slide whatever you like Windows com1
come to whatever it's smart in that
comma 1 comma 2 comma 3
whatever just type in answer a string
you don't actually have to change
anything sweet so all of that is just
the simple like PHP engine that's not
even talking about a web front-end at
this point I mean we could like have fun
with Ajax all this
today it's a PHP interface - yeah you
could potentially just send a line from
the command line you could curl spades
whatever the URL is put the md5 in the
URL yeah you just have to get the md5
from the URL but if you're doing it from
a curl you could actually just call md5
yeah might add to a shell script boom
and then you've got cycle garage door Sh
yes so you could anyway I'm just yeah so
what about the TT code so the TT code is
incredibly simple the TT what language
is this basic it's C it's C straight C
so we're using tt's we know it's pretty
simple which is Arduino this is actually
the Arduino interface interface with a
plug-in right there's a there's a
distinction there between Arduino and
the TC the USB T to that we absolutely
love and so many projects it's not
technically an Arduino nobody uses the
same yeah but it uses the same Arduino
API so our IDE Weaver it's not a creeper
if you want to get yourself a tweet
tweet about teensy there you go sweetie
yeah yeah words exactly so walk me
through the code here on the teensy
because yeah like I said cool it's
pretty simple we need to set it up in
void setup there's all this code we post
it up on the show notes so you're just
calling serial begin and then you're
declaring 9600 the bud bond
thank you thank you you're declaring the
9600 baud rate and then you're just
gonna set up pins 17 and 18 to output
and now we're using your important
what's up well we're using the TC 1.0 so
oh yeah it's important to recognize we
were using the TT 1.0 you could use the
team any of the teensies for this but
when you look at the diagram you need to
go with PWM or pulse width modulation
it's the ability to set high or low for
these pins the teensy 1.0 I believe it's
pin 17 18 and 15 I would think is what
it is for 1.0 anyway those all accept
with modulation or our pulse with
modulation outputs so you can go ahead
and specify those right here to output
okay and then in the loop in the main
program what I'm doing is I'm reading
the I'm setting I'm reading the serial
board all I'm doing is just reading
straight for this year and when you just
have like three ifs is if it's a zero if
it's a one if it or absolutely a case at
that point um no I I just went with
three it's really no switching case okay
I could do a case which but um just just
went with 3x it kind of grew because it
was what this is this is the Luddite
here doing the code review dangerous yes
and when you're dealing with a garage
door dangerous as we have found out yes
practice caution people yes five
thousand go everywhere or know that it
was the twenty volts that really got you
yes yes twenty volts don't go everywhere
so as you pointed out it's just three of
statements if the chars hero if the
charge one if the charge two I print out
just for my own sake you know open
garage open gate and garage just to
Spade so it's out there on the serial be
ready it's perfect for debugging
absolutely I created this awesome
function called open door it takes two
things it takes the duration and it
takes the pen so what do you mean by
duration duration how long it's going to
stay open so so how long it's going to
send the signal to that pin correct so
there's a whole bunch of other things on
the breadboard right now when we get to
the hardware in just a bit yeah but
that's important unassuming correct all
I'm doing is I'm pushing that pin high
for this long and I'm just adding a
delay so when you delay the program the
program it's as if it's running for that
long because all you're doing is say hey
set high and then the program goes off
and does something for X seconds or
milliseconds is the case maybe
and then it comes back and says low low
being zero high being one is highest +5
volts low and zero volts I love this
because you've got you know PHP
interfacing with Arduino a or teensy a
embedded electronics device where you
know because if you were to use just a
comport you
have the the voltage that you would need
to push to the relays or whatever it may
be you have a program will comport you
can't just do any conference yeah you
could do a parallel yes but how many
people have teleport that's the problem
we don't have serial yes well that's why
I love the teensy and for you know a
couple of buses later to get started
into this project
I'm sure you could also use any Arduino
yeah in fact I'm sure that there's a
million ways to do that but of course
you guys know if you have questions or
comments about this kind of stuff you
can always check out one the show notes
over a hak5 org to email him directly
about the progress of Jay Z right and
feedback at hak5 dot or what you think
of this segment critiques ideas and we
all read those and love to hear from you
guys now in just a bit we are going to
dive into the breadboard get the
soldering iron out get our hands dirty
and check out all their blinking lights
that make this happen we have lots of
blinking lights it's awesome got things
that click and blink and move and
shuffle he's excited I'm excited to
check out what Shannon has for us in
this week's trivia this week's trivia
question is Crystal Palace a mountain
facility in Colorado is home to what
joint Canada and United States
Organization enter over at hak5 org
slash trivia for your chance to win some
epically sexy stickers we'll be right
back after a brief word from our sponsor
we're proud to present the Ben Heck show
an all-new online TV series created for
and by electronics enthusiasts and
sponsored exclusively by element14 join
Ben and friends for bi-weekly episodes
as they modify and build all kinds of
community suggested gadgets got an idea
for mod share it with Ben or if you're
ready to build we've got the parts list
to make it happen either way tune in at
element14.com slash T VHS
once again using GoToMeeting I am joined
by none other than Chen how are you girl
how are you not bad and joined the East
Bay house over in Missouri it is it's
starting to get cold so my room is a lot
colder than usual but I'm generally very
bored so I need to get out there well
summers just beginning over here for us
so I'm looking forward to seeing you
here real soon but until you fly out
here I figured we could just go ahead
and collaborate with GTM so let's get
into it we've got a couple of things
that were sent to us and I thought that
we would just dive right in because this
first thing is near and dear to my heart
do you read xkcd I have browsed a couple
of them they're very funny well this
recent xkcd cartoon talking about
password reuse is something that kind of
strikes home because it's absolutely
correct you don't necessarily need to be
the man in the middle or get someone's
password or crack a hash or anything if
everybody just uses the same stupid
password for every site and that's
exactly why we created was it Twitter
PHR everybody out there does use the
same password for like quite a few
different websites I would be lying if I
said that Twitter Fisher com didn't
actually log user submissions and we
might have tried things on him
non-privileged anyway regardless of that
you have a solution for us that we don't
have the same password over and over
don't you I do do you want to check it
out sweet so I'm gonna go ahead and give
you my keyboard and mouse and see if you
can show me what this is all about okay
so in the past I've talked about
different like password generators and
there was one that we talked about a
couple of seasons back that one was
called I think it was cheap ass do you
remember that one yeah definitely that's
a desktop application for Android and
everything else it's good stuff right
exactly yeah it's really easy to use and
that's why I liked it but I found this
other one that's just plain and simple a
bookmarklet that uses a like a Java code
cache so you don't even need to download
any software anything and it's called
super gen
sweet will walk me through it how do we
use it so it's really easy to use all
you have to do is scroll down through
the bottom of the page and let's say I'm
using Firefox so I'm gonna choose this
Firefox link right here and it tells you
to either right-click it add it to your
bookmarks or you can drop it to you drag
it over to your bookmarks toolbar right
up there so I'm gonna right-click and
bookmark this link and I will put it
let's see where do you want me to put
this yeah just pop it in the toolbar
toolbar okay okay so there we have our
little bookmarklet saved and ready to go
now I'm gonna open another tab okay so
now that I have the super Jin past
bookmarklet in my bookmarks toolbar all
I have to do is go over to my desired
website so I'm going to go over to the
hak5 registration forums and I'm gonna
register a new name so snug zebu and I'm
gonna enter my password the first time I
enter it this will be my my master
password whatever that might be so I
just type that in and then I click on
the super Gen pass bookmarklet and super
gen pass gives me this nice little
window that tells me you might generate
a password and my master password so
I'll click on this show hide link and it
gives me my generated password so I copy
that and I put it into my password text
screen thing okay so now that we have
our generated algorithms password from
Super gen pass all I have to do anytime
I go to the hak5 forums as I put in my
username and I put in my master password
click the super Gen pass bookmarklet and
it automatically changes it to the
algorithm letters and numbers
combination and each website that I do
this for will give me a different
generated password even if I use the
same master password and if you use it
for any old websites you do have to go
in and change your old password to the
algorithm so that you can log in you
know again and again Thanks well I like
that it's yeah I like that it's a
bookmarklet so you aren't necessarily
using like a web service since it's all
just JavaScript that's running on your
computer locally so it's not like your
password is being stored by somebody
so you need to trust yeah it's not
stored by anybody and you can also use
it on your mobile devices with their
mobile bookmark that you can use in well
I've just recently discovered some so a
lot of guide a lot of great feedback
about a segment that I did here last
week talking about ways to record your
desktop and Linux showed off to
variations there with gtk record my
desktop and ffmpeg and I got a lot of
response here about a new program called
chasm and I thought it would show that
to you guys here chasm screencasting
tool is in 0.1 and you have to if you
are using like a Debian repository you
have to add a new PPA to get it but but
I've gone ahead and checked it out here
and since we're already in my my boon to
virtual machine I'm just gonna take back
control and give you a little demo here
so you have to install it from the
command line and I've got links for that
in the show notes but once you've got it
installed it shows up under accessories
and sound and video and you'll see here
chasm screencast er and really simple
interface all you have to choose from is
you know whether you're going to record
your screen or for instance we had some
other windows we might be able to choose
that and it will also record audio I
haven't tried that because it is virtual
machine so I don't really have a sound
card that I can plug something into at
the moment but I'm gonna go ahead and
hit record and it will actually say
starting your recording in a few seconds
and there we go recording so I could be
like a demo here where it's just so Chen
and hey if you want to do some
calculations you go to accessories and
calculator and you can hit two plus two
and it's four and there you go and now
awesome I'm making amazing videos here
and then up here and then up here in the
title bar you can just click here when
you're finished recording and you have
the option to either edit it with the
Kazon screencast row or you can bring it
right in to whatever your default video
editor is for mine is the TV but or we
can save the file for later use and the
neat thing about editing it with the
chasm screencast or if we hit continue
here is that we get the option to upload
it directly to YouTube right from the
program although I must say I have had
zero luck getting it either
to YouTube which may have something to
do with my account which is like five
years old so I'm not like on one of
those newfangled YouTube accounts that
are tied to Gmail and then also I
haven't been able to save the file to
the desktop so I would love to hear from
you guys if you've been using this and
gotten this 0.1 version to to you know
be useful for you guys
otherwise I'm still using ffmpeg but I
thank you guys for sending that over to
feedback at hak5 org which is of course
where you guys can send your feedback on
segments like these and if you'd like to
join us on a future GoToMeeting
roundtable here so with all of that said
thank you so much Shannon it's a
pleasure seeing you and I hope to see
you here on the West Coast soon oh you
will and we're gonna thank GoToMeeting
for making this segment possible you
have important business contests from LA
to New York even abroad if you'd like to
meet with them more often but traveling
is expensive and time-consuming that's
why you need to hold meetings online
with GoToMeeting the easiest online
meeting service available and brought to
you by Citrix simply set up a meeting in
advance or start one on the fly everyone
logs on to goto meeting.com and now can
see your computer desktop on their
computer screen it's just like having a
meeting in person try goto meeting free
for 30 days and for this special offer
if you must visit goto meeting.com click
the try it free button and use promo
code a Chegg pay for a free trial let's
break down the components that are
involved with garage-door so over to our
breadboard we have the TT some relays
and in this case you know we have the
garage door opener itself
so let me get this straight you hijack
my fries pop diet.com domain open a
factory in Vancouver and now you want me
to choose the logo for your viral
marketing campaign which looks like a
more delicious way to lose up to 17
times a month
obviously but the point could end up in
the hospital all the way we're freeze
pops so what are you smoking
no you're on fire
no I'm not yeah you're definitely on
fire what did you do try to host it
yourself I told you domain.com me yes
they've got world-class hosting an
amazing infrastructure 99.99% uptime
seriously it's not expensive
you gotta pack five check out with
coupon code hak5 get 15% off your order
the way yeah there are unlimited website
offering starts it just 875 a month
great can you put me out what and waste
my beer I don't think so when you need
to pen double flexible and affordable
hosting take a look at domain.com
there's no setup fees or commitments
required just state-of-the-art data
centers with blistering fast servers and
save 50% at checkout with coupon code
hak5 got a great idea it all starts with
a great domain domain.com if you've got
the time no less like Thomas with his
epically sexy wall server make sure to
send your photos over to feedback at
hack 5 or again who knows maybe we'll
show them off next week also don't
forget about the brand new hack packs
and the awesomely warm cozy hoodies that
we just got into hacked by org slash
store and the fastest and easiest way to
help out your favorite podcast high-five
is by subscribing to iTunes and YouTube
until next week I'm Shannon Morse
remember to trust your tech novels I'm a
fighter
that's not gonna make you confusing at
all oh now all this is trash yeah
Jason's got the double clap you mean
that's not silly the clap with an echo
I'm reaching for my drink which is under
the table yeah they told me to lay off
this stuff on the episode but what I'm
reaching for no Trinity night ends
so Jason why are we locked out again uh
I work yesterday you you are gonna open
this gate cuz I don't have a key
maybe well can you just log into the
Linux server and compile the gate or
whatever it is you need to do man if
we're stuck out here because of a
semicolon I swear
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>