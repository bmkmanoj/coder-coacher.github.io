<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Meterpreter Core Commands - Metasploit Minute | Coder Coacher - Coaching Coders</title><meta content="Meterpreter Core Commands - Metasploit Minute - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Meterpreter Core Commands - Metasploit Minute</b></h2><h5 class="post__date">2014-12-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/84nHEFePdhM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">meterpreter this time on Metasploit
minute this Metasploit minute is brought
to you by hack 5 and viewers like you
support us directly at h a k shop calm
welcome to Metasploit minute the
breakdown on breaking in i'm rob foley
but you can call me mix this time we're
going to take a little bit slower
approach we're going to slow down a bit
and look at just what is the core
features of meterpreter and mature peter
is is more than just a windows mmit
thing or payload
there's aren't actually a lot more
interpreters out there's java my server
PHP image server we've actually gone
through some of these but one of the
biggest emails that I get is it says
core Lib standard API failed to load why
am i why have I I don't have any
commands or what can I do or why does is
it broken do I have to do it again so
we've decided to go into some of the
basic commands or core commands of
interpreter that way we can kind of show
you what you can do in certain scenarios
where that's Korell lib kind of didn't
work so first off is the background
command we've already used this quite a
bit once you're in a session you can
background that session BG list BG kill
and BG run is you can actually run
scripts or post modules in the
background so you can make it so that if
you have a key logger or or other post
module or script that you want to just
keep running on a specific session you
can throw it in the background now it's
not to be confused with the background
command these are background jobs on a
session then you have channel and
interpreter itself is all channelized so
all of the things that it does is based
on threads and channels and
communication program back and forth
using these channels so if you type in
channel you'll get a list of the
channels that are currently open you can
close the channel with clothes detaches
a specific one for a reverse HTTP and
reverse HTTP based payloads this is
because
there is no there's no specific way that
meterpreter knows that that it can close
or exit I mean you do have the exit
command but then it's it's actually
sending callbacks back and forth so
detach is actually a way that you can
you can detach a session and see if it
comes back to see if it's still alive
disable and enable Unicode encoding
that's just for if you are working
against a a non-us or non English based
operating system that that helps I
believe it's all automatically turned on
but you can disable it if you're running
into some issues exit that exits the
meterpreter session info shows
information about the post module
running interact interacts with those
sessions IRB is is really cool because
we've actually talked about IRB in the
past where you used the interpreter for
Ruby to look at different code inside of
the MSF console but this is in the
context of meterpreter so if there's a
file you want to open and and for some
reason standard API or some of the
things didn't load correctly or you want
to get down in the weeds and try and fix
things you can actually open our Ruby
console for that and have that
meterpreter session object right there
for you load is the one that I wanted to
talk about the most about so load
actually allows you to load extensions
so use or load people kind of use them
interchangeable because if an alias will
load an extension so if core Lib
standard API did not load correctly on
your meterpreter session for whatever
reason you can actually say load STD API
and it should be able to say successful
load or failed again and that can be a
number of reasons that could just be a
failed payload injection or something
that didn't work correctly on the
outside or it was operating too fast for
the payload to work and if you do a load
then get the full standard API correctly
then you have migrate of course this is
migrating from one process to another as
far as I know this only works on Windows
quit terminates just like exit read
actually you can so if you type in shell
or execute - I see
CMD your are dropping to a shell you're
actually creating a communication
channel if you want to for whatever
reason read or write to that
communication channel without dropping
to that shell so say you want to write a
dir enter to a CMD session then you
wanted to read that data out now I'm not
exactly sure why you'd want to do that
but you can then resource allows you to
use interpreter based resource files so
if we've talked about a lot about MSF
console resource files but you can
actually use resource files inside of
from interpreter so if there's a bunch
of post modules like we just talked
about a couple segments ago that you
want to run in succession you can
actually create your own meterpreter
resource file and run it from there then
run you can obviously run a script or
post module use again that's load and
then finally write data so these are all
the core commands and we're going to be
getting into all of the other extensions
that are available these are all the
core commands that should be there no
matter what meterpreter you have going
obviously migrate to the one exception
to that so what do you think email MSF
at hak5 org and stay tuned in Metasploit
minute comm for more shows like these
thanks again for supporting the show and
if you have if you want to support us
even more you can go to HHH opcom enter
coupon code mu bik's and get free
Metasploit minute stickers until next
time
r mu bik's and i'll be hacking to the
cows come home
Oh</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>