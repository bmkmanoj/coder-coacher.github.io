<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hak5 - Keeping Windows SSH tunnels alive, Hak5 1113 part3 | Coder Coacher - Coaching Coders</title><meta content="Hak5 - Keeping Windows SSH tunnels alive, Hak5 1113 part3 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hak5 - Keeping Windows SSH tunnels alive, Hak5 1113 part3</b></h2><h5 class="post__date">2012-05-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mUghm5O4LbA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this segment of hak5 is brought to you
by domain.com
so you're looking around you're looking
around and then some ATM machine in
Idaho disconnects your SSH session
because you weren't using this cool tool
ATM machine
not joke what's going on let's do some
persistence and women is wanting this
yes sometimes I get a DD and decide to
watch TV for like five minutes and then
the stupid thing disconnects cuz I'm not
doing anything
what the heck oh yeah this is no fun
when it comes to like streaming videos
right okay I know right okay step down
all right so first all we need to cover
plink
it's short for putty link and the plink
utility is the command-line equivalent
to putty
I love gooeys we're gonna put a GUI in
front of this command line aren't you so
we'll be using this along with another
tool in order to keep an SSH tunnel
persistent Road hey persistence it's my
favorite editing in the world okay maybe
not the favorite thing but anyway so
here's an example of a plink SSH tunnel
we start by launch launching pageant and
entering our pass phrase which I have
already done over here and we already
did in an episode previous to this as
well 11:09
yes I'm one of those yeah one of those I
don't know look up private and public
keys now that our private key is in
memory we can use plink to start an SSH
tunnel from the command line this is a
fun part so first off open up the
command line and navigate to where your
plank utility is for me that's by
running CD backslash putties so I go in
here and in here there should be a
plinky XE yes there is okay cool so I
type in dot and I get this nice long
list of all sorts of commands that I can
use inside planks so to start a simple
dynamic socks proxy I'll enter plank
tack D D for dynamic mm-hmm so just like
SSH on Linux side where it's all command
line based yes exactly so I do have to
use a little bit of Commun line
phoo you like that boom oh yeah tacky l
snub Z and the L is for my username mmm
space Tech agent for pageant so agent
stands for opening up pageant basically
okay so the plank utility when you do
tack agent it will no use your private
key in memory yes
and then I type in the server that I
want to connect to all right press Enter
using username snub Z and it basically
tells me okay you're good you're
connected and there we go a command to
start our Sox prostate proxy for all of
our tunneling enjoyment awesome of
course if the ssh connection is dropped
we'll all be you know sad face and stuff
especially if we're using the tunnel to
watch the BBC or something like you said
earlier that would seriously suck and
while Otto ssh is available for windows
kinda it isn't exactly the easiest to
set up auto ssh the linux program that
you showed up it can be run in Windows
using cygwin which is a linux
environment for windows if that kind of
suits your fancy you can have at it
there's a decent tutorial for setting
that up over here I'll link that in the
show notes so you guys have that
information it's super easy yeah I'm not
a fan of cygwin to be honest you aren't
no you're gonna run Linux from Linux you
know yeah what do you have to use
windows yeah well I'd rather go with a
native Windows app every time mm-hmm you
know then have to use so well yeah you
know I'm kind of I'm kind of the same
way so I'm more interested in using that
native Windows program can you know
sometimes thankfully there is a similar
set up to auto SSH that can be achieved
using clink with the help of a kind of
little utility called my and tunnel now
to get my own tunnel it's available over
at this website in the show notes
awesome it's this need of Windows 8 a
total of you that lives in the system
tray or it can be run as an an NT
service in the background that kind of
quietly watches plink sessions and it
restarts them as necessary
now I've already gotten my end tunnel
downloaded over here and I've started it
up and it's a portable app too right yes
it is that's awesome about it so what do
you you just put in the same
plink yes you have to put it over
wherever your putti folder is okay so I
put it in here with the plate Exe of how
do you see all those no under SSH server
this is where you put whatever your SSH
server is called obviously mine is
called let's see what is it the real a
Wi-Fi pineapple comm which is totally
different from the last one we used
username is MZ and then down here we
want to change a couple of the things in
the settings down here you don't want to
leave them all unchecked let's see
reconnect on failure obviously this is
what we want to do so we want to change
that use private key I really like the
fact that my in tunnel allows you to use
private and public keys as well so wait
if you don't check that what does it do
it'll ask you for your password listen
up see anyone type in my password yeah
yeah and it also saves the information
over here but it is salted so it's st.
where it does the same of the
information it saves a dot txt file and
dot ini over in the putty folder with
the my entitled exe so I guess that's
because it's portable yeah that makes
complete sense because it's not touching
your Windows registry but still I don't
like having passwords in ini files and
if they are salted just cuz you know it
could still be voiced or something
anyway so yeah that's pretty cool though
that it's able to use the I'm assuming
your peer pagent or your agent agent
well that's I call it pageant I don't
know let me know but it sounds right
because it's spelled the same way as
those tap-dance pageants that I used to
belong in for real yeah I totally tap
danced when I was little anyway off
topic there are pictures my mom has it
happen so you also want to check enable
dynamic Sox books okay there's our proxy
and so it has to do 70 70 I see and then
you want to change that to 80 80 because
I've already got my switchy program on
Chrome already set to 80 80 or
go ahead and change all those settings
too so I'm just gonna change this to
8080 was it's so much easier so you hit
save and then you'll see over here it
just created my dot txt and my dots I
and I and also a remote ports txt down
here so that is where you'll find all of
those configuration files now you can go
to the status tab and click connect so I
go over here oh then hit connect and you
can just hit OK right here because it's
going to go to pageant anyway anyways
it's asking for your passphrase for your
key right you haven't told you where
your key is I haven't but I told it to
use pageant and I already have pageant
open okay so you just say okay so here's
password so click OK mmm loud bang pass
pass break leak yes
launching executable oh and so it's just
passing the tach agent command in plank
and then yes link already knows ok cool
use the pageant exactly cool and then
all right connection is stable so
apparently it worked so now I can go to
the internet and make sure that this
correctly works so I'll go over here hi
IRC how's it going and I'll go to IP
chicken and that's kind of my place now
that is the office exactly now if I turn
on switch II mm-hmm I go to IP chicken
again there you go there we go you're
routing through the the relay at Wi-Fi
pineapple combo awesome that's awesome
now I can also do something else that
it's pretty cool so I control shift
escaped it into my task manager mm-hmm
and then oh here we go
and where is plank
I'm looking for plank right you just hit
P until it shows up there it is okay so
there's plank right there and another
thing I can do is click end process and
I can watch it disconnect inside my in
tunnel this is just like when I did kill
-9 yeah yeah basically I know it should
disconnect over here as well oh you have
to you have two planks actually running
cuz the first one you started in the
command prompt so you probably have
another one though she listed in here
yeah probably right
Oh yep there it is so then that one in
process and there we go oh okay so it's
gonna try again in 10 seconds I'll turn
that off and then it's going to restart
in 10 seconds launching executable and
it should say connection is stable again
because it's going to restart the
process and there it goes
hi max in this table that's awesome so I
love the fact that I have persistence
now in Windows and it's it's free its
native yes I'd like today you know I
think it's a cool utility I like the
idea that it's like portable you know
you can probably also use it with the
portable versions of putty porta potti
alright for the putty and and and of
things like that I'd like to hear if you
guys have any other suggestions for
maintaining persistence in Windows of
course you guys know feedback at hak5
org is where you can do that you can
send us that now stay tuned because in
just a bit we're gonna get to the trivia
and the technologies release the first
favorite part we're gonna take a quick
break
I'm gonna take a quick moment and thank
domain.com they've been hosting hak5
since 2009 in addition to sponsoring us
and I got to tell you we could not be
happier you know for such simple domain
registration without all the BS they get
Virtual Private servers and Linux or
Windows we've been using them here on
the show for all these great segments
and they've got reliable web hosting
starting at just $3.75 a month and that
includes all this cool stuff in the app
vault where you can easily install
popular software on the web like
WordPress and Drupal and Joomla and all
those other ones that I can't pronounce
the guys SSL Certificates and they've
got fantastic customer service if you
don't believe me tweet at domain.com
you're gonna find out that not only are
the huge fans of hack 5 but they're huge
fans and happy customers use coupon code
a k5 save 15% of your purchase or even a
domain transfer over at domain.com when
you think domain names think domain.com
let's just about wraps up this week's
episode of pack five but before we get
going it's time to find out about a
little thing we call trivia yes almost
photos of the week yes
first off is Adam from Canada what's up
Adam hey Kaunda how you doing hey Canada
yeah we're gonna call you candidate for
now on
he made his laptop so he broke this
thing up and he uninstall Windows 7 and
you ran some awesomeness back to rec 5
and then he stuck it inside of a pizza
box that is said now it's now it's all
like okay I'm gonna quote him right here
he said no officer I don't sniff packets
there's just a pizza really so that's so
cool
and we'll look because like a pizza box
is like the the joking term for like a
1u server and I turn you know it's like
the box over there I just like it cuz I
used to work at Domino's Pizza is
anything regarding pizza I'm like yeah
what was it
that's up I like it trivia let's do it
last week's trivia question was who was
the first American woman to be awarded a
PhD in computer science yay women sister
Mary Kenneth Keller oh right did you
know that no I did not pretty cool huh
stop my head Yeah right I don't know she
was that kind of system but oh yeah I
hear that we're talking about my my
favorite specification for this week yes
the I Triple E 8o 2.11 a d as in dog
standard promises to deliver tribe and
router and client adapters capable of
what awesome sauce I mean what else yeah
triple e 8 Oh mm ooh
you can answer over at hack 5 slash
trivia for a chance to win some awesome
swag yeah the swag is get more and more
awesome so it's true that anytime we go
home from a convention we get all that
crazy swag and I just don't have room
for it all yeah it feels like the air
conditioner and
and lotion I do I steal everything like
anything that's free I'm like gimme
looking at you for real do that ha ha
you think everything no way like every
in a hotel I'm the person that takes the
shampoo and conditioner every kind of is
it because it's mini and yes many things
I love many things there so cuter well
know what we'll be using our miniature
snugs you're like you're like portable
and because I can use them on future
travels and we travel a lot so it comes
in handy because I can fit them into my
little airport bag hotel that also has I
might not necessarily be in an airport I
might be going to like my boyfriend's
parents house or something okay in
Virginia or in my dad smells way too
tuned in so we're just gonna wrap it up
I do want to let you guys know that we
have some awesome cars coming up at the
end of May is later on in LA we may or
may not be there as well as DEFCON
coming up in July then August is tour
camp if you read about it find out
Google tour camp it's gonna be awesome
and we'll be there as well as Derby con
in Kentucky so excited for dar Rico as
well as torque on then in October so
it's like you know hacker con season is
coming up yes
I can't wait you're enjoying the time
that we have offering out and don't
forget we value your feedback so email
us feedback at hak5 org let us know what
you think of the show what you'd like to
see us cover if you have some
information about persistence that you
want to share with us let us know yes
send us some lovin all right well
without further ado i'm darren kitchen
but what about the followers and their
shops yeah they never follow us at that
diner which has followed some of the
second shop
yeah yeah all right cool peace out yo my
name is Shannon Morse
like I said I'm that guy that's the tech
most
wait a mess ball up yeah let's do this I
want to go watch Game of Thrones you're
still playing that espera Wars The Old
Republic well that's a show no no it's a
game okay it's time to get our
persistence on and Linux are you doing
persistence how do you do it persistence
no doing you doing Shannon's mic muted
hey Rick to do the show no broken whoa
you chatted random man I kind of snorted</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>