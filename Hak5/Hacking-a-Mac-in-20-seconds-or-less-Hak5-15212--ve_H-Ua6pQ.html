<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hacking a Mac in 20 seconds or less, Hak5 1521.2 | Coder Coacher - Coaching Coders</title><meta content="Hacking a Mac in 20 seconds or less, Hak5 1521.2 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hacking a Mac in 20 seconds or less, Hak5 1521.2</b></h2><h5 class="post__date">2014-01-09</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-ve_H-Ua6pQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this segment of pack 5 is brought to you
by fresh books we all know that it's
always a really really bad idea to just
leave your computer setting out
somewhere for somebody to easily get
physical access to it so today I wanted
to give you a great example of this
using a Mac because yes I do own a Mac
not by choice it's for works so today
I'm going to show you this very simple
way to actually get into root access on
a Mac in under 10 seconds with a USB
rubber ducky and I apologize in advance
I have a cold so I might be a little bit
sniffily you can also do this with a USB
flash drive and I'll mention that at the
very end of the article now first off
I'm just going to show you the USB
rubber ducky side it's pretty easy to do
but I'll give you the exact rundown on
everything that you have to do from just
downloading the ducky encoder all the
way down to actually putting the script
on your Mac so let's go ahead and get
started with the first part and this is
just simply downloading the ducky
decoder and the firmware for your USB
rubber ducky now the most up-to-date
version is available via the article in
the show notes so I can go ahead and
skip over that part because it's pretty
simple now I'm going to go ahead and
grab my USB rubber ducky this guy right
here and the second thing I want to do
is I'm going to hold down the button on
here and then plug it in to my Linux box
so that I can run the USB flash h
process so I can get the duck encoder on
to here so I'm going to go ahead and
plug this into my computer yeah I think
my finger slipped so once I have this
plugged into my computer I already have
the terminal open and I'm going to type
in LS USB to make sure that I can verify
that it shows up so LS USB and at the
very bottom you see AM to health Corp
now that is the USB rubber ducky
so I've already verified that it does
show up and it's been flashed or it does
show up correctly now what I can do is
go ahead and flash the hex encoder onto
the USB rubber ducky so to do so I type
in sudo flash SH space and then duck
underscore version 2.1 dot hex and I
press ENTER and of course it's going to
ask me for my password wrong password
now what this does is it erases any
original data on the USB rubber ducky
then it flashes it and it's going to
validate and finish flashing the entire
duck so hooray your USB rubber ducky
should be in working order now I'm going
to pull out the rubber ducky and then
make a new script for this segment
called source txt now this is the script
that is going to be placed on to the
Macintosh to create this vulnerability
so I'll be able to basically route into
it from anywhere super-fun
so I'm going to unplug the USB rubber
ducky there we go ok so next thing I
want to do is I'm going to change the
directory into my duct encoder folder
so I went ahead and changed the
directory into my duck encoder folder on
my Linux machine and you can see in here
that I've already created this thing
called source txt and that is that text
script that I'm going to be using now
when you first create this script it's
just a simple text document and you can
copy and paste it straight from the
article I'm going to go ahead and nano
into it so I can show you exactly what's
going on in this script so nano source
txt okay so we see a whole bunch of
stuff going on I'm going to just skip
down to about here so the first thing
that we do is make a directory and this
is making a directory on a hidden
directory actually dot hidden after that
we're going to echo this script into
this Quebec SSH file
so once you've echoed that information
into connect SSH you're going to change
it to be an executable file then we are
going to make another directory called
launch Damons
and under here we're going to echo
another command and this is going to be
a pea list and I'll scroll down here so
this echoed information this pea list
right here is going to be what happens
whenever you turn on your Mac at the
very beginning down at the bottom we
also notice that it's going to restart
the connection every 60 seconds so if
you disconnect on your listener device
it'll be able to reconnect to the shell
and at the very end after you've created
this pea list and turn it into this
Koppel's services file you're going to
see time on that - 600 this launch
control load means that this comples dot
services dot plist is going to start up
whenever you start up your macintosh and
then at the very end it means shut down
right now so right after it's loaded all
that information onto the Mac it's going
to shut down the Mac again so it looks
like nothing's ever really happened to
the Mac you can walk away and pretend
well nobody ever even touched the
computer so it's a very simple script
you just copy and paste that on to your
micro sd card 4-yard USB rubber ducky
and you're good to go
so once you have all of that information
ready in your source txt file you can
compile it and install the script by
doing the following this is going to be
Java package our encoder dot jar tech I
i source
txt so this is inputting source txt and
outputting tacko it as inject dot bin
TAC L which means language us so
basically what this is doing is
compiling the inputted script called
source txt and outputting it to create
inject bin with the US language keyboard
layout so for example if you're using a
UK keyboard layout on your Mac you can
change the very last part to tack l
space UK or vice versa or what have you
so once you have that done and I'll
press ENTER and it's going to tell me
that it's loading the file it's loaded
the keyboard file everything is okay
language ducky script and the ducky
script is complete so I know that
everything is OK and everything went
well in this inject bin so if I LS now I
see I have inject up in here and I also
have source dot txt if I need to change
anything in there now at this point I
can go ahead and move on to the next
step which is moving that inject bin to
my ducky SD card and this is very simple
you just type in move mV inject bin to
your USB so mine is slash media slash I
think it's starts with a 8 something I
guess I should plug it in to make this
work oh yeah
8 7 B ok there it is ok so I'm going to
move it over there press Enter oops I
spelled it wrong
okay so that has been moved over so that
should be all set to go and then I can
LS over to media and it should be there
so I'm going to make sure that this is
correct
LS media /a H okay there's my inject on
pin and I also have this stuff folder
okay so that is all set and ready to go
now I can take the SD card out my
computer and plug it into my USB rubber
ducky and I also want to go ahead and
make sure that I'm setting up my
listening PC while I'm at it on my Linux
device so what this is doing you're
going to be using the same website
import that you used in your source txt
document from earlier now you'll notice
in the article that I'm mentioning as
well as in the text document that I
created earlier that it says Wi-Fi
pineapple comm and then the port 1 337
of course whatever your server might be
and whatever your port might be that you
decide to listen in on you can use
whichever one you choose and you can
also check out my net cat series and
hack tips to figure out how to do that
in net cat because we're going to be
using netcat for this example so very
simple to do as well I'm going to go
ahead and unplug this from my machine
there we go and I'll put this into my
ducky I'm going to bite it
easier to get out all right if anybody
doesn't know how to get your USB micro
SD card out of there that's what I do I
just bite it okay so this should be all
set to go so now I'm going to set up the
listener computer on here so I should be
able to do this by typing in SSH snubs
at Wi-Fi pineapple comm could not
resolve Wi-Fi pineapple comm name or
service not known so that obviously
didn't work because I didn't have the
Ethernet plugged in so let's try that
again with the Ethernet actually plugged
in okay so that again was ssh snubs at
Wi-Fi pineapple comm and I promise I
plugged it in this time
ah it says cannot resolve why not is it
turned on Oh wired connection well let
me try this
you
and I'll put in my password okay so I've
established my connection with Wi-Fi
pineapple comm now what I can do is go
ahead and run the netcat command to
actually start listening on port 1 337
to do this you type in NC tak L tak P so
that's listen tak P is port and then 1 3
3 7 is the port number and press Enter
now you shouldn't see anything after
this until it actually has a port that
it's listening on and it gets some kind
of information coming back to it so at
this point you're pretty much done on
your Linux machine until we actually
boot onto the Macintosh so I'm going to
get on here yes I know I called it book
in touch like an old school person and
I'm going to shut down this machine and
you should see everything happening
behind me go ahead and shut down that
should just take a couple of seconds and
then what I'm going to do is plug in
this USB flash drive without holding
down the button when it boots up so I'll
wait for this for a few minutes so now
we're going to plug in go ahead and
restart and when you're restarting hold
down command and s the entire time there
it goes ok so you can see that we've
gotten into root I can go ahead and let
go now I'll let it continue ok so at the
very end of this screen I see root pound
s that basically means I'm in root so
I'm good to go
so now what I can do is plug in the
ducky when I get to that command prompt
and the script should automatically run
and there's a delay of about 2000 on
there so that it has time to recognize
the ducky it turns green and then as
soon as you see the computer shutdown
that means that everything is good to go
so when done you should be able to catch
your shell and the listening computer
will tell you that it's connected to
root all right so after a few seconds
after the Macintosh has been booted up
I already put in the NCT kel-tec p11 so
it's listening and then it'll take a
little while but eventually you'll see
bash no job control in the shell and
then it'll show you bash so we are now
in route so we can have some fun so the
first thing I wanted to try out was
typing in Who am I to see who it says I
am so let's try pit try this who am i
okay
I'm root awesome so I'm actually the
root user this is hilarious so now I can
try to do let's see change directory
I'll change it to user there we go okay
tab-completion does not work so I can do
CD snubs what's in here I can show my
desktop so CD desktop and I did mention
this is my work computer so I have like
all my stuff all my twit stuff that's
hilarious let's see I can go into CD
Shannon's stuff
oh I wonder if I have to put oh I guess
that won't work okay so we saw that I
got disconnected because I hit control-c
but I can easily get reconnected by
going back in the netcat and waiting a
few seconds and then it will just
reconnect as long as the MacBook Air is
online so it got me reconnected and then
I'll just do let's see where was I again
CD users
it was snubs ok CD snubs and desktop I
know I'm doing it the slow way Shannon
stuff that's why I wanted to go so CD
Shannon backslash apostrophe s stuff see
if that worked that cool so I got all my
backgrounds in here that I had uploaded
that's awesome so yeah I have root
access to the MacBook Air so now I can
play I can have all sorts of fun and I
can do all sorts of nefarious things if
I wanted to or I can teach people about
how important it is to not leave
physical access available to your
machine I'll know pin like don't leave
it there at a coffee shop when you go to
the bathroom take it with you please so
I did want to mention you can also do
this with the USB flash drive it just
takes a lot longer since you have to
type everything in yourself at the Mac
you're not going to have that ability
with a USB rubber ducky who will just
you can just plug it in and run the code
very quickly you can also do the same
thing with Linux with grub it only just
requires a little bit of physical access
and then all bets are off and you can do
whatever you want so that's the
important thing to hear about here is
the moral of the story is the physical
access that's so important and of course
if you accidentally disconnect or
anything like that you get reconnected
every 60 seconds so of course that
doesn't matter now I did also want to
mention that Patrick Mosca who is the
writer of this article he said the only
sure way to prevent
wanted root access to your system is by
simply enabling file vaults full disk
encryption not the home folder
encryption
now since this encrypts the entire Drive
it will be impossible to access single
user mode without a very strong password
and then your problem is solved so it's
a perfect example of why encryption is
important and that physical access now I
hope you enjoyed this I did I have a bit
of a cold and I apologize for that but
if you enjoyed this or if you've tried
it yourself or if you have another way
to gain root access into your Mac please
email me feedback at hack 5 org and
we'll be right back in just a few
moments but first a quick break are you
guys still using Word and Excel to do
your invoices are you keeping your
receipts in a shoebox I mean let me tell
you you can save so much time with fresh
books and it is the easiest way to send
invoices to manage expenses to track
your time fresh books is a very simple
cloud accounting system that is helping
thousands of entrepreneurs and small
businesses just like yourselves you know
save time billing and get paid faster
that's what you want with fresh books
you can easily create invoices you can
capture expenses you can get real-time
business data and reports in just a few
clicks it's so simple
and get this you can try fresh books for
free today over at get fresh books com
and here's the really delicious part
about what fresh books is doing for the
hak5 viewers every day they're giving
away someone who signs up for fresh
books using our referral a birthday cake
have to be your birthday so go over to
get fresh books calm and when they ask
you how did you hear about us and Sharan
hak5 for your chance to win that sweet
birthday cake with fresh books every day
could be your birthday so sign up at get
fresh books calm
and we're back and now it's time for the
title s photo up the week and this one
comes from ilari he sent in this photo
and said so yeah I took this a few
months ago and while I was watching
videos on YouTube with my cat Haemon and
he wanted to watch videos too
he's so cute I want to take him home and
squishin because it's so adorable thank
you for sharing your titleist photo and
of course if you want to share yours you
can send them to feedback at hak5 org
with the subject line tech duelist that
just about wraps up this week's episode
of hack 5 but before we get going I
wanted to mention that we love you and
we care about you and we care about what
you fit friends and what your friends
might think of you and if you shared
this video with your friends they would
probably think more awesome of you so
you should just do that spread the love
it's your look everyone right everybody
yesyes heck fives mm-hmm and you will be
an awesome or person for sure we would
greatly appreciate it
it would yeah yeah so thank you for I
subscribe to yeah hold them at sword
front and be like you have to subscribe
or just send the video as a link to the
lucky but I don't even know what you're
watching this on but hit the whatever
the likey button is yeah for the share
button it's on the blue datablock you're
not a paste like yes with that said hack
5 dad works as follows
where you can find all the places to you
know stalk us on the social media and
let us know what you think at feedback
at hack 5 org it's where you can email
us in and let us know what you'd like to
see on the show which is really great
because we get great tune if we have we
have a store it's hack shop did you say
anything no no but actually a check a
shop calm is our store and you should go
there cuz
you can support us directly and you
could get a pineapple or a dog or an
uber tooth or a bag or some batteries or
a pool packer gadgety
thingies and it keeps this show on the
air which is really great only the bag
are you calling exact I like to go well
a cab a girl named Melissa named uh hack
pack some people called EDC bag or
everyday carry bag so it really just
depends I like that I mean it's good
some bag when you put your hacker stuff
in it and then you go yeah actually I
like okay thankfully today's 1xcon yeah
that the big one is great for panel
antennas because you can put a big like
you know directional 12 degree
directional panel antenna in your bag
and then you can position your body so
it's like pointed towards your target
and get like extra CBI's up into there
you know what so with that said thank
you for supporting us directly and
walking all the way to the end so Easter
Egg you won the game Oh anyway until
next time i'm darren kitchen I'm Shannon
Morse
trust your techno lust
yes that's on do it I see
what do we have in the e-book
640 before
are you recording
yay</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>