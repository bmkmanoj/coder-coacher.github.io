<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Armitage and Cobalt Strike - Metasploit Minute | Coder Coacher - Coaching Coders</title><meta content="Armitage and Cobalt Strike - Metasploit Minute - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Armitage and Cobalt Strike - Metasploit Minute</b></h2><h5 class="post__date">2014-08-04</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/_L-VW_1tYHA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">Armitage and cobalt strike this time on
Metasploit minute this Metasploit minute
is brought to you by hack five and
viewers like you
support us directly at a che k shop calm
welcome to Metasploit minute the
breakdown on breaking in i'm rob fuller
but you can call me move X so this time
we're going to be going through Armitage
and cobalt strike both created and run
by raffle much who is an awesome program
doing great things that make Metasploit
GUI sort of framework and I'll be
showing you how that works so the first
thing we're going to do is just download
Armitage now on on Kali you can actually
do an app get install Armitage sometimes
I believe on 1.07 or or other versions
of Kali it's already there and you can
just type Armitage and it starts so
we're gonna hit Armitage started up and
we are going to say MSF MSF just making
a password for our RPC daemon and what
the RPC daemon is is essentially a way I
see yes you'd like to say is a way for
Metasploit to start up a way a listener
that something other than Metasploit are
myself console or other things can
actually talk to Metasploit so it
usually something called message pack
and we could get into that in a later
time but it starts this up on one to
seven zero zero one on port five five
five five three and you can give it
whatever packing username password you
want because it's listening locally we
just wait for this new if you see a
connection refused that's okay and ends
that starts up let me just make this so
that you guys can see it
okay so it's loading in the database I'm
actually going to clear the database
real quick so you guys can see some of
the cool stuff we can do but as you've
already seen they you can visually see
the hosts that are in the database so
we've talked about doing scanning doing
post exploitation enumeration and stuff
like that so far what we haven't shown
you how to do it in Armitage so we're
just going to do hosts and then inside
of here I can't really it's really small
but you can see nmap scan MSF scan DNS
enumeration so let's do an nmap because
we're just going to be on our local
network one so 172 that 16.1 o 2.0 slash
24 just hit it off and as you can see on
the bottom you can see a new tab has
created been created that has all of
this n map output going and we can go
back to our console and do all kinds of
show options all the stuff that we could
do in Metasploit while this is going we
can do straight off of the console thing
we can even do more stuff if we want
with Cortado scripts with another
console window and many as you want you
can continue to make little tabs so this
is a great way for you to like multitask
while you're doing Metasploit stuff all
right so the end map is done I think
it's doing the import right now we'll
see the hosts in a second all right
scans complete and we just did okay we
notice that we have a bunch of Windows
hosts and an iOS device that's actually
the Mac I have in front of me as it's
the local host and we can do all kinds
of cool stuff we can actually start up
another an MSF scan on the same ranges
or the select the hosts which can do
different different enumeration things
that ref has planned for us I think you
can select them all hit host msf scan we
can kick that off we can just let that
go as we're going to go and say 135 is
this particular because I know
this demo we're going to work we can
then do and we want to look for PS exec
type payloads you can see how fast that
search is compared to our our searching
inside of Metasploit m/s of console
before and we're going to do this PS
exec op open ZUP a great prompt where it
shows all the options you have available
so you don't want to show options on it
you can see that the MSF scans are
adding some more information like the
206 or to 206 and 210 are actually
windows 8 or 2012 and we're going to say
our SMB password double-clicking their
capital a SD qo a 1-2-3 our SMB user is
administrator administrator our targets
and we're going to say use a reverse
connection that's it we can actually
show our Advanced Options if we want
that's a lot but let's just not do that
for now we're going to launch logon
failure why did it log on fitter maybe
that one you don't have set up so as you
can see I also right click and hit login
there's a couple login options I have
available I can do services and show the
services are in here I can do another
scan if I want I can set a label for it
there's a ton of stuff that you can do
inside of Armitage and makes it a lot
easier to kind of visualize and
multitask Metasploit so there is one
other and there's a bunch of options and
we're not going to go into all of them
right in this this is just an intro to
both our messages and cobalt strikes so
we're going to just jump over to Cobalt
stark real quick this is the paid
version of Armitage so if you like
Armitage you can go to cobalt strike and
cobalt strike has a bunch of additional
features that Armitage does not but if
you were if you are using something
other than Kali to get our images you
downloaded it fast and easy hacking
calm so on the other side cobalt strike
you can go to advance pen test calm and
go in and download the trial and first
all you do is you go to let me move this
up so you can see it go into the
download put in the company Metasploit
minute robbed folder is the primary
contact Metasploit minute host MSF at
hak5 to dorg yes I'm US are Canadian
citizen hit submit and I should get an
email in a few minutes giving me a
download link for everything and if you
don't know there's other ways so if you
have any problems there's documentation
on the site for getting cobalt strike to
work on Kali on different other Linux
distros so not leaving you to hanging in
the wind just yet so now that we've
downloaded and I've actually skipped the
steps I've already gotten the email I've
already downloaded the cobalt strike so
it's on whoops do to do to do not in
there it's in desktop so I've already
downloaded the trial I've extracted tar
on target
cobalt CD in the cobalt strike and you
start it up so this starts up a lot like
Armitage does but one of the things I
want to show you in here real quick is
there's a team server aspect to it and
we've actually already started up a team
server on Darren's machine so that we
can do this and what I'm going to do
right now is I'm going to connect to
that team server and I'm going to show
you some of the cool a multi-user facets
of cobalt strike so I have 21 days left
on my trial like okay I put in the IP
address of the team server I'm
connecting to the port the username
which is MSF in this X context and the
password is hak5 and also in this aspect
so I connect tell it what nickname I
want to use hit move X hit okay
and it connects so you can see that
there was chat already happening in the
past so high-five Darrin join move it's
Joe and I said hey Darrin sup and now
we're back talking does the cow say
I have no idea so you can see that all
the stuff were you actually using the
same database as each other so all of
the stuff that I did scanning with
armitage that Metasploit database that
post-crash database is shared amongst us
now so if I ran an exploit on a 172 host
and had a shell there he could actually
use that shell to do whatever he wants
if he knows how to do advanced Linux
tough or advanced Mac stuff he could
actually take that that data that I've
already collected by scanning and doing
maybe some logins and use that to his
advantage
whereas with me I'll take the windows
how Windows host and do it there so that
team server helps teams collaborate on
MSF and and go through a lot of things
now again I am barely touching the
surface on Cobalt strike and armatures
there's a lot more features there
including something called beacon what
we'll get into it another date but so
tell me what you think
email MSF at hack 5 org and stay tuned
to Mehta slight minute for more shows
like these thanks again for supporting
the show and if you want to support the
show even more you can go to hae shop
comm and enter the coupon code movies
and get a free Metasploit minute sticker
until next time i'll muak sand i'll be
hacking to the cows come home
I didn't know where to go like I saw so
what did you think I'm like</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>