<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Nefarious USB Cables - Hak5 2408 | Coder Coacher - Coaching Coders</title><meta content="Nefarious USB Cables - Hak5 2408 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Nefarious USB Cables - Hak5 2408</b></h2><h5 class="post__date">2018-05-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Kfzk402uTLQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">nefarious USB cables this time on hack
five blow welcome to act five my name is
Darren kitchen and on this week's
episode we have once again in studio our
friend
mg what's up man hi jinks they are
abound I could be back I know right it's
wearing the same clothing to imagine
that so we got a grading a lot of great
response from doing some fun stuff with
exploding USB drives and doing keystroke
injection and stuff you then didn't stop
there right yes so a Southern California
Def Con group reached out to me and said
we would love to do a build party on mr.
self-destruct ah the problem with that
is if you remember from the last show
doing a lot of taping and all this
really non-standard work right I mean
this this looks kind of cool I mean I
love the idea that you can quickly
prototype with a if I can focus and
board like this which which is pretty
cool and of itself but I can imagine
that when you've got 30 people you know
trying to put together one of these
that's going to be a little bit more
challenging so what was your how did you
solve that well immediately I knew I'm
gonna have to create actual PCBs hence
these guys yeah pretty cool actually so
how do you go about making your own PCB
I must admit I have never done that I've
always just said good questions like I
know you know you just go into Eagle CAD
you do you make a board you export a
Gerber you send it to a shop and bam
there you go right you knew you know
more than me at least when I started
this so yeah I started looking around
and yeah hey use eagle CAD and all these
other things I get Eagle CAD look at it
it's like wow there's gonna be a decent
learning curve for it for for
accomplishing this and I don't know I
just didn't have the patience at the
time so I just asked the community and
again a lot of suggestions expressed PCB
or as a PCB express they were a
recommendation and their model is you
get three boards shipped to you in like
three days and you
whose really easy software that's their
whole model so you know tried out their
software and it was actually relatively
easy to get set up already had the lay
out in my mind I could draw it on paper
I just need to get it made right so that
got me there that's that's where I got
these boards for and I love that this is
like yet again that story you know I had
the same kind of conversation years back
with Mike Osman when he was developing
the uber tooth one which was you know he
was a hardware guy he was like I have
this need and I need to make this you
know Bluetooth device and I guess I have
to learn how to make boards and is one
of those things where it's just the same
way like hey I need to rotate logs and
oh cool log rotate or you know bash
script or whatever have you or you know
back in the NT for days in the batch
file whatever have you you learn what
you need to do to get the thing done so
that you can move on with you life and
in this case you're like look it's a two
layer board ego CAD cool maybe we just
start with the basics and it sounds like
you were able to very quickly go from
this with a bunch of copper tape to this
which is a super tiny PCB you can kind
of see those traces there oh yeah yeah
it's nice it's smaller too no joke so
actually you were able to you know save
a lot of space though I am noticing it
is not a pretty thick PCB what is that
yes so that's a 1.6 millimeter board
which is relatively standard and it's
kind of the only offering I had
available at the time if I was doing
this again I would definitely try for
0.4 0.2 millimeter board considering the
goal being small right yeah you
definitely want and like tiny when
you're talking about like what you're
doing next is implanting stuff yes yeah
I don't know about you guys but did you
all get it super inspired when you know
through the whistleblower Edward Snowden
the leaked ant catalog and suddenly
you're like those are the toys that the
NSA is playing with to us why don't I
have those I know right Batman utility
belt yes and so it's like you know roll
your own
why not so a smaller faster cheaper you
needed to then take this and what pair
it with well I guess in this terms
you're still using the same eye
see right yeah so we talked about last
week you were yeah scavenging this I see
off of a cloned what was it called a
spark did you spark yeah and this isn't
a form factor that's that's what with
the little legs there s oh I see so week
eight eight is just the number of legs
on it yeah yeah that's the so I cake
package and it's an eighty tiny
eighty-five chip that comes in multiple
forms this is one of their smaller ones
but they have a much smaller one called
the qfn package right so this is very
awkward has an even tinier chip you can
see that right there
whoops and what's that package cuz
that's like I mean it's not quite BGA
but it is I mean the the contacts are
underneath the chip but it's I forgot
the qfn stands for yes qfn and in
addition to being a smaller footprint on
the board it's also a lot thinner so I
was probably like a quarter of the the
height of the the sweet eight which if I
was going to reduce this even further
and I would love to you know reduce the
thickness of the board and switch over
the qfn package I can dude I can only
imagine cuz like you've got this tiny
PCB that's even got like vias going
underneath other components just to make
it even smaller
it must be sitting there with like a
pair of tweezers like like don't have
any coffee that day because yes Wow and
you just yeah with the heat gun what are
you use yes sir iron actually yeah you
mentioned the the footprint so the
default footprints when you kind of
import like a soy cake footprint for
your PCB program it comes out and you
know drops a standard size which has a
lot of Tolerance built in for that for
the chip to sit in various places and
and it allows for ease of soldering and
other things like that I didn't care how
native actionability yeah exactly
I wanted small as possible so I was
shrinking it down as much as possible I
was the vias which is the pass-through
of the board when you're connecting the
top layer to bottom layer I was putting
those underneath the actual contacts of
resistors and the the soy gate package
to just reduce the footprint as much as
possible but yeah when I'm assembling
this I will I will pull off that little
tiny piece
you got to either tape it down or clamp
it I've been using foil actually because
it doubles as a heat shield and yeah
primarily what I will use is a mini heat
gun like a reflow solder station I will
heat one side of the board use solder
paste which melts down into solder that
you know then attaches like you're used
to but it comes in a liquid form so it's
nice to instantly apply to all the
locations and I try to do one side at a
time and there's a lot of nudging the
parts are so close together you have to
nudge them gently with the tweezers and
kind of trace the foil around the edges
of other components so they don't start
getting liquefied and dropping off the
board it's it's fun I love this too
because you know you went into this
without that kind of like you know body
of knowledge that a you know electrical
engineer would have and at the same time
like one might be watching now and just
cringing yes or the other and it might
be one of those things where you're like
well since I don't know the rules or the
best practices and what I'm trying to
achieve is this you can get a lot more
creative and you know maybe explode some
stuff along the way but you know that's
just part of the process yeah
oh I definitely lost I should have
brought my bucket of broken parts right
so then that leads since you've got a
much smaller footprint now yeah we're
here on PCB and we didn't for this
footprint these are plans we're still on
the the soy cake package with the 1.6
millimeter board so with that is where
we start to step into the next things
right so walk me through these Wow what
are these guys absolutely so I was
bouncing around Amazon and I noticed
these right here it's it's meant to
repair the ends of a USB a connection or
add one to the end of a cable so like
you know a fix-it kit if you will yeah
or USB that just kind of snaps together
right yeah so basically you would solder
on through those those contacts in there
you would solder on the before cables of
the forth ones four lines of the main
cable man USB 2 is like the most dead
stupid pin out I love it because it's
like it's like cat 5 it
easy yeah you don't even use half the
wires well in these you do use all four
yeah so what I did is took one of those
I kind of carved out some extra space
just because these boards are still
thick and then I just dropped the actual
PCB right inside of there Wow so that
fits right in here there's a lot of any
still and you can I you know there's a
ton of space that's kind of crazy
and you flip that out and there's your
main I see and I see you really actually
scratch down yeah I needed to like half
a millimeter Boris okay so right what
you wouldn't have if you went with the
smaller pad so or just a smaller board
right right thickness right there so
that's you know and I can see where this
is leading is like oh hey this is like a
USB boot that nobody would think there's
you know something inside of I mean oh
yeah I know for example like right after
the ant catalog leaked my Cosman was
doing cool stuff with retroreflectors
and like little wires inside of USB
cables to exfiltrate stuff how amazing
is it to be able to like implant your
own goodies inside of I'm seeing that oh
yeah I'm do a cable oh yeah so let's
talk about cables yes definitely so this
is you know the the first step into the
cable itself so I made a USB see I'm
sorry I've made a USB a two micro USB
cable out of this and you know just
looks like a cable you pick it up it
plugs in acts like a ducky great then
somebody said hey let's just use USB see
because it's smaller and you can't do
anything inside of it naturally that
made me want to look into the USB see
stuff and here's our USB see this is
again another repair boot right in so
you can you tell the difference between
the repair boot and and an original
because like if that's it's pretty close
in size original it's a little bit
bigger much bigger it's you're gonna
notice if they're side-by-side you're
staring at them but if it's just this
this on the end of
a cable it's gonna be a lot harder to
notice Wow but right here let's see if I
can show this off so the blue portion
from here down is the actual USBC end
from here up is the actual chip itself
oh well you can actually see if you've
got a PCB next to it there it is and
then if we flip this over see the
backside of it okay except in this case
we don't have the MOSFET we don't have
that yeah you know the resistance wire
so yes it's not an exploding Drive yes I
left that off save space and I'm kind of
just reusing the board's here to have
the really small package and drop it
inside of the boots of cables also had a
request to do the official Apple
lightning cables which we can look at it
oh right right so if this is your
traditional Apple cable and just move
these guys aside yeah here we go
and then the repair boot you can tell
well actually this is like okay now
pause the video and figure out which
one's worse yeah clearly this is the
repair boot but when you put it next to
the original cable it's it's not that
much fatter yeah I definitely would fall
for that and I'm assuming you've done
very similarly you've you've yeah can
basically put your little chip inside
over there yep exactly that would fit
yep and I generally will end up cutting
off most of these contacts over here
just for more space because you really
only need just the very edge of it to
solder on to you and then well further
allow space for activities within the
cable you know it's speaking of activity
it's what I love is you know talking
about the USBC front how you know my
joke like oh you know and clearly there
isn't the wire for the exploding bit but
you know this is if this is a USBC and
there's power delivery and there's
potentially 60 watts going through this
it is data passing through here when
you're doing this is it still function
as a regular cable or exactly the duck
only so depends how you build it I've
got the lightning cables for instance I
can either pass power
or pass data through it a little work I
probably get both happy at the same time
the USBC spec itself is a lot more
complicated so I've been a little more
cautious with that that's crazy pin out
exactly I haven't jumped into it too
deeply yet I suspect I'll be able to at
least get charged passed through which
would be great because the new Apple Mac
books for the last I think two years
they're using the USBC
ends to charge the MacBook so you've got
a data line that you are charging your
MacBook with oh dude it's becoming the
de facto standard for I mean it USB
became the de facto standard for
charging like a we can give five volts
out of this thing maybe an amp maybe two
amps and and now finally it's getting
like you know properly certified like
okay here's the specification it's
called power delivery yes yes exactly
right and those those things are gonna
be left in conference rooms
there's stationary objects and if you
leave an infected one in a conference
room or a shared space it's gonna be an
interesting situation
yeah and it's definitely one of those
things that raises eyebrows and gets the
powers that be to maybe think a little
bit more mindfully about endpoint device
security and just the whole gamut you
know I know that a lot of these tools
are including a lot of particles are
just used for that kind of awareness
because it is the physical manifestation
of a hack you know it is the okay well
if I had 30 minutes at your computer or
you could just like boop boop boop but I
don't I got 30 seconds so plug and play
yes exactly that's a lot that can be
done it can be done at later times
there's so many options so I love all of
the ingenuity involved in here and I've
been watching this on Twitter and
growing as you know from the exploding
duck to here where can people continue
to follow this journey and if they're
interested in doing some of their own
stuff learn from your mistakes and your
challenges and and what you've overcome
and yeah definitely uh my twitter is
underscore mg underscore i post a lot of
stuff up there but i've been trying to
keep a high-level summary of a lot of
that work at mg LOL so those are the two
places I would suggest checking out is
the best website ever you can actually
pick it up in
I was gonna save I know you can pick it
up in emacs no you can pick it up in
links sorry I'm just like pine Elm I'm
running through every old UNIX man but
yeah brilliant
um leaps compatible website there go and
check out mg lol with that I'm Darren
doc kitchen for a cool TLD and until
next week post your technical assistance
yeah you got it
best technology features guys domain.com
has all your website needs from command
dotnet domains to intuitive website
builders so you can take that first step
in creating an online identity let me
tell you there's no domain extension
like a.com or.net or if you want to
brand yourself domain.com has over 300
domain extensions like dock club and dot
space these guys are huge fans of hack 5
they're affordable reliable we've been
using them for years they've got all the
tools you need to share your ideas with
the world and because they're such big
fans they are hooking you up with 15%
off their already affordable prices so
get domain names and web hosting and
email and just be sure to use that
coupon code hak5 so when you think
domain names think domain.com</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>