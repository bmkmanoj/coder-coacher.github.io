<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>WiFi Pineapple Primer - From Recon to PineAP | Coder Coacher - Coaching Coders</title><meta content="WiFi Pineapple Primer - From Recon to PineAP - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>WiFi Pineapple Primer - From Recon to PineAP</b></h2><h5 class="post__date">2016-01-01</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/eHnQwTCKe2o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello i'm darren kitchen and in this
video i'm going to go ahead and cover
the fundamentals of the Wi-Fi pineapples
rogue access point sweet as there are so
many newcomers to the project and i
would like to welcome you all i
encourage you to join the conversation
you'll find the links to the forums over
at Wi-Fi pineapple calm and if you're
new to the project this is going to be
an extremely brief tutorial in terms of
the wife of pineapple features but it
will hopefully give you a basic
understanding of that core
man-in-the-middle functionality now
please keep in mind this is version 1.0
of the generation 6 Wi-Fi pineapple
software so some things are subject to
change I am recording this on January
1st 2016 and this is going to be the
same interface that you will find on
both the Wi-Fi pineapple nano as well as
the Tetra so in this sort of
demonstration what's happened is I have
been contracted by Bruce Wayne to audit
the bring your own device policy of
Wayne Enterprises you see over time
employees have started to bring to work
their own laptops and tablets and
smartphones and as such it's really just
become a headache for IT so I have
actually traveled to their headquarters
in Gotham City and I'm going to be using
my Wi-Fi pineapple to discover all of
these vulnerable devices you know make a
nice little report for IT and get paid
so first thing I need to do is go ahead
and set up my Wi-Fi pineapple with an
internet connection there are a few ways
to do this
be it a Mac Linux a Windows box or even
Android with the Wi-Fi pineapple
connector app but I'm going to go ahead
and show you guys how to get everything
set up in Linux so let's go ahead and
use the wp6
script alright so this script is going
to go ahead and set up ICS for you
pretty quick and simple and the first
thing it does is show you the settings
that it's used before
I've already set mine up mine's on f17
because I've been playing with a lot of
pineapples yours will probably be f1 and
then your van will be different mine's W
land 0 because I'm connected to the
Internet through wlan0 over Wi-Fi
whatever have you any way you can say no
and and set up the settings to your
liking and once you've done that you
have the option to save these settings
for future use so all you have to do is
like I'm about to do press ENTER and
boom we have our connection so it'll
prompt us to go ahead and browse to 172
does 16 dot 42.1 let's go ahead and head
over there on port 14 71 and we'll login
all right first thing I like to do is
under bulletins click load bulletins now
what this does is it has the Wi-Fi
pineapple connect over to Wi-Fi
pineapple comm and grab the latest news
and announcements two reasons first of
all keep it on these announcements as
new features and things of that nature
come up we encourage you to check those
out that's going to be where all the
good stuff is but it also verifies that
your pineapple does in fact have an
internet connection which is very
important for what we're about to do
okay so we're in Gotham City we're
walking around the headquarters let's go
ahead and see what we can find first
thing we need to do head over to recon
we're just going to be plowing down this
list here we're going to go and recon
and choose an AP and clients can now as
opposed to your more traditional war
drive scan that you may be used to where
you see just nearby access points this
is going to show us both the access
point as well as its associated clients
in kind of a child parent relationship
right we can also choose the duration of
our scan now I left it at that default
15 seconds but you can go ahead and
choose a longer scan the longer you scan
the more of the Wi-Fi landscape you're
going to be able to see you'll also be
able to check this box here for
continuous if you would like and that
will continuously scan at whatever this
interval is so if I set it to 30 seconds
every 30 seconds it would be updated
with new information let's take a look
at our scan results first off we see
access points and then underneath those
we see the clients now the only thing we
have from the clients are their their
MAC addresses but we can go ahead and
see those as far as the access point
here is Wayne enterprise guests so I
guess the the guest network ethics
corporation you can see the security
it's open it's on a channel 11 we've got
great signal strength I got a couple
other networks here but nothing of
interest new clients on those we can
also see unassociated clients so you may
be wondering what's an unassociated
client that is a device be it a tablet a
phone
a laptop computer whatever have you it's
a Wi-Fi device that is not connected to
an access point currently however it's
sending out frames so it's looking for
an access point so this might be
somebody that that's enticing and if we
you know set up our attack right they
could connect to us now
since we have been contracted by Wayne
Enterprises by Batman I mean sorry Bruce
Wayne to go ahead and do this audit I
don't know if this is one of their
employees so I'm just going to leave
that be but I do know that these guys
are fair game so what I'll want to do is
set up my attack so only these devices
can connect my Wi-Fi pineapple now the
reason for that is I want to limit
collateral damage as much as possible
and to do that I can just go ahead and
from the context menu little menu button
next to each of these MAC addresses I'll
get a little dialog here and I can
choose to go ahead and add these MAC
addresses to my PI ap filter well
similarly we can do tracking and deaaath
but we're going to talk about those
another time right now let's just run
through these and I'm going to add all
of these to our PI ap filter so just a
moment as I add all of these and then
we're going to go ahead over to
filtering and take a look and see what
that did all right and the last guy
great okay now I'm going to go ahead and
open up a new tab here and we're going
to go ahead and leave this recon view
open reason being was we're going to be
using this recon view a lot so I'd like
to have it just in its own dedicated tab
as we go down to the rest of the stuff
so next thing up let's go ahead and look
at filters keep an eye out here all
right we've been up for 10 minutes we
don't have any clients we don't have any
SS IDs in the pool we'll explain what
all of that is so under filters I can
see now I have the MAC addresses of all
of the devices that I would like to
filter for and we can filter by client
or SSID so clients would obviously be
laptops tablets smart phones things of
that nature SS IDs are access points in
this particular case I don't really care
about filtering for the SSID I know that
I'm only been authorized by Bruce Wayne
to go ahead and audit his network so I'm
only interested in his clients so what
I'm going to do there is for the
corporation I'm going to set up these
MAC addresses as I've done from the
Recon view and I'm going to set it in a
low mode so what that means is only the
MAC addresses or only the devices on
this list are actually going to be able
to connect to the pineapple now
similarly I can switch it over to deny
mode and now everyone can connect to the
Wi-Fi pineapple except for these so let
me switch it back to allow because I
only want these guys to be able to join
and of course we can go ahead and you
know add our own as we prefer by just
going ahead and typing those in there if
we want to remove one you can just click
to select it and hit remove it's that
simple okay so that's filtering go ahead
and set up our filters but now we need
to go ahead and set up our pine ap pool
so let's head over to pine ap this is
where a lot of the rogue access points
stuff is set up and I'm going to breeze
through a lot of this there's a lot more
information about pine ap we can get
into the nitty gritties but just to set
up this attack I'm going to be using
some of the basic functions first of all
I'm going to allow associations what
that means is it well it does just that
it allows clients to actually connect to
the Wi-Fi pineapple but in a way a lot a
lot more extended than your typical
access point where if I name my access
point fubar and you're looking for fubar
and it will allow it to associate to
fubar this is going to say hey if you're
looking for fubar I'm going to reply
back and say yes that's me I'm fubar if
you're looking for XYZ I'm going to
reply back and say yes I'm XYZ if you're
looking for Batman's secret lair I'm
going to say I'm Batman secret lair so
that's what allow associations does next
thing that we want to do is set up our
logs we want to log probes and
association's probes are those things
that client devices send out seeking out
access points and associations are what
happens when an access point and a
client device love each other very much
and they connect one another the next
thing down is pine ap demon
now this daemon it uses the second radio
on the Wi-Fi pineapple device and by
doing this we're going to go ahead and
check this box that will enable the
daemon and allow us to actual
they go ahead and set that up it will
use that second dedicated radio in a
role specific to sniffing and injection
so I just point that out just in case
you're using your second radio for
something like quiet mode which isn't
really recommended because it's really
best for being used by the pine AAP
Damon because what it allows is now that
this is enabled I can check these three
boxes and use beacon response which
which reinforces a little Gintama C of
an access point I can capture SS IDs to
the pool again if I look over here to
the right I don't have any SS IDs in my
bowl and I can broadcast all of those as
society's out as beacons hundreds of
times per second and our pool can can
contain hundreds or thousands of SS IDs
and so what that means is our our little
Wi-Fi pineapple in addition to having
that allow associations checked by
saying hey if you're looking for XYZ I'm
XYZ we're also using this capture SS IDs
to pool meaning we're actually sniffing
in the airwaves and and looking for what
other devices are looking for so if a
nearby device is looking for guest Wi-Fi
we're going to pick that up and put it
in our pool and then because this
checkbox for broadcast aside e pool is
checked we're also going to beacon those
out so the longer that we have this
device set up with capture SS IDs to
pool the more SSIDs will end up in here
and the more would be broadcasting out
the higher likelihood of connections and
things of that nature of course you can
choose you know many different pine ap
configurations depending on exactly what
you're trying to accomplish here you may
not want allow associations whatsoever
you may not want beacon response to
broadcast aside d SS IDs you may just
want to be completely stealthy and only
being passive and listening to what's in
the air and logging this for further
analysis and things of that nature so I
just want to point that out we can talk
about source and target Mac another time
because those are very specific to like
some spearfishing stuff as well as the
broadcast SSID pool these intervals we
can set these I just say leave it at
normal for right now so I'm going to go
ahead and save those pine ap settings
all right one more thing I want to do
this is kind of fun this is new to the
sixth generation under configuration I
have this landing page and as you can
see it supports PHP I'm just going to do
some HTML at the top here I'm going to
put it in bold and I'm going to say
Bruce Wayne is Batman Batman one word or
two Batman just seems like if I could
type seems like seems like should be one
word I'm sure somebody will let me know
in the comments but anyway I'm just
doing that because you know I'm
expecting as a pen tester to get fired
after this audit you know because then
Batman is going to get all upset for
outing em and then it's going to show up
at my doorstep and it's going to be all
sorts of bad fun so all I have to do is
switch this over to enable and hit save
and BAM now we have a Batman landing
page so what does that mean well it's
sort of like a captive portal you may
have joined a network in the past
whereby before you could browse the
Internet there was like a splash page
that had something like a license
agreement or an acceptable usage policy
or some advertisements or whatever have
you this is very similar to that and so
depending on the device that's
connecting and its vendor implementation
and operating system and all of those
and sundry features it will either
automatically pop up or the user will be
prompted to to that go to this landing
page or if they just try to browse to
anywhere they try to go to example.com
they'll end up here so what's happening
is the Wi-Fi pineapple is funneling all
web traffic to this landing page you can
use your imagination
PDF iframes Java applets you know
JavaScript you you know get get creative
with this but that's the landing page in
a nutshell so with that enabled we'll
actually be able to see statistics on
our dashboard from connected clients so
far oh we got one client connected
obviously one SSID in the pool already
oh that's interesting let's come back
over to pine ap and see what that is
well look at that it's Wayne enterprise
guest I was actually just about to show
you how to add that manually by clicking
the menu button from
our recon view and hitting add SSID to
pool but it's gone ahead and done that
for us and the reason being is devices
probably these are sending out pro
requests for Wayne enterprise guests so
it's sniffed that up and added it to the
pool for us and now it's beaconing that
back out so what else do we see on our
dashboard we actually already have one
client well there's only one client that
it could be because of our filters it
can only be these so if I go ahead over
to clients there we go and we have one
of our clients they even have a little
kick button here if we don't want this
client and kick them off the Wi-Fi
pineapple network so what's interesting
about this is that now this client right
here is connected to the internet
through our Wi-Fi pineapple and thus
through our laptop here so if I fire it
up Wireshark or things of that nature I
can now see that Internet traffic and
just you know use your imagination
wherever we see MAC address is a lot of
times we can hit this menu button and we
can add those two filters as well and
we'll talk about tracking another time
but let's go ahead and make this Network
a little bit more enticing so we see we
have all of these clients here connected
to the official Wayne enterprise guest
but we're going ahead and spoofing that
now with Pyne AP with all of those boxes
checked so let's go ahead and rather
than individually check these and click
D off what will actually do is come over
to the Wayne enterprise guest network
and from its menu will go ahead and DF
client so what it's going to do is it'll
deal off all of the clients that are
connected to it that we can see and
that's important to note so we can see
that one and that one and
that one that one so it's going to go
ahead and Diop those for us and it's
going to use a multiplier of one what
that means is depending on you know how
aggressive we're trying to be we may
choose to send more frames or less
frames but essentially the way that it's
set up is two is twice as many as one
three is three times as many as one so
it's not three frames but it's three
times as many as what one would do I'll
just go ahead and choose one and click D
off so that's gone ahead and set D off
frames over to all of these devices
spoofing as the the network as the
actual the Wayne enterprise network and
maybe I'll go ahead and do that again is
to just so that we just make sure that
those all saw that okay and now we come
back over to the dashboard alright so
now we have three clients connected
we've got two s societies Interpol and
all of a sudden we have browser
statistics from our landing page which
means that we've seen four can let's see
four connections from other not sure
which browser and one from Chrome so
we've gone ahead and we've enticed
devices they've connected to us we can
see here the stats from those different
browsers that have connected to us if we
come over to clients we can see one two
three four one of them is a desktop
where we don't always get the hostname
but a lot of times we do we don't always
get the IP address a lot of times you do
we don't always get the SSID that that
all depends but if but chances are if
under pine ap we have log probes and
associations checked we will another way
to also look at this rather than just
from the clients view is actually to
come down here to logging and we can see
what's been going on so we're right now
displaying probes we're displaying
associations go ahead and remove
duplicates I'd like to do that just to
make a little prettier easier to see we
can see there was based on these
timestamps there was a probe request
from this MAC address here for Wayne get
an enterprise guest and then an
association from the same one
place this client over here actually set
a probe request for Linksys and
associated with us as Linksys so there
you go we're we're emulating more than
just when enterprise guest but again
because of our filters we're only
allowing those clients on this premises
that we've been audited to scan so we
can actually if I wanted to I could
choose say this and copy it if you just
single click any of these it's nice and
just highlights all of that but I'm
going to go ahead and show you a little
bit of filtering so if I paste this now
into the SSID field apply that filter
now I don't see that link since I'm only
interested in these guys and similarly I
can show just associations and you can
see I get four unique associations
DuWayne Enterprise guest and that's
logging so there you go a brief tutorial
and huh it's funny I just turned my head
over to my Windows machine that just
popped up just popped up chrome and said
Bruce Wayne is Batman I wish you guys
could see that's most likely desktop 99
something so fun stuff I hope you
enjoyed that a few other real quick
things that I wanted to mention this is
just kind of skimming the surface on the
man-in-the-middle capabilities and the
pine ap suite but in the future you'll
be able to add modules through module
manager and that will extend the
functionality with additional features
additional programs that will allow you
to do things with those traffic and
things of that nature so just keep an
eye out for that also the help feature
is pretty good it's got a lot of
information about all of the stuff that
we just talked about so if you want to
go over some of that stuff there's quite
a bit to just dive in and start learning
as well as from the forums I highly
encourage you to head over to Wi-Fi
pineapple comm click through to find the
forums and join us there join the
conversation you know let us know you
know if you've got feature requests or
if you found out what you think is a bug
or you know whatever have you there's a
lot there's a huge community there
that's very supportive and I thank you
for being a part of that and then lastly
before I go I should never do a video
without also mentioning that from the
advanced menu please check for upgrades
do this frequently click that and see if
there's well there's no upper age for me
now I'm on one point 0.1 but hopefully
by the time you know you're watching
this soon there will be some more
updates and we've been continuously
updating the the Wi-Fi pineapple project
we've had a ton of different you know
firmwares we've had a ton of different
modules or infusions as we were
previously called so I highly encourage
you to check that out and just you know
keep an eye on that also from the
dashboard you know load those bulletins
so you can stay on top of all of the
latest developments I really thank you
for making all the way through this long
video and I know that there's so much to
this and if you're new to the project it
may be a little daunting but just by
giving you a little simulated
run-through here in Gotham City I hope
you feel more confident about it if you
have questions of course leave them in
the comments as well as in joining in
the discussion over at Wi-Fi pineapple
comm and go ahead and click through to
the forums thanks so much guys i'm
darren kitchen and i will see you all
soon on the Internet</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>