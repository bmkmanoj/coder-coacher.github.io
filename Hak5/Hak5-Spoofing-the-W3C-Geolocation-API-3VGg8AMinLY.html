<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hak5 - Spoofing the W3C Geolocation API | Coder Coacher - Coaching Coders</title><meta content="Hak5 - Spoofing the W3C Geolocation API - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hak5 - Spoofing the W3C Geolocation API</b></h2><h5 class="post__date">2011-08-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/3VGg8AMinLY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this time on the show don't like Dropbox
that's okay we've got a cross-platform
alternative for you how does Google Maps
find your location without GPS and can
it be spoot we'll find out all that and
more this time on hak5 this segment is
brought to you by domain.com hello and
welcome to hack 5 my name is darren
kitchen and I'm Shannon Morse and it's
your weekly dose of technol us I feel
awkward Darren why is that Shannon why
do I have this on my head because you're
a sci-fi bonnet person under the aliens
yes the aliens yeah coming together
they're coming actually now we're gonna
be definitely coming before and it will
all happen again the eternal return I
would compute ate it um so check it out
we are going to be having a lot of fun
with a little bit of not GPS spoofing
but spoofing geolocation data that could
be collected by you know Google Maps or
any kind of website that's using some
really nifty new AP is for geolocation
right what are you up to I'm going to be
saving my data in the cloud with a very
geeky program yeah yes good cuz I've
been looking for an alternative it to
dropbox since the data i found an
alternative for you yeah okay that's
very secure good cuz I'm all about this
actually yeah so get this i'm sure
you've you've seen in the news how
google's in hot water again for the what
is it the collection of before it was
the google street cars that were like
getting the Wi-Fi data and it was like
an encrypted what network it's like
please people in crypt your network but
otherwise mom it turns out that that
more than just access points supposedly
were collected you know we talked about
just on hack tip last week about how
beacon frames work and how I access
bacon frames is always broadcasting like
hey I'm out here Darla's bacon here's my
bacon friends bacon friends now I'm
getting hungry sorry um I said bacon it
was
and and totally irrelevant but the idea
being that your access points are always
like saying you know where they are and
stuff like that but you know the it's
not just access points to have that
unique identifier that unique MAC
address or bssid your laptop any
wireless radio has an a unique MAC
address unless you're you know being a
crafty hacker and use Mac changer and
doing whatever that way um and
supposedly this were collected and bunch
of people are all fussing and some other
privacy again so i figured wouldn't it
be fun to see if we could actually spoof
our locations based on the way that
works really yeah now recently Samy
Kamkar you remember him from remember
the was it called the myspace worm where
Sammy was able to get everybody to be
his friend yes I remember that so it's a
great cross site scripting vulnerability
he's actually put together a great page
over at Sammy dot PL / android map where
you can just plug in the mac address or
the bssid of a router and then find out
using Google's api's where that's
located oh if I was able to social
engineer you or get you to click a link
that cross site scripting vulnerability
on your router I'm pretty sure one of my
friends was able to do that back in
college when I was nothing with them
yeah well the idea was that you know
like if i can get you to click a link
and then all of a sudden I've got your
mac address and then you know is one
thing is leaves none the you know
eventually I'm a family okay just kind
of thin but the ideas i can find out
your location that's kind of scary I
don't feel too good about that well
thankfully that's actually Google shut
that down I think I can't do that
anymore um but the reason why that's
even available is because though w3c
geolocation API and it's an application
programming interface put together by
the World Wide Web Consortium there the
happy people that give us the code ah
right well it's a they've put together
the standard for telling what clients
geographical location is and basically
the client will gather geographic
information by IP address by the Wi-Fi
access points nearby area as well as gsm
cdma sells nearby and of course if you
have a gps of course the accuracy really
just depends on the data so if you only
know the IP address best you can do is
like narrow down to your town of course
yeah so and then you know if you had GPS
would be pretty spot on but it's
interesting how the Wi-Fi data comes
into this the API is actually kind of a
new thing it's only implemented in the
modern browsers so you're like firefox
3.5 opera 10-6 internet explorer 9 late
to the party come of course yeah and we
can just test this api with some example
scripts here i actually have some Java
scripts that I have running on my
localhost and if I pull this it'll find
me here in Richmond so the same thing
works over here in Google Maps when you
click this little blue guy over here and
it says find my location and if you
allow your browser to do so it will
it'll determine it and now it determines
your location based on wireless access
points and that's done by referencing a
database of known wireless base stations
and their characteristics such as well
like we talked about the unique MAC
address or bssid that they're sending
out and it's a technique that we're all
know it's near dear to our heart it's
called wardriving oh yes wardriving is
fun I mean I've never done that myself
of course hybrid we would never wore and
drive at the same time no work yeah fly
makeup and cell phones and maybe anyway
I make up ya know anyway so um one of
our favorite tools to do that Nets blows
netstumbler on windows of course kismet
on Linux palta panic is Mac on OS 10
kids Mac yeah all right and then there
are there you know companies that
collect these and maintain these Wi-Fi
station location databases such as
skyhook you may remember them they
provided the location information for
the iphone i do up until iOS 3.2 and
then you know Apple started using their
own database there's nothing I want to
have them though another database
maintainer Google formerly collected
them from street view cars now they
actually collect your location data from
people with android cell phones and it's
kind of a you know a feature that
anonymously click
data sends it back to the cloud it's an
opt-in feature though you know and of
course a skyhook Apple Google their
databases for the most part proprietary
but there is an open-source alternative
what is that it's called wiggle net I
love open source code on Red Eagle net
and check this out they maintain a huge
map and database of wireless access
points not just that but cell stations
submitted by community members of war
drivers and with all of this in mind
today we're going to attempt to spoof
the location with faked access point
information using a Faraday cage and the
MDK 3 beacon flood tool that we used
last week on hack tip should I put more
of us on you should because there's
gonna be a lot of radiation as a 2.4
gigahertz of like good yeah although
kinda scared I think I'm gonna make
myself an antenna well actually this
this right here is my test Faraday cage
inside of this is a uber tooth 10 how it
was like cuz i know i know some ham
operators are gonna hate me for this but
basically i was like I need a Faraday
cage and I need it right now and I
didn't have like access to wire mesh or
anything so I took the uber tooth and I
took the antenna or an external external
antenna form wrapped him in this and if
I actually plug him in and run the
spectrum analyzer you'll see that
there's like it sees nothing and this is
just tin foil I mean I don't know what
other pretty I'm only looking for 2.4
gigahertz top yes yes I know there's
probably a better way to do it but that
works I built a much prettier box out of
ikea because you know guys how much i
love to hack ikea yeah and you know so
stick around for at the end of the show
if you're watching on YouTube that's the
third of the video clip and now you have
antennas right ok well stay tuned just a
bit cheers ben you checking out
spideroak and linux and first let's take
a quick break and check in with kirby
for the meow of the week
if you want to build a video website or
if your website has a play button I
reckon then get yourself a dot TV domain
a dot TV website lets you showcase your
original content and create a unique
site that's just another YouTube channel
just go over to domain calm and search
for the perfect TV domain for your new
idea then at checkout use coupon code
hak5 to save an extra fifteen percent
and if you need hosting for your TV
website don't forget about domain coms
web hosting plans they started less than
six bucks a month and have everything
you need to build maintain and promote
your site remember when you think domain
names think domain.com got a great idea
it all starts with a great domain domain
com</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>