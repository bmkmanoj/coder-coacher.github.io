<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hak5 - Homegrown VoIP setups with Free Switch - Christian Fernandez of Custard 1018.1 | Coder Coacher - Coaching Coders</title><meta content="Hak5 - Homegrown VoIP setups with Free Switch - Christian Fernandez of Custard 1018.1 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hak5 - Homegrown VoIP setups with Free Switch - Christian Fernandez of Custard 1018.1</b></h2><h5 class="post__date">2011-12-20</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/5uffKsNuev8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this time on the show home voice-over-ip
setups using free switch christian
fernandez a custer joins us then jolie
cloud OS is it cloud ease and jolly
let's bash watch scripts remapping caps
lock from the terminal and Jason
Applebaum on Carrier IQ hide your kids
hide yo wife all that and most this time
on hack five this segment of pack five
is brought to you by domain.com shins
gonna stops speaking now please
Christmas no almost okay happy holidays
okay
it's its holiday right they don't let
you say Christmas any good they do you
can say Christmas on the show I have to
get install Christmas welcome to hack
five your weekly dose of techno less I
am Shannon Morse
oh damn kitchen couldn't find packaged
Christmas holiday Hanukkah try Kwanzaa
try what is it called the Kwanzaa Konica
Christmas honey Oh
Hanukkah Kwanzaa yes I don't have the
package Chris mahanakhon ramen alright
let's get right into it then okay
alright let's do it oh well I guess in
the holiday spirit what is this that is
a gift from a fan whoo then we get to
play the game what's in my box um we
really don't know what these are anymore
but thank you for sending them to 548
Market Street because we love checking
out
ah dude hippie double San Francisco yay
brought this to Berkeley it would fit in
yes
oh my gosh what is this this is actually
really cool this is a Hanes technical
manual if you're not familiar with Hanes
they did all the modem codes in the 90s
and the 80s and all that stuff yeah this
is for me oh great show guys my bus
snobs could use a girly ducky for her
USB for Darren more haze flashbacks and
do you remember the Kermit transfer
protocol the project at Columbia
University just got canceled in July a
thirty-year-old application I wonder how
many hacks went through that code over
the years from Jim no jokes this this is
Museum worthy holy yeah yeah I totally
remember using the Kermit protocol it
was really slow way to transfer files
unlike Z modem an X modem yeah anyway
it's an 80 DT seven five seven two one
five four two five zero
whoa sorry oh I remember that noise I
used to have to like I I would get on
the internet really really late at night
and I would have to cover the modems my
pillow cuz I didn't know how to turn it
off
see I wish I knew that when I was
younger looks like what it saved me from
getting in trouble so many times let's
find the ATL 0s doing was building
websites on Geocities I don't know why
my dad was so upset maybe downloading
stuff from Napster legal yeah of course
of course of course yes absolute good
stuff ah this is freaking this is sweet
v38 I think I just already foreclosed it
oh god I know what he's gonna be doing
like all the rest of the day thank you
so much we really appreciate that yeah
that's you know we also love it we love
it when you guys send us in the little
tools and utilities and tweaks and
technology you guys have been working on
a PC freak did just such thing yes PC
freak wrote I found out that in
corporate networks Windows gets very
slow if you have windows shortcuts L&amp;amp;K
files pointing to no longer reachable
UNC Pass which often often happens since
users like it to create shortcuts to of
nearly any
everything on the desktop so the
specific problem that pointed me to the
above was trying to add pictures to an
Outlook contact I had to wait about 60
seconds until I got the file open dialog
from Windows this happens only once
after that it worked fine the next day
the same problem first try took again 60
seconds to open the dialog as I found
out windows especially Windows XP always
tries to enumerate L&amp;amp;K files and check
if the target is still there
this causes the delay and to be able to
fix this problem in the future without
manually searching for L&amp;amp;K files
pointing to non-existent UNC pass I
created a small utility called RTS bean
UNC Exe there's created using the auto
IT scripting language this source code
is included and you can get it at my
blog on this article and we'll link that
in the show notes and I'm just so it so
the tool what it does is it goes ahead
and it looks for for UNC file for UNC
paths in link files and then it
generates output like in a little log
file and all you have to do is rename it
to like a CMD and run it and it'll
delete them all or maybe you can anyway
I mean I always ran into this problem
with like people that would create
shortcuts to like shared directories
that were only accessible from our VPN
and then when they're not connected to
the VPN the open dialog in Windows XP
being them being what Windows XP is so
thanks for sending that along because
hopefully somebody else is out there and
it has that annoying user take not that
always calls them with the stupid
computer problems and the thing not
working and it's like we just run Linux
or something anyway I'm sorry I'm gonna
get out I'm just gonna I'm down now but
but thank you for sending that in PC
freak because we love little to
utilities like that an auto IT Otto's IT
scripting stuff is something that we if
we haven't talked about we really should
because there's some pretty cool auto IT
scripts you can use we use them all
ready to build pineapples here at hack 5
because you know it takes a while to
build in by hand so it's all like what
is it windows key ctrl z and it ten
minutes later boom you know take it out
of the oven
it works it's really creepy too because
you get to see your computer doing all
crazy stuff that you've programmed it to
do previously car oh well we'll save
that for later yes yes all right now
coming up Shanna's can be reviewing
Jolicloud OS and cinemates jolly but
first christian fernandez joins us to
talk avoid domain.com they're owning the
competition with cheap domain names and
no hassle service and our hak5 fans are
making domain.com one of the fastest
growing domain registrar's in the world
so whether you're setting up a website
to show off pictures of your cat or talk
about your new boning skills or
something more business-related
domain.com is the place to buy a domain
for you or new idea and domain.com
offers easy checkout process making it
simple to find your domain name and set
up your website with no hassle domain
comms domain discovery system quickly
shows you the available names making it
easy to select the right extension and
you know you can get yourself a sweet
calm or even a dot CEO and save a
character and if you already have a
domain somewhere else it's totally cool
transferred to domain comm for only
seven dollars and 61 cents and get an
extra year for free so the guys at
domain.com are such huge fans of hack 5
but they want to hook up our fans so if
you use the coupon code hak5 you get an
extra 15% off your next domain purchase
or transfer so that would be like six
dollars and forty seven cents for
transfer so ha don't forget when you
think domain names think domain.com
a great man once said in 1986 that we
make use of a service already existing
without paying for what could be dirt
cheap but wasn't run by a bunch of
profiteering gluttons and well welcome
to the future where it's super cheap
anyway and to talk about that Christian
Fernandez how are you Matt I'm good
Christian is a friend here from the Bay
Area that is a co-founder of ACE monster
toys the hackerspace here in Oakland
yeah and I'm also a co-founder of get
custard calm we do a thing with voice
which I guess we're going to talk about
it well yeah I figured you know why not
it's it's always great when we can get
some experts in the studio to just kind
of kick around fun techy topics and this
is just one of those as you guys know we
love the wipe in fact Paul here back
when he had hair cut to the clip now
back in like season 3 we did a segment
on asterisk awesome voice over IP open
source service and we put it on like
some really underpowered links its
hardware but now like so much has
changed
tell me about free switch so free switch
is essentially spin-off of asterisk not
in the traditional sense of it was
forked from the asterisk codebase but
lead dev on asterisk Anthony miss Sally
I think his name was decided asterisk is
just too buggy and too unstable for
production work so he said hey I'm just
gonna do I'm gonna take everything we
learned doing asterisk and I'm gonna
build a strict asterisk version 2 and
we'll call it free switch and that came
out in 2005 if she doesn't
somewhere between 2005 and 2008 Bruce
which claims to be the world's first
cross-platform scalable free
multi-protocol soft switch meaning it's
a PBX it's a PBX it lets you connect a
bunch of phones to a thing and then make
computers do things to it I love it when
you you send your code to their code and
you make happen it's good it's good
you can do I use it personally at home
too to connect to my my front door is a
little gate a little buzzer and they you
know just dial your phone and and that's
what I used for I I have it you know so
someone comes at the front gate dials a
bunch of phones ringing someone answers
yeah you notice that we don't use the
buzzer at the apartment building anymore
everybody's just like this is a
glorified doorbell what it is
yes yeah yes and now it's an even more
glorified doorbell I haven't seen of
EVPs okay so tell me about this why use
a voice over IP service just so that
somebody could mean your doorbell and
what are the features that the existing
service didn't have right well one of
the things that I do is that I have a
couple of lines I live with my
girlfriend and she sometimes wants to go
to the phone heads of the revell and not
wait for me to pick up the phone so I
have it bring a bunch of phones in
sequence when you know just in case
someone's not there hit the landline if
that fails hit the cell phone of that
pail hit your pager
I'm joking really want to you can do
tricky things like have a webpage where
you can just click a button it'll send
the dial tone the DTMF and open your
yeah like you'll get alerted on a
website and you can just open it
remotely okay so it'll send the tone
yeah to to open the door awesome yes so
you can do all sorts of nonsense and
uses free switch to do this and why not
why not using asterisk well so I mean
like I said asterisk just has a lot of
problems with stability they have so
core design decisions were made way back
back you know in nineteen Oh must've
been two thousand something just prevent
it from being stable under heavy load
and you know my phone my front door
buzzer is not exactly getting high load
but rather than deal with deadlocks that
I can't track down I just thought I'd
try a free switch out the other thing is
asterisk has this terrible programming
language that he used to manipulated and
the script files yeah a little you know
you learn to hate a little equals and
the greater than sign and you know the
free switch isn't based on a bunch of
configuration but it's a curation files
it's it's it's still Sam so you saw to
be a little bit of a nerd to to to
manipulate it but they don't watch our
show but it's it's XML so you know yeah
so it's a different kind of hate but
it's it's what the fun thing about this
XML is that you can from inside your
your dial plan they call it you can
invoke an external script like say so
you write shell script or Python or
whatever your favorite language is so
that when certain events happen on the
phone system you have this event happen
right well so what you can do is you
take the call as it comes in you get the
session of the call and you can
you can play music - you can play audio
to it you can collect these that are
being pressed on the dialpad you can
collect all the you know the caller
information where they're coming from
and that by itself is like it's okay
transfer the call around but but where
it becomes interesting is now that you
have the entire Python standard library
behind you you can do things like a call
comes in you know alert send something
off to a server somewhere deep in the
database you know do a geo look-up on
the incoming call do all sorts of
nonsense so would you say that priests
which is more developer-friendly i it's
not necessarily more developer-friendly
it's more than me friendly okay
asterisk is very developer oriented it's
it's not something that you know the
typical you know home user would just
like instead the asterisk box there's
something called tricks box which lets
you do that but asterisk itself is not
necessarily that it's it is definitely
geared towards developers and a lot of
people build entire api's and services
on top of asterisk so it is developer
friendly but free switch is a little
more sane well I think that actually
like talking about that home user you
know that that like gets voice but
doesn't necessarily want to code it
their own or implement I mean I'm sure
it's just like some Debian packages and
some configuration identify some
tutorials right can't be that hard right
how hard could it be all right let me
break out my Gen 2 box but but back to
the home consumer how is this different
from your what would the service be that
you can implement different than what
you could just get for like but it's
like 5 bucks a month or less from Skype
or even just like Google Voice which is
still free this year I hope they still
extend the freeness for 2012 well I mean
like the biggest is that you're not tied
to a soft phone you know you're not tied
to your computer to get your phone calls
let's change a little bit now that you
know like things can get sent directly
to your cell phone but I mean for some
of us I don't like using mine like I
have a crappy a minute plan on my cell
phone so I just stay I'd rather not
waste those minutes on answering the
door so for a couple of bucks even less
than you know scratches 5 bucks a month
or whatever you can get yeah this is
alright so let's talk about that I mean
the SIP
and and all of these like like asterisks
can freeze switch and all those like
voice thing void things you know
competing with say Google Voice or or or
Skype you know we're already talking
about dirt cheap so how can we make it
even more dirt cheap I mean how dirt
cheap while we're talking because you're
saying that you're using like several
services tied in to make this
ridiculously cheap so if you just want
inbound dialing like if you in this case
like if you're just setting up a phone
system then you don't you know need it
to call the pizza man or whatever you
can you can there's a company called IP
call with a k' in Seattle and they will
give you a phone number in there
whatever area code that they happen to
live in and they will direct all calls
that come in to that phone number
directly to your sip server which means
as long as you have sip server running
you get free inbound so you so you run
your sip server probably fruits which
you know that's what you like on you
know your home server you know just some
some old laptop you got laying around or
even you say you're running on a virtual
private server I I run it on a VPS that
was really meant for something else
that was small 256 Meg's around oh do
it's figuring this on that you can you
can run it on nothing that's what your
old laptop</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>