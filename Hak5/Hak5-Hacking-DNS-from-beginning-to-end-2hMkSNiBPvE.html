<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Hak5 - Hacking DNS from beginning to end | Coder Coacher - Coaching Coders</title><meta content="Hak5 - Hacking DNS from beginning to end - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Hak5/">Hak5</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Hak5 - Hacking DNS from beginning to end</b></h2><h5 class="post__date">2010-10-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/2hMkSNiBPvE" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">then I'm on the ship DNF route 40 mark 2
with a little bit here
my name is darren kitchen your wedding a
5 from ah so again
this episode of hack 5 is brought to you
by the United States Air Force Medal of
Honor step up to tier 1 and domain.com
got a great idea it all starts with a
great domain domain calm hello and
welcome to hack 5 my name is Darren
kitchen and this is your weekly dose of
technology we have a wonderful show for
you guys this week we're doing some
interesting fun stuff with DNS and I
should probably say off the top of the
show that I'm a little bit loopy and
also thank you very much for all the
well wishes if you've sent messages by
like Facebook Twitter email whatever if
you're not aware we heard on I on buzz
out loud that like I got in a motorcycle
accident but my bike is ok and I was in
the hospital and and they stitched me up
and I'm okay and I now have like a
really cool cane so I get to like pimp
around and then they gave me these and I
feel better and I'm going to heal up and
and I'll be okay in a couple weeks but
for right now you're just going to have
to deal with the loopy and Oh buzz out
lads a podcast on SEANET I'm there on
Wednesdays so tune in at at CNET oh and
then I'm over at twit on Mondays just in
case you don't know with Tom Merritt
doing um tech news today and the scene
it's with like Molly wood and Rafe
Needleman I had to throw in that plug we
were talking about DNS we're talking
about DNS this week we're going to be
following up with last week's oh it's
sorry for the episode being late as you
might imagine kind of crazy week with
the hole getting hit by a car thing
DNS brute-forcing it's what we were
talking about last week we're going to
continue this week we're going to be
talking well we're just going to start
out recapping a little bit of what we
learned do a little bit of clarification
on some of the the finer points there as
well as talking about name servers and
zone transfers and then we'll play with
some tools like nslookup and Digg and
the
finally one of my favorite ones in
backtrack for fierce and do a little bit
of brute-forcing so we can have fun in
this wonderful little technique that's
called technique this thing called
enumeration which is basically just
seeing what's out there because how do
you know what to attack unless you know
what's around you know and yes so so
that's what we're doing today also
probably not going to have Jason or
Shannon or anything on I'm kind of just
rambling here anyway all I'm saying is
we're just doing DNS today so so you
know buckle up or something right so why
don't we define some terms because
because that's that's where we're going
to begin so terms you think it's really
cool how I like speed up how I actually
I really do write that fast mm-hmm
so let's talk about some terms right
host now what's a host well host is if
we say like let's write out let's let's
give ourselves an example so I'm going
to work with here right so w-w-w that
that's in frame right no that's not in
frame is terms in frame I'm just gonna
bring things down a little bit w-w-w dot
hack what's five come here dot org right
ww right there is our host I said last
week was there subdomain we'll get to
that it's actually that's our host what
does that mean right that means that
that it's a computer you know it could
be a server it could be a laptop it
could be a client whatever it's a host
it's just a computer not much more to it
then we also have zones right so so what
is the zone well the zone or all of
these things
or Gaza's own hak5 as a zone WW is a
zone and the you know you can have you
can have a ton of these and they're all
the little elements that make up the
domain name system namespace it's just
an element of the namespace so that's
the zone right whether you want to call
it a TLD for this guy right here
top-level domain right but zone and hak5
it's a domain sure it's also a zone WWE
hosted says own we could have we could
have like say like well yes so okay sub
domain right because I said that last
week right say like we had Corp hack
five org well that's imagine for
instance hack five is like these giant
corporation all the side right we might
have like east dot Corp and we might
have West that Corp and that that would
be that right there would be a sub
domain right but I'm not going to focus
too much on that at the moment we're
really just interested in these hosts
that little part that's a zone right IP
addresses as you guys know if we were to
like ping this for instance pull up my
terminal here I forget exactly what it
is hack five org yeah 66 11 so this is
equal to 66 that 11.2 27.1 24 right well
obviously you guys know that's our IP
address okay woohoo service
in fact service goes along with Damon
and you can debate all day long about
which is correct or whatever but
essentially these are two terms that
mean a server a service a attainment are
really all kind of interchangeable
sometimes I find more that people to say
service on the windows side of things
whereas Damon on the Linux side of
things but to give you a perfect example
here I is right it's Internet
Information Services I think right vs.
Apache what are both of them well
they're web servers they provide you
beautiful web pages so that you can tuck
them into your Firefox and hit go and
then you have low cats and so they're
both web servers
but one of them is considered a daemon
and one considers service but you know
what at the end of the day they're
really just a piece of software that's
listening on a port on a host that has
an IP address that you can hit with a
zone ah kind of cool right so I just I
guess I just did mention port and that's
this is where I need to clarify from
last week right so so we're talking
about web servers here okay
ww is the host that implies that it is a
that that it is a web server right well
there's this little : ad here right you
don't have to type it into your browser
because your browser automatically
assumes that your your web server will
be running on port 80 because there's a
there's a bunch of people decided to
make an RFC and then they all said yes
that sounds like a fine idea we'll put
web servers on port 80 and and really to
be honest there's you could run it on 80
81 82 whatever you want
there's a ton of common ports that
you'll find from 0 to 10 24 10 23 right
there's there's 1,024 what we know is
well-known ports 25 for SMTP and 110 for
pop and 80 for your your web server and
4:43 for ssl you know the list goes on
and on and then anything above 1024 are
uncommon like in to 701 5 you're a gamer
you probably know that as the source
port for where you can get your
counter-strike action on your gamer
right really all the port is is an end
point of communication where a service
is listening that it's going to go ahead
and communicate with you so while we
have right here our zone ww there's a
little thing called a record that points
to an IP address this guy right here and
on there there's a port maybe it's a t
and running on a t is this service here
called Apache that's serving you up web
pages now I just mentioned something
there and I just forgot what it was
it'll come back to me in a second port
record right record sorry
little loopy um record and we talked
about those last week for every DNS
element here right record we have a
record right so this wws zone it could
have multiple records one of the most
common ones is like we said last week
and a record which is an IP version 4
address which we know is right here 66
11 227 124 so this zone ww has a record
a which points to this address 66 11 to
24 1 to 27 124 which have a service
Apache running on port 80 which is going
to serve your webpages ft and thankfully
we don't have to really think about that
just type it into a browser and up it
comes and like we talked about there are
many more records C name for an alias to
another domain so instead of you
querying WW and instead of it saying
that an IP address it might actually
point you to another domain completely
which is what happens when you query IRC
to hack 5 org and appoints two SEC
though another one might be an S for
name server which we'll get to here real
real soon and I spoke about how like
bunch of awesome people back in the day
decided that 80 was going to be where
we're going to put your web server but
you can put it anywhere you want you put
at 8000 who cares right if you put it on
8000 in your address bar in Firefox
you'd have to put : 8000 because you
know your browser is expecting it to be
on 80 right there is actually a port
that that does matter and that is 25 why
does 25 matter well 25 is typically the
mail server port for SMTP this
implemental Transfer Protocol that makes
all of your emails flow
then you can put boxing gloves on and
check it a marrow right there's a
special record that goes with that it's
called an MX or mail exchange record and
what that record says is hey my SMTP
server is right here and for example on
hack five it could be smtp dock v dot
org and i would have an SMTP server
listening on port 25 because everybody's
got to have them on the same port and we
all have to have a record that says MX
that says where is my mail server so if
I try to send mail to your domain well I
don't know it doesn't know it's going to
be SMTP your domain it could be like we
said last week mail the hack five org
right so that record is important that's
that's the only one where I send that
the port numbers don't matter that port
number matters little tangent there and
as long as we're on a tangent I should
probably also clear up what I said last
week about how was I mentioning how you
know typically you could you have host
names like SMTP to hack five org we
could have pop dot hack five org in even
IMAP
and all of these are typical email
servers and I did this amazing thing
with an eraser where I said well or you
could just have mail in a race to SMTP
and pop and IMAP well that's not
necessarily always the case I mean sure
on hak5 org which is just posted on like
one server we could do that we could get
away with that because mail could cover
you know port 25 for our SMTP and 110
here and I don't remember over here
right but but the reason that you would
do this the reason that you would have a
different host 4ww a different host for
mail dot a different host for VPN dot
and corp dot and all of your different
whatever it is before the domain that
that zone right that zone is important
because we can have a different record
for each one
not just the MX record like I mentioned
here about the about the importance so
that we can actually all communicate
with our email right but they can have
different a records that say ok this is
at that computer this is that that
computer because there's no one computer
that's going to be able to handle all of
the internet load of whatever it may be
I mean should I don't want to get into
load balancing right now but but suffice
it to say if hak5 were like some
gigantic conglomeration we would
definitely have different servers
running each of these services so when
you would query for you know WWF IV org
sure right now points to 66 11 to 27 124
and yeah so do all of these others
because we're small enough that we can
run on one server but if we were
gigantic well yeah we'd have them on
different servers we'd have them lots of
servers not going to get into load
balancing please don't email me about
that right now trying to keep this
high-level overview I think the high
part is full effect of the overview were
those jazz hands I wasn't really sure I
wasn't I was mostly paying attention I
think we could define the terms that we
needed to define and I think we've
touched on subdomains like east corp dot
- org versus west corp in a little
differentiation there and and
the importance of ports and but why is
it why is it important like well okay
sure I did say that
it's important as a corporation to be
able to have lots of different servers
manage your infrastructure so you can
say oh our ww-whatever example.com right
is this IP address here and that hosts
that computer that server whatever that
piece of machinery is is going to handle
those requests but if you're looking for
a some TP that's on this machine over
here because we don't want to like
double up you know because this guy's
already having enough hard time just
serving up the web pages we want the
mail you go over here if you want the
VPN that's like down the hall right well
think about it from a perspective as an
attacker you're interested in this
organization and you're like man I would
really love to get root access on this
corporation for various or mischievous
or curious not evil never evil but
purposes of your own desires you would
like to know what all is out there
because maybe you're looking for
software that hasn't been updated that
there are published vulnerabilities for
that you could exploit for your own
juvie is curious but never evil purposes
you would probably want to know what all
is out there and well sure you could go
to hack 5 org and you could say hey is
there anything at port 1 I anything at
port 2 etc etc etc you could ask every
port and and we can talk about that
later port scan and all that fun stuff
and and you could get an idea of what is
available on on just hack 5 org right
and then of course you could guess I
mean it's pretty obvious guess that
there is a www sure and you could guess
that there's a mail dot and an SMTP dot
and maybe a VPN dot and whatever you
want right but there's no easy way to
know what all of the hosts on a domain
or a zone are and that's exactly why
were interested in DNS brute-forcing I
brought up I said that at the top
because then it would make a lot more
sense we wouldn't be like
like seven minutes into this and being
like I finally get where he's going with
this
I why do it why doesn't he just take a
break now because my mom I got it I know
I'm thinking the same thing I'm thinking
why don't we throw it to Shannon for
some trivia because we have all those
pre-recorded and and then she'll tell
you the answer last week's and what's
going on this week and then we'll even
thank one of our excellent sponsors I
hear it's United States Air Force so
thank you guys for that and then when we
get back we're going to be talking about
name servers and a fun little thing
called zone transfers stick around point
my finger up more things camera last
week's trivia question was incorporated
in California since 1968 this Silicon
Valley company is also known as
integrated electronics and the answer
was Intel if you want to win some hack 5
swag over to hack 5 slash trivia and
answer this week's question this member
of the homebrew Computer Club is also
known as crunch man hmm I think I know
this one yeah we'll be right back after
a brief word with our sponsor this is
Titan 1 for no signs of life
titan-1 for hold your position what do
you got
unmanned aircraft as identified enemy
sniper copy that
let's move
Thanks Reaper 1 1 we got a premier cinch
is coming off target
learn more at Air Force comm all right
so let's continue with name servers and
zone transfers now what is a name server
well essentially a name server is just a
computer on the internet that translates
a name to a number for you most basic
terms I mean it could also do other
things like point you to the mail
exchanger or tell you what nailless is
but for right now let's just say hey
it's that box that's going to make your
life easier so you don't have to
remember a whole lot of numbers so you
could say hey ak5 org yo who's got AK 5
dot or it-- and then there's this name
server a little bit like ooh that's this
guy over here and you can be like boom
yeah what's up gonna get the latest
episode and that's exactly what your web
browser does it's how the protocol is
written I know I've seen the source but
they're actually a couple of different
kinds of name servers if you've if
you've played with any kind of hosting
of your own if you've bought a domain if
you if you have a web server or anything
like that you've probably seen NS one
dot your ISP and NS 2 dot your ISP calm
and and those are what we call a Thorat
ativ name servers so that's spelled a u
th o RI ta t IV e with horrible
handwriting by the way and an
authoritative name server is just a name
server that that its domain pun intended
is these set of names right hack 5 has a
thought a t'v name server for anything
dealing with dot hack 5 dot org right ok
let's go ahead and paint that because so
dot hack 5 or gah
dot dun dun dun what's this guy that's
the root it's totally the root right so
what happens is we'll get there we're
almost there right so let's just talk
about the authoritative name server for
hack 5 well it actually just so happens
to be n s 1 dot zone edit
dot-com boom and there's also NS two
dozen editcom right because those two
name servers are responsible for any
queries that you might have on the hak5
domain and there's two kinds we've got
our master and our slave and it's not a
you know SNM thing it's just a if you
remember IDE chains it's the same kind
of way right so NS 1 and NS 2 are there
to make your life easier but if NS one
drops dude NS 2 got your back he's like
dude hack fives over here right sorry
about NS 1 he's having a little hiccup
he'll be back in a bit right
and that's that's we'll come back to
this just a moment for the zone
transfers but but essentially those two
are handling it and it's just good to
have a little bit of redundancy me
remember quote-unquote the internet was
made to survive a nuclear attack
believe what you will I defer to
snopes.com which is a pretty cool domain
I'm going to stop this with the yeah so
there also there are also recursive name
servers right recursive now that's a
name server that's not just responsible
for this domain it's responsible for a
whole bunch of what not necessarily
responsible but it can answer your
questions if you have them so for
example if you ask if you ask hey what
is example.com right and and your domain
or your name server from your ISP is set
to whatever NS your ISP calm and it's
like you know what I don't know I don't
know what what what the where you can
find WWE example comm dot so let me just
make a quick phone call I'll get back to
in just a moment put you on hold I'm
to ask dot I'm gonna ask route I'm gonna
ask the mecca right this guy right here
right it's like Gaea it's like dude that
is the internet right so it's going to
say hey yo looking for WWE example.com
and it's gonna look to all right
I don't know you're talking about right
but I know I know this guy calm he could
probably help you right so you're like
okay and then you like asking calm and
coms like well I never heard of WWE
ample calm but I am responsible for
everything under the Sun when it comes
to calm so let me let me defer you to
example an example comes and goes oh
you're looking for www and he's right
here because like example calm is
totally aspiring to be Cheech or
something right and boom example calm
like you you finally get down to the
authoritative nameserver whether it be
the master or slave of example calm and
you get your answer and that's what a
recursive name server is you'll most
likely find them from your internet
service providers if you've got like a
cable modem plugged into your computer
and you do a little ifconfig or IP
configure whatever you love it's going
to tell you what your DNS servers are
your yeah your DNS servers are your name
servers kind of one on the same and and
you know if you're not using something
fancy like Open DNS or Google's awesome
ai-ai-ai-aight sorry tangent then you
know you're you know they're probably
provided by DHCP more acronyms for the
win and yeah that's your recursive
server that's going to find out it's
going to hook you up man because we
wouldn't want to have to ask you know
root every time that get old right you
know what else would get old that
recursive server having to ask root
which has to ask calm which has to ask
example every time you want to get there
right so what you'll a lot of times fun
with these recursive name servers is
that they are caching everything is more
fun when is cached man keep the local
copy so you don't have to ask every time
right until the time too
expires but that's outside of the scope
with this time to live in seconds
starting with 300 which is five minutes
up to a number that's very high provided
right there it's one of those things we
do and then it forgets and they're last
again just in case it's changed so
you've ever wondered why when you
register a domain and sometimes it takes
a while to propagate it's because you
know everybody's still remembered it
over there I gotta wait for the time to
live to kill and then they're like oh
yeah you know I remember but it's been a
while and they said check every 14400 or
whatever so I'm gonna just check now and
that's exactly what they do I will drink
to that so that all just brings us back
to zone transfers
well what's a sown transfer okay
imagine yourself the sysadmin of in in
Toso and COSO Minto Northwind traders
we're going to go with that Giri CIO man
of this awesome elegant Enterprise
Northwind traders and now you have a
corporate officers all over the world
and um so you've got lots of name
servers and they all need to play happy
because you've got branch offices and
synergy that needs to exemplify
performance under strategies for win-win
situations where some shit like that
right so everything needs to be in sync
right we talked about we talked about
this right here I'm gonna make it
prettier because who does that right the
quote quote thing zone edit dot-com
booyah right so we got ns1 ns2 zone edit
calm and they are both handling this fun
fancy place that I like to call home
right well ns-two needs to know ns1
knows needs to know what he knows right
so they need to be in sync as well I'm
saying right and an easy way for them to
stay in sync slightly going out of
fashion way but whatever is for them to
do what's called a zone transfer and
that's when when ns2 here says yo ns1
give me all your zones it says I need to
I need to be on the level with you so
tell me everything you know so that I
can make sure that my database is
correct because I mean sure NS one does
own editcom knows about w w and so does
ns - right but what have we just added
like a new one to the mix what have we
added like something crazy like I don't
know craziness right it wouldn't know
about that dot quote quote quote quote
it wouldn't so we would have to do
what's called a zone transfer so that
they could stay in sync well imagine for
example that instead of NS 2.08 calm
saying yo give me what you know about
that hack five org you were too
that you're elected tell me everything
you know about PAC 5 org right if it was
misconfigured it might tell you and that
would be what we call an A X F R which
is just some opcode stuff to essentially
means on transfer I bring that up
because that is a full name sir zone
transfer it's going to transfer you all
of the zones it's going to transfer you
the w w it's going to transfer you the
hex value it's going to transfer you the
SMTP hak5 it's going to transfer you the
mail to hak5 it's going to transfer you
the VPN DAC 5 so that you know when NS 1
takes a hiccup and you really need to
know where that host is NS 2 is there to
back you up right okay so we've
established that that's why you would
want to do that unfortunately some
people don't configure their name
servers correctly and if that's the fact
you could potentially say hey give me
all your stuff and it would do that
the other alternative there of the axfr
then I X F R which is incremental
horribly handwritten but an incremental
is like you would imagine if say for
example Northwind traders or contoso I
just remembered a little tangent there
on the who was it now TechNet you know
if they were like they had like tons and
tons and tons of zones and they had to
do this database replication like every
couple of hours because people are
always looking for the new hosts they
might not want to do an Access far they
might want to say oh just give me the
new stuff since last time I asked you
but essentially what all we're
interested in is the axfr because when
we're trying to hack the Gibson be the
first time we're assuming we're gonna go
with that now how do you find out any of
this stuff it's time for the tools is
time for the practical let's jump over
to our fine friend here moon - after I
log in now or Boone - box is connected
to the wall mount attack five
running virtual machines with jazz hands
and I'm here in backtrack for our one
which is if you've been watching the
show for unit while you know that
backtrack is one of my favorite artists
a hacker destroys just because it's got
everything built in yeah we're going to
use a couple of tools here one of them
is pretty cloth velocipedes cross
platform it's called nslookup just type
it into your prompt if you're on a Mac
right now good for you type nslookup if
you're on Windows if you're on BSD
whatever anyway it's it's there what I'm
saying is it's cross-platform it's built
into the tool kit it's like dir actually
no it's not like dir it's like clear now
CLS anyway it's one of those that's on
everything which makes things nice so
you could just open up whatever your
terminal preferences type nslookup and
you get this happy little waka that is
waiting for you to type commands and now
we can use this tool to do all sorts of
fun name server queries I know can you
believe it
we're like totally geeking out about
name servers I congrats to you
achievement points just for making it
halfway alright so first thing I'm going
to tell nslookup is what server I want
to use and let's just be generic here
and I mentioned it earlier in the show
server 8.8.8.8 okay that server is
actually run by Google and it's a it's a
name server available to use for
whatever you're googling pleasures are
they will resolve your domains because
they are caching recursive name server
array pound 53:53 and that means that we
can now ask it all about the internet so
let's ask it about the Internet let's
ask it let's say type equals a assuming
that works type we'll say right
oh sorry set type equals a say a hak5
let's say WWE FIV org and it replies
with the addresses says the www hak5
dorg right is
6:11 227 124 that IP address and we were
talking about all day dude sweet we
could also not know what let's let's set
it to something else let's set set type
equals txt we had talked about this this
is another record that is near and dear
to my heart just like the a records
going to tell you an IP address or
quadruple a is going to tell you an IP
version 6 address or a cname is going to
tell you an alias or an MX is going to
tell you an exchange mail exchange there
are actually tons and tons of these
records one of them it's kind of fun is
just txt it's pretty arbitrary for like
6000 so I know it's for a lot of
characters for from some text some
arbitrary text some applications use it
for other things but or you could put
some human readable stuff in there and
that's exactly what we're going to have
fun with there is actually a pretty neat
domain here that hides interests or hide
I should say stores some interesting
text within the txt records of all of
its subdomains or host or whatever and
as you guys know Wikipedia is well if
you ask Jimmy Wales I'll tell you it's a
source of all human knowledge or some
stuff like that anyway who write for
Wikipedia right well no one loved it
let's ask Wikipedia about hack 5 because
we're vain by using DNS because we're an
annus look up here and you can do this
in any platform so we've set the type to
txt we've set our server to eight eight
to eight to eight now all we have to do
is say hak5 WPD gcx right this domain
here says the hack five is a weakly
homegrown video podcast produced by hack
five crew and distributed by
revision3 word up to your mother's
that's pretty cool you could try it with
anything you could you could you could
just up doesn't work you can pop in you
know whatever you wanted to know it's
going to give you only liked so much
text right but boom now you have a way
to corey
wikipedia from the command-line
cross-platform okay sorry windows folks
we're going to talk about tool you don't
have now because while nslookup
is really cool and exit out of that
we're gonna have play with another fun
one called dig no Darren kitchen is not
the new dig nor is any other meme sorry
I had a teeny I was just like thinking
because they were talking about that
indignation but didn't watch the episode
but I heard that they were like talking
about dagger whatever anyway yeah good
stuff so let's use dig dig is a simple
command to use in Linux it's just di G
it stands for the domain internet gopher
I want to say yes it goes for the
Internet and we're going to say dig
let's find out the MX record of hack 5
dig space MX space hack 5 org right and
that returns back and it says that M x1
dot sub 4 home email dreamhost.com
right there right that's the first M X
and then BOOM
there's it's time to live it's not going
to timeout for fourteen thousand two
hundred and forty three seconds and it's
an a record to this machine right here
so if you wanted to send mail to
feedback a hack five org then you could
you know then like MMX fun happy stuff
would happen and then they would go
there let's say that we wanted to do
like we just did with gimme give me a
good give me a good example let's okay
let's do this Digg txt hyd ro Co do and
e dot WP dot hack sorry mmm DGC X right
and it would tell you that hydrocodone
or something I can't pronounce is a
semi-synthetic opioid derived from two
naturally-occurring
opiates codeine and lie bein something
about ibuprofen which is like best
friends with acetaminophen
um yeah there you go right dig from the
command line boom wasn't that simple
didn't have to go into nslookup I mean
sure you could do the same thing with a
bunch of tacks in nslookup but that's
dig dig also has a really fun thing
called plus short which I encourage you
to go and play with or you can just get
results and then do said a knock and
some other fun stuff you can do some
nifty stuff but we'll leave that we'll
leave that for another time right so
those are our two little tools that you
can use to just get some basic
information about what's going on with
those domains you can say hey name
server man what you know right so we're
going to take a quick break because I
know that I'm rambling here this
episode's probably forty three minutes
long and and we're going to thank one of
our sponsors but when we get back we're
going to talk about how we can use these
tools as well as another fun tool that's
built in to backtrack for release one
that's going to allow us to not only
potentially his own transfer domain but
if they don't allow that let's just
brute force it so we'll see you just
if you've got a creative idea or want to
start a new business I recommend getting
a domain name and web hosting from
domain.com domain comm has the domain
you want fast easy and inexpensive with
free domain tools including URL and
email forwarding DNS management and
transfer lock their Linux powered
hosting plans are dependable flexible
and affordable - with free setup and no
commitment required the deluxe hosting
offers unlimited bandwidth and site
builder pages at a near 875 a month they
even make it dead simple to get started
with plenty of free software like
wordpress joomla drupal and more all
installed in just a few clicks and as a
hack 5 your you get an extra 15% off
your order when you checkout with coupon
code hak5 got a great idea
it all starts with a great domain domain
com alright so welcome to the home
stretch let's dive right into the tools
now I'm here in backtrack 4-1 and this
little command here I've crafted dig
tack T axfr hack 6 org you notice this
little @ns one zone edit com
that's going to say hey ask ns1 the zone
edit calm which I know is the
authoritative name server for that fine
domain hack 6 org I know I registered I
know what just as an example for this
segment and we're gonna ask it for tak T
the type ax FR which we remember from
just a minute ago is zone transfer and
when I hit that check that out boom I've
got like all this info here and it's
like dude now I know about pop to hack
600 Oregon mail and IRC chat and beta
and VPN and other fun interesting really
nifty stuff whatever it's text records
so um that's really cool but go ahead
and try that on anything and it's not
going to work you can't just nilly willy
willy nilly you could screw you could
write a shell script I would try it on
everything
run it for years but um most likely
you're not you're not going to get on
like everything right because why would
you allow the internet to zone transfer
you because when you do that all you're
doing is saying here are all of my hosts
right man not everybody needs to know
that like sure and as one does
komm needs know that because it's the
name server for our domain and then as
to needs to know it so why don't we just
say hey only only ns2 can can do that
and that's exactly actually what I've
done here is I purposefully set up the
security to be insecure so that I can
show you an example of a poorly
configured name server and and yeah yeah
let's check it out because I'm actually
here over a fantastic host that does all
sort of managed DNS hosting and whatnot
it's called zone editcom they're one of
the bigger name server providers and
stuff and this is their their their
their website that lets go to the new
one
so WW right talking about some zones
here let's try new does zone edit com
Hey fancy that doesn't that look a lot
better doesn't that look like a little
2010 action going on and you know full
disclosure I got to say that the zone
edit people have totally hooked me up
with a beta of their new website so you
know thanks guys I'm checking it out and
you know if you want to check it out -
they do some pretty nifty stuff that
it's actually a free service where they
can do like managed DNS of like not just
you know a records and see names and
stuff but like all like tons of Records
and then like they've got this thing
where you want to like pay them like a
buck for a credit you can get different
things like web boarding and they got
like failover services which pretty cool
back up MX like do what an interesting
way to backup mail but yeah so they
hooked me up to this so you know full
disclosure there figured to let you guys
know it's not not too expensive you
there like a buck for each of these
thingies but yeah so even if you're just
going to use a free service it's kind of
worth checking out I've been having a
lot of fun with it lately
if I just log in here I'll show you so
hack 5 Darren alright cool so checking
out my zones right and I have a live
down here hack 6 org I'm going to hit
there and you can see I've got a ton of
different records that have you know
created here in fact I can I can easily
create another one I'm going to call it
I don't know I could call whatever right
and I could make it instead of you know
I get boom all those freaking different
records right I'm not interested in
doing that right now I haven't set up
forwarding or failover or any of that
but what I'm totally concerned with
security right allow transfer here is
set to any that means anyone goes on
transfer me and know about all of my
secret hex codes that you shouldn't be
wasting your time with right so why
don't we set that to something a little
bit more reasonable all right we're
gonna set that to ooh ooh if I don't
change it now I can show you another
feature the tool that we're about - why
don't we just jump ahead for a bit and
then we'll come back and then we'll go
forward again it'll be like right or
maybe it'd be more like a with the rock
step I don't know if you guys do that um
so we're gonna leave it as any for just
a moment here because let's pop back
over to our backtrack for an hour
wall-mounted happiness because I have
right here fierce
okay so we're finally to the tool that
we've teased at the top of the show and
now you know why that TV term is called
T's because it really was teasing you
but whatever these are fundamentals mat
is a like foundation now you're like
understand from totally loopy guy with
AK DNS means right
fierce is part of the it's part of the
back track for one distribution I highly
recommend you go over to backtrack Linux
org and download yourself a responsible
copy so they can play with these tools
in a very mischievous and fun manner but
not evil and we're going to in the
fierce directory under enumeration that
term from the top run pearl fear stop PL
tack DNS hack six org word list host exe
Tech stop now we'll get to the rest in a
minute but the one that I'm really
concerned about is the thing at the end
here tax stop right you're going to run
that and three two done done right what
did it tell us it says hey I'm trying a
zone
transfer first before I do any sort of
brute-forcing and since I had purposely
misconfigured my name server
I said whoa it accesses whoa it probably
says whoa or insert can arrives it
worked
this configure DNS server found oh I'm
G's right and here we have all the
goodies right by the way don't try these
IP addresses because I've totally
changed them by now
but oh yeah and it just goes on to say
hey there pretty much isn't any time can
any point doing it much more here you
get everything right have fun and that
is why we want to configure our name
servers properly right so I'm going to
pop back over to the spiffing estat is
zone edit and here in the security and
trust me it's not set up this way by
default you can see here that I can give
it an address I can say hey I only want
zone edit zone transfers to happen from
66 dot 44 to 55.88 I don't know who you
are I'm sorry but or I could write 0 to
0 to 0 desert 0 to 3 to 0 to 0 right so
if I do that it's totally not going to
allow xfr-s or zone transfers from
anywhere ok hit save hmm and/or zone has
pending changes so I'll come over to
pending and be like boom publish and hey
C check that out it was free didn't even
do anything
check it out um and now when I pop back
over I can be like hey fierce actually
before we do that let's do the
old-fashioned way just like we did
before
hey dig give me the text record of had
Ricardo no let's let's say hey fierce
give me the zone transfer for hack six
set org and ask ask NS one zone edit
calm because we're mad chill right he
knows me from back in back in the day
right and it's going to be like dude
transfer failed you don't allowed to do
that anymore because I actually properly
configured my name server right right so
what does that mean to fierce
well let's diagnose that command again
because Pierce up PLR low Perl script
here with attack DNS hack six org is
saying hey that's my target right I
want to find out everything can about
hack six org that's the zone that we're
interested in doesn't necessarily mean
that it has to be just hack six that org
right like I said with the subdomains
east corp to hack five dollar org West
Corp to hack five that I work I could
point this at Corp the hack five that
org and try everything right
well is it trying it is trying word list
right what word list host txt in fact if
I less host dot txt sorry less host txt
you can see that it's a text file with a
bunch of words we've talked about
brute-forcing a ton of the password
lists are very important it's very
important to have a thorough word list
the one that comes with this
distribution is I don't want to call it
weak but it's just an example one to let
you have fun so have fun and a non evil
way all right so the word list is our
host txt and it still have that tax stop
on the end that says yo dude try the
zoom transfer first and if that don't
work do the other thing you do and that
other thing it does is is it brute
forces so it's going to go through that
text file there and say was it text file
again dang it how many times am I going
to do that wrong did I get it accent
weird it's going to say hey Apple right
is there an Apple the hack six set or is
there an application that hack sixth org
applications it's just going to keep
going and going and going and going
and because that's totally legit you can
ask as many questions as you want you
could probably ask like three thousand
questions a second if you're really
quick with it
imagine what you could do with like lots
of servers ask lots of questions and hey
nothing wrong with asking a couple
questions unless of course you're in
North Dakota and you try to design the
zone transfer which is illegal since
2008 so if you're North Dakota check out
your laws and rules and regulations
because that's illegal
so yeah let's just run that command now
I think it's down here alright so I run
this and it's saying okay okay so
request timed out or transfer not
allowed go figure
it's not going to allow transfers like I
showed you with dig but it had to dry I
don't let this go for a bit as you might
imagine a brute force attack takes some
time so why don't you take this time to
reflect on how you could be going to
hack five or a clicking little store
link and bind yourself nice hoodie to
keep you warm or something I don't know
I just a lot of work that in there you
know I mean I'm just pretty much killing
time right now fact is probably in the
bloopers not really and with the magic
of editing fierce is instantly done
let's check it out it says okay trying
the old-fashioned way brute force right
and it checked everything in that host
txt file and it found that chat toxic
cyrus e-mail pop smtp VPN etc all of
these exists gave us the IP addresses of
those and now we have some hosts here to
actually start trying some port scans on
to find out what services are running to
see what versions they have to
potentially try some exploits and that's
where we're headed with the show that's
exactly where we're going that's what's
going on
start with the domains work away down
right and um yeah so that's fierce I
mean pretty simply you give it a text
file with a bunch of names and it tries
them it tries them pretty quickly
actually and you two can try this at
home because I encourage you to go and
download and check it out right
also great stuff coming up on the show
in the coming weeks but that's more of
something that I would say in the what
we call d-block because the fourth
portion of the show which means that we
are not there yet because we haven't had
our third ad so we're going to thank a
sponsor and when we get back I'm going
to tease you some more stuff and then
thank you again but let's just do that
now so sponsor time this is a new breed
of warrior for a new breed of warfare
this is tier 1 Medal of Honor allows you
to play as a tier
one Operator one of the most elite
warriors in the world available now so
that just about wraps up this episode of
hack 5 org ok I just worked that in
wasn't planned it's just kind of natural
now talking about zones hey it could
happen I want to thank the people at
zone editcom for hooking me up with the
new dot zone edit and checking out the
nifty features there so if you're
looking for a dynamic DNS hosting or
managed stuff pretty cool stuff nifty
features not expensive so hey even if
you're just gonna have fun with zone
transfers again fears over at you know
wherever you can find fear store built
in to backtrack which is my favorite
desist distro looks like love and ponies
and hearts and unicorns and other than
that I want to remind you guys that you
can send your feedback over to feedback
at hack 5 org you can check out hack 5
org slash store to buy all sorts of
nifty goodies to keep you warm in the
coming winter because I don't want you
to freeze I go and get yourself a hoodie
already I mean be terrible of you froze
to death why would you even think such a
thing
also dude awesome stuff coming in the
show our friend mu books aka Rob fuller
aka that guy that blows your mind every
time he shows up and hey we have a
whiteboard is going to be awesome so
stay tuned for that Shannon will be back
with us next week and I look forward to
you and we all you guys have to say
about this quite loopy and very fun
addition of hack five with the Sam's
right uh tree pick you know was achill
trivia technically open sorry right now
I'm gonna speak but we'll find out from
Shannon next week when Darren does more
awesome anything meantime I'm gonna
point that more random things and say
until next week
trust your Tecna lust when
zone transfers I follow me so far cuz it
made a lot more sense when I wrote it
and then I had one of these in a female
email I'm leaving them promise you
really AM are you most I'm so backlog I
will read them I'm like a weekend
bunnies
how's your weekend I mean I'd say that
mine was good actually mine was hella
good up until I got by a car I said
hello
now I moved to the west coast FML oh
we're still recording</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>