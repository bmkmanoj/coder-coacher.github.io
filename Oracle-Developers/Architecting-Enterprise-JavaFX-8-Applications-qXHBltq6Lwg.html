<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Architecting Enterprise JavaFX 8 Applications | Coder Coacher - Coaching Coders</title><meta content="Architecting Enterprise JavaFX 8 Applications - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Architecting Enterprise JavaFX 8 Applications</b></h2><h5 class="post__date">2015-06-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/qXHBltq6Lwg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">my name is Adam been working with Java
since 1995 and the strange thing the
strange thing is I still like Java
programming language and spent attempt
to spend as much time as only possible
in project and yeah this is what I do
and mostly Java projects and the recent
time was of course wink and and the Java
fix right now so in the last year I I
thought about how we can streamline Java
X development and this is actually what
I would like to explain you today good
story I wrote two recent books and said
stories there is nothing to do with Java
fix so you can buy them but there are
more Java related and I do from time to
time workshops on the Munich Airport and
actually the last time there was some
some developers from San Francisco which
is crazy but I really appreciate it and
on that note I brought some t-shirts
with me this is here bond developer are
actually thought about this after what's
already in car because all of us are
airborne right as heck fly hack fly so
actually the best question would get a
t-shirt if you ask a good question I
will give you a t-shirt if there are no
questions I will give someone a t-shirt
who didn't disturb me a lot or something
like this because for no way I will
never take the t-shirts back so just way
too heavy and the luggage is too small
ok
so what is enterprise so I get a lot in
my projects you are talking about
enterprise what is the difference about
enterprise and consumer apps and I think
the main differences in consumer apps
user experiences everything and in
enterprise the domain experts or the
department who has money is everything
so enterprise apps are mainly in my case
use case use case driven and user
experience you know and shiny shiny
things came last at least in my projects
no one cares about animations in
Ingrid's or something like this this is
actually this is what I would I
understand in enterprise so what it
means I think this is the only talk a
Java one about Java fix without any
animations and
and whatever just concentrate on
actually proper implementation of
model-view-controller pattern this is
what I would like to talk to talking
about today and show you a little bit of
code so don't be disappointed that we
know 3d animation some transformation
nothing it will be at the most you will
see probably some system.out.print line
ok so don't be disappointed and what I
forgot to mention MJ is one men show I
have two nothing to do with Oracle
whatever I'm Java parties and had
nothing to do with companies just a
singleton one-man show whatever
contractor freelancer okay so so
model-view-controller
why not just say model-view-controller
and the talk is over so the problem was
more than controllers it is somehow
defined but no one knows how the code
looks like so in my experience in swing
and Java VIX and whatever projects is
everyone told me all we do in MVC and it
was totally different codebase there's
even no similarities between the
projects and the problem with that is is
not usable in my projects but because in
my eyes architectures should be
executable almost so if you're there
just to tell you build MVC and
everything is fine there is no edit
value' so we can skip the pattern
altogether so what I would like to
attempt you today is to provide as hard
as possible ideas so they are almost
executable they are in fact executable
and we talked a little bit about about
this so this actually DD main idea three
definition and clear rules and not you
know fuzzy patterns like we did before
so there is a new pattern
model-view-presenter which is actually
nothing else then model-view-controller
redefined or the first time more clearly
defined the set story is MVP is that so
also I see lots of articles and are and
I don't know blog posts about
model-view-presenter
Martin Fowler retired the pattern in
2006 and the good story is they split
actually dependent into other patterns
supervised in control and passive view
and this is what I would like to
introduce first so they are actually
passive view and supervising controller
and the question is why we have two
patterns right now and the
because MBC was not enough and what
passive you means us or supervising
controller is you do as little as only
possible in the view in the controller
and implement whatever you want in the
view and the passive view is other way
around so the deep D view does nothing
and the controller does everything so we
have actually two flavors of MV MVP and
why we do it because for instance of
testability this is the driving driving
factor B appear behind MVP if you would
write unit tests for JavaFX applications
you you should be able to test the
presentation logic without opening the
UI this is the idea behind and I misused
MVP or supervising control and passive
view for another purpose which is really
interesting I will show introduce a
little bit later so why I'm actually
excited about this patterns has
something to do with testability but I
know I would say in real world probably
20% of all controllers are unit tested
in suik I would say this is actually
good number
unusual enterprise project no one tests
actually controls this is the set story
and yeah who tests controllers it's wink
at Java fix you see there are a view
attendees but you know the set story is
this is not actually the main stream and
if someone writes who writes the unit
test this is another joke or dicey or at
least there are no asserts and I asked
you why you are not writing asserts and
you get in the answer is yeah because
the build breaks them so um so this is
not a joke it's a huge project recently
so I'm passive view is presented
everything so the presenter synchronize
the view with the model and the view is
as dumpers and an amicus only possible
so we have very firm we have we have
supervising controller which is
pragmatic in swing would it mean for
instance what super what supervising
controller would be is like you have
something like J panel or J frame which
implements an interface and exposes
everything which is possible in the view
through this interface and they contain
the and there and
controlling us the the the the I would
say what has controlled us the view does
something like converting
actionperformed to okay so there are
control as a method okay or safe and the
view translates the swing action
performed to to okay this would be in
swing and in Java fix exactly the same
right and in passive view nothing
happens in the view so everything is
delegated to controller it's very
radical approach but also possible okay
a hint why I'm excited about this
because we have in Java fix something
like symbol de we generates code and the
question is how to deal with that can we
use what you see is what you get editors
or not and and this is actually the next
thought how to integrate code which is
generated by another tool in pragmatic
way to our project questions of our
think about the t-shirts with the
propeller no questions okay passive view
presentation model presentation model is
not another pattern is like a sub
pattern and the whole ideas you have
something like a data transfer object
per view so the state of the view is
saved in the presentation model so and
usually the presentation model is
different from the domain model because
in the presentation model you could also
maintain the state of the view which is
locked
what is locked and not what is I don't
know invalid and what is valid in the
domain model object it is just a pure
business logic business state there is a
no notion which is valid and invalid
there is no presentation logic so a
presentation model is a domain model for
the presentation here and the main model
is the model for the business logic
crystal field and this is actually what
I what I would like a little bit to talk
a little bit because this this is often
forgotten because this model view
controller the question is what is the
model right this is the presentation
model or is it the domain model in some
swing application was the domain model
in other other project it was the the
presentation model and in my case I
think it is better to start with the
presentation model okay questions there
will be no questions afterwards and the
reason is I have to move to my next
session
we use one about Java he so I'm well
yeah so I have to leave early not
earlier than you but on time so
model-view-presenter
and actually modelview present and a
service is what we need in Java exist
the idea you know how to communicate
with the backend in enterprise I would
assume we not building fat clients which
are standalone isolated usually we have
to talk to the backend so what we need
in enterprise Java vex is something like
a business delegate the old pattern
because you won't like probably to to
talk directly via soap I mean you
wouldn't use of either but sometimes
there is so and you have to reuse it so
what is the best cases just to write a
business delegate and POJO which wraps
the soap and hides the soap details the
same is true actually forest jax-rs you
don't like to write over and over again
client build a new client and so forth
right and admire corbin initial context
whatever so you have to hide somewhere
and I called its service so what did
this in context of Java of X actually it
is a single a single thing this was
business delegation was singleton as
well right and the singleton talks to
the backend and and and and and gifts
are gives us data and the data are
usually domain objects not
presentational domain object that's the
idea so service has nothing to do with
Java Vic's nor Oh something with Java is
just a poacher a single thing which
gives us a data or communicates with the
Beckett I will show you code later so I
try to be organized in this topic so in
this talk usually is very chaotic but
now just right and done code right
questions everyone agreed perfect one
um how would we what I was showing you
later is like there is a view and there
is presenta and they present the talk
somehow to the service and sometimes the
the presenter fetches the data from the
service and puts the data to
presentation model if this was your
question assumptions you are going
presented assumption yeah
for this purpose you would have to test
the presenter and whether it is
correctly presented so visible or not I
would use real humans for that because
automating there's Jamie ethics Jamie FX
versus a Java fix testing framework but
if you automate everything is really
hard to automate you know the whole UI
experiences sometimes it is too slow or
you know the latency is not enough I
would just you know invest in students
on something and just test it yeah
really this is my pragmatic approach you
can ultimate everything but the user
experience cannot be automated I think
what you get are as small right small
size em okay perfect our stickers if you
have stickers you get later so come back
to me after the synth and laptop
stickers so and you get em afterwards so
um what we presenter is what we need and
actually what I have a paper saving
device here so the idea is we have a
view we have a presenter which is very
pragmatic how it exactly looks like I
will show a little bit later and the
presenter needs actually the service
which is
actually a business delegate and
presentation model and the presentation
model is nothing else than view specific
data transfer object this is actually
what what worked real well in my
projects and you can do whatever you
want to make the view happy here and the
real data is coming from the back end
and from jax-rs or Sobor whatever and it
could be a little bit different to the
presentation model so there is actually
I think there will be an end to an end
to M relation between presentation model
and the domain model who knows could be
subsets supercell or whatever whatever
is convenient to you so and what is the
benefit if you think about this the
benefit is I don't have any mapping in
the back end so I expose which is
actually UI independent to the front end
whatever usually we don't have just
chopped effects usually you will get
another client html5 client which uses
it uses the same the same jax-rs service
and just you know making this travel its
dependent it's not a very good good idea
okay perfect so I have still not
satisfied the problem list you write
over and over again so what you will
have to do you will have to write you
know views presenters models by hand and
which is actually good but the problem
is hi to how to wire them together so
and what I like in my projects are clear
naming conventions so it's okay let's
say we build something like session
manager then the idea is we create a
package session there is one package per
view period and view can be a panel or
frame is something isolated right so one
package per view the name of the package
is the name of the view within the
package I have always three classes
actually actually two classes and four
files the name would be customer serve
customer presenter for the presenter
customer view for the view customer XML
is something interesting and customer
CSS which is optional and everything
looks the same
and I did it in on the back end for
instance for for Java EE structuring the
similar way and it worked perfectly in
several project we did the same with
Java fakes and we were actually pretty
fast because there were no questions
left right so this actually it is what
we like to do and the next hint is the
presentation model is a singleton
so what we can do it you can you can
misuse or reuse the presentation model
to communicate between views which is
also very convenient so if you have two
views and you would like to share state
like you have a chart and a table how to
do this they can reuse the project the
presentation model okay questions are
far so the next idea is actually
automate everything and we provide clear
naming conventions so this is convention
of a configuration and means there
should be nothing should be configured
and we we we derive as much as only
possible from the class names from
naming and from the context questions
are far this is the next idea very
problematic and the solution for that is
actually singleton that's the beginning
go there actually I'm going to show you
it is not a single to supply weight so
flyweight pattern is like there was in
the Ganga for from from Gama was
described like a no there is no need to
have multiple instances from the
character a so you have summer context
which or in Java string the string pool
is also flyweight pattern for instance
so the idea is you have to do something
to have exactly one instance of a class
without being single and what I did is I
will show you later
this I reuse this jsr 250 annotations so
there are two annotations post construct
in pre destroy they are coming with JDK
and the idea is that class exists once
post construct this invoke and then pre
destroy and this is effectively a
singleton but the unit has you don't
have to invoke post construct so this is
the idea comes later but you are medium
or you can okay
and the next story is I'm spent a lot of
time on a server why not inject
everything and we have a standard which
is actually even comes with maven so
maybe in 3 or 1 the recent maven
understands dependency injection plugins
was at inject Eclipse how's that
it's like why not this why not just
inject the presentation model or service
to your presenter and say ok then we
need a framework and I don't know what
and they define answers because of some
features of Java mix we just need one
class no framedrops no dependencies
nothing otherwise I wouldn't talk about
this
I hate frameworks XML and all together
everything right so so what do we what I
would like to show you it is very simple
to use and inject any Jake whatever you
want and then really what whatever you
we want and what we like to inject this
other presenters services or
presentation models and this worked
perfectly and I would like to show you
what I did and this everything yeah one
class was open sourced so but you cannot
call it frame verb it's a class class
work or something but other framework
you know one class is not a framework a
thing so the next problem is with Java
effects I would really like to use
simpler simple there's a free tool
whatever was released since there is a
version 1 1 and what it actually does
I can draw whatever I want and then I
can start it and it's done so and I had
really bad experience with that so the
best what-you-see-is-what-you-get tool
was NetBeans Matisse it was not perfect
because sometimes it blew up and and we
had to start over with with that so
there were some Records mid subversion
or whatever get but the problem with
Matisse was he generated a lot of code
and the code was generated doesn't
belong to me
it belongs to NetBeans so our projects
were effectively dependent on NetBeans
which is always a very bad idea to be
dependent on something which not belongs
to you
right and the genius idea from from from
Oracle engineers was that the symbol
that works according to inversion of
control so it doesn't generate the code
what it only does it actually provides
configuration
factory and the factory comes with Java
fix and the name of the factor is ethics
Emma loader so how it works in Java fix
is there is a sin graph and the sin
graph is something like you know a tree
of JPL's something like this there's a
sin Grove there are nodes and what it
can do in the past I created a singer of
my hand so you can hear one one note the
other nodes you can have here text
fields and buttons everything is a note
in Java fix and you can construct this
using your own factories just say you
know new node at ant and you are done or
you can say F XML order here is the
configuration give me this and you
return this without knowing how it looks
like so what it actually means we can
switch between generated code and
manually crafted code which is actually
perfect because we can start with symbol
de if it doesn't work I will just write
this as snippet by hand and in 80% of
all the time it works perfectly with sim
builder and now come now comes the
question if we have the button here okay
if I click on the button what what
should happen so from work where is the
link between the button created by
symbol de to my code question so far am
I too fast or too slow
right okay so no news and good news
right so like UNIX so um it's a cool
story is first what F XML does in F XML
the first line of code you can specify
your class and this class is my
presenter okay so what it means F XML
Oda is able to instantiate your
presenter so and this is what I said
inversion of control what it means now
the generated code is dependent on your
code and not vice versa
and this is actually a beautiful heck oh
okay
okay so and now that what because Java X
creates your presenter here's the
instance and is able to inject whatever
you want to your class so you can just
inject the button to your presenter and
you are done
or you can in a fix ml builder say hey
action event button just called the
class I don't know unsafe okay what it
actually means is that if someone clicks
okay button either I have reference to
the button if I if I like or a method
any method you like on the presenter
gets called okay so so what it actually
means the presenter is by no means
dependent on F XML do the inverse case
it is only dependent on F XML annotation
on a single annotation was the name F
XML which is perfect for enterprise
because we are not dependent on strange
tools perfect question so you get almost
two t-shirts for this so so the question
is how the injection is working right so
um yeah we talked about this so a fix ml
I am waiting for the final slide so I
will show you everything in source code
so and the answer is I'm using IntelliJ
right now because I use a lambda so it's
my open source project called light view
and I just used long does for fun and it
means this that doesn't understand
lambda alum does not but what you see
here there are packages with the naming
and this is the annotations of what it
means we have a present a method
presenter with lots of UI which is
injected with a fix ml and and we have a
method you see here probably also at
inject dashboard model and this at
inject comes with is actually standard
dependency injection inject it comes
with ya bytes inject inject so it's T's
the same CDI inject or spring three
three inject or or juice or or maybe
three yeah
and the question is how this actually
working because the XML loader
instantiate my presenter who who injects
the method monitoring and the COO and
Andy and in my story is the nice story
is there is a stability class the frame
for class in Java vex there is one very
important methods the epics ml ethics ml
loader has so-called controller Factory
and this is another inversion of
controller of control the nice story is
I'm passing here I call back and say
look a fix ml loader
if someone needs a class of the type I
will create a class for you and now you
can integrate here spring juice whatever
you want now you have dependency
injection in all the presenters with
single line of code ok so the key to
dependency injection is a method in
epics ml order and the name of the
method is set controller factory you
provide a callback and what a fix Emma
loaded us it reads there fix ml I can
show you how it looks like it looks it
reads the ethics ml and there is a fix
controller it standard AGB presenter and
it's instantiate the class but to
instantiate the class it looks for
callbacks is to any callback said oh I
found a callback callback create the
presenter for me and I created a hook
right so questions so far so it's two
levels of in version of controllers but
actually don't think about this is just
one method so and you have to know set
controller Factory is actually the idea
questions are you satisfied so far so I
started with Google juice and it worked
the problem is Google juice it is
exactly not convent convention over
configuration so what I would like to
have is I would like to have the
following I would like worth my method
presenting here
to inject method monitoring and now the
method monitoring is a service just a
POJO and there's only one so I don't
like to specify that there is only one
and there was no way for Google juice to
do this I even asked a Google engineer
say okay this you can do it was legible
hard answer okay then no juice and what
turns out implementing dependency
injection which is just singleton based
is half page of code so I implemented my
own injector which is very very simple
in this is the second class actually in
the framework so the framework is
open-source you can use it or not but
the point is you could inject you see a
spring juice well whatever you like you
don't have to be dependent on my class
but whatever what I'm showing you right
now the whole principle is based on one
class actually right this actually DDD
funny story so um the injector so how
the injector looks like
instantiate presenter with class and it
returns an object and you can imagine
I've been searching for @inject
annotation and yet this actually the
dependency injection logic this is the
whole code actually and what I am doing
because it's lightweight I have to cache
all the presenters and all the models
and for testing a created method forget
all so at any point of time I can say
everything is forgotten and yeah but
there is no actually singleton this is
flyweight pattern so the injector
maintains all presenters and models and
they exist only once so for developers
looks like it isn't singleton but it is
actually not a singleton which is very
important because what I can do right
now is to test everything I like because
the method monitoring here for instance
what I could do in my test I can say
okay I don't invoke post construct so
the I there is no client and I could
knock out the client was mojito for
instance or gem buck or whatever okay so
this is the service the business
delegate the model the dashboard model
is my presentation object and what do
you see here dashboard model consists of
some string properties observable set
and object property so the great story
with Java have access so what we have in
Java fix we have bindable properties and
because bindable properties our job of X
comes with jdk update 21 we have now
binded with properties for everything
for everything so effectively you could
use the properties for whatever you want
there's no java vic specifc is a part of
jdk right now java java fix is shipped
with jdk starting with JDK 7 update 21
and this is a presentation model the
dashboard motor is presentational what
this is I will show you my last day
stress testing this actually the Java X
front-end for my light fish project
which monitors an application server
this is actually the source code from
this and I cannot show you my real
business code because of NDA's I'm
Consultants always a trouble with that
so I have to show you something which is
open source ok so but the idea is there
is a dashboard
consists of all the monitoring data is
about 50 different statistics from
GlassFish and
what i have a string properties is
server ori what it means if someone
changes the state
of this survey early because it's
bindable all views are changed as well
okay and next interesting idea is the
object property here so what object
property is you see the snapshot and the
snapshot is in my case it's a domain
model so the snapshot is the true domain
model which comes from the server and
what I can do right now is I can say if
if the snapshot changes notify everyone
because it is bindable property and the
next observation in Java X is you can
build very narrow interfaces so what it
means is in swing we would have to build
an interface on expose expose everything
with no get string get string and change
it or whatever in Java X we could do
something like we expose the domain
model as object property if the domain
model changes all subscribers get
notified what I'm experimenting right
now is with additional naming
conventions because what you could do is
you can say every presenter has one
input and one output you know something
is coming in something is coming out and
this is actually really beautiful
because one if you have your one
interface to everything so you can they
can you can combine present doesn't the
forth so the bindable properties are
really really interesting for for
enterprise applications because without
them you would have to explore
everything with a you know several
getters and setters which is hard work
with java mix we can reduce that because
we can just expose the properties which
represent a set of getters and setters
questions are far everyone satisfied so
there is one problem how to bootstrap
that right so you have lots of XML lots
of presenters and lots of other stuff so
how to start with that and in the ideas
it always starts with up this is a
typical starter in job effects and as
you see what this is actually legacy so
I will have to
show you somewhere so what what are you
always doing oh the views we didn't
actually explain the view so the nice
story is all the views are empty the
default you could do something in this
but right now is just sufficient to be
empty what it means is this view
inherits from epics ml view and ethics
ml views is what do you do you already
saw before it's the whole logic was
there with the ethics ml and so forth it
means if you if you if you do something
like new ethics ml view it will load the
CSS the XML whatever needed and you have
you can access the note this is the main
idea so you have to inherit it from that
and because of the name of the view we
know in which package do we are running
well the name of CSS or the name of XML
or that this is actually the whole
mechanics behind convention of a
configuration so again it probably it
sounds complicated but it's easiest it
is very very easy it's not even a frame
focus just you know a small hack but it
works surprisingly well and no I hacked
it on a weekend and enthused a I got an
a message like afterburner is great you
use it for x-ray image processing in US
hospitals something all men as well I
hate the last weekend you know be be
careful what they are doing so but it is
a it isn't really used in projects even
hospitals you guys somewhere it's
probably there's someone here which
would know okay this works I'll be
careful but it is really stranger
because I could delete the rip as well
there's one button delete and there's
over so be careful with with
dependencies with external dependencies
and so the idea is you get the view and
the presenter gets instantiate by a fix
ml order and I would show me whether
there was something more complicated you
see you can you can inject pool
monitoring other presenters because they
are also Singleton's we can inject
presenters everywhere you can inject
services or whatever and and it's here
for instance
I would like to have multiple instances
of the pool view because there's a whole
dashboard and there is no mean pool max
pool on multiple pools on one dashboard
so what you can do we can just create
the views with new and ask the view to
get a presenter and we have to present a
here and now what you can also do use it
here somewhere so here I just go
statistics pants get children clear @ @
@ @ and I asked the view to get the
first note so what it means in worst
case in case symbol that would die I
will he I would I would have to
implement the method get view by my own
so I will provide my own classes my own
class here here and so forth ok that's
actually the basic idea the walk through
through the from one view presenter any
questions
there are no agb's here absolutely not
the Egypt bees are on the server and
what it should be could do it could
expose in verse case core by interface
so the service would wrap wrap the core
by interface so in the post construct
method would be something like initial
context lookup and portable option
remote remote narrow with soap would be
a soap service and rust so there is
absolutely no dependency on eg bees what
I just wanted to reuse is inject
annotation and not reinvent it so this
is actually the main idea so you can use
spring juice or whatever you like on the
client side
I just find out that truth was not was
was not not suitable because of
conventional configuration and spring
was a little bit too to complicate it so
in one class is actually not another
huge deal so you can replace that if you
like replication you should of course
man so it's yeah yeah yeah on the fly ah
whether if XML view I could change the
behavior of the F XML view and the the
answer is yes there's on method called
gate view you could override the method
and use a half which is created by
symbol and at your own stuff but the
view is not meant to implement business
logic presentation logic sorry the
presenter does the job of the presenter
and about testability yeah you can fire
up present and test it but the main
reason is not testability the menu is
we're doing death is actually
productivity and last year I showed you
similar talk with live view and it
created without dependency injection and
now I reflected the application that
would 50% to this and I have to say I
implemented I'm twice as productive as
year before with with this simple
pattern because you can do all the way
the same no view package three files F
XML CSS is optional we see us as you can
you can skin everything and you can draw
with with the symbol that the the
application and and you can even decide
how far you can go you can you can draw
every
in one huge page what I don't like for
me is per package I have one a fix ml
file which represents the snippet so if
you if you I would like to show this so
if I just I think it's here
do they close down No so this delight
view if I open for instance methods
you get the same integration with
NetBeans or Eclipse so I just wanted to
use lambdas because so you see this at
the table just a table and we go to the
table you see here there are names like
code is a fixed ID name if you if you
use the same field name in your code it
will be injected by Java fix this is the
whole deal and you can decide how far
you can go okay I could build the whole
UI or whatever and and everything is
actually the whole application is drawn
by symbol de and the pieces are are put
together in in the presenters and this
is actually unique you can do you can
only do it with Java fix in Swingle was
impossible there was no such tooling to
do this okay yeah there's a table column
so what interesting here there's a whole
table but I'm not interesting on table
and all so I'm I'm in the thing in a
method right so it means I have in my
presenter I inject just just e columns
not even the table just the columns
because I use done data binding here too
to bind to to my method statistics which
happens to be a d domain model okay so
it's hard to say what it is it is there
is another pattern from Microsoft called
model view viewmodel mvvm and this is
actually very very similar to this mvvm
model view viewmodel this but it's very
confusing name so i think it's it's a
better to stick with Fowler and say the
presentation model is the stick model
from the presentation and our domain
model which is very similar to JP object
on the server this is the main model
which comes from the server this is
actually why I don't like mvvm a lot yes
yeah
okay so um of course it depends I'm
consulting but their presenter in the
presenter would usually inject the
service and what they presented dancers
I don't know whether this presenter does
it but some you would find if you have a
button there is no view no button in the
view I have a button in the toolbar I
will show you later if you click the
button there will be no button injected
just a method called as an action action
listener and ordinary method and in this
method you will call the service yeah
and now I did as the you have several
options sometimes what happens the
following you are you are invoking a
presenter which is void this present and
sorry you're invoking an service which
is void in this void method the service
injects a presentation model it feeds
the data to presentation model and then
all the dependent views are updated this
is for charts tables reports perfect so
if you get something more complicated
you can do the following you get from
service and domain object Bank and you
can pass the domain object to other
presenter so you can communicate between
presenters is also what I did here right
or you can say service give me the
object property and why at this object
property with a presenter also what I
did here for instance I have a table
which is crud create read update delete
what you can do expose for object
properties for each for for each for
each operation and then you are actually
done no with the semantics of this use
actually you can you can you can
populate the views from from the object
property so what it means is the service
just a business delegate and you can go
a little bit dirty and say okay there's
business delegate knows presentation
models it is very productive but there's
not a purist view of things but it
worked
perfectly and I mean the main and what
you can do of course in unit is you can
mock out the the presentation models all
together right because there is they are
dependent but you can mock it out so
there's actually I would say there is
there is there is no issue in
maintainability if you think about this
most of the presentation models are
throwaway objects because the change
always in case the view changes on each
new request you will have to you know to
do something with them so you know this
strong isolation or decoupling good I
would be counterproductive I think oh
okay it's not implemented it here it is
implemented another project called air
pad and what the epidural time editing
tool what I use in workshops to spread
the dealings and the problem is the
effort is based on hazel caste and hazel
caste is an in-memory grid model so if
you launch the air pets to communicate
with each other and the problem is it
happens in another threat and this is
this would be another integration
princess GMS so let's say you have Java
fix and we like to push data via
WebSockets JMS or whatever and yet you
get always another threat what you will
have to do then is the service will will
be run in the threat of hazel caste and
invoke with platform run later to some
rapper this is actually why I'm using
lambdas here because this is very
beautiful and and it voc's
dispatches they dear it translates on
message in GMS to a proper method call
and this proper method call this method
proper method call is probably am
bindable property again so this is here
a snapshot something comes with the
server which is implemented as long
polling every two seconds right so every
two seconds I have to invoke my my
business logic and the problem is it
could be another threat it is not in
long polling but if it weren't so
WebSockets it will be another threat so
then in their own method method so I
just interpret the methods the ID
message and use platform run later
I think it's Platinum is like a swing
utility invoke right is exactly the same
principle and in in in
one block of code and you're just
dispatching to business methods in the
business method you have bindable
properties and all views are not
automatically changed if you like them
that if not you can just get or whatever
so java fix allow two models push and
pull so this also responsibility for the
service thank you for that because you
have these threading in one place and in
my dependency injection everything is
scoped singleton or application scope
because you think about this this is
actually why I implemented dependency
action by my own usually it's crazy to
do this but on the client you can do
this because there's just one user and
just you know everything is global so
you can you can under server never
implement your own dependency injection
framework it's the beginning of the end
on a server on there kind of just the
beginning right other question yep
yeah I post construct I show you this so
you want to get the t-shirt for this
injection somewhere you have to help me
I'm reacting to post construct and
invoking inject and initialize
initialize
is there somewhere post-construction
Syrah
what is it yeah okay
post construct register I initialized
okay I forgot it no I just reflected
afterwards there's one method
initialized in pretty strong and just
passing the the post construct and pre
destroy J's are 250 annotation and
they're just using regular reflection so
how it works is get method its
annotation present post construct if he
has invoked or not this is just simplest
so the whole dependency injection
framework are 150 lines of code so
there's nothing I don't like that I
would prefer to use juice but we choose
I would have to you know modules and
binding and then I don't need another
injection anymore with that other
questions now how it's built
it's also interesting and the build is
maven its standard built what's
interesting for Java fix is I'm using
the shade plugin to be able to create a
single jar so in my project I'm
dependent on jax-rs client Jess r2 and
afterburner two classes and what I hate
is to deploy a node ten jars to the
client because everything can go wrong
so there is there are actually two maven
plugins one is called shade and the
other one is assembly plugin so what I
do is they create one single jar which
is perfect for Java fix so I always
chose in my swing time always deploy it
one single jar to define and there is
some minor tweak to do what I what I
like is have everything in the package
so I have one package called I don't
know customer and I would like to have
this XML files and CSS in source main
Java not spread into so because it's
inconvenient so what you have to do a
little bit you have to tweak this in the
resource section so you have to say you
know search for XML and CSS in swordsman
Java and not source main resources just
the only but other than that is standard
maiden built and why is this so so
strange because I in so long it's no
stranger 100 50 100 50 lines of code why
it's long because I
licensed plugin which creates the you
know apache license for headers and so
forth so a little bit more
infrastructure but usually you wouldn't
do this in enterprise project so this
open source is called live view and
github so go github Adam bean you can
download everything and this is the
source code of T of the application so
so we did ask build maven 3 for
enterprise Web Start and applets are
dead I didn't use them for years and
with the whole security circus and don't
use this so what we use in my project
actually two approaches one is just to
zip everything at ship to client work
perfectly with batch file and how to
class path and the other one was jdk one
seven there is native java fix package'
the tool is called Java FX package' you
have it already on your disk and what
this tool does is it creates on Windows
and exa archive with self-contained jdk
and the application so nothing can go
wrong and the funny story is oracle
employees submitted such a thing - OH -
Apple and you can now download and
Sobell if you have an apple and Sobell
application for free from App Store and
this is actually Java fix package that
way so it was even compatible with App
Store requirements so I would say native
packaging is the way to go and there are
two two options with installer and
without installers or in my case I can
go and say Java
- jar and start my application or you
could just use the Installer right just
double-click and it will install
everything on demand one problem with
that is if I run on Mac I get the dmg if
I run on Windows I get X ax so there's
no way for one maven to create
everything so you will have to restart
the maven on different platforms to get
all the all the deployers installers so
we are almost done
doesn't the resources this the
afterburner are just framework actually
two classes and and what we do not have
time for is another very interesting
thing is for form input validation in
Java fix very briefly all the object
properties have a higher level API
and they hire a high-level a player API
is like and or not and so forth so what
we did with Java fix just remember just
imagine a forum with first name last
name street what you could do then you
have string property string property
string property what we did is the
following we say we say like name not
empty and first name not empty and
street not empty and bind this to button
enabled and what this is actually if you
think about this is reactive programming
so there is no business logic left
whatever you are doing you changing the
state automatically of the application
so and we were able to you know to
process complex forms just was the
higher level a binding API which is
perfect for input validation without
that you will have to huge blocks lose
if as if else if else very hard to test
with that is perfectly to test because
you can just launch it in unit test and
just you know provide key values
directly so for input validation the
presenter should be isolated and this is
very true in this application yeah what
you can do always can do as nothing to
do is this this you can always use
JavaScript this is a default language
for event handlers in scene builder
because javascript is jsr 292 this these
Java scripting for Java and scripting
for a Java platform and you can use
JavaScript paddy for or groovy whatever
as event handlers so I hope it was not
too boring is a pragmatic view of Model
View controller it works very well what
is to do I just working now on the input
and output properties two standards a
little bit more I there the feedback of
developers who are great so we have the
first time you know something very
simple to understand two classes every
kind of look like so there is no nothing
hidden and it works perfectly for rather
boring applications in consumer space it
wouldn't probably work because in
consumer space you have often just one
page no not lots enough grids nothing
just one page and very simple apps but
the more views you have or taps or
whatever the easier to get to
to have something like this any
questions left I think we have five
minutes to go a little bit I would use
open dolphin as well but this is a
there's lots more going on then and
you'd imagine it Enterprise the simpler
the simpler that's simply the thing
you're introducing the more chances you
have to adapt adoption they're more
magic involved they often gets rejected
this is the problem in my project little
bit you know and this is as close as
only possible and stand out so I try to
reuse at inject post construct and so
forth okay someone needs a sticker
please and t-shirts for question so I
come here and you get the t-shirt this
is not the right question in the next
talk I about the t-shirts for my next
talks or come the next talk is a little
bit more serious about Java II will also
boring no animations no transformations
just just stuff so thank you very much
see you see you in a half hour</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>