<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Unorthodox Enterprise Practices | Coder Coacher - Coaching Coders</title><meta content="Unorthodox Enterprise Practices - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Unorthodox Enterprise Practices</b></h2><h5 class="post__date">2015-06-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/uWfrDg9EPS0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so my name is hadn't been no idea who
you are but you can speak as well if you
like so I started with Java 1995 and
still liked it
and since 1997 and freelancer never
worked properly for a company or a
larger company always work as a
freelancer and and always stick with
Java before a job I did a lot of
JavaScript but back then not before
java's at the same time at the beginning
of Java in competition to applets I did
lots of JavaScript and dynamic HTML but
back then it was not allowed to mention
that you had JavaScript develop it was
like you are a crazy developer who is
not able to program properly this was
the opinion back then and now I remember
JavaScript again and now I even deliver
a session about JavaScript it is on
Friday and now everyone is interested in
JavaScript so a good a good advice just
don't forget things and remember them
for 10-15 years and you will be
fashionable again everything renames
it's going to be renamed but the
principle stay the same so I'm I'm on
Twitter and everyone everywhere else to
books as always I forgot to bring them
and I also forgot to give them to the
booth so you cannot buy them here but a
good good part is you can lend them for
free if you have a Kindle without Kindle
have no idea but with Kindle you can
lend them for unlimited amount of time
and the green book is somehow related to
this talk and from time to time at the
diva workshops I'm going to get put and
you can ask question and you have to ask
question because the t-shirts are heavy
and I would like to get rid of them you
get a t-shirt and everyone who likes get
a sticker so I prepared some slides more
than I liked actually but then I will
start code but the most important thing
is back to school really what I remember
my uni university days actually then
start at the university applied house it
as something south like university we
learned a lot about object program
object-oriented programming so we had a
vehicle swimming vehicle and flying
vehicle and airplanes and whatever right
and for unknown reasons this this ideas
and principles got forgotten in Java so
we normally have vehicles we have a
vehicle dto vehicle entity vehicle
manager vehicle mapper and whatever
vehicle service locator business
delegate a and $50,000 stuff and if you
look at the code you actually don't see
the principles anymore so what I really
do in my project is funny I delete
everything and it still works and what
remains is the business logic and
everyone has delighted here so from from
where are you know what to delete tips
are you okay everything which is
meaningless strange names impulse eaves
or whatever gets deleted and what
remains is usually the business logic so
really back to school remember what you
learned you know 20 years ago and do it
again and and don't go to conferences
learn strange patterns and go home and
just play with patterns forget about
your customers because why it's so
important to me what I hear a lot Java
is no productive no more you know no
more fancy then we go to Ruby or Python
and because it is more productive no
it's not because it's more productive
the Python developers are less crazy
they would never you know create 50
files for one concept and which is
normal in Java EE projects so
bureaucratic design the next thing what
I don't understand bureaucratic I think
particularly in Europe is it never was
in u.s. in a project but in Europe is
like developers don't thinking in
vehicles what I do is thinking in
exceptions so they had for instance
package exceptions and all exceptions in
the package then one package interfaces
or Intimus in the package so why doing
this where is you know the usually is in
the morning you are building five
exceptions then five interfaces and then
three service locators or what they are
doing why you're organizing the code is
way there's no and they don't know and
for the exceptions package there's even
no example not even in JDK there is I
never saw anywhere a package exceptions
in JDK but this is actually the best
practice put all all the exceptions to
exception package and then the design is
good why we have full text search in all
IDs if you would like to search for
exceptions but I never saw the use case
to find all exceptions or project never
so what I would do instead I think this
is obvious but I have to repeat it and
then I don't know so I'm I would rather
would like to see you know the vehicle a
packaged vehicle with all the concept of
the vehicle which belong to the vehicle
right yeah so with the vehicles are
exceptions there the first one yeah
so we use what's there so I I get a
contract and the customer is nice and
gives me two weeks time for preparation
and I don't know what to do what you can
do in two weeks I mean everything yeah
but there's nothing to do so you can
prepare unless I go that what you search
for dependencies build up your
frameworks so again why give me the use
case no we are not there agreed there's
no use cases but you can create some
something and what happens there are in
in in the European project they start to
search for frameworks and it download
dependencies there make a maven a little
bit more complex and they introduce
frameworks configuration is very popular
always ask about configuration logging
is the next one if configuring
everything is configured and in three
stages
then everyone needs 50 abstractions for
logging you know simple log facade and
commas locking on top everything you
replaceable and in the end you have
introduced 50 max of source code without
any added value to the customer so what
I really do I look first on JDK it's
whatever we need is a dedicate something
there if not then I searched for other
dependencies and if not in JDK Java EE
is amazing how much we already have in
JDK and Java EE what happens instead
developers don't like JDK is in Java you
whatever so all we use as fancy
framework instead and the problem with
fancy frameworks in enterprises you are
depending on them and what really
happens in my task forces is sometimes
they are forgotten dependencies there is
source code number out there the
developer died on whoever and and and
you cannot maintain it so it was really
not not an unlikely accident that we
have to decompile and recompile the
stuff to fix the problem so each
dependency comes with some cost is not
free in enterprise projects so what I
either do either all depend
this needs to be updated once a year
this is the price for it
all you check out the source code make
it buildable in your Jenkins as your
insurance this is the serious work with
dependencies
no one dusters in serious Enterprise
projects okay questions no questions or
t-shirts t-shirt
ah the questions needs to be Java
related sorry yeah but I said it
yesterday I said it yesterday okay you
are right you get a t-shirt
you are right the precondition was Java
related question but I thought this is
conventional in my talks but so I'm
domain concepts first what I really
doing in project I start with a simple
portrait with the concept and and and
work with the client to see whether it's
my honest understanding or not I never
would start who is Java EE maven or
whatever who cares about this and I
spend most of time in simple classes in
one large project in Germany the project
manager complained that we are actually
almost developed developing I think
everything works but we have only very
very the project is very small and he
had to explain to his to his boss that
we are actually creating a very little
just a few classes there's nothing that
before me there was a no frameworks code
generators and meteor models or whatever
and now we have just few classes this is
a problem you have to justify this
because what I renamed classes
constantly you know I think about
methods and properties and this is the
the actual cost of doing such a thing it
is not easy the next problem is most of
consultants like me are external and I
usually don't have to domain knowledge
so for me it's a really hard to build
something with this approaches express
it poor choice with domain logic and
think this is also the problem most of
the consultants like me don't have any
idea about the business logic is a lot
easier to introduce the fifth framework
then think about the business logic okay
this is why I really believe an internal
developer with domain knowledge is a far
less productive than any other external
guru consultant really so whatever you
can do with Java if you Java Java e an
internal person with a reasonable person
with domain knowledge and and and not
carve a card you know which pet is
everything just reasonable person this
is an order of magnitude more productive
than any other technical consultant
without domain knowledge probability
given design so what it means
usually in projects for instance huge
discussion how know to abstract from
logos still still almost as question of
do you are using simple log4j or
whatever I actually don't care first but
our database you know used our to
abstract from database and another diode
to abstract form from JPA whatever
and my questions always how likely it
really is then in then in the running
project we have to swap log4j with Java
EE logic or how likely it is that in the
running projects my client will move
from Oracle to db2 orphan to be to to
Oracle I actually only occurred one for
me and this was really unlikely event so
usually all the environment outlives the
application and the architects are
concerns about abstraction and
decoupling which I don't get because
it's so unlikely that I don't know I
would have you know here in San
Francisco to do to bring my Eskimo
outfit or probably it could be minus
degrees here and probably one but this
is just crazy it's really unlikely at
this time story I would buy a you know
winter jacket here but it's really
unlikely but in Java EE everything which
is unlikely is somehow abstracted which
I really don't get so my advice is think
about the likelihood of certain events
everything which is likely do something
about this which is not likely just
forget completely and meanwhile I don't
provide any variations without evidence
there is there we've tried not no
factories no interfaces nothing because
the DD probability that something varies
is very very low okay no problems no
patterns please don't start with pedals
so patterns will design that way that
you have problem and you need the
solution for the problems we looking for
patterns and for unknown reason every j2
import project in java java j2e started
which was good but java project starts
with patterns not having problem and say
while you're doing this I mean go to
j2ee patterns dot-com look for context
and and the problem and they don't even
match so as a homework go to search for
the definition of for DL and search for
the definition of DTO
90% of thousand details are wrong out
there they they are implemented as
encapsulation of entity images
completely wrong which is also
problematic now we have developer kits
and we have devoxx for students or
whatever
imagine someone a fresh trauma developer
comes to a projects sees they are all
data access objects goes to the internet
finds the definition and say they are
crazy so
origen doubt definitions like you would
like to access fred files XML object
oriented database and jandia at the same
time therefore you need a fraction and
we don't have such a thing
we have have database already abstracted
50 times with JPA and entity manager and
the skill encapsulated with Dao and this
is even even more crazy if you look at
the patterns the entity manager is
implementation of the pattern called
domain store in core j2e patterns and
this domain store in the origin pattern
used and Dao so and in now in the
project we have the the solution to the
2d problem you know this is the domain
store and we encapsulate the domain
stuff either down if you explain it to
someone is craziness I mean and this is
in enterprise was not not like we are
speaking about the startup companies
they are reasonable all status companies
really reasonable the enterprise project
lots you know lots of I don't money and
and and and they write books about a
documentation hundred pages with I don't
know why simplicity simplicity wins I
think in long term the only thing you
can do keep the codebase simple this is
the only survival strategy I actually
know and what I do from the beginning I
installed sonar so not cube it's a Swiss
invention but very very very nice Islam
it's like plugin for for you know plugin
for Jenkins the own server but it's
triggered by Jenkins and there's lots of
metrics and the most important metrics
for me is first the complexity but there
is also a ratio between complexity and
code coverage and this is this is the
killer feature in my case because
everything which is complex has to be
tested when everything which is simple
doesn't have to be tested so on that
note what happens in in is several
projects in my case they don't care
about this metrics they code a day they
care about code coverage 80% code
coverage so how you can achieve 80% code
coverage very fast I'm testing you know
get the setters to string and so forth
and the other stuff is hot so leave it
so if you achieve 80% everything stops
everything is green we can go to
production crazy my project have about
40 50 % code coverage you are diverse
but we only test the hard stuff and you
will never see a get inserted to be
tested by me
these are defect I never saw I get onset
of faith whatever happens we have
multi-core whatever but this is so
unlikely that I get the onset of failure
I cannot even even imagine right so I'm
architecture and design bottom-up so
what it means everything was top down
because j2ee was at for that time I have
to admit it was great it there were no
annotations they were we had JDK one
four one three so you couldn't do a lots
of style you can do right now with
annotation all the stuff so back then it
was really great for that time so
problem was checked exceptions to the
API so a whole codebase was dependent on
the j2e API so you needed always reppin
abstractions adapter so you need a lots
of code to be actually clean and this
was fixed in Java five eight years ago
but you still see the design in my
current architecture what it means at
j2e time j2ee it was top-down we only
knew that we need business delegate
service locator and all the stuff in
Java five six and seven such a pedals
are no more needed continuous quality
from the beginning of the project
install sonar cube or sonar source it
should run on each commit very very
important and HR is hot right now
whatever it comes after a gel but in a
jar this definition of done what I try
to do to heck the definition of done and
say complex head code head needs to be
tested other other otherwise it is not
done what happens then all developers
are forced to either write simple code
all tests complex code this is actually
nice correlation and what it means you
are constantly refactoring the
application so you are constantly slower
from the beginning so you don't need any
time for refactoring later the only time
for survive is constant
refactoring I never saw all right so
it's sometimes that you see now you can
refactor but this is a very very
high-risk operation right if everything
runs we are in production and then we
get two months time for refactoring what
you can do I mean you can just break
things actually because everything works
so the only survival strategy right now
continues refactoring monitored by
Jenkins and sonarqube why it's so
important because no discussion
if everything is on a dashboard how it's
called the modern word for this is not
dashboard information or ideator I think
it is in can mentor something right
it's just crazy it terms so information
radiator dashboard forget about this you
need an information radiator which
projects this on a wall yes yes yes I
would do this yeah from the beginning so
there is no discussion but very
important note you shouldn't you should
never use the the default rules and
Jenkins
you should always adjust them because
they are not very well suited for Java
EE in my eyes so there are some things
like no custom transaction threads are
not even considered they're like no
severity warning or whatever and the
irrelevant stuff of Java is is critical
they always have to adjust the rules T
sure of course remember he got a t-shirt
right you can also ask questions now do
you think you are minority you didn't
got any questions from you Noah yeah
they are certified answer so so business
boundary control entity this is a my
architecture advice what to do in
projects so what it actually means we
have we have two packages in Java
presentation if you have JSF for
instance JSF or wicked or whatever and
business and I'm talking about right now
about the business and this is the old
Sun Sun layering we had presentation
business integration
I still use the names why name were
using is always great you don't have to
discuss the names anymore there is an
nice law Parkinson law of triviality
which is really important for enterprise
what's Parkinson's or law of triviality
sizes the more how it's got the easier
the problem the longer it takes to
discuss it and in my project naman
naming was always over cuz no one cared
about transactions in no replication
this was this is the techie stuff but
naming in this year I spend I think
three days about a naming of group IDs
and in one project just a package it did
it was irrelevant but everyone
wanted to discuss naming so if you can
find a standard in the internet so
somehow fits you needs this is the heck
then take the standard go to the meeting
say look this is the standard we don't
have to discuss this perfect okay
really this is why I always use business
control entity I don't like the names
but it was described by Iver Jacobson
you can model in all UML tools and I
never had to - I was never asked twice
by architects management ivory towers
why the names - just point to the ivory
every books I've already Jacobsen book
and they say ok then everything is fine
so the pianist boundary control and
entity so and this is a part of a
component component is our vehicle
business and each component comprises
three packages and the name of the
package is boundary control entity and
control is optional this is very
important to me boundary is always a
session bean stateless there should be
net stateless why we need transactions
always starting without transaction is
crazy
so already but there's are a lot of all
that having transaction so did you
measure it no there is no measurement
but no huge I don't know how it's called
tribal knowledge like transactions are
slow so we have to build by our our own
or whatever no transactions are actually
very very fast if you if you don't
hitting the database so you can just say
everything is transactional if we get
the problem then we can optimize it but
never a premature optimization root of
all evil and so now rule what I really
do
I create so novel and I search for the
word transaction in the source code if I
find this is already suspicious
suspicious it means someone wanted to
start transactions by hand or whatever
this is usually beginning of the end
really so container manage transactions
is the way to go and it's content manage
transactions means for you if you're not
a Java EE not expert user it means there
should be no transaction in the code no
statement Ran's action just the
convention Java convention means
transactions and OD jeebies are
transactional the nice story is the
transaction is propagated so what is
a stateless session bean for crud create
read update delete we only would have a
stateless session bean with inject
Identity Manager and you would set
nothing else to classes if I saw it in
Project I say you are crazy
there is nothing is everything is couple
area two classes are comfortable with
public methods as it always was meant in
Java I mean this is nothing what you do
there is no it's wrong yeah didn't got
it why I would do what no no no the
class would be a vehicle or or garage
with inject Identity Manager and the
entity would be a vehicle that there
will be no crap mentioned in the code
but just for very simplistic crud cases
this is the way to go for more complex
cases like is you have to validate a car
or whatever you can introduce your a
control but how its introduced is
important so this is really hard to
communicate a developer so control is
optional it means they will be never
control or in ITEX like the controls
everywhere is a control so in my project
the control is a product of divide and
conquer it means we have sonar right so
the boundary will grow and grow and grow
become becomes larger and larger and
larger and too complex so so now we'll
complain what you do refactoring and
you're creating controls period so
controls are created on purpose on
purpose on not on purpose or on demand
you got the basic idea
it works already of many projects even
startups using this and and and they say
great is simple
any questions nice but if I already see
in my code packages like common util
foundation base domain is already very
wrong sign because this is nothing to do
hopefully what the customer does yes no
bank or no insurance companies
interested in in building should not be
interested in building infrastructure
domains or Commons or exceptions control
can is usually a POJO just a POJO
injected bozo
sometimes it has to be an EJB because
only gb can have scheduled or
asynchronous processing for this purpose
and egb but it poaches just enough
pretty good oh very good
the question was what the control
actually is from from from Java
perspective and the answer was a simple
plain old Java object thank you any
other questions you get a t-shirt of
course so you have to remember this is
the t-shirt for this fellow any other
questions I can throw it at you yeah
yeah I'm a component I have usually one
boundary or view very few in my approach
is always one but if there are two no
problem and what do you get multiple
packages which are the components so you
get in the business layer package
package package vehicle garage or
whatever everything is and the
observation is each package reflects an
a domain domain entity or key entity or
essential entity something with a
concept from the real world I would say
okay
also t-shirt and other questions no I
mean if you say always critter
controller you will see in 80% of all
cases the boundary is going to be empty
and this is that code and I think
developers are not that stupid really
and and and I'm also a developer do they
feel offended and and I think there's a
this is actually what shouldn't happen
how it's called nine-to-five developer
nine-to-five I mean so you should be
somehow passionated with the code
because you cannot just develop
something and prescribe everything it
will never work because you will always
bump to exception and development can be
never dogmatic because if you started
with dogmatism it is beginning of the
end as well it wouldn't it could be
never productive so what you should do
is you have to pick up a view motivated
developers explain the concept you will
always work and this is why smaller
projects where I am
really kick-ass very fast very
productive and huge project I don't
believe them anymore
I don't sing is possible to build
something great with lots of developers
I never saw an example in practice
actually everything which was small was
great then it grew and grew and grew and
then died or or sold or whatever which
is the same almost okay so I'm software
lifecycle versioning and modules what I
just wanted to say is about thinking
about versioning Co so six standards
there is semver as semantic versioning
standard if you if you're thinking about
versions also huge to you and modules
modularization is somehow strange topic
some if my architectures tend to be
monolithic because we don't have any
other requirements from my perspective
is absolutely fine if small team
produces a signal war and monolithic war
and you are done you are set
just a perfect yeah and I was told is
yours monolithic you need modules
whatever but now I can sell my idea as
micro service it turns out what I
described in the green book are actually
micro services but I didn't knew about
this so now if you have small team which
creates a war with a rest as an as an
output 2d 2d to the outside world this
is actually a micro service really by
definition microservice and this war
should communicate with other wars
usually by arrest or sometimes with
something like a hazel caste or infinite
span but should not be a binary
communication between between between
Wars or Kafka or whatever okay so then
if this is per definition microservice
small team creates something which is
runnable and in my case it even runs
with Dockers are all or everything
perfect storm right you have a docker
have micro service and whatever okay
agreed so the basic idea of architecture
is of modules Conway's law one team
produces something Congress la means you
can do whatever you like but at the end
of the day structure of the organization
will be reflected in structure of
software so what actually means the key
is to have small motivated teams
producing small nice words which
communicate with each others virus this
will be the best possible architecture
and you can even sell it right now as
micro-service next year as nano service
and then femto service or whatever
it constantly changes whether your code
will be always table okay so I'm what I
will show you right now if we write a
simple application but this is some
archetype if you do it from command line
you will get three three suggestions and
one is called BCE you get all the code
with arquillian appended test unit test
integration tests this is why we already
have a sample for this so I think I was
I think more variable for me to answer
your questions so this is the last slide
so we can actually start coding or you
have any questions everything was
cleared so far this was like I would say
the the essence of this what I am doing
in projects and mostly I'm actually
depending the deleting dependencies and
and and code so this is what I do from
the IDE Oh IDE discussion so I ask white
as net means like who cares about that
means the code should build on Jenkins
and there should be no prescription
which idea whatever to use you can use
VI Emacs if you like or sublime whatever
cool these days it is very important
that is builds in central place and it
asked me about the developer needs
support
yeah do we have Stack Overflow I mean do
you really think that your support in
the company is better than Sega or
whatever what can happen is the ID right
so you can use IntelliJ Eclipse and
NetBeans fact as IntelliJ is the best
NetBeans I would say second one this is
a little bit less powerful than it then
IntelliJ and I really don't understand
why people like Eclipse this is my
personal opinion my personal opinion but
but this is the case but really don't
matter whatever you do this is what I
also like NetBeans the whole project the
whole project is independent from
NetBeans so whatever I am doing is
standard maven and this is the great
stuff not BC I do lose it let me see
what they can do at home so we get
everything with testing and stuff like
this and what a Smith is a good one
right
I think Aerosmith is trademarked so
let's do
so um this is all my moving projects
start this way and I delete it
constantly all the maven pumps and this
is why I create my own archetype just to
just to create this what I need if I
look at the the most maven pumps is
crazy good stir you have plugins over
plugins ever ask question what what is
the purpose of the plugin they get no
answer either I don't know we need it
why we don't know anymore
so really pom is code and for me
maven is the perfect tool for Java EE is
conventional you don't have to configure
anything and you if you would like to
configure anything with maven is already
a bedtime and if you need Gradle to
build your maven a Java EE projects it's
probably you I don't know what every
what you are doing but is us I don't
know it is not usual ok and what I
usually get lots of dependencies test
dependencies but I really try to avoid
our runtime dependencies so my words are
really really skinny really small and
this is no not because of a principles I
am a developer and what I would like to
have is fast built and fast deployment
just smaller than war that the the fast
I can deploy and the fast I can build so
I can really save my time and money
agreed so what also happens all my
projects so I'm often hired to to be
less service-oriented source there now
micro services but back then this was so
our or quad Smith Fort Smith and what we
are building tickets in business tickets
or just business and what I need to
check the rest configuration I think for
the last five years I never built soap
again I was asked for this but I
explained what the impact is actually we
always went with jax-rs on the rest
really honestly and since I think Java 5
this is ideas 8 years we never ever
deployed a soap again because it's a
waste of time in my opinion so um now
why what I want to try to do I I looked
at a spec I think the soap JSP were
updated several times but soap wasn't in
the recent Java iterations then there
was no talk at JavaOne about soap so I
mean that the knowledge is will
disappear because if there's there is no
article actually about soap and the only
talks I found at devoxx were against
hope and the problem is so was meant to
be portable but it's not that Potter
before we know it if you have our
different languages on the other side
these are really hot and then the the
real problem with soap is try to explain
iOS developer to access a soap service
for instance right or Android
so because of Internet of Things and all
the stuff we are actually forced always
to expose jax-rs
or rescue web services on top and then I
say okay then use jax-rs for everything
because it is really crazy to create
soap for Java you know but because for
everything else no one is interested in
soap or because no one would create a
JavaScript parser for soap I think right
so and then so we have one one API to
the outside world is this Jack saw
rescues usually this is a restful web
services and this is the APA for
everyone but what we do for optimization
we know for instance Java client Java
fix or a page application is accessing
us we are delivering civilized Java
objects which is not faster so we this
is called content negotiation depending
on the type of the project of the client
we deliver JSON and XML mostly for free
and Java projects gets realized travel
checks and the fastest realization is
creo que air Y all and fingers first
serialize a little bit faster than cryo
but cryo is already pretty fast
according to to benchmark is I didn't
venture on by myself but Cryer was sort
of many unknown who have lot faster din
Jamaa civilization and protocol perturb
buffer is really hard to set up so this
is not that easy with the old e so so
I'm to what a neat application path and
here I put resources and we don't have
to eat the time to explain this but an
application is from jax-ws core so this
is this now we have jax-rs everything is
rescued this is the configuration what I
see instead huge web the xml files with
so I was always in Java 6 project
anti-white actually works if they have
restful web service and nothing is
configured and then I found out I know
huge partially wrong web.xml
with everything configured and this is
actually all you need to activate rest
in Java is 6 &amp;amp; 7 and what XML was
required in Java EE 5 so then we get an
pounder e-ticket a component ticket and
boundary inside and this comprises two
parts oh this is this was actually from
a new class new Java class and this is
in package ticket boundary or tickets
boundary and the class would be tickets
resource so usually plural why plural
because if you if you accessing this
resource by arrests you are addressing
the collection first so if you what I
always see in projects they did they
name it ticket service which is already
strange because rest is not about
services is about objects addressing
objects so I can put your path and the
path would be tickets
and you are basically set and I actually
make it a stateless egb because then
monitoring kicks in a little bit earlier
and I get transactions a little bit
earlier but it could be also request
scoped so and on that note I get here
that's a ticket broker or ticket broker
and this is the actual boundary
it's an EJB and I will could just buy a
ticket and amount probably there is a
great market on JavaOne I assume already
so we can create the software the micro
service for this and and the ticket
resource get injected to ticket broker
so and this is somehow confusing in
projects because what I most asked
question is why I separate the the
jax-rs from the from the EGP and both
belong to the boundary and the answer is
if I for instance would do something
like this is the usual safe let's say
JSON object this would look like this
and this will be post and usually what I
I would have something like I just
exposure ating right now to go straight
to the answer and context heart ADP
headers let's assume you would like to
to get the headers here so this is a
usual jax-rs code so I get a JSON object
in Java 7 which is out automatically DC
alized I get HTTP headers which are
injected by the jax-rs runtime and I
return the response in that in in the
case of post would be return response
created an Ori and built so I need an
over here so this will be actually
already info would be nicer so with the
Orion four I gets actually the past
Polanco depart the point being if I
would put here my business logic for
testing I would have to mock out all the
classes from jax-rs
which is crazy I mean there's a lots
lots to do this is why I always separate
the
the problem is on conferences I usually
start with the simple stuff which looks
clean like public string safe so we
always we see the annotations here and
you're always wondering why he is doing
this why I am doing this because this is
a real-world code it's not compatible
this isn't okay what so um but the
reason for this is imagine I would like
to write the test and I would write a
test the problem would be I would have
to mock out this one and I will have to
- to deal with this in in unit tests
agreed so and the entity would be the
ticket so let's I think it is in for get
absolute path builder or something like
this built
we don't have 42 of course and what we
get back is the only I hope and so
something like this and this will be
post so what it actually means if
someone creates a tickets it gets a 201
back created with the link to the ticket
this happens very since so and this is
also why I really like jax-rs is very
expressive and if you do it right you
don't even have to document the API
which was no other case in soap okay so
if you just looked at the API everyone
would be able to buy a ticket from
command line if you would create a soap
so this no one would buy the ticket from
command line I would say they would
rather say okay next year we go to Todai
Smith okay questions yeah very good
because if you if you had something like
JSF or a wicket or Google web toolkit
Pro hopefully not but let's say Jess F
right then you would usually get tickets
dot presentation and this is a
simplification then I will ship to you I
with the with the back end where
actually we can do this is no problem so
I'm for JSF I would get a JSF page wait
a second
new JS f page and the page is going to
name of the pages index and and what
happens right now I need a class which
is a baking bin and this is in
presentation and just the same name
index and usual you get here a model and
this how it's called
this was tickets what ticket broker Oh
ticker yeah broker TB ticka ticka broker
is a little bit strange what is real
world I mean I'm a project worried who
are partially in German and partially in
English so depending on on the class so
as also some or whatever so and now we
have the separation so does the
presentation layer with the index and
the business is on my business logic and
in so now in the dependency monitor I
see that actually the business logic
doesn't know the presentation so you get
the separation for free and if I knew
that will be never just have never GWT I
will live off the business then you can
skip the business
agreed you have the t-shirt already
right and now the questions
so then what we also will need to an or
left to hack a little bit more the
entity new Java class entity and the
entity is actually the tick cat and this
is the entity and this is going to be
something like this and at the beginning
of the project I would go with this XML
root element and XML access so type
field no getters and setters and usually
I would get an and generated value and
probably we had I think amount or
something and then we need a constructor
without the ID and a constructor and
this is the easiest possible entity and
fun stuff is we can already for test
purposes return the entity here with
take a ticket yeah this is ticket which
is of course created by the ticker find
and then we have to do it right path
parent which is the ID and it can be
automatically converted no this is wrong
this is path and this is path param
and it's going to be long ID or int and
I can say return TB find what I need
yeah because I could have something like
this this is actually why we need the
curly braces so the tea partier gets
automatically parsed with regular
expression so it can be crazy complex so
thank you who said this you get a
t-shirt just by the way that's peclet so
I can do whatever I like and it will
always work so I'm ticket oh this is a
mount okay
that's correct that it's not more
generated and then we need another
constructor with both and then the
default would be for us miss 42 of
course so not here any other questions
find and 42 so this is right let's see
where that works no it it could work or
the second it could work because I don't
have the bin 6ml but the EGP is
annotated so it will work but I will
show in a moment why it wouldn't with a
POJO what a Smith oh it even works here
this is surprising resources tickets 21
water this is not as decides don't what
dismiss resources unless a second check
sir as resources tickets resources
tickets get I didn't path what is that I
think I would just recounted actually
looks right it has to work
yeah I do it often so it has to work so
if not ask me questions give the t-shirt
back it works you have to deploy it
without deployment so from command line
you see XML and provider can do - H
accept application / Jason and I have
Jason so this is a best practice so all
my commercial project look like this and
actually the Aaron Gupta the conference
at something like guru what job a7 and
asked me about projects and I ask my
clients whether they would like to
expose a project and one project was
called teepee camp or something there's
a German project as a small very small
companies that showed one guy which
started this they all Alec architecture
looks like this and that says crazy
productive and it was never an issue
there's no interfaces Norfolk is just
plain business logic ok questions you're
not how much time I have five minutes
right for security access start with
epics ml security first this year the
only best practice I know for jax-rs I
would say and house and everything else
is also also there but weapons ml is I
would say no the correct answer is Jax
arises s secure servlets R or JSF no
difference
oh why this yeah hopefully the question
was why I did this with XML access to
type so what this is this is Jax P has
nothing to do with Java EE but most is
actually part of the spec that it works
this realization this ionization is part
yeah I worked on all servers I never
knew whether this part of the spec so
the application servers used eg XP
annotations to seer eyes and visualize
the POJO but you could use this outside
the Java EE this dis Jack's ps2 nothing
to do with travel and actually in one of
my project if you are interested to look
at any hydrator and github Java it
projects the same irritation for
configuring any hydrator and I've been N
hydrator okay you get a Titian of course
any other questions well yeah no i-i've
write a road test last year and the
tests are actually boring because the
unit tests what you will see I would
write a test which is no different to
approach a test there is no difference I
use mojito for testing I can work out
everything regardless with their
interfaces or not there's always work so
the question is you cannot test without
interfaces I can and I did it 50 times I
try to skip this this time and
integration tests would be booting the
entity manager here I could easily do it
in two minutes so I did it also several
times but there's also basic but if you
check out the maybe an archetype it is
full of unit tests integration tests and
even embedded test this is why I skip
this because these are Killian for for a
test and what I can tell you our Killian
is most overused framework I don't get
why our TN is even booted for for very
simple get associate a tests and then
they complain that the whole testing is
so slow I've say in my project our
Killian is rather the exception than the
rule and we only use our Killian if we
have our crazy complex dependency
injection for instance and we deploy for
it'll plugins or injection of loggers
and configuring something if you have or
you would like to inject a cache let's
say and would have to know to to boot
the hazal cast and in do something with
it
this I will always use our Killian so
for what we use our Killian is the
killer use cases to prevent mocks being
deployed to source main Java only with
our Killian is possible to keep source
main Java clean you don't need any more
classes any test class in sauceman Java
because Arcadian C's source tests Java
and is able to deploy classes from
source stage Java to production to
production
near the production to photo test
environment I always use our Killian but
for our Killian there is in DBC example
I didn't use an embedded server oh yeah
I used weld straight and this is crazy
fast yeah this is a means instead of
using embedded APIs or embedded
GlassFish you can use you can use weld
CDI and this boots in half a second yes
yes yeah yeah but they really like our
key and why because just by swapping the
profile I can test in different
application servers at the same time
very good I never use power mock because
if you need power mark is a bit fine
yeah it means you have a static
Singleton's whatever I mean but this is
very good actually so you get no getting
better
yesterday I was too too weak and other
questions
why need Jack's arrest right now usually
the problem is right now I think it even
in enterprise is no more sufficient to
deliver GSF you need what the problem is
something called responsive design so
the problem is you know more and more
devices in normal resolution and with
JSF is going hard and harder to build I
built I always build an API and JSF is a
shortcut just F is crazy productive on
simple applications but if you get
strange requirement you know if you
would like to be pixel perfect you will
have to deliver native applications
usually to iOS or an Android and they
need to check for s and then usually if
you start with html5 and angular they
also need jax-rs and I actually started
with jax-rs and someone asked me about
JSF so I implemented yourself because
one asked the question yeah if you just
if you if you're happy with just a few
don't need rest but then you shouldn't
have so either and no remove and no
remote interfaces as well no I opie yes
but I have really had to admit it in the
last two years we always had jax-rs
always there was no a case or projects
with just yourself it never happened n
hydrator and hydrator
I will actually introduce it tomorrow in
Aswan session cry oh sorry creo que r y
Oh cry oh very good
other questions
ah it is a complete different story I
would say Java fix you can you can for
instance what I created recently a
scanner which searches for dhaka
services and manipulates them it will be
really hard to do it with JSF or you
know or backup or whatever this is just
management consoles is perfect with Java
fix which is not so suitable for JSF two
different story but at the point being
many say ok Java fix is dead and html5
is you know you can you can shoot invest
more html5 this is true for html5 but I
never saw a project just with html5 so
what you end up having is no grunt and
an angularjs and then everything and not
now gram is no more cool because they
have called who knows what happens with
angularjs and in the next year will
probably get to know dart or whatever so
it means the investment in html5 is in
any case two years probably and then you
have to rewrite everything anyway so
right whether I use Java pixel rewrite
it to html5 or html5 to something else
this is actually the truth yeah if
you're using JSF there's a there's a
Kulak used
it's called html5 its pass-through yes
but not only pass through you can just
use the mapping between the html5
attribute and about the whole spec is
called pass through but you can use
html5 html5 tags and they are automatic
converted to JSF components this is more
than part through and this is great so
look at this first and then at a
component framework and regarding to JSF
what is also strange best practice in a
strange practice and the best best
practice in my projects JSF we have the
unique opportunity to be productive it
never happens why not because what I
would expect that someone goes to the
clients or today to the department and
shows them a use case demo case of
primefaces retraces is almost no more
existing and isis or whatever and then
they say ok look it looks like this and
behaves like this if I'm gingers F
project I would say a table will always
behave like this because we buy the
component and it will never ever change
the table for strange reason it never
works like this
what they do to just download primefaces
would ever never show it to the business
department and then the business
department say yes but a table should
behave completely different and then
effectively for practice or whatever and
this is also beginning of the end
because then you have to maintain the
jsf component you have to keep it in
sync with the primefaces
and yourself also to generate proper
html5 code and this should never happen
this is like you know the business
department decides for for Excel but she
looks like make numbers would never
happen right Excel is Excel it's like
this table in primefaces
is this table and primefaces and we
would like to have something else we
have to talk to the prime face this guy
and this should fix this for us yeah
this is the only viable way what I
really saw in Germany they're projecting
for crime faces and they maintained a
parallel did the bullet in parallel to
primefaces this can be never cheaper and
the company has nothing to adjust f they
sell something else okay other questions
we have three minutes right three
minutes is it right so then yeah yeah
this is the archetype if you if you if
you create archetype you get it we have
it on my block as well
d-line
you walk up this line oh by the way our
best practices if you have a simple
architecture for your project simple
setup create a maven archetype put it to
a nexus or artifactory inner users the
commentation should be executable so if
you write verge never know a developer
will read it this is my personal
experience multiple projects for company
and frameworks it was never at by the
developers so since then I create
archetypes say ok check it out this is a
hello world this is what we actually
thought how it how to test how to run
how to build the applications and there
are actually no questions left and the
developer should be able to contribute
back if they have ideas so you should
set up something like private github the
report something like this any else who
say questions and plus IV a little bit
more complicated than maven therefore I
would use major theme how probably it is
that I need deep D flexibility this will
be my I like write a little bit more but
but maven I don't think if we compare it
in an average Java project we are as
productive I don't need the variance I
don't need nothing I just need to this
nothing else you know because we have
Java I would say yes Gradle is more
conceptionally better it is more
powerful but I really don't need a power
for Java but if if maven becomes huge or
you would like to do more like at you
but because maven is a great little
language on DSL then go for Gretel but
all of my projects so far were maven and
the developers were happy with it maven
3 moving towards too slow to like this
ok any other questions if not Co what I
do if you if you like once a month
there is our live streaming of most
asked question for my block and this is
interactive if you like this is free
don't have to register nothing is just
it happened just there probably if you
are interested workshops come to Munich
this is no far 12 hours flight so it is
very very fast and see you tomorrow I
will not show on enterprise so I will
show you what I do actually was not fun
in real enterprise project like any
iterator and some cool ideas and how he
killed dsls and and antlers on whatever
just with simple stuff - see you
tomorrow
and thank you for coming</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>