<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Rich HTML5 Web Apps: Typesafe Edition | Coder Coacher - Coaching Coders</title><meta content="Rich HTML5 Web Apps: Typesafe Edition - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Rich HTML5 Web Apps: Typesafe Edition</b></h2><h5 class="post__date">2015-06-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/yV0ia5vIpP8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello hello and welcome to our talk rich
html5 web applications typesafe edition
my name is Jonathan Firth's and I'm a
developer on the arrive framework hi I'm
Christian salad egg so this talk is
about building maintainable large-scale
web and mobile applications with the
chaebols arrive framework and to start
let's just quickly revisit why we need a
framework in the first place because
basically I've heard being a web
developer is quite a tough job sometimes
yeah well first off there's big teams we
often end up with large teams and
sometimes multiple large teams who are
working on different aspects of the
application at the same time and what we
end up with often is these siloed teams
who work on say front end things or back
end things or just the persistence layer
things and so on and they'll develop
their own cultures their own names for
concepts that may differ across teams
even though the concepts themselves are
the same and this all leads to
communication problems in high friction
and and just moving slower when we want
to make changes to our application and
of course finally there's code rot that
we've all experienced you can write some
code leave it dormant for a year try to
revive it and get it working and the
systems changed around it and it just
doesn't work anymore right talking about
code what we all know is that coaches
has this tendency of growing over time
is to keep adding more functionality
more features just often don't have to
time to go back and reflect the things
and clean things up and we need to know
where code is actually being used but
can safely be changed and that all goes
back to what you said about just our
code rots away over time yeah by the way
that's not an architecture diagram of
the arrive framework all right what else
makes our jobs hard big customers we
love big customers because we love
collecting our paychecks and the big
customers make that possible but big
customers come with their downfalls as
well they'll often put a lot of pressure
on the development team to turn around
new features and bug fixes quickly will
have to incur technical debt while we're
doing that they're going to want big
changes so you've got an app that you've
been delivering to a customer for five
years and they decide Mobile's hot and
and you need to deliver a mobile version
of your app right now how will you do
that
probably a lot of evenings and weekends
and performance is another big issue
with big customers often when you write
an app in your little cocoon you haven't
tested it with as much data or as many
concurrent users as your big customers
are going to throw at it and again your
evenings and we can start to fill up
when those kinds of things happen right
so what can or I is a framework do to
make all this easier and to alleviate
some of the pain so one thing we do in
arise we use the best tools and open
standards to implement a web app so we
use html5 and CSS for layout because
it's the most direct way of defining the
layout in in web application we use Java
for enterprise development mainly
because Java he addresses almost all
enterprise concerns like persistence
security transaction management and we
use JavaScript where it's absolutely
necessary but only they're right and
another big thing that I think it helps
address almost every problem that we
just mentioned is the code sharing that
we promote in the arrive framework we go
out of our way to make sure that you
aren't repeating yourself by say
building a business model in one place
and a separate but equal business model
in another place and trying to evolve
them codependent ly in lockstep over
time and we think this also helps
promote the similar names for similar
concepts if different teams are working
together on a shared code base for say
the business model and validation logic
a big goal of the arrive framework is to
get rid of all kinds of boilerplate code
so we have a declarative very simple to
use programming model this annotation
driven where we believe that a little
can go a long way to make you write less
code dealing with technical concerns and
more coaches really building your app
right and again even beyond boilerplate
reduction to say everything you type
does more because you don't have to put
a lot of repetitive boilerplate in there
this idea of sharing code across modules
and even across the web server and the
web browser right at once in one
language and deploy it on both ends the
server and the browser and promote
collaboration between the teams oh wait
you're saying we're sharing code in a
browser and the web services this is a
no chess presentation no no it's not a
node.js presentation no it has a lot of
these advantages to write because he
write JavaScript for the client and the
web server and you can share quite a bit
of it together but we think if you're
going to limit yourself to just one
language we prefer to use Java so the
way we do that up front at compile time
we check everything because it's a
decorative programming model we do a lot
of upfront checks to make sure that
everything's correct its type safe and
we generate a JavaScript payload that
then runs in the browser and for the
server is just regular old class files
mm-hmm okay so we're going to look just
briefly at the core concepts we don't
have a lot of slides because we intend
to do live coding and show all those
features in that light coding session
the core concepts start with how do we
build user interfaces in your eye I
already mentioned html5 and CSS so what
you see here is a plane and standard
conform html5 snippet that could come
directly from a designer or your brand
team and you can just drag it into your
clips and use it as a template you don't
have to run it through a templating
engine you can just rendered it rendered
in the browser as is and take a look at
it and more importantly since we don't
put any code into that template if you
get design updates you just overwrite
that file and that
that coat goes into a companion Java
class so we have this channel class it
it's called complaint form that
annotated was templated where all the
code would go in in plain java and not
into that template so when you get an
update of the design you trust overwrite
the template this gives you a shared
artifact the HTML file between the your
design team and your web front-end team
right so we get separation of concerns
we get a part of the team were
completely on the sign and the other
plane down coat on travel and we have a
type-safe set up so for instance this
wouldn't compile our compiler would fail
saying if that name textbox wouldn't
correspond to a field in the template
right no no nasty surprises a runtime we
want to file fail as much as we can at
compile time so something else when
you're writing these autonomous
applications that run in the browser and
communicate with the server just using
data requests rather than whole web page
refreshes is that unless you do
something about it your users will lose
their browser powers that they expect to
have which is the ability to copy the
location from the URL bar and email it
to somebody say hey look at this part of
the app that i was looking at and just
something as simple as the back and
forward buttons those need to work as
well so the way we approach that in a
rye is building on the idea of what
Christian just showed with the templated
components if you put at page on a
templated component that makes it a
place that you can go to in the app so
in this example we have a place called
complaint form it's a page you can go to
and if the URL ends with hash complaint
form then you'll be on that page and to
navigate to it we'll look at the second
page this welcome page and we've
injected a transition to object and in
the type parameter we put complaint form
and that tells us at compile time that
the welcome page has a link to the
complaint form page and to actually get
the browser to go there at runtime you
simply called go on the injected object
so this gives us a completely upfront
checked typesafe mechanism
linking between pages in the application
right and when I did go it will also
update the location bar in the browser
and give me the full history support and
it's all old type checked so it doesn't
break right leave around wings around
time okay okay so another task in web
app development in particular that
causes a lot of boilerplate code is
updating a data model based on Form
contents or displaying the contents of
the data model so you really want to
have some sort of data binding module
and arai has one it's just a two-way
data binding module so what you can do
you can simply inject a model object in
this case it's a user complaint because
the demo we're going to show is for
filing complaints but it could be a
customer over there at JP entity for
instance and by simply adding that bound
annotation to the fields of the template
you're keeping the model object in sync
with the UI so whenever the UI changes
the model will change whenever the model
changes so you I will change you don't
have to write any event handling code
for all of those fields in your form
class again it's all type checked so if
you add about annotation to a field
there's no matching field in the data
model this will just fail to compile
there's no nasty surprises at runtime
now something we haven't talked about
yet is how does this autonomous client
this running in the browser talk to the
web application is running in the server
so we've got a couple of different ways
the first one that will talk about is
our type-safe distributed eventing model
who here is familiar with the CDI
programming model any less okay so for
those who are this is pretty simple this
is a part of CDI that we've brought into
awry so you can inject a type called
event and again same as we saw with the
transition to you use the type parameter
to say what kind of event
want to be able to fire so that it can
be checked at compile time and in this
case we're using document so this
updated doc event field will be our way
of firing document events when something
happens of interest with a document so
to fire one of these yes we just call
fire on the injected object and we pass
the instance of document that we think
observers might be interested in and
this is all loosely coupled but the
place where you're firing the event has
no idea who's observing if anybody and
the observers have no idea where the
event was fired from so how does it look
so this observer would be in some other
part of the application and it's
interested every time a document is
updated so when we fire the document
this method and any other methods that
observe document will get invoked by the
CDI container with that instance of
document passed to it so that's how CDI
events work we've implemented these
inner eye on the client side so this
works in the browser it already works in
the server because you have a CDI
container there and what we've also done
the distributed keyword is key when you
fire an event say on the client
observers on the server for that type
will receive that event as well as the
ones on the client pool and vice versa
so if we fire a document event on the
server all of the clients are observing
document will receive that document
event right away it gets pushed down
from the server to the clients right so
that's already a very simple way of
communicating between the app that runs
in the browser with the server but
sometimes you do want tight coupling
sometimes it's obvious that you have a
business interface and you simply want
to invoke a method on it so oh I
provides an RPC mechanism that works
both restfully with chuck's RS so you
just annotate the interface in this case
use a complaint endpoint of Chuck
service annotations to define the HTTP
interface or you could just use a plain
remote interface then arise message plus
would be responsible for delivering the
message and the way you execute a remote
call from the process but just injecting
a collar for that interface and simply
invoking a chava method on it again this
is a completely types of setup you can
change
UL layout of your rest endpoint and it
will just regenerate the code it needs
to for interacting with the server
because all you do is invoking a single
chava methods on a client and you'll see
later when we get to the coding part
this is great for tool ability because
eclipse or your favorite IDE already
knows when you call endpoint call it
knows that the type is user complaint
endpoint and it will autocomplete create
for you or any other methods that happen
to be on that interface and if you
decide to rename the method later in the
interface all of the call sites will
update automatically because that's what
the rename refactoring does in your DD
okay so something else we've implemented
that building on CDI being available in
the browser we've also implemented JPA
so what does that mean we've implemented
jpa in a web browser well web browsers
offer us a thing called local storage it
lets you have at least five megabytes of
stuff that's stored on disk on the
client and it stays there even if
somebody shuts down their web browser
and turns it back on next week or next
year the data is persistent until the
user decides to clear it so on the
client side if you inject an entity
manager you've got this jpa abstraction
over top of local storage in the client
and you can store things into it you can
merge things into it you can find things
by ID you can run named queries with
parameters and this all works in the
client on the clients local storage so
this is great for offline use of course
if the server becomes unavailable or the
network connection isn't there you can
still use all your code that does jpa
things in the client and later thanks to
the client sync manager you can request
that the framework synchronizes that
data that you've been working with on
the client with the data that's on the
server and this is a it's a two-way
exchange so all the new stuff that's
been generated on the client will get
merged into the server state of those
entities and all the new stuff that was
on the server gets sent back down to the
client and the client persists it in
local storage of course there might be
conflicts in your application has
opportunity to deal with us okay so the
last feature going to look at the slides
before we start coding is mobile support
we use the same programming model we've
already seen we can simply inject
low-level hardware devices on the client
in this case it's a camera object and we
can also use the same CDI eventing
mechanism to simply observe low-level
hardware events like a battery low event
or a device online event so it should be
very very easy to integrate an existing
client side code okay so that's lie it
so we can put a lot of things on slide
so let's see if we can make some of this
work see if it can work get a feel for
how this all fits together all right so
right now we have an app running but
that's only a background image that
doesn't do much can you see that a
search full screen
hi seats trying to direct okay
okay i'll have to
okay so what we'll start doing is I have
this HTML file on my desktop and I'm
just simply going to drag it into
eclipse or copy it so you see that I'm
copying is into a package called client
local this is how we differentiate
between Java code it gets compiled to
JavaScript versus java code an inch
actually ends up on the server side code
right so that code in that package won't
get deployed with the war file so what
you see here if I open it HTML file in a
web browser view it renders just fine
sis there's no templating engine this is
plain HTML it also take a look at it in
an HTML editor here we go plain HTML so
to start to actually get is integrated
in our application I'm going to create a
companion java class and Jonna who's
going to take a look okay can start
typing will follow along while
Christians doing this so we're creating
a new class that will name it the same
the same base name as the HTML files so
we'll call it complaint form and we have
to do two things to make it an arai you
I templated class first we have to
extend composite which is a type that
comes from the google web toolkit which
is what we used to compile java code to
javascript and here's something we
didn't see in the slides earlier there's
an optional argument that you can pass
through the templated annotation and
that lets you say we're inside the
template do we want the route to be so
what what is a complaint form what Dom
elements live underneath it it's
everything from this div and down and we
did that so that up above the CSS links
and that kind of stuff would make the
template look nice so what the designer
would want to see well you're tweaking
everything and then we just pull out a
note that's a little bit further down
from the root so it's also a page it's a
place we can go and this role equals
default page just says if there's no
page name than the URL this is the page
we want to be at it's like the starting
page okay so if i refresh my browser and
I'm still online and everything we
should see the template getting rendered
in our app now so we've integrated a
plain HTML file into application but now
we don't have access to anything yet so
we have to start getting access to all
the fields in that form right so again
something that should look familiar from
the slides we went over a few minutes
ago we're going to use inject which is
just the standard Java x inject that
inject annotation and then data field
which is special to awry and that says
to awry the element that's called name
in the HTML side please inject a
reference to that element when this beam
is created we do the same for email and
they're just lined up by name so the
field name name email and complaint or
what we go to look for it to fuse this
object to the dumb tree that is
associated with and finally submit it's
a button hmm and now here's how we
handle events when somebody clicks on
the submit button we want this method
that Christians reading to get invoked
you can name it anything you want this
happens to be on submit and we say which
type of event we want by using the
parameter type of the methods so in this
case we'll get a method call to on
submit every time there's a click event
on the submit button
so this should bring out the javascript
alert box when we click on the submit
button ok I can type here now and
hopefully submit yeah so the event
handlers fired but it doesn't help us
much right because we we just say button
click we really want that form contents
and you know in a data model and
possibly centered model to the server so
the next thing is we have to integrate
the data binding feature into that form
right so we're using data binding
because we don't want to see code so
what we would consider this boilerplate
we don't want to see code that says user
complaint set name name debt text user
complaint set email email yet text and
so on I mean that's that just dragged
you down when you want to add a new
field to this thing so instead we let
the framework do it for us we use inject
with the model annotation to say this
user complaint object is the data model
behind this widget this widget being the
complaint form so if you take a look at
that complaint opportunity also see that
it's a che PA entity object I views on
the client but this time I hope you can
see this let me move my window a little
bit this time this is in the client
shared package which means it's gets
compiled to JavaScript as well as to
bite kill it's used on the server and
it's used on the client
okay so what we're adding now is the
bound annotation and that designates
which of our data fields need to be
bound to the model and this serves two
important points one is just that you
can see when you come in later to
maintain in this code or if somebody
else wrote it and you're looking at it
you can see very quickly which of the
fields are bound to the model and more
importantly it gives the arrive
framework at compile time the
opportunity to fail the build if say one
of the fields in the model got renamed
you don't want to like build and deploy
your application and find out when
someone goes to the complaint forum that
name is now called username or something
so this will fail at compile time if any
of the names don't by now right so to
clarify that that name here of the data
field text box name aligns with the name
in our data model if those were
different of course you could change you
could provide a property in the boundary
notation to specify where which property
to bind to but luckily in our case it
all lines up perfectly so we refresh the
page again see if you compile yes it
does so now if I fill this out again
and submit we now see that the data
model contains all the data entered in
the form and I didn't have to write any
code for that it just happened so it
happens if we type a few more characters
in one of those fields okay like ooh
let's that meet it again there it is
here so this updates on every keystroke
and you don't have to worry that the
model and the UI are always in sync
right okay so this is how we build user
interfaces I'm quickly going to fast
forward to a get tagged also you can
spare you the details of building up the
other pages because they work exactly
the same I get boring if we do this two
more times so quickly yes
which fields the ones in the Java side
we have some tooling for intellij idea
that will automatically do that we would
love to work on some eclipse to a link
but we haven't had the time yet so the
answer is no nothing will automatically
generate those right now we check them
to make sure they're correct if you
happen to be using IntelliJ IDEA then
then you can use the two of them for
that yeah yeah we can show it will move
along now but will show you the
JavaScript after we get through the demo
so you can see what it's like yeah
providing a museum or yep let's cut this
kind of is an MVC framework because the
your model is separated out this is the
view you can pull out the controller
part as well we often just stick the
controller logic in the view and the
event handlers but if you have some
fancy or control flows you could pull
those out into a separate class and just
call it to there yeah okay so let's okay
so that's the next step is obviously
that oh sorry cuz of that question yes
absolutely you can use jQuery or any
JavaScript framework there's a lot of
them already have wrappers in jQuery
there's one called quick query yes
that's great and it's it's the jQuery
API wrapped in Java wrappers so you can
crawl into it it's got all the jQuery
syntax the even the jQuery object is
called dollar sign in it so it looks
like jQuery code but it's in Java and
your ID actually helps you with it
because you can auto complete the calls
into it plus you can also use the
JavaScript native interface and
interactive transcript code right from
their client side java code now if we
have time at the end up I can put up a
code example for that yes there's two
choices rest is one of them and we'll be
showing that in a moment and the other
choice is that we have an event bus
that's bi-directional push and it
supports for transports it supports HTTP
short polling long polling server sent
events and web sockets if there's like a
negotiation when the client connects to
the server okay so let's talk to the
server okay so in this demo we've
prepared this interface this is
basically a plain Java interface
annotated of chucks arrests annotations
defining a simple rest interface to
create update and delete entities so to
be clear back to that question this will
not use the event bus that i was
describing these are just raw HTTP
to the rest endpoints right so we
implement that interface on the server
this is in our server package this is
playing you see that probably not okay
so easy the implementations in the
cellar package is this plane Java code
we implement this interface this happens
to be an eg be a stateless session bean
but doesn't need to be it could be any
any implementation will expose that rest
endpoint based on that annotations that
are present on the interface and the
good thing about that interfaces again
it lives in the shared the shared world
so we can use it on the client to
construct rest calls it should be calls
to that end point which is what I'm
going to implement and sean is gonna
comment and explain what I'm doing ok so
once again our friend the at inject
annotation will give us access to a
color object and what kind of color we
want to user complaint endpoint color in
this case that's that interface we were
just looking at and instead of popping
up an alert box let's send the user
complaint to the server use the call
method just ignore this for a moment
we'll get back to this in a second we
can't wait for lambdas to be supported
here that would be
and what you see here is that I get now
I de code completion on that interface
and it can actually invoke although
that's a rest communication there is no
no bad linking between the client server
but for the programming model I can just
simply invoke that interface method so
i'm going to call create okay so now
what's this little not in this inner
class in the middle here so it's it's
easy to forget this looks like regular
server side java code but this is
running in a web browser so we get
exactly one thread for doing all of our
work and we can't make a blocking call
to the server so unfortunately we can't
take the return value from that call to
create that that's an asynchronous call
this method will return immediately so
we get the response in this callback and
that one thread comes back and gives us
control in the server response right so
the next thing when a so response we
want to go to a success page right Thank
You page so that you can check the page
transition okay so this is a type-safe
hyperlink that the java compiler will
check for us takes us to the complaint
submitted page you know and we just call
go on it
okay so that's basically older code we
should need refresh my client again and
I'll also open that's the wrong window
yeah so open our server console you
should see that complaint getting
persisted once I submit it so let's use
Jonathan this time I sometimes complain
as well
and submit this there there we go we've
got some logging on the server side yes
so the entity got persisted of a user
complaint cut pieces that plus we
navigated a way to a different page to
say thank you page and we also see the
location bar got updated and we can now
use the back button to go back to the
previous page if we wanted to right
so what's next we haven't even looked at
that server side service yet right I
have to fast forward a little bit again
so we're just bringing in a little bit
more code to keep the boredom to a
minimum here yes it you could use the
spring framework on your server side
we're very lightweight on the server
side we just use like for CDI it's just
weld it's there and for jax-rs it's
using jersey or rest easy we don't
implement these things on the server
site they've already been implemented so
you could use spring on the server side
but the client-side programming model
that we've implemented is the CDI
programming model so using spring code
in your client code wouldn't give you
the expected results
okay so let's take a look at the next
big feature you're going to implement
that's an admin page which will allow
you to look at all the complaints that
have been filed from the browser's local
storage which is kept in sync with the
service storage so what we see here the
admin page works that's why we skipped
it it's the same programming model you
saw before with the complaint from it's
simply a templated page but what this
does it has a page showing method which
is just a life cycle for when the page
gets first is played it will load the
complaints so Jonathan water what is
this here well that's a jpa typed query
so we just call create named query on
the entity manager that we've injected
we want the query called all complaints
that returns list of user complaint
objects and we call query get result
list to get this is coming out of local
storage on the browser and we're feeding
it into the Dom through this complaints
list right and we also call after we
load the initial complaint just display
what we have in the local storage we
also trigger a synchronization request
on that client sync manager Jotham
explained earlier which will update
local storage with the data that's
stored on the server and will merge the
entities that have been persisted in the
meantime we also call sync when we go
back online let's say you're filing a
complaint value in a tunnel the moment
you go you exit the tunnel you get an
online event we'll just cause a lot of
synchronization and that that online
event comes from the message bus we were
talking about earlier because when it
loses connectivity with the server it
periodically retries and when it comes
back online you can use this CD I event
to look in some functionality you want
with the server's back right so before
we adding keep adding more stuff to this
let's take a quick look at the actual
admin page wait while this loads
so we should be seeing yet we've only
successfully persisted one complaint on
the server so far so this is what we're
seeing now one thing we should do with
that admin page is when everybody is
online there is no reason to wait for
the next full synchronization cycle you
should just be able to life feed new
data into that admin view when you're
online which is something we can do next
right so this is an ideal application
for loosely coupled communications so
we'll use a distributed CDI event for
this right so when we we're back in our
rest endpoint that's the implementation
of the tracks RS interface and we see
that in the create method we actually
fire a CDI event so again this is the
server side code here is that event and
check that and here's where fire it so
if you switch back to the client you
should simply be able to observe that
event so it'll look very much like the
online event that we're observing except
in this case we know that the event
might be coming from the server right
use a complaint
and we're going to merge it manually
this time so this is just an incremental
update we're putting it in local storage
ourselves so that next time we run a
query against user complaints this one
will pop up as well on the browser okay
so let's see refresh it mean well
actually for the fun of it that's open
this in a second browser as well i'm
going to go firefox wait a second okay
so
so now if I submit an issue and it's
just align the windows for you yeah
working on it there we go yeah so it's
me complain again
okay we'll lose work I can't watch this
let's see the nail biter okay I'll
submit okay oh yes what could possibly
go wrong we've got to web browsers open
anyway okay okay so that at the top in
the same browser of course also updated
because that's a broadcast event to all
connected clients will get that event in
envelope serving right we have a
question yeah did you look into it or
something on you I like dinner parties
upon in generating a bunch right we kind
of glossed over that there was a list
called complaints and we were just
sticking model objects into it user
complaint objects into it and that's
it's a bindable lists or data binding
facility kicks in it instantiate seeeeee
widget that's one of these templated
widgets that represents one row and it's
a day of yes and automatically binds the
model object we added to the list into
the templated div updates all of the
dumb text notes to match what's in the
model and adds it to a container div now
I noticed that you know your block are
scripted so no offense but around the
checkbox comics like crap is early it
takes a the way it looks if you look at
foreign policy
tickler oh yeah oh yeah that's yeah
absolutely like that's a plain HTML
design so who ever read that's all it is
so I'm a horrible yep that's exactly the
point that stuff the main feature is
this all the rendering you see that's
plain HTML and CSS so that's how you
control it so the design team or your
designer the best web designer in your
team can take care of that it wouldn't
be needed yeah we're not great web
designers we have if you're just going
to be highly showing that once it is on
one single page you mean if you have
multiple data modules in one page for
such a questioner the way we do it we
would do it now is by creating so any
pocho any plain java operatives
annotated with bindable will be
available to data binding so in that
case right now although they were
probably a good feature request but
right now I didn't checked a new type
that's a bindable type and use that out
of that all that modules you want to be
bound to that you is fields in that type
but we can definitely add a feature that
supports about the module injection
multi-model injection to a single form
if there's actually something people
want then we can do it but right now it
would be a single model if you're not
interleaving data from the different
models which maybe you will because I
mean there's good use cases for that but
if they're in separate regions of the
page all these templates can be nested
into each other and each template can
have its own models so they're all in
their own containers what like one
containing div for model then you can
just put as many of them on the same
page as you want and each one has its
own data binding setup
right we I think the simplest way to
enhance this demo to filter based on
where the complaints came from would be
to add a parameter to the jpa query that
we're executing and just say where
region equals East something we haven't
shown just because in the interest of
time is it pages can also have state
passed to them as parameters so you
could have a page state parameter that
says region and so when you go to the
page mrs. region equals East you'll
execute the query using east as the
region type and if you change it to west
in the URL bar then it would go to west
and so on and another thing if you want
to use it on the event directly you can
use CDI qualifiers on the event and say
I have a rest in an East qualifier and
annotation that you to inject the West
event and East event and then you could
observe them separately as well right
now that would save the data going
across the network to clients who aren't
interested in it exactly in woodfield
without on the server basically yeah
yes this framework is we use the GWT
compiler extensively and we use some
parts of the GWT standard library like
the widgets but a lot of the other
higher level features from GWT you can
still use them but we've provided
replacements that we think are more
pleasant to use yes we have a debt
appeals worst part of this decline is
this to that particular class that has
um
you know because you're one that okay
i'll quickly reopen that we have let's
open the complaint form again maybe so
let's say here we would have an input
type with cold name and when we inject
it here it has the same field name old
name if it was different you could just
specify it here if you say value equals
whatever that name in the HTML template
would be and for data binding it's the
same so the bound annotation here the
sky maps to the data model we haven't
checked it so again that name field
lines up to the name field in the data
model object called name but again if it
was different you were just specified in
the annotation as a parameter
ah it go ah ok so it has the same name
that Java class and and HTML file name
that we use as a template but again you
can change it by specifying it here even
if it was somewhere else in the file
system you would just refrigerate from
you ok so we have one more feature we
will have enough time for more questions
one more feature to show and that's the
mobile part where your major says I want
mobile support now where customer yes I
redo this how do we do this so we go to
our complaint form which we bill out
earlier and we see here we can simply in
check the camera object and add another
button to take a picture for instance
and an event handler the triggers when
you click the button to take a picture
and then we into interactive that camera
object and simply take a picture and
store it in this case as a data URL in
our entity so the data URL is just a UL
containing all the binary data of the
image so that you can just start a URL
base64 encoded jpg right yeah so we've
prepared that's the risky part of demo
we have we have deployed that
application to redheads cloud openshift
sees that server is still reachable
there we go as you can see that I can
navigate to the admin page there's one
complaint in there and what I write has
is a simple Cordova phonegap integration
models is a module so it's a very very
easy build step it's in the bad day mart
integrated but you can decide whether or
not you want to be part of the standard
build and it will just create native
applications for Android and iOS and
blackberry based on that vet appt by the
way and Jonathan has the app running on
his phone I do
and I'll open photo booth air defense
that froze I'll show you what it looks
like let me just line up the windows
okay so this is the same application
we've been looking at the whole time but
now it's wrapped as it's packaged as an
Android application this one javelin so
it's Press that and there the app is
launched on the phone fine I wants to
great so work a little better yeah okay
so i can file a complaint now let's see
is jonathan an email address and this
keyboard
it's too small okay but now we should
you should be able to take a picture as
well right so there's the take picture
button and press that wait wait oh yes
okay you take a picture of yes buddy
here okay everybody here so there we go
okay and now that should appear there it
is and we can submit the issue okay
submitted right from your phone to the
cloud what could go wrong if the
conference Wi-Fi is loving us you should
see this whoa oh my goodness that work
that worked so many moving parts when
we're doing this with compost Wi-Fi and
public cloud free hosting instance and
so on so anyway yeah right so that's the
end of the live demo but hopefully it
will be the beginning of your adventure
with our framework we have plenty of
time for questions I believe and please
at any point in time feel free to reach
out offer out to us it's all an open
source project we're on the IRC channel
all the time I'm always available yes
please
other Google Maps everything ok yeah it
works great actually I don't know if you
were here when the jQuery question came
up so Google Maps API also has wrappers
for the google web toolkit they're
really nice to use because it's all
types they've been documented and he
gets actually like auto complete the
calls into the Maps API we have a demo
it's called a grocery list demo that
uses google maps and location services
and other stuff like that so you can see
how it works but yeah it's basically the
same way you would do it in a regular
web application using the JavaScript
language it's the same underlying mostly
was GI so the question is how does the
where does the arrive framework really
coming into that whole stack of
frameworks so much of it is a
cogeneration so we hook into width
repine time rebind face and we generate
a lot of code based on the scanning of
the class prostitute we do based on the
scanning of the annotations you use on
the server you could go completely
without Java EE if you wanted to you can
go with a plain Tom cab if even a non
java web server you could just use this
upon the client if you wanted to so it
depends on what components of the frame
of you would like to use if you want to
use the CDI integration you're obviously
going to need a CDI container on the
server but you don't have to use one
what is a jar pile and you have those
annotations fine or do you have to be
okay it depends if you if you use server
side features you're going to have a
minor adjustment to the web.xml
basically adding a servlet so that would
be the RPC calling and the distributed
eventing those things require that you
had a servlet to yeah yeah yeah exactly
but if you were to not use that all you
get is a JavaScript file that was
compiled from your Java code and then
it's up to you how you want to package
share to yourself yeah we had another
question here yes yeah yeah go ahead so
we have to repeat the questions that we
can hear them the end of recording later
so the question was what type of library
do we use for integrating older mobile
devices right so Cordova we were saying
Cordova that's the name of an Apache
project that was donated to Apache and
it used to be called phonegap those that
the trade name from Adobe so yes we use
phonegap
pages so the question is if you reuse
the form in two different pages can you
reuse components yeah right yes you can
use the you can use the forms in as many
different pages as you want so one form
may appear on every page other other
pages and they have two or three
different forms composed into them so
there's not a one-to-one mapping between
pages and forms you can you can mix and
match them however you want
right so when the question was when you
enter information into one form does
that mean it appears on the same type of
form in another page and no it doesn't
the model object that you inject you get
a fresh instance of it every time that
form is instantiated sort of questions
about scopes on the client well on the
client we support applications coped or
in singles and obviously is just one
instance of the form and we support
dependent scoped which means a fresh
instance every time it gets injected
basically depending on the outer scope
of the beam but there is no session
scoped on the client right
so yeah yeah on the client in the
browser because this is just like a
whole the browser think of it as a whole
container that's fired up just for the
one user who's sitting at the browser
the application scope in that browser
window is really a session scope you get
a new one every time the page is
reloaded and yeah go ahead yeah under
servatus hopes of the same meaning as in
CVI but in the browser it's a little
different because your application in
the browser really just is only for you
there's nobody else sitting in front of
the keyboard and you would have to share
that being way
okay so the question is does this have
to kennys only run on shavers and what
is the licensing so no it runs on every
chava web container that supports EDI if
you want to use the full stack if you're
not using CDI you can run it in any
container any child container if you're
not using the server part you can you
don't need a container at all right you
can interact with the rest endpoint on
an Apache server and doesn't even need
to be a java container and the licensing
is Apache to any more questions right so
how is this different from back to
browser we were actually just looking
around for things like that and I found
out about it when I was going through
the conference catalog and I'm going to
go to that session and find out more but
how this is different this is all
upfront translation from Java to
JavaScript and we do all of the checking
of correctness at compile time and you
get a static payload of compressed
obfuscated JavaScript whereas back to
browser actually downloads java bytecode
from the server in jar files unzips it
and interprets it
okay well thanks everyone for your
interest in your questions read the rest
of the conference yeah thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>