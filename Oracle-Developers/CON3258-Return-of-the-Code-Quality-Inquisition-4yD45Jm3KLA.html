<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CON3258   Return of the Code Quality Inquisition | Coder Coacher - Coaching Coders</title><meta content="CON3258   Return of the Code Quality Inquisition - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CON3258   Return of the Code Quality Inquisition</b></h2><h5 class="post__date">2015-12-11</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/4yD45Jm3KLA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome ladies and gentlemen to the
quality Inquisition so nobody expects
the code quality Inquisition so probably
some of you are old enough to get the
joke everybody else please ask your
neighbor
it's very nice so many people came here
for our code quality it's a pleasure so
we didn't expect that so it's great and
just check off the animation
start with our slides so yes you're in
the correct talk because it's the return
of the quality in position and we want
to tell you about software quality we
are some virtue engineers from a best
defense in space we're doing earth
observation stuff and yeah you need two
different types of quality if you build
on board software compared to software
running on the ground so yeah so part of
our daily job / tificate them out so
this is Florian say he's working at a
position in space he is a founder leader
of Chuck Boden's a quite small but very
very nice jack and he's the member of a
nap in stream team a couple of community
people who take care and look after
NetBeans stuck he won the youth choice
award in 2009 for a big java swing based
application and he did this first turn
as a java content cut javaone content
committee member this year so that's
quite nice
oh thanks and Savannah's a colleague of
mine since 2003 we work together he's a
Czech leader of Chuck potency founder we
found it in to get together is a dream
team member since 2008 I think and
there's a lot engaged in the netbeans
platform and in the community we want to
choice of what to extort were together
in 2009 and as a java champion he is
very engaged in every public about java
mostly at open javafx thanks for the
detection so the major questions
probably so go quality what why so um
let's just take me first pulse it should
be warned there's a very interactive sex
session so you will be asked to raise
your hands from time to time so even
though it's light in the afternoon
already please stay with us so who
thinks he's doing some quality code
quality software quality stuff in a
state job
oh so everybody is not doing it good
that you're here so um now we know why
so many people are here so should this
make us a bit more chili alright so
we've stone this from a panel we were on
yes yesterday we thought it was a really
nice opener so thanks are in for getting
this out so um it shows a perspective on
how quality works so um if you're in the
lower left-hand corner so well I can't
do it and it works for me like okay but
this is not what you want to have you
want to have more something like it
works for all users and everybody will
be able to change it in the future
without breaking it and you see there's
a big gap between those two and it's in
two dimensions so maybe people are more
aiming for the other spots things like
my peers can reap my code that don't
need to change it why and if it works
for ninety-nine percent of the users
that's good enough yeah maybe from
supplications this might well do for
others maybe maybe not so I'm probably
you have to figure that one out for
yourself for your application for your
code base for your customer so this is
very important so now so they found this
but I'll XKCD you know thought yeah
that's the way it works so just look at
it and I think anybody everybody here
should figure out a moment sitting the
first screen thinking the same and we
are all on the same starting point
okay all right okay you got it good so
but it's not only about style so style
is like how you read your code and if
you read your code always the same
because you've got good coding styles
it's way more easy for each to read the
code and to see what's going on if you
have to adapt to a different layout like
a cup of the files is with a curly
braces opening at the end of the line
and the other half of the files would be
with curly braces starting at the
beginning of the line hmm you might not
get the indentation so I think that's
quite obvious things and naming would be
a next thing so that's that's that style
is nice but it's not everything so in
the end it's about the quality you
produce and quality in terms of thumb do
I have back patterns in my code like
guarantee and more pointer exceptions so
anybody ever had a nullpointerexception
and production code to raise your hands
don't raise your hands it's okay and
it's about stability so if you get good
quality you probably have better
stability and that's not about like
checking your code it's about having a
lot of unit tests doing a good coverage
doing new things like mutation testing
stuff so just to make sure that your
your test is testing what you think it's
testing and not what it should test
and in the end it's all about
maintainability as well so if you get
code that you can read good and you get
good unit tests you're not afraid of
changing code and ending up with the
situation you don't want to have so um
maintainability is the ultimate feature
I think if you're looking at long-term
project so um we have projects that have
probably 10 years maintenance that's not
a webshop that you just flow together in
killing six months it's just something
you build now and you're doing for
providing for 10 years operational face
at least so um you better take good
decisions on what you do want you don't
do so you want to have good
maintainability oh yeah and that's even
more so something for all right
besides the code quality we will talk
later there are many aspects affecting
your software quality software quality
starts with your requirements
engineering and with your architectural
decisions who makes modular software who
has a modular software architecture
oh great still still not enough but it's
a start if you have a modular software
architecture you have clear system
components you have to take you have to
define kiya AAP ice and that's real
important because AP is define your
compatibility we talked event mentioned
maintenance for bug fixing and all the
stuff you always have to care about
compatibility and compatibility deals a
lot with your API design so that's one
point to start encapsulate your system
define your partner's set you can
meg isolated bug fixing and keep track
of your compatibility that's very
important
Sen resources a chart about
maintainability and readability of the
code in our projects very often the
contractors we use for our we have for
coding are not available over the whole
time of the project so some of them are
available in the ramp-up face and some
other guys are at the end of the project
so you have to keep the knowledge in
your code so you have to look after your
documentation in the code the
documentation of the architecture
because it's a knowledge this gun you
have could be real in trouble that's
very important and in the end you have
to reflect all season in the processes
you use to develop software everyone I
think most of you use continuous
integration continuous delivery sets
state of the art I think
but in your release processes you have
or who has code refuse and fast by
process in the development cycle okay
just a few
when we talk about processes it's
it's about your way you structure your
software repositories also stuff if you
have staging areas to ensure okay I have
repositories to developers working on
Sierra's a quality gate not so high
because for rapid development and you
have a NASA staging area they say okay
here i have long running tests looking
for memory leaks and stuff like that if
you have software running 24 hours 7
days for hopefully 10 years you have
real to take care about that but let's
take this taking time you need a
development cycle with very fast
feedback loops so the developer can fix
the packs most of the box very early and
you have other parks that you need time
to find them so if you address this in
your development process make your life
very more make it more safe
alright so after the say in more general
software quality part so that back to
the code quality stuff we promise to to
deliver to you so so how do we do this
today so so what about tools so i got
the list of tools so the typical
suspects usual suspects so um who is
using still using checkstyle anyone yeah
okay good md md yeah more so those are
typically tools that are running against
the source code so they're checking and
parsing java code in this case java code
you could do this with other program
names and other tools as well which is
we which is focusing on java to linger
so checked on PMD parse java source code
they have their impulses that you ast
and they are looking for for things that
don't match the groups so too long
bearable names too short programs
variable names that do not adhere to
camel case notation whatever so um I'm
PMD has things like nice detection of
duplicate code and so I'm probably being
d is a bit better not so much for lumps
chick solid probably more more noisy so
um yeah but at least so this is one
category of two
next one I've here is a issue detection
so in the first issue detection you
should have as a minus excellent and
Java compiler so who switched on all the
warnings and the bills not fearing the
result ouch is there a hand somewhere in
the back nope ah yeah one ok ok so do it
really so there are so many nice linting
things already on the compiler telling
you suspicious casts and all those
things enable them to first line of
defense like compiler so you know the
story is about C++ programmers and treat
warnings as errors and things like that
they don't do it but we are not C++
programmers so switch it on so who's
using fine parkas hey that's about at
least half of people yes it's good so
fine box is a bytecode detection system
so reach the bytecode and looks for byte
code patterns that are that are bad like
guaranteed null pointer exceptions like
security flaws like SQL injection stuff
so they have a lot of very nice patterns
in there and there now each other aight
comfortable so you can put lunders
through them and all the starters though
it's quite good false alarm rate is
quite low so yeah everybody should have
this one ok so I think you're testing I
don't ask so you testing everybody else
unit testing yeah everybody's doing coke
coverage
okay so anybody what anybody want to
tell me why he's not doing code coverage
if he's running unit tests yeah yes but
at least if you have tests you can see
what you've tested so it's not about
going to the management saying I got one
hundred percent code coverage we are
safe it's more about I thought I'd reach
that code but I didn't so yesterday we
and we are margining verburg he told
about well they are doing code coverage
during integration testing and what they
did was they deleted the code they
didn't reach because it just wasn't part
of the business anymore so they got rid
of about butter 12,000 rental code yeah
so if you don't reach it with your tests
probably it's dead code and so so what
it does work in both ways and what's
going to say what a slot and the car is
not available you have to look to
maintain so it's in the end
cost-efficient way
alright so um and you're all doing
continuous integration and running all
those tools we erase your hands during a
continuous integration cycle I suppose
yes great and so that you can have a
really good result view you're losing
using sonic you know yes yes I'm okay
okay so sonic you is a quite nice
product it's just like a as two aspects
one is it does its own quality checking
to at least put job or it's free and the
second part is you can feed reporting
information into it and it creates an
aggregated view out of all of this data
and it's doing a lot of metrics looking
at your code and looking at the the data
you passed it so and the the overall
result and so to speak is some as a
figure that it's called technical debt
and tells you what's owner keeps
thinking that you have to do so how many
hours or man that men days whatever you
have to spend to get your coat an
acceptable shape so it's pretty much a
large bigger if you start to do you so
it's quite good but my drawback is well
it's at the end of the integration cycle
some work down to the road
alright so so what we we talked about is
something that we will call the
continuous quality process since it's
done during the continuous integration
so you write your code and ID you're
very happy you're pushing through the
compiler you push it through your unit
tests locally everything's fine and yeah
you commit great so now it's in the
repository the repository is sending out
a I've been changed to Europe see I
build system probably a Jenkins machine
and thank you for seeing is pulling the
new things and runs everything in a
clean environment and yay Jenkins is
happy as well so that we go with the
results everything goes into sonar and
so no tells us well you missed something
so you go back writing code so any
guesses how long this might take in
reality and typical projects using your
knowledge about your CI system when you
get results well not instantaneous 30
minutes yeah I would suppose 30 minutes
to 60 minute at least a typical medium
sized project so this takes time and
makes you kind of kind of slow to just
figure out that you just well missed one
additional check somewhere
so I think this takes like forever in
the developer continues quick life's
like a loop so we're proposing something
different a solution we call it quality
quality as you type so you don't wait
for sonar we just see it during your IDE
so the instantaneous quality feedback
loop so you're right killed in your IDE
and the integrated analysis in your IDE
tells you you've missed things well you
just you just produced a guarantee a
null pointer for example and then you
can see then you can fix it
instantaneously so that's like like in
line like you see it in the moment you
produce it there's there's one problem
jet and I think it was a good command we
got on the panel yesterday those guys
saying well but all those things are
getting in my way I get distracted by
all those information that's showing up
so well yeah then deliberately disable
it when you're want just to get finished
writing code and afterwards switch it on
again so that should be a good good
solution like you do for other things
like you you go into full edit mode and
disable everything else that distracts
you from writing code now this makes you
faster and fixing those things and you
don't go to three or four commit loops
build loops until you have everything an
acceptable shape
so that's this compared probably
blazingly fast so number can combine
those so you take the instantaneous loop
and you're taking one that's the
continuous integration it's producing
still V the cleanroom results and this
probably what you want to have it's not
allowed either or it's about using both
so and now you could provide back the
information from the version control
system from the Jenkinses built and from
the sonar cube system into your IDE so
typically all the major IDEs have tools
that can support this at one point or
the other so there's no real big tool
chain supported but it's their bits and
pieces for all the majority's to do most
of this so so let's say you're working
on a code base then you you have a sonar
plugin so no q plugin in your ID and
your sonic you pocket was telling you
something about source code that doesn't
exist anymore on your system because you
already deleted it so your version
control system could tell you well then
just don't mind that's another version
of source code you don't have so
combining the information either pre pre
pre pre interpreted by the ID or just by
you looking at the information well
shouldn't make a difference
so this would be something we think
would be nice to aim for and to show how
this might work we have a shark demo so
on a setting the demo up all right so is
this somehow readable raised us to
Michael it bigger oh boy
42
the chief says we started to write an
NetBeans integration for five bucks PMD
and check style and some other features
are planned and we hook it up in the
parcel loop of the IDE so Turing to you
are typing the duals get started in the
background I synchronously and the
feedback of the tools is integrated and
the sauce few of safai you are editing
in the moment some additional boy and
spin didn't mention yet was a we have
learned or seen as a few have such
direct feedback it's a kind of education
for your development team so if you make
a mistake you type something in and a
warning shows up you get direct feedback
on what you are doing at the moment and
as such a code quality so developers
produce will become higher because I to
cost plus feedback so I get educated
step by step so that's I think an
important side effect
the plugin one should work reactors are
the exercise i might be located
hmm
p
that should be on
okay so
I just reinstall everything
so during setting up sadena again we are
just showing the integration of the
tools i mentioned but the idea goes much
further I think this is the aim is to
integrate all the informations you have
around without switching to the browser
to all the tools you have around you can
get much more out of it if you are able
to all integrate it in the IDE and
combines information if you're using it
you get a lot of branches so on your
continuous integration system you don't
normally don't have all the branches and
have supply and set up for every branch
so you have branches on the developer
side for bug fixing match them in and
say go away this isn't working okay
ok
so what we did is we created sqe
projects after quality environment is it
called it's on github available and if
you install it in the NetBeans IDE you
get this new menu entry and here you can
start and end runs equally providers on
the hole bro check or and you can
configure if you want continues checking
of the source code while you are typing
first of all I make a complete run
hmm
ok
so you can see fine pax is running in
the background and the other duels as
well and that's a mode where the pro
checkers analyzed completely and then
your whoops
and focus issues and then you can see
the result what's found in the project
you can group or you have different
views on the problem you have you can
see it for the classes for the group by
package group by categories and can pick
in those problems you have
so try this
the most was microphones not see
we have integrated the descriptions for
the back patterns available in fine
packs and for P and D and check style as
well and you can jump directly there's a
code where you find the problems and can
fix it you see the orange lines here so
found errors are unabated and the code
you can switch them on and off
ok
so no everything is so kind of it
sooo
you know the zip background scanning for
fine packs is not enabled yet if I
neighborhood he concedes one with the
ground
thanks Mike I did too handsome
I'm not a Mac user I was a Windows user
I just read it rocking with a mech two
months ago so I'm not too worried good
yeah okay I should be okay my position
so now here you can be a ploy so
hopefully bigger that's very small I'm
sorry so tells you five bucks selling
boxing unboxing surprise a primitive
summary of file object stringless
boolean long so I figured out there
something you could do better
you
so um
vixen
jealous too much was inclined intimate
interviews so so the the problem my
brush detect it is you're converting a
string to a let's see I'm going to Vicky
dota 2 to node 2 up to biginteger then
you cos it down to this moment ature so
you can subtract one and then you'll
just Reeboks it into a pic integer so it
thinks you can you could use better
typing to achieve less casting and
boxing
oh no no it's gone
so that's like
like somebody looking over your shoulder
and telling you what to type just
kidding good
keep-keep couperin good alright so that
was the idea of quality as you type so
since there were a lot of users here who
do unit test but don't use go coverage
we might show some code coverage there
should be a Co coverage plugin go to
code coverage open the report shall we
put it and you see there is a total code
coverage of about thirty seven point
five nine percent and everything is red
no scroll down then you figure out that
some things are green yes so nice so the
bad ones are up top so you never think
ah everything screens so you can go
there and take one of the red greenish
things more down please yep don't click
and you see annotated which lines the
test coverage which one not so you see
there was never a nullpointerexception
triggered so there's no no tests passing
an owl named into checks engine name
well probably i think the is a typical
pattern that a coke of it shows you that
exceptions are not part of your your
testing so you're just testing sunny
cases so probably sometimes at least for
the easy ones who should make sure that
you're checking the right thing and
throwing the right exception you wanted
to do so um yeah
alright says and you can update the
information by go back to the report or
I think it's down at the and the editor
as well you can rerun all the tests as a
button on the right hand side and it
starts to turn false the coverage and
triggers the unit testing and rewrites
the report and the IDE replaces the
report and updates your information so
everything on the fly so this takes time
since unit testing takes time but it's
still quite fast and you could could
even do it for just one test but that's
a well way more difficult because you
just get bits and pieces of your
information so you probably tend to to
do thousand yes question very nice yes
so we started to write the five bucks
integration for netbeans like about 10
12 years ago so that's like Stone Age 4
from today's perspective and yes there
are a lot of things that come out of the
box and IntelliJ that don't come out of
the box with like eclipse and don't come
out of the box with a with netbeans
netbeans has own very nice hinting and I
learned you can run the IntelliJ hints
and error fixing things from the command
line alone yesterday very nice feature
so which is told our product manager
netbeans we want to have this as well so
you get the same warnings and your
continuous integration then you get in
your IDE from the ID pauses that would
be a great step forward but still they
don't do this and yeah so they means
they did a tremendous job they did it in
five bucks integration but they are
using a different different part of
NetBeans to do this so they are doing a
kind of it's an inspection run so it's
not a continuous aspect of the tool and
so users demand to well could you keep
as q year live and provide us with the
latest five bucks versions and
compatible to latest netbeans versions
so um yeah we just kept going okay yeah
any further questions that's where it
yeah
so we we have fun flying dogs five bucks
we have got PMD we get a check style and
we said there was already a jack of code
coverage integration we just added the
possibility to use it with Gradle so it
just comes out of the box for maven with
netbeans and now if you install the
Gradle plug-in for netbeans you get it
out of the box for great as well it's a
github.com / as QE team as Curie minus
team as q dash team and the there is an
update center for the brothers plugins
that's available from deadlock NetBeans
arc it's a kind of small continuous
integration that means is running but
you should find all the information on
the github system to to get along all
right so um yeah we already looked into
the crystal ball in terms of them would
be nice to have the hinting from da he's
of the command line so we could skip
this point and already and so any
further questions ideas demands yes
please
I think there are different plugins you
can try to install and hopefully they
work together so from a NetBeans
perspective I could well just ask move
along and take NetBeans is this an
option for you if not maybe you can you
go and tell you chase so um I don't know
seems NetBeans and IntelliJ users are
more happy now all right okay in a
little sponsor any further questions
demons wishes no okay ah okay
Oh
so since Lauren did all the work is okay
the flats the last two months I Mike
everything the last two months I make
everything ready running with jdk 8
update also dueled keep it integrated in
netbeans 8.1 that everything runs fine
so at the moment there are just two
continuous integration pills available
but very soon i will upload a first
version for 8.1 8.1 on the blackened
portal of NetBeans so then it should be
available in the default updates and the
settings of the ID and support for Assad
tools is planned and if you have wishes
visit our github site and request some
enhancements we are sinking of
integrating some tools for Ruby maybe I
found I would like to have running sonic
qube looking for netbeans okay
it so there's a lot of ideas we have if
you have someone and prefer it let us
know so we can go there's an issue
tracker it github you came and
enhancements hopefully no bugs are you
kid to pull requests
yeah so would you like to share your
experience with your projects and code
qualities the problems you have maybe it
can share some answers yes
three days and the judge me every off
you let's say that called colleges
No
morning systems where you same with
con style and all those things because
over 15 years
the code with nobody
how
actually
so the that's a good question get
anybody get the question should i
repeated so it's about how to you got a
massive legacy code base you get no unit
tests no coverage and how do you
convince your client a good idea to pour
money into making this code base better
so um pressing would be runs owner
coupon it and take the management
screenshots and show them the technical
debt and I think this is a good basis
for discussion so um since it's about
you see all those things that are
typically not good are in there so you
can even take a like a conservative rule
set for for a sonic qube to not make it
too aggressive and show them okay so
this is in there and on the other hand
you have risk something is happening and
you have to pour money in then so how
much do you want to spend to reduce your
risk and then you start going for the
big things first so and that was the
quite similar thing the openjdk did they
started to enable the worst warnings
first and once they cleaned all those
else they add they they they activate it
in the next level and once they do this
like to buy the next level they were
just have switched on everything at the
same time nobody would have done
anything there was just too many things
to do so pick the first of the big ones
first go for them and then of the client
sees that the Syria makes sense and it's
good feeling you you got more coverage
you get more confidence in your code
you've got more confidence and and i can
add new features i don't have to fear
everything's breaking all the time so i
think it might be good strategy
good
I know
the current state of the products but a
morning receptacles to get at that point
where i'm not looking at different
so so what you see during the doing code
as you type thing those are the same
hints that you get when you you get your
do you want to have a lambda instead of
an inner class the magic would be to
figure out how to automatically fix it
so you just push I'll enter and say do
it or me and you don't have to type the
solution so I know that the fine points
of plug-in for eclipse I think there
have some and I think and how AJ has
some as well but I think it's typically
pretty hard to do a general in general
case since you have to mess with all
this AST source code transformation
stuff yes it would be really nice to
have something like this definitely yeah
I agree
maybe i can add something at that point
with the plugin we wrote yeah we can
write hint special hints for the back
patterns we found so Saracen a say API
from that means you can plug in your own
hint I think Saracen tutorial above a
tutorial I think about the hinting API
from NetBeans right is shown in detail
how you can hook your own hints indoors
ID so if you have your own patterns you
want to fix you can add it to the IDE
and then you integrate them I think it's
tonight
get something ah yeah
convince you because
that they really need to invest
there's a lot of literature out there
that cover set very accessible you can
look at keepers
set of metrics
but he also gives processing customers
yes
there's some some good books out there
about good quality and what you can do
them what you can change yeah definitely
Jones
good so I think
we have a couple of more minutes so Adam
we could just close it and if anybody
else has any more questions we're still
available so I'd say thank you for your
attention thanks for being here and
staying with us there are vouching
panels out there so if you like a tour
please vote if you didn't light it off
please vote we just know so from a
Content Committee perspective we like to
know everything you like if you dislike
so we have better things for next year
so please vote thanks</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>