<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CSS Gold Nuggets | Coder Coacher - Coaching Coders</title><meta content="CSS Gold Nuggets - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CSS Gold Nuggets</b></h2><h5 class="post__date">2015-06-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/jvfPZCnZ1w8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so hi everybody thank you for coming
softly I know my name was purely on the
board I'm Joseph Potts if he hadn't come
across to me before but I asked to come
back on my colleagues to come along and
help me tonight so I have a mo and Davis
these are kind of the other two CSS
gurus in oracle davis the man behind
actually making all of CSS work he's the
guy pastor when things don't work and mo
helped me design the new moderner look
and feel and also works on team builder
making that cool tool so first thing
dave is gonna show us some of the jar
effects CSS and what's different in
javafx CSS to web CSS
alright so I just want to stay from the
start that you know job effects CSS and
CSS you might use with HTML there's a
lot of similarity between them they're
not really exactly the same thing so you
know sometimes I'll hear that you know
so much different and stuff and yeah
it's a little bit different but I think
once you get over some of the
differences its you'll see this it's
really pretty much the same you know we
share the same syntax semantics and
things are the same you know the
selectors work like they should we don't
have everything implemented from the
spec but we've got pretty good amount of
it at least I think but I think to
really understand CSS and how it works
in javafx probably the place you want
starters is in this class called region
which is down the javafx seem layout
package if you familiar with the CSS
background and borders module and if you
look at region you see there's a lot of
similarity between two region allows you
have backgrounds which can be filled you
know strokes they're filled or image
backgrounds and you can also have
borders which could be images or stroked
borders as well you know one thing
that's a little bit different between
region and background pours we also have
this thing in region called padding
which is some space that you can add
around the content of the region to make
it bigger you know so if you want to
make a button bigger you can just add
padding to it to make it bigger or
smaller without changing the font and so
on so let me see whatever that so in
read like I said in region you get
background you can have zero or more the
background could be zero or more images
or zero or more fills and the same thing
with borders you can have zero or more
images for border or zero more strokes
or board
the you uses the nine slice model for
sizing the images and stretching images
across the region I mean like I said you
can't padding and padding that you can
add to region factors into the minimum
and preferred size of the component so
again if you you really want to
understand how to leverage CSS and Java
it's well worth looking into the region
class and seeing how it compares with
what you might already know about
backgrounds and borders especially just
to give you an example of the use of
region if you look in the modern uh CSS
file you'll find you know styles for a
button and I've picked out this one
particular style which is this
background color and you can see that
there's multiple background colors here
for in fact there's four layers of
background colors each you know color
here you're separated by commas of each
one of those is a layer of color in the
background so the way it kind of works
is you know this is the shadow highlight
color which is kind of a white color and
then there's this outer border which is
a darker color that's inner border which
is a gradient kind of a light gray
gradient and then the body color which
is kind of a darker gradient that sits
on top of that of course this doesn't
look anything like a button right
because it's all just layers you know
colors layered on top of each other so
to make this look more like a button we
can use in sets background in sets and
you'll notice that there's four sets of
background in sets here to match up with
the four layers of colors that we just
had and in this first set a set of
background in sets you'll see that it's
you know the in sector 0 at the top
in the right the bottom has a minus 1
inset so it's really more of an outset
right so it's going to push the push it
down a pixel and then 0 on the left as
well the other end sets are 0 1 2 so
it's going to be a zero pixel in set for
the next layer 1 pixel for the next and
one on top of that's going to be two
pixels all around so you know you layer
this up and so here's the second layer
this this is a rough approximation
approximation right and then there's the
third layer that the one pixel in set
and then the two pics lynne set for the
for the last layer and that kind of ends
up looking a little bit like a button
this isn't javafx code this is just
PowerPoint you know rectangles but that
you get the idea i hope so but there's
some i get through that yeah but they're
so so understand region and how how the
background borders work but there's also
some additional features in javafx CSS
that you can use that are there really
powerful features of javafx one of these
things we have property lookup color
derivation and this latter function that
I want to discuss real quick the two
first of so look up there's there's a
way in javafx that you can add a
property that has you can use them you
can use a property as a value in javafx
CSS for a color and CS java specs will
look that will try to find the true
value of that property that you've given
and I try to describe this in the next
slide here so here's some CSS that I'd
dragged at amada
the stuff at the top there's from the
dot root rule and then the one of the
bottom there is from the dot button the
rule and you'll see that here I got the
background color again and you've got
the shadow highlight color but that's
not a color right it's it's a property
so what happens here is that CSS
recognizes that hey this is this is not
a value I need to go look that value up
and it's going to start at the button
and it's going to try to resolve the you
know the value for that if you can't
find it down in the buttons rules it'll
go to the buttons parents and try to
find it in its rules and on and on on up
until it gets to the very root of the
scene graph if it has to go that far and
if it doesn't find it it will spit out a
really annoying error message so you
know that so we're going to look up
shadow color it's going to find it up
here in the dot route but notice that
the dot root property here also has a
look up FX background so it's going to
try to resolve that it's going to find
it here it's just going to as yet
another property in it and which is
going to finally resolve this so finally
we get to something that's got a actual
color in it so so the power of this is
that if you wanted to have some other
color than this what is that some kind
of bluish color right he's got some kind
of bluish color here if you learn to
have read all you would have to do is
change this one property value from
whatever it is to to read or whatever
color you want it to be and everything
else is going to drive off that color
you're going to change the whole color
of everything just by changing this one
value there's several other values in in
the Montana CSS and and catch me and CSS
that you can do this with and by and
large they're all in the dot root rule
of the CSS files to look in there to see
what you can tweet can play with yes
I only worked four colors are able to
find your own property or based on the
you can you can call it whatever you can
call it Bob if you want yep so it's just
it it doesn't matter if the way it works
is the parser comes along and it says oh
here's here's a here's a value that I've
already seen and I know it's a property
so I know that at some point at runtime
I'm going to need to look that property
up the value of that property up that's
all it does so as it parses it says you
know here's here's a property FX
highlight a shadow highlight color
remember that I saw that as a property
so if I see there's a value anywhere I
know I've got to look it up and look at
runtime so so it is only colors as well
it's only four colors so it's only four
colors and I kind of hover and you've
used any name you like I kind of have a
regret that our naming convention ended
up the same for the properties as for
other properties they're both dash F X
dash I wish it was like dashed color
dash or something like that to make it
much clearer this is a name to color
what happens at some point somebody said
we need to be spec compliant we need to
add dash of X dash at the beginning of
everything they went through an auto
added it everywhere and it got released
before we spotted it but it's one of
those things it's one of those regrets
you always have a few regrets in the
api's but that's one of them
right so so now now we found the value
for FX base put it back into this drive
function it's going to calculate the
value for background and then we can
apply this ladder function using that
color and we end up with this white
whitish color here for four is what the
effects shadow highlight evaluates to be
that makes sense no it's going to look
it's going to look for a style that that
has minus FX basis the property and try
to resolve it to to an actual color
value oh that reminds me um you should
be able to use this anywhere that you
would normally use a color but I think
there's some places that it doesn't work
like you know inner shadows drip drop
there's a shadow there's some some of
these other functions it might not work
but then if you spot those let me know I
haven't fared of them all out yet yeah
well haven't found any good so and I
thinking in the future I'd really like
to see this extend more than just colors
I'd really like to see it be used
anywhere I mean there's no reason it
shouldn't be able to be yeah the lookup
is one of those things that we both love
it and hate it we love it because it
gives us a great deal of flexibility
how're we hate it because it's really
hard to get it to perform well embedded
devices the fact that we have to keep
that we have to check all out the tree
every time we need one of these colors
and David's put an enormous amount
working to try and make this fast in
clever caching and clever techniques to
try and know when we don't have to walk
that far and build a jump sections of
the tree but he is one of those places
where we extended the CSS spec and he
gave us a great deal of power over the
standard CSS back but also it's really
hard to get performance right on first
one was where endlessly battling
strongly
well but i think that the flexibility
gives you is well worth the performance
hit you know at least on desktop that's
it's not really that big the deal it's
more than the embedded device swords we
might very well have a solution similar
to the web well where we have less and
things like that where you pre-process
this stuff so so the difference of the
difference though there is that this all
happens at runtime at all you know
dynamically done so if you use if you
set FX base is an inline style if you
call set style and use and change the
color of FX base it's going to it's
going to happen for you to run time so
you could you know automate that you put
it in a timeline or something and change
that value you know just kept your you I
go crazy it wouldn't recommend it but
you could do it if you really want to
try
so the BSS filed BSF and BSS file is
just just a binary format of CSS file so
it has nothing to do with the lookup
mechanism it's just it's just a false to
way to get to 88 memory representation
so we don't have to parse it's pre
parsed file we don't have to parse it at
runtime so let me get onto this color
derivation function which is you know
Drive you give it a color and you give
some percentage value and what this is
going to do is going to return a color
that's either darker or brighter than
the color that you give it so then the
so if you give it a minus one hundred
percent you're going to get black out of
this if you give it a hundred percent
you can get white
so yes yeah and in the JavaFX packager
the JavaFX packager will do all it for
you so the javafx packager application
me when it comprises your jar file it
converts CSS files do best as far as and
then the engine just looks wherever you
put in the URL to CSS file it looks to
see if there's a file name the same VSS
first and so it will load that one
preferentially on desktop it makes a
small difference depending how big your
CSS far don't know from honor but maybe
it's a second or something you know half
a second second deer probably it's not
huge on mobile it to make the difference
of like 10 seconds 15 seconds on startup
so you know you're going back to our
keynote thing of you know a Raspberry Pi
being 100 times slower than desktop yeah
these are the cases where those things
matter
do I have next so it when you're using
this drive function it's a very useful
function i'll show you how it's used in
a second or one way it's used in a
second but it's helpful to think of the
drive function is picking a color along
a gradient okay so if i if i drive a
color from cyan if I you know to the far
left here you see if I did drive cyan
minus 100 you get a black you know if
you get a 0% you get the actual color
itself one hundred percent you'd get
white so you know that's kind of how
that's how it works just it uses the
brightness that a factor of the color
that you give it to figure out where
along this gradient ago and it's a non
linear mapping against different colors
so if you go fifty percent darker on
blue or 50 cent dark brown yellow it's
we aim to try and be the human perceived
fifty percent darker rather than the
mathematically fifty percent dark
purpose so the luminosity that yes
because there's a huge difference that
you know you have to go much you have to
make a much bigger change with yellow
than you do with blue to fill your eye
to perceive the same difference in
brightness
don't think so i think it was awesome at
all we attack with the SS over i
actually got burned by that last week
that somewhere in my class path I had a
BSS file from an old jar effects jar and
that was overriding the latest javafx
jar local build I had and it was like
somewhere magically found this PSS
higher than my classpath that was old i
was like took me a whole day to work out
why wasn't seeing the changes in modern
that I was making but there's a there's
a flag you can set i'll have to look up
and remember off the top of my head that
that will turn off BSS altogether so but
it's a you know it's not a turn it off
for this file to turn it off all
together but go so one really handy way
to use drive is when you're trying to
create a color stop for gradients if i
wanted to use this gradient here i'm
going to make the top of the gradient be
twenty-five percent brighter and the
bottom be twenty-five percent darker and
i end up with the gradient that looks
like this so that's you know 25%
brighter and that's twenty-five percent
darker so it's it's really easy to say
you know trying to instead of trying to
figure out yourself what the actual
color value should be to just use drive
and let it figure it out for you so if
you again if you look at montana you'll
see drive all over the place used in
this way the other thing i want to talk
about real quick is latter because it's
also something that is very powerful and
is used in the CSS files and what it
does is it chooses a color stop and it
interpolates between these color stops
again based on the brightness of the
color that you give it so if i was to
call ladder function like you see here
i'll have this this gradient that goes
from red
green is it fifty percent well yeah the
stops the stops here are red-green at
fifty percent in blue at eighty-five
percent and I these little black
vertical lines here just kind of to show
meant to show where those stops are in
this gradient and if I apply this ladder
function I'm going to get this color
value back out because cyan is about
seventy percent brightness value and the
way this is is used is as a it's a handy
tool for picking contrasting colors is
one way to use it so here's a series of
buttons this is actually just copied out
of the ensemble sample code the only
thing that's changed in these buttons is
the background color of these of these
buttons the color of the text is purely
picked out of one of these latter
functions so it says you know red is
pretty dark so I'll put a white and
yellow is pretty bright cell to black
you know so it might be a little tricky
to figure out exactly what those stop
should be but it's pretty pretty
powerful the all of this and mores and
this CSS reference which you can find
online or you know you find online the
other good thing to do is look at the
default CSS files that we have you can
extract them from the JFX RT jar file or
you can get them from the open KFX
project and then there's other examples
out there on the web that you can look
at what other people of time I think
that's about all I have
so now David sort of explain what tools
we have to work with I thought I'd go
through some of the just some examples
of things that I've been doing for
various demos and things over the last
six months and like that and pick out a
few interesting ones and show you some
sort of worked examples of what you can
do with the CSS so this was kind of a
fun one I did for her it was actually to
go into a keynote demo that didn't
happen but at least yeah we get some use
out of explaining but so basically the
idea here was to have a thermometer
style gauge and this is done in pure CSS
so it's just it's just a very simple
region a couple regions and all the
starting CSS there's no images involved
at all so let's have a look how we sort
of put it together as that as the nodes
so on the right I basically have a sort
of simple wireframe view showing you all
the nodes are making this up so I have
the app may engage control itself which
is just in my case it's just a very
simple sub place to class of region I
then take a normal chart axis so one of
the nice things we do with the chart I
scissors are making them reusable so we
use them for sliders and all kinds of
places so it's very easy when you need a
numbered access to just drop one of
those in and then I had the main bar
itself I have an outer ball which is the
the sort of recessed pressed in dark
area I then have the top bar which is
the blue bits the bottom bar which is
the orange bit and then I have a
highlight bar over the top which gives
us the tues or reflection lines
so let's have a look at the CSS so are
the root of my application I'm just
setting the background color of the root
node so this is a way from CSS to set
the background of your window so I'm
just set in the background to a dark
gray color and so here I pulled out some
of the colors on the right just to sort
of make it any easier future sort of
read unless do you happen to be a guru
reading a web hex colors and knowing
exactly what color is i'm just about to
graze but they are luck on the colors so
the next piece is the axis so I'm taking
a standard tour access and the only
thing i'm doing here is i'm removing the
vertical line that's normally there so
I'm just hiding that so one of the
things that's useful to know is you can
set colors to null so if you want to
take some existing control like add a
button or as an what I often come across
actually is wanting to get rid of the
scroll bars so you can just go through
and set all that colors to know and the
padding's 20 and you can make things
disappear so that's really quite handy
difference to transparent is wondered
actually removes the background fill
together and the other one there's a
background fill their and is transparent
probably the most the most likely where
you'll notice the difference is
transparent will accept Mouse events no
were not so not know there's really
nothing there transparent there's
something there but you just can't see
it and if you're into really complicated
to the 2d blend modes transparent
actually sometimes has consequences on
to the 2d drawing if you're using some
of the 2d blend modes but most of the
time transparent you want to see nothing
but if you ask one of our 2d graphics
crews they will rapidly like to correct
you and give you a whole you know white
board of math to explain why transparent
inserted and consequences of edge cases
does have a meaning or don't have some
effect
so the next bit we're looking at is the
outer bar which is the recessed area so
here I have two background fills now
this is a technique we use a lot in
Mozilla so basic basically when you want
to make something look recessed the
bottom edge of the recess has a little
highlight to say the light is reflecting
on this because it's a hard edge and
what we do for that is we have two
background fills and offset one of them
so it's 1 pixel blow at the bottom so
you can see from the insects the first
insect mapping to the lighter color is 0
the top 0 on the right and then one
pixel extra down at the bottom so it
extends one pixel below the bottom of
the controls bounds to give us that
little highlight so basically have two
rounded backgrounds we have the same
radius on both of them from the 19 and
then we have an inner shadow to give us
the total recess look and on the right I
put in an example of showing you what
the shadow looks like so that so that's
it if it's are being applied over white
so the only other bit is the padding of
six which is giving us so that same may
make the thickness of the outer guy
around the inner guy six pixels bigger
so it's adding six pixels of space for
the outer bar around the inner content
so generally the way we do all the
padding controls is you start from the
inside and you build out so you're in
the most region has some size and then
you keep adding padding and once you get
to the to the outer guy that will give
you the overall size of that guy yeah
concerning the background colors why are
you taking to background colors on top
of each other and not the border yeah
Foreman seasoning yeah it's a
performance thing with where it's faster
to do Phil's there's new strokes yeah
yeah no so that's the reason what is is
basically any time you have a smooth
edge with rounded corners we have to
anti-alias that edge so if you think
about it if you have a line border going
around that has an outer edge and an
image so it has twice as many edges to
anti-alias so if you then draw another
piece on top then that inner edge is
peeing totally thrown away it's being
drawn by what's on top so you put all
this all this computing power into
anti-aliasing that inner edge and then
you've just drawn something on top of it
so basically you're just thinking about
the amount of eggs you have to
anti-alias and that has a cost and
there's twice as much with a stroke
because there is with a border saree
with a solid filled background it's kind
of a compromise generally in our
experience it was faster there are cases
where that might not be true and I think
we're trying to fix that for embedded so
on desk there's something with GPUs so
you know one thing's I've been learning
over the last year is learning how you
know I can put this in CSS it goes for
all these layers of type of code and it
turned into this OpenGL instruction or
this direct x instruction at the bottom
so it's been very interesting learning
the mapping between doing my nice
beautiful high level stuff and what's
that turn into low level calls and
therefore what are the performance
consequences and most the time with
desktop we just really didn't have to
worry about this stuff best top dps are
so fast that it's just not a problem but
now would you know doing a lot of work
with the Raspberry Pi and similar
low-level devices it's a real concern
how much at work you're making the GPU
do and one of the GPU things is called
fill rate which is how many pixels can
it visit in a given frame
and so if you draw 20 layers of
backgrounds on the top each one of those
pixels it's visited 20 times in that
given frame the general guide for all
these embedded devices and waffle tells
you for iOS and you know the and regards
Prince them is anything over two and a
half so if you add on average over the
screen draw more than two and a half
time for every pixel you're not going to
be able to maintain 60 frames a second
so having all these layer backgrounds
hurts us performance wise so what we've
added an eighth is we actually four
buttons and things of that we we render
all the layer backgrounds once we
generate an image for it and then from
that point onwards we just draw the
image and we slice the image up and
scale it so we actually do all kinds of
clever caching so the nice thing now is
you can actually just go and use all of
this power of CSS and it draw kinds of
complicated things and then we'll just
bake it into an image for you and render
it really quickly run time and then you
get all the advantages of image stuff
with all the power and flexibility of
this so hopefully that's something
people like listening unless you have to
use a border it will be a huge dip
there's a few cases we use borders we is
pretty minimal it's the difference is
huge on embedded so the other thing
that's different on embedded is we
actually have a shader for the GPU that
can do filled rounded rectangles if you
do a stroked one we have to use the CPU
to rasterize all that anti-aliasing
create a black and white mask for where
to draw not draw send that mask over the
really slow bus down to the GPU and then
multiply that with your fill so it's
hugely more expensive so on the embedded
stuff it might be a factor of 100 times
slower
so let's have a look at the bars in this
case we're looking at the blue bar so
basically it's a top-to-bottom gradient
with five stops just to give it some
nice sort of depth of color then we're
adding so one of things we're doing here
so when you're setting the radius you
can either set a single radius for the
whole layer the the whole fill layer or
you can specify the four corners
independently so here I'm rounding the
top two corners not the bottom two
corners and then again I'm adding a
little bit of a drop shadow on the
projector probably some of these sort of
subtleties of the shadows are lost but
um it looks good on the desktop so in
the bottom bar is very similar the only
difference here is we're rounding the
bottom corners rather than the top and I
think that's all so so we're using
linear gradient so I guess want to think
so yeah yeah could use the drive
function instead of specifying yeah the
difference here is though that the
colors are not mathematically linked so
in this case it's a designer's eye as
opposed to a mathematical link so you
actually so it's quite a good example
that you know we're going from a yellowy
orange of the tops to quite a ready
orange to a brown those aren't really
related but when you look at it it kind
of looks like sort of fire or burn or
something warm it has quite a natural
feel to it this you can actually just
google for like Photoshop gradient and
there's like and doing like an image
search you'll find thousands of
thousands of nice gradient people are
picked so you know particularly was sort
of warm and cool there's certain things
that we're very trained to look at and
know that they mean a certain thing and
they're not necessarily mathematically
straight so you know what
some of these things are sort of way you
put you sometimes have your engineers
happen sometimes have the designer at on
the saying you know that this is the
mathematical correct answer but this is
what the user will feel better with so
then this is the sort of interesting
layer so I sort of knocked this guy up
in Photoshop and was thinking well okay
I can create an image to overlay to give
you the nice sort of shiny reflections
and then it sort of dawned on me that
there's a nice little trick and CSS to
pull this off so this is a case where we
are using borders so one of the nice
thing about borders is you can draw only
some of the sites and if you have
rounded corners it will only draw
halfway through the rounded corners so
in this case I have to borders one for
the left hand side and one for the right
hand side because I wanted different
thicknesses the left is slightly bigger
than the right and I just draw the one
side with the rounded corners so you can
see the orange one of my diagram on the
left just draws from halfway around the
corner to help around the corner the
other side so going back to the code
here we say draw with a border color and
we're saying transparent transparent
transparent so don't draw these three
sides I tried null here now little
didn't work so it has to be transparent
I know I looked at the courage so
actually we do in this case turn
transparent into meaning draw nothing so
it's not unfortunately not entirely
consistent there when you when
transparent means for or something or
don't four or something and then the
last bit is I'm drawing the one side
Ambrym drawing we've white which is 255
255 255 and then fifteen percent opacity
so a very sort of washed out transparent
white and then we have a second layer
which is the blue one which is going to
be the transparent again the washed-out
white and two more transparent not draw
the other two sides so we then certain
the border width so the one on the Left
I want to be which is the first one I'm
drawing I want to be three pixels wide
and the second one
do one pixel and I'm giving it the inset
so that it's not drawn over the actual
edges of the control it comes in a
little bit and then the radius is for
the end and then the last bit I'm
actually using more like an outer glow
then up then a drop shadow so I actually
have a white drop shadow which is making
just blurring smoothing out the edges to
those transparent white close
the difference is the widths so the one
on the left is three pixels wide than
one on the right yeah I think you might
write so yeah I knew they were going to
be picky and find something for yes what
color is it is it gone so you say yes I
think you'll probably do it do this in a
single layer and just have different
border which for the four different
sides
so this was just a nice little animation
so I just put some random numbers in so
these are the actual guys so running in
a fake taking some random numbers but
yeah I think it was kind of fun to show
how far you can go with CSS that the end
the code for this is really pretty
simple the actual I'll put up this blog
article with the actual example code for
this but the actual class for the for
the thermometer is like a hundred lines
of code some of that and it just making
out a few different region nodes and
then we're a bit of CSS you can have
something pretty powerful and the nice
thing of reusing the axis node was that
you can actually set any min and max
range and it will not automatically so
you could have a zero in the middle you
have a you know from there plus 10,000
you can use it yah stop it out needed a
taxes we on 22 or some of that it makes
it pretty flexible so the next example i
had was something we did for the Duke
pad and for the technical keynote and
released and basically I wanted to have
a sort of on-off style switch this is
something i think the sort of apple
pioneered of iOS and Android has nobody
has now when the main reasons is it
makes the check box area bigger so it
works much better your finger so one of
the things you learn starting to use
these touch devices is you have to make
everything really big yeah you'll I
forgotten apples where I think the
apples rule is the your pixel map your
finger maps to about forty four pixels
so you need to have a sort of 44 pixel
area to be able to touch which is really
pretty big in your UI and if you use the
amount of glaringly huge so these these
switches work nicely for that case so so
what I did was I just took the standard
jizz jar of X checkbox control and just
did an alternative set of CSS for it
there's no code changes here so the way
I wanted to use it was I wanted to just
add an extra style class to any check
boxes that own to be switches so I just
add the switch style class to them
and so I have another little sneaky
trick here which is Wi-Fi sort of pull
desires example was we already have the
tick mark and the tick mark is a SVG
path so why not reuse that for the text
so I wanted to have on off there I
didn't have a text node there so a nice
easy way of doing it purely with CSS
will just say well it's a shape it can
be any shape so let's make it look like
the letters on and off and then I had
the main box which is going to become my
switch the text stays where it is in the
remainder so it's just so we're just
reusing the same set knows that are
already there in the check box so I put
together a quick little video to show
you basically how i created the on/off
so this is just using Adobe Illustrator
so I just quickly create some text I go
in and pick my font make it bold you
know picking what I'm after pick the
size so the size didn't matter too much
in this case because when we map it
through it will it will automatically
get sized so the two bits that was a key
there was creating a compound path from
the outlines now basically makes it a
single path and then what we do was just
go save as SVG and just I didn't even
save the file allergy there's a preview
to see what you've got and it brings up
the code from the SVG and the bit I have
selected here is the piece you want
which is basically the definition of
that path now if I hadn't gone through
create outlines and compound path then I
would have had a whole bunch of
different if I didn't do the create
outlines I would have just hit it would
have just said create a text piece here
in this so create outlines turns it into
paths and then compound paths compacts
all of the different characters into a
single path statement so this is a
really handy way to take a logo to take
any sort of graphics and turn it into a
path that you can then give to region so
what are the other things we did over
the top of what so region pretty maps to
div or the box model in HTML but
in a few places we extended it to allow
you to do everything we wanted to do
with theming and so one of the things is
you can give any region of shape so you
can make it use SVG vector path and so
that's how we do tick marks arrows or
those sort of things so once i have my
SVG string I then wanted a style so here
I have dots which check box which means
that anything that is a checkbox and
also has that extra style class to
switch on it then I'm then looking for a
child that called box and a child of
that called mark and I'm going to make
it a black fill with a white offset
highlight so again I'm doing the trick
of having two layers in the second layer
move down one pixel to give a little
recessed highlight and then we have our
shape that came in from illustrator and
then the last bit is we're setting the
size so because as I saying everything
with our sizing comes from the inside
out and the mark is I it most inside
node so it's X off the beginning size
for how big the actual control is going
to be and and so here I just wanted to
make it 76 wide so I just split it in
two and put half eats either side it
didn't matter i could have put it 76 on
the left and 0 on the right it would
have given me the same result because
there's no children there that doesn't
matter so basically I wanted to be 76 x
14 so I just split those two and a half
so the next bit is how so that gives me
my sort of grey text on off you can see
there with little white underlines
underneath me for this recessed and the
next bit is how do I make the button so
I literally just started off by copying
and pasting the stuff copying pasting
the style from Caspian Dutton so
actually I'm drawing two sets of is I'm
basically drawing two buttons in in one
here so I'm drawing both the bit behind
the on and the bit behind the off in one
go and so the first bit is the on bit
which just looks like a normal button so
i literally just copied the four layers
from the normal button and then the bit
on the right Islands it look like a
Caspian toga sorry I modern a toggle
button so i just copied and pasted the
four layers from toggle button and then
I think I hand tweet the derivations a
bit to get it to feel how I wanted it to
the insects you'll see that the first
four layers are pretty typical and then
the next cut so we're actually sleepy
drawing the on button underneath the
whole thing just because that was quick
and easy and then the off button is just
drawn over the top of the on button on
the right hand side and so that 50
pixels is basically how far over do I
want to bring it so it is coming in 50
pixels from the left hand side so it's
revealing 50 pixels of the on-state
underneath it and then we just have
corner radiuses which are setting the
correct rounded corners for the two ends
and making sure the off doesn't have
rounded corners in the middle ways here
and I also put in a few of the sort of
pictures showing you some of the
gradients and sort of where they come as
colors are coming through from so the
other case i had was which is when the
checkbox is selected i wanted to show
the on-state being having a nice blue
background so again it's exactly the
same trick but reversed where the off is
actually going underneath the whole
button now and having the standard look
and then the on is having the news of
the blue look so I sort of grayed out
because most of this is exactly the same
as before but we're just switching that
the top four layers from instead of
being drawn over the right hand side
they're drawn over the left and having a
blue look
yeah so I'll be very quick here but this
is just something that I've heard
together for fun if we had extra time
last night it was really just to sort of
show the power of what we can do with
CSS again so that this is modern
re-themed as iOS in about an hour and a
half and you know i'll happily post a
blog with the code i didn't get chance
to make nice slides from it but
primarily i took the root section just
took all the the named colors that we're
talking about fiddled around with them
change them over to use iOS blue or the
appropriate colors and then went through
and hand tweaked a few things to
simplify the standard button look so
buttons in iOS are just plain text
default buttons are bold then we
reinstalled checkboxes in a very similar
style to we did with the other guy but
in this case we don't have any tip mark
so just the realm sliding over and then
sliders again very minimal changes from
what we aren't text fields but yeah
there's not a lot of CSS there to get an
entirely different theme somos de saucÃ©
a few bits on scene builder okay
so the last scene build at all there's
quite a lot of effort went into doing
CSS tooling and there's quite a lot of
nice tools in there for letting you
visualize I'm CSS and let you debug some
of this and see it graphically I also
really helps when you're first trying to
work out how do the style class is
mapped to real nodes and yeah it takes a
little bit to work out how does the CSS
code map into the node structure so it's
important to know the node structure
when you're starting I do but I can't
see my monitor my near oh you do yeah
mirror yeah I had the mirroring honor to
before
there we go
come on death ones the magic key yeah
fantastic
okay so some of you guys might be
familiar with team builder and some of
you guys might even have been at my talk
yesterday and so I'm just repeating some
stuff but as Jasper just said we added
at CSS analyzer and so scene builder is
photos if you don't know is a layout
tool for javafx so you have a whole
bunch of JavaFX knows you can drag and
drop these guys make layout I'm going to
obviously concentrate on showing the CSS
feature here so we'll start off by
dragging in a little checkbox and then
I'm going to show the CSS analyzer panel
so one thing especially when you're
learning java at CSS is that there are
nodes inside the component and so often
if you you know you can add styling to
check box but really you need to get a
text inside and the mark and the box and
various other things is something you
can do here the starboard path allows
you to drill in so I can find out say
okay so check box has a box and inside a
box is a mark and that's quite a nice
way of kind of you can do that with any
control when it will let you drill into
the earth to the skin the other thing
you can do is you can say okay on copy
that star level path there and that just
basically puts the puts the path in your
clipboard and you can just start writing
CSS that will affect that directly and
so looking at the panel itself and first
of all there's two modes so when you
open the panel it switches you from the
normal picking mode which is this one
which just allows you to pick pick the
note itself where's also CSS picking
nodes so you can actually drill into the
node and you know select the mark
directly or the text and and if you look
at the columns here I think wash all
times when moves quite fast but mmm the
default column basically shows you where
the styling is coming from by default so
it's Eva coming from the API or if we
scroll down you can see in some places
it's coming from the JavaFX theme for
example the effects label padding
yeah is coming from FX theme and here
you can see it's Caspian dot CSS because
this is a symbol of 1.1 and so if I
attached a stylesheet so let me just
attach a stylesheet to my root node so
you see that some something's changed
already we have some custom font and one
of the interesting things here is I can
again go to this little menu and say hi
properties with the default values and
then you can see that it will tell me
which guys have been overridden so I can
see the inside FX font here the family
and the size are now being overridden by
home remote CSS and the blue highlight
things move to the third column so I can
see this guy so you know is the winner
in this case now this is quite good the
debugging CSS if you if you're making if
you've got multiple style sheets or if
you've got a lot of style classes
sometimes nodes don't look like you
expect them to write so it's quite nice
to be able to go in here and find out
exactly what the final styling where
it's being applied and so if I also add
a stark class on to this guy so let's
make him again like a light switch so i
can preview here we can see that this
little checkbox has a similar kind of
achievement that Jasper just explained
so I'm just using in sets and background
radiuses to turn the check box and the
selected state make it look like a
switch and I can now see basically if I
again look at the CSS styling so let's
put the defaults back again and if I
select the the box of the chat box you
can see that now style sheets is
actually is ruling a background color
background radios background in sets for
example so
the other thing you can do if I'll just
drag on another one quickly so for
example if i set the opacity of this
checkbox so let me just do a quick
search to get it there put this guy back
so you should see there that the fs of
FX opacity now has been set in the
inspector so it's an inline property but
if i actually go to the inline styling
if i type effects capacity and put in
another value you'll see that now the
inline styling is overridden that down
here in the right hand corner so i'm not
sure that light blues coming up very
well on the screen but so yeah so
effectively you kind of see you know if
you have multiple inputs you can see the
the outright winner so I think that's
pretty much what I wanted to show it to
look good well I were a few Thompson
questions so do it front
so that's inside so if I select the root
again I can basically I think cert this
style she and say open the CSS and so
basically when you add a stylesheet
inseam builder all of the rules are
available inside that style sheet you
could just basically symbol then pick
them up for you so you can apply them to
any node so here you can see that I have
a light switch righty I'm using light
switch master there so in this light
each master and it's affecting the box
of the check box and then I just have a
simple life switch master with a
selected pseudo stake which basically
just changes the background the insects
to make it to make it look like the
switch
fire so you can do either basically the
bright the angle bracket means direct
child the space means any descendant so
that the direct child is more explicit
it has a slightly greater performance
there are definitely kick depending on
how many possibilities there are it can
match against if you had lots of things
styles with spaces in then you can end
up with a lot of rule when it when it
gets to a new node receipt graph the
engine may have to check a lot of
different rules and then say oh this one
doesn't apply this one doesn't apply
this doesn't apply because it could
possibly apply so it's better if you can
be explicit and use the arrow where
possible also also that CSS I wrote and
to demo in seem that a two point naught
which is under production and doesn't
quite so basically the CSS is not quite
as clever as it should be so it's a
little bit dumb down because two point
naught is underway so yes the spaces are
often useful particularly when you're
just quickly hacking something together
but you know if you want the best thing
for production then be more explicit
about your hierarchies yeah
soon
yep so generally the best thing is
always to use a stylesheet be
particularly if using BSS then a lot of
the positing has done up ahead of time
so anytime you use in the inline style
or changing inline style we actually
have to put me on fire up the parser and
posit on the fly the other problem with
an inline styles that once you set an
inline style it's very hard to override
with that values you know it's a very
big hammer it over it's like that the
final most master setting so it will
override everything yeah so that's why
these columns that's why we show in that
sequence so if you have a lot of those
in your source code base then it's very
hard for so if you want to then hire a
designer and get them to drop in a CSS
file they'll they'll find near these
hundreds of cases of things they can't
style because there's inline styles but
what they are useful for is quick
prototyping yeah oh yeah they're
definitely you know the 20 you cases a
quick prototyping and try things out and
the other one is sometimes you want to
dynamically change it based on code and
I've used that use case as well yep you
might want to use an inline style in a
container that normally you wouldn't be
able to see for example then you might
have some layout rules on that so might
be SS stretchy and campaign or something
like that in my youzhny lifestyle is to
make it a color so you can make sure
it's it's justin use it for debugging
you're just sticking like a red loader
on something in a blue border on
something else so I can visually see
where things are laying out when I'm
playing around layout code it's very
useful for that any other questions
with
yes
so the state over basically the state
overrides the default value so once that
state deep disappears it revert back to
the original value yeah if you assign a
value to a property encode it will it
will stay that value it won't the user
agent style sheet at least won't
override that value but if you haven't
in a style sheet attached it should at
least in a tato it should if you call
set the value on a property even if you
have an author style sheet attached it
should revert back to the value that you
called set that you set yourself in code
it should yes its own codes that puppies
always override CSS but but yet the case
in CSS is every time your state changes
of a control we reevaluate with rules
apply and then it's always the same the
standard precedence of what wins and
whichever all wins gets to set that
property
explain myles grint there's um I don't
think we'll ever drop it I think in
terms of I think we'll always keep the
properties that we have now for
backwards compatibility you know we have
we have you know somewhat more strict
backwards compatibility in Java than we
have than the web guys do and generally
you know we almost never remove anything
I think it's ever really happened so
what I think we'll do is add the
standards as well so you'll have both so
what are the issues we have was that the
though we based a lot of our stuff on
the standard stuff the standards the
css3 spec was still in flux at the point
where we defined all this stuff and he
actually changed several times
dramatically on us as P different people
came enjoying the left the working group
they had different opinions and they
have rewrite the wayward so until things
get bate we didn't want to bake into the
API so that we end up living with an old
version of the spec but yeah it's
definitely our intent at the standards
version of padding and margins and all
of those things I just don't know that
timing to that well I think that's all
we have time for but you know if you
have more questions come and find one of
us off outside afterwards or in the
corridors thank you everybody</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>