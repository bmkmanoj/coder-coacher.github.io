<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Scaling Web Security: Tools, Processes, and Techniques to Enable Security | Coder Coacher - Coaching Coders</title><meta content="Scaling Web Security: Tools, Processes, and Techniques to Enable Security - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Scaling Web Security: Tools, Processes, and Techniques to Enable Security</b></h2><h5 class="post__date">2015-06-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/0jBsqiCpQCM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so my name is Milton Smith I'm the
security lead here at Oracle for JAMA
and I just like to welcome Michael
Coates who is the president of a wasp
and also security lead for Mozilla so
thanks for joining us Michael again
great thanks all right we're ready oh
yeah thanks I let's yeah there we go I
can stand back here I actually had a
head of talk a few years ago where I was
midway through the talk and everything
had worked just fine with the speakers
and at one point I was going to say
something about you know and blah blah
blah and I say but but right then the
feedback hit right on the word NSA I
thought that was interesting I don't
think we have that this time though but
anyways thanks very much for having me
Milton thanks for the introduction my
name is Michael coats I'm going to talk
to you a little bit about scaling web
security before we get into that i'm
very curious you know who you guys are
so we're going to go around the room
want to know but um how many of you are
developers most of the time okay what
about security people most of the time
all right I guess if you're neither of
those two I don't I'm just curious okay
what do you do actually okay okay cool
so we got a bunch of developers bunch
security people great well at any point
in this talk please do raise your hand
if you have questions I enjoy dialogues
more than me just talking at all of you
so those are definitely encouraged and
over the next you know 45 minutes or so
that we have hopefully will cover some
interesting material spark some ideas
and go from there so briefly about me I
stopped building those little bio slides
because I found Twitter actually made
that a lot easier so i just copied and
pasted that that works pretty simple but
as Milton said you know I'm at Mozilla
I run director I'm the director of
security assurance there and so we look
after all of our products of firefox
firefox OS Firefox for Android our
services infrastructure make sure all
that's secure for half a billion users
also the chair of the OS board if you
haven't heard of a wasp I encourage you
to check it out that's OS org and it's a
non-profit with the mission of making
security visible so we just create tons
of free resources trying to make
security better for everyone around the
world so again I'll reference that a few
times in the presentation I have the
links in there but a great website to
check out lastly I'll of emails
positives negatives what have you so my
email is there at the bottom as well so
to kind of set the stage I found this
quote very interesting and it's actually
two years old which makes you wonder how
much worse it is now but the global cost
of cybercrime is greater than the
combined effect on the global economy of
trafficking in marijuana heroin and
cocaine I think that puts it in context
you know security you can think of as
something pretty cool that you see in a
movie now there's a guy in his basement
he's tapping vigorously on the keyboard
and apparently if you talk you know hit
the keyboard hard that makes you a
better hacker but i don't think that
captures you know the real breadth and
depth of what the problem is and when
you compare it to something like drug
trafficking a worldwide scale I think
you start to see this is a big problem
and there's there's not just individuals
in their basements and not just
teenagers it's organized crime behind
this there's countless studies that
point to this no there if there's money
involved there's money to be made there
are organized crime that is happy to
perpetrate attacks to get that
information it's a little bit more about
the reality of some interesting
headlines that are pretty easy to pull
about compromises FTC goes after Twitter
a retailer's being sued for 13 they're
being fine 13 million they're fighting
that with visa but you don't really want
to be in that situation when you're
battling over you know a 13 million
dollar fine depending on the scale of
your organization that may be huge maybe
not that's a great place to be that's
not huge for you but not a good
situation
other groups find for millions linkedin
hacked several years ago I mean really
if you if you do a search it's not hard
to find you know any old business that
you work with that's been compromised on
one way or another so that theory of
we're not going to be targeted they're
not coming after us is definitely not
true at all to good data points to look
at data loss DB org a great great
website that correlates different data
breach information for different
statistics and also the verizon data
breach report released every year what
they're both showing is that data is
being lost because of hackers now
there's lots of ways to lose data you
can drop your backup truck backup tapes
off of a truck you can have paper files
stolen but both of these show that at
least half the time packing is being
used to compromise the data and the
other thing to consider about this is
that most of the time sure there are
insider threats but the people outside
of your organization are in the vast
majority of these cases that have been
studied responsible for the for the
attacks that are taking data and I think
what this is this is kind of interesting
to think about if you think about the
parallel to your house you know you lock
your door you lock your windows but if
you think about it from a security
perspective you're like well sure
someone could break the window and go
inside but I'm not going to put bars on
my window because I live in a safe
neighborhood but as I've said in other
talks when you're on the internet you're
always in the worst neighborhood in the
world because it doesn't matter how
close anyone is the people halfway
around the world are at a literally next
door and so when there's an issue in
your website your application anyone's
going to exploit it and another sat from
the verizon data breach report i believe
around seventy or eighty percent of the
compromises were from opportunistic
vulnerabilities and so what they're
saying there is yes there are super
advanced hackers you know the apt if you
want to use that word which i don't like
it but i just said it but people that
just go after people that left their
front door open that's an opportunistic
attack and seventy to eighty percent i
forget the exact number was what verizon
cited in their studies that's a huge
percentage so if you're thinking about
your applications in your security
program
just getting over the glaringly obvious
problems will put you in a lot better
position so think about your security
program and how people talk about it how
do people talk to you as developers
about security how do you think about
security yourself as a security
professional you may have heard some of
these things security is everyone's job
oh it's great i've heard sales is
everyone's job too so is marketing so I
was QA so you may have a lot of jobs
some people want to solve this via
training I'll just train everybody to
death other people like to just say well
just do this everything will be great
just encode it the world would be better
and others like to say well if you care
about security you wouldn't have those
vulnerabilities period but I think that
these are all kind of really missing the
point because there's some there's some
challenging things about security so two
facts about security in my opinion one
fixing a single security bug it's easy
that generally but if you want to ensure
there are no critical bugs introduced
into your software while you're moving
fast with minimal impact to developers
within an agile or some sort of constant
deployment model and across thousands of
developers multiple sites services and
numerous and new lines of code that's
hard that's what is hard in security we
can talk about how to fix a single
instance of cross-site scripting but if
you want to make sure that you never
have cross-site scripting across any of
your web apps ever again that's a lot
harder and that's just one thing you
know sequel injection access control
vulnerabilities authentication problems
the structure and program of security is
a challenge and that's some of the
things we're going to talk about so one
thing to keep in mind when we talk
through this is thing about what is the
goal of your security program what do
you want security to be in your
application do you really want to
eliminate all possible security bugs
that that would be great but that's a
bit far-fetched there could be other
things like just not being in the
headlines protecting your user data
making sure you don't go down what I say
and what I think at the very bottom is
the real goal is managing your risk
understanding where you want to be with
your application the likelihood of
happening how bad those could be and so
with some of that that thinking I want
to jump into kind of the meat of this I
think we need to rethink how we approach
security and security programs and as
you see in that little subtitle there
eliminate security professional so you
may think that's an odd topic coming
from someone who does security but I
think the only way that we can have any
chance of building programs that
actually prevent security
vulnerabilities is to get away from
talking to the security person
specifically we need things that are
scaling and automatic and that's we're
going to talk about so can't solve
security by throwing bodies at the
problem you can't hire your way out of
this problem security pros are generally
expensive I would say they're hard to
find the technical industry pretty small
number of people in security even
smaller people that want to do security
in your specific area that are available
in your part of the world even smaller
other item humans don't scale terribly
well how many of you are ping done every
single security question like as a human
contact like here's an email here's an
IRC chat like that that process just
doesn't work there's just no way that's
going to function at all so let's think
about security throughout the lifecycle
so nice generic pictures on waterfall
and agile you know plenty of other
variations and homegrown methodologies
and approaches but any in all of these
situations you have a variety of people
involve you have developers you have QA
your people writing requirements you
have your dev ops team deploying
software you have a bunch of people that
are all doing their individual pieces of
the overall puzzle but there's a way
that you can leverage each of them to do
incremental security gains along the way
now I was talking earlier about you know
everybody wearing different hats and
that's that's challenging you can't go
up to your entire engineering
organization and say you guys are all
going to be you know security disciples
and this is what you're going to do all
the time but you can do small tweaks in
different ways that make it more likely
you'll develop secure code or another
way less likely you're introduced
vulnerabilities so here's some different
techniques that have both worked well at
Mozilla we've seen popular owasp and
other organizations are using as well so
developer training you have people do
that don't have tons to say about that
there's not a lot of earth-shattering
news on developer training you can do
that it has mixed results but one of the
things that I found successful in people
I've talked to and also at Mozilla is is
coding guidelines now the thing about
coding guidelines are you can go the old
school route and you can buy a bunch of
books and they're about yay big and you
can drop them on people's desk and
you're pretty you look pretty important
when you do that but the developers will
then put their coffee on top of it and
that's you know all of the use of that
book because nobody is going to open up
this book and flip through all these
pages because it's just not practical
and so when we built these at Mozilla I
was talking with the developers and we
built a cheat sheet approach you know
just the bare basics the bare minimum
that you need to know about a topic and
when I got to the second page they were
already pushing back like that's that's
too long slow down so I capped it at two
pages and that worked really well
because I was able to cover this is a
screenshot here that's ten major areas i
think there's actually 15 major areas
but i was able to cover that in two
pages and what you do is on each area
you have one to two sentences of this is
the goal this is what you want to do in
this area now you can have other links
to learn more but a developer that is
not quite sure maybe security is not
there their main area they're a little
unclear about something they can see oh
I'm handling input that's going to go to
sequel statement what is it I need to do
a parameter eyes queries boom done if
they don't know what that means they can
go look that up there looking at how to
do a authentication failed message it
says remember don't say the password
wrong because then that gives away that
the user accounts valid if that's
important to your application but again
it gives the guidance the developer can
quickly say okay I know what to do thats
a good reminder if I need to read more i
can read more at the links provided so
created this for mozilla it worked
pretty well it was publicized on
Oh what was it was at reddit y
combinator one of those sites but I got
you know 85,000 views over a week and
when it went out now if it was not good
i could have seen a large number of
flames because people don't hold back on
Reddit and other sites but it was
generally pretty well accepted I'm so
this has now been donated over 20 ASP
and you can see that secure coding cheat
sheet at that URL now the other thing
we've done it OS was taking this a
little bit further and we've taken an
item like a particular area like let's
say cross-site scripting you can
certainly in one line say don't have
cross-site scripting that's a little
challenging because there's a lot of
nuances to cross-site scripting so we
made a cheat sheet just for cross-site
scripting and again it's about two pages
but if you really need to start thinking
about as a developer what do I do with
cross-site scripting can go through read
it it's got five rules you know if
you're taking data and putting this
context encode it this way if you're
taking it into javascript encode it this
way and so we did that for major
different areas of course core security
areas and so the cheat sheets page on OS
actually has I think about 15 or 20
different cheat sheets across many
different topics one of the other ones
that I wrote was that the transport
layer protection cheat sheet and this is
another interesting thing it's talking
about SSL and so if you're thinking if
you've done anything with ssl on a
website you think well https done all
good but I'm surprisingly there's
actually a lot of ways people mess that
up and that's what that cheat sheet goes
through for example and I think I'm kind
of preaching the crowd on this one but
if you login over SSL and then you
switch over to http you didn't really do
much yeah the password is encrypted but
the session the cookie with the session
IDs in the clear you just steal the
session ID the users compromised so it
goes through things like that and so
again I find these pretty successful if
you haven't seen them I do encourage you
to check them out I think they'll work
well for you the idea of using this
though back to the main point of scaling
if you can provide this information out
to all of your developers you then have
a situation we've done something that's
scaling out
side of you there's no more questions on
all these common things to the security
person because they have the information
at their hands so just one of the small
ways to start scaling your program now
outside of doing guidance from coding
guidelines you can move into doing an
actual security library or security
services the idea here of course is to
let's get really awesome developers that
know lots about security are bringing
security guys together and sit down and
build either a library or a service that
does the critical security operations
right at once reuse it common
development paradigm and what we do here
is we don't we avoid the situation where
developers like okay I need to encrypt
this what algorithm is that I use and
how do i do the initialization vector
and does that need to be random and if I
do what random number generator like you
avoid all this thing just like call
encryption here's the thing so you
simplify everything significantly make a
standard security library that you use
the other benefit about this is when
you're doing code audits either static
or just read throughs you can quickly
see oh they're doing a validation of
user-supplied data but they did it
themselves I don't care what they did
that's wrong just use our standard
library code use our standard librarian
calls how many people actually are using
this approach already I'm curious about
that interesting so a few I thought it
might be more so others of you are kind
of writing that's core security code
each time and probably doing a good job
but you have to do it each time
interesting so another reference point
if you want to create one of these at
your organization so at 0 us we have a
sappy and it was it's mostly an example
I mean you can take the code and you can
use it I would say consider it betta
look at it as an example and say these
are the core areas that I want to build
you know authentication code and
encoding things for handling database
calls and then work from that the other
thing that I'm actually seeing a lot of
organizations move to is building these
as like restful services in the cloud
and so as you start to think about more
cloud applications think do I need to
take this in
instead of being a library call actually
build a standalone component in the
cloud that I can call the arrest service
to do that maybe it's maybe its
encryption maybe south on occasion
something like that so again build
building blocks of security so everyone
can just use the building blocks versus
doing the security code every single
time so stepping away from the
development itself I know this is
something that we're working on at
Mozilla and if you know much about
Mozilla I mean you know we make firefox
but the other thing about Mozilla is
everything we do is open so we're
building this tool that we think will
help us but it's open and free to the
world and we want other people to use it
to the idea behind this is I love that
there's security tools for security
professionals I can sit down at some
super powerful tool I can configure it I
can hit a button it'll run it'll
generate hundred pages of data for me to
sit there and look through and as a
security guy I can sit there and say all
right well this is wrong this is wrong
oh here we go finally got one that's
right you know hundred pages later I get
15 findings maybe it was a good use of
my time maybe not but again that's not a
really scalable solution because
everybody wants to come to me and say
hey run that tool and look through that
report I don't think it's really helping
anyone so what we were thinking is let's
build a tool that anyone can use and
whatever it finds is right now we can't
just you know sprinkle magic pixie dust
on this and say our tool will be awesome
and do everything your tool can't so we
have to make a trade off it won't find
everything and that's fine it'll miss
stuff but whatever it does find will be
right so we'll look for things that we
can find with high accuracy now what
that does you know that inverting the
model and we can never sell it because
people that sell things like to say well
it scans for everything under the Sun
and finds 15 million flaws ours doesn't
and it's free anyways but what it does
do is that lets you hand that to a
person that's not a security guy and say
hey developer run this tool look at the
results and then fix it does it because
you don't need to go back and say well
not sure if it's right or wrong because
we already made sure the tool
runs it and just does the things that it
can find accurately and then the
information that gets back is stuff to
develop I already understands you know
the response is Miss Smith is missing X
frame options now it could be a great
opportunity for the developers say wise
x frame options important and they could
go and look about clickjacking all that
if i wanted to but if they just fix it
then it's great the developers fix the
code it goes through whenever you have
security testing all these things are
already fixed now it doesn't fix
everything under the Sun again but
anything that you can fix at the edges
before it comes to a security group to
say what what do we need to do you know
the better so this tool is called minion
there's a couple generic screenshots of
it there but it's a tool that's going to
let you do dynamic skinny of your
website it's going to report the
information back to you you can schedule
scans and then you can pan those reports
off to whoever needs to fix the issues
with the idea being there shouldn't be
false positives we're designing it that
way so the information whatever is
returned is very usable this is of
course open source so if you see it like
it and have suggestions please help and
if you want to fork it and do whatever
else that's great too
so I'd be remiss to not mention things
like static and dynamic analysis those
are probably items leverage in your
security program at some point or
another the talk of this is scaling
those so I have that note there you know
be careful about investing these tools
because you may need to have someone
that their job is to run and interpret
the tool and so if your environment if
if that scales because you have one
person that can then run the tool and a
hundred applications that's great but if
you have every application that's
different you're going to be in a tough
spot because you might invest a lot of
information and time up front just to
run the tool that you then reuse on the
next time where I see security going
security whatever as a service I think
companies are going to recognize that
security resources are tough to find and
they're going to offer more services
that will do something some piece of the
security puzzle and it will output
accurate results behind the scenes they
could have people doing the work they
could have automation they could have
mechanical turk but they're going to
give you validated results in some way
so keep an eye out for more of these
things we're already seeing some of
those penetration tests that are as a
service constantly running you get true
validated results back I think we'll see
a lot more of those as we go so another
area that you can work in is with your
QA teams and so at Mozilla was talking
with different folks in QA and as you
might expect they do a variety of
different checks on applications of
course but it occurred to us that if
they're going to test for example how a
how a form works whether or not the
information gets stored properly you can
be later recovered why not switch out
that instead of just saying you know
this is a test message why don't you
throw in something basic like this like
a cross-site scripting test now again if
you have a cross-site scripting
vulnerability this may not be the right
way to exploit it but there's a fair
number of really basic ones that do get
exploited straight straight away like
this and so what we have is one of our
QA folks her her profile name on every
system she tests is very similar to this
and she finds a lot of cross-site
scripting bugs because she puts that in
there when she sets up her account and
then she just starts using the website
and then BAM on some random page I guess
they had the username somewhere and up
pops a cross-site scripting
vulnerability and so she doesn't have to
go through and do tons of security work
she just says hey there's there's
clearly something here from the username
on this page and you know BAM we have a
security bug filed and so when we looked
at this if you get into the mindset of
how QA works you know they have they
have different patterns for their tests
do the tests will have a pass or fail
you know make sure this form works make
sure the output comes out this way and
so what we do is we build a series of
different security geared tests that are
in that same format you know when
viewing wind on a page that has a state
changing operation so when you're on
like an edit profile page if you view
source you should see see a CSRF cookie
or not seeing sort of hidden field for
CSRF token and you can if you have
coding standards you can quickly say it
should be called this and that might be
another opportunity where QA can
validate hey yep that's there so this is
another opportunity to push elements of
security into other organizations other
parts of the company so you're getting
you know more benefits throughout
now shifting away from the technology
side I found that the organizational
setup makes a huge difference on how
successful you are with scaling your
security so we've done a lot of this at
Mozilla and one of the approaches that
we've used we call in bedding and what
we do is we we have a centralized
security team and we embed each of those
members are embedded into some other
team in the organization so for example
we might have a guy in the JavaScript
engine he's embedded with that team we
might have somebody else with layout
somebody else with the websites team
somebody with services and what they do
then is they sit in the team meetings
there at the conv at the at the table
for other core conversations and it lets
them one know what the heck's going on
has anybody ever been in the situation
as a security team where you're like hey
that thing that's totally vulnerable
someone tells you we just shipped this
thing it's apparently got a security
issue you don't even know that things
happen so we've had that situation and
I've heard from others they have it to
where it's tough to stay up to speed
with everything going on unless you're
like a strict blocking function in an
organization and so by having people
embedded in other teams you kind of
build that back collaboration you build
that alliance with the other team so
that they can talk to you quickly so
you're just sitting at two mini hey
we're thinking about designing this new
application you know it's going to take
Social Security numbers it's going to
send it you know over to Google and then
we'll ask for back later you're like
well that would be awesome but let's not
do it that way you know just just a
small few tweaks and you can really hit
things at the beginning before you're
all the way down towards the end you
find out at the very end they're about
to ship something like oh my god you
know this is this is built flawed from
the beginning so we found this embedding
strategy to work pretty well across an
organization now the other thing that
happens is when your organization gets
to a certain size is you may realize you
have no you can't even scale at that
degree if you have let's say 15 security
people and you have an organization of
4,000 that might not scale very well
so another strategy that is pretty
effective is is building something like
called security champions so find
individuals that are developers and have
an interest in security and have that
kind of be there their second trade or
something that they can work on their
hobby they can be that security expert
within their team so it's another voice
of I don't say a voice of reason because
there's plenty of reason all out there
but it's a voice of security reason so
when you have those weird crazy ideas
come up that person can say oh yeah
let's do it this way or that's a very
difficult area let's make sure we get
the right people involved for example
handling image uploads if you haven't
been bitten by image uploads just wait
because they're a mess we've we've had
issues where individuals have embedded
code inside of images and then if you
have a series of cascading failures here
if you can have the filename be renamed
to dot PHP it can get uploaded to a
server that's not Gregor configured
properly all of a sudden you have
server-side execution via an image a you
uploaded you know it's a series of
failures to get to that point but when
you start to try and prevent that you
have to do you know you have to map your
image into a new file you have to check
the file names so anyways there's a
series of different things you have to
do and those different odds scenarios
that will bite you it's great to have an
organization a security chairman's
they're like oh yeah we we know about
these buggers because we talked about
all the security bugs in our last
security champions meeting let's make
sure we bring in the right people and
think about that issue this item of
course scales pretty well so a good idea
has anyone heard of bug bounty programs
look a couple oh great new information
so there are many companies Mozilla
included that will pay you to find
security vulnerabilities in our software
so if you want to practice your hacking
skills we have websites the production
websites tackle and if you do we and
find a critical issue will pay you three
thousand dollars for that information
we're not the only crazy people who did
this we did start it tune in 2004 for
Firefox but since then a slew of other
companies have done the same so Google
has this Facebook and actually here at
the bottom from bugcrowd they put
together a list of bug bounty programs
and that's not even all of them there
are tons of companies that have either
recognition or rewards programs for
finding security bounties yeah how much
have I paid out we pay out around
200,000 a year i think i think overall
and i could be wrong but I believe the
number is around 1.2 million yeah how do
you get mismanagement actually when you
look at the numbers when you look at how
much it cost you to have a security
critical security issue go public what
does that meaning organization how do
you scramble and how many people does
that take how much time does that take
and does that cost more than three
thousand dollars you can probably
justify that going to get coffee with
your team cost more than three thousand
dollars depending how you do the math
but yes you do have to have a frank
conversation on that if you are thinking
about starting a bounty program there's
plenty of information out there i've
done a talk actually on those things but
one of the things you can do is is not
tying box but money box it let's say
we're going to invest twenty thousand
dollars i'm going to give this a shot
and here's a site and let's see how it
goes it's a really interesting
experience and what we found when we so
we added websites to the program in
december of 2011 2010 wanted to
and one of the things that you see is
even though we have a pretty robust
security lifecycle or software
developing lifecycle security built in
you know an organization's been doing a
bounty program for six years we still
had a huge spike of issues because
everybody swarms and they find a bunch
of things some of them are legitimate
some of them are not and then you get
the collateral damage where if you're
launching a bounty program and you think
the bounty people are going to read your
instructions that's the first thing
you'll learn that they don't so
everything you say hey this site is in
scope these are not they attack
everything so that's a bit of an
administrative lesson that you'll learn
but what we found is again a huge spike
and so another lesson learned probably
not the best to launch them in December
and it's also probably good to call up
your web dev lead and say hey we're
going to do this today so lessons
learned yeah yep so do we publish the
vulnerabilities that were found yes so
at Mozilla everything everything's open
security bugs we keep closed until
they're fixed but after they are fixed
then we open them up the thinking there
of course is if it's not fixed opening
it up would put people at risk but yes
you can find all that information in our
bug tracker and we're working towards
like a hall-of-fame program but I know
Google and Facebook both have Hall of
Fame programs where they will you know
mention who found issues sometimes
either give a summary or the details of
the issue found and as you look across
the different programs you'll see that
there's definitely some common folks
amongst them and it's really interesting
because it's a wide variety of people
there's some college students that have
done quite well you know I think they
probably between the program's pull down
tens of thousands of dollars I know we
had a person that we paid in a village
in Romania I had to double check his
address because it was due there's like
one place that received mail and you
know yeah three thousand dollars that's
maybe not a lot here in the bay but with
you know the
and it was in Romania that turns out to
be a lot of my so so this is a really
interesting way and again to the topic
of scaling I think this is an incredible
way to scale because when are you going
to match the time and focus that
hundreds or thousands of people could
throw out your site and we have found or
we've had reported to us things to this
bounty program that if we had hired a
security firm to focus on the website
maybe they would have found it but that
would have been hiring them we would
have had to say all right we're going to
do a super deep dive on this thing so
spend way more time the way normally
have you spend and try and find every
sort of weird type of vulnerability so
you know you know seventy eighty
thousand dollars later maybe they would
have found it but there's no way we
would have had that kind of coverage on
all sorts of websites and so that's what
we see is we see we see a combination of
issues that are like oh wow we really
missed ourselves we missed it there that
was an obvious issue thank you for
finding it we feel stupid and we have
other ones like that's just awesome we
would never have thought of that and I
don't think anyone else would have and
you found something really cool you know
let's definitely give you credit for
that give you the bounty and we'll go
and try and fix that everywhere because
that was a pretty neat issue that's
actually how we found the file upload
thing too by the way so this is an
interesting thing to experiment with
highly recommend it we've been through
it three years four years and it's been
a lot of value for us
the other item I want to talk about
after a lease is just defending your
application and this is an area that I
think is not covered too well in
security it's great to build it secure
we need to do that and we're not even
good at that yet but we can't just say
all right we spent all this time it's
probably secure and release and just
pray for the best we put it out there
why don't we defend the thing I mean
right now we have you know all sorts of
people around the world bug bounty
hopefully they're doing good things but
fair number of people from criminal
organizations doing bad things and what
I claim is that if we instrument our
applications correctly we should be able
to see a bad guy like they're not that
hard to spot for many years I attacked
web applications i reviewed millions of
lines of code i attack banks from my
home and i found after you know
assessment after assessment like you
know a lot of this is kind of the same
thing and I'm like I've tested this URL
parameter 18 times aren't you getting
suspicious you know I keep changing the
script keep doing different sequel
injections pretty damn obvious and so
that's when it occurred to me is why
don't we put some logic into our
applications and say okay you tried to
do this thing and that's not normal so
I'm going to just put a little tick over
here and keep track oh here's another
thing and at some point you can reliably
say well you're clearly not a good
person you know you're not sitting at
your computer and a starbucks and
accidentally open up a web proxy and
accidentally changing you know a hidden
post parameter that's not something you
just accidentally do and so if we look
for certain types of patterns and
applications we can say this person is
clearly bad and you can probably figure
that out within about five or six bad
requests and then what you can do is say
well I could wait around for you to
steal my data I could wait around for
the New York Times or at a story about
it or I could just lock you out of your
account right away or I could alert an
admin or I could block your IP there's a
lot of things you could do but any of
those things would be better than what
we're doing now which is nothing and so
that type of thinking is what made the a
lost app sensor project and it's
integrating defenses into an application
so you can detect when someone's
attacking you and you can then
automatically do whatever you want to do
block them send them to a honeypot email
abuse what happening and this projects
come along pretty well we have a handful
of people working on it I was actually
published in the Journal of crosstalk
journal journal of Defense magazine it's
referenced on department of homeland
security's building resilient software
so it's not just us saying it's a good
idea it's going well and i think this is
a pretty advanced but effective approach
to scaling automated defense yeah yeah
so the questions around distributed
attacks and our attackers coming from
different endpoints different IP
addresses yeah it definitely make sure
you have to be aware of that problem
because if you do ip-based blocking they
could just jump on a different IP
address if you ought to do an IP place
blocking you can also block an entire
university so that that's dangerous one
thing about this is most of the time
they are going to be the most critical
part of your application is in the
authenticated part generally that's
generally where you can get to other
accounts other data and so regardless of
where they're coming from if they're
using the same account you'll see that
you can block the account now if they
have a lot of accounts you could in
theory block a lot of accounts if they
have unlimited account creation and
that's kind of an interesting scenario
that would be a problem another thing we
have looked at in this approach is kind
of thinking about your application as a
submarine if you have a breach in a
submarine you don't sink you just seal
off that area and what that's kind of
what you could do in an application to
if you design it correctly and we talked
about that if somebody is abusing your I
don't know update address functionality
say they've updated their address a
hundred times in the last two seconds
clearly they're doing something
something you don't want them to do why
don't you just turn that off
turn it off for a little bit maybe turn
off to a part of the world maybe turn it
off to everybody yep people cannot
update their address but you could have
just stopped a based worm that was going
to blow through your site I actually I
did a demo a few years ago of a social
networking site where you could create a
CSRF based worm that anyone that viewed
it would then update their status who
would propagate and this kind of
technology would then stop that worm
because it would say hey the update
status has exceeded you know ten
thousand percent of normal usage
automatically shut that down alert
somebody yeah it sucks you know you
can't update your status but at least
the site is still up and people are not
massively infected now is there code to
just do this for you no it's not it's
not that easy but if we're building
super sensitive applications that that
need to defend themselves and haven't
been effective this as a way to go or at
least a way to think about but I have
two things on here and the first I
mentioned the app sensor is more for
custom attacks you know your custom
application you know I think a step
before that maybe a more generic defense
you know web application firewalls again
a scalable defense it's good to keep in
mind what it gives you it's probably
going to be easier to implement but it's
going to only go after generic attacks
so you know it's one of the tools in the
toolkit to think about so the other
thing I want to talk about is related to
that last item is when you want to
defend your application you definitely
need to think about removing any sort of
human involvement you know just like
when you might build a start-up and not
this is the best analogy but if you're
gonna be able to start up you're going
to do everything manually and once
something works you're going to automate
it I think that's really the same thing
with defending application figure out
what it is you want to do you see
somebody come in and they do this great
stuff they're attacking you like I this
is bad what we're going to do is this
we're going to block that IP automate
that like it's great like look at
whatever you're doing anything you're
doing that you think is awesome if it's
not automated it won't scale so you have
to automate everything so attack
blocking definitely automate it there's
a lot of different ways you can do it
you don't have to just
block somebody's IP one interesting way
of blocking automated attacks against
you which is one of your big threats is
throw a cop job it looks like you are
out of control let's make sure you're a
human and there you can keep keep going
yeah sure so if you have automated
functionality that can disable
functionality would that be a denial of
service it could be I think that when
you look at these different defenses
that are you know kind of putting up
shields or walls or selectively
disabling things you do have to look at
the scenario for abuse of those so it's
definitely thinking about the problem
the right way but I think at some point
it's something to consider because the
trade-offs could be in your favor if
you're okay with that one functionality
part going being locked down because the
rest of it's so critical that might make
sense yeah oh yeah exactly yeah dude so
if yeah you definitely want to disable
them forever just to restate having them
be like a 30 second disabled or or
sometime bound thing versus forever for
sure and whenever you're disabling
anything you should certainly be raising
all sorts of alarm so people are going
hey we're under attack we've taken these
steps to slow things down but you should
really call in the cavalry to see what
the heck's going on up so that yeah and
that's really to this point here so if
any of you have worked with incident
response you know worked with sims I
think they provide lots of awesome
information you can see all these crazy
things people are doing but again if
they require somebody to be sitting
there looking at consol going AHA
there's somebody that's attacking us and
then that's not going to work that well
I mean I really think we need to move in
this methodology of let's let's agree
that we can't automate everything but
let's agree that we need to automate
everything we can that's really where I
think security needs to go to
and so kind of along those lines you
know if I'm talking about eliminating
the security professional everything
I've been talking about says get rid of
the person if you have to talk to a
security person you're doing it wrong so
what are they what are these supposed to
do and so I think that when we look at
security expertise we need these people
to be thinking about you know strategy
and risk programs how do we how do we go
into these systems and say this
architecture is good or we need to we
need to tweak it we need to go from a
two-tiered architecture to a
three-tiered architecture because of
these reasons so you know doing threat
modeling analysis taking on new types of
problems how are we going to do this in
the cloud with any sort of safety and
then as I've said how do we automate
that and so I really think that the
future of secure software and in
protecting our web applications are
about figuring how to scale these things
scaling our security resources and
services and enabling automation so a
few final key points I don't think
security should be considered just
something that security people do not
and just not just started again it's not
just an activity conducted by a single
team that by any means what we want to
do is look across the entire lifecycle
and say how do we identify some security
issues in this step we don't have to
find them all I get it developers are
not security people they have to build
awesome features that's great but how do
we do small wins to make sure there's a
lower likelihood that something is going
to get through that step so incremental
wins at every step build every single
thing you do for scaling whatever time
you put in today somebody will say that
is awesome let's use that everywhere
then that that can that be awesome if
you need to rebuild it from scratch and
again automate first and the human
subject matter expert really only when
is not automated you need to bring
somebody and say how do I work on this
how do I figure out how to do this
securely how do I make it scale so
that's the main stuff I had I wanted to
leave a few minutes here for any sort of
lingering questions or item just may
have brought up or anything that came to
mind
on security yep
did you ask those internal okay so the
question is could a bounty program work
internally we have specifically stayed
away from that we've said in general
people can't be eligible I think I think
really on one hand we're just thinking
in our security mind of Oh somebody
could putting vulnerable coat on purpose
and then hey find a vulnerability but I
think that's a little bit of that
security paranoia think that we just
tend to have because I mean who's going
to really do that their job sure you
could make three grand and then lose
your job I think in a large organization
I think it could maybe you don't
incentivize it with money but you
incentivize it some way and it gets
people to think to keep it on their mind
like kind of a kind of gamifying it I
think it could I just don't have any
real-world experience on what went well
and what didn't yeah
yeah so the question is could minion be
automated so when you deploy go to
automatic around it's definitely being
built that way it's being built as a
tool for developers a tool for a
security program it's specifically not
being built as a stool for security
testers and what I mean by that is tools
for security testers are built for
something that one person uses almost
very manual and it requires that that's
security professional to understand it
minions being designed so developers can
use it so they can put in life cycles
you can automate it so all the things
that you're thinking about is definitely
on the road map we envision a future
where it's easy to drop in a website
automatically gets scanned it supports
rescanning weekly all those kinds of
things that you might want yeah are
there any tools for QA we're looking at
integration tests with Hudson that's one
way we're going about it but something
we're thinking about I don't have any
good ones to point you out yet though
we're running out of time is that were
true no I just wanted to take a minute
to if to let everybody know that we have
an appt experts panel on Thursday and
like somebody joining us for that and so
you have another opportunity to ask some
more questions and kind of listen to
other things that people will be asking
and we'll have some other folks on the
panel as well i'll be there representing
the java team selfie yeah great i'm
going to take one more than we'll wrap
up yeah just
so what does the app sensor project look
like is it a jerky just drop it in right
now it's more of a of a reference guide
on how this how you would do this kind
of Beast like how would you even
approach this problem so what it does is
it gives you if you're looking for bad
guys here are 75 different ways that
they could be bad and it's broken down
by categories of types of activities if
you find them here are some things you
might want to think about what you do in
terms of response actions if you were to
build a solution here's an example of
some reference code you could think
about or an architecture diagram of what
you're going to build but right now it's
not code you can just drop in
unfortunately so one thing I want to
leave you with of course contact
information at the very bottom there is
a security 101 email address and that's
something we've started a tow us to be a
way to kind of continue the conversation
we found that you know when you left the
room you lose that opportunity to you
know interact talk about security so if
you have any questions whatsoever even
very basic things that's kind of the
idea of 101 ask them there it's a nice
place unlike other forms on the internet
you won't get flamed or an i elated for
asking a basic question that's actually
the intent so I hope that's somewhere we
can continue the conversation and I'll
be outside if there's any other
questions that you had thanks again
thank you so much during your time with
asthma think</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>