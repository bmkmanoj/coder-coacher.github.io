<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>OSv: The Operating System Designed for Java and the Cloud | Coder Coacher - Coaching Coders</title><meta content="OSv: The Operating System Designed for Java and the Cloud - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>OSv: The Operating System Designed for Java and the Cloud</b></h2><h5 class="post__date">2015-06-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/-8NgXKRKmQk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everybody my name is Glauber Costa
and I'm a lead software engineer for
claudius systems me and my colleague Don
Marty we're gonna talk to you today and
show you a new operating system that we
have been developing and I was stressed
that this is a new operating system it's
not a version of Linux it's something we
wrote from scratch called OS V it's an
operating system designed to run Java in
the cloud I hope you're enjoying the
conference and I'm happy for you to be
here post-lunch I almost didn't make it
myself but and I am certainly enjoying
it very much not only the conference I
like the fact that this conference is in
San Francisco and I've learned it's not
it's really all over San Francisco which
is an awesome City I'm a visitor here
I'm not local and every time I come here
it amazes me how much there is to do in
the city how much there is to see and I
only here for a short while in very
short visits it always makes me wonder
how much more I could do and how much
more I could see if I had more time time
is the most precious thing we have all
of us no matter who we are or what we do
time is important in business and in
life beyond business as well I would
argue even more important than right
it's a finite resource it's 24 hours
every day and you're done
there is no there's nothing you can do
well if I had extra time I don't know
about you but if I had more time there
was a bunch of courses in Coursera
there's they're there they're there
waiting for me and I won't do it I don't
have any time Don told me that if he had
more time he will learn how to play the
guitar and I'm happy I'm not really
local from San Francisco that even if
don't have time I don't have to listen
to him and in the beginning of his
practice right it's I know how to play
the guitar in
beginning of it was not really good it
makes me wonder I think all of you in
the audience what would you do if you
had more time and let me get specific
here I'm talking 13 hours extra time 13
hours is more than a whole workday 13
hours as a matter of fact is more than
20% of your whole workweek and still
this is the time according to the
Gartner group that developers and
testers spend configuring their
operating systems their general purpose
operating system and this is the key
their general purpose operating systems
this is not hard to believe it's scary
right its money flushed down the toilet
but it is not hard to believe the reason
for that is that general purpose
operating systems are the wrong tool for
the job they're the wrong tool for you
to get your application and move it to
the cloud if I was a carpenter I'm not
but if I were and if all I had was a
hammer and I had to do the job of a
screwdriver I would spend crazy amounts
of time as well but when you need when
you need to do that in carpentry you
just use a screwdriver now our industry
is fancier but really is no difference
and let me show you the reason you spend
so much time with your general purpose
operating systems this is the reason
this is a diagram that it was taken from
Brendan Greg's blog for those of you who
know Brendan he is today I mean he
worked for a son a creator of the DTrace
probes and his now senior performance
architect at Netflix spends his days
figuring out what's wrong with their
systems there is always something wrong
right it's technology it's not magic so
but you need to figure out what it is
you need
to interact with your operating system
and this is Brendan's cheat set on
monitoring tools for Linux well I'm not
a Java developer I'm an operating system
developers and I spent the past decade
developing core parts of the Linux
kernel I don't know all of those tools I
seriously don't it's not a lie oh I know
a whole bunch of them but not all of
them so kudos for to Brandon because
Brandon actually knows a lot about this
and I'm not saying that you guys don't
know those tools or that you can't know
those tools but is it really the best
use of your time is it really the best
use of your scarce resource of time it
isn't always we can do better because it
is a library operating system a library
operating system is just like your
average general purpose operating system
with one main difference it will only
run a single application at a time and
in our case the Java Virtual Machine
because of that we don't need a lot of
the facilities we don't need a lot of
the infrastructure that a general
purpose operating system needs to run
architectural II used to need an
operating system to deploy our code
that's the way things works
that's the hardware software interface
you can't be left without it but a
library operating system merges together
with your application the JVM in our
case as if you were a library as the
name implies actually it is a library
right and by doing this by writing this
operating system from scratch with this
in mind that we're only going to be
running a single application that allows
us to remove the OS drama for you like
remove it completely move the JVM to
where it belongs to the center of the
scene as the main character
not as something there is just there in
the middle of all of this maze of things
Linux offers you OSB is faster than
general purpose operating systems and
I'll be clear it is faster than Linux
Don is going to show you how much in the
end of the presentation we have
benchmarks he will show you but that is
not what I'm here to talk to you about
today
faster is good because faster allows you
to run the same thing with less harbor
less resources however every
organization has two types of resources
two types of capital stock harbor and
people the human capital you guys and
this is way more available this is way
more expensive actually than Harbor
so faster is good but what we're going
to focus at today is how osv fulfills
the promise I just made and saves you
time by taking the OS out of it we are
faster because we run the OS and the
application in the same address space
it's all integrated
I'll talk about that as well but the key
here is that OS V does not have a single
local compatibility a configuration file
except in some cases that the
application expects the file to exist to
run like so if I was there we don't want
it to change our application we don't
want you to rewrite anything well you
don't really write code for Linux right
the right code for the java virtual
machine and that's why we actually have
the java virtual machine integrated in
there so this is a compatibility layer
that allows you to leave your
application unchanged
we have no local users again maybe our
application once a user in here's the OS
v user it's the only user in the system
right
nothing too tuned nothing to configure
nothing to adjust we have no package
manager' no dependency tracking you
already do that with maven with whatever
2 you have you don't do that for the
operating system the operating system is
there running the JVM and that's all and
that runs in every single major
virtualization environment
so here's the trick here's the
restriction we only run OS v on
virtualized environments that is part of
what allows us to rewrite the full
operating system you don't really want
to we don't we don't really have to
worry about drivers we just have this
small set of drivers and we run
everywhere we run on Amazon ec2 which is
Zen based for those of you who know the
underlying technology which means in if
in your private Zen deployment it runs
as well we run on Google compute engine
which is KVM base we run on VirtualBox
for your private testing and we want we
run on vmware in your private cloud
whatever it is if you needed we're there
we run on every single major hypervisor
all of those applications that we have
been testing we have been testing and
evaluating Cassandra jetty Tomcat and a
couple of other non Java applications as
well it's technically possible it's just
not our focus right and you have you
have here all of those applications all
of those hypervisors those clouds public
and private cloud and in the middle you
have Java with this extra library now
because osv integrates so nicely and so
smoothly with your java virtual machine
we don't actually like thinking of the
combination of OS v and java as always v
+ java that's not what it is for us Java
and OS v together are just Java but it's
a faster small it's not smaller but it's
smaller than it would be we
the full Linux stack smarter Java
Virtual Machine the just boots on top of
all of those hypervisors on top of all
of those clouds and takes the operating
system away and if any of you has ever
wished I would just run Java with down
the operating system always vyas for you
OS V is your wish coming true if you
ever had it now I have a wish now and we
are approaching GA those are the
applications as I told you that we have
been evaluating but if there is anything
that you're interested in running an OS
V that you're interested in making sure
that it's good that it's moved that it
does what you need please tweet about it
we want to hear we want to hear from you
we're monitoring hashtag OS V plus
whatever application you want to run or
you would be interested in run we'll be
there we're going to take a look and we
want to make sure that your your use
case is covered a little bit of the
technical details of OS v we have a very
transparent integration with the JVM and
I have a slide specifically about that
that will give you one example of such
integration again we can do it because
we run in the same address space there
is no user mode kernel mode you have the
hypervisor outside and inside the
hypervisor there is only the JVM I don't
need to protect you from anybody
whatever extra protection you need the
JVM already provides so that allows us
to integrate very nicely with the JVM we
have sub-second boot times a phone again
a full OS v virtual machine will go up
run a simple application of course and
down again in less than one second now
it depends of course on your environment
now Amazon will take a couple of minutes
to
to get your VM so we there is again I'm
talking you about technology not about
magic right but if you run KVM for for
instance that's where we're testing most
of it and you're not using a very loaded
bias or firmer OS v goes up and down
it's the whole VM the whole of it in
less than one second that makes it ideal
for your micro services if you have them
if you have something that needs to go
very fast go down again very fast OS V
is there for you we execute very
efficiently as I mentioned and our
management
that's what Don is gonna demonstrate to
you about its full rest all of it
not a single exception all of your
interactions over OS v matches your
environment and it's all all of it rest
that's how you talk to or see how that's
how you extract data from OS v and
that's how you tune things in OS v if
you need for example Donna's gonna show
you more about it but I need to trace I
need to change the host name or whatever
like you need to do it it's all rest
right so this is question
can you repeat that please yes here's
the thing all we think of it as a
library that allows you so you need an
operating system to boot on harder
that's an architectural constraint osv
is a library that allows you to put on
top of any hardware after you do this I
just give you the JVM I translate
hardware chip ozox right that's what I
do once you have the JVM whatever you
run on your JVM you run on always fear
there is no difference so if there is
any library there is any packages there
anything that you run in your
application now always be comes with a
full management that is exports a lot of
the operating system internals exports
all of you need but you just use it to
integrate with your workflow
we're not mandating anything whatever
runs on Java runs an OS view like
because again you don't code for the
operating system you code for the Java
Virtual Machine this is a nice feature
that is an just an example of what kind
of things always we can do by being
integrated in the same address space
operating system and the JVM so the JVM
because it runs in ring zero has
complete access to all the underlying
hardware and if you ever had to worry
what maximum heap size should I give to
Java you worry no longer because this is
the job of a machine that it's not the
job of a human being that is your time
being safe but always feed us through
this feature of memory ballooning it
allocates saw memory available in the VM
for Java and when we need to allocate
resources for the operating system we
get it from the Java heap you need
memory for cashing your files fine get
it from the Java heap no longer needed
the JVM needed it again give me back
it's so transparent you don't have to do
anything so if you do
specify a heap size be respected but if
you don't like osv is gonna do it for
you all integrated or transparent that
allows you to use your memory a lot more
efficiently yes of course the general
purpose operating system like Linux can
page out your stuff but you can't know
what's in those pages so you've got to
swap you and we know it because we are
inside of it so we smartly say yet this
this is a let's call the Java garbage
collector free up a little bit of space
it's a couple of megabytes that the
operating system needs so it's a small
collection anyway free up the space give
it to the operating system right it
doesn't involve any swapping it's memory
of children from the operating system
without swapping this Markway we open we
also integrate with chalukyan if any of
you ever use it it's not our technology
this is Apaches but we integrate that
too again this is optional but it's
already integrated and available in the
default osv image it just exposes all of
your JMX
over rest over Jason and that's one of
the examples we're going to show you
today uses that as the underlying
mechanism again we aim for integration
with nice integration with the JVM and
forget about the operating system forget
about gain back those 13 hours that you
have been just throwing away by
configuring your operating systems and
with that I'll leave it you Don who's
going to show you more about the
management side of OS V and a demo
all right thanks Glover if you need okay
now I have a more powerful laser pointer
so when you're building a virtual
machine for deploying your application
that can sometimes take quite a while
right you're taking a
a complete operating system you're
installing a bunch of packages you're
installing a bunch of dependencies then
finally you're installing your
application on top of that the approach
that we take with OS V is a little bit
different what we do is we can take that
VM build process and tie it straight in
to the build that you're already running
for your application so if you're
running ant or maven to build a java
application you can just add another
target to build a complete VM for that
and then those VMs you can create one
for VirtualBox if you want it on your
laptop you can create a VM for VMware
you can create one for Xen for Amazon
Cloud so we're really tying the VM build
into the application build so let's take
a look at that let's see how that works
all right I'm going to see the build
that XML file for a simple Java project
here as you can see we have a target
called jar where we're just building a
jar that was the last step in this
building ml but now we're just adding
another target and this is a target
called VM it depends on the jar and what
it's doing is taking that application
jar and building a VM image around it we
have a tool that we're invoking from ant
here called capstan it's driven by a
single file so we're just writing out
our capstan file from ant we are saying
which files go into it we're putting our
jar in we are specifying a base image in
this case we're specifying
a base image that has osv and OpenJDK 7
in it we can also pick one that has open
JDK 8 or whichever JDK package you
happen to like finally we're specifying
command line and this is the one thing
that is going to run when that VM starts
and we're taking Java we're starting a
jar and that's the jar that we've that
we've built in this ant build XML after
we write out the config file for capstan
we invoke capstan we say build and we
give it the option to build it for the
hypervisor we want to run it for and
it's creating our VM file so this is
actually just twelve lines of ant code
and that takes you from a simple
application build all the way up to a VM
built so let's see how this runs how
long this takes all right I am in my
project directory here I'll just issue
an ant clean everything clean nothing up
my sleeves here so I'm gonna say ant VM
and keep track of how long this takes
building our jar and now we're wrapping
it up into a VM and there we go 9
seconds and there it is that is our VM
so
you can see that these VMs come out
pretty small if you're used to looking
at VM images for other operating systems
a 90 megabyte not complete VM is on the
small side okay so now this is my
virtual machine manager so I'm just
going to tick that VM image that we just
built and I'm going to start it in the
hypervisor say forward we're going to
accept the generics and give it a small
amount of memory really creative name
their VM one all right and it's booting
our virtual BIOS is starting up and
there's our application running so real
simple and we can go back into ant and
add these to run the EM builds for
whichever hypervisor we want to we want
to build them for any questions on this
part oh yes
that is done by dhcp by default although
you can pass configuration in - Oh s V
to specify the IP address at at boot
time if you like so oh this is very very
different from doctor the problem that
we're solving in a lot of ways is fairly
similar but the end point of building
something with OS v is a VM image that
you can then take and run anywhere
VMware VirtualBox KVM google amazon
wherever once you've built a container
with docker then that's a a Linux level
container that you would then need to
have a Linux and doctor environment to
go run that with so once you've built a
container you've solved part of the
problem but now you have a problem of
what's my container running environment
that I'm going to use for this on OS v
you take a VM image that's built for any
hypervisor run anywhere you're already
good to go yes
how many network interfaces can we have
on the VM it's is it working
yeah yeah so it's effectively unlimited
because this is something that belongs
to the hard work not to the operating
system right so yeah if you remember
what Don did there he created a virtual
machine with and when you create this
virtual machine you specify what kind of
hard work this virtual machine has he
just clicked the folk because this is a
demo but whatever it's there in terms of
hardware we're gonna pick it up in music
oh yes oh yeah so again your application
is coded for the java virtual machine
and the java virtual machines expects
the operating system to provide those
abstractions we provide those but we
provide those in a very simple and
streamlined way that's the only
difference
yeah so if your if your hypervisor gives
you multiple virtual network devices
than us we can just go ahead and use
them all right great question in the
back at this moment at this moment osv
is focusing on server applications so we
running Red Alert headless and focusing
on the kind of applications that are
server server class and don't require it
we do have a VGA driver so if you if you
want to run it but we don't we won't
provide you with an X server for example
so if it's theoretically and
architectural e possible it's just
something that it's not our target at
the moment right yeah and the the VGA
driver is basically there so that it'll
run on VirtualBox without complaining
yes questioning the MIL network mouse
you mean network file systems
so again we go into GA in a couple of
months so there is only a question of
what we target we're hearing a lot of
interest in people using NFS but we're
thinking about implementing this but
right now the kind of applications again
we're targeting and is something that
talks to an external database like
Cassandra
and then your data is just going
somewhere we do have a local file system
because applications need it but at this
moment the kind of use that we envision
for OS V is like stateless machines that
talk to remote storage like Cassandra
like my sequel for example we do have
all of those applications running on OS
v but your your your code it's probably
connecting to some of them as well and
that is what we target at the moment
yeah that goes that goes to the local
file system and that's the reason we
have a local file system and if you have
any kind of service that streams lime
string limes those logs somewhere else
then find that that is possible to be
run as well but by the fold you're
probably going to be writing loco logs
and that's that's what we have the file
system for but if your application has
logging over the network then those will
go over the network we run the ZFS file
system by the way I mean in case you're
interested in details so it's just yeah
yes question in the back no no we
currently don't have the driver of the
device drivers for it we don't plan to
do it but it's also possible it's just a
matter of writing the drivers and
dealing with the problems that will
certainly arise from the various
firmware implementations virtual
machines are nice because they provide
you with an abstraction that is always
the same ring yeah yeah sure and and osv
is open source so if you are interested
in implementing something like a device
driver for for some physical hardware
then please get on the mailing list and
it sounds like a good project
all right so once we've got our VM bill
as Glauber pointed out on a classic
operating system you've got a lot of
management touch points a lot of places
where you can see what's going on with
the system on OS v we've simplified that
quite a bit
we actually have everything that you
might want to manage or troubleshoot or
have a look at is all exposed through a
rest interface so let's go ahead and
have a look at that all right this is
our main dashboard here we're at a
little bit of a lower resolution than
normal but you can see that it resizes
it's displaying an animated graph for
CPU usage I've got a little script
running to keep it busy it'll give you
the percentage CPU for all the
processors on the system you get a nice
graph for disk usage so all the basics
the bottom os-level basics are right
here in the management dashboard now you
do not have to build every osv VM that
you build with all this JavaScript and
all this this nicely styled interface on
it you can always build just the bare
rest server side and leave this off but
this is really handy for when you're
starting up a new VM or making some
changes and you just want to drill
through and see what's what's going on
so each of those items that shows up
here the hostname memory uptime every
every little item is a rest endpoint and
we have this sort of self-documenting
interface
are covering all of those this is a nice
project called swagger that we've
integrated and so if you want to get
your total memory available on the
machine you can just go into OS memory
total and it will document what's the
correct URL for you to hit it'll give
you the response body it'll tell you
exactly what you'd need to do in order
to write a script to work with any of
this information let me take a look at
one that's a little more complicated
this is OS threads OS threads gives you
back a JSON list and this includes the
status the name and the stats for every
thread on the system so instead of
having to work with a lot of different
management tools for different layers of
your project you can see everything in
one place should save some time all
right let's go back to the osv interface
here the main dashboard we'll have a
look at our threads tab
yeah
something up with my browser here
think your poor laptop is overloaded
with too many VMs like the other one
there is already ruined alright alright
alright so loco Susan yeah okay so I'll
go back to the another tab here
okay yeah that was just that's the
browser JavaScript objects leaking so
here we have the thread status for the
system we can see every thread that's
running and how much time they're taking
we can scroll down see the state of
every thread on the machine verdi Oh RNG
this is a fun one that's the random
number generator there's live HTTP
server that is not a web server
application on OS v that's just the HTTP
server component that's powering this
interface right here now under traces we
can see every trace point in the system
has the ability to search for it and
find it in this search area over here so
let's say let's say we wanted to trace
TCP output just put in TCP output and
there it is graphing it 55 that's 57 TCP
packets output for a second let's add in
another one let's say we want it to
compare our TCP input X and it's act
packets coming back and there we've got
another graph for input ACK as well so
you can really go back and see every
single trace point on the system
directly from the rest interface yes
yes yes I will actually point that out
right now this is Cassandra
now Cassandra is a good example of an
app for us to use
Cassandra uses JMX and all the JMX
endpoints are available through rest in
OS v so for example Cassandra completed
tasks this is all being updated in real
time and we can see it over the rest
interface here is database transactions
on Cassandra again it's a JMX item
that's being exposed through rest
moreover as Donn pointed out the
interface itself although very useful
it's more of an example right off it's
nice to have something that boots up and
you can use it and you can browse it but
the real power of all of this is is that
everything is rest so if you already
have your monitoring system you don't
have to use this interface you just
integrate all of those rest endpoints
with your monitoring if you don't have a
monitoring you want to use it that
that's why we have it right but we're
not trying to change the way you do your
operations all right any other questions
on this part yes
now you have one JVM on-on-one OSB well
the clustering I want to go back to you
Michael yeah I ride to the mic okay
there isn't there isn't really
clustering at the osv level but for
example an application like this
Cassandra where the whole point of the
application is its own clustering then
osv has the ability to pre-populate
those nodes with the information that
they need in order to join their
Cassandra cluster so we've got a
mechanism called excuse me we've got a
we've got a mechanism for populating
those VMs with their configuration info
at boot time so you can take the
identical the identical VM image and use
cloud in it to set the configuration for
joining its cluster where it's supposed
to be and joining the correct cluster
multicast have we done multicast yeah I
mean we support a full TCP stack right
then all of that is outside of this de
me again the good thing about the
library operating system is that it
feels like a library but it really
provides you with everything the
operating system has and so whatever
whatever you have like a full TCP stack
a full UDP stack like a memory
management all of that is provided right
so you yeah we try to implement as much
as the POSIX API as possible some of it
is not architectural II possible but
it's nothing that influences Java all
right so everything that Java needs from
the operating system is there oh yes
- you're taking all the genetic stuff
putting down his rest
what about just correct access
again that's directly
yeah yes yeah as I said I mean this is
not really the business of the operating
system so whatever you do those are all
examples we want to save your time not
make you spend more of it so whatever
you're already running is probably
except for possible bugs they're gonna
run an OS v as well so it's not the
domain of the operating system the ports
are there if you mean the things there
for the operating system we we expose it
through j'ni not jmx
so so you you load it against the
library but it's libo SVD our associate
ever use J and I or J a actually we do
both you have access to every every
function in the kernel and you can call
it from from from your application at
the moment there is only a handful of
them that would provide as native Java
interfaces but in the future it's a
fairly likely direction for us to take
okay
know so if they are if they are
something that job already provides
they're there yeah yeah it will be I
mean if you want to talk more about that
later because we do provide of course
something like memory Java the the java
virtual machine already provides some of
it like how many triads so those are
there if there is any anyone in
particular that you would be interested
in I mean we can talk more and again
we're more than happy to support your
use cases yeah yeah you can drill down
to existing mbeans but as far as
packaging up the existing OS video
interfaces as as mbeans we should talk
about that yes how it runs in the cloud
actually we're not set up on internet
right here for this demo but it runs
exactly the same in the cloud as it does
locally as a matter of fact OS v comes
with a little simulator script to
simulate starting up an image under
Amazon ec2 which was originally just for
our practice in making sure that we have
something that will deploy to ec2 but it
runs exactly the same way on Amazon as
it runs locally let's move on alright so
this this is the JVM tab and here we can
just see this is the total number of
garbage collection cycles that this JVM
has gone through since since we booted
here's heap memory usage this is a
Cassandra VM so it's periodically
garbage collecting as you might expect
and then as we briefly mentioned you can
actually drill down to every mbean
that's exposed by this by this JVM and
every M being on the system alright so
that's about it for the interface and
again everything that you can see in the
live updating cute little interface you
can also drill down and see from your
own scripts that you might write or any
management tool you want to hook up to
it
alright so performance this project has
been designed from the ground up with
the idea of let's simplify things let's
make our development and deployment
cycles go faster what about the actual
performance of the system
well Redis is a very common no sequel
workload and here we compared oh s V
against Ubuntu Linux and on some of the
common operations such as get from a
Redis key OS v comes out to be about 80
% faster there are few operations that
are more CPU intensive like set
membership and you can see those don't
really use the operating system service
as much so there's not as big of an
advantage but for a lot of these common
operations that involve a lot of i/o big
advantage to running OS v over generic
Linux Cassandra this one is a work in
progress it's more more complicated here
we're seeing on a sustained load and
after the the JIT settles down on a
sustained load it's about 25 percent
faster on OS v and this is one of the
workloads that we've had a lot of
interest in and we're doing a lot of
tuning around Cassandra so this is these
numbers are changing all the time so
improvement in process we also have a
3.9 x improvement on a specific OS v
tuned memcache d which is a project that
we just did as a demonstration to see
how fast you could make something like a
simple key value store go on on our
design of OS so as Glauber mentioned i'd
like to ask everyone who's got a
question later on or an application that
you're interested in running or even a
class of applications please go ahead
and post on twitter with hashtag OS V
and mentioned the application that you'd
like to run or the type of application
you'd like to run and we will get back
with you on on Twitter very shortly we
we will be following this hashtag and
posting things as as we come up with
them in a lot of cases there might
already be somebody who has done OS v
support for that application like my
sequel or tomcat and we can go ahead and
post the link for you to the existing
example of that application running on
OS v and thank you all very much for
coming
os V is open source so please visit our
website and try it out there are
instructions and and downloads there if
you would like to try it on Amazon Web
Services it will run on the public cloud
so just click the try it on the cloud
button and we have a Twitter account for
miscellaneous updates so please follow
cloudiest systems on twitter thanks
again for coming in final questions yes
that's it's still early stages
well we'll post will post on Twitter so
follow us on Twitter and as we may be
running out of time I mean if we do run
out of time we'll be around and don't
shy away just come questions we do run
SSL but again this being a demo we just
just that right but it's it's all
whatever again whatever you do over rest
you do / OS V we do support SSL we do
support all of those libraries so the
idea is that those of course those rest
api is there not going to be just open
right we imagine that whoever is the
point is we secure it somehow and we're
just going to give you the tooling to do
that yes oh it's Jack and I think so I
don't see why we don't see why it
wouldn't work yeah thank you huh thank
you yes
that that is a really interesting
question and so this is certainly one of
the design criteria that we looked at
and coming up with OS V and if you look
at the total number of lines of code and
total attack surface for a library OS
compared to a full-featured
OS it's an order of magnitude less in
lines of code and if we were at a c++
conference which were not but come see
us at a c++ conference then we could
talk about things like how we're using
some of the standard constructs within
c++ to do some of the twiki OS kernel
level stuff in fewer lines of code in a
way that's easier to understand and more
explainable and reviewable than some of
the hand bit tweaking that has
traditionally been done in the in the
OSS I may extend on that on to your
question about docker when you run
docker and this comes from the point of
view of a person like me who I actually
implemented a lot of the container
technology Linux a site aside from the
big attack surface that a general
purpose operating system has when you
run dock you're running a container
which is it doesn't really isolate you
that well did there is not the ID use
case for a container like containers
allows you to spend a lot of a lot of
things in parallel but the isolation
between them because they're using the
same kernel is less than perfect and if
you need this kind of isolation it
definitely should not be using container
it's for a different use case osv gives
you a full vm so you have the hypervisor
level of protection one virtual machine
fully isolated from the other by VMware
Xen KVM whatever provides you so we have
the hypervisor doing the strong
hypervisor isolation that you need for
multi-tenancy for example and we inside
the hypervisor a very slim low attack
surface operating system or a library as
I like to point out you know some people
say unit kernel yeah so they're
interchangeable terms like unique
kernels library operating systems and
like I like library operating systems a
lot because I don't know what a unique
kernel is it's like I I mean I know but
it's not an obvious from the name in the
library operating system tells you
exactly what it is it is a library it is
something where your application is the
master and we just bow to you that's
what we like to do yes upfront well
there are things that we do that
integrates with the JVM right
so as the ballooning example I've shown
you again I'm talking about I'm an
engineer I'm talking about technology
not about magic so there are there are
bugs and there are things and there are
things that you might encounter but all
of the things that we try to do to
integrate with the JVM we try I can give
you details about the ballooning for
example later we try as much as possible
not to touch the JVM code base - so all
of the ballooning for example it happens
on the operating system level Terro j'ni
and if we need it we maybe would change
it but we didn't so we have a different
class loader that allow that make sure
that some things are the way we expect
but all the runtime environment is
completely unchanged is in our case for
the public image open JDK you pick it
seven or eight standard no modifications
all everything we do is on the outside
is a library yes a front
is going on in the if if the JVM dies on
you then the whole the whole OS b vm
also dies on you it's one process if you
can do it again if you can do it with
the JVM you can do it with OC so we do
have a file system for example how your
VM dies like so how does that happen is
actually something that you set on your
hypervisor like should I just crash the
VM or should I believe the VM alive
that's what we usually do so your VM is
there your VM is alive in your VM is
responsible right it's just it doesn't
shut it down less you specify on problem
on a shadow so the VM is there and the
VM is responsive if of course if you
dump anything to disk the disk is there
that's why it's there
so you can log in later on a new session
log in without the JVM even on a just
pure kernel OS v plus rest and get
whatever information you get from it
yep pretty much it's just that because
it's a library it's not very useful for
for for you to have you don't have all
their applications running so your VM is
effectively that but it's not
technically that so you can still do you
have let the guy in red because you with
your hands raised in a long time it
would it would be technically possible
to actually use darker itself because
we're not actually competing with docker
right it's it's a different thing I mean
if you there are enough oh yes
yes so this is not something that we are
doing ourselves because we're focusing
on a different level but it's definitely
something we envision being done right a
lot of people ask us about dog hair all
sorts of questions and if you look at
what we have been saying it's really
just not the same thing I mean docker
does one thing and it does it really
well and always be the some other thing
even though there is some overlap in
some of the problems we solve so it's
technically possible to use darker
darker have those recipes we have this
tool called capstan that Don mention
that does some of the things that docker
does but again it's it's a small overlap
and once you have those docker file that
allows you to specify what to do as we
shown it in the end example you can just
say whereas as this last step on dock
your built this VM and and then you use
the rest of docker to integrate I mean
it's not something that we are looking
at but it's something that is completely
feasible and possible a lot of it
depends what level you choose to solve
the problem on if you have a VM
management capability if you've got one
of these VMware experts whose
checkpointing and moving and cloning VMs
all over the place then in that
environment you may be a lot more
comfortable having developers build VMs
and just hand the VMS over I do think we
have to close this down because it's
1:30 already have the problem in the
next speaking around is it all right
yeah so we'll be outside and happy to
talk to anybody
thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>