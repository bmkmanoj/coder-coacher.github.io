<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>“Use the Force, Luke” or Tips and Tricks for Using the Capabilities of JavaFX | Coder Coacher - Coaching Coders</title><meta content="“Use the Force, Luke” or Tips and Tricks for Using the Capabilities of JavaFX - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>“Use the Force, Luke” or Tips and Tricks for Using the Capabilities of JavaFX</b></h2><h5 class="post__date">2015-06-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WK9UhaL24po" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so yeah welcome to this session about
tips and tricks and drum effects in fact
my notebook crashed on Saturday so and I
had to reinstall everything so I had to
redo most of the slides this night
remembering what was on the original
version so yeah you will see the
difference
somewhere in between the slides from the
beginning and then it changed to a
little bit different style first of all
who am i i'm gonna convert working for a
new engineering in switzerland and on
twitter at at han solo underscore and i
want some blogging at harmonic - photo
doc I'm mostly doing
JavaFX custom controls that's my
favorite thing and because many people
ask me when they see my controls so how
do you do that stuff and I always have
to say yeah you know that's not easy to
explain in five minutes so I have to
show it to you and that was the idea of
this session so it's not hardcore JavaFX
coding and I'm not working for Oracle so
I have no ideas about the insights like
Jasmine Richard head so this is more I
will show you the way that I use to
create graphical intense controls or
stuff I will have controls as examples
just to let you know this is not a deep
dive into JavaFX internals right it's
just more an explanation and some tips
and tricks that are figured out during
my work okay that's the agenda and you
see everything's a little bit Star Wars
related so I hope you are familiar with
this verse because I love that stuff so
first of all I will tell you a little
bit of the story how I come to Java FX
came to Java FX and then as a little
young padawan starting on the bright
side moving to the dark side of drama FX
and then back to the bright side and
what dark and bright side means I will
explain in a minute because it started
two years ago at JavaOne and I was
completely into swing
and a love swing and then when I came
here the guys from a job FX team and
some others tried to convince me I
should try JavaFX and I thought I come
on your announce it so often I don't
like it and then I took a look at it and
I really start to laugh JavaFX it's
really so nice and now this story begins
when I started with JavaFX I started
unfortunately on the dark side and the
dark side means if you come from swing
who-who codes swing here yeah and who
tried to JavaFX already so be careful
because it's easily becoming it leads to
the dark side
and why is it like this the reason is in
JavaFX we know we don't have this
immediate mode rendering as everybody
know what immediate mode and retained
mode rendering but what it means so
immediate mode rendering means you as a
developer decide when to render the
graphics use something and swing its
call repaint or something like that
right you decide in the retained mode
rendering there's a library who decides
what to render and what not you have no
decision so you can just change
properties and then it will be rendered
so that's that's one difference and that
really makes a difference then we have
not the pure code approach that we had
in in swing and swing everything is code
right you draw something it's shapes and
gradients and whatever so in java
effects we have CSS which is some kind
of it's different who knows to CSS you
know I mean coding not not know what it
is so coding CSS I a few you have a
really big advantage because I had no
idea about CSS and it took me a while to
adopt that new strategy so and the next
thing is it's very easy to code JavaFX
the swing way and it works and that's
the problem and that leads to the dark
side so the example that I have for you
is this this was one of my first gauges
I bought it from my swing
SteelSeries to JavaFX it's in the JFX
trust project and it looks good right it
looks very colorful and nice effect and
all that stuff so let me show you how
this was made and we start with the I
will not show you a little video I
recorded that will show how this gauge
is composed and it will count the notes
you know a job of X we have notes for
everything in the scene graph and it
will show you how many notes I used to
do this so just take a look at it it
took some time to create this video but
it was very interesting very very
interesting because you see it's we up
to 50 still not finish so it will go up
to 120 and even that is not the end and
it's just it's so easy to do right you
just create all that stuff you add some
notes you draw it you do it this wing
way draw everything use shapes put it on
the scene graph no problem right so we
have we are here with who not 120 notes
in the scene graph for one control just
to give you an idea if you have an
Raspberry Pi for example this is nearly
the limit that you can handle very well
on the Raspberry Pi of number of notes
in the scene graph with animations and
that stuff so that means one of these
gauges done but that's not all
because I thought it is a good idea to
put some bar graph also in it and each
of these squares is a note oh man again
whoo
it ends up to 250 notes just for this
gauge and it works on a desktop no
problem but if you put this one on the
Raspberry Pi you don't see it moving
it's just there and that's it so that's
that's really tough and that's what I
mean with the dark side and I will show
you what it means in code so first of
all I should have listened to these guys
because these are really the Masters
you might know that the yesterday they
showed again this crazy stuff and they
told us keep an eye on the number of
notes in the scene graph they told us
this yet last year and that was there
was deep deep down in the dark side and
I heard that and I said okay now it's
time to go back to the bright side
become a Jedi effects master I'm not
there yet but I try to so the dark
approach just to give you an idea is
like that what I did was I took a group
which was a bad idea but at that point I
didn't know because the group doesn't
scale automatically in JavaFX you have
to know that if you would like to have a
resizable control don't put it in a
group take a region I took a group
someone told me take a group I took a
group so that's the first note group
first note then you put in some circle
for the background and this isn't only
for the the dark frame around it and
then another one for the gradient and
another one and another one so it really
you get an idea right it's five notes
six notes just to get this and then we
need a background seven notes so that
means seven notes just to get this frame
with a background and in code it will
look like this and that's something you
know if you code swing you create a
shape you add a linear gradient and this
will go on for all of these shapes keep
in mind that each shape is a note on the
scene graph right and that's the problem
if nobody tells you that you can just
code it and it works and it's fast but
if you move on with that strategy you
will see that the number of notes in the
scene graph will grow and increase up to
I don't know and so that was a bad idea
to do it like this so the bride approach
that's using CSS and that's all you need
to get the frame it's just one note with
some CSS and it looks like this the only
difference
yes and this is this line on the other
approach it was it was a shape and he is
just it's a gradient I cheated a little
bit but it looks very similar to the
other approach and the background is
another note so that means two notes
instead of seven you might ask yourself
okay why is this guy so keen on keeping
the notes and low because Oracle says we
can put up to two hundred thousand notes
in the scene graph you can do that if
you use lines no problem give each line
a drop shadow you will go down to thirty
thousand well this is if you use effects
then especially shadows it's really
intense even if it's
hardware-accelerated and you have to
know that yeah but because it's so easy
to apply you just do it all over the
place ah looks great looks great look at
these are another effect but if you
combine all that stuff then it gets
really heavy so okay we have this one in
code that's all you do you create two
regions and add some style and that's it
and the real drawing of the linear
gradient and all that stuff that happens
here in the CSS file this is in
principle the same that we saw before in
code but the really big advantage of
doing it it in CSS is this year it's
percentage right who created scalable
stuff in Swing nobody oh man no problem
but if you do it in Swing then you have
to recalculate all the this coordinates
for the for the gradients and all that
stuff all the time you resize with CSS
you don't need it because we have
percentage there doesn't matter how big
it is it's always from 85 15 to 15 85
and this is a huge advantage because if
you code the resizing routine for
yourself that means that it's really
small you just have to give the region
the size and that's all you have to do
right so this is the big advantage of
using CSS and you have to it takes some
time to adapt that and that's just the
beginning right and this is the one for
the background I just use an image
and I said stretch it Center it and
stretch it so I can also resize the
image but of course we have them
pixelation if it gets too big right so
let's learn you CSS wherever you can
it's not only related to controls if you
style something try to do it in CSS it's
really the best way to do it and that's
my experience over the last two years
don't start with coding all that stuff
it sometimes there's no other way to do
it but if you can avoid it then try to
use CSS and it gives you the big
advantage that you can style your
application after that just by
exchanging or loading another CSS file
that's really a big advantage the next
part is now related to the how do I
create stuff how's the way I do it and
this is a picture of my office or my
desk I have this signal towel on here
and I use it for some embedded stuff and
I was asking myself can I do that
in JavaFX of course I can just but how
to do that that's the question right so
because it's that's the way how I create
controls or anything I do and just take
a look around see something interesting
make an image and then convert it into
code so and that's the way we will do we
try to get an image of the original
thing then you have to learn using a
drawing program and that that's the
hardest part for developers I know who
who knows how to work with Inkscape for
example or illustrator yeah just a few
right so to give you an idea I'm not a
developer I'm also not an designer I
learned physics so I'm an engineer and I
like good design and it's not that hard
I'm not a designer I'm not an artist so
it's really just you have to to learn
how to copy real things and that's
really easy to do so learn to how to use
a drawing program then you have to try
to create a vector version of that stuff
and I will show you how to do that and
then we have to pick the colors for the
gradients how can you do that right I
will show to you and then how to
transfer that stuff into code so first
of all I found this image it just
two lights instead of three but it's
okay it's from the venner who created
that stuff and let's start with that and
when I talk from the bottom body then I
mean this is metal stuff and these are
the glasses he would see on the later on
the slides what I mean so first of all
you need a vector drawing program and
this other yeah okay fireworks is not so
famous but I use it a lot and it's not
that expensive illustrator is the stuff
that all the designers know and Inkscape
is a cheap version and thank God that we
have SVG in JavaFX Inkscape you can get
for free and that supports SVG so for
developers
Inkscape is a good choice so you can
download it and play around with it and
it's not that hard so let's try to
create a vector version of that stuff I
what I do is I put the image in a
drawing program right and then I go to
the top here and try to to create this
rectangle so I just draw a rectangle and
then I adopt this this path to the
origin of one is it just a short version
of it it takes longer if you do it
really by yourself but it's not that
hard to do that can anybody can do that
and you do this for all the shapes the
basic shapes and then you end up with
something like that you have these
shapes of the body and I created three
versions because I would like to have
three lights and then you have to merge
all that stuff together there's a
command in the drawing programs you just
say join all these shapes into one and
you end up with something like that fill
it with a gradient done so that's very
easy and that's really easy that's not
hard you can do that trust me
and then this is the Inkscape version
this one is in fireworks so you see it
doesn't matter which program you use
important is that it is a vector program
because you need all these points later
on so we have this one now the body now
we have to fill this with the color and
this is just a gradient but you will see
it's a really special gradient so this
is the the body and now I have another
technique and
it's very useful you put you put it in
your drawing program right and then you
have the original image where you grab
it from you put this one in the
background and then the image on top of
it and then you select the background
again you will see that here right so I
selected the shape on top of the image
and what I now do is zoom in and now I
just pick the colors of the original
image for the gradient of the underlying
shape and then it looks like this I
can't show the mouse pointer
unfortunately but you will see that the
gradient I just picked the colors right
and you see this looks close to the
original now and if you do that you end
up with this this is now the body just
filled with it with this gradient which
is very easy that's not a hard trick you
can do that with everything so that
means if you have no midi-chlorians
so the anujan no Jedi this might be the
result even better than the plain
version right if you're part of an it
might be this one if your java jedi FX
master then it's this and you see what I
mean with a very special gradient it's a
lot of colors you have to pick but then
it really looks like the original and
you were wondering it by yourself how
realistic this stuff comes out of it and
it's just picking colors that's all so
with the glasses it's the same right
it's just three rectangles and at the
palav on you start with this which is a
lot of colors and as a Jedi Master is
that stuff it tooks really long time to
pick all the colors at the right
position but you can really do
interesting things mm and if you move
back the body it looks like the original
one right and it's not that hard it took
me maybe 20 minutes to do that picking
the colors and position then that's the
hard part so the result is that was the
original image that is my clone version
okay but we are only in the drawing
program right so what is about code it's
nice to draw that now we have to convert
that stuff into code so the first thing
is converting the shape
and there is one strategy which is an
ended pick and code that's how I started
it's terrible you go to each point first
of all this is the absolute width and
height of the image you go to the first
point take the coordinates calculate the
factor for width and height and then you
created the Java code which means you
create a part and then you with x the
factor for each point you can imagine
that gets a lot of points and you end up
with this this is the code just for the
body
it's 169 lines of code and that's the
way I started it took me days to create
simple shapes and at that point I
thought oh that's that's not the right
way it's the right approach but I miss
something right so let's let's see if
there's another approach thank God we
have Java effects we have SVG and you
would see that makes things so much
easier so the pick and code approach it
works of course but it's very
complicated it takes forever and it gets
you frustrated so don't start with this
it's really just I would like to show
you how you can do it this one is so
much better we have the drawing in the
drawing program right the shape and all
of these tools and that's the reason why
I said use a vector program are able to
export SVG and you just export the SVG
file you open it it looks like that
that's the SVG file for the body the
interesting part is this that's the path
for the body each of the points and
these are just the command move to line
to cubic curve to and so on so this is
the same in SVG and also in FX FX G this
is the the one from Adobe then you copy
that stuff go to your CSS file and there
is something - ethics - shape paste it
done that's all you have to do shape is
now available in code you don't
have all these points in the code you
don't need it usually because resizing
is done by resides in the region and we
started with CSS right so that's very
easy and if you would like to do it in
code we have an element called SVG path
and it has the same option you can set
content and then just paste the code in
from the SVG file and you are good to go
right so much easier so don't do the
pick and code approach so this is
semi-automatic because you just could
you draw it once and you can focus on
creating a nice drawing and then just
take the SVG and put it into your code
and that's fast and it reduces the code
a lot and usually you don't need to to
get a handle on each of the points of
the part usually that's not needed
except you have something where you
would like to transform the path okay
then you need it then if you need a
different approach but if you just need
just need a path then you should use
this one much easier okay now that was
the path that's easy how to get the
colors you saw that gradients that have
been really huge how to do that well
again pick and code works it's for the
gradients is okay because it's not a
yeah okay for this gradient it could be
a lot of code but you can do it the same
way you go to the gradient click on the
color copy the color pull it in the CSS
file and that for each color that it's
okay it works but you saw the gradients
it could take some time
so I've wrote a tool to do that so I can
pick now this is a job of X application
I can pick on the original image just
create the gradient with this tool and
then just copy a CSS or s code whatever
I need and then I can just copy it to
the CSS directly that's one way to do it
unfortunately you don't have the tool
and it's not public right now because
it's not perfect so I will open source
it but not at the moment
so you need another approach which means
if you use fireworks for example and
that's really nice
it has CSS properties it has the CSS
code directly at the skin and that's the
way I use it usually I draw it just copy
the CSS from here in my CSS file duh but
it's that's very easy but most of you
don't have fireworks so there must be
another way you can also take it from
SVG if US export the SVG file also the
gradient will be in the file and it will
look like this and that means you have
to transform that into CSS so this is
SVG this is CSS so that means you just
have to know your text editor that's all
search and replace write some red X or
whatever and then you can create the CSS
out of this
SVG linear gradient that's no problem so
this is something you can easily do and
if you have it once then it should be
easy to adopt for each of that stuff and
then there's this thing called ethics G
and abet nobody knows maybe Michael you
know I fix tree but I think who knows
ethics G yeah of course you know so it's
then was an approach of Adobe when they
try to exchange stuff from illustrator
to I think it was flex and they created
that stuff to create controls that was
the idea and I stumbled upon that format
when I was creating clouds in vector
that means a lot of rings and all that
it tooks years so I found that format
and I saw its XML so let's see if I can
convert it and so in fireworks or an
illustrator you can just export fxg
format and that gives you something like
that for most of you that looks the same
as the SVG and it's very close to it
it's just a little bit different but you
see we have the same path stuff we have
here it's it's a this is a fill color
it's a solid color in this case but
there would be also the linear gradient
and all that things so I created the
convertor for that and I can just drag
the ethics g5 to that convertor and it
will show you a preview and then it
converts to Java FX control with all the
stuff you need with the build up with
the skin with the behavior
CSS file with everything it can also
because you can create custom controls
not only by creating controlled skin
behavior you can also extend a region so
this thing can also extend the region it
can create a canvas version
who knows canvas I don't mean html5
canvas I mean JavaFX canvas ok which is
who knows html5 canvas just a few for
those of you who'd code swing that's
very close to swing so this is really
you have a canvas you are in charge of
repainting and all that stuff and you
can just draw on this it's like the
paint component routine in in swing like
this and JavaFX can do that too so and
then it creates the auto drawing code if
you would like to have it in the dark
way of doing it you can also create the
drawing code from it and that's the
approach I use most of the times I mean
I draw it I use the tool and the
converters of them sauce it's on github
and then it you can just convert that
stuff directly but that means you need
fxg right that's the biggest problem so
my general advice would be use SVG
wherever you can
because Inkscape is free it's easy to
learn it takes maybe 2 days to get used
to it and then you can start drawing
things so okay the converting from it
from ethics gee it means it's that's
fully automatic I can draw the stuff
export converge done I have my control
very easy the problem is you need
fireworks or illustrator and I guess who
has illustrator on two three four yeah
that's what I expect it's it's really a
it's a very expensive to it but
fireworks is quite cheap it's two
hundred thirty bucks maybe which is okay
so that's the ethics G version what I
usually use and the result is now this
is a little video from this control you
see how to put the colors in and that's
it that's just a job effects control so
when people see that many of them say
okay but you know flat design is in
right
that's cool man it's cool morphic
something like that you know the old
Apple stuff with all the letters and
things it looks like a real thing
and it seems that today everyone don't
like real things right we need the
flared things it must be flat one color
that's great
I'm not a big fan of that to be honest
it works it in some situations it works
on mobile phones and on tablets but not
in every place just let me tell you a
story of a company in Germany they build
power plants and they have engineers
they control these power plants and they
have software to control become these
machines and all that stuff for them
it's a hard way crimen that the controls
look exactly like the real controls
because they know the real ones if you
come to them and say come on let's make
a flat you are it's great and then they
say okay go away all right so so there's
a market even for that stuff and if you
work with engineers or scientists they
would like to have the real thing not
something flat fancy stuff so be careful
if everybody's safe let your eye is the
new future it's just for something it's
not for everything that's that's my
opinion okay so this is the control
that's how I do things and that's that
control will be available all the stuff
that I show you is available on on
bitbucket there's a repo I will make it
public end of the week because I need it
for the other sessions too so you can
take a look at the code if you like also
the drawing is in there so you can play
around with it and try to figure out how
to do that so now some water but words
about shadows you know this is it sounds
so simple it's just a shadow but you can
do a lot of stuff with shadows right who
does shadows in swing just a few because
it's hot I also did it by myself and
yeah it works but it's not that
convenient to create all that stuff by
yourself in Java FX is just there you
can just add a drop shadow then in a
shallow pan ice but be careful don't use
too many shadows we have drop shadows
inner shadows we can chain these effects
I will explain what it means
we have lighting and I will show you
when to use shadows so again starting
with a drawing program and if you do
graphical programming and Java FX is a
lot of graphical programming it's a good
advice really get used to drawing
programs because if you draw that by
hand you understand how this works and
if you understand it once then it's so
easy to code it because you know what
you are doing if you come from the code
approach it's so hard sometimes you have
no idea what it means offset that
direction of that what what is it what
radius for the shadow okay what does it
mean the drawing programs support all
that parameters you can play around with
it and then you see ah that's this
effect and that's that effect so it's
really good to start from the drawing
approach and then go to the code even if
you don't like who likes to draw a few
at least so yeah I also didn't like it
but I don't know I really liked it it's
it's much fun especially vector programs
it's just drawing with numbers right
it's just coding with graphics in
principle it's not a big difference so
let's imagine we would like to do
something I could push button and we
just would like to use one note one
shape only using shadows so we start
with a plain circle we fill it with a
gradient and then we had some inner
shadow and the inner shadow comes from
the from the bottom so that looks like
it's flat on top and then it goes round
on the bottom right we add some other
shadow on top and suddenly it becomes
three-dimensional it looks like really a
bump and so now we add a drop shadow
okay so it looks like something you can
press and if you would like to press it
the only thing I do is I revert the
gradient and that's all I do alright so
and this is only one shape playing with
shadows and in code you can do that
exactly you can do that exactly in code
in Java effects and this is only
possible in Java FX you can't do that in
html5 canvas or something like that not
that easy it's possible with some tricks
but
in JavaFX this comes out of the box so
first of all where should I use that
stuff this is an image I found on the
internet it's a button for a wall
somewhere and at the first look it
doesn't look very special right it's
just yeah it's a button so what's the
special thing the special thing is that
it works because we have all the shadows
here you get the impression that's
rounded you see some lighting and some
shadow so how is it done
so we can create the same thing in
JavaFX first of all I create the frame
then the inner frame put the black in
the background so this is in principle
all we need and the rest is effects so
first of all we had a drop shadow that's
easy and then we had a gradient and I
picked the colors just from the original
image and then you see I just add an
inertia black shadow and suddenly it
becomes a little bit more realistic just
of this one shadow and I add another one
on top you see it here and now you see
it's very close to the original and this
talks me just five minutes to do that
it's really just these two shapes with
playing around with shadows and these
things you can really try in the in a
drawing program and you see the effects
that's why I'm so focused on use a
drawing program because you can play
with the effects before you start coding
and then if you know how to do it then
you start coding it's just good
preparation before you try an error try
an error
so here to just play with the drawing
program draw that stuff play with the
effects and if you have a good setting
then you can convert it right in this
case I added some noise to make it more
realistic and then again the press stage
is just invert the gradient that's all
and it looks pressed and I did this in
in JavaFX that's the way how to do it we
have two effects it's two times an inner
shadow one is a white shadow and the
other is a black one who knows how to
change effects in Java effects just a
few okay because that is not clear from
the beginning that you can do that I
create first of all the inner shadow
and to have some blurr type here you can
use a Goshen or whatever then you have
the color of the shadow in this case
it's a white with the little little
opacity and then this is the radius that
means it's the blur radius and this is
what I mean
these are the parameters in code and if
you have no idea what it means
you will just play around compile run ah
doesn't look good again try another
value compile run our cave getting
closer in the drawing program you just
play with the parameters and you see
directly the feedback and if you have a
good setting you just take the
parameters from the drawing program and
put it into into Java effects so it
right so that's the idea from using the
drawing program and if I create the
first one I say it's an offset of three
pixels from the upper left corner and
then I create the inner shadow in black
and this is the black color of course
and this one will go from the lower
right corner to the upper left and now
this is the trick I said to the inner
shadow black set input and use the white
shadow as an input to the black one and
then I apply this black shadow to the
shapes and that's really all you need to
create this button okay you need a
gradient to fill it but this is CSS this
is really the drawing coat that you need
to do this button that's really not a
lot not a lot right it's just these two
effects and you have to chain them into
one and then you think because you have
only the possibility to set set effect
once to a shape so if you would like to
use more effects you have to chain them
and you can do this forever with many
effects you can chain them together and
then this is the same version because
there's also lighting lighting is
something in Java effects it's also an
effect where you can place the light
somewhere on your scene and you can say
it should be a white light on a distant
light or a spot or whatever and then
Java effects will calculate the shadows
automatically it will give a very
similar effect to this change shadows
when you use lighting and in the in the
source code I have both versions in the
source code so then you can play around
with it it looks a little bit different
but it's in principle the same effect so
that
to create a light in this case it's a
distant light it means minus 135 degrees
that should come from the upper left
corner and then the elevation means is
the light on the background on the
foreground somewhere and then you can
create a new lighting with this light
and then you have these constants so
this is not that clear what it is this
you can't use with the drawing program
that's the reason why I use the shadow
approach because there I can play around
this one is you have to know what it
means
specular exponent what is it so that
means you have to read something all you
have to try alright but you can create
the same effect and then again we have
the regions and we apply this lighting
and that's it so in the result was this
is now the JavaFX version it's really
just the control you can resize and the
shapes are in CSS and then you can click
on it so it's just a button and that
that was really five to ten minutes to
create that stuff very easy if you know
what you do and if you come from the
drawing side then it's much easier if
you would like to create it from from
code then it's harder because you have
no idea what parameters you need for
these effects right so now I think we
are in the in the stuff I created last
night so it's I'm not sure somewhere in
between it I got lost so let me give you
some ideas about image patterns who
knows what image patterns are in swing
there was something similar can you see
what it is it's a carbon texture and
sometimes you would like to do some
fancy stuff this is not carbon it could
be anything but the idea is how can I
create that in JavaFX
not using an image sometimes it's it's
good to use images prepare them or
download them and use them but if you
need scaleability images is a bad idea
right so let me show you how I do it you
take the image and then you zoom in and
zoom in and zoom in and in and you end
up here and you see this is the
structure which will be repeated all
over the place and this is just a twelve
by fourteen pixel image that
contains eight boxes the gradients
that's it so that means we have four
boxes here and then another four boxes
inside and if we can trade this thing
with code then we don't need any image
and that's all we need this is the only
image we have to create in code how can
we do that so therefore we need a
writable image that's something which is
available in Java effects and the so
called pixel writer you can imagine what
it means you can set each individual
pixel and give it a color and we can use
the so called image pattern as a fill
pattern and if we do that this is the
code we don't go through all that code
but first of all I create a writable
image of that size that I need I get the
pixel brighter from that pattern from
this image and then I created the little
method that uses where I can just put in
the start and stop coordinates and then
the color and then it will calculate the
gradient because if you use a pixel
writer you just have X Y color there's
nothing like linear gradient or
something like that that means you have
to create it by yourself and this is the
routine which fills a rectangle with a
gradient it's not that big and if I use
that stuff and start it then I can use
the image pattern that create this this
little image and fill it by set filled
with this image pattern and then you end
up with this and and it could be any
pattern you like so this is image
patterns are really powerful if you like
to fill large areas with very complex
patterns you just need a very small
pattern and you just can repeat it and
it will fill it automatically so that
that's quite powerful and that was also
available in swing this strategy so but
not many people know that and they use
instead of a huge image and they clip it
to the shape it also works but then you
have this big image in this case you
just create a very small image and use
it all over the place it's it's much
better much more efficient to use this
approach if you if you need something
like
another idea would be using that
gradient for example I created also with
the pixel writer and I can apply it to
everything by using this image pattern
stuff but you can do a lot of things
with that with this pixel writer and
writable image it's very powerful so
next thing it's sprite animations who
knows what that is most of the times
it's games programmers they know it but
who knows any major gives yeah everybody
knows right ok so that means a sprite
animation what is that that means we
have one image and this image contains a
lot of different states of of an
animation right and what we do is we
move the viewport on on this image we
just move it through the image over time
if you do this fast enough you would see
what happens right so if you move
through all these states and then you
see this and it's just one image you use
no heart animations going on here this
is really just playing all the images
like like this in the informer time 7
this it's I don't know what it is in in
Germany it's donkey no I think it's some
cinema or something like that where you
have all the different states on paper
and you can roll it with your thumb and
then you see an animation that's the
same approach and that's that's very
cheap because it looks good and it's
just one small image that contains all
the different states and then you just
look through it and play it so ok nice
effect but where should I use it first
of all of course that's the same as an
animated gif this is useful for games of
course because it's cheap you can
display complex graphical animations
that you can't code because it's too
hard and you can use it for particle
effects for example and you don't need a
particle engine to do that so let me
give you some examples for example if
you have a touch display you can display
touch points for your of your finger
with this effect I just play this
circles or annex play
that's very easy I have a tool that
creates this stripe images and the
disappeared is a particle system where I
can create this explosion and you see
it's just on top of it so I can type
it's fully functional and it doesn't
really cost you a lot or this one is
another effect and this is really just
playing images and if you don't tell it
to people I think Wow JavaFX is so
powerful you can do all that stuff but
in reality it's just one image and you
just loop through the image so you can
do nice effects with that you just have
to know it and how it works and that's
very easy like I said you have this
image and you there's in the image view
in JavaFX you have a so-called viewport
and you can decide where it should be
the coordinates so you just move it with
the timer through this image and that's
all you have to do so very easy oh yeah
and then there's one one thing called
canvas I mentioned that already
and who knows the glass pane in swing
yeah this is you can use the canvas for
stuff like that and that was very
important to have something like that in
Java effects because Java fix you know
we have the scene graph we have all
these nodes just imagine you would like
to create a noise pattern that means you
have to ever just an image fill it with
pixels with random colors what does it
mean in the scene graph you create a
node for each pixel you can do that it
blows up the whole scene graph and it
gets very slow so they needed something
where you can just draw a node like an
image and you can draw whatever you like
on that image and that's exactly the
canvas node and the canvas node is the
same or very much the same as an html5
so if you search the web for html5
canvas you will find out that it has
nearly the same syntax you can copy code
from the web and let it run on your
machine it's no problem I tried that so
this is and it's not the same API that
you use in Java X for drawing that means
if you draw a circle in Java of X it's
not the same as you draw a circle in
canvas it has its different syntax you
just have to keep that in mind
so web programmers they know all that
stuff but if you
have no html5 experience it's a little
bit different in the beginning so and
this brings some kind of it immediate
mode rendering back because you are in
charge of when should i re-render this
stuff at what time but because this is a
note in the scene graph we are still
relying on the scene graph rendering
right there's still this library in the
background
taking care about the rendering you can
just say render it now and the next
parse it were rendered but you can't say
like in swing where you really can do
the timing you could say render exactly
at this point in this case it's just a
note and you can decide when to
re-render the note you can do stuff like
validation in a glass pane in swing
that's the same approach now a heat map
I created heat map of that or a particle
system or some some just simply reduce
the number of nodes in the scene graph
it's also possible so let me show you
something so if we have a form-based
application who knows validation who did
validation in swing by yourself it's
it's a pain sometimes because if you use
the the glass pane you have to take care
that it doesn't get too big because it's
memory and all that stuff so with the
java effects if you would like to show
something like this you can imagine that
if these are nodes in the scene graph if
you use a layout for that stuff if I
would overlay them with this little tiny
validation is how should I do that
additional nodes you can do that and
place them manually at the right
position but that means you create nodes
for that stuff you have to put them on
the on the scene graph so the idea that
I had was why not using the canvas it's
just one node put it on top of your
existing application and make it mouse
transparent that's the way how to do it
in Java effects that means you say to
the canvas node set Mouse transparent to
true that means no Mouse event will
catch will be catch by the by the canvas
everything goes through the canvas like
it's not there so we have the
application container layout container
on the left side and then
the canvas pane on the right side and I
just draw images on the right side the
only thing I need I need to know the
position where I should draw this stuff
but I can get that because I have the
event if someone I know where this stuff
is in the scene graph I can ask this
control it's where's your position in
the scene graph where is it in the scene
give me your coordinates and then I just
draw it on the canvas I just show the
image so that's very easy to do and that
works and it's also available I open
sought that version but I think in the
jayate Java X components they have also
something like that it looks very
similar another example would be a heat
map so who knows what a heat map is or
click map or something like that yeah I
created that in in Java FX with the same
approach I just collect the clicks and
just draw them on the canvas and the
canvas doesn't catch any Mouse events
events so that means again I have one
note on top which is transparent from
all events and then I just use it for
drawing something so you can use it for
everything you would like to draw you
can really do interesting things you can
also animate stuff on the canvas which
is flying around if you like to so it's
your decision but you can do that you
can do pixel based particles so I can
show you this in the demo which because
it's it's hard to see it's OneNote with
20000 particles flying around and the
mouse has some gravity so I will show
you the effect it's very fascinating you
can do stuff like that with the canvas
node sometimes you need to do something
like that it's just to give you an idea
of how to use or what to you and for
this stuff for example I use a particle
class I we won't go through all that
stuff but just to give you an idea
that's very easy it's just one class
that's all you need it's a particle and
then I just create a list of all these
particles and then move them on the on
the canvas that's all I do you know I
have an animation time on this thing on
top in Java FX we have 60 frames per
second most of the times guaranteed
hardware-accelerated
and we have this thing called animation
time off this is something similar to
the job
x-wing timer this is on the application
threat that means you don't have to take
care about threading and every end this
will be called with each pallets of
JavaFX
so you can do whatever you like in this
loop it will be called all the at each
rendering process this timer will be
called so that's the reason why I have
here a little pause in there because I
don't I don't need every every second or
every pulse and then I have a drawing
routine to check gravity and draw the
particle so if we use image based
particles what is it a little video
again it's something like that you have
a form-based application there is a
canvas on top and you would see what
happens if I press the button then it
happened this happens now
ah it begins to burn and the interface
is still fully operational because the
canvas is most transparent so I can type
in things whatever right you see and
it's still going on it's just it's lying
on top and it's moving particles and it
looks great but now if you pressed again
you see it slowly goes away it looks
awesome and it's just these two
particles that's all I need two images
it's in fact it's the same image just
different colors and it just mix them in
size and move them up that's all I do so
very simple but you can do this stuff
it's very powerful if you use the canvas
node so if you have graphical intense
stuff where you have to draw something
on top of something else then think
about the canvas it's really good to use
that yeah we won't go through that code
so if you're interested in the code you
can ask me I think I will also put it in
the slides so that will be available and
ok for that for the images it's the same
as with the pics of particles yeah right
you just move images around or you move
pixels around it doesn't matter so I
know let's don't go through this last
thing I would like to tell you is
reducing nodes canvas is perfect we have
for example this is one of my gauges a
new one
they said only 16 notes on the scene
graph the whole gauge and instead of
using notes for the title for the tick
marks for the tick letters intersections
that's a number of notes right which
means it's this stuff it's 30 notes and
you can reduce it by using the canvas by
just draw it in one note just draw it in
the canvas and then it's just 1 right
it's one note for the same stuff so you
can reduce the number of notes a lot by
using the canvas node and that makes
that usable even on small devices like
the Raspberry Pi and I think that's it
now and like Yoda said always pass on
what you have learned just try to keep
in mind that use drawing programs that's
really if you if you are a programmer
and you code Java effects and you would
like to do great stuff there's no way
around it you can ask the other guys
they do that stuff it's always you have
to use drawing programs to learn how
graphics work if you know that you're
good to go so may the force be with you
any questions
I think No so anyone any question no
yeah this conical thing oh yeah yeah
yeah
yeah the question was how how did I
implement this this stainless steel
background so what I did was I used the
writable image and then I calculate for
each pixel the colors so that it looks
like a stainless steel and then I use
one image this is one image pattern then
I use just instead of repeating all that
because it's a I've wrote it on a
varietal image and I have to use it as a
fill pattern because it's an image you
can use it as a fill pattern and I just
use one of these images to fill the
background that's the way I do it and
it's also open source so it's it's not
that hard it's drawing with mathematical
functions then because in the picture
writer you don't have any gradients or
that stuff you just have pixels and you
have to calculate yourself the colors
for each position in them but it's not
that hard you can do that well the
answer to a question yeah the whole
thing was one pattern yes because that's
the way I can use an image for image
pattern yeah right of the image yep
anything else yeah for this image yeah
you can do it so it depends if the if
you created a I recalculated because
this is so yeah it doesn't look good if
you scale it in this case sometimes you
can't create images that scale quite
well but this image you would directly
see it get pixelation and then it
doesn't look good so in this case I
would recalculate but it's okay because
you only recalculate once when you
resize and then it's the same so that's
that's okay so it's not an on every
rendering then if it it's recalculate at
once then it's an image yeah anything
yeah
right so that's like that's a good idea
so I'm Michael mentioned that in for
Inkscape there was a plugin for Java FX
103 and because at that time they also
use CSS so you might be able to use this
plug-in to export the drawings directly
and then you add Java FX 1.3 code plus
CSS so that might work - this is might
be easier to convert that stuff into
Java effects to the dog code now that's
that was a good advice yeah thanks yeah
yes for the embedded stuff that's really
the biggest impact is the number of
nodes on the scene graph and reduce the
number of effects that's most important
and if you use animations don't use them
a lot just a few and slow animations
don't use that fast animations on the
desktop you know this machine it has 384
cause the GPU and the Raspberry Pi is
one and the clock speed is totally
different so that means if it works here
that mean doesn't mean that it works on
your PI so on the PI you just have to
keep in mind if you come from the from
the 1980s and start computing in that
time it's the same you have to just
remember thinking bits and bytes and
keep the memory low and optimize where
you can so that's working with the PI
it's it's more like that yeah anything
else yes
yes yeah so what I do is the question
was how I do I create this this pride
maps so it's it's very easy if you're on
a Mac then there's oh it's not installed
because my computer crashed yeah
sir yeah sorry I would like to show that
there's a tool that it's not not
expensive thirty bucks something like
that and it has a particle system and it
has all these effects the explosion I
didn't create it was there and you can
just say export it as 32 images as
stripe done five minutes
ready I can send it to you act yeah it's
unfortunately I can't but it's good that
you remind me but that was the hard part
remembering all the programs yeah but
this is that's the way I did it yes so
and I don't draw the stuff by myself
there are there are tools that cannot do
better so yeah anything else if not I
will be around the whole week so if you
have any question don't hesitate just
bump in me and ask me whatever you like
so thanks for attending</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>