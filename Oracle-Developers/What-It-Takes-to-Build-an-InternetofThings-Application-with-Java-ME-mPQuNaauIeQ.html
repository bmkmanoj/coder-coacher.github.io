<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>What It Takes to Build an Internet-of-Things Application with Java ME | Coder Coacher - Coaching Coders</title><meta content="What It Takes to Build an Internet-of-Things Application with Java ME - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>What It Takes to Build an Internet-of-Things Application with Java ME</b></h2><h5 class="post__date">2015-06-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/mPQuNaauIeQ" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so my name is Artyom and today's talk
will be about this very hot topic of
making the Internet of Things building
it out of things what it takes to build
an Internet of Things application and
solution because there are so many
things involved there will be a demo to
this session
if Network gods cooperate with us is
Wi-Fi here is a bit flaky but we'll try
to make it happen so that would justify
the reason I brought this thing with me
all the way from New York so let me let
me start but Internet of Things machine
to machine so what are we talking about
people have different pictures and minds
there are lots of bullet points and
articles let us try to summarize that
with picture so there is a cloud of
course the devices are talking to let me
try if this works no it does it doesn't
oh yeah there is a cloud to it and it's
talking to different devices it can be
it can be a client consuming the
information so it can be your web
application your Android or Google glass
for the sake of it
it can be your database consuming date
and then streaming data into Oracle
reporting so there is a cloud there is a
whole bunch of protocols for the sake of
this demo and this presentation will
assume their restful and there are
different scenarios some scenarios
assume that the device is talking
directly to the cloud it can be
telematic device installed in a
refrigerator or container or a taxicab
or it can be a device behind the Gateway
and in fact actually we really don't
know what this is gonna be it can be
ZigBee it can be a rs-485 232
one wire extend z-wave anything so and
there is a gateway and you know this
whole gateway thing is a big land grab
cause everyone is trying to get into
your home as a gateway and then enable
Internet of Things at your home be it
either through smart meters or you fro
through set-top boxes or through smart
energy gateways or you name it so there
are a lot of a lot of things and this in
this this diagram and there is a lot of
orchestration that needs to be done
there is a lot of work to make all these
bits and pieces work together seamlessly
so you can actually trace from the
device to the cloud and to the client so
it poses some challenges so even if
we're talking about one solution say a
smart meter or a smart thermostat
talking to the cloud and then talking to
some database and system for demand
response talking to a pole transformer
which would for utility company trigger
the events of change in your air
conditioner cycles these are a lot of
platforms so we're talking about some
platform in the clouds we're talking
about the Gateway your thermostat is
sitting behind we're talking about your
thermostat we're talking about protocol
between the thermostat and the Gateway
lots of different things and eventually
there is an app for that
so some something needs to needs to
interface with all of that another thing
is since we're talking about different
platforms each part of this solution
needs to talk to another one presumably
the way it is traceable and the way
developers can actually make sense out
of it and have tools to troubleshoot
that also since we're talking about many
platforms there is an include increased
complexity if you press the button here
and your lights sitting behind the smart
gateway talking to the
clouds doesn't turn on there can be so
many reasons for that
not not happening it can be Network it
can be protocol mismatch it can be
server outage it can be it can be some
library not installed or some some
updates gods provisions on your gateway
but you know which is not in sync with
your cloud with your device or the
device firmware has changed you know
there are lots of lots of moving pieces
also if we if we go into more details
there is a there is a huge learning
curve to start and there is a huge
energy that is required to enter the
market of Internet of Things still you
know we're talking about some embedded
developments and the the thing is we
want to drive machine to machine and
Internet of Things towards the actual
use case the end use case we don't want
to spend hours days months and years
working on plumbing like how how these
things gonna talk to each other how
these things going going to to cooperate
and you know how how do we how to make
it scalable how do we bring additional
devices on boards and how do we
introduce additional use cases so we
really want to make internet of things
that just works so we want to spend time
developing apps and not developing
plumbing not developing tools that would
help to trace your packets from from
clouds to end device so we want to give
tooling to users to focus on actual
solution so when you have a new idea of
the next home automation device or the
next tracking device or the next smart
energy device or oil pump monitoring
device we really want to start working
on that problem rather than just trying
to okay how do we make this sensor works
with this board and how do you make this
board register itself in the cloud how
do we see it how do we trace it and like
you know how do we deploy all these
things eventually and again we want to
enable fast turnarounds
you know we really control the whole
environment and there are contracts
between each point in the environment so
things happen happen smoothly also there
is another thing there is hard when
there is software you know thanks to
Moore's law there embedded devices are
now converging and you know get in our
pockets and you know now walls as
sensors and you know in our you know in
top of our TVs from our heads or like
everywhere so now the computing power of
of silicon is capable of you know making
sense being variable or you know being
attachable to to your to your oil rig or
you know being attached to your power
line and measuring measuring your your
power consumption so what it means
eventually one has to bridge that gap
between software and hardware because a
lot for a lot of time when we are
talking about developing for hardware
most of us had in mind
okay assembly language oscilloscope C++
at best mostly see why because there
again because there of Moore's law you
know they're given the size the devices
were not capable of running virtual
machines and garbage collection and some
high-level languages and you know we
were left with this specialized tooling
which requires you know PhD not PhD but
you know a high degree to to make sense
although from all of that and there was
still that notion being carried over
from from the past and in other efforts
to make Internet of Things work is
actually to to bridge that gap and
enable those who program for devices to
make these devices part of the
service-oriented architecture I really
wanted to talk to my sensor not in terms
of I Square cos P I I want to talk it in
terms of restful interface now I wanted
to register itself in the cloud I want
to enumerate my sensors I want to update
the firmware by using the same methods
of versioning you know not flashing it
like what not so for the in order to
make this transition smooth there is
there needs to be in abstraction between
the world of cloud commute computing and
iPhone apps and web apps and embedded
and it's gonna eventually converge you
know we see more and more we realize
that we're using the same kind of
tooling on embedded device that we're
using for our java app development in
fact Oracle's Java ME 8 it's gonna be
it's gonna be almost in terms of tooling
the same as as real Java and and they're
talking about converging Java EE and
Java C so it's getting there which is
which is indeed good news so another
another thing is the learning curve
again it's really hard to wear multiple
hats and think of many problems at the
same time we really wants to these
problems at least some of them be
addressed and when developing smart
metering app when developing an app for
fully Tooting company I really don't
want to think of you know how messages
get transmitted there that should be in
place I want to I want to think in terms
of big demands I want to think in terms
of big data statistical analysis pricing
you know all these calculations that's
you know since we have this data we want
to make sense of it and all the
pipelines how this gatoring data gets
into the cloud and how we make sense of
it you know there should be commoditized
and again their community needs to be
pushed a little bit towards that and you
know community needs to educate
themselves and we need to educate
ourselves on how to how to develop for
Internet of Things so you know there
should be more forms Qualcomm is
building their internet of everything
boards and has a nice developer portal
where questions can be asked and
answered again the this whole disco
Internet of Things problem poses whole
set of new chain
challenges like how do I make my my
board work in this environment or how do
I make its connect it all the time and
tolerance to to network failures how do
I make it reconnect recover and all
these things so there should be
tutorials there should be seminars there
should be more of embedded worlds and
Oracle worlds with with more embedded
tracks and more hands-on demos so that's
going to drive the critical mass towards
towards their adoption of Internet of
Things so another another thing is
certainly integration is scalability so
if we're talking about Internet of
Things
after all it's still internet so we
should use the same more or less same
tailored approaches to the scalability
of Internet of Things as we're using in
our in our day to day high demand high
high load applications Internet
applications so we should be using the
same paradigms it should be you know
they should be running on platform as a
service they should be deployable into
the cloud they should be scaled on
demand and again once we have this
abstraction layer and we're able to
scale and deploy the web form they go
you're talking to your devices as if
they're restful services so now you can
have your web developer there's no idea
of you know what GPIO is and you know
what SPI and I Square C is you can have
your web developer talking to your
sensor or you to a sensor board you know
depending on how how small the board is
it can make sense out of what is
collecting or it can just send you the
raw data I mean there is still debate of
how much computing should be done on the
edge definitely quite a bit you know
another another another way to do that
is to saw is to stream data and process
it in the cloud so again in the end of
the day it should be same open restful
protocols for better integration I mean
when we want to integrate with some with
some service I don't know when a web
developer needs to integrate with
Twitter or it needs to integrate with
Facebook or something they just go
download the the tutorial you
steps off restful verbs and you know
parameters some some samples some use
cases there go in one hour you you you
know you're making sense out of your
Twitter feeds so the same thing should
be happening with with Internet of
Things there should be you should be
restful services with tutorials and how
to make sense of your of your sensor
data so possible solutions well one
obvious one is certainly using Java me
embedded and the reason being there
world of embedded devices is still very
fragmented and of course if we want to
support multiple devices in you know
this this this hydrogenous environment
we want to have them running more or
less same virtual machine and have our
codes deployable from machine to machine
if we end up changing the platform for
our Gateway boards or our embedded
boards we really don't want to rewrite
how lot of code so there should be some
abstraction from from the processor
architecture and the tool chain by means
of virtual machine another thing is you
know we we talked a lot about plumbing
and messaging and how to make this data
travel from device to device
there should be an application framework
what we are proposing and what we've
been working on for for quite a while is
the framework called device hive it's an
open-source framework which we published
in November 2012 and basically that's an
attempt an open source communal attempt
attempt to do what I just said that's an
open source attempt to have plumbing
pre-built for you not only that but also
it's it's it's a portal for things
related to how do you make things work
how to integrate that how you build some
samples so
it's not only not only libraries but of
course tutorials some forums education
materials some video tutorials to to
empower you to innovate so definitely
there are reference boards available to
to to use and try things out like
Qualcomm's board or like Raspberry Pi or
the starter kit from from St micro
different boards for you know for
different purposes if you really do want
to to do something in advance and and
really really industry great qualcomm
board would be great choice but in order
to make sense of data coming from that
from that board in order to to use the
data and and work with that board from
the through the cloud there needs to be
this this cloud layer this m2m IOT
framework which device hive is
attempting to address so a few words
about device hive and i'll in the end of
the demo i also show you some some code
and some snippets and samples and
hopefully will make this internet work
and we'll end up with a demo but you
know just just brief facts we released
it into public domain in 2012 right now
there are multiple choices for four
different components for that so the
cloud could be either java enterprise
which released just before java one also
actually i forgot to add to the slide
funny enough also the cloud can be
dotnet we we started it in dotnet but we
are now moving towards better scalable
enterprise Java for gateway devices it
can be again Java me embedded so it can
be a Linux C++ or Python again depending
on what your hardware is you can have
your agent running which knows how to
talk to the cloud which actually makes a
lot of sense otherwise you will end up
developing your sockets or you know your
own restful services and it sounds
simple but when when you actually start
doing that you run into a whole lot of
problems how to make your protocol
recover when you're working over over a
cellular network how to make your
protocol so it is not too chatty
because wireless operator one wouldn't
really like if you crash Paul your cloud
service from your device and also if you
try to use such things as WebSockets
they won't you they won't work just off
the shelf
you know just due to the fact the way
cellular networks work so there should
be a way to use the best way to transfer
data in in a push scenario then there
should be a way to fall back to another
scenario which is long polling and then
if long polling doesn't work okay
eventually will fall back to sockets and
in just request/response kind of
scenario but in order in order to build
that and test that that requires a lot
of effort not really not everyone really
wants to repeat you know I really I
really want to start building my
Internet of Things apps I really don't
want to spend time troubleshooting
packets over wireless network so in
gateways as I said pretty much the
entire stack which supports the contract
with the cloud so by by writing your
code and a gateway you'll be actually
working with methods and classes rather
than protocol verbs and like you know
building your own protocol on device
side it's you know at mal microchip
again Java me for for edge devices and
clients like how do you make sense of
all data coming from all these devices
so the clients are HTML iOS Android and
just generic cloud which means you know
you can you can create a service a kind
of like handler of data which is being
received by by by your cloud instance
and channel it to Oracle database
or into complex event processor or into
some no sequel database it's it's up to
you actually on the on the topic of no
sequel database and it's it's actually
quite beneficial to use no sequel
databases in this scenario when you're
dealing with various messages you really
don't know the structure of up front so
to you it's pretty much you know from to
and and some Datagram and you can you
can you can care like if you really want
to index that you can do some
post-processing but if you want to just
keep the bulk of messages without
without too much of a structure no
single database can be a good a good
choice and of course there are URLs to
that so back to back to our our diagram
we're gonna we we are now putting this
device - aim on to that cloud but pretty
much it stays the same it supports it
supports all various scenarios and it's
ready to experiment you can just create
a sandbox like I said it's it's free of
charge for commercial user and it's
distributed on there under MIT license
so we're just giving it away for people
to to play with it at innovate and
experiment restful protocol all the way
also very very interesting thing to
mention again this binary thing gateway
actually knows that there are there can
be devices connected to it and it leaves
it leaves the back door like an
interface to connect pretty much any
device it's just up to you to implement
the protocol so you know I'll be I'll be
going to today I'll be going through the
demo of for example clouds talking to
the Gateway which is Qualcomm's internet
of everything board and then gateway
talking to smart thermostat via ZigBee
Smart Energy so like you really don't
have to develop your gateway from
scratch to to support the biggest mark
energy have to just add a plugin
that makes sense out of ZigBee Smart
Energy protocol and supports it all the
way to the device that's about it
another another demo would be this
traffic light talking over DG's xB again
that's slightly different protocol but
that's not too much of a trouble you
just change your plug-in and that's
about it
your gateway receives your commands you
make sense out of your commands you talk
to you talk to the device even better in
the next in the next release for for
Java gateway we're supporting this
scenario for other gateways for for
Python and C++ but for Java ME gateway
there will be even even better scenario
it will there isn't symmetrical
symmetrical protocol that reflects rest
but in binary so it's less chatty and
takes less space too less bandwidth to
be transferred over over other channels
but what what actually gonna happen
the device can register itself in the
cloud through gateway how cool is that
so pretty much you're connected to to
your gateway through rs-232 and then you
said your register message to the
gateway which gets propagated all the
way to the clouds and the cloud knows
that this device is there and the device
is now able to receive messages which
you can send from your smartphone client
so it would go to the cloud dispatch to
the particular gateway that is taking
care of that device and then get pushed
to that to that device through you know
it can be rs-232 it can be some UART so
like I said like any like they're
actually you know another thing worth
mentioning they're actually oh so many
Internet of Things frameworks everyone
wants to have their own which is okay
because again it's kind of a land grab
situation there are many driving forces
of this on this market everyone wants to
come up with the richer solution of
course there are telcos telcos gave
cellphones absolutely you know their
service cellphone subscription to pretty
much most of human beings so what they
do now they give their their service
subscription to devices and you know to
drive that again they need a easier
better ways for us developers to develop
applications for Internet of Things so
pretty much every every cell phone
operator cell cell provider has their
own IOT framework though she has
Vodafone has 18 TS pretty much everyone
has but in order to do that as a
developer you have to work with a
partner network of that telco which
sometimes might take quite some time to
to get through and I guess in again it's
close source in other another player in
this market is of course chip
manufacturers chip manufacturers want
their chips to be in Internet of Things
so again to make this chip better in to
better integrate with the cloud they
they develop their own Internet of
Things or they partner with Internet of
Things platform providers the third
driving driving force is system
integrators so system integrators they
they also need some glue to connect all
these different moving pieces together
so things work nicely our company
actually said very little about it our
company data art we do custom software
development it's our bread and butter
we've been doing that for over 10 years
now the reason we want to give you this
tool first of all we want you to
experiment and you know try things out
and in order like of course you would
ask you know what's the reason for us to
do that how do we make money well we
don't make money on on this particular
thing it's you know we do that because
we believe Internet of Things is going
to be huge and do good and good will
come back we expect good goods to come
back in form of custom software
development because not only there is a
lack of standards and lack of
integration services in this Internet of
Things market but there actually lack of
out-of-the-box apps for that how do you
how do you build an app that works for
like different flavor of scenarios in
the same class like how do you build an
Internet of Things app that monitors I
don't know fuel pumps for example for
like every every oil company like
deployable two shells and bps and I
don't know Phillips 66 of this world
everyone will try to start building
their own at some point then at some
point they decide to productize it most
likely and then after they productize it
will start marketing its and you know
they'll start selling it to other
players in the industry then that's how
the next wave the next the next
iteration of this whole Internet of
Things story is gonna is going to begin
when there will be apps right now it's a
greenfield they're very little apps and
you know people still trying to make
sense like what this old Internet of
Things about so you know there is a huge
potential to to actually companies like
ours and for developers and freelancers
and you know development shops all over
the world to start to start to start
experimenting with the industry and
start building things for Internet of
Things so but backs it back to the
subject it's multi platform it's multi
topology again we really don't care
where the device is connected directly
and has IP address or it's some you know
proprietary protocols sitting behind
some proprietary gateway which have no
idea you know what the addressing is
look like as long as they're with
certain contracts observed by every
participant of this Internet of Things
chain we're good and also yeah it's easy
to deploy it easy is it is easy to
modify you know you're you're making
changes to your software you're not
making too many changes to to to actual
protocol so now it's the moment of truth
for me to see whether our gateway is
working in fact it's not but we will
reboot it and hope it will it will work
again
in the meantime actually if you have any
questions I'd be happy to answer them
if you have any comments if you have any
any suggestions just speak up while
while I'm rebooting the Gateway and and
I will be happy to answer yeah a profile
for the for the device not yet
I mean we what we've built we've built
the plumbing so now we want to engage
the community and we won't engage
ourselves on some real use cases to
start building profiles yeah of course
that will be the next iteration for sure
and as as the industry drives itself
towards building more apps and
eventually eventually productizing
the apps it's you know it definitely
will happen and actually that seems as
the next logical step towards that so
once we get this all plumbing in place
we actually will be building will be
building some some some real-world some
real-world apps I'm sorry some some
real-world wrappers that make sense
out of out of specific devices we'll be
talking about well unfortunately the
port can see the internet I'm very sorry
but I will I will talk I will
I will keep talking and we'll keep
pinging and you know that's that's
unfortunately because you know I had to
carry this thing and you know it's fun
but you know I will I will talk through
that and you know maybe maybe later
later in the session it will it will get
get back to normal so what we're talking
about here on on on this on on for for
this for this demo actually will turn
Elmo on so we have this nice thermostat
talking to I will actually show you we
have we have the thermostat torquey
talking to to this modem connected
connected to Qualcomm's board so the
board is running is running Jeremy and
edit and this modem encapsulate all the
complexity of ZigBee Smart Energy zippy
Smart Energy is a you know it's a tricky
protocol again you know you really don't
want to implement the entire stack you
would rather take something off the
shelf so you know this off-the-shelf
device provides just some serial
interface to query to query
devices like thermostats so they're the
real life scenario will be we're talking
about here is there is a utility company
in New York you know there's actually
you know it's it's huge and they are
running a pilot deployment of demand
response program what in fact happens
they install a sensor to the pole
transformer that's you know sits in the
neighborhood in New York we have this
huge problem I guess you know it's quite
Universal in this country but you know
in summer we get heat waves and to
utility company it actually more costly
to repair the grid after being
overloaded during the heat wave the
and you know you lose some money coming
from customers pumping their ACS so they
incentivize their customers to run the
ACS load during peak demands and they
give them some credits and bonus points
so in order to do this you know you
really can call every customer asking
them to to turn their their ACS down you
know the Installer
they install a smart smart sensor into
you know onto the pole of their on the
you know into the transformer on the
pole which talks to the cloud reporting
it's there the Transformers load once
their load exceeds certain threshold it
generates the demand response event
which gets propagated into our cloud and
then it gets dispatched to all the
households that are affected and each
household will have this smart
thermostat on and we'll have the gateway
so from from their sensor it will go up
to their utilities web service then it
will generate the events in the cloud
then it will go to the Gateway then it
will go to the ZigBee modem and then it
will go to - - - smart thermostat pretty
much just asking asking the thermostat
to reduce the load and let me see if the
network is back I would be happy to show
you the demo the network is not back I
will I will just carry on and switch
over to the next use case and again
we'll just hope it will it will come
back online at some point so another
another thing is actually more DIY kind
of thing it's something you can you can
just play with when you when you when
you when you have time just you know go
go two digits
websites you can order this qualcomm
board again I can just show it to you
it's quite nice this is the board it got
pretty much all the peripherals on it
you need so the actual chip is this and
there the rest is actually just a
breakout so you can connect your
peripherals that can be SPI it can be I
squared C it can be it can be pretty
pretty much anything and it's very very
good to tinker with things and just you
know start experimenting so what what I
was what I have here and you know if
only we had internet compatible you know
which I could pick up from from from the
board I would show it to you and maybe
maybe maybe it will come back but there
is a device hive as I said cloud running
and on one hand it's talking to
Qualcomm's internet of everything board
which through DG's XB modem is talking
to this very thing you know it has a
bunch of LED lights installed on it
and on another hand like so what do we
do with it what we do we actually were
going to listen to it Twitter feed with
Java one hashtag and every time the
tweet comes in we will just pull the
rest service we should get dispatched to
this to this board and dispatch to a
traffic light I can like that that
sounds really complex but if you first
of all let us check back in if nope
this one this one is Wi-Fi and at some
points this this local local Wi-Fi
stopped working so against older all the
requests actually popped up my hotspot
but it's the well I will I will have to
I will have to tether it like the the
Wi-Fi the Wi-Fi from like this board
doesn't have a hardwire let me let you
know you know what let me where's that
yeah well I will I will try to to Tet
sorry yeah well you know unfortunately
in this particular case it's not it's
narrow this kind of demo effect when
five minutes before the demo everything
works ten minutes before the demo
everything works and day before the demo
everything works and the day was on the
on the very minute I would that things
things just don't work so what I was
what I was going to just to show you in
fact like let's just go step by step and
see what what we have like this this
traffic lights connected to two iegs be
xB in fact actually has Arduino in it
you know it's simple like one page of
code which listens to serial commands
you know I really I really didn't want
to overwhelm you with you know with some
protocol it's three bytes if it receives
three bytes in roll it assumes these are
green yellow and red that's it you know
if there is a delay more than five
milliseconds it would just start
listening for three bytes again so as
simple as that we can actually deem the
lights but the the whole point is we
have that and we'll believe
to that let's just go one step up and
also let me let me try to now I wanna
the the thing the thing is I I want to
turn my laptop into a hot spot for this
board and hopefully it will it will work
just bear with me for just a second I
don't want to spend the rest of the demo
just you know troubleshooting it so I
will rather show and tell you something
but just give me a give me one second
I'm Pago
from even that's on Wi-Fi okay
so okay and
okay well I will start internet sharing
from let me let me show the double check
I have internet on this board and on
this machine Oh a matter of fact I don't
have internet from the wire as well okay
it doesn't matter let us let us just
carry on with with the rest of the code
so like trying to make sense out of out
of all this internet of things pretty
much like the Gateway would carry would
carry the response like the gateway
classes that going on to onto the board
and the gateway agent would carry would
be responsible for you know for all the
networking all the handling all the
authentication registering the device
making it discoverable maintaining the
connection pulling the server everything
so what you need to implement you need
to implement the head the handler for
commands I mean that's the trivial
scenario of course there are more
complex very when we want to customize
the way you the way the way you register
your device in the clouds and how this
all works
but like ultimately when you have all
this skeleton to build it you pretty
much have to input you to create a few
handlers so our commands our our our
restful command would look just like
this you know will be we'll be sending
some some commands saying set state and
you know will be just transferring there
red green and yellow components to it
and that's it so on the Gateway side we
need to make sense out of these commands
and you know we just receive we just
received the command set state and we
just parse it and extract the components
and after that we form this array and we
send it over as a frame to our serial
device that's it
you know it goes into ZigBee device it
gets picked up by this traffic light
then it goes and it gets deserialized
and turned into there you go
here analog right and breathe from the
serial port depending on the number of
the byte we read it would turn red
yellow a green light that's about it let
me see if Internet is back nope one
second
okay it says it's connected it even
gives me the IP address but I don't see
Internet
nope
okay anyways the that's the gateway site
and on a device side is as simple as
that and on the client side so in order
in order to to make to make
troubleshooting easier again you know
when you want to just test your command
out you came up with a command you know
you'll be sending sending some states
for your lights so instead of writing
code there is just admin console that
you know gives you your users networks
devices device classes so you can just
type your messages in there and see how
it works
that's like there step zero you have you
have your cloud you have your way you
have your web UI to test things out you
have your actual actual device and
things get transferred nicely so the the
final part of it is actually triggering
these these messages so who's going to
send that so as I said on that my
previous slide we we are going to
capture tweets and and blink with LEDs
when tweet tweets to tweets are received
so you know here's a nice little Python
script pretty much does just that
they're set state method sends the post
request to the service with the commands
set to set state and parameters which
are passed here and after that you know
we just use this method in on a startup
who just blink and then we connect to
Twitter again you know thanks to
accessible API is you know there is not
much that needs to be done to connect it
we're I really want you know to drive
these Internet of Things ecosystem to be
as simple as you know connecting to
Twitter feed so basically the next thing
is we just you know put the Twitter to
listen to Juwan events tweets and in
this loop whenever the tweet is received
again we call set state which sends the
rest of all
quest to the cloud there the request
gets dispatched to the device which
registers itself and then eventually it
lands in our piece of code here it get
transferred turned into a serial command
and the serial command gets turned over
here and we set the lights in with
analog right so i with that said i gonna
gonna conclude my session I'm really
sorry I couldn't I couldn't actually
show you the light blinking and their
thermostats you know clicking with its
relay and showing funny messages from
utilities you know I have ten minutes I
might gonna poke around just you know to
make actually you know what the internet
is back really no it's not
so just to to to to make sure it is it
is working but for the time being if you
have any questions if you want to chat
if you have any ideas or suggestions
feel free to to ask any questions
yes it's it's addressed on on on two
layers one is one it's of course it's
HTTP for a restful four four channel
encryption another one is you know how
you make sure they're how do you insure
the device identity so there there is
there is a symmetrical protocol for
device registration so you can pre flash
device with there with a secure key and
register that key like there the other
part of the key in the cloud and you
know they will do there they're the
actual handshake so they can do that
handshake over the binary through the
Gateway to the cloud there like the
device device provisioning is actually
like very interesting topic because it
depends on on a particular protocol and
you know particularly use case and
implementation so it's really hard to
impose any any sort of over robust
scenario towards device provisioning
because it really depends like you know
if you're provisioning a light bulb it
would be one scenario if you're
provisioning a smart thermostat it would
be another scenario if you're
provisioning something that has a
keyboard to it that could be whole whole
whole different scenario so you know in
other another thing that we're that we
that we are working on again we want to
provide as much tooling as possible for
you to to start building these devices
so for smart device for gateway devices
that can turn themselves into access
points we actually building scripts that
that would give that functionality out
of the box like if you take Raspberry Pi
and and plug in the Wi-Fi dongle into it
we'll have a script that would if you if
you short two pins it will similar to
your Apple router like when you buy a
new router you plug it in first it
presents itself as a as an open spot you
log into you you define you know what
you want to connect to and then it
connects to to the rest of your
infrastructure
so we've implemented that sort of device
provisioning for
for example again it's it's not
necessarily meant to be an industry
great bullet proof solution but it gives
you some freedom to experiment and give
you some tooling to go out there and
build things and that's why it's open
source if you if you if you find ways to
improve it just go for it and I'm gonna
give it another try
powering up the board any other
questions
well then thank you very much and again
sorry sorry sorry for their missing demo
part</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>