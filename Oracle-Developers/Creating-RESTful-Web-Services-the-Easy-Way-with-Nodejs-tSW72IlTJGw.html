<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Creating RESTful Web Services the Easy Way with Node.js | Coder Coacher - Coaching Coders</title><meta content="Creating RESTful Web Services the Easy Way with Node.js - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Creating RESTful Web Services the Easy Way with Node.js</b></h2><h5 class="post__date">2017-10-07</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/tSW72IlTJGw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">this is making restful web services an
easy way with no js' but before I get
into my talk I just want to do a quick
plug for a talk that's gonna happen on
Wednesday it's time to get excited folks
for JavaScript in the database I'm gonna
be talking to you today about executing
JavaScript from the mid tier against the
database but this is JavaScript in the
database it's via a new multi language
engine from Oracle ABS which is now
available for preview via OTN it comes
as a virtual box from our VM for
VirtualBox and the talk that they're
gonna do the Oracle labs group is on
Wednesday at 5:30 here's the conference
ID the title if you look it up in the
session builder just ignore the
description it's completely inaccurate
it's about JavaScript in the database
they're gonna have some really great
examples of how that works and how they
put it together so very cool stuff I'll
be there for sure whatever you do don't
leave here and make a purchasing
decision based on what I say here my
name is Dan McGann I'm an Oracle
developer advocate I focus on the
JavaScript html5 communities and of
course the Oracle database community my
contact info is shown here we'll make
these slides available so if anyone
wants to reach out if you want some of
the code I'm showing here if you have
questions please reach out I'd love to
hear from you here's a high-level
overview of what we're gonna be doing
today I'm gonna start with a brief
introduction to api's and ojs and we'll
talk about manual API creation before I
show you how you can make it easier with
tools like sales and orange so let's
start with a rough intro so what's rest
rest stands for a representational
straight estate transfer it was the
architecture style of the web being
applied now to api's created by Roy
fielding a while back he defined six
constraints common-sense things like a
uniform interface right why are we all
creating different style api's with rest
it's all kind of uniform stateless so it
scales cashable so it scales it all kind
of makes sense but keep in mind most
implementations will not comply 100%
all right the way it works the client
communicates their intend via URL paths
based on nouns not verbs we have two
examples here one for a collection or a
set of data and so it's just HTTP server
comm slash API and then slash employees
it's plural and it's not a verb it's a
noun so in the past with maybe RPC style
api's this might have been get employees
you don't want to do that here here's
for a single resource I just followed
with a slash and then the ID of the
resource you're after and the reason we
don't specify the the noun I'm sorry
rather the verb and the URL is because
that's specified via the HTTP method and
I have here the various HTTP methods as
they correspond to various crud
operations that most folks are familiar
with so create is going to be a post
nice to DB post read is going to be in a
certificate and so on
so what's no js' well no js' is a
server-side runtime for javascript
quickshow hands java developers uh-huh
all right JavaScript developers keep
your hands up if you're using nodejs
all right just about maybe 10% of rooms
thank you so it's a server-side runtime
for JavaScript this is really cool
because JavaScript is exploding these
days primarily because it's the language
of the web and what's cool about know it
is it allows you to use those skills
that you gain for building client-side
apps and now you can bring it and plug
it into the mid-tier and the knowledge
works on both ends it's using a
JavaScript runtime built on Chrome's
v8 JavaScript engine which is known to
be highly performant it's a great
JavaScript engine when you use nodejs
you also use npm as a package ecosystem
and it's now the world's largest
repository of open-source libraries so
chances are when you need to do
something there's already a library
there ready to help
node.js is often referred to as a
event-driven non-blocking i/o model and
that can be a little confusing and hard
to work with until very recently now
that we have some new capabilities in
the language but the way it breaks down
is your code does execute your
JavaScript code does execute a single
thread but eventually your codes gonna
make a call out to what are known as
async api's and they're gonna go into
one or two buckets it's either gonna be
completely evented these are things like
timers and tcp which includes HTTP this
is highly efficient this is what node is
really good at or it may go into a
thread pool this is file i/o DNS and
user code like encryption compression as
well as executing queries with the
driver
now this thread pool it has about four
connections by the phone we'll talk
about how you can adjust that and it has
a queue as well when you make the async
API call you're gonna specify a callback
function when that call is done the
callback function then goes and gets
added to the event or callback queue and
will eventually be executed again on the
main thread the important thing is you
don't want to do anything CPU intensive
on this main thread because everything
is gonna wait behind when you go to make
an API using node you're gonna have to
choose between rolling your own or using
a framework and there's some trade-offs
so if you roll your own there's gonna be
more code you're gonna have to write but
you're gonna have more flexibility and
everything will be exactly the way you
want it it's a lower shorter term
learning curve because you're just kind
of adding features over time but maybe
lower long-term productivity depending
on how many new API you're creating
she's a framework give me a lot less
code but less flexibility the whole idea
with the framework is you're okay
accepting some of the ways the
conventions of the framework uses and
maybe giving up or modifying some
requirements you might have it's a
higher short-term learning curve because
a lot of these frameworks that come with
you know everything out of the box and
you have to learn exactly how to
but they can also be really productive
in the long term especially if you're
cranking on new API is all the time you
have to consider what features you want
to support in your ap is almost every
API is going to need pagination sorting
filtering authentication authorization
after that it's sort of like pick and
choose as you go do you need caching do
you need documentation if so you
probably wanna use swagger as some
alternatives do you need real-time push
throttling cores there's a lot this
isn't even a complete list the basic
ingredients for a REST API can be broken
down like this everything's gonna be in
your bid tier you're going to start with
a web server the web server is gonna
accept HTTP requests and send back out
HTTP responses you're gonna need some
rowdy and logic the routing logic is
going to identify the intent and then
route the request to the correct
controller logic which means of course
you'll need some controller logic the
controller logic is gonna extract data
from the request it's gonna apply some
business logic and it's also gonna apply
some database logic and generate the
response and finally that last part is
the database logic that you'll need to
cover as well exactly how you go about
implementing this is completely up to
you there's just different options I'm
going to show you three today we're
going to start with the manual API
creation so the first thing you need to
decide is that first part the web server
exactly what software do you want to use
there and the JavaScript world there's
just so many options for everything very
popular web servers Express this is the
one I'm gonna show today it's a highly
popular general-purpose very performant
web server can do pretty much everything
you need there's rs.25 which is a web
server that is scaled down and targeted
just toward API development it comes
with dtrace support out of the box it
also adds support for throttling so all
you're doing is just api's might want to
look at that then there are tools like
crack and unhappy from PayPal and
Walmart these are all just web servers
that have different computers and
conventions and maybe keep you a little
bit safer when you're new to these kinds
of things I went with Express as I
mentioned the next thing you'll need to
decide is how you want to handle your
database logic drivers who are as myself
I prefer drivers their lower level and
may require specific database
knowledge but they're super flexible and
powerful very performant orm is on the
other hand our higher level and can make
developers more productive especially as
they're not comfortable working with the
database directly they attempt a way to
extract that they attempt to attract
away the database which can be a good
thing sometimes and maybe sometimes not
there might be some issues with them as
I'll touch a little bit later so no
surprise here I went with the driver
this is node Oracle DB and the various
classes that you get with this driver
out of the box so we have the base class
in base class is either used to create a
dedicated one-off connection or it can
create a connection pool and then you
get your connections from the pool if
you're doing an API absolutely need a
pool you can't scale with without one
once you get your connection you can
execute sequel and PL sequel and for
certain types of code you may need to
get a result set this is a for a read
consistent image of data imagine a lot
of times notes errors don't have a whole
lot of memory but if you need to process
a lot of data from the database you'll
need some read consistent capabilities
so that's what you get from your result
set you can take a whole lot of data in
smaller chunks essentially and we do the
same for lives as well so I'm using
Express and I'm using the driver the
next thing you'll need to do is figure
out a basic directory structure and this
is one of those things where if you
don't have something to start with it's
difficult to figure it out so this is
just a really simple kind of getting
started directory structure and you can
take it wherever you want to go from
there the way it starts is with the pack
is not JSON this is a manifest file that
node uses it contains information like
the name and description of the project
as well as the various dependencies of
the project and even some scripts
sometimes for builds and whatnot the
index dot J is can be thought of as like
the main file if you're from the
JavaScript or Java world and this is
just gonna kickstart the app I have a
services directory for generic reusable
logic this is where I'm gonna put my web
server as well as my routing logic I
have a controllers directory where all
the controller logic is gonna go
and I have a directory called DB API is
because a lot of folks are going to call
this the model directory if they're
using an ORM but because I prefer
working with the driver I just called DB
API and then there's a configuration
directory and the idea is over time you
want to extract away as much out of
other files and put them into the config
to simplify things over time so let's
take a look at how you can build an API
manually using node now it's not
practical for you to watch me do that
here live so instead I just have a
project ready to go and as I mentioned
everything's going to start with that
package that JSON this is just to kind
of give you an idea what that looks like
note it points to the main file that's
the end XJ yes and you see the
dependencies listed here this is for
that NPM or node package manager how it
knows what files it's using and what
versions to use this is the Oracle
database driver here so again it points
to the end XJS so we'll open that up and
you'll see what's going on here the
first thing can folks see that in the
back I can try to zoom someone first
thing I'm doing is I'm bringing in from
that services directory some database a
database module and a web server module
and then I'm increasing the thread pool
size remember I said it defaults to 4
but if I create a connection pool with
20 connections and I want to be able to
use those connections at the same time I
need to bump up the thread pool count so
that's what I'm doing here and there's a
function defined here startup and uses
the database module to open connections
to the database and once the connections
are ready the pool is good to go then I
can use the web server module and call
start there so let's take a look at the
database service
database service is just bringing in
some connections from config I should
have called this connection templates
but in hindsight that have been a better
name because they're not physical
connections they're just templates that
we're going to use to make physical
connections we grab that data and then I
just loop over whatever's in there and
each iteration I create a pool for that
and I'll show you what it looks like in
the configuration directory so this is
just a real basic example we're just
using this key and I'm gonna connect to
the HR schema so the other part in there
and this was the first of the four parts
I talked about before was the web server
so this is what it looks like to create
a web server with no js' so I'm bringing
in an HTTP module as well as Express
expresses that web server technology I
mentioned before I'm bringing in Morgan
Morgan does Apache style logging for you
I'm bringing in body parser which can
parse incoming HTTP requests and so that
when I get that request it's just in
memory already and I mentioned that
routing logic before I'll show you this
a little bit but let's keep going for
now and the web server so I need to
start up the web server and what it does
is creates an instance of an express web
application and then what you're
starting to see here I have that app and
you're saying app dot use and what
you're seeing in here is middleware and
so I'm basically setting up a pipeline
that the HTTP request is going to flow
through and the first one is that
logging software Morgan combined output
means a little bit of the incoming HTTP
request and a little detail from the
outgoing response we have mapped out use
body parser so JSON bodies coming in
it'll parse it for me
and then the next thing I do is I enable
cores I'm just going to scroll down a
bit
show you the definition of course
because I want you to see how simple
middleware really is this is a custom
middleware component and this is what
they look like they're just functions
that take a certain signature
request/response and then next and you
can do whatever you want with the
incoming request or outgoing response in
this case I'm adding headers to the
response and I invoke Next Next means it
goes to the next step in the pipeline
that you set up so whatever you put in
the pipeline that's how it works
eventually once all that's configured
well one at a point here actually so the
next thing after I enable cores as I
then say take the router which I'll show
you in a moment and mount it on slash
API so the full URL will be slash API
and then whatever the router starts on
so let's take a look at the routing
logic so again I'm bringing in Express
Express as a router class and I'm
bringing in the controllers and various
employees users sessions controllers and
then I just say router dot route so
remember we mounted at slash API so it's
slash API and then slash employees
optional ID and then depending on the
HTTP method if it's a get post put or
delete then first I send it through a
little security function I don't think
I'll have time to get into that today
and then finally we go to the controller
logic the function that's meant to
handle that particular part so we have
the web server we're looking at the
routing logic here that's the second
part and the next part is controller
logic so I'll show you what one of those
looks like we'll look at the employees
controller
so this is what a controller might look
like and again you're seeing the same
pattern here it's fairly common it's
just more Express middleware so if a get
request is coming in then I'm gonna use
the request object coming in to get
various properties and I might be
looking at the params or the query
string of the URL or the HTTP body it'll
be on different parts of that request
object and that's a sense in my context
and then I'm going to use the database
logic which is that fourth part and I'll
show you that in a moment to do some
kind of database operation so I'll use
the database fine method and I'm gonna
get some rows and then I'm gonna use
that to send out maybe a success and
send out that JSON or maybe if I didn't
find it I'll send out a 404 or something
along those lines and then you'll see
similar logic for post only it's doing a
different database logic create and put
its gonna do an update and so on and so
let's look very briefly at the database
logic for employees so this is what that
looks like I started with a base query
for selects and you can see what it
looks like just a real simple select and
I have this page inator I'm using here
that may get appended on here depending
on the parameters coming in from the
outside world so on fine when we're
looking for one or more records for a
get request basically what we looking at
the contact that's passed in from the
controller logic and it will see what it
needs to do maybe depend on the the page
an ATAR if necessary maybe add a where
clause if necessary and order by Clause
and so on
but eventually it's going to use the
database module simple execute I create
this because it's usually a three-step
process get a connection execute a query
release the connection you have to have
error handling and all that stuff in
there for that so I put all that in one
place just use simple execute unless I'm
doing a transaction in which case I'll
do each step and
you'll see similar things for create and
so on so that's all for parts right
we've seen all the moving pieces any
questions so far
all right let's take a look at how it
works
so I'll go back up to the top level
directory and open this up in a terminal
and I just entered node I'm gonna say
node index and it says it's starting the
app opening connections to the database
starting the web server now we have a
web server listening on localhost port
3000 so the way I like to test my REST
API is using a tool it's only for Mac so
I'll hope you guys are on Mac if you
interested in taking advantage of it but
it's called paw and paw is really really
cool stuff so let me show you this real
quick so here's a simple get and this is
pre authentication so if I fire this off
you'll see I'm getting a 401
unauthorized response and the reason for
that is that I don't currently have a
user so first I'm actually gonna create
a user and when I do that I'm gonna get
a token that's some of the security
logic I don't think I have time to show
you maybe at the end we will but what I
will show you in sequel dev if we look
at the users table right now you'll see
it's it's empty and so what I'll do with
Pau I'll fire off this post to create a
user and it says it was successful and
created so if i refresh this we see that
user we see the role is based we see the
password is properly hashed and that
kind of stuff so now in the response
body from the create you'll see this
token and I can grab this token and I
can use it for requests going forward
it's I think I set it to be valid for
day but you can you can adjust that is
the requirements dictate so I'll show
you real quick with the previous value
it should be well that one's actually
still good that that's from testing
earlier but if I paste in the new value
it works you can see in the response
body view the JSON version we're getting
back hundred items and you can see the
various properties from that sequel
query I showed you before I won't go
through everything here so but get posts
all these do work I'm going to skip down
toward the bottom here and show you that
what you saw in the database API was
some logic for pagination and filtering
and that kind of stuff so I'll just show
you that this does work but it was a
manual implementation and frankly that
stuff gets a little tricky so if you're
not comfortable with sequel its movie
not going to be the easiest thing to do
but remember before we were getting 100
rows back but now I'm saying I just give
me ten and don't start it at row one but
maybe six per page a nation and you can
see now we're getting back ten items and
the first idea is 200 but if I say start
at 5 then the first one coming back is
201 and so on and you can change the
order maybe sort ascending if you want
so that's the manual approach I'm
frankly happy with that I like the way
it works I like the flexibility but
let's continue on and see what else we
have
so a lot of work very flexible all right
let's take a look at a tool called sails
that can make a lot of this easier this
falls into the MVC and API framework so
basically frameworks are going to offer
a lot of out of box features they're
going to favour convention over
configuration meaning that if you find
yourself fighting against the grain of
what the framework is offering then
maybe it's not the right framework for
you you might even consider the manual
approach you're just supposed to kind of
use the frameworks as they come there
are two that I looked at sales and
loopback they're both really great sales
is more of an MVC framework and loopback
is more of an API framework and the
difference between the two isn't a lot
but just in general you could say sales
a bit more flexible if you need like a
static file server for a website then
sales offers that whereas loopback
focuses more on just the API itself one
of my some of my favorite features in
sales are blueprints which I'll show you
in a moment as well as WebSocket
integration which they have out of the
box if you need real-time data and then
as far as loopback one of my favorite
features was the discovery API so it'll
go through your database identify all
your tables and create api's form
automatically so there's there's
trade-offs already you're starting to
see to get started with sales use NPM
the node package manager to install it
just install it globally if you plan on
using it a whole bunch and then you can
create a new project with sales new and
just the project name once you have that
up and ready you can change the rector
ease into the project and use sales
lifts to start up the sales application
and then if you want to take advantage
of the Oracle driver then you'll need to
install that driver so let's see how
sales looks you saw a lot of code before
that I had to write
just start all this from scratch okay so
what I'm gonna do is sales new my
project is fine there was a recent
change in sales and they basically tell
you is in a new version of NPM so it
used to be really snappy to create a new
sales app but there's a temporary issue
that requires them to download some
additional files as you can see it
doesn't really take that much longer
just took about 12 seconds but what we
have now is this new my project
directory so out of the box just a ton
of stuff going on here probably most
important directories are API which
contains your controllers your models
security related policies and whatnot
and the configuration directory which as
you can see they support all kinds of
stuff out of the box this is what I mean
but a learning curve is a little steeper
you have to figure out what all this
stuff is for so let me open the power
file for this guy
all right so what I need to do is if we
fire this off we get in there so we need
to start up our sales server we're going
to CD into my project and use sales lift
to start up the sales app and it tells
you it's listening now on localhost 1337
so if I fire that same request from
before now we're getting 404 not found
if we look at the raw response you'll
see we're just not getting any data back
so what I'm gonna do now is shut down
sales and I'm gonna say sales generate
API employees so it said it created a
new API what did it actually do it
created a couple files for us and we'll
find those in the API directory under
controllers there's this new employees
controller here as well as a new model
employees model so if I go and do this
same request oops I need to start sales
again
when it starts up you see this prompt 1
2 or 3 it has to do with the models and
updating the database 1 is the safe
option used 2 or 3 hits your own peril
so we got this restarted now when I
issue that same request it's ok and
we're getting back an empty array okay
so what about post if post is for
inserting data you can see what I'm
doing here and to specify some data and
pas and then send in that post request
and it says 201 created interesting go
back to the request issue that same
request and now we have data coming back
now have I hooked this into my database
yet not yet right so what's going on
here I mentioned one of my favorite
features about this tool was blueprints
and blueprints is all about scaffolding
api's very quickly and basically what
it's doing here is like a very basic
JSON document store so I can create an
API I don't have to do any other
configuration I can send data and I can
pull data out and we can manipulate the
API fairly trivially until we know
exactly what we want and then we can add
the database in later so it's a really
nice feature that they offer to bring in
the database I need to start with this
command here so will shut down sales
and I'm using NPM install and this is a
the Oracle database adapter for sales
and when you run this mmm that's not
good
try a personal hotspot see if that does
it for us so we'll reissue this command
and it's going out hopefully to NPM and
it's gonna pull in the files for the
adapter and what you're seeing here is
actually a compilation process this is C
code compiling that's kind of the
tip-off that it's using the Oracle
database driver that you saw me using
directly before it's using it under the
hood so this is essentially a layer on
top of that that's correct the more
advanced ones will not be using
JavaScript so if they're doing things
like imprinting encryption or
compression things along those lines you
have to go down to C otherwise a lot of
it is in JavaScript all right so now
that I have this new adapter I can start
talking to Oracle and this is I'm kind
of walking you through the learning
curve that I had to go through myself so
the first thing I'd to learn is how to
use the config connections file so I'll
copy this over to there so we're going
to config open up connections and you
notice it has that disk adapter that's
the default for blueprint so I'm just
gonna paste this new one in here note
the key here is a char the adapter it's
using is the one for Oracle and then you
see connect string info similar to what
we saw before so I'll save that and then
the next thing I needed to do was go
into the employees j/s model and update
that to use my new connection and so
we'll go back into API models open this
up and I'll overwrite the whole thing
but it's really just one new property
this connection this key here is
pointing to that key you saw in the
connections file
so I saved this and I thought all right
I'm good to go right and you go to
startup sales
using again the safe option so sales is
up and running and I want to run my
request again I got this 500 internal
server error and you can see the hint is
down here table or view does not exist
and I was curious about that I started
to look into it and what I learned is
that sales is case sensitive even though
Oracle database isn't by default it is
and so I had to do an override so
normally the the table name is gonna
come from the model name but it's gonna
be lower case and if you let sales
create the tables for you it's gonna
create them in lower case this may or
may not be what you want but they always
have little overrides for things if you
don't like the default behavior so I
brought that in and in the interest of
time I'll just keep going actually with
the the things I had to learn so after
the table name the next thing the next
error I got said oh there's this issue
with auto created at and then I learned
that sales because it's often creating
the models in the tables for you it
likes to do an auto primary key it likes
to add created at and updated at columns
for you and I didn't want any of that
stuff I had an existing table in my HR
schema and I just wanted to use a sales
on top of that so that was the next
thing I had to disable a lot of features
that they have on by default and the
last thing I had to learn were similar
tricks for the columns so if you had to
override the table name you could
imagine the columns are gonna be the
same so my model grew quite a bit just
overriding defaults that sales was
easing but once we grab that and bring
it in to employees Jess this is a proper
model that will now work
table so I can go in and shut sales down
start it back up
and now we issue that same request and
we're getting data finally from the
database if you look at the JSON version
we're getting 30 items back by default
so that's that's cool and what gets
really interesting with sales is that
they have already out of the box without
I mean I haven't written a sequel
statement yet they have limit they have
a skip they have sort they all work like
you'd expect them to so we're just
getting three rows back but even more
interesting is that they have support
for where so if you're creating an API
and that API needs to be somewhat
flexible you're gonna need to either
build this in yourself or use a tool
that does it for you and sales does do
it for you so for example if you want to
just get the rows where first-name
contains a n this is the syntax that
they use it's just JSON so you can
imagine what it's doing behind the
scenes it's parsing is turning it into a
where clause implying that for you and
then we just give back the rows where
first-name contains a n so they have a
whole sheet provision you can learn how
that syntax works that's basically sales
in a nutshell tons and tons of features
it's actually a pretty cool tool it
brings out-of-the-box convention so
whenever you're starting new projects
you're not reinventing the wheel you're
not doing things one way or the other
and different projects it's all very
convention based as I mentioned that
learning curve can be a little steep but
things get better over time and
blueprints is is pretty awesome
I wouldn't use just a caution with ORM
so what do you guys use in the Java
world hibernate right it's it's been
around forever very matured very good at
what it does the JavaScript community
not as mature and so things maybe don't
work as you would expect them to I've
already talked about the case
sensitivity issue I found some of the
ORM and the JavaScript community are not
using bind variables that can be really
bad also some don't even support
transactions so sometimes you might
choose a tool thing that's going to make
it like
here later you need this feature doesn't
have you've already written all this
code that uses it so keep that in mind
when using RMS alright let's take a look
at or does anyone familiar with wards
couple folks less than one percent I
think all right so Ward's is short for
Oracle rest data services this is a tool
put out by Oracle basically to Resta phi
your database
it's a java-based application so it does
run the java application server and the
mid-tier and the idea is essentially
you're gonna create you are eyes and
you're gonna map them to sequel it was
first released as the apex listener back
in 2010 and got its first rest support
in 2011 it was renamed then towards and
it's been supported ever since getting
more and more features the latest
version 3.0 which came out 2016 added
this auto table rest enablement which is
super cool you can from sequel developer
or via PL sequel api is just right click
a table so you want to rest enable the
table and then you have an api ready to
go using again a lot of conventions that
somewhere to waste all the sales so this
is the basic idea you define a URI and
then you map it to some sequel or PL
sequel procedure it gets a result set
from sequel transforms in the mid tier
and then sends out the JSON and it can
do other projections like CSV and it's
got some really great features actually
let's take a look at a quick demo so the
first thing I want to show you for this
is that you can go to Google and just
search Oracle VMs it's usually the first
or second link pre-built developer VMs
so if you go in here and scroll down a
bit you'll see this database app
development VM if you click that you'll
get more information about the VM it's
running Oracle Linux seven
it's got Oracle database 12 - as well as
sequel developer or
application Express tons of good stuff
in here and lots of hands-on labs and
tutorials to help you learn to use these
technologies once you get the VM up and
running it looks like this you can click
start to access those tutorials and
you'll see sequel developer as well so
well I've gone ahead and used one of
those tutorials to install and run Ords
so Ords is currently running what I'm
going to do is open the PAS to test
words so I'm gonna issue a get this is
the IP address of the VM the orange is
listening on 9090 and I'm gonna hit
execute and it fails so the first thing
I need to do is use sequel developer to
enable this right ords is running but
it's not yet turned on so I'm gonna come
first I have a connection that's
actually the wrong one and I open a
connection to this HR user for orange
and when the connection is open and
sequel developers anyone here using
single developer okay good okay so once
that's open I can right click the
connection it's not working long zoomed
in and if I scroll down you'll see rest
services so if I hit enable what we're
doing is enabling rest services for the
HR schema boards does support OAuth
out-of-the-box it has its own server if
you need it not really good for demos
those who will leave it off before we
hit finish I'll just show you that
sequel developer will give you the pedo
single it's going to execute to do what
you want it to do this is just to show
you that it does have a PL sequel API so
if you want to script these things and
don't wanna use a GUI that's that's
perfect you can do that so I'm finished
now we've enabled it for the schema but
none of the tables have been enabled
they're all off by default so I'm gonna
come into the employees table again to
enable rest service the same thing as
before
and now we should have a REST API on
that table so if you look at the URL
here the convention is orgs wherever or
whatever you call the module you'd apply
in your java app server and then the
schema and then the table name and when
we reissue this get request we get our
data back you can see the raw response
here so again no sequel didn't have to
write any code it's just right-click and
able all that kind of stuff if you want
a single row the convention is just
slash 101 pretty standard but things
with words get more interesting when you
look at their convention for like making
an API flexible of course they support
limit and offset which you'd expect but
then they have this Q per am and Q is
like a catch-all Q can do some
interesting things like order buying so
you can change the direction and you'll
see here it's a certain key you can
actually specify multiple orders and
it'll do it as you'd expect it also does
filtering so you can say column name you
know the in string operator and a in
just like you saw me do with sales and
then you're just gonna get those
employees back that have a n so it's
really flexible both sales in or it's do
a really good job of low coding api's
but you have to be willing to accept
sort of how these tools work out of the
box and accept their conventions and be
willing to maybe change some of your
requirements to work with them if
necessary
currently ords only works with Oracle
databases so in the beginning I had that
safe harbor slide right I believe the
idea is to eventually important data
bases but I'm not too sure about there's
anyone from the awards team here
wherever you however you can figure that
in your java application server so
orange is just a typical Java app so
however you normally configure the port
right and your mid-tier you so the
question was you know what's the next
step after you've you know installed
Oracle database and want to enable this
with Ords you need to have a java
application server in your mid tier you
need to deploy Ords to the mid tier and
then get it configured and again this VM
has these tutorials which will guide you
through exactly that step-by-step so you
can get a hands-on experience if you
just scroll down you'll see all kinds of
tutorials but orange is in here as well
and that does cover installation
your people
JSON schema less so no schema to annex
SD you can there is there are
conventions like JSON schema and whatnot
if you want to use them most folks would
argue that that kind of works against
the spirit of JSON it's totally up to
you can do different things different
ways so real quick recap words can
really make it easy to simplify your API
creation on Oracle database the auto
rest support is fantastic and of course
it has out-of-the-box support for
pagination filtering I didn't show you
this but even as of so if familiar with
Oracle's flashback technology you can
even view data as it was in the past
using orange does have the built-in
security and the way I like to use
orange is often to put note in front and
kind of treat it as a reverse proxy
through towards that way you can get the
best of both worlds you can get all the
flexibility that you get with node but
all of the convenience you get with ords
best of all with so in summary there is
no perfect solution for creating REST
API manual implementations are going to
give you the most control but require
the most work Oh our ends can make
databases easier but be careful about
which ones are choosing the JavaScript
community for now and API frameworks
provide a lot of convention but there
only makes sense if you're ok with that
convention on the slides I have a bunch
of next steps and links if you're
interested in learning any more about
these technologies you can just download
the slides and take a look we're
learning some more any other questions
all right thank you all very much
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>