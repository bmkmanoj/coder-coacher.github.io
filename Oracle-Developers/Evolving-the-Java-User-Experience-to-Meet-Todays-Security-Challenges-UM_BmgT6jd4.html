<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Evolving the Java User Experience to Meet Today’s Security Challenges | Coder Coacher - Coaching Coders</title><meta content="Evolving the Java User Experience to Meet Today’s Security Challenges - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>Evolving the Java User Experience to Meet Today’s Security Challenges</b></h2><h5 class="post__date">2015-06-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/UM_BmgT6jd4" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'm big Hollywood superstar George
Clooney and i'm here to talk to you
about the java user experience okay so i
see some doubting faces how do you know
I'm not George Clooney right like no I
think maybe I kind of look like him so
what would you do would you ask me for
ID would you come up to me and say hey
you're not George Clooney would you now
trust me now that I told you this and
now you doubt who I am and then am I who
you expected to talk about Java user
experience probably not so this little
example ok if you don't know who the
real George Clooney is there there's a
picture so actually what I'm trying to
bring up is how do you identify where
your app is from who's the developer
who's actually delivering this stuff to
you and in this case if if I have a my
app is signed with a trusted certificate
I know because there's a an authority
behind that that's validating that
information I know who I'm dealing with
in the case that the developer is
deploying something with a self-signed
certificate we don't know you know you
can make up anything it's like having a
fake ID and then lastly if there's no
certificate and it's an unsigned
application who knows right there's it's
even less information than a fake ID
so as part of the process that the JRE
goes through we try to identify where
the app is from and the app gives
whatever information it has right we try
to authenticate it we have online
mechanisms like the online certificate
status protocol ocsp or certificate
revocation lists we use whatever is at
hand to get that information and lastly
once the jerry has actually validated
information it can show it to the user
and allow the user to kind of make a
choice at that point and if it's not we
can't validate it it's been revoked we
can choose to block the app you know and
stop that from coming sorry that was
just my little intro example some of the
challenges we have with deploying java
apps over the web a little bit about me
i am in fact jeff hoffman java user
experience manager i've been working
with java since 2006 and previously
before that I worked on tools like
NetBeans and currently I'm responsible
for the security and Java deployment
user experience as well as Java install
and update and all those little
dialogues and say hey update your Java
now also I work on with the Java calm
team so folks is familiar with that site
so why am I here so I'm here mostly
because a lot has changed as you've
heard probably in other sessions and so
this has actually you know resulted in a
lot of differences for end-users they're
seeing the they're seeing more dialogues
they're seeing applications possibly
blocked
you know for us this whole experience
providing the tightest security is an
ongoing exercise security is now our job
one I mean that's been my primary focus
for the last year or so and it you know
Java scan is a continuous work in
progress here so as we improve back-end
processes we're also working on the UI
and I'd like to show you today some of
the examples of things that are that
we've done and talk a little bit about
where we're going so hopefully that's
what you learn and also talk a little
bit about how users react or at least
our research into how users react to
some of this new behavior so who are we
talking about when we're talking about
security and the whole Java ecosystem
there are all sorts of folks out there
so there's of course the end users and
these are the folks you're building apps
for certainly and they're the ones that
we most need to protect right in the
current environment they are the most
vulnerable there's you guys the
developers who are responsible for
bringing all that functionality to
end-users and making you want to make
sure that you know your apps are secure
and everything about them is trustworthy
so that the end users feel comfortable
running those apps from a website for
example then of course there you know
the bad guys those folks who are they're
actually developers they're interested
in getting at all that valuable
information that's on an end user's
machine their credit cards you know just
actually getting processing power on
their machine to do whatever so we need
to make sure that we keep them in mind
when we are building our solutions then
of course they're the researchers and
these are the folks who are constantly
poking at Java and other platforms to
find the holes and they usually tell us
about them
and then lastly there's the press who
I'm sure you've heard from a lot in the
past year and they're the ones who kind
of make sure that all those great things
that the researchers find are
disseminated to all sorts of folks so
our goal is of course to provide a safe
environment both for the end users to be
running their applications and for you
guys as developers to deliver secure
solutions and so keeping Java secure is
you know our number one goal we also
need to discourage the bad behavior from
those malicious guys one of the lessons
we've learned of course is Java has a
lot of deployment mechanisms a lot of
scenarios a lot of things you can do to
get your app out there and of course
which mechanism you choose is going to
really influence what the user used end
user sees and I'm going to talk a little
bit more about about that and we're
continuously kind of limiting the
configurability for the open web because
we just can't go back to the old days
where essentially anything could run and
if there was a vulnerability anybody
could kind of leverage it so we're
getting that message across of course
this week and as best as we can and I'll
talk a little bit more about how we're
doing that so what about the user in
this case so our end users as a
usability professional and listening to
other usability professionals our first
tenant is the user needs to be in
control they need to know what's going
on and arguably security principles are
not well understood by your end user so
we really have to take care of most of
that so some of the things we've been
doing is certainly you know java java
apps are executable code and so when you
download one we need to prompt you and
say hey
this code it wants to run on your
machine even if it's technically in the
sandbox it's still executable code and
we still need to keep the user and
control as part of that process we try
to present you know valid useful
information and so if any of that
information is not secure we won't
display it in the past we did I'll talk
a little bit more about that too one
significant change in the behavior has
been that applications that request all
permissions in the past if the user said
no I don't want to give that application
all permission they had canceled the
appt would actually still run but in the
sandbox and that was from a user
perspective a little you know not the
most intuitive but some developers have
taken advantage of that unfortunately
we've stopped that practice so when the
user says cancel stops also no more auto
download I think that's been discussed
before and you know as I mentioned
having sandbox apps I mean we like
developers to create sandbox apps
because those are the safest for end
users but we understand you know there's
all permissions apps are necessary for
various functions but to end users they
don't really get that you know they did
it's a nap so explaining that to users
is challenging but you know we may start
to look into that potential
ok so now user gets a security prompt
what do they do you know we've looked at
this and we've tried to design our
securities a dialogue so that if you
have an appt signed with a certificate
from a trusted certificate authority the
dialogue is very clean very
straightforward majority of users click
run they trust it it looks clean looks
trustworthy if you're trying to deploy
unsigned apps or apps with self-signed
certificates we've purposefully designed
those dialogues to shall i say be a
little uglier and so they kind of scare
the users just enough that if they don't
know what they're doing they'll click
cancel so that's why we recommend of
course you know unsigned apps we're not
pushing any more of course and
self-signed is really for development or
internal use only it really shouldn't be
on the open web I just as a reference I
found this article and I thought it was
quite interesting it's called allicin
warning lands so if you search Google
you'll find it it was a study done by
google in berkeley and they used the
telemetry within the browsers at least
chrome and firefox to track what users
did when they saw particular security
warnings that the browsers pop up a lot
of them are those you know SSL warnings
potential malware downloads and fishing
scenarios that they identified and they
learned a lot about which dialogues were
more or which screens were more
effective at blocking versus which ones
people actually click through they also
learned that you know having multiple
clicks to go through a process really
deters users from continuing so when we
know that there's a you know potential
badness they're adding an extra click
really cuts down on the click-through
rates so this is a you know a practice a
usability study there will be more you
know as we as we're moving into a
an era where you know people are more
aware of security there'll be more of
this research done so I encourage you to
go you know if you get the slides
afterwards go click on it look at the
there's charts and graphs about kind of
how people click through it I found it
very interesting okay moving on to how
you deploy Java in the browser and some
of the challenges there so as I
mentioned before and this is kind of
simplified there are a lot of choices
when it comes to deploying applications
and in the past you know you could do
all permission sandbox you could sign it
you could self sign it leave it unsigned
you could deploy it within HTML with an
applet tag you could use jnlp then we
introduced this concept of a signed jnlp
as we move forward though we really are
trying to create a best practice and
start to restrict applications that are
available in the open web to the best
practices so very important is choosing
the permission level of your app whether
it needs all permissions or sandbox then
signing it and you know we encourage
everybody to get a signing certificate
and then and on the right hand side any
of those options sign J&amp;amp;L p jl p and
applet tag can actually still work
securely as long as you include manifest
entries in your jars in your sign jars
and there's there's been a lot of talk
about this in some of the deployment
sessions and whatnot so I have reference
to them later but I encourage you to go
look at our latest documentation for
that stuff and i'll have some pointers
to that
so as many of you probably already know
what you need to deploy Java in the
browser of course is the browser the end
user has to have the plug-in and the
java runtime and as a developer you're
creating these deployment files you're
creating the HTML the JLP and the jar
files and then you have a certificate
that's all there is to it of course the
considerations when you're deploying job
in the browser is that nowadays and we
hear this more and more often that
browsers are disabling plug-ins for
security reasons that's there there you
know given the legacy it made the
decision to do that so you have to keep
that in mind of course and that will
affect how you deliver your apps there
are different certificate types as I
kind of walked through the self signed
and no certificate and also your you
know depending on which JRE your end
user has you know as it out of date that
will affect the user experience of
deploying your app when they when they
encounter your app a little bit about
code signing so you know as we said it
needs to come from a trusted certificate
authority and you can find that list
pretty much in your Java control panel
so you click on manage certificates and
and go to the signer see a drop down and
then you'll see a list there for your
system trusted cas so if you have any
question about who we're looking at
that's the current list okay
so one thing we've realized going
through the process is that some of what
Java does when your app is getting
deployed isn't necessarily that
transparent the processes is a little
tricky perhaps so as we've been moving
forward I've been trying to document
this as a flowchart to give a little bit
more transparency into how you know what
the process steps are and what we're
doing and this is now out on the web I
have a pointer to it but if you look for
rich Internet application deployment
you'll find it but i'll just quickly
walk through the steps so nowadays the
seven from seven to ten and beyond we
have the ability to switch off the java
plugin from within the JRE itself from
the control panel so we check is it
available and enabled that's the first
box then we look into if there are
deployment rules the deployment rule set
that's a feature that's been mentioned
before and i'll go a little bit more
into that in a few minutes then we check
ok is the JRE on the user's machine is
it actually at or above the security
baseline and we can dynamically check
that now with we check it I think every
day if we if app if javis deployed a job
is used in the browser and that will
influence how the rest of the process
goes ok
so moving moving on so then once we've
determined what the you know whether the
Jerry's above the baseline or not we
check if there's a certificate with the
application or not and is it valid and
we go through processes like ocsp and
crl certificate revocation list to check
that and then once we know all this we
can actually go and figure out what does
the JRE present which dialogue which
situation depends on what security
setting the user may have selected and
then if perhaps the application has
requested an older JRE thers there's a
bunch of processing around how we
present that so I'll dive a little bit
into what the JRE does and so you'll see
in this chart depending on whether
you're Jerry is above or below the
security baseline and also depending on
which security level the user has chosen
high is the default that's why there's a
box around it and whether the app is
deployed with a valid certificate if the
certificate is actually expired or we
failed when we tried to check for
revocation or ocsp or if it's unsigned
and so you'll see some you know in some
cases we just will block the app we just
don't run it okay
next up is when we actually get to a
dialogue what do we present on that on
that dialogue so in the past we had
various pieces of information that came
from meta information in your HTML file
or the jnlp file and unfortunately those
we're not considered really secure they
could be subject to man in the middle
attacks or other ways that somebody
could muck with that information so
recently we've introduced these manifest
entries into your sign jar so they're in
a secure location and there's also as I
said the concept of sign j NOP where
you've copied your jnlp into the sign
jar so we can match it up and say is
that the same one you deployed with and
most of this is really to foil attempts
to repurpose your application so you've
deployed it on a site you don't you
don't want other sites to just pick it
up and do what they want with it so
these manifest entries help you with
that and protect your investment so some
of the considerations here that the you
know the manifest can identify where you
you intended the application to be
deployed from that's actually optional
and it will remain optional but it's
there for an additional level of
security if you have actually deployed
your your application on multiple hosts
because you're dealing with multiple
files there are manifest entries that
can track that so that the end user just
sees one location so they're not
confused by multiple locations there's
more detail docks out there and I've
provided pointers to those for for your
reference in the future okay
okay now I'll get to the pictures almost
so the deployment rules set just a quick
note about that in case you hadn't heard
of it before this is the way we intend
for you to actually get rid of all those
security prompts if you're in a managed
environment so if you have control over
your end-users machine you can make sure
that they have the right version of Java
and you can create this white list which
is basically an XML file that will allow
you to make sure that only the apps you
want the user to run can run and
anything else you don't want you know
you can disable everything except for
your few corporate apps if you want to
you can also install older releases and
make sure that only particular apps have
access to those older releases so again
we have a guide up on the web for that
also I would refer you to the
presentations from the deployment team
which talk about the details of actually
how you create it and it's actually not
very hard I've tried it and I'm by no
means a developer I just use netbeans
and created a project and put the xml
file in signed it with a self-signed
certificate to test it out insert you
know inserted that self signed
certificate into my JRE and lo and
behold I was like running apps without
security warnings it's very cool okay so
as part of the processing I've mentioned
checking the security baseline so what
happens if we discover the user is below
the security baseline this lovely dialog
pops up really this is the windows
version and its purpose is to alert you
that hey javis how to date we'd like you
to update now if you are using
deployment rule set there's also an
optional deployment property that you
can set for your end users if you have
control over their machines to suppress
this dialogue so in a managed
environment you can make sure this
dialog doesn't appear
however out on the open Internet we
really do want people to stay up to date
to protect them against latest
vulnerabilities and such okay so in this
case the dialog you know the update will
just put point you to Java com so you
can get the latest version if you click
block it will actually stop the
application from running and the dialog
will go away later will that will allow
you to run the java application and then
it'll pop up a few days later the next
time the plugin loads so this all
happens before actually any java gets
run so this is a native dialogue and so
we're catching it as soon as we can
before you know there's a potential for
a malicious app to take advantage of a
known vulnerability okay as i mentioned
every app now prompts that's life in our
current age and so this is an example of
dialogue for an unsigned application all
we really know about this application is
where it's coming from so that's pretty
much all we can show you and it takes
multiple clicks to actually get to run
it the user has to accept a risk and
there's also a bit of scary red text
there and the foreshadowing that in an
upcoming release we will be blocking
unsigned applications to protect
end-users and if you think about it I
mean this behavior is really consistent
with what browsers are doing it when you
download any kind of payload they kind
of prompt you and say hey do you want to
download this thing from the internet
okay
so you may have probably already seen
these dialogues but on the left is the
Java 6 version and on the right is the
current version we've this is for a
application signed a full permission
application sign with a trusted
certificate from a trusted certificate
authority and the goal here is to
present the information cleanly upfront
and in a way that doesn't scare the user
away and from what we found it it works
pretty well we've taken out some of the
jargon and tried to just focus on what's
what's the risk here in this case we
feel like there's you know some risk
everything in summer is but it's fairly
low and so there you know aside from the
bigger visual change they're a bunch of
small changes that I'll just make you
aware of we have sandbox apps we present
to the user as limited since they have
limited permission to muck with your
machine all permissions apps are
presented as unrestricted since they can
grab anything on your machine in the
future we'll be showing multiple hosts
when you deploy something with multiple
with files in multiple locations we've
also played with what we call what used
to be called always trust is now called
do not show again to be more consistent
with users expect plus we never check it
by default in the past there were some
situations where you could just click OK
and you'd never see it again we've been
advised not to do that anymore note that
the certificate and the location are
actually now saved as part of that do
not show again so as in the past you
would click that button and any
application from with that certificate
would run without a prompt in this case
now it's restricted to just the
application from that location and that
certificate in some scenarios we we hide
this do not show again under the show
options mostly that's for things like
self-signed where
we really don't want anybody to click
that unless they really know what
they're doing and then in the more
higher risk scenarios we may leave that
option off altogether okay so just
curious if in case you didn't know the
icon on that dialogue can be yours with
a simple change to your jnlp so if you
want to do a little bit of customization
that's available and that may reach
reassure your your end-user that it is
the same app they're you know they're
looking at they want to run there's
other customizations of course you can
do with the loading experience like you
know the animation or the graphic those
are also part of your jnlp file and
encourage you to do those if you don't
want the generic Java loading okay
mentioned online security a certificate
checking so here's an example on the
left of the old dialogue from with annex
when you run an app with an expired
certificate nowadays that dialogue has
grown a bit risk is more front and
center requires multiple clicks to get
through so as I said this this situation
is you know we're trying to encourage
developers keep their certificates up to
date however things will typically still
be runnable the user just gets this
extra warning also as I mentioned no now
really means no so if the user cancels
when they see this dialog instead of
just continuing to run and potentially
failing or doing something else we just
kind of stopped the app from running all
together and as it turns out this is
what users expect to happen
as part of our security changes in the
UI we've made a bunch of changes to the
Java control panel and so on the general
tab we've included a status that shows
hey if the if java is enabled or not in
your browsers and we also have a handy
little link there to the security tab so
you can control that when you get to the
security tab there are several options
you have that that check box at the top
that enables Java in the browser or not
I will note that the administrator can
actually turn off Java for everybody if
they want on their machine but if it's
on the end-user themselves can actually
disable Java for themselves if they want
so it works at both the high level and
the low level for the end user level now
the levels of course the definitions
will migrate will evolve over time but
in general very high will block anything
that's not identified properly and that
definition may change hi is the default
and currently blocked self signed and
unsigned if you're below the baseline
and medium is kind of a compatibility
level which will run at this point
everything with a prompt okay
now when we block apps we have this
dialogue that will pop up tells you you
know the app that's being blocked and
where it's from as well as you know an
explanation of what happened you know
your security settings may have blocked
it or it may have been blocked for some
other other particular reason currently
as I said we're popping up this dialog
our aim is in the future that this would
become a little bit more transparent
like it just wouldn't run and you
wouldn't necessarily bug the user to
tell him it didn't run especially if
it's kind of a zero sized applet you
know this dialogue would be kind of
confusing so just a note one thing we
were able to add is we have a Windows
Start menu item and I laugh because this
has been a long time in the works but we
finally have it there so that there is
access to more information about Java as
well as the control panel so where it
used to be kind of buried on windows in
your windows control panel program files
blah blah blah now it's much more
accessible now if the changes we've been
making are not just to the JRE itself
but the tools around it so we introduce
something we call the Java uninstall
tool this is deployed on Java calm and
it is we now point to it after you go
through and install we verify that job
is installed properly and then we tell
windows basically only applies to
windows go go here and check that you
don't have old versions that you should
remove and so the user will you'll see
this little screen they'll say I want to
continue and then we'll show them what
versions are on their machine in this
case you know there are a few older
versions and you know tells you what the
current version is that you're running
with and this this process has been very
well received all the users are just
like this is so easy for them now so
they can
clean up their machine they feel good
about getting those things off and it
helps us in maintaining security we've
also included now what we're calling the
Security Center it's like a microsite on
Java calm since we we acknowledge not
just consumer end users are going to
Java combat developers and
administrators end up there as well so
this page gives some pointers to various
resources both for end users and for
administrators and developers and I will
just give you a preview of kind of the
page we have there for developers and
that points you off to important
information on otn on Oracle technology
Network about you know what's going on
in security security security guidelines
and those resources that will help you
out now as I said everybody doesn't look
at our websites and read our blogs all
the time so we're trying something
coming soon to message folks out there
who are not here at javaone and who
aren't necessarily following our tweets
and our Facebook page about things like
the permissions manifest entry so we've
included this yellow box here it's it's
meant to be not not too scary sort of
like a service interruption notice you
might see you know if you go to a
website and it says hey we're going to
be down next weekend this is basically
telling developers you guys that
something's going to happen here watch
this space and when you click on the
more information link on the right side
there you'll get that more information
dialog with a link to the actual
documentation about how to address the
issue so right now the issue is the
permissions manifest entry in the future
you know there may be more so open to
feedback you know I realize this is a
little unconventional but we don't
necessarily have a better way to get the
message to as many people as we can so
your your custom
is me if they do see this they may
contact you and say hey I saw this I was
able to run your app but you know maybe
you need to look at this so we hope that
will be useful okay moving on to next
steps so as you've heard many times sine
your code that will give the end user
the best user experience use these jar
manifest attributes that will make sure
that all the information that's shown is
secure and not mucked with we would
recommend hosting both your code and
your deployment files in one on one
server that would give the simplest UI
or make sure to use the manifest entries
to make sure that we know that it was
intended to be split up that way and
then of course there's an alternative
you know if all the changes of the web
are really not working for you you can
consider packaging the app and deploying
it through the web store and a web page
and we have tools to help you do that
that are being evolved as well
so that's pretty much what I was here to
kind of get across you know using the
most secure mechanisms will give you the
best user experience we are evolving our
experience our best practices to make
sure that the open web has the highest
level of security for all our end users
and we discourage malicious use of our
code java code and then of course you
know investigate the deployment rule set
that may work well for you to make sure
you you've basically suppressed all
those prompts when when they're not
necessary and then here are some
pointers so of course these sessions
have already happened as it is Wednesday
but you'll be able to get these slides
probably I think next week and you can
go back and take a look if you've missed
any of these sessions and get get some
good information I believe the sessions
are also recorded so you can listen to
them on the web ok now I'll open it up
for questions comments wow cool
autographs all right</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>