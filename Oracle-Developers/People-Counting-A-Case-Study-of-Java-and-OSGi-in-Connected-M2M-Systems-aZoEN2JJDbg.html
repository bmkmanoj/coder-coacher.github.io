<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>People Counting: A Case Study of Java and OSGi in Connected M2M Systems | Coder Coacher - Coaching Coders</title><meta content="People Counting: A Case Study of Java and OSGi in Connected M2M Systems - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>People Counting: A Case Study of Java and OSGi in Connected M2M Systems</b></h2><h5 class="post__date">2015-06-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/aZoEN2JJDbg" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so before we start let us introduce
ourself so I am Marco
I am VP of software development at
Eurotech for those of you that do not
know the company it's a global company
headquartered in Italy it has over 20
years of experience in the development
customization and deployment on the
field of embedded and connected systems
operating mostly in the industry
vertical of industrial transportations
and defense it is a coated company we
offer both standard products as well a
custom service and recently we have been
evolving the offering into embedded
software is the development of these
applications on the device as well as a
cloud-based device management and data
management solutions for machine to
machine and Internet of Things
applications good afternoon
Papa shell with Hitachi Communications
based out of Richardson Texas I'm the
vice president of business development
for the machine to machine and to M
marketplace
Hitachi communications technologies of
America handles majority of the North
American market for the telecom
marketplace providing a number of
hardware and software products as you've
read a lot of the press the you know all
the horizons for anyone from Verizon or
AT&amp;amp;T here
okay well the Verizon's AT&amp;amp;T you've kind
of run away with the m10 space thinking
that if you have a cell your connection
is FM as we you'll see from this
demonstration connectivity is one part
of an MDM solution or an Internet of
Things solution and Hitachi provides
software layers that enable that more
effectively in the marketplace thank you
so when Paul and I started exchanging
few ideas on the topic of this talk we
started from what are the biggest
challenges for people that are actually
trying to develop a machine to machine
an Internet of Things application and
what can we do and how are our
technologies combined together we
actually have been partners for several
years help you to overcome these
barriers and get to the market
so we wanted to do a presentation that
is really in the context of the
real-world use case and how especially
Java and OSGi on the device side can
help you and get faster to the mask
faster to the market more robust
solution at the lower cost and
especially solution Connect can be
easily managed over time as you deploy
more devices on your own your
application needs so the case study that
we actually selected is a case studied
for machine to machine and Internet of
Things applications that drive key
business metrics from monitoring people
traffic so why people counting then out
of all the possible applications out
there
well people counting turns out to be a
key business metrics in a lot of
verticals some of them are actually
pretty well known retail there are
actually key retail metrics at this
point in revenue per visit that you
actually measure the retail chains
transportations they actually use a lot
of almost real-time optimising of buses
trams or even trains to actually bring
the right set of vehicles at the right
time as well as driving business
intelligence and analytics over the
historical data that gets that gets
collected to actually open new routes
same thing for like big cruises or
airports there a train station where
there is a lot of aggregation of people
but what has happened recently is that
the barrier of entering in these markets
either through the cost of the sensors
or pre-built component that let you
assemble the whole solution has opened
this type of technologies to even
smaller players like eurotech with
Itachi as customers in Singapore which
is a small taxi player that is actually
using people counting technology to
understand where people accumulation is
and direct traffic to anticipate the
call so predict basically where the taxi
should be to actually offer the best
service and this is something that we
are actually prototyping right now even
more unusual and probably something that
you will now think of as a machine to
machine on internet or things
application
is cleaning service for public toilets
and alone I know that sounds funny but
it's actually a real use case that we
have been prototyping and deploying and
most of these cleaning services up until
now were actually scheduled on a
periodic basis so every hour or every
two hour a cleaning crew would be sent
and and with duties now you can actually
not just do it on time basis but you can
actually count the people that are using
their services and actually redirect the
cleaning crew at the right time when
most of the service is needed why is
this possible as exactly as we said
because the lower the barrier of entry
the more off-the-shelf components can
actually be connected you can't reuse
these application and and get the
solution up and running at a reasonable
cost and immediately get valuable data
that you can use to optimize your
business so as we were going through
this vertical will poll we said well you
know this light doesn't even cover half
or possibly all the news cases that you
can use in fact this can be applied to
tourism but why not can also be applied
to large event management like JavaOne
and open word so out of that we started
a longer conversation with our friends
here at Oracle and we said well instead
of just maybe discussing this as a
theoretical use case or some use case
that we did in the past why don't we
deploy these technologies here at
JavaOne and open word especially
monitoring parts of the shows like the
whole D at Moscone where the keynotes
are or the exhibit all here where you
don't have data or have a much traffic
ax in fact if you get into any of the
sessions like the one that you came here
your bad girl scan and you've got
perfect date of everything that happens
but other areas of the show you don't so
we start about like that and then a lot
actually Paul described you know what we
identified and how we plan the whole
show and then we'll move on to describe
the technical solution how this was
achieved
yeah thanks Marco so on the agenda what
we wanted to cover and again we wanted
to use the people counting as a
representative solution for the Internet
of Things and as we've been around for a
while and getting more great here they
you know it's the longer you're in the
market for and Tamre Internet of Things
and more they start looking the same
just different getting retooled and
making improvements along the way and so
we're going to go over the people
accounting application and overview the
use case here overview of the demo
exactly what was a demo why we had put
it together
the architecture of the system here's
the key components and these components
the sensors the gateways the software
stacks the integration technologies and
the analytic tools are all similar to
majority of MTM applications it's kind
of the chain of events that you need to
string together to provide an end-to-end
solution the eclipse foundation will
talk about tools and initiatives going
on with the Eclipse foundation so it
makes it easy for software developers to
start looking for solutions as opposed
to trying to do things from scratch
so it's not heavy lifting for every and
2m solution you're trying to build in
the marketplace and if time permitting
we'll go through some other application
and use cases so as I said the kind of
the string of activities here of the
demo an overview on any end-to-end
solution there's a number of things that
have to have to move forward and in this
case we've used a Java and OSGi and
we'll get into a little bit of those who
are not familiar about with gie what it
is and how it's being used as part of
this demo but the first part of any mm
solution is the collection the
aggregating the data from the sensors
that's the ability to pull that
information get it into a format for
transport upstream into into the cloud
so the transportation of of that data
starts turning into information but it
has to be transformed along the way
because it comes in proprietary formats
proprietary languages talking to
essentially different clouds the
transport helps with that by
transporting getting even over the
physical connection now you're getting
to the logical connection of any data
transformation has to move for
the analytics we are applying some
state-of-the-art analytics if you saw
the Java keynote yesterday you saw some
of that on on the screen and the
manageability since this is a lifecycle
management nightmare if you're if you're
putting custom code custom solutions
together by using tools such as OSGi and
Java providing the ability to provide a
manageability and again applying these
standards for an end-to-end based system
and that's what we're trying to do when
when Marco and I started this
conversation with Oracle is how do we
apply it how do we apply it in a real
world end-to-end system and how do we
apply to a Java one which will resonate
to the folks here and then be utilized
as maybe a framework for someone who has
an idea of another solution that they're
trying to build so if you look at what
we've been doing with the people
counting one of the key areas was
placement where do you do people
counting as mark mark red mentioned if
you have a badge with the tag someone is
scanning you in and and looking and you
have some sort of physical way of
collecting the information but in a in a
format such as the exhibit hall at
across street at the Hilton where we're
putting people counters in allow where
there is no way of collecting that you
want that real-time knowledge of flow
people how many are in there how is it
going what time of day correlating the
same that this data into real live
information that is important not only
for demonstration purposes but for
future planning of events here as well
so we're understanding time of day one
of the things people are coming in out
when are they leaving what what are the
parameters of moving forward so as a
result we've their sensors that were put
in the doorways on the exhibition you
probably don't even see it when you walk
there and today exhibit hall you'll see
some signs that say Java one and and in
there is the physical configuration of
the people counters and purposely one of
the biggest issues with machine to
machine is getting that sensor how do
you get that sensors into places that
normally are very difficult to do in
this situation we're putting sensors
into a place that is being trafficked by
people so how do we make
that it's not visible to folks how do we
put it in without drilling holes into
walls and not in the hilt not allowing
us to do that have to be some creative
creativity in terms of placement of the
sensors and the types of sensors we can
do for creativity purposes so when you
go through there you could be the one of
the first ones looking up and seeing
yourself being counted and Marco go into
how that technology works in a few
moments and then we have the different
booths within there where we have you
could get a demonstration where you
actually visually see how we put it
together at the Oracle booth had thought
you booth and at the Eurotech booth
within the JavaOne exhibition center and
then we have it we put the people
counters in you'll see it in the
entrance and the exits for the
registration for job one so again we
placed them in in the in structures
right above and you'll you'll see it
when you go in the entrance and you go
out the exit so besides just counting
how many people going in you have time
with day data so you have counting of
people coming in people coming out you
potentially see queuing times of hey
there's more people coming in than
coming out the lines must be getting
older and that line is that duration is
getting longer
maybe we should dispatch more people at
the desks here to handle the flow or if
the line is very short that maybe we
have too many people sitting around
which dispatch them to the open world
the registration who may be having
problems at that point in time so clear
is just beyond counting people when you
put other metrics to it our key to
providing unique business insights yes
no it's it's it's bi-directional and
we'll go into the science of the
detector here in a second and those who
went to the Java one Kino yesterday and
the open world you know yesterday you'll
see right right above here is where the
sensors are so we had to disguise the
sensors into the entrance of the doors
doorway people know and blended it in
with the with the fabric of the of the
entrance so the lines were cued up and
you'll have some readouts of data of
watching how many people came in kind of
how long they've come in you got that
matter rush and how they they taper off
and and you'll see a lot of this was
done with our partners a euro tech so
they have the people counters they have
the gateways that aggregate the
information they helped design some of
the physical structures were these
reside the people counters are here
these are the gateways that aggregate
them here is the the sensors with with a
tension bar that you tighten up enough
how old everyone is them if they still
have them right I guess if you do power
or 90 whatever that thing is you get the
tighten them up in your doorway and it
it pushes out you can do your pull-ups
similar scenario here well we have to
put make sure that those were in the
Hilton area that we didn't damage the
wallpaper and leave any marks couldn't
drill any holes so there's some
creativity in terms of placements of the
people counters as part of the
logistical challenge we had of just a
physical and this goes for anything I
mean if you're in an m10 world you're
putting a sensor on a drilling rig
that's in some hostile environment out
in some Gulf area getting that sensor in
there get making it and mounting it and
bringing that data back is the same
problem we have as you have here
placement of sensor is the type of
sensor the durability of sensor getting
accurate data are all the step one of
providing information and the MTM
solution a half a ton of equipment came
over for for this them so it it was
quite a feat putting it together it
sounded good on paper first
a letter so as Paul described the
deploying m2m system starts from like
what is the value what is the data that
you want to collect what is the valuable
data that you actually wanted to pass to
your business intelligence and analytics
and that was what was done we actually
scouted for good locations that were
easy to monitor but yet provide valuable
intelligence that event managers
normally do not have then the next
challenge was okay now we know what we
want to know that we do not know yet but
how do we put it all together yes we do
have people counting sensors yeah so we
have a device like this that we can
actually install flush to the ceiling
it's very discreet it can be very easily
disguised it is anonymous in this
technology and we'll describe it
afterwards but then how do we get what
this sensor is reading in terms of
people in and out all the way to a
business intelligence applications
running in Oracle cloud and out of that
ran bi dashboards and JavaFX
visualizations so how did we do it this
is the architecture slide it was a back
and forth between us
Itachi consulting and the Oracle folks
as you can see it kind of like it can be
teared across the same faces that the
poll was described before a collect face
on on the device side and edge
controller that aggregates all the data
from all the people counter that you see
and if you'll go Scout to some of the
installations that we have around
Moscone has five people counters four or
five people counters the exhibit hall as
seven so there is one edge controller
that could potentially could actually
control one or more of these sensors the
limitary is actually that each sensors
can monitor an opening up to two meters
wide so if you have more doors or you
have larger openings you actually need
to deploy more sensors
the edge controller needs to be able to
pull the data but the edge controller is
almost two-faced in the sense that it
has an interface towards the field so
being able to collect the data and
monitor the edge counter possibly
rossette the people counter in nighttime
so that you get clean starts in the
morning to erase any possible accuracy
error that you have accumulated over the
day but it also has another side which
is actually the interaction to the
clouds so the interaction to actually
being able to take the data and publish
it to the cloud for the business
intelligence and analytics to consume it
it is also called edge controller for
the purpose that you can actually
receive messages for the cloud to go
back to the management point that Paul
as mentioned earlier you should be able
not only to push our software firmware
upgrade or sorry software firmware
upgrade but also possible commands you
may actually want to turn on lights for
example if you have intelligence in the
cloud that shows that the occupancy
levels of a certain room has been
reached so it's actually bi-directional
communication to the cloud to send
status update and receive command as
well as a field controller to actually
manage the devices and we'll go into the
hardware and software architecture of
those later then there is a transport
phase right so while in this case most
of the devices are connected through
Ethernet connections in m2m an Internet
of Things application most the time you
are actually over a wireless link mostly
cellular or you can even be satellite
and we all know how flaky those
connections are and also how expensive
they are so while there are a lot of
good protocols for wired and established
protocol for wire communication in m2m
and Internet of Things the choosing the
right protocol for your communication
can be a key saver for paying later on
this specific case we chose one of the
emerging standards is not the only one
but it's one that is getting good
attractions it's mqtt Message Queuing
telemetry transport and we'll spend a
few minutes on slide on what are these
key points and its benefit for the
specific use case the Eurotech cloud our
device cloud as we call it was chosen as
the first aggregation point for the
communication
the gateways in this case in this
installation at JavaOne and open world
we have eight gateways collecting data
from 18 passenger counters or people
counters and basically the cloud has the
mkdd broker to all all the devices
connected and uses that broker to expose
management interfaces towards the
devices and kit it is the publish and
subscribe protocol and the Oracle cloud
has a listener for mqtt that will
actually get the message messages that
are received from all the devices and
stored it into the Oracle database from
that on is and pure enterprise software
now the hard part is done
once the data is in the database there
are plenty of good tools and solution to
crunch it in this specific case we put
it in an Oracle database I think it's in
11g r2 for those technically inclined
and then on top of that there are
several materialized new an aggregation
point we use actually the Oracle event
processing to actually do some of the
initial Act aggregation and process the
data is flowing in as streams and that
data is actually eventually published to
aggregated tables where we show
dashboards through the Oracle business
intelligence and JavaFX so we kind of
walked the whole architecture stride
left to right we're going to take a
slightly closer look to each of these
component especially the first three I'm
sure there are plenty of other session
an open word that will give you good
information way better than I can do on
business intelligence and what value it
provides feel free to stop if there are
questions or anything like that
yeah so the gateways are actually
pulling the people counters every second
and accumulating the data locally into a
local database in the Gateway and we
actually chose to update to the cloud
and the rest of the business
intelligence every 30 seconds so each
gateway is actually published publishing
up to the cloud updated people count and
traffic people of people every 30
seconds oh really now a lot every
package is probably a few hundred bytes
is really not a lot it's basically two
counters in and out for each other each
of the people character so in this case
for example would be three pairs of
counters and a few status information in
terms of communication error status
error and the agnostic on tools in
addition today is an optimized encoded
binary protocol to serialize all this
data for the gzipped again you know
standard stuff okay well it is actually
I will show that afterwards but it is
okay so again we'll start left to right
so the first one we're gonna be talking
about is the people counter you can see
I mean there is the picture there it
looks much bigger than what it really is
in reality um so my my son was asking me
yesterday says so what are you doing
down there in America are you building a
robot and I said yeah we're building a
robot that is counting people and in
fact I think the two eyes for the
stereoscopic vision reassembles a little
bit of a robot but yeah that is key
characteristic so is the stereoscopic
vision that combines a set of
technologies including infrared
illumination to actually get a 3d view
of its space underneath so it's actually
creating a cone of its field of view so
it's kind of like blob motion tracking
in 3d space if you will the sensors that
are inside are specially designed and
specially developed they're actually
optimize the
for frequencies that are not the visible
wavelengths what the eye is see but much
closer to the infrared and I'm sure some
of you can guess the idea of that is
that this can count in very low light
conditions not darkness but very low
light condition that's the benefit they
kind of like by-product this benefit is
that the images that this sensor see has
nothing to do with reality so these guys
is completely anonymous as no privacy
concerns in fact it was funny yesterday
during the JavaOne keynote we were
monitoring the Twitter feed as Peter you
was describing the solution and as soon
as he mentioned that by the way you guys
just pass through the people count in to
enter Moscone D there were a couple of
people immediately say oh I have not
seen the privacy and statements on my
registration pick people are tracking me
without telling me and the reality is
not there is really no way even if you
had the full access of the flow of
information that is Cocalico lacks that
you would be able to trace that data
back to a physical person because you
lose all kind of physical
characteristics so how does it work if
we go a little deeper is something like
this so because of its telescopic vision
one is its biggest possibly important
aspect is to actually install it at the
right height so that it focuses at the
right distance from the sensors but he
creates a cone of view like that so it's
fill of you is cone shaped and he's
tracking blobs in a 3d space they go in
and out their image up there the black
image is actually what he sees so it's x
and y coordinates are the position on
the blob and the Z coordinates if you
will so the intensity or the color is
the distance from the sensors so the
brighter the color the closer the dark
here the farther it is and then it
tracks all the blob only for basically
I'm sorry I'm talking about a metric
system but I mean you can get an idea so
it's a meter and a half further down
what kind of like two meters further
down from the sensors keeping the first
20 30 30 meters so if a dog walks by he
will dock
it yes please what do you mean top
button no no they always have to be
installed over over the entrance that
you are monitoring yes so as soon as an
object that qualifies for the right
Heights right so a person even walking
you with the trolley will be counted one
for example so I would say that is lower
will not be counted as soon as an object
enter enters its field of view starts
the tracking the second aspect is
actually oops I'm sorry
the second actually is actually the
threshold which is this line here which
is configurable normally is configured
just right under the field of view so
when the blob motion crosses the
threshold that counts that's one or zero
depending on how they in and out are
configured there are a few other key
things of the object that makes it you
know out of experiences that work there
were several evolutions an example is
when you install the object for example
or a bus or a tram there are actually
doors that open and close that's another
piece of information that may actually
trigger additional count information so
let's say that the bus is really really
crowded people get in the bus they are
actually standing close to the door
let's say that this is the door but
there is not enough room to actually
cross you can actually program it in a
way that by receiving a signal that the
doors were closed even the people that
were still waiting will actually be
counted and so on and so forth but this
is the sense of the technology basically
so it's a 3d view with the infrared now
sure
yes thank you so the queue will actually
be counted generally with two of them
right so an entrance of the queue and an
exit of the queue and you correlate the
data of the two and I will give you the
idea of you know like how many people
are actually there which brings us to
the next point that we just got the
sensor right but as in this example as
in this question you already need
something more to make sense of the data
that the sensor produced so the next
step is the edge controller m2m and
Internet of Things literatures start
referring to them as multi service
gateways these are basically the next
evolution of embedded computers up until
recently embedded computers were always
developed in customs like customers
where custom software custom tool a
chain and that was why they were so
expensive and so long to produce but now
we do have devices that can actually run
software stack there is way more modern
way more versatile much easier to
program that will lead us to more
application portability you can actually
develop this and move it so we as your
attack have some of these products in
this case we are showing the one that we
are using in this demo Java one and open
word demo it's an add-on based embedded
computer it's certified for
transportation and industrial it's
globally certified for all the carriers
that's for some of you that went through
the certification process they know you
you may know how expensive and painful
they are let's just say that on these
specific devices the certification are
honest you get it and you can deploy it
it everywhere you want it's very rich in
i/o and at very rich in connectivity as
that's often the case in m2m system you
have to interface towards the field and
there is a lot of fragmentation they are
both in terms of physical as well as in
protocol interfaces so how you interface
so generally we stuff we put more stuff
into each of these boxes to make it more
valuable and more purpose so people
counters are connected to the Gateway
and let's start actually looking a
little bit deeper into the software
stack which
the reason of the stock and the
versatility of the software stock to
make this easier to develop so at the
bottom we have wind river as our Linux
system so while these are getting
powerful they are still embedded system
so you want a software stack that is
aware of that and Paul will tell us more
about this so wind river linux is a
supported distribution for embedded
systems especially targeted for embedded
system they have good tool chain could
support runs well on adam and on top of
that through our partnership with Itachi
with some development and we'll actually
see the next step also in towards in
open sourcing we actually started
putting together a set of building
blocks that offer the most common
foundation of functionality that you
need for this m2m system so why don't we
start on that yes
yes so the people counter is hardwired
yeah I'm sorry it is yes so actually I
should repeat the questions for those
who do not hear is like the connections
between the Gateway and the field device
in this case the people counter so the
people can turn its power and
connectivity in this case we are using
an rs-485 bus so in the case for example
of one people counter sorry one Gateway
with seven people counters there DC
change to each other for this specific
installation just because as the rule
always apply you always need something
custom when you're doing m2m we actually
develop some custom connectors so that
we had a single wire that was daisy
chaining both power as well as
connectivity from one people counter to
the other in fact if you go to the
entrance of the exhibit hall at the
Hilton you'll actually see that wire we
were not able to disguised it very well
but there is a single wire that is daisy
chaining all of them bringing both power
as well as connectivity that's right
that's right so talking about the
software we talked about the hardware
platform in this case intel but as you
all know arm is also very powerful and a
popular player for these type of
applications on top of that linux and
then our choice and that started already
like six or seven years ago who actually
employed java for embedded application
we're mostly attracted by it by the
value proposition that java brings with
it in a sense that application
portability you have byte code that can
runs across a variety of hardware and in
case of embedded hardware evolution is a
problem a lot of the time you do custom
boards and some of the components to get
the end of life more and more frequently
I should say whenever you have to
replace an end of like component most
the time you have to redraw the board
you redraw the board you operate a lot
of other components and you soon find
yourself that you have to revalidate the
whole stack right so at least with java
you get an application to get ported
across all of these without having
a problem there in Java was one piece of
the puzzle but the other piece of the
puzzle was OSGi so the modularity that
OSGi brings the ability to actually
deploy modules at runtime
corefoundation services like remote
configurations are a multiply madad main
where all essentials want web
applications so the the two the two
technologies together made a good bundle
in this case question paul will give you
a lot of details of what happens in the
next slide and then on top of that over
the years you know tec started
developing a software framework is
called the everywhere software framework
that provides a set of bundles that were
very very common in all the applications
that we will deploying some of them were
offering the vise abstractions are the
wise device connectivity and we'll go a
little bit in in the context of those
they are all OSGi bundle yes so in the
context of this jar one application you
can see some of the key bundles that
were deployed the modularity of SGI
being the key here that you can reduce
the footprint to exactly what you need
without having to change all your
applications so there is one bundle that
comes from your attack which is people
counter is on our standard bundles that
we give with all the people counter
solutions the MQTT client for the
transport application logic for the Java
one specific so you know where to
publish your messages what the endpoint
credential security stuff like that and
we played also a little bit with
embedded analytics so we put the Oracle
event processing engine into there so
there was one nice to have in the demo
that we did a magic to air which was
actually to have LCD panels that were
actually showing the occupancy level in
the room and that was actually planned
using embedded analytics so but going
back to the foundational layer Java you
have plenty of talks you can go around
the conference and find out more we'll
take this opportunity to actually
explore a little bit more about the usgi
platform and specifically the one
provided by attaches to project so I'll
leave that to Paul yes please
I'll mention in that at the end but it
is the power client so the folks who are
not familiar with OSGi what is it it's
first it stands for idea of a
presentation one time and I was just
using OSGi and someone had to stop me
and say you know what it's what is OSG I
am flora so open services gateway
initiative it's it's done by the OSGi
alliance was a consortium of industry
professionals who proliferate the
standardization of OSGi you know Asia I
originally was for embedded systems but
then evolved to war in in the way of
some enterprise but still has embedded
will an enterprise based configuration
it's a it's an architecture for modular
software applications trying to simplify
software deployment development testing
and deployment of that that software
it's built on top of Java so it breaks
the key part of it it breaks by
specification breaks the software into
bundles or modules called bundles and
that's where Mark was referring to all
the bundles that are being utilized in
the marketplace and I'll go into some of
the dynamic capability of why it's
important and why it's actually very
helpful in the embedded space and it's
clearly you've seen I'll just go back to
Marco slide here we're moving the
enterprise all the way to the embedded
here this is a server that's a device
server or machine server and a thing
server but with embedded capabilities
it's headless there's a number of things
you have to put in place in order for it
to work in a better environment because
you can't send anyone by helicopter to a
drilling drilling location or in a mine
at a moment's notice as opposed to a an
Oracle cloud service at a facility
that's hosted 24 hour 24 by 7 so Hitachi
has their own OSGi stack called super j
framework it's made for the embedded
environment is built ground up there's
open source implementations of OSGi out
there we've opted to have our own
implementation with other typical
benefits of being a smaller footprint
and supported by Hitachi and there's
other legal ramifications why people
would
in any software or why they go you know
with a supported software versus an
open-source version of that we also have
a management server as well that I won't
cover as part of this discussion it's a
dynamic it's a modular system for Java
or you know you could you know use the
benefits of now Java with OSGi right
right once run anywhere it's already
being deployed and many devices a lot of
the home routers that you're out there
like Netgear has OSGi running in them
and as if you have services like AT&amp;amp;T
digital life that has an OS GI client in
there as well so OSGi is making its way
and to embed it either in connected home
connected vehicles connected people
counters so as a result of OSGi probably
the major feature why people deploy it
is for the lifecycle management the
ability to send the bundle down to end
the vise that's running a framework and
OSGi framework to start a bundle of stop
a bundle on deploy it upgraded uninstall
it dynamically without taking down the
entire system and provides question was
a database embedded can is it just
native to the device or as a part of a
bundle but as marco said it's it's a
bundle and then the ability to share
across bundles and share with the lower
levels or get into the stack in a second
of how that actually works and the real
strength of osu i team up with the
bundle deployment for embedded so if you
look at at the breakdown of the
structure functionally we have the we
have we have the hardware component here
the Linux the JVM in the OSGi and then
you start putting bundles in for ease of
programmability ease of use ease of
deployment the Vice abstraction is the
ability to if you're doing C code you
have to write drivers or get a library a
driver to write a z-wave driver or
ZigBee driver or a USB driver
with abstraction you provide
abstractions where the substracted to
the to the software person using OSGi of
putting up a bundle on top JVM where
you're just writing to a device and you
irregardless of the connectivity that's
abstract it out to the to the software
person you provide some basic gateway
services so again these are headless
they're sitting out there so you have
like a watchdog timer out there at the
ability to stop a or watching when
processes break are not working in a
remote location the ability to restart
it remotely are part of the tools or
part of bundles that are done you may
want clocking that's very accurate so
you can get clocking sources as well
that are all part of bundles that are
part of just normal tools that are be
made available for people building
embedded applications you have network
configurations your ability to configure
two different connections irregardless
of its satellite 2g 3G 4G a Wi-Fi
connection providing connectivity in the
persistence of that connectivity and
then connecting where the MQTT would sit
you have the applications to do some
analysis you have the ability to put
field protocols so sometimes you're
talking to can bus or Modbus these are
protocols that are prevalent in building
automation or industrial automation
systems how do you take those convert
them put them into mqtt web 2.0 or
restful json interfaces and send them up
to the cloud this all can be done on the
local and these are basic tool sets that
you would build an embedded application
and then of course you have the
operations and management and a GUI
interface to get in and do local access
if you need it these are part in mark
we'll talk about it will be part of
submissions into the Eclipse Foundation
open source environment so you're seeing
the basic building blocks some of that
which you've seen in other software how
are these building blocks making its way
into open source how to be making them
available for people building Java based
solutions that make it easier to
kick-start these applications so
everything doesn't have to be done from
scratch every time you start a new
project
since this is your product line we start
running a little bit short on time but
the portability of Java and the SGI
stack definitely proves that you can run
the same type of application and port it
across a whole set of hardware we just
show some of them here actually one part
even more important probably in offering
in ease use of development it would be
up there the ability to actually emulate
your m2m application on your laptop with
java you can even do that I can actually
connect my people counter try directly
on my laptop and write my java
applications in the comfort of the
environment so we always go through a
phase of like emulate then deploy and
then provision to a dozens of fields out
the devices how they are using device
management platform a lot of our
customer actually start here embracing
the open hardware movement and they will
actually do prototyping or raspberry
PI's so the ability to have the same
level of framework and software stack on
the raspberry pi prototype it there and
then move to more certified hardware or
more high-performance hardware depending
on your needs is a great value
contribution and another look another
value that this software stack actually
provides next if you look at the
software stack version of the
architecture we talked about the field
side let me spend just a couple of
minutes on mqtt this does not want to be
a deep dive on it you can definitely
find more information on the Internet we
chose MQTT because it is one of the m2m
message protocols that were designed
from the ground up to be used for m2m it
has a lot of features in the protocol
itself that dealt with flaky connections
the ability to actually know for example
when it device disconnects itself it has
low bandwidth low power it is verifiable
friendly all the connections are
actually initiated by the device so as
you show you the play with network
settings that's generally allowed in all
the network's environment to actually
have outbound connections much harder to
have inbound connections having being
the connection device initiated and
always on you always have visibility of
your devices you can manage them and
probably
and access them anytime you want and
that's the key value for us and that's
why this was chosen it is published and
subscribe but that means that messages
can be published to a hierarchical topic
namespace with a lot of wild carding
that you can play around with it data
payload agnostic and we talked about the
others it has a large ecosystem I'm Caty
T dot work is a good starting point it
is being standardized by the Oasis
standards working group Eurotech IBM and
many others are actually part of the
working group technical committee to
actually standardize the protocol itself
just to show how this was used in the
context of Java 1 this is actually the
topic treat as is normally called so the
namespace I was used everything starts
at Java one you can see how the topic
adds a layer of semantics to the data
that you publish and that's the beauty
of it so in fact you can actually say I
want and I'm interested in all the data
of the Hilton you can just subscribe to
everything Hilton hash and you'll get
all the messages basically deployed here
same thing for Moscone bustier and so on
so forth and this is the number of
people counter deployed at each location
so now the data gets published to the
cloud and we actually said that the
first thing is actually getting it and
put it in a database will probably go
quick on the safety of your mind and
then we have few people count tables
that gets the raw data and then some of
the aggregations that actually goes from
the air button as I said there are
plenty of tools I'm sure can be improved
by these kind of works so how does this
all work in the past few days maybe you
want to describe what we have seen yeah
folks who were part of Java one using
Java FX business analytics tools there
are graphical engine we had a layout of
the of the Java one in the Moscone
Center of the of the always going on the
cutting to people going through we
didn't have seat sensors so this is a
simulation so if this is a third or a
quarter of the way full that's that's
kind of a graphical depiction until you
put sensors on there the EC was showing
which one is empty what this was just
giving us a
graphical representing at this point I'm
worried about 1500 people had come into
the Java 1 keynote and then it is hard
to see this chart we have like 30 or
three-minute intervals and you could see
the rise time because everyone was
queued up outside and that mad rush
going through so the cute kind of went
big and then started slowing down as as
the attendees filtered in and it was
slow going in you'll see something going
on those are selectable in terms of the
increments you'd want for graphical
depiction a strong tool that's used for
using for analytics and be one that's
going to be very popular moving forward
we also as part of a Hitachi consulting
particular dashboard using regular bi
dashboards and if people came to the
second to the Larry Ellison keynote
obviously he keep garnered more people
than Peter Hugh Schneider he did the job
on one so there was about eight thousand
folks versus the 1500 folks and that's
shown know from earlier in a day and
then here's where Larry Ellison came in
you could see the big rush trying to get
through the doors and then that you
could provide other other tools and
analytics that providing average during
the course of a period of time a number
of things that are useful but the real
part was the plumbing of getting all the
data into the cloud using MQTT getting
it into a format that people can start
utilizing these tools and providing you
and interesting insights for County
people or venues and then other tools
out out there is you know in the
exhibition center we have JavaFX so
you'll see here at the Hitachi booth
have the Oracle booth the euro tech
booth and as you were counting people in
here have we've implemented we've had
time to implement that you'll start
seeing these things rise because we have
a people counter in a booth so that's
more people go through the higher the
the the bar value goes through so little
interesting things you can work with
moving forward
the key part here if you go to the booth
and you go in and watch a demo you get
stamps as you go through the different
partners in here Oracle eurotech itachi
consulting and itachi communications and
daily will have a chance to win an
fatso please stop by the booth grab a
passport get a stamp and submit it for a
chance to win an iPad finish up so I
also want to take this opportunity to
thank both Oracle as well as the Itachi
folks they were here a few seconds ago
and they're left and the eurotech
engineers sitting here in the front row
it was quite a bit of an effort we had a
lot of fun but it was certainly a lot of
work sorting the results are nice
encouraging and hopefully we can do that
next year too yeah I certainly encourage
everybody to if they have the chance to
attend Edward screven keynote at worst
grab on he is the chief corporate
architect of Oracle he's talking
Thursday morning at 8:30 if I remember
well can think so
and there will be a short part of these
sessions that will be presented the
results of the data that we collected
throughout the week or at least the most
interesting part so you can get another
glimpse on this architecture and the
information there so to sum it up so
what will be discussed we discussed you
know many of you may already know
end-to-end systems are hard to come by
hard to be put together
you can certainly separate them in
different phases I collect phase a
transport phase analyze and store and
manage and integrate and we can kind of
discussed like few example in the
context of the people counting
application on how to do all this
together so the people counter the multi
service gateway and the value of Java
and OSGi has key technologies at this
point ready for a large adoption and
maturity playing a big role in that
context we discussed about one of the
possible transport protocol I'm Kitty T
and I'm sure you can refer to other
sessions on on the higher part so let's
say that you want to start on all this
where do you start well my suggestion is
to actually explore what's available at
the m2m industry working group in
eclipse we are actually thank you Mike
for joining us today from eclipse so
this group actually started a couple of
years ago almost a couple of years
it was initially seeded by eurotech
Sierra and IBM who decided to actually
contribute part of their code on the
Eclipse Foundation and put together a
group of organizations that were
focusing only on M 2 M type of
technologies we as your attack by Itachi
to embrace the idea is great I think we
all embrace open-source as a great way
of actually overcoming fragmentations
and adoption barriers that it will lead
to more adoptions certainly better
software and better variety so the
working group has already some projects
that exited the project proposal phase
they are Mohini power and connect II as
we mentioned before POW is a transport
project especially implementing MQTT
protocol in various different languages
it is actually used in the everywhere
software framework that we described
Mohini
and Kenickie our framework and tooling
for actually developing m2m applications
using Lua and other programming
languages I just want to mention there
are many other projects that are in the
project proposal phase so I certainly
encourage you to go there I didn't have
enough room to put them all in here I
just want to mention one more that is we
are working on and involved directly as
you're attacking Itachi is Eclipse
project kora
that will actually open source the
everywhere software framework that we
describe today we are targeting the end
of the year if everything goes well that
should be available there
well in addition to
concierge issues OSGi framework
yes
we have a we have a version of ESF
running on equinoxes as well actually
deb deb was by last thing that i wanted
to mention I certainly we have a lot of
engineers brought with us we have ESF
running on the Raspberry Pi with sample
application a year a tech booth I
certainly encourage everybody to swing
by and get see the real application
portability from the Raspberry Pi to add
on base gateways so it's running there
yes equinox is there so the open verge
open source stack right now we use that
canucks for it okay and I'll take
questions if you have any
there are a whole variety if you ask me
the other one that I see emerging is
co-op the constrain application protocol
but there are certainly others out there
any questions no all right so I thank
you for your attention and enjoy the
rest of the week in San Francisco</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>