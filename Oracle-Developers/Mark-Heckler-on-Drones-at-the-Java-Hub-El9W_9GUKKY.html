<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Mark Heckler on Drones at the Java Hub | Coder Coacher - Coaching Coders</title><meta content="Mark Heckler on Drones at the Java Hub - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Mark Heckler on Drones at the Java Hub</b></h2><h5 class="post__date">2015-10-15</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/El9W_9GUKKY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello everyone I'm David Lopes for jumbo
one and i'm here today with mark heckler
to discuss his presentation at the Java
hub and a little bit about his job one
session well mark thank you joining us
today oh thanks for having me on here
well so at the Java hub you'll be
presenting about a drone yeah I was
asked to bring my drone as I like to
refer to it the spinning blades of doom
I started a couple years ago was asked
by another counterpart of mine Jim
Weaver if I'd like to play with some
drones and we started looking into
different api's optional API options
different drones that could support a an
API and actually getting in there as as
a maker as someone who wants to get
their hands into the innards and the
parrot ar.drone was about the only one
that that I could find that was under
you know I think it was at the time you
know three four five thousand dollars
and the parrot ar.drone was a fairly
inexpensive drone but it did publish an
API even though it hasn't really been
well maintained over time it gave us
enough of a foothold that we could start
developing around that and I worked with
some folks out of out of Europe who had
known as the parrots on Java guys and
they developed it really nice at Java
library around the underlying API and
from there I just started seeing how far
I could run with this and the the drone
itself doesn't have a lot of capability
processing capability on board so the
obvious solution that seemed to be to
stick a Raspberry Pi on it and see what
i could do with that and there has been
a PI running Linux and of course comes
with java SE embedded gives a pretty
capable platform to develop a little
higher level thinking for that drone so
between connecting the pie and setting
it up as a with dual Wi-Fi adapters to
where it can connect to the underlying
drone as well as providing wireless
access point for connection to it and
then coding it it turned into kind of
what what we
refer to as a positronic brain which
gives the drone a lot more processing
capability and then it was just a matter
of coming up with ways to allow the
drone to pilot itself and give it some
some higher-level thinking so I I did
put together a little video of that and
kind of showing some of the the warning
signs as well as the the fun side of it
again I was kind enough my wife was kind
enough to allow me access to our living
room as a flight test facility so I did
hook a small amount of monofilament line
onto it to give you some means of
recovery because again it is autonomous
so once the drone starts flying it's on
its own and if anything goes wrong
there's not a whole lot you can do to
interrupt that cycle so that's our
safety net so if you'd like to see it I
can go ahead and cue it up yeah that'd
be good let's check it out all right
here we go
okay so that implies itself yes it does
between the onboard brain and in that
video I actually have a separate power
supply that powers the pie I've since
made a few minor changes where I put a
voltage regulator on it and power it
directly off the the drones power supply
itself the battery that comes with a
drone so it does improve the flight
dynamics quite a bit but you know you
have a little bit of extra weight
backing on top so it does always make
things a little more interesting than
perhaps it should be and of course
drones aren't how two percent precise
and their flight patterns anyway so but
it does it does lead to some interesting
thing because I'm your typical drone you
have a phone or an iPad or a tablet of
some kind and when you see it kind of
bobble you you automatically
instinctively just shift the the device
that you're using to pilot it so there
there's a lot of similar to when you're
driving you don't even notice if you're
if you tend to drift toward the side of
a road you automatically correct you
don't even think about it but when you
have the the PI flying it the pie
doesn't make those adjustments so if you
get a little bit of a crosswind or if
the drone you know bobbles just a little
bit the pie carries on so you don't get
that automatic instinctive adjustment so
it makes things for mix for some
interesting dynamics trying to to
program for that as well as to fly that
so yeah and how successful have you been
adding that into the the little pie
brain I really you know after the
initial kinks worked out which there
were several but after the initial kinks
worked out it's actually gone pretty
well now I'm kind of looking at ways to
add higher higher level thinking because
they're they're kind of you know we kind
of banding this about last year there
are two levels of autonomy
we kind of consider one is general
autonomy and one is advanced autonomy
and it's it's kind of an empress I swear
to look at it but the way what I mean by
that is that general autonomy allows you
to tell it to do certain actions to fly
a certain a certain direction a certain
speed certain power level and and you
provide this kind of overarching program
and the PI directs all of that but
advanced autonomy would be along the
lines to where you say do this mission
where you tell it to to go to a certain
point in space GPS coordinates or
something like that and it determines
the best way to do that so that's that's
an extremely more much more difficult
nut to crack but it's certainly being
worked on but it probably not at this
this very inexpensive very low level of
hardware and equipment and software but
but that's kind of the next step and
that's something that we're kind of
looking at and seeing how far we can
take it before we get that ball also yes
in that situation it's sort of
determining its own route its own height
its own battery usage everything Wow and
and I've done a little bit of that with
just kind of calculating the path home
where when you tell it to fly a
particular pattern then you just tell it
go home and it calculates the the best
way back to the starting point or close
to the starting point at this point
again there's a little bit of
imprecision in there but but we kind of
started on that haven't gotten very far
into it it's just a matter of you know
time and energy really yeah so let's
talk about the job of a little bit so
you'll be bringing this drone to sort of
fly itself around a bit yes you know
visitors beware but yes that I'll be
bringing the drone and setting up to fly
automatic patterns and just seeing what
what we can glean from that I think it's
really interesting and informative
because you see some of the things that
the the drone can do and you see some of
the limitations and it's it's always a
kind of a conversation starter because I
think any time we see a device flying
moving or anything like that where you
see soccer
interact with the real world it's it's
always really fascinating and you
immediately the first question people
want to ask is how can I do that and the
answer is you know pretty pretty easily
a lot of the barriers to entry are
pretty low all of the code that I have
out there for this is fully published
it's it's a you know public domain it's
it's open source people can get at it
it's it's a very unrestricted license
and there's so much more to do that you
could explore and expand upon and and
obviously that's a welcome addition so
it's something that is very inexpensive
low barriers to entry people can get
ahold of and start playing with and and
you know if they get bored and move on
they aren't in it for a lot but if they
find something that they really love and
they want to invest more time and energy
into then it's a it's kind of an
open-ended field so hopefully there'll
be something that they can take away
from that and maybe spark an interest
and some advancements yes someone to
help figure out the higher levels of
autonomy yes yes all all contributions
welcome yeah so get on it a job one
attendees yes come on so anyone
attending will you be displaying any
sort of code samples a user interface or
anything like that ah probably some of
some code samples I you know there's
again it's it's all published it's a ton
github so yeah we can dive into that and
discuss that at any point yeah I don't I
don't see why not great and I'll grab a
link from you to sort of post that with
the interview okay cool um so do you
have any sort of UI for this drone well
not really at this point I mean it's
very much you know most of what happens
as you might imagine is on board the pie
so once the the instructions are pushed
to the pie it's pretty much a matter of
just waiting and watching there I do
actually have it set up to where it
feeds all motions all actions that it
takes to an inn qtt server on board as
well as the capability to feed it to a
cloud-based MQTT server so what I have
that in the past is used a really nice
javafx program begins
teachers who wrote this really nice
front into in QT key subscriptions so
you can log log n QT feeds and show them
visually on screen all actions that are
taken by the drone all movements are
recorded and published VNM qtd well
several MQTT feeds and this allows you
to see what's happening in real time
from the drone as its reporting it the
drone itself also can throw off video
feed but what I have been concentrating
on so far is just the movements and the
actions and not so much that that's a
much larger feed so that's something
that in the past when I had tried to do
that within qtt as a first human second
effort it typically overwhelms the
amount of data that you can process from
of it or or stream from it in a
real-time or near real-time manner so
that's something else that needs to be
solved at this point though most of the
processing since it happens on the drone
you know is not really there's not
really a front-end available for that
make sense um cool so at this point what
sort of a range are you seeing on this
device well I you might understand I've
been a little reluctant to just see how
far I can take it before it before I
lose contact with it so if most of my
testing has been an extremely short
ranges you know close range in in the
the living room I have actually floated
outside but again I'm pretty cautious
with how far I take it just because I
you know I don't want my drone flying
off with my pie I'm never seeing it
again so I have been pretty careful on
the pushing the outer limits of that
pretty close range okay do you have any
expected limits all right are you just
unsure at this point completely unsure i
mean the drone does provide some
capabilities that if it leases contact
it comes down but you know i just no
idea no idea at this point i haven't
even been focusing in that direction
okay so no fear of it raining havoc over
san francisco ha maybe in the vendor
hall
maybe in the HUBZone hahaha but
certainly not San Francisco no I think
we can stop it before it got out the
doors so great that's this good
advertising huh come together and you
might get attacked by a great souvenir
yeah yeah definitely definitely all
right so could you walk us to a bit of
what your process is then the
development of this Jerome was sort of
technologies you might have been using
have you changed any major things
throughout the process well you know I
initially it was just a matter of
finding I guess taking it way back and
if I go get too far back kind of you
know speed me up here but taking away
back was just finding a drum with an API
that we get ahold of and that was I
guess the the first frustrating part
because with all of the drones are out
on the market you would think there
would be several of them who would be
wanting to publish and get a lot of
people who want to get their hands in
there and perhaps maybe help them with
their API is but that doesn't seem to be
the case at least at this point so you
know the first step was finding a drone
that was reasonably affordable and that
had a public API and once once we
located that it was a matter of figuring
out how we could hack it if you will to
to let us play in that at sandbox
unfortunately you know by the time that
we started had settled on the airdrome
we actually did find there were a couple
of three people well groups who were
working up java libraries for for the
ar.drone i think they've come to the
same conclusion the ye drone folks had a
pretty nice API but it seemed to have a
few gaps of specifically for what we
were trying to do and at that point
someone introduced us to the parents on
Java guys parents on Java calm and they
were just super to work with because
they when we said well looks really good
but we're missing this or that they said
well let us see what we can do and and
by doing that that kind of filled in the
blanks on that to where we could write
and feel like we could write anything we
needed to write for it and at that
when it became a matter of figuring out
how to mechanically or not mechanically
but physically get some extra processing
power on the drone and power it and
that's kind of where I started poking it
with a stick I thought of course the
Raspberry Pi the Raspberry Pi is a
really capable small linux machine that
runs java so all the Java libraries we
wanted to use would be available and at
our disposal so I kind of just started
working with the parrots on Java library
and on the Raspberry Pi to see what what
I could make happen but I guess I kind
of skipped ahead a little in order to
make that happen the parrot ar.drone the
way it is controlled is it has an
onboard access point so when you have
your phone or your tablet you connect it
just the way you would with your
wireless access point at home or at work
or school or whatever and in order to
provide the capability to run something
on that you had to make the pie a client
to that access point on board the drone
but if in order to push programs to the
PI you had to make it a wireless access
points you can connect to it from your
machine from your development machine
and that gets to be a little tricky
having a multiple network interfaces on
board and doing different things at the
same time from coordinating but that
that was kind of an interesting process
to diagnose and resolve but we got that
done and then moved into the development
and at that point it just became a
matter of trying to kind of press
against the edges and see what was
possible and then make it you know after
you get direct control then it's a
matter of setting it up to where it can
script the control and over time we
pulled in another guy Sean Phillips who
works with NASA to do some of the 3d
modeling and ultimately we came up with
some 3d modeling simulations to wear as
I was running through these these
programs I would save off the
information where you know we could do
replays or things like that and Sean
took Moses inputs and was able to do 3d
simulations with the actual flight
routes
as inputs after the fact so it got to be
pretty pretty interesting pretty
involved and and then once we had all
the pieces in place it was a matter of
just trying to refine and improve and
better than control and lessen the
hazards and things like that did you
ever consider constructing your own
drone at any point in that process just
saying to hell with what's been anybody
oh yes several times and and ultimately
I think it's still if you want the full
level of control I think you about have
to do that but we were looking for a way
to kind of a short-circuit a lot of that
and the ar.drone provides that it has
great video capabilities and some really
good navigation capabilities very low
price and again at the time we were
looking at it the API was a little stale
but it certainly was well documented at
this point you know sadly parrot hasn't
seen fit to to continue with API
development on it or at least not that i
have seen anywhere so it's kind of a
more static point in time so i think
moving forward to make serious advances
what you're probably going to want to do
is is look at building your own drone
where you can control it all start to
finish yes especially with the 3d
printing the way it is now that actually
be a guide to java hub will be 3s on
drum parts yes we actually discussed
that a little bit last year at a
conference and yeah he's doing some
really interesting things as well so
yeah the the feature of autonomous
drones just get one up send it to the
store right to pick up more parts right
you print a drone off and send it to the
store to pick up more things so other
than that you'll be hosting a session a
job one called moving renewable energy
embedded systems into the cloud um sort
of Western technologies will that be
covering I know it's an IOT session sure
I it kind of internet shell what what I
had started to put together a couple
years ago was a renewable energy system
to work with and experiment with and
learn and grow with here at our
house it's it's a very small system but
it was something that I felt like I
could learn and apply the concepts on a
small scale that would then apply at a
much larger scale and in the process I
started collaborating with a gentleman
out of Spain dr. jose padilla who was
doing similar things on a much larger
scale and we kind of met in the middle
so we started comparing notes and in the
as things developed i created a small
solar panel array photovoltaic array and
got a small wind turbine and started
powering a small system out in my
utility shed i kind of lovingly referred
to it as the powerhouse but then it
becomes a matter of wanting to monitor
that and manage that and do that of
course in the comfort of your home so I
started putting together some systems
using Arduino and raspberry pi again the
Arduino is really really good about
dealing with sensors and processing on a
tight loop and the Raspberry Pi is
really good about doing pretty much
everything else as well as handling the
communication capabilities from from the
powerhouse so at that point when Jose
and I were talking we were looking at
different ways to to harvest that data
because the Internet of Things is is
really a everybody always focuses on the
things but they cannot forget that
internet part and the internet part is
really what makes it fascinating and
useful because without some kind of a
back-end capability and harvesting all
of that data you really don't get much
from it you have some kind of nice
little devices doing nice little things
so what we did was set up kind of as a
proof of concept a couple of Raspberry
Pi is running glassfish as the server
backends to process some of this data
and then we network them so we had a
global network and that was really
pretty cool but what I wanted to do at
this point is is kind of bring that into
2015 and and look at providing some kind
of cloud processing on the back end
which really opens up a lot more
capabilities and you can dramatically
expand your data feeds and do some
really really fascinating analytical
things with that so that's kind of what
this session is
talking about I talked about you know
I've ramped up quite a bit of the the
sensor bundle in the the powerhouse and
covering a lot of things weather related
I see you have your your energy
production and incidentally all of this
kind of powers itself so I refer to it
as a self licking ice cream cone the the
power the photovoltaic and wind power
feeds into an array of storage batteries
which in turn power the systems that
monitor and manage the the power system
so it's all kind of self self fulfilling
at that point but but in addition to
monitoring the voltage levels and things
like that the power feeds I also monitor
atmospheric pressure and temperature
humidity luminosity you know the light
levels trying to think of some of the
other things rainfall yeah I also have
some physical control features so
actuators that open the windows if it
gets warm enough inside the the
powerhouse itself and fancy kick on and
lights and things of that nature so I do
have all of that set up with a running
control panel and feeding into a cloud
application that I'm running if I can
give you a quick peek at the control
panel if you'd like yeah that'd be great
ok let me share the screen again so in
the powerhouse how many you running like
little windmills oh yeah I actually have
a wind turbine and I have three solar
panels that I'm providing because
obviously yeah the wind only blows it
sometimes in in certain parts of the
world the wind blows nearly constantly
but here in Illinois the edge of
Illinois we get some good wins and then
we get nothing so that's that's not a
consistent form of energy but it is a
nice supplemental form of energy for the
with a son so hopefully you can see that
now yes so these are live stats yes this
is live and updated every
you know second or so and as you can see
I'm honoring temperature humidity
voltage in the overall system luminosity
wind speed and wind direction this tells
you what angle the wind is blowing from
which wich compass point a rainfall and
atmospheric pressure here's a video feed
or near old I'm video feed it's actually
still shots that provided near real-time
because that way hit limits see that the
bandwidth required and then of course
you can control all of this using the
switches here it operates and similar to
the drone actually it operates an
autonomous mode most of the time so it
kind of takes the temperature reading
and checks to make sure there's no rain
and it keeps the window open or windows
they should say open and then if it gets
too too cold too cold inside it will go
ahead and shut the windows in the
summertime or in the hotter months i
should say when the power is on the fan
kicks on as you see the fan with you the
little blue lights they're high in the
winter time i actually swap out the fan
for a heaters that keeps a fairly
consistent level of temperature inside
the utility shed itself and of course as
you can see here I've got two relays it
open and close windows turn on and off
the lights and things of that nature so
yeah it kind of keeps track of
everything allows me to keep track of
everything and manage it from from the
comfort of my home so kind of nice and
the concepts then the nice thing about
this is the concept scale so you know
i'm running a very small system here
relatively speaking but there's no
reason why this this same system can't
manage and monitor a much larger system
at the level of a whole household or
even an industrial scale but again the
real real story is not so much the
things itself because those are
ultimately at the end of the day data
feeds and control surfaces so what the
real story is is getting all of that
data into the cloud and being able to
process it and act on it in real time
also how come come back to the to our
discussion here there we go okay yes so
the windows will open at a certain
temperature is it also monitoring things
like
fall at that time to know I shouldn't
open these because I'm gonna get all
white and try exactly yes and and if so
much as a at I guess it's one 100th of
an inch of rain falls it's it's a fairly
sensitive threshold if I get any rain at
all effectively it goes ahead and shuts
the windows even if it's warmer and then
it waits until a certain period of time
I think I have a set at an hour right
now once the rainfall stops before it
reopens the windows because you know
here in st. louis metro area will get
rain and it'll it'll pour for a few
minutes and it'll stop and then it'll
pour again so you don't want the windows
constantly be opening and closing so I i
put in a slight buffer there to wear it
you know kind of alleviate some of that
so cool well uh thank you so much for
joining me today is anything else you
think people out there should know no I
know just looking forward to running
into old acquaintances and making new
ones and hopefully we'll get a chance to
talk and learn a lot from each other you
know these are really just starting
points for a lot of good conversations
so really looking forward to it yeah
well we look forward to seeing you there
oh thank you again for joining me
alright thanks for your time David oh
thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>