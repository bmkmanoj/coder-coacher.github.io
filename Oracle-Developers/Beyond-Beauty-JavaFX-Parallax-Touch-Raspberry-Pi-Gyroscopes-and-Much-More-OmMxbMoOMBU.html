<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Beyond Beauty: JavaFX, Parallax, Touch, Raspberry Pi, Gyroscopes, and Much More | Coder Coacher - Coaching Coders</title><meta content="Beyond Beauty: JavaFX, Parallax, Touch, Raspberry Pi, Gyroscopes, and Much More - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Beyond Beauty: JavaFX, Parallax, Touch, Raspberry Pi, Gyroscopes, and Much More</b></h2><h5 class="post__date">2015-06-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/OmMxbMoOMBU" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so anyway my name is Angela hi sarah and
i'm a java evangelist for a long time
being an evangelist for very long time
now i'm kind of stop that count but it's
all the way from sun microsystems so
it's actually being a really nice
journey for me and what i want to also
cover and what I focus all with my daily
basis work is have fun I mean it's just
so much fun that we can have with
technology and I think we kind of forget
about it I think I have an awesome job
that has been an evangelist that let me
basically play with everything that I
want so most of the time I have to admit
we have no very useful demos but they're
really fun I bet they're really really
fun and bank and you know they're you
know it's using like new technologies
that I'm sure that's going to give
inspiration to developers to come with
some good solution so today what I'm
going to talk about is javafx paralyzed
touch the screen gyroscopes and much
more how many of you were here for the
keynote on Sunday did you have a keynote
okay most of you okay that's good so you
saw the Duke pad right so I have sorry I
have to be careful because I'm kind of
on a leash here so i have to remember
that i'm on a leash so how kind of my
own version and this was my creation
back from December anything I started
working and I have a picture of the
evolution of the project so pretty much
is one touch screen I do not have the
fancy cage this is a case that I
actually build myself and there is the
the Raspberry Pi on the back and I don't
have a nice acrylic cover I just have a
whole so I can have access to everything
so and I don't have a camera they didn't
have the camera but our time but i do
have cooler stuff and I'm put it right
now in a very sophisticated base that is
plastic cups so I'm sure that there is
ventilation going on right now my
raspberry pi we don't want to burn it
before the demo so you know it's very is
homemade project
and we're going to see very interesting
things we're going to see Java ME we're
going to see Java Sea on and better
we're going to see hardware like
gyroscope or how I'm using all these my
name again angel like I said Oh any
question about this particular talk or
any Java related topic we are actually
the bridge between you guys and the
product team so don't worry send us an
email drop us an email from any question
if I don't know the answer I make sure I
go back to the product team and get it
for you so what is the inspiration about
these talks um to be honest every time
that we start a new year is we see it
especially if you see in Simon Reid and
I work with him a lot it's another
evangelist we basically see it and think
what are we going to do what is it there
that we can actually build that maybe
hasn't been built and that is cool so
one of the things that I noticed is
we're going very strong with Java ME
embedded right and when we talk about
embedded either java SE or any we're
talking about constrained devices right
we're talking about very constrained
devices we know the Raspberry Pi is
really powerful but that's not the only
device we were targeting rice oh okay
javafx run really wonderful on the
Raspberry Pi you saw it on the keynote
de menthe 3d Duke dancing and playing
chest but does not the case for all
their better devices so my idea was okay
if I have Java and better devices I
still want to do a UI interface I still
want to have a nice-looking user
interface and if I want to do something
like 3d it might be too much for an
embedded device right how can I kind of
simulate something similar to 3d 3d
environment without having really to use
all those heavy lifting libraries so
that was my inspiration making a
nice-looking you I where I didn't have
to use 3d and because i'm working with
embedded and we normally talk about
sensors and stuff like that so my
inspiration was okay i have this
raspberry pi that is very small and we
can attach pretty much anything to it
right what can i attach
that can give me for example information
about positioning right so you know if
I'm i found flipping the device how is
it be how my interface is reacting to it
can I change the user perspective of my
user interface based on the device
location so all that was the thing that
I was looking into Java feck sounds like
a great solution so when you have things
like the Raspberry Pi you know Java run
on it either using java SE embedded or
Java ME embedded so in both of the two
walls are great java mb ME embedded will
be really useful because you have
something called the device access API
so this is also a head of a PRS that
allow you to easily connect all the
peripherals so connecting anything would
be really just a straightforward but it
doesn't have the user interface so then
I come with ok what about using java SE
embedded what i can use javafx create
really nice user interface what happened
with the connectivity of external
devices so this is all the questions
that it comes when I was putting these
demo together so what I'm going to cover
today is they hired what a little bit i
think the raspberry pi is being around
for a while so I'm basically just have
like two general information about the
raspberry pi then we're moving to
protocol i square seed as the protocol
that i use and i'm going to i'm going to
cover that and the only reason why i was
using that protocol is i wanted to use
something that we haven't used before
that's the only reason so i'm looking
into using a seller ometer and gyroscope
to give me like positioning information
but i just look for i square c device
because basically I just I haven't
played with that before and I just
wanted to make my life harder maybe so
just you know testing new technologies
and I think that there are many cool
devices using is square C so once I have
it running it's like oh my god I could
do this and this and that do you know
that that wii remote the reaction plus
this actually has i square c interface
so I
can easily i have the i square c work
and i can just plug them did this device
to my raspberry pi am do you know maybe
have more accurate position in and just
use it so just open the door for a lot
of possibilities enabling the i square C
on the pie this was kind of when you are
actually using a new technology there is
so many issues no one can even imagine
so when you've read the documentation
when you read the documentation of the
Raspberry Pi it says I square C enable
so you just imagine you're going to plug
it in and it's just going to work well
you know that's not the real life it
never work so the hard way I find out
that the ice core see it is on the
Raspberry Pi but you have to enable and
there is a bunch of his tiles that you
have to do to actually have it work so I
have all the steps about that the hard
work that I use so I'm using an mpu 9150
is a small chip that has that's a lot of
cool stuff it has an accelerometer a
gyroscope and temperature sensor so has
I also have another location sensor that
I actually didn't use but the good thing
it was all in one cheap so i can get a
seller Oh Metron gyro information just
from one single chip and I'm going to
tell you about how i'm using that
information later on the funny thing is
the Duke path that they show on the
keynote is actually using the same the
same chip so I know Jasper on those guys
try to use a cheaper version and there
were some issues so they actually ended
up using this one the screen so you
already seen chalkboard electronic I'm
just basically going to briefly mention
and then so forth okay now that you have
the hard one and you're able to see the
I squared C devices how do I got it
working as I say because i'm using java
SE I didn't have the device access API
so how I'm gonna get access to the
peripherals using SE embedded so I ended
up using Java library very well done
that is actually called PI for java and
it actually got you
all the flexibility to connect to
different devices like you know i square
pi square c or general gpios in a very
simple way so i was lucky for that part
that i actually didn't have it to do it
by myself then the principle that i'm
using i might cover a little bit is
parallax is nothing new and we see it
every day so we're going to cover a
little bit more of how i use it on how
do i create a user interface and again
for the implementation of the UI javafx
makes a lot of sense it is java DNA is
very robust we have to have like a
multithreading kind of application
because i have one thread it's actually
checking for the sensor information
while the other thread needs to be
updating the UI we have binding
functionality so as I change the value
the UI is automatically updated so we
have a lot of features on javafx and
make my life very easy to create this
particular application so let's start
with the hardwood a little bit so the
Raspberry Pi this is just a picture of
the Raspberry Pi you probably seeing it
before and it has all the pins where you
can actually connect cool things to it
in this case there are some things for
gpio you get their voltage ground you
have i square C so everything pretty
much coming from there and just general
information about the raspberry pi so it
actually is not a new concept it
actually get the inspiration from a
project in UK called a BBC micro project
back in 91 and and they're there the
project was created because they will
worry about the way we're teaching
computer science two kids so we think
that we're teaching our kids not really
what is behind to be a computer
scientist more how to use tools so your
kids knows too how to use Twitter they
know how to use a browser but they don't
know what is behind us so there was the
concern about how can we teach them what
is behind all those doors so this is
kind of you can see here the micro
project and then the Raspberry Pi
right here officially launched last year
februari 2011 and we all know that is
really extremely popular the price is
great I mean you know the cheaper
version is twenty-five dollars and
expensive version is 35 so i think is
pretty much everybody can how many of
you have owned a raspberry pi okay yeah
p of you and then i mean again it's only
35 there are just widely available right
now the beginning the server crashes
because they couldn't handle all the
demand of people trying to get them and
there were a shortage but now pretty
pretty much available nowadays and again
extremely cheap and powerful this is a
little bit of the specification that we
have for the raspberry pi so we're
talking about arm11 running a 700
megahertz it's actually broadcom system
on a shape kind of package so what we
saw is it's not it's not the processor
is actually the memory and the processor
is sitting underneath it so you see only
like one single chip in the middle it
can be over locked to 1 gigahertz don't
go over that because you might lose that
you lose the warranty so just be careful
with that memory 512 and for the i/o so
this is what we are actually interested
in two so we have hdmi and compass I've
video that's how we actually connect the
screen we have two USB port that's
actually for model be only that's the
most recent one ethernet also and these
are the header pins that we have so we
have gpio RSP I and I score see
mmm a little bit of of of Java
specification specifics for arm so if
you if you look at the floating point so
despite being an arm six processor this
Raspberry Pi has a floating pourcel
floating poor support so what it means
when a device has a floating-point
support it means that it can actually
support floating points on the hard work
itself when the device doesn't have it
it has to rely on software to simulate
the floating point so at the beginning
we didn't have and the version of Java
that runs using the hard float now we do
have it so just just to make sure get
the hard float version for the Raspberry
Pi that does the one that take the full
advantage of the underlying hard work
that we have again why I asked or see
the only reason I haven't done it before
I wanted to play with it so Simon and I
have the chance to play before with the
Raspberry Pi and we have a lot of fun
using the serial USB connectivity and
gpio but i of course--i we just didn't
have a chance to touch it before so the
more I get into the ice for Syria the
more I God like okay this is going to be
great let's use it so just a little bit
of background of the previous project
using the different technologies so for
using the wort lines that the Raspberry
Pi provide so we just wanted to provide
a serial console for the Raspberry Pi so
what we did is we took the word lines
but they're actually giving us an output
only 3.3 volts and if you think about RS
232 we need 12 volts so we need a cheap
that actually bump up the 3 volts to 12
volts that is the one that we needed
very simple we just use the maps 32 32
cheap that convert that so basically we
got there the lines from the Raspberry
Pi put it into these cheap and then we
can actually get the appropriate lines
for and having the serial console
so this was a previous project and
another project as I say no very useful
but a lot of fun it was a robot arm and
the idea with this was to connect
something via USB so for this one we use
the USB interface as long as we can see
the device on the Raspberry Pi we should
be able to create an interface for it so
yeah there was a little bit of gni and
native coding for this one but again not
rocket science it is doable and it was a
lot of a lot of fun I have to say for
this one Simon was the one that I
started this project and then I got I
say okay where can i get the arm but for
myself and say oh just get an anonymous
on he's like 40 bucks I'm okay who I got
an anonymous when it was a big box got
home I got so excited I open it up it
was not unsampled I have to put it
together and it's no big deal but when
you see like a thousand tiny screws you
can barely hold it was whole nightmare I
ended up with blister on my hands and
the worst thing is like I didn't know if
it was going to work because there were
no way to test so it was kind of
interesting project a lot of fun a lot
of blisters in my hand it did work and
again we move on to the next project so
again a little bit of j GN I for these
to be able to read from the Syria and
natives say native see also programming
again if you want some of this
information we have like a previous
presentation covered all I just want to
give you like a flavor of what it was to
use the different lines from the
Raspberry Pi so these are the lines this
is like a summa picture of what we have
so this is all the lines that you have
but we're gonna have here the blue ones
are the i square see these are the two
that we are interested in two so we have
the clock line and the data line and
then you see you have power and you have
a bunch of grounds around those pins
there is also a second set of pins and
the raspberry on the pie but you
actually have to solder then so you just
have like the holes to put the pins but
you can actually get extra power and
voltage
if you need more we use the GPIO also
for programming in this case I have a
lego airplane and it was just a motor
and we got the controlling from the
Raspberry Pi and my daughter love it
she's five and she saw an airplane on my
work Texas commanding what is that like
I don't touch it you know how the
legacies very easy just to destroy
everything like I don't touch it that's
mommy's work and she look at me like a
hobby that's cool and that's felt really
really good so anyway so we have a for
this we have an h-bridge using l293d and
pretty much getting the GPIO lines from
the Raspberry Pi to control the motors
okay for this one we have we actually
did in program this part the interface
for the robot we were lucky enough to
find some a smart guy on the internet
that already have this library talking
to the gpios right now again remember
now I wouldn't do it this way if I have
to do this again if I need to read or
write to the GPIO lines i will go to
Java ME embedded use the device access
API and then you have it ready to use
okay and the good thing is you might say
okay but then there is no like a perfect
wall because on on java SE embedded you
have the UI but you don't have the
device access api and on java me you
have the device access API but you don't
have the user interface what we're
planning to do on the future is include
the device access APR on java SE
embedded so we have the whole the whole
thing on SE embedded the UI plus they
did all the cool AP is to get all the
peripherals so we're working on that so
I square C on the Raspberry Pi so does
Percy the protocol so I have to start
from the scratch I never used I square C
so I have to dig and see how it works
worry what it was etc so
I actually got a little skin when I saw
how the protocol works and I wanted to
use those as lies to scare you because
it really show you what technology is
hiding from you so when I saw those
protocols on how we're going to talk on
how we're going to transfer data the
signals go ahead and stop transfer data
I'm like holy moly how I'm going to do
all these but then we have this
beautiful API is the device access API
older they just hide everything from you
so i'm not i'm not a hard word person
and even though i'm able to do this sort
of demos because of these of the beauty
of those api so you have i square C for
moving data simply and quickly from one
device to another again there are many
devices nowadays they use the is square
c protocol is synchronous we have one
channel four clock and we're going to
see that the clock is actually the one
that controlled the data transferring
and we have a master write clock rate
can change so this is make it different
from a synchronous communication and
make it very flexible because they
muster really take control of the
communication multi masters are we going
to see that one is late can actually
turn into master and the other way
around pretty much would we need to look
is we have two lanes 1 is the data Lane
and one is at the clock and they're open
drink so normally need a pull-up
resistors right so to be able to get the
data out when we might need these the
good thing about the raspberry pi they
already have internally the pull-up
resistor so I didn't require required to
put any pull-up resistor in my circuit
because the raspberry pi already have
the pull-up resistors and the bold touch
again is what we need for the Raspberry
Pi so we're talking about 3.3 that's
perfect for our Raspberry Pi because
that's pretty much what we get so how
does it work so we have the clock line
and we have the data line and we have
one master and multiple slave connected
and then voltage and visas they pull up
resistors that you normally have to do
again not for this case we're using
seven bit address and we have two
different roles the master is the one
that is actually generating the signals
for a starting communication or stopping
communication and this lie the slave
just get that data and is ready to
respond whenever is is asked to to do
something so this is a little bit of the
protocol so how does it work so for any
communication between master and slave
there has to be an ax start condition
and an end and condition the start
condition happens when the clock is high
and the master sent as some as a signa
high to low while the clock is high this
is the go-ahead the start signal for the
stop condition again the club has to be
high and then the on the data line this
masters send a signal from low to high
that is actually the end condition then
for moving data across so we have the
start condition and we start passing the
data the data is 8-bit lungs that's the
protocol that we use and then every
eight bit we have an hour na lishment so
we send the data a beach then we
acknowledge again data transferring is
always happening when the clock is high
so whenever the clock is up that's when
we are able to transfer data so now the
whole thing put it together so for the
come any communication you have a
starting point you have endpoint we need
to once we start we need to say okay for
example my chip has some registries
internally so I need to know which
registry we are using for example so
first remember we have seven bit address
so we we say okay who we are going to
access we're going to access for reading
or writing and then the acknowledgement
one we know what we're doing we go ahead
and transfer the data
so again data is 8 bits plus
acknowledgement and you just keep
sending data data acknowledged at
acknowledge until you send the stop data
stop condition okay so that's pretty
much how the protocol works and and
again just I just wanted to keep doses
live because it really show a lot of
things going on and when you see the
code you're going to be surprised how
simple it is actually to use things like
that so high a square C and the
Raspberry Pi um so again yeah if you go
into Raspberry Pi website it's a
raspberry PI's allow you to connect I
square see it actually show you the two
lanes two lines where you can actually
connect something well again it's not
enabled by default so there is a bunch
of things that you have to do if you go
to EDC modules you need to add these two
lines so so you actually enable the ice
core see I found to this very useful to
install the I square C tools that allow
you to to grab to see on the console if
you are actually able to see the devices
so before you start programming you need
to make sure ok do I see those devices
or not so i think this this is not
required but it comes really handy say
we show you exactly if you have a device
and where is it what is the address for
that particular desire for that
particular device ok so just how you
install it and then the Raspberry Pi has
a black list if you're in the black lace
you're not enable and of course when you
have a look at the block list raspberry
PI's there and spi protocol is also
there so you have to remove those two
lines from the black list of the
raspberry pi okay so he was kind of the
bad guy who was actually left behind so
just make sure if you're going to use
high score see will be only this one if
you are using also spi protocol that is
also included for the raspberry pi make
sure you uncomment those two lines in
dip from the black list and then again
this is this is using the tool that you
just install to detect are the devices
so when
you run I square C detect it allow you
to see now I have two devices connected
to my raspberry pi so at least you see
the device I'm not saying you're able to
talk to them but at least you see them
they are properly connected a good first
stage now you can go to the Deaf
directory and you have to see this
inside that directory damage is able to
talk to i square C and spi we have two
addresses 0 &amp;amp; 1 so we are able to have
two devices connected to the same bus
for the Raspberry Pi if you don't see
anything just try to rub my proof to see
if that actually help you but it should
work right away and then if you're
interested to do these I blog about it
so in my blog at blogs that Oracle that
comes last ake I said oh you have all
the steps again if you want to just
follow it at home so for the hard work
so then I wanted to have and a seller
ometer and I gyroscope wideout so okay I
had what original it was just a piece of
wood right a flat piece of wood and I
wanted to take how one moving so a
seller ometer would allow you to detect
acceleration right so if you flipped
your device we're going to have some
acceleration and I'm going to see that
using the accelerometer right once you
stop up here there is no acceleration
you stop so acceleration is zero but you
need to know are you making an angle or
you still flat right so you need to find
out the position so that information you
cannot get it from the accelerometer
that's when they gyroscope come handy so
the gyroscope allow you to find out what
angle you're doing against gravity right
so finding out that particular angle if
the angle is zero it means you're flat
if the angle is not zero that means you
have some inclination against gravity so
that's why I really wanted a combination
of the two of them to really have like
an accurate position of of of my device
I got this one just simply because i
found it easily it wasn't too expensive
and i have a lot of things on it plus it
has the i square C in 25
face okay it has the low low less
significant bit it is what is it L adz
row so ad 0 here allow you to either put
it to ground or voltage so you can
actually have two of these devices on
the same bus using different address one
will end in seara and one will end on
one so you can actually ground it or not
to change the i square c address of the
device and then you can either 0 1 so
that you can have two of these devices
connected to the Raspberry Pi I didn't
need it by just in case you have that
availability so we have the gyroscope we
have the accelerometer 3-axis
accelerometer and we also have a compass
we have a temperature sensor and the
this the voltage replies that we need is
perfect for the raspberry pi remember
the Raspberry Pi is about 3.3 so it was
just perfect ok so putting everything
together so again remember there were
two little lines here that comes from
the Raspberry Pi one was clock and one
with data so and then i can get voltage
that is 3.3 that is perfect and also
ground so pretty much is one-to-one
connection remember we normally needed
in between and the pull-up resistors but
the raspberry pi already has that so
pretty much bcc to bcc of the raspberry
pi data line to data line of the
raspberry pi clock to clock and then
ground so very straightforward and then
either this you either default decide if
you can't want to ground or not this one
but just remember that because does the
address for your device and we need the
address to be able to talk to it so
again I mean is extremely simple the
screen i'm so i'm using the child board
electronic touch the screen they have 7
10 inches i wanted to have the seven
inches is not ready yet we try even
together for java one they don't have a
red
yet they're very nice i think i think
they work really good the touch is a
little bit it's not too good but i think
it's good enough and if you want to get
them they are never expensive they're
like 135 and you can get with this coded
ten percent discount for those and i
think i think we gave twenty-five
percent discount on their hands on lab
so if anybody is interested in getting
one drop me an email so i can give you
the twenty five percent discount code
again seven inches will will come and I
finish this is extremely good that would
work so this was the first version of my
know so beautiful pi PI so I just have a
flat surface made of wood and I would
say if your project has wood and light
and light it's so good I mean it's all
you need so some wood in the pace this
is the LCD screen I always meant to
change this is the light sensor and
excuse me my translation direct from is
Spanish oh it's a licensure and it
adjusted the brightness of your screen I
have here my cheap my MP you when I was
at the beginning when I was testing
things i also have an accelerometer so i
was also texting a DSA DX l 3 45 but
again because everything was in one
shape and I gotta work inside just stick
to this one but you can see both of them
for testing you got the pie the funny
thing with the screen the only thing
that I found like funny is she powered
the Raspberry Pi you power through the
screen so the screen is the one that is
connected to power and the screen
control is the one that powers your
Raspberry Pi but hey okay does it works
touch the screen sensors it goes to the
USB so USB is gone already by the touch
sensor of the screen so you only have
one USB available that's when keyboard
family
man feel like a dog okay I got it so um
if you need to connect a mouse or a
keyboard I got this one that has both so
you can still have the mouse plus the
keyboard in one single USB because
remember one is gone with the touch
screen now this software okay so there
is some native library that is called
wiring p hmm is written in C it was
actually inspired for arduino wiring
packages and it has all the
functionality so i provide access to the
GPIO size square see spi and wart lines
and it also include a common line that
allow you to utility come online gpio
that allow you to actually program set
up a little bit of the pins by you know
by the console but again all these
remember it's only it's only required
because it's SE embedded on ME embedded
you wouldn't have to go to solution like
this one so we have this beautiful
library but i still i need a rapper i
need some java libraries around it so i
found pie for java and i personally I
think it's great it actually is a
provide you know a bridge between those
native api's with Java so just give you
a pure Java API is very simple to use
two of the guys out actually the main in
the team is Rover savage &amp;amp; chris walsh
is any of the of them here any of you is
one of these because i know one of them
is here at the conference I wondering so
they're actually data an awesome job
with this library and it has the
connectivity for pretty much all the
different protocols these days a good
community about it there is a google
groups and even you can email them and
they will help they will be able to help
you so really awesome so what is this
what does library include so again it's
based on the Pye for wiring pie and it
has gpio support so exponent and
unexplored
iOS the configuration of the duration if
you're doing direction if you're doing
writing or reading only or both edge
detection penis state etc some very
general information about the GPIO s
plus i square see spi and all that so
the library pretty much has everything
this is kind of the equivalent of device
access API for Java Sea embedded getting
it so just get the package installer
check out that is there and make sure
you include it in your classpath is that
simple so now you already saw the device
you know that you're seeing the device
now you can go ahead and use it when you
run it again make sure you include the
classpath they have a bunch of demos so
there is demos for everything so if you
want to use a different protocol use the
gpios or something that is pretty much a
demo for everything they actually have a
demo using the wii motionplus sensor is
one of the demos it's actually pretty
cool so a little sample of how to use
these for example if i want to connect
something to my gpio lines and listen to
it how does it work so the idea here is
i'm going to read the status of my
switch and the pendant if is on and off
I'm gonna do something right so very
simple one so this will be the code
using a pie for java so what you're
going to have you're going to use the
GPIO factory to get any instance so you
get a GPIO controller and from the
controller you can actually create your
pin in this case they're using is for
input Raspberry Pi the GPIO die the pin
that you're going to use where you have
actually connected in this case the
switch and how you want to listen so in
this case is pulled down then once you
create you can actually create a
listener so you listen for any change
into that digital data so once you have
a change you can do something so in this
case you get in the pin estate
pin event and you just get in this state
of that okay now you just oops sorry
okay and then you just have a loop
listening to what's going on on the GPIO
lines so very simple now I ask where
seemed so this is actually my program
believe it or not the theme that took me
the longest for the demo we're things
that you you think they are given they
are granted for example the first thing
is I thought you I'm just going to
connect the ice core see cheap and you
know we're going to see it I feel ok I
have raspberry pi have pie for java I
try to connect to that device I should
be able to start reading and getting
getting the sensor data well guess not
the document for for the mpu was like a
three hundred pages talking about
registries and all that and the funny
thing is okay i connect to the bus so I
say okay I have I squares I square C
factory get an instance of the bus once
I get the bus I say okay give me the
device in this case a TCA t68 right I
remember it could be 68 or 69 if you
ground that last bit of the address so
you get the device and I thought I was
just going to go and say device dog care
or read or whatever well I have to send
zeros into these two registries for the
device to start sensing something so it
seems that this particular device is by
default on a sleep mode why would I God
why would I wanted a sensor that is in
sleep mode by default so anyway I have
so these two lines take two registries
6p and 6c this is just to wake him up
they say okay hey guys i want to start
reading I mean it's no easy to find this
particular thing in 300 pages material
that I barely understand but anyway so
once you got that you have this was easy
I can configure my gyro I'm I
what happen is is different and this is
the casinos about this mpu that you can
actually program is not the same when
you're trying to see the acceleration on
a wheel on a car that goes super fast
compared to the acceleration that I'm
going to have on my device so you really
have to configure the sensibility this
of your sensors so this is the two lines
that we have here so I'm going to
configure my gyroscope on my acÃ©lar
ometer for my particular purpose I think
some beats are also for testing purpose
so you can actually run a test on the
devices but again I don't remember what
this one and zeros means I mean it's all
in the registry document that they have
so again very time consuming to find
these about hardware I'm again I'm not a
hard word person so I might be totally
stupid on Hardware i'm more of a
software person but again waking up the
device and config making the
configuration for that once this is done
to their reading and the reading was the
fact the fun part of the easy part so
always saying it's device dot read
that's simple i can do that right and
this is the beauty so the way the
registries are in these accelerometer in
this chip is we have the registry for
the accelerometer and next to it so
there are 16 bits data so when they
sense x coordinate each acceleration for
each coordinate is using two registries
so remember the registry is a bit so
they are using 16-bit for that
representation so we have six
consecutive bites sorry six consecutive
bites are for the accelerometer then we
have the sensor the temperature sensor
that is two and then we have another six
for the gyroscope so what I'm doing at
the same time is you can either in this
case I'm reading 6 but you can read all
of them because you know there are one
next to another so what I'm saying is
from the device just read the original
the beginning of the first registry that
you want to read
I think this is how many you want to
read I don't remember this step but this
pretty much from where to where and what
do you want to put it so in this case i
want to put those six into a cellar
ometer data okay a little bit of
configuration here because remember the
values come into so you have to put them
together is 16-bit to have the whole
reading so just getting acceleration in
X just make sure you put those two
together same for y and z and then you
have the final reading for the cellar
ometer gyroscope pretty much the same
thing just reading from a different
address reading also six and put it into
the gyro data and again just make sure
you put them together so again I mean
reading from these libraries and using
these protocol is it's actually
streaming simple some part they user
interface okay now that I find out
everything about how what I score see
and all those things let's do the beauty
part so the parallax principle um and
it's this is nothing new it's something
that is being used very long especially
on game programming and the idea is to
have an environment created of different
layers and the layers will be moving at
a different speed and we see it every
day so when you're driving your car and
you are here the position the perception
of the user will be the trees on the
right hand side as you move on the tree
hasn't move the mountain hasn't moved
but the prescription the angle that you
do to perceive these two will totally
change so you can actually change the
perception but moving layers and the
closer it is it the faster it moves so
the tree is closer to the car they seem
that it actually move faster than the
mountain so whatever you have closer to
you is going to look that is moving
faster and the further away you get this
lowered so that was the idea of me or
having okay what if i have an
environment that instead of having one
flat picture i have multiple layers and
depending how far the layer is is the
speed that they are going to take so I
found I've really got a really good
paper from a Roman Kurt test and the
whole idea of these is to use a
vanishing point so vanishing point is is
kind of
how this how do against what you're
moving right so in this case for example
he has this picture and when you flip
when you move it the vanishing point
like the infinite is going to this door
and the way they find it I mean geograph
using the geometry which is a 3d kind of
representation world so what they are do
they take two lines following up
following the 3d perspective in this
case this wall is the perspective they
are using so you take two lanes and when
they intersect are your vantage point so
you're going to get the speed against
this the closer you are the faster you
move the further away you are this lower
you move esprit much is the movement
speed depends your distance to this
vantage point I didn't really use this
for my particular project i'm using the
vantage point like the infinite right
because I'm kind of having a real world
so I pretty much like the infinite
reality for your application the more
layers that you create so the more
control that you have over the speed and
the more realism that you're going to
have and again thank you for photoshop I
mean if it wasn't for photoshop I
couldn't have done this so a lot of
Photoshop here and again Photoshop take
a lot of time even though it seems so
trivial so there's a little bit of the
sprites that I that I use and place them
in a different layers in my environment
and see how it looks so the whole idea
again so this is the big picture what I
have so it's a very long picture and I
try to place things in a different layer
for example the clouds are barely going
to move they're gonna barely gonna move
and this snake here is at the very front
so it will pass like really fast so
things like that and you may say Angela
what is the purpose of these the idea
with these I didn't have time to finish
the whole game but it is to hide
treasures in their environment so you
can see that this bush is covering
something
and as if you see it from the top you
won't see what is underneath but as you
start moving around you can actually
discover things that were not so trivial
to see and i found a game on internet it
was hard to to see what they were saying
because i think it was in japanese on
korean language i couldn't really
understand but i could see what they
were trying to do so because you have
different layers they are trying to find
letters in their environments it was
actually pretty cool because as you
change the perspective let's think about
an a an a it could be just like what
like these three rectangles and they
could be a spread apart when you move
the perspective they kind of come all
together and you will see the letter so
just by changing the perspective you
will be able to discover things but
again for that part I mean that
sophistication I really need a designer
I mean i play my role at designing but
I'm not as good to be able to do
something like that but it's really
impressive what things that you can
actually do by changing the perspective
of things again javafx i think is the
perfect time is the perfect choice for
this it runs on the right berry pie a
great for creating you I animations
binding capabilities of somehow I want
to bind information that I'm getting
from the sensors with my UI how is it
going to change multithreading support
again to know fries and and then it
actually took me a little bit of really
understand how the threading is working
on javafx because it's not so trivial
and again I mean javis been around for a
while so it's really mature and easy to
use so just to us lies about
multithreading in javafx so remember
javafx is running on on a UI thread so
if you need to do anything else anything
that is no UI related make sure you
create a thread for that so in this case
they created a class called task and so
this is the 12 to you so you create a
task and you have a call method and this
is where you put your loop right so this
is no UI related and then these stocks
you just run it into a threat so you
create a threat you but this is a
runnable so you just give the
read these runnable and you just stand
on you're ready to go the tricky part is
if from that thread you want to update
the UI so the UI is running on a
separate thread and you have this shred
listening for your sensors if you try to
update the UI from this thread it won't
work because they are running on a
separate thread so the way works on
javafx to do that is platform run later
so from this thread that is reading when
I need to update the UI what I do is I
call the platform run later and then
what I'm doing is I'm putting the
execution of that into the UI thread and
is the platform that is going to take
care and run it whenever is possible ok
so this is how you put those two walls
together so make sure you understand
different thread if from this one there
is no UI related you try to update
something you might get a warning you
mind not i was getting sometimes a
warning sometimes it just tell me you
are not in a UI thread but sometimes he
didn't and you just I just didn't see
anything happening on the screen and I
thought there may be a loop or you know
with multi threading is sometime it's
kind of hard to know what is going on so
it's just that so just make sure you you
have that binding so i won't go into
many details about binding because i
know we're being covering in many you
know in the past year which other fix
but again you have they cut the beauty
of binding your interface so what I'm
doing is I'm binding the values from the
sensor to the x-coordinate and
y-coordinate on my environment so
whenever this is changing it's
automatically updating my environment so
it is kind of beautiful this is just a
little bit of binding yeah ok so for do
demo so let me do some things you will
still have 13 min oh so not too bad I'm
going to run into their conclusions
because I want everybody maybe to come
here and we run the demo from here so
everybody can see it so let me just just
finish this so we can write get rid of
the of the screens and
moving to the front part so conclusions
are raspberry pi love it it's just so
many things that you can do where you
can plug to it is unimaginable I mean
anything you think about it they support
the protocol connected and have fun java
technology is there so i think this is
just so awesome again take up whenever
you're going to do a project we don't
better take a look and see do I one or
go for seÃ±or ME embedded it really
depends on your requirement right and if
you decided to go for SC and better
remember we have the beauty of the pie
for Java libraries further information
some Java embedded get the raspberry pi
PI for java and then everything about
this demo it's on my blog so if you want
to set up exactly just so jasper and on
and it's team his team is going to put
up together the instructions of how to
put together the Duke pad so you know
the hardware bit i'm not sure if they're
going to include the configuration of of
the sensors so here is what you will
need to do with that i really thank you
and i asked everybody to come to the
front so we can actually see the demo
okay sorry
they're pretty small yeah sure sorry
okay so this is so again the cops it's
just like you know on so I have that was
great time right this is the controller
for this screen this is the cable that
is powering the Raspberry Pi everything
is on the SD card so we have the newest
version the distribution is called
raspbian we have the sensor we have
cable so i can actually start a program
for my computer and we have the same so
this is it actually the sensor it goes
to trust ipod touch it and then we've
got power I kept the the license made
here so we have light the funny thing
for these particular versions and have
an issue with the life I think they
already fixed it with the newer version
of the screens this is this particular
screen it was too dark so I have to
actually do a jumper here so I have all
the brightness so it doesn't really like
Cory doesn't adjust but this is fixing
the new explain so that should be okay
and then a beautiful case you know you
think not as beautiful as there as a jig
pad but this is angel was homemade so
thank you sir so what I'm gonna do is
I'm just going to see I was I was having
issues actually I don't know if we stick
it even it people but I don't think they
even because I change it just having
issues trying to see the device but
that's not a big deal because if we kind
of see it we just connect the yes and I
kind of start a program here so that's
okay so let's see if I can see the
device yeah perfect okay
so what I'm going to do is I'm going to
ssh to the device only it take like a
minute so I once we're connected it
should be pretty fast if you like a
minute
I don't think that I want to include
that I don't have it in this demo and it
was just purely about timing if I want
to touch communities or whether to need
to navigate through the environment but
you know by the screen be able to too
fast or with the theater I didn't have
time and another thing that I really
wanted to do and again I didn't have
time was to have a formal you are like
we are conscious and different later so
even a formal you are i can give you the
sensation of having this 3d kind of
filling to it
I'm going to do first I'm going to run a
simple test okay with the sensors okay
okay okay something's happening so does
it take a little bit longer to get the
US so there's pretty much the sensors
and as I flip we can see how twice the
exponent ordenes lon
lacrimosa say
it's just a way to see if you know
things really working the way it suppose
to you and it seems to and then and then
the important thing also whenever I'm
moving things along I will need to know
when when the device is flat haven't
stopped Bose transitions and again
that's why I needed a gyroscope to tell
me that and then parallax
I don't remember i'm not i'm not a
purpose honestly
insulation smoking X&amp;amp;Y this book signing
so this seems face it kind of Lucky up
is kind of delay a little bit of the
beginning us it I said
Oh
so again sorry guys I need to go back
because I if I flip it is so you can
actually see that the different layers
time to show the recent event so I
lifted you guys gonna say it has to be
really flushed so how did probably
so again you will see things like the
snake is there that you've seen before
sorry so you can see the different
layers here before he goes so those are
have my ears
okay so you got idea okay there we go
ok
so again I mean it will take a lot of
working creating the you are AP lot the
layers and again the more layers you
have the better and again you see how
I'm running out of later they put up the
height of the layer so would be nice i
don't have like really really big but
one and i can really navigate but again
i need like 48 hours long days and i
don't have so that's the demo thank you
very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>