<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Deploying an Oracle Database in a Docker Container | Coder Coacher - Coaching Coders</title><meta content="Deploying an Oracle Database in a Docker Container - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Deploying an Oracle Database in a Docker Container</b></h2><h5 class="post__date">2018-04-17</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/XjM7lZ_TIAc" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">my name is Shawn Stacy and I am a
director with Oracle's database product
management team and I'm going to talk to
you today about deploying an Oracle
database in a docker container and I
realized there are some people who may
not be in the room but for those of you
in the room who here would classify
themselves as a database administrator
anyone okay a few of you who here would
classify yourselves as a developer as a
programmer a few people and who here is
is using docker today okay I see Chris
down there excellent one other question
actually no wait till we get there so
having said all of that everyone from
Oracle is obliged to put up a safe
harbor statement and that's primarily
because some of the things I'll talk
about or I may talk about may be about
future rollouts or features and
functionality that may not be available
when you go to use this tomorrow for
example I may talk about things that are
coming soon and just to indemnify myself
so to speak or to ensure that that
anything I say may not be misconstrued
we always have to put the safe harbor
statement up but at the end of the day
when it comes to running any Oracle
software all the answers you need in
terms of availability support models etc
is all available online I'll talk about
some of our support policies when it
comes to running the Oracle database on
docker and I do recommend you you have a
look at those items this is one of those
presentations that has many more slides
than I'll be able to get through the
idea being that I will share it with you
all after this session and you'll have
have all the commands and the syntax for
various things that I'll be
demonstrating and the goal here is to do
a live demonstration as well just to
show you how easy it is to perform any
of these operations so I've got a very
quick overview on docker for those of
you who may not be too familiar with
I'll then talk about Oracle and docker
and that's not just Oracle database but
just Oracle's stance and what Oracle is
providing in this space and then I'll go
through deploying an Oracle database on
docker and then I'll have a bit of a
discussion of the different services we
have to run Oracle and docker in the
Oracle cloud so a really brief overview
what is docker well it's a it's a
software a container platform it started
as a originated from the the Linux
containers model it's available on
Windows if any of you attended the
dotnet session earlier by Christian Shea
he showed you how to run that it's
available on Mac OSX and obviously it's
available on Linux and it's available
pretty much on all flavors of Linux and
Solaris support will be coming soon now
having said that solaris has had a
containers solution for quite some time
now but it's subtly different from what
docker provides so when we say it's
coming to Solaris it's more along the
lines of being completely native to the
docker offering now getting back to
Windows there's two versions of running
darker on Windows the first version is
is if you run it on the pre creator
Edition pre Windows 10 creator Edition
when you go to run docker it will in
fact bring up a virtualization layer and
it will bring up a virtualization layer
to emulate Linux running on that Windows
OS with Windows 10 creator Edition on
you can now run native Windows docker
containers and that was part of
Christians demonstration earlier Oracle
is a part of the Linux open container
initiative which also means that docker
is and and the container components are
part of the open source model now
there's two versions of darker available
there's the commercial edition or the
Enterprise Edition and the community
edition and the one that will be or I
will be demonstrating is in fact the
community edition now I will point out
if you go onto docker
and look at the additions to download it
will say that Oracle Linux is not
supported or it doesn't list it as one
that is supported and it therefore
implies that you need to go with the
Enterprise Edition that indeed is not
the case so if you are interested in
deploying the commercial Edition I mean
the Community Edition and playing on
Oracle Linux as you'll see through this
demo it's very straightforward so it's
an open platform to build ship and run
distributed applications I'm not going
to dwell too much on this because I
think you've heard so much about docker
and kubernetes today that you probably
can speak about this in your sleep but
it's it's it's basically and and in
docker versus the whole Linux container
is what we're talking about here docker
is an improved version of the Linux
container model that the Linux LX it's
easy it's there's there's many
components around it and you'll see this
when I run the commands they're very
self-explanatory it's very simplistic in
nature and it's definitely not complex
in what you perform many of the
components you would expect like
networking and memory and CPU usage have
been extended to just work much more
elegantly through the the docker engine
and that's part of the reason why docker
has been so successful and has managed
to elevate itself above lxc or Linux
containers also that the they've done a
really good job of providing images that
are readily available you just simply
pull them down and deploy them without
having to do too much legwork yourself
and I'll demonstrate that for you as
well and because of that it has been
extremely successful in the developer
community okay and it many consider it
is a lightweight virtualization
technology but really it isn't and and
this is an important slide to talk about
the second from the left
hypervisor type-two is what we think of
when we think of virtualization right
we've got like a vmware perhaps running
on top of our hardware in our operating
system it could be vmware it could be
VirtualBox as i'll be demonstrating for
you on my system
hypervisor basically sits on your OS and
then within there you run additional
operating systems with complete software
stacks now the benefit of going down
that path is those operating systems
could be completely different to the
host operating system right now the
negative aspect to doing this is that
you pay a performance penalty right
you've got virtualized layers of i/o of
networking of everything right even
video operations so hypervisor type one
is along the lines of the Xen hypervisor
right where it you have the base
hardware and the hypervisor runs
natively on there and everything runs as
a virtual machine on top of that and
those virtual machines could also be
completely separate operating systems
right now if we move to lxc which is
what docker is an extension of Linux
containers is where you have the the
hardware and the operating system the
operating system in this example being
Linux with subsets or the user space if
you wish running within that operating
system then gives you this level of
isolation okay so you've got in this
case we've got a file called bin libs on
the right hand side and you can see that
container 1 is inheriting that from the
parent operating system or the operating
system it's running on top of meanwhile
container 0 is running its own version
of bin libs it's not necessarily
inheriting that those components so it's
the user space that differentiates it
now in doing this we're able to run many
many more containers if you wish
isolated workloads then you could run in
a hypervisor whether it be type 1 or
type 2 so it's a much more scalable way
of consuming those resources it's also
much more manageable in that you've got
this one based operating system or these
tiers or layers in which you can do
upgrades patching or add components that
these containers can inherit ok now the
negative if it is a negative is that
they are all inheriting that base
operating system at the end of the
okay now docker is an extension it's a
superset of what the Linux containers
provide and it just provides a much more
manageable in a much more a seamless way
of managing and running these containers
and that that's what we'll be looking at
so container I've used this term a fair
bit think of a container and and I've
got it written here a lightweight
standalone executable piece of software
that includes everything to run it on a
host okay so all the components required
to run this application or this piece of
software is self-contained in that
container other than the host components
that would be shared across various
systems the docker engine is very much
like the hypervisor in the sense that
it's the software that runs those
containers okay but it's not the
hypervisor and that it doesn't it
doesn't emulate anything it's simply the
the host OS that everything is hanging
from and then the image is the image
it's the software components the
binaries the subdirectories all the
software bits that we are running on top
of this operating system and then we
also have this concept of a registry the
registry is where you would host these
images now there's several types of
registries you could have a private
registry there could be just your images
that your business or you are storing
and loading and working with perhaps
you've got a team of DevOps or
developers I should say who have this
library of images of your specific
application components meanwhile there's
also public registries docker themselves
have a registry github has a registry of
components and then we also have a
container registry
that you can go to and grab completely
self-contained built images to deploy
okay and then volumes volumes is a
subtle thing to get your head around in
that when you run a docker image or a
docker container the the
a file system that those docker
containers are going to be pointing to
is part of that image so if you take
that image and destroy it or move it or
relocate it or do something with it that
base file system goes with it so that
could be a bad thing right if you are
doing a u18 and you're setting something
up you have to keep that in mind so when
you deploy darker you will typically
want to do you will want to point to
volumes that are outside of where your
containers are running okay and we'll
I'll give you an example of that in a
moment
so illustrating the registry model here
we can see with docker we've got the
client and the client can run certain
commands like a docker pull a docker run
and when we say these commands we go
against the the docker host where the
containers are residing and if we do a
pull command for example we go to the
registry to grab those images pull them
into our hosts that we're running on and
actually deploy those images there here
in this example we've we've gotten a bun
to image the red drum thing is Oracle's
icon if you wish for pulling down a
database it could be the Oracle a DBMS
it could be MySQL it could be no SQL
there are various components that that
we provide including a Java engine for
example the subtle difference I was
talking about before is you can also
mount or create or pull an image and
deploy it to point to a separate volume
and that separate volume would then have
persistence so you can start up and shut
down and perform operations on that that
that image without necessarily losing
data or state okay and that's important
when it comes to dealing with a database
it's subtle but it's important so one of
the best practices we say for deploying
docker in Oracle is to use the
copy-on-write file system right so
butter FS is one example where it allows
you to do snapshot cloning and those
operations very effectively and very
quickly right so you can take a docker
image and deploy it and shut it
and clone it and without necessarily
consuming a larger footprint than you
need but doing it very very fast the one
caveat to that home model is that's
great for deploying an application or a
java app or something like that
but it's not a best practice for running
the database so when you run the
database there's other modes you will
take and I'll talk a little bit about it
when it comes to deploying rack on
docker which by the way we do support
okay but I'll get to that in a moment
so containers are non persistent right
when when you make a change when you
want to roll out a new version of
something you don't necessarily go into
your docker
machine and change it there and and and
that's where you're going to move from
you you would typically go in and have a
gold version of that image use that as
the central source of where you want
your your your changes to be kept and
destroy other images and replace them
with this new one so that's the model
and approach you take when deploying
docker images and with that being said
when you think of running with a
database that's contrary to how you
would want your data to be persisted
right so so that's why it's a little bit
different when dealing with a database
running on docker and I'll talk about
some of the things or the nuances that
that introduces when it makes sense so
yeah the images are immutable and yeah a
change to an image does require a
completely new image build right is that
that that's fairly common sense they're
illustrating what I talked about earlier
where these containers are inheriting or
they're hanging or sitting above that
base operating system this slide just
helps you understand that why is it so
popular why DevOps and docker
well I think you all get it after
hearing some of the sessions today right
it's extremely lightweight it's
extremely easy to use and it's very
efficient you can you'll see you can
pull an image and deploy a database in
under four minutes right now that's if
there are caveats there's going to be
certain architectural decisions you
make that are going to impact that but
at the end of the day you can deploy a
system very quickly okay and very
efficiently you can run hundreds of
containers on a basic into a machine
without having to put in a lot of
hardware it's because of the nature of
how the the docker or how the container
model works with the Linux operating
system because everything runs directly
on that kernel I'm not going to drill
into this because I'll be wasting too
much time going through this but there's
many reasons right there's many benefits
both from a DevOps standpoint as well as
an administrators view of the world and
like I say I'll be giving you these
slides so you can look at that later if
that makes sense um one important
concept I do want to point out is when
you deploy a container the idea you want
to keep in mind is you want one
application or one set of resources to
be mapped to a single container so what
do I mean by that when you build an
image perhaps I'm going to deploy a
database you don't want to create a
docker image with two databases in it
okay because the minute you start doing
that you start hitting obstacles for
example ports being oversubscribed or
overused when it comes to making changes
which database are you making those
changes to and how are those changes
within that container affecting one
another and from the outside view of
looking inside at the way you've
deployed all of this it can make things
more complicated so the golden rule is
you typically will deploy one
application of one application tier with
all the pieces it requires to run within
a single container and here's an
illustration of packaging that where you
can see we've got a hardware as a
physical server and an operating system
and multiple application containers
running on top of there the nice thing
about them being individual containers
is that they are self-contained they can
be moved and plugged and relocated
as need be they can be scaled up or
scaled down if you're running in a
service model for example and there's
this so many components that docker is
bringing to the table of helping these
individual containers be more manageable
as one there's many benefits in
deploying in this model right so let's
talk about more about what where article
and docker sit and and what does that
bring to the table now keep in mind this
is not just focusing on the Oracle
database Oracle has a much bigger
footprint when it comes to working in
this area so Oracle joined the open
container initiative back in 2015 and
basically it means that we have some say
in developing the solution and helping
it with with taking into account the
core components of the solution and
offering that makes sense to Oracle that
we also understand our customers can
benefit from and it means that we're not
working in a vacuum and the the
requirements we have are being shared
and being leveraged by other docker
consumers so getting back to the
database then so Oracle Linux 7 3 and
later is what's required to run an
Oracle database and that's from a
support standpoint and Red Hat Linux 7
Enterprise Linux 7 or higher RAC is now
supported that's as of a week or two ago
we now support RAC but one caveat with
supporting RAC is that we're fairly
strict about it it's for dev and test
only it's not for a production workload
ok we're not yet at that point and
there's reasons why you would want to
take into consideration why you would
want to use docker with a rack database
and also setting up rack there are some
quirks so I'll be demonstrating to you
how easy it is to deploy a single
instance database when you go to deploy
a rack database it's going to be a bit
more tricky
to perform that operation Maria Colgan
has a blog sequel Maria if you've if
anyone has heard of that she has a nice
entry in there that steps through the
process of deploying a rat cluster in
docker and you'll see there there are
three main steps you have to do you've
got to go through github you've got to
physically follow the recipe and the
instructions to pull down the bits you
require and depending how you're going
to run this if you're running a rat
cluster on a single machine for example
as two separate containers on a single
machine you'll have to create one
container as a connection manager to
help with the ports for the public and
private networks then you have to create
another container to be your shared
storage that ASM and the OCR and the
voting discs all that stuff is going to
sit on unless you can point to a
physical shared storage device that
might be running NTFS or something like
that
and then you've got to create a
container with your gritty
infrastructure layer and then you'd run
your rack on top of that so there are
there are more steps to perform the
operation but once it's built it's built
and it can be easily redeployed so
that's the rack aspect getting back to
the database its database versions 12
102 and higher that's required and most
importantly the images are available
pre-built and ready to deploy on the
oracle container registry so all the
legwork is done for you and it's a very
easy way to go forward now keep in mind
when we provide a pre-built image for
you there are going to be limitations
right and what I mean by limitations is
we've determined the block size we've
determined the character set we've
determined the name of the Oracle
instance for example so if you have some
customizations you you want to make and
you choose not to go down that path then
yeah we have github repositories that
have recipes and and all the components
you would need to build your own custom
images I mean that way you can stay on
top of it but if you just want to have a
taste and a feel for what it's like to
run and
managed an Oracle database on docker I
strongly suggest you go to the container
registry and go down that path of
deploying it so I have to say something
else here and that's multi-tenancy
I guess hands up who in the room has
heard of Oracle multi-tenancy option for
the database ok a few of you but not as
many as I would have anticipated so in a
nutshell this whole container model I've
talked about it the operating system is
the same thing with a multi-tenant
database we have this container database
that individual pluggable databases sit
within the security is managed for you
the isolation is managed for you you can
manage the entire container database as
one you can back it up as one but you
can restore individual pluggable
databases you can clone individual
pluggable databases you can unplug them
provision them in and plug them into
another container database you can do
all those operations much as you would
do with docker as an image but at the
database level now why this is important
is as I mentioned with with docker
there's this whole non-persistence model
right of performing of just the way the
images work well if you've got a Devon
test environment and you are looking at
having a set of dev work being done
against one database perhaps you're a
micro services shop and your your
developers are very fond of creating an
individual isolated database to point
that application to your to write which
is quite common at that point why not
give them a pluggable database for their
individual micro service to talk to
meanwhile you can run a container
database that contains multiple
pluggable databases that each micro
service can be talking to now as a DBA
or as an administrator or even as a
devops person you've got a single
database to patch a single database to
secure a single database to backup and
perform all those operations meanwhile
those developers who may be wanting to
have a sandbox to quickly do their work
and spin up an environment and
whatever operations they want can do
that within the confines of a pluggable
database so when you pull down one of
these docker images the Oracle database
for example it's pre-built as a single
tenant container database so it's all
the building blocks are already there
and there's no reason for your
developers to resist I guess would be
would be one way of putting it and for
those of you who are developers it means
that you have this environment already
built for you and you can build your
workloads point to the Oracle database
knowing that you can take this pluggable
database out of the container and apply
it somewhere else perhaps you want to
plug it into the Oracle cloud do a lift
and shift all the building blocks are
there for you okay and really I just
jumped ahead that that was what my next
slide was going to mention Oh actually
that's a good point I forgot to mention
was that plugging and moving and
relocating these pluggable databases
it's bi-directional so a developer is
not locked into one particular path that
once they've put their data into this
pluggable database running in this
environment that they're locked there
and they have to try and figure out how
to grab that data from that volume or
that that physical location or once
they've moved it to a cloud location
they're not locked in there and in fact
pluggable databases make that model much
more easier and much more transportable
so to speak so talking about Oracle on
github yeah we have dozens and dozens of
recipes and samples and projects and and
pre-built software out there for you to
download last time I looked there was
over a thousand different components so
keep in mind
Oracle's got a rich portfolio of
software solutions right from database
standpoint we've got the our DBMS as
well as the real application cluster
database we've got MySQL we've got no
sequel we've got big data components
Cassandra if you want to use that
terminology we have many different ways
of storing your data
from an application standpoint I mean
we've got the the Java components we
have some of our other software suite
components as well that can be leveraged
in this model and that the URL is there
as well github.com slash oracle docker
images and you'll see a whole bunch
there from security etc on looking at
the oracle database on on docker if you
to search for that and in addition to
that we also have oh I guess one thing I
did want to point out when it comes to
using Oracle software and you've
probably already seen this when you go
to use a component of Oracle's we we
often direct you to OTN or Oracle
technology Network or Oracle com to
download the software and you have to
accept and export and compliance
acknowledge that you've you've obliged
by that you're following the procedure
before you can download something so
because of that because of those
requirements on github we don't post any
binaries we have all the recipes and all
the components but you would then be
required to grab the Oracle binaries and
software bits from from OTN or from
Oracle com to actually deploy against so
yeah so we don't have any proprietary
stuff listed up there available for
download now if you go to Hubble comm
this is where you'll find actual images
and things that that we're providing and
that's not going you're not going to
find the Oracle database there you're
going to find other other software
components that we provide as part of
our suite now
the next one is the docker store so if
you go to store docker comm and then
search on Oracle you'll see the various
pieces that are available to help you
get started there and once again it
appears that we have the database but
you have to go in and point to where you
need to get that data from the real the
real sweet spot that I I think is of the
most value is this next one
and this is the Oracle container
registry so this is available as part
it's been developed by our Linux team
and we provide images that are pre-built
whether it's Java whether it's the
Oracle database whether it's some other
web tier and in order to to get software
from here you need to sign in with your
Oracle single sign-on or your Oracle
account that you would have registered
with OTN or the Oracle cloud or wherever
else and once you sign in so that's the
URL Oracle data container - registry
Oracle com
once you sign in it will lead you to a
page where we list all the various
container services that are available
for download the images that are
available to you you'll see the database
there's Java there's some nodejs some no
sequel operating systems OpenStack etc
and if you click on the database it's
going to bring up three different
database images that you can download
the three images our Oracle database
Enterprise Edition Oracle database
standard edition and Oracle Enterprise
Edition slim so what what our team has
done that have have posted this up there
is they've gone through and they've
taken an enterprise edition database and
removed many of the additional software
components such as the sample schemas
are not sample schemas the startup
databases the seed databases and extra
pieces that are not necessary so to
strip down it doesn't have spatial for
example it actually doesn't include Apex
that that's a fairly hefty one so if you
want to do application Express
development then you would want to use
the full-blown e or standard you would
not want to use the slim but in doing so
we've given you a smaller footprint you
can see the slim is two gigabytes versus
the the enterprise which is going to be
three or five gigabytes depending on
what which pieces you're going with and
you'll also notice we've got different
versions of the database available for
you as well
now this is where my safe harbor
statement comes into play another image
that is well worth considering when you
are looking at going down this path is
article X e 18 C X B is planned to be
released fairly soon and when I say
fairly soon sometime this year but we
are planning on releasing that and that
will be a fully functioning Community
Edition if you wish off the database
with some restrictions on the size and
the memory etc if you're familiar with
XE from 11g it's the same thing that
that we're rolling out so let's look at
the steps to deploy docker and a
database as a docker container the first
thing you want to do is install topper
and this is all running on Oracle
software so Oracle Linux 7-4 you'll want
to go in and do a double you get for the
the repo here the yum repo for l7 and
then you go in and actually modify that
file and you'll see there's two new
entries when you get that repository
file that you'll need to modify and
that's for our seven latest actually
there's three and Yui K which is the
unbreakable enterprise kernel release
four and the l7 add-ons so under those
sub components
you want to go in and changed enabled
equals one once you do that it now
extent expands what's available for you
to get from yum right so first of all
you can get your pre in store for the
database obviously you can get dr.
docker Engine as well so at this point
the next step is just yum install docker
engine this whole process has probably
taken us five to 15 minutes depending
how fast you can type once we do that we
do a systemctl start docker an able
docker and then a status just to make
sure everything looks like it should be
running and then once you've done that
then we'll go ahead and install the
Oracle RDBMS Server 12c release one
pre-install which just ensures that your
kernel settings and your operating
system is config
to run a database and then it's a this
isn't mandatory but it's a great idea to
go ahead and create an Oracle user and a
our install group so the steps are there
and set SELinux to permissive and once
you've done all of this you reboot the
server I've just put reboot there
because yeah we're going to restart the
whole environment and then once it's up
you should well we'll go in and then set
the we're basically giving docker
running rights we're allowing the Oracle
user to have sudo as rights to run the
docker operations if you don't do this
then everything you do as docker is
going to be run as root and talking
about the filesystem is kind of going
back to that whole conversation if you
don't do this when you pull in an image
and you deploy an Oracle database guess
who's going to own those files those
data files the root user so this is an
important step when you're going to
deploy your database make sure you you
give the Oracle user who is the same
user you're going to use to create your
database etc the rights to run docker so
at this point we're just going to go
ahead and su as Oracle now I've actually
done screenshots for pulling the image
and the reason for that is on over Wi-Fi
it takes this is fairly slow it takes
about two hours to pull down this two
gig or three gig file on to your image
now if you're running in the Oracle
cloud will guess where that that Oracle
registry is it's actually sitting in our
in our OCA cloud so if you're running in
our cloud you can pull it down I've been
told and told in about four or five
minutes because the bandwidth is so fast
so if you're running this footprint as a
compute instance that you've created in
our public cloud this will happen very
fast I wasn't I wasn't confident with
relying on that with hotel networks etc
so I've just got some screenshots that's
the syntax we simply say darker pool
container registry Oracle comm and here
we're naming the
that actual image now before we can get
to this stage we need to have gone into
that website you may recall the one that
was container - registry Oracle calm
those hosted by the Linux developers and
I clicked on there and I showed you the
database additions you need to go there
and say hey you know what I think I'm
going to download this one click on it
and it will bring up that screen that
you have to check the box to say yes I
have know that I am taking this offer
and I am NOT going to use it for any bad
purposes right you do that for whichever
versions you want in my case I went
ahead and checked them all so once
you've done that you can now type this
pull command okay
now the very next thing it's going to do
is it is going to ask you oh actually
I'm sorry I stepped I stepped ahead of
myself here before you do the pool
command you need to log into the
container registry I'm sorry I wasn't
even looking at my own slide so you do
that login command through docker and it
logs you into the container registry to
associate your account and to know that
you've already gone in and accepted
those those rights right then you type
the pool command and it pulls it down
and here you'll see it pulls down four
or five files the a couple of them are
very small in size there's one there
that's eighty one Meg that happens
fairly quickly and as it goes through it
runs a couple in parallel so it doesn't
take forever as it goes through it
starts pulling them down and then you'll
get to the point where it will finally
complete and you'll have this image
there okay so now we've added this image
to our docker library so to speak on our
local system so let me jump in and do
something live rather than just screens
and I will switch to sharing my my
screen so I don't have to
why you should see the same as what I
see yep keep changes so here I've got a
virtual box image running hopefully the
screen will refresh here we go so this
is when the demo gods are going to step
in and hit me over the head right yes as
I've seen some other demos go today so
the first thing is I pulled that darker
image down right so now I can take doc
docker images and I can see what's there
there's that image that I pulled down
that slim version of the software I can
also go ahead and say docker PS - a and
that's going to show me what's running
right now now I happen to have one that
I've downloaded several times I've used
I downloaded some time ago three weeks
ago and I've I've done some things with
it you can see the last time I ran it
was about an hour ago so now I'm going
to go ahead and create a completely new
docker image a docker container to run
in and because I'm I'm bad at typing
I've got another window here that has my
command and that's it there so I'm going
to say docker run di T so di t means it
means interactive but then D also means
in the background so I'm combining both
and I believe there are benefits in
doing that every example I've looked in
our blogs are using all three of those
switches together and then I'm giving it
a name so I'm going to call it code -
Boston and that simply just means that's
the handle if you wish that I'm going to
use to run this this container with and
then if I want I can map those ports if
you don't do that it's just going to map
1521 to - if it's available it will just
be natively 1521 it's a good practice to
map the container and that the the local
system to be the same so we're doing
1521 colon 1521 if you'll often see
there'll be another - P 5500 colon 5500
for Enterprise Manager
and then the next thing you should
typically see which I've skipped is a -
V command for the volume where you want
to mount those data files now I'm being
lazy and I'm just trying to show you the
easiest way to do this and then you
specify the container image that was in
that when I did the docker images this
is the image that I'm actually going to
run so go ahead and hit that and it's
going to kick off and it gives it this
cryptic key that I can now use to map
things with but more importantly if I
now do a docker PS - a you'll see our
new image called
or our new container I should say called
where is it I'm looking for the name
I've here it is code Boston is the top
one and it says it's starting so it's
actually creating this container that I
can now run okay and execute against now
we could just sit here and wait it's
going to happen pretty quickly probably
about five minutes we'll have this
database up and running but if you're
like me and you're inquisitive as to
what's really going on
you can type docker logs oops
docker logs and I believe I need to put
code - Boston has my image name and you
can see what's going on so it's actually
at this stage just running a couple of
operations and you can see it's untiring
something right now it's actually taking
this file and untiring this to a gig
file to be this directory that that will
be created and if we follow it for a
little longer you'll see it's cycled
through these log files as it goes
through come on I probably should have
kicked it off while I was talking so
docker
is the operations all the commands we
run will be through that docker syntax
right and that's why we give the sudo is
rights to Oracle and allow Oracle to run
that docker program now once the image
is running we can run it we can
connect to it we can run a workload
against it we can stop it we can start
it we can perform all those operations
from the standpoint of running the PS
command one of the mistakes I always
make as I forget to type docker because
it's so native in how it behaves at this
point I can see it's still starting and
you can see it's been up for two minutes
but it's still not actually available
for us but in doing the create command
the image will be instantiated and I
will be able to connect to it now if I
want once I finished doing my testing
and I want to quit what I'm doing but
not destroy everything just keep it safe
and sound and come back to it another
day I can simply say docker stop code -
Boston and that will bring that image
down now the very first time you start
it it is taking longer than it will
normally take I could demonstrate that
in fact by starting up the RCL docker
one you'll see that will start in four
minutes because that image is already
unzipped at I'm tired it's created it's
laid down all the files the very first
time you do that it's actually laying
everything down let me just check now
and see that log file and I can show you
where it's at so you can see it's moved
along it's actually gone ahead and done
some port mapping it's gone ahead and
created a PD it's creating RoR CLP DB 1
as part of a container database since
the database is ready for you so that
that's good I actually thought there
would be more to it but that's good and
if we want to do a PS - Det - a we can
see it will tell us is up three minutes
and healthy so it's actually started so
at this point there's two things we can
do right we can actually log into it and
log into it as if we hadn't have done
the the interactive mode we would
actually be running inside that window
but it becomes a bit tricky to work with
once you're done with it right it's
similar to running a shell command in
UNIX or Linux where you
in the background you can kind of see
what's going on but it's a bit quirky to
get to if you do the interactive mode
like this it's running and we can
connect into it so let me type a sickle
plus operation I think I've got one in
my history here oh by the way and it's
in those notes so when I went to let me
just pull that up the container registry
site I'll sign in just to show you what
it looks like real time there's a lot of
good information here that I would
recommend logging in to check out
don't need that come on
good I was hoping it wasn't going to
text me a code but if you click on this
and actually click on the different
versions one of the points important
pieces of information here there's a lot
of great data is the fact that the
password is listed here and you'll see
that because this is a pre-built image
right you can go in and change that
password but yeah if you want to connect
to sis you'll need that password you'll
see it's 0ra doc underscore DB one but
all of that information is there yep
zero are a dot DB one and then it also
gives you some other information about
what pieces are not there in the slim
build for example where is it oh I
didn't go to slim I went to enterprise
let me go back pick that's strange I was
in the right one so somewhere over here
it will list what what's missing from
this ah here it is it says it has
doesn't have support for analytics
Oracle R and label security text oh it's
grown an application Express so it's
missing some of the core pieces that we
don't think every user is looking for
see let's get back to actually trying to
connect to this database that's running
there here's an example so here I'm
going to go in as sis using that
password and I'm using the default c DB
oops
hopes if i hit enter and i'm in there
now
see the pdbs that are running I can say
Ulta session set container if I like and
I can connect into that PDB I can also
say exit DBMS PDB describe does anyone
know what this is doing what I'm
actually doing here is it's generating
that manifest file for that PDB so I can
say I want to call it many dot XML
hopefully my typing is right Oh our CLP
DB 1 and it's generated that manifest
file now what I can do now that I've
created this manifest file of my image
if I'm the DB DBA who want or the
developer who wants to take this and use
it somewhere else is when I'm actually
done with my image and or I've done
whatever testing I wanted to do the way
I can get rid of what I've got first of
all I can say doc stop code - Boston
will come up with that name you should
see that in a moment
and now it used to happen like that but
we've changed it so that there's a bit
of a lag and the reason for that is
we're shutting down the database cleanly
so it would be you'd have to work around
it in the past you would have to say
stop - T 30 for example and then what
the name of the image was which is
saying wait 30 seconds so you could
gracefully bring everything down by
doing it this way it's it's clean and
it's ready to go if we do a docker PS -
hey you can see that it's now it's
status is now exited as well now just to
show you how quick it is to start up
I'll pick the other one for example
darker start ORCL docker you'll see it
comes up fairly quickly
it was just that first time we
instantiated it that it took a little
while so it's going to say it's starting
it's currently been four seconds 13
seconds it's still starting it'll take
about a minute on my system with with
the configuration that I have keep in
mind I'm running Virtual Box on a laptop
that has other things running but yeah
in a minute or so my system will be
available now getting back to the other
database that I created and we were
using and I mentioned I created a
manifest file when I'm ready to get rid
of it and free up that space one command
I can run is docker our M so I'm going
to remove that container completely from
my system now if I just said RM code -
Boston what it will do is simply go in
and drop the image but keep those files
there because remember when I created
when I install this I set it up so that
it's running as a separate volume
because this is a database and I want
those objects to be persistent so if I
say remove code - Boston what it's going
to do is remove the container the
instance of it and remove it from my
adore and everything else that's local
to this machine so to speak the library
but the files that the data files will
still be there now that's a good thing
right because now I can come along I've
got my PDB manifest file and I've got
those data files I've now got the pieces
I need to unplug and plug if I want to
use it in that way I'm not saying you
have to do it that way but it's just one
of the benefits but I'm going to just do
a clean remove so I'll free up some disk
space
oops did I call it
no such container Oh nicely sorry typo
yes - a and now you can see I've only
got one container there now and by the
way it's up it's been up for two minutes
and it's healthy you know now I could
create to connect to that database if I
wish to now how am I for time I think
I've run out of time I've got more
content to talk about I mention it
rather than show you slide so I'll be
quick
what I'm showing you is creating your
own docker images and doing everything
yourself granted with pulling these
images from the container registry but
Oracle has other solutions so I
mentioned you could do this really
quickly go into Oracle cloud use those
$500 credits create a machine a computer
install docker on it the steps are
really straightforward install the
database you're ready to rock and roll
so that's one way to do it yourself
homegrown the next one we have is the
application container service and then
we have the container service itself
cloud service the application container
service provides pre Ville pre-built
images for all the pieces you would want
to build just like how I have the
article database as an image all those
working pieces would be there and then
the final one actually yet all the
working pieces to have the load
balancers whatever and then the final
one is where we provide a complete suite
of services around deploying and
managing the CI the CD the CD write all
those pieces are there for you to have
lifecycle management to understand how
your containers are using your resources
so that's it I apologize if I ran over
time there was more to go through
but anyway so thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>