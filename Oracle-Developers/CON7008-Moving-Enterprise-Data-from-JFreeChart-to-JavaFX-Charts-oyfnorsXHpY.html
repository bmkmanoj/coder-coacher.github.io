<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CON7008 - Moving Enterprise Data from JFreeChart to JavaFX Charts | Coder Coacher - Coaching Coders</title><meta content="CON7008 - Moving Enterprise Data from JFreeChart to JavaFX Charts - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CON7008 - Moving Enterprise Data from JFreeChart to JavaFX Charts</b></h2><h5 class="post__date">2015-12-14</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/oyfnorsXHpY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">hello hello everybody thank you for
coming to the session my name is Clarion
I'm a product manager working on
NetBeans which among other things is a
free and open-source application
framework for correcting swinging
applications it's a modular application
framework in the past years with the
arrival of javafx most if not all java
swing developers are have become
interested in the extent to which javafx
can be used to the extent to which the
arrival of javafx means rewriting
everything from swing to JavaFX you know
whether whether those technologies can
be combined and if so how and in
previous years we've had a whole bunch
of sessions at a Java one focused on on
porting swing applications to JavaFX but
this time we thought we'll focus very
narrowly on one specific aspect of doing
that and that is in the case of business
related applications to focus very
specifically and very narrowly on charts
so we're not talking about the entire
application as such but we're talking on
one specific aspect of it that is common
to all data oriented business type
applications that one finds on the
desktop so we have three real use cases
and each will introduce themselves and
you know based on real experience in the
field experimenting with JavaFX and
seeing what its its usefulness is in its
relevance and the pain and to what
extent that pain is worth suffering to
incorporate javafx these kinds of
questions and we would like to add to
have answered so we're going to start
and with with Bruce and burned and Sven
and each comes from a different domain
where the desktop is it's very useful
and each will discuss their research in
javafx and how and what the results are
and what their recommendations are as
well and hopefully at the end we'll
leave quite some time for discussion and
that's kind of our hope at the start but
more than likely we will leave exactly
two seconds at the end but we'll try our
best to
to actually get open up this topic for
discussion because I'm sure there are
people here who have their own
experiences and ideas to share so let's
start with Bruce hi my name is Bruce
Schubert I'm an open source software
developer and my company mxs makes tools
for firefighters to help predict the
behavior of wildfires all my open source
projects are on bitbucket under the
mexis name so all the repositories are
there this PowerPoint will be there also
so jfreechart is a great tool for
charting complex data it has a plethora
of charting types and david gilmour
david gilbert the author and jfreechart
just gave a comprehensive treatment to
complex data yet javafx is cool perhaps
the siren song of a javafx port will
tempt you into the JavaFX world now
sirens were a mythological creature or
mermaid that lured sailors to their
death with their beauty I thought it
appropriate for Java effects so whatever
the reason you might go to javafx I
share my experience here porting a
complex chart so in my desktop
application the wildfire management tool
it has a bunch of data and I present
that data in charts for my stakeholders
my users their firefighters and they're
not scientists so oh this complex data I
just throw it into charts and it works
for them the vol fire management tool is
a NetBeans modular platform application
it computes wildland fire behavior from
terrain weather solar influences and
fuel models we'll talk a little bit
about few models layers I just want to
introduce that topic my goal for Java
effects was to create a lightweight
version of this that had a fire
simulation to be used in a classroom
situation so as a teaching tool ok so
with that my my first objective was to
use Jeffrey's chart viewer class to
render these Jane free charts that are
kind of unique to Jeffrey charts dial
plots compass plots and that stuff there
isn't an equivalent in the JavaFX
charting library at this time so I said
I'll just use this chart view and the
first challenge I found was that the
chart viewer is not included in the jar
file and since mine is a maven
dependency my applications in maven app
and I pulled down the jar file there was
no chart viewer so I had to go to the
source so you'll find if you download
the jfreechart distribution from their
website and going to the source you'll
find that chart viewer clouds I have a
little code snippet up here a typical
fmx Oh xml controller class created by
the scene builder where I embed this
chart the this just chart over here into
this so here we see the anchor pain
that's from the scene builder and then
in the initialize method I'm simply I
create the chart here but all's I do is
put that chart into the chart viewer
control it's a note and add it to the
pains children and wha-la these charts
then appear embedded into a javafx seen
it was that easy my charts are output
only I don't have any interaction with
the user on the charts so that's a topic
I think parent will address so worked
fine for me I have another complex chart
called the hull chart I'll explain that
here this whole chart has a on the
y-axis the rate of spread of a fire and
feet per minute and then on the x-axis
the domain we have heat per unit area in
BTUs per square feet and where these two
lines intersect we have the
flame length and the intensity as fling
links increase from this origin and go
up we want to haul mandan equipment
there's a dozer right here equipment
then haul retardants and then we haul
everyone to safety and there's probably
a vernacular term for that but that is
why we call it the hall chart in the
firefighting domain so my second ejecta
was to port the hall chart to touch java
effects and actually used a javafx chart
type it's a scatter chart it's got two
points on it that's should be easy i
thought it's got a logarithmic access
nothing really unique about that I've
got some major grid lines on the x and y
axis I've got subtitles I've got value
markers on the x and y axis I've got
annotations like these text lines going
across here I've got a text annotation
right here on the flame length I've got
mines I've got polygons that's while
these colored regions are and I've got
images so I tried to do that and job
effects and I realized all of these
items are missing so I created a library
that would create those particular items
and my use case with this library is for
you so I went down this path I figured
out how to do this I wrapped it all up
in a library it does those specific
things it's a subset of the jfreechart
functionality it does not replace
jfreechart it uses contact concepts in
syntax similar to the Geoffrey charts so
that if you're porting an existing
application it should be fairly familiar
if you want to either use this library
use the source it just use what you
learn here so that's the objective the
project is in this location that'll show
up on the closing side as well
so first objective again create the
logarithmic chart I had to create a
logarithmic access object to replace the
number access that you use on a on an XY
chart I wanted gridlines these major
gridlines and i found out that was not
something i could do easily so i
actually had to create a class called
major gridlines and to actually use that
class you have to subclass your XY chart
so you see create a subclass of your
line chart or your scatter chart or you
know build your own chart and then call
layout grid lines on this major grid
lines object now this styling is
controlled by the CSS so it's a shift
from Java jfreechart so you get to use
the styling one of the things I enjoyed
about the JavaFX charts I have a code
snippet down here just showing how you
could implement this you essentially are
just creating logarithmic accesses the
same type of information that you would
use with the numerical access or value
access and you can see you can actually
use those logarithmic accesses in a
standard javafx line chart and you would
create these types of charts
to build that this is a description of
what I had to do I found out that the
number access was a final class I could
not inherit from it I so I couldn't
override any of its methods so I'd
essentially had to copy the logic in the
number of class into my numeric class
which would which gave access to some of
the protected methods up and up in the
upper classes and then implemented the
logarithmic access some calculate log
and translation between the raw value
and the logarithmic value that part was
rather straightforward I did end up
using some classes from the jfreechart I
know there's this is a pattern that
repeats itself quite often people
there's a lot of implementations of this
logarithmic access this particular form
a implementation uses the tick units
similar to the jfreechart tick units I
wanted a subtitle to go underneath of
the title so i created a subtitle object
you add that to any chart class and call
the layout subtitle and you'll have that
sub time it's rather straightforward
the implementation was interesting so I
had to get to know charts the javafx
charts and what I at the chart level
there is a get children which returns a
collection of objects at this high level
that this collection returns the title
chart content which consists of all
these red brick colored items and an
optional legend so I inserted my own
object into that collection the subtitle
it's a simple label object and then I
resize the chart content and that's how
it gets placed in there and it renders
then as a result of the regular
rendering process so that's how that was
done
I wanted markers these little value
markers that mark something on the range
access or the domain access so i created
an expo markers object which you add to
an XY chart subclass and then you call
layout markers in in a layout it you
will override your layout plot children
and call layout markers in that there's
a position anam which controls whether
the placement is on the right or the
left or above or below the line similar
to position enum that's in jfreechart
you to place a value marker you simply
add it to a domain marker you call it a
domain marker method or add range marker
and pass in value marker and voila they
will appear they too are controlled by
CSS styles
this gives you an indication of where
the layouts will occur when you call
these when you pass in these positioning
on's top right top left etc but there's
got a tip here for you though this this
cost me a week to figure this out so I
went to implement this this solution my
markers would not place correctly on the
scene until the scene was resized I put
that off for a little while and I said
one day I'm going to start working on it
that day I've heard it took me a week to
figure it out I was assuming that my
call to the labels get with and get
height properties would return valid
values they didn't not on the first pass
was until a resize event occurred that
get width and get Heights returned valid
values so it appears that the jfreechart
rendering left those values as zero and
then the small of my arithmetic to
compute or to play something was off
that those weren't populate until after
the tripathi the rendering occurred on
his first pass so I had to do a second
pass to get that so what I had to do I
said way too many words to make them and
that makes sense but anyway I put
listeners on the labels width and height
properties to trigger a specific text
layout and that's a pattern that occurs
throughout the rest of this
implementation placing labels placing
images things like that so that's the
takeaway
text y annotations XY text annotations
adding text to the scene I've got text
on the background text on the foreground
much like what jfreechart provides so we
have a layer anam and a positioning on
that allows you to place that data on
the correct layer
similar we can place logos on the scene
either in the foreground or in the
background and visit use the positioning
them to control of the logo is anchored
on which corner of the logo here in
anchor point line annotation similar
polygons annotations either in the
foreground or the background they use a
similar pattern there well this is
controlled by CSS and this is how the
annotations were implemented I add two
groups a foreground group and a
background group I wrap those on either
side of the plot area collection and
then all the different annotations are
added to you to the foreground or group
background group depending on the enemy
pesty so all of my projects are on
bitbucket and this slide presentation is
there as well and I've got just a couple
minutes to show you a demo of the
applications
so here is the application I started
working on for my firefighter friends
and it takes environmental values and
computes this fire behavior and plots it
into these XY charts there is the J free
version of that Hall chart it's actually
embedded in that chart viewer class that
I mentioned earlier so it's functioning
just fine here and here is the Jeff Java
effects version also working just fine
and just for grins because I'm here I
can do this velocities make fire anyway
but that's not why we're here here's the
other element of the other demo i want
to show you let's go there we go the
library i created includes this little
demo app that allows you to pick a chart
type and just turn on all the
annotations and see how they interact in
the order which you turn them on
controls the order which they're
rendered know you are in control of the
rendering process if you use those along
charts the scatter charts etc so that's
it thank you okay let me go over what
Bruce was saying that I'm in the
interactivity mode so just just a few
slides and I will try to run something
let's try so I'm living with those tools
and use it oh my gosh that is just
boring but I can add a little to things
safe first I'm 20,000 feet under the sea
with those tools that makes it a little
bit more interesting and secondly they
live in environment which costs eight
hundred fifty dollars a minute so that's
an interesting approach they look like
that so this is looking from the inside
of a borehole 20,000 feet depth in the
Gulf of Mexico and you're looking at at
rock and every time you have a sine
curve we have a geologic plane heading
through that hole it's a sign because
it's relatively dip versus to the border
ball here if the plane goes straight
through you get a straight line if the
plane is deviated relative to the ball
you get a sine curve if you open up the
ball or three and six degrees so the
left side is equal to is right side here
this is either north or a top and bottom
so there's different tools different
nice things fractures cool stuff look
like alien this is actually a horizontal
bedding drilling
long quite stuff there's also a good fun
you see ghosts that made me fall off the
chair is from poland by the way these
are three vertical fractures
intersecting the board is white so that
the white halos i've shown their
resistive sorry so you can actually
scientifically explained that yes the
ghost I was falling off the chair first
and said holy cow words that but that's
that's three fractures okay so that's
actually a sine curve with a high
amplitude going through here and there's
another sign another sign you have the
1i people eater this is from South
Dakota and you have dogs so what kind of
stuff in 20,000 feet so that's
interesting what you can do with stuff
is close eight hundred fifty dollars a
minute and this is the only 30 science
101 i want to show you i have made it a
little animated gif just to to show you
what you see this is all the same things
all mathematics so you we're looking for
planes so you put a sine curve from this
stuff i just showed you the scientific
kind of represented by one of those
little things we call them tadpoles
because they have a little tail and
depending on where they are it's how
steep it is here we have vertical beds
and on the Left we have horizontal beds
and the little tail shoulder which
direction the bed is dipping and then
you can project the whole thing it's
invented in 1892 and a polar projection
and that is my chart which I will
interestingly at the polar polar gretsch
are you see all these planes than here
for people who have trouble with 3d this
is the 3d viewer was showing the planes
this is the same things these three
poles represented three red planes in
three different ways like sine curves
poles tadpoles or planes so the all the
same thing but different visualization
of the same information but the stuff in
the middle is the one I'm interest
because you can see we can make a little
circle around and that's what we want
want to calculate the means of those
guys for example and so this is the last
letter for the demo that's more slides
behind but I just wanted to show that
guy so all of this is there's just two
windows you which is not jfreechart
this is good so of course the the tree
over here the bean tree which from that
beans is an airplanes RCP heavy
application all of the other ones are
Jeffrey charts apart from this window
this is just a PNG and running in visual
library because I needed some
interactivity on top of that thing and
that was actually the driver why I
looked into FX I had those trouble doing
doing jfreechart with interactive
objects dragging on top of my data
points to do discrimination calculations
and an eigenvector calculation things
like that even that that thing he is a
Jeffrey chart with things called needles
we can then interactively draw these
things so um let me see ya this one was
like there's also just other examples
all jfreechart from that app so this is
animated gif but is this is the stuff
which I'm actually happened with I don't
need Jay Jay javafx to replace this
thing I'm interested in the in the polar
plot you just saw to calculate means
that was my in my driver so so to run
the app just to see that this is not
just the power points so this is this is
the app running actually live let's see
that words of course I've tried it
before do you have a well and then you
can put this nice images on you can put
these things on and this is what I also
would like to do in jfreechart this is
my next job to put this in NJ for each
other right now this is actually a
visual library and then this guy is a
widget on the visual library and you can
even see it comes out on the other side
remember this was from the borehole so
if you're on the right side this is the
same on the left side so if you put this
guy over it comes out on the other side
pretty cool actually and then you can
resize and do some magic calculation
list stuff and if you have that you can
do all kinds of different different
charts which I currently have for
example we have at 29 something we have
a very cool feature which of course for
you is not maybe so cool but for me it's
extremely cool it has a breakout and
this guy
this little black hole is interesting
because that's where the ball will blow
up we don't want to do that so this is
exactly 90 180 degrees apart this is
like I tried to do this in the Duke
thingy do cafe this is the thing because
the the v-shape you see the black line
data these are fractures and I will show
you how that happens so is this is the
borehole my business card is the
fracture that happens 280 degrees apart
and weighted away and open up 360 you
get this V shape I couldn't I couldn't
make it on a point this is what you see
is these these are fractures and these
fractures tell me exactly how the
stresses in the borehole are and I can
predict where the fractures will occur
when they occur how they'll pick there
will be in which direction that will go
and that will probe for example prevent
mud laws and stuff we have seen in the
oil and God Mexico we shouldn't happen
and then there are these kind of things
you can then run all kind of different
magic jfreechart so this is actually
jfreechart I extended J precharge a
fridge I had a nice polar plot but not
exactly as I wanted so this is the same
bulb or now looking from the top all the
way around it's going from here to here
you can see this little break out here
is predicted with this red area so this
is the area which it would predict so I
can actually say what would you do if
you mathematically calculate this
breakaway would it be and that would be
that green little thing so um other
other other parts would be for example
to wheat plain picker lots of it's not
so much place in the screen but you can
see what how it works and then you can
also make make things which was
interesting in San Francisco I guess if
you put like the strength of this thing
20 and recalculate the whole thing we
get an earthquake that this can also be
calculated to see if a fault will
reactivate or not which is also quite
interesting for in particular this area
I hope not in the next six days and so
what was interesting now is that I'm
trying to do the calculations with what
i wanted to overlay some data on these
guys of things and that that cause
trouble so here Jeffrey FX comes in so
for example I'm meeting all these planes
and put those guys in there's not much
space in this guy that's good enough so
all these dots now represent planes all
of these dots so i can now now say show
me show me how the pressure is oh we are
on the wrong we have 32 mega Pascal here
sorry oops still doing handsome and so
the critical pressure there's not so
much space but you can see these these
interesting parts with this stuff so I
have the a visual library below and
inside this is a component which is from
the original library where rendered the
jfreechart as a component widget inside
the visual library and I did the visual
library because I wasn't theirs naive
hope that I could use the visual
libraries the animation to be able to do
these kind of discrimination
calculations and overlay and and
calculate those but it was a nightmare
regarding in particular was local to to
parent and parent to local coordinate
systems so I had really serious trouble
to now calculate means these dots and
that was my drivin always with effect so
sure that in FX how I run this thing I
have not been running and I have
something called a statistical item
vector module so this is just the
running outside that application just
where tried it out over the last few
months and these are the eigen vector
decomposition I will show that in a
second I hope this thing comes up run
run run oh I convector everybody knows
linear algebra then you good
so it is these this is lack of course
eggy shaped here we go so so this is now
a net bean certification this is a swing
swing FX and this is my my discriminator
which I couldn't get to work with visual
library and the good thing is a visual
library of course that I work with that
it also has a scene scene graph so it
was for me mentally the same thing to
approach FX going from visual library to
FX there was no mental hurdle because i
had the concept of a scene and and the
concept of going from local coordinates
to parent parent coordinates so i was
super happy when i saw that and and i
was even more happy that when you
actually could put data on this thing
and that you can finally do interactive
calculation of these things so now i can
finally stack those got out of charms
sean's that this stack pain is your
friend and i can only i can only support
that so this is a stack pain to this
ellipse or these discriminator the shade
of the year they reshape the lips lives
in an inner pain on top of the stack
pain where the graph is in the bottom
and then i do a bounce local to parent
to be in the same coordinate system
motor i hack and then get it to work so
that you can actually calculate an
intersect calculate the intersection of
those points and then you can calculate
the the mean dip which is little red dot
and then the black dot is actually the
the third item vector of these
calculations which are the interesting
part when you in geology we have a book
like this and you have geology which
disapproved typically done outside the
road here from the san andreas you would
like to see what is the axis of this of
this of this fold so this is the fold
axis so you can see these dots are each
dot is a plane which recognized and then
you can calculate from that and predict
different things so of course the cool
thing which I couldn't resist doing of
course then you can say if you you have
this running you can then finally do
something I could never do before you
can rotate this thing around and then
put the calculation of this guy this
this I hadn't this I haven't been able
to
at all ever before I know somebody I
think you try to cut down on visual
library rotations and it's somehow work
but this was so much easier so this was
not driver to run FX so so if I go back
to my presentation just what what does
the heat the consequences of of doing
this FX thingy and as I said the current
solution was visual library scene with a
component widget and I use jfreechart
panels rendering inside this component
Richard and I was super happy for that
until I need to get head on the points
and the the problem with visual library
was you can see I did it he and inside
the pure visual library scene they had
these things called widget convert local
to scene but I wasn't ever changing
preferred bounds and it was it was
actually quite a nightmare to get this
to work and in FX it was it was way
easier so why why change to FX well it
first of all now it's finding part of
Java and it has vinyl properties which
makes it very easy to to not have all
these millions of properties of rounds
and you definitely will make a mistake
it's much easier to do collision
detection between notes than anything
else and of course easier animation and
the better appearance is for me not the
it was not the trigger I really don't
care it's a scientific app but of course
it has a better appearance but is that's
not the driver the strategies you can
have is just don't move I mean keep the
original code because some of these
shots i have are just fine why why why
move them but if you have something you
would like to add you can use this FX
graphics2d from jeffrey sure which Bruce
was showing and that will literally
takes you one minute take the original
jfreechart rabbit in in one of those
from David Gilbert's thing and just yep
immediately an ethics canvas and a note
with this thing but in the moment you
want to talk about the points within
that canvas you are in no man's land
then you're already in trouble or do a
def full FX port which I did so here
here I tried to go the cheap way I said
ok let's do the ethics graphics and then
I did my polar plot and I tried to get
hand on this point and see I'm always
obviously this little green one is off i
couldn't have i get these coordinates to
work it just didn't work and so that was
the
and there was no easy way to interact
with the individual points the original
chart actually I I chatted with David
Gilbert and support me saying there was
another good idea and then of course the
full access report is this I'm currently
there's no official java port for polar
chart so i will try to make this a full
polar char and then see if i can work on
that and deliver that and the notes has
very easy support for this get bounced
in local and get bounds in parents which
helps a lot general experience do not
fall for the easy temptation going to
efforts if you know we want to do more
you will burn eat it it's like going Jay
and I you know a lot of C++ code I do
Jay and I AG and two years later you
would be burnt to death because you did
something really bad and that is exactly
the same thing I just thought about Jay
and I and say oh my god I will not touch
this thing and then if you have work
with visual libraries it's not much
different and if you use ladies netbeans
and Galen Prada actually sit over there
the book helped me a lot thank you so
much this is the Java rich client
program and netbeans platform and if you
have not encountered any problems I have
not but as jammers luck would say so
nicely there could be my naive clueless
I lucky I am I really haven't run into
these threading issues people were
talking about I just but mostly it's
because they're Galen and all year you
made it nicely encapsulating and make
this controller class and I think that's
my clueless living in that world makes
me prevent doing stupid things one hint
as Bruce was saying if you do if you do
these stacking of paints if you do set
pick on bounds that makes two tips go
through the stack thing that took me a
while to find out it's not obvious that
you have to use that if you put that
thing on the pain on top then this
ellipse this ellipse you just so moving
that's a pain on top of the stack pain
but all the dots in the chart below and
if you have two tips on the dots they
will never go through because this back
pain is just it's just licking laying on
top if you put this little thing there
it looks through and then you get all
the two tubes again which is quite nice
and I have not tried to have a single
thread thing and the current challenges
I have is speed of change intersect with
you have hundred thousands of points
that is a problem
and keeping aspect ratio cooler shot i
hope i can do some kind of binding width
and height but i actually haven't
figured it out yet and there is some
constant offset of the min/max of the
chart which are somehow not working
correctly but i think sven gave me an
idea that was maybe it's me making
mistake that was what i wanted to let me
just ask you questions are you you took
the approach of doing everything picnic
the heinous kick in the mayor hopes up
which we have one that's okay so i think
we saw two different solutions for
enhancing charts in javafx one was to
add additional nose to the list of
children that those making up the chart
and we have the one wrapping the chart
and into a stack pain and then
calculating everything on top of this so
maybe so you go over the next person
which of those two you have you chosen
or if you charge the third one so
probably i've chosen um I've shows
mistake pain version for for trading
charting things besides the besides not
having a chart below but it's the same
same idea from using the stack pay for
encapsulation things so on which is
interested why you're why you arrived at
different different solutions for the
problem I think it's clueless I took a
very naive approach this is my first
javafx i miss earlier javafx application
so the only thing i knew at that moment
was Jeffrey charts so I leverage the
concepts from Jeffrey charts and then
tried to find in the javafx world
corollary where there were some where
there weren't
then I you know I I only know as much as
that exploration took me so I wouldn't I
wasn't aware of stacked pains and other
things I that's how I ended up with mine
and again the use case was also to
create a syntax that was similar to the
jfreechart so that all of my other
charts in the future if I ever needed to
go that route would be an easy port okay
so I could show we haven't we have an
overlap so we figured out I stay two
guys push their their presentations that
will check it out there's a novella but
maybe we can add can add some some
interesting stuff so yeah actually nice
so long it's good it should be okay and
we'll hope for the best that's not
locking up everything oh okay great so
we were talking about the the
logarithmic thing and oh yeah so you see
at three versions of all eric metaxas
yes so um let me show you one version of
it
now you see I just have one file for it
so i just have the eggs it's no texts no
nothing is this can you can you yeah we
probably concedes so it seems to work
nationally it does not have the major
grit effect so that's missing I'm not
sure this is easily integrate able so I
think there's no no easy way to say
where I want to have the the grid lines
thick at the major major tick points but
maybe that would be a addition to thee
to the chart API from John effects to
make this make this available so and now
that well yes so so what I originally
wanted to do is I might have a very
simple charging component jfreechart and
I quality allows us to iPod well I
partners / Java back so yeah getting rid
of the J feature dependencies and then i
looked at the shark has hot Oh damned
it's using a liberal axis so the first
thing I had to do was write a leg
relaxes and okay now this looks good now
let's try something something different
I'll try another chart oh yeah that
looks good as well so having a bar chart
and a look up with exes so see three
sizes everything's nicely calculated you
can even set the values and that looks
good I thought okay now I try to do what
I wanted to achieve and then I figured
out steak by charging and dog erecting
eggs is well j-just don't play nicely
with each other so you fulfilled the API
you put everything in there and you just
figured out that this bargain
implementation nuts of the exes it's
probably the the rendering of the
stacked bar chart and the calculation of
the the values inside the stick so well
it looked very easy to go but in the end
yeah well it stopped me down on the
track
but it was an interesting interesting
adventure to try to do this so now we
could just have a look at the the access
code as you as you can see my be so same
approach value axis external value axis
we needed some kind of any meaning
probably fully automatically if you put
new values in and the exes has to resize
and reschedule and everything is fine
but in the end it's not so much the
major thing is figuring out the the
automatic scaling so some so out
arranging so how long should everything
be and you gotta the children lay outing
but this is just a matter of how to fix
the bounds the display position that's
the way that I base this on other open
source version of the the calculation so
there's just some mathematics get the
valley for display is the inverse
mathematics setting range is something
like well you have to figure out what is
a good bound for a logarithmic axis so
you have to scale back to to a factor of
10 so it looks nice and you'll get your
values where you expect them some range
you calculate values following lowering
patterns you get my pic values yes so I
thought it would have been more copy and
paste from from going looking at the
number X's and but in the end since you
have to kick it all those things based
on the written things in fact it wasn't
so much boilerplate a busted copy so in
fact it works quite quite well but
besides that the expectations from the
from some informations seem to not work
if you if you change to nonlinear values
somehow so okay so that was the story
about my
my try to get some nice directnic exes
working so another thing I did it's
already some time ago anybody of you
knowing some visual vm stuff a roll of
it it's a kind of tool for visualizing
performance information let's see I
probably have to to rebuild this first
looks good
see
looks good as well should should run
let's see we're looking yes okay so
visual vm is like to for visualizing but
performance telemetry things from from
the JVM and I think the original
original original original version that
nobody remembers anymore II thought
about using jfreechart for displaying
the charting things and they figured out
it was not such a good idea because the
performance was just like and write
their own charts so they made their own
chart in visual vm and they're still
swing based in java 2d so i decided well
I want to have a nice visual project for
for javafx so I said well we could do
this but let's see if I can find a maybe
you try this one so you get those nice
fully automatic running charts and those
are just a stock charts that are coming
with the JavaFX chugging api so it uses
the same data from visual vm but it
renders them differently yes and in fact
it just connects to the to the vm and
puts the data about obviously yes cpu
heap usage cloth loaded you can use see
memory pools the code cache different
spaces meter space so we are young
gentleman on it on a new of am here so
everything scales nicely you know it's
just flew and as you can see up there it
is not really so much CPU usage anymore
I i remember when i started to do this
the cpu is much CPU usage was maybe
about thirty forty percent for rendering
the stuff and i got a bad hit from
kroger but I and telling me well yep it
looks nice but visual vm is just like no
overhead
so um yeah we worked on that and it
seems the the implementation and javac
Scott better as well so nice things that
you can do and I mean what are using
stack things there then no they're not
not yet so that there are no market
things in there and no lines to put in
there so this is just really stock but
you can see they are very fast very very
low overhead and it's pretty pretty easy
to do and I'm talking about Zach Pines
reminded me of another project let me
let me figure out if I can can hold it
so it's an app needs based platform
application so it fits nicely in this in
this area and what you see is a map of
the world probably we can identify that
one so what you see on the left hand
side our satellites that are orbiting
the earth and let's let me figure out
one that's from the company I'm working
for is the science science should be
fine let me see I can't figure out
where is the mouse
ok
should be I know it's not science its
earth resources so it's their own
category oh let me click this one and
starts plotting the track of the
satellite map to earth coordinates and
so there is a sec pain involved so you
get the image and the image determines
the size and you just a calculate the
the decor enos where the satellite be
and then you make a transformation to
the to the point on the earth and then
scale everything to the map size and
your nap with a really nice animation so
pretty nice to do so that's the same
probably the same approach you just
figure out your basic your basic pain
your basic information and then you
render on top of it by using a sec pain
and you know you're living on the same
coordinate space so you can just do the
math and put the things in the right
place so that's quite easy so I'm here
if you change to a different satellite
you see different different orbits
so if you would go to the last category
here like GPS satellites you see they
are moving very slow compared to dylan's
so they are about a very normative way
higher than the ones we looked at yeah
so that's the the stick pain effect so
I'm like pains like a friend I have to
agree yeah yeah sure yeah just last
laugh as exact as in four lines a few
lines how we can see if you can work
with that on would look so this this
would be the implementation which have a
quick implementation of of what you see
with this ellipse to create a stack pain
you drop your chart you have a
creative matrix chart stick it in then
you create another painting this is my
my draggable ellipse I call it right
angle across the river so their regular
was in libs inside and you were you you
add that rectangle to my discriminator
which was a pain and then you add the
pain to the stack pain you don't that's
you can keep stacking on top of
it's extremely easy than as I was saying
then he just uses local to to parent to
get to the same coordinate space and you
want to do interactive interaction
between the two or any number of
segments you just have to figure out
what's the correct parent as I didn't I
had to calculate how to achieve it it's
not so easy to figure out since the
there's no real documentation on how
many different panels and pains are
involved but I like the your
visualization on how those things enact
and I think we saw the limiting parent
death in the diagram app just justice at
last hint that for example to the speed
which I'm still looking for in enhance
if you have a hundred thousand points
you're trying to do shape intersection
this is magic magic coat and ethics
which does this which is really nice so
there's this this calculates if the
point gets get intersected with this
ellipse but if a hundred house point is
thing just freezes cannot move it around
anymore so what i'm doing here is as an
initial trick and just helping the
bounds of the object and I say okay is
there any intersection of the box so if
the if the house that beer surrounding
bounds intersected surrounding powers of
the object then start looking into if
there's also a shape collision this made
it from totally frozen to actually
useful I'm still I'm still fighting with
the space but this made it from rings
freezing to do moving and then later I
still have to find out how to make this
even faster this is still wrong anyway
are there any comments from anyone out
there or experiences yes
I source code notice how it's using axes
in general
free from how that affects our deals of
the access
so I
this
generations
sir
I tell you I didn't really give credit
to David Gilbert with jai shri chart for
modeling all this for us it's team did a
tremendous job and that's good
thanks
yes pull yeah and the Navy base where I
teach there's a lot of interested in
javafx right now and I've been asked a
lot of questions about shooting
jfreechart but Sean big question is it
you guys no not yet i have not know i
will have need for it but i'll try to
cheat isss how you can do zoom in this
so every every note in the scene graph
is zoomable yeah so you just have to set
a zoom level so the chit work quite easy
sure so they
I guess I know what I'm doing for the
rest of the week so for some definition
of easy but I think quite clearly from
from the DeMars I've seen that as shown
has done for working as a contractor
from NASA he was doing quite a bit of
zooming and panning and stuff and in his
sessions in a session on Thursday right
right it says it sean is doing zooming
in 3d so let's a complete different
story so it's moving the camera for you
if you in 3d and if you get to D you
just have this set zoom zoom zoom
property so I think I did it once and I
had even less a two-finger pinching on
lay on the mac trackpad and i work quite
nicely so the i think the major thing is
charts probably do not support clever
zooming so you can just zoom nodes but
what you want to do is zoom into the
chart data and that's something
completely different probably so okay so
we all have to file a handsome and
request and back Jonathan and Kevin and
whoever to accept that we want to have
something like that so in fact we want
to have a better shot API probably yeah
can we agree in this summer at least an
API probably and some some some
extension points for for adding things
like like subtitles on your own without
having to do some magic trickery behind
the scenes that may be broken with every
next Bridie's of Joe effects so um yes I
think this say we like the way the
charts are done and we like the
observability and all those nice UI
things that are already in there but
probably we don't like the closed API
thing what's actually in place so
so so I think things uma ng to data is
you change the the min and Max from the
excess maybe so you're changing what is
displayed and you have to change all the
properties inside and there is no easy
API to do this in a consistent manner
the highways well i was when i was doing
my plotting of these points i was using
this get display position so all of my
texts and annotations were plotted in
the actual domain and range accesses
they was not doing any conversion down
to the local coordinate system so if I
was to change that min and max range as
this gentleman was mentioning i would
expect those coordinates i mean those
the placement of all those items to be
handled we're in yeah automatically
changing the access displayed ring yes
so then you want probably appear zooming
in you want to change the amount of data
that shone probably so if you have lots
of data you start with a kind of
selection it's like a helicopter view so
just a few data points and then you go
in then suddenly more points start to
render yeah so you have to do all this
on your own so you have to change listen
to already you listen to really the
you're in a min min and maximum of the
aces and if you see its site going and
then a special arranged then you start
adding adding adding different data
points and removing data points that are
not longer rendered and if you do this
in an efficient manner without
triggering a lot of free pains and a lot
of recalculations so yeah I think you
could do it but I things yeah you but
you still have to hook things together
it'll still be home bro it's not an API
yeah that's not right yes frog and i
think the so what we figured out is some
that even things like adding adding
things to to like like you ever observe
this with a with this parallel
transitions maybe and you add
transitions to it and you do it once
after the other and then you pull and
say play all those in parallel it's way
more easier it's faster to collect them
beforehand and put them all in at once
but you can't do those things from
outside of the chart API so you're just
outside the black box and you're just
pinching and triggering and inside the
machineries working so you have no
influence and it's the same that a we
saw with the with the intersection
things so if sometimes just trigger them
the machinery and you you get that
performance in the end so on the thing
that will be be be be better if you had
real hooks that provide those
functionality in a way that really works
in the end so yes you can do a lot of
things and you can work around all those
but yeah some and I think it's difficult
to come up with a good API fuller but
yeah if there's need for that we should
try to do think think about it and make
the Muslim from how yes
I
I have not have an experience if you
turn off the animation some of this
animation turn off you can turn off
animation on the points it's just data
points you're interesting yeah yeah you
can check out animation of those data
points for example i have in this case
what i'm doing here on this is just a
hack but instead of instead of instead
of adding at just at a point i'm
actually drawing a circle with small
things and then these these points will
become faster if i turn off animation of
those yes
yeah it fall together depends on what's
all done on top of it so the nature is
probably fast but don't know what's over
had you are you get in between yes
I think I ozi put this set any major
false there must be a reason for that
because that was different something we
speak but that's not good enough for
what you're doing I think yeah
yes we should collect Q's cases and put
them somewhere in a and the consolidate
document to approach the MX guys we
should do a session it's a gentle one
stop it yeah so what do you think we
could really do we do this next year and
I figure out how could we weren't
improving the situation so thank you
very much for the interesting session if
you're further comments please come up
on the chat and thank you very much for
coming thank you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>