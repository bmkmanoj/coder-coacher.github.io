<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Six Reasons to Use a Repository Manager Now | Coder Coacher - Coaching Coders</title><meta content="Six Reasons to Use a Repository Manager Now - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Six Reasons to Use a Repository Manager Now</b></h2><h5 class="post__date">2015-06-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/pBJafU0p_Nk" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">my name's Tim O'Brien I'm here
representing Tommy tribe which is
company behind Tommy and Tomcat
so they're the ones who sponsored me
being here and I'm gonna talk today
about six reasons to use a repository
manager so before I start I want to know
how many of you use a repository manager
now so let's say about half of you how
many of you use a build tool probably
all of you how many of you use maven how
many of you use Gradle okay that's all
the wing-flapping I'm gonna ask you to
do today but I just want to get a sense
so half of you already know what a what
a what a we I have a I have a pretty bad
stutter which tends to sort of want to
act up on days that I have to give said
it talks so many of you already know
what this is some of you might be new to
the concept so what I'm gonna do in this
talk is gonna give a really short
overview of what a repository is and
give you some of the six reasons there's
more than six but six is a good number
for a conference table proposal so Who
am I I contemplated just diving into the
actual talk but then I realized there is
a reason why speakers talk about who who
who who they are it sort of gives you a
reason why why should you listen to me
why why I'm just I'm just some Schmo
here up on the stage so I used to work
for a company called
sono type and there I was responsible
for communication training documentation
blogging responding to people on Twitter
so Ivy I've introduced repository
managers to probably about a hundred
clients at this point both on my own
work and then through through sauna type
but also through Tommy Trent and have
trained maybe a thousand people all over
the world on Nexus so Nexus is a
repository manager so I wrote this book
for sono type called repository
management with Nexus the first couple
chapters are not product specific they
talk about the theory but the one thing
I want to make clear about this talk and
the reason I proposed this talk is
because I wanted to just talk about the
underlying theory of repositories and
repository management so this is not
going to be an ad for anyone's product
and in some sense I think this is going
to help both of the competitors in this
market so repository management has been
a cola war to Coke versus Pepsi thing
there's been two commercial vendors in
the market artifactory and Nexus heart
factories from J Prague they're a great
company that they're extremely
passionate they do a great job at making
great software and then there's also
Nexus Nexus has a great team behind it
there's really passionate people like
Brian Fox who are driving it as a
product and then there's one open source
alternative and the open source
alternative has gotten a little less
attention in those two commercial
alternatives so that's what the market
looks like both of those vendors offer
an open source version of what's
essentially a professional product what
we've seen is about six years of two
vendors in a dogfight
so Nexus versus artifactory so we have
lots of Pro features to talk about we
have lots of upsell anytime you want to
learn about a repository manager there's
a there's a good chance that it's going
to lead into a discussion of a
commercial feature that you have to buy
and there's a lot of reaction one vendor
does one thing the other vendor reacts
and does the same thing in a different
way so it's difficult to tell the core
idea of repositories and repository
management from the commercial features
so competition is not a bad thing I'm
not going to say that it's bad that
there's that there's two healthy
companies making $1 off of these
products but one of the problems in Java
is that almost everything we do from the
from the frameworks we use from the
databases that we use everything is
comparative advertising it's not just
springg it's why not the alternative
it's not just hibernate it's why not the
alternative so in build tools its maven
verse
gradle in application server is its
JBoss versus Tommy or actually Tommy's
not really in a dogfight with anyone at
this point with with repo managers it's
Nexus versus artifactory and with web
frameworks there's maybe I don't know
1,400 choices at this point but
comparative advertising just to step out
of technology comparative that we're so
used to learning about technology at
sessions like this from someone with an
agenda and that agenda is use my product
don't use their product comparative
advertising from Wikipedia is generally
coupled with negativity and studies have
suggested that negative information can
be stored more effectively so I was in
the middle of the Maven fight I was in
the middle of the nexus fight so I used
to be responsible for the first line
response for Nexus so if someone would
tweet something about Nexus or maven I'd
be ready at any moment to launch a
full-scale attack on Twitter so I
apologized for contributing to the food
fight so one thing about repository
managers is that there's this page upon
code house wiki called the maven
repository benefit matrix and this is a
great way for you to go get a list of
all the features but it's also a great
way to see how these three options are
competing with each other and how those
feature sets are evolving so for years
and years and years I was responsible
for the message find Nexus I was
responsible to try to convince people to
use a repository manager and then I
realized someone should give a talk
about repository managers at JavaOne
that doesn't try to sell you anything so
that's what this talk is so why is Tommy
tribe sponsoring this talk well first of
all Tommy tribe encounters builds that
everywhere it goes at some of the
largest companies that are out there and
every time you encounter a build at this
point application development life
cycles are about seven to eight years so
we're in count where's where we're
always encountering a build that was
created before the advent of the
repository manager
a build with a lot of jars in it so one
of the first steps and I think almost
any company that does customer facing
consulting work will tell you that you
know from about 2011 onwards one of the
first things you do and any customers
say just stop get a repository manager
it's the first thing that you tell
someone to do it's kind of a doctor
saying take two aspirin and call me in
the morning
so it's also a critical piece of
infrastructure right so if you look at
all of the customer facing work that
we've done over the past few months it's
something that affects the development
it's something that affects developer
productivity it's something that's in
the middle of the release process it's
visible to management also components of
Tommy including Tomcat are now available
via central so if you know what a
repository is you can take a little nap
you can play plants vs. zombies start
with the basics repositories store
artifacts metadata and then an index of
those two so it's not unlike a library
so card catalogs I'm old enough to
remember what a card catalog is and I'm
starting to get towards the older end of
the industry so just in case you don't
know what a card catalog is this is what
they used to train you on how to use
when you went to the library
say in 1982 or 83 it was a card catalog
in that card catalog it was an index of
these cards so it was an index of
metadata you'd go to library you want to
find a book go to the card catalog you'd
find a card that card had structured
metadata including you know the Dewey
Decimal System number the who actually
wrote the book what the name of the
author was there were whole rooms full
of people whose only job it was was to
put these things on typewriters in typos
and you know much like vinyl I grew up
in a different world so you would find
the cordon of the book that you needed
you'd go get the book so me when I was
six or seven or eight and wanted to go
to the library to get a book on
volcanoes I'd go to the card
find it go search through the the
shelves and there it is
then one day they started installing
these things have changed everything
who can tell me what year this is from
anyone who want to guess nobody wants to
guess 1986 86 yeah so I look at that and
I think that's like 1973 right No
so computers as indexes it's not it's
not a new idea right so what a
repository really does what central is
it's just a filing cabinet right if you
get down to this fundamental idea of
what a repository is and what a
repository manager is if you if you
study it for years if you teach it for
years it's the simplest idea that you'll
ever come across like we need to have an
index that tracks all of our artifacts
when you need an artifact you go talk to
the index the index says you were to get
it you get it you download it it may
tied it might tell you other data such
as what other libraries does that
library depend on yet almost half the
people I teach the Nexus class to you
where like I didn't know any of this
before I started taking this class I
think a lot of us go through development
the day to day experience we don't
really think about where is this stuff
coming from where are these jars coming
from why is it that maven and Gradle can
take care of the dependencies for us
automatically so the way it works is
that this data is stored using a
structured address so when you depend on
spring or hibernators and one of the
latest CDI libraries or Tommy or Tomcat
you have a coordinate system group by
the artifact itu version this is called
the GAF coordinate so in a maven build
here that's what you have and the GAF
coordinate is right there so this is a
dependency on Jam unit a lot of you know
that's already some of you might not but
this is a dependency on J unit the group
ID is J unit the artifact ID is Jane it
the version is 3 to 8.1 so maven sees
that great
seize that builder seize that and it
says I want to translate this set of
coordinates into a location in the
repository it's a URL and that URL has a
reference to metadata but also to the
actual artifact you're trying to get so
that's it's a very simple idea and that
really if you understand that you'll
understand everything a repository ever
needs to do so every build tool at this
point
I don't know about every built old but
all the build tools that people use may
be that custom build tool that the that
the architect astronaut who sits next to
you wrote by himself maybe it doesn't
use central but if you're gonna use a
build tool it hits central it uses these
gap coordinates some of the people who
build these build tools for example
Gradle the Gradle wear team they they
use central they have ideas for how to
make it better going forward but at this
point in time everyone depends on the
standard repository format when you're
Bill Bruns it parses some description of
your projects dependencies right a pom
file a build up Gradle file it gets that
dependency information builds a graph
it's a tree structure at this point it
checks a local cache of artifacts you
have a dot m2 directory if you use maven
Gradle has a local Grail cache if it
doesn't find the artifact it goes and
gets it it downloads the artifact and
the metadata it parses that artifacts
metadata that see if it needs to get
other artifacts it builds a tree therein
so this is the dependency graph for the
Apache CFX project and if you look at it
it's pretty complex it's not the most
complex thing I've seen right so I've
seen projects that have hundreds of
first level dependencies and those
hundreds of first level dependencies end
up having hundreds of second level
dependencies there's lots of overlap
there's conflicts it can get pretty
messy pretty quickly but
and this is the thing that I don't think
people realize because as an industry we
only have short-term memory we don't
really think about what it was like ten
years ago ten years ago it was crazy
awful to do this so there was no concept
of a dependency right check the project
you just got a bunch of jars in a lib
directory and it works so that jars were
checked into source control
there was no metadata there was no
concept of I'm using spring and spring
needs to use Commons meteor tells it was
just shock set up all the dependencies
he put him into a Lib directory in 2004
and then he quit two years later we
haven't changed it since and that really
is the reality in which people live
right now there's a lot of big companies
that I still work with every single week
who have these builds that they have no
concept of dependency management it's
just a big ball of yarn that's been sort
of assembled and tangled up over the
years by a bunch of changing cast of
characters so so this is why I find
myself on a singular mission to tell
people about what I'm telling you here
but I just don't think I think maybe
half of us are paying attention to
repositories it's not you know it's not
the sexy it doesn't fill the room you
know I should have named this session
how to develop html5 or reactive
applications using repository managers
he's in this thing with me but uh so
it's quick summary because this is this
is the basic part this is not the meat
I'm not making any controversial news in
this section repository swords artifacts
usually the the jars all the libraries
that you'll need in the application
these artifacts sit next to the palm
file and the palm files metadata
it started with maven but central which
used to be called maven central the name
was officially changed to central a few
years back I won't go into why but it's
called central and it serves almost all
build tools Gradle maven antis IV
builder the other twenty built tools
that no one uses okay so
that was basic basic stuff but based on
my subjective assessment of the audience
after having taught rooms and rooms full
of people that big big big organization
smaller is Asians scary government
agencies you probably know more than
about 70% of the population that
programs you would be surprised that
things that people don't know about the
tools that they use every single minute
of every single workday the other thing
is Central Central's probably most
underappreciated resource in Java
Bar None it changed everything and I say
that all the time people say it's just
it's just a repository it's a card
catalog how could a card catalog change
everything you rely on central everybody
relies on central right the Social
Security Administration uses central
they manage all of our benefits so
everybody in the whole country relies on
the central right it serves terabytes of
data billions of requests a year last
time I checked so the most recent data I
have is from about two years ago I think
it was something like 70 terabytes of
data 14 billion requests a year
currently served from a CDN so up until
2009 or 2010 central was a 2-u Dell
server sitting in st. Louis at context
right so this thing that all of us
totally depended on like every single
day it's just an overloaded box in the
Midwest and then at some point Brian Fox
and the team at SONET I decided we
needed to have servers in London as well
as st. Louis so it was in a cluster and
the load got so high they're like we
need a CDN so I forget what CDN they use
but you know the industry ran on a to
you Dell box for about I don't know
eight or eight years or so so when you
download from Central's repo end up
moving at org that that domain name is
assigned to apache and apache points it
at the servers that Sunnah type
maintains
the 2002 may even put this coordinate
system in place for Java eight years
after the creation of Java Java got a
Dewey Decimal System right eight years
after Java was created we finally had a
way to say I want to use this library
what does that library depend on maven
also brought dependency management - - -
- the language it removed the friction
from open-source and this is why I think
maven not maiden but mavens repository
structure changed everything entirely so
back in 2002 at Apache it was it was
difficult it was difficult to use
open-source back in 2002 2001 because
the only way you could do it is if you
used more than ten or twelve things one
person usually had to go through that
list and go to the website for the
open-source project and find it download
link and download usually a zip file
unzip it
find out what jars are in the zip find
out if the zip has multiple jars for
example spring - all or something like
that which didn't exist in 2001 but you
know something else like struts struts
actually is the perfect case download
struts in 2001 you've just got this big
ball of stuff follow bytecode UC Commons
being utils dot jar in there you see
comments lang dot jar Commons
collections dot jar struts dot jar
everything works for a couple years and
then someone says you know what I want
to use a new version of common Commons
bean utils what version do we have and
you say I don't know Chuck quit two
years ago we just have a bunch of files
in the Lib directory why don't you take
a day and try to figure out so you take
a day and you upgrade Commons being
utils to the new version and then you
realize you've broken the entire system
because it's not like you can
automatically manage conflicts between
dependencies it was the big ball of yarn
that needed to be untangled
so what central did is it gave people a
target to publish to so Commons bean
utils Commons laying Commons collections
all these fundamental libraries log4j
that's a left 4j all these different
things
could publish their artifacts to a
coordinate and then instead of saying Oh
to use spring download the zip and then
take a couple days and figure out what's
in it here's a coordinate if you want to
use spring use spring - web MVC version
3.4 dot whatever so that ability to
publish open source and the ability to
mod relies the dependencies between open
source projects are shared in the
Renaissance that is open source java
right without this without central the
fundamental innovation of the last
decade in Java it sounds so cheesy we
wouldn't had all these different open
source projects or we would have it just
would have been very difficult to use
them so that's what I mean when I say
that central was is the best thing since
sliced bread I just said this I'm not
gonna go this again oh no I'm still
working with clients who have systems
that look like they were created by
somebody who went to sleep in 2001 and
never read anything about central so I
think people are creating these
disasters still to this day I think
there's a few people in the industry who
are just not paying attention
so after central it's easy everybody
it's happiness and joy now so central
also encouraged modularity so in 2005
2006 when you wanted to use spring you
download a big 4 or 5 megabyte thing and
that big 4 5 megabyte thing had all of
spring in it and a bunch of jars and
then spring started publishing to
central spring was initially kind of
resistant to the idea of publishing jars
the central don't quote me on that and
one of the reasons why they started to
modernize everything one of the reasons
why you now depend on spring - web MVC
or spring - social or spring - XML or
whatever is because those huge binary
blobs right what hibernate was in 2006
what spring was in 2006 they
huge dependency nightmares so the idea
was we got to make it more consumable
smaller units and publish them to
central okay so in summary Central's the
world's central repository for open
source java components everybody uses it
and then now if you can answer that
question I think you know more than like
93% of the Java developer population so
very quickly
took my time what's a repository manager
without a repository manager your
developers your 1500 developers and you
know Mountain View or whatever it is
that you work or Chicago they all go
through firewall and hit the Internet so
that's fine for some people it's it's
fine it's like it doesn't matter but
then one day you update a dependency and
it's a big one and a thousand five
hundred people have to download the same
thing all at once that's fine bandwidth
has really been optimized we've
optimized our work spaces to support
1500 developers you know streaming
Spotify so it's not really that big a
deal at this point but for some
customers giving a developer direct
access to the Internet that's not gonna
happen so if you work at a bank if you
work for one of those secret
surveillance agencies that's listening
to this talk right now they're not gonna
let your developers hook up to the
Internet and you know download the
latest jar if you work anywhere that has
any concept of a central architecture
team that wants some control over what
you use in your applications they're not
gonna let you just download anything
from the Internet and more and more
people are sort of wising up to the idea
that instead of just letting people
connect to central and dealing with the
consequences we're gonna put this server
in between and that's what the
repository manager is in some sense you
look at this and you say well why can
you just use squid right what can I just
use a caching proxy server it's much
more complex than that a repository
manager is like squid
it's like a reverse proxy but has some
intelligence it has some intelligence
about that metadata it has some
intelligence about the artifacts that
its serving so really this is all the
repository manager is it's a server you
put it in your network it caches things
from central or from any other external
repository to simple benefits this is it
right so I've taught this stuff to
people for years and it's just this is
all it is
forget all the pro features but get all
the upsell forget all the give us five
thousand dollars and we'll make your
life easier pitch this is it the two
main benefits of repository manager is
it proxies remote repositories so you
can proxy a repository cache those
artifacts locally it saves bandwidth
some time so instead of having to make
you know a hundred one second request or
half second requests over the internet
it can be in a fast local network and
your builds run much faster and this
isn't just local developer builds right
these are huge companies with Jenkins
servers that have 6,000 builds on them
that are constantly running and churning
and resetting their local cache right
these are the kinds of things I'm
talking about it's not just you got 20
people in a room and they're all hitting
Central you've got companies that have
Jenkins in the middle of their release
process only Jenkins is allowed to
deploy artifacts to or a possible rate
manager so it also allows you to host
artifacts proxying artifacts is just a
dead simple idea it's it should take
five minutes to understand what that
does hosting artifacts
that's the transformative part of
repository managers right so if you can
publish your own artifacts to your own
repository manager you can now change
the way that groups collaborate with one
another one pattern I see all over the
place this is the point of the talk
where I wonder if I've been talking like
a mile a minute and it's like it's like
it's like already over but one pattern I
see is these huge
hibbett all companies right kinds of
names you would recognize in a second
right so familiar that their logos are
branded into the back of your
subconscious right they have so much
money and so many developers there and
they're all checking out this one huge
project from source code this one huge
project so if anyone starts there some
new developer shows up and they're like
how do I build it for like oh it's kind
of take you a couple months to really
build the system but you got checked
everything out and then you gotta
configure some properties file over here
to point to some custom file system
that's over there that we use to host
our artifacts and then everything is
just in one huge like nasty gigantic
build and you build it and it takes
forever well one of the reasons for that
is because without a repository manager
it's difficult for one group to share
its output with the other group right it
would be like if you went to the Apache
sauce one Dacian and said how do I build
the Commons mean util they're like we
gotta check out everything cxf HTTP
check it all out and run the build and
there's a little jar file over here with
a repository manager you take that big
group of a thousand developers that's
working on the release and you say able
to draw some lines between them this
group works on a couple jars that get
used by this group this group works on a
war that gets consumed by this group
this group to the ear group right they
only worry about the ear and all they
care about is that their bill downloads
Wars from Nexus so if you use Nexus you
start to have a place to deploy your own
artifacts and the problem is you know
you've got this company you've got a
bunch of developers there's put into
their work couple of groups you know
they create ad hoc systems to share
binaries with something like Nexus or
artifactory did you see do to catch that
I slipped back into the I'm trying to
sell you Nexus roll with Nexus or
artifactory both equal competitors the
alternative is separate projects into
sub modules have those builds publish
artifacts to your own repository manager
right so one group is working on a
shared library that does credit card
processing the other group is working on
a shared library that might do your user
profile logic or you know some sort of
user tracking and then there's another
group that's responsible for integrating
that all into one deliverable and what
you're looking for really is and this is
the this is the thing that Jason Bansal
used to talk about a lot he's the guy
who was one of the founding members of
the Maven project repository managers
are like a factory right it's like a
factory floor in which you can hook in
your modules and things you can share
code easily it's a common interface so
once you do this once you split stuff up
you can divide and conquer you can have
one group of 20 people working on one
module another group of 20 people
working on another module it's a very
straightforward thing what you really
get in the end is this is let me just
remember that thing I said about how
central changed everything for Java I
have made a frictionless two to both
deploy and share code in open-source
right we wouldn't have slf perge we
wouldn't have as much open source java
if it weren't for central right so think
about that internally every CIO every
CTO is saying we need to you know
emulate the open source model we need to
bring the the benefits of decentralized
collaborative computing and programming
internal well that's really what a
repository manager is if you install it
a factory in Nexus and you use it right
that's what I'm going to talk about a
second if you install these things and
you use them with intention then you can
bring it's essentially bringing in the
same thing that made open source java
work into your company or organization
the scary government agency so if you
know what our pilot or a manager is now
you're like people is going to be like
how do you know so much
it's freakish so six reasons efficiency
it takes less time to run your
build.gradle maven builder doesn't
matter because you're going as a local
copy isolation if central goes down
right Central's the CDN so it's not
gonna really go down but if something
happens to your network connection
during your release process all of my
release processes by the way I'll happen
at like 2:00 a.m. and my three-year-old
always happens to wake up at the worst
time like when I'm at the prompt typing
like Tomcat restart but you won't have
to tell your boss like ah the build
process failed halfway through last
night because well the internet went
down you'll have a local copy of those
artifacts responsibilities central is a
free resource no one's ever sent you a
letter and said you made a million
requests to central last year we're
gonna charge you 20 bucks right it's
it's a free resource so no type sponsors
it at this point at one point I think
Jason was paying for it out of his back
pocket if you use a repository manager
you reduce the load on that shared
resource standardization you have an
internal group you should have an
internal group that's paying attention
to things like what version is springing
you guys using or do we have if we've
got 30 applications being developed can
we try not to use 30 different versions
of hibernate kind of makes it difficult
to debug things when they break so if
you have a repository manager you have a
lever there where you can say we're only
using this version doesn't always work
like that that's a very difficult thing
to implement collaboration you can
change the pattern by which groups work
with one another internally that which
is which is critical I can't tell you
how many times even in 2013 I go to a
client and they have that one big build
and they're like we started the bill
that should be ready by tomorrow during
lunch
security this is the big thing so CLM is
from Sunnah type and I think G frog
partnered with
duck they think I'm not sure exactly
sure but one of the big things that is
now happening in the industry is
companies banks scary government
agencies are starting to pay attention
to things like these jars where do they
come from and who wrote them and are
there backdoors that could potentially
upset world markets in them that's
something we should probably pay
attention to so I'm not trying to scare
you into buying one of those products
but that's what that's what they'll do
okay so talked a lot my wife likes to
tell me I talk too much so when I'm
giving these session talks I'm like you
know I'm really talking a lot right now
so I feel a little self-conscious so if
anyone has any questions please
interrupt me yes not very well and
that's one of the problems that's one of
the problems with the model so the way
that maven works right so so if I've got
a repository manager and I published
something to it and then I remove it
does a repository manager handle that
well no doesn't it's a it's a limitation
I think of maven and Gradle and of any
other build tool we haven't developed a
good protocol between the build tools or
the consumers they don't have to be
build tools and the repository to inform
people that things have been deleted
there are pro features in Nexus and I
think in artifactory that can deal with
these federated networks of repository
managers so you one can inform another
that an artifact is gone but you're
using maven you download an artifact
that artifact is copied to your local
repository maybe it's just gonna check
that it's never gonna go back and check
to see if there's a new version unless
it's a snapshot and unless you do
something special to force it to do an
update check
Yeah right right
so it's so one of the problems with what
I've told you is that the focus has been
on Pro features not on the core right
maven has kind of been frozen for a
little while not sure if anyone's
noticed that but things aren't
progressing so you get to this point
where you're at a company that has
adopted repository management you're
sharing things you need to free up space
on the server you delete an artifact and
there's no good way for maven to notice
that an artifact is deleted so so but
but stick around and I can talk to you
about some workarounds if together so
I'm gonna move on just one more section
because this is where the controversial
stuff happens so I have had a problem
communicating this to people I mean
clearly I was the person in the industry
who was kind of tapped paid to do this
for a while I didn't get the message
across so I thought what'd I do wrong at
this at the previous job that I had with
some time I had this idea let's let's
work with a competition it's trying to
define this this concept they would help
you know let's let's talk to Jay prod
let's try to define what it is that
we're trying to solve the shared problem
the answer for management was the heavy
silly for every organization that uses a
repository manager that there are
several that don't this is not this is
this is widespread among a certain type
of developer but there's still a lot of
companies that are like well we don't
need a repository manager few
organizations that do have one
understand what the real benefits are so
there's action without full
understanding I think it's problematic
we do this because the market leaders do
it that's a form of magical imitation so
people call it cargo cultic or we do
this because repositories will
automatically just make things better
it's like somebody using a relational
database and not understanding what a
transaction is which you people laugh at
but if you're a consultant you've seen
everything place so the frustration here
was a struggle to communicate the
multi-leveled benefits of repository
managers most organizations stop at
proxy and you know they'll have Nexus
running but then the release process
involves a bunch of operations people
who are like I don't want to learn
anything Java and they create an SFTP
server and some chef scripts and you
know instead of using Nexus they're like
whoa I need to get the source so I can
build it and you're sitting there like
waving your arms helplessly like no we
have Nexus we publish binaries to a
repository manager if you're doing a
production deployment copy the war right
so that's still a struggle so repository
managers cargo colton it's an
anthropological term you should look it
up it's pretty interesting I'm the kind
of person who looks up something like
cargo Colton on Wikipedia like three
days later you can talk to me but the
idea behind cargo cults is you know when
a society comes into contact with
technology doesn't comprehend it
sometimes thinks that if it can just
resemble it if you can just adopt
something like it then the same thing
will happen so this is a case of a tribe
likely in the Pacific I'm not sure which
one assembling a plane out of of reeds
it's a cargo cult and we can laugh at
this but in Western culture we do the
same I mean you know when I was seven I
had a sparkly fingerless glove just like
Michael Jackson because I thought it
would bring about the same the same
benefits in this culture we also have
this idea in technology as well that
objects have intrinsic value if I just
purchase that repository manager from
that vendor if I just buy
that solution from that vendor that I
saw JavaOne it's gonna bring with it a
lot of benefits services the last two
centuries ago the US had a fascination
with medals that were at the foundation
of the economy it's too much to explain
in this talk but essentially we worship
the gold or we worship the silver so I
thought to myself how do you convey the
benefits of a posit or a management to
management I thought to myself what
would Gardner do the Gardner's are
experts at reaching the decision-makers
and encouraging IT professionals to
Leonard to leverages synergies so they
would create a repository management
maturity model and are triple-m and then
they would have a bunch of analysts say
nine out of ten top performers that
reported increased efficiencies the
higher they ranked on the repository
management maturity model or they'd say
analysts agreed that repository
management maturity models are critical
components on the CIO watch list for 12
2014 so there are four levels of
repository management maturity level
zero no repository management level one
simple proxy level to internal hosting
and level three continuous collaboration
do you like that continuous
collaboration sounds kind of marketing
doesn't it there's also a low level
negative one which is your team has no
idea what it's doing and hasn't been
paying attention for a decade and they
don't know what a repository is so you'd
be surprised how many people are at
level negative one but in level zero
these are people who do development but
they hit these repositories in the
public use public repos directly there's
no opportunity for governance there's a
grossly inefficient process as the team
size scales and as opportunities are
various shenanigans so you know there's
people just putting for example I had a
client and somebody sent me a bill and
it had a jar in it was a it had got its
like Manning jar I was like oh what is
this
it was like I don't know think about it
probably probably read a Manning book
and then typed in the exam
and put into a jar and now it runs you
know half of the defense establishment
so level one simple proxy and a lot of
people stop here they just say I'm going
to install a repo manager it'll practice
up from central it gives you a limited
opportunity for governance governance is
a fancy market speak way of saying it
allows the architecture team to tell you
that you can't use the version of spring
that you want to use so most
organizations stop here
eternal artifact hosting this is where
you have a repository manager teams are
publishing publishing things to it
everywhere I go
at this point this is usually where we
stop and I get the development teams to
the point where the the sort of big
reality and of Java development is that
operations people don't care about Java
they almost don't want to know so what
you have is you have a lot of Java teams
with developers and they end up having
to take on operational responsibilities
this happens everywhere right especially
worse because I feel like we have less
operations people now that we did ten
years ago
so you end up having these developers
they're working on requirements and then
maybe ten of them are Sisson mins who
happen to be programmers who are
responsible for packaging deployment
restarts maybe it oh s level updates at
some point and everywhere I go I say
stop the madness people we need to have
a strict line between development and
operations enough of this hippie DevOps
stuff we need to have the developers
publishing binaries to a repository and
then an Operations team maybe with the
assistance of some developers grabbing
binaries from a repository and bringing
packages it's just a simple idea because
right now what we have is this melange
this mixture of developers doing it
taking on a lot of responsibilities for
operations that they shouldn't be
because the one thing is true that I've
realized myself included some developers
think that they're good at operations
but they're really not
and then level three is continuous
collaboration and I think I could
probably convince Gartner to write a
white paper on this I think it's does a
joke the repository isn't just a part of
the release process it's a part of the
organic collaborative structure of the
department right independent teams use
the repository to collaborate and it and
this this is the key thing that I think
could show up in a 4-5-1 report it
allows orders to emulate the
decentralized development models that
make ovince were successful some CIO is
gonna say that in a keynote at one point
and you should just you should stop them
and say Tim O'Brien said that all right
are you level 1 or level 3 so basically
what I've done with this repository
management repository management and
maturity model is I've create a tool
where I can now go into a CIOs office
and be like oh well you're not even at
level 1 of the repository management
maturity model so I've turned this into
a game of name-calling and I think it's
gonna work because that's kind of what
analysts do if you pay attention they
create these sort of synthetic models
they can use ok how much time do I have
couple minutes future directions
I wish archival work stronger I like
Nexus I like I know the people who work
on all these products and know I know
the Jay frog team I know the Sunnah type
team you know I know the Sunnah type
team's members kids I mean like I'm
friendly with these two it's not that I
want archive to be better because I want
these two companies to go out of
business but I'd like a stronger
open-source option that doesn't have any
professional upsell associated with it
and I'm not saying that I want you know
things to go away but are kaiba has
never been a strong contender for years
it used the Tigris style sheets and
there have been people in the Apache
organization that I've taken interests
and taking a real
sort of fire to the efforts but without
a very strong apache license option I
think we suffer I think the core idea
suffers because all of the innovation
happens at J Frogger happens at sono
type and they always have the option of
flipping a switch and turning it into a
proprietary upsell it's not
controversial it's just maybe
controversial for me because I used to
work for some time it's not that it's
not strong I'm not trying to call I'm
not trying to call it out as being bad
although I just did know so there's
there's concepts like staging in Nexus
there's a there's there's equivalent
concepts in artifactory where you can
move things around there's there's
features that the pro features of both
of these products have done a great job
over the years I feel like if archival
were able to catch up what happens at
least in my mind is open source options
usually start to take some of the
features from the proprietary systems
over time so that a proprietary
competitor in an open source ecosystem
has a couple of months or years to
innovate they have sort of a lock on
that but if there's an open source
competitor keeping up it puts a pressure
on the entire sort of system to innovate
and move faster so stuff like this right
so the protocol between maven and
central maven and the repositories the
protocol is weak and you know what I see
right now is Hans doctor and the grid
aware people are starting to think about
this particular problem so on the Gradle
side on the maven side I don't know if
anyone's really thinking about this yet
but you know Gradle starting to support
a lot more languages like C and C++ and
you know there's
people doing nodejs development and
trying to say well can I publish my node
modules to my repository I just feel
like we need to move beyond this sort of
dumb HTTP request model and when I say
the maiden side isn't thinking about it
you know that it's true and not true I
mean I speak to Jason all the time and
he he understands that I think things
things and need to move forward it's
just that I see more focus and energy at
this point I see the grail of our guys
maybe starting to think about this in
the next couple of months
tools requests artifacts for different
purposes one challenge
maven when you download it it downloads
the Internet and it takes a long time so
it's a couple exabytes you gotta have a
big storage cluster in Utah like the NSA
and one of the problems is when you use
maven right maven downloads everything
and it's dog and then it downloads your
your applications dependencies but of
all the things that it downloaded that
might only be like 20 jars so it's hard
to isolate what maven needs for its
plugins from what your applications need
for their dependencies and one of the
reasons it's hard to do this is because
the protocol it's just a bunch of dumb
HTTP requests it would be better if the
clients of repositories put in some
headers that said I'm downloading this
on behalf of my application and some of
this is present in some of the pro
features of artifactory and Nexus that
are directly related to their security
scanning features but I'd like to see
this in the open source version as what
has well and also I also I think I just
think that the fundamental
implementation the fundamental
construction of central has been frozen
in time part of that's good it's been
stable right but part of it is I just
don't think anyone's innovating central
has this inertia about it no one there
are a bunch of people out there who have
noticed problems with it not criticizing
anyone right I'm not saying like the
people who run central or evil blah blah
blah I know the people who run central
and they're very nice what I'm saying is
that no one has thought a
what's next no one's no one's getting
together and saying yeah central works
now but how do we incorporate features
like extended metadata for different
languages how do we how do we adapt it
to node J s which seems to be consuming
the entire world very quickly also
central why in 2013 do we have a
centralized system for the distribution
of open source software there's got to
be a more creative way to create central
in such a way where you can own your
namespace and use something similar to
DNS and maybe DNS to sort of add your
artifacts into the mix yeah yes yeah so
so JBoss JBoss spring all these places
decided to publish to central and i
think central works i'm not I'm not
taking a I'm not I'm I don't want to do
a drive-by on central right so but
people moved everything to central a
couple years ago because it was the
easiest option for people but it's an
ecosystem thing but now that I'm not
working for Sano type I'm at the point
where I'm thinking is it healthy for the
world to have a gatekeeper for what goes
into central that's not open and even if
it were associated with the ASF the ASF
has its opinions about what licenses are
valid on what licenses are not sometimes
you might not agree with that I just it
it's a murky question that I think has
to be thought about and I think it needs
to be thought about out in the open so
it's also Java centric we've got to
we've got to realize that in 2007 and
2008 the Java ecosystem was just
unhealthy right like one of the reasons
why people ran away from ejbs and all
these different things they're coming
back now that's why I'm with Tommy tribe
but one of the reasons why Java had a
couple of hard years is in my
we think it's too easy for us to fall
into a Java centric mindset right no js'
is a bigger wave than Ruby on Rails was
is some of you might laugh at scoff at
work Ruby on Rails but it affected the
industry nodejs is is is here now and
all the clients that I work with have a
team over there that's working on
node.js and they're killing it and they
don't care about central or artifacts
but the thing is weird is that they use
a module system and PM well why why
can't we think about central and
repository managers in a way that's not
specific to Java and Nexus is starting
to do it Jay Park starting to do it but
the core of central I think needs some
work
so so I we also we need to wake up for
the potential of repositories just in
general I mean it's not the sexiest of
topics I you know I know all the actors
involved I know they're gonna see me
getting up on stage calling for more
independent central they're gonna get
have annoyed and I'm gonna have a fun
conversation with them about it but I do
I do not think it's healthy for central
to be owned by a single entity that's
not open
I wondered for years why Oracle didn't
find a way to own the central so
actually judging how Oracle what what
Oracle has done for Java in the last
couple years it might actually be a good
thing because they've been pretty good
stewards but I don't know it it weirds
me out that the central repository for
open source java components is not in
some way associated with a non-profit so
and then starting to think about how
repositories can store more and then
resist the cola wars right so I always
wished that the posit or management had
some jsr associated with it like one of
the reasons why and you know some J SARS
aren't the most efficient things in the
world the JCP may be you know has a lot
of has as many fans as it has detractors
but the thing that's great about the JCP
is that you know you see David Blevins
talking to Gupta about sorry I just sort
of frozen his first name because of my
cousin my stutter has waves to it but
you see competitors tying to each other
in a civil way about the shared
interests about the fury about you know
how how does Java EE work and I feel
like if you got some type and G frog
down the table talk about the
fundamental benefits of repository
management if you made it a standard you
foster more conversation so that's it
that's the end of my repository
management rant slash hand waving
argument hope you enjoyed it</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>