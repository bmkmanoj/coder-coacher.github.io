<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>The Implementation of a Digital Task Board for Distributed Scrum with JavaFX | Coder Coacher - Coaching Coders</title><meta content="The Implementation of a Digital Task Board for Distributed Scrum with JavaFX - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>The Implementation of a Digital Task Board for Distributed Scrum with JavaFX</b></h2><h5 class="post__date">2015-06-05</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/Eo3Fqhu58WM" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">I'm going to talk about I think this
topic today we've implemented a digital
scrum board with javafx and at the
beginning of course I want to introduce
myself i'm alexander i'm from germany on
in the most eastern part from Germany
from Grayson and I working as a javafx
developer now I think for one and a half
year so we're doing javafx a lot of a
lot of a lot of time before and yes feel
free to connect to me on Twitter and
what we're going to do today is at the
beginning of course i want to show you
which topic we're using javafx as the
technology of our choice and then i will
show you why we chose javafx instead of
maybe swing or other technologies and
last but not least I'm going to give you
an inside of the to the implementation
that means i'm going to show you some
code snippets i'm going to show you how
we implement it features like
synchronization between multiple clients
and i think it's going to be a pretty
cool session ok anybody of you already
used something like this do you know do
you know scrum what's promised in
general so i don't have to explain it so
i think you know scrum boards like this
where we have a lot of tasks on it you
have the stories and you have to take
care of that all of the tasks which are
in this in this in these columns which
represents the task states like open
programs and Dunn has to move inside of
the sprint from the first from the first
column to the last column so you have to
have to ensure that that all of the
tasks as you can see at the end of the
Sprint has to be in the last column in
the done state and so we're using the
scrum board to visualize current work in
progress state of tasks and yes I think
this is it's a pretty easy way to use
something like this you know like this
analog sink when you're located in one
location i think is pretty common to use
like this pieces of paper for this but
we we have the problem you know that we
have projects which are distributed that
means we work together with teams of our
customers which are not located in our
headquarter and we don't want our
consultants to travel a lot so we
thought about this problem because you
don't want to do you want to use two of
them as pleasure especially if you have
to synchronize them that they're looking
have always the same state so we started
to think about this problem and yes we
created like a concept to to just
resolve our to resolve our needs and we
created a concept which is called it you
and this concept contains a lot of tools
a lot of like best practices to work
together and our product our like our
scrum board is part of this concept just
to know there is this concept and this
grammar this part of the concept and yes
when we apply this concept to one of our
projects it looked like this we have a
huge office where we connect the
distributed offices to one like one
virtual office so we have this big
teleconference screens on the wall or at
walls and we use them for direct
communication we can talk to each other
we have microphones to have like a
spontaneous talks and in addition we
have a direct communication choose on
our laptops like things for doing screen
sharing or code review and things like
this and as you can see in the
background of the of the image of the
picture you see our scrum board and it's
running on a 60 inch multi-touch device
and when you look over to the other
office by the way this is an office
maybe 100 miles away from this office
and when you when you look over to the
office you can see a second instance of
the scrum board and i'm going to show
you how this works yes and it's by the
way it's called to board okay before we
jump directly into the implementation of
the scrum board i want to give you some
footage some like did you have a better
impression of of this office so i
prepared a little movie and we are here
right now and reston we are walking
through the headquarter of our company
and we are accessing now the room where
we are developing our scrum board that
means we are a distributed team our
behalf of our teams you can see over
there is located in girl
it's a town I already told you 100 miles
away and we use our own tools to work
together it's pretty funny so Michael is
going to start our scrum board and
Michael's over there is the developer
from on my team and yes I think he's
debugging something and this is this I
think this is the first impression i
want to give you how we work yes we have
this concept we have this hardware stuff
and we provide additional tooling for
the scrum process so when we started the
development we of course we had some
requirements because we had the
situation before the situation of the
distributed a project context so we so
we already knew what we want to have
what which benefits we want to have out
of the scrum board and there were I
think three main benefits we want to we
wanted to have three essential
requirement and the first essential
requirement was that we want to have
multitouch because if you work in a
scrum team and you know how to use the
scrum board you really like to like to
use an analog scrum board to have
something in your hand to put a piece of
paper from one one column to another
column and we just wanted to keep these
advantages of an analog scrum board so
we had to provide such things like multi
touch interaction with the board it was
first essential requirement the second
requirement of course I already told you
we do have multiple locations so we want
to synchronize the boards to between the
locations and I think the last
requirement is very interesting too I
won't say that a lot about this in this
session but it's pretty interesting we
are synchronizing to serve party
backends that means we don't have our
own back-end we don't persist our own
model like the tasks and the stories we
just consume tools like atlassian jira
or team foundation server from from
microsoft so we connect to these
third-party backends get all of the data
we display the data on our scrum board
and if we are going to change some task
states on the scrum board this change is
going to be synchronized to the third
party back end as well so we are
completely synchronized to this third
party back end it's pretty cool thing
so yes now we had our requirements and
we thought about okay let's do this and
we started with the trainee program and
try to to build a prototype and we chose
swing as the front end technology and it
was like a mess to do this why it hurts
a lot to do this with swing I think it's
pretty obvious the first thing was to
implement dynamic elements like you know
animations interpolations and such such
things is very inconvenient with thing
you have to do it by yourself or use
some libraries or something like this
but I think it's not that convenient at
as it could be next thing is of course
there's no multi-touch support and no
gesture recognition of course there are
some open source libraries we tried them
out but we didn't like them that much so
there was a huge problem to achieve our
requirement of the multi-touch report we
couldn't do this with swing next thing
is the thing you have to define your UI
with code that means you have to provide
an clean architecture to divide the
implementation like the application
logic logic and the definition of you I
you have to do the architectures thing I
think it's it's much more better and
Java ethics when you where you can use
the F XML to just make this abstraction
between the application logic and the UI
definition and the last thing recognized
we had to write a lot of code for simple
things i'm going to show you an example
for this because yes i think if you're
if you're going to see my example you
you're going to know what I mean last
but not least we decided to migrate to
javafx some of our developers i think it
was Michael had a magazine and just read
about javafx it was at the end of 2011 I
think and javafx in this I think was
released one or two months before in
version 2.0 so it was completely fresh
completely new we read about this and
there was an article about the beta 2 2
and they stated out in a magazine that
the mighty touch
port arrived in the beta 2 inability to
so we directly related this new
technology and we were so happy to try
it it out because we had a lot of fun
this two days of evolution because we
saw a lot of things like animations and
effects and this styling with CSS and we
had a lot of fun and we wait and we did
the decision that we want to reimplement
our already builded prototype which we
created with blingee and we did it and
we had a huge speed up in the
development of to re implementation and
yes I think it was the best decision we
could do and now I want it I want to
come back to this point right a lot of
code to do simple things I want to
provide an example okay does anybody of
you know or or maybe have an idea how to
load a zinc ruinously an image in swing
how to do how is the recommended way
which is provided by Oracle watch says
Oracle out how to display an image and
load it as in corona slee that the UI is
not going to freeze Erica says okay take
a swing worker the spring worker is an
abstract class where you can override a
doing background method where you can
just do the loading stuff and then you
have a done method where we can
implement yes what should happen when
when your your step which you have done
is finished and what has happened here
or what happens here is that we get the
image from a URL we load the image from
a URL and when this is when the loading
is finished we are just displaying the
image as an icon on a jlabel which is
just injected here in the in the class
and we have to write all of the code by
all set we have to get the image from
the URL we have to set it on a J level
you know we have to write a bunch of
code and just want to show you how many
code you have to write in swing in
javafx sorry and generally this one line
for doing all this stuff you saw you
know all the already code you saw you
just have to say okay we create an image
we say where the image is located by
giving in URL and then we say by a flag
okay just load in the background and
javafx is going to load this image in
the background nothing more it's pretty
easy but now you you saw in swing in the
same swing example they did something
like escalation like you know if there
when something wrong they displayed an
error message we want to do the same
with javafx of course it has to be fair
so how do you do this in javafx it looks
like this you know and in addition if
you want to maybe display a progress the
progress loading progress of the image
you can write code like this I'm going
to explain you this yes you have this
dis properties we use it here and be sit
here and before before I going to
explain you this example I want to
introduce you to the properties because
I don't know whether everybody here
knows what properties are but it's just
going to be one slide so short him to
Java FX introduces properties and with
the properties or the properties are
working like this you have some kind of
data for this example it's a string
could be an integer it could be an
object that matter you have some data
and this property's our Rapa for this
data's means if you want to have a
property verb for a string you use in
string property and then you get it I've
seen really cool benefits the first
benefit is that you can use data binding
between multiple properties this is the
i think the most simple in most simplest
way to do data binding in this case we
say ok the left property should have
always should always have the same way
where you like the right property yes if
you change right property the value is
going to be in the first property too
and in code is it looks like this you
create those properties and then you use
the binding api this is called the high
level binding api to just create this
binding and then you your and your
really you can ensure that a is going to
have the value of B all the time this is
everything you have to write next a
benefit you gain out of properties are
is an observer mechanism that means you
can register change listener on this
properties as like this little thing and
you get notifications of changes and of
course after you got the notification
you can respond on somehow and it looks
like this in code that you have this
property and you can use this
addlistener method to provide this
change listener which is typed with the
string because the property is of the
type string and inside of this change
then you have to overrate this change
method and inside of the change measured
method you get the old value of the
string of the change and the new value
of the change so if this string property
is going to be manipulated this method
is going to be called and then you can
process what you want in this case we
just print out the old value and the new
value so observer mechanism for free
perfect let's come back to our example
and I will show you how you can use this
benefit to us to do you I stuff it's
pretty cool so we we have our image it's
already loaded and now we want to
escalate if there is some error if there
are some errors and for this purposes
javafx and provides this arrow property
on an image and this time it's a boolean
property so that's why we register a
boolean change the listener and if this
arrow property is going to be true some
error occurred I think it's obvious and
then you can escalate like printing or
showing an error message or something
like this so you have event-driven
escalation it's pretty cool and the next
thing we want to do is we want to
visualize the actual or the current
loading progress of the image so javafx
is going to load this in the background
and of course you have a progress like
zero and one hundred percent it's some
something between this and then you just
take in progress indicator normal
progress indicator from the API and you
want this progress indicator to to show
the egg the current loading progress of
the image and what you have to do is you
take the progress property of the
progress indicator when when you said
when you set a value on the progress
property the this bar of the of the
progress property is just going to be
filled nothing more you can set away you
between zero and one point
and then there's some visual indication
for a state what we do here we say okay
this progress property should should
rely on the Provost property of the
image so the progress property of the
image is the current loading state or
recurrent yes the current loading
percentage of the image that means this
is a double property this is a double
property and it indicates the current
loading state by a value between 0 and 1
point 1 point 0 and now we say with this
binding okay this progress property
should have the value of this and what
happens is that the you I will always
show the current loading state of the
image the bar is going to be filled with
the percentage of the current loading
state just with one line of code so okay
that's why we chose javafx it's I think
it's a nice example for for
understanding this and but now I want to
show you the scrum board itself yes I
want to show you a little again a little
movie and as I remand the scrum word
gets the data from a third party begin
so this is what you see right now the
scrum word is loading and gets all of
the data from the third party back end
in this case from atlassian jira you see
the stories and the tasks which are
inside the scrum wat is highly
interactive you can scroll it and do a
lot of things and now i'm taking a task
and the sinus hiney use just saw a
custom component where we can choose
signees we can close the tasks we can
resize the elements on the boards we can
completely resize or manipulate the
layout of the board we have a lot of
interaction all stuff like this button
on the upper side as i'm going to show a
lot of things right now here here i'm
going to book at some time against a
task you know you have the ability to
say okay i spend that amount of time to
do this task and it's going to be
transferred to the third party back end
we can minimize the stories we have in
context menu to do this for the whole
board we have the ability to
this is pretty cool we have the ability
to filter for tasks and I'm going to
show you how we've implemented this we
choose an assignee and then all of the
chosen is I need all of the tasks which
are assigned to this assign you've
chosen will be highlighted yes and of
course you can combine all the stuff you
can combine the like the multiple views
ok now I'm going to stop and what you
see here is the description attached to
a task and the cool thing is we're
getting the description from the jireh
as rendered HTML that means the rest api
from Jarrah just has the ability to give
us HTML and we're taking this HTML I'm
just putting the HTML right into a web
view it's in component from javafx and
it's Reynolds as the HTML and the
formatted wave for free we don't have to
do anything for format this description
and we're doing a little bit additional
stud just want things in this moment we
menu relate the HTML and inject some
some JavaScript to get callbacks to the
Java world that means if somebody is
going to tap on this image it's a normal
image tag in the HTML we're getting a
call back into Java and we are going to
open a big detail view for this image
what I'm doing now I'm going to show you
so this component which we're using here
is an image view it's not the webview
anymore we just got to call back to Java
Java world out of this HTML container
and we're opening a job f X component
because of the interaction with the
visitors javascript their thing it's a
pretty cool feature ethic yeah let it
can't go on I think now I'm going to
show a next cool thing of javafx scaling
it's perfect yes I'm going to show you
how many lines of code do you need for
this but we have the ability to scale
the whole complete board and of course
we can combine this effect with the
filter again and then you have a nice
overview of the assignment of tasks of
the complete board and
but not lead i think i'm going to show
you the statistics area we have some
statistics which are a scrum scrum
specific like the burndown chart and yes
the charts are directly from the
charging in charting API from javafx and
the most cool features i think
disconnect button so i already mentioned
anybody anybody has an idea how many
lines of code do you need for the
scaling anybody maybe not you anybody
else justjust guess eight as it's like
to like down there it's pretty cool you
have the ability in javafx to use on
every note in the scene graph and notice
like every visible element which you can
see in javafx is a note and you can use
this headers on every note in the scene
graph that means you can see you can
scale every element which is visible
just by saying okay should be scaled for
this vector and this vector and then BAM
fat it's done it's pretty cool two lines
of code okay let's have a look on the
scrum board itself I want to show you
which components we are using and maybe
I'm going to give you a little insight
on the implementation right now at the
beginning a very basic thing we are
using a V box for displaying the stories
you know and the reeboks is just in
container to display things in the
vertical order we just giving them some
children and the reeboks will display
this the story is in a vertical order
and if this we box is too big we're
going to to use the scroll pain to make
the areas called scrollable you just
sort I think it's nothing special just
for information yeah then we have
additional stuff for our statistics on
the upper side we just use a progress
bar as i already showed you with the
loading example this is a progress bar
and i think this thing is a little bit
more interesting the steak bar chart the
normal behavior of this tick bar chart
is dead
not that's not lying in this horizontal
way normally its vertical so we had to
because we needed we needed to stack
bartra to be horizontal and so we
rotated this thing what do you think how
many lines of code for rotating things
in javafx this time guess again one yes
just one line of code and you even can
do this in CSS I just did it here in
code but you even can do this in CSS so
we rotated this a bar chart by using one
cheddar and it's going to fall down next
thing is we're using rectangles and
circles it sounds not that spectacular
but you can use now geometric forms as
objects I think it's it's pretty cool
and we provided the ability to you know
I showed you in the movie to rescale to
resize the tasks with with two fingers
and how we implement that this is we use
this a snippet of code we have this task
pane here it's a note in a scene graph
you don't know you don't have to know
what a pain is so this is the
representation of the task and we can
set we can say with the seta that we
want to get a notification about em
occurring touch event so we provide an
event handler with the touch event and
we get notified if there is any touch
and inside of this touch events I get
all touch points on the screen that
means if you're going to use five
fingers you have five touch points in
there I think it's a little bit low
level because now we're using these
touch points to recalculate the the size
of the task by ourself but you have a
more abstract way of doing this because
javafx provides gesture recognition you
have four main gestures you can or java
fixers providing the swipe gestures to
rotate gestures the scroll gestures and
zoom get gestures and I don't want to
say any more about this because if you
want to know additional informations
about this just check his session over
there this is Jim Weaver he had a
session on
a about this topic so if you're
interested in how to do multi touch with
javafx just have a look on his session
but it's pretty cool one hand of code
then you have to provide an event
handler and then you get all of this
cool gestures which you know from the
smartphone okay now let's do some magic
it's i want to show you how these
features implemented which are showed in
a movie where you can filter for users i
I was opening a slide view where we had
some assignees in there I chose an
assignee and then all the tasks of the
assignee were highlighted and the other
tasks were opaque and we want to
implement this right now so we have the
two tasks one is the same to me one is
assigned to Michael and what we are
doing right now is we introduced in
property in all model and this property
is an object property because it
contains a user FX object user FX is
Justin representation for a user in our
model just our model for from the scrum
board and what we what we say with this
property if there is a null value inside
so that means you can set na values into
properties if there is an I value inside
the filter is disabled if there is an
user object inside which is maybe me
then the filters enabled and all of the
tasks which are not assigned to the user
inside there should be it should get
opaque and this is what we want to code
right now so insert a code it looks like
this ok we go to the task we get a
signing of the task then we do have this
filter reducer property we get the real
embedded or including object by using
the getter then we get the user FX
inside of the object property if they
are equal we are setting opacity to 1.0
next information you can apply opacity
on all nodes in a sink rough so you can
make opacity with one setter pretty cool
i'm going to show you this right now and
if there is no object inside of the
further ado sir then
Federer's disabled and of course then we
set opacity to 1.02 so let's implement
this we have two options to implement
this the first option is to use property
binding do you remember the property
binding I showed you with these two
string properties and it wasn't that
spectacular maybe this time we need a
more complex binding because we want to
say this opacity property which belongs
to tasks should rely on the object
property in the model on this food
reducer property we want to create a
binding between those different property
types and for these reasons I want to
introduce you the lower level binding
API to do different to do data binding
between different data types and it
looks like this I have a little example
right here now we have an integer
property and the string property and the
go we want to achieve this that the
integer property should have always the
length of the string inside of the
stream property so that means if there
is in and where you like Hello inside
the string hello the integer property
should have the way you five if there is
an high inside the integer property
should have the value too so this is the
basic example we want or the basic goal
we want to actually achieve so we have
to write a little little bit of code
right now but it's not a complicated I'm
going to explain you this at the
beginning we're creating our string
property so and if you want to have like
a data binding to it between different
data types you have to create a custom
binding it's called custom binding and
then this in this situation we have to
create an integer binding because the
target of our binding is an integer
property want to say ok this internship
property should have aware you so we
have to provide an integer binding
that's the reason why we took this
integer buying here and the first thing
you have to do in this binding you have
to write this ugly static initializer
and this aesthetic initializer defines
when this binding should re-evaluate
and in this case we say okay we provide
this a here and this says when a is
going to change the complete binding we
will re-evaluate and we say this because
when there is another string inside
inside the stream property of course we
have to count again we have to get the
new length of it that's why we say ok
when it changes we want to re-evaluate
then we have to provide the mapping
logic because we have to get the data
from anywhere so we have to overwrite
this computer value method and in this
compute value method we're just saying
okay we're getting value out of the
string property so we have a string and
then we just call the length method from
string API and we're getting an integer
and we're returning the integer and yes
now the binding is complete so we
ensured that the binding is going to be
called and we ensured that the binding
can produces the data we need for the
for the target target property last but
not least we have to use the binding so
we just create our integer property down
there and we say okay this integer
property should be bound with this
integer binding and now we ensured that
instructed integer property will have
all the time the length of the string
property inside of the property so many
words property Chris yes you have to use
the binding at last but not least i
think i have to say there could be a
back because if there is an i value
inside you will get an ID point
exception at this point I just want to
state it or clearly if you're going to
try this code so what we want to want
what we want to achieve right now is
this scenario we have our task and it
has an opacity property because it's a
pain it's a note it's in the scene graph
and we have our photo reducer property
in the model and now we want to create
this binding and you when you remember
my last slide I already introduced to
this algorithm for setting the opacity
so just take this algorithm with the
binding and after that it looks like
this piece of code so we have a class
right now and this class extending app
is extending a pain a penas
already set a note in the scene graph so
you get this opacity property you can
set the opacity of this element and in
the scope of this class you have access
to the task to them due to the model of
object which should be represented by
this class and you have this photo
reducer object yes the federal user
object which represents the current
photo state and what we're doing now is
we say ok the opacity property which
comes from the pain should be bound
within double binding because opacity is
a double value now we use a double
binding and we say ok when should this
binding reevaluate of course when the
photo reducer changed that means
somebody opened this light view somebody
took another signee which should be
filtered for and then this property is
going to going to be changed in the
model and then we want to reevaluate all
the filter it did the logic for
detecting whether we are filtered or not
and then again we are overriding this
compute value method and at the
beginning if you remember we had this
algorithm we have to check whether the
filters disabled we just do this now
check against the filter reducer
property then we check whether the
assignee of our task is the assignee
inside of the food reducer property then
we are a task which is filtered for and
then we do in little if statement where
we say ok if the filter is disabled or
we are a task which is filtered for
we're going to set the value the opacity
to 1.0 or else we're going to set up
ezza to 20.5 so that means if we're now
applying this custom binding this new
binding to this property all the time
food reducer is going to change there is
going to be return the value 1.0 or 0.5
so the this this component is like
handling the the current visual state by
itself it's pretty cool so you have to
have a second option to do this to
achieve this goal you can use the event
listener mechanism there are some
advantages and disadvantages i'm going
to show you between these two
as I said you have this option so we
have this opposite e property and this
time we don't want to do this binding
stuff we want to say okay if this
further adieu sir property is going to
change and we get a notification about
this we just say set the opacity this is
the second option you have and the same
algorithm and it looks like this in code
you still have this class and you still
have the the scope of the of the task
which is which which comes from the
model and you still have the visibility
of the of this field reducer property
and this time you don't say okay the
opacity property relies on something
this time you say ok when this photo
reducer is going to change we want to do
something and this time we provide and
change listener which is type with user
FX because the property where we are
going to register this listener is of
the type user FX so we provide and user
FX change listener and then we're doing
the same checking logic you already saw
in the last slide and but this time we
we're not returning an opacity because
it's no binding this time we act this
time we set the opacity directly to a
concrete value like 1.0 and 0.5 I
already mentioned so if you ask me which
option you should use I would answer you
take the binding and why I would answer
you this you will see when I'm when I'm
going to explain the obstacles which we
had there isn't strange behavior with
the event listeners and you have to be
aware about with some things it's going
to be at the end of my presentation so I
think for the next step I want to show
you how we synchronize the clients and
how does it looks like when you soon
when we synchronize clients the goal we
want to achieve is that when we move a
task or do something on the board even
it's just changing the layout layout or
opening the statistics we want to
synchronize the views for a one hundred
percent between the clients and it looks
like this I prepared another little
video you see the client in gurlitt's
and declined 100 miles away
and I'm doing all the stuff on the scrum
board and it synchronizes like in real
time all of the stuff like the layout
doing the scrolling minimizing and even
if you're going to pick an assignee at
the task i think i'm going to show you
right just right now yes do it please
and even even if you open this slide
view the current state of the slide view
synchronize everything for a 100-percent
synchronized so how we did this when we
started with javafx we were very
impressed of this property binding
feature it was so cool because yeah it
has a lot of benefits and some some
developer of my team thought about okay
how to do this link realization and they
thought wouldn't it be cool if you have
this data binding feature across JVM
borders if you could say okay a property
on one computer does have the same value
on another computer so we did some
research and this topic and we have
we've written as small framework I'm
going to show you some code how does it
work but at the beginning I want to show
you the principle behind this okay
imagine we have our client and this it's
having a visual state and this visual
state is represented by a presentation
model so this presentation model is
completely stuffed this javafx
properties because we want to do remote
data binding and this presentation model
represents the current state of the UI
that means it represents whether there
is an open view whether the task is at
position X Y weather everything
everything every information is in this
presentation model so if you start right
now is technically it's going to have
the same presentation model and what we
did now we created the server for your
information in our case it's a tomcat
server and we are using web socket for
the communication so it's very fast we
created the server and we say okay
clients bind bi-directional with your
model to the model on the server this is
the whole principle where we've
implemented
and what you achieve with this is just
imagine if you have an element on your
screen it could be a task and you're
going to move it you want to synchronize
the position of this circle and those
both properties down there are the
properties inside of the presentation
model and they represents the edge at
the current position of this circle in
the model and now if you're binding this
presentation model to a server and you
connect the second client you know all
of them are now bi-directional bound and
we move this circle right now the circle
is going to move on the other client too
because those are bi-directional bound
and those are bi-directional bound and
when we change hear something it's going
to be propagated to all other other
clients this is the main principle so we
created a framework for doing this it's
called synchronize effects i'm going to
show you the URL to the framework later
and i want to give you an insight on the
code it's it's just a few lines of code
to to have this synchronization feature
at first you have to create a model I
already told you you need this
presentation model and is the
presentation model is completely stuffed
with this properties so there should be
just properties and in this case we
represent the current position of an
element with this x and y position
property so now we create a presentation
model then we create a server when we
when we create a server the first thing
we have to do is we have to create a
model which should be synchronized which
should be used for the synchronization
then we create a server by using and
Buddha API I think we are going to
refactor this to another API but right
now it's below API and you create this
builder then you say boot server and you
just throw your model inside of this
builder method and the rest is ambiguous
you have to you don't have to do any
more this model is going to be
synchronized yes you can you can provide
additional callbacks for doing
escalation something like this and yes
last but not least of course you have to
start the server and then this
configuration is going to
you start on a default port with an
embedded server but you can use this
server as and servlet in and tomcat for
example we are using it with a with the
web web socket Tom kit in a WebSocket
servlet in a tomcat so let's have a look
on the clients now we want to create a
client and for these reasons we have the
same builder API we just say ok build me
a client please and then we say the
server is located at localhost at the
default port and then we have to provide
this client call back and this is very
important this time to provide spline
Kovac because if you're going to connect
down there the connection progress might
take some time because the client is
going to connect to the server and we'll
say a server could you give me please
the model which which is synchronized
and to transfer the transfer of the
model may take some time so you're
getting a call back when the transfer is
completed and then you get an object and
you have to cast this to your model your
model is going to be inside of this
object or is this object and then you
can use it for what you want it's there
so what we do right now is we create our
rectangle or circle I show the circle in
the last slide this time is the
rectangle and then we say ok we take our
model and then we bind the translate X
property which is the current position
of this rectangle on the screen
bi-directional to the position X
property of the model and then we
achieved our goals we are when we are
going to move this rectangle on the
screen it's going to be resumed tonight
to the server and yes everything is as
everything is fine I'm going to show
another video just to get an impression
i think i'm doing the same stuff here
you can see that we're trying our scrum
ode on a Windows 8 tablet because we
want to have it in our hands not even on
the on the 60 inch screen and you can
see it's very performant now we even we
don't have any delay because its website
is very performant it's pretty cool
so as I already said the framework is
called synchronized FX we created a
framework for this remote data binding I
think it's a pretty simple API we might
going to change this a little bit
because we we are using the Builder API
and if you want to contribute feel free
it's open source you can check it out on
github but i but i have to say we're not
the living in a perfect world of course
there are some obstacles with javafx
maybe not in general javafx but you have
to take care for some things the first
thing is the performance if you doing
applications like we do with a lot of
things where you can interact and we do
a lot of animations and a lot of things
which need performance you have to take
care that you don't have too many notes
inside of the scene craft so this is the
recommendation of Oracle don't have too
many nodes in the sink Raph a lot of
times you can achieve the same goals by
display for displaying something if you
CSS instead of notes if you're using for
example rectangle 22 just visualize
rectangle on the screen you could use
CSS definition instead for this so just
think about maybe to use these new
features of javafx to to have not that
many nodes in the scene graph because
it's very costly the next thing is you
should use caching caching is a pretty
cool feature you can enable the caching
for every node which is visible on the
screen that means if you say please
javafx catch this note javafx won't
recalculate this note anymore when it's
going to change or when for example if
you scroll the screen javafx don't has
to recalculate the current visual state
of the of the node wishes which is going
to be scrolled so javafx will save in
bitmap in the memory and then it will
just display the bitmap without the
recalculation and you have to take care
in this situation because if you're
going to change the note maybe something
inside of the node is going to change
like an label or something like this you
should disable the caching before
otherwise you want to see the changes
because
still using this cash thing and but you
can add some additional caching hints i
would say for doing special stuff like
okay that javafx disabled to caching
automatically when you for example
scaling something there you have such
additional caching hints for doing this
but anyway use the caching thing when
you can we experience that to animate
opaque objects is very costly I can't
tell you why if you have elements well I
think it's quite obvious if you have
elements which are having a lot of
effects or our opaque and you're doing
animations with the with them it's very
costly and you may get legs just our
experience and you should not do
something like this you know you have a
feature of using CSS and JavaScript to
the scene graph and then javafx will
style the scene graph very nicely but
you can set the CSS by code if you want
to but imagine if you provide the era
string a very long string long and CSS
definition javafx has to parse it and
while runtime and then it has to apply
it to the scene graph so the complete
synchro has to recalculate or reevaluate
when you apply some CSS while while
runtime so avoid doing this load your
CSS at the beginning of your of your
application lifecycle or I don't know
but really avoid this I think the
biggest obstacle was the obstacle with
the listeners because day I already said
we had some problems with it they are
hard references that means you may get
memory leaks if you're using them on the
DL where if you are not that if you're
not that if you don't think about how to
use them and i'm going to show you which
problems exists imagine you have our
scrum board and we are opening a view
which is represented by a pain right
here for a short moment maybe it's a
detail
you of a task and inside of this view we
want to register a change listener to
the model which is long living which
lives longer than the displayed then the
displayed pain the change listener will
get registered and at the model and this
is a hard reference because it's going
to be reference inside of a list of
America dis inside of the property so
now you have a reference inside of the
change listener to the pain because
you're going to manipulate it or I don't
know what you're going to do with it but
you have a reference chain and if you
now remove the pain from the scene graph
you would expect that the pain is going
to be carb garbage collected but it will
retain in a memory because there is
still this hard reference to the model
so we had pains where we use big images
like five or ten megabytes or something
like this to display and after some
times we had our application just
crashed after we opened this view again
and again and again and again because
there's going to be a new instance new
in since you insist and it's going to
retain in the memory yeah but you can of
course you can avoid this I think it's
it's a common problem do I a development
you can avoid this you have two options
to avoid this the first option would be
you could use weak listeners but I won't
recommend this week lessness will go
will be garbage collected if there are
no more references on the listener so
the problem with this is you can't
predict when the garbage collection is
going to arrive and we'll catch your
listener so it might occur that alisnar
still firing if you even if you don't
expect this anymore so I would recommend
you to use the remove lizna method so if
you reduce that any kind of listener to
anything just use the remove listener
method when you throw this view away so
in our case if we are going to remove
the pain from the scene graph you should
remove the listener too by removing it
manually and yes as I said we notice
this a little bit a little late so we
run in some issues with application
crashes and then we started the hunt we
took a wittle for em to verify that we
have memory problems you just can
this common tool and if you're expecting
this memory or if you see that something
strange is going on with the memory of
the opening subviews you should take a
memory analyzer and you should really
have this hard references it's it's
pretty hard I think especially if you
have a quite a big application and you
do it you don't do it from the beginning
of the development so be aware from the
beginning of your developing of the
development of new applications with
javafx to maintain your listeners it's
pretty pretty important thing but in
general we were very happy with this
technology because javafx 2.2 and the
moment is quite stable as we didn't
expect any hard errors which were so big
that we couldn't work anymore where we
had some box of course we fail to bark
and a gyro and it's it was fixed in the
next release something like this you
know the feedback which you get in the
gyro is very very good you get in
response either by the next day if you
file a bug in a gyro it's pretty cool
and even the community is very helpful
next thing is it's convenient the
development with javafx is very
convenient it's very efficient and very
enjoyable because the the guys which
will javafx I think they thought they
they well they met they made a lot of
things more easier which you're using a
lot like this image loading or doing
animations I didn't showed it but it's
pretty easy to do animations with javafx
interpolations you don't have to write
that much code anymore scaling and end
and then them and so on next thing is i
think my opinion it's perfect for high
polished and dynamic dui's if you are a
master and CSS styling you can do a lot
of crazy things you should check out
Garrett green valid or other guys which
are doing custom components for javafx
and it is very impressive what you can
achieve with this technology and i would
say at the last word if you're singing
about using javafx try it just evaluate
it try it don't hesitate take the
technology play a little bit around and
you achieve a lot of benefits
by using javafx so I think this is my
last slide I think we have now five more
or seven more minutes for some Q&amp;amp;A so
feel free to ask questions if you have
some thank you yes oh yes no not not
already I talk to you again we know that
we're doing quite the same stuff about
no not already yes it wasn't a session
of him yes we like half a year ago so I
know about doth aeneas about it wasn't i
think when we started development it
wasn't that finished maybe so it was a
decision that we did we made by ourself
to synchronization stuff yes the
question was how do we test it so there
are two options option a would be you
have QA guys or Quality Assurance guides
which will test your application the
second option is there are several test
frameworks outside there the first one
is called Jamie FX there you can write
automatic automated tests UI tests you
can say ok please click on position and
position you can integrate this test in
your CI you can build it with Jenkins
and there is an additional framework
which is called test FX where it can do
the same so you have several frameworks
to have automated tests are there any
questions yes yes the question was
whether this is our main product well no
in general we are doing a customer
software we're developing Cosmo software
and we're doing consultant consulting so
we develop this 24 hour self and we are
using this tool in our own projects in
several projects so now we are at the
point that we are going to sell it we
tried it now maybe like one year and now
we are we're losing
it as a product so there are think some
information on this URL regarding this
product yes for the whole system
question was how many men's or how many
hours we needed for developing this
thing it's a pretty good question
because well of course we have a
back-end for doing the synchronization
stuff and getting the data out of the
out of the third party system but only
the front and client and this in this
state you can see it here we may be
needed like one month one and a half
month in a prototype state we did the
migration we implemented the swing
prototype and the most features you can
see here we're already done in this two
month and with I think we were seven
developers five 3327 it was slightly we
yes we rotated in a team so three fed
three general developer and for which
changed so we had a huge speed up by
changing the technologies so other
questions may be the last question I
think we have one minute okay so thanks
for attending and yes have a nice travel
one I think last session</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>