<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Harmony in API Design | Coder Coacher - Coaching Coders</title><meta content="Harmony in API Design - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Harmony in API Design</b></h2><h5 class="post__date">2017-07-29</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/WPHqecV0SiA" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so thank you so much for coming this
session is called harmonii an API design
and before I get started
can I just kind of pick up it's such a
small audience I want to get you guys
get to know you guys a little bit better
can I just know like who's the developer
in the audience perfect everybody
awesome that's good news we which one of
you have like build an API in the last
12 months perfect okay so we can like
skip the part about what an API is well
maybe we'll take a slightly different
kind of spin at it so thank you so much
for coming I know it's getting late
but fortunately of speaking after the
coffee break so hopefully you guys are
not going to fall asleep my name is
chick Nessa trill and quick introduction
why am I talking about API design today
about five years ago I founded a company
called apiary which focuses on API
design and provides API design and
development tools for you guys for
developers up to this date we have about
over 250,000 developers that are using a
theory over 300,000 api's that are
getting developed using apiary so I
think we have a fairly large kind of
data set sample of how people build
api's and over two-and-a-half million
developers that use these API sand
consume those API documentation as of a
couple of weeks ago
we're actually an Oracle company already
so I'm not the founder anymore but at
the same time it's very exciting for me
to be here today and speak to so I
wanted to kind of do a little bit more
traditional talk and at the end I'll
have some kind of more practical
hands-on demos but first to start bear
with me a little bit and I wanted to
talk a little bit about just kind of the
five quick rules about how to build an
API properly so that you know developers
will like it and and
so that you will have a great success
with your API except actually I didn't
because the first part of my talk it's
about the fact that there just is no
golden rule for your API because they're
very api is different and that's kind of
the message that i want to talk a little
bit about like why is there no one size
fits them all for an api and why do you
have to go out and discover for yourself
what your api should look like as
opposed for me to tell you what it
should look like and before we dive into
that by the way it's going to be
probably a little bit shorter than 15
minutes because i know it's already late
and people are falling asleep so if you
have any questions please help you out
and ask at the end so that we can like
fill up that slot a little bit i think
i'm running about 30-40 minutes but
before we kind of dive into that
question like what is why is there no
one-size-fits-all for an api let's just
think a little bit about what an api
actually is right so i mean i will skip
the part that it's an application
programming interface you guys all know
that but let's dive a little bit deeper
and kind of think about what an
interface actually is and i actually
when i was preparing the talk i kind of
pulled out the default google definition
diction dictionary definition and then
and it's too small to read I get it but
I will read out the important part for
you there's two definitions for it and
the first one out of computing is it's a
device or program for you know enabling
a user to communicate with a computer
now grant it in the API context it's
probably communicating with another
program but still it's an interface
enabling a user to communicate with a
computer so the first thought process is
well API is just actually a UI and we
should treat it that way right
and a UI has all these you know funny
crazy people called designers that are
running around doing their user centered
design and being all sophisticated about
it but one thing that they are really
trying to do is kind of think about
terms like usability
you know and I think that's totally
something that an API has as well it's
just that the user in the UI sense
happens to be this funny little beings
called the developer so let's think a
little bit about what it means that it's
UI to data or UI to functionality UI to
another program so if it's a UI it
starts with user experience which in my
mind completely applies to an API and
I'll give you a couple hands-on examples
later it can totally have a visual
design which I think is something that
might not be obvious but again we'll get
more into that and one of the hopes for
me to achieve today is show you how API
scan linked to visual design and to even
all the way down to corporate identity
of the company that's producing the API
api's can totally indefinitely evoke
emotions if you haven't been frustrated
with an API then you probably haven't
used the API but there can also be
positive emotions definitely and again I
think we'll we'll get into that in a
minute but one thing that I think it's
very important to understand for from a
user interface perspective is that a
user interface is always subjective
that's one of the hard parts about
designing user interfaces is no matter
how much love you put into it there's
always going to be somebody that will
hate it to bits because they have a
better idea
but because they don't fit your target
group that you're trying to design for
or you know just because they're
different and that's okay but it's a
subjective subjective thing and one of
the reasons why it's subjective is it
can be culturally dependent which is
something that looks you know on the
outset ridiculous but when you think
about culture not in the context of
designing api's for Asia Pacific or
Middle East or South America but when
you think about api's in the context of
designing them for Java developers or
Ruby developers or you know c-sharp
developers then it will become obvious
that you know
groups have certain cultural patterns
that they have you know learned over the
years and they don't just stem out of
the syntax of the language they do
partially but they also stem out of the
culture that has been developed around
the frameworks and around the
communities around those languages the
design patterns that people like and the
design patterns that people consider to
be kind of iffy and all of those are
kind of reflected into api's when you're
building them and I think if there's one
thing that in a user interface kind of
captures what we're all striving for
then its simplicity right to design
something that is as minimal as small as
possible that there is no room to take
away without breaking it but at the same
time it is still all of the above it is
you know it's got a good user experience
it evokes good emotions and it gets the
job done
so when we think about kind of how do
you you know these are all kind of soft
targets but how do you kind of measure
this or how do you how do you try to
understand if an API is is good or if
it's if it works well and what do you or
you what what can you look at and one of
the things you can try measuring is
productivity right you can you can say
look you know with this new API am I
getting the job done faster do I get to
you know from nothing to having a
functioning integration quicker if you
have a large public API if you have a
big enough data set you can definitely
measure conversion rates and some kind
of larger API providers definite to do
you look at all the people coming to
your developer portal you look at all
the people that sign up for actually
your API key you look at all the people
that got an API key and actually started
sending in a traffic through the API you
look at all the people that are sending
a certain threshold of traffic and all
of that is something that you can
measure in a UI and in an API and you
can do usability studies definitely it
again it's something that's more typical
in the
the visual design community but maybe
you know in the context of an API you
could think about it as hackathons you
could think about it as you know putting
people into room giving them an API and
then seeing how many of them get
something done and and that is a very
frustrating discipline I have to say
because especially if you're an API
provider if you're building that API and
you've put so much energy into it and
then suddenly you see all the little
things that people are struggling with
that you never thought of but even if
you do all of this above I know it's a
little bit the contrast is a little bit
off so even if you do all of this all of
this you can still do all the above and
sales you know you can still do that
whole kind of cargo cool dance of you
know doing what everybody else is doing
and hoping for a best result and it can
still be a complete disaster so to think
a little bit more deeper about why that
is let's go back to that dictionary
definition and let's let's go to the
other definition that's listed they're
not the computing one and that's a you
know interface is a point between two
systems or subjects or organizations
where they meet and interact I think
that's again very fitting for an API of
course but let's think about it for a
minute so an API is a divide where two
groups of people meet and interact
greater and the focus is on people
because you might think that an API is a
machine to machine interface but
ultimately there is a human on the
provider side that is writing the API
and there is a human on the consumer
side that is writing the API client and
until we have you know computers
building source code and writing
programs that's going to be that way and
so the API that you're writing and the
success of it isn't going to you know
rely on the partial it might rely on the
turnaround or the latency between the
two machines but mostly it's dependent
on the fact that somebody on the other
side a human being can actually use your
API
so let's dive into that a little bit
more let's think about kind of what what
the mental states that that those two
people are in when they're writing or
using an API and I think that's really
important because you know whenever I go
to dedicated focused API conferences and
we have this you know multi hour-long
heated arguments about the purity of
restful design and hypermedia
then you ask you know how many people in
the room have actually consumed an API
over the last 12 months and it's nobody
and there is just right api's but Nate
never used them and so I think that
empathy for the receiving site is
incredibly important and so I wanted to
kind of include a little bit of a moment
of kind of trying to get you guys on the
same wavelength of why those two groups
are just a fundamentally very different
so the first thing that I think defines
developers a lot that cultural bubbles
that they have around themselves is
indeed the language there are definitely
good developers that span multiple
different languages that's perfectly
fine just as there are people who
comfortable in multiple different
countries but at the end of the day you
know it's the frameworks you use it's
the it's the tools that you use it's the
feature set of the language that you use
the define kind of how you're
interacting when you're programming so
if you're an API developer and you're
writing a back-end you might be using a
language like Java or maybe maybe you're
using Ruby on Rails or maybe writing it
and go or maybe nodejs that seems to be
pretty popular these days but if you
were a consumer I mean you might be
using all the above but more likely than
not you might be you know writing an iOS
client and Swift or or even worse you
might be a JavaScript developer you know
consuming the API from JavaScript or one
of those fancy new frameworks like
angular or react or Oracle jet and so
you have a quite different mindset right
you you have a different skill set your
angular developer versus you know
Oh developer that's a very different
kind of skill set and things that come
into ative to you are very different but
additionally just in addition to you
know what I'm using on a day to day
basis I also have a different set of
kind of considerations that I'm thinking
about when I'm working I found if I'm
writing an API if I'm from an API
provider yeah I think about when I when
I work when I go home when I when I'm in
the shower when I you know when I'm
sleeping I think about things like you
know it is going to scale like how am I
going to cache this stuff what's going
to happen by versioning you know am I
going to paint myself into the corner if
I release this API without being able to
deprecated it later am I going to get
woken up by pager because of uptime
that's that failing how do i dilate
incoming requests so those are the
typical kind of things that I'm thinking
about when I'm when I'm writing an API
but if I'm using an API on the other
side something I have a completely
different tax cloud of things that I'm
thinking about you know I'm thinking
scible stuff like can I get this job
done at all with the API how long is it
going to take me the whole time to first
hello world you know can it be is it
five minutes or is it five days
what's the latency you know how many API
calls do I have to make in order to
achieve my use case you know okay even
if I understand the API perfectly and I
have to make 200 calls out in order to
blow the screen of data then the latency
alone is just going to kill me how do i
D bug this I am stuck I don't know how
to go forward documentation saying one
thing the API is doing another thing
helped what am I meant to do how do I
get support that's a really painful one
especially when you're dealing with
companies that are non-technical in
their core business if you're using a
API for Nike and you call support and
they ask you about your shoe size it
doesn't really work vendor very painful
trying to explain to the level one
support that you want to get connected
to the technical department that knows
what you're talking about
so that's a totally different set of
considerations right and too often what
happens is when somebody decides to
build an API and by the way this is
totally true for internal API so it will
never see the light of the day outside
the company just as much for this big
public API it's like Twitter that I've
got a million different API clients that
use them too often it happens that
people just kind of lock themselves up
into the room and say ok this is how I
would build an API if it was for me but
it's not for them right and six months
later they roll the API out with great
fanfare only to realize that the use
cases that the other developers trying
to do are totally different from
different devices and different
languages than they thought about and
it's just back to drawing board in a
version too now normally in other areas
of software development there is this
discipline called product management
it's kind of thinking about what we want
to build talking to a couple customer
speak me before we build it validating
the use case trying to figure out the
product market fit and only once I feel
I have a little bit of a handle of what
actually needs to get done going out and
building it but with an API that's a
very very technical thing and somehow
it's very established in the community
that what we do is we code first and ask
questions later and I think it's a very
dangerous thing so before we go into
kind of what to do about it
I want to give you a couple examples of
how the API is connected with you know
from from the API itself and the
technical design and design of data
structures and the design of naming to
the visual design all the way up to the
company's brand and the corporate
identity and kind of show you how to
different api's both achieve their use
case but are radically different the
first one that's very popular to use in
the API community is stripe stripe came
out I think it's the first company
really somewhere around 2011
2012 with a beautiful way to represent
their API documentation by nowadays it's
not going to surprise you because
everybody else has copied it including
guilty as charged apiary we we think
that you know they did an excellent job
in thinking about how to structure the
documentation with a table of contents
on the left hand side and then propose
fully separating a human facing
narrative talking about how to use
something reading text that says this is
what you're doing and this is why you're
doing it and this is how to do it and
then separating the technical
implementation details into the
right-hand column so instead of just in
the typical kind of Java doc format
historically where you know examples are
interleaved with human facing narrative
they really separated it into something
that reads a little bit more like a book
and something that looks a little bit
more like a console dump and of course
then they did a great job at you know
syntax highlighting of the code examples
and having code examples in different
languages but overall it's very very
pleasing right but it's more than that
you know initially when we started you
know building our own version of
something like this in a theory we ran
into this problem that Woodworks grudged
for stripe didn't work for the other
100,000 api documentation set back then
we had at apiary because the API design
of the API just didn't lend itself well
to this type of presentation for example
because stripe aims that simplicity not
just in the documentation visuals but
also in the API design structure and so
their data structures are very short so
anytime you have a code example you know
it just takes like half a page but you
know if you have a healthcare customer
that has these code examples that are
you know data structures that are you
know five pages long then you can't
really like do these little neat things
that they do like match the code example
in the right column to the human facing
narrative in the middle column and so
you have these like pages and pages of
white space because you're just
scrolling through the JSON example
that's on the right hand side so that's
a great example where you know you can
have a simple layout these you
lay out because you have a simple
interface because you have simple data
structures because you thought about the
problem broke it down into individual
simple elements and then minimized and
minimized and I would really argue that
all of this is connected overall to the
company's identity and to the company's
brand because if you go to the home page
first of all it looks like something
that's for developers it's got the
angular brackets right there and in the
middle it says build for developers
second before the whole thing is
designed around being pleasing and
giving you instant gratification in fact
the test instant gratification for an
API is right there there's a little code
example at the bottom and it says like
this works right here you can click it
and it does something you know and you
set that visceral feeling like ah you
know I just
Amazon one-click shopping I've just
purchased something I click the button
and oh I've made an API call this is so
awesome the time to gratification is
like zero it's right on the home page
right and it's designed that way where
you know you have the language selector
on the left hand side you switch between
the languages and it just should make
you feel great about yourself it should
make you feel great about you know how
quickly you can get something done now
let me contrast it to a very different
API that you also probably know and
that's this one right the AWS API now
this is the AWS API documentation it's
got these great names like assigned
private IP address in camel case and
it's all very long it's good a since
sample API requests that's not syntax
highlighted it's got a sample response
that some XML I want it to say crazy XML
but this is four lines so for XML this
is still good but it can get unwieldy
pretty quickly and it's really not
looking like something that's makes made
to make you excited right yeah it's
black and white doesn't have the whole
kind of
human facing part that talks to you
versus the implementation part that
talks about how to get stuff done and
it's really not a pleasure to use but on
the other hand you know one thing that I
want to dispel here is just because it's
not a pleasure to use doesn't
necessarily mean that it's wrong and we
tend to live in this kind of utopia
bubble of everything has to look like
stripe and everything has to be
beautiful and pleasing but even in the
UI and visual and design community then
like Craigslist came along and does
anybody here not know Craigslist right
okay so for the gentleman right there
it's the most popular kind of ads
website and everybody that buys
ourselves something buys ourselves it
they're including cars and houses and it
really looks horrible it looks awful and
it looked awful ever since the beginning
and even though it's raking in money
they've never changed it and it's it's a
case study example in the design
community of something that they call on
design make it ugly on purpose because
ugly also communicates something it
communicates cheap for example and
that's what brings least once that's why
every time you get these you know the
unsolicited ads in your mailbox about
discount coupons in your Target store
they're really ugly to look at and it's
not because they can't hire better
designers it's because that communicates
it's really cheap and you want cheap now
you might not want cheap in case that is
on although I would say that AWS mostly
competes on price but also you know if
you're marrying yourself to a hardware
provider for the next five years
maybe the instant gratification isn't
the most important thing that you care
about maybe you care more about things
like it's rock solid and it's not going
to crash and and and it's huge and it
might be complicated and take a couple
days to figure it out but maybe that's
okay because you know I care about
different things so in my mind the AWS
API is kind of like the Craigslist of
api's
it's pretty ugly but that doesn't
necessarily mean is wrong because it
gets the job done okay so a couple best
practices that we've observed over the
years with the hundreds of thousands of
developers that are using APA and some
things that we always try to advocate
for in the industry so the first one is
don't start coding and asking questions
later
start with the wireframe not a visual
one like designers do describe what you
want to do sometimes in other circles
people call it readme driven development
you know write the readme for your for
your program first and write a program
afterwards but what it's really doing in
both cases is replacing the fact that
you don't have a product manager that
gives you a very specific product
description you just kind of told go and
build an API I don't know what it's
meant to do or or even you're not even
told anything you're just building it
because you know you need an API but
stop and write it down first even in
very simple terms you know in apiary I
like to tell people look if a couple
engineers gather in a meeting room and
they have this whiteboard on the wall
and they start jotting down these ideas
about how the API is going to look like
that whiteboard needs to be a tea area
that's how early they need to start
using apiary that's kind of our credo of
being very simple to get started with
and and the importance of this is that
you're really kind of instead of
implementing something and then asking
people you can describe something very
quickly and very accurately and in fact
I wanted to quickly switch and see if I
can get let me do screen wrink all right
this is the first page just quickly do a
full screen here this is the first page
and it's sorry it's a little bit small
for you guys I know make it bigger this
is the front page of apiary once you log
in
and you can by the way sign up for free
no credit card required you can keep
using it for free there's no 30-day
trial
we just have additional more expensive
plans but that you can keep using it
infinitely for free so feel free to sign
up today and the first thing you see
when you log in is you see an API
description now in those slides we
switch back very quickly I mentioned
that you know usually when people are
describing an API they use an API
description language there's a couple
out there they're all good I'm not going
to you know advocate for one or the
other the most important part is use any
as opposed to just writing code first
and I'll show you how that's valuable
very quickly later down the road at
apiary we have our own description
language colleague guide blueprint and
we also support one that's very widely
used called open API specification and
this is what it looks like
oops not this one this one there we go
so this is what it looks like and you
can actually see that in this case it's
it's a superset of Mar it's a subset of
markdown actually so if you've ever used
markdown to document something it's very
simple it's it's it's kind of a markup
format so it's very readable but the
headings are resources and the
subheadings are methods on those
resources and the URLs are in square
brackets so in this case I'm looking at
a feature resource that was actually
demoing a chatbot API a couple of weeks
back and the API for demo purposes was
pretty simple it had just two resources
a resource that gives me the list of
seats on a stadium if I'm booking a
ticket for forum for match for a for a
sports event it gives me the list of
seats that are available and also gives
me the most important part list of beers
that are available to buy there so that
I can decide whether I want to subject
myself to a sports match depending on
the choice of beers of course and and so
you know it's a very simple very simple
text file but you can share it you can
store it in a theory
you can write it down very quickly it's
almost as simple as brains brainstorming
now once you do that and once you have
that kind of wireframe the first thing
you should do afterwards is immediately
share it share it as much as you can you
know send it to your colleagues but send
it and that's the most important part to
a couple early adopters that are likely
to use your API and again I'm not saying
customers even though it says that on
the site because that totally can be an
API that another team in your company is
going to be using you know that's
internal maybe it's by micro service API
and you have two teams that are actually
interacting on the server side that's
okay as well that's perfectly fine but
get them on the same page with you very
early on and the best way to do that
isn't just to sell them like here's the
documentation go ahead and read it
because they'll read it the most most
like you're not read it but if they do
they'll just kind of read it and say
that's great you actually have to try to
start using it once you start making
these API calls once you start plugging
them into your application once you
start looking at the flows of how the
application works you're going to start
seeing the rough edges of the API in a
word there is a mismatch between the
kind of the granularity of the API
design versus the the data that the
application needs as I said like the
most classical example there is the
workflows that require 200 requests in
order to load a page of data because
that's just something that unless you're
within a data center it's just
impossible due to latency nothing you
can do about it but there's many others
you know you you start figuring out that
we've decided to use I don't know a
crazy flavor of JSON that requires a
custom parser that actually is not
available in the language that I'm
trying to use it in or I try to use it
but it's outdated and the dependency
isn't compiling and you know whatever
else like you have to try to start using
it in order to get good feedback and the
best way to do that is to you know give
your consumers your partners in crime on
the other side of the API to give them a
mock server to give them something that
actually responds to API requests and
it's
sent back API responses and and of
course you know I'm an engineer as well
so I understand the first question is
going to be all right let me disco dit
right that's perfect that's just what I
want
no there's much simpler ways to do that
and you don't have to marry yourself to
the specific implementation this early
on and so if you use an API description
language it's human readable but it's
also machine readable which means that
there's many tools out there that can
produce an API mock server like this in
an instant
now we of course happen to have one in
apiary that I'm going to show you as
well
but the important part here is to
understand that this is just an example
there's many others out there in the
open source community and other
commercial vendors etc so in that API
that I was showing you two resources
click on a resource I have this kind of
mock server URL here that has been
generated automatically by apiary and so
anytime you make any edits in the code
editor that I showed you before it
generates this URL right here and I can
go ahead and I can create that URL
although I have a conference Wi-Fi here
but look at that it works so this is a
simple get request so it's easy to demo
but you know this is the JSON example
that I've have in the specification file
previously so it's no rocket science I
get it it's it's simple but it's already
out there as an HTTP endpoint you can
query it it's simple in the form get
request but if you have post requests it
gets a little bit more involved and sure
it's static it's not like connected to
in a database it doesn't interact but
it's good enough for your API consumers
to get started and start making those
API calls with you and start giving you
feedback how their application consumes
the data and how it uses it so that's a
great way to get on the same page you
know that's a you know you are kind of
building your API on the background
they're building the apt API consumer on
the foreground and you both share this
mark server and the documentation and
you can kind of iterate grab that now
speaking around iteration and
collaborating with with your with your
colleagues or with your customers of
course this can get very quickly
unwieldy
I can invite people here directly in a
theory I can just pop in an email
address and it'll invite them into this
project I've got a couple people that
I'm working on with it here but as you
all know once it kind of process a
couple people everybody starts making
changes one over another and deleting
each other's kind of changes and you
need an audit log and you need a version
history and maybe you even need
branching right so that if that sounds
like something you've heard about before
because maybe you wrote code and and
you're dealing with this on a daily
basis then you probably you know know
that you need to put this into a version
control system so that you can
collaborate with your friends and
colleagues on this and so apiary
supports the first-class integration
with github and we're working on others
and this API actually happens to be two
directions to two-way nerd in github and
so I'm looking at the master branch
right now but I can switch to any other
branch let me just switch quickly to
this one if the network survives and
right and at any point in time I can
just click the view at github button and
it takes me directly to the branch in
github and you can see that that same
kind of same markdown file is listed
there so that also means that while
initially for the time to first hello
world for the instant gratification
purpose you can start an apiary by
editing the code directly here or
editing the description in the longer
term in your typical developer workflow
you're probably editing this on your
computer and checking it into version
control system and then it gets picked
up by apiary but if you have consumers
that are for example customers in other
companies you can probably share the
code repository with them that by the
way in this example just shows the
markdown file but in other examples
typically have the implementation of the
API as well so that you can version the
the implementation code together with
the specification you can share that
easily with your customers unless you
had some kind of NDA together but
typically that's a problem so what you
can do is you can share the API project
with them in a theory and it's
bi-directional is synchronized with your
github repository so you can collaborate
you on your side just by editing file
in your version control system and
checking them in as you do normally in
your developer workflow but the external
customers can totally just collaborate
using this without having to have access
to your github repo and it's all version
to include commit messages and
everything else and including branching
support so it's pretty neat neat way to
collaborate I mean I was expecting that
nobody's going to be using the online
editor but then we've realized that
there are very much these use cases
where people don't want or they don't
want to get help installer you know get
client in order to collaborate with you
maybe they're a product manager maybe
there's somebody that's not coding on a
day to day basis and they still want to
interact with you about what the API
should be doing so that's a kind of the
collaboration story
so finally adapters share the hell out
of it with them get them to use it until
they start hitting your mock server
they're not using it and then do what
you always do
you know fork pull request branch merge
do pull you know code reviews anything
else everything works in the
specification documents just as in your
code and then the third thing that I
think is a little bit obvious but but I
wanted to mention it anyway you go to
have a great documentation and the
number one thing for a great
documentation is it has to be generated
automatically this unless like it's like
one of those things where you write an
API in 2011 and then for the next five
years it's frozen and it will never
change which in my experience rarely
happens it has to be generated
automatically because you just like you
can't keep up it's not like you're when
you're going to change some code you're
going to go into it into a CMS system
and start editing some wordpress
templates in order to you know edit your
API documentation it does not scale and
new documentation will drift out of date
and once it drifts out of date it's even
worse than non-existent like wrong
documentation that's flat out well
either incomplete but or flat out wrong
is worse than no documentation because
it's actively misleading as opposed to
as opposed to just non-existent
there has to be exhaustive and
up-to-date and I think now by now you're
probably thinking well that's great why
would I write these specification
documents that's ridiculous I'll just
generate a documentation out of my code
as I've always done and that's the
common misconception by the way that
that work that we're running into and
it's coming out of this history of kind
of Javadoc and generating documentation
about your source code right class that
could class documentation and end it
that's documentation of your source code
so if your source code changes your
documentation should change of course
but with your API it's the contract
that's defining the product it's what's
in the documentation that's defining the
product that's what your customers use
that's what the people on the other side
expect from you and if you change that
you have to make that explicit change
that you're saying okay I didn't just
refactor my code and rewrite a couple
classes or rename things here and there
and by the way the API has changed by
extension and I didn't notice but the
documentation is up-to-date yay no it's
the documentation that defines how it
should behave and if you happen to drift
out of date with your implementation
then you really should start with
changing the documentation first and the
reason why this is important why it's
kind of that proposal separation here
it's I think the best way to explain it
it's something else that also defines
the functionality of your product which
is typically your test suite if you're
running automated tests in continuous
integration or even if even outside but
if you have a test to it that kind of
defines what you expect your product to
do and if and it's there exactly for the
purpose that you can refactor and change
your code and you're sure that it's
still working as intended and if you
want to make a functional change you
change the test to it first and then it
starts stops passing and you start
working on your code in order to change
it right so instead of trying to kind of
focus on the generation use case where
documentation gets generated out of
source code we did the reverse and we
try to focus on building continuous
integration support so that you can test
your API implementation that it still
matches the documentation the contract
that you've created at the start
so that's one thing that because of time
I won't run into but we have full
extensive continuous integration support
that can run in Jenkins and many other
Canadians integration servers both
cloud-based and on-premise and on your
own computer so that as you're building
an API you can use the documentation
that you've designed to start and you
can test if the API is accurate and last
slide treat your API as a product even
though you might not have a product
manager for it and it by the way is a
new and writing profession API product
manager everybody imagines something
different some of them think that it's a
developer that is talking to customers
some others think that it's a product
manager there's willing to talk to
developers but either way if you don't
have an API product manager play:1
actively yourself regardless whether
your customer is within your company or
if it's outside because you'll be much
better off and they will be much better
off and you'll have a lot better feeling
about yourself because they will be
really happy so that's a that's the
content of my talk I was running a
little bit longer than I expected
probably it was too much fun but quick
summary at the end API in my mind is a
UI and you treat it like that and you go
you should almost think about visually
because a lot of the things that the
visual design community is doing like
usability and testing and understanding
that different types of people have
different needs and that the UI is
subjective and it is never
one-size-fits-all all of that applies to
an API as well nobody will ever ask you
like what's the one and true and proven
way to design a website right but they
still keep asking about an API what's
the right way to design the REST API so
don't do that think about it as a UI
involve your consumers because they're
going to tell you what they need from
you and that's how you break through
that kind of preconception that you're
building the API for yourself which is
not true and then finally automate
because the whole kind of developer
lifecycle means that all of your API
documentation and mocks
and everything else will drift out of
data you're iterating around your
product and changing it so the content
thank you so much thank you for your
attention and if you have any questions
I think we still have a little bit of
time please thank you what do I hear if
your users complain about the most so
it's a great question first of all it's
the time to first hello world so
anything that's on the critical path
from I'm just checking this out - it's
working somewhat in some respect is
hated actively and the number one thing
on that path is typically authentication
because if the API is behind
authentication you don't get anything
done until you figure out the
authentication dance and sometimes it's
a simple HTTP basic and you're okay
sometimes it's you know - like it
there's three-legged OAuth and it's a
little bit more complicated
and sometimes it's like crazy weird
custom authentication that you've never
seen before signing some you know tokens
and it's just super awful right so again
like no quick answer but try not to be
too weird it's like probably the number
one thing there if you're rolling your
own authentication then you know why
like do you are you really sure that
none of the existing stock things out
there are okay because they're okay for
99 percent of the error API is including
high security API and commercial API so
that's probably the like biggest warning
flag is the custom authentication and
then of course you know the other
typical problem in this first hello
world pass is that sometimes the way you
arrive at the API is that you have a
thriving internal API that you've built
for your own company and you've been
kind of working on it for a couple years
and using it internally and then you
cite that now the
I don't know what we call it in 2017
digital transformation era or you know
that's the time to monetize your assets
or whatever else management tells you
and you flip the switch and you say that
the API that I've been using internally
is now public and hope for the best and
it does not arrive because the API just
built with all of these kind of naming
preconceptions and ideas about how
things work that only are understood in
your team within your company but for
somebody externally like the cognitive
mismatch between what they're trying to
get done and what your API tells them is
just too big so the learning curve in
understanding the naming the learning
curve in understanding what's happening
the little undocumented side effects you
know those those are the probably the
other thing that I'm seeing too often
but authentication is by far the number
one I'm supposed to go what is the best
way to do backwards compatibility oh
that's another popular so I'll turn the
question around a little bit for you I
think that versioning question in the
API community is in fact deprecation
question and I think that if you create
a new version of an API then what you're
really saying is the other one will go
away eventually and I'm giving myself
the ability to take that certain piece
of API surface and say it's going away
now or in six months or in twelve months
or sometimes because if it's not going
away then why do I care that this is
called a version two I don't just add to
the API surface add new resources add
new URLs add to the data structures
that's okay so a popular answer is don't
version but I think it's only true if
you can avoid deprecated but if you have
to defecate then think about the
versioning problem in an API as how do I
reach out to my existing users and tell
them that this is going away and maybe
the way to do that is say there's a v1
in the URL and that's going to be
unsupported or maybe it's you know
content type or maybe it's that you're
keeping a list of what people are using
in your
individual email and that depends on the
number of users and if they're internal
or external and how you communicate with
them and how you keep track of what
they're using but frankly you don't need
to version if you if you don't plan to
deprecate now a little small hidden
assumption here is that in the kind of
HTTP based JSON based
API that seemed to be most popular these
days extending data structures is
something that's typically safe so if
you add to an existing data structure
that's okay
if you remove from it that's not okay
those are the little kind of rules of
the game that you probably want to talk
to your users about for example the
Microsoft standard for designing the
REST API specifically and clearly says
that unidentified keys in your JSON
structures are okay and you should
ignore them that's the way to kind of
future proof against adding
functionality so I'm not sure if it
fully answered your question but think
about deprecation rather than versioning
any other question all right
we're two minutes over time so thank you
very much for coming and have a great
rest of the conference</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>