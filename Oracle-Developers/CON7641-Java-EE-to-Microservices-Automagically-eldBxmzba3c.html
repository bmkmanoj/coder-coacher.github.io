<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>CON7641   Java EE to Microservices Automagically | Coder Coacher - Coaching Coders</title><meta content="CON7641   Java EE to Microservices Automagically - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>CON7641   Java EE to Microservices Automagically</b></h2><h5 class="post__date">2015-12-08</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/eldBxmzba3c" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">good afternoon everyone thank you for
coming my name is Alex Bocelli I work
for a red hat and the session I'll talk
a bit I research project that week
inducing the Red Hat how to bring java
ee applications to this microsoft's
world this is a research that is ongoing
there's two aspects of this research
that is I we still do not have answers
but we are feeling confident about what
we are getting up to now so let give you
just before and probably this title for
I see lots of seasoning engineers here
that anything that's related to
automatically you are worried about
because too much magic is not good for
anyone i think but i give you the ideas
why I spoil you with this so strong
words and give the background around
everything so we have these trains
around microservices and we also in our
team I work in the Druze and gb p.m.
team what is called a kitchen nolie's
everything team that we handle knowledge
based technology and we have such a huge
application our web to lease all it's
more than me it's meeting and half lines
of code all java ee applique based on a
pleasure uses CDI even then lots of
things relate to java ejp a for instance
as well so and we have this demand in
the market that we need to be in the
cloud and first question that we did for
ourselves what it means being the cloud
so we have all these things all the
tooling that we have our truce jbpm tool
is basically a web ID infrastructure
available for users dedicate other stuff
they can build deploy and manage
everything in this UI and this work what
we call or work page so how you get all
these big application millions and
millions of code and get read for the
cloud so we as a team already have
something in the cloud available today
that is our service our key server our
jbpm and drew services are available as
dark aerial images you can use you can
play with that we can cure we have the
product coming that it has support on
the it's going to be a container based
the solution and that's fine but it is
just as a Kishin side but we have all
these interests are these tooling around
all the work bank that we have the web
application that has 11 25 millions of
code that we need to scale that in the
cloud so how and I think most of you
have probably similar experience you go
to the conference e lot of people
talking about Microsoft so you have to
go Microsoft Microsoft much but you get
back to your company and say okay how to
get one dot five millions of code in
micro services it's pretty hard he's not
that easy answer it's not the same
publication that you do that I of course
I will do some demo here that's very
simple for the concert buddy it's not
like that you move to the cloud so you
have to figure out how to move to this
cloud to get the advantage of this
Microsoft and cloud so this is basically
the idea of the background my role in
the team in this research is now okay we
have one dot five millions of codes how
do you get to the cloud red for the
cloud impacting as less as possible our
current code base the premises of course
is that our code bases were written the
modular I zip code base so we have
several modules everything is very
independent and I think Java is a good
player that specific on CD I dependency
Jackson's the events is a key players
talk about that that enables your
application to be
very d couple but how to get a good
enough application and move to the cloud
as a Microsoft docker container
kubernetes all these words around how we
move to that this is my role and this is
the research that I'm working on so just
you probably have these seen definitions
of microservices everything I just take
it with Wikipedia but in the end we can
understand about microservices is simple
architecture partner then you get
already call in Java world or maven get
modules and get these modules as
individual pieces working somewhere in
the cloud or independently so you do not
have higher depends between your modules
or big services that you may call like
after education or authorization it can
be one services and you have the
business logic in the other side like
cartoons a shop card be a financial
processes you can split areas of your
your application is all about
architecture parts so it's not related
to technology is not related to
implementation tooling is just an act a
chirp pattern and they want me to go at
least that I see and we see in our team
for going to Microsoft's it's basically
the cup and compose the decoupled what
you have and they can be able to compose
these services independently in don't
mate go is scale the sky ability of
these that you can have some subs that I
high loading can get expanded but it
once it gets low needs you can shrink
this clustering of services running so
and it is also important that I go for
Microsoft is not for fast is you not you
not get a faster application running in
micro services because the concept of
Microsoft is distributed across the
network in at least you are adding
Network ladies well if you're so lucky
you just have the latest you handle
but it's a lot the difference then you
run in the same process so it's not for
fast is not for truth put well you get
some improvements or truth but once you
can scare you better but it's a
different type of truth booth not a
regular to put that we measure in
regular applications running in a JVM
for instance because now we are talking
about several JVM several parts of
application running across multiple
containers so what you call what a most
common intention that go around
microservices always around rest
implementation because you have this
notion of language agnostic so I may
create something that other languages or
the parts can consume it easily and now
the train in terms of implementation of
micro services are running through
containers docker has been very
important technology for enable this
container thing back in time I had
friends that work in the internet
business web companies that has been
doing internally containers like his
style for a while but i think the the
nice thing about docker they came up
with some infrastructure some API level
they create something that put
everything that lots of people are doing
but together and solve one single
solution we can say but it contains just
the beginning and this I would say
that's the easiest part because once you
have a good application that you can
model you have good clear different
modules that you can pack it differently
and create containers for that it's okay
but the next step is how to orchestrate
that because now you're talking about
not an application that you deploy in
your web your applique your application
server now you're talking about how to
handle a form of application service so
how may i get so many containers around
how do you orchestrate that this is the
orchestration side that nowadays i think
won the most popular technologies Cuban
artists but if we have all those options
in the mark
people are using different technology
but if we believe and that kubernetes is
shining in the space in altus
infrastructure that we are talking about
ends up like you like you're not it's a
passing for a structure that you use
some past provider pass basic technology
or you have to create your own tool
around pass because this is what
Microsoft view going to micro size you
reach this point that you have to manage
your infrastructure as a platform as a
service and this is very complex very
very complex problem to solve in a
regular problem that we be seen when you
see Microsoft's implementations is that
it usually now to communicate across
different services you start to mix
business logic with distributed
computing logic disability comply to do
the remote invocations to handle all
other things and this is super complex
problem there are so many research
around distributed computing since ever
in the computer and this is still an
area that is really really hard to solve
this is a problem that is really really
hard shop and now it's how it relates to
the research that we are doing so if
it's so hard to figure out how to do it
well or less bad I'd say and you spread
these codes that handle network
partitions availability or complex error
handling across all your small
Microsoft's distribute somewhere you
bring so many complexities your existing
complex system that there's maybe a way
that you can work around this maybe some
central area that you can delegate to
somewhere to help you and this is why we
come to idea what if we could get the
probably model that we have to
day the flexibility of the problem model
that we have very simple the CDI for
instance are the dependency injection
are the events I think the part that I
love in CD is the event because it helps
really decouple the stuff that you have
but you still have all the flexibility
of microservices if it would be possible
to abstract some way the complex of
distributed computing all these and poor
networking issues that you have however
Hanley or how to retry stuff and keep
the values of these and keep the values
of the Microsoft so you abstract it but
I keep the values and this is why we
just where we ended with a tool that we
are student on the research that is
called uber fight cloud extensions you
prefer cloud the stations is very no
intrusive solution that's basically di I
just talked about the attention of this
plug-in later but just before I move on
and explain what is this called
extension thing let's give you a warning
it's not for everyone is not for
everything like Microsoft echnology it
can have use case it's not for like
Facebook or Twitter because part of
their business is the scale is the size
of the thing but ah We strongly believe
it is our case for ninety percent of the
cases we can use this solution and there
for the other ten you have to put more
thoughts on that and do it more case by
case so this is important this is not so
all the probably the road so um now
let's talk about Java and I you've more
focusing during this talk about this
three different almonds but we know that
Java is a very mature technologies it's
being here
forever and it's really trust worth and
especially with CDI it's really amazing
how productive you can be and how easy
it is build applications on top of these
technologies is rock solid technology so
CDI jpa that's I think you're the most
popular thing that we have in Java most
even applications that are not java
application they have something related
to Java jpa hibernate or Clips League
whatever they are using but someone
using the JPA style program in we have
these chains that's basically the
metrics that we can have the queues to
communicate across multiple sizes or
mood for components I across a closer
whatever so this is the idea with these
three components we could build a good
reliable solution for cloud so how we
could a beaut and there is another point
java ee a programming model the CD i
specifically now doesn't say that you
have to pack your application as a
monolith there is nothing related to
that we just pack them because it's easy
because it's there you / can create that
war and you deploy that but the
programming model associated with CDI it
doesn't imply the distribution model so
the deployment the sorry so you have you
may have the cup you may decouple these
deployments in the programming model
this is very important in the again
about the the CDI CDI is a natural naval
of good soft architecture because if
done right you can decouple very well
your company's yours modules even in
micro cell in services in a general
perspective so if you do it right you
have dependency injection plus event a
very modular application other loser
losing coupled application and when the
goals of technology is a very testable
technology solution so this is what we
believe and this is what we achieve in
our project as I said we have a1 dot 5
million like old base winners of code
it's kind of big but we could achieve
these three elements just with the
programming model CDI now i will show
you talk about a demo that i'll do that
we present you how a simple java
application can have all these elements
the modularity in the Lucilla couple so
are you showing out the notes team oh I
will switch here let's see
it's just black what is this
it's not supposed to work that's the
date oh that is not nice remo Godsey not
in my favor yeah but now my screen is
black everything is black yeah well I'm
nothing here come on I pro that I have a
cool demo to show you oh I have no idea
what's happening with machine i rebooted
so yeah I think just questioned I don't
know but now I have to restart it hey
let me know presentation okay yeah
that's happening okay in the meantime
any questions she has a good opportunity
for questions but all I can do the one
of my personal opinion okay the question
is was the difference between
microservices and s away my personal
opinion not much different but in terms
of problem in your actor but if you
think now I think that the idea of
Microsoft is more aligned with this
culture around develops and we have new
tooling to support this movement to
split elements and then split them
monolith so you have all these
containers that make things more easy to
decouple and build stuff it's way easier
I think this is my perspective that okay
right now we deploy one application off
the multiple servers sir they have
multiple transactions mmhmm yeah in
terms of transactions in the cloud this
concept doesn't exist once you have out
this network and when you go to
Microsoft's this constant doesn't exist
this is also some howling related to
these the previous trained around no
sequel database they a lot of people
asking for all and what about Francie
transactions people saying well there's
no so if you have the need for
transactions you have to rethink to go
into this strategy yes eventually
consistent what is funny because I am
Brazilian I speak parties in in Brazil
when this word eventually consisted was
translated initially it was like the
eventually word we have something
similar in Portuguese that's that means
that may or may not happen is not like
in English that is adventure sometime
one point in time it will happen but it
was fun we'll go to the conference in
Brazil people Oh things may not happen
how is that you're doing computing with
may or may not it is not the way that to
do computing um I me her and pray okay I
got something let me get back here
sorry well this is also hard the
industry start to figure out when or
where to use but I give you our case and
the truth and gb p.m. team we have this
Webbie ide basic solution then we want
to provide in the cloud and it means
that there are some aspects of the web
ID like the compilation when when you
change something or where your browser
you need to come by and provide more
information for this user this is a very
hard thing to do in doesn't work well in
a single machine you need lots of
machines to run that's because I may
have two hundred users creating rules
creating process and this is the area
that we see clear that we take advantage
of Microsoft to have several serves
maybe one sets per user when microwell
container by per user so it depends
everything depends on the scenario that
you have ok let me start here um these
application here ok I created emo
applications and nope it started letting
finish this it's that application that
snow is that just a simple notes
application that you can write notes
start a note or you may yourself you can
send to mail on to someone these notes
put yourself of course um let's get it
started let's go to this application
I try to use just the screen are you log
into the application well there was a
awesome talk early today that you miss
it there are so many to Lisa around that
I would recommend to you Shakti clock
key clock is a project that we have in
Red Hat JBoss that basically enables you
secure well your micro services like
that is really amazing it's really
amazing technology and this is a problem
that my team or us are not solving these
guys are really doing great exactly they
are Microsoft are running different
platform in different microcell in
different machines or even different
countries different zones whatever yep
this is why i recommend you highly
shakti clock they are so vedas blog they
saw this problem they have a solution
for micro services that how to get the
microservices architecture secure so we
have here in the Red Hat we have this
our kind of solvent it's very much your
products we nice i do not know exactly
the details how it works i know it works
so i can tell you it works um i have one
a colleague here that kind of understand
well the technology after the session
you can ask ask him and we have off the
redhead booth there are some people that
knows a lot about key clock in microsoft
security back to the demo and I have
this simple application that shows empty
but i can create some notes and i can
mine out save that
oh I forgot I need some steps as of
course I lost my otherwise wouldn't work
what aspect it works okay I can save
this I can create many nodes so again
refresh so every time that I get it was
turn the database is very simple
application yeah and you can send by
email to someone if my network
configuration is okay okay may your st.
i have these marks smtp application that
records the emails locally just you see
in CDs application you can also check in
terms of services it has three main
services you have the front end you have
the back end device splitted in the mail
are the email sandy service or module in
the jpa in the persistence side so we
clearly have back here some hmm ok clear
elements this module clear modules today
as my presentation here Jesus is a
container Sedaka implementation is
deployed as a monolith but it does as I
said the programming model does imply
that has to be monalee so let's go to
the check the code and see how it is
structured ok Jesus the application that
i have is a
it's a it's split any different modules
as should be we have here the module
that handles Mayo for that I have one
specific module just define the
interface will have the st. mayor here
and you also have an even definition
that Mayo st. when the mayor sent I got
the definition i sent an email to the
the guy that was asking for this service
so i defined the event but i don't
define he in this level I don't defined
implementation I have one another module
this is the way that we split our code
based in our team it's our preference
but you have just one for the
implementation itself that does the mail
think that has to be done pretty simple
pretty simple on the same for the
persistence we have the persistent
definition here have the persistent
services I can get a list of notes get
notes safe no to delete note get note
pretty simple and I have in another
project in another module the definition
the implementation itself so standard
jpa code nothing fancy nothing different
but and here of course the back end of
this application written for the you I
have all these modules everything is
splitted just a side comment we love so
much see dyani style of programming that
we do these on the client side we
developed using grid and we have a
project called in Brett ahead caller
arai that basically is CDI for browser
or quit GWT based application so you get
my d more line in my github account you
can check it it and I think we think
that is really awesome so you have this
application that is pretty standard and
what we introduced it
the idea to have this cloud enabled is
just one small change in your code just
dizzy notation then you call cloud a
cloud with a name of the service this is
all the change that you have so i have
here multiple branches the other branch
that i have ones for called enable it's
pretty simple just at this ad cloud it's
all i need and then presto that you
create is pluggable that we create its
pluggable so if you do not want to use
the bottom we have you can just remove
and apply it Simone elite as usual so
basically this is the idea to have a
yooper fire cloud enables get dis Mon
elite and split and be able to split it
in different services in the in our case
is the persistence is the mail in the
front end services and how it works the
cloud CDI extensions it get the monalee
we add the CDI extension let's get Fred
for the clouds it's simple like that
it's really really simple the
architecture is also simple we have the
API definition that's the only side that
you need depending for in your project
is at cloud that has just this
annotation definition could be even it's
possible to not even use that just using
regular configuration files but it's so
easy to have just one annotation that we
ended up with this annotation when we
submitted this talk in the beginning of
the year we were using just
configuration files in n reset all all
these configuration files could be
simplified with just one rotation why
not and then we come up with just one
annotation and then for to running to be
able to split things is the CDI
extensions CDI extensions basically does
the automatically stuff that basically
has even observers even propagation the
publisher proxy beans a marshalling and
well and I visit the code and the
interesting thing about this
extension this plug-in to your platform
to environment you may have different
strategies to implement the deployment
today we are going out there take turns
that the communication over
microservices goes to JMS using activemq
but we are now researching to create a
rest-based solution so you have all the
bus around the rest you keep using the
breath but a programming model in your
side will not be changed today we
implement using activity q JMS because
was the simple think in the beginning
now here after some time of research we
figure out all this may be possible to
have different climate a shin so we
created that let's get more what dcdi
extensions i want to remove the magic
side to you understand and why I think
this is a good solution for most
applications doing your application
bootstrap of your java ee we check if
the service is enable if we have a
configuration parameter that defines
that Jesus the service and will scan for
the surf scene names so we basically
check out the ad called a notation and
check that name and collect this
information and we match this with the
environment variable that you should
have in the container so if they match
this is local service so I it's all fine
but what doesn't match and we have like
when you distribute some things will not
match what we do is simply create a
proxy beam we go to see the i/o you know
someone is looking for a beam but
instead to provide the real beam we
created this magic proxy be and this
magic being it's pretty simple is just a
router it gets the notification that the
original beam should do and just router
to the proper microservice and and waits
for the results so you can either
related and all their network petition I
have a thing just one place that is
Jesus communication today we do not get
even simpler with activity mchugh and
JMS solution because I I drop a sent to
a topic or sent you a cue and someone is
listen to that and get the security it
is really really simple the same happens
with even the events can just with the
ad cloud annotation you can spread it
across your cluster or if you not give
the ad cloud the notation or even you're
going to be local so this this was the
first mistake that we did during the
research we start to propagate all the
events but there's several events in our
application that's just for the module
is not for everyone so then we start to
realize what the events are more related
to microservices he not related to
internal decoupling of such a module
because when you are talking about
compiling something we have in a point
in time that all compilation is done but
we still need to collect information and
this event we there's no reason to
propagate this event in the cloud on the
micros in the other Microsoft so we
create we also create the notion of at
cloud and it's done if there is an adult
I captured is even with dcdi notation
and we spread this across the the closet
to a topic very very simple let's just
give you a high-level idea of the code
here i have the CDI jar that admission
just add cloud simple like that in the
default value for local so we dig in
ours by default we have the CD I this is
the cloud extension this is where we
intercept and check how your application
inject beans or have methyl evens
observe and things like that this is
where we collect all the information I
think he is open source is available now
on github in my personal account we
still not merton in the main project but
there's a lot of things basically these
all these causes adding beans that
basically does our the job behind the
scenes he is how we collect local with a
good luckily something that was remote
and now this stuff is here and you see
that is not much cold so we are pretty
happy with just a simple solution that
managed to get us ready not red but it's
a big in able to go to the cloud or
micro services without change our code
base and I think the nicer thing that we
achieve it is just to give you an idea
about this this producer theer is that
techno this is the activemq that does
the job that listen for some topics or
some cues and execute called based on on
what people are executing some
dependency of external service so it's
really we are very happy of that and the
nice thing about that is that you can
just disable that if you do not want to
use just do not add these in your war or
your packaging it's just that and does
it in its to their everything nothing
changed in your application this is
awesome what I think just an overview
it's not very readable but how it
works if the remote service or to the
local service it's a local services
pretty obvious the notes application go
to the persistent the persistent queered
the database get the data and return to
the notes application simple like that
but it is a remote service so if I am a
front-end services and I call the
persistent service that I have injected
the my application change nothing has
changed but what do you do is intercept
the method will send a message to
activity q say oh we have a metal call
and deserves here and you modify is a
cute it these persistent service is
notified by the JMS something arrived or
is the topic of the Q you query the
database result get the results from
that and send it back to the activemq
and this guy is listening to some topic
or a queue or temporary top corte para q
and get the results back so that's how
it works for for method and for events
it's pretty simple it's called basis
even just throw it and there is another
side that just listen for what has to be
published okay i read show the cold 510
okay
yeah um if I got the right questions but
in real word the Microsoft seemed
probably you have everything to get like
you're not splitting functional
technology-based fertilized you we split
functionality in the business level so
you have jpa in one microsites sure this
is just an example sure yes that is
exactly how you have to do this is how
to do micro service but for the this
this session I couldn't create several
business thing so I ended up at
splitting java ee services just to have
you an idea of the concept that you can
split java ee applications using hard
technology like I showed you jpa
annotations all this stuff and you can
split that without problems but you in
the real world what are you going to
happen is you inject not a persistent
you inject your business service or your
business module what I would call and
you is acute something one it's a cadet
and goes remotely called the proper
Microsoft that you're going to check
database locally check the everything
has to be done in the business logic
side it returns the results but the
concept is exactly the same okay now we
got the notes demo and this is where
things can get really dangerous I will
try to show you this notes application
is splitted in three different
microservices for that i'm using docker
i'm using wirefly and i'm using up a
shift orangi version 3 that is not
released yet i builded from the master
from trunk in a bit local so many things
it's not indeed open shift is basically
a cue brunette
plus some things that red happen Clement
on top so it's just a thin layer on top
of Cuban at ease let me get here and the
point that i may get something it was
everything done but now it was prepared
and now it's not a help to go from
scratch okay so you are seeing me
preparing the open shift develop and
machine we i'm using vagran so it's
basically that is open shift gives us
this configuration that's really nice
the background configuration that's a
tabs the virtual box with everything
that we need to develop open shift based
applications running locally of course
it's booting well it but but another
comment that i want to do is using this
strategy and the CDI extension you have
different ways to deploy your
application you can deploy your war a
fat war that we call everything inside
multiple times so you have basically one
container definition when dr. image and
you can split the same one across
different microservices define your
services and use the same image just
changing the parameters the environment
variables to the image and you work or
you can go more facing more work in
deploy it like using whiteflies warm for
instance thats package your application
java men that you consume that you tell
swarm what says that you are using a new
package it so it's now more an option
for you in this case in this demo i use
it the same war deployed multiple times
okay you shouldn't be seen that but my
machine crashing so
so now I'm rule again oh ok now let me
get you an idea what I'm doing I just
start wearin and into the background
machine it has now open I start open
shift that's basically kubernetes with
some UI and now in open shift has the
concept of on top of cabinets of
projects so I create one project and I
call this protein notes and inside notes
are you deploy several a lot of
different services there's going to be
front end mayo and persistence ok oh one
important part it was so easy to miss
this I need one what is it
I need activa Mickey Ronnie I didn't
create the image for that so it will has
to be local so you are seeing I'm
building everything from scratch for
real and this is Carrie ok it's Ronnie
it starting ok um now back to my vagrant
let's create the new project I'll see
new project let me just in order to get
better machine I'll see in the new
project called notes and let's visit
openshift console let me login in the
console you see the notes project and
here are you configuring my services to
configured services I create a new app
and this app lets base it on a JSON file
just before let me start this and this
is what this JSON file has is a template
that defines all my application for
kubernetes and open shift oh where is
that ok here wow it's running so we see
when I create this new app I created the
front end the mail service is the
persistent layer deployed different
containers with different configuration
actually let's go to this configuration
file just you have a grass body it is
all the code including the configuration
files are available online and my github
here here is how you define your
services basically I'm here defined the
service is a persistent I route the TCP
I have a route here route edge is just
an example I didn't change my dns and so
for that and here's the interesting part
i defined the deployment configuration
that's basically i give a name and i say
what's the name of this in the image
this image is a docker image that i have
now in dhaka hub that you can try all
these you can try yourself in the
variables the variable that i need
basically is for this demo application
is the smtp to get here the emails and i
have the cloud service names in this
case for persistence of the persistence
the service is called persistence and i
have the activemq URL let's define all
the variables here let's reuse it
somewhere so this is my look back so we
should be ok well hopefully it's not
that easy once you have everything
removed all of a sudden so I have here
the applications let's go to the
persistent for instance oh sorry so the
persistent part when you're talking
about the kubernetes pods means the
container basically they match 11 in
your PIN shifting kubernetes you can
have one pot multiple containers but
open shift is one part one container
that's my image that I built the war
with that configurations we see the log
here the application has started and
what it does in your log is just created
some things here just for an example I
got the you pathetic to me neq cloud
service running and the sense that these
particular deployment is responsive
force persistence
I didn't disable the the the front end
so I can still connect it to here just
to see some mess up sorry just to see
how it works behind the scenes
okay get my localhost 8080 so I connect
to the persistent I left it enable the
UI because the UI is not tagged as as
anything I let me just create here or
not and safe so you'll be able to check
the log and see finish here and see here
okay
the master that it has a note save it at
least notes message like that it's just
for example the same we're going to have
been for mail if I let me connect it to
the front end now and we see
okay connected now my a DVD points to a
different place yes it there's a message
something has happened it so I lost the
connection of course I had now in the
new server this is the UI you see that
now i am connected to the persister to
the front end when i hit refresh let's
go to the let's go to the console the
console here on the persistent part logs
what we have here is least notes when I
hit again refresh it has least notes
again and just and we have the same war
let's check the pod from front end it
shouldn't have any least note message so
it's delegating to the other Microsoft
another service deployed and these if
everything goes well I do the same with
email may your scent may you in the box
so after they stress to reboot my
machine everything works so that's it
basically what i wanted to show you in
terms of presentation let me get back to
my slides where they are just too and
that's it what i want to show you any
questions
yes when you see work bay Drew's
workbench running in the cloud you can
make sure that you you bet that is
running this technology because we
cannot afford to change anything or
change drastically what we have so we
need to have a quick cloud solution in
our tooling this one dot five million of
lines of code has to go to the cloud as
this we cannot change everything we are
changing small areas just but the
changes are improvements of the
architecture is not related with cloud
he's just making sure that some cool
like event we had some events that was
not related to the some areas of the
code that people were listening for so
we identified such a thing it could even
work at this solution but we want is not
to suppose that particular events with a
cloud so it will not work in the in
those case so we we are improving the
architecture of our platform but it is a
regular refactoring improvement of the
platform not something to go to call
yes we play with that we had some
initial issues but we fix it and is
pretty good the result that you got is
pretty good we still for the demo we
didn't have enough time to prepare that
it's a lot of things to do for the for
this demo but we are getting some really
nice results with Wi-Fi swarm really
nice in do something that easy to set up
for us as developers it we are very
excited in our team to have all these
set up but it is another thing it
doesn't packed our cold at all it's just
a packaging it's just a packaging
deployment to strategy there's awesome
more questions Oh Ke$ha um it's my
personal it's porch lepo RC Double L I
github lodge porcelli is shak everything
online
okay the question is the pain that we
are failing to move one dot 5 million 2
g's architecture there there were areas
that wasn't that good development dark
that was kind of problematic people
depending on details of what it could be
of service one good example in our case
is the compilation process there were
people hooking on the compilation even
they shouldn't there is one proper even
in our application that defines one the
information is ready to be consuming one
good because we do the compilation but
we have to collect information to feed
the browser again to get the out
complete and things like that so people
is just stuck with the compilation done
they do not get the data they want so
this was a challenge to figure out why
it wasn't working but it was not that
hard using geez this can be a neighbor
because once you okay this should be an
even and we try and doesn't work in the
beginning and that all now we are doing
around here and doing wrong there
because we are with Rome dependencies so
again all the changes that we are doing
we are doing some change in the code but
to improve the ACT a shirt up like
application nothing related to
microservices or whatever this is I
think is the most important thing there
is another thing that we are changing
and this is more deep change to our go
to college this strategy is regarding
our clustering set up our cluster setup
nowadays is basing on zookeeper it's
using a passionate licks and other tools
and this is an area that we will
simplify a lot for kubernetes and open
shift because we have today we do a dork
structure by ourselves what is really
hard I wrote that call and we still have
bugs and this is a nightmare Jesus I say
these areas of disability computers so
complex it so hard to get it done right
properly it's
like how you do last bad and with the
going to cloud will change some areas
because we rely on existing
orchestration that's basically the
things that we are changing but believe
or not things are going well it means
that we are not changed a lot with just
improving some areas any more questions
well very similar I'd say in my case
here when I went to micro to persistent
I left enable just to make sure that I
could demo and see the right message if
everything was wrong I could prove that
it was somehow working but in when you
inject something we'll figure out what
you are injecting and it is a cloud we
we intersect any method that use acute
and will delegate and all the delegation
use to comply with the regionals
semantics because it's another java ee
application server or swarm running
somewhere so we are not when we split
microsoft we are not changing the
semantics the semantics is are exactly
the same um we are lucky in our platform
we've talked about stateless because
well this is our nature but you can
refactor some areas to become use
advantage of cash disability cash or
things like that force well you need
stateful um but if you really need to
staple things may package eat like a
subsea by itself a self-contained
service somewhere that you use to keep
that they stayed there and because I as
i said we keep the semantics so if you
put everything together all the the the
thing that isn't need content or is not
stateless if you keep it together you be
fine another question Oh
everything depends in our case makes a
lot of sense it should be on
microservices it's not just because of
the buzzword it's to take advantage of
these are castration provided bypass
solutions like Cuban at ease because we
have the compilation phase what is V
real intense we have big code base
written in drews rules are really really
complex and people hit beaut takes
forever you see that my machine is crazy
is you hear that and this makes sense
but you are talking about a line of a
common line of business fifty a hundred
maybe not worth but is another thing
with such a solution if it is a nice
well written application you can go to
God if you need using geez mechanism
because Jesus for instance if this type
of application need I think this will be
the best fit for them because you do not
need to worry about disability computer
at all it is related it's not that
simple but you had a single place to
handle all the distributed computing
exactly that's true exactly yeah but it
doesn't go to Microsoft in a sense you
just come you're just package one
container with your motherly then you're
good to go it depends because in our
case we are talking about containers
micra this is not about Microsoft's
about containers and orchestration and
this openshift does a great job they
scale for you automatically depending on
demand how the traffic you can scale up
in down so if you do it well your your
application your services are done well
like the our case for compilation again
we can go up and down in the new number
of pots without to have to manage
ourselves this demand because go there
and have new treads is not enough in our
case because we are talking about this
scale like 200 people compiling code at
the same time we have users that are
huge and they have like 200 it's very
difficult i would say that 50 people
compiling the same time it's very
possible in our platform and spa
machines by our seven will be crazy so
if you can delegate these two
infrastructure like kubernetes it's
awesome and we can do that with our
platform with this thing plus the
kubernetes and thinks it's done for you
you do not have to worry that I have
that's it I think another question ok
thank you very much</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>