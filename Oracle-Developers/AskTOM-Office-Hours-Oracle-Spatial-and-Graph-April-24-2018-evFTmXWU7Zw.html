<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>AskTOM Office Hours: Oracle Spatial and Graph April 24 2018 | Coder Coacher - Coaching Coders</title><meta content="AskTOM Office Hours: Oracle Spatial and Graph April 24 2018 - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">⤵</li></ol></div></div><h2 class="post__title"><b>AskTOM Office Hours: Oracle Spatial and Graph April 24 2018</b></h2><h5 class="post__date">2018-05-03</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/evFTmXWU7Zw" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">so today our focus topic will be how to
model and construct graphs with Oracle
database my name is gene M I'm a product
manager for Oracle spatial and graph
products and today presenting with me
are my good colleagues and experts so
dialed in from nice France today you see
in the video my colleague Albert God
friend he's our spatial and graph
fusions architect and across the Europe
and Middle East regions among many other
things he does he evangelizes the use of
spatial and graph technologies to our
analytics business communities he works
extensively with our partner and
customer communities in those regions
designs and delivers trainings and
conferences so many things and then also
we again have Z Wu who's our architect
for our graph technology these video I
don't use as these video on the feel
free to turn your video on if you'd like
many of you know him already I think si
and I are both based at Oracle HQ in
California and if you haven't seen Z
present yet he definitely wears many
hats he's responsible for leading
development efforts of our graph
technologies and has done so since we've
started working on graphs and your who
does also work very closely with several
partners and customers glad to have a
great panel today
so just to set some context here's the
architecture of our database graph
technologies support we'll work our way
from the bottom up at the bottom for
storage you have the choice of using the
Oracle relational database twelve two or
eighteen one or four big data platforms
you can store that graph data in either
Apache HBase or portal notes equals
those days next in the blue box we have
a common data access layer or don't it's
a Java layer that essentially abstracts
the details of the underlying databases
and it allows application developers to
query fetch or filter graph database
from graph data from the database
through Java JDBC or sequel we expose
blueprints api's and also provide tight
integration with text engines like
leucine and solar cloud on the top in
the yellow box in order to analyze the
data we provide an in-memory graph
analytics engine called PGX or parallel
in-memory graph analytics PGG apps can
read the graph data from storage very
efficiently through the doll layer into
an in-memory data structure and as Z has
actually said the magic happens here
there's 50 analytic functions out of the
box here plus P gql queries where you
can define and run queries across the
graph data sets on the upper left to
visualize data we provide tight
integration with an open source to this
tool called site escape site escape
would talk to Dahl pull up the graph
data from one of the graph databases it
can also talk to PGX to rest interfaces
and you can vote functions through PG x
or PG QL visualize those results on the
side gray box you see we have a quite a
few different interfaces for developers
to access the rich set of functionality
here for Java developers there's Java
API is groovy also we also provide
Python wrappers additionally we offer
services with web service API and
notebook interfaces for Jupiter and
shufflin
the right-hand box lists the various
property graph formats that we support
the first three are pretty popular
formats in industry graph MLG MLS song
and we also provide flat that define a
flat file format that's very useful that
you'll see later and then finally we
also do a support integration with
Apache spark and offer a couple of
options for which on ways to work using
Apache spark data frames combined with
either graph graph types or graph
analytics so now I'll hand things over
to a libéré kind of model and how to
design your graph Thank You Gina
so as a title of the session says it's
all about modeling graphs and
constructing grass I'm going to talk
first about how do we design a graph and
specifically how do we actually go from
data which in our case will be largely
coming from a relational database into a
graph and then G will show us and
explain as well using code and I think
also a demo how this is actually done
practically how do you actually move the
data from relation database into the
graph we designed right so graph so
didn't talk about the graph data model
we we we know the architecture will we
have grabbed the graphs can be stored
anywhere but what's the graph the graph
is essentially something that is
represented network platforms and has a
set of vertices these are the circles
you see there and edges that are
connecting connecting these destroyed
also vertices and edges other
terminology we commonly use but
sometimes also sleep and I'll talk about
nodes and links it's the same thing now
it's called a property graph because
each of these entities so edges and
vertices have attributes like a vertex
representing your person would have the
name or the person the phone number
relationship and edge would be something
like my person owns a bank account and a
bank account numbers so where are we
using this well first solo obviously
these social networks LinkedIn Facebook
Google Twitter on Twitter for example
who tweets report who is following who
who retweets or tweets who retweet with
a comment who tweets and who likes a
tweet that our Facebook same thing
financial networks fund transfers who
transfers money to whom who owns which
company and a good example that is
something you probably know that's the
Panama papers and really Brandeis papers
what about fraud detection circular or
transverse dependencies as well a
complex system interactions having many
pieces that are connected together can
lead to very complex there are
structures are your ocular data
structures and connections and that's
also a nice way for doing that of doing
that so what are they popular well first
of all the data modeling is easy we will
talk about that of course how do we go
about out do we need a tools actually no
we don't need tools
it's whiteboard friendly all we need
essentially is a piece of paper a
whiteboard some subject matter experts
in a room and together they will easily
design the graph they don't need really
complex notions like a for example
normal normal phones and these sort of
things it's flexible also know pretty
fine schema so if you want to extend
certain vertices with new information
and be a Twitter handle of your
customers but you just do that to just
add a Twitter handle for those customer
don't have it what would happen well on
Twitter but they just won't be any
Twitter handle property we get inside
from the graphical picture that like we
see here any it can do a new anything
that you just talked about right so
that's what we're talking about is
essentially easy data modeling
whiteboard friendly no need for any
complex tools and flexibility now I feel
a bit closely in a more precise way at
what the graph looks like here an
example of the graph that graph is
actually an example that is being used
in many places on the web and this one
is
used by Tina pop the blueprints API of
Tinka pop which is one of the ways to
access blast so here we see circles
typically root edges we averted will be
shown as circles or all those the
numbers we see a unique identifier
because we're after a unique identifier
typically on number in fact we want to
get numbers same for edges they also
have unique identifiers each vertex us
in and out edges so we have ours
pointing to Rohtak these are in coming
edges arrows coming out are outgoing
edges and each vertex has a collection
of key value pairs like here we see the
orange vertices products so that's
something called lot by Opie with in
Java
there's ripple written in Java as well
and the green ones are different verses
there are people told him we have a name
in an age so the language but a name is
different you name a person they were a
product and the real ships on the edges
indicate what these people and product
like together for example here the blue
ones indicate that Marco created the
poet called lot where as Josh created
the protocol ripple you also see so you
see created you see also knows these are
like social networking ships or Marco
and George know each other
you also see something called a weight
away gives importance to a phone edge
the higher the weight the more important
edge so you can say from here that
probably Marco and Josh are very good
friends it's a high weight whereas Marco
and vadas they just know each other not
not necessarily very well for product it
probably indicates the contribution that
each developer gave with bigger product
right that's the actual more more
practical shape and if we compare a ship
with grandfather we design well in
rational friendships are implicit
two primary Frankie's in a broadly
explicit there's explicitly and include
link between A to B as something that
connects these two
vertices relational data modeling
typically requires technical expertise I
mentioned normal form first normal form
second demo form now primary key is
Frankie's earthly Authority with the
grapple that we don't relieve that we
don't need that we don't need to have
somebody we can just go ahead and and
start drawing things on a whiteboard
that's again what this means for to for
a rational well we do provide tools and
Oracle it's the sequel developed a data
monomer with graphs we don't need
anything with there are no truths and
cottony just use a whiteboard
racial scheme up the schema is captain
data extreme database grapple does not
have in schema there's nothing written
anywhere it's just down on the fire
application of course still need to be
aware there what properties exist but
they can add more properties on the on
the fly and create new vertex type from
the flying register on fire and it will
also has typically a strong dependency
between atomo as you probably all know
getting a change into a production
system that would be something like
adding a chrome to a table it's not easy
to do it's easy in terms of tools but in
getting it into production that requires
you don't do it that's a DBA doing it
and then that goes into testing go into
production but with graph we don't have
the solid dependencies so any
application can just add and change the
schema meaning having new properties and
maybe changing properties on the file so
we are in a flexible word here however
how do we go from there okay how do we
go from but relational data model like
here we see three tables people's
memberships and departments to something
which is like a graph on the side well
there are steps we go through the first
step is that we need to understand them
etymology me know what we are talking
about we need to know what are the
entities like people departments would
that be like programs for for tables or
columns if we talked about dependencies
is it something accounts companies we
need to know what what they are of
course and we to know what are the
attributes and which ones we need we
don't necessarily want to carry all of
the action
use of say a person like a customer into
a graph maybe all we need is named and
the age and maybe the Twitter handle
wenona certain need to know each a
locker birthday or something else the
same thing for airships what are they
they are like men membership back here
somebody belongs to a department could
it be people-to-people or somebody knows
someone else that Iraqis attributes
stardate locations done visa so we need
to understand also data model we also
need to think about what we want to
achieve if depending on what we want to
achieve our graph model might be
different do we want to do like
navigation pattern matching analytics
finding the most important or the most
influential person the social graph is
not a self same thing as finding which
assembly needs these particular sub
parts and hard dependencies assembly ok
so we need to know that but like an
example here that we see is in this case
we have Tom works in the sales
department so should we have Tom man as
an entity as another vertex sales of the
vertex and an edge linking Tom and Sarah
say tom is a member of sales or should
member of sales be just a property of
Tom ok be semantically differentially
the same but only the first one will
allow us to do navigation the second one
will not we are just using an attribute
as a property of vertex then we build
the model team typically rows in a table
containing but we become vertices column
become properties will shift big from
edges join tables become really cheap as
well like in a relational model in the
end to NK like here people and
department membership the membership
there is really like a drawing table we
don't need a join table we can establish
a link directly from people departments
we don't need to materialize
and once we have done while we build our
graph we populate the graph as well and
she will show us how we do that and then
we try some ethics and we look at the
graph and we see that well that's not
the right way we need to change this to
maybe split birth in different category
maybe mislead people into while people
could be employees and customers maybe
the only word for separate vertex time
for employees the one for cousins and
one for suppliers maybe that's what your
own loop in that case we just change on
graph and try again and nothing is
really cutting stone here so let's look
at an example here I'm going to go
through some example and steps on how
this could be done and for that I'm
going to start by using a simple data
model the one that comes with pretty
much all Oracle databases is the HR
schema that has well jobs employees
departments where people work where are
the departments and also a job history
about what jobs people used to do now
how to make that simpler let's make it
clear like this and so that's what we
have so jobs so jobs can be held by
involve more employees employees I read
themselves because I'm pleased
some are managers so they manage other
people an employee works and department
implicants or manage the pump so all
these arrows are just all logical data
mole or references or integrity between
our tables right now let's remove job
history
job history here shows all the history
of all the jobs and let's say we don't
care about that I don't really care too
much about finding out what we were
doing I want to find out what are people
doing right now so I have jobs them to
East Department locations countries and
regions this is how our graph could look
like
okay so jobs the jobs table became
becomes a job vertex so did we actually
dropped vertices here we just saw couple
of the class of virtual which are which
we call jobs
employees departments vocation noticed
are removed countries and in region the
we don't need that you don't really to
to do anything with countries or find
out you know trace from countries to to
location we are just going to roll these
up as properties in locations so
location will have like at some
identifier the name of the location
maybe a city somewhere and then the name
of the country name of the regions well
right and so that's what we we will have
as a probable data model grab data model
that is like a human resource or job
people and for each departments and look
at nonprofits in some country hundred
properties if we want to use history I
remove that clever you removed job
history
Efram lot it's possible it would mean
that we then expand probably most of our
if yeah I would say probably most of our
although edges with the start end dates
that then allows us to do target what
people did in the past and when who were
they reporting to etcetera so trace the
flow and a history of of jobs if the
club did make up queries a bit more
complicated because we to consider this
mr. dates and from two dates but if you
don't need up you just don't don't have
it no something else we may want to do
like I mentioned before maybe we don't
want to keep a single vertex Tanforan
please maybe you want to split managers
out a separate vertex types but what we
do here so will now have employees and
managers managers employees a manager
heads the department and manager
managers other managers so that we can
know we build the complete erratic on
infrastructure about country who works
on with no that's again it's a sort of a
simplification because as we at least we
know ago or anybody works for a large
company know that there are hierarchical
relations but also dotted lines where
people report to other people out of a
hundred functions this can also appear
as another age not that we make it a
very no it's a very nice way to
understand this sort of not erotic
arrangement but more like cross domain
villages
there is add something else which is you
know day tomorrow let's say we also have
projects so what we see here is a
project stable and also a link tablet
with employees employed because nobody
can work on many project at the same
time nor do the projects I worked on by
multiple employees in our graph that
becomes something like a works on
relationship between employee and
project ok notice the link table the
jointer has gone we don't need anymore
we can establish direct connections
between employee vertices and project
and maybe you should also I want from
management because of the man I just may
actually work on project DSi on projects
that's one example and it's a graph so
we can show things a different way this
is like the same graph there's no change
it just shown differently in the nodes
that Sonia verses are playing in a
different way and maybe that's more
readable now that's also an important
aspect of graph that the way we design
it like we design it here and the way we
represent it are not very important in
fact the graphical representation of the
graph will really be controlled by
viewers like Jeanne mentioned cytoscape
there are all the viewers all of them
come up come with the algorithms that
are so pretty fun with that it will show
a graph in various ways like in a
circular way in a matrix way a second
just to make it more readable but you
can see that you have many ways of doing
that let's go quickly to a second
example this one is order entry it's
very simple we talk about customers
customers place orders orders their
water lines and all the liens concerns
and products or products appear in
multiple other lines and our notice can
have multiple elements the graph here is
very simple its customer purchase these
particular products so again we don't
care about orders or all the lines we
just care about customers purchasing a
product and that allows us to do things
like
product recommendation by turning is
brought in to a bipartite graph where on
the one side we have consumers of the
product or service and you decide we
have the product or service itself we
can now determine using latex functions
what product to offer to customers wave
both to the products typically the kind
of thing to see from Amazon in order
online and stores so here or does not
appear because we don't need them but we
may still retain the identity of an
order inside that that relationship like
the older number possibly front and that
definitely be the quantity purchased the
date of purchase that may actually
impact or or sorry or perform in a
flanger and on the final example I'm
going to use here is a very close to our
database it's actually looking at
something at all databases here that we
have in our database
that's the DBA dependencies 6 review
that one is something which links
together all the schema objects in our
database we tells which schema object is
quality we don't know enough example the
table has a column the review is better
a table the table is connect to another
table to Frankie's table table et cetera
and here the data model is very simple
its object depends on but again we may
want to make that clearer by expanding
have multiple different kind of schema
dive use so if you can have a view on
itself with you on other views or you
can have a table of course a table
references one or more other tables
watching one table through Frankie's
index has been in the connectional table
in the tables columns and a column uses
certain object tag and you can explain
that not that is going to be very useful
to find out what happens if I was the
impact if I change a column type in one
of my tables which
the tables will mainly changing which
views may be impacted usually bringing
things like programs using which table
then we can easily find out what happens
and what's the impact of changing
something no in OIT in that this is
typically used also for IT firfer to
itself so which applications run in
which application server on which other
on which VM how are these VM hosts at
are they connected physically together
and then you again using graphite let's
find out for example a critical
component single single points of
failure which which equipment on which
application which module which lost
servlet or whatever which which module
which piece of JavaScript is critical
because it's used by many others and
others many knocks all right so that's
my past so that was about how we
actually design grass how we go from
relation to drugs now I'm going to hand
over to G who's going to show us how we
actually construct at the ground so how
do you actually go from the data studies
database and move it into one rather the
boundary design degree okay thank you
so let's talk about
of the details of the graph construction
action ISA we offer quite a few ways
they're all pretty simple on we started
with you know using Oracle data
integrator ODI to construct a graph and
also populate the graph data sort of in
one shot
for people who are familiar with the
Java programming api's you can use the
data access layer dull so we offer ways
for you to insert or remove vertices
edges make copies whatnot um we also
offer utility functions so that you can
for example convert a relational data
source but it'd be the view or table
external table what not may convert that
in one shouting into a serialized format
okay
in the similarly we have a utility for
CSV if your source data using relational
tables abuse then one easy way is to
directly populate the underlying schema
table for a graph right
using sequel insert statement so that's
the one of the most inefficient
approaches if your original data chasing
the database already ok so let's start
with the first one Oracle data
integrator so you may wonder why do we
use the OD I um that's funny it makes a
lot of sense if you think about that way
data integration right um in order for
someone to perform data data integration
you have to examine your data say two
tables right and find out hey this
column and that column right across
these two tables they seem to be able to
match okay or maybe after some
transformation that can match up okay so
that's where you do the integration you
do the transformation um a graph when
you think about a graph modeling like
our bure has suggested but you need to
examine the data and then think about
what relationships right can be
established between two two related
entities right so there's just this sort
of you know you have been inspect your
data find similar items and try to draw
relationships this is pretty similar in
both deep integration and also in graph
modelling
a quick word on ODI um some of you may
be familiar with it already but this is
a very nice tool which offers very high
performance bulk data movement okay um
it can do parallel data transformation
move data from one data source and push
them quickly into Oracle database into
the shape data you need
it comes with many tribute modules those
are really powerful for example you can
fetch a data from HBase Pig scoop just
made me feel right the disk is on the
screen as you can see there are many
menu
for our purpose okay we use ODI as a
tool okay to read data from different
data sources
our target the target here is just a
underlying graph schema there's a table
definition for example for what this is
all four edges right so we know the
target shape of the data and ODI offers
a nice macking okay using their UI a
user can generate the mapping from the
sauce and push them into the target
which at the graph format and master
step is do you simply execute the
conversion and the for the purpose of
this upcoming demo I'm going to use a
payment data okay as the data sauce okay
this piece of data is in CSV format a
comma separated values and then it
records all those transactions right
between buyers and sellers it's a piece
of real world data that we got from a
attacks the department okay
but all those sensitive names have been
obfuscated
now without further ado let me show the
demo and can you see the screen okay
yeah looks good okay so this is the
Oracle data integrator UI you can run
this from Oracle public cloud you can
also run run it on your local computer
on Prime okay
this interface you're looking at is the
studio of the eye studio 12c
we start with that you know creating a
new of a new project okay and then here
we define a model right there as I
mentioned right the data sauce is from a
CSV file right so we have a graphic
instruction from fire
the sauce payment data is a CSV let's
take a look at this payment data name is
payment and CSV write the name well I
guess most of you have dealt with CSV
before
you see enlightening organized CSV okay
we have each 9i contains a record and
then the immediate limiter which is a
comma in this case the delimiter is is a
tab so this ODI has a nice way for us to
specify you know delimiters which is
quite important
okay and then here let me pause for a
sec okay oh yeah I can read this CSV on
fire
I will we provide it to the tour there's
the disputing reverse-engineer function
which can read your data and identify
potential data types okay
the original CSV doesn't have many
meaningful headers so it's a column 1
column 2 all the way through right as
you can see there are many many columns
okay normally the data types is pretty
hard to be identified okay but with
reverse engineer they can easily detect
hey this is a string this is a numeric
value
so in this particular case we care about
column three which is a represent the
buyer is the integer as I mentioned is a
faceted variety of the real names in the
column six the seller which is the sort
of the integer identifier three of
individual
okay so let's move on
so here we can customize different names
the interesting part here is you know as
in many real-world situations right the
soft data comes with noises okay the
buyer and seller those are supposed to
be integers and they are indeed integers
for 99% of the cases but there's some
noise okay so here we choose string to
represent buyer and seller and we are
going to convert that on the fly to
mount integers and throughout illegal
barriers down the road using ODI and
that is really important filtering when
you are dealing with ETL or pipeline
now we inspected the data the data type
right and we can inspect from moody I
believe we can take a quick look at the
data what data look like right so this
shows the the column 1 column 2 column 3
column 3 we have already relating to
buyer okay so in this CSV file there are
many many many columns like C 2 array
contains some sort of dates
yes some other columns recording among
of the transactions but for the purpose
of this graph construction we only care
about the buyer and seller
now let's create a destination market
rate we have inspected that the source
data the csv file we declared the
delimiter and then we inspected the
piece of the data okay so now we need to
define a target like the target is a
relations by the edges between buyers
and sellers so I have pre created a few
columns
so is this writable so the source of
attacks I detest making but XIT as a
label and the key value pair that the
body portion okay
so there are four simple columns
illustrating sort of the relationship
between buyers and sellers
established create a macking and let me
pause for a sec here this is a very
important
okay so using ODI right that's a
graphical way you can putting the buyer
at the sauce here okay just the the the
Box on the left is called pay the target
is the edges relationship right there
for columns okay now we create a
pipeline basically from this source data
pay on the left to the relationship
right on the right the graph edges on
the right
we are going to map the buyer to sasebo
tax ID as a PID on the right hand side
we're going to map seller to the DB ID
destination vertex ID okay
you know all this a nice ending izzi was
a you know very intuitive UI
so after they book here is the constant
because the relationship is
straightforward it is purchased by by a
purchase something from a a
from masala okay now here comes an
interesting plot there's a filter
between the source and destination why
do we need that right as I explained the
noises in the data the buyer and sellers
are supposed to be integers throughout
way from record one to the market record
but unfortunately they are noises okay
and ODI has this capability right we can
specify a filter this can be a stress
equal expressions and here we are using
very simple circle function to convert
in a stream body to a number okay if
you're familiar with sequel you know
this two number way here we catch
exceptions if there's anything wrong
with data which is economical I'd like
to point out that we use this parallel
enable and deterministic so that this
function can be executed in a parallel
single statement
and this kind of flexibility ready to
specify the data cleansing as part of
the workflow part of the GTL is really
really critical for real world
applications
please speed up a little bit so now
after
we're done with the the Macan way we
define the source data CSV we define the
target is a relational table with a few
columns now which is wrong it okay and
we get all this data populated into the
targeted table right which recalls all
the edges between buyers and sellers
okay so we can check the conversion
progress using this nice UI
and this done okay so now you may wonder
what does the destination data rate the
target data look like
so for that we use sequel developer we
logging as Scott tiger
into the same database so the scarred
schemer now hold the graph data with a
single very simple simple statement you
can check all those relationship
regenerated by oti
I hope you can breathe the font the font
is big enough right so let me explain
quickly so this is a target table that
is being populated right from the
payment CSV data by ODI so you have saw
what exid which weapon represents a
buyer you have DVID which represents the
seller you have the relationship
now I'm going to switch back to the
slides
and you may wonder why do we do this
kind of a graph modeling okay once you
have the graph but you can actually lay
it out in the wrong analytics so this
slide shows me exactly same graph I'm
constructed from that payment CSV and
you see all those transactions right was
modeling a model by edges and it can
easily identify some interesting
patterns a circular payment in this
graph we're going to talk about graph
visualization and graph analytics in a
future session now let's switch clear a
little bit to talk about you know how
one can use it excessively a Java API is
to sort of incrementally create a graph
it's really really simple you get hold
of an instance of Oracle profit graph
this is the main Java class then you say
hey I want to create a new vertex using
the add vertex write in blue color here
okay
and then you set of properties key value
pairs here named equal to something so
this may be an employee so there are
there is a hire date then you add
another vertex then you can add an edge
between these two vertices so you keep
on repeating this process and here
you're done with your graph modeling and
finally you can export it out into a
flat file back into two flat files or PB
and ope okay and then you can bring that
file and load it into a different across
database um I'll just run some further
analysis well that you know this is
really convenient however sometimes your
data varies from a different data source
say a high table right and then you
define a external table on top of the
hive in that case you can read say the
from a sequel query in this case we
select from employee table it could be
the actual table that albero mentioned
right we select a few important relevant
columns and then we restore the data and
as we are reading through the data we
just created with the system edges on
the fly okay and then by the time you
finish reading through all those soft
data you can commit the changes and boom
we you have a graph but it's go
so this just to hear you you know if you
listed the vertices right we just add it
right so this is the one civilization
you may see on the screen and if you
serialize this graph into OPV or ope
then at the bottom of this screen you
see a few sort of a tiny snippet of the
serialization format
now if the data is in the relational
tables or views then one can easily
generate a profit graph the dot OPP and
ope form using the utility function we
offer and the idea is very simple you
identify the columns you want to map to
the profit say you have a employee table
right which it has a main column and
that name can become a property and you
define this this is emerging okay not
from this column through a coffee you
define such a mapping using Java class
column to attribute mapping which the
name is shown in the franchise's in the
in the bottom of the screen and then you
invoke the utility function we offer and
boom do you have a graph so this shows
you the output rate and lastly you have
a relational tables and doing by doing
this mapping and invoking this API you
get a graph in civilized format
so the key our method is convert our
DBMS table to OPV this is to convert a
relational data source to vertices
there's a very similar API which is
convert our DBMS table to OPP okay so
this example is really very intuitive we
just declare out well I have a name I
have joined it I have location and you
call this API this kind of run in
parallel by reading from the sulfated in
parallel without a a OTP little
efficient we also have utility to
convert from CSV into a profit graph I
mean the process is extremely similar
because if you think about it the CSV is
comma separated this is just like a
table ok so here you have the same
column accurate mapping and the method
name is a slightly different okay so
instead of convert you know how to be a
master so we have converted CSV to of
giving an open e file so the all those
details are documented in the Java Docs
and staff guide
as I mentioned right if the source data
is in relational database and you want
to directly populate the graph data you
can actually use simple um just very
quickly mm-hmm in order to stall excuse
me if the graph in Oracle database 12 -
or 18 1 we have two key schema tables
the top one is for what it is the bottom
one is for edges okay the structure is
very intuitive for vertices you have the
ID vertex ID column we have a few key
key and a wavy n columns represent you
can key value pairs okay similarly for
edges you have a edge economy which is
the the first column you have a soft v
ID it as measured by ID you have a label
year column and the rest of the columns
of representing Akiba
so with this kind of a structure you can
use for example a insert statement to
populate a graph data and by reading
from your source data could be a stone a
table could be a relation of view you
just use the insert statement to create
edges on the fly so one do you use this
way if the graph has really
sophisticated relationships like
modeling edges then you can use it
insert with joins right to represent
sophisticated is the newest obvious in
this relationship okay um I think this
we have about a seven minutes left um do
you have any questions on the graph
construction or we can maybe that a gene
talked about the resources the first and
then we open up for questions
gene sure okay great yeah that sounds
good again yeah feel free to enter your
questions in and just listing here some
resources for your further information
on our product website there is a vast
array of white papers we have trial
versions of the software as well as
documentation and many videos available
at the OTN product website also very
helpful for examples and tips and tricks
on all aspects of working with graph
both in the database and on big data
platforms are technical blogs and z has
written many posts with code examples
tips and tricks there and there's
content geared both for beginners and
experts there so check those out when
you get a chance we also have several
YouTube videos available now on graph
technologies I'm going to highlight one
there's a property graph 101 tutorial
that our partner
Arthur Dayton of Glamis software
recently created for an OD hub webcast
series
and that one some similar theme as what
you've seen today takes an HR data set
and shows end-to-end how to take that
from relational tables into our graph
models and to do some visualizations
using quite escape a lot of good
information are there's also written a
blog post at the flama site where you
can find a link from our horrible
spatial blog at the URL above for folks
who'd like to try to get your hands on
the Big Data version of the graph
technology there's also a big data light
virtual machine that's free download and
it provides a sandbox just to play with
both actually the Big Data technologies
as well as the Oracle database and there
are some specific graph oriented labs
that are posted and included with that
VM next slide please
Thanks you can also find our team and
user groups on social media so like if
you'd like to see what Z albear our
colleague our product management
colleague Hans and myself are up to in
the way of technology updates and
conference presentations you can feel
free to follow us on Twitter and we have
a pre active world user group worldwide
with local chapters as well so if you
type in Oracle spatial and graph
community and your search engine or
search on LinkedIn and Google+ feel free
to join those user communities or just
see what's going on and see what they're
talking about some great collaborations
there so next line see and then finally
here is again the landing page for our s
Tom property Graf's office hours as as
you know you know we've had two sessions
so far and we're planning our next
session for late May with the topic of
performing graph analytics so that's so
where you can really see how the annelid
capabilities can answer interesting
business questions for you in some
different domains the date may be
subject to change but it'll definitely
be toward the end of May latest updates
on that scheduling can be found again at
that landing page above we'll also be
posting the recording and slides from
today's session at that site and we
encourage you to check that out there's
a lot of feedback and questions
interactivity that can happen there as
well you can if you sign in there you
can send messages to our team and we
would love to hear from you on what
topics you'd like to see in the future
or just what experiences you're having
as you explore these technologies we
want to make this a resource to help you
in your development efforts so feel free
to send us any requests that you have on
that and if you sign up at that page
you'll get regular email updates about
the next sessions and the next topics
that are coming up</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>