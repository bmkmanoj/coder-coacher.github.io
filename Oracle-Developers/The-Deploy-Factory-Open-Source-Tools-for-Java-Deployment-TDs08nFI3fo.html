<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>The Deploy Factory: Open Source Tools for Java Deployment | Coder Coacher - Coaching Coders</title><meta content="The Deploy Factory: Open Source Tools for Java Deployment - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>The Deploy Factory: Open Source Tools for Java Deployment</b></h2><h5 class="post__date">2015-06-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/TDs08nFI3fo" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">we're going to talk about Charlie in the
deploy factory you know y'all I think
you're all seen the movie and read the
book we kind of choose that that version
of the author of the movie because it's
closer to the book if you haven't read
the book I suggest you do but if you did
see this version you've pretty much read
the book right because it's they're very
very similar and i have here for me
actually anagha here's one of the main
job evangelists in brazil and you know
international speaker has been spoken in
many conference or around the globe and
one thing that I like a lot about Edison
is because he is one of the defendants
of the software craftsmanship movement
when he believes that software is more
on arts then then just in just
engineering and I kind of side this a
lot of that I think that's a very good
idea so adds me anagha thanks Bruno here
at my side we have Bruno Souza the
Brazilian Java man the guy with the flag
you might have seen him around javaone
huh a couple of years he's also a
general champion one of the founders of
the java community in brazil and my
close friends so we here to talk about
continuous deployment using open source
tools yes and we're going to try to make
this fun maybe not with not the dog jack
alright so the first thing is deployed
right now you're going to talk you know
the whole the whole objective here I
think that's when II we talking about a
lot of times we forget as developers you
know that's that's our job is fulfilled
when actually it's actually deployed
right a lot of times we we work with
with the code and and it's like oh I'm
not so sure if the code is good so let's
let's not deploy right now we can deploy
a little later you know maybe not in a
month maybe six months and you know a
year and you kind of get afraid in and
it's you know I'll out worried about the
moment that we going to deploy the code
it's going to be a big thing and you
might go go wrong and I'll just kind of
thing so we keep delaying the deploy
process as much as we can like putting
in production right yeah we chat with
Tessa we make you run
in a small environments everything but
you know we keep delaying the deploy
process as much as we can and we forget
that is that that's what we do right
that's that's exactly when we get the
most excitement in and we are happier
right when we actually delivers code to
someone right even it's just your friend
but you know deploying is that is like
the main thing that's that they know
that's like the conclusion or maybe not
the conclusion but it's like a big a big
moment for our work and it's so sad
sometimes that we don't take this
responsibility that we led this to
someone else right there's another genes
actually responsible for deployment
there's someone else that actually gets
our code and puts in the plot and
someone else that go talks with the
customer and you know this is the kind
of things that we're going to try to
talk to you a little bit about how how
much is our responsibility how much we
can get involved on this process so one
of the things that you all know so we're
talking here about the the Charlie's and
chocolate factory and you know you all
know that charlie is one you know you
need to get a ticket to get into the
chocolate factory and it's just five
kids in the word right that can get that
ticket to come to come and join this
great things about the the I know the
chocolate facts and everything in the
deploy factory it's a different thing
right because all we're going to talk
here is about open source tools so
basically we don't have just a single
golden ticket right we have as many
golden ticket sexy one right everyone
here has a has access to all the tools
it doesn't matter if you are a small
company a big company if you're one one
person shop right if you're doing this
for you for your for fun or if you're
open source probably doesn't matter what
you're doing all the two is going to
talk here are all open source tools so
they can be applied to add to any any
project you're doing there's absolutely
no reason why we all should not be using
our tools to actually make the
deployment process a much easier and
much much nicer for us right so in
on the other hand if you are a big guy
for our big corporation of being you
know you have a big team the same tools
that we're going to talk here are being
used by very large teams very large
companies so you know you can you can go
across the board everything they were
going to talk here today you have access
to so you know just grab your your
golden ticket you know no need to buy
any chocolate for it for it and you know
you can come too if us and enjoy this to
the chocolate factory or I mean the
deploy factory okay and why would go
through the deploy factor there's
several rooms we all know the story
right there are several rooms and you
know you you have to pay attention where
you step on the only on the chocolate on
the depot effect on the chocolate
factory right otherwise you may end up
having big problems and not getting to
the end and that's the kind of thing the
same the same path we're going to take
you know you're going to try to show you
the good things that you can do that
that's you know deployment can help you
and we have to take care sometimes with
a little little problems because if we
miss step we might just miss you know
the big thing in the end right so okay
so first thing going to go to all the
rooms and the first room we're going to
visit the artifacts rooms right that is
the main the main room when you get into
the factory right that's that's where
you know you artifacts are anything that
you develop any any result of what you
develop right so it can be you know your
war file for development job application
sometimes it could be you know if you're
if you have like a PHP application for
example it could be a zip file with your
whole website and in it but any you know
your your binary results of your of your
work right here for your compilation
everything you're going to have an
artifact right and a lot of times I've
got some very large customers that when
we start talking to them they ship
artifacts around right the cavity
compiler source code and they put in the
email and central someone say deployed
news right well
in there right so now you know having
having the controlling our artifacts
knowing what we need to do with you know
with I mean not knowing where our
binaries are and are the result of our
compilation which versions of our source
code we put there is extremely important
first of all it's important for
dependency management right you know
there's a lot of time that you your it's
very rare that your application is
self-contained right you know you depend
on a lot of other things today every
single project out there depends on open
on some other open source library and
you know so you need to control though
that dependencies on the on the Java
world you know a lot of people use maven
for example such kind of control these
dependencies and download dependencies
so to manage all dependent that you have
is extremely important because if you go
into production and one dependency is
missing or a wrong version is there then
you know your occasion going to have
problems that you know something is
going to break so so it's really
important to control that it's important
for version stability also you know you
have to you know once you you have your
a version of your coffee or your project
right it's very common that people kind
of gets a version of the project and
then do some tests with it right and
then find some some problems fix the
problems and then that part that that
fixes can then go to the next stage but
actually the fixes weren't tested right
so you know you have to have some strong
stability to help to have the same
version being tested I mean going going
through the whole process so if you just
send things around now send emails
around if you're if you're war five for
example you don't know exactly which
version you put on tasks you don't know
what your version went for it for QA so
you know it's very important that you
track exactly what is what yes virtual
stability includes your beauty process
sometimes you have you have
a source codes use a couch a beaut and
you generate a net effect then later you
decide that oh this version is a stable
we got to put this version production
but sometimes even the butte process
modifies the artifacts that were
generated in previous buttes so if you
use a snapshot dependencies on maven for
example the timestamp you change the
internal voiceover change and sometimes
you the code that you tested in protein
testing environments didn't rely on this
particular variable so when you put in
production your code might break so
that's why it's important to keep the
same binary effects from the initial
integration beaut to the production you
must not keep is accusing buttes from
the same source code but in production
yeah there's there even so hello back
okay yeah so there's there's there's
even some production environment that
kind of suggests that you recompile your
whole source code right before you going
into production and they know then then
you missed you have the same problems
because they actually the code actually
go to production is is not even tested
right because in you know the
compilation ever was never tested before
going to production but yes I'm cloud
computing platform as a service
environments they say it's a good thing
you can just get posh and butter sure
co2 production but in fact we believe
that code that goes into production
should be a binary at fact that was
previously statuses not someone that you
can generate on the fly oh just one more
thing this is easier reuse right of
course you know if you know the version
of your of your artifacts and and that
in it and you can publish it's like I'm
internal library that you're creating or
even libraries that you download from
outside and that you have to recompile
early to do some things you know if you
if you can't if you keep these it makes
a lot easier for you to reuse reuse the
code that you develop yourself right you
don't have to every team in your company
have to recompile everything every time
they're going to need to reuse things
but of course you know that's the moment
are you going to do okay yeah we all
know that's very important to have a
stable artifacts but then you know
there's someone it says wow it's all
done and tested we can just let's just
build the production version right it's
very very common oh we test everything
we got to go to production let's just
reviewed everything right now and yeah
so that's that's the kind of thing that
you know the last minute thinking that
you know chose yourself into the maybe
not not in chocolate mud right it would
be good to perform chocolate guess or
you know sometimes they like we are just
everything's read everything there oh
there's just a little new version of the
library has just been released let's
just download and use that and go into
production with that and then you know
all hell break loose because there's
something wrong on that version you just
download so those are all kinds of we
know what we need to do but those are
all kind of the little things that we
think why on the process and we have to
resist the urge to actually do those
things or otherwise we're gonna miss the
opportunity so um that's why you know we
I think a lot of you guys whelming I can
just point he right so I think a lot of
you used a bit hbu tools like Gretel
maven and write all those tools have get
you know you can have dependency
management of those tools you know ants
a lot a lot of developers use an to a
lot of people you know about dependency
management maven that's that's very good
a lot of people use ends right and then
so but ants doesn't have dependents
managed there's a there's a National
Library plugin let's call Ivy that is
very good very easy to the dependence
management's that so if you use ain't
just you know just install IV together
with ants and it's very easy you don't
need to change your to change Maeve and
just to have that so you know you using
those things and we have two tools here
that our dependence managers artifact
managers right both Nexus and arch
factory are our open source tools that
they can track and contain control your
artifacts right so once you do a beaut
instead of having
or just having this beaut sitting down
the disk somewhere right you can
actually get this Butte and put on on an
artifact repository so the same way that
you get your source code and you put
your source code on on get or our
subversion on a source control
repository you can put your you be the
result of your buttes right your war
file your zip for PHP up kish whatever
it is your result you can put on axis or
arch factory and those guys will take
very good care of your you know if your
arc track you're going to they're going
to version your arch facts then they're
going to save it there for all posterity
so if you need to come back to a
previous version you can you have
exactly the binary that you use an
introduction or a task or on QA you have
all those things there sure and if later
we want to promote release robux or
release forwards the artifacts will be
already on the repository yes and that
in that way right so basically when you
do your butte you put the resultant
repository and then when you run from
your continuous integration server
you're going to run your pert
installation production you do not run
your beauty game you get the artifacts
from they were closed start every time
right so he's going to run create a test
machine you get the reports are from
from the artifacts from your repository
if you're going to do aq ologist surance
your or in our production or pre /
whatever you always get our specific
version from the repository that way you
know exactly what version you're testing
and if anything happens you know you can
generate a new version put the new
version repository and then cast that
again right right and it's not enough to
rely on Jenkins for example as a
continued integration server to keep
your add facts you know Jenkins can keep
your address fragile for every beaut but
we know people usually don't make
frequent back at backups of your
continuous integration service so that's
why you should put always your artifacts
on a proposed store manager yeah the
reports or manage this place that you
know you're going to back up this thing
you know you're going to make sure and
you know that's that's a
no no no sending artifacts over email
anymore please all right so so so we all
go through the first the first the first
room right and there's another one
that's the environments we've been
talking about production in QA in
quality and you know environments is
another important important room and
it's interesting that on the Chocolate
Factory you had the inventing room right
the place where where the new things are
coming out and it's it's so it's so
interesting because when we developers
we love new things right we love nirav
are trying new stuff we love to download
new libraries and new open source
projects and adding new stuff right so
so how does that affect our environments
environments are you know your your test
environments you're you're even a
development environment I mean like not
not your IDE but you know your
application server and database that you
running on your development machine and
then your your environment for test in
your environment for QA right so you
know all of those environments here it's
extremely important that they are as
similar as possible right developers
love to tweak their environments they're
completing their computers and you know
their IDEs and everything and it's very
very normal that's you know you have to
develops in a team with two develops and
they're both running different versions
of everything right you know and and
that means that the environment is
different and so it's very hard for you
to know exactly what the problem is oh
is that is that a problem because we
mess up on the code is that a problem
because the version of my is my c co is
different or is that a problem because
you know you're using tomcat and i'm
using glassfish right you know it's it's
harder for each one to transition so if
the environments are very c is similar
as possible then it's a lot easier for
us should identify where the problems
are right so so you know how can how can
we do this but yes and this we may have
experienced
their hardest problems that we face
during development are related
specifically to code but the the hardest
ones who get are the ones i provoked it
by different environment configurations
something happens on my machine and
doesn't happen in other machines or
happens in my machine that happens in
productions or vice versa right and i
only understand you know that's it's you
know you got like this complex
production server that you have all this
kind of different things licensee etc
and oh I'm gonna have everything in
everyone's computer we understand that's
not that's not necessarily easy but you
know making a similar spot as possible
it's an important thing right but of
course there's always someone that wants
to experiment something you right you
know how is someone that wants to get
the latest version of the gum that's
being producer right now it's not
totally tested right so some new version
of the application server let me just
installed it and make it you know we're
going to just test on these and well it
doesn't matter then our production
server doesn't run Java it yet i'm just
gonna run this right now right you know
that's we all love to do this but you
know on the other hand there's a lot of
times that we developers think oh you
know I doubt they'll ever let us use
this complex 10 machine setup that we
have for production on development we're
not never going to have that so we don't
need no that's not worried about it just
do whatever we can and whenever goes to
production we test it out if it works
right now it's sometimes people say
scarcely you know they're not going to
like it or just going to be time
consuming to recreate this environment
internally so there's always reasons why
we do not do not do this right or you
know someone goes there's an error going
somewhere oh don't worry it's just a
test environment you want you in
production that's what happen right you
know in production the environment is
different over there everything is going
to work and then you found out it
actually was a cold problem at the end
right so so the more we can help those
environments were you know similar the
better and oh there's a question right
there
great
alright so his question is the very good
question by the way that you know the
heart one of the hardest problems that
he has is that okay i can i can keep the
application servers okay i can keep the
version of everything similar but really
the data is completely different right
so there's a data for for my production
it's completely different from the data
that i have here we will talk a little
bit about data in a minute so but yes it
is it is a harder problem and the more
you know the more similar you can do it
you can do that the batter too so i'll
hold this question a little bit and
chewy talk specifically about data and
i'm going to give you some ideas but
then the loop a loop has come come along
to help us out right on how to solve
this and so here it's there's a set of
tools here that you can use on your
project today you know remember they all
open source tools oh we're not talking
about Jenkins here right on this
presentation but you all know this guy
tomatoes jake is this continuous
integration server here's the guy that
kind of that drives most of what's going
on now development process so he's
always there helping us out making
everything happens and we have a set of
tools here the first of them is chef
there is a tool there is a you know a
configuration managing to we also call
its infrastructure as code right because
a lot of times you have infrastructure
use your infrastructure is beaut by just
you know someone goes there and follows
the documents that you go in and you
install Linux or install windows and
then install the application server and
then you go install the database and
someone goes and follows all the process
right step by step and then he misses
something or you know the process says
yeah it's it's a static document that
says you know install MySQL version X
and the guy says well well you know but
this there's it's so old this version
lets you install the new one because
it's just a document is old but actually
maybe the document was right or
something sometimes the doctor is
actually wrong so you know this this so
based what we do is that we get those
tools there are configuration management
tools like chef
or puppets you know we're using Jeffers
example here but puppets another very
famous one one that I like a lot and
i've been using recently in a project
including through someone it seems in
the audience it's instable in spurts of
varies you know it's a very simple tool
that has the same objective all those
tools allow you to have your
infrastructure define it as source code
you know it's a it's a we gonna show a
fire right now right you have a note
yeah there's okay go go back one select
yeah so so basically what you do is that
you get you get the source code you know
you get you define your infrastructure
in a in a five there's a source code and
then you you run the provisioning
process duh whenever you need it to
create environment and so how are you
going to create environment just say a
chef puppets ansible and salt there are
all examples of provision tools that you
check in your source control management
too just like CVS gettin and subversion
that's why they are called
infrastructure as a code right so so
basically oops another tool is going to
talk here is that when you're really
going to build those environments i did
trip right wait where you're going to be
this environments another to that you
can use is vagrant right vagrants is
basically uses the visualization
capabilities of veto box for example or
or vmware and helps you create those
virtual environments for youtube for you
to run during development process right
so you're going to you're going to do
you know you have your definition of
what you want as environment on a chef
script or an ansible script and then you
need to start your development
environments right so vagrants is the
two that will get that definition from
chef or from ansible or whatever and
will create a virtual environment with
that definition for your de for your
development environment so just so sugar
so vagrants is also something that goes
on your source code so that's a that's a
duvet great file it's a text file that
has
you know basically right here
provisioning right chef solo basically
this line here it is saying okay create
this virtual machine for my development
process of my development task and when
you do this you use chef to provision
that machine right so basically vagrants
will use that definition from chef to
create an environment your our
development environments that you can
use right so also just go make one so
also vagrants will do what will get the
same definition to create your test
environments right I can hear you
I you fuse vagrants what yeah I'll come
closer because because I'm teacher aide
to the to the podiums unfortunately
sorry okay that's a that's a very good
question so he's saying that if i use
vagrants how do i integrate my ide to
this process right first of all when
you're talk about talking about the
vagrant screen your development
environment is not creating your you
know did your ide environment right he's
creating your server your development
server right so it's creating your abuse
server database etc hmm it's creating
your beauty server where you are you
okay in the vagrant machine you can put
your JDK version your maeva version the
stuff you used to tune in to your beauty
process right and then you can use all
the normal IDEs integration that you
know so for example if you want to do
debug on that environment right you know
your IDE eclipse NetBeans can connect to
the vagrant machine should do remote
debugging for example so that's job is
very good at that right in doing in
doing remote debugging and you can do
step by step that's no problem it's just
it's it's another machine using a
virtual machine running in your computer
right so yeah so there so yes you can
integrate your ID the other thing that
vagrant does it integrate your file
system so when the vagrant machine
starts up it gets the same directory
you're saving your files on your IDE the
same director goes into into the bigger
machine so you can save files in one
machine is going to just show up in your
development process oh yes it integrates
very nicely if the ID it's a share
folder yeah yes yes and so fake we're
going to be used to create the testing
machine also right so whenever you're
going to do your test you're gonna get
you're going to get Jenkins for example
to run your tests so instead of you
having Jenkins tassel on
over somewhere Jenkins can you start
your test recreate the environments from
from scratch as a vagrant Velveeta
machine and then use that to test your
application and you can automate a lot
more because now you have the full
environments being tested by Jenkins yes
yes so so vagrants so basically vagrants
going to use either chair for ansible
vagrant has very good integration of all
those tools there chaff vagrant puppet
and so vagrants can use the definition
creating those tools to create your
machine yes so so basically it will
create the environments from the
definition now the important thing is
that's exact same definition that
created your tests and you're developing
environment you can use the same
definition to create a production
environment right be it in a local
server or being a cloud server it
doesn't matta cazale where your final
server is but you can use the exact same
definition from chair for an sabor
puppet to create a production
environment what creates a very
interesting life cycle because you know
the guys they are worried about
production and it's interesting because
whoever words about production was
worried about different things than we
are right as development you know
they're worried about our performance
there were about security so those guys
can tweak the same the same files that
we are tweaking for development so so it
means that we need to do something
different for security reasons you do
that on on the chaff the finish on the
ansible definition and that's the same
thing that you use it for for your
development process so you know you have
the environments very similar now one
interesting thing that this this can
happen is oh but you know in my
production I have all kinds of different
servers for different things I don't
want to have all of these in my local
machine yeah so so you can both note
both bangla engine shaft you can decide
how you're going to you're going to
provision this so you can do like a
production environments where you
provision different machines and your
test environments you just
visually a smaller environment not
everything that you need so so you can
move along a new having more
sophisticated environment but all from
the same definition so this is an
example of chef so chef again so this is
a chef has cookbooks each one of those
tools have different so chef has
cookbooks ansible has plays right but
each one of them has their own
abstraction but as you can see here all
of these goes in source control right so
all instead of your definition of what
your production environment is or your
development environment is to be
something a document that someone
follows right it is really a a code
right there you're going to run you're
going to you're going to test it when do
i do develop you're going to test you
while you're testing it so when you go
into production you have a much more
tests and environment that's you know
that has evolved it a long time and it
is a live document right because it's
live codes going to run every time you
do a provision of your machine it's not
a document that gets forgotten and then
you know at some point needs to be a
chip to be updated right now one
interesting thing for his question about
data is that chef and so all of those
tools can also populate data bases right
so whenever you are doing your test
machines for example those those guys
here they can run your SQL scripts they
can run data import things they can run
a whole lot of you know database related
activities you know they can create
users they can update permissions
everything so they can they can create
the database from scratch and they can't
create like a test database for you for
all four tests purpose for example and
you can start with a very simple test
data but but of course you know later on
when you already have this in production
maybe you can have like I need some
import some some anonymous data from
your production to do this so those guys
will also help you I'll create we're
going to talk a little bit more about
database in a minute there's a question
here
you don't do that what what yeah that's
so that's what this question all right
you know you need different of course
you're probably going to need different
data for test and production right
because you're not going to you're not
going to get your customers data real
live data and put on a test machine
right but at least those tools will help
you evolve along the time creating you
know some test data that you can use
later one of the things that you can do
you already have a database right you
can you know make an export some some
production data analyze it and then add
those to those tools and then those
tools we recreate the database with that
that's sample data for you so you can
use on tests okay
the Russian beta the same thing I'm not
gonna treasure in that that's that's a
very good company no in we normally use
IBM's autumn solution for data no
magician so you can get the production
like data you don't have to spend our
time in creating the testator which is
difficult but you can sub set it so you
can get one set of customer data which
you want to simulate in the development
and staging the Romans so it says the
same data you get which is not exactly
them it as a kind of masked so if we use
the sub sitting okay cool so that's
another awesome is it to again IBM's
optum test data management solution okay
so IBM option is there open source right
okay well so that right so that one's
not but we're going to talk about one
that is open source right there's a
question there right a good question so
his question is how long it takes to
create all those environments that's
most all of these is virtual machines
right so it's you know sometimes you
can't create some a long time if you're
like installing everything from from
scratch downloading things from the
internet for example it might take some
time and we're going to talk about
another tool that will make this a lot
fast so we're going to get there right
but that is hold this question because
he has it is a good question if you you
know if you have to download everything
from the internet when you're creating
an environment you might take for it
might take ages right so we're going to
have another to that we have exactly
that yeah not only provisioning one
common complaint that people that use
vagrant have is that it's severe to
machines so you do not have the same
performance that you would have on bare
bone hardware so we'll talk about
another two that at least on linux
environment also can so this problem
okay yeah we're going to get there so of
course you get to automation right and
that's the most fun room in the
chocolate factory i think you know the
one with that does a lot of automation
while we all wish our automation could
be done that way right and that's in
that sorting sorting room where the
little squirrels are sorting things
right and you know let's
that's that's what our CI server does
right no he is behind the scenes
pertaining to be little squirrels doing
things for us right and we don't need to
worry too much about so automation is
extremely important i think you know we
it's you know it when you have things
automated you can do the same thing rip
out several times it out with much less
error what increases a lot team
confidence on the project you don't have
you know a lot of times we delay
deployment we delay making making those
changes because every last time you do
did it it didn't work very well but if
you automate things that means you know
you might might not work well for the
first time but they need to eat your
automation and he works and then it
means that next time you're going to do
is going to work again or has a much
higher chance to work again right and
one interesting thing is that a lot of
people a lot of companies especially
large companies wanted to formalize
everything right so you have all those
documents that explains you know exactly
how the process has to be done and
everything it's a dress actually all
those documents get outdated people
don't update and off once you automate
things then this it's it's much more
formal right because it's not a document
someone has to fall something that's the
code Xcode the execute so it helps a lot
to do this in of course we have much
less human error and adds likes this
phrase here so I'll let him talk about
it yes it's a phrase from continuous
delivery a book by Jess humble and they
Farley they usually say that if
something hurts you should it more
frequently and you should do it earlier
usually software release process is a
painful thing that that's why we tend to
avoid it the maximum amount a possible
amount of time and it's a kind of
natural sometimes you have a team that
releases a version every month but the
whole release process take about two to
two weeks we have on two weeks coding
and two weeks releasing the next version
what people do oh let's now we will
release eh version every two months and
then there's more problems the next time
you have six months a year you won't be
releasing software anymore
because you have a lot of problem but
it's counterintuitive because what
causes deployment problems usually code
modification and the more code
modifications that you batch in a
release the more likely it is for you to
have problems in your deployment process
so that's why we say that we have to
release more often we have to make more
releases when each release is a smaller
have small co smaller code chances the
chances that something will go wrong is
much smaller it will it will become a
much easier process yeah and of course
we all know this right refer that from a
July or no release early release often
you know we've we know the open source
works nicely that way right there's a
question over there
take it on in
well there are two different repeat the
question okay can you repeat it yes okay
so his question was you know if you have
to make a really large change in the
system that's going to take longer than
whatever cycle that you took 44
opportunity to develop is what do you do
you know do you do a you know like a
different two different versions that on
different time frames right or you delay
well your your release process until you
get that change done affecting the
continuous delivery book the day they
say about some some strategies when you
have a very very big changes changes
that Michael might go wrong you may have
you may have to structure a row back
release robach process but you know
release row backing is especially hard
when you have that light at the data
modifications on the structure of the
database so that's not an easy process
so we should aim to produce what
Facebook does for example where they had
when they have a really big changes they
split the deployment process from the
functionality release process so what'd
you say what'd you do you do in every
code you read you you're constantly
deploying you have the code in
production but the release is not toggle
to the user so the code disappointments
but the user can see it so and when you
for example add or rename another one
column usually you write the data in
both columns but you keep reading the
data from the old one so if some
anything goes wrong you can you can
quickly switch it switch back again to
read the in the data still it is it
still there so what does it what does it
mean to make it small releasing and
separate releasing function Alex from
the planning process it means that you
can put a software triggers if
conditions say oh if anything is
something is release it it will be show
to the user so that you can quickly make
a code fix any if anything go wrong you
can
make a new deployment turning off that
functionality so it won't show to the
user anymore another if I were scared I
think I think I think when you have some
very very big systems that I you know
you you have this partitioning now
sometimes you have some users are able
to use this new functionality for
testing purpose for example and you know
for like like Google does this all the
time and lots of times you get new
functionality on on I don't know Gmail
for example but not everyone sees that
you know so you can you can do that you
even gmail and facebook used canary
deployments which is to to go some
function Alex for a specific group of
user or users and if anything goes wrong
you can just turn it off for that group
your user and a large base of your users
won't be affected by the bugs okay so
but of course this is all good it's very
very good things that's that we should
do we all aim for but there's always the
problems of what exactly is going on
next right so you know there's always
something that says oh it's just one
change in that class I just going to
upload that directly to the to the
server I don't know how many times have
you done that before right it's just
faster right oh no I'm gonna spend time
automating is more work to automate than
choice you just go and do it right then
when you do when you're a hundredth time
you know it's you that's very funny
because there's lots of people you've
done that thing a hundred times because
you always say oh it's too much work to
automate but you've done a hundred times
there's a lot of time you lost and then
you say I already did a hundred times my
hands I'm just going to continue doing a
hundred times more I think you know we
have to stop at some point right and
then no no there's that very easy
database change right it's just one
table i'm just going to connect to the
database do it by hand that's not a
problem right it's not not and then you
know once you do this and you do this in
your development environment and you
forget that you have to change in your
production environment and you know all
things gone yeah somebody always forget
to send email to the ops team thing oh
you have to issue an outer table right
yes
right oh no it's only this time next
time I will automate but only this time
I don't need to automate right so yeah
ok so now please do not follow those on
those straps right yeah ok so that's so
we have a set of tools here they can
help us out of that one you know we're
just first of all we decided to put go
on this slide here go is it's doing
exile in this light specifically exactly
the same thing as Jenkins does so go is
a new not yield but it has been recently
open source it's it's the the continues
the delivery and continuous deployments
are two from thought works right so you
know we don't you don't know how much it
will catch up and how big your
communities going to be but it is an
interesting tool is target for you know
it's it's a continuous conscious
integration community delivery tool that
its target form this more or less the
same area as Jenkins but it has some
different ways of doing things and I
think it's someone that you should you
know you should keep an eye on and see
how that the open source project evolves
because it's an interesting one but so
just based doing our continued
integration thing here we have two tools
that we going to talk about here that
will talk about the questions that you
guys asked one of them is Flyway so yeah
so fly way if it's a tool for database
migrations so you know I'm a lot of you
got a lot of us have seen how you can do
migrations on Ruby for example and say
oh you know you don't have that in Java
as we do right so flyweight does
migration of your database right so you
can migrate next so you can migrate from
any version of your database like from
the empty version to the first version
or from the AMG version to version two
you can migrate your database from any
version should shoot another version so
you can and again all your database
creation process or your test data they
can all be included on on on Phi way and
then fly way we'll keep make sure that
whenever you run the things in
production you know you're
right version office so you can code
your database also as text files also as
your source code so you have the
migration of the database integrated
with the migrate with with the version
of your application that you have right
so that is a good way to and and Flyway
can load test data for example Flyway
can be used as a common line tool so it
can be added into any automation that
you're doing that has anything related
to database you can also know he has an
integration of ants with maven so it
works very well it's a it's a java-based
too by the way and he also in Kim can be
it's it's also library that you can add
your application itself so if you have
an application that you shift your
customer and you know the next version
needs to update the database so the
application can do it while it's running
instead of a common line tool so fly way
it's a very interesting too that can
they can tack a little bit about the
database issue that we ask there was
asking before and the other two this
kind of activity it's Packer yeah so
pecker it's like a one line is a common
tool that you run during your beauty
process one thing that he does you know
right now a lot of a lot of the things
that we are doing is cloud computing is
visualizing environments and one thing
that's that's that we have when you have
a virtual environment one cool thing
that you have is that you can have
snapshots of your environments ryuk you
that's basically you have images right
so so instead of creating the machine
all the time like like fabrizio askin
you can have an image that's pre-dawn
with everything you need but then so
that's the we all know you can do this
on tall computer or virtual environments
but then you have a nice obtained right
because the image is there it's static
right so if you need to change something
you have to create a new image out of
that so it no one does it right so
everyone just creates a base image and
you keep adding things little by little
because it's it's it's a pain to create
image all the time Packer takes the pain
away
because what pecker does it's a little
too T that gets all your information
from fragrant from chaff from ansible
for anything that you're using and
generate the image for you right it runs
as a common liner tilting the middle of
your beaut so at some point during your
beauty beaut it generates the image
generates the machine which everything
you need takes it snapshot creates an
image and then now you have an image
that's ready to run any time you
actually need it so so next time you're
going to need it it's going to run in
couple of seconds instead of instead of
many minutes the pecker cannot not only
pack your environments but you can it
can take care of your software defects
and and copy it still 22 to the to the
image so when you start up the image you
have your software already running it
can deploy to your tongue cater to your
glass fish and when you start the image
it's already running when we have this
environment where your software at fact
Italy with your environments already all
of them packaging in in an image we call
it a pewter appliances so we're not
talking about any more about the
environments and artifacts in a separate
way but we all we were all working out
with virtual appliances yes last
question here yes so basically put was
going to just complete was edge insane
because basically this question that is
saving this snapshot of the vm so
baseball Packer does it talks with
whatever profit no do you have our
different provider you can edge pecker
so each octave amazon or with with your
with visto box whatever visual provider
you're using and then you use whatever
that provider firm provides you to
create an image right so basically what
you do end result is an image of in our
vehicle image they can just be started
so it's not an instance is an image that
can be started as an instance right so
so basically it's it supports all kinds
of different providers you can add your
own provider if you want right and and
so that way whenever you finish your
beaut basically what you have is an
image right there can be start any
moment in on that image you have your
application server with the application
install
in it the database configured without
the data imported to it whatever
whatever you want in a you have an image
that when you start the whole thing
starts ready it doesn't need to do
anything anything anymore so instead of
instead of provisioning right what would
take a long time as fabricio a skirt we
now have a machine image that's ready
and the good thing is that since peckers
just so tillage that runs during your
butte you know and it came creating can
create simultaneously images in many
providers so for example if you let's
say you have your cloud strategy you
don't to be locking into a single
provider you can have Packer creating
the same image in several providers and
you can just start it when you need so
let's say your main provider has some
kind of problems you know let's say your
main provider had to reboot all their
machines for example I just happen with
some big provide right there you know
you have a another machine image you're
ready to run in another provider you can
you can use for it so it's it's a very
very easy to and it's not by the same
guys from fragrance so use all the same
vagrants things you know it's it just
integrates nicely with everything so
that's that's you know that's a pack of
definition right you see you have the
builders here where you have all the
different different environments that
you want to beauty Jeep back you're just
going to go and who happily during your
beauty process who happily do this while
you're doing something else all right 01
you just think think Packer generates
your docker container also right we're
going to talk a docking around in a
minute but back to generate your doctor
contain also
mm-hmm right so he's asking if Packer
needs to start from scratch or he
canceled ready start with with with
something so all of those all of those
those those environments they kind of
start with with a base image but you can
provide the base image right so if you
already have a base image that you want
to choose from you can you can use your
own base image right so yet they do need
like a base image just to start with but
you can puke and prove you can provide
that yeah usually it's a barebone linux
distribution or in fact we think that
it's a good thing to do provisioning
every time we've becker because you're
testing also your provisioning scripts
so you know when you have to deploy in a
new environment you know that does that
scripts will work if you have a base
image that you pre-configured you don't
know what we will be the new environment
when you deploy to its right okay so
we're you know we okay here right okay
so his question about security and how
to generate different passwords be
encrypted right yeah i'm going to talk
we're going to talk a little bit about
security in a minute soil when i talk
about that i will address that question
to you know you guys are always one step
ahead of us we just oh we're very late
come on let's go alright so people right
and and you know of course none of this
is going to work you if we if you don't
have people involved right and of course
here's a TV room where you know this
that's that's where we're going to talk
about DevOps right on TVs usually it
whoever's on TV it's complete different
than us here right so it's like a
separate word and we that's how we
basically deal on a lot of our
development environments that's that you
know the production guys are completely
separate from the development guys and
there's a huge movement right now and
alcohol
that's a development operation working
together and you know to try to remove
this mentality of we versus then right
and try to get everyone working together
right and and i think one interesting
thing is that we have to redefine what
is done right it's very common to
develop saying it's done right but
actually we all have to understand that
service is software running right
there's no service you know if you soft
is not running it's not a service right
it's not done it's not ready so you
can't say it's done now they have to
deploy it no and to its deployed in
running the hand of the users it's not
done right so of course it's very easy
to forget that right you know like like
the guys from simpsons like Homer simple
say so it's everybody's probably but
mine right no we have to change that
mentality it's our problem right or you
know so we say oh developing is gone
limeade Nate they need to solve it they
didn't or about secure they need to
worry about performance no that's that's
that and but the other hand from the
front of the operations guys they say
what the doubt the developers want one
that's not going to happen we're not
never going to let them have no not
never going to let them have access to
the root password right you're never
going to do this so we have to change
this mentality right and and so you have
to run a little bit here so so there's a
we're going to add one more to we
already talked about fly away chaff you
know Java all these we're talking we're
going to talk about two things here one
is is darker darker is a container tech
technology which allows you to create
virtual environments in an easy way I'm
not going to go too deep into that but
the other two decide he is run back run
tax the two that will help you on you
know the difference of the security part
of it because run deck is like some
people say that's like Jenkins for
operations right so run deck is an
automated solution for operation guys
and you know it can do all the kinds of
things that Jenkins does for us for
developers but you can do for the for
the guys for operation so because we
think about different things when you we
talked about automates on development we
automate our beauty
when the guys in production talk about
automate their automating the management
of hundreds of machines so it's
different different things so run back
is targeted on this the second used one
interesting thing for security that our
index does is that it allows you to
create entry points for 444 to run stuff
right so for example the operations guy
can create a job and run back that is
for example create a new machine or
change the password for the machine or
something right and that's run that does
that so so no one has the password of
the route to access the machine run that
runs that but round X exports this as a
job that James can call so jinkx can
call a job on run back then we actually
change the password for example on the
on the production machine or do
something in the production machine that
the developers would not normally have
access to so you separates note that you
actually give to the developers what
they need it out giving them the things
that you don't want to give them for
temple right so so that is a good way
yeah we little bit out of time here but
so so run deck is a guy that we should
take a look one miracle let's go so yeah
we talk about Chef you know darker right
so though so yeah so doctor is another
is that is a container solution docker
is something that you guys should pay
attention at its it is very good to have
several different environments running
in one machine selves very good to
create appliances for example is always
good to create much tanning solutions
we're just going to have to have
questions in the air now okay right so
and ok just so it finish this really
quick so we pass on our rooms right and
now as you all know the last when doing
the chocolate factory finish right you
have to go to the glass elevator right
so you know when you get these you have
a team that's focused for longer either
experimenting innovation you know you
don't have to to keep to keep waiting a
lot until you can deploy your
innovations what is very good for us
developers we want innovations to happen
right fail fast i often sir is a common
discussion around continuous deployment
right so so
the all those tools are going to help
you make this right more more productive
and especially no surprise is much less
risk for a project you know we can we
have all these automated and the results
of that is we get we all can catch on
the on the on the glass elevator right
you know we can have reduces stress you
know stronger trust of the team on the
project I strong a trust of the of the
customers on the project also much less
risk much more motivated team because we
need a more sex fat satisfied customer
so I do we have to rush a little bit on
the end but we you know try to answer
all your questions along the way right
so those are our contacts Bruno Ed's own
this our Twitter or email and we are
going to be here for the rest of the day
for installation thanks very much thank
you</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>