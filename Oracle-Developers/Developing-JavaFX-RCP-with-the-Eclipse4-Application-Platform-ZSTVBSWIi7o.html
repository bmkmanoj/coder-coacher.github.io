<!DOCTYPE html><html lang="en"><head><script async src="https://www.googletagmanager.com/gtag/js?id=UA-114897551-4"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-114897551-4');
</script><script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=5ac2443d1fff98001395ab6c&amp;product=sticky-share-buttons" async="async"></script><title>Developing JavaFX RCP with the Eclipse4 Application Platform | Coder Coacher - Coaching Coders</title><meta content="Developing JavaFX RCP with the Eclipse4 Application Platform - All technical stuff in one place" name="description"><meta name="keywords" content="education, coding, programming, technology, nodejs, mongodb, software, computer science, engineering, teaching, coaching, coder, learning, java, kotlin, machine learning, AI, ML, tech talks, angular, javascript, js, typescript"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/font.css"><link rel="stylesheet" href="/css/bootstrap.css"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/coder-coacher.css"></head><body><div class="container-fluid"><h1 class="site-title"><a href="/">Coder Coacher</a></h1><hr><h4 class="site-subtitle text-right">Coaching Coders</h4></div><div id="amzn-assoc-ad-99d6751e-2392-4004-ad16-73aa8385d9d0"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=99d6751e-2392-4004-ad16-73aa8385d9d0"></script><div class="post__breadcrumb"><div class="container"><ol class="breadcrumb"><li><a href="/">Coder Coacher</a></li><li><a href="/Oracle-Developers/">Oracle Developers</a></li><li class="active">â¤µ</li></ol></div></div><h2 class="post__title"><b>Developing JavaFX RCP with the Eclipse4 Application Platform</b></h2><h5 class="post__date">2015-06-02</h5><div class="container"><div class="video-responsive"><iframe width="560" height="315" src="https://www.youtube.com/embed/ZSTVBSWIi7o" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div><div class="post__text">welcome to the session about JavaFX RCP
on the Eclipse for application platform
eclipse 4 as well first introduction to
myself who anima my name is Tom Channel
I'm CEO of a small company located
Austrian Central Europe named best
solution I'm an eclipse commander and
various Eclipse projects so Eclipse for
naturally then the Eclipse platform
that's what underpins the Eclipse IDE
the framework EMF which is effective
modeling framework fidgety was about in
model modeling and models in general and
on the grilled chicken of the project
that we are using today called FX clips
which does all the integration of java
facts into the tips book it starts from
the tooling that you get an eclipse to
develop chop effects applications but
did they be using the runtime components
that we're providing which use eclipse
for to run the pure Java FX applications
so there is no high stability involved
anymore its runtime platform last chawla
text as a UI library so a thousand I
think Emma sees the routine anymore but
get all the benefits that we have in
tips
if this eclipse or platform which is
industrial probe and industrial proven
platform because the clips IDE itself is
running on this Eclipse full platform
itself so if you want to follow me on
Twitter that's my Twitter handle and I'm
doing regular blogging on Thompson path
best solution 18 so if you want to
follow what I'm doing what I'm up just
subscribe to my Twitter feed or to my
blog and you will get notified whenever
I have something new to tell ok so what
we're doing here this is a code happy
tutorial so I have very few slides all
the stuff that we are doing is bribe for
free on our github account so you can
tell the git repos I also have USB
sticks with me where the software that
I'm using to develop an application in
this tutorial is up and all the sources
that we are using so if we want to
follow locally on your laptop what I'm
doing here outside then get a stick and
copy the stuff on your left hand a
laptop and follow what I'm doing
so if interest I've put them to email
all these sticks around so okay so that
they first show you the application that
I'm trying to develop it for you so it's
a very simple application it has usable
too few 3d models in Java effects so
this is an eclipse for application built
on top of FX clips and it allows you to
open effects ml files like this one open
select it on the left hand side and on
the run if I manage to make the screen a
little bit bigger you can zoom into this
model you can rotate the model you can
look from it on yet from different
angels this is a child of X application
using Eclipse for Java effects
it isn't even has some nice effect so
when I click the door oh I didn't turn
the sound on so clicking it once more I
don't know about you hear that outside
but it makes some noise whenever I click
the door
so you can have very nice effects with
this stuff so this is the application it
shows what you can do with the clips so
for example eclipse for and chav effects
you can flip the theme on the fly is
nothing more than exchanging the style
sheet that we are using to render the UI
so flip the theme on the fly you can
flip the language on the fly
so for example this application is now
connected to Google Translate so it
sends all the levites dreams that I have
in this application to Google Translate
and I get back for example the Chinese
translations for Google Translate and it
really translates the complete UI so it
even translates all tooltips down here
so you can flip the language on the fly
using this platform that's a nice
showcase nobody you do loved with a real
applications google translator do
translations for you but it shows what
you can do with the clips for an java
thanks let's go get back to english here
is english then another nice thing is
menus flip in this case we call it
perspectives when you transition from
one perspective to another you saw that
it fades out and fades in so whenever i
switch to another stream it fades i can
even modify this guy so now instead of
fading it does swipe translation that's
good references once more and do a fancy
slide so now this is all features that
you get for free from Java FX + Eclipse
4 so this is the application that I'm
trying to develop with you together
today in this two hours of time that we
have this is what the sources are on on
the stick so
this is the applications we are
developing so I think does anybody in
here have ever used the clips for itself
to write applications right so you have
some basic knowledge about how it could
spool works anyways for those who have
not used the clips for what is Eclipse
for Eclipse for is a meal application
framework that we started to develop I
guess around 2008 we started to think
about how to bring Eclipse to the next
level so he had this eclipse field X
platform which was a monolithic big
thing and we had the idea to create a
new runtime platform and use this
platform to gather clips for which is he
when you're using it tips for year using
the Eclipse application platform for
which holds all the lessons that we do
with Eclipse the freehub eclipse free so
there have been many mistakes and a
platform like eclipse free and you tried
to learn the lessons and create a new
platform and so this new platform is
centered around two very important
things the first thing is it depends on
a user's dependency injection there are
no statics anymore everything you get in
Eclipse for application is provided by
the dependency injection container that
we have at Eclipse so you don't reach
out to informations using statics
anymore
if you want a service from the platform
simply add it checked into your poacher
and the framework will take care of the
service that they are using we'll get it
checked it into your application so
dependency injection and services our a
center off Eclipse for everything is a
service translation is a service
rendering is a service error reporting
is a service other thing that you have
in this platform is service and the cool
thing is you can exchange each each
service that we have you can exchange
for your own born so if you're not happy
with the service that we're providing by
default override our own service this is
what I've done to get the language
flipping going out to Google Translate
the default implementation simply goes
out and searches for properties fast on
the system using resource panel
mechanisms from Java but he can exchange
to service which does the translation
and tell him throw out the Google and do
it translate at Google so everything is
a service rendering is a service
translation is a service everything a
gallon except sport as a service the
second very important thing that we have
in Eclipse for is we have a solar
application model this application model
holds all information that you see on
screen
it holds the vendor it holds the menus
it holds the the views that you see on
screen it holds your key bindings
everything is part of this model and the
nice thing about this model it's a live
model you can compare it to a Dom in the
browser and ever you changed the Dom a
browser we reflect this change in the UI
and the same is true for an eclipse for
application and I really changed the
application law of the world learn how
to deal with that in a few seconds then
the UI reflects this change for example
if you have vendor and changed the whys
of it then the wife of the window has
changed so we observed the model and
wait
take those changes and reflect that in
the UI so the first and most important
thing about the clips for is in the
center about around at the I container
dependence injection container I guess
most of you know guru choose for example
offspring who are also dependency
injection for players accepts for has
its own dependence
so we wrote our own the I container but
it's a comfortable with
she is our free fruity which is the
dependency injection Gia's are so the
past the past week we support
additionally some of the annotations
that you get from Gia's are 250 which is
a dose construct and at least join which
help us to deal with resources so this
is very important let me talk about that
stability because an estimate tea you
always have to clean up after yourself
so whenever you allocate an image for
example we have two disposal it's not
that important for Chava vac so
everything is done by the garbage
collector anyways we support at post
constructing at pre destroy to get some
notion of a lifecycle of UI components
and we have some custom extensions
security I system for involved in those
extensions is that optional extension
which allows you to mark and dependent a
dependency injection field or non Yahoo
as optional which means if it's not
there it's not it's not another problem
just giving null instead of the real
injection rather that I want to have
this is very important in our case
because we are proprietor for example if
the current selection in the system for
the dependence injection container but
there can be a reason that there is no
selection in your whole application so
it has to be not so normally for example
to choose doesn't support that so
everything has to be resolvable for who
you choose there is no notion of null in
there as far as I remember and another
cool thing is that you can extend our
dependence injection container using
OSGi services so there is a special OSGi
service called extended object supplier
Brian if you supply such a set up to
supplier as those
service you can enhance our dependency
injection container so you can make up
your own annotations and teach the DI
container from Eclipse to deal with this
annotations we will see them in a sample
in our application so let me talk about
the I of the clips there are two central
components that we have to know about
the first one is the Celica I Eclipse
context the Eclipse context holds all
information that are available in the
system you can think of it as a key
value map so you put there a key and a
value and then you have an object that's
created from the VI container it looks
up all the values in this I Eclipse
content we will see that in the sample
that we are going to develop and the
second very important thing and many
people who are needed the dependency
injection always forget that if we use a
dependency injection container forget
about the new keyword you are not
creating instances of your classes using
the new keyword this is not the way you
go you are using a new factory d'Ãªtre
instances of the object and that's very
important we always use the complex
injection factor whenever you create
objects who are using dependency
injection we've all get dependency
injection if you use the new keyword
it's not we are not talking in the VM
and doing crazy stuff you have if you
create new objects you have to use
context injection factory mage instead
of that and a very cool thing that we
have besides creating instances of
object we have the idea to call methods
not by that name but through their
annotations that we can annotate methods
in a system for example an execute
method annotated with another
and then invoke this method using
complex injection factory in vogue so
you're not calling that that anymore but
you use context injection factory
invoked to invoke the method with a
behavior that is specified behavior on a
method using an annotation and then you
can call it using context injection
factory invoke we will see that as well
in our sample of your development the
nice thing about this context injection
factory invoke is that the parameters
that you passed then you have in a
method are extracted from a high Eclipse
context so they are once more looked up
into the eye container so you can add
them remove power rangers without
changing your code at all which is a
very very cool feature as you see in a
second ok so that's the theory
now let's go into the practice and get
up our Eclipse IDE and if you import the
git repos the projects and the git repos
that I gave you then you should have
those three panels or feel about
dependency injection and eclipse for so
let me run the application
just let me search first flip my
internal
switch to master so and around the DI
application it turns out my name that I
enter a language for example en and it
fails okay
oh it will go out the Google Translate
and Google Dutton doesn't let me any so
there is problem with this all let me
just change that so that it's not using
Google anymore try it once more
so p.m. and tammy bretz
the hello in English and let's do te
then it prints hello
once more in English and once more in
German this is the application that we
are trying to develop and now let's
switch to the non-working version and
make it work so what we have here the
first thing that we have we have some
services in our system there is a
greeting service which takes a string
and prints the greeting there's a
service called manage provider who
provides the language that you currently
have and the translation service which
allows us to translate strings from long
from English to another located for
example German I don't know French
Spanish whatever the service is able to
translate to which it provides few
available through a method called
Catholic hands those are documents that
are provided by this translation service
or supported so
this is the service definition and if we
are good citizens in OSGi they have one
panel holding the service definition and
be holding one to end panels who have
the implementation of the service so
here I for example have one
implementation which does everything on
the comment line the sister Virginie
lies in running just a few seconds
together and I have a second
implementation which instead of using
the comment line to get informations
using Java backs break up a Java fax
stage and get the encoder and I can flip
those implementations when running the
application so we have this application
service definition file and we have want
to add implementation of the services so
and OSGi or a clinics application starts
with something that implements the
interface I application this is
something that you can easily start with
acronyms it's an x-men credits extension
- who is joy it's called AI application
and what it calls when it executes your
application it calls out to the start
method this is comparable to the child
main that you normally have in an
ordinary child application so when we
want to use dependency injection the
first thing is that we have to create
something like an eye Eclipse context so
Eclipse context root context this flips
context Factory and there are as a
factory that allows you to create an eye
eclipse context there's one which takes
no parameter and there is one which
takes a so-called bundle context and if
you we are using the one with get
service context by supply activator
get context we get an i eclipse context
which is bound to the oil service
registry the cool thing is when it's
bout the moisture service registry every
service that we have in those jaws
service registry is available through
dependency injection so everything we
normally look up in the oyster service
registry they can't get through the
dependency injection okay so we have now
this ayah clips context which allows us
to store key value pairs so the first
thing that we store in there is a key
value pair of name so root context set
then we have name and in our case we can
store as many value pairs as because we
want root complex sent language is T so
we have now key value pair name Tom
shingle and language de for German
translations the next thing is that we
want to create an instance of an extra
in this case it's the language actor
which is ordinary Java class so when you
want to create an instance of something
I told you that you don't use normal you
would use the keyword new language extra
this is wrong where they using
dependency injection instead of doing
that did you use context injection
factory that makes dictionary instance
now case it's an instance of language
act applause and we pass it the route
context
this is the replacement for the new
whenever you make an instance use
contact injection factory making so now
we have a language actors then we look
at the language actor this language
actor is going out to our language
provider service to get information
about language we should use so they get
access to this language we use the so
called constructor injection so we
simply annotate the constructor with at
inject take this value down here this of
language servers in equals language
service setup and create an instance of
this language actor that the I container
looks up language service in our I
affect context and when it invokes the
constructor which is anything with
adding check it will fill out this
parameter if the value retrieved from
the I accepts context so it looks have
all the values in this ayah clips
context okay that's enough for language
actor next thing we need to implement is
we need to create a greeting actor
creating actor
contacts injection factory makes
tweeting actor class and pass it was
more the root context
they'll hear
so the greeting actor needs more
informations the first thing it needs is
a person the name of the person it has
to breathe it needs a creative service
which is a service it uses to print the
greeting or shall the Queen and it needs
the language it uses to do the greeting
so the first thing we want more use
constructor injection to get the name
personally
then it needs to creating service and
for the greeting service we use instead
of liquid use dependency injector could
use construct injection or field
injection or method objection
in this place for greeting service we
use at host construct injection so they
simply annotate this guy with those
construct void init method names are not
important
so he could name this method whatever
you want you can even make it private or
be using reflection because method said
anyways said accessible to true so you
could use private and the method name is
not important the important thing here
is to annotate the method with I chose
construct so we're not searching for a
method name we are searching for a
method which is annotated using post
construct that's what we are searching
and that's what we are calling at
runtime so this service is s and for the
language
for the constructor you have to you tell
you that you checked and for post
construct only post postdoc know I can
check them romantically my try to match
your arguments yes it does always much
arguments yeah so we are will be about
at the I container by definition always
have to use reflection convertibles so
because we cannot know what this ability
you children chosen we always call us an
accessible truth which naturally looks
fail in if you see either running in a
security manager system then it will
fail because we are using reflection so
you can have many it uses the one of the
most parameters tries to match all of
them if you cannot match them
it tries the next one it will only call
one of them as far as I remember but the
test I think we only calling one of them
but I cannot make favorites another
conversation I think that I said gates
well perhaps this is a possible in a
different way I think that the
yeah class I think we be able to admit
that we were trying the one of the most
parameters first if you can resolve the
arguments that you have to pass we go to
the next one but not 100% sure of the
test which by that yeah that's a good
political failure yeah so but because
you made more mistakes up there in the
constructor so we used person main
stream personally and then injection is
happening what we are trying to the
field trying to search now would be
something of key the key that we're
searching in I eclipses contact would be
Java alum string him him because we have
string here so we use the fully
qualified name of the class for
injection this is virtually not going
because you can't have multiple strings
in there so we have to have a way to
identify that they have want to have a
certain string and that's what we're
doing with death named annotation and
here we use name because this matches
the name of they have your left-hand
side what so then we have multiple
values default values at named two
stores information in the context so
that's an important feature or I think
that's part of the standard so that name
is part of Java X attracts all antennas
injection containers who follow cheese
our fishery the news at name in this way
okay for language here using method
injection Lloyd set language at inject
at mate language this
so whether the injection commander
creates an instance of this greeting
Hector it were first noted at the
constructor take the name value from our
Eclipse context and fill out this
parameter with Tom Shannon then it will
look at well what we are not using we
are not using any field injections then
it will look at the field and check at
my fields that are annotated and checked
we don't have any of them then it will
look at all the methods you annotate
this at injection I call those methods
so in this case it looks at the key
language in the context and calls the
set language method using the in this
case and after construction field and
Method injections are done it will call
at those construct methods so the nice
thing with those construct is that he
can be sure that all dependency
injections constructor field and methods
are done at this moment but just qualify
staying in the UI when you in normally
but it creates you guys you want to have
all informations before you present the
UI so normally you get all informations
using injection and then annotate one
method of ethel construct and then we
create a UI because you know all
services are injected all values the
before show our game it's a very nice
way to work with you honest so a very
important fact about an eclipse context
is that if there is not only one context
resistor but it's a hierarchy of
contexts and you look at an eclipse for
applications there is a context at the
window level there is a context at the
perspective
and there is a context in the few levels
so each view gets its own distinct I
eclipses context this context is a child
of the prospective context perspective
context is a child of the vendor context
this is important let me look up
information they try to find information
that you put in here on the child
context if you cannot find information
there they come up one step and look at
the parent to satisfy the information
that you're searching for
so there is a search hierarchy we start
from the local context and throughout
until they reach the top context which
is in our case this root context this
important thing
so let's trade a child wanted I Eclipse
context shout context injection factory
context injection Ruth context dot
create child
seller
this context is a child of the root
context so when we were searching for
the street for the key name he would
look at the child context and we cannot
find them there is no name barrio in
there so because we cannot find it we go
up one level and would search in the
root context for a name
okay so now we have a child conquest
next phase what we try to do is we
curate or we let the actors treat the
people so we have our Greek actor and
there is no method yet to greet people
so what we have to create in here is
and to greet people what do we need we
need a greeting service so greet service
service
so I'm wrong we need the translation
service the greeting service is already
checked with using both construct so
greet method takes a translation sir is
not the transaction service it's the
translation service Nations was this one
so first thing it needs to do is it
needs to use the service to translate
the language verge and word is hello it
needs to translate hello into the
language that we want to greet the
person
- aghh you system translation service
for that and afterwards it uses the
greeting servant of the this dot service
two three
Crete
translate Sara
Plus person name
so when we call the Greek method it uses
the translation service mitah gets
passed as a parameter and it uses the
greeting service which could pop got
past using the init method so Envy now
wanna call this greet this way we not
have to look up the translation service
ourselves but I told you instead of
directly calling a method because
instead of that use context injection
Factory in Dover in the which takes an
object instance which is how to it in
action not objected I wanna have invoke
look which is a greeting actor then we
need to specify what method may wanna
call which is an annotation in our case
it's the execute rotation then we have
the context we are calling it in we
could use our child context
so instead of calling the method itself
fee say the wanna call a method which is
annotated using and executed so instead
of naming the method we gave the method
MIT information and now we are telling
the system invoke a method they've had
execute and fill out all the parameters
from the child context from the I
Eclipse context that they are using for
invocation so we are not that the
calling method would be using the DI
container for it and now this
application should be running already
it does print hel-hello function so we
translated it well let's let's put a
breakpoint in here
so you know see we are coming from blah
blah blah blah here we go
from the start here we call our invoke
which invokes the greeting method and
filled out has filled out the values
translation service and the language
name and the greeting service and
prevents this information on the console
hello function so next we want to flip
the language on the fly so for this we
need our language actual and add a
message string request Lang
the turn language service cat language
once more
instead we annotating this kind of
execute so we doing the same thing here
we call invoke on the language extra but
this time if you look at invoke it
returns an object which is to return
value that we are passing from the
request language so we can store this
information string language in here
passed it to a string and we have this
information we store them in the clips
context root context dot set language
length and now something very important
happens whenever we change the key in
the I Eclipse context all injections are
done once more so we used method
injection in here whenever the key
language is changed in the ayah clips
context it will recall set language on
an object that God created using our
context injection factory make so the
the I container remembers all objects
that I created and recalls our methods
because the the new language has changed
it will do that for fields and you do
that for methods it will not do that for
constructor you cannot call it a
constructor a second time I will create
a new object instance but it can invoke
method and field injection once more
once the value is changing in the I
Eclipse context which is an important
thing
so now let's invoke that Street once
more
now we have created in German then we
wanna have a language we put in there
English and then we modified the root
context and now it is creating in
English as that of children this is
because the dependency injection
container called set language once more
and flipped the language so the
translation here would be not for German
but for English okay good I think we
will skip the other stuff and move on to
something more funny but the important
thing is this dependency injection
container is the center often Eclipse
for application so you have to have at
least a bit of an understanding how it
works so it is very important to
understand my clips for application then
have to you have to understand the I
Eclipse complex to really know what's
going on in the iock in that Clips
forward okay so back to my slides
now don't be or they
those lights are also on the USB sticks
so but they are also uploaded to the
presentation on the Oracle conference a
little high call it okay so next much
more very important thing about the tips
for applications is that we have the
central application model so this model
is defined to soap using the so called
Eclipse modeling framework and it split
in very two important parts the first
one are visual representations like
windows perspectives menus toolbars and
so on so everything that you see on
screen but there's more to it we also
have all the non visual stuff inside
this application model it's like the
command tender the key bindings and all
this stuff is part of this application
model and if you want to see is such an
application model you can inside your
Eclipse if you go to the contour free
this is the life application model which
represents your running IDE this is the
Eclipse IDE and it's application model
at runtime so it's quite cool because
you can interact with this model I said
it's a live model so let's go in here
and go to the shared elements so for
example here's the package Explorer you
see that appear when I changed his value
down here you see the value of the
package Explorer the name is changed so
this is a live model in Germany ever
they interact with this model then the
UI reflects all modifications that we
are making there so this is the
application model but in this case is
the application model of the Eclipse IDE
but for our our spirit occasion we are
creating our own application model of
course but
they'll do that in a second okay so
you don't have to bootstrap applications
yourself and when you use ethics Clips
we have some nice Wizards for you so if
you want to generate an eclipse for
application using Java X there is a
wizard on the new project JavaFX eclipse
for application and I'm it BBB now just
to give you an idea here
hello world finish what this guy is
generating for you are four projects it
generates an application project
generates a feature project a product
project and relying for release
engineering and the very cool thing is
it also generates the maiden title palms
for you so if you use the wizard the
built application all you need to do is
run as make them built and it creates an
eclipse for Java FX application which is
in the end packaged up using Java FX
packaging tools and out of that don't
make I get a dmg package at the end of
this process but this is all generated
for you from by the wizard so nothing
that you have to do yourself
the interesting project for us to
develop is that project at the moment
and then we open that you see a minimal
application model and this application
model there is nothing in there so the
first thing that the ad in here is a
window the window has you don't have to
do it if you follow on your on your
laptop because the project's important
already have done that it's just that
you understand what's going on so now we
have a minimal eclipse for application
model which has nothing more than a
window which is shown at point 2020 and
800 twice 600 we can now run this
application it has also generated for us
run a launch configuration if we launch
that yeah it opens a window which is 800
by 600 that's what we told it so never
window and below a window most eclipse
applications use perspectives so as the
child of the window we put a prospective
stack which allows us to put many
perspectives in there which we can flip
to change the perspectives its
perspective is something like eclipse
when you flip from here to there you see
flipping of perspectives and below
perspectives you can put a number of
perspectives yep
know that the question was is there a
built-in designer no that is not at the
moment so you're not designing it using
this tree editor at the moment but it
wouldn't be hard but if you come to my
lesson
tomorrow I have a session where I show
the integration of Java facts with all
the tooling stuff that we have so it
would be fairly easy to generate the
preview of the application at least it
won't be a visual designer like he
wouldn't interact directly but you get a
visual preview how the application would
look like at the moment it is not okay
so we have now an application which has
two perspectives let's get to our real
application so we already defined here
or I have already defined here for you
and application we need to flip I need
to flip to
team switch to sew
I have here a minimal eclipse for
application model once more we have
window and below the window we have a
perspective and in this perspective
stage we could create perspectives
so we could create our complete
application in this one central model
but the key thing about eclipses that
you write plugins and if you put them
together you get a big application so if
you would define how a complete
application in this one
efore XML file then it's a monolithic
big application so they have to have a
way to define applications not directly
in this application model but assemble
this application mode in memory using
different plugins and this is the
concept that we call a fragment so
then we look here we have this
perspective stacks which has a certain
high D and here we have a fragment and
if you look at the element ID this is
the same ID than the perspective
stacking so perspective stack point
seven perspective stack point Sara
so in this fragment we tell the system
where in the big big application mall we
want to insert additions like a
perspective a menu view so in here we
now create a new perspective in the
perspective we create a sash container
which splits the perspective
horizontally so left right in this
left-right split we put a part stack
which is a tax older and below the tap
folder the add a part and another part
and now to give them a name
whew
so I think she can make up in your mind
how the resulting up you I would look
like it splits the window into and puts
tech folders in their Beach site and
then the tab for us it adds one child
and then I run this application it looks
like this
so it splits the been going to left hand
if XML viewer right hand privy this is
what we are seeing in our application
mob as well sash stack yeah
cannot show them that once tab folders
and the tech folder has exactly one
chopped
now what you gonna have if this
application comes up we want us not
split the window exactly 50/50 but they
want to split it let's say thirty to
thirty to seventy and we do that by
defining in the container charter 30 and
70 oh wow 70 so when we start up once
more instead of nineteen fifty fifty it
will split forty seventy it's a ratio so
thirty seventy together 100%
well that's thirty to seventy okay now
we have defined our application all the
initial structure of our UI what's not
done yet and was not part of the
application model is the content of each
of this views it is not part of the
application model but this is done in
pure Java so if you look at the
application model a part allows you to
reference a Java class and in this Java
class you create your complete UI so
this is where you write your Java FX
code or your activity code or your swing
code I don't care I don't know what what
do you do what UI technology you're
using plan framework doesn't care as
well so this allows us to point to Java
classes so in this case we are having
implementations of Java classes already
I have already created them for you so
there is among you a class if there's a
model this class so when we go to
fragment it would normally attracted the
search in this AI package
we want to search not only in the
wreckage but in all references as well
and now the point
we point from our application model to
to Java classes so when the system loads
the application model and find such a
pod class it will create instance of the
class reference in here and how will
they create the instance it will use
context injection factory top make the
created instance of the class that we
pointed it to eat so let's implement the
left-hand side so this is where we show
a list of effects in our house that we
have wanna show so then we want to
create a UI we have the post construct
void in it and it gets a border pain all
of you know Java vaccine you never use
Java backs anybody in here no one okay
great so Java FX and have anybody used -
yes - ready okay so it has two routine
you have a composite and the composite
you put the layout on the composite
slightly quickly out the fill layout and
okay in Java fax it's a little bit
different so there are layout containers
there is a border pane which is similar
to the swing border pain border lay out
the swing looks the same elastic penis
there is a grit pain there is a stack
pain there is an anchor pain so there's
a certain pain for all the outs so we
don't have a chat Eric pain and then put
a layout on it but the layout is built
into the pain itself the most commonly
used pains are a stack pain I bought a
pain I don't know what the grid pain
probably be funny fall provide you a
border pain so if they look back to
dependence injection container what
we're doing then they create an eye
eclipse context for you
the first thing that the insert is
something under the key ciao FX scene
lay out Porter pain so if you annotate
something that had those construct they
would look up a border pain our
dependence injection container and
provided this border pain so that you
can put on your own controls on this
pain perfect so we have this border pain
so now we are back in pure Java packs we
have a ListView in our case it's a list
you of you are Alice you must feel
let's call it view and what we need as a
Content to elicit you is a private
observe able list of URL and they create
lists in Java fax using a collection
statutory we create an observe able
ArrayList the JavaFX at its heart has
observable lists and observer properties
those are built into JavaFX
so we are using them in here this too is
a java vex control of course very nice
feature of eclipse is and it's the only
idea that does that it navigates to the
source of your Java FX code no other IDE
I have tried IntelliJ and NetBeans does
that by default you have to configure it
to find other resources Eclipse that's a
tiny phone which is very nice when you
start debugging things right I mean I
thought IDs will show you the class file
you need to debug it unless you
configure it specially okay ListView and
in the ListView you call sack items to
put all items that you want to show in
the list now this would simply put out a
two string version law that the mechanic
can use it this way so last thing is you
need to take the list and put it as the
center of on the center of the board of
thing
so we got the border pane and we
teleporter pane that at the center of it
it should show our list Eve so in this
case the ListView will make up the
complete left-hand side we start
you now see it's white that's why the
list is empty not sure it doesn't show
anything on the right hand side for now
let's before we go on the to the right
hand side you want to populate this
guide with information so this is what
we're doing in the main application so
first you tell the window that it has a
main menu and in the main menu we had a
menu called file menu then in the file
menu we had handled many item which we
call open XML so launching the
application what do we get we get an
application which has a main menu which
has a menu item called F XML but you see
it's disabled the reason for this is
that I created a head of menu item and
how many item doesn't run code itself
but what it does it sends to the system
that wants to execute a command so in
this case it would be a command called
open so for how many item what we need
to do is we have to define the command
open perfectional
which is not enough the second thing you
need is not only a command but we have
to create a so-called handler this is
the real code that we want to execute
this handler is connected to a comment
and it wants more points to a Java class
so this Java class is already prepared
for you it is it is called open model
handler so we go find that Francis open
model handler so be connect the handler
to the command and they connect the
handled menu item to the same command so
we have now a hand menu item which
points to this command and you have a
handler that also points towards it and
now if we launch our application we have
the file menu
this guy has enabled and then I click it
nothing happens why does nothing
happened the reason is the open model
handler is empty at the moment but
you can have public void open model and
how do we tell the system to call this
method it doesn't know that I named it
open model but what does the system know
it knows about annotations and what
command always searches for in the
handler is a method named execute
perfect so now they want to show here a
file dialog so it's a file chooser see
this new file chooser see sets get
extension filters add new picks filter
effects ml and we need to tell it what
extensions those
during the import correct oh here it is
so so that's ordinary Java Xcode so C
dot show and now we have to show a
dialog but this dialog needs information
a dialog means an owner window so we
have to pass it the window that makes up
the application we have to pass it the
window instance that our application is
build on where do we get those
informations well don't think a lot just
always whenever you want something from
the system type it in the method name it
will magically most 90% of the time we
magically find out this information so
parent window perfect parent window open
so what we get back here is a file if
the file is not null we have to do
something
Oh bitch
okay
let's run the application file open
effects Emma oh it opens a dialog and it
allows me to open an ethics alpha okay
we should have gotten a file open output
perfect so next now the file is opened
they have inform others that we open a
new file and all informations that we
have in the clips are passed except for
passed around using a user using of an
event broker which is a publish and
subscribe event for us so we can send
out informations using this event bus so
in this case we get in our system we
need a so called eye event broker just
add it to the method we'll do the right
thing broker and then we have two
options the first one is we can call
sand on it or we can call post on it the
difference between salmon post is Sam is
sending the same in the even in the same
thread to be according it so it will
stop until all receivers have handled
the event post is launching a threat and
doing the sending in the next row fret
so it's sand is synchronous post is
asynchronous it does the standing for
example in this case it would send a
message out of the Java attacks
application fret and if you know Java
effects if we receive the event on the
other hand on the other side and we are
outside
JavaFX application thread the can
apparently call methods on JavaFX
telefax is a single threaded event UI
technology the same is true for swing
the same is true for as to rooty I think
all UI or frameworks that we have to
date our single threaded you can only
call methods on special on the special
event is that your friend
so if you use poast we need to take care
to sink back ourselves to the event
threat and receive information so we're
using sand in here and I have created
constants or any Forest Service
constants we are sending information
about this file to your Hall surround
that is a try-catch so we are now we
would now send out in the system that a
file has been opened so we spread the
information we now need on the other
hand somebody who subscribes to this
information and can use it in our case
the guy who is interested in this is our
model list our model list want to
subscribe to those topics so what it
does is have a file
Auckland what it does it makes map maker
uses a method can add add in check on
the method Danny goes in here and calls
you all
and now to subscribe to the event system
it uses an extra notation called UI
event topic the service constants topic
open this is how you subscribe to events
in the system so our handler sends the
event topic model file open and our
model list receives this event using add
in check and instead of using had named
in here he uses a special annotation
called UI event topic with the same
constant string that the other side sent
a random we are done observed list at
Google
as mistake so the problem that I've just
create in here was I marked something
with a detect and then the system finds
out when I put up there is no event
there is an information I could give you
so I have to tell the system that it's
optional so if there is no value please
don't call me this is why I put optional
in here if I now start on small start
without any exception file open open and
one guy sent the event we added this one
to the list and now we have entries in
the list
I'll open next entry is added so we're
receiving the event but open add this
guided observer the list the ListView is
observing the observer list and the
never the observer list changes it will
change its content so those are two you
all start adjusted a special thing about
yet yeah
yeah so well what listview is doing is
its users finding the several binding of
JavaFX
so we are using making use of that
itself as well you will see in a second
how we make very clever use of data path
of finding and in chav effects using
eclipse for but that's for in about 15
minutes we'll look at that okay so now
we have this fuel something very nice
office as well in all that's a special
feature of ethics Clips is here we we
catch an exception and we probably want
a lock the error so we need to get
access to a logger so to get access to a
lover in ethics Clips is nothing more
than calling a team checked the system
injects you a lover this point so lover
I put not great URL he so we using
dependency injection as well to retrieve
a logger from the system so internally
by default we would use Java util lock
but we also have integration into a lock
for che and I sub slf for chain so we
get all the logging stuff that you want
which is well it's a nice feature of
ethics clips that he don't have to deal
with the longing framework itself but
simply called headlock and the
dependency injection container will do
the right thing for you and provide you
a lower instance
yeah well the question is what does the
headlong and annotation comfort with me
go back to my slides when I talk about
the dependency injection container I
said that you can extend the dependency
injection container with your own
annotation by providing something called
an extended object supplier and that's
exactly what I've done here so I define
my own meditation I contributed in the
OS child service registry an extended
object supplier which handles this
annotation and send it depends injection
container knows about that okay good so
now we have our model open Navi balla
inform the next guide one implement is
the viewer
it's the right-hand side of the system
so instead of doing this using Java we
could and what most people do in Java
packs they define the UI using FX ml
which is a captive language FX ml as an
XML format so you have the border pain
and the nice feature of at ellipses that
editor is fully integrated into gdt so
you get all the Chava talk that you have
from the photo-paint class you will get
out of completion for features so it
knows that there's a background color or
data center attribute on the border pane
once more fully integrated with Java of
X for the java talk of T DT so what we
have for the clips as XML is a very
noisy language so most people use many
people use simply a Sim Sim builder to
define you guys I am NOT a friend of
this what is years of what they get
ratures
what I made for myself is a create a
small PSL which makes defining your eyes
a little bit easier with less noise than
XML it's called x-craft and the nice
thing is you get also out the completion
in here like for example in our case you
want to have a center in the center we
will have fewer 3d and on the left-hand
side we want to have a CH box with
Oriente so called orientation what is it
called tend to forget that now in one a
VBox epochs
and in the beatbox we have puppies
button button so now you have to make up
in our mind how the UI looks like and
now it's something but nobody have is
they have a live preview of the UI so on
the bottom you see me live editing the
UI text hello see down there there's the
eyes updated so we get an immediate
feedback how the resulting you I would
look like we need for partners and
instead of doing the wall in the buttons
we wanna have icons so instead of
putting the I can direct to David at a
style class in our case the star class
yes zoom in and now when I save watch
out you see the preview reflected this
change it contacted the CSS stylesheet
where everything is defined so to an
outer soon reset and I can remember what
is name was it is rotate
- at age oh it's above your button okay
that's personal coaching so this button
is a toggle
so the icons are not hard-coded in our
UI they are loaded from the CSS
stylesheet so this makes it female so
then we changed the style sheet we could
exchange two icons as well as well so
that's why they are in yes so then let's
and content note we add a box we have
high of 100 wife of hundred and a depth
of 100 so now we have a 3d model of a
box in our view
okay so this is how we define our UI so
we define our UI using a decorative
language and what you need to do next is
whenever we click the button we have to
connect the click event to a Java class
so that you can run java code for
example to zoom in and zoom out so
whenever we click the plus we want to
assume in and if you click the minus
they want to zoom out this is done by
connecting your UI to a so called
controller the controller is already
written in here but what's missing is
the connection to the buttons so we do
that by simply setting ID zoom in so out
then reset and
rotate pee now see yellow markers down
the coffee the reason for this is that
it tells us okay if there is zoom in it
expects a field in them in Java class
which is named the same so zoom out zoom
reset zoom rotate this will now create
fields in your java plug-in this
controller class which are annotated
using XML so when the little note the
XML file if we create an instance of
Model View control and fill out the
fields zoom in zoom out zoom reset and
zoom rotate with the button instances
that we have in our XML file and extract
is a special language to be created to
that Eclipse so to define the nice thing
about XML is to compile step extract
from files at 6 ml in the background so
at runtime there is no extra need for
something but we generate but simply an
easier of to me an easier way to define
you eyes it's more Chaves each object
rotation looking to me at least yeah
so it's a spec we could have we could
have done the same thing using effects
directly effects and all but it's as you
see it's a little more Malloy see you
have for style flowers you have use
sub-element
yeah we had a special mister fast
especially editor point yeah okay
but now the same thing would apply the
effects ml as well you have this
controller and you have the staff XML
fields which does the connection between
them so the first thing that we need to
do is we need to find the
rotate to the rotation of the viewer the
selected property fine be directional
there's one thing missing the viewer
naturally also needs an ID so we need to
find the view content rotate property
this is JavaFX binding so the zoom
rotate button has a selected property
but it's selected or not selected we are
finding this value to a property of the
viewer 3d control which is called
content rotate so when we toggle the
button it updates the content rotate
property which is a boolean property as
well and if it's set the true
the content is rotating and if it's set
the false the content is not rotating
this is JavaFX binding it so now the
model's amounts so well they now need is
when the when the
and the fuel on the cannot changes an
action down here I want to call out to
the right hand side and show the curve
the Selective effects allowed file on
the right hand side so I have to somehow
get the information or from here to the
right hand side first we naturally have
to load the FX alpha so to display the
UI on the right hand side we need to
load F X and alpha so to create the UI
here we have a post construct in it once
more and we get the border pain so what
the anab constructing is this area just
in this area what we are doing is we are
showing the effects and I'll file that
the just for the heck extract file that
we just created right so we want to show
this file on the right hand side this is
our mode of you applause which would use
FX ml loader load and now it needs
access to the plus cat resource
and it loads not at extract file at one
time it will load affects about so model
viewer affectional
so
get class cut resource we are in this
class get resource get them all of your
ethics in law this would try the load
effects in alpha but if we do it this
way it will fail the reason for that is
that we are in a violent called OSGi and
there is no peak the class the low noise
child every bundle has its own class
loader so then the ethics and a loader
would try to load at the model viewer
ethics in alpha it tries it would try to
create an instance of
model-view-controller but this will fail
in an always Jaguar environment because
ethics in a loader is part of the
extension class level so it only has
access so the staff is part of expansion
or bootstrap class loader but it will
not have access to our model viewer
controller class because this is not
part of the extension class level so we
have to trick a fictional loader locate
and this can be done once more using
special annotations and fixham a loader
ethic simple loader factory factory so
we cannot use the real ethics of our
loader we have to use a special one
which is factory then they can know
treat rest to relative and model viewer
F XML
look
so around riff - I catch of that's pset
Center
to cast it to a note so the reason that
we have it have to do it this way is
because of boys child disability rules
they cannot that have to use a fictional
loader you have to use something that
configures F XML loader to do the right
thing but now if we are starting we have
a very running
it loads the XML file and creates an
instance of view and if they talk to the
party because we have connected them it
will rotate the box you will have let us
look and it had from different angles
okay so
next last thing that you want to do is
to transfer information or open FX and
alpha
Kevin that when I select an element on
the left hand side I want to send
information about this element from the
left hand side to the right hand side
and show this model in here so we have
to transfer information from the left
hand to the right hand side how can we
do that
well we already know about one way to
transfer information from one element to
another the same that we did with the
open dialogue we could send out an event
that's one possibility
do it the other one is that we are
publishing this information in the I
Eclipse context so the first thing that
we create is we create an and a property
a chav affects property of URL
then the annotate this guy with had
inject and add condensed cat once more a
special annotation called context value
with the keymod resource we now have a
child of X property of type URL which
when used will push information under
the key model resource in the items
context the cool thing is now we can do
view or property bind view get selection
model selected items
if the selection in the view is changed
the selected item property will be
updated and what we are doing here is
defined this property to the selection
in the view seven ever we change the
selection of view it will update this
property and this property will go out
to the I eclipses context and push the
value there and what happens if a value
changes in the I eclipses context what
is done them it will redo all method
injections so
in our model controller
we annotate this method but we have
already the method in here so here is a
method called add in checked it is
marked as optional so if there is no
selection we get null
there is the key named model resource
compare that it's the same key we used
in here model resource and model
resource so when this guy publishes
information in the I Eclipse context
here we get read if we get the callback
or the dependence rejection container
will call once more active model
resource which we'll call current model
set which is a Java X property which
down here is observed and calls out to
update view
and an update viewer we are using more
service loads to our current model cat
and this is we were set content
look
maybe stick
what patients are quiet Oh
well I'm not sure of what's happening
now something is
yeah well I'm in the mall tomorrow I'm
here for eat restorative
but it it worked the first time I opened
it it worked right so that works so
there is
it doesn't work if I do this this guy
this guy is the problem
it's viewer
earth model get not not
better open F XML file cat and dot
oh yeah
it's not yet publishing this information
the reason for that for that is that we
have to tell the system about this
modern resource royale
and this is done in our application
model and we go here perspective we have
to define a list of all variables that
are available so we add this one here
and now we start I'll open Sangre
and now the URL is published on the left
hand side to the right hand side and we
now have our 3d model inside of you I
will miss yeah I commented out to find
it twice for breaking right so this this
guy
okay
so the last thing I want to show you is
how to do this
this animation stuff when I flip between
perspectives my initial application I
showed you how to do that and then we
are done for the day
so the first thing what I did I defined
a second bundle with a second fragment
so we have one more fragment which has a
perspective which only has instead of
splitting it in many parts it only has
one part so when I modify my launch
configuration and add this or when I
modify my feature and add here
configuration and launch once more they
don't see any difference yet because
what we need is I guess I threw to the
switch to the final solution
cause once more
so we now have this preference element
when we look at our configuration
element then we see that we have
multiple fragment objects appear
contributing we are contributing a
perspective to the perspective stack we
are contributing and many items have
many item with the label preferences to
then make the menu with the ID 1 if we
look at the application model we have
main menu which has a menu called file
which has the ID app menu 1 so in this
fragment we are contributing to add many
one ahead of many item called
preferences
which itself is once more connected to
the class to switch to theme helicopter
switch the thing that's wrong which is
connected to class called
switch perspective and to switch between
perspectives and accepts is done by
getting access to the so-called 'part
service and all this 'part service call
the method name switch perspective this
will switch from one perspective to the
other so when I execute preference
it will run this code you can switch to
the reference perspective and the only
UI that we have in here is to change
between with the perspective switch is
change how it looks like so when I close
this guy and speed the perspective to
switch back using a swipe gesture or
swipe transformation so how can we
create such a thing it's very easy
because all you need to do is you need
to contribute a service came to the into
the accepts for application and this way
case the service is called perspective
transition service so if the system
detects a perspective transition service
it will use that to flip between
perspectives but if all there is no
service so it will simply exchange them
and nothing will happen if we contribute
a perspective transition service it will
call this perspective transition service
and it will give you the container where
the perspective is located in
the control it wants to switch and what
we have in Eclipse or Netflix clips is
we have defined some small animations
for you we have three of them there is a
faint animation which fades between
notes there is the zoom slide animation
that we just saw and there is this page
change animation so those are pretty
finely made animations you could define
your own ones as well those are simple
the ones that we predefined for you but
that's all only contribute a new service
into the system and the system will
change itself so it falls the Eclipse
rules everything is a service if you're
not happy with the defaults contribute
your own one and override the default
implementation of that that's the main
point of all Eclipse for applications
okay that's it what I had to show I know
it was a lot of stuff hope you're still
fought until the end you have all the
sources of the project that I'm I've
used to you so take a look there if you
have questions ask them on our forum we
have a local forum at eclipse.org
they can ask questions and we help you
to write Java fax a pretty cool looking
Java X applications it's a really per
class application framework below it
which has every feature fairly every
feature that we ever wanted from friend
okay there's
okay the fasteners we'll be using style
Eclipse for libraries or something
special know that the core platform
itself is the same that is running in
the clips IDE what we have written
ourselves is the rendering framework
which exchanges activity the JavaFX
naturally because we are ending
everything in java facts but the core
platform is unknown if additives for the
users complete the same sources no
modification this one
it's this one
this shows the source of the ball well
I'm accent ball is this is the tree view
of this real father X my father's the
persistence format for our model which
is an XML file yeah the question the
question is but we have support for you
for functional testing we have support
for Chami but generally I think Johnny
is that we are trying to in the next
release we are trying to add support for
test effects but it's not there yet but
it's on the plan or a next version okay
the question is whether you can mix in
mix in swing into this Java bags
application platform and yes you can
since Java affects eighth you can embed
swing into Java FX using the so called
swing note the only problem is while the
performance I tried it and the promise
was not good answers more proud of Java
FX than of ethics Clips B provides
support for that so if you won't do that
it could embed swing into Java effects
this is the framework itself doesn't
care about that really yet so there
isn't it
they even have an integration layer
which adapt between Java FX at the swing
world so it is possible you can embed
spring and cello types
yeah so the question or the keep thing
or the the question was why do we have
properties like wife and high in ethics
graph right the law ethics track itself
does not define any properties those are
properties that the bucks and a manager
of X has so it will display all
properties that are part of of the Java
class so not sure that a pop Bovada
weisenheim in the Box are of CSS found
so it have to navigate to box and show
us get wet so what is right is not
viable to chart to CSS you see that well
if it could be controlled by CSS it
would have to use a simple CSS property
so Java X didn't define this property as
style of a for CSS so we cannot provide
that for you but if Java facts will do
that then it could do it so ethics track
itself uses reflection on the charm of
classes so all properties that you see
here are the properties that we have on
the Java class itself so we do you
haven't defined our own properties in
here
yes it's a blackboard it's it's an extra
plug-in that you install into eclipse
but its ethics clips it's the tooling
that we see here that I've used it's a
next plug-in that you can download and
install but it's an eclipse project so
we just did our one without release of
five weeks ago so you simply have to add
update site and install it into your
Clips ID
we even have all-in-one downloads for
you so you don't have to work with the
sometimes and that's the update research
in the clips research so if you go down
to the back there is WWF fix clip torque
which is the main sidebar fixed grips
where you find all information like the
back director advocate link to our forum
and there is link to external resources
which is hosted by our own company by my
own company and here you get downloads
you get all in one ten notes where you
have a prepackaged eclipse including a
ticket for git integration
it has sub clips for subversion
integration
it has mtoui for maven integration and
it has some parts of WP p which is
speaks of a little thing for F XML and
it has a pretty patties Clips itself as
a tooling platform for Java backs to it
next question
the question is whether you have the
same structure of applications that you
have SWT in the end that you have native
binaries for each platform test we
package it no you don't have because
Java acts is part of the chilli cake so
you simply package up the application
once and you are done
what we provide you provide the support
for using the java x packaging tool
suite which is not only creating an
application by also creates a launcher
which is native to the system so you'd
have to create much more than
application per system but you don't
well you don't necessarily have to do it
but if you use the java fix packaging
truesmith
which creates an installer for example
and set up excel or a dmg package then
then you have to do it once more for
each system but the platform itself
binary the lead for what we use is
always the same on each platform so no
different packaging no native components
in there ok so thanks for listening and
I hope you enjoyed the session</div></div><div class="container-fluid bottom-ad"><div id="amzn-assoc-ad-6a809dda-347a-4187-8a86-91faf94575da"></div><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=6a809dda-347a-4187-8a86-91faf94575da"></script></div><div class="text-center">We are a participant in the Amazon Services LLC Associates Program, an affiliate advertising program designed to provide a means for us to earn fees by linking to Amazon.com and affiliated sites.</div><script>(function(w, d){
    var b = d.getElementsByTagName('body')[0];
    var s = d.createElement("script"); s.async = true;
    var v = !("IntersectionObserver" in w) ? "8.6.0" : "10.4.2";
    s.src = "https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/" + v + "/lazyload.min.js";
    w.lazyLoadOptions = {};
    b.appendChild(s);
}(window, document));</script></body></html>